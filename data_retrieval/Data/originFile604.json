{"items":[{"tags":["java","spring","spring-boot","validation","spring-mvc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677839534,"post_id":75625892,"comment_id":133420577,"body_markdown":"the problem doesn&#39;t seem to be the validation, but rather the datatype and content you send as param. &quot;&quot; is an empty String, which can not be cast to a numerical type. What you can try, is to make the parameter a String, verify it&#39;s not empty in the method itself, and after that, cast it to a Long","body":"the problem doesn&#39;t seem to be the validation, but rather the datatype and content you send as param. &quot;&quot; is an empty String, which can not be cast to a numerical type. What you can try, is to make the parameter a String, verify it&#39;s not empty in the method itself, and after that, cast it to a Long"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677839889,"post_id":75625892,"comment_id":133420686,"body_markdown":"Actually I use Postman and normally I want to use default settings for Postman side. But, in this case, I think there is not an easy approach to solve this problem by using some validation or annotation). I do not want to make my Controller dirty with unnecessary validations and for this reason would like to solve the problem with an annotation. Any example please?","body":"Actually I use Postman and normally I want to use default settings for Postman side. But, in this case, I think there is not an easy approach to solve this problem by using some validation or annotation). I do not want to make my Controller dirty with unnecessary validations and for this reason would like to solve the problem with an annotation. Any example please?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677840066,"post_id":75625892,"comment_id":133420738,"body_markdown":"The problem is that the system seems to recognize it as an empty String. an empty String will not trigger a null validation.","body":"The problem is that the system seems to recognize it as an empty String. an empty String will not trigger a null validation."},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677840144,"post_id":75625892,"comment_id":133420762,"body_markdown":"Then, can we say that there is no need to validate this even for a best practices?","body":"Then, can we say that there is no need to validate this even for a best practices?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677840531,"post_id":75625892,"comment_id":133420867,"body_markdown":"you can adopt that, but what are you going to do if they pass &quot;yabbadabbadoo&quot; as parameter?","body":"you can adopt that, but what are you going to do if they pass &quot;yabbadabbadoo&quot; as parameter?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677841073,"post_id":75625892,"comment_id":133421024,"body_markdown":"Good point (&quot;yabbadabbadoo&quot;). At this stage, I am wondering what Java Developers normally do for this situations? Is there anything that I should follow?","body":"Good point (&quot;yabbadabbadoo&quot;). At this stage, I am wondering what Java Developers normally do for this situations? Is there anything that I should follow?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677842049,"post_id":75625892,"comment_id":133421301,"body_markdown":"it depends on the situation. is the path param for you always the last part of the endpoint? if so, mark it as not required, and check whether it is present within the method. you shouldn&#39;t worry to much about adding a line of code. The first (and most important) concern is functioning code, and if that requires an additional line of code, you should add it","body":"it depends on the situation. is the path param for you always the last part of the endpoint? if so, mark it as not required, and check whether it is present within the method. you shouldn&#39;t worry to much about adding a line of code. The first (and most important) concern is functioning code, and if that requires an additional line of code, you should add it"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677853183,"post_id":75625892,"comment_id":133424327,"body_markdown":"Show exactly what you mean by &quot;send request with null id parameter&quot;. Presumably, just `http://myhost/context-root/` ?","body":"Show exactly what you mean by &quot;send request with null id parameter&quot;. Presumably, just <code>http:&#47;&#47;myhost&#47;context-root&#47;</code> ?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677854941,"post_id":75625892,"comment_id":133424877,"body_markdown":"@dbreaux You do not need to force your brain too much. Just keep id field null when sending request on Postman.","body":"@dbreaux You do not need to force your brain too much. Just keep id field null when sending request on Postman."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677855154,"post_id":75625892,"comment_id":133424947,"body_markdown":"I&#39;m just suggesting that showing the actual URL you&#39;re hitting would make your question more clear. It&#39;s not really about Postman, but about what kind of URL you&#39;re trying to handle or ignore. Postman is just one tool people might or might not use.","body":"I&#39;m just suggesting that showing the actual URL you&#39;re hitting would make your question more clear. It&#39;s not really about Postman, but about what kind of URL you&#39;re trying to handle or ignore. Postman is just one tool people might or might not use."}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677839708,"creation_date":1677839708,"answer_id":75625964,"question_id":75625892,"body_markdown":"Another approach, which I pretty much always use for path &amp; normal params in the URL, is the following: Just use `String` for every parameter.\r\n\r\nAs URL is easily manipulable by any user, they can e.g. just enter &quot;.../sos&quot; instead of a valid number and you&#39;ll receive the same error.\r\n\r\nWhy? Everything in a URL is a String. When Spring Boot notices the controller accepting a Long as a parameter, it tries to parse it by itself.\r\n\r\nThis won&#39;t happen if you use a String, as previously mentioned: everything in the URL already is a String and SB won&#39;t need to parse it to any other datatype.\r\n\r\nI&#39;d recommend you to just have String parameters in your method aswell and then just do the parsing/converting manually via `.getById(Long.parseLong(id));`. \r\n\r\nThis way you can e.g. catch any parse exception and return an appropriate error message.","title":"Null check for a single id parameter on the Controller method","body":"<p>Another approach, which I pretty much always use for path &amp; normal params in the URL, is the following: Just use <code>String</code> for every parameter.</p>\n<p>As URL is easily manipulable by any user, they can e.g. just enter &quot;.../sos&quot; instead of a valid number and you'll receive the same error.</p>\n<p>Why? Everything in a URL is a String. When Spring Boot notices the controller accepting a Long as a parameter, it tries to parse it by itself.</p>\n<p>This won't happen if you use a String, as previously mentioned: everything in the URL already is a String and SB won't need to parse it to any other datatype.</p>\n<p>I'd recommend you to just have String parameters in your method aswell and then just do the parsing/converting manually via <code>.getById(Long.parseLong(id));</code>.</p>\n<p>This way you can e.g. catch any parse exception and return an appropriate error message.</p>\n"},{"tags":[],"owner":{"account_id":23391651,"reputation":31,"user_id":17456226,"display_name":"David Jebav&#253;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677840940,"creation_date":1677840940,"answer_id":75626157,"question_id":75625892,"body_markdown":"Not sure if it make sense to have @PathVariable  as @NotNull? \r\nBecause it&#39;s different url if it&#39;s null. So you could handle that with other endpoint @GetMapping(&quot;/&quot;)","title":"Null check for a single id parameter on the Controller method","body":"<p>Not sure if it make sense to have @PathVariable  as @NotNull?\nBecause it's different url if it's null. So you could handle that with other endpoint @GetMapping(&quot;/&quot;)</p>\n"},{"tags":[],"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677841498,"creation_date":1677841498,"answer_id":75626268,"question_id":75625892,"body_markdown":"You need to add values to **@GetMapping**, because URL will wait path with data, cuz data also means path. Also you need to add **@PathVariable(required = false)**, it means your address in mapping will not wait data, and can come **null** if you ust call ***&quot;/&quot;***, in your service you see null data for id, cuz calls another value for your path.\r\n\r\n    @GetMapping(value = {&quot;/{id}&quot;, &quot;&quot;})\r\n    public ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable(required = false) Long id) {\r\n        if (id == null) { // Do something when null\r\n            }\r\n            else {// do another thing\r\n            }\r\n            return &quot;your data&quot;;\r\n        }","title":"Null check for a single id parameter on the Controller method","body":"<p>You need to add values to <strong>@GetMapping</strong>, because URL will wait path with data, cuz data also means path. Also you need to add <strong>@PathVariable(required = false)</strong>, it means your address in mapping will not wait data, and can come <strong>null</strong> if you ust call <em><strong>&quot;/&quot;</strong></em>, in your service you see null data for id, cuz calls another value for your path.</p>\n<pre><code>@GetMapping(value = {&quot;/{id}&quot;, &quot;&quot;})\npublic ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable(required = false) Long id) {\n    if (id == null) { // Do something when null\n        }\n        else {// do another thing\n        }\n        return &quot;your data&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677842046,"creation_date":1677842046,"answer_id":75626375,"question_id":75625892,"body_markdown":"I suggest you check [this][1]\r\n especially sixth paragraph, where he explains which sort of constraints work for which datatypes. \r\n\r\n  [1]: https://www.codejava.net/frameworks/spring-boot/rest-api-request-validation-examples","title":"Null check for a single id parameter on the Controller method","body":"<p>I suggest you check <a href=\"https://www.codejava.net/frameworks/spring-boot/rest-api-request-validation-examples\" rel=\"nofollow noreferrer\">this</a>\nespecially sixth paragraph, where he explains which sort of constraints work for which datatypes.</p>\n"},{"tags":[],"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677842615,"creation_date":1677842615,"answer_id":75626461,"question_id":75625892,"body_markdown":"If you are using \r\n\r\n    @PathVariable(...)\r\n\r\nThey cannot be optional. This reflects the nature of path variables - it doesn&#39;t really make sense for them to be null. REST-style URLs always need the full URL path. If you have an optional component, consider use\r\n\r\n    @RequestParam(...)\r\n\r\ninstead.\r\n\r\nYou can use \r\n`@NotNull`\r\nin your entities itself.\r\n\r\n","title":"Null check for a single id parameter on the Controller method","body":"<p>If you are using</p>\n<pre><code>@PathVariable(...)\n</code></pre>\n<p>They cannot be optional. This reflects the nature of path variables - it doesn't really make sense for them to be null. REST-style URLs always need the full URL path. If you have an optional component, consider use</p>\n<pre><code>@RequestParam(...)\n</code></pre>\n<p>instead.</p>\n<p>You can use\n<code>@NotNull</code>\nin your entities itself.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75626461,"answer_count":5,"score":-1,"last_activity_date":1677842615,"creation_date":1677839315,"question_id":75625892,"body_markdown":"In a Spring Boot Controller, I am trying to validate an id field in `Long` type as shown below:\r\n\r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable @NotNull Long id) {\r\n    final EmployeeResponse response = employeeService.getById(id);\r\n    return ResponseEntity.ok(...);\r\n}\r\n```\r\n\r\nBut when I try to send request with null id parameter, ı get the following error:\r\n\r\n&gt;  &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: \\&quot;:id\\&quot;&quot;\r\n\r\nI also tried using `long` and `@Valid` annotation, but does not make any sense and a similar error is encountered. So, is it possible to validate id parameter of the request? ","title":"Null check for a single id parameter on the Controller method","body":"<p>In a Spring Boot Controller, I am trying to validate an id field in <code>Long</code> type as shown below:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable @NotNull Long id) {\n    final EmployeeResponse response = employeeService.getById(id);\n    return ResponseEntity.ok(...);\n}\n</code></pre>\n<p>But when I try to send request with null id parameter, ı get the following error:</p>\n<blockquote>\n<p>&quot;Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;:id&quot;&quot;</p>\n</blockquote>\n<p>I also tried using <code>long</code> and <code>@Valid</code> annotation, but does not make any sense and a similar error is encountered. So, is it possible to validate id parameter of the request?</p>\n"},{"tags":["java","trim"],"comments":[{"owner":{"account_id":3046198,"reputation":2660,"user_id":2581783,"display_name":"Rene M."},"score":0,"creation_date":1422016440,"post_id":28109968,"comment_id":44593820,"body_markdown":"The answer from ross is ok, but it&#39;s not null save. Which could be done by hand or for example using a simple lib like apache commons lang StringUtils which is nullsave.","body":"The answer from ross is ok, but it&#39;s not null save. Which could be done by hand or for example using a simple lib like apache commons lang StringUtils which is nullsave."}],"answers":[{"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1677842033,"creation_date":1422016321,"answer_id":28109995,"question_id":28109968,"body_markdown":"Trim it, using [trim][1] method of `String` which &quot;*Returns a copy of the string, with leading and trailing whitespace omitted.*&quot;\r\n\r\nNote that it *Returns a copy of the string* and doesn&#39;t edit the `String`\r\n\r\n    myString.trim()\r\n\r\n**Null Strings**\r\n\r\nAs @rmertins said, this is not &quot;null safe&quot;, meaning if your `String` is `null` it will throw a `NullPointerException` so if your `String` can be `null`, wrap it.\r\n\r\n    if (myString != null)\r\n    {\r\n      String newTrimmedString = myString.trim();\r\n    }\r\n\r\nImporting an entire library to do this one task like @rmertins said (i.e. [StringUtils][2] from apache commons) is just overkill I&#39;d say.  I would also say it&#39;s bad practice to pass around `null` objects anyhow and `null` `String` objects suggests bad design.\r\n\r\n**What is removed**\r\n\r\nIt&#39;s worth noting that @JohnyTex pointed out that all characters below \\u0020 are removed by `trim()` including carriage return and line-feed.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29\r\n  [2]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to trim a string from carriage returns in java","body":"<p>Trim it, using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29\" rel=\"nofollow noreferrer\">trim</a> method of <code>String</code> which &quot;<em>Returns a copy of the string, with leading and trailing whitespace omitted.</em>&quot;</p>\n<p>Note that it <em>Returns a copy of the string</em> and doesn't edit the <code>String</code></p>\n<pre><code>myString.trim()\n</code></pre>\n<p><strong>Null Strings</strong></p>\n<p>As @rmertins said, this is not &quot;null safe&quot;, meaning if your <code>String</code> is <code>null</code> it will throw a <code>NullPointerException</code> so if your <code>String</code> can be <code>null</code>, wrap it.</p>\n<pre><code>if (myString != null)\n{\n  String newTrimmedString = myString.trim();\n}\n</code></pre>\n<p>Importing an entire library to do this one task like @rmertins said (i.e. <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> from apache commons) is just overkill I'd say.  I would also say it's bad practice to pass around <code>null</code> objects anyhow and <code>null</code> <code>String</code> objects suggests bad design.</p>\n<p><strong>What is removed</strong></p>\n<p>It's worth noting that @JohnyTex pointed out that all characters below \\u0020 are removed by <code>trim()</code> including carriage return and line-feed.</p>\n"},{"tags":[],"owner":{"account_id":3128873,"reputation":1180,"user_id":2647192,"display_name":"allTwentyQuestions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422016588,"creation_date":1422016588,"answer_id":28110081,"question_id":28109968,"body_markdown":"Check out the [String.trim() method](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim())\r\n\r\n    String foo = &quot;\\n\\n  \\n\\t actual Value\\t\\n \\n &quot;;\r\n    System.out.println(foo.trim()); //prints &quot;actual Value&quot;\r\n\r\nAbout as simple and elegant as it gets. Keep in mind, though, that this will not only trim newline characters, but tabs, spaces, etc. as well.","title":"How to trim a string from carriage returns in java","body":"<p>Check out the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()\" rel=\"nofollow\">String.trim() method</a></p>\n\n<pre><code>String foo = \"\\n\\n  \\n\\t actual Value\\t\\n \\n \";\nSystem.out.println(foo.trim()); //prints \"actual Value\"\n</code></pre>\n\n<p>About as simple and elegant as it gets. Keep in mind, though, that this will not only trim newline characters, but tabs, spaces, etc. as well.</p>\n"},{"tags":[],"owner":{"account_id":1479712,"reputation":1568,"user_id":1389366,"accept_rate":71,"display_name":"icke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422016806,"creation_date":1422016806,"answer_id":28110162,"question_id":28109968,"body_markdown":"`String.trim()` will trim away white space at the beginning and end. That would probably be the quickest way. If you need to retain other white spaces and only want to remove the `\\n`, I think you would have to replace them manually.\r\n\r\nYou could try something along the lines of \r\n\r\n`myString = myString.replace(&quot;^(\\n)*&quot;,&quot;&quot;).replace(&quot;(\\n)*$&quot;,&quot;&quot;);`\r\n\r\n(I have not tried this code.)","title":"How to trim a string from carriage returns in java","body":"<p><code>String.trim()</code> will trim away white space at the beginning and end. That would probably be the quickest way. If you need to retain other white spaces and only want to remove the <code>\\n</code>, I think you would have to replace them manually.</p>\n\n<p>You could try something along the lines of </p>\n\n<p><code>myString = myString.replace(\"^(\\n)*\",\"\").replace(\"(\\n)*$\",\"\");</code></p>\n\n<p>(I have not tried this code.)</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547161003,"creation_date":1547161003,"answer_id":54138097,"question_id":28109968,"body_markdown":"If your string is potentially `null`, you might want to use [`StringUtils.trim()`][1] - the null-safe version of [`String.trim()`][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#trim-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim()","title":"How to trim a string from carriage returns in java","body":"<p>If your string is potentially <code>null</code>, you might want to use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#trim-java.lang.String-\" rel=\"nofollow noreferrer\"><code>StringUtils.trim()</code></a> - the null-safe version of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\"><code>String.trim()</code></a>.</p>\n"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3505,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":28109995,"answer_count":4,"score":2,"last_activity_date":1677842033,"creation_date":1422016216,"question_id":28109968,"body_markdown":"I have a string:\r\n\r\n    \\n\\n\\n\\Mytext is here\\n new line \\n\\n\r\n\r\nwith an unknown amount of \\n at the beginning and at the end.\r\n\r\nHow can I trim this string to \r\n\r\n    Mytext is here\\n new line \r\n\r\nin an elegant way?\r\n\r\nI know I could code this with my own function. But, perhaps there is a simple solution?\r\n","title":"How to trim a string from carriage returns in java","body":"<p>I have a string:</p>\n\n<pre><code>\\n\\n\\n\\Mytext is here\\n new line \\n\\n\n</code></pre>\n\n<p>with an unknown amount of \\n at the beginning and at the end.</p>\n\n<p>How can I trim this string to </p>\n\n<pre><code>Mytext is here\\n new line \n</code></pre>\n\n<p>in an elegant way?</p>\n\n<p>I know I could code this with my own function. But, perhaps there is a simple solution?</p>\n"},{"tags":["java","android","solar2d"],"answers":[{"tags":[],"owner":{"account_id":7395429,"reputation":154,"user_id":5627521,"accept_rate":25,"display_name":"Daniil Andashev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677841470,"creation_date":1677841470,"answer_id":75626262,"question_id":75613186,"body_markdown":"The problem was solved by adding org.gradle.jvmargs=-Xmx2000m in gradle.properties file.","title":"Solar2D add dependency for yookassa Java heap space error","body":"<p>The problem was solved by adding org.gradle.jvmargs=-Xmx2000m in gradle.properties file.</p>\n"}],"owner":{"account_id":7395429,"reputation":154,"user_id":5627521,"accept_rate":25,"display_name":"Daniil Andashev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677841470,"creation_date":1677747404,"question_id":75613186,"body_markdown":"I am trying to create a native android plugin for Solar 2D.\r\nWhen I add the dependency &quot;implementation &#39;ru.yoomoney.sdk.kassa.payments:yookassa-android-sdk:6.5.6&#39;&quot; to the build.gradle of the plugin module, an error appears when building the project - AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;java.lang.OutOfMemoryError: Java heap space&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}. And some file (java_pid6992.hprof) is pulled into the project, which weighs 700 MB. I can&#39;t understand, what that file is. Also, i tried to add the same dependency into a clean android project(not built from Solar), this file was not pulled and it worked fine. Please, help me.","title":"Solar2D add dependency for yookassa Java heap space error","body":"<p>I am trying to create a native android plugin for Solar 2D.\nWhen I add the dependency &quot;implementation 'ru.yoomoney.sdk.kassa.payments:yookassa-android-sdk:6.5.6'&quot; to the build.gradle of the plugin module, an error appears when building the project - AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;java.lang.OutOfMemoryError: Java heap space&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}. And some file (java_pid6992.hprof) is pulled into the project, which weighs 700 MB. I can't understand, what that file is. Also, i tried to add the same dependency into a clean android project(not built from Solar), this file was not pulled and it worked fine. Please, help me.</p>\n"},{"tags":["java","intellij-idea","compiler-errors","classpath"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677841928,"post_id":75626180,"comment_id":133421275,"body_markdown":"Could you please attach screenshot with Run configuration used?","body":"Could you please attach screenshot with Run configuration used?"}],"owner":{"account_id":1616411,"reputation":1094,"user_id":1493971,"accept_rate":50,"display_name":"explorer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677844547,"answer_count":0,"score":0,"last_activity_date":1677841428,"creation_date":1677841009,"question_id":75626180,"body_markdown":"I have a gradle project with multiple modules. In one of the modules I have a standalone java class and the src directory structure is like,\r\n\r\n&gt; Class/Student/java/com/test/Sample.java\r\n\r\n    package com.test;\r\n    \r\n    public class Sample {\r\n    \r\n    public static void main(String args[]){\r\n    &#160; &#160; System.out.println(&quot;Test&quot;);\r\n    }\r\n    }\r\n\r\n\r\nWhen I run the Sample class with my run config. I always have the error as ,\r\n\r\n&gt; Error: Could not find or load main class test.Sample\r\n\r\nI could see the Sample.class file existing in the current directory, after compilation !\r\n\r\nI also tried compiling &amp; running the class outside intellij, from terminal. I have the same error.\r\n\r\nI removed the package declaration from the file and then compile &amp; run it from terminal, it works.\r\n\r\n    public class Sample {\r\n    \r\n    public static void main(String args[]){\r\n        System.out.println(&quot;Test&quot;);\r\n    }\r\n    }\r\n\r\n\r\n\r\nAlready tried the solutions mentioned in these posts, but no luck,\r\n\r\n- [Error: Could not find or load main class in intelliJ IDE][1]\r\n- [Unable to find or load Main Class in Intellij 2019.4][2]\r\n\r\n\r\nCurrently using IntelliJ 2022.3.2 (Ultimate Edition). The same project has been imported by another user in eclipse, everything works. He could run the standalone java class successfully.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10654120/error-could-not-find-or-load-main-class-in-intellij-ide\r\n  [2]: https://stackoverflow.com/questions/59042676/unable-to-find-or-load-main-class-in-intellij-2019-4","title":"Error: Could not find or load main class - Intellij","body":"<p>I have a gradle project with multiple modules. In one of the modules I have a standalone java class and the src directory structure is like,</p>\n<blockquote>\n<p>Class/Student/java/com/test/Sample.java</p>\n</blockquote>\n<pre><code>package com.test;\n\npublic class Sample {\n\npublic static void main(String args[]){\n    System.out.println(&quot;Test&quot;);\n}\n}\n</code></pre>\n<p>When I run the Sample class with my run config. I always have the error as ,</p>\n<blockquote>\n<p>Error: Could not find or load main class test.Sample</p>\n</blockquote>\n<p>I could see the Sample.class file existing in the current directory, after compilation !</p>\n<p>I also tried compiling &amp; running the class outside intellij, from terminal. I have the same error.</p>\n<p>I removed the package declaration from the file and then compile &amp; run it from terminal, it works.</p>\n<pre><code>public class Sample {\n\npublic static void main(String args[]){\n    System.out.println(&quot;Test&quot;);\n}\n}\n</code></pre>\n<p>Already tried the solutions mentioned in these posts, but no luck,</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10654120/error-could-not-find-or-load-main-class-in-intellij-ide\">Error: Could not find or load main class in intelliJ IDE</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59042676/unable-to-find-or-load-main-class-in-intellij-2019-4\">Unable to find or load Main Class in Intellij 2019.4</a></li>\n</ul>\n<p>Currently using IntelliJ 2022.3.2 (Ultimate Edition). The same project has been imported by another user in eclipse, everything works. He could run the standalone java class successfully.</p>\n"},{"tags":["java","string","url"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677815826,"creation_date":1677815826,"answer_id":75623042,"question_id":75623024,"body_markdown":"You can use `\\d{10}` to match 10 consecutive digits in a regular expression. Use `RegExp#test` to check if a match is found.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let re = new RegExp(&#39;^https://x.example.com/example/1234\\\\?w=1080&amp;h=720&amp;cb=\\\\d{10}$&#39;);\r\n    console.log(re.test(&#39;https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890&#39;));\r\n    console.log(re.test(&#39;https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210&#39;));\r\n    console.log(re.test(&#39;https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489&#39;));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Regex for a specific URL that contains a random number","body":"<p>You can use <code>\\d{10}</code> to match 10 consecutive digits in a regular expression. Use <code>RegExp#test</code> to check if a match is found.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let re = new RegExp('^https://x.example.com/example/1234\\\\?w=1080&amp;h=720&amp;cb=\\\\d{10}$');\nconsole.log(re.test('https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890'));\nconsole.log(re.test('https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210'));\nconsole.log(re.test('https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1158344,"reputation":36,"user_id":1138373,"display_name":"Arron Dick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677816063,"creation_date":1677816063,"answer_id":75623054,"question_id":75623024,"body_markdown":"To match and capture the random digits:\r\n\r\n```\r\n^(https:\\/\\/x\\.example\\.com\\/example\\/1234\\?w=1080&amp;h=720&amp;cb=)(\\d+)$\r\n```\r\n\r\nYou need to escape all special characters, slashes, periods and the question mark\r\n\r\nSee here: https://regexr.com/79eva","title":"Regex for a specific URL that contains a random number","body":"<p>To match and capture the random digits:</p>\n<pre><code>^(https:\\/\\/x\\.example\\.com\\/example\\/1234\\?w=1080&amp;h=720&amp;cb=)(\\d+)$\n</code></pre>\n<p>You need to escape all special characters, slashes, periods and the question mark</p>\n<p>See here: <a href=\"https://regexr.com/79eva\" rel=\"nofollow noreferrer\">https://regexr.com/79eva</a></p>\n"}],"owner":{"account_id":11723490,"reputation":17,"user_id":8581648,"display_name":"KEAMCRF"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677876170,"accepted_answer_id":75623042,"answer_count":2,"score":-1,"last_activity_date":1677841404,"creation_date":1677815566,"question_id":75623024,"body_markdown":"I&#39;m trying to assert that a string containing a URL is the one I&#39;m expecting, but the last section of this is a random number. I did take a look into regex and tried a lot of patterns, but I haven&#39;t found the correct one. \r\n\r\nThe URL is something like this:\r\n`https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=??????????` This section is always the same: `https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=` and the `??????????` represent ten random digits. \r\n\r\nI can remove the first part and assert that the remaining is a 10-digit string, but I&#39;m looking for the regular expression to validate the complete URL.\r\n\r\nThese examples should match: \r\n```none\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1265678673\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=7899453773\r\n``` \r\n\r\nI&#39;m validating it with this code: \r\n```java\r\nassertTrue(&quot;URL: &quot; + result + &quot; expected: &quot; + expectedUrl, result.matches(expectedUrl));\r\n```\r\n`result`: the URL I need to match.\\\r\n`expectedUrl`: the regex expression.","title":"Regex for a specific URL that contains a random number","body":"<p>I'm trying to assert that a string containing a URL is the one I'm expecting, but the last section of this is a random number. I did take a look into regex and tried a lot of patterns, but I haven't found the correct one.</p>\n<p>The URL is something like this:\n<code>https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=??????????</code> This section is always the same: <code>https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=</code> and the <code>??????????</code> represent ten random digits.</p>\n<p>I can remove the first part and assert that the remaining is a 10-digit string, but I'm looking for the regular expression to validate the complete URL.</p>\n<p>These examples should match:</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1265678673\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=7899453773\n</code></pre>\n<p>I'm validating it with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertTrue(&quot;URL: &quot; + result + &quot; expected: &quot; + expectedUrl, result.matches(expectedUrl));\n</code></pre>\n<p><code>result</code>: the URL I need to match.<br />\n<code>expectedUrl</code>: the regex expression.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":2,"creation_date":1677826042,"post_id":75623891,"comment_id":133417428,"body_markdown":"If [CloudTrail event logging for S3 buckets and objects - Amazon Simple Storage Service](https://docs.aws.amazon.com/AmazonS3/latest/userguide/enable-cloudtrail-logging-for-s3.html) was enabled you&#39;d know which IAM identity deleted them.","body":"If <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/enable-cloudtrail-logging-for-s3.html\" rel=\"nofollow noreferrer\">CloudTrail event logging for S3 buckets and objects - Amazon Simple Storage Service</a> was enabled you&#39;d know which IAM identity deleted them."},{"owner":{"account_id":18059101,"reputation":9687,"user_id":13126651,"display_name":"Jatin Mehrotra"},"score":0,"creation_date":1677831950,"post_id":75623891,"comment_id":133418642,"body_markdown":"Cloudtrail logs is the only way to go","body":"Cloudtrail logs is the only way to go"}],"answers":[{"tags":[],"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677840715,"creation_date":1677840715,"answer_id":75626118,"question_id":75623891,"body_markdown":"You can enable (but of course is not retroactive) [S3 Server Access Logging][1] to log the detailed operations executed on a bucket.\r\n\r\n&gt; Server access logging provides detailed records for the requests that\r\n&gt; are made to a bucket. Server access logs are useful for many\r\n&gt; applications. For example, access log information can be useful in\r\n&gt; security and access audits. It can also help you learn about your\r\n&gt; customer base and understand your Amazon S3 bill.\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerLogs.html","title":"Retrieving reason for deletion in Amazon S3","body":"<p>You can enable (but of course is not retroactive) <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerLogs.html\" rel=\"nofollow noreferrer\">S3 Server Access Logging</a> to log the detailed operations executed on a bucket.</p>\n<blockquote>\n<p>Server access logging provides detailed records for the requests that\nare made to a bucket. Server access logs are useful for many\napplications. For example, access log information can be useful in\nsecurity and access audits. It can also help you learn about your\ncustomer base and understand your Amazon S3 bill.</p>\n</blockquote>\n"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75626118,"answer_count":1,"score":-1,"last_activity_date":1677840715,"creation_date":1677825507,"question_id":75623891,"body_markdown":"There&#39;s S3 used in the project but presumably some files were deleted. When I query S3 I get the following response:\r\n\r\n    4b3bc846-a737-4aec-84bf-734f798bca39\r\n    The specified key does not exist. (Service: Amazon S3; Status Code: 404; Error Code: NoSuchKey; Request ID: )\r\n\r\n\r\n I tried the following:\r\n\r\n 1. Studying the [Setting lifecycle configuration on a bucket][1] article. I used the Java AWS SDK  to get the lifecycle configuration:\r\n\r\n&gt; amazonS3Client.getBucketLifecycleConfiguration(bucketName).getRules();\r\n\r\n\r\nbut it resulted in an `AmazonS3Exception: A request you provided implies functionality that is not implemented`\r\n\r\n\r\n 2. Getting the bucket policy with `amazonS3Client.getBucketPolicy(bucketName).getPolicyText()` but it returned `null`.\r\n\r\n 3. Manually retrieving objects in the bucket and drawing a sensible conclusion (i.e. files that are older than x weeks/month/years are gone). But I found out that the dates are scattered (from 2018 to 2022).\r\n\r\n\r\nMy question is there any way to find exactly why the file was deleted? Maybe S3 logs history of files somewhere? Is there any other reason for deletion except for manual deletion?\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\r\n","title":"Retrieving reason for deletion in Amazon S3","body":"<p>There's S3 used in the project but presumably some files were deleted. When I query S3 I get the following response:</p>\n<pre><code>4b3bc846-a737-4aec-84bf-734f798bca39\nThe specified key does not exist. (Service: Amazon S3; Status Code: 404; Error Code: NoSuchKey; Request ID: )\n</code></pre>\n<p>I tried the following:</p>\n<ol>\n<li>Studying the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\" rel=\"nofollow noreferrer\">Setting lifecycle configuration on a bucket</a> article. I used the Java AWS SDK  to get the lifecycle configuration:</li>\n</ol>\n<blockquote>\n<p>amazonS3Client.getBucketLifecycleConfiguration(bucketName).getRules();</p>\n</blockquote>\n<p>but it resulted in an <code>AmazonS3Exception: A request you provided implies functionality that is not implemented</code></p>\n<ol start=\"2\">\n<li><p>Getting the bucket policy with <code>amazonS3Client.getBucketPolicy(bucketName).getPolicyText()</code> but it returned <code>null</code>.</p>\n</li>\n<li><p>Manually retrieving objects in the bucket and drawing a sensible conclusion (i.e. files that are older than x weeks/month/years are gone). But I found out that the dates are scattered (from 2018 to 2022).</p>\n</li>\n</ol>\n<p>My question is there any way to find exactly why the file was deleted? Maybe S3 logs history of files somewhere? Is there any other reason for deletion except for manual deletion?</p>\n"},{"tags":["java","spring","spring-boot","jclouds"],"comments":[{"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"score":0,"creation_date":1474457947,"post_id":39615376,"comment_id":66537628,"body_markdown":"Can you share `mvn dependency:tree` output","body":"Can you share <code>mvn dependency:tree</code> output"},{"owner":{"account_id":1473557,"reputation":487,"user_id":1384523,"display_name":"E3G"},"score":0,"creation_date":1638190224,"post_id":39615376,"comment_id":124013968,"body_markdown":"Check the version of jClouds which you are using. It might be that you are referencing a method not available in the version specified in your project.","body":"Check the version of jClouds which you are using. It might be that you are referencing a method not available in the version specified in your project."}],"answers":[{"tags":[],"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1474462451,"creation_date":1474462451,"answer_id":39617159,"question_id":39615376,"body_markdown":"This is a known issue in jclouds. See [JCLOUDS-1160](https://issues.apache.org/jira/browse/JCLOUDS-1160) and [JCLOUDS-1166](https://issues.apache.org/jira/browse/JCLOUDS-1166). Until those issues are fixed you won&#39;t be able to use jclouds with Spring Boot if you can&#39;t force a version of Gson &lt;= 2.5.\r\n\r\nAnother option is to use the `maven-shade-plugin` to shade the jclouds dependencies and bundle Gson in it. This way you should be able to use the Gson version your environment needs, while jclouds uses the shaded one.","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>This is a known issue in jclouds. See <a href=\"https://issues.apache.org/jira/browse/JCLOUDS-1160\" rel=\"noreferrer\">JCLOUDS-1160</a> and <a href=\"https://issues.apache.org/jira/browse/JCLOUDS-1166\" rel=\"noreferrer\">JCLOUDS-1166</a>. Until those issues are fixed you won't be able to use jclouds with Spring Boot if you can't force a version of Gson &lt;= 2.5.</p>\n\n<p>Another option is to use the <code>maven-shade-plugin</code> to shade the jclouds dependencies and bundle Gson in it. This way you should be able to use the Gson version your environment needs, while jclouds uses the shaded one.</p>\n"},{"tags":[],"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478163610,"creation_date":1478163610,"answer_id":40397339,"question_id":39615376,"body_markdown":"I initially struggled creating the ubar jar using the shaded plugin, and eventually got it working. For anyone else who may have struggled like me.\r\n\r\nFirst, create a new (empty) maven project.\r\n\r\nHere&#39;s my POM file which included apache jclouds an older version of Gson, and renamed the Gson package for use inside the final jar so it doesn&#39;t conflict with Gson in my main project (see the relocations section of the POM file).\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;relocations&gt;\r\n                                    &lt;relocation&gt;\r\n                                        &lt;pattern&gt;com.google.code.gson&lt;/pattern&gt;\r\n                                        &lt;shadedPattern&gt;com.shaded.code.gson&lt;/shadedPattern&gt;\r\n                                    &lt;/relocation&gt;\r\n                                &lt;/relocations&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAt the terminal, build the project to create the jar file.\r\n\r\n    mvn package\r\n\r\nFinally, copy the jar file into the root of your main project, in my case a spring boot web application. \r\n\r\nCreate a folder in the root of your project called &#39;maven-local-repo&#39;, and at the terminal execute the following command to install your newly created shaded jar file into the local repository of your project (obviously change the filename, artifact etc to match the shaded jar you created).\r\n\r\n    mvn deploy:deploy-file -DgroupId=digital.sheppard -DartifactId=jclouds-shaded -Dversion=1.0-SNAPSHOT -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=jclouds-shaded-1.0-SNAPSHOT.jar\r\n\r\nAdd your local repository to your POM file;\r\n\r\n    &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n                &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\nFinally add a dependency;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor me that worked like a charm.\r\n\r\n\r\n\r\n","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I initially struggled creating the ubar jar using the shaded plugin, and eventually got it working. For anyone else who may have struggled like me.</p>\n\n<p>First, create a new (empty) maven project.</p>\n\n<p>Here's my POM file which included apache jclouds an older version of Gson, and renamed the Gson package for use inside the final jar so it doesn't conflict with Gson in my main project (see the relocations section of the POM file).</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\n    &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\n            &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;relocations&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.google.code.gson&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;com.shaded.code.gson&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                            &lt;/relocations&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>At the terminal, build the project to create the jar file.</p>\n\n<pre><code>mvn package\n</code></pre>\n\n<p>Finally, copy the jar file into the root of your main project, in my case a spring boot web application. </p>\n\n<p>Create a folder in the root of your project called 'maven-local-repo', and at the terminal execute the following command to install your newly created shaded jar file into the local repository of your project (obviously change the filename, artifact etc to match the shaded jar you created).</p>\n\n<pre><code>mvn deploy:deploy-file -DgroupId=digital.sheppard -DartifactId=jclouds-shaded -Dversion=1.0-SNAPSHOT -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=jclouds-shaded-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p>Add your local repository to your POM file;</p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;local-maven-repo&lt;/id&gt;\n            &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n\n<p>Finally add a dependency;</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\n    &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For me that worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":2424487,"reputation":3103,"user_id":2116739,"accept_rate":25,"display_name":"okrunner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490157419,"creation_date":1490069476,"answer_id":42918300,"question_id":39615376,"body_markdown":"I switched my Java Code to use their raw HTTP API: \r\n\r\nhttps://support.rackspace.com/how-to/cloud-files-curl-cookbook/\r\n\r\ne.g.\r\n\r\n    public class CloudFilesClient {\r\n    \r\n      private final String username; \r\n      private final String apiKey;\r\n      private final RestTemplate rest = new RestTemplate();\r\n      \r\n      private static final String AUTH_URL      = &quot;https://auth.api.rackspacecloud.com/v1.1/auth&quot;;\r\n      \r\n      private static final String AUTH_DOCUMENT = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; + \r\n                                                  &quot;&lt;credentials xmlns=\\&quot;http://docs.rackspacecloud.com/auth/api/v1.1\\&quot; &quot; + \r\n                                                  &quot;             username=\\&quot;%s\\&quot; &quot; + \r\n                                                  &quot;             key=\\&quot;%s\\&quot; /&gt;&quot;;\r\n    \r\n      \r\n      private CloudFilesClient (String aUsername, String aApiKey) {\r\n        username = aUsername;\r\n        apiKey = aApiKey;\r\n      }\r\n     \r\n      public List&lt;Map&lt;String,Object&gt;&gt; listObjects (String aRegionName, String aContainerName) {\r\n        Map&lt;String, Object&gt; auth = auth();\r\n        Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;X-Auth-Token&quot;, token(auth));\r\n        HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\r\n        ResponseEntity&lt;List&gt; exchange = rest.exchange(((String)cloudFiles.get(&quot;publicURL&quot;))+&quot;/&quot;+aContainerName, HttpMethod.GET, e, List.class);\r\n        return exchange.getBody();\r\n      }\r\n      \r\n      public Map&lt;String,Object&gt; putObject (String aRegionName, String aContainerName, String aObjectName, String aLocalFilePath) throws IOException {\r\n        Map&lt;String, Object&gt; auth = auth();\r\n        Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\r\n        String token = token(auth);\r\n        File file = new File(aLocalFilePath);\r\n        Assert.isTrue(file.exists(),&quot;File not found: &quot; + aLocalFilePath);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;X-Auth-Token&quot;, token);\r\n        headers.setContentType(MediaType.valueOf(Files.probeContentType(file.toPath())));\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;Resource&gt; requestEntity = new HttpEntity&lt;&gt;(new FileSystemResource(file), headers);\r\n        ResponseEntity&lt;Map&gt; result = rest.exchange(((String)cloudFiles.get(&quot;publicURL&quot;))+&quot;/&quot;+aContainerName+&quot;/&quot;+aObjectName, HttpMethod.PUT, requestEntity,Map.class);\r\n        return result.getBody();\r\n      }\r\n      \r\n      public String getTemporaryUrl (String aRegionName, String aContainerName, String aObjectName) throws URISyntaxException {\r\n        String key = UUID.randomUUID().toString();\r\n        Map&lt;String, Object&gt; auth = auth();\r\n        Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;X-Auth-Token&quot;, token(auth));\r\n        headers.set(&quot;X-Account-Meta-Temp-Url-Key&quot;, key);\r\n        HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\r\n        rest.exchange(((String)cloudFiles.get(&quot;publicURL&quot;)), HttpMethod.POST, e, List.class);\r\n        String method = &quot;GET&quot;;\r\n        long expires = System.currentTimeMillis()/1000+3600;\r\n        URI endpoint = (new URI((String)cloudFiles.get(&quot;publicURL&quot;)));\r\n        String base = endpoint.getScheme()+&quot;://&quot;+endpoint.getHost();\r\n        String path = endpoint.getPath()+&quot;/&quot;+aContainerName+&quot;/&quot;+aObjectName;\r\n        String hmacBody = String.format(&quot;%s\\n%s\\n%s&quot;, method,expires,path);\r\n        String sig = HmacUtils.hmacSha1Hex(key, hmacBody);\r\n        return String.format(&quot;%s%s?temp_url_sig=%s&amp;temp_url_expires=%s&quot;,base, path, sig, expires);\r\n      }\r\n      \r\n      private Map&lt;String,Object&gt; auth () {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_XML);\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(String.format(AUTH_DOCUMENT,username,apiKey), headers);\r\n        ResponseEntity&lt;Map&gt; result = rest.exchange(AUTH_URL, HttpMethod.POST, requestEntity, Map.class);\r\n        Map&lt;String,Object&gt; body = result.getBody();\r\n        return (Map&lt;String, Object&gt;) body.get(&quot;auth&quot;);\r\n      }\r\n        \r\n      private Map&lt;String, Object&gt; cloudFiles (Map&lt;String,Object&gt; aAuth, String aRegionName) {\r\n        Map&lt;String, Object&gt; catalog = (Map&lt;String, Object&gt;) aAuth.get(&quot;serviceCatalog&quot;);\r\n        List&lt;Map&lt;String, Object&gt;&gt; cloudFiles = (List&lt;Map&lt;String, Object&gt;&gt;) catalog.get(&quot;cloudFiles&quot;);\r\n        Optional&lt;Map&lt;String, Object&gt;&gt; region = cloudFiles.stream().filter(r-&gt;r.get(&quot;region&quot;).equals(aRegionName)).findFirst();\r\n        Assert.isTrue(region.isPresent(),&quot;Unknown region: &quot; + aRegionName);\r\n        return region.get();\r\n      }\r\n      \r\n      private String token (Map&lt;String,Object&gt; aAuth) {\r\n        Map&lt;String, Object&gt; token = (Map&lt;String, Object&gt;) aAuth.get(&quot;token&quot;);\r\n        return (String)token.get(&quot;id&quot;);\r\n      }\r\n      \r\n      public static CloudFilesClient build (String aUsername, String aApiKey) {\r\n        return new CloudFilesClient(aUsername, aApiKey);\r\n      }\r\n      \r\n    }\r\n\r\n","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I switched my Java Code to use their raw HTTP API: </p>\n\n<p><a href=\"https://support.rackspace.com/how-to/cloud-files-curl-cookbook/\" rel=\"nofollow noreferrer\">https://support.rackspace.com/how-to/cloud-files-curl-cookbook/</a></p>\n\n<p>e.g.</p>\n\n<pre><code>public class CloudFilesClient {\n\n  private final String username; \n  private final String apiKey;\n  private final RestTemplate rest = new RestTemplate();\n\n  private static final String AUTH_URL      = \"https://auth.api.rackspacecloud.com/v1.1/auth\";\n\n  private static final String AUTH_DOCUMENT = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\" + \n                                              \"&lt;credentials xmlns=\\\"http://docs.rackspacecloud.com/auth/api/v1.1\\\" \" + \n                                              \"             username=\\\"%s\\\" \" + \n                                              \"             key=\\\"%s\\\" /&gt;\";\n\n\n  private CloudFilesClient (String aUsername, String aApiKey) {\n    username = aUsername;\n    apiKey = aApiKey;\n  }\n\n  public List&lt;Map&lt;String,Object&gt;&gt; listObjects (String aRegionName, String aContainerName) {\n    Map&lt;String, Object&gt; auth = auth();\n    Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(\"X-Auth-Token\", token(auth));\n    HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\n    ResponseEntity&lt;List&gt; exchange = rest.exchange(((String)cloudFiles.get(\"publicURL\"))+\"/\"+aContainerName, HttpMethod.GET, e, List.class);\n    return exchange.getBody();\n  }\n\n  public Map&lt;String,Object&gt; putObject (String aRegionName, String aContainerName, String aObjectName, String aLocalFilePath) throws IOException {\n    Map&lt;String, Object&gt; auth = auth();\n    Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\n    String token = token(auth);\n    File file = new File(aLocalFilePath);\n    Assert.isTrue(file.exists(),\"File not found: \" + aLocalFilePath);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(\"X-Auth-Token\", token);\n    headers.setContentType(MediaType.valueOf(Files.probeContentType(file.toPath())));\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;Resource&gt; requestEntity = new HttpEntity&lt;&gt;(new FileSystemResource(file), headers);\n    ResponseEntity&lt;Map&gt; result = rest.exchange(((String)cloudFiles.get(\"publicURL\"))+\"/\"+aContainerName+\"/\"+aObjectName, HttpMethod.PUT, requestEntity,Map.class);\n    return result.getBody();\n  }\n\n  public String getTemporaryUrl (String aRegionName, String aContainerName, String aObjectName) throws URISyntaxException {\n    String key = UUID.randomUUID().toString();\n    Map&lt;String, Object&gt; auth = auth();\n    Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(\"X-Auth-Token\", token(auth));\n    headers.set(\"X-Account-Meta-Temp-Url-Key\", key);\n    HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\n    rest.exchange(((String)cloudFiles.get(\"publicURL\")), HttpMethod.POST, e, List.class);\n    String method = \"GET\";\n    long expires = System.currentTimeMillis()/1000+3600;\n    URI endpoint = (new URI((String)cloudFiles.get(\"publicURL\")));\n    String base = endpoint.getScheme()+\"://\"+endpoint.getHost();\n    String path = endpoint.getPath()+\"/\"+aContainerName+\"/\"+aObjectName;\n    String hmacBody = String.format(\"%s\\n%s\\n%s\", method,expires,path);\n    String sig = HmacUtils.hmacSha1Hex(key, hmacBody);\n    return String.format(\"%s%s?temp_url_sig=%s&amp;temp_url_expires=%s\",base, path, sig, expires);\n  }\n\n  private Map&lt;String,Object&gt; auth () {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_XML);\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(String.format(AUTH_DOCUMENT,username,apiKey), headers);\n    ResponseEntity&lt;Map&gt; result = rest.exchange(AUTH_URL, HttpMethod.POST, requestEntity, Map.class);\n    Map&lt;String,Object&gt; body = result.getBody();\n    return (Map&lt;String, Object&gt;) body.get(\"auth\");\n  }\n\n  private Map&lt;String, Object&gt; cloudFiles (Map&lt;String,Object&gt; aAuth, String aRegionName) {\n    Map&lt;String, Object&gt; catalog = (Map&lt;String, Object&gt;) aAuth.get(\"serviceCatalog\");\n    List&lt;Map&lt;String, Object&gt;&gt; cloudFiles = (List&lt;Map&lt;String, Object&gt;&gt;) catalog.get(\"cloudFiles\");\n    Optional&lt;Map&lt;String, Object&gt;&gt; region = cloudFiles.stream().filter(r-&gt;r.get(\"region\").equals(aRegionName)).findFirst();\n    Assert.isTrue(region.isPresent(),\"Unknown region: \" + aRegionName);\n    return region.get();\n  }\n\n  private String token (Map&lt;String,Object&gt; aAuth) {\n    Map&lt;String, Object&gt; token = (Map&lt;String, Object&gt;) aAuth.get(\"token\");\n    return (String)token.get(\"id\");\n  }\n\n  public static CloudFilesClient build (String aUsername, String aApiKey) {\n    return new CloudFilesClient(aUsername, aApiKey);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213358,"reputation":91,"user_id":2245517,"display_name":"garypen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509556454,"creation_date":1509556454,"answer_id":47060244,"question_id":39615376,"body_markdown":"I know hardly anything about gradle, SpringBoot, or JClouds...\r\n\r\nWith those disclaimers out of the way, I hacked my gradle build file like so:\r\n\r\n    dependencies {\r\n    ...\r\n        // REQUIRED TO ALLOW JCLOUDS AND GSON TO PLAY NICELY.... XXX\r\n        compile &#39;com.google.code.gson:gson:2.5&#39;\r\n    ...\r\n    }\r\n\r\nand this seemed to have the effect of locking the GSON version to 2.5 which is the newest version that works with both JClouds and SpringBoot. With this hack in place, I can build and run my application.\r\n\r\n","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I know hardly anything about gradle, SpringBoot, or JClouds...</p>\n\n<p>With those disclaimers out of the way, I hacked my gradle build file like so:</p>\n\n<pre><code>dependencies {\n...\n    // REQUIRED TO ALLOW JCLOUDS AND GSON TO PLAY NICELY.... XXX\n    compile 'com.google.code.gson:gson:2.5'\n...\n}\n</code></pre>\n\n<p>and this seemed to have the effect of locking the GSON version to 2.5 which is the newest version that works with both JClouds and SpringBoot. With this hack in place, I can build and run my application.</p>\n"},{"tags":[],"owner":{"account_id":10791884,"reputation":53,"user_id":7940628,"display_name":"emolano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670930183,"creation_date":1670930183,"answer_id":74783988,"question_id":39615376,"body_markdown":"For those who strumbled upon this in early 2023, my jcloud version is 2.5.0, and I solved it by forcing gradle to use Gson 2.8.9. \r\n\r\n    configurations {\r\n        all {\r\n            resolutionStrategy {\r\n                force &#39;com.google.code.gson:gson:2.8.9&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nTake a look at the release notes of newer jcloud versions to see what&#39;s the lasted supported GSON version and try to use it. Sometimes Guava can also cause compatibility issues with Spring.","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>For those who strumbled upon this in early 2023, my jcloud version is 2.5.0, and I solved it by forcing gradle to use Gson 2.8.9.</p>\n<pre><code>configurations {\n    all {\n        resolutionStrategy {\n            force 'com.google.code.gson:gson:2.8.9'\n        }\n    }\n}\n</code></pre>\n<p>Take a look at the release notes of newer jcloud versions to see what's the lasted supported GSON version and try to use it. Sometimes Guava can also cause compatibility issues with Spring.</p>\n"},{"tags":[],"owner":{"account_id":26444600,"reputation":13,"user_id":20088596,"display_name":"gkhand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677840247,"creation_date":1677840247,"answer_id":75626051,"question_id":39615376,"body_markdown":"Below import worked for me:\r\n\r\n```\r\nimplementation &#39;com.google.code.gson:gson:2.8.9&#39;\r\n```","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>Below import worked for me:</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.9'\n</code></pre>\n"}],"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3945,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39617159,"answer_count":6,"score":5,"last_activity_date":1677840247,"creation_date":1474457460,"question_id":39615376,"body_markdown":"I&#39;m trying to integrate Apache Jclouds into a Spring Boot application I&#39;m working on so that I can upload files to Rackspace Cloud Files(UK).\r\n\r\nI&#39;ve created a class which I&#39;m creating as a Bean;\r\n\r\n    import com.google.common.io.ByteSource;\r\n    import com.google.common.io.Files;\r\n    import org.jclouds.ContextBuilder;\r\n    import org.jclouds.io.Payload;\r\n    import org.jclouds.io.Payloads;\r\n    import org.jclouds.openstack.swift.v1.features.ObjectApi;\r\n    import org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * Class WebStorage\r\n     *\r\n     */\r\n    public class WebStorage {\r\n    \r\n        private final String region = &quot;lon&quot;;\r\n        private final String provider = &quot;rackspace-cloudfiles-uk&quot;;\r\n    \r\n        private String username;\r\n        private String apiKey;\r\n        private String container;\r\n        private String url;\r\n    \r\n        private CloudFilesApi cloudFilesApi;\r\n    \r\n        public WebStorage(String username, String apiKey, String container, String url) {\r\n            this.username = username;\r\n            this.apiKey = apiKey;\r\n            this.container = container;\r\n            this.url = url;\r\n    \r\n            cloudFilesApi = ContextBuilder.newBuilder(provider)\r\n                    .credentials(this.username, this.apiKey)\r\n                    .buildApi(CloudFilesApi.class);\r\n        }\r\n    \r\n        /**\r\n         * Accepts a MultipartFile and returns it as a File\r\n         * @param multipartFile the MultiPartFile to convert\r\n         * @return a new File\r\n         */\r\n        public static File createFileFromMultipart(MultipartFile multipartFile) {\r\n            File file = new File(multipartFile.getOriginalFilename());\r\n    \r\n            try {\r\n                file.createNewFile();\r\n                FileOutputStream fos = new FileOutputStream(file);\r\n                fos.write(multipartFile.getBytes());\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return file;\r\n        }\r\n    \r\n        /**\r\n         * Send the file to the CDN and return it&#39;s full URL\r\n         * @param name the path/name of the file on the CDN\r\n         * @param theFile the file to upload to the CDN\r\n         * @return the full URL to the uploaded file on the CDN\r\n         */\r\n        public String put(String name, File theFile) {\r\n            ObjectApi objectApi = cloudFilesApi.getObjectApi(region, this.container);\r\n    \r\n            /* Upload the file */\r\n            ByteSource byteSource = Files.asByteSource(theFile);\r\n            Payload filePayload = Payloads.newByteSourcePayload(byteSource);\r\n            objectApi.put(name, filePayload);\r\n    \r\n            return this.url + name;\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m declaring the bean in the same place I&#39;m declaring all other beans (which work fine);\r\n\r\n    @Bean\r\n        public WebStorage storage() {\r\n            return new WebStorage(\r\n                    env.getProperty(&quot;voila.cdn.username&quot;),\r\n                    env.getProperty(&quot;voila.cdn.apikey&quot;),\r\n                    env.getProperty(&quot;voila.cdn.container&quot;),\r\n                    env.getProperty(&quot;voila.cdn.url&quot;)\r\n            );\r\n        }\r\n\r\nBut each time I run the application, the bean fails to load as a class not found error is generated when trying to create the bean.\r\n\r\n    2016-09-21 12:19:06.847 ERROR 14911 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;storage&#39;: Error creating bean with name &#39;storage&#39; defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;storage&#39; defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat com.appapi.VoilaApplication.main(VoilaApplication.java:12) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;storage&#39; defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 37 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.jclouds.json.internal.DeserializationConstructorAndReflectiveTypeAdapterFactory.&lt;init&gt;(DeserializationConstructorAndReflectiveTypeAdapterFactory.java:116) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.json.config.GsonModule.provideGson(GsonModule.java:129) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\r\n    \tat com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:104) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:204) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1024) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:179) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:109) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:95) ~[guice-3.0.jar:na]\r\n    \tat org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:402) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:326) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:644) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:636) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat com.appapi.helpers.WebStorage.&lt;init&gt;(WebStorage.java:49) ~[classes/:na]\r\n    \tat com.appapi.config.AppConfiguration.storage(AppConfiguration.java:41) ~[classes/:na]\r\n    \tat com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.CGLIB$storage$2(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038$$FastClassBySpringCGLIB$$59b0bc24.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.storage(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 38 common frames omitted\r\n\r\nI&#39;ve included version 1.9.2 of jclouds in my pom file;\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nIs someone able to tell my why I&#39;m getting a class not found error? I&#39;m not including any Google dependencies in my POM, so any that are available are being included by one of my dependencies.","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I'm trying to integrate Apache Jclouds into a Spring Boot application I'm working on so that I can upload files to Rackspace Cloud Files(UK).</p>\n\n<p>I've created a class which I'm creating as a Bean;</p>\n\n<pre><code>import com.google.common.io.ByteSource;\nimport com.google.common.io.Files;\nimport org.jclouds.ContextBuilder;\nimport org.jclouds.io.Payload;\nimport org.jclouds.io.Payloads;\nimport org.jclouds.openstack.swift.v1.features.ObjectApi;\nimport org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\n/**\n * Class WebStorage\n *\n */\npublic class WebStorage {\n\n    private final String region = \"lon\";\n    private final String provider = \"rackspace-cloudfiles-uk\";\n\n    private String username;\n    private String apiKey;\n    private String container;\n    private String url;\n\n    private CloudFilesApi cloudFilesApi;\n\n    public WebStorage(String username, String apiKey, String container, String url) {\n        this.username = username;\n        this.apiKey = apiKey;\n        this.container = container;\n        this.url = url;\n\n        cloudFilesApi = ContextBuilder.newBuilder(provider)\n                .credentials(this.username, this.apiKey)\n                .buildApi(CloudFilesApi.class);\n    }\n\n    /**\n     * Accepts a MultipartFile and returns it as a File\n     * @param multipartFile the MultiPartFile to convert\n     * @return a new File\n     */\n    public static File createFileFromMultipart(MultipartFile multipartFile) {\n        File file = new File(multipartFile.getOriginalFilename());\n\n        try {\n            file.createNewFile();\n            FileOutputStream fos = new FileOutputStream(file);\n            fos.write(multipartFile.getBytes());\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return file;\n    }\n\n    /**\n     * Send the file to the CDN and return it's full URL\n     * @param name the path/name of the file on the CDN\n     * @param theFile the file to upload to the CDN\n     * @return the full URL to the uploaded file on the CDN\n     */\n    public String put(String name, File theFile) {\n        ObjectApi objectApi = cloudFilesApi.getObjectApi(region, this.container);\n\n        /* Upload the file */\n        ByteSource byteSource = Files.asByteSource(theFile);\n        Payload filePayload = Payloads.newByteSourcePayload(byteSource);\n        objectApi.put(name, filePayload);\n\n        return this.url + name;\n    }\n\n}\n</code></pre>\n\n<p>I'm declaring the bean in the same place I'm declaring all other beans (which work fine);</p>\n\n<pre><code>@Bean\n    public WebStorage storage() {\n        return new WebStorage(\n                env.getProperty(\"voila.cdn.username\"),\n                env.getProperty(\"voila.cdn.apikey\"),\n                env.getProperty(\"voila.cdn.container\"),\n                env.getProperty(\"voila.cdn.url\")\n        );\n    }\n</code></pre>\n\n<p>But each time I run the application, the bean fails to load as a class not found error is generated when trying to create the bean.</p>\n\n<pre><code>2016-09-21 12:19:06.847 ERROR 14911 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'storage': Error creating bean with name 'storage' defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storage' defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at com.appapi.VoilaApplication.main(VoilaApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storage' defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 37 common frames omitted\nCaused by: java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.jclouds.json.internal.DeserializationConstructorAndReflectiveTypeAdapterFactory.&lt;init&gt;(DeserializationConstructorAndReflectiveTypeAdapterFactory.java:116) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.json.config.GsonModule.provideGson(GsonModule.java:129) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\n    at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:104) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:204) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1024) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:179) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:109) ~[guice-3.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:95) ~[guice-3.0.jar:na]\n    at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:402) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:326) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:644) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:636) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at com.appapi.helpers.WebStorage.&lt;init&gt;(WebStorage.java:49) ~[classes/:na]\n    at com.appapi.config.AppConfiguration.storage(AppConfiguration.java:41) ~[classes/:na]\n    at com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.CGLIB$storage$2(&lt;generated&gt;) ~[classes/:na]\n    at com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038$$FastClassBySpringCGLIB$$59b0bc24.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.storage(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 38 common frames omitted\n</code></pre>\n\n<p>I've included version 1.9.2 of jclouds in my pom file;</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\n            &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Is someone able to tell my why I'm getting a class not found error? I'm not including any Google dependencies in my POM, so any that are available are being included by one of my dependencies.</p>\n"},{"tags":["java","wiremock"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1654914561,"post_id":72581257,"comment_id":128212392,"body_markdown":"It says `INFO`. Have you tried setting the relevant logger to `WARN`?","body":"It says <code>INFO</code>. Have you tried setting the relevant logger to <code>WARN</code>?"}],"answers":[{"tags":[],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670437431,"creation_date":1654916483,"answer_id":72581416,"question_id":72581257,"body_markdown":"Thanks suggestion from [@chrylis](https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic)\r\n\r\nSolved by adding `logback-test.xml` under `/src/test/resources` folder with following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n    \r\n        &lt;!-- Turning down the wiremock logging --&gt;\r\n        &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;logger name=&quot;wiremock.org&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\r\n    \r\n        &lt;!-- wiremock has per endpoint servlet logging --&gt;\r\n        &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n       \r\nupdated: `logback-test.xml`","title":"Disable logging of WireMock","body":"<p>Thanks suggestion from <a href=\"https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic\">@chrylis</a></p>\n<p>Solved by adding <code>logback-test.xml</code> under <code>/src/test/resources</code> folder with following content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\n\n    &lt;!-- Turning down the wiremock logging --&gt;\n    &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;wiremock.org&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\n\n    &lt;!-- wiremock has per endpoint servlet logging --&gt;\n    &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\n&lt;/configuration&gt;\n\n   \n</code></pre>\n<p>updated: <code>logback-test.xml</code></p>\n"},{"tags":[],"owner":{"account_id":3953719,"reputation":1153,"user_id":3263041,"display_name":"Florian Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677840191,"creation_date":1677840191,"answer_id":75626043,"question_id":72581257,"body_markdown":"Using Spring Boot, you can simply add this configuration to `application-test.yml` file:\r\n\r\n    logging:\r\n      level:\r\n        WireMock: WARN","title":"Disable logging of WireMock","body":"<p>Using Spring Boot, you can simply add this configuration to <code>application-test.yml</code> file:</p>\n<pre><code>logging:\n  level:\n    WireMock: WARN\n</code></pre>\n"}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2048,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1677840191,"creation_date":1654913540,"question_id":72581257,"body_markdown":"I&#39;m using `@AutoConfigureWireMock(port = 0)` to init mock server.\r\n\r\nThis is the setup class written in Kotlin:\r\n\r\n    @AutoConfigureWireMock(port = 0)\r\n    @SpringBootTest(\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n    )\r\n    class MockServerBase {\r\n    \r\n        @Autowired\r\n        lateinit var mockServer: WireMockServer\r\n    \r\n        @BeforeEach\r\n        fun setUp() {\r\n            mockServer.start()\r\n        }\r\n\r\nIt&#39;s working fine, and I&#39;m seeing following log in console when running my test:\r\n\r\n    2022-06-11 11:58:14.639  INFO [...,,] 97733 --- [qtp630910066-62] WireMock                                 : Request received:\r\n    127.0.0.1 - GET /api/v1/.../objects/b4a67951-4408-424f-916b-66852b012160\r\n    \r\n    Authorization: [Bearer eyJraWQiOiJtaWNyb3NcL29zLXRlc3RlclwvMTY1Mjg1ODYyMiIsImFsZyI6IlJTMjU2In0.eyJhdWQiOiJ0ZHAtb3MiLCJuYmYiOjE2NTQ5MTI2OTQsImlzcyI6Im1pY3Jvc1wvb3MtdGVzdGVyIiwiZXhwIjoxNjU0OTEyNzU0LCJpYXQiOjE2NTQ5MTI2OTQsImp0aSI6ImU5MGNlMGI0LTlmMjMtNDJlNS1iMDc4LWU4MGE0ZWI5MzFjOCJ9.U35a8zPH8-HZeWwSKaFq2KDebLkdWz99YCxcs9qDBYcPCRn_s_BhKJLgu8OCq3s4MAC0VmGZS6JqRzvUa-qIqfoA3DT6LSoDoVRwEZycnlL3OP6PJ6nVz1u-zkaNHfz8mBQ-3xuPmDKRddBArcvMfb7LuM3n-Tv6d1hb87QnDHqWqyl9S976jd4QKd21ymm30LziW1QeJXAINcq6YRvJfTZ7AhdorwYy0AwhGE-LD8xqYjUJwuy-WQaHsuZ8oClGIm3mUy2su5yIVHwQEldI2Gxv9gefF6eH__e4bdWWPwaDtkN2_KKIEBJaVGk53292EuRzQixO5UCe3rIuP1X96A]\r\n    Accept: [application/json]\r\n    X-B3-SpanId: [b91171b9168b6d9c]\r\n    User-Agent: [ReactorNetty/1.0.17]\r\n    X-B3-Sampled: [1]\r\n    Host: [localhost:10441]\r\n    X-B3-TraceId: [b91171b9168b6d9c]\r\n    x-partition-id: [v1-test]\r\n    \r\n    \r\n    \r\n    Matched response definition:\r\n    {\r\n      &quot;status&quot; : 200,\r\n      &quot;body&quot; : &quot;{\\&quot;bucketKey\\&quot;:\\&quot;....\\&quot;,\\&quot;objectId\\&quot;:\\&quot;b4a67951-4408-424f-916b-66852b012160\\&quot;,\\&quot;partitionId\\&quot;:\\&quot;v1-test\\&quot;,\\&quot;currentVersion\\&quot;:\\&quot;1654912692121\\&quot;,\\&quot;checksum\\&quot;:\\&quot;OJEcxfNhApqHyPfrShDS\\&quot;,\\&quot;s3Etag\\&quot;:\\&quot;0Y5AwxkypfgbZ9mEyUa7og==-4\\&quot;,\\&quot;size\\&quot;:20971520,\\&quot;creationInfo\\&quot;:{\\&quot;by\\&quot;:\\&quot;o0m6CQM0Db\\&quot;,\\&quot;at\\&quot;:1654912692121},\\&quot;updateInfo\\&quot;:null}&quot;,\r\n      &quot;headers&quot; : {\r\n        &quot;Content-Type&quot; : &quot;application/json&quot;\r\n      }\r\n    }\r\n    \r\n    Response:\r\n    HTTP/1.1 200\r\n    Content-Type: [application/json]\r\n    Matched-Stub-Id: [e8be9cdb-0138-4490-a65f-07562812fedc]\r\n\r\n\r\nMy question is, can I turn this log off?\r\n\r\nThe reason is we are writing a performance test that passing a super long string in the header, the console is flooded with that string and sometimes even crashes VM.\r\n\r\nI did some searching and someone mentioned `ConsoleNotifier` in startup options, but with this `@AutoConfigureWireMock` annotation I don&#39;t know where to set the notifier.","title":"Disable logging of WireMock","body":"<p>I'm using <code>@AutoConfigureWireMock(port = 0)</code> to init mock server.</p>\n<p>This is the setup class written in Kotlin:</p>\n<pre><code>@AutoConfigureWireMock(port = 0)\n@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n)\nclass MockServerBase {\n\n    @Autowired\n    lateinit var mockServer: WireMockServer\n\n    @BeforeEach\n    fun setUp() {\n        mockServer.start()\n    }\n</code></pre>\n<p>It's working fine, and I'm seeing following log in console when running my test:</p>\n<pre><code>2022-06-11 11:58:14.639  INFO [...,,] 97733 --- [qtp630910066-62] WireMock                                 : Request received:\n127.0.0.1 - GET /api/v1/.../objects/b4a67951-4408-424f-916b-66852b012160\n\nAuthorization: [Bearer eyJraWQiOiJtaWNyb3NcL29zLXRlc3RlclwvMTY1Mjg1ODYyMiIsImFsZyI6IlJTMjU2In0.eyJhdWQiOiJ0ZHAtb3MiLCJuYmYiOjE2NTQ5MTI2OTQsImlzcyI6Im1pY3Jvc1wvb3MtdGVzdGVyIiwiZXhwIjoxNjU0OTEyNzU0LCJpYXQiOjE2NTQ5MTI2OTQsImp0aSI6ImU5MGNlMGI0LTlmMjMtNDJlNS1iMDc4LWU4MGE0ZWI5MzFjOCJ9.U35a8zPH8-HZeWwSKaFq2KDebLkdWz99YCxcs9qDBYcPCRn_s_BhKJLgu8OCq3s4MAC0VmGZS6JqRzvUa-qIqfoA3DT6LSoDoVRwEZycnlL3OP6PJ6nVz1u-zkaNHfz8mBQ-3xuPmDKRddBArcvMfb7LuM3n-Tv6d1hb87QnDHqWqyl9S976jd4QKd21ymm30LziW1QeJXAINcq6YRvJfTZ7AhdorwYy0AwhGE-LD8xqYjUJwuy-WQaHsuZ8oClGIm3mUy2su5yIVHwQEldI2Gxv9gefF6eH__e4bdWWPwaDtkN2_KKIEBJaVGk53292EuRzQixO5UCe3rIuP1X96A]\nAccept: [application/json]\nX-B3-SpanId: [b91171b9168b6d9c]\nUser-Agent: [ReactorNetty/1.0.17]\nX-B3-Sampled: [1]\nHost: [localhost:10441]\nX-B3-TraceId: [b91171b9168b6d9c]\nx-partition-id: [v1-test]\n\n\n\nMatched response definition:\n{\n  &quot;status&quot; : 200,\n  &quot;body&quot; : &quot;{\\&quot;bucketKey\\&quot;:\\&quot;....\\&quot;,\\&quot;objectId\\&quot;:\\&quot;b4a67951-4408-424f-916b-66852b012160\\&quot;,\\&quot;partitionId\\&quot;:\\&quot;v1-test\\&quot;,\\&quot;currentVersion\\&quot;:\\&quot;1654912692121\\&quot;,\\&quot;checksum\\&quot;:\\&quot;OJEcxfNhApqHyPfrShDS\\&quot;,\\&quot;s3Etag\\&quot;:\\&quot;0Y5AwxkypfgbZ9mEyUa7og==-4\\&quot;,\\&quot;size\\&quot;:20971520,\\&quot;creationInfo\\&quot;:{\\&quot;by\\&quot;:\\&quot;o0m6CQM0Db\\&quot;,\\&quot;at\\&quot;:1654912692121},\\&quot;updateInfo\\&quot;:null}&quot;,\n  &quot;headers&quot; : {\n    &quot;Content-Type&quot; : &quot;application/json&quot;\n  }\n}\n\nResponse:\nHTTP/1.1 200\nContent-Type: [application/json]\nMatched-Stub-Id: [e8be9cdb-0138-4490-a65f-07562812fedc]\n</code></pre>\n<p>My question is, can I turn this log off?</p>\n<p>The reason is we are writing a performance test that passing a super long string in the header, the console is flooded with that string and sometimes even crashes VM.</p>\n<p>I did some searching and someone mentioned <code>ConsoleNotifier</code> in startup options, but with this <code>@AutoConfigureWireMock</code> annotation I don't know where to set the notifier.</p>\n"},{"tags":["java","android","performance","android-profiler"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1674995761,"post_id":75274914,"comment_id":132829016,"body_markdown":"Why do you think &quot;the memory chart in profiler looks smooth&quot; is a sign of good code?","body":"Why do you think &quot;the memory chart in profiler looks smooth&quot; is a sign of good code?"},{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1674995851,"post_id":75274914,"comment_id":132829034,"body_markdown":"I read in the tutorial that the smoother chart the better. Nevermind, could you help me improving my code?","body":"I read in the tutorial that the smoother chart the better. Nevermind, could you help me improving my code?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1674995900,"post_id":75274914,"comment_id":132829043,"body_markdown":"Your memory graph looks healthy, there is nothing to improve.","body":"Your memory graph looks healthy, there is nothing to improve."}],"answers":[{"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677839881,"creation_date":1677839881,"answer_id":75625992,"question_id":75274914,"body_markdown":"You are creating a new bitmap and allocating new memory for it every time you call `Bitmap#createScaledBitmap` inside `CharacterCreator#draw`. Reassigning `imageResized` makes previously stored bitmap available for GC, so it gets collected in the next GC wave. You have basically two options for improving:\r\n\r\n - If you need `imageResized` somewhere else, then create new bitmap only when  your `getCurrentMoveBitmap()` changed. If possible, do it outside of `draw` function, as [it causes jank][1].\r\n - If you need `imageResized` just for drawing, then draw your bitmap directly using [`Canvas#drawBitmap(Bitmap,Rect,Rect,Paint)`][2]. It avoids memory allocations completely. You can do it like this:\r\n\r\n```\r\n    public void draw(Canvas canvas) {\r\n        Rect rect = new Rect(0, 0, 300, 300);\r\n        canvas.drawBitmap(getCurrentMoveBitmap(), null, rect, null);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/render#object_allocation_and_garbage_collection\r\n  [2]: https://developer.android.com/reference/android/graphics/Canvas#drawBitmap(android.graphics.Bitmap,%20android.graphics.Rect,%20android.graphics.Rect,%20android.graphics.Paint)\r\n","title":"Android modify code to make profiler memory chart looks smooth","body":"<p>You are creating a new bitmap and allocating new memory for it every time you call <code>Bitmap#createScaledBitmap</code> inside <code>CharacterCreator#draw</code>. Reassigning <code>imageResized</code> makes previously stored bitmap available for GC, so it gets collected in the next GC wave. You have basically two options for improving:</p>\n<ul>\n<li>If you need <code>imageResized</code> somewhere else, then create new bitmap only when  your <code>getCurrentMoveBitmap()</code> changed. If possible, do it outside of <code>draw</code> function, as <a href=\"https://developer.android.com/topic/performance/vitals/render#object_allocation_and_garbage_collection\" rel=\"nofollow noreferrer\">it causes jank</a>.</li>\n<li>If you need <code>imageResized</code> just for drawing, then draw your bitmap directly using <a href=\"https://developer.android.com/reference/android/graphics/Canvas#drawBitmap(android.graphics.Bitmap,%20android.graphics.Rect,%20android.graphics.Rect,%20android.graphics.Paint)\" rel=\"nofollow noreferrer\"><code>Canvas#drawBitmap(Bitmap,Rect,Rect,Paint)</code></a>. It avoids memory allocations completely. You can do it like this:</li>\n</ul>\n<pre><code>    public void draw(Canvas canvas) {\n        Rect rect = new Rect(0, 0, 300, 300);\n        canvas.drawBitmap(getCurrentMoveBitmap(), null, rect, null);\n    }\n</code></pre>\n"}],"owner":{"display_name":"user19516326"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75625992,"answer_count":1,"score":0,"last_activity_date":1677839881,"creation_date":1674995552,"question_id":75274914,"body_markdown":"I have custom view which draws bitmaps on canvas. I want to improve my code so the memory chart in profiler looks smooth. I want to know why there are such leaps and GC removing objects every few second. It&#39;s worth mentioning that if I remove `characterCreator.draw(canvas);` from draw() method then the chart is smooth. Here is how my chart looks like now:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd now the important code:\r\n\r\nCharacterCreatorView.java\r\n\r\n        @Override\r\n    public void draw(Canvas canvas) {\r\n        super.draw(canvas);\r\n\r\n        if(characterCreator != null)\r\n            characterCreator.draw(canvas);\r\n        invalidate();\r\n    }\r\n\r\nCharacterCreator.java\r\n\r\n    private static final int ROW_BOTTOM_TO_TOP = 8;\r\n    private static final int ROW_RIGHT_TO_LEFT = 9;\r\n    private static final int ROW_TOP_TO_BOTTOM = 10;\r\n    private static final int ROW_LEFT_TO_RIGHT = 11;\r\n\r\n    private static final int COL_COUNT = 13;\r\n    private static final int ROW_COUNT = 21;\r\n\r\n    private final Bitmap[] leftToRights;\r\n    private final Bitmap[] rightToLefts;\r\n    private final Bitmap[] topToBottoms;\r\n    private final Bitmap[] bottomToTops;\r\n\r\n    public CharacterCreator(Bitmap baseSprite) {\r\n        this.image = baseSprite;\r\n\r\n        this.widthAllCols = image.getWidth();\r\n        this.heightAllRows = image.getHeight();\r\n\r\n        this.widthOneFrame = this.widthAllCols / 13;\r\n        this.heightOneFrame = this.heightAllRows / ROW_COUNT;\r\n\r\n        this.topToBottoms = new Bitmap[COL_COUNT];\r\n        this.rightToLefts = new Bitmap[COL_COUNT];\r\n        this.leftToRights = new Bitmap[COL_COUNT];\r\n        this.bottomToTops = new Bitmap[COL_COUNT];\r\n\r\n        imageResized = Bitmap.createScaledBitmap(getMoveBitmaps()[0], 300, 300, false);\r\n    }\r\n\r\n    (...)\r\n\r\n    public void draw(Canvas canvas) {\r\n        imageResized = Bitmap.createScaledBitmap(getCurrentMoveBitmap(), 300, 300, false);\r\n    //        canvas.drawBitmap(imageResized, 0, 0, null);\r\n    }\r\n\r\n    public Bitmap getCurrentMoveBitmap() {\r\n        Bitmap[] bitmaps = this.getMoveBitmaps();\r\n        return bitmaps[this.colUsing];\r\n    }\r\n\r\n    public Bitmap[] getMoveBitmaps() {\r\n        switch (rowUsing) {\r\n            case ROW_BOTTOM_TO_TOP:\r\n                return this.bottomToTops;\r\n            case ROW_RIGHT_TO_LEFT:\r\n                return this.rightToLefts;\r\n            case ROW_TOP_TO_BOTTOM:\r\n                return this.topToBottoms;\r\n            case ROW_LEFT_TO_RIGHT:\r\n                return this.leftToRights;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tBizr.png","title":"Android modify code to make profiler memory chart looks smooth","body":"<p>I have custom view which draws bitmaps on canvas. I want to improve my code so the memory chart in profiler looks smooth. I want to know why there are such leaps and GC removing objects every few second. It's worth mentioning that if I remove <code>characterCreator.draw(canvas);</code> from draw() method then the chart is smooth. Here is how my chart looks like now:</p>\n<p><a href=\"https://i.stack.imgur.com/tBizr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBizr.png\" alt=\"enter image description here\" /></a></p>\n<p>And now the important code:</p>\n<p>CharacterCreatorView.java</p>\n<pre><code>    @Override\npublic void draw(Canvas canvas) {\n    super.draw(canvas);\n\n    if(characterCreator != null)\n        characterCreator.draw(canvas);\n    invalidate();\n}\n</code></pre>\n<p>CharacterCreator.java</p>\n<pre><code>private static final int ROW_BOTTOM_TO_TOP = 8;\nprivate static final int ROW_RIGHT_TO_LEFT = 9;\nprivate static final int ROW_TOP_TO_BOTTOM = 10;\nprivate static final int ROW_LEFT_TO_RIGHT = 11;\n\nprivate static final int COL_COUNT = 13;\nprivate static final int ROW_COUNT = 21;\n\nprivate final Bitmap[] leftToRights;\nprivate final Bitmap[] rightToLefts;\nprivate final Bitmap[] topToBottoms;\nprivate final Bitmap[] bottomToTops;\n\npublic CharacterCreator(Bitmap baseSprite) {\n    this.image = baseSprite;\n\n    this.widthAllCols = image.getWidth();\n    this.heightAllRows = image.getHeight();\n\n    this.widthOneFrame = this.widthAllCols / 13;\n    this.heightOneFrame = this.heightAllRows / ROW_COUNT;\n\n    this.topToBottoms = new Bitmap[COL_COUNT];\n    this.rightToLefts = new Bitmap[COL_COUNT];\n    this.leftToRights = new Bitmap[COL_COUNT];\n    this.bottomToTops = new Bitmap[COL_COUNT];\n\n    imageResized = Bitmap.createScaledBitmap(getMoveBitmaps()[0], 300, 300, false);\n}\n\n(...)\n\npublic void draw(Canvas canvas) {\n    imageResized = Bitmap.createScaledBitmap(getCurrentMoveBitmap(), 300, 300, false);\n//        canvas.drawBitmap(imageResized, 0, 0, null);\n}\n\npublic Bitmap getCurrentMoveBitmap() {\n    Bitmap[] bitmaps = this.getMoveBitmaps();\n    return bitmaps[this.colUsing];\n}\n\npublic Bitmap[] getMoveBitmaps() {\n    switch (rowUsing) {\n        case ROW_BOTTOM_TO_TOP:\n            return this.bottomToTops;\n        case ROW_RIGHT_TO_LEFT:\n            return this.rightToLefts;\n        case ROW_TOP_TO_BOTTOM:\n            return this.topToBottoms;\n        case ROW_LEFT_TO_RIGHT:\n            return this.leftToRights;\n        default:\n            return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring"],"answers":[{"tags":[],"owner":{"account_id":5913014,"reputation":31,"user_id":4652606,"display_name":"Gautam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677839274,"creation_date":1677839274,"answer_id":75625884,"question_id":75625669,"body_markdown":"you can use a JSON parsing library such as Gson, Jackson, or JSON.simple. Here is an example using Gson:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import com.google.gson.Gson;\r\n    import java.util.List;\r\n\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            String jsonString = &quot;[{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;John\\&quot;},{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;Jane\\&quot;}]&quot;;\r\n\r\n            // Parse JSON string to list of objects\r\n            Gson gson = new Gson();\r\n            List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\r\n\r\n            // Print list of objects\r\n            for (Person person : persons) {\r\n                System.out.println(person.getId() + &quot; &quot; + person.getName());\r\n            }\r\n        }\r\n\r\n        public static class Person {\r\n            private int id;\r\n            private String name;\r\n\r\n            public int getId() {\r\n                return id;\r\n            }\r\n\r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nimport com.google.gson.Gson;\r\nimport java.util.List;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;[{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;John\\&quot;},{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;Jane\\&quot;}]&quot;;\r\n\r\n        // Parse JSON string to list of objects\r\n        Gson gson = new Gson();\r\n        List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\r\n\r\n        // Print list of objects\r\n        for (Person person : persons) {\r\n            System.out.println(person.getId() + &quot; &quot; + person.getName());\r\n        }\r\n    }\r\n\r\n    public static class Person {\r\n        private int id;\r\n        private String name;\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nIn this example, we use the Gson library to parse the JSON string to a list of Person objects. The Person class is a simple POJO with id and name fields. After parsing the JSON string, we can iterate over the list of objects and print their fields. Note that we specify the List.class as the target class when calling gson.fromJson(), which tells Gson to parse the JSON string as a list of objects.\r\n","title":"convert a string of objects, from a jsonString","body":"<p>you can use a JSON parsing library such as Gson, Jackson, or JSON.simple. Here is an example using Gson:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import com.google.gson.Gson;\nimport java.util.List;\n\npublic class Example {\n    public static void main(String[] args) {\n        String jsonString = \"[{\\\"id\\\":1,\\\"name\\\":\\\"John\\\"},{\\\"id\\\":2,\\\"name\\\":\\\"Jane\\\"}]\";\n\n        // Parse JSON string to list of objects\n        Gson gson = new Gson();\n        List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\n\n        // Print list of objects\n        for (Person person : persons) {\n            System.out.println(person.getId() + \" \" + person.getName());\n        }\n    }\n\n    public static class Person {\n        private int id;\n        private String name;\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>import com.google.gson.Gson;\nimport java.util.List;</p>\n<p>public class Example {\npublic static void main(String[] args) {\nString jsonString = &quot;[{&quot;id&quot;:1,&quot;name&quot;:&quot;John&quot;},{&quot;id&quot;:2,&quot;name&quot;:&quot;Jane&quot;}]&quot;;</p>\n<pre><code>    // Parse JSON string to list of objects\n    Gson gson = new Gson();\n    List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\n\n    // Print list of objects\n    for (Person person : persons) {\n        System.out.println(person.getId() + &quot; &quot; + person.getName());\n    }\n}\n\npublic static class Person {\n    private int id;\n    private String name;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In this example, we use the Gson library to parse the JSON string to a list of Person objects. The Person class is a simple POJO with id and name fields. After parsing the JSON string, we can iterate over the list of objects and print their fields. Note that we specify the List.class as the target class when calling gson.fromJson(), which tells Gson to parse the JSON string as a list of objects.</p>\n"},{"tags":[],"owner":{"account_id":27693581,"reputation":1,"user_id":21139773,"display_name":"Temesgen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677839807,"creation_date":1677839807,"answer_id":75625980,"question_id":75625669,"body_markdown":"    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n    import javax.json.JsonReader;\r\n    import java.io.StringReader;\r\n    \r\n    String json_string = &quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;;\r\n    \r\n    JsonReader reader = Json.createReader(new StringReader(json_string));\r\n    JsonObject jsonObject = reader.readObject();\r\n    reader.close();\r\n    \r\n    JsonObject object = jsonObject.getJsonObject(&quot;object&quot;);\r\n    String a = jsonObject.getString(&quot;a&quot;);\r\n    \r\n    JsonObject innerObject = Json.createObjectBuilder()\r\n            .add(&quot;fname&quot;, object.getString(&quot;fname&quot;))\r\n            .add(&quot;lname&quot;, object.getString(&quot;lname&quot;))\r\n            .build();\r\n    \r\n    JsonObject result = Json.createObjectBuilder()\r\n            .add(&quot;a&quot;, a)\r\n            .add(&quot;object&quot;, innerObject)\r\n            .build();\r\n    \r\n    String resultString = result.toString();\r\n    System.out.println(resultString);\r\n\r\n","title":"convert a string of objects, from a jsonString","body":"<pre><code>import javax.json.Json;\nimport javax.json.JsonObject;\nimport javax.json.JsonReader;\nimport java.io.StringReader;\n\nString json_string = &quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;;\n\nJsonReader reader = Json.createReader(new StringReader(json_string));\nJsonObject jsonObject = reader.readObject();\nreader.close();\n\nJsonObject object = jsonObject.getJsonObject(&quot;object&quot;);\nString a = jsonObject.getString(&quot;a&quot;);\n\nJsonObject innerObject = Json.createObjectBuilder()\n        .add(&quot;fname&quot;, object.getString(&quot;fname&quot;))\n        .add(&quot;lname&quot;, object.getString(&quot;lname&quot;))\n        .build();\n\nJsonObject result = Json.createObjectBuilder()\n        .add(&quot;a&quot;, a)\n        .add(&quot;object&quot;, innerObject)\n        .build();\n\nString resultString = result.toString();\nSystem.out.println(resultString);\n</code></pre>\n"}],"owner":{"account_id":27925980,"reputation":1,"user_id":21325088,"display_name":"Shorya Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677842346,"answer_count":2,"score":0,"last_activity_date":1677839807,"creation_date":1677838028,"question_id":75625669,"body_markdown":"```\r\n&quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;\r\n```\r\n\r\nThis is my json string, i want to get a string from properties in above json string like this &quot;{&quot;a&quot;:&quot;b&quot;,&quot;object&quot;:{&quot;fname&quot;:&quot;Sho&quot;,&quot;lname&quot;:&quot;Sho&quot;}}&quot;, any idea how to do?\r\n\r\n\r\ni tried using field names but i m just getting fields and not able to get in hierarchy.","title":"convert a string of objects, from a jsonString","body":"<pre><code>&quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;\n</code></pre>\n<p>This is my json string, i want to get a string from properties in above json string like this &quot;{&quot;a&quot;:&quot;b&quot;,&quot;object&quot;:{&quot;fname&quot;:&quot;Sho&quot;,&quot;lname&quot;:&quot;Sho&quot;}}&quot;, any idea how to do?</p>\n<p>i tried using field names but i m just getting fields and not able to get in hierarchy.</p>\n"},{"tags":["java","jsp","jstl","taglib"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1677842245,"post_id":75625953,"comment_id":133421354,"body_markdown":"Please throw away the misplaced `c.tld` file and the taglib entry in `web.xml` and all the JARs associated with it such as `standard.jar` etc. They are **already** provided by the JBoss server (and actually also Weblogic server!!). You merely needed to replace `&lt;%@ taglib uri=&quot;/tags/jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;` by `&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;jstlc&quot; %&gt;` to utilize the server-provided JSTL functionality. See the currently top rated answer of the abovelinked duplicate for detailed explanation how exactly to properly install and configure JSTL.","body":"Please throw away the misplaced <code>c.tld</code> file and the taglib entry in <code>web.xml</code> and all the JARs associated with it such as <code>standard.jar</code> etc. They are <b>already</b> provided by the JBoss server (and actually also Weblogic server!!). You merely needed to replace <code>&lt;%@ taglib uri=&quot;&#47;tags&#47;jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;</code> by <code>&lt;%@ taglib uri=&quot;http:&#47;&#47;java.sun.com&#47;jsp&#47;jstl&#47;core&quot; prefix=&quot;jstlc&quot; %&gt;</code> to utilize the server-provided JSTL functionality. See the currently top rated answer of the abovelinked duplicate for detailed explanation how exactly to properly install and configure JSTL."}],"owner":{"account_id":4701263,"reputation":479,"user_id":3804769,"accept_rate":25,"display_name":"user3804769"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677842249,"answer_count":0,"score":0,"last_activity_date":1677839636,"creation_date":1677839636,"question_id":75625953,"body_markdown":"I am migrating an old application from WebLogic to JBoss EAP 7.4. One of my JSP pages is giving me this error:\r\n\r\n    ServletException in &#39;[mypage].jsp&#39;: value: javax.servlet.ServletException: java.lang.NoSuchFieldError: value\r\n    [...]\r\n    Caused by: java.lang.NoSuchFieldError: value\r\n\tat org.apache.taglibs.standard.tag.el.core.OutTag.evaluateExpressions(OutTag.java:137)\r\n    [...]\r\n\r\nThe JSP starts like this:\r\n\r\n    &lt;%@ taglib uri=&quot;/tags/struts-bean&quot; prefix=&quot;bean&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/tags/struts-html&quot; prefix=&quot;html&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/tags/jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;\r\n\r\nAnd it uses the other tags like html and bean just fine before using jstlc. I am sure it correctly reaches the jstlc definition because, before failing, it executes:\r\n\r\n    &lt;jstlc:forEach items=&quot;${myexpressionlist}&quot; var=&quot;myvariable&quot; &gt; //working\r\n\r\nBut then, the first times it contains an expression like this:\r\n\r\n    &lt;jstlc:out value=&quot;${myvariable.myfield}&quot; /&gt; //not working\r\n\r\nThe jsp crashes with the `java.lang.NoSuchFieldError: value` error. It looks like it recognizes the &quot;out&quot; tag in the jstlc library but it doesn&#39;t recognize the &quot;value&quot; attribute inside it? The c.tld file contains the following lines:\r\n\r\n    &lt;!DOCTYPE taglib\r\n      PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n      &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n    &lt;taglib&gt;\r\n      &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n      &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\r\n      &lt;short-name&gt;c&lt;/short-name&gt;\r\n      &lt;uri&gt;http://java.sun.com/jstl/core&lt;/uri&gt;\r\n      &lt;display-name&gt;JSTL core&lt;/display-name&gt;\r\n      &lt;description&gt;JSTL 1.0 core library&lt;/description&gt;\r\n    [......]\r\n    &lt;tag&gt;\r\n        &lt;name&gt;out&lt;/name&gt;\r\n        &lt;tag-class&gt;org.apache.taglibs.standard.tag.el.core.OutTag&lt;/tag-class&gt;\r\n        &lt;body-content&gt;JSP&lt;/body-content&gt;\r\n        &lt;description&gt;\r\n    \tLike &amp;lt;%= ... &amp;gt;, but for expressions.\r\n        &lt;/description&gt;\r\n        &lt;attribute&gt;\r\n            &lt;name&gt;value&lt;/name&gt;\r\n            &lt;required&gt;true&lt;/required&gt;\r\n            &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt;\r\n        &lt;/attribute&gt;\r\n        [...other attributes...]\r\n    &lt;/tag&gt;\r\n\r\nLastly, the web.xml file contains the following lines:\r\n\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/tags/jstl_core&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/tld/c.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n\r\nWhat could I do to solve the NoSuchFieldError issue?","title":"java.lang.NoSuchFieldError: value in JSP page","body":"<p>I am migrating an old application from WebLogic to JBoss EAP 7.4. One of my JSP pages is giving me this error:</p>\n<pre><code>ServletException in '[mypage].jsp': value: javax.servlet.ServletException: java.lang.NoSuchFieldError: value\n[...]\nCaused by: java.lang.NoSuchFieldError: value\nat org.apache.taglibs.standard.tag.el.core.OutTag.evaluateExpressions(OutTag.java:137)\n[...]\n</code></pre>\n<p>The JSP starts like this:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/tags/struts-bean&quot; prefix=&quot;bean&quot; %&gt;\n&lt;%@ taglib uri=&quot;/tags/struts-html&quot; prefix=&quot;html&quot; %&gt;\n&lt;%@ taglib uri=&quot;/tags/jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;\n</code></pre>\n<p>And it uses the other tags like html and bean just fine before using jstlc. I am sure it correctly reaches the jstlc definition because, before failing, it executes:</p>\n<pre><code>&lt;jstlc:forEach items=&quot;${myexpressionlist}&quot; var=&quot;myvariable&quot; &gt; //working\n</code></pre>\n<p>But then, the first times it contains an expression like this:</p>\n<pre><code>&lt;jstlc:out value=&quot;${myvariable.myfield}&quot; /&gt; //not working\n</code></pre>\n<p>The jsp crashes with the <code>java.lang.NoSuchFieldError: value</code> error. It looks like it recognizes the &quot;out&quot; tag in the jstlc library but it doesn't recognize the &quot;value&quot; attribute inside it? The c.tld file contains the following lines:</p>\n<pre><code>&lt;!DOCTYPE taglib\n  PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\n  &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\n&lt;taglib&gt;\n  &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n  &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\n  &lt;short-name&gt;c&lt;/short-name&gt;\n  &lt;uri&gt;http://java.sun.com/jstl/core&lt;/uri&gt;\n  &lt;display-name&gt;JSTL core&lt;/display-name&gt;\n  &lt;description&gt;JSTL 1.0 core library&lt;/description&gt;\n[......]\n&lt;tag&gt;\n    &lt;name&gt;out&lt;/name&gt;\n    &lt;tag-class&gt;org.apache.taglibs.standard.tag.el.core.OutTag&lt;/tag-class&gt;\n    &lt;body-content&gt;JSP&lt;/body-content&gt;\n    &lt;description&gt;\n    Like &amp;lt;%= ... &amp;gt;, but for expressions.\n    &lt;/description&gt;\n    &lt;attribute&gt;\n        &lt;name&gt;value&lt;/name&gt;\n        &lt;required&gt;true&lt;/required&gt;\n        &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n    [...other attributes...]\n&lt;/tag&gt;\n</code></pre>\n<p>Lastly, the web.xml file contains the following lines:</p>\n<pre><code>&lt;taglib&gt;\n    &lt;taglib-uri&gt;/tags/jstl_core&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/tld/c.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>What could I do to solve the NoSuchFieldError issue?</p>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests"],"comments":[{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1490355322,"post_id":42997732,"comment_id":73086620,"body_markdown":"provide full stack of exception..to under stand better","body":"provide full stack of exception..to under stand better"},{"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"score":0,"creation_date":1490355684,"post_id":42997732,"comment_id":73086825,"body_markdown":"stacktrace above","body":"stacktrace above"},{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1490355911,"post_id":42997732,"comment_id":73086968,"body_markdown":"check here DhpAbstractTest.java:348  there may some type and also check import is correct org.openqa.selenium.support.ui.Select","body":"check here DhpAbstractTest.java:348  there may some type and also check import is correct org.openqa.selenium.support.ui.Select"},{"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"score":0,"creation_date":1490356154,"post_id":42997732,"comment_id":73087147,"body_markdown":"The code above is taken directly from DhpAbstractTest and the code is called in my TestClass. The import is also correct.","body":"The code above is taken directly from DhpAbstractTest and the code is called in my TestClass. The import is also correct."},{"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"score":0,"creation_date":1490356346,"post_id":42997732,"comment_id":73087278,"body_markdown":"I have resolved this issue. I simply imported the latest selenium dependency in to my pom.xml. Still a strange issue but it is now fixed. Thanks for the help :)","body":"I have resolved this issue. I simply imported the latest selenium dependency in to my pom.xml. Still a strange issue but it is now fixed. Thanks for the help :)"}],"answers":[{"tags":[],"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490356438,"creation_date":1490356438,"answer_id":42998852,"question_id":42997732,"body_markdown":"This issue has been resolved by importing the latest selenium maven dependency in to my pom.xml. I still can&#39;t understand why this issue occurred as I have used it in other projects. The maven dependency to fix the issue:\r\n\r\n\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Selenium NoSuchMethodError","body":"<p>This issue has been resolved by importing the latest selenium maven dependency in to my pom.xml. I still can't understand why this issue occurred as I have used it in other projects. The maven dependency to fix the issue:</p>\n\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11513456,"reputation":61,"user_id":8955375,"display_name":"ian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528788374,"creation_date":1528711323,"answer_id":50795120,"question_id":42997732,"body_markdown":"I had same problem then I try to add dependency like `user3008643`&#39;s answer, but it still no working.\r\n\r\n`user3008643` said it works for him, so I looked my `pom.xml` carefully, then I found out something weird:\r\n\r\n**I had imported 3 version of selenium dependencies.**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0a7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIt&#39;s really nonsense, so I changed it to same version `3.12`.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAfter updated dependencies, the problem had been fixed.\r\n\r\nI think the problem is about dependencies, **you have to import the same version of dependencies.**","title":"Selenium NoSuchMethodError","body":"<p>I had same problem then I try to add dependency like <code>user3008643</code>'s answer, but it still no working.</p>\n\n<p><code>user3008643</code> said it works for him, so I looked my <code>pom.xml</code> carefully, then I found out something weird:</p>\n\n<p><strong>I had imported 3 version of selenium dependencies.</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n    &lt;version&gt;2.0a7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It's really nonsense, so I changed it to same version <code>3.12</code>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After updated dependencies, the problem had been fixed.</p>\n\n<p>I think the problem is about dependencies, <strong>you have to import the same version of dependencies.</strong></p>\n"},{"tags":[],"owner":{"account_id":26457023,"reputation":1,"user_id":20099493,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664472425,"creation_date":1664472425,"answer_id":73899520,"question_id":42997732,"body_markdown":"In my case constructor were causing this problem i removed it but later found out that i didn&#39;t make constructor public. Probably making constructor public would help. Selenium Java*","title":"Selenium NoSuchMethodError","body":"<p>In my case constructor were causing this problem i removed it but later found out that i didn't make constructor public. Probably making constructor public would help. Selenium Java*</p>\n"}],"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5476,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1677839558,"creation_date":1490353091,"question_id":42997732,"body_markdown":"I am writing an automated test framework and have already written a substantial amount. However, I have come across an error which I cannot seem to fix or find a solution for.\n\nThe problem occurs when selenium tries to answer a date question and select from a dropdown menu of dates. I have achieved this loads of times with no problems, but for some reason I get the error as displayed in the title. After trying to find a solution on google I decided to come here as there seems to be nothing out there that&#39;s similar.\n\nThe code where my automated test breaks is:\n\n\n    new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_d&quot;))).selectByVisibleText(&quot;4th&quot;);\n    \n    new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_m&quot;))).selectByIndex(4);\n        driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_y&quot;)).sendKeys(&quot;2017&quot;);\n        driver.findElement(By.id(&quot;AMOUNT_OF_DHP_WEEKLY&quot;)).sendKeys(&quot;50&quot;);\n    \n    new  Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_d&quot;))).getFirstSelectedOption();\n    \n    new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_m&quot;))).getFirstSelectedOption();\n    \n    driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_y&quot;)).sendKeys(&quot;2017&quot;);\n    clickNext();\n\nThe error occurs on the lines where the methods `selectByVisibleText` and `selectByIndex` is used. I have used these methods hundreds of times before with no issues.. When I run the tests in the browser with the Selenium IDE it executes with no problems. But as soon as the code is transferred across to Eclipse it doesnt work.\n\nThe only thing I can possibly think of is that I have converted the project from JUnit to TestNG.. Would this have any implications? I have done this before though without any issues.\n\nAny help would be greatly appreciated!\n\n## EDIT ##\n\nStacktrace:\n\n&gt;java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.setSelected()V\n&gt;\n&gt;at org.openqa.selenium.support.ui.Select.selectByVisibleText(Select.java:111)\n&gt;\n&gt;at   tns_automation.DHP_Forms.DhpAbstractTest.answerAmountOfDHPQuestion(DhpAbstractTest.java:348)\n&gt;\n&gt;at tns_automation.DHP.KnowsleyDHPTest.completeAssessmentFormAndBudgetToolBeforeDownloadingPDFFromInTrayWithCookiesEnabled(KnowsleyDHPTest.java:62)\n&gt;\n&gt;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n&gt;\n&gt;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n&gt;\n&gt;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n&gt;\n&gt;at java.lang.reflect.Method.invoke(Method.java:498)\n&gt;\n&gt;at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n&gt;\n&gt;at org.testng.internal.Invoker.invokeMethod(Invoker.java:661)\n&gt;\n&gt;at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)\n&gt;\n&gt;at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)\n&gt;\n&gt;at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)\n&gt;\n&gt;at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n&gt;\n&gt;at org.testng.TestRunner.privateRun(TestRunner.java:744)\n&gt;\n&gt;at org.testng.TestRunner.run(TestRunner.java:602)\n&gt;\n&gt;at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\n&gt;\n&gt;at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\n&gt;\n&gt;at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n&gt;\n&gt;at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n&gt;\n&gt;at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n&gt;\n&gt;at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n&gt;\n&gt;at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\n&gt;\n&gt;at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\n&gt;\n&gt;at org.testng.TestNG.runSuites(TestNG.java:1144)\n&gt;\n&gt;at org.testng.TestNG.run(TestNG.java:1115)\n&gt;\n&gt;at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:126)\n&gt;\n&gt;at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:152)\n&gt;\n&gt;at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:57)\n","title":"Selenium NoSuchMethodError","body":"<p>I am writing an automated test framework and have already written a substantial amount. However, I have come across an error which I cannot seem to fix or find a solution for.</p>\n<p>The problem occurs when selenium tries to answer a date question and select from a dropdown menu of dates. I have achieved this loads of times with no problems, but for some reason I get the error as displayed in the title. After trying to find a solution on google I decided to come here as there seems to be nothing out there that's similar.</p>\n<p>The code where my automated test breaks is:</p>\n<pre><code>new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_d&quot;))).selectByVisibleText(&quot;4th&quot;);\n\nnew Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_m&quot;))).selectByIndex(4);\n    driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_y&quot;)).sendKeys(&quot;2017&quot;);\n    driver.findElement(By.id(&quot;AMOUNT_OF_DHP_WEEKLY&quot;)).sendKeys(&quot;50&quot;);\n\nnew  Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_d&quot;))).getFirstSelectedOption();\n\nnew Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_m&quot;))).getFirstSelectedOption();\n\ndriver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_y&quot;)).sendKeys(&quot;2017&quot;);\nclickNext();\n</code></pre>\n<p>The error occurs on the lines where the methods <code>selectByVisibleText</code> and <code>selectByIndex</code> is used. I have used these methods hundreds of times before with no issues.. When I run the tests in the browser with the Selenium IDE it executes with no problems. But as soon as the code is transferred across to Eclipse it doesnt work.</p>\n<p>The only thing I can possibly think of is that I have converted the project from JUnit to TestNG.. Would this have any implications? I have done this before though without any issues.</p>\n<p>Any help would be greatly appreciated!</p>\n<h2>EDIT</h2>\n<p>Stacktrace:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.setSelected()V</p>\n<p>at org.openqa.selenium.support.ui.Select.selectByVisibleText(Select.java:111)</p>\n<p>at   tns_automation.DHP_Forms.DhpAbstractTest.answerAmountOfDHPQuestion(DhpAbstractTest.java:348)</p>\n<p>at tns_automation.DHP.KnowsleyDHPTest.completeAssessmentFormAndBudgetToolBeforeDownloadingPDFFromInTrayWithCookiesEnabled(KnowsleyDHPTest.java:62)</p>\n<p>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</p>\n<p>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</p>\n<p>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</p>\n<p>at java.lang.reflect.Method.invoke(Method.java:498)</p>\n<p>at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)</p>\n<p>at org.testng.internal.Invoker.invokeMethod(Invoker.java:661)</p>\n<p>at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)</p>\n<p>at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)</p>\n<p>at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)</p>\n<p>at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)</p>\n<p>at org.testng.TestRunner.privateRun(TestRunner.java:744)</p>\n<p>at org.testng.TestRunner.run(TestRunner.java:602)</p>\n<p>at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)</p>\n<p>at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)</p>\n<p>at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)</p>\n<p>at org.testng.SuiteRunner.run(SuiteRunner.java:289)</p>\n<p>at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)</p>\n<p>at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)</p>\n<p>at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)</p>\n<p>at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)</p>\n<p>at org.testng.TestNG.runSuites(TestNG.java:1144)</p>\n<p>at org.testng.TestNG.run(TestNG.java:1115)</p>\n<p>at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:126)</p>\n<p>at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:152)</p>\n<p>at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:57)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677683087,"post_id":75604723,"comment_id":133386599,"body_markdown":"Make sure the exception handler is in the same package as the controller(s), or a subpackage of the application main class.","body":"Make sure the exception handler is in the same package as the controller(s), or a subpackage of the application main class."},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677688545,"post_id":75604723,"comment_id":133388492,"body_markdown":"@E-Riz isn&#39;t there another solution? I am using a package for each feature and each feature has its own controller. I have updated my question, so you see my folder structure.","body":"@E-Riz isn&#39;t there another solution? I am using a package for each feature and each feature has its own controller. I have updated my question, so you see my folder structure."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677695170,"post_id":75604723,"comment_id":133390504,"body_markdown":"Where is your application&#39;s &quot;main&quot; class, where you initialize the `SpringApplication` and context? What package?","body":"Where is your application&#39;s &quot;main&quot; class, where you initialize the <code>SpringApplication</code> and context? What package?"},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677756709,"post_id":75604723,"comment_id":133402579,"body_markdown":"@E-Riz the main class is located in the root package of the project, which is `com.example.my_app`.","body":"@E-Riz the main class is located in the root package of the project, which is <code>com.example.my_app</code>."}],"answers":[{"tags":[],"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677683053,"creation_date":1677683053,"answer_id":75605485,"question_id":75604723,"body_markdown":"You need to make following changes in your ControllerAdvice:\r\n\r\n    @ControllerAdvice\r\n    @ResponseBody\r\n    public class ControllerExceptionHandler {\r\n\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n        public ErrorMessage handleValidationException(MethodArgumentNotValidException \r\n        ex, WebRequest request) {\r\n        ErrorMessage message = new ErrorMessage(...);\r\n        return message;\r\n       }\r\n    }\r\n\r\nThis will solve your problem.","title":"ExceptionHandler works in a controller but not in separate class","body":"<p>You need to make following changes in your ControllerAdvice:</p>\n<pre><code>@ControllerAdvice\n@ResponseBody\npublic class ControllerExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public ErrorMessage handleValidationException(MethodArgumentNotValidException \n    ex, WebRequest request) {\n    ErrorMessage message = new ErrorMessage(...);\n    return message;\n   }\n}\n</code></pre>\n<p>This will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":5896787,"reputation":5103,"user_id":4641680,"accept_rate":55,"display_name":"Reza Saadati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677839318,"creation_date":1677839318,"answer_id":75625893,"question_id":75604723,"body_markdown":"Since you have several exception handlers (based on your folder structure), you might use the annotation `@Order(Ordered.HIGHEST_PRECEDENCE)`. So try it that way:\r\n\r\n```java\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@RestControllerAdvice\r\npublic class ValidationExceptionHandler {\r\n    /**\r\n     * Validation Exception Handler\r\n     * @param ex Exception\r\n     * @return A response\r\n     */\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n}\r\n```\r\n\r\nBy using this annotation, your exception handler gets the highest priority and will be executed first, before any other exception handlers.","title":"ExceptionHandler works in a controller but not in separate class","body":"<p>Since you have several exception handlers (based on your folder structure), you might use the annotation <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code>. So try it that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@RestControllerAdvice\npublic class ValidationExceptionHandler {\n    /**\n     * Validation Exception Handler\n     * @param ex Exception\n     * @return A response\n     */\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n}\n</code></pre>\n<p>By using this annotation, your exception handler gets the highest priority and will be executed first, before any other exception handlers.</p>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75625893,"answer_count":2,"score":0,"last_activity_date":1677839318,"creation_date":1677679246,"question_id":75604723,"body_markdown":"I have a controller in Spring Boot 3, which looks like this:\r\n\r\n```java\r\n@PostMapping(&quot;/login&quot;)\r\npublic ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) {\r\n ...\r\n}\r\n```\r\n\r\nAs you see, I am using `@Valid` because of annotations that I use, such as `@Size(min = 8)` or `@Email`. Now I want to send a message, if an entity was invalid. To do this, I am using this exception handler:\r\n\r\n```java\r\n@ExceptionHandler(MethodArgumentNotValidException.class)\r\npublic ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n    ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n    return ResponseEntity.badRequest().body(errors);\r\n}\r\n```\r\n\r\nThis works fine, if that code is in my controller. This is the response that I get:\r\n```xml\r\n{\r\n    &quot;password&quot;: &quot;password length should be at least 8 characters&quot;,\r\n    &quot;username&quot;: &quot;username should be a valid email address&quot;\r\n}\r\n```\r\n\r\nBut I need this code in more than 1 controller. So instead of that, I have just created another class.\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class ValidationExceptionHandler {\r\n    /**\r\n     * Validation Exception Handler\r\n     * @param ex Exception\r\n     * @return A response\r\n     */\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n}\r\n```\r\n\r\nBut now it doesn&#39;t work. Instead, this is the response that I get:\r\n```xml\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Invalid request content.&quot;,\r\n    &quot;instance&quot;: &quot;/login&quot;\r\n}\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nThis is my folder structure:\r\n\r\n```\r\ncom.example.my_app\r\n  - auth\r\n    - AuthController\r\n    - AuthControllerAdvice\r\n  - config\r\n    - SecurityConfig\r\n  - exception\r\n    - ErrorResponse\r\n    - RestExceptionHandler\r\n    - ValidationExceptionHandler\r\n```\r\n","title":"ExceptionHandler works in a controller but not in separate class","body":"<p>I have a controller in Spring Boot 3, which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) {\n ...\n}\n</code></pre>\n<p>As you see, I am using <code>@Valid</code> because of annotations that I use, such as <code>@Size(min = 8)</code> or <code>@Email</code>. Now I want to send a message, if an entity was invalid. To do this, I am using this exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(MethodArgumentNotValidException.class)\npublic ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n    return ResponseEntity.badRequest().body(errors);\n}\n</code></pre>\n<p>This works fine, if that code is in my controller. This is the response that I get:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>{\n    &quot;password&quot;: &quot;password length should be at least 8 characters&quot;,\n    &quot;username&quot;: &quot;username should be a valid email address&quot;\n}\n</code></pre>\n<p>But I need this code in more than 1 controller. So instead of that, I have just created another class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class ValidationExceptionHandler {\n    /**\n     * Validation Exception Handler\n     * @param ex Exception\n     * @return A response\n     */\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n}\n</code></pre>\n<p>But now it doesn't work. Instead, this is the response that I get:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Invalid request content.&quot;,\n    &quot;instance&quot;: &quot;/login&quot;\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>This is my folder structure:</p>\n<pre><code>com.example.my_app\n  - auth\n    - AuthController\n    - AuthControllerAdvice\n  - config\n    - SecurityConfig\n  - exception\n    - ErrorResponse\n    - RestExceptionHandler\n    - ValidationExceptionHandler\n</code></pre>\n"},{"tags":["java","node.js","reactjs","firebase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677843302,"post_id":75625779,"comment_id":133421603,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19199549,"reputation":776,"user_id":14027764,"display_name":"Rituparna Warwatkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677839312,"creation_date":1677839312,"answer_id":75625891,"question_id":75625779,"body_markdown":"So usually in these cases when you get a token from the third party auth providers, here in case of firebase, Check for the validity of the token with the firebase using their token verification endpoint or if any library is available for nodejs, after the verification, you will find the payload of the token that contains the email id of the user\r\n\r\nNow using that email id, check against your database if that email exists or not.\r\nIf exists, then issue a new token of your own rest api and send it to the user.\r\n\r\nIf the email does not exist, create a new user from the data obtained from the payload, you will usually find first name, last name, email, and few other basic info about the user.\r\n\r\nThis way continue with the normal process of authentication.","title":"I have a frontend application which we do authentication using rest api. Now we want to add login with google functionality by using firebase","body":"<p>So usually in these cases when you get a token from the third party auth providers, here in case of firebase, Check for the validity of the token with the firebase using their token verification endpoint or if any library is available for nodejs, after the verification, you will find the payload of the token that contains the email id of the user</p>\n<p>Now using that email id, check against your database if that email exists or not.\nIf exists, then issue a new token of your own rest api and send it to the user.</p>\n<p>If the email does not exist, create a new user from the data obtained from the payload, you will usually find first name, last name, email, and few other basic info about the user.</p>\n<p>This way continue with the normal process of authentication.</p>\n"}],"owner":{"account_id":26740714,"reputation":21,"user_id":20341543,"display_name":"workK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677846204,"accepted_answer_id":75625891,"answer_count":1,"score":-3,"last_activity_date":1677839312,"creation_date":1677838637,"question_id":75625779,"body_markdown":"So how to handle the token that comes from firebase. The token generates by rest api and firebase are completely different. So how to authenticate the users who choose to login with google.\r\n\r\nSo the token is completely different from my rest api. Since secret key and algorithms are  completely different. My rest api return 401 code when I pass token that generated by firebase. Please help me. The backend is NodeJS","title":"I have a frontend application which we do authentication using rest api. Now we want to add login with google functionality by using firebase","body":"<p>So how to handle the token that comes from firebase. The token generates by rest api and firebase are completely different. So how to authenticate the users who choose to login with google.</p>\n<p>So the token is completely different from my rest api. Since secret key and algorithms are  completely different. My rest api return 401 code when I pass token that generated by firebase. Please help me. The backend is NodeJS</p>\n"},{"tags":["java","spring","spring-boot","api","rest"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1677837762,"post_id":75625597,"comment_id":133420106,"body_markdown":"Silly question, have you started your spring boot server?","body":"Silly question, have you started your spring boot server?"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677838062,"post_id":75625597,"comment_id":133420196,"body_markdown":"@PradeepSimha Yup, I have. That was the first thing I checked too. Did not stop until I saw the &quot;Tomcat started on port 6069&quot; message.","body":"@PradeepSimha Yup, I have. That was the first thing I checked too. Did not stop until I saw the &quot;Tomcat started on port 6069&quot; message."},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677839547,"post_id":75625597,"comment_id":133420579,"body_markdown":"I tried changing the `@RequestMapping` to `@GetMapping`, however I am getting a different error now: ```Error: write EPROTO 65166088:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:../../../../src/third_party/boringssl/src/ssl/tls_record.cc:242:```","body":"I tried changing the <code>@RequestMapping</code> to <code>@GetMapping</code>, however I am getting a different error now: <code>Error: write EPROTO 65166088:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:..&#47;..&#47;..&#47;..&#47;s&zwnj;&#8203;rc&#47;third_party&#47;borin&zwnj;&#8203;gssl&#47;src&#47;ssl&#47;tls_rec&zwnj;&#8203;ord.cc:242:</code>"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677838750,"creation_date":1677838750,"answer_id":75625797,"question_id":75625597,"body_markdown":"the problem in @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nyou should use @GetMapping.\r\n\r\n\r\nRequestMapping just for basic config on class level for inherited behavior.","title":"Why am I not able to access the REST API exposed by my service?","body":"<p>the problem in @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)</p>\n<p>you should use @GetMapping.</p>\n<p>RequestMapping just for basic config on class level for inherited behavior.</p>\n"},{"tags":[],"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677839105,"creation_date":1677839058,"answer_id":75625860,"question_id":75625597,"body_markdown":"Use \r\n\r\n    @GetMapping(&quot;/myApi&quot;)\r\ninstead of\r\n\r\n    @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nThis must resolve your issue.","title":"Why am I not able to access the REST API exposed by my service?","body":"<p>Use</p>\n<pre><code>@GetMapping(&quot;/myApi&quot;)\n</code></pre>\n<p>instead of</p>\n<pre><code>@RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>This must resolve your issue.</p>\n"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625860,"answer_count":2,"score":1,"last_activity_date":1677839105,"creation_date":1677837574,"question_id":75625597,"body_markdown":"I am trying to incorporate a few APIs into my existing spring-boot service, but I am not able to reach the APIs for some reason, when I try to access it from Postman. \r\n\r\nInitially I thought it might be because of missing dependencies, so I added the spring-boot-started-web dependency to my build.gradle\r\n\r\n```\r\nclasspath(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;1.5.8.RELEASE&#39;)\r\n``` \r\n\r\nMy next troubleshooting steps involved checking the annotations of my app. After checking them, I could not find any issues.\r\n\r\nThis is the annotations of my config class:\r\n\r\n```\r\n@Configuration\r\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, RibbonAutoConfiguration.class})\r\n@EnableScheduling\r\n@ComponentScan({&quot;com.example&quot;})\r\n@SpringBootApplication(exclude = { ErrorMvcAutoConfiguration.class })\r\npublic class MyApplication {\r\n      // Some code\r\n}\r\n```\r\nand this is my Controller class:\r\n```\r\n@RestController\r\npublic class MyApplication {\r\n\r\n       @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\r\n       public ResponseEntity&lt;String&gt; myApiHandler() {\r\n           return new ResponseEntity&lt;String&gt;(&quot;Successfully called API&quot;, HttpStatus.OK);\r\n       }\r\n}\r\n```\r\n\r\nI had also defined the port in the application.properties file as follows:\r\n```\r\nserver.port=6069\r\n```\r\n\r\nWhen I try to hit the following API from Postman, however, I am not able to get any response from the application:\r\n```\r\nlocalhost:6069/myApi\r\n```\r\n\r\nthis is the error I get:\r\n```\r\nError: connect ECONNREFUSED 127.0.0.1:6069\r\n```\r\n\r\nI am using Java 8, spring boot version 1.5.8 and Intellij IDE for development. Could you please let me know what I am missing? Any help is appreciated, thanks!","title":"Why am I not able to access the REST API exposed by my service?","body":"<p>I am trying to incorporate a few APIs into my existing spring-boot service, but I am not able to reach the APIs for some reason, when I try to access it from Postman.</p>\n<p>Initially I thought it might be because of missing dependencies, so I added the spring-boot-started-web dependency to my build.gradle</p>\n<pre><code>classpath(group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '1.5.8.RELEASE')\n</code></pre>\n<p>My next troubleshooting steps involved checking the annotations of my app. After checking them, I could not find any issues.</p>\n<p>This is the annotations of my config class:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, RibbonAutoConfiguration.class})\n@EnableScheduling\n@ComponentScan({&quot;com.example&quot;})\n@SpringBootApplication(exclude = { ErrorMvcAutoConfiguration.class })\npublic class MyApplication {\n      // Some code\n}\n</code></pre>\n<p>and this is my Controller class:</p>\n<pre><code>@RestController\npublic class MyApplication {\n\n       @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\n       public ResponseEntity&lt;String&gt; myApiHandler() {\n           return new ResponseEntity&lt;String&gt;(&quot;Successfully called API&quot;, HttpStatus.OK);\n       }\n}\n</code></pre>\n<p>I had also defined the port in the application.properties file as follows:</p>\n<pre><code>server.port=6069\n</code></pre>\n<p>When I try to hit the following API from Postman, however, I am not able to get any response from the application:</p>\n<pre><code>localhost:6069/myApi\n</code></pre>\n<p>this is the error I get:</p>\n<pre><code>Error: connect ECONNREFUSED 127.0.0.1:6069\n</code></pre>\n<p>I am using Java 8, spring boot version 1.5.8 and Intellij IDE for development. Could you please let me know what I am missing? Any help is appreciated, thanks!</p>\n"},{"tags":["java","android-studio","webview","push-notification"],"owner":{"account_id":2348139,"reputation":637,"user_id":2057781,"accept_rate":67,"display_name":"labu77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677838981,"creation_date":1677838981,"question_id":75625847,"body_markdown":"A App with webview has push notifications. The push notifications are declared in the file JavaScriptInterface.java. \r\n\r\n    showNotification(String title, String message, String imageUrl, String redirectUrl) \r\n\r\nThe link is inside of the redirectUrl and this redirectUrl is placed into intent.putExtra with this code:\r\n\r\n\r\n    Intent intent = new Intent(mContext, MainActivity.class);\r\n    intent.putExtra(&quot;redirectUrl&quot;,redirectUrl);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n\r\nThe redirectUrl is not empty, I checked it with:\r\n\r\n    Log.d(&quot;showNotification&quot;, &quot;Titel: &quot; + title + &quot;, Message: &quot; + message + &quot;, Image: &quot; + imageUrl + &quot;, Redirect-URL: &quot; + redirectUrl);\r\n\r\nSo everthing in JavaScriptInterface.java is working. Now move to the MainActitity.java file. \r\n\r\nI added this:\r\n\r\n    Intent intent = getIntent();\r\n        if (intent.getExtras() != null) {\r\n            String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\r\n            if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\r\n                mywebView.loadUrl(redirectUrl);\r\n                return;\r\n            }\r\n        }\r\n\r\ninfront of:\r\n\r\n    mywebView.loadUrl(&quot;https://www.example.com/&quot;);\r\n\r\nBut if I click on the notification, the link goes to the startspage instead of the custom redirectUrl.\r\n\r\n I checked the redirectUrl variable with this code:\r\n\r\n    \r\n        Intent intent = this.getIntent();\r\n\r\n        Bundle extras = intent.getExtras();\r\n        String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\r\n\r\n        if (redirectUrl != null) {\r\n            Log.d(&quot;MainActivity&quot;, &quot;Redirect URL found: &quot; + redirectUrl);\r\n            mywebView.loadUrl(redirectUrl);\r\n        } else {\r\n            Log.d(&quot;MainActivity&quot;, &quot;No redirect URL found / load index&quot;);\r\n            mywebView.loadUrl(&quot;https://www.example.com/&quot;);\r\n        }\r\n\r\nand its saying, that No redirect URL found / load index. \r\n\r\nWhy is the redirectUrl not available in the mainactitiy.java file?\r\n\r\nHere is my MainActivty.java File:\r\n\r\n    package com.example.ownapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    //for webviewpush\r\n    import android.webkit.JsPromptResult;\r\n    import android.webkit.JsResult;\r\n    import android.webkit.WebChromeClient;\r\n    \r\n    //for webviewpush redirect\r\n    import android.content.Intent;\r\n    import static android.content.ContentValues.TAG;\r\n    import android.util.Log;\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.webkit.ValueCallback;\r\n    \r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView mywebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mywebView=(WebView) findViewById(R.id.webview);\r\n            mywebView.setWebViewClient(new WebViewClient() {\r\n                public void onPageFinished(WebView view, String url) {\r\n                    view.evaluateJavascript(&quot;document.getElementById(&#39;darktrue&#39;) != null&quot;, new ValueCallback&lt;String&gt;() {\r\n                        @Override\r\n                        public void onReceiveValue(String value) {\r\n                            if (value.equals(&quot;true&quot;)) {\r\n                                // ID exists, change status bar color\r\n                                getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbardarkin));\r\n                            } else {\r\n                                getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbarlightin));\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n    \r\n    \r\n            });\r\n    \r\n    \r\n            //for webviewpush redirect\r\n            Intent intent = getIntent();\r\n            if (intent.getExtras() != null) {\r\n                String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\r\n                if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\r\n                    mywebView.loadUrl(redirectUrl);\r\n                    return;\r\n                }\r\n            }\r\n    \r\n            mywebView.loadUrl(&quot;https://www.example.com&quot;);\r\n            WebSettings webSettings=mywebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setDomStorageEnabled(true);\r\n            MobileAds.registerWebView(mywebView);\r\n    \r\n            //for webviewpush\r\n            mywebView.addJavascriptInterface(new JavaScriptInterface(this),&quot;AndroidFunction&quot;);\r\n            mywebView.setWebChromeClient(new WebChromeClient(){\r\n                @Override\r\n                public boolean onJsAlert(WebView view, String url, String message, JsResult result) {\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onJsConfirm(WebView view, String url, String message, JsResult result) {\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onJsPrompt(WebView view, String url, String message, String defaultValue, JsPromptResult result) {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    \r\n        private Map&lt;String, String&gt; getHeaders() {\r\n            Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n            headers.put(&quot;Custom-Header&quot;, &quot;value&quot;);\r\n            return headers;\r\n        }\r\n    \r\n        public class mywebClient extends WebViewClient {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view,url,favicon);\r\n            }\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (mywebView.canGoBack()) {\r\n                mywebView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThank you very much","title":"Custom URL Link in pushnotification / Android Studio Webview","body":"<p>A App with webview has push notifications. The push notifications are declared in the file JavaScriptInterface.java.</p>\n<pre><code>showNotification(String title, String message, String imageUrl, String redirectUrl) \n</code></pre>\n<p>The link is inside of the redirectUrl and this redirectUrl is placed into intent.putExtra with this code:</p>\n<pre><code>Intent intent = new Intent(mContext, MainActivity.class);\nintent.putExtra(&quot;redirectUrl&quot;,redirectUrl);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nintent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n</code></pre>\n<p>The redirectUrl is not empty, I checked it with:</p>\n<pre><code>Log.d(&quot;showNotification&quot;, &quot;Titel: &quot; + title + &quot;, Message: &quot; + message + &quot;, Image: &quot; + imageUrl + &quot;, Redirect-URL: &quot; + redirectUrl);\n</code></pre>\n<p>So everthing in JavaScriptInterface.java is working. Now move to the MainActitity.java file.</p>\n<p>I added this:</p>\n<pre><code>Intent intent = getIntent();\n    if (intent.getExtras() != null) {\n        String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\n        if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\n            mywebView.loadUrl(redirectUrl);\n            return;\n        }\n    }\n</code></pre>\n<p>infront of:</p>\n<pre><code>mywebView.loadUrl(&quot;https://www.example.com/&quot;);\n</code></pre>\n<p>But if I click on the notification, the link goes to the startspage instead of the custom redirectUrl.</p>\n<p>I checked the redirectUrl variable with this code:</p>\n<pre><code>    Intent intent = this.getIntent();\n\n    Bundle extras = intent.getExtras();\n    String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\n\n    if (redirectUrl != null) {\n        Log.d(&quot;MainActivity&quot;, &quot;Redirect URL found: &quot; + redirectUrl);\n        mywebView.loadUrl(redirectUrl);\n    } else {\n        Log.d(&quot;MainActivity&quot;, &quot;No redirect URL found / load index&quot;);\n        mywebView.loadUrl(&quot;https://www.example.com/&quot;);\n    }\n</code></pre>\n<p>and its saying, that No redirect URL found / load index.</p>\n<p>Why is the redirectUrl not available in the mainactitiy.java file?</p>\n<p>Here is my MainActivty.java File:</p>\n<pre><code>package com.example.ownapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.ContextCompat;\n\n//for webviewpush\nimport android.webkit.JsPromptResult;\nimport android.webkit.JsResult;\nimport android.webkit.WebChromeClient;\n\n//for webviewpush redirect\nimport android.content.Intent;\nimport static android.content.ContentValues.TAG;\nimport android.util.Log;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.webkit.ValueCallback;\n\nimport java.util.Map;\nimport java.util.HashMap;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView mywebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mywebView=(WebView) findViewById(R.id.webview);\n        mywebView.setWebViewClient(new WebViewClient() {\n            public void onPageFinished(WebView view, String url) {\n                view.evaluateJavascript(&quot;document.getElementById('darktrue') != null&quot;, new ValueCallback&lt;String&gt;() {\n                    @Override\n                    public void onReceiveValue(String value) {\n                        if (value.equals(&quot;true&quot;)) {\n                            // ID exists, change status bar color\n                            getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbardarkin));\n                        } else {\n                            getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbarlightin));\n                        }\n                    }\n                });\n            }\n\n\n        });\n\n\n        //for webviewpush redirect\n        Intent intent = getIntent();\n        if (intent.getExtras() != null) {\n            String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\n            if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\n                mywebView.loadUrl(redirectUrl);\n                return;\n            }\n        }\n\n        mywebView.loadUrl(&quot;https://www.example.com&quot;);\n        WebSettings webSettings=mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setDomStorageEnabled(true);\n        MobileAds.registerWebView(mywebView);\n\n        //for webviewpush\n        mywebView.addJavascriptInterface(new JavaScriptInterface(this),&quot;AndroidFunction&quot;);\n        mywebView.setWebChromeClient(new WebChromeClient(){\n            @Override\n            public boolean onJsAlert(WebView view, String url, String message, JsResult result) {\n                return true;\n            }\n\n            @Override\n            public boolean onJsConfirm(WebView view, String url, String message, JsResult result) {\n                return true;\n            }\n\n            @Override\n            public boolean onJsPrompt(WebView view, String url, String message, String defaultValue, JsPromptResult result) {\n                return true;\n            }\n        });\n    }\n\n    private Map&lt;String, String&gt; getHeaders() {\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Custom-Header&quot;, &quot;value&quot;);\n        return headers;\n    }\n\n    public class mywebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n    @Override\n    public void onBackPressed() {\n        if (mywebView.canGoBack()) {\n            mywebView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n}\n</code></pre>\n<p>Thank you very much</p>\n"},{"tags":["java","jmeter","jmeter-plugins","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":16414972,"reputation":13,"user_id":11857347,"display_name":"Nitin "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677838931,"creation_date":1677838931,"answer_id":75625834,"question_id":75603349,"body_markdown":"Try using below command to generate the result.\r\nGo to the jmeter/bin folder if in linux machine. Else use jmeter.bat file\r\n\r\n    jmeter -g name-of-jtl-file -o name-of-the-output-folder\r\n\r\nThis will create a html and statistics.json file.\r\nIt will resolve your problem.","title":"Unable to access jarfile C:\\..\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar","body":"<p>Try using below command to generate the result.\nGo to the jmeter/bin folder if in linux machine. Else use jmeter.bat file</p>\n<pre><code>jmeter -g name-of-jtl-file -o name-of-the-output-folder\n</code></pre>\n<p>This will create a html and statistics.json file.\nIt will resolve your problem.</p>\n"}],"owner":{"account_id":22341424,"reputation":1,"user_id":16561140,"display_name":"Saumya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677838931,"creation_date":1677671574,"question_id":75603349,"body_markdown":"I&#39;m trying to create a csv from summary report using the JMeter Command Line Graph Plotting Tool plugin. I&#39;m using this command to run test and generate report in non-gui mode.\r\n\r\n```\r\nJMeterPluginsCMD.bat --generate-csv summary-report.csv --input-jtl result.jtl --plugin-type AggregateReport\r\n```\r\n\r\nWhen I run it I&#39;m getting this error.\r\n\r\n`Error: Unable to access jarfile C:\\Users\\I563673\\Downloads\\apache-jmeter-5.5\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI manually downloaded the cmdrunner-2.2.jar from [here](https://search.maven.org/remotecontent?filepath=kg/apc/cmdrunner/2.2/cmdrunner-2.2.jar) and put it in the lib folder but now I&#39;m getting the following error:\r\n\r\n[enter image description here](https://i.stack.imgur.com/7WRJk.png)\r\n\r\nSince the Home directory was detected as the lib folder I tried putting the jtl file in the lib directory and also specifying the path of jtl file w.r.t the lib folder. This too didn&#39;t remove the error.","title":"Unable to access jarfile C:\\..\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar","body":"<p>I'm trying to create a csv from summary report using the JMeter Command Line Graph Plotting Tool plugin. I'm using this command to run test and generate report in non-gui mode.</p>\n<pre><code>JMeterPluginsCMD.bat --generate-csv summary-report.csv --input-jtl result.jtl --plugin-type AggregateReport\n</code></pre>\n<p>When I run it I'm getting this error.</p>\n<p><code>Error: Unable to access jarfile C:\\Users\\I563673\\Downloads\\apache-jmeter-5.5\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar</code></p>\n<p>I manually downloaded the cmdrunner-2.2.jar from <a href=\"https://search.maven.org/remotecontent?filepath=kg/apc/cmdrunner/2.2/cmdrunner-2.2.jar\" rel=\"nofollow noreferrer\">here</a> and put it in the lib folder but now I'm getting the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/7WRJk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Since the Home directory was detected as the lib folder I tried putting the jtl file in the lib directory and also specifying the path of jtl file w.r.t the lib folder. This too didn't remove the error.</p>\n"},{"tags":["java","log4j","spring-boot","log4j2"],"comments":[{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":0,"creation_date":1423155546,"post_id":28349309,"comment_id":45043241,"body_markdown":"Could you please confirm if `/config` is in the classpath? if you are using maven based project, put the xml file under `src/main/resources`","body":"Could you please confirm if <code>&#47;config</code> is in the classpath? if you are using maven based project, put the xml file under <code>src&#47;main&#47;resources</code>"},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":0,"creation_date":1423155805,"post_id":28349309,"comment_id":45043432,"body_markdown":"The `config` folder (package) is in the classpath, and it already contains `application.yml`, that is correctly picked up and succesfully used in the application.","body":"The <code>config</code> folder (package) is in the classpath, and it already contains <code>application.yml</code>, that is correctly picked up and succesfully used in the application."},{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":0,"creation_date":1423157470,"post_id":28349309,"comment_id":45044490,"body_markdown":"Could you please put the xml file in `src/main/resources` and try so that we can narrow down the issue?","body":"Could you please put the xml file in <code>src&#47;main&#47;resources</code> and try so that we can narrow down the issue?"},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":0,"creation_date":1423224261,"post_id":28349309,"comment_id":45071929,"body_markdown":"If I put the XML file in its right location, the classpath root (`src/main/java`), it works without problems. I&#39;m not getting what we should check by putting the XML in the `src/main/resources` folder. What I want to be able to do is to put the log4j2.xml file wherever I want.","body":"If I put the XML file in its right location, the classpath root (<code>src&#47;main&#47;java</code>), it works without problems. I&#39;m not getting what we should check by putting the XML in the <code>src&#47;main&#47;resources</code> folder. What I want to be able to do is to put the log4j2.xml file wherever I want."},{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":1,"creation_date":1423227701,"post_id":28349309,"comment_id":45073747,"body_markdown":"Since it is working fine when you put it in `src/main/java`, it means there is no problem with the configuration. If you want it to work irrespective of the location of the `log4j2.xml`, you have to make sure that the folder is in classpath. If you are using eclipse, `right click on the project -&gt; Build Path -&gt; Configure Build Path` to set the classpath.","body":"Since it is working fine when you put it in <code>src&#47;main&#47;java</code>, it means there is no problem with the configuration. If you want it to work irrespective of the location of the <code>log4j2.xml</code>, you have to make sure that the folder is in classpath. If you are using eclipse, <code>right click on the project -&gt; Build Path -&gt; Configure Build Path</code> to set the classpath."},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":0,"creation_date":1423247819,"post_id":28349309,"comment_id":45085395,"body_markdown":"I found out the right way to include an external configuration file for Log4j2 is `mvn spring-boot:run -Dlogging.config=&quot;/path/to/file/test.xml&quot;` (or similarly when using `java -jar`). Still, I&#39;ve not been able to include a file already in the classpath at build time. I&#39;m not sure that&#39;s actually possible.","body":"I found out the right way to include an external configuration file for Log4j2 is <code>mvn spring-boot:run -Dlogging.config=&quot;&#47;path&#47;to&#47;file&#47;test.xml&quot;</code> (or similarly when using <code>java -jar</code>). Still, I&#39;ve not been able to include a file already in the classpath at build time. I&#39;m not sure that&#39;s actually possible."}],"answers":[{"tags":[],"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1432216858,"creation_date":1432216858,"answer_id":30376025,"question_id":28349309,"body_markdown":"As specified in the [Spring reference documentation][1], the `logging.config` property cannot be set among the application properties, as they are read after the logging has already been initialised.\r\n\r\nThe solution is to provide the path to the external logging configuration this way:\r\n    \r\n    java -Dlogging.config=&#39;/path/to/log4j2.xml&#39; -jar app-current.jar\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>As specified in the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration\">Spring reference documentation</a>, the <code>logging.config</code> property cannot be set among the application properties, as they are read after the logging has already been initialised.</p>\n\n<p>The solution is to provide the path to the external logging configuration this way:</p>\n\n<pre><code>java -Dlogging.config='/path/to/log4j2.xml' -jar app-current.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1029072,"reputation":5177,"user_id":1037753,"accept_rate":75,"display_name":"konqi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457432738,"creation_date":1457432738,"answer_id":35864817,"question_id":28349309,"body_markdown":"The answer of [micpalmia][1] is absolutely correct. \r\n\r\nI needed to put the configuration outside the classpath I didn&#39;t want to pass the config file as a parameter. So i put a very simple logging configuration in the classpath resources and had the spring boot application reconfigure logging upon start, like so:\r\n\r\n&lt;!-- language: Java --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... param) throws UnsupportedEncodingException {\r\n            Configurator.initialize(null, &quot;config/log4j2.xml&quot;);\r\n            // ...\r\n        }\r\n    }\r\n\r\nThis approach has a significant disadvantage: The whole application boot process will not be logged as externally configured. But once the custom code is run the logger works as intended. While you may not, I find this to be a compromise I can live with.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/592138/micpalmia","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>The answer of <a href=\"https://stackoverflow.com/users/592138/micpalmia\">micpalmia</a> is absolutely correct. </p>\n\n<p>I needed to put the configuration outside the classpath I didn't want to pass the config file as a parameter. So i put a very simple logging configuration in the classpath resources and had the spring boot application reconfigure logging upon start, like so:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... param) throws UnsupportedEncodingException {\n        Configurator.initialize(null, \"config/log4j2.xml\");\n        // ...\n    }\n}\n</code></pre>\n\n<p>This approach has a significant disadvantage: The whole application boot process will not be logged as externally configured. But once the custom code is run the logger works as intended. While you may not, I find this to be a compromise I can live with.</p>\n"},{"tags":[],"owner":{"account_id":2486043,"reputation":1592,"user_id":2164447,"display_name":"Harry.Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499487192,"creation_date":1499487192,"answer_id":44982423,"question_id":28349309,"body_markdown":"I have the same problem in my project, besides log4j2.xml I also need other config files in the class path.\r\nHere is my 2 solutions that works:\r\n\r\n Soluation 1 : Start spring boot application with org.springframework.boot.loader.JarLauncher\r\n   \r\n\r\n    java -classpath SpringBootProject.jar;./config org.springframework.boot.loader.JarLauncher\r\n\r\nSolution 2:  Write a &#39;./config&#39; class path entry in the MANIFEST.MF in the jar\r\n    \r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifestEntries&gt;\r\n                   &lt;Class-Path&gt;./config/&lt;/Class-Path&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n\r\n ","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>I have the same problem in my project, besides log4j2.xml I also need other config files in the class path.\nHere is my 2 solutions that works:</p>\n\n<p>Soluation 1 : Start spring boot application with org.springframework.boot.loader.JarLauncher</p>\n\n<pre><code>java -classpath SpringBootProject.jar;./config org.springframework.boot.loader.JarLauncher\n</code></pre>\n\n<p>Solution 2:  Write a './config' class path entry in the MANIFEST.MF in the jar</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifestEntries&gt;\n               &lt;Class-Path&gt;./config/&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":933106,"reputation":6411,"user_id":962565,"accept_rate":44,"display_name":"SachinVsSachin"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1528183345,"creation_date":1528183345,"answer_id":50694346,"question_id":28349309,"body_markdown":"I have working solution to set custom path or change existing file path for logging file. If you have configured log4j2.xml file, open it and see where you have to do one line change to config log file path.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AFIxh.png","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>I have working solution to set custom path or change existing file path for logging file. If you have configured log4j2.xml file, open it and see where you have to do one line change to config log file path.<a href=\"https://i.stack.imgur.com/AFIxh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFIxh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550052304,"creation_date":1550052304,"answer_id":54667426,"question_id":28349309,"body_markdown":"In case of property file:\r\n\r\n&gt; java -Dlog4j.configuration=file:/path/to/log4j.properties -jar app.jar\r\n\r\nTo the command line works in Spring Boot 2. Don&#39;t forget to add **file:** before the path.","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>In case of property file:</p>\n\n<blockquote>\n  <p>java -Dlog4j.configuration=file:/path/to/log4j.properties -jar app.jar</p>\n</blockquote>\n\n<p>To the command line works in Spring Boot 2. Don't forget to add <strong>file:</strong> before the path.</p>\n"},{"tags":[],"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1575532642,"creation_date":1575532642,"answer_id":59190560,"question_id":28349309,"body_markdown":"As mentioned in the log4j2 documentation [here][1], you can include a file named `log4j2.component.properties` in your resources folder (or anywhere in the classpath) and inside that file, you can provide the name of the file location (or a new file name) like this:\r\n\r\n    log4j.configurationFile=path/to/log4j2.xml\r\n\r\nor \r\n\r\n    log4j.configurationFile=classpath:log4j2-custom.xml (if the file is on the classpath)\r\n\r\nYou can alternatively provide the config file location via the `context-param` fields of `web.xml` as mentioned [here][1], but I haven&#39;t tried that option\r\n\r\n(This works with Spring Boot too)\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/faq.html#config_location","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>As mentioned in the log4j2 documentation <a href=\"http://logging.apache.org/log4j/2.x/faq.html#config_location\" rel=\"noreferrer\">here</a>, you can include a file named <code>log4j2.component.properties</code> in your resources folder (or anywhere in the classpath) and inside that file, you can provide the name of the file location (or a new file name) like this:</p>\n\n<pre><code>log4j.configurationFile=path/to/log4j2.xml\n</code></pre>\n\n<p>or </p>\n\n<pre><code>log4j.configurationFile=classpath:log4j2-custom.xml (if the file is on the classpath)\n</code></pre>\n\n<p>You can alternatively provide the config file location via the <code>context-param</code> fields of <code>web.xml</code> as mentioned <a href=\"http://logging.apache.org/log4j/2.x/faq.html#config_location\" rel=\"noreferrer\">here</a>, but I haven't tried that option</p>\n\n<p>(This works with Spring Boot too)</p>\n"},{"tags":[],"owner":{"account_id":26096595,"reputation":1,"user_id":19792648,"display_name":"swathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234548,"creation_date":1660816267,"answer_id":73400925,"question_id":28349309,"body_markdown":"If you  try to rename the log4j2.xml file other than the default name. In order to load the file.\r\nFor a spring boot  application in application.properties file add below property \r\nthis would work \r\n\r\n    logging.config=classpath:logfilename.xml\r\n\r\n ","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>If you  try to rename the log4j2.xml file other than the default name. In order to load the file.\nFor a spring boot  application in application.properties file add below property\nthis would work</p>\n<pre><code>logging.config=classpath:logfilename.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677837977,"creation_date":1677837977,"answer_id":75625663,"question_id":28349309,"body_markdown":"Another way to do this in Spring boot \r\n\r\n\r\n     java -jar app.jar --logging.config=/path/to/log4j2.xml\r\n\r\n\r\n\r\n","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>Another way to do this in Spring boot</p>\n<pre><code> java -jar app.jar --logging.config=/path/to/log4j2.xml\n</code></pre>\n"}],"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65453,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":30376025,"answer_count":8,"score":28,"last_activity_date":1677837977,"creation_date":1423154316,"question_id":28349309,"body_markdown":"Log4j2 is working nicely with Spring Boot through the `log4j2.xml` configuration file in the root classpath, exactly as the documentation states.\r\n\r\nWhen trying to move this file to a different location though, I&#39;m not able to pass the new location to Spring at startup. From [the documentation][1]:\r\n\r\n&gt; The various logging systems can be activated by including the\r\n&gt; appropriate libraries on the classpath, and further customized by\r\n&gt; providing a suitable configuration file in the root of the classpath,\r\n&gt; or **in a location specified by the Spring Environment property\r\n&gt; `logging.config`**.\r\n\r\nI tried setting the new location with a Java system property\r\n\r\n    java -jar -Dlogging.config=&quot;classpath:/config/log4j2.xml&quot; target/app.jar\r\n\r\nor using an external `application.properties` containing the relevant property\r\n\r\n    logging.config=classpath:/config/log4j2.xml\r\n\r\nBut I am regularly greeted by the following error message.\r\n\r\n    ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-custom-log-configuration","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>Log4j2 is working nicely with Spring Boot through the <code>log4j2.xml</code> configuration file in the root classpath, exactly as the documentation states.</p>\n\n<p>When trying to move this file to a different location though, I'm not able to pass the new location to Spring at startup. From <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-custom-log-configuration\" rel=\"noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>The various logging systems can be activated by including the\n  appropriate libraries on the classpath, and further customized by\n  providing a suitable configuration file in the root of the classpath,\n  or <strong>in a location specified by the Spring Environment property\n  <code>logging.config</code></strong>.</p>\n</blockquote>\n\n<p>I tried setting the new location with a Java system property</p>\n\n<pre><code>java -jar -Dlogging.config=\"classpath:/config/log4j2.xml\" target/app.jar\n</code></pre>\n\n<p>or using an external <code>application.properties</code> containing the relevant property</p>\n\n<pre><code>logging.config=classpath:/config/log4j2.xml\n</code></pre>\n\n<p>But I am regularly greeted by the following error message.</p>\n\n<pre><code>ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\n</code></pre>\n"},{"tags":["java","median-of-medians"],"answers":[{"tags":[],"owner":{"account_id":11266275,"reputation":11,"user_id":8262969,"display_name":"V K Deewakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673603664,"creation_date":1673603664,"answer_id":75107512,"question_id":75107301,"body_markdown":"I have tried below code and it&#39;s working fine now:-\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class MedianQueries {\r\n        private static int median( int N, int[] A) {\r\n            int[] arr = Arrays.copyOfRange(A,0,A.length);\r\n            Arrays.sort(arr);\r\n            int mid = (int) Math.ceil(N / 2);\r\n            if (mid + mid == arr.length) {\r\n                return arr[mid-1];\r\n            } else {\r\n                return arr[mid];\r\n            }\r\n        }\r\n\r\n        private static void getMedian(int[] A){\r\n            while (A.length &gt;=1) {\r\n                System.out.println(median(A.length, A));\r\n                int mid = (int) Math.ceil(A.length/2);\r\n                A = Arrays.copyOfRange(A, 1, mid+1);\r\n            }\r\n        }\r\n        \r\n        public static void main(String args[] ) throws Exception {\r\n            int[] A = {2,4,5,3,1,6};\r\n            getMedian(A);\r\n        }\r\n    }","title":"Median Queries:- a subarray of A of length , you have to sort the elements of the subarray in a non-decreasing order","body":"<p>I have tried below code and it's working fine now:-</p>\n<pre><code>import java.util.Arrays;\n\npublic class MedianQueries {\n    private static int median( int N, int[] A) {\n        int[] arr = Arrays.copyOfRange(A,0,A.length);\n        Arrays.sort(arr);\n        int mid = (int) Math.ceil(N / 2);\n        if (mid + mid == arr.length) {\n            return arr[mid-1];\n        } else {\n            return arr[mid];\n        }\n    }\n\n    private static void getMedian(int[] A){\n        while (A.length &gt;=1) {\n            System.out.println(median(A.length, A));\n            int mid = (int) Math.ceil(A.length/2);\n            A = Arrays.copyOfRange(A, 1, mid+1);\n        }\n    }\n    \n    public static void main(String args[] ) throws Exception {\n        int[] A = {2,4,5,3,1,6};\n        getMedian(A);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11266275,"reputation":11,"user_id":8262969,"display_name":"V K Deewakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3205,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677837891,"creation_date":1673602567,"question_id":75107301,"body_markdown":"You are given an array `A` consisting of N elements. For a subarray of `A` of length `len`, you have to sort the elements of the subarray in a non-decreasing order. The element at the position `ceil(len/2)` is called the median of the subarray. Consider the array and each subarray to be 1 indexed.\r\n\r\nWrite a program to answer `Q` queries of the following types:\r\n\r\nYou are given two integers `L` and `R`.\r\nYou have to find the median of a subarray `A_L, A_{L+1},..., A_R` of the array `A`.\r\n\r\n##### Input format\r\n\r\n- First line: `N`\r\n- Second line: `N` space-separated integers (denoting the array `A`)\r\n- Third line: `Q`\r\n- Next `Q` lines : Two space-separated integers `L` and `R`\r\n\r\n##### Output format:\r\nFor each query, print the median of the subarray.\r\n\r\n##### Constraints\r\n\r\n```\r\n1 ≤  N, Q ≤  5 * 10^4\r\n1 ≤ A_i ≤ 10^9\r\n1 ≤ L ≤ R ≤ N\r\n```\r\n\r\n##### Example\r\n\r\nInput:\r\n\r\n```\r\nint[] A = {2,4,5,3,1,6};\r\nint N = 6;\r\n```\r\n\r\nOutput: `3, 4, 5`\r\n\r\n##### My attempt\r\n\r\nI have tried:\r\n\r\n    private static final int generous = 1;\r\n    private static int median(int[] arr) {\r\n        Arrays.sort(arr);\r\n        int mid = arr.length / 2;\r\n        if (mid + mid == arr.length) {\r\n            return (arr[mid-1] + arr[mid] + generous) / 2;\r\n        } else {\r\n            return arr[mid];\r\n        }\r\n    }\r\n\r\nthen just call it for each sub-array:\r\n\r\n    private static int[] getMedian(int[] arr) {\r\n        int[] result = new int[arr.length];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            result[i] = median(Arrays.copyOfRange(arr, 0, i+1));\r\n        }\r\n        return result;\r\n    }","title":"Median Queries:- a subarray of A of length , you have to sort the elements of the subarray in a non-decreasing order","body":"<p>You are given an array <code>A</code> consisting of N elements. For a subarray of <code>A</code> of length <code>len</code>, you have to sort the elements of the subarray in a non-decreasing order. The element at the position <code>ceil(len/2)</code> is called the median of the subarray. Consider the array and each subarray to be 1 indexed.</p>\n<p>Write a program to answer <code>Q</code> queries of the following types:</p>\n<p>You are given two integers <code>L</code> and <code>R</code>.\nYou have to find the median of a subarray <code>A_L, A_{L+1},..., A_R</code> of the array <code>A</code>.</p>\n<h5>Input format</h5>\n<ul>\n<li>First line: <code>N</code></li>\n<li>Second line: <code>N</code> space-separated integers (denoting the array <code>A</code>)</li>\n<li>Third line: <code>Q</code></li>\n<li>Next <code>Q</code> lines : Two space-separated integers <code>L</code> and <code>R</code></li>\n</ul>\n<h5>Output format:</h5>\n<p>For each query, print the median of the subarray.</p>\n<h5>Constraints</h5>\n<pre><code>1 ≤  N, Q ≤  5 * 10^4\n1 ≤ A_i ≤ 10^9\n1 ≤ L ≤ R ≤ N\n</code></pre>\n<h5>Example</h5>\n<p>Input:</p>\n<pre><code>int[] A = {2,4,5,3,1,6};\nint N = 6;\n</code></pre>\n<p>Output: <code>3, 4, 5</code></p>\n<h5>My attempt</h5>\n<p>I have tried:</p>\n<pre><code>private static final int generous = 1;\nprivate static int median(int[] arr) {\n    Arrays.sort(arr);\n    int mid = arr.length / 2;\n    if (mid + mid == arr.length) {\n        return (arr[mid-1] + arr[mid] + generous) / 2;\n    } else {\n        return arr[mid];\n    }\n}\n</code></pre>\n<p>then just call it for each sub-array:</p>\n<pre><code>private static int[] getMedian(int[] arr) {\n    int[] result = new int[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        result[i] = median(Arrays.copyOfRange(arr, 0, i+1));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","maven"],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677837840,"creation_date":1677837479,"question_id":75625580,"body_markdown":"I would like to inspect the `javac` command maven uses to compile my code.\r\n\r\nWhen running:\r\n```\r\nmvn clean install -X\r\n```\r\n\r\nI get:\r\n```\r\n[DEBUG] Command line options:\r\n[DEBUG] -d /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes -classpath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes:/Users/userone/.m2/repository/com/baeldung/entitymodule/maven-entitymodule/1.0-SNAPSHOT/maven-entitymodule-1.0-SNAPSHOT.jar:/Users/userone/.m2/repository/com/baeldung/daomodule/maven-daomodule/1.0-SNAPSHOT/maven-daomodule-1.0-SNAPSHOT.jar: -sourcepath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/src/main/java:/Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations: -s /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations -g -target 1.9 -source 1.9\r\n```\r\n\r\nBut this is not the full `javac` command needed to compile as it&#39;s missing the `[sourcefiles-or-classnames] argument`\r\n\r\nHow can I force Maven to spit out the whole command ?\r\n\r\n","title":"Force Maven to print out the whole compilation command with javac","body":"<p>I would like to inspect the <code>javac</code> command maven uses to compile my code.</p>\n<p>When running:</p>\n<pre><code>mvn clean install -X\n</code></pre>\n<p>I get:</p>\n<pre><code>[DEBUG] Command line options:\n[DEBUG] -d /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes -classpath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes:/Users/userone/.m2/repository/com/baeldung/entitymodule/maven-entitymodule/1.0-SNAPSHOT/maven-entitymodule-1.0-SNAPSHOT.jar:/Users/userone/.m2/repository/com/baeldung/daomodule/maven-daomodule/1.0-SNAPSHOT/maven-daomodule-1.0-SNAPSHOT.jar: -sourcepath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/src/main/java:/Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations: -s /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations -g -target 1.9 -source 1.9\n</code></pre>\n<p>But this is not the full <code>javac</code> command needed to compile as it's missing the <code>[sourcefiles-or-classnames] argument</code></p>\n<p>How can I force Maven to spit out the whole command ?</p>\n"},{"tags":["java","jpa","dto","multi-tier"],"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1478251273,"post_id":23308241,"comment_id":68086897,"body_markdown":"I&#39;m voting to close this question as off-topic because it&#39;s an architecture and not a programming questin.","body":"I&#39;m voting to close this question as off-topic because it&#39;s an architecture and not a programming questin."}],"answers":[{"tags":[],"owner":{"account_id":4381141,"reputation":775,"user_id":3572771,"accept_rate":100,"display_name":"yotsov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398500537,"creation_date":1398500537,"answer_id":23308461,"question_id":23308241,"body_markdown":"Loose coupling is indeed the recommended way to go, which means you will end up with huge, boring to write, painful to maintain converters in your business logic. Yes, they belong in the business logic: the layer between the DAOs and the views. So the business layer will end up depending on both the DAO DTOs and the view DTOs. And will be full of Converter classes, diluting your view of the actual business logic...\r\n\r\nIf you can get away with having immutable view DTOs, that&#39;s great. A library you use for serializing them might require them to have setters though. Or you might find them easier to build if they have setters.\r\n\r\nI have gotten away just fine with using the same DTO classes for both the views and the DAOs. It is bad, but honestly, I did not have the feeling that the system was more decoupled otherwise, since business logic, the most essential part, has to depend on everything anyway. This tight coupling provided for great conciseness, and made it easier to sync the view and DAO layers. I could still have things specific just to one of the layers and not seen in the other by using composition.\r\n\r\nFinally, regarding exceptions. It is a responsibility of the outermost layer, the view layer (the Controllers if you are using Spring) to catch errors propagated from the inner layers be it using exceptions, be it using special DTO fields. Then this outermost layer needs to decide if to inform the client of the error, and how. The fact is that down to the innermost layer, you need to distinguish between the different types of errors that the outermost layer will need to handle. For example if something happens in the DAO layer, and the view layer needs to know if to return 400 or 500, the DAO layer will need to provide the view layer with the information needed to decide which one to use, and this information will need to pass through all intermediary levels, who should be able to add their own errors and error types. Propagating an IOException or SQLException to the outermost layer is not enough, the inner layer needs to also tell the outer layer if this is an expected error or not. Sad but true.","title":"Best Practice - Multi Layer Architecture and DTOs","body":"<p>Loose coupling is indeed the recommended way to go, which means you will end up with huge, boring to write, painful to maintain converters in your business logic. Yes, they belong in the business logic: the layer between the DAOs and the views. So the business layer will end up depending on both the DAO DTOs and the view DTOs. And will be full of Converter classes, diluting your view of the actual business logic...</p>\n\n<p>If you can get away with having immutable view DTOs, that's great. A library you use for serializing them might require them to have setters though. Or you might find them easier to build if they have setters.</p>\n\n<p>I have gotten away just fine with using the same DTO classes for both the views and the DAOs. It is bad, but honestly, I did not have the feeling that the system was more decoupled otherwise, since business logic, the most essential part, has to depend on everything anyway. This tight coupling provided for great conciseness, and made it easier to sync the view and DAO layers. I could still have things specific just to one of the layers and not seen in the other by using composition.</p>\n\n<p>Finally, regarding exceptions. It is a responsibility of the outermost layer, the view layer (the Controllers if you are using Spring) to catch errors propagated from the inner layers be it using exceptions, be it using special DTO fields. Then this outermost layer needs to decide if to inform the client of the error, and how. The fact is that down to the innermost layer, you need to distinguish between the different types of errors that the outermost layer will need to handle. For example if something happens in the DAO layer, and the view layer needs to know if to return 400 or 500, the DAO layer will need to provide the view layer with the information needed to decide which one to use, and this information will need to pass through all intermediary levels, who should be able to add their own errors and error types. Propagating an IOException or SQLException to the outermost layer is not enough, the inner layer needs to also tell the outer layer if this is an expected error or not. Sad but true.</p>\n"},{"tags":[],"owner":{"account_id":3649739,"reputation":5689,"user_id":3042204,"accept_rate":86,"display_name":"jnovo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1677837686,"creation_date":1398500938,"answer_id":23308520,"question_id":23308241,"body_markdown":"Having some packages among different layers is not uncommon, however it is usually done only for cross-cutting concerns such as logging. Your model should not be shared by different layers, or changes to the model would require changes in all those layers. Typically, your model is a lower layer, close to data layer (over, under, or intertwined, depending on the approach).\r\n\r\nData Transfer Objects, as their name imply, are simple classes used to transfer data. As such, they are usually used to communicate between layers, specially when you have a SOA architecture which communicates through messages and not objects.  DTOs should be immutable since they merely exist for the purpose of transferring information, not altering it.\r\n\r\nYour domain objects are one thing, your DTOs are a different thing, and the objects you need in your presentation layer are yet another thing. However, in small projects it may not be worth the effort of implementing all those different sets and converting between them. That just depends on your requirements.\r\n\r\nYou are designing a web application but it may help your design to ask yourself, &quot;could I switch my web application by a desktop application? Is my service layer really unaware of my presentation logic?&quot;. Thinking in these terms will guide you towards a better architecture.\r\n\r\n### Answers to your questions\r\n\r\n&gt; 1. Assume the persistence layer would use a class myproject.persistence.domain.UserEntity (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class myproject.service.domain.User. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?\r\n\r\nThe service layer knows its classes (DTOs) and the layer below it (let&#39;s say persistence). So yes, the service is responsible for translating between persistence and itself.\r\n\r\n&gt; 2. How should the User class look like? Should it contain only getters to be immutable? Wouldn&#39;t it be cumbersome for the views to edit existing users (create a new User, use the getters of the existing User object etc.)?\r\n\r\nThe idea behind DTOs is that you only use them for transfer, so operations like creating a new user are not required. For that you need different objects.\r\n\r\n&gt; 3. Should I use the same DTO-classes (User) to send a request to the service to modify an existing user/create a new user or should I implement other classes?\r\n\r\nThe service methods might express the operation, the DTOs being its parameters containing just the data. Another option is using commands which represent the operation and also contain the DTOs. This is popular in SOA architectures where your service may be a mere command processor for instance having one single `Execute` operation taking a `ICommand` interface as parameter (as opposed to having one operation per command).\r\n\r\n&gt; 4. Wouldn&#39;t the presentation layer be very dependent on the service layer by using all the DTOs in myproject.service.domain?\r\n\r\nYes, the layer over the service layer will be dependent on it. That is the idea. The upside is that only that layer is dependent on it, no upper or lower layers so changes only affect that layer (unlike what happens if you use your domain classes from every layer).\r\n\r\n&gt; 5. How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?\r\n\r\nEach layer can have its own exceptions. They flow from one layer to another encapsulated into the next kind of exception. Sometimes, they will be handled by one layer which will do something (logging, for instance) and maybe then throw a different exception that an upper layer must handle. Other times, they might be handled and the problem might be solved. Think for instance of a problem connecting to the database. It would throw an exception. You could handle it and decide to retry after a second and maybe then there is success, thus the exception would not flow upwards. Should the retry also fail, the exception would be re-thrown and it may flow all the way up to the presentation layer where you gracefully notify the user and ask him to retry layer.\r\n","title":"Best Practice - Multi Layer Architecture and DTOs","body":"<p>Having some packages among different layers is not uncommon, however it is usually done only for cross-cutting concerns such as logging. Your model should not be shared by different layers, or changes to the model would require changes in all those layers. Typically, your model is a lower layer, close to data layer (over, under, or intertwined, depending on the approach).</p>\n<p>Data Transfer Objects, as their name imply, are simple classes used to transfer data. As such, they are usually used to communicate between layers, specially when you have a SOA architecture which communicates through messages and not objects.  DTOs should be immutable since they merely exist for the purpose of transferring information, not altering it.</p>\n<p>Your domain objects are one thing, your DTOs are a different thing, and the objects you need in your presentation layer are yet another thing. However, in small projects it may not be worth the effort of implementing all those different sets and converting between them. That just depends on your requirements.</p>\n<p>You are designing a web application but it may help your design to ask yourself, &quot;could I switch my web application by a desktop application? Is my service layer really unaware of my presentation logic?&quot;. Thinking in these terms will guide you towards a better architecture.</p>\n<h3>Answers to your questions</h3>\n<blockquote>\n<ol>\n<li>Assume the persistence layer would use a class myproject.persistence.domain.UserEntity (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class myproject.service.domain.User. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?</li>\n</ol>\n</blockquote>\n<p>The service layer knows its classes (DTOs) and the layer below it (let's say persistence). So yes, the service is responsible for translating between persistence and itself.</p>\n<blockquote>\n<ol start=\"2\">\n<li>How should the User class look like? Should it contain only getters to be immutable? Wouldn't it be cumbersome for the views to edit existing users (create a new User, use the getters of the existing User object etc.)?</li>\n</ol>\n</blockquote>\n<p>The idea behind DTOs is that you only use them for transfer, so operations like creating a new user are not required. For that you need different objects.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Should I use the same DTO-classes (User) to send a request to the service to modify an existing user/create a new user or should I implement other classes?</li>\n</ol>\n</blockquote>\n<p>The service methods might express the operation, the DTOs being its parameters containing just the data. Another option is using commands which represent the operation and also contain the DTOs. This is popular in SOA architectures where your service may be a mere command processor for instance having one single <code>Execute</code> operation taking a <code>ICommand</code> interface as parameter (as opposed to having one operation per command).</p>\n<blockquote>\n<ol start=\"4\">\n<li>Wouldn't the presentation layer be very dependent on the service layer by using all the DTOs in myproject.service.domain?</li>\n</ol>\n</blockquote>\n<p>Yes, the layer over the service layer will be dependent on it. That is the idea. The upside is that only that layer is dependent on it, no upper or lower layers so changes only affect that layer (unlike what happens if you use your domain classes from every layer).</p>\n<blockquote>\n<ol start=\"5\">\n<li>How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?</li>\n</ol>\n</blockquote>\n<p>Each layer can have its own exceptions. They flow from one layer to another encapsulated into the next kind of exception. Sometimes, they will be handled by one layer which will do something (logging, for instance) and maybe then throw a different exception that an upper layer must handle. Other times, they might be handled and the problem might be solved. Think for instance of a problem connecting to the database. It would throw an exception. You could handle it and decide to retry after a second and maybe then there is success, thus the exception would not flow upwards. Should the retry also fail, the exception would be re-thrown and it may flow all the way up to the presentation layer where you gracefully notify the user and ask him to retry layer.</p>\n"}],"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12181,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1478258003,"accepted_answer_id":23308520,"answer_count":2,"score":18,"last_activity_date":1677837686,"creation_date":1398498779,"question_id":23308241,"body_markdown":"After reading some of the Q/As here on Stackoverflow, I am still confused about the correct implementation of DTOs in my web application. My current implementation is a (Java EE based) multi-tier architecture (with persistence, service and presentation layer) but with a &quot;common&quot; package used by all layers, containing (amongst others) domain objects. In this case the layers can not really be considered as independent.\r\n\r\nIn a re-design I am planning to remove the &quot;common&quot; package step by step.\r\n\r\n### Questions\r\nDuring re-design I encounter various challenges/questions:\r\n\r\n1. Assume the persistence layer would use a class *myproject.persistence.domain.UserEntity* (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class *myproject.service.domain.User*. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?\r\n2. How should the *User* class look like? Should it contain only getters to be immutable? Wouldn&#39;t it be cumbersome for the views to edit existing users (create a new *User*, use the getters of the existing *User* object etc.)?\r\n3. Should I use the same DTO-classes (*User*) to send a request to the service to modify an existing user/create a new user or should I implement other classes?\r\n4. Wouldn&#39;t the presentation layer be very dependent on the service layer by using all the DTOs in *myproject.service.domain*?\r\n5. How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?","title":"Best Practice - Multi Layer Architecture and DTOs","body":"<p>After reading some of the Q/As here on Stackoverflow, I am still confused about the correct implementation of DTOs in my web application. My current implementation is a (Java EE based) multi-tier architecture (with persistence, service and presentation layer) but with a &quot;common&quot; package used by all layers, containing (amongst others) domain objects. In this case the layers can not really be considered as independent.</p>\n<p>In a re-design I am planning to remove the &quot;common&quot; package step by step.</p>\n<h3>Questions</h3>\n<p>During re-design I encounter various challenges/questions:</p>\n<ol>\n<li>Assume the persistence layer would use a class <em>myproject.persistence.domain.UserEntity</em> (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class <em>myproject.service.domain.User</em>. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?</li>\n<li>How should the <em>User</em> class look like? Should it contain only getters to be immutable? Wouldn't it be cumbersome for the views to edit existing users (create a new <em>User</em>, use the getters of the existing <em>User</em> object etc.)?</li>\n<li>Should I use the same DTO-classes (<em>User</em>) to send a request to the service to modify an existing user/create a new user or should I implement other classes?</li>\n<li>Wouldn't the presentation layer be very dependent on the service layer by using all the DTOs in <em>myproject.service.domain</em>?</li>\n<li>How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?</li>\n</ol>\n"},{"tags":["java","json","eclipse","geojson"],"answers":[{"tags":[],"owner":{"display_name":"user2983190"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677837460,"creation_date":1467091890,"answer_id":38067766,"question_id":37986806,"body_markdown":"The code to create the geojson mentioned above is the following:\r\n\r\n    JSONObject featureCollection = new JSONObject();\r\n    featureCollection.put(&quot;type&quot;, &quot;FeatureCollection&quot;);\r\n    JSONObject properties = new JSONObject();\r\n    properties.put(&quot;name&quot;, &quot;ESPG:4326&quot;);\r\n    JSONObject crs = new JSONObject();\r\n    crs.put(&quot;type&quot;, &quot;name&quot;);\r\n    crs.put(&quot;properties&quot;, properties);\r\n    featureCollection.put(&quot;crs&quot;, crs);\r\n    \r\n    JSONArray features = new JSONArray();\r\n    JSONObject feature = new JSONObject();\r\n    feature.put(&quot;type&quot;, &quot;Feature&quot;);\r\n    JSONObject geometry = new JSONObject();\r\n    \r\n    JSONArray JSONArrayCoord = new JSONArray();\r\n    \r\n    JSONArrayCoord.add(0, 55);\r\n    JSONArrayCoord.add(1, 55);\r\n    geometry.put(&quot;type&quot;, &quot;Point&quot;);\r\n    geometry.put(&quot;coordinates&quot;, JSONArrayCoord);\r\n    feature.put(&quot;geometry&quot;, geometry);\r\n    \r\n    features.add(feature);\r\n    featureCollection.put(&quot;features&quot;, features);","title":"create geojson using simple json java","body":"<p>The code to create the geojson mentioned above is the following:</p>\n<pre><code>JSONObject featureCollection = new JSONObject();\nfeatureCollection.put(&quot;type&quot;, &quot;FeatureCollection&quot;);\nJSONObject properties = new JSONObject();\nproperties.put(&quot;name&quot;, &quot;ESPG:4326&quot;);\nJSONObject crs = new JSONObject();\ncrs.put(&quot;type&quot;, &quot;name&quot;);\ncrs.put(&quot;properties&quot;, properties);\nfeatureCollection.put(&quot;crs&quot;, crs);\n\nJSONArray features = new JSONArray();\nJSONObject feature = new JSONObject();\nfeature.put(&quot;type&quot;, &quot;Feature&quot;);\nJSONObject geometry = new JSONObject();\n\nJSONArray JSONArrayCoord = new JSONArray();\n\nJSONArrayCoord.add(0, 55);\nJSONArrayCoord.add(1, 55);\ngeometry.put(&quot;type&quot;, &quot;Point&quot;);\ngeometry.put(&quot;coordinates&quot;, JSONArrayCoord);\nfeature.put(&quot;geometry&quot;, geometry);\n\nfeatures.add(feature);\nfeatureCollection.put(&quot;features&quot;, features);\n</code></pre>\n"}],"owner":{"display_name":"user2983190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4811,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38067766,"answer_count":1,"score":2,"last_activity_date":1677837460,"creation_date":1466672277,"question_id":37986806,"body_markdown":"I would like to create the following geojson using the simple-json-1.1.1 jar.\r\n\r\n    {&quot;type&quot;: &quot;FeatureCollection&quot;,\r\n\t&quot;crs&quot;: {\r\n\t\t&quot;type&quot;: &quot;name&quot;,\r\n\t\t&quot;properties&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;ESPG:4326&quot;\r\n\t\t\t\t}\r\n\t\t},\r\n\t\t&quot;features&quot;:[\r\n\t\t\t\r\n\t\t{\r\n\t\t\t&quot;type&quot;:&quot;Feature&quot;,\r\n\t\t\t&quot;geometry&quot;:{\r\n\t\t\t\t\t&quot;type&quot;:&quot;Point&quot;,\r\n\t\t\t\t\t&quot;coordinates&quot;:[55,55]\r\n\t\t\t\t\t},\r\n\t\t\t&quot;properties&quot;:{\r\n\t\t\t\t\t&quot;desc&quot;:&quot;something&quot;}\r\n\t\t\t\t\t}\r\n\t\t]\r\n    }\r\n\r\nAny ideas on how to do that?Thanks!!","title":"create geojson using simple json java","body":"<p>I would like to create the following geojson using the simple-json-1.1.1 jar.</p>\n\n<pre><code>{\"type\": \"FeatureCollection\",\n\"crs\": {\n    \"type\": \"name\",\n    \"properties\": {\n            \"name\": \"ESPG:4326\"\n            }\n    },\n    \"features\":[\n\n    {\n        \"type\":\"Feature\",\n        \"geometry\":{\n                \"type\":\"Point\",\n                \"coordinates\":[55,55]\n                },\n        \"properties\":{\n                \"desc\":\"something\"}\n                }\n    ]\n}\n</code></pre>\n\n<p>Any ideas on how to do that?Thanks!!</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-cloud-stream","autoscaling"],"answers":[{"tags":[],"owner":{"account_id":4021081,"reputation":471,"user_id":3311406,"accept_rate":100,"display_name":"XBullet123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677837320,"creation_date":1677837320,"answer_id":75625557,"question_id":75517957,"body_markdown":"The message was sent and received by the same system, which for some reason still unknown to me caused it to be picked up for every running instance. We ended up using Springs internal messaging bus: `ApplicationEventPublisher` instead of the `StreamBridge`, which worked fine.","title":"Spring cloud stream with rabbitmq single consumer out of pool of autoscaled pool of consumer instances","body":"<p>The message was sent and received by the same system, which for some reason still unknown to me caused it to be picked up for every running instance. We ended up using Springs internal messaging bus: <code>ApplicationEventPublisher</code> instead of the <code>StreamBridge</code>, which worked fine.</p>\n"}],"owner":{"account_id":4021081,"reputation":471,"user_id":3311406,"accept_rate":100,"display_name":"XBullet123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677837320,"creation_date":1676968368,"question_id":75517957,"body_markdown":"I have a system with several microsystems, using Spring Cloud Streams (Spring Boot 2.7.5) and RabbitMQ for messaging between the systems. We have a problem where the receiver of the message is run for every instance of the microservice we have running. Is there some way to limit the message to only one instance of this service. The flow is as follows:\r\n\r\n 1. User submits some information, along with their email address\r\n 2. System receives information, stores it, and publishes a message on RabbitMQ that the information is submitted\r\n 3. All (3) of the running consumers receive the message, and send an email to the user that the information is received. There should only be one email sent.\r\n\r\nThe message is published like this:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class IssueEventPublisherImpl implements IssueEventPublisher {\r\n    \r\n        private final StreamBridge publisher;\r\n    \r\n        @Override\r\n        public void dispatch(IssueSubmitted issueSubmitted) {\r\n            publisher.send(&quot;issue-submitted-events&quot;, issueSubmitted);\r\n        }\r\n    }\r\n\r\nAnd received like this:\r\n\r\n    @Bean\r\n    public Consumer&lt;IssueSubmitted&gt; issueSubmittedEventConsumer(EmailSendingLogic sendEmail) {\r\n        return event -&gt; sendEmail(...);\r\n    }\r\n\r\nWith this configuration:\r\n\r\n    # Rabbit MQ\r\n    spring.rabbitmq.host=${RABBITMQ_HOST:localhost}\r\n    spring.rabbitmq.port=5672\r\n    spring.rabbitmq.username=${RABBITMQ_CLIENT_USERNAME:guest}\r\n    spring.rabbitmq.password=${RABBITMQ_CLIENT_PASSWORD:guest}\r\n    \r\n    spring.cloud.function.definition=issueSubmittedEventConsumer\r\n    spring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.destination=issue-submitted-events\r\n    spring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.group=some-named-group\r\n\r\nIs there some additional configuration we can use to limit the amount of recipients of this message to 1, no matter how many instances of the Consumer Spring Application we start?\r\n\r\nI have already tried to add the group, which did nothing. Having a separate group-name for each service would also not accomplish much, I&#39;d think. Googling this issue has not been very helpful, since most people seem to want the opposite, where a consumer want to listen to multiple queues, or should receive all messages. And none of the tutorials mention a cloud environment with autoscaling.\r\n","title":"Spring cloud stream with rabbitmq single consumer out of pool of autoscaled pool of consumer instances","body":"<p>I have a system with several microsystems, using Spring Cloud Streams (Spring Boot 2.7.5) and RabbitMQ for messaging between the systems. We have a problem where the receiver of the message is run for every instance of the microservice we have running. Is there some way to limit the message to only one instance of this service. The flow is as follows:</p>\n<ol>\n<li>User submits some information, along with their email address</li>\n<li>System receives information, stores it, and publishes a message on RabbitMQ that the information is submitted</li>\n<li>All (3) of the running consumers receive the message, and send an email to the user that the information is received. There should only be one email sent.</li>\n</ol>\n<p>The message is published like this:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class IssueEventPublisherImpl implements IssueEventPublisher {\n\n    private final StreamBridge publisher;\n\n    @Override\n    public void dispatch(IssueSubmitted issueSubmitted) {\n        publisher.send(&quot;issue-submitted-events&quot;, issueSubmitted);\n    }\n}\n</code></pre>\n<p>And received like this:</p>\n<pre><code>@Bean\npublic Consumer&lt;IssueSubmitted&gt; issueSubmittedEventConsumer(EmailSendingLogic sendEmail) {\n    return event -&gt; sendEmail(...);\n}\n</code></pre>\n<p>With this configuration:</p>\n<pre><code># Rabbit MQ\nspring.rabbitmq.host=${RABBITMQ_HOST:localhost}\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=${RABBITMQ_CLIENT_USERNAME:guest}\nspring.rabbitmq.password=${RABBITMQ_CLIENT_PASSWORD:guest}\n\nspring.cloud.function.definition=issueSubmittedEventConsumer\nspring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.destination=issue-submitted-events\nspring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.group=some-named-group\n</code></pre>\n<p>Is there some additional configuration we can use to limit the amount of recipients of this message to 1, no matter how many instances of the Consumer Spring Application we start?</p>\n<p>I have already tried to add the group, which did nothing. Having a separate group-name for each service would also not accomplish much, I'd think. Googling this issue has not been very helpful, since most people seem to want the opposite, where a consumer want to listen to multiple queues, or should receive all messages. And none of the tutorials mention a cloud environment with autoscaling.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","bean-validation"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677764615,"post_id":75614175,"comment_id":133404836,"body_markdown":"there is a question here about the differences between the 2 exceptions: https://stackoverflow.com/questions/57010688/what-is-the-difference-between-constraintviolationexception-and-methodargumentno\nAdditionally, this article also explains it pretty well: https://reflectoring.io/bean-validation-with-spring-boot/","body":"there is a question here about the differences between the 2 exceptions: <a href=\"https://stackoverflow.com/questions/57010688/what-is-the-difference-between-constraintviolationexception-and-methodargumentno\" title=\"what is the difference between constraintviolationexception and methodargumentno\">stackoverflow.com/questions/57010688/&hellip;</a> Additionally, this article also explains it pretty well: <a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">reflectoring.io/bean-validation-with-spring-boot</a>"},{"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"score":0,"creation_date":1677764921,"post_id":75614175,"comment_id":133404936,"body_markdown":"Thank you. I am aware of the difference you mentioned. But as explained, the issue is that in both instances the different exceptions originate from deserialization and validation in the course of REST Controllers, as pointed out in my initial post.","body":"Thank you. I am aware of the difference you mentioned. But as explained, the issue is that in both instances the different exceptions originate from deserialization and validation in the course of REST Controllers, as pointed out in my initial post."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677837251,"creation_date":1677822053,"answer_id":75623536,"question_id":75614175,"body_markdown":"There are 2 levels of validation here which first validate on the controller layer , then validate on the bean method.(See [this][1] for more details)\r\n\r\nBoth validations at the end delegate to Bean Validation to validate but calling different validation methods:\r\n- In controller layer , it calls `Validator#validate()` and throw `MethodArgumentNotValidException` if fails\r\n- In bean method layer , it calls `ExecutableValidator#validateParameters()` and throw `ConstraintViolationException` if fails.\r\n\r\nFor the entities list case, the problem is Bean Validation does not works for `Validator#validate(List&lt;TestEntity&gt; testEntities)` (p.s. not sure why but I guess it is not supported). So actually no validation happens on the controller layer and the validation finally take place on the bean method layer which throws `ConstraintViolationException`.\r\n\r\nTo make `Validator#validate(List&lt;TestEntity&gt; testEntities)` work , you can wrap the list into a wrapper object . Note that you also need to annotate `@Valid` in the List &#39;s type argument : \r\n\r\n``` java\r\npublic class TestEntityListWrapper {\r\n\r\n    public List&lt;@Valid TestEntity&gt; entities = new ArrayList&lt;&gt;();\r\n\r\n    public TestEntityListWrapper(){\r\n\r\n    }\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\r\n    public TestEntityListWrapper(List&lt;TestEntity&gt; entities){\r\n        this.entities = entities;\r\n    }\r\n}\r\n\r\n@PostMapping(path = &quot;/test-entities&quot;)\r\npublic ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntityListWrapper testEntities) {\r\n\r\n}\r\n\r\n```\r\n\r\nThen it will throw `MethodArgumentNotValidException` for both case.\r\n\r\n\r\nOr if you want both of them throw `ConstraintViolationExceptions` , you can refer to my answers at [here][2] to disable the Bean Validation in controller layer :\r\n\r\n``` java\r\npublic class TestController{\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(null);\r\n   }\r\n\r\n  @PostMapping(path = &quot;/test-entities&quot;)\r\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/69692047/339637\r\n  [2]: https://stackoverflow.com/a/69692047/339637","title":"Inconsistent Validation Exception Types in Spring Web REST Controllers when handling Lists and Single Entities","body":"<p>There are 2 levels of validation here which first validate on the controller layer , then validate on the bean method.(See <a href=\"https://stackoverflow.com/a/69692047/339637\">this</a> for more details)</p>\n<p>Both validations at the end delegate to Bean Validation to validate but calling different validation methods:</p>\n<ul>\n<li>In controller layer , it calls <code>Validator#validate()</code> and throw <code>MethodArgumentNotValidException</code> if fails</li>\n<li>In bean method layer , it calls <code>ExecutableValidator#validateParameters()</code> and throw <code>ConstraintViolationException</code> if fails.</li>\n</ul>\n<p>For the entities list case, the problem is Bean Validation does not works for <code>Validator#validate(List&lt;TestEntity&gt; testEntities)</code> (p.s. not sure why but I guess it is not supported). So actually no validation happens on the controller layer and the validation finally take place on the bean method layer which throws <code>ConstraintViolationException</code>.</p>\n<p>To make <code>Validator#validate(List&lt;TestEntity&gt; testEntities)</code> work , you can wrap the list into a wrapper object . Note that you also need to annotate <code>@Valid</code> in the List 's type argument :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestEntityListWrapper {\n\n    public List&lt;@Valid TestEntity&gt; entities = new ArrayList&lt;&gt;();\n\n    public TestEntityListWrapper(){\n\n    }\n\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\n    public TestEntityListWrapper(List&lt;TestEntity&gt; entities){\n        this.entities = entities;\n    }\n}\n\n@PostMapping(path = &quot;/test-entities&quot;)\npublic ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntityListWrapper testEntities) {\n\n}\n\n</code></pre>\n<p>Then it will throw <code>MethodArgumentNotValidException</code> for both case.</p>\n<p>Or if you want both of them throw <code>ConstraintViolationExceptions</code> , you can refer to my answers at <a href=\"https://stackoverflow.com/a/69692047/339637\">here</a> to disable the Bean Validation in controller layer :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestController{\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(null);\n   }\n\n  @PostMapping(path = &quot;/test-entities&quot;)\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\n\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75623536,"answer_count":1,"score":1,"last_activity_date":1677837251,"creation_date":1677752992,"question_id":75614175,"body_markdown":"I am currently struggling with seemingly inconsistent behavior when dealing with request body validation in Spring REST Controllers.\r\n\r\nValidation of singular entities result in a `MethodArgumentNotValidException`. Validation of Collections of the same entity class result in a `ConstraintViolationException`. My understanding is that the `MethodArgumentNotValidException` is the expected result during handling of Spring REST controllers, while `ConstraintViolationException`s are expected when Bean validation is done by Hibernate or other frameworks. However, in this case both occur while validating `@RequestBody` annotated entities.\r\n\r\nIs there an explanation for this inconsistency? Furthermore, can I unify application behavior in any way? Handling of two different exception types translating validation exceptions completely differently is not ideal.\r\n\r\n\r\n_Example:_\r\n\r\n**Controller:**\r\n\r\n```\r\n@Validated\r\n@RestController\r\n@Slf4j\r\npublic class TestController {\r\n\r\n  @PostMapping(path = &quot;/test-entities&quot;)\r\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\r\n    log.info(&quot;Received: {}&quot;, testEntities);\r\n    return ResponseEntity.noContent()\r\n        .build();\r\n  }\r\n\r\n  @PostMapping(path = &quot;/test-entity&quot;)\r\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntity testEntity) {\r\n    log.info(&quot;Received {}&quot;, testEntity);\r\n    return ResponseEntity.noContent()\r\n        .build();\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Test Entity:**\r\n```\r\n@Data\r\npublic class TestEntity {\r\n  @NotEmpty String foo;\r\n}\r\n```\r\n\r\n**Controller Advice:**\r\n```\r\n@ControllerAdvice\r\npublic class TestControllerAdvice {\r\n\r\n  @ExceptionHandler(Exception.class)\r\n  ResponseEntity&lt;String&gt; handleException(Exception exception) {\r\n    return ResponseEntity.badRequest()\r\n        .body(exception.getClass().getSimpleName());\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Test of Described Behavior**\r\n```\r\n@WebMvcTest(controllers = TestController.class)\r\nclass ValidationExceptionsIssueApplicationTests {\r\n\r\n  @Autowired\r\n  MockMvc mockMvc;\r\n\r\n  String expectedException = MethodArgumentNotValidException.class.getSimpleName();\r\n\r\n  @Test\r\n  void assertThatNoExceptionIsReturned() throws Exception {\r\n    mockMvc.perform(post(&quot;/test-entities&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;&quot;&quot;\r\n                [\r\n                  {&quot;foo&quot;: &quot;bar&quot;}\r\n                ]\r\n                &quot;&quot;&quot;))\r\n        .andExpect(status().isNoContent());\r\n  }\r\n\r\n  @Test\r\n  void whenSingleEntityIsSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\r\n    mockMvc.perform(post(&quot;/test-entity&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;&quot;&quot;\r\n                  {&quot;foo&quot;: &quot;&quot;}\r\n                &quot;&quot;&quot;))\r\n        .andExpectAll(\r\n            status().isBadRequest(),\r\n            content().string(expectedException)\r\n        );\r\n  }\r\n\r\n  @Test\r\n  void whenArrayOfEntitiesAreSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\r\n    mockMvc.perform(post(&quot;/test-entities&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;&quot;&quot;\r\n                [\r\n                  {&quot;foo&quot;: &quot;&quot;}\r\n                ]\r\n                &quot;&quot;&quot;))\r\n        .andExpectAll(\r\n            status().isBadRequest(),\r\n            content().string(expectedException) // &lt;-- fails\r\n        );\r\n  }\r\n\r\n}\r\n```","title":"Inconsistent Validation Exception Types in Spring Web REST Controllers when handling Lists and Single Entities","body":"<p>I am currently struggling with seemingly inconsistent behavior when dealing with request body validation in Spring REST Controllers.</p>\n<p>Validation of singular entities result in a <code>MethodArgumentNotValidException</code>. Validation of Collections of the same entity class result in a <code>ConstraintViolationException</code>. My understanding is that the <code>MethodArgumentNotValidException</code> is the expected result during handling of Spring REST controllers, while <code>ConstraintViolationException</code>s are expected when Bean validation is done by Hibernate or other frameworks. However, in this case both occur while validating <code>@RequestBody</code> annotated entities.</p>\n<p>Is there an explanation for this inconsistency? Furthermore, can I unify application behavior in any way? Handling of two different exception types translating validation exceptions completely differently is not ideal.</p>\n<p><em>Example:</em></p>\n<p><strong>Controller:</strong></p>\n<pre><code>@Validated\n@RestController\n@Slf4j\npublic class TestController {\n\n  @PostMapping(path = &quot;/test-entities&quot;)\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\n    log.info(&quot;Received: {}&quot;, testEntities);\n    return ResponseEntity.noContent()\n        .build();\n  }\n\n  @PostMapping(path = &quot;/test-entity&quot;)\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntity testEntity) {\n    log.info(&quot;Received {}&quot;, testEntity);\n    return ResponseEntity.noContent()\n        .build();\n  }\n\n}\n</code></pre>\n<p><strong>Test Entity:</strong></p>\n<pre><code>@Data\npublic class TestEntity {\n  @NotEmpty String foo;\n}\n</code></pre>\n<p><strong>Controller Advice:</strong></p>\n<pre><code>@ControllerAdvice\npublic class TestControllerAdvice {\n\n  @ExceptionHandler(Exception.class)\n  ResponseEntity&lt;String&gt; handleException(Exception exception) {\n    return ResponseEntity.badRequest()\n        .body(exception.getClass().getSimpleName());\n  }\n\n}\n</code></pre>\n<p><strong>Test of Described Behavior</strong></p>\n<pre><code>@WebMvcTest(controllers = TestController.class)\nclass ValidationExceptionsIssueApplicationTests {\n\n  @Autowired\n  MockMvc mockMvc;\n\n  String expectedException = MethodArgumentNotValidException.class.getSimpleName();\n\n  @Test\n  void assertThatNoExceptionIsReturned() throws Exception {\n    mockMvc.perform(post(&quot;/test-entities&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;&quot;&quot;\n                [\n                  {&quot;foo&quot;: &quot;bar&quot;}\n                ]\n                &quot;&quot;&quot;))\n        .andExpect(status().isNoContent());\n  }\n\n  @Test\n  void whenSingleEntityIsSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\n    mockMvc.perform(post(&quot;/test-entity&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;&quot;&quot;\n                  {&quot;foo&quot;: &quot;&quot;}\n                &quot;&quot;&quot;))\n        .andExpectAll(\n            status().isBadRequest(),\n            content().string(expectedException)\n        );\n  }\n\n  @Test\n  void whenArrayOfEntitiesAreSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\n    mockMvc.perform(post(&quot;/test-entities&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;&quot;&quot;\n                [\n                  {&quot;foo&quot;: &quot;&quot;}\n                ]\n                &quot;&quot;&quot;))\n        .andExpectAll(\n            status().isBadRequest(),\n            content().string(expectedException) // &lt;-- fails\n        );\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring","apache-nifi"],"owner":{"account_id":4612522,"reputation":117,"user_id":3740148,"display_name":"user3740148"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677837046,"creation_date":1677837046,"question_id":75625513,"body_markdown":"I&#39;m writing a custom reporting task where I need access to `org.apache.nifi.controller.FlowController`. The final aim is to get access to `ProvenanceRepository` with which I&#39;ll be able to perform read operations. \r\n\r\nIn short, I need some way to access `WriteAheadProvenanceRepository` in custom processors and reporting tasks.","title":"How can I load NiFi beans into my Reporting task or processor?","body":"<p>I'm writing a custom reporting task where I need access to <code>org.apache.nifi.controller.FlowController</code>. The final aim is to get access to <code>ProvenanceRepository</code> with which I'll be able to perform read operations.</p>\n<p>In short, I need some way to access <code>WriteAheadProvenanceRepository</code> in custom processors and reporting tasks.</p>\n"},{"tags":["java","or-tools"],"answers":[{"tags":[],"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623227887,"creation_date":1623227887,"answer_id":67900522,"question_id":67899874,"body_markdown":"The official artifacts are:  \r\ngroupe: com.google.ortools, artifact: ortools-java\r\n\r\nhttps://search.maven.org/artifact/com.google.ortools/ortools-java/9.0.9048/jar","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>The official artifacts are:<br />\ngroupe: com.google.ortools, artifact: ortools-java</p>\n<p><a href=\"https://search.maven.org/artifact/com.google.ortools/ortools-java/9.0.9048/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.google.ortools/ortools-java/9.0.9048/jar</a></p>\n"},{"tags":[],"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1624530413,"creation_date":1624518444,"answer_id":68111047,"question_id":67899874,"body_markdown":"An example of Mac version.\r\n\r\nYou need two jars when using ortools in Java actually, `ortools-java-9.0.9048.jar` and `ortools-darwin-x86-64-9.0.9048.jar`. The two jar is unzipped from the official file and they are in the main directory.\r\n\r\n`ortools-java-9.0.9048.jar` is the algorithm package which you do not need to care to much. Adding dependency to your program is all of you need to do.\r\n\r\nThe key is the `ortools-darwin-x86-64-9.0.9048.jar`. The following code is to read this jar to finally call the algorithm in `ortools-java-9.0.9048.jar`:\r\n```\r\nimport com.google.ortools.Loader;\r\nLoader.loadNativeLibraries();\r\n```\r\n\r\nIt usually works well in IDEA. But when you package the code to a jar file, error happens because of `Loader.loadNativeLibraries();` can not find the file in the `ortools-darwin-x86-64-9.0.9048.jar`.\r\n\r\nThe solution is to unzip `ortools-darwin-x86-64-9.0.9048.jar` and get the absolute path of `libjniortools.dylib`(if you are using linux, it will be a file similar as `libjniortools.so` and a file similar as `libjniortools.dll` in Windows). And using the following code instead of `Loader.loadNativeLibraries();`\r\n```\r\nSystem.load(&quot;Absolute path/libjniortools.dylib&quot;);\r\n```\r\n\r\nIt will work after you package your code by this method.","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>An example of Mac version.</p>\n<p>You need two jars when using ortools in Java actually, <code>ortools-java-9.0.9048.jar</code> and <code>ortools-darwin-x86-64-9.0.9048.jar</code>. The two jar is unzipped from the official file and they are in the main directory.</p>\n<p><code>ortools-java-9.0.9048.jar</code> is the algorithm package which you do not need to care to much. Adding dependency to your program is all of you need to do.</p>\n<p>The key is the <code>ortools-darwin-x86-64-9.0.9048.jar</code>. The following code is to read this jar to finally call the algorithm in <code>ortools-java-9.0.9048.jar</code>:</p>\n<pre><code>import com.google.ortools.Loader;\nLoader.loadNativeLibraries();\n</code></pre>\n<p>It usually works well in IDEA. But when you package the code to a jar file, error happens because of <code>Loader.loadNativeLibraries();</code> can not find the file in the <code>ortools-darwin-x86-64-9.0.9048.jar</code>.</p>\n<p>The solution is to unzip <code>ortools-darwin-x86-64-9.0.9048.jar</code> and get the absolute path of <code>libjniortools.dylib</code>(if you are using linux, it will be a file similar as <code>libjniortools.so</code> and a file similar as <code>libjniortools.dll</code> in Windows). And using the following code instead of <code>Loader.loadNativeLibraries();</code></p>\n<pre><code>System.load(&quot;Absolute path/libjniortools.dylib&quot;);\n</code></pre>\n<p>It will work after you package your code by this method.</p>\n"},{"tags":[],"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633711466,"creation_date":1633711466,"answer_id":69499213,"question_id":67899874,"body_markdown":"For macOS, you can try this code, similar like @Muz solution\r\n\r\n```java\r\npublic static void loadOrToolLibrary() {\r\n        String os = System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase(Locale.ENGLISH);\r\n        if (os.equals(&quot;mac os x&quot;)) { // only for MAC local\r\n            File file = new File(&quot;src/main/resources/macosLocal/libjniortools.dylib&quot;);\r\n            String absolutePath = file.getAbsolutePath();\r\n            System.load(absolutePath);\r\n        } else {\r\n            Loader.loadNativeLibraries();\r\n        }\r\n    }\r\n\r\n```","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>For macOS, you can try this code, similar like @Muz solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void loadOrToolLibrary() {\n        String os = System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase(Locale.ENGLISH);\n        if (os.equals(&quot;mac os x&quot;)) { // only for MAC local\n            File file = new File(&quot;src/main/resources/macosLocal/libjniortools.dylib&quot;);\n            String absolutePath = file.getAbsolutePath();\n            System.load(absolutePath);\n        } else {\n            Loader.loadNativeLibraries();\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68111047,"answer_count":3,"score":4,"last_activity_date":1677836437,"creation_date":1623225253,"question_id":67899874,"body_markdown":"After mvn install to generate jar. Can not Loader.loadNativeLibraries() on windows.\r\n\r\nThe version of ortools is 9.0.9048. I used it on windows.\r\nI added the following two jar to the project and I added them as the [link][1] said.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen the two jar is in here of the IDEA.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThe pom file is the following:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen I can run the program normally in IDEA. But when I mvn install to generate the jar file and run the jar by &#39;java -jar jarfile.jar&#39;, it errors as:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIt said java.nio.file.NoSuchFileException: /BOOT-INF/lib/ortools-win32-9.0.jar!/win32-x86-64/, but when I open the jar in winrar, it exists.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nDoes anyone know the reason?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\r\n  [2]: https://i.stack.imgur.com/9ZNUW.png\r\n  [3]: https://i.stack.imgur.com/HZG9M.png\r\n  [4]: https://i.stack.imgur.com/rLMiZ.png\r\n  [5]: https://i.stack.imgur.com/vdxwe.png\r\n  [6]: https://i.stack.imgur.com/3dkoc.png","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>After mvn install to generate jar. Can not Loader.loadNativeLibraries() on windows.</p>\n<p>The version of ortools is 9.0.9048. I used it on windows.\nI added the following two jar to the project and I added them as the <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">link</a> said.</p>\n<p><a href=\"https://i.stack.imgur.com/9ZNUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ZNUW.png\" alt=\"enter image description here\" /></a></p>\n<p>Then the two jar is in here of the IDEA.</p>\n<p><a href=\"https://i.stack.imgur.com/HZG9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HZG9M.png\" alt=\"enter image description here\" /></a></p>\n<p>The pom file is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/rLMiZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLMiZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I can run the program normally in IDEA. But when I mvn install to generate the jar file and run the jar by 'java -jar jarfile.jar', it errors as:</p>\n<p><a href=\"https://i.stack.imgur.com/vdxwe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdxwe.png\" alt=\"enter image description here\" /></a></p>\n<p>It said java.nio.file.NoSuchFileException: /BOOT-INF/lib/ortools-win32-9.0.jar!/win32-x86-64/, but when I open the jar in winrar, it exists.</p>\n<p><a href=\"https://i.stack.imgur.com/3dkoc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3dkoc.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know the reason?</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677836426,"creation_date":1677836426,"answer_id":75625410,"question_id":75625330,"body_markdown":"Spring Boot&#39;s Gradle plugin requires Java 17. This means that Gradle itself needs to be run using Java 17 as plugin classes are loaded in Gradle&#39;s JVM. Toolchain&#39;s only affect tasks that run in a separate JVM such as Java compilation and running tests.","title":"Gradle toolchain resolver plugin doesn&#39;t download jdk17 for a spring boot 3 project","body":"<p>Spring Boot's Gradle plugin requires Java 17. This means that Gradle itself needs to be run using Java 17 as plugin classes are loaded in Gradle's JVM. Toolchain's only affect tasks that run in a separate JVM such as Java compilation and running tests.</p>\n"}],"owner":{"account_id":2416760,"reputation":372,"user_id":2110620,"display_name":"cesarse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625410,"answer_count":1,"score":1,"last_activity_date":1677836426,"creation_date":1677835831,"question_id":75625330,"body_markdown":"It seems spring boot gradle plugin version 3.x is not working with the toolchain resolver plugin under jdk8.\r\nThis simple *build.gradle*:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    }\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    sourceCompatibility = 17\r\n    targetCompatibility = 17\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(17)\r\n        }\r\n    }\r\n\r\nAlong with this simple *settings.gradle*:\r\n\r\n    plugins {\r\n        id &#39;org.gradle.toolchains.foojay-resolver-convention&#39; version &#39;0.4.0&#39; \r\n    }\r\n    rootProject.name = &#39;myAwesomeProject&#39;\r\n\r\nFail with the following error when running a simple *gradle build*:\r\n&lt;pre&gt;&lt;font color=&quot;#C01C28&quot;&gt;FAILURE: Build failed with an exception.&lt;/font&gt;\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &amp;apos;myAwesomeProject&amp;apos;.\r\n&lt;font color=&quot;#A2734C&quot;&gt;&amp;gt; &lt;/font&gt;Could not resolve all files for configuration &amp;apos;:classpath&amp;apos;.\r\n   &lt;font color=&quot;#A2734C&quot;&gt;&amp;gt; &lt;/font&gt;Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.3.\r\n     Required by:\r\n         project : &amp;gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.3\r\n      &lt;font color=&quot;#A2734C&quot;&gt;&amp;gt; &lt;/font&gt;No matching variant of &lt;font color=&quot;#A2734C&quot;&gt;org.springframework.boot:spring-boot-gradle-plugin:3.0.3&lt;/font&gt; was found. The consumer was configured to find &lt;b&gt;a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &amp;apos;org.gradle.plugin.api-version&amp;apos; with value &amp;apos;8.0.1&amp;apos;&lt;/b&gt; but:\r\n          - Variant &amp;apos;apiElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during compile-time, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during runtime, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;javadocElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a component for use during runtime, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;documentation&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a library&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attributes:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its target Java version (required compatibility with Java 8)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its elements (required them packaged as a jar)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;mavenOptionalApiElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during compile-time, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during runtime, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;mavenOptionalRuntimeElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library for use during runtime, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;runtimeElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library for use during runtime, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;sourcesElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a component for use during runtime, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;documentation&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a library&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attributes:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its target Java version (required compatibility with Java 8)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its elements (required them packaged as a jar)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n&lt;/pre&gt;\r\nIf I downgrade the spring boot version to 2.7.9 then jdk17 is downloaded and everything works as expected.\r\n\r\nAm I missing something? I know spring boot 3.x requires jdk17, that&#39;s why I&#39;m using the toolchain resolver.\r\n\r\nThere&#39;s a plugin called *com.github.rmee.jdk-bootstrap* that works, I just prefer using the toolchain due to its simplicity (like not having to deal with URLs).\r\n\r\nIf it&#39;s a bug, what plugin project should I open a bug ticket to?","title":"Gradle toolchain resolver plugin doesn&#39;t download jdk17 for a spring boot 3 project","body":"<p>It seems spring boot gradle plugin version 3.x is not working with the toolchain resolver plugin under jdk8.\nThis simple <em>build.gradle</em>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n}\ntest {\n    useJUnitPlatform()\n}\nsourceCompatibility = 17\ntargetCompatibility = 17\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n<p>Along with this simple <em>settings.gradle</em>:</p>\n<pre><code>plugins {\n    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.4.0' \n}\nrootProject.name = 'myAwesomeProject'\n</code></pre>\n<p>Fail with the following error when running a simple <em>gradle build</em>:</p>\n<pre>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project &apos;myAwesomeProject&apos;.\n&gt; Could not resolve all files for configuration &apos;:classpath&apos;.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.3.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.3\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.3 was found. The consumer was configured to find <b>a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &apos;org.gradle.plugin.api-version&apos; with value &apos;8.0.1&apos;</b> but:\n          - Variant &apos;apiElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a library, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component for use during compile-time, compatible with Java 17</b> and the consumer needed <b>a component for use during runtime, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;javadocElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a component for use during runtime, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>documentation</b> and the consumer needed <b>a library</b>\n              - Other compatible attributes:\n                  - Doesn&apos;t say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn&apos;t say anything about its elements (required them packaged as a jar)\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;mavenOptionalApiElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares <b>a library, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component for use during compile-time, compatible with Java 17</b> and the consumer needed <b>a component for use during runtime, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;mavenOptionalRuntimeElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares <b>a library for use during runtime, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component, compatible with Java 17</b> and the consumer needed <b>a component, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;runtimeElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a library for use during runtime, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component, compatible with Java 17</b> and the consumer needed <b>a component, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;sourcesElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a component for use during runtime, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>documentation</b> and the consumer needed <b>a library</b>\n              - Other compatible attributes:\n                  - Doesn&apos;t say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn&apos;t say anything about its elements (required them packaged as a jar)\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n</pre>\n<p>If I downgrade the spring boot version to 2.7.9 then jdk17 is downloaded and everything works as expected.</p>\n<p>Am I missing something? I know spring boot 3.x requires jdk17, that's why I'm using the toolchain resolver.</p>\n<p>There's a plugin called <em>com.github.rmee.jdk-bootstrap</em> that works, I just prefer using the toolchain due to its simplicity (like not having to deal with URLs).</p>\n<p>If it's a bug, what plugin project should I open a bug ticket to?</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677835661,"creation_date":1677831226,"question_id":75624624,"body_markdown":"I work with grid elastic search, I need to find point with filter\r\n\r\nI use filter in box bounds and return one count\r\n\r\n![One count in point][1]\r\n\r\n\r\nMy query: \r\n\r\n    {\r\n      &quot;aggregations&quot;: {\r\n        &quot;zoomed-in&quot;: {\r\n          &quot;filter&quot;: {\r\n            &quot;geo_bounding_box&quot;: {\r\n              &quot;location.geoPoint&quot;: {\r\n                &quot;top_left&quot;: &quot;POINT(32.30286760546873 56.77911060795688)&quot;,\r\n                &quot;bottom_right&quot;: &quot;POINT(39.57581682421874 54.15904692548514)&quot;\r\n              }\r\n            }\r\n          },\r\n          &quot;aggregations&quot;: {\r\n            &quot;zoom1&quot;: {\r\n              &quot;geohash_grid&quot;: {\r\n                &quot;field&quot;: &quot;location.geoPoint&quot;,\r\n                &quot;precision&quot;: 5\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;should&quot;: [\r\n            {\r\n              &quot;match&quot;: {\r\n                &quot;categoryId&quot;: &quot;16&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nBut if I get this point I have 4 elements\r\n\r\n![Read by hash][2]\r\n\r\n\r\nHow I need add filter in query, or that I need to do that I can return one element in point.\r\n\r\nMaybe query I want to see, but its not work:\r\n\r\n![Not correct query][3]\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;geo_grid&quot;: {\r\n          &quot;location.geoPoint&quot;: {\r\n            &quot;geohash&quot;: &quot;ucftp&quot;\r\n          }\r\n        },\r\n        &quot;bool&quot;: {\r\n          &quot;filter&quot;: [\r\n            {\r\n              &quot;term&quot;: {\r\n                &quot;categoryId&quot;: &quot;16&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBg6X.png\r\n  [2]: https://i.stack.imgur.com/8ZbI8.png\r\n  [3]: https://i.stack.imgur.com/cle53.png","title":"How I can use geo grid with filter query? (Elasticsearch)","body":"<p>I work with grid elastic search, I need to find point with filter</p>\n<p>I use filter in box bounds and return one count</p>\n<p><img src=\"https://i.stack.imgur.com/HBg6X.png\" alt=\"One count in point\" /></p>\n<p>My query:</p>\n<pre><code>{\n  &quot;aggregations&quot;: {\n    &quot;zoomed-in&quot;: {\n      &quot;filter&quot;: {\n        &quot;geo_bounding_box&quot;: {\n          &quot;location.geoPoint&quot;: {\n            &quot;top_left&quot;: &quot;POINT(32.30286760546873 56.77911060795688)&quot;,\n            &quot;bottom_right&quot;: &quot;POINT(39.57581682421874 54.15904692548514)&quot;\n          }\n        }\n      },\n      &quot;aggregations&quot;: {\n        &quot;zoom1&quot;: {\n          &quot;geohash_grid&quot;: {\n            &quot;field&quot;: &quot;location.geoPoint&quot;,\n            &quot;precision&quot;: 5\n          }\n        }\n      }\n    }\n  },\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;should&quot;: [\n        {\n          &quot;match&quot;: {\n            &quot;categoryId&quot;: &quot;16&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>But if I get this point I have 4 elements</p>\n<p><img src=\"https://i.stack.imgur.com/8ZbI8.png\" alt=\"Read by hash\" /></p>\n<p>How I need add filter in query, or that I need to do that I can return one element in point.</p>\n<p>Maybe query I want to see, but its not work:</p>\n<p><img src=\"https://i.stack.imgur.com/cle53.png\" alt=\"Not correct query\" /></p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;geo_grid&quot;: {\n      &quot;location.geoPoint&quot;: {\n        &quot;geohash&quot;: &quot;ucftp&quot;\n      }\n    },\n    &quot;bool&quot;: {\n      &quot;filter&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;categoryId&quot;: &quot;16&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","ehcache","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403163655,"creation_date":1403163655,"answer_id":24301241,"question_id":24301074,"body_markdown":"Your description makes one thing clear: It does not work when you compile with `javac`, but it does work with the Eclipse compiler `ecj`. You might be compiling without debugging information.","title":"spring @Cacheable with Ehcache, spel find null for valid object","body":"<p>Your description makes one thing clear: It does not work when you compile with <code>javac</code>, but it does work with the Eclipse compiler <code>ecj</code>. You might be compiling without debugging information.</p>\n"},{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677835649,"creation_date":1677835649,"answer_id":75625292,"question_id":24301074,"body_markdown":"I was also encountering a `SpelEvaluationException: Field or property &#39;xxx&#39; cannot be found on null` in the Spring Expression Language (SpEL) of my @Cacheable annotation. \r\nI looked in debug mode to ensure that the passed argument was not null, I added a Cacheable condition to ensure its non-nullity, I added @NonNull annotations, so this made no sense that the property was detected as null.\r\n\r\nFor me, the solution was to rename the property in the SpEL of the Cacheable annotation. I then decided to use the lowercase version of the argument&#39;s classname instead of some other name. I think that Spring is not reusing the actual argument name as it is written in the method signature, Spring is making its own assumption about the argument name, by turning the classname into lowercase or something similar.\r\n\r\nThis works:\r\n\r\n    @Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#myArgument.id&quot;)\r\n    Object findXByY(MyArgument myArgument); \r\n\r\nThis doesn&#39;t work:\r\n\r\n    @Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#anotherName.id&quot;)\r\n    Object findXByY(MyArgument anotherName);","title":"spring @Cacheable with Ehcache, spel find null for valid object","body":"<p>I was also encountering a <code>SpelEvaluationException: Field or property 'xxx' cannot be found on null</code> in the Spring Expression Language (SpEL) of my @Cacheable annotation.\nI looked in debug mode to ensure that the passed argument was not null, I added a Cacheable condition to ensure its non-nullity, I added @NonNull annotations, so this made no sense that the property was detected as null.</p>\n<p>For me, the solution was to rename the property in the SpEL of the Cacheable annotation. I then decided to use the lowercase version of the argument's classname instead of some other name. I think that Spring is not reusing the actual argument name as it is written in the method signature, Spring is making its own assumption about the argument name, by turning the classname into lowercase or something similar.</p>\n<p>This works:</p>\n<pre><code>@Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#myArgument.id&quot;)\nObject findXByY(MyArgument myArgument); \n</code></pre>\n<p>This doesn't work:</p>\n<pre><code>@Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#anotherName.id&quot;)\nObject findXByY(MyArgument anotherName);\n</code></pre>\n"}],"owner":{"account_id":1557463,"reputation":354,"user_id":1448121,"accept_rate":29,"display_name":"JayabalanAaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3984,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24301241,"answer_count":2,"score":2,"last_activity_date":1677835649,"creation_date":1403163021,"question_id":24301074,"body_markdown":"I have a similar [problem][1] which but sometimes it works. The error described only happens once in a while.\r\n\r\nI am using spring 3.2.5 and ehcache 2.6.5.\r\n\r\nException trace:\r\n\r\n    org.springframework.expression.spel.SpelEvaluationException: EL1007E:(pos 0): Field or property &#39;applicationID&#39; cannot be found on null\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:85)\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:43)\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:346)\r\n        \tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:82)\r\n        \tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:93)\r\n        \tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:89)\r\n        \tat org.springframework.cache.interceptor.ExpressionEvaluator.key(ExpressionEvaluator.java:95)\r\n        \tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.generateKey(CacheAspectSupport.java:452)\r\n        \tat org.springframework.cache.interceptor.CacheAspectSupport.inspectCacheables(CacheAspectSupport.java:281)\r\n        \tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:199)\r\n        \tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:66)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        \tat com.sun.proxy.$Proxy85.getMailOrigin(Unknown Source)\r\n        \tat com.myApplication.MailFilterServiceImpl.isValid(ApplicationServiceImpl.java:134)\r\n\r\nMy caching code is a follows:\r\n\r\n    MailFilterServiceImpl\r\n        @Cacheable(value=&quot;mailClientsCache&quot;, key=&quot;#mb.applicationID&quot;)\r\n        \tpublic MailClientBean getMailOrigin(MailBean mb){}\r\n\r\n**When this happens**:\r\nWhen I have a jenkins configured to build and autodeploy to tomcat7 / when I use maven to build in the eclipse WS and deploy to tomcat7.\r\n\r\n**When this works perfectly**:\r\nAfter it has failed once, if I edit the MailFilterServiceImpl.java simply with some spaces to make it recompile in eclipse and restart the tomcat7 server.\r\n\r\nI need to make it work in a CI scenario.\r\n\r\n**[Update]**\r\nSetting compiler option debug:true works around this problem. The optimized doesnt seem to have any say.\r\n\r\n    &lt;debug&gt;true&lt;/debug&gt;\r\n    &lt;optimize&gt;true&lt;/optimize&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18157058/spring-cacheable-with-spel-key-always-evaluates-to-null/24301049#24301049","title":"spring @Cacheable with Ehcache, spel find null for valid object","body":"<p>I have a similar <a href=\"https://stackoverflow.com/questions/18157058/spring-cacheable-with-spel-key-always-evaluates-to-null/24301049#24301049\">problem</a> which but sometimes it works. The error described only happens once in a while.</p>\n\n<p>I am using spring 3.2.5 and ehcache 2.6.5.</p>\n\n<p>Exception trace:</p>\n\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1007E:(pos 0): Field or property 'applicationID' cannot be found on null\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:85)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:43)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:346)\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:82)\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:93)\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:89)\n        at org.springframework.cache.interceptor.ExpressionEvaluator.key(ExpressionEvaluator.java:95)\n        at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.generateKey(CacheAspectSupport.java:452)\n        at org.springframework.cache.interceptor.CacheAspectSupport.inspectCacheables(CacheAspectSupport.java:281)\n        at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:199)\n        at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:66)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n        at com.sun.proxy.$Proxy85.getMailOrigin(Unknown Source)\n        at com.myApplication.MailFilterServiceImpl.isValid(ApplicationServiceImpl.java:134)\n</code></pre>\n\n<p>My caching code is a follows:</p>\n\n<pre><code>MailFilterServiceImpl\n    @Cacheable(value=\"mailClientsCache\", key=\"#mb.applicationID\")\n        public MailClientBean getMailOrigin(MailBean mb){}\n</code></pre>\n\n<p><strong>When this happens</strong>:\nWhen I have a jenkins configured to build and autodeploy to tomcat7 / when I use maven to build in the eclipse WS and deploy to tomcat7.</p>\n\n<p><strong>When this works perfectly</strong>:\nAfter it has failed once, if I edit the MailFilterServiceImpl.java simply with some spaces to make it recompile in eclipse and restart the tomcat7 server.</p>\n\n<p>I need to make it work in a CI scenario.</p>\n\n<p><strong>[Update]</strong>\nSetting compiler option debug:true works around this problem. The optimized doesnt seem to have any say.</p>\n\n<pre><code>&lt;debug&gt;true&lt;/debug&gt;\n&lt;optimize&gt;true&lt;/optimize&gt;\n</code></pre>\n"},{"tags":["java","crash"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":1,"creation_date":1424740000,"post_id":28686567,"comment_id":45665591,"body_markdown":"why are u using recursion?","body":"why are u using recursion?"}],"answers":[{"tags":[],"owner":{"account_id":1912605,"reputation":317,"user_id":1725984,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424740374,"creation_date":1424740374,"answer_id":28686643,"question_id":28686567,"body_markdown":"Your solution is really over-engineered. Just do something like this:\r\n\r\n    public static void main(String [] args)\r\n    {\r\n      Scanner kbd = new Scanner(System.in);\r\n    \r\n      System.out.println(&quot;Enter the first number:&quot;);\r\n      int num1 = kbd.nextInt();\r\n    \r\n      System.out.println(&quot;Enter the second number:&quot;);\r\n      int num2 = kbd.nextInt();\r\n    \r\n      System.out.println(&quot;Enter the three number:&quot;);\r\n      int num3 = kbd.nextInt();\r\n    \r\n      Integer[] arr = new Integer[3]\r\n      arr[0] = num1;\r\n      arr[1] = num2;\r\n      arr[2] = num3;\r\n      Arrays.sort(arr, Collections.reverseOrder());\r\n      System.out.println(arr[0] + &quot; &quot; + arr[1] + &quot; &quot; + arr[2]);\r\n    }   \r\n\r\n ","title":"Program that will output three integers in descending ordrer","body":"<p>Your solution is really over-engineered. Just do something like this:</p>\n\n<pre><code>public static void main(String [] args)\n{\n  Scanner kbd = new Scanner(System.in);\n\n  System.out.println(\"Enter the first number:\");\n  int num1 = kbd.nextInt();\n\n  System.out.println(\"Enter the second number:\");\n  int num2 = kbd.nextInt();\n\n  System.out.println(\"Enter the three number:\");\n  int num3 = kbd.nextInt();\n\n  Integer[] arr = new Integer[3]\n  arr[0] = num1;\n  arr[1] = num2;\n  arr[2] = num3;\n  Arrays.sort(arr, Collections.reverseOrder());\n  System.out.println(arr[0] + \" \" + arr[1] + \" \" + arr[2]);\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5361635,"reputation":31,"user_id":4272708,"display_name":"Christian Hapgood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424740670,"creation_date":1424740670,"answer_id":28686684,"question_id":28686567,"body_markdown":"   Looks like you almost had it there. I assume you are a new student. If you just change the method to void (doesn&#39;t require a return value), you will get the answer you need from just calling the method. You had the method and your main both looping through println. I only deleted a few lines and changed the method signature to get it working.\r\n\r\n\r\n    \r\n    \r\n    public class Application {\r\n    \t\r\n    \tpublic void start() {\r\n    \t\t\r\n    \t\t  Scanner kbd = new Scanner(System.in);\r\n    \r\n    \t\t  System.out.println(&quot;Enter the first number:&quot;);\r\n    \t\t  int num1 = kbd.nextInt();\r\n    \r\n    \t\t  System.out.println(&quot;Enter the second number:&quot;);\r\n    \t\t  int num2 = kbd.nextInt();\r\n    \r\n    \t\t  System.out.println(&quot;Enter the three number:&quot;);\r\n    \t\t  int num3 = kbd.nextInt();\r\n    \r\n    \t\t  largeSmall(num1, num2, num3);\r\n    \t\t \r\n    \t\t  }\r\n    \t\t  \r\n    \t\r\n    \t\r\n    \tpublic static void largeSmall(int one, int two, int three)\r\n    \t\t  {\r\n    \t\t  if(one &gt; two &amp;&amp; two &gt; three)\r\n    \t\t  {\r\n    \t\t     System.out.println(one + &quot; &quot; + two + &quot; &quot; + three);\r\n    \t\t  }\r\n    \t\t  else if(two &gt; one &amp;&amp; one &gt; three)\r\n    \t\t  {\r\n    \t\t     System.out.println(two + &quot; &quot; + one + &quot; &quot; + three);\r\n    \t\t  }\r\n    \t\t  else if(three &gt; two &amp;&amp; two &gt; one)\r\n    \t\t  {\r\n    \t\t     System.out.println(three + &quot; &quot; + two + &quot; &quot; + one);\r\n    \t\t  }\r\n    \t\t  else\r\n    \t\t  {\r\n    \t\t     System.out.println(one + &quot; &quot; + three + &quot; &quot; + two);\r\n    \t\t  }\r\n    \t\t  \r\n    \t\t  \r\n    \t\t\r\n    \t}//end start method\r\n    \t\r\n    }//end application class","title":"Program that will output three integers in descending ordrer","body":"<p>Looks like you almost had it there. I assume you are a new student. If you just change the method to void (doesn't require a return value), you will get the answer you need from just calling the method. You had the method and your main both looping through println. I only deleted a few lines and changed the method signature to get it working.</p>\n\n<pre><code>public class Application {\n\n    public void start() {\n\n          Scanner kbd = new Scanner(System.in);\n\n          System.out.println(\"Enter the first number:\");\n          int num1 = kbd.nextInt();\n\n          System.out.println(\"Enter the second number:\");\n          int num2 = kbd.nextInt();\n\n          System.out.println(\"Enter the three number:\");\n          int num3 = kbd.nextInt();\n\n          largeSmall(num1, num2, num3);\n\n          }\n\n\n\n    public static void largeSmall(int one, int two, int three)\n          {\n          if(one &gt; two &amp;&amp; two &gt; three)\n          {\n             System.out.println(one + \" \" + two + \" \" + three);\n          }\n          else if(two &gt; one &amp;&amp; one &gt; three)\n          {\n             System.out.println(two + \" \" + one + \" \" + three);\n          }\n          else if(three &gt; two &amp;&amp; two &gt; one)\n          {\n             System.out.println(three + \" \" + two + \" \" + one);\n          }\n          else\n          {\n             System.out.println(one + \" \" + three + \" \" + two);\n          }\n\n\n\n    }//end start method\n\n}//end application class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424740773,"creation_date":1424740773,"answer_id":28686700,"question_id":28686567,"body_markdown":"`blm`&#39;s solution will work, but I thought it might be useful to know what was wrong with yours. You were constantly calling your same function over and over again. To fix it, do the following\r\n\r\n 1. Change the return type to `void`\r\n 2. Remove the return statement recursion\r\n 3. Replace `int result = largeSmall(num1, num2, num3);\r\n  System.out.println(result);` with `largeSmall(num1, num2 num3);`.","title":"Program that will output three integers in descending ordrer","body":"<p><code>blm</code>'s solution will work, but I thought it might be useful to know what was wrong with yours. You were constantly calling your same function over and over again. To fix it, do the following</p>\n\n<ol>\n<li>Change the return type to <code>void</code></li>\n<li>Remove the return statement recursion</li>\n<li>Replace <code>int result = largeSmall(num1, num2, num3);\nSystem.out.println(result);</code> with <code>largeSmall(num1, num2 num3);</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9673893,"reputation":1,"user_id":16293018,"display_name":"Feras Abushahla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479475643,"creation_date":1479469947,"answer_id":40676481,"question_id":28686567,"body_markdown":"    Scanner k = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the first number&quot;);\r\n    int c = k.nextInt();\r\n    System.out.println(&quot;Enter the second number&quot;);\r\n    int c2 = k.nextInt();\r\n    System.out.println(&quot;Enter the third number&quot;);\r\n    int c3 = k.nextInt();\r\n    int max = 0, mid = 0, min = 0;\r\n    if (c &gt; c2 &amp;&amp; c &gt; c3) {\r\n        max = c;\r\n        mid = (c2 &gt; c3) ? c2 : c3;\r\n        min = (c2 &gt; c3) ? c3 : c2;\r\n        System.out.println(&quot;In ascending :&quot;+min+&quot;,&quot;+mid+&quot;,&quot;+max);\r\n        System.out.println(&quot;In desascending :&quot;+max+&quot;,&quot;+mid+&quot;,&quot;+min);\r\n    } else if (c2 &gt; c &amp;&amp; c2 &gt; c3) {\r\n        max = c2;\r\n        mid = (c &gt; c3) ? c : c3;\r\n        min = (c &gt; c3) ? c3 : c;\r\n        System.out.println(&quot;In ascending :&quot;+min+&quot;,&quot;+mid+&quot;,&quot;+max);\r\n        System.out.println(&quot;In desascending :&quot;+max+&quot;,&quot;+mid+&quot;,&quot;+min);\r\n    } else if (c3 &gt; c &amp;&amp; c3 &gt; c2) {\r\n        max = c3;\r\n        mid = (c &gt; c2) ? c : c2;\r\n        min = (c &gt; c2) ? c2 : c;\r\n        System.out.println(&quot;In ascending :&quot;+min+&quot;,&quot;+mid+&quot;,&quot;+max);\r\n        System.out.println(&quot;In desascending :&quot;+max+&quot;,&quot;+mid+&quot;,&quot;+min);\r\n    }","title":"Program that will output three integers in descending ordrer","body":"<pre><code>Scanner k = new Scanner(System.in);\nSystem.out.println(\"Enter the first number\");\nint c = k.nextInt();\nSystem.out.println(\"Enter the second number\");\nint c2 = k.nextInt();\nSystem.out.println(\"Enter the third number\");\nint c3 = k.nextInt();\nint max = 0, mid = 0, min = 0;\nif (c &gt; c2 &amp;&amp; c &gt; c3) {\n    max = c;\n    mid = (c2 &gt; c3) ? c2 : c3;\n    min = (c2 &gt; c3) ? c3 : c2;\n    System.out.println(\"In ascending :\"+min+\",\"+mid+\",\"+max);\n    System.out.println(\"In desascending :\"+max+\",\"+mid+\",\"+min);\n} else if (c2 &gt; c &amp;&amp; c2 &gt; c3) {\n    max = c2;\n    mid = (c &gt; c3) ? c : c3;\n    min = (c &gt; c3) ? c3 : c;\n    System.out.println(\"In ascending :\"+min+\",\"+mid+\",\"+max);\n    System.out.println(\"In desascending :\"+max+\",\"+mid+\",\"+min);\n} else if (c3 &gt; c &amp;&amp; c3 &gt; c2) {\n    max = c3;\n    mid = (c &gt; c2) ? c : c2;\n    min = (c &gt; c2) ? c2 : c;\n    System.out.println(\"In ascending :\"+min+\",\"+mid+\",\"+max);\n    System.out.println(\"In desascending :\"+max+\",\"+mid+\",\"+min);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18395755,"reputation":1,"user_id":13400250,"display_name":"daoud daoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642508384,"creation_date":1590916582,"answer_id":62114009,"question_id":28686567,"body_markdown":"int num=0; Scanner kbd = new Scanner(System.in); num = kbd.nextInt(); System.out.println(num); Run this program but enter text instead of an integer. The program should crash and tell you what kind of exception was thrown by the nextInt method. Wrap this code inside a try/catch block where you catch the exception that is thrown. Add a loop so the user must enter the number again if text is entered. \r\n\r\n\r\n","title":"Program that will output three integers in descending ordrer","body":"<p>int num=0; Scanner kbd = new Scanner(System.in); num = kbd.nextInt(); System.out.println(num); Run this program but enter text instead of an integer. The program should crash and tell you what kind of exception was thrown by the nextInt method. Wrap this code inside a try/catch block where you catch the exception that is thrown. Add a loop so the user must enter the number again if text is entered.</p>\n"},{"tags":[],"owner":{"account_id":27893920,"reputation":1,"user_id":21299671,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677835618,"creation_date":1677525795,"answer_id":75584729,"question_id":28686567,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class AscendingAndDescending//defining a class AscendingAndDescending  \r\n\r\n{\r\n\r\n   public static void main(String[] args) //main method\r\n\r\n   {\r\n\r\n       int n1,n2,n3,min,max,m;\r\n\r\n       Scanner in = new Scanner(System.in);//creating Scanner class object\r\n\r\n       System.out.print(&quot;Enter an integer: &quot;);//print message\r\n\r\n       n1 = in.nextInt();//input value\r\n\r\n       System.out.print(&quot;And another: &quot;);//print message\r\n\r\n       n2 = in.nextInt();//input value\r\n\r\n       System.out.print(&quot;And just one more: &quot;);//print message\r\n\r\n       n3 = in.nextInt();//input value\r\n\r\n       min = n1; //use min variable that holds value\r\n\r\n       max = n1; //use mix variable that holds value\r\n\r\n       if (n2 &gt; max) max = n2;//use if to compare value and hols value in max variable\r\n\r\n       if (n3 &gt; max) max = n3;//use if to compare value and hols value in max variable\r\n\r\n       if (n2 &lt; min) min = n2;//use if to compare value and hols value in min variable\r\n\r\n       if (n3 &lt; min) min = n3;//use if to compare value and hols value in min variable\r\n\r\n       m = (n1 + n2 + n3) - (min + max);//defining m variable that arrange value\r\n\r\n       System.out.println(&quot;Ascending: &quot; + min + &quot; &quot; + m + &quot; &quot; + max);//print Ascending order value\r\n\r\n       System.out.println(&quot;Descending: &quot; + max + &quot; &quot; + m + &quot; &quot; + min);//print Descending order value\r\n\r\n   }\r\n\r\n}\r\n```","title":"Program that will output three integers in descending ordrer","body":"<pre><code>import java.util.Scanner;\n\npublic class AscendingAndDescending//defining a class AscendingAndDescending  \n\n{\n\n   public static void main(String[] args) //main method\n\n   {\n\n       int n1,n2,n3,min,max,m;\n\n       Scanner in = new Scanner(System.in);//creating Scanner class object\n\n       System.out.print(&quot;Enter an integer: &quot;);//print message\n\n       n1 = in.nextInt();//input value\n\n       System.out.print(&quot;And another: &quot;);//print message\n\n       n2 = in.nextInt();//input value\n\n       System.out.print(&quot;And just one more: &quot;);//print message\n\n       n3 = in.nextInt();//input value\n\n       min = n1; //use min variable that holds value\n\n       max = n1; //use mix variable that holds value\n\n       if (n2 &gt; max) max = n2;//use if to compare value and hols value in max variable\n\n       if (n3 &gt; max) max = n3;//use if to compare value and hols value in max variable\n\n       if (n2 &lt; min) min = n2;//use if to compare value and hols value in min variable\n\n       if (n3 &lt; min) min = n3;//use if to compare value and hols value in min variable\n\n       m = (n1 + n2 + n3) - (min + max);//defining m variable that arrange value\n\n       System.out.println(&quot;Ascending: &quot; + min + &quot; &quot; + m + &quot; &quot; + max);//print Ascending order value\n\n       System.out.println(&quot;Descending: &quot; + max + &quot; &quot; + m + &quot; &quot; + min);//print Descending order value\n\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5697247,"reputation":31,"user_id":4503390,"accept_rate":33,"display_name":"Edward Lavaire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28686684,"answer_count":6,"score":0,"last_activity_date":1677835618,"creation_date":1424739899,"question_id":28686567,"body_markdown":"This program is meant to prompt a user to enter three integers, store the integers in three separate variables, and output the three integers in descending order (highest to lowest values).\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ProgramToo\r\n    {\r\n    public static void main(String [] args)\r\n    {\r\n      Scanner kbd = new Scanner(System.in);\r\n      \r\n      System.out.println(&quot;Enter the first number:&quot;);\r\n      int num1 = kbd.nextInt();\r\n      \r\n      System.out.println(&quot;Enter the second number:&quot;);\r\n      int num2 = kbd.nextInt();\r\n      \r\n      System.out.println(&quot;Enter the three number:&quot;);\r\n      int num3 = kbd.nextInt();\r\n      \r\n      int result = largeSmall(num1, num2, num3);\r\n      System.out.println(result);\r\n      }\r\n      public static int largeSmall(int one, int two, int three)\r\n      {\r\n      if(one &gt; two &amp;&amp; two &gt; three)\r\n      {\r\n         System.out.println(one + &quot; &quot; + two + &quot; &quot; + three);\r\n      }\r\n      else if(two &gt; one &amp;&amp; one &gt; three)\r\n      {\r\n         System.out.println(two + &quot; &quot; + one + &quot; &quot; + three);\r\n      }\r\n      else if(three &gt; two &amp;&amp; two &gt; one)\r\n      {\r\n         System.out.println(three + &quot; &quot; + two + &quot; &quot; + one);\r\n      }\r\n      else\r\n      {\r\n         System.out.println(one + &quot; &quot; + three + &quot; &quot; + two);\r\n      }\r\n      return largeSmall(one, two, three);\r\n      }\r\n      }       \r\n\r\nWhen I run this program, it outputs the integers a million times and crashes. Why?","title":"Program that will output three integers in descending ordrer","body":"<p>This program is meant to prompt a user to enter three integers, store the integers in three separate variables, and output the three integers in descending order (highest to lowest values).</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ProgramToo\n{\npublic static void main(String [] args)\n{\n  Scanner kbd = new Scanner(System.in);\n\n  System.out.println(\"Enter the first number:\");\n  int num1 = kbd.nextInt();\n\n  System.out.println(\"Enter the second number:\");\n  int num2 = kbd.nextInt();\n\n  System.out.println(\"Enter the three number:\");\n  int num3 = kbd.nextInt();\n\n  int result = largeSmall(num1, num2, num3);\n  System.out.println(result);\n  }\n  public static int largeSmall(int one, int two, int three)\n  {\n  if(one &gt; two &amp;&amp; two &gt; three)\n  {\n     System.out.println(one + \" \" + two + \" \" + three);\n  }\n  else if(two &gt; one &amp;&amp; one &gt; three)\n  {\n     System.out.println(two + \" \" + one + \" \" + three);\n  }\n  else if(three &gt; two &amp;&amp; two &gt; one)\n  {\n     System.out.println(three + \" \" + two + \" \" + one);\n  }\n  else\n  {\n     System.out.println(one + \" \" + three + \" \" + two);\n  }\n  return largeSmall(one, two, three);\n  }\n  }       \n</code></pre>\n\n<p>When I run this program, it outputs the integers a million times and crashes. Why?</p>\n"},{"tags":["java","spring-boot","java-8","threadpool","undertow"],"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1677761229,"post_id":75615364,"comment_id":133403822,"body_markdown":"You can get default queue/pool size from UndertowWebServerFactory bean configuration.","body":"You can get default queue/pool size from UndertowWebServerFactory bean configuration."},{"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"score":0,"creation_date":1677833013,"post_id":75615364,"comment_id":133418877,"body_markdown":"I am using some dependency that has that configuration. in this case is there a way to check the default values?","body":"I am using some dependency that has that configuration. in this case is there a way to check the default values?"}],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677835603,"creation_date":1677835603,"answer_id":75625286,"question_id":75615364,"body_markdown":"You can get default queue and default pool size from `UndertowWebServerFactory` bean configuration.\r\n\r\nTrying below snippet to get the details.\r\n    \r\n      import org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer;\r\n        import org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        \r\n        @Configuration\r\n        public class UndertowConfig {\r\n        \r\n            @Bean\r\n            public UndertowWebServerFactoryCustomizer undertowWebServerFactoryCustomizer() {\r\n                return new UndertowWebServerFactoryCustomizer() {\r\n                    @Override\r\n                    public void customize(UndertowServletWebServerFactory factory) {\r\n                        System.out.println(&quot;Thread queue size: &quot; + factory.getBuilder().getIoThreads());\r\n                        System.out.println(&quot;Thread pool size: &quot; + factory.getBuilder().getWorkerThreads());\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        \r\n            ","title":"Default thread queue size for undertow","body":"<p>You can get default queue and default pool size from <code>UndertowWebServerFactory</code> bean configuration.</p>\n<p>Trying below snippet to get the details.</p>\n<pre><code>  import org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer;\n    import org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    @Configuration\n    public class UndertowConfig {\n    \n        @Bean\n        public UndertowWebServerFactoryCustomizer undertowWebServerFactoryCustomizer() {\n            return new UndertowWebServerFactoryCustomizer() {\n                @Override\n                public void customize(UndertowServletWebServerFactory factory) {\n                    System.out.println(&quot;Thread queue size: &quot; + factory.getBuilder().getIoThreads());\n                    System.out.println(&quot;Thread pool size: &quot; + factory.getBuilder().getWorkerThreads());\n                }\n            };\n        }\n    }\n    \n        \n</code></pre>\n"}],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677835603,"creation_date":1677759792,"question_id":75615364,"body_markdown":"I am using Spring Boot 2.0.8RELEASE version and Undertow 1.4.2 version. How can I find the default thread queue size and default thread pool size?","title":"Default thread queue size for undertow","body":"<p>I am using Spring Boot 2.0.8RELEASE version and Undertow 1.4.2 version. How can I find the default thread queue size and default thread pool size?</p>\n"},{"tags":["java","validation","command-line-interface"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":2,"creation_date":1677835270,"post_id":75625166,"comment_id":133419453,"body_markdown":"Does this answer your question? https://stackoverflow.com/a/35602842/13927534","body":"Does this answer your question? <a href=\"https://stackoverflow.com/a/35602842/13927534\">stackoverflow.com/a/35602842/13927534</a>"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1677835945,"post_id":75625166,"comment_id":133419638,"body_markdown":"@MissSkooter thanks for commenting, but i dont think so because a delimiter isn&#39;t an int","body":"@MissSkooter thanks for commenting, but i dont think so because a delimiter isn&#39;t an int"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1677836025,"post_id":75625166,"comment_id":133419657,"body_markdown":"yes, but you are inputting `space` not `int` which is being read as nothing since it is a delimeter. (at least that&#39;s what I understood from your question), which results in nothing happening","body":"yes, but you are inputting <code>space</code> not <code>int</code> which is being read as nothing since it is a delimeter. (at least that&#39;s what I understood from your question), which results in nothing happening"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1677836490,"post_id":75625166,"comment_id":133419798,"body_markdown":"oh i see, is that the same thing that is happening when the user just hits enter without inputting anything? \n\nso when its int vs. nothing, no operation is run because it can&#39;t make a comparison?","body":"oh i see, is that the same thing that is happening when the user just hits enter without inputting anything?   so when its int vs. nothing, no operation is run because it can&#39;t make a comparison?"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1677837034,"post_id":75625166,"comment_id":133419927,"body_markdown":"I believe so yeah, unless you change the delimiter yourself as shown in the answer I linked","body":"I believe so yeah, unless you change the delimiter yourself as shown in the answer I linked"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1677837737,"post_id":75625166,"comment_id":133420099,"body_markdown":"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java#L1477 is where your call ends up, and then it loops until user inputs something what&#39;s not a delimiter. So it simply doesn&#39;t return if you just give it whitespace.","body":"<a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java#L1477\" rel=\"nofollow noreferrer\">github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/&hellip;</a> is where your call ends up, and then it loops until user inputs something what&#39;s not a delimiter. So it simply doesn&#39;t return if you just give it whitespace."}],"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677835535,"creation_date":1677834918,"question_id":75625166,"body_markdown":"I have this code\r\n\r\n    boolean dataValidation = false;\r\n    System.out.println(&quot;Please input the id of the car&quot;);\r\n          do {\r\n               if (input.hasNextInt()){\r\n               id = input.nextInt();\r\n               dataValidation = true;\r\n          } else {\r\n               System.out.println(&quot;Please give a valid id number&quot;);\r\n               dataValidation = false;\r\n               input.next();\r\n            }\r\n          } while (!dataValidation);\r\n\r\nBut if I enter a space or just hit enter, the CLI returns nothing? I don&#39;t understand because it is clearly not an Int right?\r\n\r\nAny information would be appreciated. ","title":"Why does a space or enter input not trigger the hasnextint validation check?","body":"<p>I have this code</p>\n<pre><code>boolean dataValidation = false;\nSystem.out.println(&quot;Please input the id of the car&quot;);\n      do {\n           if (input.hasNextInt()){\n           id = input.nextInt();\n           dataValidation = true;\n      } else {\n           System.out.println(&quot;Please give a valid id number&quot;);\n           dataValidation = false;\n           input.next();\n        }\n      } while (!dataValidation);\n</code></pre>\n<p>But if I enter a space or just hit enter, the CLI returns nothing? I don't understand because it is clearly not an Int right?</p>\n<p>Any information would be appreciated.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1677835663,"post_id":75625259,"comment_id":133419564,"body_markdown":"worth looking at https://www.geeksforgeeks.org/how-to-fetch-device-id-in-android-programmatically/","body":"worth looking at <a href=\"https://www.geeksforgeeks.org/how-to-fetch-device-id-in-android-programmatically/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1677836015,"post_id":75625259,"comment_id":133419652,"body_markdown":"You can try the below code (but there are chances that device id might get update on device reset):\n\n`@SuppressLint(&quot;HardwareIds&quot;)\npublic static final String ANDROID_DEVICE_ID = Settings.Secure.getString(getContext().getContentResolver(),\n        Settings.Secure.ANDROID_ID);`","body":"You can try the below code (but there are chances that device id might get update on device reset):  <code>@SuppressLint(&quot;HardwareIds&quot;) public static final String ANDROID_DEVICE_ID = Settings.Secure.getString(getContext().getContentResolver(),         Settings.Secure.ANDROID_ID);</code>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677836857,"post_id":75625259,"comment_id":133419884,"body_markdown":"The short answer is: no, there is **intentionally** no way to definitely re-identify the same device after a device reset. There are IDs provided for various use-cases, but they all come with one restriction or another. Pick the best fit, but cease your search for the &quot;holy grail&quot; (or doomsday device for user privacy, as I&#39;d like to call it).","body":"The short answer is: no, there is <b>intentionally</b> no way to definitely re-identify the same device after a device reset. There are IDs provided for various use-cases, but they all come with one restriction or another. Pick the best fit, but cease your search for the &quot;holy grail&quot; (or doomsday device for user privacy, as I&#39;d like to call it)."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677837691,"post_id":75625259,"comment_id":133420089,"body_markdown":"if you have some sort of login mechanism that is backed by a database... that could be a direction to work in","body":"if you have some sort of login mechanism that is backed by a database... that could be a direction to work in"}],"owner":{"account_id":27782876,"reputation":11,"user_id":21210914,"display_name":"Divya Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1677836798,"answer_count":0,"score":1,"last_activity_date":1677835484,"creation_date":1677835484,"question_id":75625259,"body_markdown":"I am developing an application where I need to identify each device&#39;s unique Id. Is there any way to get the device&#39;s unique Id programmatically in Java?\r\n\r\nI tried some solutions but the device Id got changed on the device reset.","title":"Is there a way to get unique device ID in android using java programatically?","body":"<p>I am developing an application where I need to identify each device's unique Id. Is there any way to get the device's unique Id programmatically in Java?</p>\n<p>I tried some solutions but the device Id got changed on the device reset.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":0,"creation_date":1677787261,"post_id":75619921,"comment_id":133411479,"body_markdown":"What version of Android are you targeting?  InlineContentView was only introduced in API level 30.","body":"What version of Android are you targeting?  InlineContentView was only introduced in API level 30."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677838048,"post_id":75619921,"comment_id":133420189,"body_markdown":"Yea ... it hasn&#39;t been deprecated.","body":"Yea ... it hasn&#39;t been deprecated."},{"owner":{"account_id":27580752,"reputation":1,"user_id":21050021,"display_name":"SUDEM S DAIMARI"},"score":0,"creation_date":1677877421,"post_id":75619921,"comment_id":133430911,"body_markdown":"i am building on api 29. does that mean InlineContentView cannot be used on API29?","body":"i am building on api 29. does that mean InlineContentView cannot be used on API29?"}],"owner":{"account_id":27580752,"reputation":1,"user_id":21050021,"display_name":"SUDEM S DAIMARI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677835333,"creation_date":1677784551,"question_id":75619921,"body_markdown":"I am working with the custom keyboard where am having an issue with the InlineContentView in Android Studio that says:\r\n\r\n&gt; java.lang.NoClassDefFoundError: Failed resolution of: Landroid/widget/inline/InlineContentView;\r\n        at com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:143)\r\n        at com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:135)\r\n        at com.android.bodo.InlineContentClipView.$r8$lambda$2T6oFHLhHlgispfW-UyrqrxrHlY(Unknown Source:0)\r\n        at com.android.bodo.InlineContentClipView$$ExternalSyntheticLambda1.onDraw(Unknown Source:2)\r\n&gt;\r\n\r\nAny links and information?\r\n\r\nit seems like it is deprecated i looked into newer version to solve but i need some suggestions","title":"Java Lang No Class Error: InlineContentView","body":"<p>I am working with the custom keyboard where am having an issue with the InlineContentView in Android Studio that says:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Failed resolution of: Landroid/widget/inline/InlineContentView;\nat com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:143)\nat com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:135)\nat com.android.bodo.InlineContentClipView.$r8$lambda$2T6oFHLhHlgispfW-UyrqrxrHlY(Unknown Source:0)\nat com.android.bodo.InlineContentClipView$$ExternalSyntheticLambda1.onDraw(Unknown Source:2)</p>\n</blockquote>\n<p>Any links and information?</p>\n<p>it seems like it is deprecated i looked into newer version to solve but i need some suggestions</p>\n"},{"tags":["java","json","parsing","jackson"],"comments":[{"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"score":2,"creation_date":1628758975,"post_id":3109042,"comment_id":121508702,"body_markdown":"Usually `currentToken()` is enough to do what you want.","body":"Usually <code>currentToken()</code> is enough to do what you want."}],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1277765994,"creation_date":1277765994,"answer_id":3136758,"question_id":3109042,"body_markdown":"No, currently there is no such functionality. You could perhaps do that by using a delegating wrapper? There is &#39;org.codehaus.jackson.util.JsonParserDelegate&#39; which could make it relatively easy to implement, depending on what information you want to retain about current element.\r\n\r\nFor whatever it is worth, it might well be possible to get JsonParser.peek() added; best way to request this would be to file a feature request at http://jira.codehaus.org/browse/JACKSON. Most likely this feature hasn&#39;t been requested by anyone yet.\r\n\r\nReason this might be easy (enough) to implement is that it should only require a single character look-ahead. \r\n","title":"How to do peek() in Jackson json library?","body":"<p>No, currently there is no such functionality. You could perhaps do that by using a delegating wrapper? There is 'org.codehaus.jackson.util.JsonParserDelegate' which could make it relatively easy to implement, depending on what information you want to retain about current element.</p>\n\n<p>For whatever it is worth, it might well be possible to get JsonParser.peek() added; best way to request this would be to file a feature request at <a href=\"http://jira.codehaus.org/browse/JACKSON\" rel=\"noreferrer\">http://jira.codehaus.org/browse/JACKSON</a>. Most likely this feature hasn't been requested by anyone yet.</p>\n\n<p>Reason this might be easy (enough) to implement is that it should only require a single character look-ahead. </p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677834761,"creation_date":1677834761,"answer_id":75625146,"question_id":3109042,"body_markdown":"In jackson 2.14.x you can do something like this:\r\n\r\n```\r\nJsonParser p = // ...\r\nObjectNode currentJsonObject = p.readValueAsTree();\r\n\r\nJsonParser peekingParser = currentObject.traverse(codec);\r\n// set peekingParser to the first token, see JsonParser#travers(ObjectCode) for info\r\npeekingParser.nextToken();\r\npeekIntoCurrentContent(peekingParser);\r\n\r\n// this parser starts at the same point as p.readValueAsTree() was called above\r\nJsonParser remainingContentParser = JsonParserSequence.createFlattended(true, currentObject.traverse(codec), p);\r\nconsumeAllRemainingContent(remainingContentParser);\r\n```\r\n\r\nNote that this however will only work consistently if `p` is at an array or object start at the beginning of the code above due to how `JsonParser#readValueAsTree()` is implemented. But this will at least cover a lot of cases.","title":"How to do peek() in Jackson json library?","body":"<p>In jackson 2.14.x you can do something like this:</p>\n<pre><code>JsonParser p = // ...\nObjectNode currentJsonObject = p.readValueAsTree();\n\nJsonParser peekingParser = currentObject.traverse(codec);\n// set peekingParser to the first token, see JsonParser#travers(ObjectCode) for info\npeekingParser.nextToken();\npeekIntoCurrentContent(peekingParser);\n\n// this parser starts at the same point as p.readValueAsTree() was called above\nJsonParser remainingContentParser = JsonParserSequence.createFlattended(true, currentObject.traverse(codec), p);\nconsumeAllRemainingContent(remainingContentParser);\n</code></pre>\n<p>Note that this however will only work consistently if <code>p</code> is at an array or object start at the beginning of the code above due to how <code>JsonParser#readValueAsTree()</code> is implemented. But this will at least cover a lot of cases.</p>\n"}],"owner":{"account_id":47494,"reputation":5220,"user_id":140731,"accept_rate":79,"display_name":"Iain Sproat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2674,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3136758,"answer_count":2,"score":5,"last_activity_date":1677834761,"creation_date":1277374776,"question_id":3109042,"body_markdown":"I&#39;m using the [Streaming API JsonParser][1] of the [Jackson][2] library to do some custom json parsing in java.\r\n\r\nIs there a way of achieving functionality similar to a `peek()` method, where the next token is returned but the cursor position is not moved forward?\r\n\r\nThe use case for this is similar to the following:\r\n\r\n    JsonParser parser = new JsonFactory().createParser(inputStream);\r\n    while(parser.peek() != JsonToken.START_ARRAY){\r\n       ...do something with the current token...\r\n    }\r\n\r\nThe code examples I&#39;ve seen for Jackson use the `nextToken()` method for the above case, which unfortunately also moves the cursor forward in the stream.\r\n\r\nIs `peek()` possible with Jackson out-of-the-box, or perhaps achievable with an additional method?\r\n\r\nNB. not interested in other libraries, so no &quot;&lt;i&gt;library x does all this and the kitchen sink&lt;/i&gt;&quot; type answers please.\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/1.5.3/javadoc/org/codehaus/jackson/JsonParser.html\r\n  [2]: http://jackson.codehaus.org/","title":"How to do peek() in Jackson json library?","body":"<p>I'm using the <a href=\"http://jackson.codehaus.org/1.5.3/javadoc/org/codehaus/jackson/JsonParser.html\" rel=\"noreferrer\">Streaming API JsonParser</a> of the <a href=\"http://jackson.codehaus.org/\" rel=\"noreferrer\">Jackson</a> library to do some custom json parsing in java.</p>\n\n<p>Is there a way of achieving functionality similar to a <code>peek()</code> method, where the next token is returned but the cursor position is not moved forward?</p>\n\n<p>The use case for this is similar to the following:</p>\n\n<pre><code>JsonParser parser = new JsonFactory().createParser(inputStream);\nwhile(parser.peek() != JsonToken.START_ARRAY){\n   ...do something with the current token...\n}\n</code></pre>\n\n<p>The code examples I've seen for Jackson use the <code>nextToken()</code> method for the above case, which unfortunately also moves the cursor forward in the stream.</p>\n\n<p>Is <code>peek()</code> possible with Jackson out-of-the-box, or perhaps achievable with an additional method?</p>\n\n<p>NB. not interested in other libraries, so no \"<i>library x does all this and the kitchen sink</i>\" type answers please.</p>\n"},{"tags":["java","json","rest","swagger","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511949940,"creation_date":1511949940,"answer_id":47550033,"question_id":47545440,"body_markdown":"Currently, you&#39;re defining the model inline.\r\n\r\nI would recommend defining the model in a different section and reference it in your spec. Here is an example:\r\n\r\nModel definition: https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L654\r\n\r\nReference: https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L49\r\n\r\nThat way, the name of the Java class name will be based on the model name defined in the specification.","title":"Change Swagger generated class names","body":"<p>Currently, you're defining the model inline.</p>\n\n<p>I would recommend defining the model in a different section and reference it in your spec. Here is an example:</p>\n\n<p>Model definition: <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L654\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L654</a></p>\n\n<p>Reference: <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L49\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L49</a></p>\n\n<p>That way, the name of the Java class name will be based on the model name defined in the specification.</p>\n"}],"owner":{"account_id":1660630,"reputation":301,"user_id":1528996,"accept_rate":80,"display_name":"JanithOCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677834637,"creation_date":1511932016,"question_id":47545440,"body_markdown":"i&#39;m generating java classes from a swagger file and following is the part of the swagger files.\r\n \r\n\r\n    &quot;jobCardStepList&quot;: {\r\n              &quot;type&quot;: &quot;object&quot;,\r\n              &quot;properties&quot;: {\r\n                &quot;jobCardStep&quot;: {\r\n                  &quot;type&quot;: &quot;array&quot;, \r\n\r\nfor the above part Swagger is generating a java class \r\n\r\n`UpdateJobCardRequestJobCardStepListJobCardStep.java`\r\n\r\nI want to rename this class with a proper name.\r\nis there any way to change the class names from the Swagger generator.\r\n","title":"Change Swagger generated class names","body":"<p>i'm generating java classes from a swagger file and following is the part of the swagger files.</p>\n<pre><code>&quot;jobCardStepList&quot;: {\n          &quot;type&quot;: &quot;object&quot;,\n          &quot;properties&quot;: {\n            &quot;jobCardStep&quot;: {\n              &quot;type&quot;: &quot;array&quot;, \n</code></pre>\n<p>for the above part Swagger is generating a java class</p>\n<p><code>UpdateJobCardRequestJobCardStepListJobCardStep.java</code></p>\n<p>I want to rename this class with a proper name.\nis there any way to change the class names from the Swagger generator.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":0,"creation_date":1677803248,"post_id":75622056,"comment_id":133414666,"body_markdown":"Hia, could you clarify the problem you&#39;re having now. The &#39;I am not sure fully if above changes are correct&quot; means that we can not neither. But looking at the configuration it looks like you could just provide this implicit case classes by using a bit different, but more explicit approach.","body":"Hia, could you clarify the problem you&#39;re having now. The &#39;I am not sure fully if above changes are correct&quot; means that we can not neither. But looking at the configuration it looks like you could just provide this implicit case classes by using a bit different, but more explicit approach."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677834455,"creation_date":1677833940,"answer_id":75625032,"question_id":75622056,"body_markdown":"With Spring Batch 5, you don&#39;t need to implement `BatchConfigurer` to customize infrastructure beans. The `@EnableBatchProcessing` annotation now provides attributes for common parameters (tablePrefix, charset, etc). In your case, the equivalent configuration would be something like this:\r\n\r\n```\r\n@Configuration\r\n@EnableBatchProcessing(tablePrefix=&quot;Test&quot;, isolationLevelForCreate=&quot;ISOLATION_DEFAULT&quot;)\r\npublic class DefaultBatchConfig {\r\n\r\n}\r\n```\r\n\r\nBy default, Spring Batch will inspect the application context for a data source (default bean name `dataSource`) and a transaction manager (default bean name `transactionManager`) and use them to configure the job repository. Those could be the ones auto-configured by Spring Boot. If you use custom beans, you can specify them using the annotation&#39;s attributes `dataSourceRef` and `transactionManagerRef` respectively. Please refer to the javadoc of [@EnableBatchPocessing](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/EnableBatchProcessing.html) for more details.\r\n\r\n&gt; For ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory.\r\n\r\nThis is explained with code examples in the migration guide you shared here: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration","title":"Issue during spring batch upgrade","body":"<p>With Spring Batch 5, you don't need to implement <code>BatchConfigurer</code> to customize infrastructure beans. The <code>@EnableBatchProcessing</code> annotation now provides attributes for common parameters (tablePrefix, charset, etc). In your case, the equivalent configuration would be something like this:</p>\n<pre><code>@Configuration\n@EnableBatchProcessing(tablePrefix=&quot;Test&quot;, isolationLevelForCreate=&quot;ISOLATION_DEFAULT&quot;)\npublic class DefaultBatchConfig {\n\n}\n</code></pre>\n<p>By default, Spring Batch will inspect the application context for a data source (default bean name <code>dataSource</code>) and a transaction manager (default bean name <code>transactionManager</code>) and use them to configure the job repository. Those could be the ones auto-configured by Spring Boot. If you use custom beans, you can specify them using the annotation's attributes <code>dataSourceRef</code> and <code>transactionManagerRef</code> respectively. Please refer to the javadoc of <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/EnableBatchProcessing.html\" rel=\"nofollow noreferrer\">@EnableBatchPocessing</a> for more details.</p>\n<blockquote>\n<p>For ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory.</p>\n</blockquote>\n<p>This is explained with code examples in the migration guide you shared here: <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration</a></p>\n"}],"owner":{"account_id":27873573,"reputation":33,"user_id":21283528,"display_name":"Bhagyashree Kalshetti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625032,"answer_count":1,"score":1,"last_activity_date":1677834455,"creation_date":1677802535,"question_id":75622056,"body_markdown":"I am trying to upgrade spring batch version 5.X with spring boot 3.0.2 and java 17 from spring boot version 2.7.3\r\n\r\nI have a default batch config class and a custom job config class(ActivateTestJob).\r\nDefaultBatchJobConfig.java\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class DefaultBatchConfig extends DefaultBatchConfigurer {\r\n\r\n\t@Autowired\r\n\tprivate DataSource dataSource;\r\n\t\r\n\t@Autowired\r\n\tprivate PlatformTransactionManager transactionManager;\r\n\t\r\n\t @Override\r\n\t    protected JobRepository createJobRepository() throws Exception {\r\n\t        JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\r\n\t        factoryBean.setDatabaseType(&quot;databse&quot;);\r\n\t        factoryBean.setDataSource(dataSource);\r\n\t        factoryBean.setTransactionManager(transactionManager);\r\n\t        factoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\r\n\t        factoryBean.setTablePrefix(&quot;Test&quot;);\r\n\t        factoryBean.afterPropertiesSet();\r\n\t        return factoryBean.getObject();\r\n\t    }\r\n}\r\n```\r\nActivateTestJob.java\r\n```\r\n@Configuration\r\npublic class ActivateTestJob{\r\n\r\n\t@Autowired\r\n\tprivate StepBuilderFactory stepBuilderFactory;\r\n\t\r\n\t@Autowired\r\n\tprivate JobBuilderFactory jobBuilderFactory;\r\n\r\n\t@Bean\r\n\tpublic JobExecutionListener activeTestListener() {\r\n\t\treturn new ActivatedTestProcessListener();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ActivatedTestTasklet activateTEstTasklet() {\r\n\t\treturn new ActivatedTestTasklet();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Job activatedTestJob() {\r\n\r\n\t\treturn jobBuilderFactory.get(&quot;activatedTestJob&quot;).incrementer(new RunIdIncrementer())\r\n\t\t\t\t.listener(activeTestListener()).start(activatedTestStep()).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step activatedTestStep() {\r\n\t\treturn stepBuilderFactory.get(&quot;activatedProgramStep&quot;)\r\n                      .tasklet(activateProgramTasklet()).build();\r\n\t}\r\n}\r\n```\r\n After upgrading the srping boot vesion I found \r\n1. DefaultBatchConfigurer class has been removed and therefore i cannot override createJobRepository() method to create JobRepository.\r\n2. StepBuilderFactory and JobBuilderFactory classes are depricated.\r\n\r\nI am following spring batch [migration](https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide) guide. \r\nFor Default batch config i modified the code as below to support spring -batch 5.x.\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class DefaultBatchConfig {\r\n\r\n\t@Bean\r\n\tprotected JobRepository createJobRepository(DataSource dataSource, PlatformTransactionManager transactionManager) throws Exception {\r\n\t\tJobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\r\n\t\tfactoryBean.setDatabaseType(&quot;database&quot;);\r\n\t\tfactoryBean.setDataSource(dataSource);\r\n\t\tfactoryBean.setTransactionManager(transactionManager);\r\n\t\tfactoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\r\n\t\tfactoryBean.setTablePrefix(&quot;Test&quot;);\r\n\t\tfactoryBean.afterPropertiesSet();\r\n\t\treturn factoryBean.getObject();\r\n\t}\r\n}\r\n```\r\nI am not sure fully if above changes are correct.\r\nFor ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory. ","title":"Issue during spring batch upgrade","body":"<p>I am trying to upgrade spring batch version 5.X with spring boot 3.0.2 and java 17 from spring boot version 2.7.3</p>\n<p>I have a default batch config class and a custom job config class(ActivateTestJob).\nDefaultBatchJobConfig.java</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class DefaultBatchConfig extends DefaultBatchConfigurer {\n\n    @Autowired\n    private DataSource dataSource;\n    \n    @Autowired\n    private PlatformTransactionManager transactionManager;\n    \n     @Override\n        protected JobRepository createJobRepository() throws Exception {\n            JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\n            factoryBean.setDatabaseType(&quot;databse&quot;);\n            factoryBean.setDataSource(dataSource);\n            factoryBean.setTransactionManager(transactionManager);\n            factoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\n            factoryBean.setTablePrefix(&quot;Test&quot;);\n            factoryBean.afterPropertiesSet();\n            return factoryBean.getObject();\n        }\n}\n</code></pre>\n<p>ActivateTestJob.java</p>\n<pre><code>@Configuration\npublic class ActivateTestJob{\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n    \n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Bean\n    public JobExecutionListener activeTestListener() {\n        return new ActivatedTestProcessListener();\n    }\n\n    @Bean\n    public ActivatedTestTasklet activateTEstTasklet() {\n        return new ActivatedTestTasklet();\n    }\n\n    @Bean\n    public Job activatedTestJob() {\n\n        return jobBuilderFactory.get(&quot;activatedTestJob&quot;).incrementer(new RunIdIncrementer())\n                .listener(activeTestListener()).start(activatedTestStep()).build();\n    }\n\n    @Bean\n    public Step activatedTestStep() {\n        return stepBuilderFactory.get(&quot;activatedProgramStep&quot;)\n                      .tasklet(activateProgramTasklet()).build();\n    }\n}\n</code></pre>\n<p>After upgrading the srping boot vesion I found</p>\n<ol>\n<li>DefaultBatchConfigurer class has been removed and therefore i cannot override createJobRepository() method to create JobRepository.</li>\n<li>StepBuilderFactory and JobBuilderFactory classes are depricated.</li>\n</ol>\n<p>I am following spring batch <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide\" rel=\"nofollow noreferrer\">migration</a> guide.\nFor Default batch config i modified the code as below to support spring -batch 5.x.</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class DefaultBatchConfig {\n\n    @Bean\n    protected JobRepository createJobRepository(DataSource dataSource, PlatformTransactionManager transactionManager) throws Exception {\n        JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\n        factoryBean.setDatabaseType(&quot;database&quot;);\n        factoryBean.setDataSource(dataSource);\n        factoryBean.setTransactionManager(transactionManager);\n        factoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\n        factoryBean.setTablePrefix(&quot;Test&quot;);\n        factoryBean.afterPropertiesSet();\n        return factoryBean.getObject();\n    }\n}\n</code></pre>\n<p>I am not sure fully if above changes are correct.\nFor ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677834427,"creation_date":1677834427,"answer_id":75625098,"question_id":75622772,"body_markdown":"I tried to replicate your issue, following is one possible solution.\r\n\r\nIn your service, returning `CompletableFuture` instead:\r\n\r\n```\r\npublic CompletableFuture&lt;List&lt;String&gt;&gt; m1() {\r\n  List&lt;String&gt; a = new ArrayList&lt;&gt;();\r\n  a.add(&quot;test1&quot;);\r\n  a.add(&quot;test2&quot;);\r\n  a.add(&quot;test3&quot;);\r\n  return CompletableFuture.completedFuture(a);\r\n}\r\n```\r\n\r\nUsing `CompletableFuture.join()` in your controller:\r\n```\r\n@GetMapping(&quot;/v1&quot;)\r\npublic List&lt;String&gt; m1() {\r\n  CompletableFuture&lt;List&lt;String&gt;&gt; c1 = serviceclass.m1();\r\n  \r\n  // ... your logic ...\r\n\r\n  return c1.join();\r\n}\r\n```","title":"How to make a variable value once read by a thread does&#39;t change by other thread when other process started in spring boot","body":"<p>I tried to replicate your issue, following is one possible solution.</p>\n<p>In your service, returning <code>CompletableFuture</code> instead:</p>\n<pre><code>public CompletableFuture&lt;List&lt;String&gt;&gt; m1() {\n  List&lt;String&gt; a = new ArrayList&lt;&gt;();\n  a.add(&quot;test1&quot;);\n  a.add(&quot;test2&quot;);\n  a.add(&quot;test3&quot;);\n  return CompletableFuture.completedFuture(a);\n}\n</code></pre>\n<p>Using <code>CompletableFuture.join()</code> in your controller:</p>\n<pre><code>@GetMapping(&quot;/v1&quot;)\npublic List&lt;String&gt; m1() {\n  CompletableFuture&lt;List&lt;String&gt;&gt; c1 = serviceclass.m1();\n  \n  // ... your logic ...\n\n  return c1.join();\n}\n</code></pre>\n"}],"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677834427,"creation_date":1677812094,"question_id":75622772,"body_markdown":"I&#39;m using spring boot rest controller from there it is calling service to get data and the return type is `List` in service class. It is Async rest controller. My Issue is for the first hit I&#39;m getting the list with expected data and the remaining process is continuing the program still not comes to end at this point, in the middle of the code I&#39;m again using that list. But what happens is for the 2nd and 3rd hit, the list from service is empty, which is expected for my case but it is setting empty even for the first thread I&#39;m getting the empty value in the middle where I&#39;m using the list again.\r\n\r\n```\r\n@RestController\r\npublic class ControllerClass1 \r\n{\r\n\r\n\t@Autowired\r\n\tServiceclass serviceclass;\r\n\t\r\n\t@GetMapping(&quot;/v1&quot;)\r\n\tpublic List&lt;String&gt; m1()\r\n\t{\r\n\t\t List&lt;String&gt; m1 = serviceclass.m1();//for the 2nd thread this list is empty ..even for the first thread the value is setting empty in middle of first process which is not expected \r\n\t\t //First time expected data\r\n\t\t //Assue its a huge code i&#39;m using this list again in middle\r\n\t\t return m1();//dummy return\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nwe are calling service as `Completeablefuture.runasync(serviceclass.m1())` to make sure it runs asynchronously\r\n\r\n------------------------------------------\r\n\r\n```\r\n@Service\r\npublic class Serviceclass {\r\n\t\r\n\tpublic List&lt;String&gt; m1()\r\n\t{\r\n\t\tList&lt;String&gt; a = new ArrayList&lt;&gt;();\r\n\t\ta.add(&quot;test1&quot;);\r\n\t\ta.add(&quot;test2&quot;);\r\n\t\ta.add(&quot;test3&quot;);\r\n\t\treturn a;\r\n\t}\r\n}\r\n```\r\n\r\nNote: The code is not the actual one I&#39;m just making sure you understand my issue.\r\n\r\n\r\n","title":"How to make a variable value once read by a thread does&#39;t change by other thread when other process started in spring boot","body":"<p>I'm using spring boot rest controller from there it is calling service to get data and the return type is <code>List</code> in service class. It is Async rest controller. My Issue is for the first hit I'm getting the list with expected data and the remaining process is continuing the program still not comes to end at this point, in the middle of the code I'm again using that list. But what happens is for the 2nd and 3rd hit, the list from service is empty, which is expected for my case but it is setting empty even for the first thread I'm getting the empty value in the middle where I'm using the list again.</p>\n<pre><code>@RestController\npublic class ControllerClass1 \n{\n\n    @Autowired\n    Serviceclass serviceclass;\n    \n    @GetMapping(&quot;/v1&quot;)\n    public List&lt;String&gt; m1()\n    {\n         List&lt;String&gt; m1 = serviceclass.m1();//for the 2nd thread this list is empty ..even for the first thread the value is setting empty in middle of first process which is not expected \n         //First time expected data\n         //Assue its a huge code i'm using this list again in middle\n         return m1();//dummy return\n    }\n    \n}\n</code></pre>\n<p>we are calling service as <code>Completeablefuture.runasync(serviceclass.m1())</code> to make sure it runs asynchronously</p>\n<hr />\n<pre><code>@Service\npublic class Serviceclass {\n    \n    public List&lt;String&gt; m1()\n    {\n        List&lt;String&gt; a = new ArrayList&lt;&gt;();\n        a.add(&quot;test1&quot;);\n        a.add(&quot;test2&quot;);\n        a.add(&quot;test3&quot;);\n        return a;\n    }\n}\n</code></pre>\n<p>Note: The code is not the actual one I'm just making sure you understand my issue.</p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":1059756,"reputation":11015,"user_id":1061636,"accept_rate":89,"display_name":"Carlos Landeras"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1608040247,"creation_date":1354526281,"answer_id":13680194,"question_id":13680057,"body_markdown":"Try using paths instead of stream:\r\n\r\n    String destPath = &quot;filename.txt&quot;;        \r\n\r\n    if (!filesToDownload.isEmpty()) {\r\n        for (String fileDownloadName : filesToDownload) {\r\n            success = false;\r\n            sftpChannel.get(fileDownloadName , destPath);  \r\n\r\nIf you wanna use file and streams check this example:  \r\nhttp://kodehelp.com/java-program-for-downloading-file-from-sftp-server/\r\n\r\n ","title":"Downloading files from an SFTP server using JSch","body":"<p>Try using paths instead of stream:</p>\n<pre><code>String destPath = &quot;filename.txt&quot;;        \n\nif (!filesToDownload.isEmpty()) {\n    for (String fileDownloadName : filesToDownload) {\n        success = false;\n        sftpChannel.get(fileDownloadName , destPath);  \n</code></pre>\n<p>If you wanna use file and streams check this example:<br />\n<a href=\"http://kodehelp.com/java-program-for-downloading-file-from-sftp-server/\" rel=\"noreferrer\">http://kodehelp.com/java-program-for-downloading-file-from-sftp-server/</a></p>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490871942,"creation_date":1490871942,"answer_id":43116045,"question_id":13680057,"body_markdown":"Please find in the below code sample comprising the file &lt;b&gt;upload&lt;/b&gt; and &lt;b&gt;download&lt;/b&gt; functionalities. Please pull the relevant details from properties files where ever string marked in &lt;b&gt;lt;&lt;/b&gt;sftp.user.name&lt;b&gt;gt;&lt;/b&gt;. I am deleting the file once the file is downloaded you can have it as per your requirement. \r\n\r\nThe &lt;b&gt;event&lt;/b&gt; and &lt;b&gt;locale&lt;/b&gt; parameters what I have added as part of download functionality is to filter the file(s); you can pass parameters as par you need.\r\n\r\nHave placed a check to set proxy which can be used on need basis.\r\n\r\n    package com.util;\r\n\r\n\timport com.jcraft.jsch.Channel;\r\n\timport com.jcraft.jsch.ChannelSftp;\r\n\timport com.jcraft.jsch.JSch;\r\n\timport com.jcraft.jsch.ProxyHTTP;\r\n\timport com.jcraft.jsch.Session;\r\n\timport com.jcraft.jsch.SftpException;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.util.Date;\r\n\timport java.util.Properties;\r\n\timport java.util.Vector;\r\n\r\n\t/**\r\n\t *\r\n\t * @author Dinesh.Lomte\r\n\t */\r\n\tpublic class SftpUtil {\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param fileName\r\n\t\t * @throws Exception \r\n\t\t */\r\n\t\tpublic static void upload(String fileName)\r\n\t\tthrows Exception {\r\n\t\t\t\r\n\t\t\tString method = &quot;upload(String fileName)&quot;;\r\n\t\t\tSession session = null;\r\n\t\t\tChannel channel = null;\r\n\t\t\tChannelSftp channelSftp = null;\r\n\t\t\ttry {\r\n\t\t\t\t// Creating and instantiating the jsch specific instance\r\n\t\t\t\tJSch jsch = new JSch();\r\n\t\t\t\t// Fetching and setting the parameters like: user name, host and port \r\n\t\t\t\t// from the properties file\r\n\t\t\t\tsession = jsch.getSession(&quot;&lt;sftp.user.name&gt;&quot;,\r\n\t\t\t\t\t\t&quot;&lt;sftp.host&gt;&quot;,\r\n\t\t\t\t\t\tInteger.valueOf(&quot;&lt;sftp.port&gt;&quot;));\r\n\t\t\t\t// Fetching and setting the password as configured in properties files\r\n\t\t\t\tsession.setPassword(&quot;&lt;sftp.user.password&gt;&quot;);\r\n\t\t\t\t// Setting the configuration specific properties\r\n\t\t\t\tProperties config = new Properties();\r\n\t\t\t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\t\tsession.setConfig(config);            \r\n\t\t\t\t// Validating if proxy is enabled to access the sftp\r\n\t\t\t\tisSftpProxyEnabled(session);\r\n\t\t\t\t// Execution start time\r\n\t\t\t\tlong lStartTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;Connecting to the sftp...&quot;);\r\n\t\t\t\t// Connecting to the sftp \r\n\t\t\t\tsession.connect();\r\n\t\t\t\tSystem.out.println(&quot;Connected to the sftp.&quot;);            \r\n\t\t\t\t// Execution end time\r\n\t\t\t\tlong lEndTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Connected to SFTP in : &quot; + (lEndTime - lStartTime));\r\n\t\t\t\t// Setting the channel type as sftp\r\n\t\t\t\tchannel = session.openChannel(&quot;sftp&quot;);\r\n\t\t\t\t// Establishing the connection\r\n\t\t\t\tchannel.connect();\r\n\t\t\t\tchannelSftp = (ChannelSftp) channel;\r\n\t\t\t\t// Setting the folder location of the external system as configured\r\n\t\t\t\tchannelSftp.cd(&quot;&lt;sftp.output.folder.url&gt;&quot;);\r\n\t\t\t\t// Creating the file instance\r\n\t\t\t\tFile file = new File(fileName);\r\n\t\t\t\t// Creating an fileInputStream instance\r\n\t\t\t\tFileInputStream fileInputStream = new FileInputStream(file);\r\n\t\t\t\t// Transfering the file from it source to destination location via sftp\r\n\t\t\t\tchannelSftp.put(fileInputStream, file.getName());\r\n\t\t\t\t// Closing the fileInputStream instance\r\n\t\t\t\tfileInputStream.close();\r\n\t\t\t\t// De-allocating the fileInputStream instance memory by assigning null\r\n\t\t\t\tfileInputStream = null;\r\n\t\t\t} catch (Exception exception) {\r\n\t\t\t\tthrow exception;\r\n\t\t\t} finally {\r\n\t\t\t\t// Validating if channel sftp is not null to exit\r\n\t\t\t\tif (channelSftp != null) {\r\n\t\t\t\t\tchannelSftp.exit();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if channel is not null to disconnect\r\n\t\t\t\tif (channel != null) {\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if session instance is not null to disconnect\r\n\t\t\t\tif (session != null) {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param session \r\n\t\t */\r\n\t\tprivate static void isSftpProxyEnabled(Session session) {\r\n\t\t\t// Fetching the sftp proxy flag set as part of the properties file\r\n\t\t\tboolean isSftpProxyEnabled = Boolean.valueOf(&quot;&lt;sftp.proxy.enable&gt;&quot;);\r\n\t\t\t// Validating if proxy is enabled to access the sftp\r\n\t\t\tif (isSftpProxyEnabled) {\r\n\t\t\t\t// Setting host and port of the proxy to access the SFTP\r\n\t\t\t\tsession.setProxy(new ProxyHTTP(&quot;&lt;sftp.proxy.host&gt;&quot;, \r\n\t\t\t\t\t\tInteger.valueOf(&quot;&lt;sftp.proxy.port&gt;&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Proxy status: &quot; + isSftpProxyEnabled);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param folder\r\n\t\t * @param event\r\n\t\t * @param locale\r\n\t\t */\r\n\t\tpublic static void download(String folder, String event, String locale) {\r\n\t\t\t\r\n\t\t\tString method = &quot;download(String folder, String event, String locale)&quot;;\r\n\t\t\tSession session = null;\r\n\t\t\tChannel channel = null;\r\n\t\t\tChannelSftp channelSftp = null;\r\n\t\t\ttry {\r\n\t\t\t\t// Creating and instantiating the jsch specific instance\r\n\t\t\t\tJSch jsch = new JSch();\r\n\t\t\t\t// Fetching and setting the parameters like: user name, host and port \r\n\t\t\t\t// from the properties file\r\n\t\t\t\tsession = jsch.getSession(&quot;&lt;sftp.user.name&gt;&quot;,\r\n\t\t\t\t\t\t&quot;&lt;sftp.host&gt;&quot;,\r\n\t\t\t\t\t\tInteger.valueOf(&quot;&lt;sftp.port&gt;&quot;));\r\n\t\t\t\t// Fetching and setting the password as configured in properties files\r\n\t\t\t\tsession.setPassword(&quot;&lt;sftp.user.password&gt;&quot;);\r\n\t\t\t\t// Setting the configuration specific properties\r\n\t\t\t\tProperties config = new Properties();\r\n\t\t\t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\t\tsession.setConfig(config);            \r\n\t\t\t\t// Validating if proxy is enabled to access the sftp\r\n\t\t\t\tisSftpProxyEnabled(session);\r\n\t\t\t\t// Execution start time\r\n\t\t\t\tlong lStartTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;Connecting to the sftp...&quot;);\r\n\t\t\t\t// Connecting to the sftp \r\n\t\t\t\tsession.connect();\r\n\t\t\t\tSystem.out.println(&quot;Connected to the sftp.&quot;);            \r\n\t\t\t\t// Execution end time\r\n\t\t\t\tlong lEndTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Connected to SFTP in : &quot; + (lEndTime - lStartTime));\r\n\t\t\t\t// Setting the channel type as sftp\r\n\t\t\t\tchannel = session.openChannel(SFTP);\r\n\t\t\t\t// Establishing the connection\r\n\t\t\t\tchannel.connect();\r\n\t\t\t\tchannelSftp = (ChannelSftp) channel;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Setting the folder location of the external system as configured \r\n\t\t\t\t\t// to download the file from\r\n\t\t\t\t\tchannelSftp.cd(&quot;&lt;sftp.input.folder.url&gt;&quot;);\r\n\t\t\t\t} catch (SftpException sftpException) {\r\n\t\t\t\t\tSystem.out.println(&quot;Failed to change the directory in sftp.&quot;);                \r\n\t\t\t\t}\r\n\t\t\t\t// Listing all the .csv file(s) specific to the source system, event type (download) and locale code\r\n\t\t\t\tVector&lt;ChannelSftp.LsEntry&gt; lsEntries = channelSftp.ls(\r\n\t\t\t\t\t\tnew StringBuilder(&quot;*&quot;).append(&quot;&lt;sys.code&gt;&quot;).append(&quot;*&quot;).append(event)\r\n\t\t\t\t\t\t.append(&quot;*&quot;).append(locale).append(&quot;*&quot;).append(&quot;.csv&quot;).toString());\r\n\t\t\t\t// Validating if files exist to process the request further\r\n\t\t\t\tif (lsEntries.isEmpty()) {\r\n\t\t\t\t\tSystem.out.println(&quot;No file exist in the specified sftp folder location.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t// Iterating the list of entries to download the file(s) from the sftp \r\n\t\t\t\tfor (ChannelSftp.LsEntry entry : lsEntries) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// Downloading the specified file from the sftp to the specified folder path\r\n\t\t\t\t\t\tchannelSftp.get(entry.getFilename(), new StringBuilder(folder)\r\n\t\t\t\t\t\t\t\t.append(File.separator).append(entry.getFilename()).toString());\r\n\t\t\t\t\t} catch (SftpException sftpException) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Failed to download the file the sftp folder location.&quot;);\t\t\t\t\t\r\n\t\t\t\t\t}                \r\n\t\t\t\t}\r\n\t\t\t\t// Iterating the list of entries to delete the file(s) from the sftp \r\n\t\t\t\tfor (ChannelSftp.LsEntry entry : lsEntries) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// Deleting the specified file from the sftp\r\n\t\t\t\t\t\tchannelSftp.rm(entry.getFilename());\r\n\t\t\t\t\t} catch (SftpException sftpException) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Failed to delete the file from the sftp folder location.&quot;);                    \r\n\t\t\t\t\t}                \r\n\t\t\t\t}\r\n\t\t\t} catch (Exception exception) {\r\n\t\t\t\tSystem.out.println(&quot;Failed to download the file(s) from SFTP.&quot;);            \r\n\t\t\t} finally {\r\n\t\t\t\t// Validating if channel sftp is not null to exit\r\n\t\t\t\tif (channelSftp != null) {\r\n\t\t\t\t\tchannelSftp.exit();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if channel is not null to disconnect\r\n\t\t\t\tif (channel != null) {\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if session instance is not null to disconnect\r\n\t\t\t\tif (session != null) {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Downloading files from an SFTP server using JSch","body":"<p>Please find in the below code sample comprising the file <b>upload</b> and <b>download</b> functionalities. Please pull the relevant details from properties files where ever string marked in <b>lt;</b>sftp.user.name<b>gt;</b>. I am deleting the file once the file is downloaded you can have it as per your requirement. </p>\n\n<p>The <b>event</b> and <b>locale</b> parameters what I have added as part of download functionality is to filter the file(s); you can pass parameters as par you need.</p>\n\n<p>Have placed a check to set proxy which can be used on need basis.</p>\n\n<pre><code>package com.util;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.ProxyHTTP;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SftpException;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Date;\nimport java.util.Properties;\nimport java.util.Vector;\n\n/**\n *\n * @author Dinesh.Lomte\n */\npublic class SftpUtil {\n\n    /**\n     * \n     * @param fileName\n     * @throws Exception \n     */\n    public static void upload(String fileName)\n    throws Exception {\n\n        String method = \"upload(String fileName)\";\n        Session session = null;\n        Channel channel = null;\n        ChannelSftp channelSftp = null;\n        try {\n            // Creating and instantiating the jsch specific instance\n            JSch jsch = new JSch();\n            // Fetching and setting the parameters like: user name, host and port \n            // from the properties file\n            session = jsch.getSession(\"&lt;sftp.user.name&gt;\",\n                    \"&lt;sftp.host&gt;\",\n                    Integer.valueOf(\"&lt;sftp.port&gt;\"));\n            // Fetching and setting the password as configured in properties files\n            session.setPassword(\"&lt;sftp.user.password&gt;\");\n            // Setting the configuration specific properties\n            Properties config = new Properties();\n            config.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(config);            \n            // Validating if proxy is enabled to access the sftp\n            isSftpProxyEnabled(session);\n            // Execution start time\n            long lStartTime = new Date().getTime();\n            System.out.println(\"Connecting to the sftp...\");\n            // Connecting to the sftp \n            session.connect();\n            System.out.println(\"Connected to the sftp.\");            \n            // Execution end time\n            long lEndTime = new Date().getTime();\n            System.out.println(\"---------------------------------------------\");\n            System.out.println(\"Connected to SFTP in : \" + (lEndTime - lStartTime));\n            // Setting the channel type as sftp\n            channel = session.openChannel(\"sftp\");\n            // Establishing the connection\n            channel.connect();\n            channelSftp = (ChannelSftp) channel;\n            // Setting the folder location of the external system as configured\n            channelSftp.cd(\"&lt;sftp.output.folder.url&gt;\");\n            // Creating the file instance\n            File file = new File(fileName);\n            // Creating an fileInputStream instance\n            FileInputStream fileInputStream = new FileInputStream(file);\n            // Transfering the file from it source to destination location via sftp\n            channelSftp.put(fileInputStream, file.getName());\n            // Closing the fileInputStream instance\n            fileInputStream.close();\n            // De-allocating the fileInputStream instance memory by assigning null\n            fileInputStream = null;\n        } catch (Exception exception) {\n            throw exception;\n        } finally {\n            // Validating if channel sftp is not null to exit\n            if (channelSftp != null) {\n                channelSftp.exit();\n            }\n            // Validating if channel is not null to disconnect\n            if (channel != null) {\n                channel.disconnect();\n            }\n            // Validating if session instance is not null to disconnect\n            if (session != null) {\n                session.disconnect();\n            }\n        }\n    }\n\n    /**\n     * \n     * @param session \n     */\n    private static void isSftpProxyEnabled(Session session) {\n        // Fetching the sftp proxy flag set as part of the properties file\n        boolean isSftpProxyEnabled = Boolean.valueOf(\"&lt;sftp.proxy.enable&gt;\");\n        // Validating if proxy is enabled to access the sftp\n        if (isSftpProxyEnabled) {\n            // Setting host and port of the proxy to access the SFTP\n            session.setProxy(new ProxyHTTP(\"&lt;sftp.proxy.host&gt;\", \n                    Integer.valueOf(\"&lt;sftp.proxy.port&gt;\");\n        }\n        System.out.println(\"Proxy status: \" + isSftpProxyEnabled);\n    }\n\n    /**\n     * \n     * @param folder\n     * @param event\n     * @param locale\n     */\n    public static void download(String folder, String event, String locale) {\n\n        String method = \"download(String folder, String event, String locale)\";\n        Session session = null;\n        Channel channel = null;\n        ChannelSftp channelSftp = null;\n        try {\n            // Creating and instantiating the jsch specific instance\n            JSch jsch = new JSch();\n            // Fetching and setting the parameters like: user name, host and port \n            // from the properties file\n            session = jsch.getSession(\"&lt;sftp.user.name&gt;\",\n                    \"&lt;sftp.host&gt;\",\n                    Integer.valueOf(\"&lt;sftp.port&gt;\"));\n            // Fetching and setting the password as configured in properties files\n            session.setPassword(\"&lt;sftp.user.password&gt;\");\n            // Setting the configuration specific properties\n            Properties config = new Properties();\n            config.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(config);            \n            // Validating if proxy is enabled to access the sftp\n            isSftpProxyEnabled(session);\n            // Execution start time\n            long lStartTime = new Date().getTime();\n            System.out.println(\"Connecting to the sftp...\");\n            // Connecting to the sftp \n            session.connect();\n            System.out.println(\"Connected to the sftp.\");            \n            // Execution end time\n            long lEndTime = new Date().getTime();\n            System.out.println(\"---------------------------------------------\");\n            System.out.println(\"Connected to SFTP in : \" + (lEndTime - lStartTime));\n            // Setting the channel type as sftp\n            channel = session.openChannel(SFTP);\n            // Establishing the connection\n            channel.connect();\n            channelSftp = (ChannelSftp) channel;\n            try {\n                // Setting the folder location of the external system as configured \n                // to download the file from\n                channelSftp.cd(\"&lt;sftp.input.folder.url&gt;\");\n            } catch (SftpException sftpException) {\n                System.out.println(\"Failed to change the directory in sftp.\");                \n            }\n            // Listing all the .csv file(s) specific to the source system, event type (download) and locale code\n            Vector&lt;ChannelSftp.LsEntry&gt; lsEntries = channelSftp.ls(\n                    new StringBuilder(\"*\").append(\"&lt;sys.code&gt;\").append(\"*\").append(event)\n                    .append(\"*\").append(locale).append(\"*\").append(\".csv\").toString());\n            // Validating if files exist to process the request further\n            if (lsEntries.isEmpty()) {\n                System.out.println(\"No file exist in the specified sftp folder location.\");\n            }\n            // Iterating the list of entries to download the file(s) from the sftp \n            for (ChannelSftp.LsEntry entry : lsEntries) {\n                try {\n                    // Downloading the specified file from the sftp to the specified folder path\n                    channelSftp.get(entry.getFilename(), new StringBuilder(folder)\n                            .append(File.separator).append(entry.getFilename()).toString());\n                } catch (SftpException sftpException) {\n                    System.out.println(\"Failed to download the file the sftp folder location.\");                    \n                }                \n            }\n            // Iterating the list of entries to delete the file(s) from the sftp \n            for (ChannelSftp.LsEntry entry : lsEntries) {\n                try {\n                    // Deleting the specified file from the sftp\n                    channelSftp.rm(entry.getFilename());\n                } catch (SftpException sftpException) {\n                    System.out.println(\"Failed to delete the file from the sftp folder location.\");                    \n                }                \n            }\n        } catch (Exception exception) {\n            System.out.println(\"Failed to download the file(s) from SFTP.\");            \n        } finally {\n            // Validating if channel sftp is not null to exit\n            if (channelSftp != null) {\n                channelSftp.exit();\n            }\n            // Validating if channel is not null to disconnect\n            if (channel != null) {\n                channel.disconnect();\n            }\n            // Validating if session instance is not null to disconnect\n            if (session != null) {\n                session.disconnect();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517675314,"creation_date":1517675314,"answer_id":48599496,"question_id":13680057,"body_markdown":"I fixed in this way:\r\n\r\n    Vector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\r\n    String remotePath = properties.getFtpPath();\r\n    Vector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\r\n    \r\n    for (ChannelSftp.LsEntry entry : files) {\r\n    \r\n    \tInputStream stream = sftp.get(remotePath + &quot;/&quot; + entry.getFilename());\r\n    \t// Your business code here\r\n    \r\n    }\r\n\r\nWhere remotePath is the remote SFTP folder name.","title":"Downloading files from an SFTP server using JSch","body":"<p>I fixed in this way:</p>\n\n<pre><code>Vector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\nString remotePath = properties.getFtpPath();\nVector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\n\nfor (ChannelSftp.LsEntry entry : files) {\n\n    InputStream stream = sftp.get(remotePath + \"/\" + entry.getFilename());\n    // Your business code here\n\n}\n</code></pre>\n\n<p>Where remotePath is the remote SFTP folder name.</p>\n"}],"owner":{"account_id":2105619,"reputation":213,"user_id":1872016,"display_name":"FaithN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87402,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13680194,"answer_count":3,"score":18,"last_activity_date":1677834148,"creation_date":1354525715,"question_id":13680057,"body_markdown":"I am using jsch to download files from server, my code below.\r\n\r\n    public static void downloadFile(TpcCredentialsDTO dto) {\r\n    \t\tlogger.trace(&quot;Entering downloadFile() method&quot;);\r\n    \t\t\r\n\t\tSession session = null;\r\n\t\tChannel channel = null;\r\n\t\tChannelSftp channelSftp = null;\r\n\t\tboolean success = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tJSch jsch = new JSch();\r\n\t\t\tsession = jsch.getSession(dto.getUsername(), dto.getHost(),\r\n\t\t\t\t\tdto.getPort());\r\n\t\t\tsession.setPassword(dto.getPassword());\r\n\r\n\t\t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tsession.connect();\r\n\t\t\tlogger.info(&quot;Connected to &quot; + dto.getHost() + &quot;.&quot;);\r\n\t\t\t\r\n\t\t\tchannel = session.openChannel(&quot;sftp&quot;);\r\n\t\t\tchannel.connect();\r\n\t\t\tchannelSftp = (ChannelSftp) channel;\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; filesToDownload = getFilesToDownload(dto,channelSftp);\r\n\t\t\t\r\n\t\t\tif (!filesToDownload.isEmpty()) {\r\n\t\t\t\tfor (String fileDownloadName : filesToDownload) {\r\n\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\tOutputStream output = new FileOutputStream(\r\n\t\t\t\t\t\t&quot;C:\\Download\\BLT_03112012&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tchannelSftp.get(&quot;BLT_03112012&quot;,output);\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\tif (success)\r\n\t\t\t\t\t\tlogger.info(ServerConstants.DOWNLOAD_SUCCESS_MSG\r\n\t\t\t\t\t\t\t\t\t\t+ fileDownloadName);\r\n\t\t\t\t\toutput.close();\r\n\t\t\t\t}\r\n\r\n\t\t\t}else {\r\n\t\t\t\tlogger.info(ServerConstants.NO_FILES_TO_DOWNLOAD\r\n\t\t\t\t\t\t+ ServerUtils.getDateTime());\r\n\t\t\t\tsuccess = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (JSchException ex) {\r\n\t\t\tlogger.error( ServerConstants.SFTP_REFUSED_CONNECTION, ex);\r\n\t\t} catch (SftpException ex) {\r\n\t\t\tlogger.error(ServerConstants.FILE_DOWNLOAD_FAILED, ex);\r\n\t\t} catch (IOException ex) {\r\n\t\t\tlogger.error(ServerConstants.FILE_NOT_FOUND, ex);\r\n\t\t}catch (Exception ex) {\r\n\t\t\tlogger.error(ServerConstants.ERROR, ex);\r\n\t\t}finally {\r\n\t\t\tif (channelSftp.isConnected()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t\t\tchannelSftp.quit();\r\n\t\t\t\t\tlogger.info( ServerConstants.FTP_DISCONNECT);\r\n\t\t\t\t} catch (Exception ioe) {\r\n\t\t\t\t\tlogger.error(ServerConstants.FTP_NOT_DISCONNECT, ioe);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlogger.trace(&quot;Exiting downloadFile() method&quot;);\r\n\t}\r\n\r\nThe line `sftpChannel.get(filename, outputstream)` is throwing an error.\r\n    \r\n  \r\n\r\n&gt;       2: File not found\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2629)\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp._get(ChannelSftp.java:977)\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:946)\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:924)\r\n&gt;         \tat za.co.tpc.sftpserver.SftpConnection.downloadFile(SftpConnection.java:72)\r\n&gt;         \tat za.co.tpc.server.execute.FtpMtn.main(FtpMtn.java:44)\r\n\r\nThe same code does download Text Document file types but fails for &#39;File&#39; filetype","title":"Downloading files from an SFTP server using JSch","body":"<p>I am using jsch to download files from server, my code below.</p>\n<pre><code>public static void downloadFile(TpcCredentialsDTO dto) {\n        logger.trace(&quot;Entering downloadFile() method&quot;);\n        \n    Session session = null;\n    Channel channel = null;\n    ChannelSftp channelSftp = null;\n    boolean success = false;\n    \n    try {\n        JSch jsch = new JSch();\n        session = jsch.getSession(dto.getUsername(), dto.getHost(),\n                dto.getPort());\n        session.setPassword(dto.getPassword());\n\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.connect();\n        logger.info(&quot;Connected to &quot; + dto.getHost() + &quot;.&quot;);\n        \n        channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n        channelSftp = (ChannelSftp) channel;\n        \n        List&lt;String&gt; filesToDownload = getFilesToDownload(dto,channelSftp);\n        \n        if (!filesToDownload.isEmpty()) {\n            for (String fileDownloadName : filesToDownload) {\n                success = false;\n                OutputStream output = new FileOutputStream(\n                    &quot;C:\\Download\\BLT_03112012&quot;);\n                \n                channelSftp.get(&quot;BLT_03112012&quot;,output);\n                success = true;\n                if (success)\n                    logger.info(ServerConstants.DOWNLOAD_SUCCESS_MSG\n                                    + fileDownloadName);\n                output.close();\n            }\n\n        }else {\n            logger.info(ServerConstants.NO_FILES_TO_DOWNLOAD\n                    + ServerUtils.getDateTime());\n            success = true;\n        }\n        \n    } catch (JSchException ex) {\n        logger.error( ServerConstants.SFTP_REFUSED_CONNECTION, ex);\n    } catch (SftpException ex) {\n        logger.error(ServerConstants.FILE_DOWNLOAD_FAILED, ex);\n    } catch (IOException ex) {\n        logger.error(ServerConstants.FILE_NOT_FOUND, ex);\n    }catch (Exception ex) {\n        logger.error(ServerConstants.ERROR, ex);\n    }finally {\n        if (channelSftp.isConnected()) {\n            try {\n                session.disconnect();\n                channel.disconnect();\n                channelSftp.quit();\n                logger.info( ServerConstants.FTP_DISCONNECT);\n            } catch (Exception ioe) {\n                logger.error(ServerConstants.FTP_NOT_DISCONNECT, ioe);\n            }\n        }\n    }\n    logger.trace(&quot;Exiting downloadFile() method&quot;);\n}\n</code></pre>\n<p>The line <code>sftpChannel.get(filename, outputstream)</code> is throwing an error.</p>\n<blockquote>\n<pre><code>  2: File not found\n      at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2629)\n      at com.jcraft.jsch.ChannelSftp._get(ChannelSftp.java:977)\n      at com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:946)\n      at com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:924)\n      at za.co.tpc.sftpserver.SftpConnection.downloadFile(SftpConnection.java:72)\n      at za.co.tpc.server.execute.FtpMtn.main(FtpMtn.java:44)\n</code></pre>\n</blockquote>\n<p>The same code does download Text Document file types but fails for 'File' filetype</p>\n"},{"tags":["java","jvm","ssl-certificate","truststore"],"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677833994,"creation_date":1677745320,"question_id":75612873,"body_markdown":"I am uploading test results with Java to Jira/Xray. It works fine on some machines but on others it runs into this error:\r\n\r\n    javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n\r\nI am using these lines to set the certificates:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;src/main/resources/cacerts&quot;);\r\n\r\nThe machines (Windows) where it does not work are from some clients with very restricted user right. Does anyone have an idea what needs to be changed in settings in order to make this work? ","title":"InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty appearing in some cases and in others not","body":"<p>I am uploading test results with Java to Jira/Xray. It works fine on some machines but on others it runs into this error:</p>\n<pre><code>javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n</code></pre>\n<p>I am using these lines to set the certificates:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;src/main/resources/cacerts&quot;);\n</code></pre>\n<p>The machines (Windows) where it does not work are from some clients with very restricted user right. Does anyone have an idea what needs to be changed in settings in order to make this work?</p>\n"},{"tags":["java","json","jackson","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635942801,"creation_date":1635942801,"answer_id":69824920,"question_id":69824842,"body_markdown":"Did you try to use [conditional mapping][1] ?\r\n\r\nThis will allow you to create different conditions for different consumers and map accordingly.\r\n\r\n\r\n  [1]: http://modelmapper.org/user-manual/property-mapping/#conditional-mapping","title":"How to use different typemap for the same ModelMapper","body":"<p>Did you try to use <a href=\"http://modelmapper.org/user-manual/property-mapping/#conditional-mapping\" rel=\"nofollow noreferrer\">conditional mapping</a> ?</p>\n<p>This will allow you to create different conditions for different consumers and map accordingly.</p>\n"},{"tags":[],"owner":{"account_id":8249980,"reputation":151,"user_id":6204958,"display_name":"Andrii Ofim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677833722,"creation_date":1677833722,"answer_id":75624997,"question_id":69824842,"body_markdown":"The desired behavior can be achieved via using `typeMapName`\r\n\r\nConfigure named mappings\r\n\r\n    modelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer1&quot;)\r\n      .addMappings(new PropertyMap&lt;&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected void configure() {\r\n\t\t\t\t\t\tskip(destination.getDrivingLicenceNo());\r\n\t\t\t\t\t}\r\n\t   });\r\n    \r\n    modelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer2&quot;)\r\n      .addMappings(new PropertyMap&lt;&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected void configure() {\r\n\t\t\t\t\t\tskip(destination.getPassportNo());\r\n\t\t\t\t\t}\r\n\t   });\r\n\r\nUse named mappings\r\n\r\n    modelMapper.map(student, StudentDto.class, &quot;Consumer1&quot;);\r\n    modelMapper.map(student, StudentDto.class, &quot;Consumer2&quot;);\r\n\r\nUnfortunately, This feature is not mentioned in ModelMapper [user manual][1]\r\n\r\n\r\n  [1]: https://modelmapper.org/user-manual/","title":"How to use different typemap for the same ModelMapper","body":"<p>The desired behavior can be achieved via using <code>typeMapName</code></p>\n<p>Configure named mappings</p>\n<pre><code>modelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer1&quot;)\n  .addMappings(new PropertyMap&lt;&gt;() {\n                @Override\n                protected void configure() {\n                    skip(destination.getDrivingLicenceNo());\n                }\n   });\n\nmodelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer2&quot;)\n  .addMappings(new PropertyMap&lt;&gt;() {\n                @Override\n                protected void configure() {\n                    skip(destination.getPassportNo());\n                }\n   });\n</code></pre>\n<p>Use named mappings</p>\n<pre><code>modelMapper.map(student, StudentDto.class, &quot;Consumer1&quot;);\nmodelMapper.map(student, StudentDto.class, &quot;Consumer2&quot;);\n</code></pre>\n<p>Unfortunately, This feature is not mentioned in ModelMapper <a href=\"https://modelmapper.org/user-manual/\" rel=\"nofollow noreferrer\">user manual</a></p>\n"}],"owner":{"account_id":4516602,"reputation":405,"user_id":3671230,"accept_rate":43,"display_name":"Abdul Razak AK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677833722,"creation_date":1635942497,"question_id":69824842,"body_markdown":"I&#39;m using ModelMapper to transform entity to dto, but we have a requirement that, same endpoints will be used by the multiple consumer. So, we have to restrict the fields based on the consumer.\r\n\r\nEg : \r\n```\r\nConsumer 1 -&gt; fullName, aadharNo, other details...\r\nConsumer 2 -&gt; fullName, passportNo, other details...\r\nConsumer 3 -&gt; fullName, drivingLicenceNo\r\nConsumer 4-&gt; All fields\r\n\r\n\r\npublic class Student {\r\n    private String fullName;\r\n    private String aadharNo;\r\n    private String passportNo;\r\n    private String drivingLicenceNo;\r\n    private String age;\r\n    private String schoolName;\r\n    private String collegeName;\r\n    private String grade;\r\n    private String schoolMark;\r\n}\r\n\r\npublic class StudentDto {\r\n    private String fullName;\r\n    private String aadharNo;\r\n    private String passportNo;\r\n    private String drivingLicenceNo;\r\n    private String age;\r\n    private String schoolName;\r\n    private String collegeName;\r\n    private String grade;\r\n    private String schoolMark;\r\n}\r\n```\r\nI tried to achieve the same having multiple typeMap for the same model mapper, but not able to overwrite typemap once it is defined in modelmapper.\r\n\r\nSample PropertyMap :\r\n```\r\n   PropertyMap&lt;Student , StudentDto&gt; skipModifiedFieldsMap = new PropertyMap&lt;Student , StudentDto&gt;() {\r\n      protected void configure() {\r\n         //skip().setAadharNo(null);\r\n     }\r\n   };\r\n```\r\n\r\nCould you please suggest some good ways to achieve it. any library is fine.\r\n","title":"How to use different typemap for the same ModelMapper","body":"<p>I'm using ModelMapper to transform entity to dto, but we have a requirement that, same endpoints will be used by the multiple consumer. So, we have to restrict the fields based on the consumer.</p>\n<p>Eg :</p>\n<pre><code>Consumer 1 -&gt; fullName, aadharNo, other details...\nConsumer 2 -&gt; fullName, passportNo, other details...\nConsumer 3 -&gt; fullName, drivingLicenceNo\nConsumer 4-&gt; All fields\n\n\npublic class Student {\n    private String fullName;\n    private String aadharNo;\n    private String passportNo;\n    private String drivingLicenceNo;\n    private String age;\n    private String schoolName;\n    private String collegeName;\n    private String grade;\n    private String schoolMark;\n}\n\npublic class StudentDto {\n    private String fullName;\n    private String aadharNo;\n    private String passportNo;\n    private String drivingLicenceNo;\n    private String age;\n    private String schoolName;\n    private String collegeName;\n    private String grade;\n    private String schoolMark;\n}\n</code></pre>\n<p>I tried to achieve the same having multiple typeMap for the same model mapper, but not able to overwrite typemap once it is defined in modelmapper.</p>\n<p>Sample PropertyMap :</p>\n<pre><code>   PropertyMap&lt;Student , StudentDto&gt; skipModifiedFieldsMap = new PropertyMap&lt;Student , StudentDto&gt;() {\n      protected void configure() {\n         //skip().setAadharNo(null);\n     }\n   };\n</code></pre>\n<p>Could you please suggest some good ways to achieve it. any library is fine.</p>\n"},{"tags":["java","regex","split","delimiter"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1677636293,"post_id":75598900,"comment_id":133376069,"body_markdown":"[This is close to a dup](https://stackoverflow.com/q/67637203/1270789), but is for JavaScript instead; it should be easy to adapt into an answer but I don&#39;t have time right now.","body":"<a href=\"https://stackoverflow.com/q/67637203/1270789\">This is close to a dup</a>, but is for JavaScript instead; it should be easy to adapt into an answer but I don&#39;t have time right now."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1677639257,"post_id":75598900,"comment_id":133376439,"body_markdown":"Even though some find regex convenient, I find complicated regex hard to maintain, and probably should be avoided.  A simple parser, just a loop that iterates over the string, would be easy to implement and understand for a later maintainer.","body":"Even though some find regex convenient, I find complicated regex hard to maintain, and probably should be avoided.  A simple parser, just a loop that iterates over the string, would be easy to implement and understand for a later maintainer."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677642442,"post_id":75598900,"comment_id":133376828,"body_markdown":"@markspace - Indeed.  Increment counter on char=&#39;{&#39;, decrement on char=&#39;}&#39;, split on counter=0 &amp; char=&#39;-&#39;.  Done.","body":"@markspace - Indeed.  Increment counter on char=&#39;{&#39;, decrement on char=&#39;}&#39;, split on counter=0 &amp; char=&#39;-&#39;.  Done."}],"answers":[{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677641710,"creation_date":1677641141,"answer_id":75599310,"question_id":75598900,"body_markdown":"You could match the regular expression\r\n\r\n    (?:\\{\\{.*?\\}\\}|[^{}\\-]+)\r\n\r\n[Demo](https://regex101.com/r/drR4nB/1)\r\n\r\nThe expression could be broken down as follow.\r\n\r\n    (?:         begin a non-capture group\r\n      \\{\\{      match literal\r\n      .*?       match zero or more chars other than line terminators, lazily\r\n      \\}\\}      match literal\r\n    |           or\r\n      [^{}\\-]+  match one or more characters other than &#39;{&#39;, &#39;}&#39; or &#39;-&#39;\r\n    )           end non-capture group\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>You could match the regular expression</p>\n<pre><code>(?:\\{\\{.*?\\}\\}|[^{}\\-]+)\n</code></pre>\n<p><a href=\"https://regex101.com/r/drR4nB/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>The expression could be broken down as follow.</p>\n<pre><code>(?:         begin a non-capture group\n  \\{\\{      match literal\n  .*?       match zero or more chars other than line terminators, lazily\n  \\}\\}      match literal\n|           or\n  [^{}\\-]+  match one or more characters other than '{', '}' or '-'\n)           end non-capture group\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677644822,"creation_date":1677644822,"answer_id":75599575,"question_id":75598900,"body_markdown":"This is kind of a non-answer, but it&#39;s taken you an hour to get a regex answer, and this took me 20 minutes including some light testing and comments.  It&#39;s a bit more complicated than I thought, though perhaps that could be improved.  \r\n\r\nI&#39;ve added some light comments to indicate what I&#39;m doing.  Adding some Javadoc to the `parse()` method would also make it more readable.  \r\n\r\nIf you find it helpful, feel free to copy.\r\n\r\n```\r\npackage stackoverflow;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author Brenden\r\n */\r\npublic class ParseDashBrace {\r\n   \r\n   public static void main( String[] args ) {\r\n      List&lt;String&gt; test1 = parse( &quot;{{abc-def}}-123-benefit-{{ghi}}&quot; );\r\n      System.out.println( &quot;Test1 &quot; + test1 );\r\n      List&lt;String&gt; test2 = parse( &quot;abc-{{123-def}}-benefit-{{ghi}}&quot; );\r\n      System.out.println( &quot;Test2 &quot; + test2 );\r\n   }\r\n   \r\n   static List&lt;String&gt; parse( String line ) {\r\n      ArrayList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\r\n      boolean inBrace = false;\r\n      boolean firstBrace = false;\r\n      int start = 0; \r\n      int end = 0;\r\n      // parse the string, split on - and {{}}\r\n      for( ; end &lt; line.length(); end++ ) {\r\n         char c = line.charAt( end );\r\n         if( !inBrace ) {\r\n            // if we are not inside braces, then we look for &quot;-&quot;\r\n            if( c == &#39;-&#39; ) {\r\n               if( start != end )\r\n                  tokens.add( line.substring( start, end) );\r\n               start = end+1;\r\n            } else if( c == &#39;{&#39; ) {\r\n               // we also need to know when we find a brace and are inside\r\n               inBrace = true;\r\n            }\r\n         } else {\r\n            if( c == &#39;}&#39; ) {\r\n               if( firstBrace ) {\r\n                  // we had a first brace and now we found another, two braces total\r\n                  tokens.add( line.substring( start, end+1 ) );\r\n                  start = end+1;\r\n                  firstBrace = false;\r\n                  inBrace = false;\r\n               } else {\r\n                  // this is just the first end brace, flag it, wait for next one\r\n                  firstBrace = true;\r\n               }\r\n            }\r\n         }\r\n      }\r\n      if( start != end ) \r\n         tokens.add( line.substring( start, end ) );\r\n      return tokens;\r\n   }\r\n}\r\n```\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>This is kind of a non-answer, but it's taken you an hour to get a regex answer, and this took me 20 minutes including some light testing and comments.  It's a bit more complicated than I thought, though perhaps that could be improved.</p>\n<p>I've added some light comments to indicate what I'm doing.  Adding some Javadoc to the <code>parse()</code> method would also make it more readable.</p>\n<p>If you find it helpful, feel free to copy.</p>\n<pre><code>package stackoverflow;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * @author Brenden\n */\npublic class ParseDashBrace {\n   \n   public static void main( String[] args ) {\n      List&lt;String&gt; test1 = parse( &quot;{{abc-def}}-123-benefit-{{ghi}}&quot; );\n      System.out.println( &quot;Test1 &quot; + test1 );\n      List&lt;String&gt; test2 = parse( &quot;abc-{{123-def}}-benefit-{{ghi}}&quot; );\n      System.out.println( &quot;Test2 &quot; + test2 );\n   }\n   \n   static List&lt;String&gt; parse( String line ) {\n      ArrayList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\n      boolean inBrace = false;\n      boolean firstBrace = false;\n      int start = 0; \n      int end = 0;\n      // parse the string, split on - and {{}}\n      for( ; end &lt; line.length(); end++ ) {\n         char c = line.charAt( end );\n         if( !inBrace ) {\n            // if we are not inside braces, then we look for &quot;-&quot;\n            if( c == '-' ) {\n               if( start != end )\n                  tokens.add( line.substring( start, end) );\n               start = end+1;\n            } else if( c == '{' ) {\n               // we also need to know when we find a brace and are inside\n               inBrace = true;\n            }\n         } else {\n            if( c == '}' ) {\n               if( firstBrace ) {\n                  // we had a first brace and now we found another, two braces total\n                  tokens.add( line.substring( start, end+1 ) );\n                  start = end+1;\n                  firstBrace = false;\n                  inBrace = false;\n               } else {\n                  // this is just the first end brace, flag it, wait for next one\n                  firstBrace = true;\n               }\n            }\n         }\n      }\n      if( start != end ) \n         tokens.add( line.substring( start, end ) );\n      return tokens;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677668750,"creation_date":1677668750,"answer_id":75602841,"question_id":75598900,"body_markdown":"Your regex will be simpler if you use `matcher` instead of `split`. Note that in your first regex, the `^` functions as a start of input anchor, so that will never match.\r\n\r\nWith `matcher` you can use this regex:\r\n\r\n    \\{\\{.*?\\}\\}|[^-]+\r\n\r\nIn code:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\n// ...\r\n\r\n        String regex = &quot;\\\\{\\\\{.*?\\\\}\\\\}|[^-]+&quot;;\r\n        String abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\r\n        ArrayList&lt;String&gt; output = new ArrayList&lt;&gt;();\r\n        Matcher m = Pattern.compile(regex).matcher(abc);\r\n        while (m.find()) {\r\n            output.add(m.group());\r\n        }\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>Your regex will be simpler if you use <code>matcher</code> instead of <code>split</code>. Note that in your first regex, the <code>^</code> functions as a start of input anchor, so that will never match.</p>\n<p>With <code>matcher</code> you can use this regex:</p>\n<pre><code>\\{\\{.*?\\}\\}|[^-]+\n</code></pre>\n<p>In code:</p>\n<pre><code>import java.util.*;\nimport java.util.regex.*;\n\n// ...\n\n        String regex = &quot;\\\\{\\\\{.*?\\\\}\\\\}|[^-]+&quot;;\n        String abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\n        ArrayList&lt;String&gt; output = new ArrayList&lt;&gt;();\n        Matcher m = Pattern.compile(regex).matcher(abc);\n        while (m.find()) {\n            output.add(m.group());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677833152,"creation_date":1677833152,"answer_id":75624911,"question_id":75598900,"body_markdown":"Alternative:\r\n\r\nUsed regex:\r\n\r\n    &quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;\r\n\r\nSee regex in context and test-bench, below:\r\n\r\n    public static void main(String[] args) {\r\n        String input1 = &quot;{{abc-def}}-123-benefit-{{ghi}}&quot;;\r\n        String input2 = &quot;abc-{{123-def}}-benefit-{{ghi}}&quot;;\r\n\r\n        String regex = &quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;;\r\n\r\n        System.out.println(&quot;Result of input1: &quot; + Arrays.asList(input1.split(regex)));\r\n        System.out.println(&quot;Result of input2: &quot; + Arrays.asList(input2.split(regex)));\r\n    }\r\n\r\nOutput:\r\n\r\n    Result of input1: [{{abc-def}}, 123, benefit, {{ghi}}]\r\n    Result of input2: [abc, {{123-def}}, benefit, {{ghi}}]\r\n\r\nComment:\r\n\r\n    Used Pattern:\r\n    (?&lt;!X)\tX, via zero-width negative lookbehind\r\n\r\nRead more about Pattern here: https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\r\n\r\nOther tools for testing regex: https://regex101.com/","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>Alternative:</p>\n<p>Used regex:</p>\n<pre><code>&quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;\n</code></pre>\n<p>See regex in context and test-bench, below:</p>\n<pre><code>public static void main(String[] args) {\n    String input1 = &quot;{{abc-def}}-123-benefit-{{ghi}}&quot;;\n    String input2 = &quot;abc-{{123-def}}-benefit-{{ghi}}&quot;;\n\n    String regex = &quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;;\n\n    System.out.println(&quot;Result of input1: &quot; + Arrays.asList(input1.split(regex)));\n    System.out.println(&quot;Result of input2: &quot; + Arrays.asList(input2.split(regex)));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Result of input1: [{{abc-def}}, 123, benefit, {{ghi}}]\nResult of input2: [abc, {{123-def}}, benefit, {{ghi}}]\n</code></pre>\n<p>Comment:</p>\n<pre><code>Used Pattern:\n(?&lt;!X)  X, via zero-width negative lookbehind\n</code></pre>\n<p>Read more about Pattern here: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html</a></p>\n<p>Other tools for testing regex: <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n"}],"owner":{"account_id":12579153,"reputation":25,"user_id":9150507,"display_name":"user9150507"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1677833152,"creation_date":1677635450,"question_id":75598900,"body_markdown":"I have some strings that I want to separate based on dashes but only if dashes exist outside of double curly braces like below:\r\n\r\n{{abc-def}}-123-benefit-{{ghi}} should break into {{abc-def}}, 123, benefit, {{ghi}}\r\n\r\nabc-{{123-def}}-benefit-{{ghi}} should break into abc, {{123-def}}, benefit, {{ghi}}\r\n\r\nI am trying to use regex to do that, but not able to get it done since I am novice with Regex. Based on some of the answers I could research, I tried following piece, but didn&#39;t get expected output:\r\n\r\n```\r\nString regex = &quot;-(?!\\\\{\\\\{^\\\\{\\\\{\\\\}\\\\}*\\\\}\\\\})&quot;;\r\nString newRegex = &quot;-(?:[^,\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)+-&quot;;\r\nString abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\r\nString[] output1 = abc.split(regex);\r\nString[] output2 = abc.split(newRegex);\r\n```\r\n\r\nGetting output1 as\r\n```\r\n[&quot;{{abc&quot;, &quot;def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\r\n```\r\n\r\nand output2 as\r\n```\r\n[&quot;{{abc&quot;, &quot;{{def}}&quot;]\r\n```\r\n\r\nExpected output is\r\n```\r\n[&quot;{{abc-def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\r\n```\r\n\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>I have some strings that I want to separate based on dashes but only if dashes exist outside of double curly braces like below:</p>\n<p>{{abc-def}}-123-benefit-{{ghi}} should break into {{abc-def}}, 123, benefit, {{ghi}}</p>\n<p>abc-{{123-def}}-benefit-{{ghi}} should break into abc, {{123-def}}, benefit, {{ghi}}</p>\n<p>I am trying to use regex to do that, but not able to get it done since I am novice with Regex. Based on some of the answers I could research, I tried following piece, but didn't get expected output:</p>\n<pre><code>String regex = &quot;-(?!\\\\{\\\\{^\\\\{\\\\{\\\\}\\\\}*\\\\}\\\\})&quot;;\nString newRegex = &quot;-(?:[^,\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)+-&quot;;\nString abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\nString[] output1 = abc.split(regex);\nString[] output2 = abc.split(newRegex);\n</code></pre>\n<p>Getting output1 as</p>\n<pre><code>[&quot;{{abc&quot;, &quot;def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\n</code></pre>\n<p>and output2 as</p>\n<pre><code>[&quot;{{abc&quot;, &quot;{{def}}&quot;]\n</code></pre>\n<p>Expected output is</p>\n<pre><code>[&quot;{{abc-def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\n</code></pre>\n"},{"tags":["java","json","edifact"],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677833127,"creation_date":1677833127,"question_id":75624909,"body_markdown":"I am trying to following this repository [https://github.com/BerryWorksSoftware/edi-json][1] everything works fine but when edifact message converted into json some curly brackets missing. This occurs because of multiple brackets in my opinion.\r\n\r\nFor an instance this is segment line where error occurs\r\n\r\n    UNB(TEST:Number(TEST:TEST(TEST(Number:Number(Number((TEST-\r\n\r\nwhen edifact message generate into json it looks like this:\r\n\r\n    {\r\n      &quot;UNB_01_SyntaxIdentifier&quot;: {\r\n        &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\r\n        &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_02_InterchangeSender&quot;: {\r\n        &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_03_InterchangeReceiver&quot;: {\r\n        &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\r\n      },\r\n      &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\r\n        &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\r\n        &quot;UNB_04_02_Time&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;,\r\n\r\nbut it missing add brackets. It would be like this \r\n\r\n    {\r\n      &quot;UNB_01_SyntaxIdentifier&quot;: {\r\n        &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\r\n        &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_02_InterchangeSender&quot;: {\r\n        &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_03_InterchangeReceiver&quot;: {\r\n        &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\r\n      },\r\n      &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\r\n        &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\r\n        &quot;UNB_04_02_Time&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;\r\n    }\r\n\r\nis there any way before generating json split something you know?\r\n\r\n\r\n  [1]: https://github.com/BerryWorksSoftware/edi-json","title":"Edifact message couldn&#39;t correctly format to into json","body":"<p>I am trying to following this repository <a href=\"https://github.com/BerryWorksSoftware/edi-json\" rel=\"nofollow noreferrer\">https://github.com/BerryWorksSoftware/edi-json</a> everything works fine but when edifact message converted into json some curly brackets missing. This occurs because of multiple brackets in my opinion.</p>\n<p>For an instance this is segment line where error occurs</p>\n<pre><code>UNB(TEST:Number(TEST:TEST(TEST(Number:Number(Number((TEST-\n</code></pre>\n<p>when edifact message generate into json it looks like this:</p>\n<pre><code>{\n  &quot;UNB_01_SyntaxIdentifier&quot;: {\n    &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\n    &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\n  },\n  &quot;UNB_02_InterchangeSender&quot;: {\n    &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\n  },\n  &quot;UNB_03_InterchangeReceiver&quot;: {\n    &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\n  },\n  &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\n    &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\n    &quot;UNB_04_02_Time&quot;: &quot;value&quot;\n  },\n  &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;,\n</code></pre>\n<p>but it missing add brackets. It would be like this</p>\n<pre><code>{\n  &quot;UNB_01_SyntaxIdentifier&quot;: {\n    &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\n    &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\n  },\n  &quot;UNB_02_InterchangeSender&quot;: {\n    &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\n  },\n  &quot;UNB_03_InterchangeReceiver&quot;: {\n    &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\n  },\n  &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\n    &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\n    &quot;UNB_04_02_Time&quot;: &quot;value&quot;\n  },\n  &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>is there any way before generating json split something you know?</p>\n"},{"tags":["java","readme"],"comments":[{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575249073,"post_id":59131463,"comment_id":104491015,"body_markdown":"the topic you&#39;re asking for is markdown creation (.md file). I googled a bit and saw a javadoc to markdown [generator](https://delight-im.github.io/Javadoc-to-Markdown/), maybe there&#39;s more. so you&#39;d have the chain java -&gt; javadoc -&gt; markdown","body":"the topic you&#39;re asking for is markdown creation (.md file). I googled a bit and saw a javadoc to markdown <a href=\"https://delight-im.github.io/Javadoc-to-Markdown/\" rel=\"nofollow noreferrer\">generator</a>, maybe there&#39;s more. so you&#39;d have the chain java -&gt; javadoc -&gt; markdown"},{"owner":{"account_id":6234697,"reputation":1018,"user_id":4850377,"accept_rate":47,"display_name":"GAK"},"score":0,"creation_date":1575256261,"post_id":59131463,"comment_id":104492286,"body_markdown":"Does this answer your question? [Display JavaDocs on GitHub](https://stackoverflow.com/questions/15347808/display-javadocs-on-github)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15347808/display-javadocs-on-github\">Display JavaDocs on GitHub</a>"},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330131,"post_id":59131463,"comment_id":104522155,"body_markdown":"@gurioso: Thanks for reply i tried option you mentioned however my code is without javadoc so it is giving me #Documentation as a results.","body":"@gurioso: Thanks for reply i tried option you mentioned however my code is without javadoc so it is giving me #Documentation as a results."},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330267,"post_id":59131463,"comment_id":104522184,"body_markdown":"@GAK : we are not using git hub and can&#39;t upload code on git because of privacy policy.Is there any other way.","body":"@GAK : we are not using git hub and can&#39;t upload code on git because of privacy policy.Is there any other way."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575330271,"post_id":59131463,"comment_id":104522185,"body_markdown":"Hm, but how is then the relationship from your java (I assume) code to something that looks like markup? But maybe I understood the question all wrong. If you have no javadoc sections in your code, then it seems to me, there is no way.","body":"Hm, but how is then the relationship from your java (I assume) code to something that looks like markup? But maybe I understood the question all wrong. If you have no javadoc sections in your code, then it seems to me, there is no way."},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330466,"post_id":59131463,"comment_id":104522244,"body_markdown":"@guriso :I will paste the code sample just for sample:public class ReadExcel {\n\t\n\tpublic static String LoadData() {\n\t\n\t\ttry {\n\t\t\t\n\t\t\t\t\t\n\t\t\tFile fs=new File(AppVariableConstants.TestDataPath);\n\t\t\tFileInputStream fis = new FileInputStream(fs);\n\t\t\tHSSFWorkbook workbook = new HSSFWorkbook (fis);\n\t\t\tHSSFSheet sheet = workbook.getSheetAt(0);\n\t\t     int rows; // No of rows\n\t\t    int cols;\n\t\t    String KeyHeader;\n\t\t    String ValueCell=null;\n\t\t    rows = sheet.getPhysicalNumberOfRows();\n\t\t     code sample...}}}","body":"@guriso :I will paste the code sample just for sample:public class ReadExcel { \t \tpublic static String LoadData() { \t \t\ttry { \t\t\t \t\t\t\t\t \t\t\tFile fs=new File(AppVariableConstants.TestDataPath); \t\t\tFileInputStream fis = new FileInputStream(fs); \t\t\tHSSFWorkbook workbook = new HSSFWorkbook (fis); \t\t\tHSSFSheet sheet = workbook.getSheetAt(0); \t\t     int rows; // No of rows \t\t    int cols; \t\t    String KeyHeader; \t\t    String ValueCell=null; \t\t    rows = sheet.getPhysicalNumberOfRows(); \t\t     code sample...}}}"},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575330903,"post_id":59131463,"comment_id":104522348,"body_markdown":"Ok, how should the readme look like then, departing from this snippet? It is not obvious, there are plenty of ways.","body":"Ok, how should the readme look like then, departing from this snippet? It is not obvious, there are plenty of ways."},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330942,"post_id":59131463,"comment_id":104522357,"body_markdown":"@guriso: this is actually a automation framework using java.So readme should have how to install it and each function or method details(just like javadoc has for in-build function).Not sure if this is possible or i have to manually create.","body":"@guriso: this is actually a automation framework using java.So readme should have how to install it and each function or method details(just like javadoc has for in-build function).Not sure if this is possible or i have to manually create."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575331089,"post_id":59131463,"comment_id":104522387,"body_markdown":"well, @AmrutaPande, I&#39;d also wish to have such kind of generator at hand occasionally. But I&#39;m afraid, there isn&#39;t any who can generate user manuals based on code (yet). If there&#39;s anybody who can prove me wrong, please do it **now**.","body":"well, @AmrutaPande, I&#39;d also wish to have such kind of generator at hand occasionally. But I&#39;m afraid, there isn&#39;t any who can generate user manuals based on code (yet). If there&#39;s anybody who can prove me wrong, please do it <b>now</b>."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575331354,"post_id":59131463,"comment_id":104522442,"body_markdown":"Is it really a **lot** of documentation, you&#39;re talking here about? Like hundreds of pages?","body":"Is it really a <b>lot</b> of documentation, you&#39;re talking here about? Like hundreds of pages?"}],"answers":[{"tags":[],"owner":{"account_id":8021429,"reputation":505,"user_id":6049974,"display_name":"Edgencio Da Calista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677833119,"creation_date":1677833119,"answer_id":75624906,"question_id":59131463,"body_markdown":"I don&#180;t know if you can do it via java, but there are some amazing tools that help a lot when it comes to generate readme files. Some are Web based like [this one][1] and other are web based similar to https://github.com/kefranabg/readme-md-generator\r\n\r\n\r\n  [1]: https://readme.so/editor","title":"how to create Readme Document automatically in java not from Git hub","body":"<p>I don´t know if you can do it via java, but there are some amazing tools that help a lot when it comes to generate readme files. Some are Web based like <a href=\"https://readme.so/editor\" rel=\"nofollow noreferrer\">this one</a> and other are web based similar to <a href=\"https://github.com/kefranabg/readme-md-generator\" rel=\"nofollow noreferrer\">https://github.com/kefranabg/readme-md-generator</a></p>\n"}],"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677833119,"creation_date":1575248839,"question_id":59131463,"body_markdown":"I want to create a readme or something similar to javadoc automatically .\r\nMy code is already ready and i am finding ways if readme can be created automatically if yes then how.\r\nI don&#39;t want readme doc which is created by Git hub.","title":"how to create Readme Document automatically in java not from Git hub","body":"<p>I want to create a readme or something similar to javadoc automatically .\nMy code is already ready and i am finding ways if readme can be created automatically if yes then how.\nI don't want readme doc which is created by Git hub.</p>\n"},{"tags":["java","apache-poi","xlsx"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1677833362,"post_id":75624878,"comment_id":133418951,"body_markdown":"What do you want to achieve? You&#39;re trying to send the same Workbook 10000 times to the client? Certainly not what the response headers say. And as you `sleep` for 100ms each loop iteration, you&#39;re effectively sleepint for 1000 seconds - no wonder, this takes a while to finish...","body":"What do you want to achieve? You&#39;re trying to send the same Workbook 10000 times to the client? Certainly not what the response headers say. And as you <code>sleep</code> for 100ms each loop iteration, you&#39;re effectively sleepint for 1000 seconds - no wonder, this takes a while to finish..."},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677834237,"post_id":75624878,"comment_id":133419179,"body_markdown":"data is huge  over 1m. if  it makes temp file, response body causes server response timeout.    yes.  no one answered the question.   you&#39;re right, this code is not right. but it says  &#39;i want to  go  to the client  with buffering!&#39;. my goal is mimic streaming transfer.","body":"data is huge  over 1m. if  it makes temp file, response body causes server response timeout.    yes.  no one answered the question.   you&#39;re right, this code is not right. but it says  &#39;i want to  go  to the client  with buffering!&#39;. my goal is mimic streaming transfer."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1677834263,"post_id":75624878,"comment_id":133419188,"body_markdown":"So basically you want to write the stream over and over to the client each time with new data?","body":"So basically you want to write the stream over and over to the client each time with new data?"},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677835013,"post_id":75624878,"comment_id":133419390,"body_markdown":"exactly, right. POI doesn&#39;t offer it. there&#39;s no java xlsx library for network transfer.","body":"exactly, right. POI doesn&#39;t offer it. there&#39;s no java xlsx library for network transfer."},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677838251,"post_id":75624878,"comment_id":133420244,"body_markdown":"yes, it is hard or maybe impossible. but uploaded this link(https://d2.naver.com/helloworld/9423440) shows it possible.  is it true or trick?  this is the first step and can close similary questions which continues since few years ago","body":"yes, it is hard or maybe impossible. but uploaded this link(<a href=\"https://d2.naver.com/helloworld/9423440\" rel=\"nofollow noreferrer\">d2.naver.com/helloworld/9423440</a>) shows it possible.  is it true or trick?  this is the first step and can close similary questions which continues since few years ago"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1677839643,"post_id":75624878,"comment_id":133420612,"body_markdown":"DeferredSXSSFWorkbook is an experimental variant of SXSSFWorkbook that is meant to produce a better solution when writing to response streams - see https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java","body":"DeferredSXSSFWorkbook is an experimental variant of SXSSFWorkbook that is meant to produce a better solution when writing to response streams - see <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/jav&zwnj;&#8203;a/&hellip;</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1677842173,"post_id":75624878,"comment_id":133421331,"body_markdown":"The most robust solution is an async API. The request message contains a URL and you respond that you&#39;ve received the request. A background thread generates the xlsx and posts it to request URL when it is ready.","body":"The most robust solution is an async API. The request message contains a URL and you respond that you&#39;ve received the request. A background thread generates the xlsx and posts it to request URL when it is ready."},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677855341,"post_id":75624878,"comment_id":133424991,"body_markdown":"wow, it works well. I can adopt it in my service! &#128516; thank you very much.","body":"wow, it works well. I can adopt it in my service! 😄 thank you very much."}],"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677832941,"creation_date":1677832941,"question_id":75624878,"body_markdown":"i use java with spring framework. java has a good library, POI which creates xlsx file.\r\n\r\n\r\nit does not depends on some code. \r\ni have a question write it into the servlet response while server make xlsx.\r\n\r\nbut i give you example. the code is rough because i&#39;m developing.\r\n\r\n    public void buildXlsx(HttpServletRequest \r\n    request,HttpServletResponse response) throws \r\n    Exception {\r\n\r\n    response.setHeader(&quot;Content-Description&quot;, &quot;File Transfer&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, \r\n    &quot;attachment;filename=justAFile.xlsx&quot;);\r\n    response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n    response.setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n\r\n    try (SXSSFWorkbook xlsWriter1 = new SXSSFWorkbook()) {\r\n        SXSSFSheet sheet1 = xlsWriter1.createSheet(&quot;sheet&quot;);\r\n\r\n        Font defaultFont1 = xlsWriter1.createFont();\r\n\r\n        defaultFont1.setFontHeightInPoints((short) 12);\r\n\r\n        CellStyle headStyle1 = xlsWriter1.createCellStyle();\r\n        headStyle1.setFont(defaultFont1);\r\n\r\n        CellStyle bodyStyle1 = xlsWriter1.createCellStyle();\r\n        bodyStyle1.setFont(defaultFont1);\r\n\r\n        Row row1 = null;\r\n        Cell cell1 = null;\r\n        int rowNo1 = 0;\r\n        int headerColNo1 = 0;\r\n        row1 = sheet1.createRow(rowNo1++);\r\n\r\n        cell1 = row1.createCell(headerColNo1++);\r\n        cell1.setCellValue(&quot;sdf dd&quot;);\r\n        cell1.setCellStyle(headStyle1);\r\n\r\n\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n\r\n            row1 = sheet1.createRow(rowNo1++);\r\n            cell1 = row1.createCell(i);\r\n            cell1.setCellValue(&quot;i don&#39;t know &quot; + i);\r\n            cell1.setCellStyle(bodyStyle1);\r\n            xlsWriter1.write(response.getOutputStream()); // no way, write only once. how to perform lazy generate?\r\n                Thread.sleep(100);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nthat has process like creating xlsx form -&gt; make temp file -&gt; flush response . \r\nthat makes huge waiting response time while file transfer into response.\r\n\r\n\r\n\r\nbut that cannot implement this creating xlsx form -&gt; flush response.\r\n\r\nthis means it keeps connection and sends partial data continuously. Like youTube streaming.\r\n\r\nnodeJs can do this with excelJs as I know.\r\nbut they haven&#39;t managed issues nowadays(https://github.com/exceljs/exceljs/issues/209).\r\n\r\nand someone has the solution(https://d2.naver.com/helloworld/9423440, how?)\r\n \r\n","title":"is there any solution to directly write in servlet response?","body":"<p>i use java with spring framework. java has a good library, POI which creates xlsx file.</p>\n<p>it does not depends on some code.\ni have a question write it into the servlet response while server make xlsx.</p>\n<p>but i give you example. the code is rough because i'm developing.</p>\n<pre><code>public void buildXlsx(HttpServletRequest \nrequest,HttpServletResponse response) throws \nException {\n\nresponse.setHeader(&quot;Content-Description&quot;, &quot;File Transfer&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;, \n&quot;attachment;filename=justAFile.xlsx&quot;);\nresponse.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\nresponse.setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n\ntry (SXSSFWorkbook xlsWriter1 = new SXSSFWorkbook()) {\n    SXSSFSheet sheet1 = xlsWriter1.createSheet(&quot;sheet&quot;);\n\n    Font defaultFont1 = xlsWriter1.createFont();\n\n    defaultFont1.setFontHeightInPoints((short) 12);\n\n    CellStyle headStyle1 = xlsWriter1.createCellStyle();\n    headStyle1.setFont(defaultFont1);\n\n    CellStyle bodyStyle1 = xlsWriter1.createCellStyle();\n    bodyStyle1.setFont(defaultFont1);\n\n    Row row1 = null;\n    Cell cell1 = null;\n    int rowNo1 = 0;\n    int headerColNo1 = 0;\n    row1 = sheet1.createRow(rowNo1++);\n\n    cell1 = row1.createCell(headerColNo1++);\n    cell1.setCellValue(&quot;sdf dd&quot;);\n    cell1.setCellStyle(headStyle1);\n\n\n    for (int i = 0; i &lt; 10000; i++) {\n\n        row1 = sheet1.createRow(rowNo1++);\n        cell1 = row1.createCell(i);\n        cell1.setCellValue(&quot;i don't know &quot; + i);\n        cell1.setCellStyle(bodyStyle1);\n        xlsWriter1.write(response.getOutputStream()); // no way, write only once. how to perform lazy generate?\n            Thread.sleep(100);\n        }\n    } catch (Exception e) {\n        log.error(e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>that has process like creating xlsx form -&gt; make temp file -&gt; flush response .\nthat makes huge waiting response time while file transfer into response.</p>\n<p>but that cannot implement this creating xlsx form -&gt; flush response.</p>\n<p>this means it keeps connection and sends partial data continuously. Like youTube streaming.</p>\n<p>nodeJs can do this with excelJs as I know.\nbut they haven't managed issues nowadays(<a href=\"https://github.com/exceljs/exceljs/issues/209\" rel=\"nofollow noreferrer\">https://github.com/exceljs/exceljs/issues/209</a>).</p>\n<p>and someone has the solution(<a href=\"https://d2.naver.com/helloworld/9423440\" rel=\"nofollow noreferrer\">https://d2.naver.com/helloworld/9423440</a>, how?)</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677832865,"creation_date":1677832865,"answer_id":75624866,"question_id":75624778,"body_markdown":"DDL fired clearly shows engine confgured as &#39;MyISAM&#39; it should rather be InnoDB\r\n\r\ntry with\r\n\r\n    ENGINE=InnoDB DEFAULT CHARSET=utf8","title":"hibernate error when executing DDL statement","body":"<p>DDL fired clearly shows engine confgured as 'MyISAM' it should rather be InnoDB</p>\n<p>try with</p>\n<pre><code>ENGINE=InnoDB DEFAULT CHARSET=utf8\n</code></pre>\n"}],"owner":{"account_id":21880995,"reputation":11,"user_id":16169275,"display_name":"Borel Mba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677832865,"creation_date":1677832326,"question_id":75624778,"body_markdown":"i&#39;m trying tro create a bank managing system with spring boot for learning purpose and i got this error\r\nError executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement. \r\n\r\ni&#39;m a beginer in spring boot and java i don&#39;t know how to fix this.\r\n\r\nthe link to my repository https://github.com/Bomt237/Gestion-Banque.git\r\n\r\nthe error message\r\n\r\n\r\n```\r\nHibernate: create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM\r\n2023-03-03 09:23:07.649  WARN 13288 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.sid.BanqueApplication.main(BanqueApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.9.jar:2.7.9]\r\nCaused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\t... 39 common frames omitted\r\n```\r\nthe compte class\r\n```\r\npackage org.sid.entit&#233;s;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.DiscriminatorColumn;\r\nimport javax.persistence.DiscriminatorType;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Inheritance;\r\nimport javax.persistence.InheritanceType;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\n\r\nimport lombok.ToString;\r\n@Entity\r\n@Inheritance(strategy =InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;TYPE_CPTE&quot;, discriminatorType = DiscriminatorType.STRING, length = 2)\r\n@ToString\r\npublic abstract class Compte implements Serializable {\r\n\t@Id\r\n\tprivate String codeCompte;\r\n\tprivate Date dateCreation;\r\n\tprivate double solde;\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;CODE_CLIENT&quot;)\r\n\tprivate Client client;\r\n\t@OneToMany(mappedBy = &quot;compte&quot;)\r\n\tprivate Collection&lt;Operation&gt; operations;\r\n\tpublic Compte() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\tpublic Compte(String codeCompte, Date dateCreation, double solde, Client client) {\r\n\t\tsuper();\r\n\t\tthis.codeCompte = codeCompte;\r\n\t\tthis.dateCreation = dateCreation;\r\n\t\tthis.solde = solde;\r\n\t\tthis.client = client; \r\n\t}\r\n\tpublic String getCodeCompte() {\r\n\t\treturn codeCompte;\r\n\t}\r\n\tpublic void setCodeCompte(String codeCompte) {\r\n\t\tthis.codeCompte = codeCompte;\r\n\t}\r\n\tpublic Date getDateCreation() {\r\n\t\treturn dateCreation;\r\n\t}\r\n\tpublic void setDateCreation(Date dateCreation) {\r\n\t\tthis.dateCreation = dateCreation;\r\n\t}\r\n\tpublic double getSolde() {\r\n\t\treturn solde;\r\n\t}\r\n\tpublic void setSolde(double solde) {\r\n\t\tthis.solde = solde;\r\n\t}\r\n\tpublic Client getClient() {\r\n\t\treturn client;\r\n\t}\r\n\tpublic void setClient(Client client) {\r\n\t\tthis.client = client;\r\n\t}\r\n\tpublic Collection&lt;Operation&gt; getOperations() {\r\n\t\treturn operations;\r\n\t}\r\n\tpublic void setOperations(Collection&lt;Operation&gt; operations) {\r\n\t\tthis.operations = operations;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\nthe extends class\r\n```\r\npackage org.sid.entit&#233;s;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.DiscriminatorValue;\r\nimport javax.persistence.Entity;\r\n\r\nimport lombok.ToString;\r\n@Entity\r\n@DiscriminatorValue(&quot;CC&quot;)\r\n@ToString\r\npublic class CompteCourant extends Compte {\r\n\t\r\n\tprivate double decouvert;\r\n\r\n\tpublic CompteCourant() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic CompteCourant(String codeCompte, Date dateCreation, double solde, Client client, double decouvert) {\r\n\t\tsuper(codeCompte, dateCreation, solde, client);\r\n\t\tthis.decouvert = decouvert;\r\n\t}\r\n\r\n\tpublic double getDecouvert() {\r\n\t\treturn decouvert;\r\n\t}\r\n\r\n\tpublic void setDecouvert(double decouvert) {\r\n\t\tthis.decouvert = decouvert;\r\n\t} \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"hibernate error when executing DDL statement","body":"<p>i'm trying tro create a bank managing system with spring boot for learning purpose and i got this error\nError executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement.</p>\n<p>i'm a beginer in spring boot and java i don't know how to fix this.</p>\n<p>the link to my repository <a href=\"https://github.com/Bomt237/Gestion-Banque.git\" rel=\"nofollow noreferrer\">https://github.com/Bomt237/Gestion-Banque.git</a></p>\n<p>the error message</p>\n<pre><code>Hibernate: create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM\n2023-03-03 09:23:07.649  WARN 13288 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.sid.BanqueApplication.main(BanqueApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.9.jar:2.7.9]\nCaused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    ... 39 common frames omitted\n</code></pre>\n<p>the compte class</p>\n<pre><code>package org.sid.entités;\n\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.Date;\n\nimport javax.persistence.DiscriminatorColumn;\nimport javax.persistence.DiscriminatorType;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Inheritance;\nimport javax.persistence.InheritanceType;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\n\nimport lombok.ToString;\n@Entity\n@Inheritance(strategy =InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;TYPE_CPTE&quot;, discriminatorType = DiscriminatorType.STRING, length = 2)\n@ToString\npublic abstract class Compte implements Serializable {\n    @Id\n    private String codeCompte;\n    private Date dateCreation;\n    private double solde;\n    @ManyToOne\n    @JoinColumn(name = &quot;CODE_CLIENT&quot;)\n    private Client client;\n    @OneToMany(mappedBy = &quot;compte&quot;)\n    private Collection&lt;Operation&gt; operations;\n    public Compte() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public Compte(String codeCompte, Date dateCreation, double solde, Client client) {\n        super();\n        this.codeCompte = codeCompte;\n        this.dateCreation = dateCreation;\n        this.solde = solde;\n        this.client = client; \n    }\n    public String getCodeCompte() {\n        return codeCompte;\n    }\n    public void setCodeCompte(String codeCompte) {\n        this.codeCompte = codeCompte;\n    }\n    public Date getDateCreation() {\n        return dateCreation;\n    }\n    public void setDateCreation(Date dateCreation) {\n        this.dateCreation = dateCreation;\n    }\n    public double getSolde() {\n        return solde;\n    }\n    public void setSolde(double solde) {\n        this.solde = solde;\n    }\n    public Client getClient() {\n        return client;\n    }\n    public void setClient(Client client) {\n        this.client = client;\n    }\n    public Collection&lt;Operation&gt; getOperations() {\n        return operations;\n    }\n    public void setOperations(Collection&lt;Operation&gt; operations) {\n        this.operations = operations;\n    }\n    \n\n}\n</code></pre>\n<p>the extends class</p>\n<pre><code>package org.sid.entités;\n\nimport java.util.Date;\n\nimport javax.persistence.DiscriminatorValue;\nimport javax.persistence.Entity;\n\nimport lombok.ToString;\n@Entity\n@DiscriminatorValue(&quot;CC&quot;)\n@ToString\npublic class CompteCourant extends Compte {\n    \n    private double decouvert;\n\n    public CompteCourant() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public CompteCourant(String codeCompte, Date dateCreation, double solde, Client client, double decouvert) {\n        super(codeCompte, dateCreation, solde, client);\n        this.decouvert = decouvert;\n    }\n\n    public double getDecouvert() {\n        return decouvert;\n    }\n\n    public void setDecouvert(double decouvert) {\n        this.decouvert = decouvert;\n    } \n}\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677771531,"post_id":75617578,"comment_id":133407101,"body_markdown":"is your problem the fact that `ZonaIdDTO` is always coming in as an empty Optional? or that you cannot use it in your logic as `null`?","body":"is your problem the fact that <code>ZonaIdDTO</code> is always coming in as an empty Optional? or that you cannot use it in your logic as <code>null</code>?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677771609,"post_id":75617578,"comment_id":133407128,"body_markdown":"also, what do you want this id to be? query parameter? request body? I believe something is missing here","body":"also, what do you want this id to be? query parameter? request body? I believe something is missing here"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677771765,"post_id":75617578,"comment_id":133407178,"body_markdown":"@TrandafirEmanuel `id` is meant to be a `RequestParam`.","body":"@TrandafirEmanuel <code>id</code> is meant to be a <code>RequestParam</code>."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677771914,"post_id":75617578,"comment_id":133407221,"body_markdown":"@TrandafirEmanuel the problem is that when I send an `GET` request without any params, I expect `id` parameter to be set to `null`, but instead, all its fields are set to `null`.","body":"@TrandafirEmanuel the problem is that when I send an <code>GET</code> request without any params, I expect <code>id</code> parameter to be set to <code>null</code>, but instead, all its fields are set to <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677791284,"creation_date":1677772247,"answer_id":75617806,"question_id":75617578,"body_markdown":"The optional in java can never be null. It has to be always non-null and if there is no data the `id.isPresent()` will be false. \r\n\r\nIf you don&#39;t need the object `id` to be null, you would require to keep the function signature as \r\n\r\n```java\r\npublic ResponseEntity&lt;?&gt; find(ZonaIdDTO id)\r\n```","title":"Spring Boot initializing fields to null","body":"<p>The optional in java can never be null. It has to be always non-null and if there is no data the <code>id.isPresent()</code> will be false.</p>\n<p>If you don't need the object <code>id</code> to be null, you would require to keep the function signature as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;?&gt; find(ZonaIdDTO id)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5662062,"reputation":347,"user_id":4479402,"display_name":"Djory Krache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677774518,"creation_date":1677773367,"answer_id":75618028,"question_id":75617578,"body_markdown":"This is a bad practice. You should seperate your services and you should not have an Optional at this step. You can use Optional extracting data from your database because you&#39;re not sure to have what you expect but with your client, you should respect some contract and just return an exception 4xx if the client doesn&#39;t respect the contract (Http 400 bad request for example). \r\n\r\n your contract should be like \r\n\r\n&gt; GET /Example : extract all Example Objects\r\n\r\n&gt; GET /Example/{id} : extract One Example object with the id defined by {id}\r\n\r\n    @GetMapping(value = &quot;/teste/{id}&quot;)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public ResponseEntity&lt;ZonaRetrievalDTO&gt; getById(@PathVariable(name = &quot;id&quot;) Integer id) {\r\n            return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id)),\r\n                HttpStatus.OK\r\n            );\r\n    }\r\n    @GetMapping(value = &quot;/teste&quot;)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public ResponseEntity&lt;Set&lt;ZonaRetrievalDTO&gt;&gt; getAll() {\r\n      return new ResponseEntity&lt;&gt;(\r\n        this.zonaService\r\n            .findAll()\r\n            .stream()\r\n            .map(this.zonaMapper::toZonaRetrievalDTO)\r\n            .collect(Collectors.toSet()),\r\n        HttpStatus.OK\r\n      );\r\n    }\r\n    @PostMapping(value = &quot;/teste&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public ResponseEntity&lt;ZonaRetrievalDTO&gt; getByCompositeKey(@RequestBody ZonaIdDTO zonaId) throws StructuralEntityException {\r\n        return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findByZonaId(zonaId)),\r\n                HttpStatus.OK\r\n            );\r\n    }\r\n\r\ntry to avoid the &lt;?&gt; to be readable in your development. you should not work with different object for the same web service ","title":"Spring Boot initializing fields to null","body":"<p>This is a bad practice. You should seperate your services and you should not have an Optional at this step. You can use Optional extracting data from your database because you're not sure to have what you expect but with your client, you should respect some contract and just return an exception 4xx if the client doesn't respect the contract (Http 400 bad request for example).</p>\n<p>your contract should be like</p>\n<blockquote>\n<p>GET /Example : extract all Example Objects</p>\n</blockquote>\n<blockquote>\n<p>GET /Example/{id} : extract One Example object with the id defined by {id}</p>\n</blockquote>\n<pre><code>@GetMapping(value = &quot;/teste/{id}&quot;)\n@ResponseStatus(value = HttpStatus.OK)\npublic ResponseEntity&lt;ZonaRetrievalDTO&gt; getById(@PathVariable(name = &quot;id&quot;) Integer id) {\n        return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id)),\n            HttpStatus.OK\n        );\n}\n@GetMapping(value = &quot;/teste&quot;)\n@ResponseStatus(value = HttpStatus.OK)\npublic ResponseEntity&lt;Set&lt;ZonaRetrievalDTO&gt;&gt; getAll() {\n  return new ResponseEntity&lt;&gt;(\n    this.zonaService\n        .findAll()\n        .stream()\n        .map(this.zonaMapper::toZonaRetrievalDTO)\n        .collect(Collectors.toSet()),\n    HttpStatus.OK\n  );\n}\n@PostMapping(value = &quot;/teste&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic ResponseEntity&lt;ZonaRetrievalDTO&gt; getByCompositeKey(@RequestBody ZonaIdDTO zonaId) throws StructuralEntityException {\n    return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findByZonaId(zonaId)),\n            HttpStatus.OK\n        );\n}\n</code></pre>\n<p>try to avoid the &lt;?&gt; to be readable in your development. you should not work with different object for the same web service</p>\n"},{"tags":[],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677774135,"creation_date":1677774135,"answer_id":75618184,"question_id":75617578,"body_markdown":"Just send the parameter as optional parameter.\r\n\r\n        public ResponseEntity&lt;?&gt; find(@RequestBody(required =&quot;false&quot;) ZonaIdDTO id) {\r\n    \r\n    if(id != null) {\r\n    ...\r\n    } else {\r\n    ...\r\n    }\r\n    \r\n    }\r\n\r\nAnd yea, it is bad practise to implement logic in controller level. Just write a service class and call the service class method in this controller.","title":"Spring Boot initializing fields to null","body":"<p>Just send the parameter as optional parameter.</p>\n<pre><code>    public ResponseEntity&lt;?&gt; find(@RequestBody(required =&quot;false&quot;) ZonaIdDTO id) {\n\nif(id != null) {\n...\n} else {\n...\n}\n\n}\n</code></pre>\n<p>And yea, it is bad practise to implement logic in controller level. Just write a service class and call the service class method in this controller.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677781721,"creation_date":1677781721,"answer_id":75619499,"question_id":75617578,"body_markdown":"Your controller has a design issue and the answers above give you the way to do it. You are trying to force a behavior in your application that is not compatible with the way REST Architecture works.\r\n\r\n 1. First your parameters should simply be a DTO to help you parse your object into `json`\r\n 2. You can delete the `@ResponseStatus(value = HttpStatus.OK)` on your method, because you already return the status OK\r\n 3. By default a boolean always return **false**\r\n 4. Just use a `ZonaIdDTO` as a parameter","title":"Spring Boot initializing fields to null","body":"<p>Your controller has a design issue and the answers above give you the way to do it. You are trying to force a behavior in your application that is not compatible with the way REST Architecture works.</p>\n<ol>\n<li>First your parameters should simply be a DTO to help you parse your object into <code>json</code></li>\n<li>You can delete the <code>@ResponseStatus(value = HttpStatus.OK)</code> on your method, because you already return the status OK</li>\n<li>By default a boolean always return <strong>false</strong></li>\n<li>Just use a <code>ZonaIdDTO</code> as a parameter</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677832626,"creation_date":1677786993,"answer_id":75620248,"question_id":75617578,"body_markdown":"As you stated in the comment the id should be a request parameter and it should be optional (can be omitted). Try this:\r\n\r\n    public ResponseEntity&lt;?&gt; find(@RequestParam(required = false) Optional&lt;ZonaIdDTO&gt; id) \r\n\r\nThe annotation @RequestParam is needed for Spring to handle the id as a request parameter. And to distinguish it from the other kind of method parameter which is a path variable.\r\n\r\nCheck this: [baeldung.com/spring-requestparam-vs-pathvariable][1]\r\n\r\nAnd the attribute &#39;required&#39; is needed to distinguish between mandatory and optional parameter. Please also note that the naming is important. If your request parameter is abc then your method parameter must be abc (at least by default, you can override it using attribute &#39;name&#39;).\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-requestparam-vs-pathvariable","title":"Spring Boot initializing fields to null","body":"<p>As you stated in the comment the id should be a request parameter and it should be optional (can be omitted). Try this:</p>\n<pre><code>public ResponseEntity&lt;?&gt; find(@RequestParam(required = false) Optional&lt;ZonaIdDTO&gt; id) \n</code></pre>\n<p>The annotation @RequestParam is needed for Spring to handle the id as a request parameter. And to distinguish it from the other kind of method parameter which is a path variable.</p>\n<p>Check this: <a href=\"https://www.baeldung.com/spring-requestparam-vs-pathvariable\" rel=\"nofollow noreferrer\">baeldung.com/spring-requestparam-vs-pathvariable</a></p>\n<p>And the attribute 'required' is needed to distinguish between mandatory and optional parameter. Please also note that the naming is important. If your request parameter is abc then your method parameter must be abc (at least by default, you can override it using attribute 'name').</p>\n"}],"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75620248,"answer_count":5,"score":0,"last_activity_date":1677832626,"creation_date":1677771096,"question_id":75617578,"body_markdown":"I have this controller that finds one or more resources, depending if `id` is null or not.\r\n\r\n```java\r\n@GetMapping(value = &quot;/teste&quot;)\r\n@ResponseStatus(value = HttpStatus.OK)\r\npublic ResponseEntity&lt;?&gt; find(Optional&lt;ZonaIdDTO&gt; id) {\r\n    if (id.isPresent()) {\r\n        return new ResponseEntity&lt;&gt;(\r\n            this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id.get())),\r\n            HttpStatus.OK\r\n        );\r\n    }\r\n\r\n    return new ResponseEntity&lt;&gt;(\r\n        this.zonaService\r\n            .findAll()\r\n            .stream()\r\n            .map(this.zonaMapper::toZonaRetrievalDTO)\r\n            .collect(Collectors.toSet()),\r\n        HttpStatus.OK\r\n    );\r\n}\r\n```\r\n\r\nThe problem is that the condition `id.isPresent()` is always evaluated to `false`, even when I don&#39;t pass an `id` to the controller. In that case, the `id` object fields are initialized to `null`, but I want the object itself to be `null`. What can I do?\r\n\r\nEDIT: To be extremely clear, I want to know why the parameter `id` isn&#39;t `null` when I make a request without any parameter. Even using `ZonaIdDTO` instead of `Optional&lt;ZonaIdDTO&gt;` doesn&#39;t work. Instead, all the fields of `id` are set to `null`.\r\n\r\nFor example:\r\n\r\n```\r\n// `id` should be null here\r\nGET localhost:8080/teste\r\n\r\n// `id` shouldn&#39;t be null here\r\nGET localhost:8080/teste?a=1&amp;b=2&amp;c=3\r\n```\r\n","title":"Spring Boot initializing fields to null","body":"<p>I have this controller that finds one or more resources, depending if <code>id</code> is null or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/teste&quot;)\n@ResponseStatus(value = HttpStatus.OK)\npublic ResponseEntity&lt;?&gt; find(Optional&lt;ZonaIdDTO&gt; id) {\n    if (id.isPresent()) {\n        return new ResponseEntity&lt;&gt;(\n            this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id.get())),\n            HttpStatus.OK\n        );\n    }\n\n    return new ResponseEntity&lt;&gt;(\n        this.zonaService\n            .findAll()\n            .stream()\n            .map(this.zonaMapper::toZonaRetrievalDTO)\n            .collect(Collectors.toSet()),\n        HttpStatus.OK\n    );\n}\n</code></pre>\n<p>The problem is that the condition <code>id.isPresent()</code> is always evaluated to <code>false</code>, even when I don't pass an <code>id</code> to the controller. In that case, the <code>id</code> object fields are initialized to <code>null</code>, but I want the object itself to be <code>null</code>. What can I do?</p>\n<p>EDIT: To be extremely clear, I want to know why the parameter <code>id</code> isn't <code>null</code> when I make a request without any parameter. Even using <code>ZonaIdDTO</code> instead of <code>Optional&lt;ZonaIdDTO&gt;</code> doesn't work. Instead, all the fields of <code>id</code> are set to <code>null</code>.</p>\n<p>For example:</p>\n<pre><code>// `id` should be null here\nGET localhost:8080/teste\n\n// `id` shouldn't be null here\nGET localhost:8080/teste?a=1&amp;b=2&amp;c=3\n</code></pre>\n"},{"tags":["java","pdf","fonts","ms-word","docx4j"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182176,"creation_date":1677182176,"answer_id":75549723,"question_id":75531677,"body_markdown":"Assuming you are converting using docx4j-export-fo, either ensure the font is installed and use IdentityPlusMapper, or use BestMatchingMapper to map a suitable font.\r\n\r\nSee further https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx-export-fo/src/main/java/org/docx4j/samples/ConvertOutPDFviaXSLFO.java#L152","title":"Word template to PDF Conversion with multiple languages using Docx4J","body":"<p>Assuming you are converting using docx4j-export-fo, either ensure the font is installed and use IdentityPlusMapper, or use BestMatchingMapper to map a suitable font.</p>\n<p>See further <a href=\"https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx-export-fo/src/main/java/org/docx4j/samples/ConvertOutPDFviaXSLFO.java#L152\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx-export-fo/src/main/java/org/docx4j/samples/ConvertOutPDFviaXSLFO.java#L152</a></p>\n"},{"tags":[],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677527058,"creation_date":1677481850,"answer_id":75577605,"question_id":75531677,"body_markdown":"I used OpenOffice with JDO Converter to create PDF from word document. Works like a charm. \r\nCode below, if it helps anyone: \r\n\r\n    public static void file2pdf(File input, File output) throws IOException {\r\n            if (input == null) {\r\n                throw new IllegalArgumentException(&quot;Input file must not be null&quot;);\r\n            }\r\n            if (output == null) {\r\n                throw new IllegalArgumentException(&quot;Output file must not be null&quot;);\r\n            }\r\n            File path = output.getParentFile();\r\n            if (path != null &amp;&amp; !path.exists()) {\r\n                path.mkdirs();\r\n            }\r\n            OpenOfficeConnection connection = new SocketOpenOfficeConnection(&quot;localhost&quot;, 8100);\r\n            connection.connect();\r\n            try {\r\n                DocumentConverter converter = new OpenOfficeDocumentConverter(connection);\r\n                converter.convert(input, output);\r\n            } finally {\r\n                connection.disconnect();\r\n            }\r\n        }","title":"Word template to PDF Conversion with multiple languages using Docx4J","body":"<p>I used OpenOffice with JDO Converter to create PDF from word document. Works like a charm.\nCode below, if it helps anyone:</p>\n<pre><code>public static void file2pdf(File input, File output) throws IOException {\n        if (input == null) {\n            throw new IllegalArgumentException(&quot;Input file must not be null&quot;);\n        }\n        if (output == null) {\n            throw new IllegalArgumentException(&quot;Output file must not be null&quot;);\n        }\n        File path = output.getParentFile();\n        if (path != null &amp;&amp; !path.exists()) {\n            path.mkdirs();\n        }\n        OpenOfficeConnection connection = new SocketOpenOfficeConnection(&quot;localhost&quot;, 8100);\n        connection.connect();\n        try {\n            DocumentConverter converter = new OpenOfficeDocumentConverter(connection);\n            converter.convert(input, output);\n        } finally {\n            connection.disconnect();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1677832300,"creation_date":1677063063,"question_id":75531677,"body_markdown":"Hi I am using Docx4j to convert word template to PDF. But Tamil font is not supported. It looks weird. I used below java code that seems to reduce the weird look, still words are not displaying correctly. I have installed Latha as Tamil font. Pls help \r\n\r\n    FontTablePart fontTablePart= wordMLPackage.getMainDocumentPart().getFontTablePart();\r\n            fontTablePart.processEmbeddings();\r\n            Set&lt;String&gt; fontsInUse = wordMLPackage.getMainDocumentPart().fontsInUse();\r\n            // Make each embedded font available to the font mapper.\r\n            for(String s : fontsInUse) {\r\n                System.out.println(&quot;Font in use : &quot;+s);\r\n                PhysicalFont physicalFont = PhysicalFonts.get(s);\r\n                fontMapper.put(s, physicalFont);\r\n            }\r\n\r\n\r\nSample XML that I am trying to convert:\r\n\r\n&lt;w:body&gt;&lt;w:p w14:paraId=&quot;33C1CF30&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;ஆசிரியர்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;வகுப்பறையுள்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நுழைந்தார்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2D364612&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;அவர்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;உள்ளே&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நுழைந்தவுடன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;மாணவர்கள்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;எழுந்தனர்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;162AEE05&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;வளவன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;மட்டும்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;தன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;அருகில்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நின்றுகொண்டிருந்த&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;மாணவி&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;கனிமொழியுடன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;பேசிக்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;கொண்டிருந்தான்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2CF16F1C&quot; w14:textId=&quot;07F9E241&quot; w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நான்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;அவனை&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;எச்சரித்தேன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:sectPr w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidSect=&quot;00BB36CE&quot;&gt;&lt;w:headerReference w:type=&quot;default&quot; r:id=&quot;rId11&quot;/&gt;&lt;w:pgSz w:w=&quot;11906&quot; w:h=&quot;16838&quot;/&gt;&lt;w:pgMar w:top=&quot;1702&quot; w:right=&quot;4162&quot; w:bottom=&quot;576&quot; w:left=&quot;1440&quot; w:header=&quot;284&quot; w:footer=&quot;450&quot; w:gutter=&quot;0&quot;/&gt;&lt;w:cols w:space=&quot;708&quot;/&gt;&lt;w:docGrid w:linePitch=&quot;360&quot;/&gt;&lt;/w:sectPr&gt;&lt;/w:body&gt;&lt;/w:document&gt;","title":"Word template to PDF Conversion with multiple languages using Docx4J","body":"<p>Hi I am using Docx4j to convert word template to PDF. But Tamil font is not supported. It looks weird. I used below java code that seems to reduce the weird look, still words are not displaying correctly. I have installed Latha as Tamil font. Pls help</p>\n<pre><code>FontTablePart fontTablePart= wordMLPackage.getMainDocumentPart().getFontTablePart();\n        fontTablePart.processEmbeddings();\n        Set&lt;String&gt; fontsInUse = wordMLPackage.getMainDocumentPart().fontsInUse();\n        // Make each embedded font available to the font mapper.\n        for(String s : fontsInUse) {\n            System.out.println(&quot;Font in use : &quot;+s);\n            PhysicalFont physicalFont = PhysicalFonts.get(s);\n            fontMapper.put(s, physicalFont);\n        }\n</code></pre>\n<p>Sample XML that I am trying to convert:</p>\n<p>&lt;w:body&gt;&lt;w:p w14:paraId=&quot;33C1CF30&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;ஆசிரியர்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;வகுப்பறையுள்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நுழைந்தார்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2D364612&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;அவர்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;உள்ளே&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நுழைந்தவுடன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;மாணவர்கள்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;எழுந்தனர்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;162AEE05&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;வளவன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;மட்டும்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;தன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;அருகில்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நின்றுகொண்டிருந்த&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;மாணவி&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;கனிமொழியுடன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;பேசிக்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;கொண்டிருந்தான்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2CF16F1C&quot; w14:textId=&quot;07F9E241&quot; w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;நான்&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;அவனை&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;எச்சரித்தேன்&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:sectPr w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidSect=&quot;00BB36CE&quot;&gt;&lt;w:headerReference w:type=&quot;default&quot; r:id=&quot;rId11&quot;/&gt;&lt;w:pgSz w:w=&quot;11906&quot; w:h=&quot;16838&quot;/&gt;&lt;w:pgMar w:top=&quot;1702&quot; w:right=&quot;4162&quot; w:bottom=&quot;576&quot; w:left=&quot;1440&quot; w:header=&quot;284&quot; w:footer=&quot;450&quot; w:gutter=&quot;0&quot;/&gt;&lt;w:cols w:space=&quot;708&quot;/&gt;&lt;w:docGrid w:linePitch=&quot;360&quot;/&gt;&lt;/w:sectPr&gt;&lt;/w:body&gt;&lt;/w:document&gt;</p>\n"},{"tags":["java","colors","hex","adobe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677779827,"post_id":75609479,"comment_id":133409618,"body_markdown":"It&#39;s strange you didn&#39;t post the `WIndow` class source","body":"It&#39;s strange you didn&#39;t post the <code>WIndow</code> class source"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677781828,"post_id":75609479,"comment_id":133410151,"body_markdown":"iow, you&#39;re not likely to get much reaction here unless you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) which shouldn&#39;t be difficult - you just need to add the other classes and a v2 aco file","body":"iow, you&#39;re not likely to get much reaction here unless you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which shouldn&#39;t be difficult - you just need to add the other classes and a v2 aco file"}],"answers":[{"tags":[],"owner":{"account_id":12135587,"reputation":53,"user_id":8861158,"accept_rate":100,"display_name":"Dragonball2211"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677831728,"creation_date":1677831728,"answer_id":75624695,"question_id":75609479,"body_markdown":"Fixed it after talking to others\r\n\r\n    public static String readNullTerminatedString(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            while ((nextByte = inputStream.read()) != 0) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n    \r\n            return outputStream.toString(StandardCharsets.UTF_8.name());\r\n        }\r\n\r\nThis thing made problems. \r\n\r\nChanged it to the following:\r\n\r\n    public static String readNullTerminatedString(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            int nextByteTwo = 0;\r\n            while ((nextByte = readNextWord(inputStream)) != 0 || (nextByteTwo = readNextByte(inputStream)) + nextByte != 0 &amp;&amp; (nextByteTwo = readNextByte(inputStream)) + nextByte != -1) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n            return outputStream.toString(StandardCharsets.UTF_8.name());\r\n        }\r\n\r\n\r\nMost likely this isn&#39;t very nice code but it does the job.\r\n\r\nReason for posting just everything pretty much was me not having a clue where the problem laid.\r\nI also made some changes to the main, mostly visual things. \r\n","title":"ACO v2 File reader / display getting the colorname","body":"<p>Fixed it after talking to others</p>\n<pre><code>public static String readNullTerminatedString(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        while ((nextByte = inputStream.read()) != 0) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n\n        return outputStream.toString(StandardCharsets.UTF_8.name());\n    }\n</code></pre>\n<p>This thing made problems.</p>\n<p>Changed it to the following:</p>\n<pre><code>public static String readNullTerminatedString(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        int nextByteTwo = 0;\n        while ((nextByte = readNextWord(inputStream)) != 0 || (nextByteTwo = readNextByte(inputStream)) + nextByte != 0 &amp;&amp; (nextByteTwo = readNextByte(inputStream)) + nextByte != -1) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n        return outputStream.toString(StandardCharsets.UTF_8.name());\n    }\n</code></pre>\n<p>Most likely this isn't very nice code but it does the job.</p>\n<p>Reason for posting just everything pretty much was me not having a clue where the problem laid.\nI also made some changes to the main, mostly visual things.</p>\n"}],"owner":{"account_id":12135587,"reputation":53,"user_id":8861158,"accept_rate":100,"display_name":"Dragonball2211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75624695,"answer_count":1,"score":0,"last_activity_date":1677831728,"creation_date":1677708423,"question_id":75609479,"body_markdown":"This is going to be a long one.\r\nthere are many things commented out as i have tried A LOT. im still a learner and quite bad.\r\nFirst: its Java and mostly done. just one thing is missing.\r\n\r\nThis is file one: AcoViewer\r\n\r\n\r\n\r\n    import gui.Window;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    import java.util.List;\r\n    \r\n    public class AcoViewer {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n     //       AcoSwatchesReader.swatchReader(&quot;aufgaben-01/swatches/bricklink_v1.aco&quot;);\r\n     //       Swatch swatch = AcoSwatchesReader.read(&#39;C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v1.aco&#39;);\r\n            String path = System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + args[0];\r\n            System.out.println(path);\r\n    //        System.out.println(&quot;---&quot;);\r\n    //        System.out.println(path);\r\n    //        System.out.println(&quot;---&quot;);\r\n            var returnlist = AcoSwatchesReader.read(Path.of(path));\r\n    //        &quot;C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v2.aco&quot;\r\n            int count = 0;\r\n            //String[] hexColors = swatch.getHexColors();\r\n    \r\n    \r\n    \r\n            //werte von AcoSwatchReader erhalten und dann nutzen.\r\n            var width = 1200;\r\n            var height = 950;\r\n            Window window = new Window(&quot;ACOViewer_v1&quot;, width, height);\r\n    \r\n            // Up next, just some ways to keep the window tidy\r\n            int cX = 40;\r\n            int cY = 40;\r\n            int rad = 30;\r\n            int plusX = 250;\r\n            int plusY = 70;\r\n            // get color from Swatches one by one\r\n            // calculate decima value out of hex value\r\n            // extract respective red green and blue value\r\n            // color the circles as needed\r\n            // add name of color\r\n            // add hex value of color\r\n    \r\n    \r\n    \r\n            for (Swatch i:returnlist) {\r\n    \r\n                // Coolor color = i.getColor\r\n                // String nameColor = i.getName\r\n    \r\n    \r\n                // take apart color into different values here\r\n                String red1 = &quot;00&quot;;\r\n                String green1 = &quot;AB&quot;;\r\n                String blue1 = &quot;00&quot;;\r\n                //convert HEX to Decimal\r\n    \r\n                int decimalRed = Integer.parseInt(red1, 16);\r\n                int decimalGreen = Integer.parseInt(green1, 16);\r\n                int decimalBlue = Integer.parseInt(blue1, 16);\r\n    //            String hexValue = &quot;1A&quot;;\r\n    //            int decimalValue = Integer.parseInt(hexValue, 16);\r\n    //            System.out.println(&quot;Decimal Value: &quot; + decimalValue);\r\n    \r\n    //            System.out.println(i);\r\n    \r\n                var color = i.getColor();\r\n                int red = i.getColor().getRed();\r\n    \r\n    \r\n    \r\n                int green = i.getColor().getGreen();\r\n                int blue = i.getColor().getBlue();\r\n                String redHex = Integer.toHexString(red);\r\n                if (i.getColor().getRed() &lt;= 15){\r\n                    redHex = &quot;0&quot; + Integer.toHexString(red);\r\n                }\r\n                String greenHex = Integer.toHexString(green);\r\n                if (i.getColor().getGreen() &lt;= 15){\r\n                    greenHex = &quot;0&quot; + Integer.toHexString(green);\r\n                }\r\n                String blueHex = Integer.toHexString(blue);\r\n                if (i.getColor().getBlue() &lt;= 15){\r\n                    blueHex = &quot;0&quot; + Integer.toHexString(blue);\r\n                }\r\n                String fullHex = &quot;#&quot; + redHex + greenHex + blueHex;\r\n    //            String colorToHex = Integer.toHexString(color);\r\n    //            window.setColor(red, green, blue);\r\n                window.setColor(11, 11, 11);\r\n                window.fillCircle(cX, cY, rad+2);\r\n                //add name of color here aswell as the whole HEX color value.\r\n    \r\n                //if (nameColor.equals &quot;null&quot;){\r\n                //      Add window creation here without name of color\r\n                // } else {\r\n                //      Add window creation with name of color here\r\n                // }\r\n                String name = &quot;Null&quot;;\r\n                try {\r\n                    if (i.getName().equals(null)) {\r\n                        name = &quot;No name given&quot;;\r\n                    } else {\r\n                        name = i.getName();\r\n                    }\r\n                } catch (NullPointerException e){\r\n                    name = &quot;No name given&quot;;\r\n                }\r\n    \r\n                window.setColor(red, green, blue);\r\n                window.fillCircle(cX, cY, rad);\r\n                window.setFontSize(15);\r\n                window.setColor(0,0,0);\r\n                window.drawString(name, cX + 35, cY -10);\r\n                window.drawString(fullHex, cX + 35, cY +10);\r\n                cY += plusY;\r\n                if (cY &gt;= 850){\r\n                    cX +=plusX;\r\n                    cY = 40;\r\n                }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            }\r\n            \r\n            \r\n    //        do {\r\n    //            window.setColor(red, green, blue);\r\n    //            window.fillCircle(cX, cY, rad);\r\n    //            window.drawString(&quot;Test&quot;, cX + 30, cY);\r\n    //            cY += plusY;\r\n    //            if (cY &gt;= 850){\r\n    //                cX +=plusX;\r\n    //                cY = 40;\r\n    //            }\r\n    //            count ++;\r\n    //        } while (count &lt; nbrColor);\r\n    \r\n    \r\n    //        String hexString = &quot;FF&quot;; // replace with your hexadecimal string\r\n    //        int decimalValue = Integer.parseInt(hexString, 16);\r\n    //        System.out.println(decimalValue); // output: 255\r\n    \r\n    \r\n    //        window.setColor(140, 140, 140);\r\n    //        window.fillCircle(cX, cY, rad);\r\n    //\r\n    //        window.setColor(230, 220, 200);\r\n    //        window.fillCircle(40, 110, 30);\r\n    //\r\n    //        window.setColor(120, 160, 230);\r\n    //        window.fillCircle(40, 180, 30);\r\n    //\r\n    //        window.setColor(220, 100, 50);\r\n    //        window.fillCircle(40, 250, 30);\r\n    \r\n    //        Runtime r = Runtime.getRuntime();\r\n    //        System.out.println(r);\r\n    \r\n    \r\n            window.open();\r\n            window.waitUntilClosed();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nSo this is file two: AcoSwatchReader\r\n\r\n    import java.awt.*;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class AcoSwatchesReader {\r\n        public static List&lt;Swatch&gt; read(Path path) throws IOException {\r\n            try (InputStream inputStream = Files.newInputStream(path)) {\r\n                return read(inputStream);\r\n            } catch (IOException e) {\r\n                throw e;\r\n            }\r\n        }\r\n    \r\n        public static List&lt;Swatch&gt; read(InputStream inputStream) throws IOException {\r\n            // ignore first two words, they are just the file version\r\n            var version = readNextWord(inputStream);\r\n            System.out.println(&quot;--**&quot; + version + &quot;**--&quot;);\r\n    \r\n            var returnList = new ArrayList&lt;Swatch&gt;();\r\n    \r\n            if(version == 1) {\r\n                System.out.println(&quot;--V1--&quot;);\r\n                returnList = readVersion1(inputStream);\r\n            } else if(version == 2) {\r\n                System.out.println(&quot;--V2--&quot;);\r\n                returnList = readVersion2(inputStream);\r\n            } else {\r\n                throw new IOException(&quot;Unknown file version: &quot; + version);\r\n            }\r\n    \r\n            return returnList;\r\n        }\r\n    \r\n        private static ArrayList&lt;Swatch&gt; readVersion1(InputStream inputStream) throws IOException {\r\n            var returnList = new ArrayList&lt;Swatch&gt;();\r\n            var anzFarben = readNextWord(inputStream);\r\n            System.out.println(anzFarben);\r\n            var count = 0;\r\n            while (true) {\r\n                try {\r\n                    // check if first word is empty (v1 continues, or if it is v2 header)\r\n                    var firstWord = readNextWord(inputStream);\r\n    \r\n                    // 2 means header of v2\r\n                    if(firstWord == 2) {\r\n                        System.out.println(&quot;--V2--&quot;);\r\n                        // skip remaining header\r\n                        readNextWord(inputStream);\r\n    \r\n                        var v2List = readVersion2(inputStream);\r\n                        returnList.addAll(v2List);\r\n                        return returnList;\r\n                    }\r\n    \r\n                    var red = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var green = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var blue = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n    \r\n                    // ignore last word\r\n                    readNextWord(inputStream);\r\n    \r\n                    var swatch = new Swatch(new Color(red, green, blue), null);\r\n                    returnList.add(swatch);\r\n    \r\n                    count ++;\r\n                    // check\r\n                } catch (EOFException e) {\r\n                    // End of file reached\r\n                    break;\r\n                } catch (IOException e) {\r\n                    throw e;\r\n                }\r\n            }\r\n    \r\n            return returnList;\r\n        }\r\n    \r\n        private static ArrayList&lt;Swatch&gt; readVersion2(InputStream inputStream) throws IOException {\r\n            var returnList = new ArrayList&lt;Swatch&gt;();\r\n            var anzFarben = readNextByte(inputStream);\r\n            var count = 0;\r\n            while (count &lt; anzFarben) {\r\n                try {\r\n    //                System.out.println(&quot;bla&quot;);\r\n                    // skip farbraum\r\n                    readNextWord(inputStream);\r\n    \r\n                    // always skip second byte in word, because colors are stored twice\r\n                    var red = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var green = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var blue = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n    \r\n                    // skip next two blanks\r\n                    readNextWord(inputStream);\r\n                    readNextWord(inputStream);\r\n    \r\n    //                readNextWord(inputStream);\r\n    \r\n                    // skip name length\r\n                    var nameLenght = readNextWord(inputStream);\r\n                    var count2 = 0;\r\n                    System.out.println(&quot;-.-.-.&quot;);\r\n                    System.out.println(nameLenght);\r\n                    System.out.println(&quot;-.-.-.&quot;);\r\n    //                String name = &quot;&quot;;\r\n    \r\n    //                while (count2 &lt; nameLenght){\r\n    //                    name += readNextWord(inputStream);\r\n    //                    readNextWord(inputStream);\r\n    //                    count ++;\r\n    //                }\r\n    //                System.out.println(name);\r\n    \r\n                    var name = readNullTerminatedString(inputStream);\r\n    \r\n    //                String name = readNullTerminatedString(inputStream, StandardCharsets.UTF_8);\r\n    //                readNextWord(inputStream);\r\n    //                System.out.println(name);\r\n                    var swatch = new Swatch(new Color(red, green, blue), name);\r\n                    returnList.add(swatch);\r\n                    count ++;\r\n                } catch (EOFException e) {\r\n                    // End of file reached\r\n                    break;\r\n                } catch (IOException e) {\r\n                    throw e;\r\n                }\r\n            }\r\n    \r\n            return returnList;\r\n        }\r\n    \r\n        private static int readNextWord(InputStream inputStream) throws EOFException, IOException {\r\n            int b1 = inputStream.read();\r\n            int b2 = inputStream.read();\r\n    \r\n            if (b1 == -1 || b2 == -1) {\r\n                throw new EOFException();\r\n            }\r\n    \r\n            return (b1 &lt;&lt; 8) | b2;\r\n        }\r\n    \r\n        public static String readNullTerminatedString(InputStream inputStream, Charset charset) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            while ((nextByte = inputStream.read()) != 0) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n    \r\n            return outputStream.toString(charset);\r\n        }\r\n    \r\n        private static int readNextByte(InputStream inputStream) throws EOFException, IOException {\r\n            int b = inputStream.read();\r\n    \r\n            if (b == -1) {\r\n                throw new EOFException();\r\n            }\r\n    \r\n            return b;\r\n        }\r\n    \r\n        public static String readNullTerminatedString(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            while ((nextByte = inputStream.read()) != 0) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n    \r\n            return outputStream.toString(StandardCharsets.UTF_8.name());\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis is file three: Swatch\r\n\r\n    import java.awt.*;\r\n    \r\n    public class Swatch {\r\n        final Color color;\r\n        final String name;\r\n    \r\n        public Swatch(Color color, String name) {\r\n            this.color = color;\r\n            this.name = name;\r\n        }\r\n    \r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThen i have ACO files which look something like this:\r\n[![ACO File setup][1]][1]\r\n\r\n\r\nThe real file looks like this:\r\n[![ACO file HEX values][2]][2]\r\n\r\nI underlined where v1 and where v2 begins\r\n\r\n\r\nNow the programm shall (and already does) takes this file and with some java magic outputs a GUI window which displays the colors in circles with the hex value and (this does not work) the name of the color.\r\n\r\nNow if its v1, there is no name, so null.\r\nBut if its v2, first comes the v1 versin of the file, thats just ow ACO works, and than v2 with a distinct header.\r\n\r\nThe script should detect that and switch to the v2 reader. it actually does that but does not enter the while loop, if i make the loop always true, some weird, wrong, colors get added to the output, not replaced or anything. Right now the while loop tries to only run as many times as there are colors as there is a value in the header telling me how many colors there are.\r\n\r\ni spent about 3 hours just on this little thing now, made WAY to many tries, deleted most, commented outsome. does still not work.\r\n\r\nDoes anyone have any clue or solution to this problem?\r\n\r\nI dont get why. \r\nI have uploaded the ACO file to the first fileuploader i could find if you want to try it out: \r\nhttps://ufile.io/5hs4kfus\r\n\r\nThanks for the help, i appreciate it A LOT.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZRMp.png\r\n  [2]: https://i.stack.imgur.com/ZwgRx.png","title":"ACO v2 File reader / display getting the colorname","body":"<p>This is going to be a long one.\nthere are many things commented out as i have tried A LOT. im still a learner and quite bad.\nFirst: its Java and mostly done. just one thing is missing.</p>\n<p>This is file one: AcoViewer</p>\n<pre><code>import gui.Window;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.util.List;\n\npublic class AcoViewer {\n\n    public static void main(String[] args) throws IOException {\n\n //       AcoSwatchesReader.swatchReader(&quot;aufgaben-01/swatches/bricklink_v1.aco&quot;);\n //       Swatch swatch = AcoSwatchesReader.read('C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v1.aco');\n        String path = System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + args[0];\n        System.out.println(path);\n//        System.out.println(&quot;---&quot;);\n//        System.out.println(path);\n//        System.out.println(&quot;---&quot;);\n        var returnlist = AcoSwatchesReader.read(Path.of(path));\n//        &quot;C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v2.aco&quot;\n        int count = 0;\n        //String[] hexColors = swatch.getHexColors();\n\n\n\n        //werte von AcoSwatchReader erhalten und dann nutzen.\n        var width = 1200;\n        var height = 950;\n        Window window = new Window(&quot;ACOViewer_v1&quot;, width, height);\n\n        // Up next, just some ways to keep the window tidy\n        int cX = 40;\n        int cY = 40;\n        int rad = 30;\n        int plusX = 250;\n        int plusY = 70;\n        // get color from Swatches one by one\n        // calculate decima value out of hex value\n        // extract respective red green and blue value\n        // color the circles as needed\n        // add name of color\n        // add hex value of color\n\n\n\n        for (Swatch i:returnlist) {\n\n            // Coolor color = i.getColor\n            // String nameColor = i.getName\n\n\n            // take apart color into different values here\n            String red1 = &quot;00&quot;;\n            String green1 = &quot;AB&quot;;\n            String blue1 = &quot;00&quot;;\n            //convert HEX to Decimal\n\n            int decimalRed = Integer.parseInt(red1, 16);\n            int decimalGreen = Integer.parseInt(green1, 16);\n            int decimalBlue = Integer.parseInt(blue1, 16);\n//            String hexValue = &quot;1A&quot;;\n//            int decimalValue = Integer.parseInt(hexValue, 16);\n//            System.out.println(&quot;Decimal Value: &quot; + decimalValue);\n\n//            System.out.println(i);\n\n            var color = i.getColor();\n            int red = i.getColor().getRed();\n\n\n\n            int green = i.getColor().getGreen();\n            int blue = i.getColor().getBlue();\n            String redHex = Integer.toHexString(red);\n            if (i.getColor().getRed() &lt;= 15){\n                redHex = &quot;0&quot; + Integer.toHexString(red);\n            }\n            String greenHex = Integer.toHexString(green);\n            if (i.getColor().getGreen() &lt;= 15){\n                greenHex = &quot;0&quot; + Integer.toHexString(green);\n            }\n            String blueHex = Integer.toHexString(blue);\n            if (i.getColor().getBlue() &lt;= 15){\n                blueHex = &quot;0&quot; + Integer.toHexString(blue);\n            }\n            String fullHex = &quot;#&quot; + redHex + greenHex + blueHex;\n//            String colorToHex = Integer.toHexString(color);\n//            window.setColor(red, green, blue);\n            window.setColor(11, 11, 11);\n            window.fillCircle(cX, cY, rad+2);\n            //add name of color here aswell as the whole HEX color value.\n\n            //if (nameColor.equals &quot;null&quot;){\n            //      Add window creation here without name of color\n            // } else {\n            //      Add window creation with name of color here\n            // }\n            String name = &quot;Null&quot;;\n            try {\n                if (i.getName().equals(null)) {\n                    name = &quot;No name given&quot;;\n                } else {\n                    name = i.getName();\n                }\n            } catch (NullPointerException e){\n                name = &quot;No name given&quot;;\n            }\n\n            window.setColor(red, green, blue);\n            window.fillCircle(cX, cY, rad);\n            window.setFontSize(15);\n            window.setColor(0,0,0);\n            window.drawString(name, cX + 35, cY -10);\n            window.drawString(fullHex, cX + 35, cY +10);\n            cY += plusY;\n            if (cY &gt;= 850){\n                cX +=plusX;\n                cY = 40;\n            }\n\n\n\n\n\n        }\n        \n        \n//        do {\n//            window.setColor(red, green, blue);\n//            window.fillCircle(cX, cY, rad);\n//            window.drawString(&quot;Test&quot;, cX + 30, cY);\n//            cY += plusY;\n//            if (cY &gt;= 850){\n//                cX +=plusX;\n//                cY = 40;\n//            }\n//            count ++;\n//        } while (count &lt; nbrColor);\n\n\n//        String hexString = &quot;FF&quot;; // replace with your hexadecimal string\n//        int decimalValue = Integer.parseInt(hexString, 16);\n//        System.out.println(decimalValue); // output: 255\n\n\n//        window.setColor(140, 140, 140);\n//        window.fillCircle(cX, cY, rad);\n//\n//        window.setColor(230, 220, 200);\n//        window.fillCircle(40, 110, 30);\n//\n//        window.setColor(120, 160, 230);\n//        window.fillCircle(40, 180, 30);\n//\n//        window.setColor(220, 100, 50);\n//        window.fillCircle(40, 250, 30);\n\n//        Runtime r = Runtime.getRuntime();\n//        System.out.println(r);\n\n\n        window.open();\n        window.waitUntilClosed();\n    }\n\n}\n</code></pre>\n<p>So this is file two: AcoSwatchReader</p>\n<pre><code>import java.awt.*;\nimport java.io.ByteArrayOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AcoSwatchesReader {\n    public static List&lt;Swatch&gt; read(Path path) throws IOException {\n        try (InputStream inputStream = Files.newInputStream(path)) {\n            return read(inputStream);\n        } catch (IOException e) {\n            throw e;\n        }\n    }\n\n    public static List&lt;Swatch&gt; read(InputStream inputStream) throws IOException {\n        // ignore first two words, they are just the file version\n        var version = readNextWord(inputStream);\n        System.out.println(&quot;--**&quot; + version + &quot;**--&quot;);\n\n        var returnList = new ArrayList&lt;Swatch&gt;();\n\n        if(version == 1) {\n            System.out.println(&quot;--V1--&quot;);\n            returnList = readVersion1(inputStream);\n        } else if(version == 2) {\n            System.out.println(&quot;--V2--&quot;);\n            returnList = readVersion2(inputStream);\n        } else {\n            throw new IOException(&quot;Unknown file version: &quot; + version);\n        }\n\n        return returnList;\n    }\n\n    private static ArrayList&lt;Swatch&gt; readVersion1(InputStream inputStream) throws IOException {\n        var returnList = new ArrayList&lt;Swatch&gt;();\n        var anzFarben = readNextWord(inputStream);\n        System.out.println(anzFarben);\n        var count = 0;\n        while (true) {\n            try {\n                // check if first word is empty (v1 continues, or if it is v2 header)\n                var firstWord = readNextWord(inputStream);\n\n                // 2 means header of v2\n                if(firstWord == 2) {\n                    System.out.println(&quot;--V2--&quot;);\n                    // skip remaining header\n                    readNextWord(inputStream);\n\n                    var v2List = readVersion2(inputStream);\n                    returnList.addAll(v2List);\n                    return returnList;\n                }\n\n                var red = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var green = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var blue = readNextByte(inputStream);\n                readNextByte(inputStream);\n\n                // ignore last word\n                readNextWord(inputStream);\n\n                var swatch = new Swatch(new Color(red, green, blue), null);\n                returnList.add(swatch);\n\n                count ++;\n                // check\n            } catch (EOFException e) {\n                // End of file reached\n                break;\n            } catch (IOException e) {\n                throw e;\n            }\n        }\n\n        return returnList;\n    }\n\n    private static ArrayList&lt;Swatch&gt; readVersion2(InputStream inputStream) throws IOException {\n        var returnList = new ArrayList&lt;Swatch&gt;();\n        var anzFarben = readNextByte(inputStream);\n        var count = 0;\n        while (count &lt; anzFarben) {\n            try {\n//                System.out.println(&quot;bla&quot;);\n                // skip farbraum\n                readNextWord(inputStream);\n\n                // always skip second byte in word, because colors are stored twice\n                var red = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var green = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var blue = readNextByte(inputStream);\n                readNextByte(inputStream);\n\n                // skip next two blanks\n                readNextWord(inputStream);\n                readNextWord(inputStream);\n\n//                readNextWord(inputStream);\n\n                // skip name length\n                var nameLenght = readNextWord(inputStream);\n                var count2 = 0;\n                System.out.println(&quot;-.-.-.&quot;);\n                System.out.println(nameLenght);\n                System.out.println(&quot;-.-.-.&quot;);\n//                String name = &quot;&quot;;\n\n//                while (count2 &lt; nameLenght){\n//                    name += readNextWord(inputStream);\n//                    readNextWord(inputStream);\n//                    count ++;\n//                }\n//                System.out.println(name);\n\n                var name = readNullTerminatedString(inputStream);\n\n//                String name = readNullTerminatedString(inputStream, StandardCharsets.UTF_8);\n//                readNextWord(inputStream);\n//                System.out.println(name);\n                var swatch = new Swatch(new Color(red, green, blue), name);\n                returnList.add(swatch);\n                count ++;\n            } catch (EOFException e) {\n                // End of file reached\n                break;\n            } catch (IOException e) {\n                throw e;\n            }\n        }\n\n        return returnList;\n    }\n\n    private static int readNextWord(InputStream inputStream) throws EOFException, IOException {\n        int b1 = inputStream.read();\n        int b2 = inputStream.read();\n\n        if (b1 == -1 || b2 == -1) {\n            throw new EOFException();\n        }\n\n        return (b1 &lt;&lt; 8) | b2;\n    }\n\n    public static String readNullTerminatedString(InputStream inputStream, Charset charset) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        while ((nextByte = inputStream.read()) != 0) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n\n        return outputStream.toString(charset);\n    }\n\n    private static int readNextByte(InputStream inputStream) throws EOFException, IOException {\n        int b = inputStream.read();\n\n        if (b == -1) {\n            throw new EOFException();\n        }\n\n        return b;\n    }\n\n    public static String readNullTerminatedString(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        while ((nextByte = inputStream.read()) != 0) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n\n        return outputStream.toString(StandardCharsets.UTF_8.name());\n    }\n}\n</code></pre>\n<p>This is file three: Swatch</p>\n<pre><code>import java.awt.*;\n\npublic class Swatch {\n    final Color color;\n    final String name;\n\n    public Swatch(Color color, String name) {\n        this.color = color;\n        this.name = name;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>Then i have ACO files which look something like this:\n<a href=\"https://i.stack.imgur.com/PZRMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZRMp.png\" alt=\"ACO File setup\" /></a></p>\n<p>The real file looks like this:\n<a href=\"https://i.stack.imgur.com/ZwgRx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwgRx.png\" alt=\"ACO file HEX values\" /></a></p>\n<p>I underlined where v1 and where v2 begins</p>\n<p>Now the programm shall (and already does) takes this file and with some java magic outputs a GUI window which displays the colors in circles with the hex value and (this does not work) the name of the color.</p>\n<p>Now if its v1, there is no name, so null.\nBut if its v2, first comes the v1 versin of the file, thats just ow ACO works, and than v2 with a distinct header.</p>\n<p>The script should detect that and switch to the v2 reader. it actually does that but does not enter the while loop, if i make the loop always true, some weird, wrong, colors get added to the output, not replaced or anything. Right now the while loop tries to only run as many times as there are colors as there is a value in the header telling me how many colors there are.</p>\n<p>i spent about 3 hours just on this little thing now, made WAY to many tries, deleted most, commented outsome. does still not work.</p>\n<p>Does anyone have any clue or solution to this problem?</p>\n<p>I dont get why.\nI have uploaded the ACO file to the first fileuploader i could find if you want to try it out:\n<a href=\"https://ufile.io/5hs4kfus\" rel=\"nofollow noreferrer\">https://ufile.io/5hs4kfus</a></p>\n<p>Thanks for the help, i appreciate it A LOT.</p>\n"},{"tags":["java","android","android-activity","manifest","dagger"],"comments":[{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1677757815,"post_id":75614379,"comment_id":133402871,"body_markdown":"did you try to clean the cache? You should be able to use `AppCompatActivity` with `Hilt` and `Dagger`","body":"did you try to clean the cache? You should be able to use <code>AppCompatActivity</code> with <code>Hilt</code> and <code>Dagger</code>"},{"owner":{"account_id":18598990,"reputation":1,"user_id":13554261,"display_name":"Aryan Mishra"},"score":0,"creation_date":1677778738,"post_id":75614379,"comment_id":133409338,"body_markdown":"Yes I did. Invalidate Cache and Restart. Do you find any inconsistencies in the code though? I&#39;m clearly new to dagger and hilt","body":"Yes I did. Invalidate Cache and Restart. Do you find any inconsistencies in the code though? I&#39;m clearly new to dagger and hilt"}],"owner":{"account_id":18598990,"reputation":1,"user_id":13554261,"display_name":"Aryan Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677831642,"creation_date":1677753954,"question_id":75614379,"body_markdown":"I recently added dagger to my Java android project and ever since I added the dependency, all the activities in the manifest start showing error stated as: \r\n**&quot;XYZActivity must extend android.app.Activity&quot;** (instead of AppCompatActivity)\r\n\r\nWhereas in the activity java files no methods (onCreate, for example) can be overridden anymore with the error: \r\n**&quot;Method does not override method from its superclass&quot;** \r\n\r\nCode for reference:\r\n\r\n**Manifest:**\r\n\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.convo_z&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.utils.BaseApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;DataExtractionRules&quot;\r\n        tools:replace=&quot;android:allowBackup&quot;\r\n        tools:targetApi=&quot;s&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.status.OwnStatusPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.status.StatusPrivacyPage&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.status.ViewStatusPage&quot;\r\n            android:windowSoftInputMode=&quot;stateVisible|adjustPan&quot; /&gt;\r\n        &lt;activity android:name=&quot;.settings.ProfileSettingsActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HomeActivity&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot; /&gt;\r\n        &lt;activity android:name=&quot;.authentication.SignupActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.authentication.LoginActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.chat.ChatDetailActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.verification.PhoneVerificationPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.verification.OTPVerificationPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.status.AddStatusPage&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.splash.SplashScreenActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**build:gradle (app)**\r\n```\r\n\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;dagger.hilt.android.plugin&#39;\r\n}\r\n\r\nandroid {\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;C:\\\\Users\\\\aryan\\\\.android\\\\debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    compileSdkVersion 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.convo_z&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 33\r\n        versionCode 2\r\n        versionName &quot;2.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:26.8.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.4.1&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:2.5.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata:2.5.1&quot;\r\n    implementation &quot;com.google.dagger:hilt-android:2.44&quot;\r\n    annotationProcessor &#39;com.google.dagger:hilt-compiler:2.44&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n\r\n```\r\n\r\n**build:gradle(project)**\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &#39;com.google.dagger:hilt-android-gradle-plugin:2.44&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44&#39; apply false\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n**Hilt Application**\r\n\r\n```\r\npackage com.example.convo_z.utils;\r\n\r\nimport android.app.Application;\r\nimport dagger.hilt.android.HiltAndroidApp;\r\n\r\n@HiltAndroidApp\r\npublic class BaseApplication extends Application {\r\n}\r\n```\r\n\r\n**HomeActivity.java** \r\n(An activity where @Override now shows the above mentioned error)\r\n\r\n```\r\n@AndroidEntryPoint\r\npublic class HomeActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    FirebaseAuth auth;\r\n    ProgressDialog progressDialog;\r\n\r\n    Double pager = 0.0;\r\n\r\n    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        Objects.requireNonNull(getSupportActionBar()).setBackgroundDrawable(getDrawable(R.color.colorAccent));\r\n        Objects.requireNonNull(getSupportActionBar()).setElevation(0);\r\n\r\n        Window window = HomeActivity.this.getWindow();\r\n        // clear FLAG_TRANSLUCENT_STATUS flag:\r\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\r\n        // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n        // finally change the color\r\n        window.setStatusBarColor(ContextCompat.getColor(HomeActivity.this, R.color.colorPrimaryVariant));\r\n        //getSupportActionBar().setBackgroundDrawable(new ColorDrawable(R.drawable.core_colour2));\r\n        //&lt;gradient android:startColor=&quot;#333440&quot; android:endColor=&quot;#333440&quot;\r\n        //  binding.viewPager.setOffscreenPageLimit(1);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        Intent i = getIntent();\r\n        if (i.hasExtra(&quot;pager&quot;))\r\n            pager = i.getDoubleExtra(&quot;pager&quot;, 0.0);\r\n\r\n        ActivityCompat.requestPermissions(HomeActivity.this,\r\n                new String[]{Manifest.permission.READ_CONTACTS},\r\n                1);\r\n    }\r\n```\r\n\r\nA help would be really appreciated :)\r\n\r\nExtending Activity instead of AppCompatActivity solves the problem but isnt really a good solution.","title":"Dagger Hilt having issues with AppCompatActivity","body":"<p>I recently added dagger to my Java android project and ever since I added the dependency, all the activities in the manifest start showing error stated as:\n<strong>&quot;XYZActivity must extend android.app.Activity&quot;</strong> (instead of AppCompatActivity)</p>\n<p>Whereas in the activity java files no methods (onCreate, for example) can be overridden anymore with the error:\n<strong>&quot;Method does not override method from its superclass&quot;</strong></p>\n<p>Code for reference:</p>\n<p><strong>Manifest:</strong></p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.convo_z&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.utils.BaseApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;DataExtractionRules&quot;\n        tools:replace=&quot;android:allowBackup&quot;\n        tools:targetApi=&quot;s&quot;&gt;\n\n        &lt;activity android:name=&quot;.status.OwnStatusPage&quot; /&gt;\n        &lt;activity android:name=&quot;.status.StatusPrivacyPage&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.status.ViewStatusPage&quot;\n            android:windowSoftInputMode=&quot;stateVisible|adjustPan&quot; /&gt;\n        &lt;activity android:name=&quot;.settings.ProfileSettingsActivity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.HomeActivity&quot;\n            android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot; /&gt;\n        &lt;activity android:name=&quot;.authentication.SignupActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.authentication.LoginActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.chat.ChatDetailActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.verification.PhoneVerificationPage&quot; /&gt;\n        &lt;activity android:name=&quot;.verification.OTPVerificationPage&quot; /&gt;\n        &lt;activity android:name=&quot;.status.AddStatusPage&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.splash.SplashScreenActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;meta-data\n            android:name=&quot;preloaded_fonts&quot;\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>build:gradle (app)</strong></p>\n<pre><code>\n\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'dagger.hilt.android.plugin'\n}\n\nandroid {\n    signingConfigs {\n        debug {\n            storeFile file('C:\\\\Users\\\\aryan\\\\.android\\\\debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.example.convo_z&quot;\n        minSdkVersion 16\n        targetSdkVersion 33\n        versionCode 2\n        versionName &quot;2.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation platform('com.google.firebase:firebase-bom:26.8.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.android.gms:play-services-auth:20.4.1'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.google.firebase:firebase-firestore'\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:2.5.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata:2.5.1&quot;\n    implementation &quot;com.google.dagger:hilt-android:2.44&quot;\n    annotationProcessor 'com.google.dagger:hilt-compiler:2.44'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n\n</code></pre>\n<p><strong>build:gradle(project)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.1'\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath 'com.google.dagger:hilt-android-gradle-plugin:2.44'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nplugins {\n    id 'com.google.dagger.hilt.android' version '2.44' apply false\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Hilt Application</strong></p>\n<pre><code>package com.example.convo_z.utils;\n\nimport android.app.Application;\nimport dagger.hilt.android.HiltAndroidApp;\n\n@HiltAndroidApp\npublic class BaseApplication extends Application {\n}\n</code></pre>\n<p><strong>HomeActivity.java</strong>\n(An activity where @Override now shows the above mentioned error)</p>\n<pre><code>@AndroidEntryPoint\npublic class HomeActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    FirebaseAuth auth;\n    ProgressDialog progressDialog;\n\n    Double pager = 0.0;\n\n    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Objects.requireNonNull(getSupportActionBar()).setBackgroundDrawable(getDrawable(R.color.colorAccent));\n        Objects.requireNonNull(getSupportActionBar()).setElevation(0);\n\n        Window window = HomeActivity.this.getWindow();\n        // clear FLAG_TRANSLUCENT_STATUS flag:\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n        // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n        // finally change the color\n        window.setStatusBarColor(ContextCompat.getColor(HomeActivity.this, R.color.colorPrimaryVariant));\n        //getSupportActionBar().setBackgroundDrawable(new ColorDrawable(R.drawable.core_colour2));\n        //&lt;gradient android:startColor=&quot;#333440&quot; android:endColor=&quot;#333440&quot;\n        //  binding.viewPager.setOffscreenPageLimit(1);\n\n        auth = FirebaseAuth.getInstance();\n\n        Intent i = getIntent();\n        if (i.hasExtra(&quot;pager&quot;))\n            pager = i.getDoubleExtra(&quot;pager&quot;, 0.0);\n\n        ActivityCompat.requestPermissions(HomeActivity.this,\n                new String[]{Manifest.permission.READ_CONTACTS},\n                1);\n    }\n</code></pre>\n<p>A help would be really appreciated :)</p>\n<p>Extending Activity instead of AppCompatActivity solves the problem but isnt really a good solution.</p>\n"},{"tags":["java","spring-boot","spring-mvc","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677831261,"creation_date":1677831261,"answer_id":75624631,"question_id":75604414,"body_markdown":"If you want to access `@PathVariable` in the exception handler, you can simply register its `HandlerMethodArgumentResolver` in the `ExceptionHandlerExceptionResolver` : \r\n\r\n``` java\r\n@Configuration\r\npublic class Config implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {\r\n\r\n\t\tfor(HandlerExceptionResolver resolver : resolvers){\r\n\t\t\tif(resolver instanceof ExceptionHandlerExceptionResolver e){\r\n\t\t\t\te.getArgumentResolvers().addResolver(new PathVariableMethodArgumentResolver());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThen change the `@ExceptionHandler` to : \r\n\r\n``` java\r\n@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n@ExceptionHandler(MethodArgumentNotValidException.class)\r\nResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex, @PathVariable String id) {\r\n   \r\n}\r\n```","title":"How to use dynamic value of @PreAuthorize with @ExceptionHandler in spring boot?","body":"<p>If you want to access <code>@PathVariable</code> in the exception handler, you can simply register its <code>HandlerMethodArgumentResolver</code> in the <code>ExceptionHandlerExceptionResolver</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config implements WebMvcConfigurer {\n\n    @Override\n    public void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {\n\n        for(HandlerExceptionResolver resolver : resolvers){\n            if(resolver instanceof ExceptionHandlerExceptionResolver e){\n                e.getArgumentResolvers().addResolver(new PathVariableMethodArgumentResolver());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then change the <code>@ExceptionHandler</code> to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ExceptionHandler(MethodArgumentNotValidException.class)\nResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex, @PathVariable String id) {\n   \n}\n</code></pre>\n"}],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677831290,"creation_date":1677677546,"question_id":75604414,"body_markdown":"We are using **@PreAuthorize** with **dynamic value**. and at the request model we used bean validation means @NotEmpty,...\r\n\r\n**Code of controller:** \r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/../{id}/...&quot;)\r\n@PreAuthorize(&quot;hasAuthority(#id+&#39;abc&#39;)&quot;)\r\npublic class TestController {\r\n\r\n    @Autowired\r\n    SerivceAbc service;\r\n\r\n\t@PostMapping(&quot;/test&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; validate(@PathVariable String id,\r\n\t\t\t@Valid @RequestBody RequestModel Request,\r\n\t\t\tContentCachingRequestWrapper requestWrapper) {\r\n\t\treturn ResponseEntity.ok(service.abc(Request, requestWrapper));\r\n\t}\r\n\r\n\t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n\t@ExceptionHandler( MethodArgumentNotValidException.class)\r\n\tResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex,\r\n\t\t\tContentCachingRequestWrapper requestWrapper) {\r\n\t\tResponseModel invalidResponse = service.invalidResponse(ex,\r\n\t\t\t\trequestWrapper);\r\n\t\treturn ResponseEntity.badRequest().body(invalidResponse);\r\n\t}\r\n\r\n\t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n\t@ExceptionHandler(Exception.class)\r\n\tResponseEntity&lt;Object&gt; handleValidationExceptions(Exception ex, ContentCachingRequestWrapper requestWrapper) {\r\n\t\tResponseModel invalidResponse = service.invalidResponse(ex,\r\n\t\t\t\trequestWrapper);\r\n\t\treturn ResponseEntity.badRequest().body(invalidDssReponse);\r\n\t}\r\n}\r\n```\r\n\r\nIn the above code `id` is a dynamic value that is working fine when we call `\\test` API with passing valid fields \r\n\r\nbut whenever any bean validation is called at that time it&#39;s not calling `handleValidationExceptions` method because of **dynamic id**.\r\n\r\nif I&#39;m trying to pass id as a parameter of `handleValidationExceptions` method I&#39;m getting error: \r\n\r\n&gt;java.lang.IllegalStateException: Could not resolve parameter [2] in org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.controller.TestController.handleValidationExceptions(org.springframework.web.bind.MethodArgumentNotValidException,org.springframework.web.util.ContentCachingRequestWrapper,java.lang.String): No suitable resolver\r\n\r\nCan anyone please suggest how can we use @PreAuthorize (dynamic value)  with exceptionhandler?","title":"How to use dynamic value of @PreAuthorize with @ExceptionHandler in spring boot?","body":"<p>We are using <strong>@PreAuthorize</strong> with <strong>dynamic value</strong>. and at the request model we used bean validation means @NotEmpty,...</p>\n<p><strong>Code of controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/../{id}/...&quot;)\n@PreAuthorize(&quot;hasAuthority(#id+'abc')&quot;)\npublic class TestController {\n\n    @Autowired\n    SerivceAbc service;\n\n    @PostMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;Object&gt; validate(@PathVariable String id,\n            @Valid @RequestBody RequestModel Request,\n            ContentCachingRequestWrapper requestWrapper) {\n        return ResponseEntity.ok(service.abc(Request, requestWrapper));\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler( MethodArgumentNotValidException.class)\n    ResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex,\n            ContentCachingRequestWrapper requestWrapper) {\n        ResponseModel invalidResponse = service.invalidResponse(ex,\n                requestWrapper);\n        return ResponseEntity.badRequest().body(invalidResponse);\n    }\n\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(Exception.class)\n    ResponseEntity&lt;Object&gt; handleValidationExceptions(Exception ex, ContentCachingRequestWrapper requestWrapper) {\n        ResponseModel invalidResponse = service.invalidResponse(ex,\n                requestWrapper);\n        return ResponseEntity.badRequest().body(invalidDssReponse);\n    }\n}\n</code></pre>\n<p>In the above code <code>id</code> is a dynamic value that is working fine when we call <code>\\test</code> API with passing valid fields</p>\n<p>but whenever any bean validation is called at that time it's not calling <code>handleValidationExceptions</code> method because of <strong>dynamic id</strong>.</p>\n<p>if I'm trying to pass id as a parameter of <code>handleValidationExceptions</code> method I'm getting error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not resolve parameter [2] in org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.controller.TestController.handleValidationExceptions(org.springframework.web.bind.MethodArgumentNotValidException,org.springframework.web.util.ContentCachingRequestWrapper,java.lang.String): No suitable resolver</p>\n</blockquote>\n<p>Can anyone please suggest how can we use @PreAuthorize (dynamic value)  with exceptionhandler?</p>\n"},{"tags":["java","validation","selenium-webdriver","ui-automation","browser-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677607217,"post_id":75595455,"comment_id":133370167,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":9804742,"reputation":3296,"user_id":8157304,"accept_rate":75,"display_name":"sound wave"},"score":0,"creation_date":1677831588,"post_id":75595455,"comment_id":133418571,"body_markdown":"if the table has the usual html table structure, i.e. `&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;...&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;...&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;`, then I suggest using selenium with python, because then all you have to do is to is `pandas.read_html(htmltable.get_attribute(&#39;outerHTML&#39;))` where `htmltable = driver.find_element(xpath)` and you get a handy table like [this](https://i.stack.imgur.com/Z4lRJ.png) which you can easily export to csv or other formats","body":"if the table has the usual html table structure, i.e. <code>&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;...&lt;&#47;tr&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;...&lt;&#47;tr&zwnj;&#8203;&gt;&lt;&#47;tbody&gt;&lt;&#47;table&gt;</code>, then I suggest using selenium with python, because then all you have to do is to is <code>pandas.read_html(htmltable.get_attribute(&#39;outerHTML&#39;))</code> where <code>htmltable = driver.find_element(xpath)</code> and you get a handy table like <a href=\"https://i.stack.imgur.com/Z4lRJ.png\" rel=\"nofollow noreferrer\">this</a> which you can easily export to csv or other formats"}],"owner":{"account_id":27901981,"reputation":11,"user_id":21306080,"display_name":"Tiger InAfrica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677831286,"creation_date":1677605528,"question_id":75595455,"body_markdown":"Here is what I am trying to do: scrape a website with bunch of table and compare the values with what I have on a database. Example \r\nsay that I have the table below and I wanna compare it with what have in ms sql. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhat tools can I use to do this? is it a good idea to do this kind of validation test as part of functional or ui automation test ? I am using java and testNG. when does this kind of validation happen, if ever?  I can&#39;t find any example of this on the internet. \r\n\r\nI tried making jdbc connection in my test suit to query the data and then scraping the site and storing the data in array list then comparing the values. it worked, but now the tables are getting bigger and it is becoming more complicated and convoluted. so I am wondering if there is another way of doing this. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Me8bd.png","title":"validating data I have on a website is correct compared to what I have on a data base","body":"<p>Here is what I am trying to do: scrape a website with bunch of table and compare the values with what I have on a database. Example\nsay that I have the table below and I wanna compare it with what have in ms sql.</p>\n<p><a href=\"https://i.stack.imgur.com/Me8bd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Me8bd.png\" alt=\"enter image description here\" /></a></p>\n<p>what tools can I use to do this? is it a good idea to do this kind of validation test as part of functional or ui automation test ? I am using java and testNG. when does this kind of validation happen, if ever?  I can't find any example of this on the internet.</p>\n<p>I tried making jdbc connection in my test suit to query the data and then scraping the site and storing the data in array list then comparing the values. it worked, but now the tables are getting bigger and it is becoming more complicated and convoluted. so I am wondering if there is another way of doing this.</p>\n"},{"tags":["java"],"owner":{"account_id":27925058,"reputation":1,"user_id":21324342,"display_name":"cheesecheddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677830831,"creation_date":1677830831,"question_id":75624573,"body_markdown":"I am relying on a translator as my English skills are limited. I would greatly appreciate your help with the following question. Thank you.\r\n\r\nAfter authenticating the user through LDAP during login, I am storing the user information (ID, name) from LDAP in the SecurityContextHolder.\r\n```\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    String token = jwtTokenProvider.resolveToken(request);\r\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\r\n      String userId = jwtTokenProvider.extractUserId(token);\r\n      SecurityUser user = (SecurityUser) userService.loadUserByUserId(userId);\r\n      UsernamePasswordAuthenticationToken authenticationToken =\r\n          new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\r\n      authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n      SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n    }\r\n    filterChain.doFilter(request, response);\r\n  }\r\n```\r\n\r\nFurthermore, I would like to automatically populate &#39;UUID createdBy&#39; in BaseEntity using AuditorAware, and of course, I am using SpringSecurity.\r\n\r\nI have also looked for examples related to this, but the information I could find is limited to the following.\r\n\r\n```\r\n  @Override\r\n  public Optional&lt;UUID&gt; getCurrentAuditor() {\r\n     Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    if(null == authentication || !authentication.isAuthenticated()) {\r\n      return null;\r\n    }\r\n    return Optional.of(((SecurityUser)authentication.getPrincipal()).getMember().getId());\r\n  }\r\n```\r\n\r\nI have a table in my system&#39;s database called &#39;member&#39; that contains user information. Each &#39;userId&#39; in this table is assigned a UUID. I want to join the &#39;member&#39; table in my database with the &#39;userId&#39; stored in the SecurityContextHolder to retrieve data. How can I achieve this?\r\n\r\nI hope my limited English skills have been conveyed to you all. Thank you.\r\n\r\nI created &#39;public class AuditorAwareImpl implements AuditorAware&lt;UUID&gt;&#39;, but the only information available in the SecurityContextHolder is the &#39;userId&#39;, not the UUID of the user.","title":"AuditorAware to store CreatedBy as UUID from Spring Security?","body":"<p>I am relying on a translator as my English skills are limited. I would greatly appreciate your help with the following question. Thank you.</p>\n<p>After authenticating the user through LDAP during login, I am storing the user information (ID, name) from LDAP in the SecurityContextHolder.</p>\n<pre><code>  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    String token = jwtTokenProvider.resolveToken(request);\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\n      String userId = jwtTokenProvider.extractUserId(token);\n      SecurityUser user = (SecurityUser) userService.loadUserByUserId(userId);\n      UsernamePasswordAuthenticationToken authenticationToken =\n          new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\n      authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n      SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n    }\n    filterChain.doFilter(request, response);\n  }\n</code></pre>\n<p>Furthermore, I would like to automatically populate 'UUID createdBy' in BaseEntity using AuditorAware, and of course, I am using SpringSecurity.</p>\n<p>I have also looked for examples related to this, but the information I could find is limited to the following.</p>\n<pre><code>  @Override\n  public Optional&lt;UUID&gt; getCurrentAuditor() {\n     Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    if(null == authentication || !authentication.isAuthenticated()) {\n      return null;\n    }\n    return Optional.of(((SecurityUser)authentication.getPrincipal()).getMember().getId());\n  }\n</code></pre>\n<p>I have a table in my system's database called 'member' that contains user information. Each 'userId' in this table is assigned a UUID. I want to join the 'member' table in my database with the 'userId' stored in the SecurityContextHolder to retrieve data. How can I achieve this?</p>\n<p>I hope my limited English skills have been conveyed to you all. Thank you.</p>\n<p>I created 'public class AuditorAwareImpl implements AuditorAware', but the only information available in the SecurityContextHolder is the 'userId', not the UUID of the user.</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":1443078,"reputation":1620,"user_id":1362571,"accept_rate":27,"display_name":"Aliaaa"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1434881646,"creation_date":1366228062,"answer_id":16068893,"question_id":16059578,"body_markdown":"Just like you I didn&#39;t find animated Actor so I created myself:  \r\n\r\nAnimatedActor.java:\r\n\r\n    public class AnimatedActor extends Image\r\n    {\r\n\t    private final AnimationDrawable drawable;\r\n\r\n\t    public AnimatedActor(AnimationDrawable drawable)\r\n\t    {\r\n\t\t    super(drawable);\r\n\t\t    this.drawable = drawable;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void act(float delta)\r\n\t    {\r\n\t\t    drawable.act(delta);\r\n\t\t    super.act(delta);\r\n\t    }\r\n    }\r\n\r\nAnimationDrawable.java:\r\n\r\n    class AnimationDrawable extends BaseDrawable\r\n    {\r\n\t    public final Animation anim;\t\r\n\t    private float stateTime = 0;\r\n\t\r\n\t    public AnimationDrawable(Animation anim)\r\n\t    {\r\n\t\t    this.anim = anim;\r\n\t\t    setMinWidth(anim.getKeyFrameAt(0).getRegionWidth());\r\n\t\t    setMinHeight(anim.getKeyFrameAt(0).getRegionHeight());\r\n\t    }\r\n\t\r\n\t    public void act(float delta)\r\n\t    {\r\n\t\t    stateTime += delta;\r\n\t    }\r\n\t\r\n\t    public void reset()\r\n\t    {\r\n\t\t    stateTime = 0;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void draw(SpriteBatch batch, float x, float y, float width, float height)\r\n\t    {\r\n\t\t    batch.draw(anim.getKeyFrame(stateTime), x, y, width, height);\r\n\t    }\r\n    }","title":"LibGDX is there an actor that is animated?","body":"<p>Just like you I didn't find animated Actor so I created myself:  </p>\n\n<p>AnimatedActor.java:</p>\n\n<pre><code>public class AnimatedActor extends Image\n{\n    private final AnimationDrawable drawable;\n\n    public AnimatedActor(AnimationDrawable drawable)\n    {\n        super(drawable);\n        this.drawable = drawable;\n    }\n\n    @Override\n    public void act(float delta)\n    {\n        drawable.act(delta);\n        super.act(delta);\n    }\n}\n</code></pre>\n\n<p>AnimationDrawable.java:</p>\n\n<pre><code>class AnimationDrawable extends BaseDrawable\n{\n    public final Animation anim;    \n    private float stateTime = 0;\n\n    public AnimationDrawable(Animation anim)\n    {\n        this.anim = anim;\n        setMinWidth(anim.getKeyFrameAt(0).getRegionWidth());\n        setMinHeight(anim.getKeyFrameAt(0).getRegionHeight());\n    }\n\n    public void act(float delta)\n    {\n        stateTime += delta;\n    }\n\n    public void reset()\n    {\n        stateTime = 0;\n    }\n\n    @Override\n    public void draw(SpriteBatch batch, float x, float y, float width, float height)\n    {\n        batch.draw(anim.getKeyFrame(stateTime), x, y, width, height);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4389464,"reputation":221,"user_id":3578389,"display_name":"potpiejimmy"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1434881552,"creation_date":1398607048,"answer_id":23324286,"question_id":16059578,"body_markdown":"I simply created an &quot;AnimatedImage&quot; actor class which only takes an Animation as an argument (no need for a custom Drawable class). I think this solution is much simpler than the one above.\r\n\r\nAnimatedImage.java:\r\n\r\n    public class AnimatedImage extends Image\r\n    {\r\n\t    protected Animation animation = null;\r\n\t    private float stateTime = 0;\r\n\t\r\n\t    public AnimatedImage(Animation animation) {\r\n\t\t    super(animation.getKeyFrame(0));\r\n\t\t    this.animation = animation;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void act(float delta)\r\n\t    {\r\n\t\t    ((TextureRegionDrawable)getDrawable()).setRegion(animation.getKeyFrame(stateTime+=delta, true));\r\n\t        super.act(delta);\r\n\t    }\r\n    }\r\n","title":"LibGDX is there an actor that is animated?","body":"<p>I simply created an \"AnimatedImage\" actor class which only takes an Animation as an argument (no need for a custom Drawable class). I think this solution is much simpler than the one above.</p>\n\n<p>AnimatedImage.java:</p>\n\n<pre><code>public class AnimatedImage extends Image\n{\n    protected Animation animation = null;\n    private float stateTime = 0;\n\n    public AnimatedImage(Animation animation) {\n        super(animation.getKeyFrame(0));\n        this.animation = animation;\n    }\n\n    @Override\n    public void act(float delta)\n    {\n        ((TextureRegionDrawable)getDrawable()).setRegion(animation.getKeyFrame(stateTime+=delta, true));\n        super.act(delta);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20308294,"reputation":50,"user_id":14895996,"display_name":"WASD123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677830334,"creation_date":1677830334,"answer_id":75624513,"question_id":16059578,"body_markdown":"I didn&#39;t want to create another class so this is what I came up with this instead (If you just want a simple animated Actor):\r\n\r\n    Actor animatedActor = new Actor() {\r\n        float time;\r\n            \r\n        @Override\r\n        public void act( float delta ) {\r\n            time += delta;\r\n            super.act(delta);\r\n        }\r\n\r\n        @Override\r\n        public void draw( Batch batch, float parentAlpha ) {\r\n            batch.draw( searcAnimation.getKeyFrame( time ), getX(), getY(), getWidth(), getHeight() );\r\n        }\r\n    };\r\n    animatedActor.setSize( 200, 200 );\r\n    stage.addActor( animatedActor );\r\nHopes this helps!","title":"LibGDX is there an actor that is animated?","body":"<p>I didn't want to create another class so this is what I came up with this instead (If you just want a simple animated Actor):</p>\n<pre><code>Actor animatedActor = new Actor() {\n    float time;\n        \n    @Override\n    public void act( float delta ) {\n        time += delta;\n        super.act(delta);\n    }\n\n    @Override\n    public void draw( Batch batch, float parentAlpha ) {\n        batch.draw( searcAnimation.getKeyFrame( time ), getX(), getY(), getWidth(), getHeight() );\n    }\n};\nanimatedActor.setSize( 200, 200 );\nstage.addActor( animatedActor );\n</code></pre>\n<p>Hopes this helps!</p>\n"}],"owner":{"account_id":956212,"reputation":1238,"user_id":981465,"accept_rate":73,"display_name":"Lokiare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9466,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":16068893,"answer_count":3,"score":12,"last_activity_date":1677830334,"creation_date":1366200520,"question_id":16059578,"body_markdown":"In LibGDX Is there an actor that is animated (takes an Animation) and when added to a Stage animates itself or do you have to implement your own Image class in and animate it yourself?","title":"LibGDX is there an actor that is animated?","body":"<p>In LibGDX Is there an actor that is animated (takes an Animation) and when added to a Stage animates itself or do you have to implement your own Image class in and animate it yourself?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677830137,"creation_date":1677830137,"answer_id":75624484,"question_id":75616220,"body_markdown":"It&#39;s very simple. These classes which were deprecated since Hibernate 5 were removed in 6: https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#legacy-hibernate-criteria-api","title":"Issues Migrating Hibernate in Spring boot 3","body":"<p>It's very simple. These classes which were deprecated since Hibernate 5 were removed in 6: <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#legacy-hibernate-criteria-api\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#legacy-hibernate-criteria-api</a></p>\n"}],"owner":{"account_id":20103858,"reputation":21,"user_id":14741805,"display_name":"vaps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677830137,"creation_date":1677764418,"question_id":75616220,"body_markdown":"In my application while using spring boot 2.7.7 I was using following classes which render to database\r\n\r\n    org.hibernate.query.criteria.internal.CriteriaBuilder.   \r\n    \r\n    org.hibernate.query.criteria.internal.ParameterRegistry.  \r\n    \r\n    org.hibernate.query.criteria.internal.Renderable.  \r\n    \r\n    org.hibernate.query.criteria.internal.compile.RenderingContext. \r\n\r\n  \r\n\r\n\r\nAfter upgrading to spring boot 3.0.2/Hibernate 6.0.2.  \r\n\r\nThe above classes are not available.\r\n\r\nAre these classes deprecated or package is changed for them I am unable to find.   \r\n\r\nTIA\r\n\r\nI tried finding the classes but unable to find them or their replacement, I believe they should be available somewhere.Not sure.","title":"Issues Migrating Hibernate in Spring boot 3","body":"<p>In my application while using spring boot 2.7.7 I was using following classes which render to database</p>\n<pre><code>org.hibernate.query.criteria.internal.CriteriaBuilder.   \n\norg.hibernate.query.criteria.internal.ParameterRegistry.  \n\norg.hibernate.query.criteria.internal.Renderable.  \n\norg.hibernate.query.criteria.internal.compile.RenderingContext. \n</code></pre>\n<p>After upgrading to spring boot 3.0.2/Hibernate 6.0.2.</p>\n<p>The above classes are not available.</p>\n<p>Are these classes deprecated or package is changed for them I am unable to find.</p>\n<p>TIA</p>\n<p>I tried finding the classes but unable to find them or their replacement, I believe they should be available somewhere.Not sure.</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1520163553,"post_id":49094964,"comment_id":85194960,"body_markdown":"Which textview? awt? swing? javafx?","body":"Which textview? awt? swing? javafx?"},{"owner":{"account_id":12669920,"reputation":101,"user_id":9207796,"display_name":"Tchibo"},"score":0,"creation_date":1520163690,"post_id":49094964,"comment_id":85194993,"body_markdown":"This kind: TextView tv = new TextView(MyActivity.this);","body":"This kind: TextView tv = new TextView(MyActivity.this);"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1520164394,"post_id":49094964,"comment_id":85195156,"body_markdown":"Possible duplicate of [Right align text in android TextView](https://stackoverflow.com/questions/8969122/right-align-text-in-android-textview)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8969122/right-align-text-in-android-textview\">Right align text in android TextView</a>"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1520164994,"post_id":49094964,"comment_id":85195318,"body_markdown":"Possible duplicate of [Android TextView text alignment](https://stackoverflow.com/questions/20217834/android-textview-text-alignment)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20217834/android-textview-text-alignment\">Android TextView text alignment</a>"}],"answers":[{"tags":[],"owner":{"account_id":13065551,"reputation":120,"user_id":9441053,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1520168699,"creation_date":1520164482,"answer_id":49095094,"question_id":49094964,"body_markdown":"Try using\r\n\r\n    textView.setGravity(Gravity.RIGHT)","title":"Programmatically set text alignment in a TextView","body":"<p>Try using</p>\n\n<pre><code>textView.setGravity(Gravity.RIGHT)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12502591,"reputation":89,"user_id":9100553,"display_name":"fi - Anand Dubey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520164541,"creation_date":1520164541,"answer_id":49095102,"question_id":49094964,"body_markdown":"You can set textview&#39;s gravity using\n\n    textLabel.setGravity(Gravity.CENTER | Gravity.BOTTOM);","title":"Programmatically set text alignment in a TextView","body":"<p>You can set textview's gravity using</p>\n\n<pre><code>textLabel.setGravity(Gravity.CENTER | Gravity.BOTTOM);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10837547,"reputation":81,"user_id":7970015,"display_name":"Azhar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1578994334,"creation_date":1578994334,"answer_id":59730901,"question_id":49094964,"body_markdown":"In Kotlin you can use something like the below,\r\n\r\n```\r\n val textView = TextView(context)\r\n textView.apply {\r\n     layoutParams = TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT,\r\n                                    TableRow.LayoutParams.WRAP_CONTENT)\r\n     textAlignment = View.TEXT_ALIGNMENT_VIEW_START\r\n }\r\n\r\n```","title":"Programmatically set text alignment in a TextView","body":"<p>In Kotlin you can use something like the below,</p>\n\n<pre><code> val textView = TextView(context)\n textView.apply {\n     layoutParams = TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT,\n                                    TableRow.LayoutParams.WRAP_CONTENT)\n     textAlignment = View.TEXT_ALIGNMENT_VIEW_START\n }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622057434,"creation_date":1622057434,"answer_id":67711547,"question_id":49094964,"body_markdown":"1.) Make sure the width is not set to wrap_content\r\n\r\n2.) If the text view is inside another container, set gravity to the container. Remember that gravity is to align text and stuff like that while layout_gravity is used to align views within a parent.\r\n\r\n3.) TextAlign aligns text at the beginning, end, left, or right of the container. Gravity is a bit more flexible with Center_Vertical, Center_Horizontal, or Center. ","title":"Programmatically set text alignment in a TextView","body":"<p>1.) Make sure the width is not set to wrap_content</p>\n<p>2.) If the text view is inside another container, set gravity to the container. Remember that gravity is to align text and stuff like that while layout_gravity is used to align views within a parent.</p>\n<p>3.) TextAlign aligns text at the beginning, end, left, or right of the container. Gravity is a bit more flexible with Center_Vertical, Center_Horizontal, or Center.</p>\n"},{"tags":[],"owner":{"account_id":11998618,"reputation":2547,"user_id":8779275,"display_name":"M_droid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645102459,"creation_date":1645102459,"answer_id":71158525,"question_id":49094964,"body_markdown":"Here is what worked for me (in kotlin):\r\n\r\n    textView.textAlignment = View.TEXT_ALIGNMENT_CENTER","title":"Programmatically set text alignment in a TextView","body":"<p>Here is what worked for me (in kotlin):</p>\n<pre><code>textView.textAlignment = View.TEXT_ALIGNMENT_CENTER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3244143,"reputation":51,"user_id":2736260,"display_name":"tsiftis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677830007,"creation_date":1677830007,"answer_id":75624462,"question_id":49094964,"body_markdown":"textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);","title":"Programmatically set text alignment in a TextView","body":"<p>textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);</p>\n"}],"owner":{"account_id":12669920,"reputation":101,"user_id":9207796,"display_name":"Tchibo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15497,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1677830007,"creation_date":1520163429,"question_id":49094964,"body_markdown":"In my app, I have a button that creates a TextView with a certain message. How can I set the text alignment of the text to the right of the TextView? I see the attribute in XML, but I don&#39;t know how to do it in java.","title":"Programmatically set text alignment in a TextView","body":"<p>In my app, I have a button that creates a TextView with a certain message. How can I set the text alignment of the text to the right of the TextView? I see the attribute in XML, but I don't know how to do it in java.</p>\n"},{"tags":["java","linked-list","fluent"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1677828640,"post_id":75624244,"comment_id":133417897,"body_markdown":"There is no &quot;fluent style&quot; to add like that. You would have to create helper methods that take the list as argument as well. `addTo(list, &quot;b&quot;).addAllTo(list, ...).addFirstTo(list, &quot;a&quot;).addLastTo(list, &quot;e&quot;)`","body":"There is no &quot;fluent style&quot; to add like that. You would have to create helper methods that take the list as argument as well. <code>addTo(list, &quot;b&quot;).addAllTo(list, ...).addFirstTo(list, &quot;a&quot;).addLastTo(list, &quot;e&quot;)</code>"},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":0,"creation_date":1677828912,"post_id":75624244,"comment_id":133417966,"body_markdown":"@Zabuzard there is a lib http://www.java2s.com/Tutorials/Java/Data_Structure_How_to/List/Subclass_ArrayList_with_fluent_api.htm but i don&#39;t want to include them just for this class","body":"@Zabuzard there is a lib <a href=\"http://www.java2s.com/Tutorials/Java/Data_Structure_How_to/List/Subclass_ArrayList_with_fluent_api.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorials/Java/Data_Structure_How_to/List/&hellip;</a> but i don&#39;t want to include them just for this class"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1677828967,"post_id":75624244,"comment_id":133417979,"body_markdown":"@cnmuc But this is not `java.util.LinkedList`, it is a self-written class that provides such methods. There is no way to make this happen with Javas built-in classes.","body":"@cnmuc But this is not <code>java.util.LinkedList</code>, it is a self-written class that provides such methods. There is no way to make this happen with Javas built-in classes."},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":0,"creation_date":1677829083,"post_id":75624244,"comment_id":133418007,"body_markdown":"@Unmitigated i find it more readable. and yes, i&#39;m adding these elements manually. also, in my many years of software development i rarely saw code using the boolean result of addAll (what you should actually do)","body":"@Unmitigated i find it more readable. and yes, i&#39;m adding these elements manually. also, in my many years of software development i rarely saw code using the boolean result of addAll (what you should actually do)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1677829194,"post_id":75624244,"comment_id":133418034,"body_markdown":"It might be worth mentioning Kotlin as an option that would give you the possibility to add extension methods to existing classes in hindsight. But Java itself cant do that.","body":"It might be worth mentioning Kotlin as an option that would give you the possibility to add extension methods to existing classes in hindsight. But Java itself cant do that."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677829254,"creation_date":1677828918,"answer_id":75624316,"question_id":75624244,"body_markdown":"There is **no** &quot;*fluent style*&quot; to add like that. What you are asking is not possible with the methods available in `LinkedList` (as of today).\r\n\r\n## Helper ##\r\n\r\nHowever, you can technically create your own helper methods that take the list as argument as well. Something like:\r\n\r\n```java\r\n// Same for addAllTo, addFirstTo, addLastTo\r\npublic static &lt;E&gt; LinkedList&lt;E&gt; addTo(LinkedList&lt;E&gt; list, E element) {\r\n  list.add(element);\r\n  return list;\r\n}\r\n```\r\n\r\nThen you could use it as:\r\n```java\r\nvar list = new LinkedList&lt;String&gt;();\r\naddTo(list, &quot;b&quot;)\r\n  .addAllTo(list, List.of(&quot;c&quot;, &quot;d&quot;))\r\n  .addFirstTo(list, &quot;a&quot;)\r\n  .addLastTo(list, &quot;e&quot;)\r\n```\r\nThere is no way to add the list itself to the fluent-chain as well, since you need to be able to _name_ it.\r\n\r\nYou also can not get rid of the `list`-argument, since you can not add the methods to `LinkedList` itself.\r\n\r\n## Delegate extension ##\r\n\r\nAnother option, but this is kinda ugly, would be to create a new `LinkedList` class, which just delegates all calls to the actual. So something like:\r\n\r\n```java\r\npublic class FluentLinkedList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n  private final LinkedList&lt;E&gt; delegate = new LinkedList&lt;&gt;();\r\n\r\n  @Override\r\n  public boolean add(E element) {\r\n    return delegate.add(element);\r\n  }\r\n\r\n  // Override and delegate all other List methods as well ...\r\n\r\n  // Then finally add your own extensions\r\n  public FluentLinkedList&lt;E&gt; addFluent(E element) {\r\n    add(element);\r\n    return this;\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nYou can not get rid of the original `add` method though, unless you want to break compatibility with the `List` interface.","title":"Adding elements to LinkedList fluently in Java","body":"<p>There is <strong>no</strong> &quot;<em>fluent style</em>&quot; to add like that. What you are asking is not possible with the methods available in <code>LinkedList</code> (as of today).</p>\n<h2>Helper</h2>\n<p>However, you can technically create your own helper methods that take the list as argument as well. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Same for addAllTo, addFirstTo, addLastTo\npublic static &lt;E&gt; LinkedList&lt;E&gt; addTo(LinkedList&lt;E&gt; list, E element) {\n  list.add(element);\n  return list;\n}\n</code></pre>\n<p>Then you could use it as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var list = new LinkedList&lt;String&gt;();\naddTo(list, &quot;b&quot;)\n  .addAllTo(list, List.of(&quot;c&quot;, &quot;d&quot;))\n  .addFirstTo(list, &quot;a&quot;)\n  .addLastTo(list, &quot;e&quot;)\n</code></pre>\n<p>There is no way to add the list itself to the fluent-chain as well, since you need to be able to <em>name</em> it.</p>\n<p>You also can not get rid of the <code>list</code>-argument, since you can not add the methods to <code>LinkedList</code> itself.</p>\n<h2>Delegate extension</h2>\n<p>Another option, but this is kinda ugly, would be to create a new <code>LinkedList</code> class, which just delegates all calls to the actual. So something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FluentLinkedList&lt;E&gt; extends AbstractList&lt;E&gt; {\n  private final LinkedList&lt;E&gt; delegate = new LinkedList&lt;&gt;();\n\n  @Override\n  public boolean add(E element) {\n    return delegate.add(element);\n  }\n\n  // Override and delegate all other List methods as well ...\n\n  // Then finally add your own extensions\n  public FluentLinkedList&lt;E&gt; addFluent(E element) {\n    add(element);\n    return this;\n  }\n\n  // ...\n}\n</code></pre>\n<p>You can not get rid of the original <code>add</code> method though, unless you want to break compatibility with the <code>List</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677829480,"creation_date":1677829480,"answer_id":75624388,"question_id":75624244,"body_markdown":"You could make a class which extends LinkedList&lt;T&gt; which provides the desired behavior:\r\n\r\n```\r\nclass FluentList&lt;T&gt; extends LinkedList&lt;T&gt; {\r\n    FluentList &lt;T&gt; with(T element) {\r\n        this.add(element);\r\n        return this;\r\n    }\r\n    FluentList &lt;T&gt; with(Collection&lt;T&gt; elements) {\r\n        this.addAll(elements);\r\n        return this;\r\n    }\r\n    FluentList &lt;T&gt; withFirst(T element) {\r\n        this.addFirst(element);\r\n        return this;\r\n    }\r\n    FluentList &lt;T&gt; withLast(T element) {\r\n        this.addLast(element);\r\n        return this;\r\n    }\r\n}\r\n```\r\nThis will allow you to fluently add elements with the `with` prefix while leaving the `add`-functionality as-is from LinkedList&lt;T&gt;. E.g:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        FluentList&lt;String&gt; strings = new FluentList&lt;String&gt;()\r\n                .with(&quot;a&quot;)\r\n                .with(List.of(&quot;b&quot;, &quot;c&quot;))\r\n                .withFirst(&quot;d&quot;)\r\n                .withLast(&quot;e&quot;);\r\n        strings.forEach(System.out::println);\r\n    }\r\n```","title":"Adding elements to LinkedList fluently in Java","body":"<p>You could make a class which extends LinkedList which provides the desired behavior:</p>\n<pre><code>class FluentList&lt;T&gt; extends LinkedList&lt;T&gt; {\n    FluentList &lt;T&gt; with(T element) {\n        this.add(element);\n        return this;\n    }\n    FluentList &lt;T&gt; with(Collection&lt;T&gt; elements) {\n        this.addAll(elements);\n        return this;\n    }\n    FluentList &lt;T&gt; withFirst(T element) {\n        this.addFirst(element);\n        return this;\n    }\n    FluentList &lt;T&gt; withLast(T element) {\n        this.addLast(element);\n        return this;\n    }\n}\n</code></pre>\n<p>This will allow you to fluently add elements with the <code>with</code> prefix while leaving the <code>add</code>-functionality as-is from LinkedList. E.g:</p>\n<pre><code>    public static void main(String[] args) {\n        FluentList&lt;String&gt; strings = new FluentList&lt;String&gt;()\n                .with(&quot;a&quot;)\n                .with(List.of(&quot;b&quot;, &quot;c&quot;))\n                .withFirst(&quot;d&quot;)\n                .withLast(&quot;e&quot;);\n        strings.forEach(System.out::println);\n    }\n</code></pre>\n"}],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677829480,"creation_date":1677828388,"question_id":75624244,"body_markdown":"I&#39;m lookig for a way (ideally only with Java SDK classes) to inline adding elements to a LinkedList in Java, to convert \r\n\r\n    LinkedList&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\r\n    linkedList.add(&quot;b&quot;);\r\n    linkedList.addAll(List.of(&quot;c&quot;, &quot;d&quot;));\r\n    linkedList.addFirst(&quot;a&quot;);\r\n    linkedList.addLast(&quot;e&quot;); \r\n\r\nto something like \r\n    \r\n    new LinkedList&lt;&gt;().add(&quot;b&quot;).addAll(List.of(&quot;c&quot;, &quot;d&quot;)).addFirst(&quot;a&quot;).addLast(&quot;e&quot;);","title":"Adding elements to LinkedList fluently in Java","body":"<p>I'm lookig for a way (ideally only with Java SDK classes) to inline adding elements to a LinkedList in Java, to convert</p>\n<pre><code>LinkedList&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\nlinkedList.add(&quot;b&quot;);\nlinkedList.addAll(List.of(&quot;c&quot;, &quot;d&quot;));\nlinkedList.addFirst(&quot;a&quot;);\nlinkedList.addLast(&quot;e&quot;); \n</code></pre>\n<p>to something like</p>\n<pre><code>new LinkedList&lt;&gt;().add(&quot;b&quot;).addAll(List.of(&quot;c&quot;, &quot;d&quot;)).addFirst(&quot;a&quot;).addLast(&quot;e&quot;);\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-query"],"comments":[{"owner":{"account_id":12808534,"reputation":622,"user_id":9267467,"display_name":"Tobok Sitanggang"},"score":0,"creation_date":1677850777,"post_id":75624373,"comment_id":133423516,"body_markdown":"you need to use projection as options in the query https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/find/","body":"you need to use projection as options in the query <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/find/\" rel=\"nofollow noreferrer\">mongodb.com/docs/drivers/java/sync/current/usage-examples/fi&zwnj;&#8203;nd</a>"},{"owner":{"account_id":20166713,"reputation":1,"user_id":14790477,"display_name":"OddyUlrich"},"score":0,"creation_date":1677875376,"post_id":75624373,"comment_id":133430442,"body_markdown":"@TobokSitanggang But can I use the &quot;projection&quot; inside a Query annotation? I know I can use an aggregation but for something so simple I don&#39;t know if it would be a good practise.","body":"@TobokSitanggang But can I use the &quot;projection&quot; inside a Query annotation? I know I can use an aggregation but for something so simple I don&#39;t know if it would be a good practise."},{"owner":{"account_id":12808534,"reputation":622,"user_id":9267467,"display_name":"Tobok Sitanggang"},"score":0,"creation_date":1677875980,"post_id":75624373,"comment_id":133430578,"body_markdown":"in operation `find`, use `projection`. and in operation `agregation` use `$project`. there is different.","body":"in operation <code>find</code>, use <code>projection</code>. and in operation <code>agregation</code> use <code>$project</code>. there is different."}],"owner":{"account_id":20166713,"reputation":1,"user_id":14790477,"display_name":"OddyUlrich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677829366,"creation_date":1677829366,"question_id":75624373,"body_markdown":"```\r\n@Query(value=&quot;{ &#39;studentsList.$id&#39;: ?0 }&quot;, fields=&quot;{&#39;$id&#39;: 1}&quot;)\r\nList&lt;Subject&gt; findAllByStudentID(ObjectId studentId);\r\n```\r\n\r\nI am trying to find a way to make this work. I know it currently returns the object with just the &quot;id&quot; field filled in, but I would like it to just return the ObjectID.\r\n\r\nI know I could set the method to return a String and then convert it to ObjectID if necessary, but is there really no way to do this?","title":"How to get only list of IDs from MongoDB using springboot?","body":"<pre><code>@Query(value=&quot;{ 'studentsList.$id': ?0 }&quot;, fields=&quot;{'$id': 1}&quot;)\nList&lt;Subject&gt; findAllByStudentID(ObjectId studentId);\n</code></pre>\n<p>I am trying to find a way to make this work. I know it currently returns the object with just the &quot;id&quot; field filled in, but I would like it to just return the ObjectID.</p>\n<p>I know I could set the method to return a String and then convert it to ObjectID if necessary, but is there really no way to do this?</p>\n"},{"tags":["java","android","android-intent","sms","telephonymanager"],"owner":{"account_id":25343450,"reputation":23,"user_id":19161534,"display_name":"Justice Chukwuemeka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677829163,"creation_date":1677829163,"question_id":75624350,"body_markdown":"I trying to get the details of an sms including it&#39;s body the sender and couple of other details I can get from the sms but I have to do this from the sms app such that when the user clicks on choose an sms it loads the default app and when the user clicks on this sms it gets all of it&#39;s data including the sms body and sender data as well as time sms was recieved.\r\n\r\nI have tried opening the default messaging app now what I want understand is how I can get the sms messages when the user clicks on them is there something like an onclick or maybe a way of passing the result of the intent back to the app. This is what I have so far\r\n\r\n```\r\nIntent eventIntentMessage =getPackageManager()\r\n                    .getLaunchIntentForPackage(Telephony.Sms.getDefaultSmsPackage(getApplicationContext()));\r\n            eventIntentMessage.getParcelableArrayExtra(&quot;sms&quot;);\r\n            startActivityForResult(eventIntentMessage, 123);\r\n```\r\n\r\nHow do I access the individual sms and read it&#39;s results and pass then to the app please if you know a link that has an explanation for this or you have one it will be greatly appreciated.","title":"How do I get the details of an sms from the sms package using Telephony.Sms.getDefaultSmsPackage(getApplicationContext()) passed to an intent?","body":"<p>I trying to get the details of an sms including it's body the sender and couple of other details I can get from the sms but I have to do this from the sms app such that when the user clicks on choose an sms it loads the default app and when the user clicks on this sms it gets all of it's data including the sms body and sender data as well as time sms was recieved.</p>\n<p>I have tried opening the default messaging app now what I want understand is how I can get the sms messages when the user clicks on them is there something like an onclick or maybe a way of passing the result of the intent back to the app. This is what I have so far</p>\n<pre><code>Intent eventIntentMessage =getPackageManager()\n                    .getLaunchIntentForPackage(Telephony.Sms.getDefaultSmsPackage(getApplicationContext()));\n            eventIntentMessage.getParcelableArrayExtra(&quot;sms&quot;);\n            startActivityForResult(eventIntentMessage, 123);\n</code></pre>\n<p>How do I access the individual sms and read it's results and pass then to the app please if you know a link that has an explanation for this or you have one it will be greatly appreciated.</p>\n"},{"tags":["java","redis","spring-data-redis-reactive"],"answers":[{"tags":[],"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650267129,"creation_date":1650267129,"answer_id":71908867,"question_id":71907606,"body_markdown":"You can use the `XGROUP CREATE` command with `MKSTREAM` option, to create an empty stream:\r\n\r\n```\r\nxgroup create s g $ mkstream\r\n```\r\n\r\nIf you don&#39;t need the group, you can destroy it manually:\r\n\r\n```\r\nxgroup destroy s g\r\n```\r\n\r\nAnother solution is to create a stream with `XADD` command, and then use `XDEL key id` to remove the newly created entry. In this case, the stream will be kept.","title":"How to create Empty redis stream?","body":"<p>You can use the <code>XGROUP CREATE</code> command with <code>MKSTREAM</code> option, to create an empty stream:</p>\n<pre><code>xgroup create s g $ mkstream\n</code></pre>\n<p>If you don't need the group, you can destroy it manually:</p>\n<pre><code>xgroup destroy s g\n</code></pre>\n<p>Another solution is to create a stream with <code>XADD</code> command, and then use <code>XDEL key id</code> to remove the newly created entry. In this case, the stream will be kept.</p>\n"},{"tags":[],"owner":{"account_id":465132,"reputation":401,"user_id":869026,"display_name":"Mustafa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677827592,"creation_date":1677827592,"answer_id":75624141,"question_id":71907606,"body_markdown":"You can XADD with MAXLEN = 0. Like this:\r\n\r\n    XADD mystream MAXLEN = 0 * key value","title":"How to create Empty redis stream?","body":"<p>You can XADD with MAXLEN = 0. Like this:</p>\n<pre><code>XADD mystream MAXLEN = 0 * key value\n</code></pre>\n"}],"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71908867,"answer_count":2,"score":0,"last_activity_date":1677827592,"creation_date":1650256218,"question_id":71907606,"body_markdown":"Is possible to create empty stream using spring redis data?\r\nAm trying to create rest endpoint to create just stream without data.\r\n\r\nThanks,","title":"How to create Empty redis stream?","body":"<p>Is possible to create empty stream using spring redis data?\nAm trying to create rest endpoint to create just stream without data.</p>\n<p>Thanks,</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677827166,"creation_date":1677758266,"question_id":75615115,"body_markdown":"I need to sort a column starts with number and is a varchar in numerical order. \r\n\r\nI have a spring jpa specification already for this. So need an option to override the `Sort.class` methods.\r\n\r\n```\r\nselect x, substring(x, &#39;\\d+\\.?\\d*&#39;) from pg_catalog.&quot;unnest&quot;(array[&#39;98&#39;,&#39;101.0m&#39;,&#39;166m&#39;]) as x \r\norder by substring(x, &#39;\\d+\\.?\\d*&#39;):: numeric\r\n```\r\n\r\nExpected:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyt6v.png","title":"Sort by a varchar column starting with numbers Spring JPA","body":"<p>I need to sort a column starts with number and is a varchar in numerical order.</p>\n<p>I have a spring jpa specification already for this. So need an option to override the <code>Sort.class</code> methods.</p>\n<pre><code>select x, substring(x, '\\d+\\.?\\d*') from pg_catalog.&quot;unnest&quot;(array['98','101.0m','166m']) as x \norder by substring(x, '\\d+\\.?\\d*'):: numeric\n</code></pre>\n<p>Expected:\n<a href=\"https://i.stack.imgur.com/yyt6v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyt6v.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1583528749,"post_id":60568043,"comment_id":107161162,"body_markdown":"Date can be represented on many ways. What `type` do you use to store it in `CCEevnt` class? What type is used to store it in `Cassandra` table? Take a look on that question: [Spring Boot Jackson date and timestamp Format](https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format)","body":"Date can be represented on many ways. What <code>type</code> do you use to store it in <code>CCEevnt</code> class? What type is used to store it in <code>Cassandra</code> table? Take a look on that question: <a href=\"https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format\">Spring Boot Jackson date and timestamp Format</a>"}],"answers":[{"tags":[],"owner":{"account_id":1789528,"reputation":2426,"user_id":1630255,"accept_rate":50,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583513061,"creation_date":1583512760,"answer_id":60568243,"question_id":60568043,"body_markdown":"`-2177434800000` is the number of milliseconds before the `epoch time`.  \r\nEpoch time is `1 January 1970 00:00:00` which is considered `0` milliseconds. Any time before it is negative and after it is positive. Think of epoch time as `0` in the number line.\r\n&lt;br/&gt;You can read more about it [here][1] and [here][2].\r\n\r\nAlso ,you can verify that `-2177434800000` stands for `1901-01-01` on this [epoch convertor website.][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31708622/how-to-represent-dates-before-epoch-as-a-unix-timestamp\r\n  [2]: https://stackoverflow.com/questions/1090869/why-is-1-1-1970-the-epoch-time\r\n  [3]: https://www.epochconverter.com/","title":"Date field being parsed incorrectly with JsonNode","body":"<p><code>-2177434800000</code> is the number of milliseconds before the <code>epoch time</code>.<br>\nEpoch time is <code>1 January 1970 00:00:00</code> which is considered <code>0</code> milliseconds. Any time before it is negative and after it is positive. Think of epoch time as <code>0</code> in the number line.\n<br/>You can read more about it <a href=\"https://stackoverflow.com/questions/31708622/how-to-represent-dates-before-epoch-as-a-unix-timestamp\">here</a> and <a href=\"https://stackoverflow.com/questions/1090869/why-is-1-1-1970-the-epoch-time\">here</a>.</p>\n\n<p>Also ,you can verify that <code>-2177434800000</code> stands for <code>1901-01-01</code> on this <a href=\"https://www.epochconverter.com/\" rel=\"nofollow noreferrer\">epoch convertor website.</a></p>\n"},{"tags":[],"owner":{"account_id":27898627,"reputation":1,"user_id":21303376,"display_name":"chennoju abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677826755,"creation_date":1677578179,"answer_id":75590407,"question_id":60568043,"body_markdown":"    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);","title":"Date field being parsed incorrectly with JsonNode","body":"<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n"}],"owner":{"account_id":10362158,"reputation":81,"user_id":7642312,"display_name":"Brian Gurka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677826755,"creation_date":1583512008,"question_id":60568043,"body_markdown":"I&#39;m reading a record of data from a cassandra table. Creating a Java object that I built. Setting all the values with what I get from the record of data (I&#39;m getting these values from the record using Jackson). When I look at the json request I&#39;m seeing a long doulbe like value. Wondering what format that is in? And then why it&#39;s negative? Here&#39;s what I got...\r\n\r\n```\r\nJsonNode ccEventNode = new ObjectMapper().readTree(row.getString(0));\r\nccEventNode.get(&quot;last_pyflt_dt&quot;)\r\n```\r\nThis gives me a value of &quot;1901-01-01&quot;. I then...\r\n\r\n```\r\nCCEvent ccEvent = new CCEvent;\r\nccEvent.getHistory().setLast_pyflt_dt(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(ccEventNode.get(&quot;last_pyflt_dt&quot;).textValue()));\r\n```\r\nThis gives me a value for the Date field I just set of &quot;Tue Jan 01 00:00:00 EST 1901&quot;\r\n\r\nBut when I read the JSON request once I&#39;m done setting all the other values I am seeing the value as...\r\n```\r\n&quot;lastPaymentFloatDate&quot;:-2177434800000\r\n```\r\n\r\nMy first question is. What is that value? Is it number of minutes from a certain date? Why is it negative? It&#39;s  causing issues when I send it to the webservice. When I have other dates that are like &quot;2020-02-04&quot; it doesn&#39;t cause any issues. It also shows me in the request a large number like the one above but it&#39;s not negative. A bit confused.","title":"Date field being parsed incorrectly with JsonNode","body":"<p>I'm reading a record of data from a cassandra table. Creating a Java object that I built. Setting all the values with what I get from the record of data (I'm getting these values from the record using Jackson). When I look at the json request I'm seeing a long doulbe like value. Wondering what format that is in? And then why it's negative? Here's what I got...</p>\n\n<pre><code>JsonNode ccEventNode = new ObjectMapper().readTree(row.getString(0));\nccEventNode.get(\"last_pyflt_dt\")\n</code></pre>\n\n<p>This gives me a value of \"1901-01-01\". I then...</p>\n\n<pre><code>CCEvent ccEvent = new CCEvent;\nccEvent.getHistory().setLast_pyflt_dt(new SimpleDateFormat(\"yyyy-MM-dd\").parse(ccEventNode.get(\"last_pyflt_dt\").textValue()));\n</code></pre>\n\n<p>This gives me a value for the Date field I just set of \"Tue Jan 01 00:00:00 EST 1901\"</p>\n\n<p>But when I read the JSON request once I'm done setting all the other values I am seeing the value as...</p>\n\n<pre><code>\"lastPaymentFloatDate\":-2177434800000\n</code></pre>\n\n<p>My first question is. What is that value? Is it number of minutes from a certain date? Why is it negative? It's  causing issues when I send it to the webservice. When I have other dates that are like \"2020-02-04\" it doesn't cause any issues. It also shows me in the request a large number like the one above but it's not negative. A bit confused.</p>\n"},{"tags":["java","prepared-statement"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1295355670,"post_id":4724299,"comment_id":5218598,"body_markdown":"How were you checking this?  What tool did you use to verify the data in the database?","body":"How were you checking this?  What tool did you use to verify the data in the database?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1295355700,"post_id":4724299,"comment_id":5218604,"body_markdown":"Are you saying that the return value of `method.getName()` changed after it has been called?","body":"Are you saying that the return value of <code>method.getName()</code> changed after it has been called?"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1295356826,"post_id":4724299,"comment_id":5218807,"body_markdown":"*Never* do `catch(Exception e){}` - if an exception happens, you&#39;ll not know that it did and what went wrong. At the very least print the stack trace: `catch (Exception e) { e.printStackTrace(); }`","body":"<i>Never</i> do <code>catch(Exception e){}</code> - if an exception happens, you&#39;ll not know that it did and what went wrong. At the very least print the stack trace: <code>catch (Exception e) { e.printStackTrace(); }</code>"},{"owner":{"account_id":362579,"reputation":487,"user_id":705842,"accept_rate":43,"display_name":"dbyuvaraj"},"score":0,"creation_date":1368696696,"post_id":4724299,"comment_id":23832358,"body_markdown":"Having the same issue but not fixed yet.. i am using Mysql Workbench 5.2 and Java 7. Kindly help me to fix this","body":"Having the same issue but not fixed yet.. i am using Mysql Workbench 5.2 and Java 7. Kindly help me to fix this"}],"answers":[{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295355835,"creation_date":1295355835,"answer_id":4724358,"question_id":4724299,"body_markdown":"Are you using **Oracle**? I have had similar situations, if the environment variables regarding character sets weren&#39;t defined correctly. \r\n\r\nBy default, an Oracle connection is ASCII (7-bit characters, A-Z, a-z, numbers, punctuation, ...). If you use any character outside of that (e.g. European accents, Chinese characters, ..) then you need to use something other than ASCII. UTF-8 is best. If you don&#39;t, your characters will get replaced by &quot;?&quot;.\r\n\r\nYou&#39;d need to get your sysadmin to set this up for you. Alternatively take a look here:\r\n\r\nhttp://arjudba.blogspot.com/2009/02/what-is-nlslang-environmental-variable.html","title":"Java PreparedStatement setString changes characters","body":"<p>Are you using <strong>Oracle</strong>? I have had similar situations, if the environment variables regarding character sets weren't defined correctly. </p>\n\n<p>By default, an Oracle connection is ASCII (7-bit characters, A-Z, a-z, numbers, punctuation, ...). If you use any character outside of that (e.g. European accents, Chinese characters, ..) then you need to use something other than ASCII. UTF-8 is best. If you don't, your characters will get replaced by \"?\".</p>\n\n<p>You'd need to get your sysadmin to set this up for you. Alternatively take a look here:</p>\n\n<p><a href=\"http://arjudba.blogspot.com/2009/02/what-is-nlslang-environmental-variable.html\" rel=\"nofollow\">http://arjudba.blogspot.com/2009/02/what-is-nlslang-environmental-variable.html</a></p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1295355865,"creation_date":1295355865,"answer_id":4724363,"question_id":4724299,"body_markdown":"Sounds like a character encoding issue to me. Perhaps the driver is transcoding your strings into the appropriate encoding for the field/table/schema/database rather than letting the server do it? If you are trying to store a character which has no representation in the encoding of the field/table/schema/database, that would explain the &#39;?&#39; characters.","title":"Java PreparedStatement setString changes characters","body":"<p>Sounds like a character encoding issue to me. Perhaps the driver is transcoding your strings into the appropriate encoding for the field/table/schema/database rather than letting the server do it? If you are trying to store a character which has no representation in the encoding of the field/table/schema/database, that would explain the '?' characters.</p>\n"},{"tags":[],"owner":{"account_id":108862,"reputation":51242,"user_id":288773,"display_name":"oezi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295356234,"creation_date":1295355869,"answer_id":4724364,"question_id":4724299,"body_markdown":"this normally happens by [using different charsets][1] in different locations. sound like you&#39;re getting your input as UTF-8, converting it to another chatset (maybe your database is set to something else) which breaks the special character.\r\n\r\nto fix this: use the same charset _everywhere_*. (i would recommend using UTF-8)\r\n\r\n*take a look at [this][2] or [my answer to another thread][3] (that&#39;s about a problem in php, but in java it&#39;s almost the same)\r\n\r\n\r\n  [1]: http://joelonsoftware.com/articles/Unicode.html\r\n  [2]: https://stackoverflow.com/questions/279170/utf-8-all-the-way-through\r\n  [3]: https://stackoverflow.com/questions/4277365/charset-encoding-problem/4277410#4277410","title":"Java PreparedStatement setString changes characters","body":"<p>this normally happens by <a href=\"http://joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">using different charsets</a> in different locations. sound like you're getting your input as UTF-8, converting it to another chatset (maybe your database is set to something else) which breaks the special character.</p>\n\n<p>to fix this: use the same charset <em>everywhere</em>*. (i would recommend using UTF-8)</p>\n\n<p>*take a look at <a href=\"https://stackoverflow.com/questions/279170/utf-8-all-the-way-through\">this</a> or <a href=\"https://stackoverflow.com/questions/4277365/charset-encoding-problem/4277410#4277410\">my answer to another thread</a> (that's about a problem in php, but in java it's almost the same)</p>\n"},{"tags":[],"owner":{"account_id":14105427,"reputation":1,"user_id":10189625,"display_name":"Sergio Soto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677826685,"creation_date":1677548624,"answer_id":75587174,"question_id":4724299,"body_markdown":"I do this :\r\n\r\n    PreparedStatement ps = null;\r\n    List varBind       = new ArrayList();\r\n    String strSQL =&quot;INSERT INTO table..... &quot;;\r\n    varBind.add(claveEPO); //1\r\n    varBind.add(cg_num_distribuidor); //2\r\n    varBind.add(numero_docto); //3\r\n\r\n    // it&#39;s importan to do this\r\n    byte ptextRazon[] = cgRazonSocialEpo.getBytes(&quot;ISO-8859-1&quot;);\r\n    String razonSocial = new String(ptextRazon, &quot;UTF-8&quot;);\r\n    varBind.add(razonSocial);//26\r\n\r\n    ps = con.queryPrecompilado(strSQL.toString(), varBind);\r\n    ps.executeUpdate();\r\n    ps.close();","title":"Java PreparedStatement setString changes characters","body":"<p>I do this :</p>\n<pre><code>PreparedStatement ps = null;\nList varBind       = new ArrayList();\nString strSQL =&quot;INSERT INTO table..... &quot;;\nvarBind.add(claveEPO); //1\nvarBind.add(cg_num_distribuidor); //2\nvarBind.add(numero_docto); //3\n\n// it's importan to do this\nbyte ptextRazon[] = cgRazonSocialEpo.getBytes(&quot;ISO-8859-1&quot;);\nString razonSocial = new String(ptextRazon, &quot;UTF-8&quot;);\nvarBind.add(razonSocial);//26\n\nps = con.queryPrecompilado(strSQL.toString(), varBind);\nps.executeUpdate();\nps.close();\n</code></pre>\n"}],"owner":{"account_id":183740,"reputation":1026,"user_id":419308,"accept_rate":70,"display_name":"Seraphis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7008,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4724363,"answer_count":4,"score":3,"last_activity_date":1677826685,"creation_date":1295355395,"question_id":4724299,"body_markdown":"As in title: to be sure, I was debugging my application, and so in line, where I put strings into PreparedStatement variable, special characters are changing to &quot;?&quot;. I actually don&#39;t know where to search for things that should repair it, so I don&#39;t know if code is required.. Anyway, I&#39;ll put some here:\r\n\r\n    PreparedStatement stm = null;\r\n    String sql = &quot;&quot;;\r\n    \r\n        try{\r\n          sql = &quot;INSERT INTO methods (name, description) VALUES (?, ?)&quot;;\r\n          stm = connection.prepareStatement(sql);\r\n          stm.setString(1, method.getName());\r\n          stm.setString(2, method.getDescription());\r\n          //...\r\n        }catch(Exception e){}\r\n\r\nwhile debugging &#39;name&#39; field was correct in method object, but after adding it into stm variable, it changed it&#39;s characters to &#39;?&#39;.\r\n\r\nI have found one topic about the similar sitoatuin on SO, but there wasn&#39;t any answer that could help me since I exactely know that there is something not right in adding string to statement, not in database. But I don&#39;t know what..\r\n\r\nAny sugestions?\r\n\r\nPS. I&#39;m using netbeans 6.7.1 version\r\n\r\nEDIT: I was debugging with standard netbeans debugger, and was checking state of variables before adding strings to &#39;stm&#39; variable. I was even changing getName() method to static string with special characters. So for sure everything is ok with Method class.\r\n\r\nEDIT2: I&#39;ve made one more test. Checked stm variable and one of it&#39;s properties is &quot;charEncoding&quot; which is set to &quot;cp1252&quot;. So the main question is.. how to change that?","title":"Java PreparedStatement setString changes characters","body":"<p>As in title: to be sure, I was debugging my application, and so in line, where I put strings into PreparedStatement variable, special characters are changing to \"?\". I actually don't know where to search for things that should repair it, so I don't know if code is required.. Anyway, I'll put some here:</p>\n\n<pre><code>PreparedStatement stm = null;\nString sql = \"\";\n\n    try{\n      sql = \"INSERT INTO methods (name, description) VALUES (?, ?)\";\n      stm = connection.prepareStatement(sql);\n      stm.setString(1, method.getName());\n      stm.setString(2, method.getDescription());\n      //...\n    }catch(Exception e){}\n</code></pre>\n\n<p>while debugging 'name' field was correct in method object, but after adding it into stm variable, it changed it's characters to '?'.</p>\n\n<p>I have found one topic about the similar sitoatuin on SO, but there wasn't any answer that could help me since I exactely know that there is something not right in adding string to statement, not in database. But I don't know what..</p>\n\n<p>Any sugestions?</p>\n\n<p>PS. I'm using netbeans 6.7.1 version</p>\n\n<p>EDIT: I was debugging with standard netbeans debugger, and was checking state of variables before adding strings to 'stm' variable. I was even changing getName() method to static string with special characters. So for sure everything is ok with Method class.</p>\n\n<p>EDIT2: I've made one more test. Checked stm variable and one of it's properties is \"charEncoding\" which is set to \"cp1252\". So the main question is.. how to change that?</p>\n"},{"tags":["java","mysql","jdbc","ssh-tunnel","spot-instances"],"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677826659,"creation_date":1677826659,"question_id":75624021,"body_markdown":"\r\nWe are using aws spot instance for dev code testing and as I am new to this environment dont have all understanding yet.\r\n\r\nI am able to connect to the mysql using terminal by following below steps\r\n\r\n    ssh -i ~/.ssh/id_rsa.pub ec2-user_name@{NAT IP Address}\r\n    ssh {private ip address}\r\n    mysql -u{mysql_suername} -p{mysql_pwd} -hdb{IP Address}\r\n\r\nNow I need to try some db changes to improve mysql select query performance so for that I am trying to connect and access Mysql from AWS ec2 spot instance using java code.\r\n\r\nI am using following command to create tunnel\r\n\r\n    ssh -L [listening port]:[REMOTE_MYSQL_HOST]:[REMOTE_MYSQL_PORT] [SSH_USER]@[SSH_HOST]\r\n\r\nand following is simple java code to access after connecting to tunnel \r\n     Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  \r\n        Connection conn = DriverManager.getConnection(  &quot;jdbc:mysql://privateIPAddress:3307/dbname&quot;,&quot;username&quot;,&quot;pwd&quot;); \r\n        Statement stmt= conn.createStatement();    \r\n\r\n#But I am getting below error\r\n\r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456)\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \t... 22 more\r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)\r\n\r\n\r\nI can see there are solution to update my.cnf file for bind-address etc but I dont have permission to update the same file.","title":"Not able to Access MySql server using java code that is setup on Aws Spot instance","body":"<p>We are using aws spot instance for dev code testing and as I am new to this environment dont have all understanding yet.</p>\n<p>I am able to connect to the mysql using terminal by following below steps</p>\n<pre><code>ssh -i ~/.ssh/id_rsa.pub ec2-user_name@{NAT IP Address}\nssh {private ip address}\nmysql -u{mysql_suername} -p{mysql_pwd} -hdb{IP Address}\n</code></pre>\n<p>Now I need to try some db changes to improve mysql select query performance so for that I am trying to connect and access Mysql from AWS ec2 spot instance using java code.</p>\n<p>I am using following command to create tunnel</p>\n<pre><code>ssh -L [listening port]:[REMOTE_MYSQL_HOST]:[REMOTE_MYSQL_PORT] [SSH_USER]@[SSH_HOST]\n</code></pre>\n<p>and following is simple java code to access after connecting to tunnel\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);<br />\nConnection conn = DriverManager.getConnection(  &quot;jdbc:mysql://privateIPAddress:3307/dbname&quot;,&quot;username&quot;,&quot;pwd&quot;);\nStatement stmt= conn.createStatement();</p>\n<p>#But I am getting below error</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    ... 22 more\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)\n</code></pre>\n<p>I can see there are solution to update my.cnf file for bind-address etc but I dont have permission to update the same file.</p>\n"},{"tags":["java","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1674117214,"post_id":75168267,"comment_id":132647340,"body_markdown":"What have you done to try and debug this before asking? Have you printed the disconnect reason in the callback? Have you looked at the broker logs?","body":"What have you done to try and debug this before asking? Have you printed the disconnect reason in the callback? Have you looked at the broker logs?"},{"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"score":1,"creation_date":1674117267,"post_id":75168267,"comment_id":132647356,"body_markdown":"Could be because of a default keep-alive being to high compare to what the broker expect?","body":"Could be because of a default keep-alive being to high compare to what the broker expect?"}],"answers":[{"tags":[],"owner":{"account_id":11766158,"reputation":82,"user_id":8610695,"display_name":"PRAVEEN PS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677826652,"creation_date":1677826652,"answer_id":75624020,"question_id":75168267,"body_markdown":"Hope, we can shine some light over this discussion.\r\n\r\nThere are a few points which we need to take into account.\r\n\r\nWhat is setAutoReconnect(true)\r\nWhat is KeepAlive time for an MQTT connection\r\n\r\nAs per eclipse.org\r\n\r\n&gt; public void setAutomaticReconnect(boolean automaticReconnect)\r\n\r\n&gt;Sets whether the client will automatically attempt to reconnect to the server if the connection is lost.\r\nIf set to false, the client will not attempt to automatically reconnect to the server in the event that the connection is lost.\r\nIf set to true, in the event that the connection is lost, the client will attempt to reconnect to the server. It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay will double until it is at 2 minutes at which point the delay will stay at 2 minutes.\r\n\r\n\r\nFrom MQTT v3.1.1 documentation from OASIS, Keepalive value is used as a pointer to let the client to check for connection. If the connection is invalid, client can take decision whether to reconnect or not based on the autoreconnect method.\r\n\r\nBy default, if Keepalive value is not given, default value of 60 seconds will be considered.\r\n\r\nKeepalive behaviour is as given herewith.\r\n\r\n&gt; If the Keep Alive value is non-zero and the Server does not receive a Control Packet from the Client within one and a half times the Keep Alive time period, it MUST disconnect the Network Connection to the Client as if the network had failed [MQTT-3.1.2-24].\r\n&gt;\r\n\r\nSo in your case, may be there is a connection disruption happening from the client side or from Server side due to a tcp connection time out.\r\n\r\nHope I was able to shed some light and help you understand this process","title":"Paho MQTT Library for Java lost connection every 5 minutes","body":"<p>Hope, we can shine some light over this discussion.</p>\n<p>There are a few points which we need to take into account.</p>\n<p>What is setAutoReconnect(true)\nWhat is KeepAlive time for an MQTT connection</p>\n<p>As per eclipse.org</p>\n<blockquote>\n<p>public void setAutomaticReconnect(boolean automaticReconnect)</p>\n</blockquote>\n<blockquote>\n<p>Sets whether the client will automatically attempt to reconnect to the server if the connection is lost.\nIf set to false, the client will not attempt to automatically reconnect to the server in the event that the connection is lost.\nIf set to true, in the event that the connection is lost, the client will attempt to reconnect to the server. It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay will double until it is at 2 minutes at which point the delay will stay at 2 minutes.</p>\n</blockquote>\n<p>From MQTT v3.1.1 documentation from OASIS, Keepalive value is used as a pointer to let the client to check for connection. If the connection is invalid, client can take decision whether to reconnect or not based on the autoreconnect method.</p>\n<p>By default, if Keepalive value is not given, default value of 60 seconds will be considered.</p>\n<p>Keepalive behaviour is as given herewith.</p>\n<blockquote>\n<p>If the Keep Alive value is non-zero and the Server does not receive a Control Packet from the Client within one and a half times the Keep Alive time period, it MUST disconnect the Network Connection to the Client as if the network had failed [MQTT-3.1.2-24].</p>\n</blockquote>\n<p>So in your case, may be there is a connection disruption happening from the client side or from Server side due to a tcp connection time out.</p>\n<p>Hope I was able to shed some light and help you understand this process</p>\n"}],"owner":{"account_id":5545439,"reputation":1183,"user_id":4400372,"accept_rate":80,"display_name":"I love coding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75624020,"answer_count":1,"score":0,"last_activity_date":1677826652,"creation_date":1674107990,"question_id":75168267,"body_markdown":"I&#39;m using the MQTT Java library by Paho to detect the status of some devices. I&#39;m facing a weird problem, because every 5 minutes I got a Connection lost error. BTW, with the usage of the reconnect method it works well, but why I got this strange fact? I&#39;m using these lines of code within a Java EE in @Singleton component, which starts at boot.\r\n\r\n```java\r\nString id = MqttAsyncClient.generateClientId();\r\nSystem.out.println(&quot;Mqtt &quot; + id + &quot; &quot; + uuid + &quot; &quot; + topics);\r\nMqttClient client = new MqttClient(mqttSettings.generateURI(), id, new MemoryPersistence());\r\nMqttConnectOptions connOpts = new MqttConnectOptions();\r\nconnOpts.setCleanSession(true);\r\nconnOpts.setAutomaticReconnect(true);\r\nconnOpts.setUserName(mqttSettings.getUsername());\r\nconnOpts.setPassword(mqttSettings.getPassword().toCharArray());\r\nif (statement) {\r\n\tsetStatement(uuid, connOpts);\r\n}\r\nclient.setCallback(callback);\r\nclient.connect(connOpts);\r\nSystem.out.println(&quot;Connected? &quot;+client.isConnected());\r\nclient.subscribe(topics);\r\nif (statement) {\r\n\ttry {\r\n\t\tSystem.out.println(&quot;Publishing installation status online...&quot;);\r\n\t\tpublishOnline(client);\r\n\t} catch (MqttException e) {\r\n\t\tSystem.out.println(&quot;MQTT local&quot;);\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\nreturn client;\r\n```","title":"Paho MQTT Library for Java lost connection every 5 minutes","body":"<p>I'm using the MQTT Java library by Paho to detect the status of some devices. I'm facing a weird problem, because every 5 minutes I got a Connection lost error. BTW, with the usage of the reconnect method it works well, but why I got this strange fact? I'm using these lines of code within a Java EE in @Singleton component, which starts at boot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String id = MqttAsyncClient.generateClientId();\nSystem.out.println(&quot;Mqtt &quot; + id + &quot; &quot; + uuid + &quot; &quot; + topics);\nMqttClient client = new MqttClient(mqttSettings.generateURI(), id, new MemoryPersistence());\nMqttConnectOptions connOpts = new MqttConnectOptions();\nconnOpts.setCleanSession(true);\nconnOpts.setAutomaticReconnect(true);\nconnOpts.setUserName(mqttSettings.getUsername());\nconnOpts.setPassword(mqttSettings.getPassword().toCharArray());\nif (statement) {\n    setStatement(uuid, connOpts);\n}\nclient.setCallback(callback);\nclient.connect(connOpts);\nSystem.out.println(&quot;Connected? &quot;+client.isConnected());\nclient.subscribe(topics);\nif (statement) {\n    try {\n        System.out.println(&quot;Publishing installation status online...&quot;);\n        publishOnline(client);\n    } catch (MqttException e) {\n        System.out.println(&quot;MQTT local&quot;);\n        e.printStackTrace();\n    }\n}\nreturn client;\n</code></pre>\n"},{"tags":["java","azure-active-directory"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677156051,"post_id":75544894,"comment_id":133284282,"body_markdown":"Version 4 is old and won&#39;t work with Spring Boot 3 I suspect (as it requires earlier versions of both Spring Boot and Spring Secuirty). You probably need the 5.0.0 version of the azure starter, which should work with Spring Security 6 (judging from the dependencies).","body":"Version 4 is old and won&#39;t work with Spring Boot 3 I suspect (as it requires earlier versions of both Spring Boot and Spring Secuirty). You probably need the 5.0.0 version of the azure starter, which should work with Spring Security 6 (judging from the dependencies)."},{"owner":{"account_id":5589770,"reputation":13,"user_id":4429349,"display_name":"meiksner"},"score":0,"creation_date":1677156978,"post_id":75544894,"comment_id":133284563,"body_markdown":"com.azure.spring:azure-spring-boot-starter-active-directory:4.0.0 is the latest version. is there a another artifact or group ?","body":"com.azure.spring:azure-spring-boot-starter-active-directory:&zwnj;&#8203;4.0.0 is the latest version. is there a another artifact or group ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677157253,"post_id":75544894,"comment_id":133284653,"body_markdown":"That is the old artifact it has been relocated. See [this location](https://search.maven.org/artifact/com.azure.spring/spring-cloud-azure-starter-active-directory/5.0.0/jar). You also need to upgrade Spring Cloud if you have an explicit dependency on that else you run with incompatible versions as Spring Cloud is tied to certain Spring Boot versions!.","body":"That is the old artifact it has been relocated. See <a href=\"https://search.maven.org/artifact/com.azure.spring/spring-cloud-azure-starter-active-directory/5.0.0/jar\" rel=\"nofollow noreferrer\">this location</a>. You also need to upgrade Spring Cloud if you have an explicit dependency on that else you run with incompatible versions as Spring Cloud is tied to certain Spring Boot versions!."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677161460,"post_id":75544894,"comment_id":133286042,"body_markdown":"What is this spring application : a Gateway (configured with TokenRelay) or a REST API? Is your Angular app &#224;n OAuth2 public client (exchanges tokens) or is it secured with just sessions on a BFF?","body":"What is this spring application : a Gateway (configured with TokenRelay) or a REST API? Is your Angular app &#224;n OAuth2 public client (exchanges tokens) or is it secured with just sessions on a BFF?"},{"owner":{"account_id":5589770,"reputation":13,"user_id":4429349,"display_name":"meiksner"},"score":0,"creation_date":1677227946,"post_id":75544894,"comment_id":133300015,"body_markdown":"Frontend is Angular open client with pkce, backend is rest-api","body":"Frontend is Angular open client with pkce, backend is rest-api"}],"answers":[{"tags":[],"owner":{"account_id":10775930,"reputation":36,"user_id":7927971,"display_name":"G. Scimeca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677826584,"creation_date":1677826584,"answer_id":75624011,"question_id":75544894,"body_markdown":"Spring Boot 3 is compatible with [Spring Cloud Azure Starter Active Directory 5.0.0][1]\r\n\r\nYou can refer to [this][2] documentation\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.azure.spring/spring-cloud-azure-starter-active-directory\r\n  [2]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide?tabs=SpringCloudAzure5x","title":"Spring Boot 3 Azure AD","body":"<p>Spring Boot 3 is compatible with <a href=\"https://mvnrepository.com/artifact/com.azure.spring/spring-cloud-azure-starter-active-directory\" rel=\"nofollow noreferrer\">Spring Cloud Azure Starter Active Directory 5.0.0</a></p>\n<p>You can refer to <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide?tabs=SpringCloudAzure5x\" rel=\"nofollow noreferrer\">this</a> documentation</p>\n"}],"owner":{"account_id":5589770,"reputation":13,"user_id":4429349,"display_name":"meiksner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75624011,"answer_count":1,"score":0,"last_activity_date":1677826584,"creation_date":1677155599,"question_id":75544894,"body_markdown":"i&#39;ve updated my Project to Spring Boot 3 and now im confused how to &quot;activate&quot; Azure AD.\r\nIn Spring Boot 2 i&#39;ve extended with AADResourceServerWebSecurityConfigurerAdapter and nothing else to do, but since the latest spring security version inheritence is not more possible and @Bean Configuration is now the thing.\r\nI&#39;m new to spring boot and found nothing that helped me, tried to find any tutorial but everything i&#39;ve found still uses the old approach.\r\nI have an Angular GUI with PKCE and this app tries to talk with a Spring Boot Backend.\r\nIn Spring Boot 2 all works fine.\r\n\r\nThanks for every hint or help\r\n\r\nUsed Dependencies:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n\r\n ","title":"Spring Boot 3 Azure AD","body":"<p>i've updated my Project to Spring Boot 3 and now im confused how to &quot;activate&quot; Azure AD.\nIn Spring Boot 2 i've extended with AADResourceServerWebSecurityConfigurerAdapter and nothing else to do, but since the latest spring security version inheritence is not more possible and @Bean Configuration is now the thing.\nI'm new to spring boot and found nothing that helped me, tried to find any tutorial but everything i've found still uses the old approach.\nI have an Angular GUI with PKCE and this app tries to talk with a Spring Boot Backend.\nIn Spring Boot 2 all works fine.</p>\n<p>Thanks for every hint or help</p>\n<p>Used Dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt; \n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio","token"],"comments":[{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":1,"creation_date":1677827286,"post_id":75623885,"comment_id":133417624,"body_markdown":"The Message class is inside the Firebase admin sdk but you cannot use that in your android project, you can only use firebase admin sdk in the server side and then you will be able to use the Message class.","body":"The Message class is inside the Firebase admin sdk but you cannot use that in your android project, you can only use firebase admin sdk in the server side and then you will be able to use the Message class."},{"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1677829542,"post_id":75623885,"comment_id":133418112,"body_markdown":"Create a topic, let each user subscribe to that topic.. and then post the notification to that specific topic. Firebase DocLink [https://firebase.google.com/docs/cloud-messaging/android/topic-messaging]","body":"Create a topic, let each user subscribe to that topic.. and then post the notification to that specific topic. Firebase DocLink [<a href=\"https://firebase.google.com/docs/cloud-messaging/android/topic-messaging]\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cloud-messaging/android/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678090303,"post_id":75623885,"comment_id":133458980,"body_markdown":"Since you&#39;re using Java, I think that this [resource](https://www.youtube.com/watch?v=6RzB4HXzQyA) will help.","body":"Since you&#39;re using Java, I think that this <a href=\"https://www.youtube.com/watch?v=6RzB4HXzQyA\" rel=\"nofollow noreferrer\">resource</a> will help."}],"owner":{"account_id":18835665,"reputation":1,"user_id":13738388,"display_name":"Rahitul Islam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677826566,"creation_date":1677825488,"question_id":75623885,"body_markdown":"Want to send Notification to multiple devices token which are stored in firebase realtime database\r\n[Here is my realtime database structure](https://i.stack.imgur.com/SSnmZ.png)\r\n\r\nI did a code \r\n```\r\nFirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference tokensRef = database.getReference(&quot;users&quot;).child(&quot;token&quot;);\r\n\r\n// Query for all tokens\r\ntokensRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        List&lt;String&gt; tokensList = new ArrayList&lt;&gt;();\r\n        for (DataSnapshot childSnapshot : snapshot.getChildren()) {\r\n            String token = childSnapshot.getValue(String.class);\r\n            tokensList.add(token);\r\n        }\r\n        \r\n        // Build notification data\r\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;title&quot;, &quot;Notification Title&quot;);\r\n        data.put(&quot;body&quot;, &quot;Notification Body&quot;);\r\n        \r\n        // Build and send notification to all tokens\r\n        FirebaseMessaging messaging = FirebaseMessaging.getInstance();\r\n        for (String token : tokensList) {\r\n            RemoteMessage message = new RemoteMessage.Builder(token)\r\n                    .setData(data)\r\n                    .build();\r\n            try {\r\n                messaging.send(message);\r\n            } catch (FirebaseMessagingException e) {\r\n                Log.e(&quot;TAG&quot;, &quot;Error sending message to &quot; + token, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        Log.e(&quot;TAG&quot;, &quot;Database error: &quot; + error.getMessage());\r\n    }\r\n});\r\n```\r\n","title":"Send Notification to multiple devices token","body":"<p>Want to send Notification to multiple devices token which are stored in firebase realtime database\n<a href=\"https://i.stack.imgur.com/SSnmZ.png\" rel=\"nofollow noreferrer\">Here is my realtime database structure</a></p>\n<p>I did a code</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference tokensRef = database.getReference(&quot;users&quot;).child(&quot;token&quot;);\n\n// Query for all tokens\ntokensRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        List&lt;String&gt; tokensList = new ArrayList&lt;&gt;();\n        for (DataSnapshot childSnapshot : snapshot.getChildren()) {\n            String token = childSnapshot.getValue(String.class);\n            tokensList.add(token);\n        }\n        \n        // Build notification data\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;title&quot;, &quot;Notification Title&quot;);\n        data.put(&quot;body&quot;, &quot;Notification Body&quot;);\n        \n        // Build and send notification to all tokens\n        FirebaseMessaging messaging = FirebaseMessaging.getInstance();\n        for (String token : tokensList) {\n            RemoteMessage message = new RemoteMessage.Builder(token)\n                    .setData(data)\n                    .build();\n            try {\n                messaging.send(message);\n            } catch (FirebaseMessagingException e) {\n                Log.e(&quot;TAG&quot;, &quot;Error sending message to &quot; + token, e);\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Log.e(&quot;TAG&quot;, &quot;Database error: &quot; + error.getMessage());\n    }\n});\n</code></pre>\n"},{"tags":["java","spring-boot","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677826512,"creation_date":1672926690,"answer_id":75019470,"question_id":75003696,"body_markdown":"Try preventing JSch from using `rsa-sha2-512`:\r\n```\r\nconfig.put(&quot;PubkeyAcceptedAlgorithms&quot;, &quot;ssh-rsa&quot;);\r\n```\r\n\r\nAnd to make it use `ssh-dss` hostkey:\r\n```\r\nconfig.put(&quot;server_host_key&quot;, &quot;ssh-dss&quot;);\r\n```\r\n\r\n---\r\n\r\nSee also https://stackoverflow.com/q/73135640/850848.\r\n\r\n---\r\n\r\n*Obligatory warning: Do not use `StrictHostKeyChecking=no` to blindly accept all host keys. That is a security flaw. You lose a protection against [MITM attacks](https://en.wikipedia.org/wiki/Man-in-the-middle_attack). For the correct (and secure) approach, see: https://stackoverflow.com/q/32852906/850848*","title":"Auth fail with JSch against libssh server with &quot;rsa-sha2-512&quot;","body":"<p>Try preventing JSch from using <code>rsa-sha2-512</code>:</p>\n<pre><code>config.put(&quot;PubkeyAcceptedAlgorithms&quot;, &quot;ssh-rsa&quot;);\n</code></pre>\n<p>And to make it use <code>ssh-dss</code> hostkey:</p>\n<pre><code>config.put(&quot;server_host_key&quot;, &quot;ssh-dss&quot;);\n</code></pre>\n<hr />\n<p>See also <a href=\"https://stackoverflow.com/q/73135640/850848\">JSchException: Auth fail on Ubuntu 22.04</a>.</p>\n<hr />\n<p><em>Obligatory warning: Do not use <code>StrictHostKeyChecking=no</code> to blindly accept all host keys. That is a security flaw. You lose a protection against <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">MITM attacks</a>. For the correct (and secure) approach, see: <a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></em></p>\n"}],"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75019470,"answer_count":1,"score":1,"last_activity_date":1677826512,"creation_date":1672825966,"question_id":75003696,"body_markdown":"I&#39;m running MacOs, Springboot 2.6.7 and mwiede:jsch:0.2.5 (according to a &#39;.gradlew dependencies&#39; command) and I&#39;m trying to connect to an old customer SFTP server. \r\n\r\nI have generated an SSH key pair and the public key have been installed on the server.\r\n\r\nTo verify that the keys worked I can run following shell command: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    sftp -v -oHostKeyAlgorithms=ssh-dss -i &lt;Full path to key file&gt; &lt;ssh username&gt;@&lt;ip address&gt;\r\n\r\nWhich gives the following log: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\t.ssh % sftp -vvv  -oHostKeyAlgorithms=ssh-dss -i /Users/XXX/.ssh/id_rsa &lt;username&gt;@&lt;IP&gt;\r\n\tOpenSSH_8.6p1, LibreSSL 3.3.6\r\n\tdebug1: Reading configuration data /etc/ssh/ssh_config\r\n\tdebug1: /etc/ssh/ssh_config line 21: include /etc/ssh/ssh_config.d/* matched no files\r\n\tdebug1: /etc/ssh/ssh_config line 54: Applying options for *\r\n\tdebug2: resolve_canonicalize: hostname &lt;IP&gt; is address\r\n\tdebug3: expanded UserKnownHostsFile &#39;~/.ssh/known_hosts&#39; -&gt; &#39;/Users/&lt;XXX&gt;/.ssh/known_hosts&#39;\r\n\tdebug3: expanded UserKnownHostsFile &#39;~/.ssh/known_hosts2&#39; -&gt; &#39;/Users/&lt;XXX&gt;/.ssh/known_hosts2&#39;\r\n\tdebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\n\tdebug3: ssh_connect_direct: entering\r\n\tdebug1: Connecting to &lt;IP&gt; [&lt;IP&gt;] port 22.\r\n\tdebug3: set_sock_tos: set socket 3 IP_TOS 0x48\r\n\tdebug1: Connection established.\r\n\tdebug1: identity file /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test type 0\r\n\tdebug1: identity file /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test-cert type -1\r\n\tdebug1: Local version string SSH-2.0-OpenSSH_8.6\r\n\tdebug1: Remote protocol version 2.0, remote software version 9.99 sshlib\r\n\tdebug1: compat_banner: no match: 9.99 sshlib\r\n\tdebug2: fd 3 setting O_NONBLOCK\r\n\tdebug1: Authenticating to &lt;IP&gt;:22 as &#39;&lt;username&gt;&#39;\r\n\tdebug3: send packet: type 20\r\n\tdebug1: SSH2_MSG_KEXINIT sent\r\n\tdebug3: receive packet: type 20\r\n\tdebug1: SSH2_MSG_KEXINIT received\r\n\tdebug2: local client KEXINIT proposal\r\n\tdebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\r\n\tdebug2: host key algorithms: ssh-dss\r\n\tdebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n\tdebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n\tdebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n\tdebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n\tdebug2: compression ctos: none,zlib@openssh.com,zlib\r\n\tdebug2: compression stoc: none,zlib@openssh.com,zlib\r\n\tdebug2: languages ctos:\r\n\tdebug2: languages stoc:\r\n\tdebug2: first_kex_follows 0\r\n\tdebug2: reserved 0\r\n\tdebug2: peer server KEXINIT proposal\r\n\tdebug2: KEX algorithms: diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n\tdebug2: host key algorithms: ssh-dss\r\n\tdebug2: ciphers ctos: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\r\n\tdebug2: ciphers stoc: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\r\n\tdebug2: MACs ctos: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\r\n\tdebug2: MACs stoc: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\r\n\tdebug2: compression ctos: zlib,none\r\n\tdebug2: compression stoc: zlib,none\r\n\tdebug2: languages ctos:\r\n\tdebug2: languages stoc:\r\n\tdebug2: first_kex_follows 0\r\n\tdebug2: reserved 0\r\n\tdebug1: kex: algorithm: diffie-hellman-group-exchange-sha256\r\n\tdebug1: kex: host key algorithm: ssh-dss\r\n\tdebug1: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\n\tdebug1: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\n\tdebug3: send packet: type 34\r\n\tdebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(2048&lt;8192&lt;8192) sent\r\n\tdebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\r\n\tdebug3: receive packet: type 31\r\n\tdebug1: SSH2_MSG_KEX_DH_GEX_GROUP received\r\n\tdebug2: bits set: 1070/2048\r\n\tdebug3: send packet: type 32\r\n\tdebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\r\n\tdebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\r\n\tdebug3: receive packet: type 33\r\n\tdebug1: SSH2_MSG_KEX_DH_GEX_REPLY received\r\n\tdebug1: Server host key: ssh-dss SHA256:/BtDJ1DxsTK3GWkcwAc7bJL/DwnCwjLnJt9/qgvqKEg\r\n\tdebug3: record_hostkey: found key type DSA in file /Users/&lt;XXX&gt;/.ssh/known_hosts:24\r\n\tdebug3: load_hostkeys_file: loaded 1 keys from &lt;IP&gt;\r\n\tdebug1: load_hostkeys: fopen /Users/&lt;XXX&gt;/.ssh/known_hosts2: No such file or directory\r\n\tdebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory\r\n\tdebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory\r\n\tdebug1: Host &#39;&lt;IP&gt;&#39; is known and matches the DSA host key.\r\n\tdebug1: Found key in /Users/&lt;XXX&gt;/.ssh/known_hosts:24\r\n\tdebug2: bits set: 1020/2048\r\n\tdebug3: send packet: type 21\r\n\tdebug2: set_newkeys: mode 1\r\n\tdebug1: rekey out after 4294967296 blocks\r\n\tdebug1: SSH2_MSG_NEWKEYS sent\r\n\tdebug1: expecting SSH2_MSG_NEWKEYS\r\n\tdebug3: receive packet: type 21\r\n\tdebug1: SSH2_MSG_NEWKEYS received\r\n\tdebug2: set_newkeys: mode 0\r\n\tdebug1: rekey in after 4294967296 blocks\r\n\tdebug1: Will attempt key: /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw explicit\r\n\tdebug2: pubkey_prepare: done\r\n\tdebug3: send packet: type 5\r\n\tdebug3: receive packet: type 6\r\n\tdebug2: service_accept: ssh-userauth\r\n\tdebug1: SSH2_MSG_SERVICE_ACCEPT received\r\n\tdebug3: send packet: type 50\r\n\tdebug3: receive packet: type 51\r\n\tdebug1: Authentications that can continue: publickey,password\r\n\tdebug3: start over, passed a different list publickey,password\r\n\tdebug3: preferred publickey,keyboard-interactive,password\r\n\tdebug3: authmethod_lookup publickey\r\n\tdebug3: remaining preferred: keyboard-interactive,password\r\n\tdebug3: authmethod_is_enabled publickey\r\n\tdebug1: Next authentication method: publickey\r\n\tdebug1: Offering public key: /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw explicit\r\n\tdebug3: send packet: type 50\r\n\tdebug2: we sent a publickey packet, wait for reply\r\n\tdebug3: receive packet: type 60\r\n\tdebug1: Server accepts key: /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw explicit\r\n\tdebug3: sign_and_send_pubkey: RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw\r\n\tdebug3: sign_and_send_pubkey: signing using ssh-rsa SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw\r\n\tdebug3: send packet: type 50\r\n\tdebug3: receive packet: type 52\r\n\tdebug1: Authentication succeeded (publickey).\r\n\tAuthenticated to &lt;IP&gt; ([&lt;IP&gt;]:22).\r\n\tdebug2: fd 4 setting O_NONBLOCK\r\n\tdebug3: fd 5 is O_NONBLOCK\r\n\tdebug1: channel 0: new [client-session]\r\n\tdebug3: ssh_session2_open: channel_new: 0\r\n\tdebug2: channel 0: send open\r\n\tdebug3: send packet: type 90\r\n\tdebug1: Entering interactive session.\r\n\tdebug1: pledge: filesystem full\r\n\tdebug3: receive packet: type 91\r\n\tdebug2: channel_input_open_confirmation: channel 0: callback start\r\n\tdebug2: fd 3 setting TCP_NODELAY\r\n\tdebug3: set_sock_tos: set socket 3 IP_TOS 0x20\r\n\tdebug2: client_session2_setup: id 0\r\n\tdebug1: Sending environment.\r\n\tdebug3: Ignored env TERM_SESSION_ID\r\n\tdebug3: Ignored env SSH_AUTH_SOCK\r\n\tdebug1: channel 0: setting env LC_TERMINAL_VERSION = &quot;3.4.19&quot;\r\n\tdebug2: channel 0: request env confirm 0\r\n\tdebug3: send packet: type 98\r\n\tdebug3: Ignored env COLORFGBG\r\n\tdebug3: Ignored env ITERM_PROFILE\r\n\tdebug3: Ignored env XPC_FLAGS\r\n\tdebug3: Ignored env PWD\r\n\tdebug3: Ignored env SHELL\r\n\tdebug3: Ignored env __CFBundleIdentifier\r\n\tdebug3: Ignored env SECURITYSESSIONID\r\n\tdebug1: channel 0: setting env LC_CTYPE = &quot;UTF-8&quot;\r\n\tdebug2: channel 0: request env confirm 0\r\n\tdebug3: send packet: type 98\r\n\tdebug3: Ignored env TERM_PROGRAM_VERSION\r\n\tdebug3: Ignored env TERM_PROGRAM\r\n\tdebug3: Ignored env PATH\r\n\tdebug1: channel 0: setting env LC_TERMINAL = &quot;iTerm2&quot;\r\n\tdebug2: channel 0: request env confirm 0\r\n\tdebug3: send packet: type 98\r\n\tdebug3: Ignored env COLORTERM\r\n\tdebug3: Ignored env COMMAND_MODE\r\n\tdebug3: Ignored env TERM\r\n\tdebug3: Ignored env HOME\r\n\tdebug3: Ignored env TMPDIR\r\n\tdebug3: Ignored env USER\r\n\tdebug3: Ignored env XPC_SERVICE_NAME\r\n\tdebug3: Ignored env LOGNAME\r\n\tdebug3: Ignored env LaunchInstanceID\r\n\tdebug3: Ignored env ITERM_SESSION_ID\r\n\tdebug3: Ignored env __CF_USER_TEXT_ENCODING\r\n\tdebug3: Ignored env SHLVL\r\n\tdebug3: Ignored env OLDPWD\r\n\tdebug3: Ignored env JENV_SHELL\r\n\tdebug3: Ignored env JENV_LOADED\r\n\tdebug3: Ignored env _\r\n\tdebug1: Sending subsystem: sftp\r\n\tdebug2: channel 0: request subsystem confirm 1\r\n\tdebug3: send packet: type 98\r\n\tdebug2: channel_input_open_confirmation: channel 0: callback done\r\n\tdebug2: channel 0: open confirm rwindow 16384 rmax 35840\r\n\tdebug3: receive packet: type 99\r\n\tdebug2: channel_input_status_confirm: type 99 id 0\r\n\tdebug2: subsystem request accepted on channel 0\r\n\tdebug2: Remote version: 3\r\n\tConnected to &lt;IP&gt;.\r\n\tdebug3: Sent message fd 3 T:16 I:1\r\n\tdebug3: SSH_FXP_REALPATH . -&gt; /Home/&lt;username&gt; size 0\r\n\tsftp&gt;\r\n\r\nAnd I&#39;m connecting without problems and without password - I also tried FileZilla which works fine. \r\n\r\nBut when im trying to connect with my springboot application I&#39;m getting an error:\r\n \r\n&gt; JSchException: Auth fail for methods &#39;publickey,password&#39;\r\n\r\nI point to the key file with same full path as with shell.\r\n\r\nMy Java class code is very simple and straight forward: \r\n```\r\nJSch jsch = new JSch();\r\njsch.setKnownHosts(&quot;/Users/&lt;user&gt;/.ssh/known_hosts&quot;);\r\njsch.addIdentity(&quot;&lt;full path to key file&gt;&quot;);\r\nSession session = jsch.getSession(sshUserName, host, 22);\r\nsession.setTimeout(5000);\r\njava.util.Properties config = new java.util.Properties();\r\nconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\nconfig.put(&quot;server_host_key&quot;, &quot;ssh-dss&quot;);\r\nconfig.put(&quot;trust&quot;, &quot;yes&quot;);\r\nsession.setConfig(config);\r\nsession.connect();\r\n\r\nif (session.isConnected()) {\r\n    log.info(&quot;Connected to host [{}]&quot;, host);\r\n} else {\r\n    log.error(&quot;Unable to connect to host [{}]&quot;, host);\r\n    return;\r\n}\r\n\r\n//Setup transfer channel and upload file\r\nChannelSftp sftp = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n.... other code to list files and upload etc ....\r\n```\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    JSCHLogger           : Connecting to &lt;IP&gt; port 22\r\n    JSCHLogger           : Connection established\r\n    JSCHLogger           : Remote version string: SSH-2.0-9.99 sshlib\r\n    JSCHLogger           : Local version string: SSH-2.0-JSCH_0.2.5\r\n    JSCHLogger           : CheckCiphers: chacha20-poly1305@openssh.com\r\n    JSCHLogger           : CheckKexes: curve25519-sha256,curve25519-sha256@libssh.org,curve448-sha512\r\n    JSCHLogger           : CheckSignatures: ssh-ed25519,ssh-ed448\r\n    JSCHLogger           : server_host_key proposal before known_host reordering is: ssh-dss\r\n    JSCHLogger           : server_host_key proposal after known_host reordering is: ssh-dss\r\n    JSCHLogger           : SSH_MSG_KEXINIT sent\r\n    JSCHLogger           : SSH_MSG_KEXINIT received\r\n    JSCHLogger           : kex: server: diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n    JSCHLogger           : kex: server: ssh-dss\r\n    JSCHLogger           : kex: server: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\r\n    JSCHLogger           : kex: server: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\r\n    JSCHLogger           : kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\r\n    JSCHLogger           : kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\r\n    JSCHLogger           : kex: server: zlib,none\r\n    JSCHLogger           : kex: server: zlib,none\r\n    JSCHLogger           : kex: server:\r\n    JSCHLogger           : kex: server:\r\n    JSCHLogger           : kex: client: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\r\n    JSCHLogger           : kex: client: ssh-dss\r\n    JSCHLogger           : kex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n    JSCHLogger           : kex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n    JSCHLogger           : kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n    JSCHLogger           : kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n    JSCHLogger           : kex: client: none\r\n    JSCHLogger           : kex: client: none\r\n    JSCHLogger           : kex: client:\r\n    JSCHLogger           : kex: client:\r\n    JSCHLogger           : kex: algorithm: diffie-hellman-group-exchange-sha256\r\n    JSCHLogger           : kex: host key algorithm: ssh-dss\r\n    JSCHLogger           : kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\n    JSCHLogger           : kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\n    JSCHLogger           : SSH_MSG_KEX_DH_GEX_REQUEST(2048&lt;3072&lt;8192) sent\r\n    JSCHLogger           : expecting SSH_MSG_KEX_DH_GEX_GROUP\r\n    JSCHLogger           : SSH_MSG_KEX_DH_GEX_INIT sent\r\n    JSCHLogger           : expecting SSH_MSG_KEX_DH_GEX_REPLY\r\n    JSCHLogger           : ssh_dss_verify: signature true\r\n    JSCHLogger           : Host &#39;&lt;IP&gt;&#39; is known and matches the DSA host key\r\n    JSCHLogger           : SSH_MSG_NEWKEYS sent\r\n    JSCHLogger           : SSH_MSG_NEWKEYS received\r\n    JSCHLogger           : SSH_MSG_SERVICE_REQUEST sent\r\n    JSCHLogger           : SSH_MSG_SERVICE_ACCEPT received\r\n    JSCHLogger           : Authentications that can continue: publickey,keyboard-interactive,password\r\n    JSCHLogger           : Next authentication method: publickey\r\n    JSCHLogger           : PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\r\n    JSCHLogger           : No server-sig-algs found, using PubkeyAcceptedAlgorithms = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521, rsa-sha2-512, rsa-sha2-256]\r\n    JSCHLogger           : rsa-sha2-512 preauth success\r\n    JSCHLogger           : rsa-sha2-512 auth failure\r\n    JSCHLogger           : Authentications that can continue: password\r\n    JSCHLogger           : Next authentication method: password\r\n    JSCHLogger           : Disconnecting from &lt;IP&gt; port 22\r\n    JavaClass     : Unable to establish connection to host [&lt;IP&gt;] with cause [null] and message [Auth fail for methods &#39;publickey,password&#39;]\r\n    [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: java.io.IOException: com.jcraft.jsch.JSchException: Auth fail for methods &#39;publickey,password&#39;] with root cause\r\n\r\nI learned that I needed to set the `server_host_key` to `ssh-dss` both in the terminal and in the Java code. But in Java it only brings my a bit further. \r\n\r\nAny ideas would be highly appreciated\r\n","title":"Auth fail with JSch against libssh server with &quot;rsa-sha2-512&quot;","body":"<p>I'm running MacOs, Springboot 2.6.7 and mwiede:jsch:0.2.5 (according to a '.gradlew dependencies' command) and I'm trying to connect to an old customer SFTP server.</p>\n<p>I have generated an SSH key pair and the public key have been installed on the server.</p>\n<p>To verify that the keys worked I can run following shell command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sftp -v -oHostKeyAlgorithms=ssh-dss -i &lt;Full path to key file&gt; &lt;ssh username&gt;@&lt;ip address&gt;\n</code></pre>\n<p>Which gives the following log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>.ssh % sftp -vvv  -oHostKeyAlgorithms=ssh-dss -i /Users/XXX/.ssh/id_rsa &lt;username&gt;@&lt;IP&gt;\nOpenSSH_8.6p1, LibreSSL 3.3.6\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 21: include /etc/ssh/ssh_config.d/* matched no files\ndebug1: /etc/ssh/ssh_config line 54: Applying options for *\ndebug2: resolve_canonicalize: hostname &lt;IP&gt; is address\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -&gt; '/Users/&lt;XXX&gt;/.ssh/known_hosts'\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -&gt; '/Users/&lt;XXX&gt;/.ssh/known_hosts2'\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\ndebug3: ssh_connect_direct: entering\ndebug1: Connecting to &lt;IP&gt; [&lt;IP&gt;] port 22.\ndebug3: set_sock_tos: set socket 3 IP_TOS 0x48\ndebug1: Connection established.\ndebug1: identity file /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test type 0\ndebug1: identity file /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test-cert type -1\ndebug1: Local version string SSH-2.0-OpenSSH_8.6\ndebug1: Remote protocol version 2.0, remote software version 9.99 sshlib\ndebug1: compat_banner: no match: 9.99 sshlib\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: Authenticating to &lt;IP&gt;:22 as '&lt;username&gt;'\ndebug3: send packet: type 20\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: receive packet: type 20\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: local client KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\ndebug2: host key algorithms: ssh-dss\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com,zlib\ndebug2: compression stoc: none,zlib@openssh.com,zlib\ndebug2: languages ctos:\ndebug2: languages stoc:\ndebug2: first_kex_follows 0\ndebug2: reserved 0\ndebug2: peer server KEXINIT proposal\ndebug2: KEX algorithms: diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\ndebug2: host key algorithms: ssh-dss\ndebug2: ciphers ctos: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\ndebug2: ciphers stoc: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\ndebug2: MACs ctos: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\ndebug2: MACs stoc: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\ndebug2: compression ctos: zlib,none\ndebug2: compression stoc: zlib,none\ndebug2: languages ctos:\ndebug2: languages stoc:\ndebug2: first_kex_follows 0\ndebug2: reserved 0\ndebug1: kex: algorithm: diffie-hellman-group-exchange-sha256\ndebug1: kex: host key algorithm: ssh-dss\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\ndebug3: send packet: type 34\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(2048&lt;8192&lt;8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug3: receive packet: type 31\ndebug1: SSH2_MSG_KEX_DH_GEX_GROUP received\ndebug2: bits set: 1070/2048\ndebug3: send packet: type 32\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug3: receive packet: type 33\ndebug1: SSH2_MSG_KEX_DH_GEX_REPLY received\ndebug1: Server host key: ssh-dss SHA256:/BtDJ1DxsTK3GWkcwAc7bJL/DwnCwjLnJt9/qgvqKEg\ndebug3: record_hostkey: found key type DSA in file /Users/&lt;XXX&gt;/.ssh/known_hosts:24\ndebug3: load_hostkeys_file: loaded 1 keys from &lt;IP&gt;\ndebug1: load_hostkeys: fopen /Users/&lt;XXX&gt;/.ssh/known_hosts2: No such file or directory\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory\ndebug1: Host '&lt;IP&gt;' is known and matches the DSA host key.\ndebug1: Found key in /Users/&lt;XXX&gt;/.ssh/known_hosts:24\ndebug2: bits set: 1020/2048\ndebug3: send packet: type 21\ndebug2: set_newkeys: mode 1\ndebug1: rekey out after 4294967296 blocks\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: receive packet: type 21\ndebug1: SSH2_MSG_NEWKEYS received\ndebug2: set_newkeys: mode 0\ndebug1: rekey in after 4294967296 blocks\ndebug1: Will attempt key: /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw explicit\ndebug2: pubkey_prepare: done\ndebug3: send packet: type 5\ndebug3: receive packet: type 6\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug3: send packet: type 50\ndebug3: receive packet: type 51\ndebug1: Authentications that can continue: publickey,password\ndebug3: start over, passed a different list publickey,password\ndebug3: preferred publickey,keyboard-interactive,password\ndebug3: authmethod_lookup publickey\ndebug3: remaining preferred: keyboard-interactive,password\ndebug3: authmethod_is_enabled publickey\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw explicit\ndebug3: send packet: type 50\ndebug2: we sent a publickey packet, wait for reply\ndebug3: receive packet: type 60\ndebug1: Server accepts key: /Users/&lt;XXX&gt;/.ssh/id_rsa_cloud-integration_test RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw explicit\ndebug3: sign_and_send_pubkey: RSA SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw\ndebug3: sign_and_send_pubkey: signing using ssh-rsa SHA256:dEljro/wx66trJGaFWgSMwL8fiGqGEzkw+1iAZVbQAw\ndebug3: send packet: type 50\ndebug3: receive packet: type 52\ndebug1: Authentication succeeded (publickey).\nAuthenticated to &lt;IP&gt; ([&lt;IP&gt;]:22).\ndebug2: fd 4 setting O_NONBLOCK\ndebug3: fd 5 is O_NONBLOCK\ndebug1: channel 0: new [client-session]\ndebug3: ssh_session2_open: channel_new: 0\ndebug2: channel 0: send open\ndebug3: send packet: type 90\ndebug1: Entering interactive session.\ndebug1: pledge: filesystem full\ndebug3: receive packet: type 91\ndebug2: channel_input_open_confirmation: channel 0: callback start\ndebug2: fd 3 setting TCP_NODELAY\ndebug3: set_sock_tos: set socket 3 IP_TOS 0x20\ndebug2: client_session2_setup: id 0\ndebug1: Sending environment.\ndebug3: Ignored env TERM_SESSION_ID\ndebug3: Ignored env SSH_AUTH_SOCK\ndebug1: channel 0: setting env LC_TERMINAL_VERSION = &quot;3.4.19&quot;\ndebug2: channel 0: request env confirm 0\ndebug3: send packet: type 98\ndebug3: Ignored env COLORFGBG\ndebug3: Ignored env ITERM_PROFILE\ndebug3: Ignored env XPC_FLAGS\ndebug3: Ignored env PWD\ndebug3: Ignored env SHELL\ndebug3: Ignored env __CFBundleIdentifier\ndebug3: Ignored env SECURITYSESSIONID\ndebug1: channel 0: setting env LC_CTYPE = &quot;UTF-8&quot;\ndebug2: channel 0: request env confirm 0\ndebug3: send packet: type 98\ndebug3: Ignored env TERM_PROGRAM_VERSION\ndebug3: Ignored env TERM_PROGRAM\ndebug3: Ignored env PATH\ndebug1: channel 0: setting env LC_TERMINAL = &quot;iTerm2&quot;\ndebug2: channel 0: request env confirm 0\ndebug3: send packet: type 98\ndebug3: Ignored env COLORTERM\ndebug3: Ignored env COMMAND_MODE\ndebug3: Ignored env TERM\ndebug3: Ignored env HOME\ndebug3: Ignored env TMPDIR\ndebug3: Ignored env USER\ndebug3: Ignored env XPC_SERVICE_NAME\ndebug3: Ignored env LOGNAME\ndebug3: Ignored env LaunchInstanceID\ndebug3: Ignored env ITERM_SESSION_ID\ndebug3: Ignored env __CF_USER_TEXT_ENCODING\ndebug3: Ignored env SHLVL\ndebug3: Ignored env OLDPWD\ndebug3: Ignored env JENV_SHELL\ndebug3: Ignored env JENV_LOADED\ndebug3: Ignored env _\ndebug1: Sending subsystem: sftp\ndebug2: channel 0: request subsystem confirm 1\ndebug3: send packet: type 98\ndebug2: channel_input_open_confirmation: channel 0: callback done\ndebug2: channel 0: open confirm rwindow 16384 rmax 35840\ndebug3: receive packet: type 99\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: subsystem request accepted on channel 0\ndebug2: Remote version: 3\nConnected to &lt;IP&gt;.\ndebug3: Sent message fd 3 T:16 I:1\ndebug3: SSH_FXP_REALPATH . -&gt; /Home/&lt;username&gt; size 0\nsftp&gt;\n</code></pre>\n<p>And I'm connecting without problems and without password - I also tried FileZilla which works fine.</p>\n<p>But when im trying to connect with my springboot application I'm getting an error:</p>\n<blockquote>\n<p>JSchException: Auth fail for methods 'publickey,password'</p>\n</blockquote>\n<p>I point to the key file with same full path as with shell.</p>\n<p>My Java class code is very simple and straight forward:</p>\n<pre><code>JSch jsch = new JSch();\njsch.setKnownHosts(&quot;/Users/&lt;user&gt;/.ssh/known_hosts&quot;);\njsch.addIdentity(&quot;&lt;full path to key file&gt;&quot;);\nSession session = jsch.getSession(sshUserName, host, 22);\nsession.setTimeout(5000);\njava.util.Properties config = new java.util.Properties();\nconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\nconfig.put(&quot;server_host_key&quot;, &quot;ssh-dss&quot;);\nconfig.put(&quot;trust&quot;, &quot;yes&quot;);\nsession.setConfig(config);\nsession.connect();\n\nif (session.isConnected()) {\n    log.info(&quot;Connected to host [{}]&quot;, host);\n} else {\n    log.error(&quot;Unable to connect to host [{}]&quot;, host);\n    return;\n}\n\n//Setup transfer channel and upload file\nChannelSftp sftp = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\n.... other code to list files and upload etc ....\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>JSCHLogger           : Connecting to &lt;IP&gt; port 22\nJSCHLogger           : Connection established\nJSCHLogger           : Remote version string: SSH-2.0-9.99 sshlib\nJSCHLogger           : Local version string: SSH-2.0-JSCH_0.2.5\nJSCHLogger           : CheckCiphers: chacha20-poly1305@openssh.com\nJSCHLogger           : CheckKexes: curve25519-sha256,curve25519-sha256@libssh.org,curve448-sha512\nJSCHLogger           : CheckSignatures: ssh-ed25519,ssh-ed448\nJSCHLogger           : server_host_key proposal before known_host reordering is: ssh-dss\nJSCHLogger           : server_host_key proposal after known_host reordering is: ssh-dss\nJSCHLogger           : SSH_MSG_KEXINIT sent\nJSCHLogger           : SSH_MSG_KEXINIT received\nJSCHLogger           : kex: server: diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nJSCHLogger           : kex: server: ssh-dss\nJSCHLogger           : kex: server: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\nJSCHLogger           : kex: server: aes256-ctr,twofish256-ctr,twofish-ctr,aes128-ctr,twofish128-ctr,3des-ctr,cast128-ctr,aes256-cbc,twofish256-cbc,twofish-cbc,aes128-cbc,twofish128-cbc,blowfish-cbc,3des-cbc,arcfour,cast128-cbc\nJSCHLogger           : kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\nJSCHLogger           : kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96\nJSCHLogger           : kex: server: zlib,none\nJSCHLogger           : kex: server: zlib,none\nJSCHLogger           : kex: server:\nJSCHLogger           : kex: server:\nJSCHLogger           : kex: client: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\nJSCHLogger           : kex: client: ssh-dss\nJSCHLogger           : kex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nJSCHLogger           : kex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nJSCHLogger           : kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nJSCHLogger           : kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nJSCHLogger           : kex: client: none\nJSCHLogger           : kex: client: none\nJSCHLogger           : kex: client:\nJSCHLogger           : kex: client:\nJSCHLogger           : kex: algorithm: diffie-hellman-group-exchange-sha256\nJSCHLogger           : kex: host key algorithm: ssh-dss\nJSCHLogger           : kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\nJSCHLogger           : kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\nJSCHLogger           : SSH_MSG_KEX_DH_GEX_REQUEST(2048&lt;3072&lt;8192) sent\nJSCHLogger           : expecting SSH_MSG_KEX_DH_GEX_GROUP\nJSCHLogger           : SSH_MSG_KEX_DH_GEX_INIT sent\nJSCHLogger           : expecting SSH_MSG_KEX_DH_GEX_REPLY\nJSCHLogger           : ssh_dss_verify: signature true\nJSCHLogger           : Host '&lt;IP&gt;' is known and matches the DSA host key\nJSCHLogger           : SSH_MSG_NEWKEYS sent\nJSCHLogger           : SSH_MSG_NEWKEYS received\nJSCHLogger           : SSH_MSG_SERVICE_REQUEST sent\nJSCHLogger           : SSH_MSG_SERVICE_ACCEPT received\nJSCHLogger           : Authentications that can continue: publickey,keyboard-interactive,password\nJSCHLogger           : Next authentication method: publickey\nJSCHLogger           : PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\nJSCHLogger           : No server-sig-algs found, using PubkeyAcceptedAlgorithms = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521, rsa-sha2-512, rsa-sha2-256]\nJSCHLogger           : rsa-sha2-512 preauth success\nJSCHLogger           : rsa-sha2-512 auth failure\nJSCHLogger           : Authentications that can continue: password\nJSCHLogger           : Next authentication method: password\nJSCHLogger           : Disconnecting from &lt;IP&gt; port 22\nJavaClass     : Unable to establish connection to host [&lt;IP&gt;] with cause [null] and message [Auth fail for methods 'publickey,password']\n[nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: java.io.IOException: com.jcraft.jsch.JSchException: Auth fail for methods 'publickey,password'] with root cause\n</code></pre>\n<p>I learned that I needed to set the <code>server_host_key</code> to <code>ssh-dss</code> both in the terminal and in the Java code. But in Java it only brings my a bit further.</p>\n<p>Any ideas would be highly appreciated</p>\n"},{"tags":["java","database","spring-boot","spring-data-jpa","spring-boot-actuator"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1677827245,"post_id":75623968,"comment_id":133417616,"body_markdown":"Is this because you have tested and KNOW that there is a noticeable performance Hot, or just something that you think might be a good optimisation ?   I suspect the latter, In which case premature optimisation is rarely a good idea !  For example, are you aware that packages like Hibernate use caches precisely to minimise having to go to the database.","body":"Is this because you have tested and KNOW that there is a noticeable performance Hot, or just something that you think might be a good optimisation ?   I suspect the latter, In which case premature optimisation is rarely a good idea !  For example, are you aware that packages like Hibernate use caches precisely to minimise having to go to the database."},{"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"score":0,"creation_date":1677829581,"post_id":75623968,"comment_id":133418122,"body_markdown":"Yes, I am thinking to use hibernate second level cache to achieve this. The table rarely updated, that why I looking for optimization&#39;s. Is it good idea to implement cache here?","body":"Yes, I am thinking to use hibernate second level cache to achieve this. The table rarely updated, that why I looking for optimization&#39;s. Is it good idea to implement cache here?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1677830006,"post_id":75623968,"comment_id":133418205,"body_markdown":"Again, premature optimisation is a bad idea.  Since Hibernate will already be catching it, I don’t see what great gains you expect to see.","body":"Again, premature optimisation is a bad idea.  Since Hibernate will already be catching it, I don’t see what great gains you expect to see."}],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677826267,"creation_date":1677826267,"question_id":75623968,"body_markdown":"I have a repository method to fetch records, and it gets called each time I hit a endpoint and it cost me more. &lt;br&gt;\r\nI don&#39;t want to call the database table if there is no new transaction (`insert/update/delete`) happen. &lt;br&gt;\r\nIt should call database once and then wait for transaction to happen on the table then only fetch new records. \r\n\r\nTools: Java 8, JPA, Postgresql.\r\n\r\n\r\nI read about `actuator refresh` but it reload all beans. I read about `@RefreshScope` which is used to refresh properties dynamically and I didn&#39;t get it how can I use them to achieve my goal.","title":"How to not call the database table if there is no new transaction happen on the table","body":"<p>I have a repository method to fetch records, and it gets called each time I hit a endpoint and it cost me more. <br>\nI don't want to call the database table if there is no new transaction (<code>insert/update/delete</code>) happen. <br>\nIt should call database once and then wait for transaction to happen on the table then only fetch new records.</p>\n<p>Tools: Java 8, JPA, Postgresql.</p>\n<p>I read about <code>actuator refresh</code> but it reload all beans. I read about <code>@RefreshScope</code> which is used to refresh properties dynamically and I didn't get it how can I use them to achieve my goal.</p>\n"},{"tags":["java","jdb"],"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":1,"creation_date":1384607580,"post_id":20018866,"comment_id":29809563,"body_markdown":"Are you source files directly in `src` or are they in `src/main/java`?","body":"Are you source files directly in <code>src</code> or are they in <code>src&#47;main&#47;java</code>?"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1384607609,"post_id":20018866,"comment_id":29809572,"body_markdown":"Which version of java are you using ?","body":"Which version of java are you using ?"},{"owner":{"account_id":1618854,"reputation":1443,"user_id":1495863,"accept_rate":65,"display_name":"brnby"},"score":0,"creation_date":1384607662,"post_id":20018866,"comment_id":29809590,"body_markdown":"Java version 1.6.0_27","body":"Java version 1.6.0_27"},{"owner":{"account_id":377910,"reputation":1520,"user_id":730326,"accept_rate":86,"display_name":"jmathew"},"score":4,"creation_date":1418528283,"post_id":20018866,"comment_id":43368176,"body_markdown":"Ran into the same problem. I needed to set the source path to location of the package source not the actual dir of the files. So my source was in &lt;project root&gt;/src/com/test/testproject. I set the -sourcepath to &lt;project root&gt;/src.","body":"Ran into the same problem. I needed to set the source path to location of the package source not the actual dir of the files. So my source was in &lt;project root&gt;/src/com/test/testproject. I set the -sourcepath to &lt;project root&gt;/src."}],"answers":[{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1498477861,"creation_date":1498477861,"answer_id":44759084,"question_id":20018866,"body_markdown":"I know that this one is very old, but maybe someone will be still interested in it\r\n\r\nLet&#39;s say we have file\r\n\r\n    package mypackage;\r\n    \r\n    public class Main {\r\n      public static void main(String [] arg) {\r\n        System.out.println(&quot;Hello world&quot;);\r\n      }\r\n    }\r\n\r\nand layout of the project follows\r\n\r\n    jdb_test/\r\n    ├── src\r\n    │&#160;&#160; └── mypackage\r\n    │&#160;&#160;     └── Main.java\r\n    └── target\r\n        └── mypackage\r\n            └── Main.class\r\n\r\nclass file was compiled using:\r\n\r\n    javac -sourcepath src -d target src/mypackage/Main.java\r\n    # if you have multiple files, you can always do\r\n    find . -name &quot;*.java&quot; -exec javac -sourcepath src -d target {} \\;\r\n\r\nThen, being inside *jdb_test* directory, we can call\r\n\r\n    jdb -sourcepath src -classpath target mypackage.Main\r\n\r\nand debug the code\r\n\r\n    Initializing jdb ...\r\n    &gt; stop in mypackage.Main.main\r\n    Deferring breakpoint mypackage.Main.main.\r\n    It will be set after the class is loaded.\r\n    &gt; run\r\n    run mypackage.Main\r\n    Set uncaught java.lang.Throwable\r\n    Set deferred uncaught java.lang.Throwable\r\n    &gt;\r\n    VM Started: Set deferred breakpoint mypackage.Main.main\r\n    \r\n    Breakpoint hit: &quot;thread=main&quot;, mypackage.Main.main(), line=5 bci=0\r\n    5        System.out.println(&quot;Hello world&quot;);\r\n    \r\n    main[1] list\r\n    1    package mypackage;\r\n    2\r\n    3    public class Main {\r\n    4      public static void main(String [] arg) {\r\n    5 =&gt;     System.out.println(&quot;Hello world&quot;);\r\n    6      }\r\n    7    }\r\n    main[1]","title":"Specifying sourcepath in jdb, what am I doing wrong?","body":"<p>I know that this one is very old, but maybe someone will be still interested in it</p>\n\n<p>Let's say we have file</p>\n\n<pre><code>package mypackage;\n\npublic class Main {\n  public static void main(String [] arg) {\n    System.out.println(\"Hello world\");\n  }\n}\n</code></pre>\n\n<p>and layout of the project follows</p>\n\n<pre><code>jdb_test/\n├── src\n│   └── mypackage\n│       └── Main.java\n└── target\n    └── mypackage\n        └── Main.class\n</code></pre>\n\n<p>class file was compiled using:</p>\n\n<pre><code>javac -sourcepath src -d target src/mypackage/Main.java\n# if you have multiple files, you can always do\nfind . -name \"*.java\" -exec javac -sourcepath src -d target {} \\;\n</code></pre>\n\n<p>Then, being inside <em>jdb_test</em> directory, we can call</p>\n\n<pre><code>jdb -sourcepath src -classpath target mypackage.Main\n</code></pre>\n\n<p>and debug the code</p>\n\n<pre><code>Initializing jdb ...\n&gt; stop in mypackage.Main.main\nDeferring breakpoint mypackage.Main.main.\nIt will be set after the class is loaded.\n&gt; run\nrun mypackage.Main\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\n&gt;\nVM Started: Set deferred breakpoint mypackage.Main.main\n\nBreakpoint hit: \"thread=main\", mypackage.Main.main(), line=5 bci=0\n5        System.out.println(\"Hello world\");\n\nmain[1] list\n1    package mypackage;\n2\n3    public class Main {\n4      public static void main(String [] arg) {\n5 =&gt;     System.out.println(\"Hello world\");\n6      }\n7    }\nmain[1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756319,"reputation":182,"user_id":1604281,"display_name":"Daemon42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670379027,"creation_date":1670379027,"answer_id":74710988,"question_id":20018866,"body_markdown":"There is an on-the-fly alternate way. \r\n\r\n&quot;sourcepath&quot; is also a command within jdb itself.  So let&#39;s say you&#39;ve already attached/set breakpoint/run, and are getting this error and don&#39;t want to start over.  \r\nJust type  `sourcepath /path/to/srcdir` and it should be happy from there on.  ","title":"Specifying sourcepath in jdb, what am I doing wrong?","body":"<p>There is an on-the-fly alternate way.</p>\n<p>&quot;sourcepath&quot; is also a command within jdb itself.  So let's say you've already attached/set breakpoint/run, and are getting this error and don't want to start over.<br />\nJust type  <code>sourcepath /path/to/srcdir</code> and it should be happy from there on.</p>\n"},{"tags":[],"owner":{"account_id":9552627,"reputation":470,"user_id":7096274,"display_name":"H&#246;lderlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677825882,"creation_date":1677825882,"answer_id":75623930,"question_id":20018866,"body_markdown":"I ran into same issue as SO, and in addition to the provided solution, I want to point out, you need to execute JDB from correct directory. If your class belongs to any package, e.g. class `MainActivity` belongs to package `org.gradle.samples`, then your project folder contains the following directory:\r\n\r\n    yourProject/\r\n    ├── src\r\n    │   └── main\r\n    │       └── java\r\n    │           └── org\r\n    │               └── gradle\r\n    │                   └── samples\r\n    │                       └── MainActivity.java\r\n\r\n   \r\nThen you have to execute `jdb` from `&lt;pathToYourProject&gt;/src/main/java`, where JDB `-sourcepath` is `&lt;pathToYourProject&gt;/src/main/java` as well.\r\n\r\nThe `list` command will not work if you execute JDB from a different location, even if you have defined the correct `-sourcepath`. Or even if you change the the source path within the JDB console via `use` command.","title":"Specifying sourcepath in jdb, what am I doing wrong?","body":"<p>I ran into same issue as SO, and in addition to the provided solution, I want to point out, you need to execute JDB from correct directory. If your class belongs to any package, e.g. class <code>MainActivity</code> belongs to package <code>org.gradle.samples</code>, then your project folder contains the following directory:</p>\n<pre><code>yourProject/\n├── src\n│   └── main\n│       └── java\n│           └── org\n│               └── gradle\n│                   └── samples\n│                       └── MainActivity.java\n</code></pre>\n<p>Then you have to execute <code>jdb</code> from <code>&lt;pathToYourProject&gt;/src/main/java</code>, where JDB <code>-sourcepath</code> is <code>&lt;pathToYourProject&gt;/src/main/java</code> as well.</p>\n<p>The <code>list</code> command will not work if you execute JDB from a different location, even if you have defined the correct <code>-sourcepath</code>. Or even if you change the the source path within the JDB console via <code>use</code> command.</p>\n"}],"owner":{"account_id":1618854,"reputation":1443,"user_id":1495863,"accept_rate":65,"display_name":"brnby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6556,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1677825882,"creation_date":1384607485,"question_id":20018866,"body_markdown":"I have a java project in which the file system is as follows:\r\nI have 3 directories: *bin*, *src*, and *lib*. &lt;br&gt;\r\n\r\n- *src* contains my *\\*.java* files &lt;br&gt;\r\n- *bin* contains my *\\*.class* files (compiled using the files in *src*) &lt;br&gt;\r\n- *lib* contains a few *\\*.jar* files imported by most of the *src* files\r\n\r\nI am learning how to use jdb but every time I try and use the list command it just says that the source file cannot be found. I am running the following command from within my bin directory:\r\n```bash\r\njdb -classpath ../lib/*:. -sourcepath ../src envelope.Envelope\r\n```\r\nwhere my main method is contained within the Envelope class which is part of the envelope package, what am I doing wrong?","title":"Specifying sourcepath in jdb, what am I doing wrong?","body":"<p>I have a java project in which the file system is as follows:\nI have 3 directories: <em>bin</em>, <em>src</em>, and <em>lib</em>. <br></p>\n\n<ul>\n<li><em>src</em> contains my <em>*.java</em> files <br></li>\n<li><em>bin</em> contains my <em>*.class</em> files (compiled using the files in <em>src</em>) <br></li>\n<li><em>lib</em> contains a few <em>*.jar</em> files imported by most of the <em>src</em> files</li>\n</ul>\n\n<p>I am learning how to use jdb but every time I try and use the list command it just says that the source file cannot be found. I am running the following command from within my bin directory:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>jdb -classpath ../lib/*:. -sourcepath ../src envelope.Envelope\n</code></pre>\n\n<p>where my main method is contained within the Envelope class which is part of the envelope package, what am I doing wrong?</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":14978526,"reputation":192,"user_id":11282240,"display_name":"vhmvd"},"score":0,"creation_date":1677496324,"post_id":75579654,"comment_id":133342483,"body_markdown":"You can use a drawable.\nhttps://developer.android.com/develop/ui/views/graphics/drawables","body":"You can use a drawable. <a href=\"https://developer.android.com/develop/ui/views/graphics/drawables\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/graphics/drawables</a>"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1677496327,"post_id":75579654,"comment_id":133342486,"body_markdown":"`I need a custom layout created like this with xml code` - so create it, if it won&#39;t fit your needs post it in here and ask for suggestions. read about [custom drawing programmatically](https://developer.android.com/develop/ui/views/layout/custom-views/custom-drawing) in Android, few approaches available for this purpose, e.g. [9patch](https://developer.android.com/studio/write/draw9patch)","body":"<code>I need a custom layout created like this with xml code</code> - so create it, if it won&#39;t fit your needs post it in here and ask for suggestions. read about <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/custom-drawing\" rel=\"nofollow noreferrer\">custom drawing programmatically</a> in Android, few approaches available for this purpose, e.g. <a href=\"https://developer.android.com/studio/write/draw9patch\" rel=\"nofollow noreferrer\">9patch</a>"}],"answers":[{"tags":[],"owner":{"account_id":27829354,"reputation":176,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677824844,"creation_date":1677824844,"answer_id":75623814,"question_id":75579654,"body_markdown":"Try online website that create shapes there is lots of sites available, you can search custom shape creator.","title":"How can I create custom layout like the picture attached here?","body":"<p>Try online website that create shapes there is lots of sites available, you can search custom shape creator.</p>\n"}],"owner":{"account_id":5759598,"reputation":9,"user_id":4546422,"display_name":"srinivasan cp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75623814,"answer_count":1,"score":-2,"last_activity_date":1677824844,"creation_date":1677495968,"question_id":75579654,"body_markdown":"As I wanna have bottom layout with a centered round button in it. For showing the button in center I wanna make background layout expanded/ bulged around the round button at the center. I tried multiple solution but nothing worked for me. Someone here help me to achieve this! \r\n[![enter image description here](https://i.stack.imgur.com/oAiNT.jpg)](https://i.stack.imgur.com/oAiNT.jpg)\r\nI need a custom layout created like this with xml code ","title":"How can I create custom layout like the picture attached here?","body":"<p>As I wanna have bottom layout with a centered round button in it. For showing the button in center I wanna make background layout expanded/ bulged around the round button at the center. I tried multiple solution but nothing worked for me. Someone here help me to achieve this!\n<a href=\"https://i.stack.imgur.com/oAiNT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oAiNT.jpg\" alt=\"enter image description here\" /></a>\nI need a custom layout created like this with xml code</p>\n"},{"tags":["java","maven","java-native-interface","pom.xml","packaging"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1677114857,"post_id":75516486,"comment_id":133276169,"body_markdown":"See [**Bundle native dependencies in runnable .jar with Maven**](https://stackoverflow.com/questions/12036607/bundle-native-dependencies-in-runnable-jar-with-maven) and [**Adding a JNI library to the local Maven Repository**](https://stackoverflow.com/questions/10071058/adding-a-jni-library-to-the-local-maven-repository) to start.","body":"See <a href=\"https://stackoverflow.com/questions/12036607/bundle-native-dependencies-in-runnable-jar-with-maven\"><b>Bundle native dependencies in runnable .jar with Maven</b></a> and <a href=\"https://stackoverflow.com/questions/10071058/adding-a-jni-library-to-the-local-maven-repository\"><b>Adding a JNI library to the local Maven Repository</b></a> to start."},{"owner":{"account_id":1902120,"reputation":2319,"user_id":2250791,"accept_rate":92,"display_name":"Camden Narzt"},"score":0,"creation_date":1677444493,"post_id":75516486,"comment_id":133334500,"body_markdown":"@AndrewHenle that was enough for me to make a working solution. If you want to make an answer go ahead or I&#39;ll do one with the code I wound up with.","body":"@AndrewHenle that was enough for me to make a working solution. If you want to make an answer go ahead or I&#39;ll do one with the code I wound up with."},{"owner":{"account_id":1902120,"reputation":2319,"user_id":2250791,"accept_rate":92,"display_name":"Camden Narzt"},"score":0,"creation_date":1677825222,"post_id":75516486,"comment_id":133417313,"body_markdown":"@AndrewHenle actually, that doesn&#39;t seem to add the resource when the jar is published to maven central... and maven doesn&#39;t compile the dep when it pulls it down for some reason.","body":"@AndrewHenle actually, that doesn&#39;t seem to add the resource when the jar is published to maven central... and maven doesn&#39;t compile the dep when it pulls it down for some reason."}],"answers":[{"tags":[],"owner":{"account_id":1902120,"reputation":2319,"user_id":2250791,"accept_rate":92,"display_name":"Camden Narzt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677824662,"creation_date":1677824662,"answer_id":75623784,"question_id":75516486,"body_markdown":"Add JNI lib to jar as a resource:\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;${project.build.directory}/native/lib&lt;/directory&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;**&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n...\r\n&lt;/build&gt;\r\n```\r\n\r\nreplace `System.loadLibrary` with a custom `NativeLoader.loadLibrary`:\r\n\r\n```java\r\npackage cam.narzt.getargv;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.File;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n * Class to assist in loading a JNI native lib, tries to load from jar but then\r\n * falls back to java.library.path if not found.\r\n */\r\npublic final class NativeLoader {\r\n\r\n    private static final Logger LOG = Logger.getLogger(NativeLoader.class.toString());\r\n\r\n    private NativeLoader() {\r\n        throw new AssertionError();\r\n    }\r\n\r\n    /**\r\n     * extended loadLibrary method that looks in the jar as well as the\r\n     * java.library.path\r\n     *\r\n     * @param library the name of the library to load\r\n     * @since 0.1\r\n     * @throws UnsatisfiedLinkError when lib not found or cannot load due to linker\r\n     *                              errors (missing libgetargv on system or bad\r\n     *                              rpath)\r\n     */\r\n    public static void loadLibrary(String library) {\r\n        String libraryName = &quot;lib&quot; + library + &quot;.dylib&quot;;\r\n        Class&lt;?&gt; callingClass = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE)\r\n                .getCallerClass();\r\n        LOG.fine(&quot;called by class: &quot; + callingClass);\r\n        try (InputStream in = callingClass.getClassLoader().getResourceAsStream(libraryName)) {\r\n            if (in != null) {\r\n                LOG.fine(&quot;trying to load: &quot; + libraryName);\r\n                System.load(saveLibrary(libraryName, in));\r\n            } else {\r\n                throw new IOException(&quot;No Resource Found&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            LOG.fine(&quot;Could not find library &quot; + library\r\n                    + &quot; as resource, trying fallback lookup through System.loadLibrary&quot;);\r\n            System.loadLibrary(library);\r\n        }\r\n    }\r\n\r\n    private static String saveLibrary(String libraryName, InputStream in) throws IOException {\r\n        File tmpDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n        if (!tmpDir.exists()) {\r\n            tmpDir.mkdir();\r\n        }\r\n\r\n        File file = File.createTempFile(libraryName + &quot;.&quot;, &quot;.tmp&quot;, tmpDir);\r\n        file.deleteOnExit();\r\n\r\n        try (OutputStream out = new FileOutputStream(file)) {\r\n            LOG.fine(&quot;trying to save to: &quot; + file.getAbsolutePath());\r\n            in.transferTo(out);\r\n            LOG.fine(&quot;Saved libfile: &quot; + file.getAbsoluteFile());\r\n            return file.getAbsolutePath();\r\n        }\r\n    }\r\n}\r\n```","title":"How do I package my project so the JNI lib is either installed or built by the user?","body":"<p>Add JNI lib to jar as a resource:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;${project.build.directory}/native/lib&lt;/directory&gt;\n        &lt;includes&gt;\n          &lt;include&gt;**&lt;/include&gt;\n        &lt;/includes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n...\n&lt;/build&gt;\n</code></pre>\n<p>replace <code>System.loadLibrary</code> with a custom <code>NativeLoader.loadLibrary</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package cam.narzt.getargv;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileOutputStream;\nimport java.io.File;\nimport java.util.logging.Logger;\n\n/**\n * Class to assist in loading a JNI native lib, tries to load from jar but then\n * falls back to java.library.path if not found.\n */\npublic final class NativeLoader {\n\n    private static final Logger LOG = Logger.getLogger(NativeLoader.class.toString());\n\n    private NativeLoader() {\n        throw new AssertionError();\n    }\n\n    /**\n     * extended loadLibrary method that looks in the jar as well as the\n     * java.library.path\n     *\n     * @param library the name of the library to load\n     * @since 0.1\n     * @throws UnsatisfiedLinkError when lib not found or cannot load due to linker\n     *                              errors (missing libgetargv on system or bad\n     *                              rpath)\n     */\n    public static void loadLibrary(String library) {\n        String libraryName = &quot;lib&quot; + library + &quot;.dylib&quot;;\n        Class&lt;?&gt; callingClass = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE)\n                .getCallerClass();\n        LOG.fine(&quot;called by class: &quot; + callingClass);\n        try (InputStream in = callingClass.getClassLoader().getResourceAsStream(libraryName)) {\n            if (in != null) {\n                LOG.fine(&quot;trying to load: &quot; + libraryName);\n                System.load(saveLibrary(libraryName, in));\n            } else {\n                throw new IOException(&quot;No Resource Found&quot;);\n            }\n        } catch (IOException e) {\n            LOG.fine(&quot;Could not find library &quot; + library\n                    + &quot; as resource, trying fallback lookup through System.loadLibrary&quot;);\n            System.loadLibrary(library);\n        }\n    }\n\n    private static String saveLibrary(String libraryName, InputStream in) throws IOException {\n        File tmpDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\n        if (!tmpDir.exists()) {\n            tmpDir.mkdir();\n        }\n\n        File file = File.createTempFile(libraryName + &quot;.&quot;, &quot;.tmp&quot;, tmpDir);\n        file.deleteOnExit();\n\n        try (OutputStream out = new FileOutputStream(file)) {\n            LOG.fine(&quot;trying to save to: &quot; + file.getAbsolutePath());\n            in.transferTo(out);\n            LOG.fine(&quot;Saved libfile: &quot; + file.getAbsoluteFile());\n            return file.getAbsolutePath();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1902120,"reputation":2319,"user_id":2250791,"accept_rate":92,"display_name":"Camden Narzt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677824662,"creation_date":1676956002,"question_id":75516486,"body_markdown":"I&#39;ve got a maven project that includes a JNI lib. It works great in testing within its own project directory. When I run `mvn install` the following files are installed to `~/.m2/repository/cam/narzt/getargv/cam_narzt_getargv_Getargv`:\r\n\r\n```\r\n~/.m2/repository/cam/narzt/getargv/cam_narzt_getargv_Getargv\r\n├── 1.0-SNAPSHOT\r\n│&#160;&#160; ├── _remote.repositories\r\n│&#160;&#160; ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT-javadoc.jar\r\n│&#160;&#160; ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT-javadoc.jar.asc\r\n│&#160;&#160; ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.jar\r\n│&#160;&#160; ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.jar.asc\r\n│&#160;&#160; ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.pom\r\n│&#160;&#160; ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.pom.asc\r\n│&#160;&#160; └── maven-metadata-local.xml\r\n└── maven-metadata-local.xml\r\n\r\n2 directories, 9 files\r\n```\r\n\r\nand the (non-javadoc) jar includes the following files:\r\n\r\n```\r\n        0  02-20-2023 21:23   META-INF/\r\n       81  02-20-2023 21:23   META-INF/MANIFEST.MF\r\n        0  02-20-2023 12:31   cam/\r\n        0  02-20-2023 12:31   cam/narzt/\r\n        0  02-20-2023 21:23   cam/narzt/getargv/\r\n        0  02-20-2023 21:23   META-INF/maven/\r\n        0  02-20-2023 21:23   META-INF/maven/cam.narzt.getargv/\r\n        0  02-20-2023 21:23   META-INF/maven/cam.narzt.getargv/cam_narzt_getargv_Getargv/\r\n     1608  02-20-2023 21:23   cam/narzt/getargv/Main.class\r\n     4441  02-20-2023 21:23   cam/narzt/getargv/Getargv.class\r\n     9323  02-20-2023 12:08   META-INF/maven/cam.narzt.getargv/cam_narzt_getargv_Getargv/pom.xml\r\n       84  02-16-2023 22:48   META-INF/maven/cam.narzt.getargv/cam_narzt_getargv_Getargv/pom.properties\r\n```\r\n\r\nWhen I add this package to the pom.xml as a dependency in a separate test app, I can depend on the class just fine, but the native lib/methods are missing:\r\n\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;cam.narzt.getargv&lt;/groupId&gt;\r\n       &lt;artifactId&gt;cam_narzt_getargv_Getargv&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n\r\n```java\r\npackage cam.narzt.testapp;\r\nimport java.io.IOException;\r\nimport cam.narzt.getargv.Getargv;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Getargv.asArray(ProcessHandle.current().pid());\r\n        } catch (IOException e) {\r\n            // this is just a test, ignore\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthis gives:\r\n\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: &#39;byte[][] cam.narzt.getargv.Getargv.get_argv_and_argc_of_pid(long)&#39;\r\n    at cam.narzt.getargv.Getargv.get_argv_and_argc_of_pid (Native Method)\r\n    at cam.narzt.getargv.Getargv.asArray (Getargv.java:52)\r\n    at cam.narzt.testapp.App.main (App.java:14)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\r\n    at java.lang.Thread.run (Thread.java:1589)\r\n```\r\n\r\n\r\nThe original project&#39;s pom.xml has the instructions for building the jni lib, but the test project doesn&#39;t do so, and it doesn&#39;t seem to be included into the jar by default. So, what is the preferred way to fix this, and what does that look like in the original project&#39;s `pom.xml`?","title":"How do I package my project so the JNI lib is either installed or built by the user?","body":"<p>I've got a maven project that includes a JNI lib. It works great in testing within its own project directory. When I run <code>mvn install</code> the following files are installed to <code>~/.m2/repository/cam/narzt/getargv/cam_narzt_getargv_Getargv</code>:</p>\n<pre><code>~/.m2/repository/cam/narzt/getargv/cam_narzt_getargv_Getargv\n├── 1.0-SNAPSHOT\n│   ├── _remote.repositories\n│   ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT-javadoc.jar\n│   ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT-javadoc.jar.asc\n│   ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.jar\n│   ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.jar.asc\n│   ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.pom\n│   ├── cam_narzt_getargv_Getargv-1.0-SNAPSHOT.pom.asc\n│   └── maven-metadata-local.xml\n└── maven-metadata-local.xml\n\n2 directories, 9 files\n</code></pre>\n<p>and the (non-javadoc) jar includes the following files:</p>\n<pre><code>        0  02-20-2023 21:23   META-INF/\n       81  02-20-2023 21:23   META-INF/MANIFEST.MF\n        0  02-20-2023 12:31   cam/\n        0  02-20-2023 12:31   cam/narzt/\n        0  02-20-2023 21:23   cam/narzt/getargv/\n        0  02-20-2023 21:23   META-INF/maven/\n        0  02-20-2023 21:23   META-INF/maven/cam.narzt.getargv/\n        0  02-20-2023 21:23   META-INF/maven/cam.narzt.getargv/cam_narzt_getargv_Getargv/\n     1608  02-20-2023 21:23   cam/narzt/getargv/Main.class\n     4441  02-20-2023 21:23   cam/narzt/getargv/Getargv.class\n     9323  02-20-2023 12:08   META-INF/maven/cam.narzt.getargv/cam_narzt_getargv_Getargv/pom.xml\n       84  02-16-2023 22:48   META-INF/maven/cam.narzt.getargv/cam_narzt_getargv_Getargv/pom.properties\n</code></pre>\n<p>When I add this package to the pom.xml as a dependency in a separate test app, I can depend on the class just fine, but the native lib/methods are missing:</p>\n<pre><code> &lt;dependency&gt;\n   &lt;groupId&gt;cam.narzt.getargv&lt;/groupId&gt;\n   &lt;artifactId&gt;cam_narzt_getargv_Getargv&lt;/artifactId&gt;\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package cam.narzt.testapp;\nimport java.io.IOException;\nimport cam.narzt.getargv.Getargv;\n\npublic class App {\n    public static void main(String[] args) {\n        try {\n            Getargv.asArray(ProcessHandle.current().pid());\n        } catch (IOException e) {\n            // this is just a test, ignore\n        }\n    }\n}\n</code></pre>\n<p>this gives:</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: 'byte[][] cam.narzt.getargv.Getargv.get_argv_and_argc_of_pid(long)'\n    at cam.narzt.getargv.Getargv.get_argv_and_argc_of_pid (Native Method)\n    at cam.narzt.getargv.Getargv.asArray (Getargv.java:52)\n    at cam.narzt.testapp.App.main (App.java:14)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\n    at java.lang.Thread.run (Thread.java:1589)\n</code></pre>\n<p>The original project's pom.xml has the instructions for building the jni lib, but the test project doesn't do so, and it doesn't seem to be included into the jar by default. So, what is the preferred way to fix this, and what does that look like in the original project's <code>pom.xml</code>?</p>\n"},{"tags":["java","groovy","dynamic"],"comments":[{"owner":{"account_id":2724644,"reputation":427,"user_id":2350068,"accept_rate":36,"display_name":"saurav"},"score":0,"creation_date":1677611554,"post_id":75596353,"comment_id":133371305,"body_markdown":"Quick note: Variable &quot;a_variable_not_defined_anywhere&quot; is not defined prior in code script","body":"Quick note: Variable &quot;a_variable_not_defined_anywhere&quot; is not defined prior in code script"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677611993,"post_id":75596353,"comment_id":133371419,"body_markdown":"Whether or not it&#39;s &quot;compiled&quot; isn&#39;t super relevant, it has to do with language semantics. Groovy **could** do the same thing, but see https://issues.apache.org/jira/browse/GROOVY-98 from a long time ago.","body":"Whether or not it&#39;s &quot;compiled&quot; isn&#39;t super relevant, it has to do with language semantics. Groovy <b>could</b> do the same thing, but see <a href=\"https://issues.apache.org/jira/browse/GROOVY-98\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/GROOVY-98</a> from a long time ago."},{"owner":{"account_id":2724644,"reputation":427,"user_id":2350068,"accept_rate":36,"display_name":"saurav"},"score":0,"creation_date":1677612271,"post_id":75596353,"comment_id":133371494,"body_markdown":"If I do println(foo) in Groovy Console, it does give No Such Property Excecption or even when I do so in groovysh.","body":"If I do println(foo) in Groovy Console, it does give No Such Property Excecption or even when I do so in groovysh."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677614798,"post_id":75596353,"comment_id":133372138,"body_markdown":"Right, but as you noted it&#39;s not being evaluated. If you swap the `||` you get the property exception.","body":"Right, but as you noted it&#39;s not being evaluated. If you swap the <code>||</code> you get the property exception."},{"owner":{"account_id":2724644,"reputation":427,"user_id":2350068,"accept_rate":36,"display_name":"saurav"},"score":0,"creation_date":1677615053,"post_id":75596353,"comment_id":133372199,"body_markdown":"Yeah I understand that. But if it is the way I described in question, shouldn&#39;t this throw Property Not Found exception or something?","body":"Yeah I understand that. But if it is the way I described in question, shouldn&#39;t this throw Property Not Found exception or something?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1677615866,"post_id":75596353,"comment_id":133372428,"body_markdown":"I don&#39;t think so, because if it isn&#39;t evaluated there&#39;s nothing to throw the exception. Properties are looked up w/ `getProperty`, if it&#39;s not called, it won&#39;t know it doesn&#39;t exist. It&#39;s not the same as a variable. Scripts have a root object that props are stuck onto (you can see what&#39;s happening if you decompile the byte code).","body":"I don&#39;t think so, because if it isn&#39;t evaluated there&#39;s nothing to throw the exception. Properties are looked up w/ <code>getProperty</code>, if it&#39;s not called, it won&#39;t know it doesn&#39;t exist. It&#39;s not the same as a variable. Scripts have a root object that props are stuck onto (you can see what&#39;s happening if you decompile the byte code)."}],"answers":[{"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677824553,"creation_date":1677705698,"answer_id":75609118,"question_id":75596353,"body_markdown":"In Groovy script the variable `a_variable_not_defined_anywhere` *could* be defined at runtime in `binding.variables` (see [binding][1]). The binding context for the script is determined at runtime, therefore it compiles. At runtime, the second condition of the or statement is not executed, as already mentioned.\r\n\r\nThe point is that you *could* inject the variable before executing the script. \r\nIn Java, there is no binding. So the compiler knows already at compile time that something&#39;s off and throws an exception.\r\n\r\n**EDIT**: Hopefully, this example makes it a bit clearer than the one before:\r\n```\r\n    // Let&#39;s say this is your code:\r\n    String code = &quot;println(a)&quot;\r\n    // Variable &quot;a&quot; is not defined, but the code compiles\r\n    // in Groovy, because &quot;a&quot; could exist at runtime\r\n  \r\n    def sh = new GroovyShell(this.class.classLoader, new Binding([a: &quot;Hello World&quot;]))\r\n    // Here, &quot;a&quot; exists at runtime -&gt; the code runs just fine.\r\n    sh.evaluate(code)\r\n\r\n    def shRuntimeError = new GroovyShell(this.class.classLoader, new Binding([:]))\r\n    // Here, &quot;a&quot; does not exist at runtime -&gt; throws MissingPropertyException.\r\n    shRuntimeError.evaluate(code)\r\n```\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/api/groovy/lang/Binding.html","title":"Groovy If condition vs Java&#39;s if condition","body":"<p>In Groovy script the variable <code>a_variable_not_defined_anywhere</code> <em>could</em> be defined at runtime in <code>binding.variables</code> (see <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/lang/Binding.html\" rel=\"nofollow noreferrer\">binding</a>). The binding context for the script is determined at runtime, therefore it compiles. At runtime, the second condition of the or statement is not executed, as already mentioned.</p>\n<p>The point is that you <em>could</em> inject the variable before executing the script.\nIn Java, there is no binding. So the compiler knows already at compile time that something's off and throws an exception.</p>\n<p><strong>EDIT</strong>: Hopefully, this example makes it a bit clearer than the one before:</p>\n<pre><code>    // Let's say this is your code:\n    String code = &quot;println(a)&quot;\n    // Variable &quot;a&quot; is not defined, but the code compiles\n    // in Groovy, because &quot;a&quot; could exist at runtime\n  \n    def sh = new GroovyShell(this.class.classLoader, new Binding([a: &quot;Hello World&quot;]))\n    // Here, &quot;a&quot; exists at runtime -&gt; the code runs just fine.\n    sh.evaluate(code)\n\n    def shRuntimeError = new GroovyShell(this.class.classLoader, new Binding([:]))\n    // Here, &quot;a&quot; does not exist at runtime -&gt; throws MissingPropertyException.\n    shRuntimeError.evaluate(code)\n</code></pre>\n"}],"owner":{"account_id":2724644,"reputation":427,"user_id":2350068,"accept_rate":36,"display_name":"saurav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75609118,"answer_count":1,"score":2,"last_activity_date":1677824553,"creation_date":1677611515,"question_id":75596353,"body_markdown":"When I run this code in Groovy, it runs successfully. It even compiles successfully using `groovyc`. \r\n\r\n    if (2&lt;3 || a_variable_not_defined_anywhere) {\r\n      println &quot;This is still working&quot;\r\n    }\r\n\r\nThis prints out the output same as print statement. I understand that when first condition in &quot;or&quot; condition is successful, it will not even check the second condition. \r\n\r\nBut a similar &quot;If&quot; structure in Java errors out saying that variable is not defined. \r\n\r\nMy question is why it is running in Groovy and not in Java? When both are compiled languages. \r\nEven in Python the above &quot;If&quot; structure works, but Python is Interpreted in nature. \r\nOr does this have to do with the fact that both Groovy and Python are Dynamic in nature?\r\n\r\nCan someone please clarify this?\r\nThanks\r\n\r\nUpdate: With respect to bindings, I tried this code:\r\n\r\n    if (2&lt;3 || a_variable_not_defined_anywhere) {\r\n      println &quot;This is still working&quot;\r\n    }\r\n    a = 2\r\n    println binding.variables\r\n\r\nThis actually printed &quot;a&quot; as binding variables but not &quot;a_variable_not_defined_anywhere&quot;\r\n\r\nSo not sure it has anything to do with bindings here. ","title":"Groovy If condition vs Java&#39;s if condition","body":"<p>When I run this code in Groovy, it runs successfully. It even compiles successfully using <code>groovyc</code>.</p>\n<pre><code>if (2&lt;3 || a_variable_not_defined_anywhere) {\n  println &quot;This is still working&quot;\n}\n</code></pre>\n<p>This prints out the output same as print statement. I understand that when first condition in &quot;or&quot; condition is successful, it will not even check the second condition.</p>\n<p>But a similar &quot;If&quot; structure in Java errors out saying that variable is not defined.</p>\n<p>My question is why it is running in Groovy and not in Java? When both are compiled languages.\nEven in Python the above &quot;If&quot; structure works, but Python is Interpreted in nature.\nOr does this have to do with the fact that both Groovy and Python are Dynamic in nature?</p>\n<p>Can someone please clarify this?\nThanks</p>\n<p>Update: With respect to bindings, I tried this code:</p>\n<pre><code>if (2&lt;3 || a_variable_not_defined_anywhere) {\n  println &quot;This is still working&quot;\n}\na = 2\nprintln binding.variables\n</code></pre>\n<p>This actually printed &quot;a&quot; as binding variables but not &quot;a_variable_not_defined_anywhere&quot;</p>\n<p>So not sure it has anything to do with bindings here.</p>\n"},{"tags":["java","security","certificate","pkcs#12"],"answers":[{"tags":[],"owner":{"account_id":261603,"reputation":526,"user_id":545890,"display_name":"Amanpreet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1462864324,"creation_date":1315905836,"answer_id":7399546,"question_id":7399154,"body_markdown":"Probably the certificate you create has an extra character at the end which is misinterpreted to be another certificate.\r\nUse one or more blank lines at the end.\r\n\r\nRefer: [Java Certificate Parsing][1]\r\n\r\n\r\n  [1]: http://www.panojohnson.com/misc/java-cert-parsing.html","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>Probably the certificate you create has an extra character at the end which is misinterpreted to be another certificate.\nUse one or more blank lines at the end.</p>\n\n<p>Refer: <a href=\"http://www.panojohnson.com/misc/java-cert-parsing.html\" rel=\"noreferrer\">Java Certificate Parsing</a></p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315945427,"creation_date":1315945427,"answer_id":7407998,"question_id":7399154,"body_markdown":"You are doing something wrong.  \r\nI tried your command and then loaded the p12 just fine.  \r\nThe following code works:  \r\n\r\n     FileInputStream fin = new FileInputStream(&quot;..\\\\test.p12&quot;);\r\n     KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n     ks.load(fin, &quot;123456&quot;.toCharArray());\r\n     System.out.println(ks.getCertificate(&quot;myrsakey&quot;));\r\n\r\nI was wondering if you put the command as is you get an error from keytool that the password must be at least 6 characters.  \r\nYou did not get that error? What version of java are you using?  \r\nNote:if you need to create certificates you can also look into this tool.  \r\nhttp://sourceforge.net/projects/certhelper/\r\n","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>You are doing something wrong.<br>\nI tried your command and then loaded the p12 just fine.<br>\nThe following code works:  </p>\n\n<pre><code> FileInputStream fin = new FileInputStream(\"..\\\\test.p12\");\n KeyStore ks = KeyStore.getInstance(\"PKCS12\");\n ks.load(fin, \"123456\".toCharArray());\n System.out.println(ks.getCertificate(\"myrsakey\"));\n</code></pre>\n\n<p>I was wondering if you put the command as is you get an error from keytool that the password must be at least 6 characters.<br>\nYou did not get that error? What version of java are you using?<br>\nNote:if you need to create certificates you can also look into this tool.<br>\n<a href=\"http://sourceforge.net/projects/certhelper/\" rel=\"nofollow\">http://sourceforge.net/projects/certhelper/</a></p>\n"},{"tags":[],"owner":{"account_id":1093584,"reputation":1786,"user_id":1087667,"accept_rate":62,"display_name":"ibrabeicker"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1383739034,"creation_date":1383739034,"answer_id":19811534,"question_id":7399154,"body_markdown":"I had this problem and I&#39;ve searched the depths of google and still couldn&#39;t find the answer. After some days battling with a terrible quality legacy code, I found what was causing this error.\r\n\r\n    KeyStore.load(InputStream is, String pass);\r\n\r\nthis method takes an InputStream and if there&#39;s any problem with such InputStream, this exception is thrown, some problems that I&#39;ve encountered:\r\n\r\n - The InputStream points to the wrong / blank / just created file\r\n - The InputStream is already open or something else is holding the resource\r\n - The InputStream **was already used and read**, thus the position of the next byte of InputStream is it&#39;s end\r\n\r\nThe last one was the responsible for my problem. The code was creating an InputStream from a certificate, and proceeding to use it in two KeyStore.load() calls, the first one was successful, the second one always got me this error.\r\n\r\n","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>I had this problem and I've searched the depths of google and still couldn't find the answer. After some days battling with a terrible quality legacy code, I found what was causing this error.</p>\n\n<pre><code>KeyStore.load(InputStream is, String pass);\n</code></pre>\n\n<p>this method takes an InputStream and if there's any problem with such InputStream, this exception is thrown, some problems that I've encountered:</p>\n\n<ul>\n<li>The InputStream points to the wrong / blank / just created file</li>\n<li>The InputStream is already open or something else is holding the resource</li>\n<li>The InputStream <strong>was already used and read</strong>, thus the position of the next byte of InputStream is it's end</li>\n</ul>\n\n<p>The last one was the responsible for my problem. The code was creating an InputStream from a certificate, and proceeding to use it in two KeyStore.load() calls, the first one was successful, the second one always got me this error.</p>\n"},{"tags":[],"owner":{"account_id":6293323,"reputation":291,"user_id":4890221,"display_name":"Jan vO"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1478522999,"creation_date":1478518186,"answer_id":40464119,"question_id":7399154,"body_markdown":"For others with a similar problem:\r\n\r\n    &quot;keystore load: DerInputStream.getLength(): lengthTag=109, too big.&quot;\r\n\r\nFor me solution was to remove the param: `-storetype pkcs12`\r\nsince the standard type is jks\r\n","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>For others with a similar problem:</p>\n\n<pre><code>\"keystore load: DerInputStream.getLength(): lengthTag=109, too big.\"\n</code></pre>\n\n<p>For me solution was to remove the param: <code>-storetype pkcs12</code>\nsince the standard type is jks</p>\n"},{"tags":[],"owner":{"account_id":9664164,"reputation":39,"user_id":7171168,"display_name":"Harikrishnan P.R"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1479362349,"creation_date":1479361223,"answer_id":40647463,"question_id":7399154,"body_markdown":"Specify the type of certificate in the code\r\nfor eg:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;pkcs12&quot;); ","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>Specify the type of certificate in the code\nfor eg:</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStoreType\", \"jks\");\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"pkcs12\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9168472,"reputation":11,"user_id":6817054,"display_name":"sindacco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516655866,"creation_date":1516647791,"answer_id":48388579,"question_id":7399154,"body_markdown":"I had the same issue.\r\n\r\nMy solution is to replace PKCS12 with jceks in the line below because I was apparently using the wrong type. \r\n\r\n    KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>I had the same issue.</p>\n\n<p>My solution is to replace PKCS12 with jceks in the line below because I was apparently using the wrong type. </p>\n\n<pre><code>KeyStore clientStore = KeyStore.getInstance(\"PKCS12\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5080491,"reputation":15121,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528733720,"creation_date":1528733720,"answer_id":50802041,"question_id":7399154,"body_markdown":"This happened to me because I had copy and pasted the `.p12` file locally on my windows 10 machine.  No clue how/why this is a problem, but when I clone a project that has `.p12` files and point my code to them, the files work.  However, copy and pasting the files in windows file explorer to somewhere else on the harddrive causes this error!!!!\r\n","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>This happened to me because I had copy and pasted the <code>.p12</code> file locally on my windows 10 machine.  No clue how/why this is a problem, but when I clone a project that has <code>.p12</code> files and point my code to them, the files work.  However, copy and pasting the files in windows file explorer to somewhere else on the harddrive causes this error!!!!</p>\n"},{"tags":[],"owner":{"account_id":272573,"reputation":10312,"user_id":563735,"accept_rate":71,"display_name":"Rohit Mandiwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562672899,"creation_date":1562672899,"answer_id":56951897,"question_id":7399154,"body_markdown":"This happened to me in Android Studio after AndroidX migration and using the new testing framework. Even deleting the existing `~/.android/debug.keystore` was failing for me\r\n\r\n**The solution was regenerate it manually (accept all questions as empty and say yes at the last one)**\r\n\r\n    $ keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\r\n\r\n**And copy it**\r\n\r\n    $ rm ~/.android/debug.keystore\r\n    $ cp debug.keystore ~/.android/debug.keystore\r\n\r\n","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>This happened to me in Android Studio after AndroidX migration and using the new testing framework. Even deleting the existing <code>~/.android/debug.keystore</code> was failing for me</p>\n\n<p><strong>The solution was regenerate it manually (accept all questions as empty and say yes at the last one)</strong></p>\n\n<pre><code>$ keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\n</code></pre>\n\n<p><strong>And copy it</strong></p>\n\n<pre><code>$ rm ~/.android/debug.keystore\n$ cp debug.keystore ~/.android/debug.keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183202,"reputation":11590,"user_id":418439,"accept_rate":88,"display_name":"Lee Chee Kiam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568697913,"creation_date":1566952846,"answer_id":57683701,"question_id":7399154,"body_markdown":"My issue (`lengthTag=109, too big`) was the .p12 file actually is JKS format and not PKCS # 12 format. Someone renamed the file extension. By regenerating in proper PKCS format resolved the issue.\r\n\r\n\r\n\r\n\r\n    java.io.IOException: DerInputStream.getLength(): lengthTag=109, too big.\r\n        at sun.security.util.DerInputStream.getLength(DerInputStream.java:599)\r\n        at sun.security.util.DerValue.init(DerValue.java:365)\r\n        at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:320)\r\n        at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1914)\r\n        at java.security.KeyStore.load(KeyStore.java:1445)\r\n\r\n\r\n\r\nTo check the format of a security file, may use [KeyStore Explorer][1] to open the file. The left bottom bar shows the actual format. \r\n\r\n  [1]: https://keystore-explorer.org/","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>My issue (<code>lengthTag=109, too big</code>) was the .p12 file actually is JKS format and not PKCS # 12 format. Someone renamed the file extension. By regenerating in proper PKCS format resolved the issue.</p>\n\n<pre><code>java.io.IOException: DerInputStream.getLength(): lengthTag=109, too big.\n    at sun.security.util.DerInputStream.getLength(DerInputStream.java:599)\n    at sun.security.util.DerValue.init(DerValue.java:365)\n    at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:320)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1914)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n</code></pre>\n\n<p>To check the format of a security file, may use <a href=\"https://keystore-explorer.org/\" rel=\"noreferrer\">KeyStore Explorer</a> to open the file. The left bottom bar shows the actual format. </p>\n"},{"tags":[],"owner":{"account_id":16919941,"reputation":1,"user_id":12236977,"display_name":"sridhar deivanandam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576258972,"creation_date":1576258972,"answer_id":59327446,"question_id":7399154,"body_markdown":"Make sure the scope of the inputstream variable is only to the method where you’re declaring it but not as static/class variable.This way this exception can be avoided. \r\nReason : Inputstream is not getting closed after the first time of loading certificate or data in it while it is declared as class variable.so make it available only to method.","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>Make sure the scope of the inputstream variable is only to the method where you’re declaring it but not as static/class variable.This way this exception can be avoided. \nReason : Inputstream is not getting closed after the first time of loading certificate or data in it while it is declared as class variable.so make it available only to method.</p>\n"},{"tags":[],"owner":{"account_id":280623,"reputation":1317,"user_id":576437,"display_name":"Vikash Madhow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598944840,"creation_date":1598944840,"answer_id":63683091,"question_id":7399154,"body_markdown":"This happened to me because the following command:\r\n\r\n`openssl pkcs12 -export -in import.pem -inkey myhost.key.pem -name shared &gt; server.p12` (from https://docs.oracle.com/en/database/other-databases/nosql-database/12.2.4.5/security/import-key-pair-java-keystore.html)\r\n\r\ngenerated a wrongly formatted pkcs12 file. Using the following corrected the problem:\r\n\r\n`openssl pkcs12 -export -in import.pem -inkey myhost.key.pem\r\n-name shared -out server.p12`\r\n","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>This happened to me because the following command:</p>\n<p><code>openssl pkcs12 -export -in import.pem -inkey myhost.key.pem -name shared &gt; server.p12</code> (from <a href=\"https://docs.oracle.com/en/database/other-databases/nosql-database/12.2.4.5/security/import-key-pair-java-keystore.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/other-databases/nosql-database/12.2.4.5/security/import-key-pair-java-keystore.html</a>)</p>\n<p>generated a wrongly formatted pkcs12 file. Using the following corrected the problem:</p>\n<p><code>openssl pkcs12 -export -in import.pem -inkey myhost.key.pem -name shared -out server.p12</code></p>\n"},{"tags":[],"owner":{"account_id":18515303,"reputation":91,"user_id":13489570,"display_name":"Mathieu GRIFFOUL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633109172,"creation_date":1633108863,"answer_id":69409800,"question_id":7399154,"body_markdown":"This error has multpile causes... The log can be realy confusing.\r\n\r\nOne main cause can be maven filtering.\r\nAccording to [maven official documentation][1] \r\n***Warning: Do not filter files with binary content like images! This will most likely result in corrupt output.***\r\nOur .jks was corrupted by maven during packaging stage.\r\n\r\n[This thread][2] helped me to figure it out.\r\n\r\nWe can exclude some directories or file extensions from filtering directly in concerned pom.xml :\r\n        \r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;nonFilteredFileExtensions&gt;\r\n                        &lt;nonFilteredFileExtension&gt;jks&lt;/nonFilteredFileExtension&gt;\r\n                        &lt;nonFilteredFileExtension&gt;p12&lt;/nonFilteredFileExtension&gt;\r\n                    &lt;/nonFilteredFileExtensions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n  [2]: https://stackoverflow.com/a/44965768/13489570","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>This error has multpile causes... The log can be realy confusing.</p>\n<p>One main cause can be maven filtering.\nAccording to <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">maven official documentation</a>\n<em><strong>Warning: Do not filter files with binary content like images! This will most likely result in corrupt output.</strong></em>\nOur .jks was corrupted by maven during packaging stage.</p>\n<p><a href=\"https://stackoverflow.com/a/44965768/13489570\">This thread</a> helped me to figure it out.</p>\n<p>We can exclude some directories or file extensions from filtering directly in concerned pom.xml :</p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;nonFilteredFileExtensions&gt;\n                    &lt;nonFilteredFileExtension&gt;jks&lt;/nonFilteredFileExtension&gt;\n                    &lt;nonFilteredFileExtension&gt;p12&lt;/nonFilteredFileExtension&gt;\n                &lt;/nonFilteredFileExtensions&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":12698,"reputation":41746,"user_id":25152,"accept_rate":89,"display_name":"Gad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95512,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":19811534,"answer_count":12,"score":28,"last_activity_date":1677824460,"creation_date":1315903934,"question_id":7399154,"body_markdown":"I generate a certificate using the keytool command:\r\n\r\n    keytool -genkeypair -alias myRSAKey -keyalg RSA -keysize 1024 -keystore test.p12 -storepass test -storetype pkcs12\r\n\r\nThen if I try to load it using java security API, after getting the file as a byte[] :\r\n\r\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    try{\r\n       ks.load(new ByteArrayInputStream(data), &quot;test&quot;.toCharArray())\r\n    } catch (Exception e){\r\n       ...\r\n    }\r\n\r\nI get a DerInputStream.getLength(): lengthTag=127, too big exception.\r\n\r\nWhat is wrong?","title":"PKCS#12 : DerInputStream.getLength() exception","body":"<p>I generate a certificate using the keytool command:</p>\n\n<pre><code>keytool -genkeypair -alias myRSAKey -keyalg RSA -keysize 1024 -keystore test.p12 -storepass test -storetype pkcs12\n</code></pre>\n\n<p>Then if I try to load it using java security API, after getting the file as a byte[] :</p>\n\n<pre><code>KeyStore ks = KeyStore.getInstance(\"PKCS12\");\ntry{\n   ks.load(new ByteArrayInputStream(data), \"test\".toCharArray())\n} catch (Exception e){\n   ...\n}\n</code></pre>\n\n<p>I get a DerInputStream.getLength(): lengthTag=127, too big exception.</p>\n\n<p>What is wrong?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2526321,"reputation":3554,"user_id":2195638,"accept_rate":20,"display_name":"Martin Baumgartner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394612126,"creation_date":1394612126,"answer_id":22345564,"question_id":22345081,"body_markdown":"Rewrite your query to: \r\n\r\n    select iu from internal_uddi iu where iu.urn.... \r\n\r\n\r\ndescription: http://forum.spring.io/forum/spring-projects/data/126415-is-it-possible-to-use-query-and-pageable?p=611398#post611398","title":"spring data jpa @query and pageable","body":"<p>Rewrite your query to: </p>\n\n<pre><code>select iu from internal_uddi iu where iu.urn.... \n</code></pre>\n\n<p>description: <a href=\"http://forum.spring.io/forum/spring-projects/data/126415-is-it-possible-to-use-query-and-pageable?p=611398#post611398\" rel=\"nofollow\">http://forum.spring.io/forum/spring-projects/data/126415-is-it-possible-to-use-query-and-pageable?p=611398#post611398</a></p>\n"},{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1406717925,"creation_date":1406717925,"answer_id":25035084,"question_id":22345081,"body_markdown":"A similar question was [asked on the Spring forums][1], where it was pointed out that to apply pagination, a second subquery must be derived. Because the subquery is referring to the same fields, you need to ensure that your query uses aliases for the entities/tables it refers to. This means that where you wrote:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    select * from internal_uddi where urn like\r\n\r\nYou should instead have:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    select * from internal_uddi iu where iu.urn like ...\r\n\r\n[1]: http://forum.spring.io/forum/spring-projects/data/126415-is-it-possible-to-use-query-and-pageable?p=611398#post611398","title":"spring data jpa @query and pageable","body":"<p>A similar question was <a href=\"http://forum.spring.io/forum/spring-projects/data/126415-is-it-possible-to-use-query-and-pageable?p=611398#post611398\">asked on the Spring forums</a>, where it was pointed out that to apply pagination, a second subquery must be derived. Because the subquery is referring to the same fields, you need to ensure that your query uses aliases for the entities/tables it refers to. This means that where you wrote:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select * from internal_uddi where urn like\n</code></pre>\n\n<p>You should instead have:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select * from internal_uddi iu where iu.urn like ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938979,"reputation":438,"user_id":967410,"display_name":"Dimitri Hautot"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1418399566,"creation_date":1418398624,"answer_id":27447009,"question_id":22345081,"body_markdown":"Considering that the `UrnMapping` class is mapped to the `internal_uddi` table, I would suggest this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Repository\r\n    public interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\r\n    \r\n        @Query(value = &quot;select iu from UrnMapping iu where iu.urn like %:text% or iu.contact like %:text%&quot;)\r\n        Page&lt;UrnMapping&gt; fullTextSearch(@Param(&quot;text&quot;) String text, Pageable pageable);\r\n    }\r\n\r\nPlease note that you might have to turn off native queries with dynamic requests.","title":"spring data jpa @query and pageable","body":"<p>Considering that the <code>UrnMapping</code> class is mapped to the <code>internal_uddi</code> table, I would suggest this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\n\n    @Query(value = \"select iu from UrnMapping iu where iu.urn like %:text% or iu.contact like %:text%\")\n    Page&lt;UrnMapping&gt; fullTextSearch(@Param(\"text\") String text, Pageable pageable);\n}\n</code></pre>\n\n<p>Please note that you might have to turn off native queries with dynamic requests.</p>\n"},{"tags":[],"owner":{"account_id":1459708,"reputation":1415,"user_id":1374347,"display_name":"RemusS"},"down_vote_count":1,"up_vote_count":99,"is_accepted":false,"score":98,"last_activity_date":1643901643,"creation_date":1486564505,"answer_id":42115966,"question_id":22345081,"body_markdown":"You can use pagination with a native query. It is documented here: [Spring Data JPA - Reference Documentation][1] \r\n\r\n&quot;*You can however use native queries for pagination by specifying the count query yourself:\r\nExample 59. Declare native count queries for pagination at the query method using @Query*&quot;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n      @Query(value = &quot;SELECT * FROM USERS WHERE LASTNAME = ?1&quot;,\r\n        countQuery = &quot;SELECT count(*) FROM USERS WHERE LASTNAME = ?1&quot;,\r\n        nativeQuery = true)\r\n      Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native","title":"spring data jpa @query and pageable","body":"<p>You can use pagination with a native query. It is documented here: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native\" rel=\"noreferrer\">Spring Data JPA - Reference Documentation</a></p>\n<p>&quot;<em>You can however use native queries for pagination by specifying the count query yourself:\nExample 59. Declare native count queries for pagination at the query method using @Query</em>&quot;</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(value = &quot;SELECT * FROM USERS WHERE LASTNAME = ?1&quot;,\n    countQuery = &quot;SELECT count(*) FROM USERS WHERE LASTNAME = ?1&quot;,\n    nativeQuery = true)\n  Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10749177,"reputation":602,"user_id":7909340,"display_name":"shenyu1997"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1557986753,"creation_date":1557986753,"answer_id":56161777,"question_id":22345081,"body_markdown":"Please reference :[Spring Data JPA @Query][1], if you are using Spring Data JPA version 2.0.4 and later. Sample like below:\r\n\r\n    @Query(value = &quot;SELECT u FROM User u ORDER BY id&quot;)\r\n    Page&lt;User&gt; findAllUsersWithPagination(Pageable pageable);\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-query","title":"spring data jpa @query and pageable","body":"<p>Please reference :<a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"noreferrer\">Spring Data JPA @Query</a>, if you are using Spring Data JPA version 2.0.4 and later. Sample like below:</p>\n\n<pre><code>@Query(value = \"SELECT u FROM User u ORDER BY id\")\nPage&lt;User&gt; findAllUsersWithPagination(Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7501711,"reputation":709,"user_id":5699784,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565834911,"creation_date":1565834520,"answer_id":57504055,"question_id":22345081,"body_markdown":"I found it works different among different jpa versions, for debug, you&#39;d better add this configurations to show generated sql, it will save your time a lot !\r\n\r\n```\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\n\r\nfor spring boot 2.1.6.RELEASE, it works good!\r\n```\r\nSort sort = new Sort(Sort.Direction.DESC, &quot;column_name&quot;);\r\nint pageNumber = 3, pageSize = 5;\r\nPageable pageable = PageRequest.of(pageNumber - 1, pageSize, sort);\r\n```\r\n\r\n```\r\n@Query(value = &quot;select * from integrity_score_view &quot; +\r\n        &quot;where (?1 is null or data_hour &gt;= ?1 ) &quot; +\r\n        &quot;and (?2 is null or data_hour &lt;= ?2 ) &quot; +\r\n        &quot;and (?3 is null or ?3 = &#39;&#39; or park_no = ?3 ) &quot; +\r\n        &quot;group by park_name, data_hour &quot;,\r\n        countQuery = &quot;select count(*) from integrity_score_view &quot; +\r\n                &quot;where (?1 is null or data_hour &gt;= ?1 ) &quot; +\r\n                &quot;and (?2 is null or data_hour &lt;= ?2 ) &quot; +\r\n                &quot;and (?3 is null or ?3 = &#39;&#39; or park_no = ?3 ) &quot; +\r\n                &quot;group by park_name, data_hour&quot;,\r\n        nativeQuery = true\r\n)\r\nPage&lt;IntegrityScoreView&gt; queryParkView(Date from, Date to, String parkNo, Pageable pageable);\r\n```\r\nyou DO NOT write `order by` and `limit`, it generates the right sql ","title":"spring data jpa @query and pageable","body":"<p>I found it works different among different jpa versions, for debug, you'd better add this configurations to show generated sql, it will save your time a lot !</p>\n\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n\n<p>for spring boot 2.1.6.RELEASE, it works good!</p>\n\n<pre><code>Sort sort = new Sort(Sort.Direction.DESC, \"column_name\");\nint pageNumber = 3, pageSize = 5;\nPageable pageable = PageRequest.of(pageNumber - 1, pageSize, sort);\n</code></pre>\n\n<pre><code>@Query(value = \"select * from integrity_score_view \" +\n        \"where (?1 is null or data_hour &gt;= ?1 ) \" +\n        \"and (?2 is null or data_hour &lt;= ?2 ) \" +\n        \"and (?3 is null or ?3 = '' or park_no = ?3 ) \" +\n        \"group by park_name, data_hour \",\n        countQuery = \"select count(*) from integrity_score_view \" +\n                \"where (?1 is null or data_hour &gt;= ?1 ) \" +\n                \"and (?2 is null or data_hour &lt;= ?2 ) \" +\n                \"and (?3 is null or ?3 = '' or park_no = ?3 ) \" +\n                \"group by park_name, data_hour\",\n        nativeQuery = true\n)\nPage&lt;IntegrityScoreView&gt; queryParkView(Date from, Date to, String parkNo, Pageable pageable);\n</code></pre>\n\n<p>you DO NOT write <code>order by</code> and <code>limit</code>, it generates the right sql </p>\n"},{"tags":[],"owner":{"account_id":9964251,"reputation":2674,"user_id":7372432,"display_name":"amoljdv06"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1573385689,"creation_date":1573385689,"answer_id":58788237,"question_id":22345081,"body_markdown":"With @Query , we can use pagination as well where you need to pass object of **Pageable** class at end of JPA method\r\n\r\nFor example:\r\n\r\n    Pageable pageableRequest = new PageRequest(page, size, Sort.Direction.DESC, rollNo);\r\n\r\n*Where, \r\npage = index of page (index start from zero)&lt;BR&gt;\r\nsize = No. of records&lt;BR&gt;\r\nSort.Direction = Sorting as per rollNo&lt;BR&gt;\r\nrollNo = Field in User class*\r\n\r\n    UserRepository repo\r\n    repo.findByFirstname(&quot;John&quot;, pageableRequest);\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n      @Query(value = &quot;SELECT * FROM USER WHERE FIRSTNAME = :firstname)\r\n      Page&lt;User&gt; findByLastname(@Param(&quot;firstname&quot;) String firstname, Pageable pageable);\r\n    }","title":"spring data jpa @query and pageable","body":"<p>With @Query , we can use pagination as well where you need to pass object of <strong>Pageable</strong> class at end of JPA method</p>\n\n<p>For example:</p>\n\n<pre><code>Pageable pageableRequest = new PageRequest(page, size, Sort.Direction.DESC, rollNo);\n</code></pre>\n\n<p><em>Where, \npage = index of page (index start from zero)<BR>\nsize = No. of records<BR>\nSort.Direction = Sorting as per rollNo<BR>\nrollNo = Field in User class</em></p>\n\n<pre><code>UserRepository repo\nrepo.findByFirstname(\"John\", pageableRequest);\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(value = \"SELECT * FROM USER WHERE FIRSTNAME = :firstname)\n  Page&lt;User&gt; findByLastname(@Param(\"firstname\") String firstname, Pageable pageable);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574320499,"creation_date":1574320499,"answer_id":58969231,"question_id":22345081,"body_markdown":"Declare native count queries for pagination at the query method by using @Query\r\n\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n      @Query(value = &quot;SELECT * FROM USERS WHERE LASTNAME = ?1&quot;,\r\n      countQuery = &quot;SELECT count(*) FROM USERS WHERE LASTNAME = ?1&quot;,\r\n      nativeQuery = true)\r\n      Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);\r\n\r\n    }\r\n\r\nHope this helps\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods","title":"spring data jpa @query and pageable","body":"<p>Declare native count queries for pagination at the query method by using @Query</p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(value = \"SELECT * FROM USERS WHERE LASTNAME = ?1\",\n  countQuery = \"SELECT count(*) FROM USERS WHERE LASTNAME = ?1\",\n  nativeQuery = true)\n  Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);\n\n}\n</code></pre>\n\n<p>Hope this helps</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods</a></p>\n"},{"tags":[],"owner":{"account_id":17827702,"reputation":1,"user_id":12948527,"display_name":"Peji Da"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586843660,"creation_date":1586843660,"answer_id":61201482,"question_id":22345081,"body_markdown":"I tried all above solution and non worked , finally I removed the Sorting from Pagination and it worked ","title":"spring data jpa @query and pageable","body":"<p>I tried all above solution and non worked , finally I removed the Sorting from Pagination and it worked </p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590683038,"creation_date":1590617653,"answer_id":62053743,"question_id":22345081,"body_markdown":"I had the same issue - without `Pageable` method works fine.   \r\nWhen added as method parameter - doesn&#39;t work.\r\n\r\nAfter playing with DB console and native query support came up to decision that method works like it should. However, only for ***upper case letters***.  \r\nLogic of my application was that all `names` of entity starts from ***upper case letters***.\r\n\r\nPlaying a little bit with it. And discover that `IgnoreCase` at method name do the &quot;magic&quot; and here is working solution:\r\n\r\n    public interface EmployeeRepository \r\n                                extends PagingAndSortingRepository&lt;Employee, Integer&gt; {\r\n    \r\n        Page&lt;Employee&gt; findAllByNameIgnoreCaseStartsWith(String name, Pageable pageable);\r\n    \r\n    }\r\n\r\nWhere entity looks like:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;tblEmployees&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @Column(name = &quot;empID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @NotEmpty\r\n        @Size(min = 2, max = 20)\r\n        @Column(name = &quot;empName&quot;, length = 25)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;empActive&quot;)\r\n        private Boolean active;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;emp_dpID&quot;)\r\n        private Department department;\r\n    }\r\n\r\n","title":"spring data jpa @query and pageable","body":"<p>I had the same issue - without <code>Pageable</code> method works fine.<br>\nWhen added as method parameter - doesn't work.</p>\n\n<p>After playing with DB console and native query support came up to decision that method works like it should. However, only for <strong><em>upper case letters</em></strong>.<br>\nLogic of my application was that all <code>names</code> of entity starts from <strong><em>upper case letters</em></strong>.</p>\n\n<p>Playing a little bit with it. And discover that <code>IgnoreCase</code> at method name do the \"magic\" and here is working solution:</p>\n\n<pre><code>public interface EmployeeRepository \n                            extends PagingAndSortingRepository&lt;Employee, Integer&gt; {\n\n    Page&lt;Employee&gt; findAllByNameIgnoreCaseStartsWith(String name, Pageable pageable);\n\n}\n</code></pre>\n\n<p>Where entity looks like:</p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"tblEmployees\")\npublic class Employee {\n\n    @Id\n    @Column(name = \"empID\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NotEmpty\n    @Size(min = 2, max = 20)\n    @Column(name = \"empName\", length = 25)\n    private String name;\n\n    @Column(name = \"empActive\")\n    private Boolean active;\n\n    @ManyToOne\n    @JoinColumn(name = \"emp_dpID\")\n    private Department department;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11074610,"reputation":171,"user_id":8131740,"display_name":"Juan Ignacio Liska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618985067,"creation_date":1618984758,"answer_id":67190056,"question_id":22345081,"body_markdown":"the following tutorial helped me\r\n-&gt; https://www.baeldung.com/spring-data-jpa-query\r\n\r\nAt this point 4.3. Spring Data JPA Versions Prior to 2.0.4\r\n\r\nVERY IMPORTANT to add `\\ n-- #pageable \\ n`\r\nWithout this I was wrong\r\n\r\nAlso the pagination setting must be without ordering\r\n\r\n    PageRequest paginaConf = new PageRequest ((param1 - 1)\r\n                                                     , param2);\r\n\r\n\r\nFinally to convert the Page &lt;Object []&gt;\r\n\r\n      Page &lt;Object []&gt; list = myQueryofRepo ();\r\n             List &lt;XXXModel&gt; lstReturn = myConversor (list.getContent ());\r\n             Page &lt;XXXModel&gt; ret = new PageImpl &lt;XXXModel&gt; (lstReturn, pageConf, param2);","title":"spring data jpa @query and pageable","body":"<p>the following tutorial helped me\n-&gt; <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a></p>\n<p>At this point 4.3. Spring Data JPA Versions Prior to 2.0.4</p>\n<p>VERY IMPORTANT to add <code>\\ n-- #pageable \\ n</code>\nWithout this I was wrong</p>\n<p>Also the pagination setting must be without ordering</p>\n<pre><code>PageRequest paginaConf = new PageRequest ((param1 - 1)\n                                                 , param2);\n</code></pre>\n<p>Finally to convert the Page &lt;Object []&gt;</p>\n<pre><code>  Page &lt;Object []&gt; list = myQueryofRepo ();\n         List &lt;XXXModel&gt; lstReturn = myConversor (list.getContent ());\n         Page &lt;XXXModel&gt; ret = new PageImpl &lt;XXXModel&gt; (lstReturn, pageConf, param2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17197879,"reputation":31,"user_id":12450212,"display_name":"Christian Keven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622829295,"creation_date":1622829295,"answer_id":67841923,"question_id":22345081,"body_markdown":"When using nativeQuery that is having (nativeQuery = true), you may do the pagination yourself in the query by adding (LIMIT :sizeValue OFFSET :page)\r\n\r\nNote:\r\nYour page value passed to this method should be offset * size\r\n\r\nExample\r\n\r\n```\r\n @Query(value = &quot;SELECT * FROM person &quot; +    \r\n                   &quot;LIMIT ?1 OFFSET ?2&quot;, nativeQuery = true)\r\n    Optional&lt;List&lt;TDriverJob&gt;&gt; findPersons(int size, int page);\r\n```\r\n","title":"spring data jpa @query and pageable","body":"<p>When using nativeQuery that is having (nativeQuery = true), you may do the pagination yourself in the query by adding (LIMIT :sizeValue OFFSET :page)</p>\n<p>Note:\nYour page value passed to this method should be offset * size</p>\n<p>Example</p>\n<pre><code> @Query(value = &quot;SELECT * FROM person &quot; +    \n                   &quot;LIMIT ?1 OFFSET ?2&quot;, nativeQuery = true)\n    Optional&lt;List&lt;TDriverJob&gt;&gt; findPersons(int size, int page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10247094,"reputation":33,"user_id":7562567,"display_name":"p.maimba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672309461,"creation_date":1672309461,"answer_id":74949898,"question_id":22345081,"body_markdown":"This bugged me for a while but I managed with a very smooth solution.\r\n\r\nThe challenge is JPA did not automatically detect the count query so I resolved to use the `countName` which according JPA docs  `Returns the name of the javax.persistence.NamedQuery to be used to execute count queries when pagination is used. Will default to the named query name configured suffixed by .count.`\r\n\r\nSo I created a named query\r\n\r\n```java\r\n@NamedNativeQuery(\r\n            name = &quot;[queryName].count&quot;,\r\n            query = [your count query],\r\n            resultSetMapping = &quot;[query resultSetMapping name]&quot;\r\n        )\r\n    }\r\n```\r\nAs indicated, the count query should be suffixed with `.count`\r\n\r\nCount query returns `Long` so add the resultSetMapping as\r\n\r\n```java\r\n@SqlResultSetMapping(\r\n    name=&quot;[query resultSetMapping name]&quot;,\r\n    columns={@ColumnResult(name=&quot;count&quot;, type = Long.class)})\r\n```\r\nThen in your repository, use the count query as indicated below\r\n\r\n```java\r\n@Query(countName =&quot;[queryName].count&quot; , nativeQuery = true)\r\nPage&lt;Object&gt; [mainQuery](...params)\r\n```\r\n\r\nHope this helps!","title":"spring data jpa @query and pageable","body":"<p>This bugged me for a while but I managed with a very smooth solution.</p>\n<p>The challenge is JPA did not automatically detect the count query so I resolved to use the <code>countName</code> which according JPA docs  <code>Returns the name of the javax.persistence.NamedQuery to be used to execute count queries when pagination is used. Will default to the named query name configured suffixed by .count.</code></p>\n<p>So I created a named query</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedNativeQuery(\n            name = &quot;[queryName].count&quot;,\n            query = [your count query],\n            resultSetMapping = &quot;[query resultSetMapping name]&quot;\n        )\n    }\n</code></pre>\n<p>As indicated, the count query should be suffixed with <code>.count</code></p>\n<p>Count query returns <code>Long</code> so add the resultSetMapping as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SqlResultSetMapping(\n    name=&quot;[query resultSetMapping name]&quot;,\n    columns={@ColumnResult(name=&quot;count&quot;, type = Long.class)})\n</code></pre>\n<p>Then in your repository, use the count query as indicated below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(countName =&quot;[queryName].count&quot; , nativeQuery = true)\nPage&lt;Object&gt; [mainQuery](...params)\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677824416,"creation_date":1677824416,"answer_id":75623759,"question_id":22345081,"body_markdown":"For me return type of Page &lt;?&gt; with Pageable was not working, but on changing the return type to List &lt;?&gt; or Optional&lt;?&gt; was working fine.\r\n```\r\npublic interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\r\n    @Query(value = &quot;select * from internal_uddi where urn like %?1% or contact like %?1%&quot;,\r\n           nativeQuery = true)\r\n    Page&lt;UrnMapping&gt; fullTextSearch(String text, Pageable pageable); // this doesnt work, for this you need to use countQuery\r\n\r\n List&lt;UrnMapping&gt; fullTextSearch(String text, Pageable pageable); // this is working\r\n}\r\n```","title":"spring data jpa @query and pageable","body":"<p>For me return type of Page  with Pageable was not working, but on changing the return type to List  or Optional&lt;?&gt; was working fine.</p>\n<pre><code>public interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\n    @Query(value = &quot;select * from internal_uddi where urn like %?1% or contact like %?1%&quot;,\n           nativeQuery = true)\n    Page&lt;UrnMapping&gt; fullTextSearch(String text, Pageable pageable); // this doesnt work, for this you need to use countQuery\n\n List&lt;UrnMapping&gt; fullTextSearch(String text, Pageable pageable); // this is working\n}\n</code></pre>\n"}],"owner":{"account_id":3077237,"reputation":3645,"user_id":2606279,"accept_rate":59,"display_name":"Awakening"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206806,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":25035084,"answer_count":14,"score":116,"last_activity_date":1677824416,"creation_date":1394610536,"question_id":22345081,"body_markdown":"I&#39;m using Spring Data JPA, and when I use `@Query` to to define a query ***WITHOUT*** `Pageable`, it works:\r\n\r\n    public interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\r\n        @Query(value = &quot;select * from internal_uddi where urn like %?1% or contact like %?1%&quot;, \r\n               nativeQuery = true)\r\n        List&lt;UrnMapping&gt; fullTextSearch(String text);\r\n    }\r\n\r\nBut if I add the second param `Pageable`, the `@Query` will NOT work, and Spring will parse the method&#39;s name, then throw the **exception** `No property full found`. Is this a bug?\r\n\r\n    public interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\r\n        @Query(value = &quot;select * from internal_uddi where urn like %?1% or contact like %?1%&quot;,\r\n               nativeQuery = true)\r\n        Page&lt;UrnMapping&gt; fullTextSearch(String text, Pageable pageable);\r\n    }\r\n\r\n","title":"spring data jpa @query and pageable","body":"<p>I'm using Spring Data JPA, and when I use <code>@Query</code> to to define a query <strong><em>WITHOUT</em></strong> <code>Pageable</code>, it works:</p>\n\n<pre><code>public interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\n    @Query(value = \"select * from internal_uddi where urn like %?1% or contact like %?1%\", \n           nativeQuery = true)\n    List&lt;UrnMapping&gt; fullTextSearch(String text);\n}\n</code></pre>\n\n<p>But if I add the second param <code>Pageable</code>, the <code>@Query</code> will NOT work, and Spring will parse the method's name, then throw the <strong>exception</strong> <code>No property full found</code>. Is this a bug?</p>\n\n<pre><code>public interface UrnMappingRepository extends JpaRepository&lt;UrnMapping, Long&gt; {\n    @Query(value = \"select * from internal_uddi where urn like %?1% or contact like %?1%\",\n           nativeQuery = true)\n    Page&lt;UrnMapping&gt; fullTextSearch(String text, Pageable pageable);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","autowired"],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570535056,"creation_date":1570482658,"answer_id":58277203,"question_id":58277097,"body_markdown":"The following should work out-of-the-box, where the map contains the bean names as keys and the corresponding bean instances as values:\r\n\r\n```java\r\n@Autowired\r\nprivate Map&lt;String, Foo&gt; allBeansOfType;\r\n```\r\n\r\nBut you may also try to get all bean instances of a particular type along with their names using [`ListableBeanFactory`][1]:\r\n\r\n```java\r\nprivate Map&lt;String, Foo&gt; allBeansOfType;\r\n\r\n@Autowired\r\npublic MyClass(ListableBeanFactory beanFactory) {\r\n    this.allBeansOfType = beanFactory.getBeansOfType(Foo.class);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ListableBeanFactory.html","title":"@Autowire an Interface as Map&lt;String, InterfaceName&gt; is possible?","body":"<p>The following should work out-of-the-box, where the map contains the bean names as keys and the corresponding bean instances as values:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Map&lt;String, Foo&gt; allBeansOfType;\n</code></pre>\n\n<p>But you may also try to get all bean instances of a particular type along with their names using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ListableBeanFactory.html\" rel=\"nofollow noreferrer\"><code>ListableBeanFactory</code></a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;String, Foo&gt; allBeansOfType;\n\n@Autowired\npublic MyClass(ListableBeanFactory beanFactory) {\n    this.allBeansOfType = beanFactory.getBeansOfType(Foo.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570539747,"creation_date":1570483658,"answer_id":58277363,"question_id":58277097,"body_markdown":"You can inject the spring beans into two separate `List`\r\n\r\n**First approach :** If you have only each of them, then name them differently and use `@Qualifier`\r\n\r\n**Service Interface**\r\n\r\n    public interface ServiceInterf {\r\n\r\n    }\r\n\r\n**ImplementOne**\r\n    \r\n    @Service(&quot;implementOne&quot;)\r\n    public class ImplementOne implements ServiceInterf {\r\n\r\n    }\r\n\r\n**ImplementTwo**\r\n\r\n    @Service(&quot;implementTwo&quot;)\r\n    public class ImplementTwo implements ServiceInterf {\r\n\r\n    }\r\n\r\nAnd you can use `@Qualifier`\r\n\r\n    @Autowired\r\n\t@Qualifier(&quot;implementOne&quot;)\r\n\tprivate List&lt;ServiceInterf&gt; implementOne;\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;implementTwo&quot;)\r\n\tprivate List&lt;ServiceInterf&gt; implementTwo;\r\n\r\n**Second approach :** If you have multiple of them, then you can declare them in config class using `@Qualifier` [5.2. Using @Qualifier to Select Beans][1]\r\n\r\n    @Bean\r\n\t@Qualifier(&quot;implementOne&quot;)\r\n\tpublic ServiceInterf getServiceInterf1() {\r\n\t\treturn new ImplementOne();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@Qualifier(&quot;implementOne&quot;)\r\n\tpublic ServiceInterf getServiceInterf2() {\r\n\t\treturn new ImplementOne();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@Qualifier(&quot;implementTwo&quot;)\r\n\tpublic ServiceInterf getServiceInterf3() {\r\n\t\treturn new ImplementTwo();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@Qualifier(&quot;implementTwo&quot;)\r\n\tpublic ServiceInterf getServiceInterf4() {\r\n\t\treturn new ImplementTwo();\r\n\t}\r\n\r\nAnd also if you want to do them into `Map` use constructor injection\r\n\r\n    private Map&lt;String, List&lt;ServiceInterf&gt;&gt; mapOfLists;\r\n\t\r\n\t@Autowired\r\n\tpublic TestMap(@Qualifier(&quot;implementOne&quot;) List&lt;ServiceInterf&gt; implementOne, \r\n\t\t\t       @Qualifier(&quot;implementTwo&quot;) List&lt;ServiceInterf&gt; implementTwo) {\r\n\t\tmapOfLists = Map.of(&quot;implementOne&quot;,implementOne,&quot;implementTwo&quot;,implementTwo);  \r\n\t\t// Map.of is from java 9 \r\n\t\t\r\n\t}\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-injecting-collections","title":"@Autowire an Interface as Map&lt;String, InterfaceName&gt; is possible?","body":"<p>You can inject the spring beans into two separate <code>List</code></p>\n\n<p><strong>First approach :</strong> If you have only each of them, then name them differently and use <code>@Qualifier</code></p>\n\n<p><strong>Service Interface</strong></p>\n\n<pre><code>public interface ServiceInterf {\n\n}\n</code></pre>\n\n<p><strong>ImplementOne</strong></p>\n\n<pre><code>@Service(\"implementOne\")\npublic class ImplementOne implements ServiceInterf {\n\n}\n</code></pre>\n\n<p><strong>ImplementTwo</strong></p>\n\n<pre><code>@Service(\"implementTwo\")\npublic class ImplementTwo implements ServiceInterf {\n\n}\n</code></pre>\n\n<p>And you can use <code>@Qualifier</code></p>\n\n<pre><code>@Autowired\n@Qualifier(\"implementOne\")\nprivate List&lt;ServiceInterf&gt; implementOne;\n\n@Autowired\n@Qualifier(\"implementTwo\")\nprivate List&lt;ServiceInterf&gt; implementTwo;\n</code></pre>\n\n<p><strong>Second approach :</strong> If you have multiple of them, then you can declare them in config class using <code>@Qualifier</code> <a href=\"https://www.baeldung.com/spring-injecting-collections\" rel=\"nofollow noreferrer\">5.2. Using @Qualifier to Select Beans</a></p>\n\n<pre><code>@Bean\n@Qualifier(\"implementOne\")\npublic ServiceInterf getServiceInterf1() {\n    return new ImplementOne();\n}\n\n@Bean\n@Qualifier(\"implementOne\")\npublic ServiceInterf getServiceInterf2() {\n    return new ImplementOne();\n}\n\n@Bean\n@Qualifier(\"implementTwo\")\npublic ServiceInterf getServiceInterf3() {\n    return new ImplementTwo();\n}\n\n@Bean\n@Qualifier(\"implementTwo\")\npublic ServiceInterf getServiceInterf4() {\n    return new ImplementTwo();\n}\n</code></pre>\n\n<p>And also if you want to do them into <code>Map</code> use constructor injection</p>\n\n<pre><code>private Map&lt;String, List&lt;ServiceInterf&gt;&gt; mapOfLists;\n\n@Autowired\npublic TestMap(@Qualifier(\"implementOne\") List&lt;ServiceInterf&gt; implementOne, \n               @Qualifier(\"implementTwo\") List&lt;ServiceInterf&gt; implementTwo) {\n    mapOfLists = Map.of(\"implementOne\",implementOne,\"implementTwo\",implementTwo);  \n    // Map.of is from java 9 \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677824402,"creation_date":1677824402,"answer_id":75623755,"question_id":58277097,"body_markdown":"I might be late to the discussion-\r\n\r\nSo, what you are asking is possible, you can do it like this -\r\n\r\nCreate a service interface - \r\n\r\n    public interface SayHelloService {\r\n        String sayHello();\r\n    }\r\n\r\n\r\nCreate multiple implementations of this interface -\r\n\r\n    @Service(&quot;ENG&quot;)\r\n    public class SayHelloInEnglish implements SayHelloService {\r\n        String sayHello() {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\nanother implementation -\r\n\r\n    @Service(&quot;SPN&quot;)\r\n    public class SayHelloInSpanish implements SayHelloService {\r\n        String sayHello() {\r\n            return &quot;hola&quot;;\r\n        }\r\n    }\r\n\r\nWhen you autowire your service, you can autowire it like this - \r\n\r\n      private Map&lt;String, SayHelloService&gt; sayHelloService;\r\n\r\n      @Autowired\r\n      public HelloController(Map&lt;String, SayHelloService&gt; sayHelloService) {\r\n        this.sayHelloService = sayHelloService;\r\n      }\r\n    \r\n      @GetMapping(&quot;/hello/{lang}&quot;)\r\n      public String sayHello(@PathVariable String lang) {\r\n        String msg = this.sayHelloService.get(lang).sayHello();\r\n        return msg;\r\n      }\r\n\r\nNow based on your param, the corresponding implementation class will be picked up.\r\nHope it helps.\r\nMark as answer if it did :p","title":"@Autowire an Interface as Map&lt;String, InterfaceName&gt; is possible?","body":"<p>I might be late to the discussion-</p>\n<p>So, what you are asking is possible, you can do it like this -</p>\n<p>Create a service interface -</p>\n<pre><code>public interface SayHelloService {\n    String sayHello();\n}\n</code></pre>\n<p>Create multiple implementations of this interface -</p>\n<pre><code>@Service(&quot;ENG&quot;)\npublic class SayHelloInEnglish implements SayHelloService {\n    String sayHello() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>another implementation -</p>\n<pre><code>@Service(&quot;SPN&quot;)\npublic class SayHelloInSpanish implements SayHelloService {\n    String sayHello() {\n        return &quot;hola&quot;;\n    }\n}\n</code></pre>\n<p>When you autowire your service, you can autowire it like this -</p>\n<pre><code>  private Map&lt;String, SayHelloService&gt; sayHelloService;\n\n  @Autowired\n  public HelloController(Map&lt;String, SayHelloService&gt; sayHelloService) {\n    this.sayHelloService = sayHelloService;\n  }\n\n  @GetMapping(&quot;/hello/{lang}&quot;)\n  public String sayHello(@PathVariable String lang) {\n    String msg = this.sayHelloService.get(lang).sayHello();\n    return msg;\n  }\n</code></pre>\n<p>Now based on your param, the corresponding implementation class will be picked up.\nHope it helps.\nMark as answer if it did :p</p>\n"}],"owner":{"account_id":3585117,"reputation":1566,"user_id":2992476,"accept_rate":71,"display_name":"user2992476"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1677824402,"creation_date":1570482064,"question_id":58277097,"body_markdown":"Let&#39;s say I have a &quot;SomeInterface&quot; and I have two springComponentImpl that implements that &quot;SomeInterface&quot;.\r\n\r\nI know I can autowire both implementations, together at once, with:\r\n\r\n    @Autowire\r\n    private List&lt;SomeInterface&gt; springComponentsImplList;\r\n\r\nCould I inject them in a way like this?:\r\n\r\n    @Autowire\r\n    private Map&lt;String,SomeInterface&gt; springComponentsImplList;\r\n\r\nSo that way I could get the implementation by a &quot;key&quot;? It would be perfect if that key is the class name or something and generated automatically.\r\n","title":"@Autowire an Interface as Map&lt;String, InterfaceName&gt; is possible?","body":"<p>Let's say I have a &quot;SomeInterface&quot; and I have two springComponentImpl that implements that &quot;SomeInterface&quot;.</p>\n<p>I know I can autowire both implementations, together at once, with:</p>\n<pre><code>@Autowire\nprivate List&lt;SomeInterface&gt; springComponentsImplList;\n</code></pre>\n<p>Could I inject them in a way like this?:</p>\n<pre><code>@Autowire\nprivate Map&lt;String,SomeInterface&gt; springComponentsImplList;\n</code></pre>\n<p>So that way I could get the implementation by a &quot;key&quot;? It would be perfect if that key is the class name or something and generated automatically.</p>\n"},{"tags":["java","android","cordova","signing","pkcs#12"],"comments":[{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1488454319,"post_id":42554221,"comment_id":72243036,"body_markdown":"Have you tried Oracle&#39;s JDK?","body":"Have you tried Oracle&#39;s JDK?"},{"owner":{"account_id":3964479,"reputation":455,"user_id":3270837,"display_name":"Jacek Kuzemczak"},"score":0,"creation_date":1488879699,"post_id":42554221,"comment_id":72416362,"body_markdown":"Gives the same message with Oracle 8 and 9 :(","body":"Gives the same message with Oracle 8 and 9 :("},{"owner":{"account_id":3964479,"reputation":455,"user_id":3270837,"display_name":"Jacek Kuzemczak"},"score":0,"creation_date":1489492112,"post_id":42554221,"comment_id":72684384,"body_markdown":"There is this issue on the OpenJDK JIRA which seems very related https://bugs.openjdk.java.net/browse/JDK-8175251","body":"There is this issue on the OpenJDK JIRA which seems very related <a href=\"https://bugs.openjdk.java.net/browse/JDK-8175251\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8175251</a>"},{"owner":{"account_id":1366225,"reputation":827,"user_id":1302592,"display_name":"Dev"},"score":0,"creation_date":1608959952,"post_id":42554221,"comment_id":115719203,"body_markdown":"JDK 1.8.0_111 does not have this issue, I was facing same error in Android Studio, setting JDK_1.8.0_111 worked for me","body":"JDK 1.8.0_111 does not have this issue, I was facing same error in Android Studio, setting JDK_1.8.0_111 worked for me"}],"answers":[{"tags":[],"owner":{"account_id":11016711,"reputation":66,"user_id":8092348,"display_name":"Olexandr Vovk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1518450048,"creation_date":1496238908,"answer_id":44286736,"question_id":42554221,"body_markdown":"We had the same problem. We have found that JDK 1.8.0_112 doesn&#39;t have the bug that you&#39;re talking about. So we resolved the problem in this way:\r\n\r\nAt first we converted `temp_keystore.p12` into `mycert.keystore` by using the following command (`Java\\jdk1.8.0_112\\bin\\keytool.exe`):\r\n\r\n    keytool -importkeystore -srckeystore temp_keystore.p12 -destkeystore mycert.keystore -srcstoretype pkcs12\r\n\r\nThen we use the following command (`Java\\jdk1.8.0_112\\bin\\jarsigner.exe)`:\r\n\r\n    jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore mycert.keystore ReadyForSigning.apk 1\r\n\r\nto sign `apk`. (&quot;`1`&quot; at the end of command is the alias)\r\n\r\nPS.: Converting from `.p12` to `.keystore` may be not necessary.","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>We had the same problem. We have found that JDK 1.8.0_112 doesn't have the bug that you're talking about. So we resolved the problem in this way:</p>\n\n<p>At first we converted <code>temp_keystore.p12</code> into <code>mycert.keystore</code> by using the following command (<code>Java\\jdk1.8.0_112\\bin\\keytool.exe</code>):</p>\n\n<pre><code>keytool -importkeystore -srckeystore temp_keystore.p12 -destkeystore mycert.keystore -srcstoretype pkcs12\n</code></pre>\n\n<p>Then we use the following command (<code>Java\\jdk1.8.0_112\\bin\\jarsigner.exe)</code>:</p>\n\n<pre><code>jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore mycert.keystore ReadyForSigning.apk 1\n</code></pre>\n\n<p>to sign <code>apk</code>. (\"<code>1</code>\" at the end of command is the alias)</p>\n\n<p>PS.: Converting from <code>.p12</code> to <code>.keystore</code> may be not necessary.</p>\n"},{"tags":[],"owner":{"account_id":3380942,"reputation":457,"user_id":2837999,"display_name":"Anders Emil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518450358,"creation_date":1512037718,"answer_id":47571157,"question_id":42554221,"body_markdown":"I have spent hours finding a solution to this problem. Tried five different JDKs and nothing worked. I have an old PKCS12 certificate for a very popular playstore app that I have &quot;inherited&quot; from the previous developer, and JDK 8 + 9 will not use it. Olexandr&#39;s solution didn&#39;t help either.\n\nFinally, almost by shear luck, I managed to find a solution [here][1], in Weijung Wang&#39;s reponse. It involves exporting and reimporting the certificate using openssl. I then reimported the P12 keystore in the JKS keystore and it now works with JDK 8.\n\nQuote:\n&gt;weijun Weijun Wang added a comment - 2017-02-28 15:55  \n&gt;Openssl is able to remove the redundant 0s when extracting the private key. We can use the following 2 commands to normalize an affected pkcs12 file: \n&gt;\n&gt;1. openssl pkcs12 -in pkcs12-file -out key-and-cert -nodes -passin pass:abcXYZ \n&gt;\n&gt;2. openssl pkcs12 -in key-and-cert -export -out new-pkcs12-file -passout pass:abcXYZ\n\n\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8175251","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>I have spent hours finding a solution to this problem. Tried five different JDKs and nothing worked. I have an old PKCS12 certificate for a very popular playstore app that I have &quot;inherited&quot; from the previous developer, and JDK 8 + 9 will not use it. Olexandr's solution didn't help either.</p>\n<p>Finally, almost by shear luck, I managed to find a solution <a href=\"https://bugs.openjdk.java.net/browse/JDK-8175251\" rel=\"nofollow noreferrer\">here</a>, in Weijung Wang's reponse. It involves exporting and reimporting the certificate using openssl. I then reimported the P12 keystore in the JKS keystore and it now works with JDK 8.</p>\n<p>Quote:</p>\n<blockquote>\n<p>weijun Weijun Wang added a comment - 2017-02-28 15:55<br />\nOpenssl is able to remove the redundant 0s when extracting the private key. We can use the following 2 commands to normalize an affected pkcs12 file:</p>\n<ol>\n<li><p>openssl pkcs12 -in pkcs12-file -out key-and-cert -nodes -passin pass:abcXYZ</p>\n</li>\n<li><p>openssl pkcs12 -in key-and-cert -export -out new-pkcs12-file -passout pass:abcXYZ</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":426728,"reputation":151,"user_id":808102,"display_name":"fnicollet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516010147,"creation_date":1516010147,"answer_id":48260537,"question_id":42554221,"body_markdown":"I have been having the same error, and Olexandr&#39;s solution wouldn&#39;t work, as using keytool on JDK8 (update 151)  would throw an error while reading the certificate, which was generated with JDK7.\r\nAs from Anders answer, using OpenSSL worked with (pasting the command lines for future reference) :\r\n\r\n    openssl pkcs12 -in android.p12 -out android_fixed.cert -nodes -passin pass:your_p12_password\r\n    openssl pkcs12 -in android_fixed.cert -export -out android_cert.p12 -passout pass:your_p12_password","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>I have been having the same error, and Olexandr's solution wouldn't work, as using keytool on JDK8 (update 151)  would throw an error while reading the certificate, which was generated with JDK7.\nAs from Anders answer, using OpenSSL worked with (pasting the command lines for future reference) :</p>\n\n<pre><code>openssl pkcs12 -in android.p12 -out android_fixed.cert -nodes -passin pass:your_p12_password\nopenssl pkcs12 -in android_fixed.cert -export -out android_cert.p12 -passout pass:your_p12_password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5293327,"reputation":550,"user_id":4225163,"display_name":"Water"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537340343,"creation_date":1528334480,"answer_id":50731710,"question_id":42554221,"body_markdown":"I have keystore generated with JDK6.\r\nAs workaround, I have been using JDK 1.8.0_112 by setting JDK under [Project Structure] - [SDK Location] - [JDK location].\r\n\r\nI have solved with steps below (using macOS).\r\n\r\nConvert to PKCS12 using JDK 1.8.0_112\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home/bin/keytool -importkeystore -srckeystore original.keystore -destkeystore 1.8.0_112.p12 -deststoretype PKCS12 -storepass ***** -destkeypass *****\r\n\r\nProcess with OpenSSL (Thanks to Weijung Wang and Anders Emil)\r\n\r\n    openssl pkcs12 -in 1.8.0_112.p12 -out 1.8.0_112.cert -nodes -passin pass:*****\r\n    openssl pkcs12 -in 1.8.0_112.cert -export -out 1.8.0_112.export.p12 -passout pass:*****\r\n\r\nConvert to JKS using JDK 1.8.0_161.\r\n\r\nHere I need to specify -destkeypass, -srcalias, and -destalias.\r\nNote that alias is &quot;1&quot; after openSSL commands, so needed to set alias.\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_161.jdk/Contents/Home/bin/keytool -importkeystore -srckeystore 1.8.0_112.export.p12 -srcstoretype pkcs12 -destkeystore 1.8.0_112.keystore -deststoretype jks -deststorepass ***** -destkeypass ***** -srcalias 1 -destalias youralias\r\n\r\nSo the results of fingerprints shows like this.\r\n\r\n    Original keystore:\r\n    \t SHA1: 6C:9E:...:C5:8A\r\n\r\n    Original apk:\r\n    \t SHA1: DA:4C:...:3F:02\r\n\r\n    Modified keystore:\r\n    \t SHA1: C8:4A:...:2A:23\r\n\r\n    Modified apk:\r\n    \t SHA1: DA:4C:...:3F:02\r\n\r\n","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>I have keystore generated with JDK6.\nAs workaround, I have been using JDK 1.8.0_112 by setting JDK under [Project Structure] - [SDK Location] - [JDK location].</p>\n\n<p>I have solved with steps below (using macOS).</p>\n\n<p>Convert to PKCS12 using JDK 1.8.0_112</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home/bin/keytool -importkeystore -srckeystore original.keystore -destkeystore 1.8.0_112.p12 -deststoretype PKCS12 -storepass ***** -destkeypass *****\n</code></pre>\n\n<p>Process with OpenSSL (Thanks to Weijung Wang and Anders Emil)</p>\n\n<pre><code>openssl pkcs12 -in 1.8.0_112.p12 -out 1.8.0_112.cert -nodes -passin pass:*****\nopenssl pkcs12 -in 1.8.0_112.cert -export -out 1.8.0_112.export.p12 -passout pass:*****\n</code></pre>\n\n<p>Convert to JKS using JDK 1.8.0_161.</p>\n\n<p>Here I need to specify -destkeypass, -srcalias, and -destalias.\nNote that alias is \"1\" after openSSL commands, so needed to set alias.</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_161.jdk/Contents/Home/bin/keytool -importkeystore -srckeystore 1.8.0_112.export.p12 -srcstoretype pkcs12 -destkeystore 1.8.0_112.keystore -deststoretype jks -deststorepass ***** -destkeypass ***** -srcalias 1 -destalias youralias\n</code></pre>\n\n<p>So the results of fingerprints shows like this.</p>\n\n<pre><code>Original keystore:\n     SHA1: 6C:9E:...:C5:8A\n\nOriginal apk:\n     SHA1: DA:4C:...:3F:02\n\nModified keystore:\n     SHA1: C8:4A:...:2A:23\n\nModified apk:\n     SHA1: DA:4C:...:3F:02\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1341287,"reputation":3432,"user_id":1282896,"accept_rate":70,"display_name":"Jun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584582217,"creation_date":1584582217,"answer_id":60749805,"question_id":42554221,"body_markdown":"@Water&#39;s solution didn&#39;t worked for me. The signature of the generated apk was different than the original one.\r\n\r\nI finally got it working by upgrading to Google&#39;s new app signing by uploading the private key generated with pepk tool and asked their support to reset the upload key.","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>@Water's solution didn't worked for me. The signature of the generated apk was different than the original one.</p>\n\n<p>I finally got it working by upgrading to Google's new app signing by uploading the private key generated with pepk tool and asked their support to reset the upload key.</p>\n"},{"tags":[],"owner":{"account_id":1356101,"reputation":11,"user_id":1294459,"display_name":"Allan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642713694,"creation_date":1642713694,"answer_id":70793547,"question_id":42554221,"body_markdown":"I FOUND AN AWESOME SOLUTION\r\n\r\nI too was manually signing my APK&#39;s because of this, but now that Google is requiring targetSDK=30, it is also requiring using V2 signing scheme. This is something I don&#39;t know how to do manually. \r\n\r\nBUT I FOUND A FIX!\r\n\r\nJust set the JDK used by Android Studio to something slightly older in File -&gt; Project Structure -&gt; JDK Location. By default it uses its embedded JDK but you can point it to anything. I&#39;m using 1.8.0_45 for example. And I can now just use Build -&gt; Generate Signed APK directly with my old &quot;broken&quot; keystore again!\r\n\r\nSomeday Android Studio might require the latest &quot;buggy&quot; JDK again, but for now I&#39;m set.","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>I FOUND AN AWESOME SOLUTION</p>\n<p>I too was manually signing my APK's because of this, but now that Google is requiring targetSDK=30, it is also requiring using V2 signing scheme. This is something I don't know how to do manually.</p>\n<p>BUT I FOUND A FIX!</p>\n<p>Just set the JDK used by Android Studio to something slightly older in File -&gt; Project Structure -&gt; JDK Location. By default it uses its embedded JDK but you can point it to anything. I'm using 1.8.0_45 for example. And I can now just use Build -&gt; Generate Signed APK directly with my old &quot;broken&quot; keystore again!</p>\n<p>Someday Android Studio might require the latest &quot;buggy&quot; JDK again, but for now I'm set.</p>\n"},{"tags":[],"owner":{"account_id":305684,"reputation":715,"user_id":615994,"accept_rate":56,"display_name":"Deyan Vitanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677824293,"creation_date":1677824293,"answer_id":75623745,"question_id":42554221,"body_markdown":"In many cases the problem is the Java version. If you very had old PKCS12 .p12 file (like mine) you would need Java 6 to read it. The old keys use weaker encryption 1024 bit encryption I think.\r\n\r\nSo just use the keytool command line like this (I needed to get the SHA1 key): \r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.6.0_45\\bin\\keytool&quot; -exportcert -keystore cert.p12 -storepass &lt;yourpass&gt; -list -v -storetype PKCS12","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>In many cases the problem is the Java version. If you very had old PKCS12 .p12 file (like mine) you would need Java 6 to read it. The old keys use weaker encryption 1024 bit encryption I think.</p>\n<p>So just use the keytool command line like this (I needed to get the SHA1 key):</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk1.6.0_45\\bin\\keytool&quot; -exportcert -keystore cert.p12 -storepass &lt;yourpass&gt; -list -v -storetype PKCS12\n</code></pre>\n"}],"owner":{"account_id":3964479,"reputation":455,"user_id":3270837,"display_name":"Jacek Kuzemczak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3407,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44286736,"answer_count":7,"score":7,"last_activity_date":1677824293,"creation_date":1488454105,"question_id":42554221,"body_markdown":"We&#39;re working on a Cordova app and having difficulty signing the Android version of the app.\r\n\r\nUsing the command\r\n\r\n    jarsigner -keystore keystore.p12 -storetype pkcs12 android-release-unsigned.apk 1\r\n\r\ngives the following exception\r\n\r\n    java.io.IOException: DerInputStream.getLength(): Redundant length bytes found\r\n\r\nwhich comes from [this line][1] in OpenJDK [apparently][2] this was added to fix [CVE-2016-5546][3] although I don&#39;t know enough about crypto to really understand it.\r\n\r\nExporting the certificate with openssl and creating a new p12 from that works fine but changes the signature which means the play store rejects the upload.\r\n\r\nThe keystore we have came from another company that we originally outsourced the app development to.\r\n\r\nAny jarsigner or keytool command throws the same exception which I guess makes sense since they all use the same Java lib\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk9/jdk9/jdk/file/tip/src/java.base/share/classes/sun/security/util/DerInputStream.java#l612\r\n  [2]: https://www.reddit.com/r/redhat/comments/5rar8x/openjdk_180_121_invalid_rsa_private_key/dd6honx/\r\n  [3]: http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5546","title":"Signing android app throws IOException: Redundant length bytes found","body":"<p>We're working on a Cordova app and having difficulty signing the Android version of the app.</p>\n\n<p>Using the command</p>\n\n<pre><code>jarsigner -keystore keystore.p12 -storetype pkcs12 android-release-unsigned.apk 1\n</code></pre>\n\n<p>gives the following exception</p>\n\n<pre><code>java.io.IOException: DerInputStream.getLength(): Redundant length bytes found\n</code></pre>\n\n<p>which comes from <a href=\"http://hg.openjdk.java.net/jdk9/jdk9/jdk/file/tip/src/java.base/share/classes/sun/security/util/DerInputStream.java#l612\" rel=\"noreferrer\">this line</a> in OpenJDK <a href=\"https://www.reddit.com/r/redhat/comments/5rar8x/openjdk_180_121_invalid_rsa_private_key/dd6honx/\" rel=\"noreferrer\">apparently</a> this was added to fix <a href=\"http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5546\" rel=\"noreferrer\">CVE-2016-5546</a> although I don't know enough about crypto to really understand it.</p>\n\n<p>Exporting the certificate with openssl and creating a new p12 from that works fine but changes the signature which means the play store rejects the upload.</p>\n\n<p>The keystore we have came from another company that we originally outsourced the app development to.</p>\n\n<p>Any jarsigner or keytool command throws the same exception which I guess makes sense since they all use the same Java lib</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1677822873,"post_id":75623380,"comment_id":133416943,"body_markdown":"Where you have intilized values variable ?","body":"Where you have intilized values variable ?"},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1677823682,"post_id":75623380,"comment_id":133417067,"body_markdown":"@Maveňツ I initialized values variable at top of code in my Adapter","body":"@Maveňツ I initialized values variable at top of code in my Adapter"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1677823724,"post_id":75623380,"comment_id":133417078,"body_markdown":"then please share the complete code","body":"then please share the complete code"},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1677824372,"post_id":75623380,"comment_id":133417186,"body_markdown":"@Maveňツ i shared my complete code","body":"@Maveňツ i shared my complete code"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1677825034,"post_id":75623380,"comment_id":133417287,"body_markdown":"please initialized  values = 0; while declaring it","body":"please initialized  values = 0; while declaring it"},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1677834460,"post_id":75623380,"comment_id":133419245,"body_markdown":"@Maveňツ I tried it before but that doesnt work as well","body":"@Maveňツ I tried it before but that doesnt work as well"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678089609,"post_id":75623380,"comment_id":133458841,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) might help. I know it makes a different operation, but it will help track the click and perform the operation you want.","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">resource</a> might help. I know it makes a different operation, but it will help track the click and perform the operation you want."}],"answers":[{"tags":[],"owner":{"account_id":21478462,"reputation":1,"user_id":15826283,"display_name":"Aiman Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677823976,"creation_date":1677822190,"answer_id":75623552,"question_id":75623380,"body_markdown":"Since the value of values is never updated in your case 0 code block, it will always execute the case 0 block on subsequent clicks, resulting in the value of likeCount being incremented every time.\r\n\r\nTo fix this, you need to update the value of values after the case 0 block has executed. You can do this by adding `values = 1;` after `answersRef.child(&quot;upvote&quot;).setValue(likeCount);` in the case 0 block, like this:\r\n\r\n\r\n           case 0:\r\n                System.out.println(&quot;it is liked&quot;);\r\n                int likeCount = number + 1;\r\n                answersRef.child(&quot;upvote&quot;).setValue(likeCount).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        Toast.makeText(view.getContext(), &quot;Liked!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                values = 1;\r\n                break;\r\n\r\n            case 1:\r\n                System.out.println(&quot;it is unliked&quot;);\r\n                int unlikeCount = number - 1;\r\n                answersRef.child(&quot;upvote&quot;).setValue(unlikeCount).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        Toast.makeText(view.getContext(), &quot;Unliked!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                values = 0;\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;unknown value of isLiked&quot;);\r\n                break;\r\n        }\r\n\r\nThis will ensure that case 1 is executed on the next click after case 0, and vice versa, allowing you to increment or decrement the upvote value as needed.","title":"if else part not working when read from firebase database","body":"<p>Since the value of values is never updated in your case 0 code block, it will always execute the case 0 block on subsequent clicks, resulting in the value of likeCount being incremented every time.</p>\n<p>To fix this, you need to update the value of values after the case 0 block has executed. You can do this by adding <code>values = 1;</code> after <code>answersRef.child(&quot;upvote&quot;).setValue(likeCount);</code> in the case 0 block, like this:</p>\n<pre><code>       case 0:\n            System.out.println(&quot;it is liked&quot;);\n            int likeCount = number + 1;\n            answersRef.child(&quot;upvote&quot;).setValue(likeCount).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    Toast.makeText(view.getContext(), &quot;Liked!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            values = 1;\n            break;\n\n        case 1:\n            System.out.println(&quot;it is unliked&quot;);\n            int unlikeCount = number - 1;\n            answersRef.child(&quot;upvote&quot;).setValue(unlikeCount).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    Toast.makeText(view.getContext(), &quot;Unliked!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n            values = 0;\n            break;\n\n        default:\n            System.out.println(&quot;unknown value of isLiked&quot;);\n            break;\n    }\n</code></pre>\n<p>This will ensure that case 1 is executed on the next click after case 0, and vice versa, allowing you to increment or decrement the upvote value as needed.</p>\n"}],"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677824085,"creation_date":1677820287,"question_id":75623380,"body_markdown":"I&#39;m trying to set the value of the upvote from the recycler view in the firebase database i.e when a user clicks a like button it will increment the value of the upvote by one but if again a user clicks a like button upvote value decrement by one. for this, I tried to switch and if-else but it&#39;s not working as it keeps inside of the set Value () part.\r\n\r\n```\r\n\r\npublic class MyRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyRecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    public static Context context;\r\n\r\n    List&lt;String[]&gt; myDataList;\r\n    List&lt;qna_data&gt; mydataList;\r\n    int values ;\r\n\r\n    Long number;\r\n    private Long likeCount;\r\n    private Long downlikeCount;\r\n    private boolean isLiked = false;\r\n\r\n\r\n    private DatabaseReference qnaRef;\r\n    List&lt;DataSnapshot&gt; dataSnapshotList;\r\n    \r\n\r\n    public MyRecyclerViewAdapter(List&lt;qna_data&gt; myDataList) {\r\n        this.mydataList = myDataList;\r\n    }\r\n\r\n    public MyRecyclerViewAdapter(DatabaseReference qnaRef, List&lt;DataSnapshot&gt; dataSnapshotList) {\r\n        this.qnaRef = qnaRef;\r\n        this.dataSnapshotList = dataSnapshotList;\r\n    }\r\n\r\n\r\n    // Create new views (invoked by the layout manager)\r\n    @Override\r\n    public MyRecyclerViewAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycleview_post_profile, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(MyRecyclerViewAdapter.ViewHolder holder, int position) {\r\n\r\n        qna_data data = mydataList.get(position);\r\n\r\n\r\n        context = holder.itemView.getContext();\r\n\r\n\r\n        holder.question_asked.setText(data.getQuestion_qna_asked());\r\n\r\n        holder.time_of_question.setText(data.getQna_timestamp_asked());\r\n        holder.category_choosen.setText(data.getCategory_qna_asked());\r\n        holder.username.setText(data.getUser_qna_name_asked());\r\n        holder.upvote.setText(String.valueOf(data.getUpvote()));\r\n        holder.downvote.setText(String.valueOf(data.getDownvote()));\r\n\r\n\r\n        holder.upvote_liner.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                number = data.getUpvote();\r\n                String pushkey = data.getPushkey();\r\n                String scholarid = data.getScholar_id();\r\n\r\n                likeCount = number + 1;\r\n                DatabaseReference answersRef = FirebaseDatabase.getInstance().getReference(&quot;QnA/Questions&quot;).child(pushkey).child(scholarid);\r\n\r\n                switch (values) {\r\n                    case 0:\r\n                        System.out.println(values);\r\n                        System.out.println(&quot;it is liked&quot;);\r\n                        answersRef.child(&quot;upvote&quot;).setValue(likeCount).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                Toast.makeText(view.getContext(), &quot;Toast&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                        values = 1;\r\n\r\n                        System.out.println(values);\r\n                        break;\r\n\r\n\r\n                    case 1:\r\n\r\n                        System.out.println(&quot;&quot;);\r\n                        Toast.makeText(view.getContext(), &quot;clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                        values = 0;\r\n                        break;\r\n\r\n                    default:\r\n                        System.out.println(&quot;unknown value of isLiked&quot;);\r\n                        break;\r\n                }\r\n\r\n\r\n//                if (isLiked == false) {\r\n//                    System.out.println(&quot;isLiked is false&quot;);\r\n//                    isLiked = true;\r\n//                    System.out.println(&quot;isLiked is now true&quot;);\r\n//                    answersRef.child(&quot;upvote&quot;).setValue(likeCount);\r\n//\r\n//                    return;\r\n//                } else {\r\n\r\n//                    System.out.println(&quot;isLiked is true&quot;);\r\n//                    Toast.makeText(view.getContext(), &quot;Toast&quot;, Toast.LENGTH_SHORT).show();\r\n//                }\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n        Glide.with(holder.profile_of_users.getContext())\r\n                .load(data.getImage()).into(holder.profile_of_users);\r\n\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return mydataList.size();\r\n    }\r\n\r\n    // ViewHolder class\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView question_asked, time_of_question, category_choosen, username, upvote, downvote;\r\n        de.hdodenhof.circleimageview.CircleImageView profile_of_users;\r\n        LinearLayoutCompat linear, upvote_liner;\r\n\r\n        AppCompatImageView upimage;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            linear = itemView.findViewById(R.id.answer_question_qna);\r\n\r\n            profile_of_users = itemView.findViewById(R.id.profile_qna);\r\n\r\n            profile_of_users = itemView.findViewById(R.id.profile_qna);\r\n            username = itemView.findViewById(R.id.user_name_qna);\r\n            time_of_question = itemView.findViewById(R.id.timestamp_qna);\r\n            category_choosen = itemView.findViewById(R.id.category_qna);\r\n            question_asked = itemView.findViewById(R.id.question_qna);\r\n\r\n            upvote = itemView.findViewById(R.id.upvote_waala_qna);\r\n            downvote = itemView.findViewById(R.id.downvote_waala_qna);\r\n            upvote_liner = itemView.findViewById(R.id.upvote_linear);\r\n//            upimage = itemView.findViewById(R.id.upvote_button);\r\n        }\r\n\r\n        public qna_data getItem(int position) {\r\n            // Get the question object at this position\r\n            DataSnapshot questionSnapshot = dataSnapshotList.get(position);\r\n            qna_data question = questionSnapshot.getValue(qna_data.class);\r\n            question.setPushkey(questionSnapshot.getKey());\r\n            return question;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI update my code after debugging I got to know that the value of values variable change to 1 but case 1: not running if I use setValue() method but without setvalue() method it working fine\r\n","title":"if else part not working when read from firebase database","body":"<p>I'm trying to set the value of the upvote from the recycler view in the firebase database i.e when a user clicks a like button it will increment the value of the upvote by one but if again a user clicks a like button upvote value decrement by one. for this, I tried to switch and if-else but it's not working as it keeps inside of the set Value () part.</p>\n<pre><code>\npublic class MyRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyRecyclerViewAdapter.ViewHolder&gt; {\n\n    public static Context context;\n\n    List&lt;String[]&gt; myDataList;\n    List&lt;qna_data&gt; mydataList;\n    int values ;\n\n    Long number;\n    private Long likeCount;\n    private Long downlikeCount;\n    private boolean isLiked = false;\n\n\n    private DatabaseReference qnaRef;\n    List&lt;DataSnapshot&gt; dataSnapshotList;\n    \n\n    public MyRecyclerViewAdapter(List&lt;qna_data&gt; myDataList) {\n        this.mydataList = myDataList;\n    }\n\n    public MyRecyclerViewAdapter(DatabaseReference qnaRef, List&lt;DataSnapshot&gt; dataSnapshotList) {\n        this.qnaRef = qnaRef;\n        this.dataSnapshotList = dataSnapshotList;\n    }\n\n\n    // Create new views (invoked by the layout manager)\n    @Override\n    public MyRecyclerViewAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycleview_post_profile, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(MyRecyclerViewAdapter.ViewHolder holder, int position) {\n\n        qna_data data = mydataList.get(position);\n\n\n        context = holder.itemView.getContext();\n\n\n        holder.question_asked.setText(data.getQuestion_qna_asked());\n\n        holder.time_of_question.setText(data.getQna_timestamp_asked());\n        holder.category_choosen.setText(data.getCategory_qna_asked());\n        holder.username.setText(data.getUser_qna_name_asked());\n        holder.upvote.setText(String.valueOf(data.getUpvote()));\n        holder.downvote.setText(String.valueOf(data.getDownvote()));\n\n\n        holder.upvote_liner.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                number = data.getUpvote();\n                String pushkey = data.getPushkey();\n                String scholarid = data.getScholar_id();\n\n                likeCount = number + 1;\n                DatabaseReference answersRef = FirebaseDatabase.getInstance().getReference(&quot;QnA/Questions&quot;).child(pushkey).child(scholarid);\n\n                switch (values) {\n                    case 0:\n                        System.out.println(values);\n                        System.out.println(&quot;it is liked&quot;);\n                        answersRef.child(&quot;upvote&quot;).setValue(likeCount).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                Toast.makeText(view.getContext(), &quot;Toast&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                        values = 1;\n\n                        System.out.println(values);\n                        break;\n\n\n                    case 1:\n\n                        System.out.println(&quot;&quot;);\n                        Toast.makeText(view.getContext(), &quot;clicked&quot;, Toast.LENGTH_SHORT).show();\n                        values = 0;\n                        break;\n\n                    default:\n                        System.out.println(&quot;unknown value of isLiked&quot;);\n                        break;\n                }\n\n\n//                if (isLiked == false) {\n//                    System.out.println(&quot;isLiked is false&quot;);\n//                    isLiked = true;\n//                    System.out.println(&quot;isLiked is now true&quot;);\n//                    answersRef.child(&quot;upvote&quot;).setValue(likeCount);\n//\n//                    return;\n//                } else {\n\n//                    System.out.println(&quot;isLiked is true&quot;);\n//                    Toast.makeText(view.getContext(), &quot;Toast&quot;, Toast.LENGTH_SHORT).show();\n//                }\n\n\n            }\n        });\n\n\n        Glide.with(holder.profile_of_users.getContext())\n                .load(data.getImage()).into(holder.profile_of_users);\n\n    }\n    \n    @Override\n    public int getItemCount() {\n        return mydataList.size();\n    }\n\n    // ViewHolder class\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView question_asked, time_of_question, category_choosen, username, upvote, downvote;\n        de.hdodenhof.circleimageview.CircleImageView profile_of_users;\n        LinearLayoutCompat linear, upvote_liner;\n\n        AppCompatImageView upimage;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            linear = itemView.findViewById(R.id.answer_question_qna);\n\n            profile_of_users = itemView.findViewById(R.id.profile_qna);\n\n            profile_of_users = itemView.findViewById(R.id.profile_qna);\n            username = itemView.findViewById(R.id.user_name_qna);\n            time_of_question = itemView.findViewById(R.id.timestamp_qna);\n            category_choosen = itemView.findViewById(R.id.category_qna);\n            question_asked = itemView.findViewById(R.id.question_qna);\n\n            upvote = itemView.findViewById(R.id.upvote_waala_qna);\n            downvote = itemView.findViewById(R.id.downvote_waala_qna);\n            upvote_liner = itemView.findViewById(R.id.upvote_linear);\n//            upimage = itemView.findViewById(R.id.upvote_button);\n        }\n\n        public qna_data getItem(int position) {\n            // Get the question object at this position\n            DataSnapshot questionSnapshot = dataSnapshotList.get(position);\n            qna_data question = questionSnapshot.getValue(qna_data.class);\n            question.setPushkey(questionSnapshot.getKey());\n            return question;\n        }\n\n    }\n\n\n}\n\n</code></pre>\n<p>I update my code after debugging I got to know that the value of values variable change to 1 but case 1: not running if I use setValue() method but without setvalue() method it working fine</p>\n"},{"tags":["java","html","jsp","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677826450,"post_id":75623363,"comment_id":133417489,"body_markdown":"if your project is `demoweb`  , your url in tomcat will be `http://localhost:8080/demoweb/`","body":"if your project is <code>demoweb</code>  , your url in tomcat will be <code>http:&#47;&#47;localhost:8080&#47;demoweb&#47;</code>"},{"owner":{"account_id":24591629,"reputation":5,"user_id":18495433,"display_name":"beingicy"},"score":0,"creation_date":1677827949,"post_id":75623363,"comment_id":133417745,"body_markdown":"@life888888 Thank you for reply!, I tried but only the html files occurs 404 error. and also that html files and other jsp files are in the same location but, only jsp files works.","body":"@life888888 Thank you for reply!, I tried but only the html files occurs 404 error. and also that html files and other jsp files are in the same location but, only jsp files works."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680199165,"post_id":75623363,"comment_id":133861867,"body_markdown":"What is the `if` servlet? I don&#39;t see a definition in your question. You should not define a `default` servlet, unless you (a) `extend DefaultServlet` and (b) really know what you are doing. You should not have to specifically map every .html file you have; the (real) DefaultServlet should handle that for you.","body":"What is the <code>if</code> servlet? I don&#39;t see a definition in your question. You should not define a <code>default</code> servlet, unless you (a) <code>extend DefaultServlet</code> and (b) really know what you are doing. You should not have to specifically map every .html file you have; the (real) DefaultServlet should handle that for you."},{"owner":{"account_id":24591629,"reputation":5,"user_id":18495433,"display_name":"beingicy"},"score":0,"creation_date":1682137934,"post_id":75623363,"comment_id":134172038,"body_markdown":"@ChristopherSchultz I know I should not map every html files. but at that time I was suffering even just the normal html file had problem opening. idk why this happens. so i did every dumb things just to resolve it. so I just made a new project and moved all those files to my new project and it solved. seems there&#39;s an issue about project structure ig","body":"@ChristopherSchultz I know I should not map every html files. but at that time I was suffering even just the normal html file had problem opening. idk why this happens. so i did every dumb things just to resolve it. so I just made a new project and moved all those files to my new project and it solved. seems there&#39;s an issue about project structure ig"}],"answers":[{"tags":[],"owner":{"account_id":24178047,"reputation":16,"user_id":18139130,"display_name":"Arshad ali Bhorania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677823185,"creation_date":1677823185,"answer_id":75623634,"question_id":75623363,"body_markdown":"First of all show me your error, it&#39;s browser error or it&#39;s tomcat server error like (404- not found).\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;if&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/if.html&lt;/jsp-file&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;if&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/if.html&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nError in this code, at last line on file location.","title":"How can I run html files in tomcat server?","body":"<p>First of all show me your error, it's browser error or it's tomcat server error like (404- not found).</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;if&lt;/servlet-name&gt;\n    &lt;jsp-file&gt;/if.html&lt;/jsp-file&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;if&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/if.html&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Error in this code, at last line on file location.</p>\n"}],"owner":{"account_id":24591629,"reputation":5,"user_id":18495433,"display_name":"beingicy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75623634,"answer_count":1,"score":0,"last_activity_date":1677823185,"creation_date":1677820089,"question_id":75623363,"body_markdown":"I&#39;m studying jsp/servlet. There is no issue running jsp files, but I can&#39;t run html files. (404 error, cannot find resources)\r\nI can run through alt+f2 (open in a local file) , the code works well though. The problem occurs only on the browser URL. any idea about this?? I&#39;m using IntelliJ ultimate. \r\n[404 error, can&#39;t find resources](https://i.stack.imgur.com/1c2NQ.png)\r\nthis is my file directory\r\n[directory](https://i.stack.imgur.com/5BZZi.png)\r\n\r\nThis is my web.xml.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.example.MyServlet1&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;debug&lt;/param-name&gt;\r\n            &lt;param-value&gt;0&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;listings&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/weburl&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;if.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\ntried to map html file like this but the same error occurs\r\n\r\n```\r\n&lt;servlet&gt;\r\n        &lt;servlet-name&gt;if&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/if.html&lt;/jsp-file&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;if&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/if.html&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n","title":"How can I run html files in tomcat server?","body":"<p>I'm studying jsp/servlet. There is no issue running jsp files, but I can't run html files. (404 error, cannot find resources)\nI can run through alt+f2 (open in a local file) , the code works well though. The problem occurs only on the browser URL. any idea about this?? I'm using IntelliJ ultimate.\n<a href=\"https://i.stack.imgur.com/1c2NQ.png\" rel=\"nofollow noreferrer\">404 error, can't find resources</a>\nthis is my file directory\n<a href=\"https://i.stack.imgur.com/5BZZi.png\" rel=\"nofollow noreferrer\">directory</a></p>\n<p>This is my web.xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.example.MyServlet1&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;debug&lt;/param-name&gt;\n            &lt;param-value&gt;0&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;listings&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/weburl&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;if.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>tried to map html file like this but the same error occurs</p>\n<pre><code>&lt;servlet&gt;\n        &lt;servlet-name&gt;if&lt;/servlet-name&gt;\n        &lt;jsp-file&gt;/if.html&lt;/jsp-file&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;if&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/if.html&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","mvvm","mockito","viewmodel"],"owner":{"account_id":3994390,"reputation":624,"user_id":3292340,"accept_rate":75,"display_name":"Mark Puchala II"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677823032,"creation_date":1677823032,"question_id":75623617,"body_markdown":"I&#39;m trying to write a Mockito unit test to prove that a ViewModel initializes properly.\r\nI have a ViewModel with the following constructor:\r\n\r\n    public MyViewModel(@NonNull Application application) {\r\n        super(application);\r\n        repository = new Repository(application);\r\n        itemList = repository.getItems();\r\n    }\r\n\r\nI&#39;m trying to write a simple unit test that proves, when the ViewModel gets initialized, that it can read the Database as already having one row of data in its given item table.\r\n\r\nThe database has the following written in:\r\n\r\n    private static RoomDatabase.Callback roomDatabaseCallback = new RoomDatabase.Callback() {\r\n        @Override\r\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n            super.onCreate(db);\r\n            databaseWriterExecutor.execute(() -&gt; {\r\n                UserDao dao = INSTANCE.userDao();\r\n                User user = new User(&quot;testUser&quot;, &quot;pass&quot;);\r\n                dao.insert(user);\r\n            });\r\n        }\r\n    };\r\n\r\nFinally, this is my Unit Test file in its most recent state:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ViewModelUnitTest {\r\n    @Mock\r\n    private Application mockApplication;\r\n    @Mock\r\n    private Context mockContext;\r\n    private RubricViewModel viewModel;\r\n    @Before\r\n    public void setUp() {\r\n        when(mockApplication.getApplicationContext()).thenReturn(mockContext);\r\n        viewModel = new RubricViewModel(mockApplication);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void viewModel_init_hasTestItem() {\r\n        Item initialItem = new Item(&quot;testItem&quot;);\r\n        List&lt;Item&gt; expected = new ArrayList&lt;Item&gt;();\r\n        itemList.add(initialItem);\r\n        List&lt;Item&gt; actual = viewModel.getItems().getValue();\r\n        assertEquals(expected, actual);\r\n    }\r\n}\r\n\r\nNo matter what I do, this unit test fails. I keep adjusting things only to get a different error. Yet my ViewModel works fine in my application.\r\n\r\nHow do I write a proper unit test to test a viewmodel&#39;s methods in Java?\r\nShould I even be testing the ViewModel itself?","title":"How do you write a ViewModel Unit Test with Mockito in Java?","body":"<p>I'm trying to write a Mockito unit test to prove that a ViewModel initializes properly.\nI have a ViewModel with the following constructor:</p>\n<pre><code>public MyViewModel(@NonNull Application application) {\n    super(application);\n    repository = new Repository(application);\n    itemList = repository.getItems();\n}\n</code></pre>\n<p>I'm trying to write a simple unit test that proves, when the ViewModel gets initialized, that it can read the Database as already having one row of data in its given item table.</p>\n<p>The database has the following written in:</p>\n<pre><code>private static RoomDatabase.Callback roomDatabaseCallback = new RoomDatabase.Callback() {\n    @Override\n    public void onCreate(@NonNull SupportSQLiteDatabase db) {\n        super.onCreate(db);\n        databaseWriterExecutor.execute(() -&gt; {\n            UserDao dao = INSTANCE.userDao();\n            User user = new User(&quot;testUser&quot;, &quot;pass&quot;);\n            dao.insert(user);\n        });\n    }\n};\n</code></pre>\n<p>Finally, this is my Unit Test file in its most recent state:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ViewModelUnitTest {\n@Mock\nprivate Application mockApplication;\n@Mock\nprivate Context mockContext;\nprivate RubricViewModel viewModel;\n@Before\npublic void setUp() {\n    when(mockApplication.getApplicationContext()).thenReturn(mockContext);\n    viewModel = new RubricViewModel(mockApplication);\n\n}\n\n@Test\npublic void viewModel_init_hasTestItem() {\n    Item initialItem = new Item(&quot;testItem&quot;);\n    List&lt;Item&gt; expected = new ArrayList&lt;Item&gt;();\n    itemList.add(initialItem);\n    List&lt;Item&gt; actual = viewModel.getItems().getValue();\n    assertEquals(expected, actual);\n}\n</code></pre>\n<p>}</p>\n<p>No matter what I do, this unit test fails. I keep adjusting things only to get a different error. Yet my ViewModel works fine in my application.</p>\n<p>How do I write a proper unit test to test a viewmodel's methods in Java?\nShould I even be testing the ViewModel itself?</p>\n"},{"tags":["java","database","hibernate","intellij-idea","dbeaver"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1677751914,"post_id":75613980,"comment_id":133401144,"body_markdown":"DBeaver isn&#39;t a database. It&#39;s a tool in which you can graphically show a database and it&#39;s content. DBeaver is an app, just like the one you are trying to write in intellij","body":"DBeaver isn&#39;t a database. It&#39;s a tool in which you can graphically show a database and it&#39;s content. DBeaver is an app, just like the one you are trying to write in intellij"},{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":1,"creation_date":1677752191,"post_id":75613980,"comment_id":133401249,"body_markdown":"Welcome to SO Nikita, the people here will need a bit more information about what you are trying to achieve. I&#39;m myself a bit confused: Is this question about hibernate (code), , your database or your IDE / DBBeaver configuration?","body":"Welcome to SO Nikita, the people here will need a bit more information about what you are trying to achieve. I&#39;m myself a bit confused: Is this question about hibernate (code), , your database or your IDE / DBBeaver configuration?"}],"owner":{"account_id":26964597,"reputation":1,"user_id":20531706,"display_name":"Nikita Parsons"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677822698,"creation_date":1677751849,"question_id":75613980,"body_markdown":"I was wondering if someone could explain how to add a new mapping class for a new table in the database as i&#39;m finding the instructions from my teacher unclear and can&#39;t commit the changes I&#39;ve made without doing so.\r\n\r\n```\r\n&lt;mapping class=&quot;csc1035.project2.CLASS&quot; /&gt;        &lt;--I need to do it here\r\n&lt;mapping class=&quot;csc1035.project2.CLASS&quot; /&gt;\r\n```\r\n\r\nI&#39;ve set up the rest of the hibernate configutation. I&#39;m using intellij, dbeaver and mysql.\r\n\r\nI can&#39;t find any clear explanations online","title":"Trying to connect a dbeaver database to intellij","body":"<p>I was wondering if someone could explain how to add a new mapping class for a new table in the database as i'm finding the instructions from my teacher unclear and can't commit the changes I've made without doing so.</p>\n<pre><code>&lt;mapping class=&quot;csc1035.project2.CLASS&quot; /&gt;        &lt;--I need to do it here\n&lt;mapping class=&quot;csc1035.project2.CLASS&quot; /&gt;\n</code></pre>\n<p>I've set up the rest of the hibernate configutation. I'm using intellij, dbeaver and mysql.</p>\n<p>I can't find any clear explanations online</p>\n"},{"tags":["java","spring-boot","spring-mvc","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634972849,"creation_date":1634972849,"answer_id":69685907,"question_id":69654961,"body_markdown":"From spec:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\r\n\r\n    @Valid @RequestBody Request request\r\n\r\nIf your object is not valid, we always got an MethodArgumentNotValidException. The difference here is depended on BindingResult ...\r\n\r\nWithout BindingResult, the MethodArgumentNotValidException is thrown as expected.\r\n\r\nWith BindingResult, the error will be inserted to BindingResult. We often have to check if bindresult have an error or not and do something with it. \r\n\r\n    if (bindingResult.hasErrors()) {  \r\n        // handle error or create bad request status\r\n    }\r\nBindingResult: *&quot;General interface that represents binding results. Extends the interface for error registration capabilities, allowing for a Validator to be applied, and adds binding-specific analysis and model building. &quot;*\r\n\r\nYou can double check again the errors in binding result.\r\nI don&#39;t see an full code, so i don&#39;t know which is the cause of ConstraintViolationException, but i guess you skip the error in binding result and continue insert entity to database and violate few constrain... \r\n\r\n\r\n","title":"Presence of BindingResult method parameter determines exception thrown?","body":"<p>From spec:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html</a></p>\n<pre><code>@Valid @RequestBody Request request\n</code></pre>\n<p>If your object is not valid, we always got an MethodArgumentNotValidException. The difference here is depended on BindingResult ...</p>\n<p>Without BindingResult, the MethodArgumentNotValidException is thrown as expected.</p>\n<p>With BindingResult, the error will be inserted to BindingResult. We often have to check if bindresult have an error or not and do something with it.</p>\n<pre><code>if (bindingResult.hasErrors()) {  \n    // handle error or create bad request status\n}\n</code></pre>\n<p>BindingResult: <em>&quot;General interface that represents binding results. Extends the interface for error registration capabilities, allowing for a Validator to be applied, and adds binding-specific analysis and model building. &quot;</em></p>\n<p>You can double check again the errors in binding result.\nI don't see an full code, so i don't know which is the cause of ConstraintViolationException, but i guess you skip the error in binding result and continue insert entity to database and violate few constrain...</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634993392,"creation_date":1634993392,"answer_id":69688319,"question_id":69654961,"body_markdown":"I didn&#39;t know that the presence of `BindingResult` in controller method can modify the type of exception thrown, as I have never added it as an argument to a controller method before. What I have typically seen is the `MethodArgumentNotValidException` thrown for request body validation failures and `ConstraintViolationException` thrown for request parameter, path variable and header value violations. The format of the error details within `MethodArgumentNotValidException` might be different than what is in `ConstraintViolationException`, but it usually contains all the information you need about the error. Below is an exception handler class I wrote for your controller:\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.validation.ConstraintViolation;\r\nimport javax.validation.ConstraintViolationException;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.validation.FieldError;\r\nimport org.springframework.web.bind.MethodArgumentNotValidException;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\n@RestControllerAdvice\r\npublic class ControllerExceptionHandler {\r\n    public static final Logger LOGGER = LoggerFactory.getLogger(ControllerExceptionHandler.class);\r\n\r\n    @ExceptionHandler({ ConstraintViolationException.class })\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public Map&lt;String, Object&gt; handleValidationError(ConstraintViolationException exception) {\r\n        LOGGER.warn(&quot;ConstraintViolationException thrown&quot;, exception);\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n        List&lt;Map&lt;String, String&gt;&gt; errors = new ArrayList&lt;&gt;();\r\n\r\n        for (ConstraintViolation&lt;?&gt; violation : exception.getConstraintViolations()) {\r\n            Map&lt;String, String&gt; transformedError = new HashMap&lt;&gt;();\r\n            \r\n            String fieldName = violation.getPropertyPath().toString();\r\n            transformedError.put(&quot;field&quot;, fieldName.substring(fieldName.lastIndexOf(&#39;.&#39;) + 1));\r\n            transformedError.put(&quot;error&quot;, violation.getMessage());\r\n\r\n            errors.add(transformedError);\r\n        }\r\n        response.put(&quot;errors&quot;, errors);\r\n\r\n        return response;\r\n    }\r\n\r\n    @ExceptionHandler({ MethodArgumentNotValidException.class })\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public Map&lt;String, Object&gt; handleValidationError(MethodArgumentNotValidException exception) {\r\n        LOGGER.warn(&quot;MethodArgumentNotValidException thrown&quot;, exception);\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\r\n        if (exception.hasFieldErrors()) {\r\n            List&lt;Map&lt;String, String&gt;&gt; errors = new ArrayList&lt;&gt;();\r\n\r\n            for (FieldError error : exception.getFieldErrors()) {\r\n                Map&lt;String, String&gt; transformedError = new HashMap&lt;&gt;();\r\n                transformedError.put(&quot;field&quot;, error.getField());\r\n                transformedError.put(&quot;error&quot;, error.getDefaultMessage());\r\n\r\n                errors.add(transformedError);\r\n            }\r\n            response.put(&quot;errors&quot;, errors);\r\n        }\r\n\r\n        return response;\r\n    }\r\n}\r\n```\r\n\r\nIt transforms both the `MethodArgumentNotValidException` and `ConstraintViolationException` into the same error response JSON below:\r\n\r\n```json\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;field&quot;: &quot;name&quot;,\r\n            &quot;error&quot;: &quot;name length cannot exceed 64 characters&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nWhat information were you missing in a `MethodArgumentNotValidException` compared to a `ConstraintViolationException`?","title":"Presence of BindingResult method parameter determines exception thrown?","body":"<p>I didn't know that the presence of <code>BindingResult</code> in controller method can modify the type of exception thrown, as I have never added it as an argument to a controller method before. What I have typically seen is the <code>MethodArgumentNotValidException</code> thrown for request body validation failures and <code>ConstraintViolationException</code> thrown for request parameter, path variable and header value violations. The format of the error details within <code>MethodArgumentNotValidException</code> might be different than what is in <code>ConstraintViolationException</code>, but it usually contains all the information you need about the error. Below is an exception handler class I wrote for your controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.validation.ConstraintViolation;\nimport javax.validation.ConstraintViolationException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class ControllerExceptionHandler {\n    public static final Logger LOGGER = LoggerFactory.getLogger(ControllerExceptionHandler.class);\n\n    @ExceptionHandler({ ConstraintViolationException.class })\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public Map&lt;String, Object&gt; handleValidationError(ConstraintViolationException exception) {\n        LOGGER.warn(&quot;ConstraintViolationException thrown&quot;, exception);\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        List&lt;Map&lt;String, String&gt;&gt; errors = new ArrayList&lt;&gt;();\n\n        for (ConstraintViolation&lt;?&gt; violation : exception.getConstraintViolations()) {\n            Map&lt;String, String&gt; transformedError = new HashMap&lt;&gt;();\n            \n            String fieldName = violation.getPropertyPath().toString();\n            transformedError.put(&quot;field&quot;, fieldName.substring(fieldName.lastIndexOf('.') + 1));\n            transformedError.put(&quot;error&quot;, violation.getMessage());\n\n            errors.add(transformedError);\n        }\n        response.put(&quot;errors&quot;, errors);\n\n        return response;\n    }\n\n    @ExceptionHandler({ MethodArgumentNotValidException.class })\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public Map&lt;String, Object&gt; handleValidationError(MethodArgumentNotValidException exception) {\n        LOGGER.warn(&quot;MethodArgumentNotValidException thrown&quot;, exception);\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n\n        if (exception.hasFieldErrors()) {\n            List&lt;Map&lt;String, String&gt;&gt; errors = new ArrayList&lt;&gt;();\n\n            for (FieldError error : exception.getFieldErrors()) {\n                Map&lt;String, String&gt; transformedError = new HashMap&lt;&gt;();\n                transformedError.put(&quot;field&quot;, error.getField());\n                transformedError.put(&quot;error&quot;, error.getDefaultMessage());\n\n                errors.add(transformedError);\n            }\n            response.put(&quot;errors&quot;, errors);\n        }\n\n        return response;\n    }\n}\n</code></pre>\n<p>It transforms both the <code>MethodArgumentNotValidException</code> and <code>ConstraintViolationException</code> into the same error response JSON below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;field&quot;: &quot;name&quot;,\n            &quot;error&quot;: &quot;name length cannot exceed 64 characters&quot;\n        }\n    ]\n}\n</code></pre>\n<p>What information were you missing in a <code>MethodArgumentNotValidException</code> compared to a <code>ConstraintViolationException</code>?</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1677822305,"creation_date":1635022945,"answer_id":69692047,"question_id":69654961,"body_markdown":"There are two layers of the validation involves at here which happen in the following orders:\r\n\r\n 1. **Controller layer** :\r\n\r\n    - enable when the controller method &#39;s argument is annotated with `@RequestBody` or `@ModelAttribute` and with `@Valid` or `@Validated` or any annotations whose name start with &quot;Valid&quot; (refer [this][1] for the logic).\r\n\t- Based on the [`DataBinder`][2] stuff\r\n    - Can only validate the request\r\n\t- In case of validation errors and there is no `BindingResult` argument in the controller method , throw `org.springframework.web.bind.MethodArgumentNotValidException`. Otherwise , continues invoking the controller method with the `BindingResult` arguments capturing with the validation error information.\r\n\r\n2. **Bean &#39;s method layer** : \r\n\r\n\t- enable for a spring bean if it is annotated with `@Validated` and the method argument or the returned value is annotated only with the bean validation annotations such as `@Valid` , `@Size` etc. \r\n\t- Based on the AOP stuff. The method interceptor is `MethodValidationInterceptor`\r\n    - Can validate both the request and response\r\n\t- In case of validation errors ,throw `javax.validation.ConstraintViolationException`.\r\n\r\n\r\nValidation in both layers at the end will delegate to the bean validation to perform the actual validation.\r\n \r\nBecause the controller is actually a spring bean , validation in both layers can take effects when invoking a controller method which is exactly demonstrated by your case with the following things happens: \r\n\r\n\r\n1. `DataBinder` validates the request is incorrect but since the controller method has `BindingResult` argument , it skip throwing `MethodArgumentNotValidException` and continue invoking the controller method\r\n  \r\n2. `MethodValidationInterceptor` validates the request is incorrect , and throw `ConstraintViolationException`\r\n\r\nThe documents does not mention such behaviour clearly. I make the above summary after reading the source codes. I agree it is confusing especially in your case when validations are enable in both layers and also with the `BindingResult` argument. You can see that the bean validation actually validate the request for two times which sounds awkward...\r\n\r\nSo to solve your problem , you can disable the validation in controller layer &#39;s `DataBinder` and always relies on the bean method level validation .\r\n\r\nTo disable it globally for all controllers , you can create a `@ControllerAdvice` with the following `@InitBinder` method:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class InitBinderControllerAdvice {\r\n\r\n\t@InitBinder\r\n\tprivate void initBinder(WebDataBinder binder) {\r\n\t\tbinder.setValidator(null);\r\n\t}\r\n} \r\n```\r\n\r\nTo disable it just for a one controller, you can add this `@InitBinder` method to that controller : \r\n\r\n```\r\n@RestController\r\n@Validated\r\n@RequestMapping(&quot;/example&quot;)\r\npublic class Controller {\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(null);\r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\nThen even removing `BindingResult` from the controller method , it should also throw out `ConstraintViolationException`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/e4e667acdb774b45164f3ec345bfdf9e406e537f/spring-context/src/main/java/org/springframework/validation/annotation/ValidationAnnotationUtils.java#L45\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-initbinder","title":"Presence of BindingResult method parameter determines exception thrown?","body":"<p>There are two layers of the validation involves at here which happen in the following orders:</p>\n<ol>\n<li><p><strong>Controller layer</strong> :</p>\n<ul>\n<li>enable when the controller method 's argument is annotated with <code>@RequestBody</code> or <code>@ModelAttribute</code> and with <code>@Valid</code> or <code>@Validated</code> or any annotations whose name start with &quot;Valid&quot; (refer <a href=\"https://github.com/spring-projects/spring-framework/blob/e4e667acdb774b45164f3ec345bfdf9e406e537f/spring-context/src/main/java/org/springframework/validation/annotation/ValidationAnnotationUtils.java#L45\" rel=\"nofollow noreferrer\">this</a> for the logic).</li>\n<li>Based on the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-initbinder\" rel=\"nofollow noreferrer\"><code>DataBinder</code></a> stuff</li>\n<li>Can only validate the request</li>\n<li>In case of validation errors and there is no <code>BindingResult</code> argument in the controller method , throw <code>org.springframework.web.bind.MethodArgumentNotValidException</code>. Otherwise , continues invoking the controller method with the <code>BindingResult</code> arguments capturing with the validation error information.</li>\n</ul>\n</li>\n<li><p><strong>Bean 's method layer</strong> :</p>\n<ul>\n<li>enable for a spring bean if it is annotated with <code>@Validated</code> and the method argument or the returned value is annotated only with the bean validation annotations such as <code>@Valid</code> , <code>@Size</code> etc.</li>\n<li>Based on the AOP stuff. The method interceptor is <code>MethodValidationInterceptor</code></li>\n<li>Can validate both the request and response</li>\n<li>In case of validation errors ,throw <code>javax.validation.ConstraintViolationException</code>.</li>\n</ul>\n</li>\n</ol>\n<p>Validation in both layers at the end will delegate to the bean validation to perform the actual validation.</p>\n<p>Because the controller is actually a spring bean , validation in both layers can take effects when invoking a controller method which is exactly demonstrated by your case with the following things happens:</p>\n<ol>\n<li><p><code>DataBinder</code> validates the request is incorrect but since the controller method has <code>BindingResult</code> argument , it skip throwing <code>MethodArgumentNotValidException</code> and continue invoking the controller method</p>\n</li>\n<li><p><code>MethodValidationInterceptor</code> validates the request is incorrect , and throw <code>ConstraintViolationException</code></p>\n</li>\n</ol>\n<p>The documents does not mention such behaviour clearly. I make the above summary after reading the source codes. I agree it is confusing especially in your case when validations are enable in both layers and also with the <code>BindingResult</code> argument. You can see that the bean validation actually validate the request for two times which sounds awkward...</p>\n<p>So to solve your problem , you can disable the validation in controller layer 's <code>DataBinder</code> and always relies on the bean method level validation .</p>\n<p>To disable it globally for all controllers , you can create a <code>@ControllerAdvice</code> with the following <code>@InitBinder</code> method:</p>\n<pre><code>@ControllerAdvice\npublic class InitBinderControllerAdvice {\n\n    @InitBinder\n    private void initBinder(WebDataBinder binder) {\n        binder.setValidator(null);\n    }\n} \n</code></pre>\n<p>To disable it just for a one controller, you can add this <code>@InitBinder</code> method to that controller :</p>\n<pre><code>@RestController\n@Validated\n@RequestMapping(&quot;/example&quot;)\npublic class Controller {\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(null);\n   }\n\n}\n</code></pre>\n<p>Then even removing <code>BindingResult</code> from the controller method , it should also throw out <code>ConstraintViolationException</code>.</p>\n"}],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5039,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":69692047,"answer_count":3,"score":8,"last_activity_date":1677822305,"creation_date":1634781491,"question_id":69654961,"body_markdown":"I have a Spring `@RestController` that has a POST endpoint defined like this:\r\n\r\n```java\r\n@RestController\r\n@Validated\r\n@RequestMapping(&quot;/example&quot;)\r\npublic class Controller {\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public ResponseEntity&lt;?&gt; create(@Valid @RequestBody Request request,\r\n                                    BindingResult _unused, // DO NOT DELETE\r\n                                    UriComponentsBuilder uriBuilder) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIt also has an exception handler for `javax.validation.ConstraintViolationException`:\r\n\r\n```java\r\n@ExceptionHandler({ConstraintViolationException.class})\r\n@ResponseStatus(HttpStatus.BAD_REQUEST)\r\nProblemDetails handleValidationError(ConstraintViolationException e) {...}\r\n```\r\n\r\nOur Spring-Boot app is using `spring-boot-starter-validation` for validation. The `Request` object uses `javax.validation.*` annotations to apply constraints to the various fields like this:\r\n\r\n```java\r\npublic class Request {\r\n\r\n    private Long id;\r\n\r\n    @Size(max = 64, message = &quot;name length cannot exceed 64 characters&quot;)\r\n    private String name;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nAs presented above, if you POST a request with an invalid Request, the validation will throw a ConstraintViolationException, which will be handled by the exception handler. This works, we have unit tests for it, all is good.\r\n\r\nI noticed that the `BindingResult` in the post method wasn&#39;t used (the name `_unused` and comment `//DO NOT DELETE` were sort of red flags.) I went ahead and deleted the parameter. All of a sudden, my tests broke -- the inbound request was still validated, but it would no longer throw a ConstraintValidationException ... now it throws a `MethodArgumentNotValidException`! Unfortunately I can&#39;t used this other exception because it doesn&#39;t contain the failed validation in the format that I need (and doesn&#39;t contain all the data I need either).\r\n\r\nWhy does the `BindingResult` presence in the argument list control which exception is thrown? How can I removed the unused variable and still throw the `ConstraintViolationException` when the javax.validation determines that the request body is invalid?\r\n\r\n---\r\n\r\nSpring-Boot 2.5.5\r\n* spring-boot-starter-web\r\n* spring-boot-starter-validation\r\n\r\nOpenJDK 17.","title":"Presence of BindingResult method parameter determines exception thrown?","body":"<p>I have a Spring <code>@RestController</code> that has a POST endpoint defined like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Validated\n@RequestMapping(&quot;/example&quot;)\npublic class Controller {\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public ResponseEntity&lt;?&gt; create(@Valid @RequestBody Request request,\n                                    BindingResult _unused, // DO NOT DELETE\n                                    UriComponentsBuilder uriBuilder) {\n        // ...\n    }\n}\n</code></pre>\n<p>It also has an exception handler for <code>javax.validation.ConstraintViolationException</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler({ConstraintViolationException.class})\n@ResponseStatus(HttpStatus.BAD_REQUEST)\nProblemDetails handleValidationError(ConstraintViolationException e) {...}\n</code></pre>\n<p>Our Spring-Boot app is using <code>spring-boot-starter-validation</code> for validation. The <code>Request</code> object uses <code>javax.validation.*</code> annotations to apply constraints to the various fields like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Request {\n\n    private Long id;\n\n    @Size(max = 64, message = &quot;name length cannot exceed 64 characters&quot;)\n    private String name;\n\n    // ...\n}\n</code></pre>\n<p>As presented above, if you POST a request with an invalid Request, the validation will throw a ConstraintViolationException, which will be handled by the exception handler. This works, we have unit tests for it, all is good.</p>\n<p>I noticed that the <code>BindingResult</code> in the post method wasn't used (the name <code>_unused</code> and comment <code>//DO NOT DELETE</code> were sort of red flags.) I went ahead and deleted the parameter. All of a sudden, my tests broke -- the inbound request was still validated, but it would no longer throw a ConstraintValidationException ... now it throws a <code>MethodArgumentNotValidException</code>! Unfortunately I can't used this other exception because it doesn't contain the failed validation in the format that I need (and doesn't contain all the data I need either).</p>\n<p>Why does the <code>BindingResult</code> presence in the argument list control which exception is thrown? How can I removed the unused variable and still throw the <code>ConstraintViolationException</code> when the javax.validation determines that the request body is invalid?</p>\n<hr />\n<p>Spring-Boot 2.5.5</p>\n<ul>\n<li>spring-boot-starter-web</li>\n<li>spring-boot-starter-validation</li>\n</ul>\n<p>OpenJDK 17.</p>\n"},{"tags":["java","spring","multithreading","api","heartbeat"],"comments":[{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":0,"creation_date":1677806972,"post_id":75622330,"comment_id":133415112,"body_markdown":"how about using a scheduled job instead? checking the connection e.g. every 1 minute, and triggering the flag if it is not available / at a change of status","body":"how about using a scheduled job instead? checking the connection e.g. every 1 minute, and triggering the flag if it is not available / at a change of status"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677806981,"post_id":75622330,"comment_id":133415113,"body_markdown":"The simplest thing to do is just to query that server every time, and use the result if you get it.","body":"The simplest thing to do is just to query that server every time, and use the result if you get it."},{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1677811939,"post_id":75622330,"comment_id":133415641,"body_markdown":"Check Spring Boot Actuator","body":"Check Spring Boot Actuator"}],"answers":[{"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677821176,"creation_date":1677821176,"answer_id":75623447,"question_id":75622330,"body_markdown":"You can have a another background thread which will update the flag. for this you can use the `ScheduledExecutorService` method.","title":"Java/Spring - How to have a background thread hit an API for health check and change a flag if server is down?","body":"<p>You can have a another background thread which will update the flag. for this you can use the <code>ScheduledExecutorService</code> method.</p>\n"}],"owner":{"account_id":22383728,"reputation":1,"user_id":16596865,"display_name":"Joseph L."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677821176,"creation_date":1677805742,"question_id":75622330,"body_markdown":"**Background**\r\nI&#39;m running a Java spring application that passes some data to an external API, grabs the return, uses it manipulate data, and then continue on its merry way.\r\n\r\n```\r\npublic void process(Item item) {\r\n  Object data = webclient.get(.....);\r\n  manipulateItem(data);\r\n}\r\n```\r\n\r\nIf the server hosting the external API is down, I want to be able to change a flag in my application to continue processing with my manipulation feature off, and if it comes back online, I want it to trigger back on.\r\n\r\n\r\n```\r\npublic void process(Item item) {\r\n  if (serverAvailable) {\r\n    Object data = webclient.get(.....);\r\n    manipulateItem(data);\r\n  }\r\n```\r\n\r\n\r\n**Problem**\r\nI was thinking I could write have a background thread running doing a continuous check against the servers health endpoint and update the flag of a component if it changes, how would I accomplish this, or is there a better way to handle this?\r\n\r\nI tried a method where I used the WebClient return (if its 5XX) to do this the configuration flag switch, which seemed plausible, but if I&#39;m not processing data this would not trigger the flag. A background thread would be able to change my state whether I&#39;m currently processing or not.","title":"Java/Spring - How to have a background thread hit an API for health check and change a flag if server is down?","body":"<p><strong>Background</strong>\nI'm running a Java spring application that passes some data to an external API, grabs the return, uses it manipulate data, and then continue on its merry way.</p>\n<pre><code>public void process(Item item) {\n  Object data = webclient.get(.....);\n  manipulateItem(data);\n}\n</code></pre>\n<p>If the server hosting the external API is down, I want to be able to change a flag in my application to continue processing with my manipulation feature off, and if it comes back online, I want it to trigger back on.</p>\n<pre><code>public void process(Item item) {\n  if (serverAvailable) {\n    Object data = webclient.get(.....);\n    manipulateItem(data);\n  }\n</code></pre>\n<p><strong>Problem</strong>\nI was thinking I could write have a background thread running doing a continuous check against the servers health endpoint and update the flag of a component if it changes, how would I accomplish this, or is there a better way to handle this?</p>\n<p>I tried a method where I used the WebClient return (if its 5XX) to do this the configuration flag switch, which seemed plausible, but if I'm not processing data this would not trigger the flag. A background thread would be able to change my state whether I'm currently processing or not.</p>\n"},{"tags":["java","java-9","bootclasspath"],"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1558770010,"post_id":56300738,"comment_id":99216839,"body_markdown":"I suspect this comment is related to the problem: &quot;The javac compiler only supports the -Xbootclasspath option in legacy mode&quot;; from elsewhere in the document &quot;Legacy mode is enabled when the compilation environment, as defined by the -source, -target, and --release options, is less than or equal to 8. None of the modular options described above may be used.&quot;","body":"I suspect this comment is related to the problem: &quot;The javac compiler only supports the -Xbootclasspath option in legacy mode&quot;; from elsewhere in the document &quot;Legacy mode is enabled when the compilation environment, as defined by the -source, -target, and --release options, is less than or equal to 8. None of the modular options described above may be used.&quot;"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":2,"creation_date":1558787003,"post_id":56300738,"comment_id":99220200,"body_markdown":"The system property &quot;jdk.boot.class.path.append&quot; can be read by JVMTI agents using the JVMTI GetSystemProperty function, it is not available to java agents.","body":"The system property &quot;jdk.boot.class.path.append&quot; can be read by JVMTI agents using the JVMTI GetSystemProperty function, it is not available to java agents."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":1,"creation_date":1558880077,"post_id":56300738,"comment_id":99237737,"body_markdown":"I think it would help this question to understand why your java agent needs to know the value of -Xbootclasspath/a. The only reason it is exposed to JVMTI agents is because of VM startup issue where the value may be useful in the onload phase. Java agents can&#39;t be started until the VM is fully initialized.","body":"I think it would help this question to understand why your java agent needs to know the value of -Xbootclasspath/a. The only reason it is exposed to JVMTI agents is because of VM startup issue where the value may be useful in the onload phase. Java agents can&#39;t be started until the VM is fully initialized."},{"owner":{"account_id":7323154,"reputation":101,"user_id":5578476,"display_name":"Mark Roberts"},"score":0,"creation_date":1558971595,"post_id":56300738,"comment_id":99265372,"body_markdown":"Good point.  I did not author the code in question, but my understanding is as follows: Our test generation/instrumentation tool (https://randoop.github.io/randoop) allows the user to specify alternative methods for Java runtime methods.  This is primarily to allow replacements for java.awt and javax.swing to turn off dialog boxes so testing can be run unattended.  Since some calls to these routines are dynamically generated they are associated with the bootstrap loader.  This means the replacement classes must also be loaded by the bootstrap loader for class/name resolution to work.","body":"Good point.  I did not author the code in question, but my understanding is as follows: Our test generation/instrumentation tool (<a href=\"https://randoop.github.io/randoop\" rel=\"nofollow noreferrer\">randoop.github.io/randoop</a>) allows the user to specify alternative methods for Java runtime methods.  This is primarily to allow replacements for java.awt and javax.swing to turn off dialog boxes so testing can be run unattended.  Since some calls to these routines are dynamically generated they are associated with the bootstrap loader.  This means the replacement classes must also be loaded by the bootstrap loader for class/name resolution to work."},{"owner":{"account_id":7323154,"reputation":101,"user_id":5578476,"display_name":"Mark Roberts"},"score":0,"creation_date":1558971837,"post_id":56300738,"comment_id":99265455,"body_markdown":"We want to verify that the replacement methods exist before the testing starts so we look down each component of the boot class path to see if a matching class exists.  Perhaps there is an alternative way to do this?  The point is to have a missing replacement method fail at startup rather than the first time it is actually invoked.","body":"We want to verify that the replacement methods exist before the testing starts so we look down each component of the boot class path to see if a matching class exists.  Perhaps there is an alternative way to do this?  The point is to have a missing replacement method fail at startup rather than the first time it is actually invoked."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":1,"creation_date":1559023017,"post_id":56300738,"comment_id":99277463,"body_markdown":"It sounds like you should be use core reflection to introspect the modified classes. Also note that java agents can specify the Boot-Class-Path attribute in the agent JAR file so you don&#39;t need to use -Xbootclasspath/a. They can also add to the boot class loader search via the Instrumentation API.","body":"It sounds like you should be use core reflection to introspect the modified classes. Also note that java agents can specify the Boot-Class-Path attribute in the agent JAR file so you don&#39;t need to use -Xbootclasspath/a. They can also add to the boot class loader search via the Instrumentation API."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1559736572,"post_id":56300738,"comment_id":99511774,"body_markdown":"But *appending* to the bootstrap path is not sufficient to *replace* classes, as the original classes are found before any path entry appended to the search path is ever examined.","body":"But <i>appending</i> to the bootstrap path is not sufficient to <i>replace</i> classes, as the original classes are found before any path entry appended to the search path is ever examined."}],"owner":{"account_id":7323154,"reputation":101,"user_id":5578476,"display_name":"Mark Roberts"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677819947,"creation_date":1558743572,"question_id":56300738,"body_markdown":"The openjdk document **&quot;JEP 261: Module System&quot;** states that:\r\n\r\n&quot;A related option, `-Xbootclasspath/a`, allows files and directories to be appended to the default bootstrap class path. This option, and the related API in the `java.lang.instrument` package, is sometimes used by instrumentation agents, so for compatibility it is still supported at run time. \r\n\r\nIts value, if specified, is reported via the JDK-specific system property `jdk.boot.class.path.append`.&quot;\r\n\r\n\r\nHowever, when I try to use this feature, it does not work.  Specifically, I am using Java Agents to do instrumentation. \r\n\r\nAll works fine on **JDK7** &amp; **JDK8**.  On **JDK9+** the `-Xbootclasspath/a` seems to work ok, but the system property `jdk.boot.class.path.append` is always `null`.  \r\n\r\n\r\n&gt; On java 7/8:\r\n\r\n    String bootclasspath = System.getProperty(`sun.boot.class.path`);\r\n\r\nworks as expected.\r\n\r\n&gt; On java 9:\r\n\r\n    String bootclasspath = System.getProperty(&quot;jdk.boot.class.path.append&quot;);\r\n\r\nalways return null string.  \r\n\r\nI added some debug code to dump all the system properties, and there appears to be no such property.  \r\n\r\nI have tried `jdk-9.0.4` and `jdk-11.0.3` with similar results.\r\n\r\nAny ideas on how to get the bootclasspath on JDK9+?\r\n\r\n","title":"Can&#39;t find bootclasspath on jdk9+","body":"<p>The openjdk document <strong>\"JEP 261: Module System\"</strong> states that:</p>\n\n<p>\"A related option, <code>-Xbootclasspath/a</code>, allows files and directories to be appended to the default bootstrap class path. This option, and the related API in the <code>java.lang.instrument</code> package, is sometimes used by instrumentation agents, so for compatibility it is still supported at run time. </p>\n\n<p>Its value, if specified, is reported via the JDK-specific system property <code>jdk.boot.class.path.append</code>.\"</p>\n\n<p>However, when I try to use this feature, it does not work.  Specifically, I am using Java Agents to do instrumentation. </p>\n\n<p>All works fine on <strong>JDK7</strong> &amp; <strong>JDK8</strong>.  On <strong>JDK9+</strong> the <code>-Xbootclasspath/a</code> seems to work ok, but the system property <code>jdk.boot.class.path.append</code> is always <code>null</code>.  </p>\n\n<blockquote>\n  <p>On java 7/8:</p>\n</blockquote>\n\n<pre><code>String bootclasspath = System.getProperty(`sun.boot.class.path`);\n</code></pre>\n\n<p>works as expected.</p>\n\n<blockquote>\n  <p>On java 9:</p>\n</blockquote>\n\n<pre><code>String bootclasspath = System.getProperty(\"jdk.boot.class.path.append\");\n</code></pre>\n\n<p>always return null string.  </p>\n\n<p>I added some debug code to dump all the system properties, and there appears to be no such property.  </p>\n\n<p>I have tried <code>jdk-9.0.4</code> and <code>jdk-11.0.3</code> with similar results.</p>\n\n<p>Any ideas on how to get the bootclasspath on JDK9+?</p>\n"},{"tags":["java","android","inheritance"],"owner":{"account_id":16040627,"reputation":31,"user_id":11577121,"display_name":"Marco Jacobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677818955,"creation_date":1677762559,"question_id":75615855,"body_markdown":"This is the issue: \r\n\r\nI have a functional class_A with a well defined layout-A, and all the members of the layout are accessed via data binding.\r\n\r\n\r\n    public class class_A\r\n    {\r\n        private layoutA_Binding data_A;\r\n    }\r\n\r\nThere is a second class_B that extends class_A; the *layout_B* of this class_B *includes all the layout of class_A* plus some additional members. \r\n\r\n    public class class_B extends class_A\r\n    {\r\n        private layoutB_Binding data_B;\r\n    }\r\n\r\nAll the methods in class_A make use of data binding considering layout_A; \r\n*So the extended class_B **CAN NOT** use those methods in class_A* because we have **two different databinding** due to **two different layout xml**. \r\n\r\n\r\nI need to LINK both databinding variables, in such a way that any change in Class_B gets propagated to Class_A, and any response from Class_A get refreshed back in class_B. \r\n\r\nIs it possible to make any special assignment to resolve this issue? Something like?  \r\n\r\n\r\n    public class class_B extends class_A\r\n    {\r\n        private layoutB_Binding data_B;\r\n         \r\n        initDataBinding()\r\n        {\r\n          data_B = DataBindingUtil.inflate( inflater, layout.layout_B, container, false);\r\n           super.data_A = data_B.subsetA;\r\n           return data_B.getRoot();\r\n        \r\n        }\r\n    }\r\n\r\nThanks in advance for sharing your knowdledge and experince. ","title":"Can I link the layout of a child class with its parent&#180;s one using databinding (JAVA-android)?","body":"<p>This is the issue:</p>\n<p>I have a functional class_A with a well defined layout-A, and all the members of the layout are accessed via data binding.</p>\n<pre><code>public class class_A\n{\n    private layoutA_Binding data_A;\n}\n</code></pre>\n<p>There is a second class_B that extends class_A; the <em>layout_B</em> of this class_B <em>includes all the layout of class_A</em> plus some additional members.</p>\n<pre><code>public class class_B extends class_A\n{\n    private layoutB_Binding data_B;\n}\n</code></pre>\n<p>All the methods in class_A make use of data binding considering layout_A;\n<em>So the extended class_B <strong>CAN NOT</strong> use those methods in class_A</em> because we have <strong>two different databinding</strong> due to <strong>two different layout xml</strong>.</p>\n<p>I need to LINK both databinding variables, in such a way that any change in Class_B gets propagated to Class_A, and any response from Class_A get refreshed back in class_B.</p>\n<p>Is it possible to make any special assignment to resolve this issue? Something like?</p>\n<pre><code>public class class_B extends class_A\n{\n    private layoutB_Binding data_B;\n     \n    initDataBinding()\n    {\n      data_B = DataBindingUtil.inflate( inflater, layout.layout_B, container, false);\n       super.data_A = data_B.subsetA;\n       return data_B.getRoot();\n    \n    }\n}\n</code></pre>\n<p>Thanks in advance for sharing your knowdledge and experince.</p>\n"},{"tags":["java","logging","wildfly-9","subsystem"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1468873069,"creation_date":1468873069,"answer_id":38445314,"question_id":38435227,"body_markdown":"You can exclude subsystems from deployments with in the `jboss-deployment-structure.xml` as well. Excluding the module does not exclude the subsystem from processing the deployment.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclude-subsystems&gt;\r\n                &lt;subsystem name=&quot;logging&quot; /&gt;\r\n            &lt;/exclude-subsystems&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nExcluding the subsystem will stop the deployment from being processed by the subsystem.","title":"Wildfly disabling logging subsystem","body":"<p>You can exclude subsystems from deployments with in the <code>jboss-deployment-structure.xml</code> as well. Excluding the module does not exclude the subsystem from processing the deployment.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;exclude-subsystems&gt;\n            &lt;subsystem name=\"logging\" /&gt;\n        &lt;/exclude-subsystems&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>Excluding the subsystem will stop the deployment from being processed by the subsystem.</p>\n"}],"owner":{"account_id":2024116,"reputation":1525,"user_id":1809625,"accept_rate":28,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7041,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38445314,"answer_count":1,"score":2,"last_activity_date":1677818823,"creation_date":1468840299,"question_id":38435227,"body_markdown":"in my web application i need to use my logging framework. The framework is loaded by each webapplication like a jar dependency.\r\n\r\nIn order to disable jboss logging subsystem i tried to create a \r\n\r\n    jboss-deployment-structure.xml\r\n\r\n\r\nfile copied in:\r\n\r\n    (firt try)- webapplication.war\\WEB-INF\\\r\n    (second try) - webapplication.war\\WEB-INF\\lib\\my_framework.jar\\META-INF\\\r\n\r\nthe content of the file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;module name=&quot;org.jboss.as.logging (or org.jboss.logging)&quot; /&gt; \r\n            &lt;/exclusions&gt;\r\n        &lt;/deployment&gt;\r\n\r\n\r\nBut nothing seems to change in the log process.\r\nI checked the framework MANIFEST.MF and no other dependencies are imported.\r\n\r\nI also realized that by cancelling the logging subsystem from standalone.xml the custom logging framework works fine.\r\n    &lt;/jboss-deployment-structure&gt;","title":"Wildfly disabling logging subsystem","body":"<p>in my web application i need to use my logging framework. The framework is loaded by each webapplication like a jar dependency.</p>\n\n<p>In order to disable jboss logging subsystem i tried to create a </p>\n\n<pre><code>jboss-deployment-structure.xml\n</code></pre>\n\n<p>file copied in:</p>\n\n<pre><code>(firt try)- webapplication.war\\WEB-INF\\\n(second try) - webapplication.war\\WEB-INF\\lib\\my_framework.jar\\META-INF\\\n</code></pre>\n\n<p>the content of the file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;exclusions&gt;\n            &lt;module name=\"org.jboss.as.logging (or org.jboss.logging)\" /&gt; \n        &lt;/exclusions&gt;\n    &lt;/deployment&gt;\n</code></pre>\n\n<p>But nothing seems to change in the log process.\nI checked the framework MANIFEST.MF and no other dependencies are imported.</p>\n\n<p>I also realized that by cancelling the logging subsystem from standalone.xml the custom logging framework works fine.\n    </p>\n"},{"tags":["java","spring","rest","http","dto"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1677808882,"post_id":75621806,"comment_id":133415300,"body_markdown":"Ideally the POST response should be HTTP Status Code of 201 and response should contain the created resource. Please refer to https://stackoverflow.com/questions/62323734/how-to-return-created-status-201-http-in-responseentity for similar query. And refer to https://martinfowler.com/articles/richardsonMaturityModel.html for design guideline on RESTFul Web Services.","body":"Ideally the POST response should be HTTP Status Code of 201 and response should contain the created resource. Please refer to <a href=\"https://stackoverflow.com/questions/62323734/how-to-return-created-status-201-http-in-responseentity\" title=\"how to return created status 201 http in responseentity\">stackoverflow.com/questions/62323734/&hellip;</a> for similar query. And refer to <a href=\"https://martinfowler.com/articles/richardsonMaturityModel.html\" rel=\"nofollow noreferrer\">martinfowler.com/articles/richardsonMaturityModel.html</a> for design guideline on RESTFul Web Services."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1677834661,"post_id":75621806,"comment_id":133419294,"body_markdown":"do you mean the response should contain the entity? I thought the entity should not be exposed","body":"do you mean the response should contain the entity? I thought the entity should not be exposed"},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1677836409,"post_id":75621806,"comment_id":133419774,"body_markdown":"The response should be DTO, not entity.","body":"The response should be DTO, not entity."}],"answers":[{"tags":[],"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677818738,"creation_date":1677818738,"answer_id":75623254,"question_id":75621806,"body_markdown":"This is correct usage of DTO and Entity. Domain model shouldn&#39;t be exposed to outside world.\r\n[![enter image description here][1]][1] \r\nHere is good article on this topic: [Understanding Spring Web Application Architecture: The Classic Way][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lxmf3.png\r\n  [2]: https://www.petrikainulainen.net/software-development/design/understanding-spring-web-application-architecture-the-classic-way/","title":"Spring MVC - returning DTO in response body for POST Request?","body":"<p>This is correct usage of DTO and Entity. Domain model shouldn't be exposed to outside world.\n<a href=\"https://i.stack.imgur.com/Lxmf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lxmf3.png\" alt=\"enter image description here\" /></a>\nHere is good article on this topic: <a href=\"https://www.petrikainulainen.net/software-development/design/understanding-spring-web-application-architecture-the-classic-way/\" rel=\"nofollow noreferrer\">Understanding Spring Web Application Architecture: The Classic Way</a></p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75623254,"answer_count":1,"score":0,"last_activity_date":1677818738,"creation_date":1677799696,"question_id":75621806,"body_markdown":"I have the following controller `POST` method that creates a new meeting.\r\n\r\n    @PostMapping(&quot;/meetings&quot;)\r\n    ResponseEntity&lt;Object&gt; createMeeting(@RequestBody MeetingDTO meetingDTO) {\r\n\r\n        meetingService.createMeeting(meetingDTO);\r\n        return ResponseEntity.ok(&quot;created&quot;);\r\n    }\r\n\r\nThis is the service logic where I update my `Meeting` database entity using the `MeetingDTO`:\r\n\r\n        public void createMeeting(MeetingDTO meetingDTO){\r\n    \r\n        Organiser organiser = personRepository.findById(meetingDTO.getPersonId())\r\n                .orElseThrow(() -&gt; new RuntimeException(&quot;No Person with Id &quot;\r\n                        + meetingDTO.getPersonId()));\r\n    \r\n        Meeting meeting = new Meeting();\r\n        meeting.setDate(meetingDTO.getDate());\r\n        meeting.setTime(meetingDTO.getTime());\r\n        meeting.setOrganiser(organiser);\r\n    \r\n        meetingRepository.save(meeting);\r\n    }\r\n\r\nI am using `MeetingDTO` as the request body in my `POST` as I *do not* want to expose certain other fields within `Meeting` Entity. \r\n\r\nIs this a correct use of the `DTO` pattern? Should I be returning the DTO again in the `POST` response in the response body?\r\n\r\n","title":"Spring MVC - returning DTO in response body for POST Request?","body":"<p>I have the following controller <code>POST</code> method that creates a new meeting.</p>\n<pre><code>@PostMapping(&quot;/meetings&quot;)\nResponseEntity&lt;Object&gt; createMeeting(@RequestBody MeetingDTO meetingDTO) {\n\n    meetingService.createMeeting(meetingDTO);\n    return ResponseEntity.ok(&quot;created&quot;);\n}\n</code></pre>\n<p>This is the service logic where I update my <code>Meeting</code> database entity using the <code>MeetingDTO</code>:</p>\n<pre><code>    public void createMeeting(MeetingDTO meetingDTO){\n\n    Organiser organiser = personRepository.findById(meetingDTO.getPersonId())\n            .orElseThrow(() -&gt; new RuntimeException(&quot;No Person with Id &quot;\n                    + meetingDTO.getPersonId()));\n\n    Meeting meeting = new Meeting();\n    meeting.setDate(meetingDTO.getDate());\n    meeting.setTime(meetingDTO.getTime());\n    meeting.setOrganiser(organiser);\n\n    meetingRepository.save(meeting);\n}\n</code></pre>\n<p>I am using <code>MeetingDTO</code> as the request body in my <code>POST</code> as I <em>do not</em> want to expose certain other fields within <code>Meeting</code> Entity.</p>\n<p>Is this a correct use of the <code>DTO</code> pattern? Should I be returning the DTO again in the <code>POST</code> response in the response body?</p>\n"},{"tags":["java","if-statement","variables","random","methods"],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677818362,"creation_date":1677818362,"answer_id":75623223,"question_id":75623131,"body_markdown":"In order to pass the random number to another method, it needs to be given as an argument. Which means the receiving method needs a `double` parameter.\r\n\r\n    public static void foodMethod(Scanner keyboard) {\r\n        double foodNum = (Math.random() * 3) + 0;\r\n        tiredMethod(keyboard, foodNum);\r\n    }\r\n\r\n    public static void tiredMethod(Scanner keyboard, double num) {\r\n        System.out.println(&quot;Number received from foodMethod: &quot; + num);\r\n    }\r\n\r\nNote that with primitives, the value is passed and while you can manipulate it within the new method, the changes won&#39;t reflect after the method has completed. If you want to keep changes made to the variable, use an Object (&#39;Double&#39; being the wrapper class for &#39;double&#39;). Objects are passed by reference.","title":"How do you use variables from one method to another? Is there a way to do so if you&#39;re using a variable that&#39;s assigned to the Math.random function?","body":"<p>In order to pass the random number to another method, it needs to be given as an argument. Which means the receiving method needs a <code>double</code> parameter.</p>\n<pre><code>public static void foodMethod(Scanner keyboard) {\n    double foodNum = (Math.random() * 3) + 0;\n    tiredMethod(keyboard, foodNum);\n}\n\npublic static void tiredMethod(Scanner keyboard, double num) {\n    System.out.println(&quot;Number received from foodMethod: &quot; + num);\n}\n</code></pre>\n<p>Note that with primitives, the value is passed and while you can manipulate it within the new method, the changes won't reflect after the method has completed. If you want to keep changes made to the variable, use an Object ('Double' being the wrapper class for 'double'). Objects are passed by reference.</p>\n"}],"owner":{"account_id":27922844,"reputation":13,"user_id":21322556,"display_name":"Sarrah Sodawala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":75623223,"answer_count":1,"score":-2,"last_activity_date":1677818362,"creation_date":1677817240,"question_id":75623131,"body_markdown":"In my example, I used the ```Math.random``` function to declare a number that corresponds to a food that the user has been randomly assigned. \r\n\r\nBut if I were to make another method in which I wanted to refer back to that randomized option, how can I code that? Is it possible to make that happen? \r\n\r\nThis is what I have so far:\r\n```\r\npublic static void foodMethod (Scanner keyboard) \r\n\t{ \r\n\t\tdouble foodNum = (Math.random() * 3) + 0 ;\r\n\t\t\r\n\t\tSystem.out.println (&quot;Now let&#39;s see...&quot;);\r\n\t\t\r\n\t\tSystem.out.println (); \r\n\t\t\r\n\t\tif (foodNum &lt;= 0.9) { \r\n\r\n\t\t\tSystem.out.println (&quot;You&#39;ve decided on a sugary bowl of cereal!&quot;); \r\n\t\t\t\r\n\t\t\tSystem.out.println (&quot;Although, that headache of yours isn’t going to go away anytime soon.&quot;); \r\n\r\n\t\t} \r\n\t\tif (foodNum &gt;0.9 &amp;&amp; foodNum &lt;=1.9) { \r\n\t\t\r\n\t\t\tSystem.out.println (&quot;Hmm...&quot;); \r\n\t\t\r\n\t\t\tSystem.out.println (&quot;Interesting&quot;); \r\n\t\t\t\r\n\t\t\tSystem.out.println (&quot;Seems like someone decided to reach for the healthy option.&quot;); \r\n\t\t\t\r\n\t\t\tSystem.out.println (&quot;You settled on some yogurt and a tall glass of orange juice. Nice work!&quot;); \r\n\t\t} \r\n\r\n\t\tif (foodNum &gt;1.9 &amp;&amp; foodNum &lt;=3) { \r\n\r\n\t\t\tSystem.out.println (&quot;You end up grabbing some crackers and a glass of water to help you swallow some Tylenol to ease that headache of yours.&quot;); \r\n\t\t} \r\n```\r\n\r\nAnd I wanted to refer back to the ```foodNum``` variable and have it&#39;d print something like, &quot;If you chose the sugary cereal, then you start to feel tired and worn out&quot; or if they were given the yogurt and orange juice option it&#39;d print something like, &quot;You start to feel much better, and your head doesn&#39;t hurt as much anymore...&quot; \r\n\r\nFor some reference, this is the method that I want to add that idea to: \r\n```\r\npublic static void tiredMethod (Scanner keyboard) \r\n\t\t{ \r\n\t\t\tSystem.out.println (&quot;About an hour of being bored...&quot;); \r\n```\r\n\r\n\r\n\r\nI didn&#39;t necessarily try to code it, as I don&#39;t know if it&#39;s even possible to code or not. ","title":"How do you use variables from one method to another? Is there a way to do so if you&#39;re using a variable that&#39;s assigned to the Math.random function?","body":"<p>In my example, I used the <code>Math.random</code> function to declare a number that corresponds to a food that the user has been randomly assigned.</p>\n<p>But if I were to make another method in which I wanted to refer back to that randomized option, how can I code that? Is it possible to make that happen?</p>\n<p>This is what I have so far:</p>\n<pre><code>public static void foodMethod (Scanner keyboard) \n    { \n        double foodNum = (Math.random() * 3) + 0 ;\n        \n        System.out.println (&quot;Now let's see...&quot;);\n        \n        System.out.println (); \n        \n        if (foodNum &lt;= 0.9) { \n\n            System.out.println (&quot;You've decided on a sugary bowl of cereal!&quot;); \n            \n            System.out.println (&quot;Although, that headache of yours isn’t going to go away anytime soon.&quot;); \n\n        } \n        if (foodNum &gt;0.9 &amp;&amp; foodNum &lt;=1.9) { \n        \n            System.out.println (&quot;Hmm...&quot;); \n        \n            System.out.println (&quot;Interesting&quot;); \n            \n            System.out.println (&quot;Seems like someone decided to reach for the healthy option.&quot;); \n            \n            System.out.println (&quot;You settled on some yogurt and a tall glass of orange juice. Nice work!&quot;); \n        } \n\n        if (foodNum &gt;1.9 &amp;&amp; foodNum &lt;=3) { \n\n            System.out.println (&quot;You end up grabbing some crackers and a glass of water to help you swallow some Tylenol to ease that headache of yours.&quot;); \n        } \n</code></pre>\n<p>And I wanted to refer back to the <code>foodNum</code> variable and have it'd print something like, &quot;If you chose the sugary cereal, then you start to feel tired and worn out&quot; or if they were given the yogurt and orange juice option it'd print something like, &quot;You start to feel much better, and your head doesn't hurt as much anymore...&quot;</p>\n<p>For some reference, this is the method that I want to add that idea to:</p>\n<pre><code>public static void tiredMethod (Scanner keyboard) \n        { \n            System.out.println (&quot;About an hour of being bored...&quot;); \n</code></pre>\n<p>I didn't necessarily try to code it, as I don't know if it's even possible to code or not.</p>\n"},{"tags":["java","gradle","groovy","build.gradle","vert.x"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677817199,"creation_date":1677816241,"answer_id":75623060,"question_id":75615871,"body_markdown":"So it might look something like this:\r\n\r\n```\r\ntask launchVerticles {\r\n   List&lt;String&gt; verticles = [&quot;verticle1&quot;, &quot;verticle2&quot;, &quot;verticle3&quot;]\r\n   doLast {\r\n      verticles.parrallelStream().forEach( { verticle -&gt;\r\n         new JavaExec().with {\r\n            mainClass = &quot;com.main.VerticleLauncher&quot;\r\n            classpath = sourceSets.main.runtimeClasspath\r\n            args = [verticle, &quot;run&quot;, verticleRunCommands.getOrDefault(cmdargs, &quot;&quot;) ]\r\n            exec()\r\n         }\r\n      } as Consumer&lt;String&gt;)\r\n   }\r\n}\r\n```\r\n\r\nSo tasks aren&#39;t functions.  They don&#39;t have arguments, and you can&#39;t invoke them like functions.  But they are classes and you can use them just like objects which I&#39;m doing.  It&#39;s a little unconventional, but I think in your case it&#39;s ok.  What you don&#39;t want to do is create tasks dynamically within your gradle script which is what your requirements would be.  Plus the wrinkle of doing things in parallel.  Gradle supports running tasks in parallel with the `--parallel` option, but you have to set things up carefully.  Now if you created your own plugin dynamic tasks are totally on the table. But consider if you had a Verticle plugin you might do something like this:\r\n\r\n```\r\ntask verticle1( type: VerticleTask ) {\r\n   name = &quot;verticle1&quot;\r\n}\r\n\r\ntask verticle2( type: VerticleTask ) {\r\n   name = &quot;verticle2&quot;\r\n}\r\n\r\ntask verticle3( type: VerticleTask ) {\r\n   name = &quot;verticle3&quot;\r\n}\r\n\r\ntask runVerticles {\r\n   dependsOn(&quot;verticle1&quot;, &quot;verticle2&quot;, &quot;verticle3&quot; )\r\n}\r\n```\r\n\r\nThen launch with with the `--parallel` option, and it would work.  A VerticleTask might look like:\r\n\r\n```\r\nclass VerticleTask extends JavaExec {\r\n\r\n   @Input\r\n   String name\r\n\r\n   @Input\r\n   List&lt;String&gt; verticleArgs = []\r\n\r\n   @TaskAction\r\n   @Override\r\n   public void exec() {\r\n      mainClass = &quot;com.main.VerticleLauncher&quot;\r\n      classpath = project.sourceSets.main.runtimeClasspath\r\n      args = [name, &quot;run&quot;, verticleArgs ].flatten()\r\n      super.exec()\r\n   }\r\n}","title":"Gradle task to run another task with multiple arguments","body":"<p>So it might look something like this:</p>\n<pre><code>task launchVerticles {\n   List&lt;String&gt; verticles = [&quot;verticle1&quot;, &quot;verticle2&quot;, &quot;verticle3&quot;]\n   doLast {\n      verticles.parrallelStream().forEach( { verticle -&gt;\n         new JavaExec().with {\n            mainClass = &quot;com.main.VerticleLauncher&quot;\n            classpath = sourceSets.main.runtimeClasspath\n            args = [verticle, &quot;run&quot;, verticleRunCommands.getOrDefault(cmdargs, &quot;&quot;) ]\n            exec()\n         }\n      } as Consumer&lt;String&gt;)\n   }\n}\n</code></pre>\n<p>So tasks aren't functions.  They don't have arguments, and you can't invoke them like functions.  But they are classes and you can use them just like objects which I'm doing.  It's a little unconventional, but I think in your case it's ok.  What you don't want to do is create tasks dynamically within your gradle script which is what your requirements would be.  Plus the wrinkle of doing things in parallel.  Gradle supports running tasks in parallel with the <code>--parallel</code> option, but you have to set things up carefully.  Now if you created your own plugin dynamic tasks are totally on the table. But consider if you had a Verticle plugin you might do something like this:</p>\n<pre><code>task verticle1( type: VerticleTask ) {\n   name = &quot;verticle1&quot;\n}\n\ntask verticle2( type: VerticleTask ) {\n   name = &quot;verticle2&quot;\n}\n\ntask verticle3( type: VerticleTask ) {\n   name = &quot;verticle3&quot;\n}\n\ntask runVerticles {\n   dependsOn(&quot;verticle1&quot;, &quot;verticle2&quot;, &quot;verticle3&quot; )\n}\n</code></pre>\n<p>Then launch with with the <code>--parallel</code> option, and it would work.  A VerticleTask might look like:</p>\n<pre><code>class VerticleTask extends JavaExec {\n\n   @Input\n   String name\n\n   @Input\n   List&lt;String&gt; verticleArgs = []\n\n   @TaskAction\n   @Override\n   public void exec() {\n      mainClass = &quot;com.main.VerticleLauncher&quot;\n      classpath = project.sourceSets.main.runtimeClasspath\n      args = [name, &quot;run&quot;, verticleArgs ].flatten()\n      super.exec()\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27918404,"reputation":3,"user_id":21319091,"display_name":"Lucas Milet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75623060,"answer_count":1,"score":0,"last_activity_date":1677817199,"creation_date":1677762624,"question_id":75615871,"body_markdown":"I was wondering if it&#39;s possible to create a gradle task to run another task with multiple arguments in parallel. This specific tasks are deploying and running Vertx verticles, deploying them individually, but I wanted a way to run all verticles at the same time through gradle.\r\n\r\n I tried the code snip bellow, but can&#39;t seem to make it work. Couldn&#39;t make sense of the WorkerApi stuff, so I&#39;m wondering if anyone had a similar use case before.\r\n\r\nhere&#39;s what I tried so far:\r\n\r\n```\r\ntask runVerticlesThroughLauncher(type: JavaExec) {\r\n//this task is the main task that uses the VerticleLauncher to initialize a verticle and deploy it.\r\n\r\n    if (project.hasProperty(&quot;launcherNames&quot;)) {\r\n        ext.cmdargs = project.getProperty(&quot;launcherNames&quot;)\r\n    } else {\r\n        ext.cmdargs = &quot;&quot;\r\n    }\r\n\r\n    def verticleRunCommands=[\r\n      verticle1=&quot;com.verticles.Verticle1&quot;, \r\n      verticle2=&quot;com.verticles.Verticle2&quot;, \r\n      verticle3=&quot;com.verticles.Verticle3&quot;\r\n    ]\r\n\r\n    File runningDir = new File(&#39;..&#39;)\r\n    runningDir.mkdirs()\r\n    tasks.runVerticlesThroughLauncher.workingDir(runningDir)\r\n\r\n    classpath = sourceSets.main.runtimeClasspath\r\n    mainClass = &quot;com.main.VerticleLauncher&quot;\r\n    args &quot;run&quot;, verticleRunCommands.getOrDefault(cmdargs, &quot;&quot;)\r\n}\r\n\r\ntask runVerticleLauncherAllVerticles(type: JavaExec){\r\n    // this task was my attempt at running all the verticles in parallel, but the task is not runnable, giving ClassNotFound error\r\n\r\n    def verticles=[\r\n            &quot;verticle1&quot;, &quot;verticle2&quot;, &quot;verticle3&quot;\r\n    ].parallelStream().forEach(verticle -&gt; {\r\n        runContentProviderLauncher.args(verticle).exec()\r\n    })\r\n}\r\n\r\n\r\n```","title":"Gradle task to run another task with multiple arguments","body":"<p>I was wondering if it's possible to create a gradle task to run another task with multiple arguments in parallel. This specific tasks are deploying and running Vertx verticles, deploying them individually, but I wanted a way to run all verticles at the same time through gradle.</p>\n<p>I tried the code snip bellow, but can't seem to make it work. Couldn't make sense of the WorkerApi stuff, so I'm wondering if anyone had a similar use case before.</p>\n<p>here's what I tried so far:</p>\n<pre><code>task runVerticlesThroughLauncher(type: JavaExec) {\n//this task is the main task that uses the VerticleLauncher to initialize a verticle and deploy it.\n\n    if (project.hasProperty(&quot;launcherNames&quot;)) {\n        ext.cmdargs = project.getProperty(&quot;launcherNames&quot;)\n    } else {\n        ext.cmdargs = &quot;&quot;\n    }\n\n    def verticleRunCommands=[\n      verticle1=&quot;com.verticles.Verticle1&quot;, \n      verticle2=&quot;com.verticles.Verticle2&quot;, \n      verticle3=&quot;com.verticles.Verticle3&quot;\n    ]\n\n    File runningDir = new File('..')\n    runningDir.mkdirs()\n    tasks.runVerticlesThroughLauncher.workingDir(runningDir)\n\n    classpath = sourceSets.main.runtimeClasspath\n    mainClass = &quot;com.main.VerticleLauncher&quot;\n    args &quot;run&quot;, verticleRunCommands.getOrDefault(cmdargs, &quot;&quot;)\n}\n\ntask runVerticleLauncherAllVerticles(type: JavaExec){\n    // this task was my attempt at running all the verticles in parallel, but the task is not runnable, giving ClassNotFound error\n\n    def verticles=[\n            &quot;verticle1&quot;, &quot;verticle2&quot;, &quot;verticle3&quot;\n    ].parallelStream().forEach(verticle -&gt; {\n        runContentProviderLauncher.args(verticle).exec()\n    })\n}\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","response","dto","pojo"],"comments":[{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1677811846,"post_id":75622744,"comment_id":133415632,"body_markdown":"What do you mean by request? Can you put the code?","body":"What do you mean by request? Can you put the code?"},{"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"黃奕翔"},"score":0,"creation_date":1677812120,"post_id":75622744,"comment_id":133415662,"body_markdown":"Hi, sorry for not being clear enough, I re-edited","body":"Hi, sorry for not being clear enough, I re-edited"},{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1677813342,"post_id":75622744,"comment_id":133415779,"body_markdown":"Can you post your service as well?","body":"Can you post your service as well?"}],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677816617,"creation_date":1677816617,"answer_id":75623085,"question_id":75622744,"body_markdown":"You can certainly use the same DTO for Get requests. It&#39;s just going to be serialized into a JSON object, which you can then map from the response on your front end.\r\n\r\nYou can mostly do the same for other request types, as long as it has all of the fields you need.\r\n\r\nThat being said, it may be better to define a separate DTO for each situation because you generally don&#39;t want to send any more or any less data than what is needed. Just my two cents.","title":"springboot returns different pojos according to different controller","body":"<p>You can certainly use the same DTO for Get requests. It's just going to be serialized into a JSON object, which you can then map from the response on your front end.</p>\n<p>You can mostly do the same for other request types, as long as it has all of the fields you need.</p>\n<p>That being said, it may be better to define a separate DTO for each situation because you generally don't want to send any more or any less data than what is needed. Just my two cents.</p>\n"}],"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"黃奕翔"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677816617,"creation_date":1677811694,"question_id":75622744,"body_markdown":"I would like to ask when I have controllerA, I want to display **id, emailTitle, emailBody**, and when controllerB, I want to display **emailBody and correspondingApi**. I would like to ask, is it possible to achieve this assuming there is only one pojo or dto?\r\n```\r\n@Data\r\npublic class EmailTemplateDto {\r\n\r\n    private Long id;\r\n\r\n    private String emailTitle;\r\n\r\n    private String emailBody;\r\n\r\n    private String correspondingApi;\r\n}\r\n```\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/email/template&quot;)\r\npublic class MailController {\r\n\r\n    @Autowired\r\n    private IEmailTemplateService emailTemplateService;\r\n    \r\n    //ControllerA\r\n    @GetMapping\r\n    public ResponseEntity&lt;Object&gt; getAllEmailTemplates() {\r\n        return emailTemplateService.getAllEmailTemplates();\r\n    }\r\n    \r\n    //ControllerB\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getEmailTemplateById(@PathVariable Long id) {\r\n      \r\n}  return emailTemplateService.getEmailTemplateById(id);\r\n    \r\n}\r\n```\r\n","title":"springboot returns different pojos according to different controller","body":"<p>I would like to ask when I have controllerA, I want to display <strong>id, emailTitle, emailBody</strong>, and when controllerB, I want to display <strong>emailBody and correspondingApi</strong>. I would like to ask, is it possible to achieve this assuming there is only one pojo or dto?</p>\n<pre><code>@Data\npublic class EmailTemplateDto {\n\n    private Long id;\n\n    private String emailTitle;\n\n    private String emailBody;\n\n    private String correspondingApi;\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/email/template&quot;)\npublic class MailController {\n\n    @Autowired\n    private IEmailTemplateService emailTemplateService;\n    \n    //ControllerA\n    @GetMapping\n    public ResponseEntity&lt;Object&gt; getAllEmailTemplates() {\n        return emailTemplateService.getAllEmailTemplates();\n    }\n    \n    //ControllerB\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; getEmailTemplateById(@PathVariable Long id) {\n      \n}  return emailTemplateService.getEmailTemplateById(id);\n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","filter"],"owner":{"account_id":4564037,"reputation":1,"user_id":3705517,"display_name":"user3705517"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677816433,"creation_date":1677816346,"question_id":75623067,"body_markdown":"In the spring boot hibernated web application project, the project has standard hibernate component \r\nController which has annotation of @RestController @RequestMapping and etc.\r\nconfig class which has annotation of @Configuration @EnableOAuth2Client that extends WebSecurityConfigurerAdapter to implement custom config and filter into the servlet \r\n\r\n\r\nFollowing is custom config class that override configure to add custom filter.\r\n\r\n```\r\n@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;).permitAll().anyRequest()\r\n\t\t\t\t.authenticated().and().exceptionHandling()\r\n\t\t\t\t.authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)).and().logout()\r\n\t\t\t\t.addLogoutHandler(customLogoutHandler).logoutSuccessHandler(customLogoutSuccessHandler)\r\n\t\t\t\t.deleteCookies(&quot;XSRF-Token&quot;, &quot;JSESSIONID&quot;).permitAll().and()\r\n\t\t\t\t.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).and()\r\n\t\t\t\t.addFilterBefore(ssoFilter(), BasicAuthenticationFilter.class)\r\n\t\t\t\t.addFilterAfter(new CsrfGrantingFilter(), CsrfFilter.class);\r\n\t\t\r\n}\r\n```\r\n\r\nAll the custom filter work as usual across to all of controller .\r\n\r\nthe war packed has deployed to a tomcat server in the directory of ../customnamefolder/\r\n\r\n\r\nThe major issue that I facing is those custom filter header doesn&#39;t take effect at \r\nhttps://www.websitedomain.com/customnamefolder\r\n\r\nbut it works at,controllerABC represent all of the web application&#39;s controller \r\nhttps://www.websitedomain.com/customnamefolder/controllerABC\r\n\r\n\r\n","title":"Spring boot hibernate implement secure request header filter work on all controller but doesn&#39;t work on root of web application","body":"<p>In the spring boot hibernated web application project, the project has standard hibernate component\nController which has annotation of @RestController @RequestMapping and etc.\nconfig class which has annotation of @Configuration @EnableOAuth2Client that extends WebSecurityConfigurerAdapter to implement custom config and filter into the servlet</p>\n<p>Following is custom config class that override configure to add custom filter.</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;).permitAll().anyRequest()\n                .authenticated().and().exceptionHandling()\n                .authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)).and().logout()\n                .addLogoutHandler(customLogoutHandler).logoutSuccessHandler(customLogoutSuccessHandler)\n                .deleteCookies(&quot;XSRF-Token&quot;, &quot;JSESSIONID&quot;).permitAll().and()\n                .csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).and()\n                .addFilterBefore(ssoFilter(), BasicAuthenticationFilter.class)\n                .addFilterAfter(new CsrfGrantingFilter(), CsrfFilter.class);\n        \n}\n</code></pre>\n<p>All the custom filter work as usual across to all of controller .</p>\n<p>the war packed has deployed to a tomcat server in the directory of ../customnamefolder/</p>\n<p>The major issue that I facing is those custom filter header doesn't take effect at\n<a href=\"https://www.websitedomain.com/customnamefolder\" rel=\"nofollow noreferrer\">https://www.websitedomain.com/customnamefolder</a></p>\n<p>but it works at,controllerABC represent all of the web application's controller\n<a href=\"https://www.websitedomain.com/customnamefolder/controllerABC\" rel=\"nofollow noreferrer\">https://www.websitedomain.com/customnamefolder/controllerABC</a></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"display_name":"user4441304"},"score":0,"creation_date":1421109038,"post_id":27913114,"comment_id":44225585,"body_markdown":"Have you added it to the Build Path?","body":"Have you added it to the Build Path?"},{"owner":{"account_id":3031550,"reputation":2457,"user_id":2570465,"accept_rate":92,"display_name":"user2570465"},"score":1,"creation_date":1421109138,"post_id":27913114,"comment_id":44225613,"body_markdown":"what version of Eclipse are you using? And what version of JavaFX?","body":"what version of Eclipse are you using? And what version of JavaFX?"},{"owner":{"account_id":4980636,"reputation":830,"user_id":4005742,"accept_rate":82,"display_name":"CaffeineToCode"},"score":0,"creation_date":1421109150,"post_id":27913114,"comment_id":44225620,"body_markdown":"How are you referencing it?","body":"How are you referencing it?"},{"owner":{"display_name":"user4441304"},"score":0,"creation_date":1421109482,"post_id":27913114,"comment_id":44225744,"body_markdown":"@CaffeineToCode Well by the sounds of it, it looks like they&#39;ve just plopped it in there and tried to run it. :/","body":"@CaffeineToCode Well by the sounds of it, it looks like they&#39;ve just plopped it in there and tried to run it. :/"},{"owner":{"account_id":4980636,"reputation":830,"user_id":4005742,"accept_rate":82,"display_name":"CaffeineToCode"},"score":0,"creation_date":1421109544,"post_id":27913114,"comment_id":44225762,"body_markdown":"My guess is he didn&#39;t add it to the build path. I can&#39;t be sure though, so I don&#39;t want to post an answer.","body":"My guess is he didn&#39;t add it to the build path. I can&#39;t be sure though, so I don&#39;t want to post an answer."},{"owner":{"display_name":"user4441304"},"score":0,"creation_date":1421109558,"post_id":27913114,"comment_id":44225770,"body_markdown":"@CaffeineToCode Doing it now. :P","body":"@CaffeineToCode Doing it now. :P"}],"answers":[{"tags":[],"owner":{"display_name":"user4441304"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421110117,"creation_date":1421109713,"answer_id":27913244,"question_id":27913114,"body_markdown":"&lt;h1&gt;Adding to Build Path&lt;/h1&gt;\r\n\r\nYour problem here, is that you just dropped your `.jar` file right in there, and tried using it. You need to **add** it to the project. To do so, follow the below steps:\r\n\r\n1. Add the `.jar` file to your project **folder** (not `src`) via. copy/paste or simply drag/drop.\r\n2. Right click on the `.jar` file once it&#39;s inside your project.\r\n3. Press `Build Path &gt; Add To Build Path`\r\n\r\nWhat you have/will done, is adding the `.jar` to the project itself. Theres a difference between having it **in** your project, and having it **a part** of your project.\r\n\r\nNow you can `import`, `extend`, `implement`, whatever you need.\r\n\r\n***\r\n\r\n&lt;h1&gt;Removing from Build Path&lt;/h1&gt;\r\n\r\nOk, so you found a better library for what you want, no longer need the library or made your own, and you want to delete your `.jar`.\r\n\r\nWell, firstly, it&#39;s *still* **a part** of your project, so you need to remove it from the Build Path first.\r\n\r\n1. Right click on the `.jar` file.\r\n2. Press `Build Path &gt; Remove from Build Path`\r\n\r\nYour `.jar` is *still* **inside** your project, but no longer **a part** of it.\r\n\r\nNow you may go ahead and delete it without worry.","title":"Cannot get JavaFX to work in Eclipse","body":"<h1>Adding to Build Path</h1>\n\n<p>Your problem here, is that you just dropped your <code>.jar</code> file right in there, and tried using it. You need to <strong>add</strong> it to the project. To do so, follow the below steps:</p>\n\n<ol>\n<li>Add the <code>.jar</code> file to your project <strong>folder</strong> (not <code>src</code>) via. copy/paste or simply drag/drop.</li>\n<li>Right click on the <code>.jar</code> file once it's inside your project.</li>\n<li>Press <code>Build Path &gt; Add To Build Path</code></li>\n</ol>\n\n<p>What you have/will done, is adding the <code>.jar</code> to the project itself. Theres a difference between having it <strong>in</strong> your project, and having it <strong>a part</strong> of your project.</p>\n\n<p>Now you can <code>import</code>, <code>extend</code>, <code>implement</code>, whatever you need.</p>\n\n<hr>\n\n<h1>Removing from Build Path</h1>\n\n<p>Ok, so you found a better library for what you want, no longer need the library or made your own, and you want to delete your <code>.jar</code>.</p>\n\n<p>Well, firstly, it's <em>still</em> <strong>a part</strong> of your project, so you need to remove it from the Build Path first.</p>\n\n<ol>\n<li>Right click on the <code>.jar</code> file.</li>\n<li>Press <code>Build Path &gt; Remove from Build Path</code></li>\n</ol>\n\n<p>Your <code>.jar</code> is <em>still</em> <strong>inside</strong> your project, but no longer <strong>a part</strong> of it.</p>\n\n<p>Now you may go ahead and delete it without worry.</p>\n"},{"tags":[],"owner":{"account_id":3897565,"reputation":175,"user_id":3226170,"accept_rate":37,"display_name":"user3226170"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422971656,"creation_date":1422971656,"answer_id":28300645,"question_id":27913114,"body_markdown":"So I finally got it working, the solution was to install the eclipse plugin found here:\r\n\r\nhttp://www.eclipse.org/efxclipse/install.html\r\n\r\nThe directions are pretty good, I just followed them as written and got it up and running.","title":"Cannot get JavaFX to work in Eclipse","body":"<p>So I finally got it working, the solution was to install the eclipse plugin found here:</p>\n\n<p><a href=\"http://www.eclipse.org/efxclipse/install.html\" rel=\"nofollow\">http://www.eclipse.org/efxclipse/install.html</a></p>\n\n<p>The directions are pretty good, I just followed them as written and got it up and running.</p>\n"},{"tags":[],"owner":{"account_id":9950284,"reputation":1455,"user_id":7363234,"accept_rate":75,"display_name":"Cristian Babarusi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511377722,"creation_date":1511377722,"answer_id":47442181,"question_id":27913114,"body_markdown":"The simple way to solve your issue is to right click your project, go to properties &gt; java build path then select the tab where it says Libraries.\r\nYou have to select that library you have in there &gt; click the button EDIT then select from there Workspace default JRE . You need to have at least java 8.\r\n","title":"Cannot get JavaFX to work in Eclipse","body":"<p>The simple way to solve your issue is to right click your project, go to properties > java build path then select the tab where it says Libraries.\nYou have to select that library you have in there > click the button EDIT then select from there Workspace default JRE . You need to have at least java 8.</p>\n"},{"tags":[],"owner":{"account_id":9066097,"reputation":101,"user_id":6750838,"display_name":"Deepika Sachdeva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677815716,"creation_date":1677815716,"answer_id":75623036,"question_id":27913114,"body_markdown":"Step1 Download JavaFX zip folder and place it into save folder like document folder\r\n\r\nhttps://gluonhq.com/products/javafx/\r\nStep 2 File -&gt; New Project -&gt; Java Project\r\n\r\nStep3 Right on Project Click on properties -&gt; Click on Libraries Add Library --&gt; Add New --&gt; Add External Jars\r\n\r\nStep4 - Remove module-info.java file from your project\r\n\r\nStep5 - Set the VM Arguments Click on Run--&gt; Run Configuration --&gt; Arguments\r\n\r\nAdd Path Like this (my sdk present in documents folder)\r\n\r\n--module-path /Users/MICROSOFT/Documents/javafx-sdk-17.0.6/lib --add-modules javafx.controls,javafx.fxml\r\n\r\nThanks","title":"Cannot get JavaFX to work in Eclipse","body":"<p>Step1 Download JavaFX zip folder and place it into save folder like document folder</p>\n<p><a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a>\nStep 2 File -&gt; New Project -&gt; Java Project</p>\n<p>Step3 Right on Project Click on properties -&gt; Click on Libraries Add Library --&gt; Add New --&gt; Add External Jars</p>\n<p>Step4 - Remove module-info.java file from your project</p>\n<p>Step5 - Set the VM Arguments Click on Run--&gt; Run Configuration --&gt; Arguments</p>\n<p>Add Path Like this (my sdk present in documents folder)</p>\n<p>--module-path /Users/MICROSOFT/Documents/javafx-sdk-17.0.6/lib --add-modules javafx.controls,javafx.fxml</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":3897565,"reputation":175,"user_id":3226170,"accept_rate":37,"display_name":"user3226170"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1677815716,"creation_date":1421108823,"question_id":27913114,"body_markdown":"I&#39;m trying to use `JavaFX` in Eclipse but whenever I use any of it&#39;s Classes it doesn&#39;t recognize the type. To clarify I get the message `&quot;Dropshadow cannot be resolved to a type&quot;`\r\n\r\n This happens not only with Dropshadow, but with any of the `JavaFX` classes. The IDE won&#39;t give me an option to import it and when I try and to type it in manually it isn&#39;t recognized.  In using `JSE 8u25`, which apparently has it included.\r\n\r\nIn looking around I see that the `.jar file` can be added manually, but I would like to know if something within my IDE isn&#39;t configured right, because it should be working. Can anybody give me a hand with this? Thanks.","title":"Cannot get JavaFX to work in Eclipse","body":"<p>I'm trying to use <code>JavaFX</code> in Eclipse but whenever I use any of it's Classes it doesn't recognize the type. To clarify I get the message <code>\"Dropshadow cannot be resolved to a type\"</code></p>\n\n<p>This happens not only with Dropshadow, but with any of the <code>JavaFX</code> classes. The IDE won't give me an option to import it and when I try and to type it in manually it isn't recognized.  In using <code>JSE 8u25</code>, which apparently has it included.</p>\n\n<p>In looking around I see that the <code>.jar file</code> can be added manually, but I would like to know if something within my IDE isn't configured right, because it should be working. Can anybody give me a hand with this? Thanks.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1677755070,"post_id":75613716,"comment_id":133402111,"body_markdown":"It is `COSName.THUMB`, not  `CosName.Thumb`.","body":"It is <code>COSName.THUMB</code>, not  <code>CosName.Thumb</code>."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677756318,"creation_date":1677756318,"answer_id":75614786,"question_id":75613716,"body_markdown":"For each page, do this:\r\n\r\n\tCOSStream stream = page.getCOSObject().getCOSStream(COSName.THUMB);\r\n\tif (stream != null)\r\n\t{\r\n\t\tPDImageXObject img = PDImageXObject.createThumbnail(stream);\r\n\t}\r\n","title":"Can we use apache pdfbox to find any embedded thumbnails within the PDF?","body":"<p>For each page, do this:</p>\n<pre><code>COSStream stream = page.getCOSObject().getCOSStream(COSName.THUMB);\nif (stream != null)\n{\n    PDImageXObject img = PDImageXObject.createThumbnail(stream);\n}\n</code></pre>\n"}],"owner":{"account_id":20954790,"reputation":11,"user_id":15395585,"display_name":"Messy Rider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677815397,"creation_date":1677750529,"question_id":75613716,"body_markdown":"How to use apache pdfbox to find any embedded thumbnails within the PDF. Which COSName property is used to check the same. I used CosName.Thumb but that isn&#39;t working. Any Help?","title":"Can we use apache pdfbox to find any embedded thumbnails within the PDF?","body":"<p>How to use apache pdfbox to find any embedded thumbnails within the PDF. Which COSName property is used to check the same. I used CosName.Thumb but that isn't working. Any Help?</p>\n"},{"tags":["java","spring","spring-mvc","testing","file-upload"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677815340,"creation_date":1677815340,"answer_id":75623011,"question_id":75608546,"body_markdown":"as suggestion  , it may better to use ```@RequestPart``` instead of ```@ModelAttribute```;\r\ndivide file in individual part , and fileMeta in aother ;\r\nhere is code snippet ,\r\n- route \r\n```\r\n    @PostMapping(&quot;/upload/file&quot;)\r\n    public ResponseEntity&lt;Object&gt; convertFile( @RequestPart(&quot;file&quot;) FilePart filePart, @RequestPart(required = false,value = &quot;meta&quot;) ConvertFileRequest request) {\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```\r\n- entity \r\n```\r\n@Data\r\npublic class ConvertFileRequest {\r\n\r\n    private String title;\r\n    private String name;\r\n    private Map&lt;String, String&gt; metadata;\r\n\r\n}\r\n```\r\nnote that , the args ```file``` content-type shoulf be ```multipart/form-data``` , and ```meta``` should define as ```application/json```\r\n","title":"How to upload a file with metadata map wrapped in DTO?","body":"<p>as suggestion  , it may better to use <code>@RequestPart</code> instead of <code>@ModelAttribute</code>;\ndivide file in individual part , and fileMeta in aother ;\nhere is code snippet ,</p>\n<ul>\n<li>route</li>\n</ul>\n<pre><code>    @PostMapping(&quot;/upload/file&quot;)\n    public ResponseEntity&lt;Object&gt; convertFile( @RequestPart(&quot;file&quot;) FilePart filePart, @RequestPart(required = false,value = &quot;meta&quot;) ConvertFileRequest request) {\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n<ul>\n<li>entity</li>\n</ul>\n<pre><code>@Data\npublic class ConvertFileRequest {\n\n    private String title;\n    private String name;\n    private Map&lt;String, String&gt; metadata;\n\n}\n</code></pre>\n<p>note that , the args <code>file</code> content-type shoulf be <code>multipart/form-data</code> , and <code>meta</code> should define as <code>application/json</code></p>\n"}],"owner":{"account_id":9780822,"reputation":31,"user_id":7248963,"display_name":"rozeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677815340,"creation_date":1677701733,"question_id":75608546,"body_markdown":"I am trying to expose an endpoint to upload a file with metadata map. I want to have it in one POJO - see `ConvertFileRequest` below. I cannot pass `metadata` as json to the request parameter map in `@WebMvcTest` because &quot;`no matching editors or conversion strategy found`&quot;. Is it because `@WebMvcTest` is not configuring some converters? Am I using the `mockMvc` incorrectly? Or is there something else I am missing in the design? Or is there a way to put all the remaining params in the `metadata` field without json serialisation?\r\n\r\nThe mentioned test:\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\n@WebMvcTest(controllers = FileFormatConvertController.class)\r\nclass FileFormatConvertControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Test\r\n    void shouldUploadFileWithMetadata() throws Exception {\r\n        MockMultipartFile file = new MockMultipartFile(\r\n                &quot;file&quot;,\r\n                &quot;file.docx&quot;,\r\n                MediaType.APPLICATION_OCTET_STREAM_VALUE,\r\n                &quot;file content&quot;.getBytes()\r\n        );\r\n        mockMvc.perform(multipart(&quot;/file&quot;)\r\n                                .file(file)\r\n                                .param(&quot;title&quot;, &quot;File title&quot;)\r\n                                .param(&quot;metadata&quot;, new ObjectMapper().writeValueAsString(Map.of(&quot;some-value&quot;, &quot;some-key&quot;)))\r\n                )\r\n                .andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\nFails with:\r\n```\r\nResolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\r\nField error in object &#39;convertFileRequest&#39; on field &#39;metadata&#39;: rejected value [{&quot;some-value&quot;:&quot;some-key&quot;}]; codes [typeMismatch.convertFileRequest.metadata,typeMismatch.metadata,typeMismatch.java.util.Map,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [convertFileRequest.metadata,metadata]; arguments []; default message [metadata]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property &#39;metadata&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property &#39;metadata&#39;: no matching editors or conversion strategy found]]\r\n```\r\n\r\n---\r\nThe rest of the code:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/file&quot;)\r\n@RequiredArgsConstructor\r\nclass FileFormatConvertController {\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;ConvertFileResponse&gt; convertFile(@Valid @ModelAttribute final ConvertFileRequest request) {\r\n       return ResponseEntity.ok().build();\r\n    }\r\n```\r\n```\r\n@Data\r\npublic class ConvertFileRequest {\r\n    @NotNull\r\n    private MultipartFile file;\r\n    @NotEmpty\r\n    private String title;\r\n    private Map&lt;String, String&gt; metadata;\r\n}\r\n```","title":"How to upload a file with metadata map wrapped in DTO?","body":"<p>I am trying to expose an endpoint to upload a file with metadata map. I want to have it in one POJO - see <code>ConvertFileRequest</code> below. I cannot pass <code>metadata</code> as json to the request parameter map in <code>@WebMvcTest</code> because &quot;<code>no matching editors or conversion strategy found</code>&quot;. Is it because <code>@WebMvcTest</code> is not configuring some converters? Am I using the <code>mockMvc</code> incorrectly? Or is there something else I am missing in the design? Or is there a way to put all the remaining params in the <code>metadata</code> field without json serialisation?</p>\n<p>The mentioned test:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@WebMvcTest(controllers = FileFormatConvertController.class)\nclass FileFormatConvertControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    void shouldUploadFileWithMetadata() throws Exception {\n        MockMultipartFile file = new MockMultipartFile(\n                &quot;file&quot;,\n                &quot;file.docx&quot;,\n                MediaType.APPLICATION_OCTET_STREAM_VALUE,\n                &quot;file content&quot;.getBytes()\n        );\n        mockMvc.perform(multipart(&quot;/file&quot;)\n                                .file(file)\n                                .param(&quot;title&quot;, &quot;File title&quot;)\n                                .param(&quot;metadata&quot;, new ObjectMapper().writeValueAsString(Map.of(&quot;some-value&quot;, &quot;some-key&quot;)))\n                )\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>Fails with:</p>\n<pre><code>Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'convertFileRequest' on field 'metadata': rejected value [{&quot;some-value&quot;:&quot;some-key&quot;}]; codes [typeMismatch.convertFileRequest.metadata,typeMismatch.metadata,typeMismatch.java.util.Map,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [convertFileRequest.metadata,metadata]; arguments []; default message [metadata]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.util.Map' for property 'metadata'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'java.util.Map' for property 'metadata': no matching editors or conversion strategy found]]\n</code></pre>\n<hr />\n<p>The rest of the code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/file&quot;)\n@RequiredArgsConstructor\nclass FileFormatConvertController {\n\n    @PostMapping\n    ResponseEntity&lt;ConvertFileResponse&gt; convertFile(@Valid @ModelAttribute final ConvertFileRequest request) {\n       return ResponseEntity.ok().build();\n    }\n</code></pre>\n<pre><code>@Data\npublic class ConvertFileRequest {\n    @NotNull\n    private MultipartFile file;\n    @NotEmpty\n    private String title;\n    private Map&lt;String, String&gt; metadata;\n}\n</code></pre>\n"},{"tags":["java","groovy","jsr223"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677813634,"creation_date":1677813634,"answer_id":75622875,"question_id":75611036,"body_markdown":"On GroovyScriptEngine you&#39;d just do this:\r\n\r\n```\r\nCompilerConfiguration cfg = new CompilerConfiguration()\r\ncfg.setScriptBaseClass(CustomScript.class.getName())\r\n\r\nGroovyScriptEngine engine = new GroovyScriptEngine(...)\r\nengine.setConfig( cfg )\r\n```\r\n\r\nJSR-223 doesn&#39;t really have an equivalent of that.  You could bind your Java object instance into a global variable to expose those APIs to whatever scripting language you want.  Doing this:\r\n\r\nScriptEngine engine = ...\r\nengine.put(&quot;system&quot;, new SystemSupport() )\r\n\r\nBut that&#39;d look like this to your script:\r\n```\r\nsystem.someApiMethod()\r\n```\r\nBut you won&#39;t be able to subclass CustomScript transparently to expose methods &quot;globally&quot;.  Not all scripting languages work from an Object only point of view as Java does.  Take Javascript for example. How would that work subclassing a Java object in JS which doesn&#39;t support typical OO? And JSR-223 was very much conceived with the Javascript point of view in mind.\r\n\r\nFor practical purposes you may want to evaluate whether JSR-233 API compliance is a must and adapt to it, or just cut bait and go with a specific scripting engine like Groovy.  But I might go the DSL route over subclassing an object as I think it&#39;s more flexible and expressive.","title":"How to define a custom function in groovy, using JSR-223 API to integrate with java","body":"<p>On GroovyScriptEngine you'd just do this:</p>\n<pre><code>CompilerConfiguration cfg = new CompilerConfiguration()\ncfg.setScriptBaseClass(CustomScript.class.getName())\n\nGroovyScriptEngine engine = new GroovyScriptEngine(...)\nengine.setConfig( cfg )\n</code></pre>\n<p>JSR-223 doesn't really have an equivalent of that.  You could bind your Java object instance into a global variable to expose those APIs to whatever scripting language you want.  Doing this:</p>\n<p>ScriptEngine engine = ...\nengine.put(&quot;system&quot;, new SystemSupport() )</p>\n<p>But that'd look like this to your script:</p>\n<pre><code>system.someApiMethod()\n</code></pre>\n<p>But you won't be able to subclass CustomScript transparently to expose methods &quot;globally&quot;.  Not all scripting languages work from an Object only point of view as Java does.  Take Javascript for example. How would that work subclassing a Java object in JS which doesn't support typical OO? And JSR-223 was very much conceived with the Javascript point of view in mind.</p>\n<p>For practical purposes you may want to evaluate whether JSR-233 API compliance is a must and adapt to it, or just cut bait and go with a specific scripting engine like Groovy.  But I might go the DSL route over subclassing an object as I think it's more flexible and expressive.</p>\n"}],"owner":{"account_id":22688346,"reputation":1,"user_id":16857609,"display_name":"bug_moreclear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677813634,"creation_date":1677727235,"question_id":75611036,"body_markdown":"if i use GroovyShell, it is just like this:\r\n\r\n```\r\nCompilerConfiguration cfg = new CompilerConfiguration()\r\ncfg.setScriptBaseClass(CustomScript.class.getName())\r\n\r\nGroovyShell shell = new GroovyShell(cfg)\r\n```\r\nin which &quot;CustomScript&quot; is my custom class with my custom functions.\r\n\r\nHow can i do this when i use JSR-223 API to integrate groovy with java?\r\n\r\nI didn&#39;t find any interfaces in JSR-223 API or GroovyScriptEngineImpl.","title":"How to define a custom function in groovy, using JSR-223 API to integrate with java","body":"<p>if i use GroovyShell, it is just like this:</p>\n<pre><code>CompilerConfiguration cfg = new CompilerConfiguration()\ncfg.setScriptBaseClass(CustomScript.class.getName())\n\nGroovyShell shell = new GroovyShell(cfg)\n</code></pre>\n<p>in which &quot;CustomScript&quot; is my custom class with my custom functions.</p>\n<p>How can i do this when i use JSR-223 API to integrate groovy with java?</p>\n<p>I didn't find any interfaces in JSR-223 API or GroovyScriptEngineImpl.</p>\n"},{"tags":["java","encryption","apk","dex","apktool"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677775950,"post_id":75615245,"comment_id":133408587,"body_markdown":"Your question is very broad. I would try to understand how existing APK protection systems work: search for protected non-malicious APKs, reverse them and try to understand how they work.","body":"Your question is very broad. I would try to understand how existing APK protection systems work: search for protected non-malicious APKs, reverse them and try to understand how they work."},{"owner":{"account_id":27880470,"reputation":1,"user_id":21289015,"display_name":"Huang Yong Jie"},"score":0,"creation_date":1677807193,"post_id":75615245,"comment_id":133415138,"body_markdown":"Thanks Dear Robert. Yup it is broad ,but interesting","body":"Thanks Dear Robert. Yup it is broad ,but interesting"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677830511,"post_id":75615245,"comment_id":133418324,"body_markdown":"The may be Stackoverflow is the wrong place, because this is a Q&amp;A site which means you need to have a focused question to get good answers.","body":"The may be Stackoverflow is the wrong place, because this is a Q&amp;A site which means you need to have a focused question to get good answers."},{"owner":{"account_id":27880470,"reputation":1,"user_id":21289015,"display_name":"Huang Yong Jie"},"score":0,"creation_date":1677903557,"post_id":75615245,"comment_id":133434047,"body_markdown":"Dear Robert after your suggestion I think i am little bit clear what i try to learn \nI would like to learn Android app hardening, do you have any platform recommended\nThanks","body":"Dear Robert after your suggestion I think i am little bit clear what i try to learn  I would like to learn Android app hardening, do you have any platform recommended Thanks"}],"owner":{"account_id":27880470,"reputation":1,"user_id":21289015,"display_name":"Huang Yong Jie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677813180,"creation_date":1677759071,"question_id":75615245,"body_markdown":"How can I amend an Apk DEX file?\r\n\r\nSteps \r\n1. Decompile an original signed Apk file into archive file(including Smali DEX file, rescources, assets, lib etc)\r\n\r\n2. Seperate the original DEX file apart from other original Apk files(resources, lib, assets etc) \r\n\r\n3. Encrypt the original DEX file using AES method\r\n\r\n4. Combine the original DEX file(already being encrypted in Step 3) with another DEX file sometimes called SHELL which has Decryption Function to decrypt the original DEX file when run in Dalvik virtual machine\r\n\r\n5. Final step sign the Apk file again with release keystore to form a signed APK file and let users download \r\n   \r\n\r\nI am interested in learning the principle and skill to execute this process and how the Antivirus Database detect those content in the APK file","title":"APK dex file Encryption","body":"<p>How can I amend an Apk DEX file?</p>\n<p>Steps</p>\n<ol>\n<li><p>Decompile an original signed Apk file into archive file(including Smali DEX file, rescources, assets, lib etc)</p>\n</li>\n<li><p>Seperate the original DEX file apart from other original Apk files(resources, lib, assets etc)</p>\n</li>\n<li><p>Encrypt the original DEX file using AES method</p>\n</li>\n<li><p>Combine the original DEX file(already being encrypted in Step 3) with another DEX file sometimes called SHELL which has Decryption Function to decrypt the original DEX file when run in Dalvik virtual machine</p>\n</li>\n<li><p>Final step sign the Apk file again with release keystore to form a signed APK file and let users download</p>\n</li>\n</ol>\n<p>I am interested in learning the principle and skill to execute this process and how the Antivirus Database detect those content in the APK file</p>\n"},{"tags":["java","arraylist","switch-statement","return-value","getter"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677764537,"post_id":75616216,"comment_id":133404814,"body_markdown":"How is the field `grade` defined? I suspect it&#39;s something like `private static char grade`. If so, remove the `static`.","body":"How is the field <code>grade</code> defined? I suspect it&#39;s something like <code>private static char grade</code>. If so, remove the <code>static</code>."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677764572,"post_id":75616216,"comment_id":133404824,"body_markdown":"In any case, the pasted code isn&#39;t relevant to the question. Paste the definition of the `Car` class, and/or where you actually made `carList`. VTC: Not enough detail","body":"In any case, the pasted code isn&#39;t relevant to the question. Paste the definition of the <code>Car</code> class, and/or where you actually made <code>carList</code>. VTC: Not enough detail"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677764573,"post_id":75616216,"comment_id":133404826,"body_markdown":"And unrelated to your actual question: `grade` is pretty much a perfect match for using an `enum` value instead of a `char`.","body":"And unrelated to your actual question: <code>grade</code> is pretty much a perfect match for using an <code>enum</code> value instead of a <code>char</code>."},{"owner":{"account_id":26143210,"reputation":1,"user_id":19832283,"display_name":"CasCelis"},"score":0,"creation_date":1677764667,"post_id":75616216,"comment_id":133404852,"body_markdown":"@JoachimSauer Thanks for your comment! `grade` is defined as `private char grade` - no static keyword, sadly.","body":"@JoachimSauer Thanks for your comment! <code>grade</code> is defined as <code>private char grade</code> - no static keyword, sadly."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1677764795,"post_id":75616216,"comment_id":133404892,"body_markdown":"Actually: re-reading your `condition` method: It will check the grade from each car and only return the *last one*. There&#39;s no way this method returns any grade other than the one from the last car in the list.","body":"Actually: re-reading your <code>condition</code> method: It will check the grade from each car and only return the <i>last one</i>. There&#39;s no way this method returns any grade other than the one from the last car in the list."},{"owner":{"account_id":26143210,"reputation":1,"user_id":19832283,"display_name":"CasCelis"},"score":0,"creation_date":1677765849,"post_id":75616216,"comment_id":133405254,"body_markdown":"@JoachimSauer I hadn&#39;t noticed that, much appreciated. I&#39;ll look into how to fix that.","body":"@JoachimSauer I hadn&#39;t noticed that, much appreciated. I&#39;ll look into how to fix that."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677766230,"post_id":75616216,"comment_id":133405374,"body_markdown":"And since you posted your `Car` class: two things about the `containsInvalid` method that immediately jump out at me: `invalid` should **really** be a parameter to that method and not a field that you set. Apart from breaking any multithreading, this approach also is ugly as sin. And second: you use `matches()` which would only return when *the whole string* matches the regex, but you use regex that only match a single character. You need `Matcher.find()` instead.","body":"And since you posted your <code>Car</code> class: two things about the <code>containsInvalid</code> method that immediately jump out at me: <code>invalid</code> should <b>really</b> be a parameter to that method and not a field that you set. Apart from breaking any multithreading, this approach also is ugly as sin. And second: you use <code>matches()</code> which would only return when <i>the whole string</i> matches the regex, but you use regex that only match a single character. You need <code>Matcher.find()</code> instead."},{"owner":{"account_id":26143210,"reputation":1,"user_id":19832283,"display_name":"CasCelis"},"score":0,"creation_date":1677766894,"post_id":75616216,"comment_id":133405624,"body_markdown":"@JoachimSauer Fantastic, I&#39;ll implement those changes. I was also having issues with `matches()` but I didn&#39;t want to ask about all the concerns in one go. Thank you so much for all your help!","body":"@JoachimSauer Fantastic, I&#39;ll implement those changes. I was also having issues with <code>matches()</code> but I didn&#39;t want to ask about all the concerns in one go. Thank you so much for all your help!"}],"owner":{"account_id":26143210,"reputation":1,"user_id":19832283,"display_name":"CasCelis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677813081,"creation_date":1677764407,"question_id":75616216,"body_markdown":"I&#39;m building an application for storing/searching/sorting cars and I&#39;m running into an issue with one method.\r\nI have six ArrayLists, storing variables of different data types:\r\n\r\n\r\n    Car c1 = new Car(1, &quot;Ford&quot;, &quot;Mustang&quot;, &quot;2013&quot;, 200500, &quot;1.3L&quot;, &#39;A&#39;, 5550.50); \r\n    Car c2 = new Car(2, &quot;Audi&quot;, &quot;TT&quot;, &quot;2012&quot;, 88000, &quot;1.8L&quot;, &#39;C&#39;, 8450.00); \r\n\r\n(and so on)\r\n\r\nThe seventh parameter along (char &#39;A&#39;/&#39;C&#39;) represents the car&#39;s grade. In another method, I want to print a String that describes the car&#39;s condition based on it&#39;s grade (e.g. &#39;A&#39; = &#39;Like new&#39;, etc.). I&#39;ve tried using a switch statement and an if/else statement for this, but regardless, the getter is returning the wrong grade - always &#39;B&#39;.\r\n\r\n\r\nHere is the method code (switch statement):\r\n\r\n    public String condition() {\r\n\t    String condition = null;\r\n\t\r\n\t    for (Car car: carList) {\r\n\t\t\r\n\t\t    switch(car.getGrade()) {\r\n\t\t    case &#39;A&#39;: case &#39;a&#39;: condition = &quot;Like new&quot;; break;\r\n\t\t    case &#39;B&#39;: case &#39;b&#39;: condition = &quot;Good condition, no damage&quot;; break;\r\n\t\t    case &#39;C&#39;: case &#39;c&#39;: condition = &quot;Average condition, minor damage&quot;; break;\r\n\t\t    case &#39;D&#39;: case &#39;d&#39;: condition = &quot;Poor condition, but functional&quot;; break;\r\n\t\t    default: condition = &quot;Invalid&quot;; break;\r\n\t\t    }\t\t\r\n\t\t    }\r\n\t    return condition;\r\n    }\r\n\r\n\r\ngetGrade() is a simple getter method, as such:\r\n\r\n    public char getGrade() {\r\n\t    return grade;\r\n    }\r\n\r\n\r\nWhenever I print the condition() method, it&#39;s assigning the grade &#39;B&#39; to all the car objects and returning &quot;Good condition, no damage&quot;.\r\n\r\nThe expected output is the string that corresponds to the car&#39;s grade. \r\n\r\nI&#39;m not sure why this is happening; as an aside, I have used the same approach before with accurate results. As an example, here is a section of code where a few of the car&#39;s details are being printed out, using getters:\r\n\r\n    System.out.println(&quot;Enter car ID: &quot;);\r\n\t\t    int id = sc.nextInt();\r\n\t\t    for (Car car: carList) {\r\n\t\t\t    if (car.getID() == id) {\r\n\t\t\t\t    System.out.println(&quot;ID: &quot; + car.getID() + &quot;\\nManufacturer: &quot; + car.getManufacturer() + &quot;\\nModel: &quot; + car.getModel() + &quot;\\nYear: &quot; + car.getYear() + &quot;\\nPrice: &quot; + car.getPrice() + &quot;\\n&quot;);\r\n\t\t\t\t    return car;\r\n\t\t\t    }\r\n\r\nHere&#39;s the `Car` class code:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n\r\n\r\n    public class Car {\r\n\t\r\n\t    private String manufacturer;\r\n\t    private String model;\r\n\t    private String year;\r\n\t    private int mileage;\r\n\t    private String engineSize;\r\n\t    private char grade;\r\n\t    private double price;\r\n\t    private String invalid;\r\n\t    private int id;\r\n\t    private static final AtomicInteger count = new AtomicInteger(0);\r\n\r\n\r\n    public Car() {\r\n\t     manufacturer = inputManufacturer();\r\n\t     model = inputModel();\r\n\t     year = inputYear();\r\n\t     mileage = inputMileage();\r\n\t     engineSize = inputES();\r\n\t     grade = inputGrade();\t\r\n\t     price = inputPrice();\r\n\t     id = assignID();\r\n\t     }\r\n\r\n    public Car(int id, String manufacturer, String model, String year, int mileage, String engineSize, char grade, double price) {\r\n\t     this.id = id;\r\n\t     this.manufacturer = manufacturer;\r\n\t     this.model = model;\r\n\t     this.year = year;\t \r\n\t     this.mileage = mileage;\r\n\t     this.engineSize = engineSize;\r\n\t     this.grade = grade;\r\n\t     this.price = price;\r\n\t     }\r\n\t\r\n\r\n    public int assignID() {\r\n\t    id = count.incrementAndGet();\r\n\t    return id;\r\n    }\r\n\r\n\t\r\n    public String inputManufacturer() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter manufacturer: &quot;);\r\n\t    manufacturer = scan.next();\r\n\r\n\t    invalid = &quot;[0-9~/!?#@*+%{}&lt;&gt;[]|_^].*$]&quot;;\r\n\t    if(containsInvalid(manufacturer) == true) {\r\n\t\t    System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\r\n\t\t    inputManufacturer();\r\n\t    }\r\n\t\r\n\t    return manufacturer;\r\n    }\r\n\t\r\n    public String inputModel() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter model: &quot;);\r\n\t    model = scan.next();\r\n\t\r\n\t    invalid = &quot;[0-9~/!?#@*+%{}&lt;&gt;[]|_^].*$]&quot;;\r\n\t    if(containsInvalid(model) == true) {\r\n\t\t    System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\r\n\t\t    inputModel();\r\n\t    }\r\n\t    return model;\r\n    }\r\n\r\n    public String inputYear() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter year: &quot;);\r\n\t    year = scan.next();\r\n\t\r\n\t    invalid = &quot;[a-zA-Z!?+=-&#163;%^&amp;*/.,#~@&#39;;:_-]&quot;;\r\n\t    if(containsInvalid(year) == true ) {\r\n\t\t    System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\r\n\t\t    inputYear();\r\n\t    }\r\n\t    else if (year.length() &gt; 4) {\r\n\t\t    System.out.println(&quot;Invalid year. Please try again.&quot;);\r\n\t\t    inputYear();\r\n\t    }\r\n\t    return year;\r\n    }\r\n\r\n\r\n    public int inputMileage() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter mileage: &quot;);\r\n\t    mileage = scan.nextInt();\r\n\t\r\n\t    return mileage;\r\n    }\r\n\r\n    public String inputES() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter engine size: &quot;);\r\n\t    engineSize = scan.next();\r\n\t\r\n\t    invalid = &quot;[~/!?#@*+%{}&lt;&gt;[]|_^]*$]&quot;;\r\n\t    if(containsInvalid(engineSize) == true) {\r\n\t\t    System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\r\n\t\t    inputES();\r\n\t    }\r\n\t    return engineSize;\r\n    }\r\n\r\n    public char inputGrade() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter grade: &quot;);\r\n\t    char g;\r\n\t    g = scan.next().charAt(0);\r\n\t\r\n\t    if (g == &#39;A&#39; || g == &#39;B&#39; || g == &#39;C&#39; || g == &#39;D&#39;) {\r\n\t\t    grade = g;\r\n\t    }\r\n\t    else {\r\n\t\t    System.out.println(&quot;Invalid grade. Please try again.&quot;);\r\n\t\t    inputGrade();\r\n\t    }\r\n\t    return grade;\r\n    }\r\n\r\n\r\n    public double inputPrice() {\r\n\t    Scanner scan = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter price: &quot;);\r\n\t    price = scan.nextDouble();\r\n\t\r\n\t    return price;\r\n    }\r\n\r\n    public boolean containsInvalid(String toExamine) {\r\n\t    if (toExamine.matches(invalid)){\r\n\t\treturn true;\r\n\t    }\r\n\t    else {\r\n\t    return false;\r\n\t    }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n\t    return &quot;Manufacturer: &quot; + manufacturer + &quot;\\nModel: &quot; + model + \r\n    &quot;\\nYear: &quot; + year + &quot;\\nMileage: &quot; + mileage + &quot;\\nEngine size: &quot; + engineSize + &quot;\\nGrade: &quot; + grade + &quot;\\nPrice: &quot; + price;\r\n\r\n    }\r\n\r\n\r\nGetters and setters from this point onwards.","title":"Getter returning incorrect value","body":"<p>I'm building an application for storing/searching/sorting cars and I'm running into an issue with one method.\nI have six ArrayLists, storing variables of different data types:</p>\n<pre><code>Car c1 = new Car(1, &quot;Ford&quot;, &quot;Mustang&quot;, &quot;2013&quot;, 200500, &quot;1.3L&quot;, 'A', 5550.50); \nCar c2 = new Car(2, &quot;Audi&quot;, &quot;TT&quot;, &quot;2012&quot;, 88000, &quot;1.8L&quot;, 'C', 8450.00); \n</code></pre>\n<p>(and so on)</p>\n<p>The seventh parameter along (char 'A'/'C') represents the car's grade. In another method, I want to print a String that describes the car's condition based on it's grade (e.g. 'A' = 'Like new', etc.). I've tried using a switch statement and an if/else statement for this, but regardless, the getter is returning the wrong grade - always 'B'.</p>\n<p>Here is the method code (switch statement):</p>\n<pre><code>public String condition() {\n    String condition = null;\n\n    for (Car car: carList) {\n    \n        switch(car.getGrade()) {\n        case 'A': case 'a': condition = &quot;Like new&quot;; break;\n        case 'B': case 'b': condition = &quot;Good condition, no damage&quot;; break;\n        case 'C': case 'c': condition = &quot;Average condition, minor damage&quot;; break;\n        case 'D': case 'd': condition = &quot;Poor condition, but functional&quot;; break;\n        default: condition = &quot;Invalid&quot;; break;\n        }       \n        }\n    return condition;\n}\n</code></pre>\n<p>getGrade() is a simple getter method, as such:</p>\n<pre><code>public char getGrade() {\n    return grade;\n}\n</code></pre>\n<p>Whenever I print the condition() method, it's assigning the grade 'B' to all the car objects and returning &quot;Good condition, no damage&quot;.</p>\n<p>The expected output is the string that corresponds to the car's grade.</p>\n<p>I'm not sure why this is happening; as an aside, I have used the same approach before with accurate results. As an example, here is a section of code where a few of the car's details are being printed out, using getters:</p>\n<pre><code>System.out.println(&quot;Enter car ID: &quot;);\n        int id = sc.nextInt();\n        for (Car car: carList) {\n            if (car.getID() == id) {\n                System.out.println(&quot;ID: &quot; + car.getID() + &quot;\\nManufacturer: &quot; + car.getManufacturer() + &quot;\\nModel: &quot; + car.getModel() + &quot;\\nYear: &quot; + car.getYear() + &quot;\\nPrice: &quot; + car.getPrice() + &quot;\\n&quot;);\n                return car;\n            }\n</code></pre>\n<p>Here's the <code>Car</code> class code:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n\npublic class Car {\n\n    private String manufacturer;\n    private String model;\n    private String year;\n    private int mileage;\n    private String engineSize;\n    private char grade;\n    private double price;\n    private String invalid;\n    private int id;\n    private static final AtomicInteger count = new AtomicInteger(0);\n\n\npublic Car() {\n     manufacturer = inputManufacturer();\n     model = inputModel();\n     year = inputYear();\n     mileage = inputMileage();\n     engineSize = inputES();\n     grade = inputGrade();  \n     price = inputPrice();\n     id = assignID();\n     }\n\npublic Car(int id, String manufacturer, String model, String year, int mileage, String engineSize, char grade, double price) {\n     this.id = id;\n     this.manufacturer = manufacturer;\n     this.model = model;\n     this.year = year;   \n     this.mileage = mileage;\n     this.engineSize = engineSize;\n     this.grade = grade;\n     this.price = price;\n     }\n\n\npublic int assignID() {\n    id = count.incrementAndGet();\n    return id;\n}\n\n\npublic String inputManufacturer() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter manufacturer: &quot;);\n    manufacturer = scan.next();\n\n    invalid = &quot;[0-9~/!?#@*+%{}&lt;&gt;[]|_^].*$]&quot;;\n    if(containsInvalid(manufacturer) == true) {\n        System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\n        inputManufacturer();\n    }\n\n    return manufacturer;\n}\n\npublic String inputModel() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter model: &quot;);\n    model = scan.next();\n\n    invalid = &quot;[0-9~/!?#@*+%{}&lt;&gt;[]|_^].*$]&quot;;\n    if(containsInvalid(model) == true) {\n        System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\n        inputModel();\n    }\n    return model;\n}\n\npublic String inputYear() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter year: &quot;);\n    year = scan.next();\n\n    invalid = &quot;[a-zA-Z!?+=-£%^&amp;*/.,#~@';:_-]&quot;;\n    if(containsInvalid(year) == true ) {\n        System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\n        inputYear();\n    }\n    else if (year.length() &gt; 4) {\n        System.out.println(&quot;Invalid year. Please try again.&quot;);\n        inputYear();\n    }\n    return year;\n}\n\n\npublic int inputMileage() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter mileage: &quot;);\n    mileage = scan.nextInt();\n\n    return mileage;\n}\n\npublic String inputES() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter engine size: &quot;);\n    engineSize = scan.next();\n\n    invalid = &quot;[~/!?#@*+%{}&lt;&gt;[]|_^]*$]&quot;;\n    if(containsInvalid(engineSize) == true) {\n        System.out.println(&quot;Invalid characters in input. Please try again.&quot;);\n        inputES();\n    }\n    return engineSize;\n}\n\npublic char inputGrade() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter grade: &quot;);\n    char g;\n    g = scan.next().charAt(0);\n\n    if (g == 'A' || g == 'B' || g == 'C' || g == 'D') {\n        grade = g;\n    }\n    else {\n        System.out.println(&quot;Invalid grade. Please try again.&quot;);\n        inputGrade();\n    }\n    return grade;\n}\n\n\npublic double inputPrice() {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter price: &quot;);\n    price = scan.nextDouble();\n\n    return price;\n}\n\npublic boolean containsInvalid(String toExamine) {\n    if (toExamine.matches(invalid)){\n    return true;\n    }\n    else {\n    return false;\n    }\n}\n\n@Override\npublic String toString() {\n    return &quot;Manufacturer: &quot; + manufacturer + &quot;\\nModel: &quot; + model + \n&quot;\\nYear: &quot; + year + &quot;\\nMileage: &quot; + mileage + &quot;\\nEngine size: &quot; + engineSize + &quot;\\nGrade: &quot; + grade + &quot;\\nPrice: &quot; + price;\n\n}\n</code></pre>\n<p>Getters and setters from this point onwards.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1405106976,"post_id":24704791,"comment_id":38313005,"body_markdown":"What do you wish to return? If you are returning a member of the stream that fulfills some condition, use a filter.","body":"What do you wish to return? If you are returning a member of the stream that fulfills some condition, use a filter."},{"owner":{"account_id":2079726,"reputation":1636,"user_id":1852005,"display_name":"stwr667"},"score":0,"creation_date":1677811127,"post_id":24704791,"comment_id":133415569,"body_markdown":"@Eran if you&#39;re not returning a member of the stream and need to return a derived value, then see this answer: https://stackoverflow.com/a/75622699/1852005","body":"@Eran if you&#39;re not returning a member of the stream and need to return a derived value, then see this answer: <a href=\"https://stackoverflow.com/a/75622699/1852005\">stackoverflow.com/a/75622699/1852005</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1405105780,"creation_date":1405105780,"answer_id":24704840,"question_id":24704791,"body_markdown":"&gt; Is there some type of way to break or force a return for the entire method?\r\n\r\nNo. At least, not unless you throw an exception.\r\n\r\nBasically, that&#39;s not what `forEach` is meant for. You could write a method which accepted a function which would return `null` for &quot;keep going&quot; and non-null for &quot;stop, and make this the result&quot;... but that method *isn&#39;t* `forEach`.\r\n\r\nThe fact that you&#39;re using a lambda expression is really incidental here. Imagine you were just calling `forEach` and passing in some argument - wouldn&#39;t it be *really* weird if that call made your `findMissingNumber` method return (without an exception), without the `findMissingNumber` method itself having the return statement? \r\n","title":"Returning a value from a method within a lambda expression","body":"<blockquote>\n  <p>Is there some type of way to break or force a return for the entire method?</p>\n</blockquote>\n\n<p>No. At least, not unless you throw an exception.</p>\n\n<p>Basically, that's not what <code>forEach</code> is meant for. You could write a method which accepted a function which would return <code>null</code> for \"keep going\" and non-null for \"stop, and make this the result\"... but that method <em>isn't</em> <code>forEach</code>.</p>\n\n<p>The fact that you're using a lambda expression is really incidental here. Imagine you were just calling <code>forEach</code> and passing in some argument - wouldn't it be <em>really</em> weird if that call made your <code>findMissingNumber</code> method return (without an exception), without the <code>findMissingNumber</code> method itself having the return statement? </p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1405222453,"creation_date":1405222453,"answer_id":24719306,"question_id":24704791,"body_markdown":"(Is this an instance of the [XY problem][1]?)\r\n\r\nThe question is about how to return from a lambda inside a `forEach`. [Jon Skeet][2] provided some useful information about `findFirst` and also cautioned about side effects in a lambda run in parallel -- both excellent points.\r\n\r\nBut regarding the original question, I&#39;m still thinking: what problem are you trying to solve?\r\n\r\nThe method name `findMissingNumber` in the example is suggestive. The method takes a collection of numbers as a parameter and iterates over it while incrementing a counter. It returns when it finds a mismatch, or it returns -1 if there is no mismatch. Since the counter is incremented once as each value in the `ints` collection is processed, it seems like that collection is expected to be in order, unless a number is missing.\r\n\r\nIf so, the parameter ought to be a `List` instead of a `Collection`. (Making a big assumption here.) Under this assumption, one could rewrite the code using lambdas as streams like so:\r\n\r\n    static OptionalInt findMissingNumber(List&lt;Integer&gt; ints) {\r\n        return\r\n            IntStream.rangeClosed(1, ints.size())\r\n                .filter(i -&gt; i != ints.get(i-1))\r\n                .findFirst();\r\n    }\r\n\r\nInstead of incrementing a counter, we use `IntStream.range` to generate the values expected to be in the list. We then rely on random access to the list to `get` values from their expected positions in the list. We filter for the mismatches and return the first one, if any. This avoids mutation and so should run correctly in parallel. (Note that this doesn&#39;t parallelize well if the list isn&#39;t random-access, though.)\r\n\r\nThe return value is an `OptionalInt` which is *empty* if no mismatch was found. This is more explicit than using a sentinel value like `-1` to indicate the &quot;not found&quot; condition.\r\n\r\n  [1]: https://meta.stackexchange.com/a/66378\r\n  [2]: https://stackoverflow.com/a/24704840/1441122","title":"Returning a value from a method within a lambda expression","body":"<p>(Is this an instance of the <a href=\"https://meta.stackexchange.com/a/66378\">XY problem</a>?)</p>\n\n<p>The question is about how to return from a lambda inside a <code>forEach</code>. <a href=\"https://stackoverflow.com/a/24704840/1441122\">Jon Skeet</a> provided some useful information about <code>findFirst</code> and also cautioned about side effects in a lambda run in parallel -- both excellent points.</p>\n\n<p>But regarding the original question, I'm still thinking: what problem are you trying to solve?</p>\n\n<p>The method name <code>findMissingNumber</code> in the example is suggestive. The method takes a collection of numbers as a parameter and iterates over it while incrementing a counter. It returns when it finds a mismatch, or it returns -1 if there is no mismatch. Since the counter is incremented once as each value in the <code>ints</code> collection is processed, it seems like that collection is expected to be in order, unless a number is missing.</p>\n\n<p>If so, the parameter ought to be a <code>List</code> instead of a <code>Collection</code>. (Making a big assumption here.) Under this assumption, one could rewrite the code using lambdas as streams like so:</p>\n\n<pre><code>static OptionalInt findMissingNumber(List&lt;Integer&gt; ints) {\n    return\n        IntStream.rangeClosed(1, ints.size())\n            .filter(i -&gt; i != ints.get(i-1))\n            .findFirst();\n}\n</code></pre>\n\n<p>Instead of incrementing a counter, we use <code>IntStream.range</code> to generate the values expected to be in the list. We then rely on random access to the list to <code>get</code> values from their expected positions in the list. We filter for the mismatches and return the first one, if any. This avoids mutation and so should run correctly in parallel. (Note that this doesn't parallelize well if the list isn't random-access, though.)</p>\n\n<p>The return value is an <code>OptionalInt</code> which is <em>empty</em> if no mismatch was found. This is more explicit than using a sentinel value like <code>-1</code> to indicate the \"not found\" condition.</p>\n"},{"tags":[],"owner":{"account_id":2079726,"reputation":1636,"user_id":1852005,"display_name":"stwr667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677811060,"creation_date":1677811060,"answer_id":75622699,"question_id":24704791,"body_markdown":"The above answers describe the best approach if you want to maintain performance through parallel thread execution (e.g. using `filter(...).findFirst()`). However if:\r\n1. Performance is not of concern\r\n   * and therefore serial loop execution is acceptable\r\n2. You want to return early out of a loop\r\n   * and the *type* you want to return is *different* from the type you&#39;re iterating over (e.g. `String` in the below example)\r\n\r\nThen `filter(...).findFirst()` is not an option for you, because it must return one of the values in the collection you&#39;re iterating over.\r\n\r\nIn this case, you can opt for the following kind of approach:\r\n```java\r\npublic String findMissingNumber(Collection&lt;Integer&gt; ints) {\r\n    for (var i : ints) {\r\n        if (true) {\r\n            return &quot;someCalculatedReturnValue&quot;;\r\n        }\r\n    };\r\n    return &quot;noneFound&quot;;\r\n}\r\n```","title":"Returning a value from a method within a lambda expression","body":"<p>The above answers describe the best approach if you want to maintain performance through parallel thread execution (e.g. using <code>filter(...).findFirst()</code>). However if:</p>\n<ol>\n<li>Performance is not of concern\n<ul>\n<li>and therefore serial loop execution is acceptable</li>\n</ul>\n</li>\n<li>You want to return early out of a loop\n<ul>\n<li>and the <em>type</em> you want to return is <em>different</em> from the type you're iterating over (e.g. <code>String</code> in the below example)</li>\n</ul>\n</li>\n</ol>\n<p>Then <code>filter(...).findFirst()</code> is not an option for you, because it must return one of the values in the collection you're iterating over.</p>\n<p>In this case, you can opt for the following kind of approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String findMissingNumber(Collection&lt;Integer&gt; ints) {\n    for (var i : ints) {\n        if (true) {\n            return &quot;someCalculatedReturnValue&quot;;\n        }\n    };\n    return &quot;noneFound&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43933,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":24704840,"answer_count":3,"score":28,"last_activity_date":1677811060,"creation_date":1405105587,"question_id":24704791,"body_markdown":"I&#39;m trying to figure out how to return a method value from a lambda expression:\r\n\r\n    public int findMissingNumber(Collection&lt;Integer&gt; ints) {\r\n        Single&lt;Integer&gt; start = new Single&lt;&gt;(1);\r\n        ints.stream().mapToInt(Integer::valueOf).parallel().forEach(i -&gt; {\r\n            if (i != start.setValue(start.getValue() + 1)) {\r\n                //return here\r\n            }\r\n        });\r\n        return -1;\r\n    }\r\n\r\nHowever, it seems that using the `return` keyword in the lambda expression will explicitly return to the lambda function itself. Is there some type of way to break or force a return for the entire method?","title":"Returning a value from a method within a lambda expression","body":"<p>I'm trying to figure out how to return a method value from a lambda expression:</p>\n\n<pre><code>public int findMissingNumber(Collection&lt;Integer&gt; ints) {\n    Single&lt;Integer&gt; start = new Single&lt;&gt;(1);\n    ints.stream().mapToInt(Integer::valueOf).parallel().forEach(i -&gt; {\n        if (i != start.setValue(start.getValue() + 1)) {\n            //return here\n        }\n    });\n    return -1;\n}\n</code></pre>\n\n<p>However, it seems that using the <code>return</code> keyword in the lambda expression will explicitly return to the lambda function itself. Is there some type of way to break or force a return for the entire method?</p>\n"},{"tags":["java","arrays","random","shuffle"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1677810121,"post_id":75622609,"comment_id":133415454,"body_markdown":"Please take the time to search for your answer on both this site and the net in general before posting a question. Duplicates only serve to make finding the correct answer more difficult.","body":"Please take the time to search for your answer on both this site and the net in general before posting a question. Duplicates only serve to make finding the correct answer more difficult."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677809940,"creation_date":1677809940,"answer_id":75622619,"question_id":75622609,"body_markdown":"You can use `Arrays.asList` to create a `List` backed by the original array, then call `Collections.shuffle`.\r\n\r\n```java\r\nCollections.shuffle(Arrays.asList(names));\r\n```","title":"Random shuffling an array of strings","body":"<p>You can use <code>Arrays.asList</code> to create a <code>List</code> backed by the original array, then call <code>Collections.shuffle</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.shuffle(Arrays.asList(names));\n</code></pre>\n"}],"owner":{"account_id":27445791,"reputation":1,"user_id":20939600,"display_name":"MOON"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677810060,"answer_count":1,"score":-1,"last_activity_date":1677809940,"creation_date":1677809773,"question_id":75622609,"body_markdown":"I need to randomly shuffle an array of 10 names:\r\n\r\n\r\n`String[] names={&quot;name 1&quot;, &quot;name 2&quot;, &quot;name 3&quot;, &quot;name 4&quot;, &quot;name 5&quot;, &quot;name 6&quot;, &quot;name 7&quot;, &quot;name 8&quot;, &quot;name 9&quot;, &quot;name 10&quot;};`\r\n\r\nWhat function could i use to solve this?","title":"Random shuffling an array of strings","body":"<p>I need to randomly shuffle an array of 10 names:</p>\n<p><code>String[] names={&quot;name 1&quot;, &quot;name 2&quot;, &quot;name 3&quot;, &quot;name 4&quot;, &quot;name 5&quot;, &quot;name 6&quot;, &quot;name 7&quot;, &quot;name 8&quot;, &quot;name 9&quot;, &quot;name 10&quot;};</code></p>\n<p>What function could i use to solve this?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673519003,"post_id":75089305,"comment_id":132519327,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":24295273,"reputation":17,"user_id":18239586,"display_name":"Santino Zanone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677809562,"creation_date":1677809511,"answer_id":75622593,"question_id":75089305,"body_markdown":"I had the same problem, what was happening in my case was that the url was wrong,it had an extra dash behind the &quot;scope=writeIngredients+deleteIngredients&quot;,so it wasn&#180;t displaying the scopes.\r\nthe correct url would be: \r\n&lt;http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=taco-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&amp;scope=writeIngredients+deleteIngredients&gt;","title":"OAuth2 consent page doesn&#39;t show scopes","body":"<p>I had the same problem, what was happening in my case was that the url was wrong,it had an extra dash behind the &quot;scope=writeIngredients+deleteIngredients&quot;,so it wasn´t displaying the scopes.\nthe correct url would be:\n<a href=\"http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=taco-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&amp;scope=writeIngredients+deleteIngredients\" rel=\"nofollow noreferrer\">http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=taco-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&amp;scope=writeIngredients+deleteIngredients</a></p>\n"}],"owner":{"account_id":27475438,"reputation":13,"user_id":20963525,"display_name":"leokarelsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677809562,"creation_date":1673473411,"question_id":75089305,"body_markdown":"I&#39;m reading the book Spring in action 6 and authentication server doesn&#39;t work correctly. I&#39;ve tried to make custom server or copy the one from the internet but it didn&#39;t help\r\n\r\nLink: http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=taco-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&amp;-scope=writeIngredients+deleteIngredients\r\n\r\n[That&#39;s how it looks like](https://i.stack.imgur.com/gBGdL.png)\r\n\r\nMy bean:\r\n\r\n```\r\n@Bean\r\n  public RegisteredClientRepository registeredClientRepository(\r\n          PasswordEncoder passwordEncoder) {\r\n    RegisteredClient registeredClient =\r\n      RegisteredClient.withId(UUID.randomUUID().toString())\r\n        .clientId(&quot;taco-admin-client&quot;)\r\n        .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\r\n        .clientAuthenticationMethod(\r\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n        .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n        .redirectUri(\r\n            &quot;http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&quot;)\r\n        .scope(&quot;writeIngredients&quot;)\r\n        .scope(&quot;deleteIngredients&quot;)\r\n        .scope(OidcScopes.OPENID)\r\n        .clientSettings(\r\n            clientSettings -&gt; clientSettings.requireUserConsent(true))\r\n        .build();\r\n    return new InMemoryRegisteredClientRepository(registeredClient);\r\n  }\r\n```\r\n\r\n[That&#39;s how it should be](https://i.stack.imgur.com/hDO4Q.png)","title":"OAuth2 consent page doesn&#39;t show scopes","body":"<p>I'm reading the book Spring in action 6 and authentication server doesn't work correctly. I've tried to make custom server or copy the one from the internet but it didn't help</p>\n<p>Link: http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=taco-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&amp;-scope=writeIngredients+deleteIngredients</p>\n<p><a href=\"https://i.stack.imgur.com/gBGdL.png\" rel=\"nofollow noreferrer\">That's how it looks like</a></p>\n<p>My bean:</p>\n<pre><code>@Bean\n  public RegisteredClientRepository registeredClientRepository(\n          PasswordEncoder passwordEncoder) {\n    RegisteredClient registeredClient =\n      RegisteredClient.withId(UUID.randomUUID().toString())\n        .clientId(&quot;taco-admin-client&quot;)\n        .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\n        .clientAuthenticationMethod(\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n        .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n        .redirectUri(\n            &quot;http://127.0.0.1:9090/login/oauth2/code/taco-admin-client&quot;)\n        .scope(&quot;writeIngredients&quot;)\n        .scope(&quot;deleteIngredients&quot;)\n        .scope(OidcScopes.OPENID)\n        .clientSettings(\n            clientSettings -&gt; clientSettings.requireUserConsent(true))\n        .build();\n    return new InMemoryRegisteredClientRepository(registeredClient);\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hDO4Q.png\" rel=\"nofollow noreferrer\">That's how it should be</a></p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9388,"page":604,"page_size":100}
