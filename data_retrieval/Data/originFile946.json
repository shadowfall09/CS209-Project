{"items":[{"tags":["java","javafx","3d","zooming"],"answers":[{"comments":[{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":0,"creation_date":1666113012,"post_id":74112685,"comment_id":130856776,"body_markdown":"Q: What did you expect if you don&#39;t bound your zoom action? A: I expected a vanishingly small field of view, approaching 0 degrees. I didn&#39;t expect elements of the foreground to disappear.","body":"Q: What did you expect if you don&#39;t bound your zoom action? A: I expected a vanishingly small field of view, approaching 0 degrees. I didn&#39;t expect elements of the foreground to disappear."},{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":0,"creation_date":1666113185,"post_id":74112685,"comment_id":130856838,"body_markdown":"Camera translation is the first thing I tried. It seemed to me, the globe and the camera weren&#39;t sharing a coordinate system, as the camera was never where I expected it to be after applying. I will dig up my camera translation attempt and add that.","body":"Camera translation is the first thing I tried. It seemed to me, the globe and the camera weren&#39;t sharing a coordinate system, as the camera was never where I expected it to be after applying. I will dig up my camera translation attempt and add that."},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":1,"creation_date":1666190183,"post_id":74112685,"comment_id":130877703,"body_markdown":"I&#39;m thinking something simple. Example (altered) on how I use the mouse wheel to zoom:\n\n        subScene.setOnScroll((ScrollEvent event) -&gt; {\n            double modifier = 50.0;\n            double modifierFactor = 0.1;\n            \n            if (event.isControlDown()) {\n                modifier = 1;\n            }\n            if (event.isShiftDown()) {\n                modifier = 100.0;\n            }\n            double z = camera.getTranslateZ();\n            double newZ = z + event.getDeltaY() * modifierFactor * modifier;\n            camera.setTranslateZ(newZ);\n        });","body":"I&#39;m thinking something simple. Example (altered) on how I use the mouse wheel to zoom:          subScene.setOnScroll((ScrollEvent event) -&gt; {             double modifier = 50.0;             double modifierFactor = 0.1;                          if (event.isControlDown()) {                 modifier = 1;             }             if (event.isShiftDown()) {                 modifier = 100.0;             }             double z = camera.getTranslateZ();             double newZ = z + event.getDeltaY() * modifierFactor * modifier;             camera.setTranslateZ(newZ);         });"},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":2,"creation_date":1666190425,"post_id":74112685,"comment_id":130877809,"body_markdown":"Here is a full example which uses camera translation. \nhttps://github.com/FXyz/FXyz/blob/master/FXyz-Samples/src/main/java/org/fxyz3d/samples/utilities/FloatingLabels.java\nCaveat: I am the repo&#39;s owner and author of that example. Not trying to advertise that library.","body":"Here is a full example which uses camera translation.  <a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Samples/src/main/java/org/fxyz3d/samples/utilities/FloatingLabels.java\" rel=\"nofollow noreferrer\">github.com/FXyz/FXyz/blob/master/FXyz-Samples/src/main/java/&zwnj;&#8203;org/&hellip;</a> Caveat: I am the repo&#39;s owner and author of that example. Not trying to advertise that library."},{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":0,"creation_date":1666197841,"post_id":74112685,"comment_id":130880708,"body_markdown":"@Birdsaur THANK YOU very much. I will have a deep look and see what is going on.","body":"@Birdsaur THANK YOU very much. I will have a deep look and see what is going on."}],"tags":[],"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666103222,"creation_date":1666103222,"answer_id":74112685,"question_id":74100367,"body_markdown":"The effect you&#39;ve created by combining changing the FOV with scaling the camera&#39;s Z dimension creates a cool trippy effect! \r\n\r\nBut it&#39;s the wrong way to do zoom.  \r\n\r\nQuestion: Why not translate the camera (eye) when zooming?  That&#39;s what I do with my FX 3D scenes and do not experience any corruption. (Win10/NVidia/OpenJFX18)\r\n\r\nHaving done such things here are some tips to your questions:\r\n\r\n&gt; 1. the movement is too coarse when close to the surface;\r\n\r\n\r\nInstead of a 10% change use a scalar formula based on radius from center of globe. Using the 10% change is cheap and easy but it does not scale properly at close or far distances.  The scalar should simply use the radius as a way to reduce the rate of change for a zoom in action. This will make it more fine grain the closer you walk in to the globe.  Pro Tip:  Test for Control down for an additional scalar to make it even more fine (crawl) or Shift Down for an additional scalar to make it much faster (run).\r\n\r\n&gt; 2. the viewer unexpectedly &quot;punches through&quot; the material and we see stuff on the other side;\r\n\r\nWhat did you expect if you don&#39;t bound your zoom action?  Just add logic that ignores the zoom when the distance between the camera and the center is below a certain amount.  (another reason why you should be translating the camera)\r\n\r\n&gt; 3. and with very small Camera.nearClip values, all the shapes become corrupted with pieces missing.\r\n\r\nThis shouldn&#39;t happen if you are translating properly, aside from the odd Z-fighting that you may see if you are messing around with the textures heavily.\r\n\r\n\r\n","title":"Effective way to zoom the camera very close to 3D shapes?","body":"<p>The effect you've created by combining changing the FOV with scaling the camera's Z dimension creates a cool trippy effect!</p>\n<p>But it's the wrong way to do zoom.</p>\n<p>Question: Why not translate the camera (eye) when zooming?  That's what I do with my FX 3D scenes and do not experience any corruption. (Win10/NVidia/OpenJFX18)</p>\n<p>Having done such things here are some tips to your questions:</p>\n<blockquote>\n<ol>\n<li>the movement is too coarse when close to the surface;</li>\n</ol>\n</blockquote>\n<p>Instead of a 10% change use a scalar formula based on radius from center of globe. Using the 10% change is cheap and easy but it does not scale properly at close or far distances.  The scalar should simply use the radius as a way to reduce the rate of change for a zoom in action. This will make it more fine grain the closer you walk in to the globe.  Pro Tip:  Test for Control down for an additional scalar to make it even more fine (crawl) or Shift Down for an additional scalar to make it much faster (run).</p>\n<blockquote>\n<ol start=\"2\">\n<li>the viewer unexpectedly &quot;punches through&quot; the material and we see stuff on the other side;</li>\n</ol>\n</blockquote>\n<p>What did you expect if you don't bound your zoom action?  Just add logic that ignores the zoom when the distance between the camera and the center is below a certain amount.  (another reason why you should be translating the camera)</p>\n<blockquote>\n<ol start=\"3\">\n<li>and with very small Camera.nearClip values, all the shapes become corrupted with pieces missing.</li>\n</ol>\n</blockquote>\n<p>This shouldn't happen if you are translating properly, aside from the odd Z-fighting that you may see if you are messing around with the textures heavily.</p>\n"},{"comments":[{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":0,"creation_date":1666203521,"post_id":74128993,"comment_id":130882594,"body_markdown":"That&#39;s very simple and helpful. Now I found, for whatever reason, my camera can translate 817 pixels before it intersects with the equator. Tomorrow, I can see if there is an obvious reason for that value.","body":"That&#39;s very simple and helpful. Now I found, for whatever reason, my camera can translate 817 pixels before it intersects with the equator. Tomorrow, I can see if there is an obvious reason for that value."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1666290653,"post_id":74128993,"comment_id":130908051,"body_markdown":"I&#39;ve elaborated above.","body":"I&#39;ve elaborated above."},{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":0,"creation_date":1666390237,"post_id":74128993,"comment_id":130934103,"body_markdown":"Thank you. Of course I read the JavaDoc and the tutorial, found them seriously lacking in exposition of the features.","body":"Thank you. Of course I read the JavaDoc and the tutorial, found them seriously lacking in exposition of the features."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1666392341,"post_id":74128993,"comment_id":130934433,"body_markdown":"Glad it helped; permit me to second the reference to [Jos&#233; Pereda&#39;s](https://github.com/jperedadnr) work in this area.","body":"Glad it helped; permit me to second the reference to <a href=\"https://github.com/jperedadnr\" rel=\"nofollow noreferrer\">Jos&#233; Pereda&#39;s</a> work in this area."},{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":1,"creation_date":1666446828,"post_id":74128993,"comment_id":130941503,"body_markdown":"It&#39;s obvious there are two very good answers here. I awarded the checkmark here because your one-liner of code is enough for me to unblock myself and get this API working for myself further.","body":"It&#39;s obvious there are two very good answers here. I awarded the checkmark here because your one-liner of code is enough for me to unblock myself and get this API working for myself further."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666290630,"creation_date":1666197705,"answer_id":74128993,"question_id":74100367,"body_markdown":"One approach is to _dolly_ along the _Z_ axis using mouse scrolling, as shown [here][1]. The image is zoomed to Easter Island.\r\n\r\n    scene.setOnScroll((final ScrollEvent e) -&gt; {\r\n        eye.setTranslateZ(eye.getTranslateZ() + e.getDeltaY());\r\n    });\r\n\r\n&gt;‚Ä¶my camera can translate 817 pixels before it intersects with the equator.\r\n\r\nThis value likely arises in connection with the default [`PerspectiveCamera`][2]. In particular,\r\n\r\n&gt;the _Z_ value of the eye position is adjusted in _Z_ such that the projection matrix generated using the specified `fieldOfView` will produce units at _Z_ = 0 (the projection plane), in device-independent pixels, matches that of the `ParallelCamera`.\r\n\r\nAdd the following to the scroll handler above to see the value appear as the `eye` intersects the Earth:\r\n\r\n    System.out.println(eye.getTranslateZ());\r\n\r\nSee also [_JavaFX: Working with JavaFX Graphics: &#167;3 Camera_][3].\r\n\r\n[![Easter Island][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/search?q=user%3A230513%20%5Bjavafx%5D%20dolly\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/PerspectiveCamera.html\r\n  [3]: https://docs.oracle.com/javase/8/javafx/graphics-tutorial/camera.htm#CJAHFAHB\r\n  [4]: https://i.stack.imgur.com/yU0ma.png","title":"Effective way to zoom the camera very close to 3D shapes?","body":"<p>One approach is to <em>dolly</em> along the <em>Z</em> axis using mouse scrolling, as shown <a href=\"https://stackoverflow.com/search?q=user%3A230513%20%5Bjavafx%5D%20dolly\">here</a>. The image is zoomed to Easter Island.</p>\n<pre><code>scene.setOnScroll((final ScrollEvent e) -&gt; {\n    eye.setTranslateZ(eye.getTranslateZ() + e.getDeltaY());\n});\n</code></pre>\n<blockquote>\n<p>‚Ä¶my camera can translate 817 pixels before it intersects with the equator.</p>\n</blockquote>\n<p>This value likely arises in connection with the default <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/PerspectiveCamera.html\" rel=\"nofollow noreferrer\"><code>PerspectiveCamera</code></a>. In particular,</p>\n<blockquote>\n<p>the <em>Z</em> value of the eye position is adjusted in <em>Z</em> such that the projection matrix generated using the specified <code>fieldOfView</code> will produce units at <em>Z</em> = 0 (the projection plane), in device-independent pixels, matches that of the <code>ParallelCamera</code>.</p>\n</blockquote>\n<p>Add the following to the scroll handler above to see the value appear as the <code>eye</code> intersects the Earth:</p>\n<pre><code>System.out.println(eye.getTranslateZ());\n</code></pre>\n<p>See also <a href=\"https://docs.oracle.com/javase/8/javafx/graphics-tutorial/camera.htm#CJAHFAHB\" rel=\"nofollow noreferrer\"><em>JavaFX: Working with JavaFX Graphics: ¬ß3 Camera</em></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/yU0ma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yU0ma.png\" alt=\"Easter Island\" /></a></p>\n"}],"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74128993,"answer_count":2,"score":3,"last_activity_date":1666290630,"creation_date":1666024118,"question_id":74100367,"body_markdown":"I think I&#39;m going to have to let my code speak for itself here. I am creating a map to plot GPS coordinates. I&#39;ve decided to plot these onto a 3D globe. I&#39;ve decided to try **javafx** and I&#39;m using javafx-sdk-18.0.2.\r\n\r\nSomething I have not been able to crack is extreme zooming of the `PerspectiveCamera`. I&#39;d like to zoom all the way from space, down to the 10s-of-meters level, to display recorded GPS data trails.\r\n\r\nI have a simplified example coded to exhibit my problem. I&#39;ve decorated the globe with just a few points to give you a general reference. The user can rotate to a location on the globe using the **four arrow keys**, and I&#39;m allowing zooming in and out using the **+ and - keys**. I&#39;ve tried various methods to zoom: measuring the distance between the camera and surface, translating the camera eye; adjusting the &quot;scale&quot; factor; and adjusting the &quot;field of view&quot; angle. None of the results are working adequately and I suspect that I&#39;m just not using this API correctly. The problems I have are \r\n\r\n 1. the movement is too coarse when close to the surface; \r\n 2. the viewer unexpectedly &quot;punches through&quot; the material and we see stuff on the other side; \r\n 3. and with very small `Camera.nearClip` values, all the shapes become corrupted with pieces missing. \r\n\r\n**Could somebody please propose how zooming to fine detail could be best achieved?**\r\n\r\n\r\n    package ui.javafx;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Point3D;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.transform.*;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.shape.*;\r\n    import javafx.scene.paint.*;\r\n    import javafx.stage.*;\r\n    \r\n    /** Simplified working javafx example for Stackoverflow question */\r\n    public class OthographicGlobeMapStackOverflow extends Application {\r\n\r\n\t/**\r\n\t * An oblate spheroid coordinate system approximating the layout of the Earth.\r\n\t */\r\n\tclass Earth {\r\n\t\t/*\r\n\t\t * Earth size constants from WGS-84 as expressed on\r\n\t\t * https://en.wikipedia.org/wiki/Earth_ellipsoid#Historical_Earth_ellipsoids\r\n\t\t */\r\n\t\tfinal static double RADIUS_EQUITORIAL_METERS = 6378137d;\r\n\t\tfinal static double RADIUS_POLAR_METERS = 6356752d;\r\n\r\n\t\t/**\r\n\t\t * Size of the scaled globe in pixels. Radius in X coordinate.\r\n\t\t */\r\n\t\tfinal static double globeRadiusX = 300d;\r\n\r\n\t\t/**\r\n\t\t * Size of the globe in pixels. Radius in Y coordinate.\r\n\t\t */\r\n\t\tfinal static double globeRadiusY = RADIUS_POLAR_METERS / RADIUS_EQUITORIAL_METERS * globeRadiusX;\r\n\r\n\t\t/**\r\n\t\t * Produce a Point3D with the location in the xyz universe, corresponding with\r\n\t\t * the location on the globe with the provided coordinates in degrees and\r\n\t\t * meters.\r\n\t\t * Algorithm adapted from https://stackoverflow.com/a/5983282/399723\r\n\t\t * \r\n\t\t * @returns a Point3D at the specified location in relation to the globe.\r\n\t\t * @param degreesLatitude the Latitude in degrees.\r\n\t\t * @param degreesLongitude the longitude in degrees.\r\n\t\t * @param metersAltitude the altitude from AMSL in metres.\r\n\t\t */\r\n\t\tpublic static Point3D getWithDegrees( double degreesLatitude, double degreesLongitude, float metersAltitude ) {\r\n\r\n\t\t\tdouble Re = globeRadiusX;\r\n\t\t\tdouble Rp = globeRadiusY;\r\n\r\n\t\t\t// the algorithm produced a globe with longitude -90 facing us\r\n\t\t\tdegreesLongitude = ( degreesLongitude - 90d ) % 360d;\r\n\t\t\t\r\n\t\t\tdouble lat = Math.toRadians( degreesLatitude );\r\n\t\t\tdouble lon = Math.toRadians( degreesLongitude );\r\n\r\n\t\t\tdouble coslat = Math.cos( lat );\r\n\t\t\tdouble sinlat = Math.sin( lat );\r\n\t\t\tdouble coslon = Math.cos( lon );\r\n\t\t\tdouble sinlon = Math.sin( lon );\r\n\r\n\t\t\tdouble term1 = Math.sqrt( Re * Re * coslat * coslat + Rp * Rp * sinlat * sinlat );\r\n\t\t\tdouble term2 = metersAltitude * coslat + ( Re * Re * coslat ) / term1;\r\n\t\t\t\r\n\t\t\tdouble x = coslon * term2;\r\n\t\t\tdouble y = sinlon * term2;\r\n\t\t\tdouble z = metersAltitude * sinlat + ( Rp * Rp * sinlat ) / term1;\r\n\r\n\t\t\t// the x,y,z directions were not congruent with the JavaFX layout axes\r\n\t\t\treturn new Point3D( x, -z, y );\r\n\r\n\t\t}\r\n\t\tpublic static Point3D getNorthPole() {\r\n\t\t\treturn getWithDegrees( 90, 0, 0 );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Angle of globe view, in longitude degrees which effects a rotation of the X\r\n\t * axis around the Y axis.\r\n\t */\r\n\tprivate double spinAngle = 0d;\r\n\r\n\t/**\r\n\t * Angle of globe view, in latitude degrees\r\n\t */\r\n\tprivate double tiltAngle = 0d;\r\n\r\n\t@Override\r\n\tpublic void start( Stage primaryStage ) {\r\n\r\n\t\t// Universe stays fixed. Contains lighting, camera and the axis of the &quot;tilt&quot; function.\r\n\t\tGroup universe = new Group();\r\n\t\taddSunlight( universe );\r\n\t\t\r\n\t\t// Globe is able to rotate in its own axis. Child nodes that decorate the globe remain in position.\r\n\t\tGroup globe = new Group();\r\n\t\tuniverse.getChildren().add( globe );\r\n\r\n\t\t// add a nice looking surface to the globe\r\n\t\tdrawGlobe( globe );\r\n\r\n\t\t// paint few dotted lines on the globe surface for orientation\r\n\t\tdrawLatitude( globe, 60 );\r\n\t\tdrawLatitude( globe, 30 );\r\n\t\tdrawLatitude( globe, 0 );\r\n\t\tdrawLatitude( globe, -30 );\r\n\t\tdrawLatitude( globe, -60 );\r\n\t\tdrawLongitude( globe, 0 ); // prime meridian great circle\r\n\r\n\t\t// decorate the globe with a few positional balls\r\n\t\tplotGoldBall( globe, 48.85829501324163, 2.294502751853257, &quot;Tour Eiffel&quot; );\r\n\t\tplotGoldBall( globe, 40.68937198546735, -74.04451898086933, &quot;Statue of Liberty&quot; );\r\n\t\tplotGoldBall( globe, -22.952395566439044, -43.21046847195321, &quot;Cristo Redentor&quot; );\r\n\t\tplotGoldBall( globe, 35.65873215542844, 139.74547513704502, &quot;Êù±‰∫¨„Çø„ÉØ„Éº&quot; ); // Tokyo Tower\r\n\t\tplotGoldBall( globe, 29.97918805575227, 31.134206635494273, &quot;Ÿáÿ±ŸÖ ÿÆŸàŸÅŸà&quot; ); // pyramid of Cheops\r\n\t\tplotGoldBall( globe, -27.116667, -109.366667, &quot;&#128511;&#128511;&#128511;&#128511;&#128511;&#128511;&#128511;&quot; ); // Parque nacional Rapa Nui, Easter Island\r\n\t\tplotGoldBall( globe, -33.85617854877629, 151.21533961498702, &quot;Sydney Opera House&quot; );\r\n\r\n\t\t// translate the globe away from the origin in the corner\r\n\t\tglobe.setTranslateX( Earth.globeRadiusX * 1d );\r\n\t\tglobe.setTranslateY( Earth.globeRadiusX * 1d );\r\n\t\tglobe.setTranslateZ( 0d );\r\n\t\t\r\n\t\t// Establish spinning axis for the globe\r\n\t\tRotate globeSpin = new Rotate( spinAngle, Earth.getNorthPole() );\r\n\t\tglobe.getTransforms().addAll( globeSpin );\r\n\r\n\t\t// Establish tilting on the universe (or camera view which is how user perceives it)\r\n\t\tRotate globeTilt = new Rotate( tiltAngle, Rotate.X_AXIS );\r\n\t\tglobeTilt.setPivotX( Earth.globeRadiusX * 1d );\r\n\t\tglobeTilt.setPivotY( Earth.globeRadiusX * 1d );\r\n\t\tglobeTilt.setPivotZ( 0 );\r\n\t\tuniverse.getTransforms().add( globeTilt );\r\n\t\t\r\n\t\t// establish the size of the window and display it\r\n\t\tScene scene = new Scene( universe, Earth.globeRadiusX * 2, Earth.globeRadiusX * 2, true );\r\n\t\tPerspectiveCamera eye = new PerspectiveCamera();\r\n\t\teye.setNearClip( 0.001d );\r\n\t\tscene.setCamera( eye );\r\n\t\tprimaryStage.setScene( scene );\r\n\r\n\t\t// add point-to-identify mouse handler\r\n\t\tprimaryStage.addEventHandler( MouseEvent.MOUSE_PRESSED, event -&gt; {\r\n\t\t\tPickResult clicked = event.getPickResult();\r\n\t\t\tSystem.out.println( &quot;Clicked on: &quot; + clicked.getIntersectedNode() );\r\n\t\t} );\r\n\t\t\r\n\t\t// add ‚Üê ‚Üë ‚Üí ‚Üì and +/- controls\r\n\t\tprimaryStage.addEventHandler( KeyEvent.KEY_PRESSED, event -&gt; {\r\n\r\n\t\t\tif ( event.getCode().equals( KeyCode.UP ) ) {\r\n\t\t\t\tglobeTilt.setAngle( --tiltAngle );\r\n\t\t\t}\r\n\t\t\tif ( event.getCode().equals( KeyCode.DOWN ) ) {\r\n\t\t\t\tglobeTilt.setAngle( ++tiltAngle );\r\n\t\t\t}\r\n\t\t\tif ( event.getCode().equals( KeyCode.LEFT ) ) {\r\n\t\t\t\tglobeSpin.setAngle( --spinAngle );\r\n\t\t\t}\r\n\t\t\tif ( event.getCode().equals( KeyCode.RIGHT ) ) {\r\n\t\t\t\tglobeSpin.setAngle( ++spinAngle );\r\n\t\t\t}\r\n\t\t\tif ( event.getCode().equals( KeyCode.EQUALS ) ) {\r\n\t\t\t\tzoomIn( eye );\r\n\t\t\t}\r\n\t\t\tif ( event.getCode().equals( KeyCode.MINUS ) ) {\r\n\t\t\t\tzoomOut( eye );\r\n\t\t\t}\r\n\t\t} );\r\n\t\tprimaryStage.show();\r\n\t}\r\n\r\n\t/**\r\n\t * Draw a pretty blue spheroid. This is a visual backdrop to the positional elements placed on the globe.\r\n\t * It also functions as a visual solid, hiding elements that are &quot;behind&quot;.\r\n\t * */\r\n\tprivate void drawGlobe( Group globe ) {\r\n\t\tSphere earth = new Sphere( Earth.globeRadiusX );\r\n\t\tearth.setScaleY( Earth.globeRadiusY / Earth.globeRadiusX ); // squash into oblate a little\r\n\t\tearth.setId( &quot;Earth&quot; );\r\n\t\tPhongMaterial surface = new PhongMaterial();\r\n\t\tsurface.setDiffuseColor( Color.AZURE.deriveColor( 0.0, 1.0, 1.0, 1.0 ) );\r\n\t\tearth.setMaterial( surface );\r\n\t\tglobe.getChildren().add( earth );\r\n\t}\r\n\r\n\tprivate void addSunlight( Group universe ) {\r\n\t\tPointLight sol = new PointLight( Color.WHITE.deriveColor( 0.0, 0.5, 0.5, 0.5 ) );\r\n\t\tsol.setTranslateZ( -3000 );\r\n\t\tsol.setTranslateY( -1000 );\r\n\t\tsol.setTranslateX( -1000 );\r\n\t\tuniverse.getChildren().add( sol );\r\n\t\tAmbientLight starlight = new AmbientLight( Color.ANTIQUEWHITE.deriveColor( 0.0, 0.5, 0.5, 0.5 ) );\r\n\t\tuniverse.getChildren().add( starlight );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Place a gold-looking ball marker on the surface of the globe\r\n\t * @param labelText\r\n\t */\r\n\tprivate void plotGoldBall( Group globe, double latitude, double longitude, String labelText ) {\r\n\t\tSphere marker = plotBall( globe, latitude, longitude, labelText, 10d, Color.BLANCHEDALMOND );\r\n\t\tLabel label = new Label();\r\n\t\tlabel.setText( labelText );\r\n\t\tif ( longitude % 180d &gt; 0 ) {\r\n\t\t\tlabel.setTranslateX( marker.getTranslateX() + 50 );\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlabel.setTranslateX( marker.getTranslateX() - ( label.getWidth() + 50 ) );\r\n\t\t}\r\n\t\tlabel.setTranslateY( marker.getTranslateY() );\r\n\t\tlabel.setTranslateZ( marker.getTranslateZ() );\r\n\t\tglobe.getChildren().add( label );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Place a series of small black dots to denote circle of latitude\r\n\t * @param lat the latitude in degrees.\r\n\t * */\r\n\tprivate void drawLatitude( Group globe, double lat ) {\r\n\t\tint step = 1;\r\n\t\tif ( Math.abs( lat ) &gt; 45 )\r\n\t\t\tstep = 2;\r\n\t\tfor (double deg = 0; deg &lt; 360; deg += step) {\r\n\t\t\tplotBlackDot( globe, lat, deg );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Place a series of small black dots to denote a great circle of longitude\r\n\t * @param the longitude to start the great circle.\r\n\t * */\r\n\tprivate void drawLongitude( Group globe, double lon ) {\r\n\t\tfor (double deg = 0; deg &lt; 360; deg++) {\r\n\t\t\tplotBlackDot( globe, deg, lon );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void plotBlackDot( Group globe, double lat, double lon ) {\r\n\t\tplotBall( globe, lat, lon, null, 1d, Color.DARKSLATEBLUE );\r\n\t}\r\n\t\r\n\tprivate Sphere plotBall( Group globe, double latitude, double longitude, String label, double radius, Color color ) {\r\n\t\tPoint3D location = Earth.getWithDegrees( latitude, longitude, 0 );\r\n\t\tSphere mapPoint = new Sphere( radius );\r\n\t\tmapPoint.setId( label );\r\n\t\tmapPoint.setTranslateX( location.getX() );\r\n\t\tmapPoint.setTranslateY( location.getY() );\r\n\t\tmapPoint.setTranslateZ( location.getZ() );\r\n\t\tmapPoint.setMaterial( new PhongMaterial( color ) );\r\n\t\tglobe.getChildren().add( mapPoint );\r\n\t\treturn mapPoint;\r\n\t}\r\n\r\n\t/* WTF */\r\n\tprivate void zoomIn( PerspectiveCamera eye ) {\r\n\t\teye.setFieldOfView( eye.getFieldOfView() * 1.1d );\r\n\t\teye.setScaleZ( eye.getScaleZ() / 1.1d );\r\n\t}\r\n\r\n\t/* WTF */\r\n\tprivate void zoomOut( PerspectiveCamera eye ) {\r\n\t\teye.setFieldOfView( eye.getFieldOfView() / 1.1d );\r\n\t\teye.setScaleZ( eye.getScaleZ() * 1.1d );\r\n\t}\r\n\t}\r\n\r\n\r\n**New information**\r\n\r\nMy original attempt was to translate the camera in Z-axis. But, how to measure the distance the camera is from a given point? The globe (Group) is in its own coordinate system and has undergone rotate transforms. I couldn&#39;t make sense of the Z measurements I took.\r\n\r\nMy conclusion was that I should stop trying to find out where things are, and instead research the capabilities of `Camera`. Which led me to the FOV and scaling.\r\n\r\n    class ShowJavaSyntaxHighlightingForCodeFragment {\r\n\r\n    /* WTF */\r\n    private void zoomIn( PerspectiveCamera eye ) {\r\n    \tSystem.out.println( &quot;\\nZooming in.&quot; );\r\n    \t\r\n    \t// distance remaining between eye and nearest globe surface point\r\n    \tPoint3D zoomPoint = Earth.getWithDegrees( tiltAngle, -1d * spinAngle, 0 );\r\n    \tSystem.out.println( &quot;Surface point: &quot; + zoomPoint.getZ() );\r\n    \tSystem.out.println( &quot;View point: &quot; + eye.getTranslateZ() );\r\n    \tdouble distance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\r\n    \tSystem.out.println( &quot;Zoom distance: &quot; + distance );\r\n    \t// close the remaining distance by half\r\n    \teye.setTranslateZ( ( eye.getTranslateZ() + ( distance / 2d ) ) );\r\n    \t\r\n    \t// report the new distance\r\n    \tdistance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\r\n    \tSystem.out.println( &quot;New view point: &quot; + eye.getTranslateZ() );\r\n    \tSystem.out.println( &quot;New zoom distance: &quot; + distance );\r\n    }\r\n    \r\n    /* WTF */\r\n    private void zoomOut( PerspectiveCamera eye ) {\r\n    \tSystem.out.println( &quot;\\nZooming out.&quot; );\r\n    \t\r\n    \t// distance remaining between eye and nearest globe surface point\r\n    \tPoint3D zoomPoint = Earth.getWithDegrees( tiltAngle, -1d * spinAngle, 0 );\r\n    \tSystem.out.println( &quot;Surface point: &quot; + zoomPoint.getZ() );\r\n    \tSystem.out.println( &quot;View point: &quot; + eye.getTranslateZ() );\r\n    \tdouble distance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\r\n    \tSystem.out.println( &quot;Zoom distance: &quot; + distance );\r\n    \t// attempt to double the closing distance\r\n    \teye.setTranslateZ( ( eye.getTranslateZ() + distance ) ) );\r\n    \t\r\n    \t// report the new distance\r\n    \tdistance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\r\n    \tSystem.out.println( &quot;New view point: &quot; + eye.getTranslateZ() );\r\n    \tSystem.out.println( &quot;New zoom distance: &quot; + distance );\r\n    }}\r\n\r\nFrom that logic, I get this output.\r\n\r\n    Zooming in.\r\n    Surface point: -300.0\r\n    View point: 0.0\t// I wasn&#39;t expecting 0 in Z-axis here\r\n    Zoom distance: 300.0\r\n    New view point: 150.0 // OK, plausible\r\n    New zoom distance: 450.0 // Nonsense. I was expecting a smaller value.\r\n    \r\n    Zooming in.\r\n    Surface point: -300.0\r\n    View point: 150.0\r\n    Zoom distance: 450.0\r\n    New view point: 375.0\r\n    New zoom distance: 675.0 // Nonsense. The image is bigger, but the distance is greater. \r\n    \r\n    Zooming in.\r\n    Surface point: -300.0\r\n    View point: 375.0\r\n    Zoom distance: 675.0\r\n    New view point: 712.5 // I have no idea what is happening, but the view is definitely zoomed\r\n    New zoom distance: 1012.5 \r\n    \r\n    Zooming out.\r\n    Surface point: -300.0\r\n    View point: 712.5\r\n    Zoom distance: 1012.5\r\n    New view point: -1312.5 // This is nonsense again, and the view is far more zoomed out than I intended.\r\n    New zoom distance: 1012.5","title":"Effective way to zoom the camera very close to 3D shapes?","body":"<p>I think I'm going to have to let my code speak for itself here. I am creating a map to plot GPS coordinates. I've decided to plot these onto a 3D globe. I've decided to try <strong>javafx</strong> and I'm using javafx-sdk-18.0.2.</p>\n<p>Something I have not been able to crack is extreme zooming of the <code>PerspectiveCamera</code>. I'd like to zoom all the way from space, down to the 10s-of-meters level, to display recorded GPS data trails.</p>\n<p>I have a simplified example coded to exhibit my problem. I've decorated the globe with just a few points to give you a general reference. The user can rotate to a location on the globe using the <strong>four arrow keys</strong>, and I'm allowing zooming in and out using the <strong>+ and - keys</strong>. I've tried various methods to zoom: measuring the distance between the camera and surface, translating the camera eye; adjusting the &quot;scale&quot; factor; and adjusting the &quot;field of view&quot; angle. None of the results are working adequately and I suspect that I'm just not using this API correctly. The problems I have are</p>\n<ol>\n<li>the movement is too coarse when close to the surface;</li>\n<li>the viewer unexpectedly &quot;punches through&quot; the material and we see stuff on the other side;</li>\n<li>and with very small <code>Camera.nearClip</code> values, all the shapes become corrupted with pieces missing.</li>\n</ol>\n<p><strong>Could somebody please propose how zooming to fine detail could be best achieved?</strong></p>\n<pre><code>package ui.javafx;\n\nimport javafx.application.Application;\nimport javafx.geometry.Point3D;\nimport javafx.scene.*;\nimport javafx.scene.control.Label;\nimport javafx.scene.transform.*;\nimport javafx.scene.input.*;\nimport javafx.scene.shape.*;\nimport javafx.scene.paint.*;\nimport javafx.stage.*;\n\n/** Simplified working javafx example for Stackoverflow question */\npublic class OthographicGlobeMapStackOverflow extends Application {\n\n/**\n * An oblate spheroid coordinate system approximating the layout of the Earth.\n */\nclass Earth {\n    /*\n     * Earth size constants from WGS-84 as expressed on\n     * https://en.wikipedia.org/wiki/Earth_ellipsoid#Historical_Earth_ellipsoids\n     */\n    final static double RADIUS_EQUITORIAL_METERS = 6378137d;\n    final static double RADIUS_POLAR_METERS = 6356752d;\n\n    /**\n     * Size of the scaled globe in pixels. Radius in X coordinate.\n     */\n    final static double globeRadiusX = 300d;\n\n    /**\n     * Size of the globe in pixels. Radius in Y coordinate.\n     */\n    final static double globeRadiusY = RADIUS_POLAR_METERS / RADIUS_EQUITORIAL_METERS * globeRadiusX;\n\n    /**\n     * Produce a Point3D with the location in the xyz universe, corresponding with\n     * the location on the globe with the provided coordinates in degrees and\n     * meters.\n     * Algorithm adapted from https://stackoverflow.com/a/5983282/399723\n     * \n     * @returns a Point3D at the specified location in relation to the globe.\n     * @param degreesLatitude the Latitude in degrees.\n     * @param degreesLongitude the longitude in degrees.\n     * @param metersAltitude the altitude from AMSL in metres.\n     */\n    public static Point3D getWithDegrees( double degreesLatitude, double degreesLongitude, float metersAltitude ) {\n\n        double Re = globeRadiusX;\n        double Rp = globeRadiusY;\n\n        // the algorithm produced a globe with longitude -90 facing us\n        degreesLongitude = ( degreesLongitude - 90d ) % 360d;\n        \n        double lat = Math.toRadians( degreesLatitude );\n        double lon = Math.toRadians( degreesLongitude );\n\n        double coslat = Math.cos( lat );\n        double sinlat = Math.sin( lat );\n        double coslon = Math.cos( lon );\n        double sinlon = Math.sin( lon );\n\n        double term1 = Math.sqrt( Re * Re * coslat * coslat + Rp * Rp * sinlat * sinlat );\n        double term2 = metersAltitude * coslat + ( Re * Re * coslat ) / term1;\n        \n        double x = coslon * term2;\n        double y = sinlon * term2;\n        double z = metersAltitude * sinlat + ( Rp * Rp * sinlat ) / term1;\n\n        // the x,y,z directions were not congruent with the JavaFX layout axes\n        return new Point3D( x, -z, y );\n\n    }\n    public static Point3D getNorthPole() {\n        return getWithDegrees( 90, 0, 0 );\n    }\n}\n\n/**\n * Angle of globe view, in longitude degrees which effects a rotation of the X\n * axis around the Y axis.\n */\nprivate double spinAngle = 0d;\n\n/**\n * Angle of globe view, in latitude degrees\n */\nprivate double tiltAngle = 0d;\n\n@Override\npublic void start( Stage primaryStage ) {\n\n    // Universe stays fixed. Contains lighting, camera and the axis of the &quot;tilt&quot; function.\n    Group universe = new Group();\n    addSunlight( universe );\n    \n    // Globe is able to rotate in its own axis. Child nodes that decorate the globe remain in position.\n    Group globe = new Group();\n    universe.getChildren().add( globe );\n\n    // add a nice looking surface to the globe\n    drawGlobe( globe );\n\n    // paint few dotted lines on the globe surface for orientation\n    drawLatitude( globe, 60 );\n    drawLatitude( globe, 30 );\n    drawLatitude( globe, 0 );\n    drawLatitude( globe, -30 );\n    drawLatitude( globe, -60 );\n    drawLongitude( globe, 0 ); // prime meridian great circle\n\n    // decorate the globe with a few positional balls\n    plotGoldBall( globe, 48.85829501324163, 2.294502751853257, &quot;Tour Eiffel&quot; );\n    plotGoldBall( globe, 40.68937198546735, -74.04451898086933, &quot;Statue of Liberty&quot; );\n    plotGoldBall( globe, -22.952395566439044, -43.21046847195321, &quot;Cristo Redentor&quot; );\n    plotGoldBall( globe, 35.65873215542844, 139.74547513704502, &quot;Êù±‰∫¨„Çø„ÉØ„Éº&quot; ); // Tokyo Tower\n    plotGoldBall( globe, 29.97918805575227, 31.134206635494273, &quot;Ÿáÿ±ŸÖ ÿÆŸàŸÅŸà&quot; ); // pyramid of Cheops\n    plotGoldBall( globe, -27.116667, -109.366667, &quot;üóøüóøüóøüóøüóøüóøüóø&quot; ); // Parque nacional Rapa Nui, Easter Island\n    plotGoldBall( globe, -33.85617854877629, 151.21533961498702, &quot;Sydney Opera House&quot; );\n\n    // translate the globe away from the origin in the corner\n    globe.setTranslateX( Earth.globeRadiusX * 1d );\n    globe.setTranslateY( Earth.globeRadiusX * 1d );\n    globe.setTranslateZ( 0d );\n    \n    // Establish spinning axis for the globe\n    Rotate globeSpin = new Rotate( spinAngle, Earth.getNorthPole() );\n    globe.getTransforms().addAll( globeSpin );\n\n    // Establish tilting on the universe (or camera view which is how user perceives it)\n    Rotate globeTilt = new Rotate( tiltAngle, Rotate.X_AXIS );\n    globeTilt.setPivotX( Earth.globeRadiusX * 1d );\n    globeTilt.setPivotY( Earth.globeRadiusX * 1d );\n    globeTilt.setPivotZ( 0 );\n    universe.getTransforms().add( globeTilt );\n    \n    // establish the size of the window and display it\n    Scene scene = new Scene( universe, Earth.globeRadiusX * 2, Earth.globeRadiusX * 2, true );\n    PerspectiveCamera eye = new PerspectiveCamera();\n    eye.setNearClip( 0.001d );\n    scene.setCamera( eye );\n    primaryStage.setScene( scene );\n\n    // add point-to-identify mouse handler\n    primaryStage.addEventHandler( MouseEvent.MOUSE_PRESSED, event -&gt; {\n        PickResult clicked = event.getPickResult();\n        System.out.println( &quot;Clicked on: &quot; + clicked.getIntersectedNode() );\n    } );\n    \n    // add ‚Üê ‚Üë ‚Üí ‚Üì and +/- controls\n    primaryStage.addEventHandler( KeyEvent.KEY_PRESSED, event -&gt; {\n\n        if ( event.getCode().equals( KeyCode.UP ) ) {\n            globeTilt.setAngle( --tiltAngle );\n        }\n        if ( event.getCode().equals( KeyCode.DOWN ) ) {\n            globeTilt.setAngle( ++tiltAngle );\n        }\n        if ( event.getCode().equals( KeyCode.LEFT ) ) {\n            globeSpin.setAngle( --spinAngle );\n        }\n        if ( event.getCode().equals( KeyCode.RIGHT ) ) {\n            globeSpin.setAngle( ++spinAngle );\n        }\n        if ( event.getCode().equals( KeyCode.EQUALS ) ) {\n            zoomIn( eye );\n        }\n        if ( event.getCode().equals( KeyCode.MINUS ) ) {\n            zoomOut( eye );\n        }\n    } );\n    primaryStage.show();\n}\n\n/**\n * Draw a pretty blue spheroid. This is a visual backdrop to the positional elements placed on the globe.\n * It also functions as a visual solid, hiding elements that are &quot;behind&quot;.\n * */\nprivate void drawGlobe( Group globe ) {\n    Sphere earth = new Sphere( Earth.globeRadiusX );\n    earth.setScaleY( Earth.globeRadiusY / Earth.globeRadiusX ); // squash into oblate a little\n    earth.setId( &quot;Earth&quot; );\n    PhongMaterial surface = new PhongMaterial();\n    surface.setDiffuseColor( Color.AZURE.deriveColor( 0.0, 1.0, 1.0, 1.0 ) );\n    earth.setMaterial( surface );\n    globe.getChildren().add( earth );\n}\n\nprivate void addSunlight( Group universe ) {\n    PointLight sol = new PointLight( Color.WHITE.deriveColor( 0.0, 0.5, 0.5, 0.5 ) );\n    sol.setTranslateZ( -3000 );\n    sol.setTranslateY( -1000 );\n    sol.setTranslateX( -1000 );\n    universe.getChildren().add( sol );\n    AmbientLight starlight = new AmbientLight( Color.ANTIQUEWHITE.deriveColor( 0.0, 0.5, 0.5, 0.5 ) );\n    universe.getChildren().add( starlight );\n}\n\n/**\n * Place a gold-looking ball marker on the surface of the globe\n * @param labelText\n */\nprivate void plotGoldBall( Group globe, double latitude, double longitude, String labelText ) {\n    Sphere marker = plotBall( globe, latitude, longitude, labelText, 10d, Color.BLANCHEDALMOND );\n    Label label = new Label();\n    label.setText( labelText );\n    if ( longitude % 180d &gt; 0 ) {\n        label.setTranslateX( marker.getTranslateX() + 50 );\n    }\n    else {\n        label.setTranslateX( marker.getTranslateX() - ( label.getWidth() + 50 ) );\n    }\n    label.setTranslateY( marker.getTranslateY() );\n    label.setTranslateZ( marker.getTranslateZ() );\n    globe.getChildren().add( label );\n}\n\n/**\n * Place a series of small black dots to denote circle of latitude\n * @param lat the latitude in degrees.\n * */\nprivate void drawLatitude( Group globe, double lat ) {\n    int step = 1;\n    if ( Math.abs( lat ) &gt; 45 )\n        step = 2;\n    for (double deg = 0; deg &lt; 360; deg += step) {\n        plotBlackDot( globe, lat, deg );\n    }\n}\n\n/**\n * Place a series of small black dots to denote a great circle of longitude\n * @param the longitude to start the great circle.\n * */\nprivate void drawLongitude( Group globe, double lon ) {\n    for (double deg = 0; deg &lt; 360; deg++) {\n        plotBlackDot( globe, deg, lon );\n    }\n}\n\nprivate void plotBlackDot( Group globe, double lat, double lon ) {\n    plotBall( globe, lat, lon, null, 1d, Color.DARKSLATEBLUE );\n}\n\nprivate Sphere plotBall( Group globe, double latitude, double longitude, String label, double radius, Color color ) {\n    Point3D location = Earth.getWithDegrees( latitude, longitude, 0 );\n    Sphere mapPoint = new Sphere( radius );\n    mapPoint.setId( label );\n    mapPoint.setTranslateX( location.getX() );\n    mapPoint.setTranslateY( location.getY() );\n    mapPoint.setTranslateZ( location.getZ() );\n    mapPoint.setMaterial( new PhongMaterial( color ) );\n    globe.getChildren().add( mapPoint );\n    return mapPoint;\n}\n\n/* WTF */\nprivate void zoomIn( PerspectiveCamera eye ) {\n    eye.setFieldOfView( eye.getFieldOfView() * 1.1d );\n    eye.setScaleZ( eye.getScaleZ() / 1.1d );\n}\n\n/* WTF */\nprivate void zoomOut( PerspectiveCamera eye ) {\n    eye.setFieldOfView( eye.getFieldOfView() / 1.1d );\n    eye.setScaleZ( eye.getScaleZ() * 1.1d );\n}\n}\n</code></pre>\n<p><strong>New information</strong></p>\n<p>My original attempt was to translate the camera in Z-axis. But, how to measure the distance the camera is from a given point? The globe (Group) is in its own coordinate system and has undergone rotate transforms. I couldn't make sense of the Z measurements I took.</p>\n<p>My conclusion was that I should stop trying to find out where things are, and instead research the capabilities of <code>Camera</code>. Which led me to the FOV and scaling.</p>\n<pre><code>class ShowJavaSyntaxHighlightingForCodeFragment {\n\n/* WTF */\nprivate void zoomIn( PerspectiveCamera eye ) {\n    System.out.println( &quot;\\nZooming in.&quot; );\n    \n    // distance remaining between eye and nearest globe surface point\n    Point3D zoomPoint = Earth.getWithDegrees( tiltAngle, -1d * spinAngle, 0 );\n    System.out.println( &quot;Surface point: &quot; + zoomPoint.getZ() );\n    System.out.println( &quot;View point: &quot; + eye.getTranslateZ() );\n    double distance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\n    System.out.println( &quot;Zoom distance: &quot; + distance );\n    // close the remaining distance by half\n    eye.setTranslateZ( ( eye.getTranslateZ() + ( distance / 2d ) ) );\n    \n    // report the new distance\n    distance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\n    System.out.println( &quot;New view point: &quot; + eye.getTranslateZ() );\n    System.out.println( &quot;New zoom distance: &quot; + distance );\n}\n\n/* WTF */\nprivate void zoomOut( PerspectiveCamera eye ) {\n    System.out.println( &quot;\\nZooming out.&quot; );\n    \n    // distance remaining between eye and nearest globe surface point\n    Point3D zoomPoint = Earth.getWithDegrees( tiltAngle, -1d * spinAngle, 0 );\n    System.out.println( &quot;Surface point: &quot; + zoomPoint.getZ() );\n    System.out.println( &quot;View point: &quot; + eye.getTranslateZ() );\n    double distance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\n    System.out.println( &quot;Zoom distance: &quot; + distance );\n    // attempt to double the closing distance\n    eye.setTranslateZ( ( eye.getTranslateZ() + distance ) ) );\n    \n    // report the new distance\n    distance = Math.abs( eye.getTranslateZ() - zoomPoint.getZ() );\n    System.out.println( &quot;New view point: &quot; + eye.getTranslateZ() );\n    System.out.println( &quot;New zoom distance: &quot; + distance );\n}}\n</code></pre>\n<p>From that logic, I get this output.</p>\n<pre><code>Zooming in.\nSurface point: -300.0\nView point: 0.0 // I wasn't expecting 0 in Z-axis here\nZoom distance: 300.0\nNew view point: 150.0 // OK, plausible\nNew zoom distance: 450.0 // Nonsense. I was expecting a smaller value.\n\nZooming in.\nSurface point: -300.0\nView point: 150.0\nZoom distance: 450.0\nNew view point: 375.0\nNew zoom distance: 675.0 // Nonsense. The image is bigger, but the distance is greater. \n\nZooming in.\nSurface point: -300.0\nView point: 375.0\nZoom distance: 675.0\nNew view point: 712.5 // I have no idea what is happening, but the view is definitely zoomed\nNew zoom distance: 1012.5 \n\nZooming out.\nSurface point: -300.0\nView point: 712.5\nZoom distance: 1012.5\nNew view point: -1312.5 // This is nonsense again, and the view is far more zoomed out than I intended.\nNew zoom distance: 1012.5\n</code></pre>\n"},{"tags":["java","list","collections"],"answers":[{"comments":[{"owner":{"account_id":15718627,"reputation":506,"user_id":11342159,"display_name":"Shivansh Narayan"},"score":0,"creation_date":1554930755,"post_id":55621255,"comment_id":97935740,"body_markdown":"how can i get my IDE generate it . This is my first time on stackoverflow please be patient with me","body":"how can i get my IDE generate it . This is my first time on stackoverflow please be patient with me"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1554931116,"post_id":55621255,"comment_id":97935908,"body_markdown":"What IDE are you using?","body":"What IDE are you using?"},{"owner":{"account_id":15718627,"reputation":506,"user_id":11342159,"display_name":"Shivansh Narayan"},"score":0,"creation_date":1554931424,"post_id":55621255,"comment_id":97936023,"body_markdown":"Intellij Idea ultimate","body":"Intellij Idea ultimate"}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554930039,"creation_date":1554930039,"answer_id":55621255,"question_id":55621225,"body_markdown":"You&#39;ll need to write an `equals` method in your `Pair` class, so that the `List` can work out whether it contains the `Pair` that you&#39;re looking for.  The `List` will use your `equals` method when looking for matches.\r\n\r\nThe simplest way to write your `equals` method is to let your IDE generate it for you.        ","title":"I have got a list of pairs how can i check whether the list contains a specific element or not.The list.contains function is always giving false","body":"<p>You'll need to write an <code>equals</code> method in your <code>Pair</code> class, so that the <code>List</code> can work out whether it contains the <code>Pair</code> that you're looking for.  The <code>List</code> will use your <code>equals</code> method when looking for matches.</p>\n\n<p>The simplest way to write your <code>equals</code> method is to let your IDE generate it for you.        </p>\n"},{"comments":[{"owner":{"account_id":4845031,"reputation":3448,"user_id":4307644,"accept_rate":80,"display_name":"MeetTitan"},"score":0,"creation_date":1554934012,"post_id":55621388,"comment_id":97936891,"body_markdown":"@SHIVANSH, consider up voting and accepting my answer if it helped you.","body":"@SHIVANSH, consider up voting and accepting my answer if it helped you."}],"tags":[],"owner":{"account_id":4845031,"reputation":3448,"user_id":4307644,"accept_rate":80,"display_name":"MeetTitan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555010511,"creation_date":1554930699,"answer_id":55621388,"question_id":55621225,"body_markdown":"By default, objects in Java are only equal if the instances are the same (when you say `new Pair()` you&#39;re making a new instance!).\r\n\r\nWe can override this behavior by overriding the `equals()` method of your `Point` class. Like so:\r\n\r\n\r\n    public class Point {\r\n        private final x;\r\n        private final y;\r\n        \r\n        public Point(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        \r\n        public int getX() {\r\n            return x;\r\n        }\r\n        \r\n        public int getY() {\r\n            return y;\r\n        }\r\n        \r\n        private static boolean isPoint(Object o) {\r\n            return o != null &amp;&amp; o instanceof Point;\r\n        }\r\n        \r\n        private boolean coordsEqual(Point p) {\r\n            return getX() == p.getX() &amp;&amp; getY() == p.getY();\r\n        }\r\n        \r\n        public boolean equals(Object o) {\r\n            return isPoint(o) &amp;&amp; coordsEqual((Point) o); //is o is a point? Does it have equal coords?\r\n        }\r\n\r\nNow `Point.equals()` will return true if our coordinates match instead of the default object equals behavior. Since `Collection.contains()` uses the `equals()` method to check for equality, your code will behave as expected. ","title":"I have got a list of pairs how can i check whether the list contains a specific element or not.The list.contains function is always giving false","body":"<p>By default, objects in Java are only equal if the instances are the same (when you say <code>new Pair()</code> you're making a new instance!).</p>\n\n<p>We can override this behavior by overriding the <code>equals()</code> method of your <code>Point</code> class. Like so:</p>\n\n<pre><code>public class Point {\n    private final x;\n    private final y;\n\n    public Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    private static boolean isPoint(Object o) {\n        return o != null &amp;&amp; o instanceof Point;\n    }\n\n    private boolean coordsEqual(Point p) {\n        return getX() == p.getX() &amp;&amp; getY() == p.getY();\n    }\n\n    public boolean equals(Object o) {\n        return isPoint(o) &amp;&amp; coordsEqual((Point) o); //is o is a point? Does it have equal coords?\n    }\n</code></pre>\n\n<p>Now <code>Point.equals()</code> will return true if our coordinates match instead of the default object equals behavior. Since <code>Collection.contains()</code> uses the <code>equals()</code> method to check for equality, your code will behave as expected. </p>\n"}],"owner":{"account_id":15718627,"reputation":506,"user_id":11342159,"display_name":"Shivansh Narayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55621388,"answer_count":2,"score":2,"last_activity_date":1666290623,"creation_date":1554929880,"question_id":55621225,"body_markdown":"I have created a pair class and list of objects of this class. how can i check whether the list contains a object or not\r\n\r\ni have tried list.contains method \r\n\r\n    //the pair class\r\n\r\n    public static  class pair\r\n    {\r\n        int x,y;\r\n        public pair(int x,int y)\r\n        {\r\n            this.x=x;\r\n            this.y=y;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n    }\r\n\r\n    //this line is always giving false as output\r\n\r\n    if (!l.contains(new pair(x-1,y)))\r\n                    count_1++;","title":"I have got a list of pairs how can i check whether the list contains a specific element or not.The list.contains function is always giving false","body":"<p>I have created a pair class and list of objects of this class. how can i check whether the list contains a object or not</p>\n\n<p>i have tried list.contains method </p>\n\n<pre><code>//the pair class\n\npublic static  class pair\n{\n    int x,y;\n    public pair(int x,int y)\n    {\n        this.x=x;\n        this.y=y;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public int getX() {\n        return x;\n    }\n}\n\n//this line is always giving false as output\n\nif (!l.contains(new pair(x-1,y)))\n                count_1++;\n</code></pre>\n"},{"tags":["java","spring","spring-oauth2","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1638286664,"post_id":70168301,"comment_id":124045204,"body_markdown":"The field `defineClass` is supposed to contain a reference to a `Method` object on which the code tried to invoke the method `invoke(Object, Object...)` but the field is `null`.  Typical cause is some `catch(‚Ä¶)` and proceed instead of terminating code which leaves the field uninitialized. If I shall make even more guesses, this code tries to access `Unsafe.defineClass` via Reflection, but [this method does not exist anymore](https://bugs.openjdk.java.net/browse/JDK-8193033), but instead of handling the `NoSuchMethodException` it proceeds and produces a `NullPointerException` at a later point‚Ä¶","body":"The field <code>defineClass</code> is supposed to contain a reference to a <code>Method</code> object on which the code tried to invoke the method <code>invoke(Object, Object...)</code> but the field is <code>null</code>.  Typical cause is some <code>catch(‚Ä¶)</code> and proceed instead of terminating code which leaves the field uninitialized. If I shall make even more guesses, this code tries to access <code>Unsafe.defineClass</code> via Reflection, but <a href=\"https://bugs.openjdk.java.net/browse/JDK-8193033\" rel=\"nofollow noreferrer\">this method does not exist anymore</a>, but instead of handling the <code>NoSuchMethodException</code> it proceeds and produces a <code>NullPointerException</code> at a later point‚Ä¶"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1638286781,"post_id":70168301,"comment_id":124045259,"body_markdown":"In the end, it doesn‚Äôt matter to you, as you‚Äôre not a Spring developer (I suppose), so if my guess is correct, you have to upgrade the framework (if a newer version exist) or downgrade Java (below 11).","body":"In the end, it doesn‚Äôt matter to you, as you‚Äôre not a Spring developer (I suppose), so if my guess is correct, you have to upgrade the framework (if a newer version exist) or downgrade Java (below 11)."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1653985750,"post_id":70168301,"comment_id":127977644,"body_markdown":"@Holger any ideas on this - https://stackoverflow.com/questions/72444442/java-lang-reflect-method-invokeobject-object-exception-trying-to-use-jaxb-o","body":"@Holger any ideas on this - <a href=\"https://stackoverflow.com/questions/72444442/java-lang-reflect-method-invokeobject-object-exception-trying-to-use-jaxb-o\" title=\"java lang reflect method invokeobject object exception trying to use jaxb o\">stackoverflow.com/questions/72444442/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":7,"creation_date":1638351445,"post_id":70178736,"comment_id":124062648,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70178736/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":3144837,"reputation":1675,"user_id":2659499,"accept_rate":79,"display_name":"Vahid"},"score":3,"creation_date":1645545455,"post_id":70178736,"comment_id":125897043,"body_markdown":"I think the reason this solution worked is that **JAXB was marked for deprecation** in Java 9 and **removed in Java 11**. If the dependencies are not being provided by other libraries (transitive) you have in your project then on Java 17 they cannot be found. That is why you have to add them as direct dependency.\n[What was removed from 11](https://javaalmanac.io/jdk/11/apidiff/9/)","body":"I think the reason this solution worked is that <b>JAXB was marked for deprecation</b> in Java 9 and <b>removed in Java 11</b>. If the dependencies are not being provided by other libraries (transitive) you have in your project then on Java 17 they cannot be found. That is why you have to add them as direct dependency. <a href=\"https://javaalmanac.io/jdk/11/apidiff/9/\" rel=\"nofollow noreferrer\">What was removed from 11</a>"},{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":0,"creation_date":1701267216,"post_id":70178736,"comment_id":136754424,"body_markdown":"Currently, you should use this one &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.4&lt;/version&gt;\n&lt;/dependency&gt;","body":"Currently, you should use this one &lt;dependency&gt;     &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;     &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;     &lt;version&gt;4.0.4&lt;/version&gt; &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":23509239,"reputation":284,"user_id":17558001,"display_name":"user"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1640919913,"creation_date":1638328742,"answer_id":70178736,"question_id":70168301,"body_markdown":"consider add xml lib in dependency, as:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Java 17 Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass is null","body":"<p>consider add xml lib in dependency, as:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2827979,"reputation":391,"user_id":2430184,"display_name":"vvalenciacruz"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1641323710,"creation_date":1641323710,"answer_id":70583927,"question_id":70168301,"body_markdown":"Just added this dependency, and the error was gone:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThanks to @user\r\n\r\nThis was tested with:\r\n\r\n - JDK 17 (Eclipse Temurin)\r\n - Spring Boot 2.6.2\r\n - Spring Cloud 2021.0.0\r\n - org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure","title":"Java 17 Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass is null","body":"<p>Just added this dependency, and the error was gone:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thanks to @user</p>\n<p>This was tested with:</p>\n<ul>\n<li>JDK 17 (Eclipse Temurin)</li>\n<li>Spring Boot 2.6.2</li>\n<li>Spring Cloud 2021.0.0</li>\n<li>org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666290367,"creation_date":1666290367,"answer_id":74144653,"question_id":70168301,"body_markdown":"Upgrading ```maven-jaxb2-plugin ``` to the version ```0.15.1``` resolved the issue for me. \r\n\r\n     &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;0.15.1&lt;/version&gt;\r\n     &lt;/plugin&gt;","title":"Java 17 Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass is null","body":"<p>Upgrading <code>maven-jaxb2-plugin </code> to the version <code>0.15.1</code> resolved the issue for me.</p>\n<pre><code> &lt;plugin&gt;\n      &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n      &lt;version&gt;0.15.1&lt;/version&gt;\n &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7518493,"reputation":245,"user_id":5711200,"display_name":"kgajda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29938,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":70178736,"answer_count":3,"score":21,"last_activity_date":1666290367,"creation_date":1638270369,"question_id":70168301,"body_markdown":"I have small project in spring boot with oauth2, i want to run resource server\r\n\r\nsettings:\r\n - Java 17 \r\n - spring-boot-starter-parent version 2.5.6\r\n - spring-cloud-dependencies version 2020.0.4\r\n- spring-boot-starter-oauth2-resource-server\r\n- spring-security-oauth2-autoconfigure\r\n\r\n\r\nWhen i want to run my app i have exception:\r\n\r\n\r\n```\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t\r\n```\r\n\r\nDo you have any idea what could be wrong?","title":"Java 17 Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass is null","body":"<p>I have small project in spring boot with oauth2, i want to run resource server</p>\n<p>settings:</p>\n<ul>\n<li>Java 17</li>\n<li>spring-boot-starter-parent version 2.5.6</li>\n<li>spring-cloud-dependencies version 2020.0.4</li>\n<li>spring-boot-starter-oauth2-resource-server</li>\n<li>spring-security-oauth2-autoconfigure</li>\n</ul>\n<p>When i want to run my app i have exception:</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n    \n</code></pre>\n<p>Do you have any idea what could be wrong?</p>\n"},{"tags":["java","apache-spark","google-bigquery","apache-spark-sql","nullable"],"answers":[{"tags":[],"owner":{"account_id":3269897,"reputation":22672,"user_id":2753501,"accept_rate":75,"display_name":"ZygD"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666289770,"creation_date":1666289425,"answer_id":74144487,"question_id":74142262,"body_markdown":"That&#39;s probably how `udf` works. I would assume that Spark doesn&#39;t know what `udf` can return, so to be on a safe side, it makes the column nullable. \r\n\r\nIf you are sure you don&#39;t have nulls in the column, you can add `coalesce(&quot;col_name&quot;, lit(&quot;&quot;))`. I mean, depending on what `import` you have, you can use either\r\n\r\n    .withColumn(&quot;email_id&quot;, coalesce(&quot;email_id&quot;, lit(&quot;&quot;)))\r\n\r\nor\r\n\r\n    .withColumn(&quot;email_id&quot;, functions.coalesce(&quot;email_id&quot;, functions.lit(&quot;&quot;)))\r\n","title":"Using a UDF with a REQUIRED column is creating a nullable column in my Spark Dataframe","body":"<p>That's probably how <code>udf</code> works. I would assume that Spark doesn't know what <code>udf</code> can return, so to be on a safe side, it makes the column nullable.</p>\n<p>If you are sure you don't have nulls in the column, you can add <code>coalesce(&quot;col_name&quot;, lit(&quot;&quot;))</code>. I mean, depending on what <code>import</code> you have, you can use either</p>\n<pre><code>.withColumn(&quot;email_id&quot;, coalesce(&quot;email_id&quot;, lit(&quot;&quot;)))\n</code></pre>\n<p>or</p>\n<pre><code>.withColumn(&quot;email_id&quot;, functions.coalesce(&quot;email_id&quot;, functions.lit(&quot;&quot;)))\n</code></pre>\n"}],"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74144487,"answer_count":1,"score":1,"last_activity_date":1666290104,"creation_date":1666278703,"question_id":74142262,"body_markdown":"I am trying to create a Dataframe to write to a Big Query table. One column in the Output table is a REQUIRED ID that I need to generate in my pipeline. I am doing this with the use of a UDF but no matter what I try the column is being created as nullable.\r\n\r\nHow I&#39;ve created the UDF:\r\n\r\n    UserDefinedFunction genID = functions.udf(\r\n                    (UDF1&lt;String, String&gt;) this::generateEmailCommID, DataTypes.StringType);\r\n\r\nThe method the UDF calls itself:\r\n\r\n     private String generateEmailID(String srcId) {\r\n            return UUID.nameUUIDFromBytes((&quot;1_&quot; + srcId).getBytes()).toString();\r\n        }\r\n\r\nAnd then I use this on my temp view transformedData like this:\r\n\r\n\r\n\r\n    spark.sql(&quot;SELECT message_ID AS src_id FROM transformedData&quot;)\r\n              .withColumn(email_id, genID.apply(functions.col(&quot;src_id&quot;)))\r\n\r\nThis column needs to be REQUIRED to match the output table and column &quot;src_id: is &#39;nullable=false&#39;. So why does &quot;email_id&quot; get created &quot;nullable=true&quot; and how can I stop that from happening so I can write to the table?\r\n\r\n```none\r\nroot\r\n |-- email_id: string (nullable = true)\r\n |-- src_id: string (nullable = false)\r\n```","title":"Using a UDF with a REQUIRED column is creating a nullable column in my Spark Dataframe","body":"<p>I am trying to create a Dataframe to write to a Big Query table. One column in the Output table is a REQUIRED ID that I need to generate in my pipeline. I am doing this with the use of a UDF but no matter what I try the column is being created as nullable.</p>\n<p>How I've created the UDF:</p>\n<pre><code>UserDefinedFunction genID = functions.udf(\n                (UDF1&lt;String, String&gt;) this::generateEmailCommID, DataTypes.StringType);\n</code></pre>\n<p>The method the UDF calls itself:</p>\n<pre><code> private String generateEmailID(String srcId) {\n        return UUID.nameUUIDFromBytes((&quot;1_&quot; + srcId).getBytes()).toString();\n    }\n</code></pre>\n<p>And then I use this on my temp view transformedData like this:</p>\n<pre><code>spark.sql(&quot;SELECT message_ID AS src_id FROM transformedData&quot;)\n          .withColumn(email_id, genID.apply(functions.col(&quot;src_id&quot;)))\n</code></pre>\n<p>This column needs to be REQUIRED to match the output table and column &quot;src_id: is 'nullable=false'. So why does &quot;email_id&quot; get created &quot;nullable=true&quot; and how can I stop that from happening so I can write to the table?</p>\n<pre class=\"lang-none prettyprint-override\"><code>root\n |-- email_id: string (nullable = true)\n |-- src_id: string (nullable = false)\n</code></pre>\n"},{"tags":["java","android","telecom-manager"],"answers":[{"comments":[{"owner":{"account_id":25450221,"reputation":17,"user_id":19251775,"display_name":"Jacob Z"},"score":0,"creation_date":1666382811,"post_id":74144540,"comment_id":130932439,"body_markdown":"The default app settings on this device doesn&#39;t have a phone section, probably because it&#39;s a tablet. I&#39;ve tried to set the activity as the default phone app in AndroidManifest, but that isn&#39;t working either.","body":"The default app settings on this device doesn&#39;t have a phone section, probably because it&#39;s a tablet. I&#39;ve tried to set the activity as the default phone app in AndroidManifest, but that isn&#39;t working either."},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1666411213,"post_id":74144540,"comment_id":130936406,"body_markdown":"In that case, there shouldn&#39;t be a phone app installed either, so how would the default Phone Call interface even come up? That&#39;s a part of the default Google Phone (or your manufacturer&#39;s phone app). Did you install that app on your tablet? And if that&#39;s the case, uninstall it, and see what happens","body":"In that case, there shouldn&#39;t be a phone app installed either, so how would the default Phone Call interface even come up? That&#39;s a part of the default Google Phone (or your manufacturer&#39;s phone app). Did you install that app on your tablet? And if that&#39;s the case, uninstall it, and see what happens"},{"owner":{"account_id":25450221,"reputation":17,"user_id":19251775,"display_name":"Jacob Z"},"score":0,"creation_date":1666547441,"post_id":74144540,"comment_id":130958102,"body_markdown":"I can&#39;t delete the pre-installed phone app, and the default apps screen still does not have a tab for &quot;calls&quot;, just &quot;Browser app&quot;, &quot;Digital assistant app&quot;, &quot;Home app&quot; and &quot;Opening Links&quot;. I can post screenshots if you don&#39;t believe me. \n\nDeleting the phone app is a bit hacky and not something I can expect all of my end users to do anyway. Maybe I should rephrase the question, is there any way I can automatically change the visibility of this window, or the priority it has relative to my app? When I close the call in my app it also closes the popup, so just making it invisible would also work","body":"I can&#39;t delete the pre-installed phone app, and the default apps screen still does not have a tab for &quot;calls&quot;, just &quot;Browser app&quot;, &quot;Digital assistant app&quot;, &quot;Home app&quot; and &quot;Opening Links&quot;. I can post screenshots if you don&#39;t believe me.   Deleting the phone app is a bit hacky and not something I can expect all of my end users to do anyway. Maybe I should rephrase the question, is there any way I can automatically change the visibility of this window, or the priority it has relative to my app? When I close the call in my app it also closes the popup, so just making it invisible would also work"},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1666560482,"post_id":74144540,"comment_id":130960795,"body_markdown":"You can make sure that you followed all of the steps in this guide: https://www.gsrikar.com/2019/02/set-android-app-default-dialer.html, which shows how to make an app the default Phone App. At the end, it has an intent that launches the user choice dialog to have them set your app as the default","body":"You can make sure that you followed all of the steps in this guide: <a href=\"https://www.gsrikar.com/2019/02/set-android-app-default-dialer.html\" rel=\"nofollow noreferrer\">gsrikar.com/2019/02/set-android-app-default-dialer.html</a>, which shows how to make an app the default Phone App. At the end, it has an intent that launches the user choice dialog to have them set your app as the default"},{"owner":{"account_id":25450221,"reputation":17,"user_id":19251775,"display_name":"Jacob Z"},"score":0,"creation_date":1666881946,"post_id":74144540,"comment_id":131044648,"body_markdown":"What is the setPhoneDefault() function in this article?","body":"What is the setPhoneDefault() function in this article?"},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1666911823,"post_id":74144540,"comment_id":131053491,"body_markdown":"It&#39;s the code segment that calls te ACTION_CHANGE_DEFAULT_DIALER intent","body":"It&#39;s the code segment that calls te ACTION_CHANGE_DEFAULT_DIALER intent"},{"owner":{"account_id":25450221,"reputation":17,"user_id":19251775,"display_name":"Jacob Z"},"score":0,"creation_date":1668112062,"post_id":74144540,"comment_id":131333726,"body_markdown":"Apologies for the late response, this project ended up getting sidelined for some other things but the fact that I never figured this out is still bothering me. startActivityForResult has been depreciated and I&#39;m not sure how to work around that. My current attempt at just using startActivity:\n\n        `context.startActivity(new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER).putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME,context.getPackageName()));`\n\nIs still resulting in a null result to telecomManager.getDefaultDialerPackage();","body":"Apologies for the late response, this project ended up getting sidelined for some other things but the fact that I never figured this out is still bothering me. startActivityForResult has been depreciated and I&#39;m not sure how to work around that. My current attempt at just using startActivity:          <code>context.startActivity(new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER).putExtra&zwnj;&#8203;(TelecomManager.EXTR&zwnj;&#8203;A_CHANGE_DEFAULT_DIA&zwnj;&#8203;LER_PACKAGE_NAME,con&zwnj;&#8203;text.getPackageName(&zwnj;&#8203;)));</code>  Is still resulting in a null result to telecomManager.getDefaultDialerPackage();"}],"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666289774,"creation_date":1666289774,"answer_id":74144540,"question_id":74143108,"body_markdown":"Have you tried setting your app as the default Phone app in the device settings?","title":"How do you keep the default phone interface from popping up when using Android TelecomManager?","body":"<p>Have you tried setting your app as the default Phone app in the device settings?</p>\n"}],"owner":{"account_id":25450221,"reputation":17,"user_id":19251775,"display_name":"Jacob Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666289774,"creation_date":1666282396,"question_id":74143108,"body_markdown":"I currently have an application that uses android&#39;s TelecomManager to implement calls on a custom interface on a tablet. When accepting a call via addNewIncomingCall, a pop-up of the default android phone call interface loads in front of the app interface. The first two solutions I tried after looking at the TelecomManager documentation, setting the TelecomManager.METADATA_IN_CALL_SERVICE_UI flag and calling the showInCallScreen(false) function, don&#39;t do anything. Nothing else in the documentation seems like it would do what I&#39;m trying to do. Am I missing something here? What&#39;s the correct way to either hide or exit this screen automatically?","title":"How do you keep the default phone interface from popping up when using Android TelecomManager?","body":"<p>I currently have an application that uses android's TelecomManager to implement calls on a custom interface on a tablet. When accepting a call via addNewIncomingCall, a pop-up of the default android phone call interface loads in front of the app interface. The first two solutions I tried after looking at the TelecomManager documentation, setting the TelecomManager.METADATA_IN_CALL_SERVICE_UI flag and calling the showInCallScreen(false) function, don't do anything. Nothing else in the documentation seems like it would do what I'm trying to do. Am I missing something here? What's the correct way to either hide or exit this screen automatically?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666288617,"creation_date":1540561680,"answer_id":53010213,"question_id":53002701,"body_markdown":"Wildfly has a web console of its own which may suit your needs. It shows basic queue metrics like consumer count, message count, messages added, and scheduled count.\r\n\r\nIf you want a console that goes beyond that you *might* be able to deploy the console shipped with ActiveMQ Artemis to Wildfly (e.g. by copying the war files).  However, I&#39;ve not done this before so I don&#39;t know how well it would work.\r\n\r\nAnother option would be to deploy ActiveMQ Artemis standalone and use that instead of the instance of ActiveMQ Artemis embedded into Wildfly. This would give you easy, simple access to the web console shipped with ActiveMQ Artemis.","title":"WildFly 11 ActiveMQ Web Console","body":"<p>Wildfly has a web console of its own which may suit your needs. It shows basic queue metrics like consumer count, message count, messages added, and scheduled count.</p>\n<p>If you want a console that goes beyond that you <em>might</em> be able to deploy the console shipped with ActiveMQ Artemis to Wildfly (e.g. by copying the war files).  However, I've not done this before so I don't know how well it would work.</p>\n<p>Another option would be to deploy ActiveMQ Artemis standalone and use that instead of the instance of ActiveMQ Artemis embedded into Wildfly. This would give you easy, simple access to the web console shipped with ActiveMQ Artemis.</p>\n"}],"owner":{"account_id":4646534,"reputation":69,"user_id":3764643,"display_name":"Chirag Bhatia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53010213,"answer_count":1,"score":1,"last_activity_date":1666288617,"creation_date":1540535238,"question_id":53002701,"body_markdown":"I am quite new to JMS. I know that WildFly 11 has a activeMQ JMS built inside it and we can certainly add a new ActiveMQ to it. But is there a way to get a web console for the inbuilt ActiveMQ, or is there a way inwhich we can monitor the JMS Queues and Topics like in a standalone ActiveMQ instance.\r\n\r\nThanks in advance.\r\n\r\nPS:\r\nLong story short, need to get a GUI interface that can intercept and show JMS messages.","title":"WildFly 11 ActiveMQ Web Console","body":"<p>I am quite new to JMS. I know that WildFly 11 has a activeMQ JMS built inside it and we can certainly add a new ActiveMQ to it. But is there a way to get a web console for the inbuilt ActiveMQ, or is there a way inwhich we can monitor the JMS Queues and Topics like in a standalone ActiveMQ instance.</p>\n\n<p>Thanks in advance.</p>\n\n<p>PS:\nLong story short, need to get a GUI interface that can intercept and show JMS messages.</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":20181161,"reputation":83,"user_id":14801674,"display_name":"Moh&#39;d Khamis Songoro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649334589,"creation_date":1649334408,"answer_id":71782180,"question_id":71782113,"body_markdown":"You have to configure individual adUnit in your admob dashboard. \r\n[A picture showing options to optout video][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HIcll.png","title":"How to show only images (non video ads) in interstitial ads - admob","body":"<p>You have to configure individual adUnit in your admob dashboard.\n<a href=\"https://i.stack.imgur.com/HIcll.png\" rel=\"nofollow noreferrer\">A picture showing options to optout video</a></p>\n"},{"tags":[],"owner":{"account_id":17261460,"reputation":26,"user_id":12499239,"display_name":"Richierich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666287709,"creation_date":1666287709,"answer_id":74144170,"question_id":71782113,"body_markdown":"If you monetize with Google Admob, then log in to your Admob account &gt; navigate to Ad Units page &gt; click the interstitial ad-unit from table &gt; go to Advancd settings &gt; click on edit icon of ad type section and uncheck the video option &gt; remember to click save \r\n\r\nYou are good to go with interstitials without videos","title":"How to show only images (non video ads) in interstitial ads - admob","body":"<p>If you monetize with Google Admob, then log in to your Admob account &gt; navigate to Ad Units page &gt; click the interstitial ad-unit from table &gt; go to Advancd settings &gt; click on edit icon of ad type section and uncheck the video option &gt; remember to click save</p>\n<p>You are good to go with interstitials without videos</p>\n"}],"owner":{"account_id":20181161,"reputation":83,"user_id":14801674,"display_name":"Moh&#39;d Khamis Songoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74144170,"answer_count":2,"score":1,"last_activity_date":1666287709,"creation_date":1649334108,"question_id":71782113,"body_markdown":"I am creating audio playing android app, I want to show interstitial ads that shows only image/text instead of video as I don&#39;t want to pause audio playing (for a good UX).lter  Is there any way to filter out video interstitial?","title":"How to show only images (non video ads) in interstitial ads - admob","body":"<p>I am creating audio playing android app, I want to show interstitial ads that shows only image/text instead of video as I don't want to pause audio playing (for a good UX).lter  Is there any way to filter out video interstitial?</p>\n"},{"tags":["java","if-statement","return"],"answers":[{"comments":[{"owner":{"account_id":1541891,"reputation":409,"user_id":1580355,"accept_rate":100,"display_name":"A13X"},"score":0,"creation_date":1376691499,"post_id":18282894,"comment_id":26820933,"body_markdown":"That&#39;s alright, I guess I&#39;ll break convention for now.  Thanks for the answer.","body":"That&#39;s alright, I guess I&#39;ll break convention for now.  Thanks for the answer."},{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":0,"creation_date":1376691941,"post_id":18282894,"comment_id":26821074,"body_markdown":"@A13X - It&#39;s a pretty atypical convention.  See [Should a function have only one return statement?](http://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement)","body":"@A13X - It&#39;s a pretty atypical convention.  See <a href=\"http://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement\">Should a function have only one return statement?</a>"}],"tags":[],"owner":{"account_id":3148519,"reputation":3710,"user_id":2662475,"display_name":"Xabster"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376691167,"creation_date":1376691167,"answer_id":18282894,"question_id":18282883,"body_markdown":"Only the first return statement hit is used. The method then terminates.\r\n\r\nThere are some code conventions that frown on multiple return statements because they might be hard to read, but I&#39;m not one of them. :)","title":"A Return inside and outside an If Statement","body":"<p>Only the first return statement hit is used. The method then terminates.</p>\n\n<p>There are some code conventions that frown on multiple return statements because they might be hard to read, but I'm not one of them. :)</p>\n"},{"comments":[{"owner":{"account_id":1541891,"reputation":409,"user_id":1580355,"accept_rate":100,"display_name":"A13X"},"score":0,"creation_date":1376691405,"post_id":18282899,"comment_id":26820909,"body_markdown":"Oh right, the code would be unreachable anyway.  Thanks for the response.","body":"Oh right, the code would be unreachable anyway.  Thanks for the response."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1376691186,"creation_date":1376691186,"answer_id":18282899,"question_id":18282883,"body_markdown":"No, both values aren&#39;t going to be returned.  A `return` statement stops the execution of the method right there, and returns its value.  In fact, if there is code after a `return` that the compiler knows it won&#39;t reach because of the `return`, it will complain.\r\n\r\nYou don&#39;t need to use a variable outside the `if` to return it at the end.  However, if your method is long and complex, this technique can help readability and clarity because only one `return` statement is used.","title":"A Return inside and outside an If Statement","body":"<p>No, both values aren't going to be returned.  A <code>return</code> statement stops the execution of the method right there, and returns its value.  In fact, if there is code after a <code>return</code> that the compiler knows it won't reach because of the <code>return</code>, it will complain.</p>\n\n<p>You don't need to use a variable outside the <code>if</code> to return it at the end.  However, if your method is long and complex, this technique can help readability and clarity because only one <code>return</code> statement is used.</p>\n"}],"owner":{"account_id":1541891,"reputation":409,"user_id":1580355,"accept_rate":100,"display_name":"A13X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96530,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18282899,"answer_count":2,"score":9,"last_activity_date":1666287648,"creation_date":1376691103,"question_id":18282883,"body_markdown":"This is probably a fairly easy question to answer, but it has been bugging me some time.\r\n\r\nIf there is a return statement inside an if statement, inside a method (in the Java language), but I add another at the end as a catch-all and to avoid the error, are both return values going to be fired one after the other if the if statement is true?\r\n\r\nAn example:\r\n\r\n    public int getNumber() {\r\n     if( 5 &gt; number) {\r\n     return 5;\r\n     }\r\n     return 0;\r\n     }\r\n\r\nResult: Method returns 5, and then via stacks logic, returns 0 shortly thereafter.\r\n\r\nOr, do I need to use an outside variable like so:\r\n    \r\n    int num = 1;\r\n    public int getNumber() {\r\n     if( 5 &gt; number) {\r\n     num = 5;\r\n     }\r\n     return num;\r\n     }\r\n\r\nResult: Method changes variable num to 5, then  num is returned for use.  I suppose in this case, the return statement wouldn&#39;t necessarily be required depending on the variable&#39;s usage.\r\n\r\nThanks in advance.","title":"A Return inside and outside an If Statement","body":"<p>This is probably a fairly easy question to answer, but it has been bugging me some time.</p>\n\n<p>If there is a return statement inside an if statement, inside a method (in the Java language), but I add another at the end as a catch-all and to avoid the error, are both return values going to be fired one after the other if the if statement is true?</p>\n\n<p>An example:</p>\n\n<pre><code>public int getNumber() {\n if( 5 &gt; number) {\n return 5;\n }\n return 0;\n }\n</code></pre>\n\n<p>Result: Method returns 5, and then via stacks logic, returns 0 shortly thereafter.</p>\n\n<p>Or, do I need to use an outside variable like so:</p>\n\n<pre><code>int num = 1;\npublic int getNumber() {\n if( 5 &gt; number) {\n num = 5;\n }\n return num;\n }\n</code></pre>\n\n<p>Result: Method changes variable num to 5, then  num is returned for use.  I suppose in this case, the return statement wouldn't necessarily be required depending on the variable's usage.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","rest","api-design"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666287945,"post_id":74144142,"comment_id":130907166,"body_markdown":"Your &quot;get&quot; case is usually handled by &quot;filters&quot; rather than DTOs; having a look at Querydsl (which is directly supported by Spring with MVC argument resolvers) might be instructive.","body":"Your &quot;get&quot; case is usually handled by &quot;filters&quot; rather than DTOs; having a look at Querydsl (which is directly supported by Spring with MVC argument resolvers) might be instructive."}],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1666287580,"creation_date":1666287580,"question_id":74144142,"body_markdown":"I have are large number of REST endpoints, written in Java &amp; Spring. The endpoints mostly look like this simplified example.\r\n\r\n- `GET /cars?` =&gt; Get all cards\r\n- `GET /cars/&lt;id&gt;` =&gt; Get single car\r\n- `PATCH /car/&lt;id&gt;` =&gt; update car\r\n- `PATCH /cars-bulk` =&gt; update car (bulk)\r\n- `POST /cars` =&gt; create car\r\n- `POST /cars-bulk` =&gt; create cars (bulk)\r\n\r\nLet&#39;s say I have this class:\r\n\r\n\r\n    public class CarDTO {\r\n      private String id;\r\n      private String make;\r\n      private String model;\r\n      private String owner;\r\n      private boolean isAvailable;\r\n    }\r\n\r\nAnd let&#39;s say I have this service signature:\r\n\r\n    public interface CarService {\r\n      CarDTO getCarById(String id);\r\n      List&lt;CarDTO&gt; getCars(CarDTO filter);\r\n      CarDTO updateCar(CarDTO car);\r\n      CarDTO createCar(CarDTO car);\r\n      List&lt;BulkUpdateResult&gt; updateCars(List&lt;CarDTO&gt; car);\r\n      List&lt;BulkUpdateResult&gt; createCars(List&lt;CarDTO&gt; car);\r\n    }\r\n\r\nIn this case, DTOs are shared across different service methods. This comes with the problem that the consumers of these interfaces don&#39;t know which fields they need to set in the DTO for each method call.\r\n\r\nFor example:\r\n - `getCarById` and `getCars` calls returns all fields, except `isAvailable`\r\n - `updateCar` / `updateCars` is only allowed to update the `owner` field\r\n - `createCar` / `createCars` can set any field, except the `id` (generated by service)\r\n\r\nThis can be implemented using validators and manual description of the APIs, but I prefer to have self-explanatory call signatures for certain endpoints. If a field is not supposed to be produced or consumed, I don&#39;t want to make it part of the call signature.\r\n\r\nOne solution I have tried is to create DTOs (`CarGetDTO`, `CarUpdateDTO`, `CarCreateDTO`) for every endpoint like so: \r\n\r\n    public interface CarService {\r\n      CarGetDTO getCarById(String id);\r\n      List&lt;CarGetDTO&gt; getCars(CarGetDTO filter);\r\n      CarGetDTO updateCar(CarUpdateDTO car);\r\n      CarGetDTO createCar(CarUpdateDTO car);\r\n      List&lt;BulkUpdateResult&gt; updateCars(List&lt;CarCreateDTO&gt; car);\r\n      List&lt;BulkUpdateResult&gt; createCars(List&lt;CarCreateDTO&gt; car);\r\n    }\r\n\r\nThis however becomes incredibly complex with a large code base, code duplication and complex business requirements.\r\n\r\nOne way to solve this, that I can think of, is leverage polymorphism, but it makes the code mode complex and harder to understand.\r\n\r\n    public abstract class CarDTO {\r\n      private String owner;\r\n    }\r\n\r\n    public class CarCreateDTO extends CarDTO  {\r\n      private String make;\r\n      private String model;\r\n    }\r\n\r\n    public class CarGetDTO extends CarCreateDTO  {\r\n      private String id; // duplicate code\r\n    }\r\n\r\n    public class CarUpdateDTO extends CarCreateDTO  {\r\n      private String id; // duplicate code\r\n      private boolean isAvailable;\r\n    }\r\n\r\n\r\n\r\nAre there any better, scalable patterns, of defining custom DTOs, without having to define each and every parameter and return type, perhaps through code generation?","title":"Is there a way to have custom DTOs for each endpoint, without having a ton of DTO classes?","body":"<p>I have are large number of REST endpoints, written in Java &amp; Spring. The endpoints mostly look like this simplified example.</p>\n<ul>\n<li><code>GET /cars?</code> =&gt; Get all cards</li>\n<li><code>GET /cars/&lt;id&gt;</code> =&gt; Get single car</li>\n<li><code>PATCH /car/&lt;id&gt;</code> =&gt; update car</li>\n<li><code>PATCH /cars-bulk</code> =&gt; update car (bulk)</li>\n<li><code>POST /cars</code> =&gt; create car</li>\n<li><code>POST /cars-bulk</code> =&gt; create cars (bulk)</li>\n</ul>\n<p>Let's say I have this class:</p>\n<pre><code>public class CarDTO {\n  private String id;\n  private String make;\n  private String model;\n  private String owner;\n  private boolean isAvailable;\n}\n</code></pre>\n<p>And let's say I have this service signature:</p>\n<pre><code>public interface CarService {\n  CarDTO getCarById(String id);\n  List&lt;CarDTO&gt; getCars(CarDTO filter);\n  CarDTO updateCar(CarDTO car);\n  CarDTO createCar(CarDTO car);\n  List&lt;BulkUpdateResult&gt; updateCars(List&lt;CarDTO&gt; car);\n  List&lt;BulkUpdateResult&gt; createCars(List&lt;CarDTO&gt; car);\n}\n</code></pre>\n<p>In this case, DTOs are shared across different service methods. This comes with the problem that the consumers of these interfaces don't know which fields they need to set in the DTO for each method call.</p>\n<p>For example:</p>\n<ul>\n<li><code>getCarById</code> and <code>getCars</code> calls returns all fields, except <code>isAvailable</code></li>\n<li><code>updateCar</code> / <code>updateCars</code> is only allowed to update the <code>owner</code> field</li>\n<li><code>createCar</code> / <code>createCars</code> can set any field, except the <code>id</code> (generated by service)</li>\n</ul>\n<p>This can be implemented using validators and manual description of the APIs, but I prefer to have self-explanatory call signatures for certain endpoints. If a field is not supposed to be produced or consumed, I don't want to make it part of the call signature.</p>\n<p>One solution I have tried is to create DTOs (<code>CarGetDTO</code>, <code>CarUpdateDTO</code>, <code>CarCreateDTO</code>) for every endpoint like so:</p>\n<pre><code>public interface CarService {\n  CarGetDTO getCarById(String id);\n  List&lt;CarGetDTO&gt; getCars(CarGetDTO filter);\n  CarGetDTO updateCar(CarUpdateDTO car);\n  CarGetDTO createCar(CarUpdateDTO car);\n  List&lt;BulkUpdateResult&gt; updateCars(List&lt;CarCreateDTO&gt; car);\n  List&lt;BulkUpdateResult&gt; createCars(List&lt;CarCreateDTO&gt; car);\n}\n</code></pre>\n<p>This however becomes incredibly complex with a large code base, code duplication and complex business requirements.</p>\n<p>One way to solve this, that I can think of, is leverage polymorphism, but it makes the code mode complex and harder to understand.</p>\n<pre><code>public abstract class CarDTO {\n  private String owner;\n}\n\npublic class CarCreateDTO extends CarDTO  {\n  private String make;\n  private String model;\n}\n\npublic class CarGetDTO extends CarCreateDTO  {\n  private String id; // duplicate code\n}\n\npublic class CarUpdateDTO extends CarCreateDTO  {\n  private String id; // duplicate code\n  private boolean isAvailable;\n}\n</code></pre>\n<p>Are there any better, scalable patterns, of defining custom DTOs, without having to define each and every parameter and return type, perhaps through code generation?</p>\n"},{"tags":["java","file","nio"],"comments":[{"owner":{"account_id":2141120,"reputation":4083,"user_id":1899721,"accept_rate":67,"display_name":"cambecc"},"score":2,"creation_date":1373384290,"post_id":17552299,"comment_id":25531825,"body_markdown":"That doesn&#39;t seem right. Both `Paths.get(&quot;path/to/file&quot;).toString()` and `Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;file&quot;).toString()` both return `&quot;path/to/file&quot;` for me.","body":"That doesn&#39;t seem right. Both <code>Paths.get(&quot;path&#47;to&#47;file&quot;).toString()</code> and <code>Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;file&quot;).toString()</code> both return <code>&quot;path&#47;to&#47;file&quot;</code> for me."},{"owner":{"account_id":2141120,"reputation":4083,"user_id":1899721,"accept_rate":67,"display_name":"cambecc"},"score":0,"creation_date":1373384365,"post_id":17552299,"comment_id":25531866,"body_markdown":"Same is true of `Paths.get(&quot;path/to&quot;).resolve(&quot;file&quot;).toString()`, which returns `&quot;path/to/file&quot;`.","body":"Same is true of <code>Paths.get(&quot;path&#47;to&quot;).resolve(&quot;file&quot;).toString()</code>, which returns <code>&quot;path&#47;to&#47;file&quot;</code>."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373384371,"post_id":17552299,"comment_id":25531872,"body_markdown":"I may be wrong but for me both returns the same string !!!","body":"I may be wrong but for me both returns the same string !!!"},{"owner":{"account_id":2141120,"reputation":4083,"user_id":1899721,"accept_rate":67,"display_name":"cambecc"},"score":1,"creation_date":1373384617,"post_id":17552299,"comment_id":25532008,"body_markdown":"What result do you see for `Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;file&quot;).getClass().getName()`? Perhaps you&#39;re picking up a wonky FileSystem implementation.","body":"What result do you see for <code>Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;file&quot;).getClass().getName()</code>? Perhaps you&#39;re picking up a wonky FileSystem implementation."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1373384756,"post_id":17552299,"comment_id":25532103,"body_markdown":"The difference might be that I&#39;m starting with going up one path (relative to working directory): `Paths.get(&quot;..&quot;, &quot;path/to&quot;, &quot;file&quot;)`. I didn&#39;t think it would be relevant to the question, but apparently it is.","body":"The difference might be that I&#39;m starting with going up one path (relative to working directory): <code>Paths.get(&quot;..&quot;, &quot;path&#47;to&quot;, &quot;file&quot;)</code>. I didn&#39;t think it would be relevant to the question, but apparently it is."},{"owner":{"account_id":2141120,"reputation":4083,"user_id":1899721,"accept_rate":67,"display_name":"cambecc"},"score":0,"creation_date":1373384966,"post_id":17552299,"comment_id":25532256,"body_markdown":"Again, this doesn&#39;t result in anything surprising: `Paths.get(&quot;..&quot;, &quot;path/to&quot;, &quot;file&quot;).toString()` returns `&quot;../path/to/file&quot;`. I&#39;m using JDK 1.7.0_21","body":"Again, this doesn&#39;t result in anything surprising: <code>Paths.get(&quot;..&quot;, &quot;path&#47;to&quot;, &quot;file&quot;).toString()</code> returns <code>&quot;..&#47;path&#47;to&#47;file&quot;</code>. I&#39;m using JDK 1.7.0_21"}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1373387592,"post_id":17552395,"comment_id":25533769,"body_markdown":"Updated question with more info on when this fails.","body":"Updated question with more info on when this fails."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1373387942,"post_id":17552395,"comment_id":25533979,"body_markdown":"Are you sure this is java.nio.Paths that you use?","body":"Are you sure this is java.nio.Paths that you use?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1373539563,"post_id":17552395,"comment_id":25599472,"body_markdown":"Yes, I&#39;m sure :) `java.nio.file.Paths`, to be exact.","body":"Yes, I&#39;m sure :) <code>java.nio.file.Paths</code>, to be exact."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":3,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1373384223,"creation_date":1373384223,"answer_id":17552395,"question_id":17552299,"body_markdown":"Use:\r\n\r\n    Paths.get(...).normalize().toString()\r\n\r\nAnother solution woul be:\r\n\r\n    Paths.get(...).toAbsolutePath().toString()\r\n\r\nHowever, you get strange results: `Paths.get(&quot;/tmp&quot;, &quot;foo&quot;).toString()` returns `/tmp/foo` here. What is your filesystem?","title":"How to get the path string from a java.nio.Path?","body":"<p>Use:</p>\n\n<pre><code>Paths.get(...).normalize().toString()\n</code></pre>\n\n<p>Another solution woul be:</p>\n\n<pre><code>Paths.get(...).toAbsolutePath().toString()\n</code></pre>\n\n<p>However, you get strange results: <code>Paths.get(\"/tmp\", \"foo\").toString()</code> returns <code>/tmp/foo</code> here. What is your filesystem?</p>\n"},{"comments":[{"owner":{"account_id":7555,"reputation":32361,"user_id":13169,"accept_rate":89,"display_name":"Roberto Bonvallet"},"score":0,"creation_date":1666196363,"post_id":68713421,"comment_id":130880214,"body_markdown":"Note that `toRealPath` throws an exception if the file doesn&#39;t exist, which is not what you want when you are passing the path for a file yet to be created.","body":"Note that <code>toRealPath</code> throws an exception if the file doesn&#39;t exist, which is not what you want when you are passing the path for a file yet to be created."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1666286453,"post_id":68713421,"comment_id":130906611,"body_markdown":"Thank you @RobertoBonvallet, I&#39;ll add it to the answer","body":"Thank you @RobertoBonvallet, I&#39;ll add it to the answer"}],"tags":[],"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666286869,"creation_date":1628517775,"answer_id":68713421,"question_id":17552299,"body_markdown":"To complete the the [fge&#39;s answer][1], I would add some info:\r\n\r\n1. `normalize()` simply removes redundant pieces of strings in your path, like `.`\r\n or `..`; it does **not** operate at the OS level or gives you an absolute path from a relative path\r\n2. `toAbsolutePath()` on the contrary gives you what the name says, the absolute path of the `Path` object. But...\r\n3. `toRealPath()` resolves also soft and hard links (yes they exists also on Windows, so win user, you&#39;re not immune). So it gives to you, as the name says, the *real* path.\r\n\r\nSo what&#39;s the best? It depends, but personally I use `toRealPath()` the 99% of the cases.\r\n\r\nAs pointed out by [Roberto Bonvallet][2], since `toRealPath()` throws an exception if the file does not already exist because, for example, you want to create it. In this case I prefer `toAbsolutePath()`.\r\n\r\nSource: [Official javadoc][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17552395/1763602\r\n  [2]: https://stackoverflow.com/questions/17552299/how-to-get-the-path-string-from-a-java-nio-path/68713421?noredirect=1#comment130880214_68713421\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html","title":"How to get the path string from a java.nio.Path?","body":"<p>To complete the the <a href=\"https://stackoverflow.com/a/17552395/1763602\">fge's answer</a>, I would add some info:</p>\n<ol>\n<li><code>normalize()</code> simply removes redundant pieces of strings in your path, like <code>.</code>\nor <code>..</code>; it does <strong>not</strong> operate at the OS level or gives you an absolute path from a relative path</li>\n<li><code>toAbsolutePath()</code> on the contrary gives you what the name says, the absolute path of the <code>Path</code> object. But...</li>\n<li><code>toRealPath()</code> resolves also soft and hard links (yes they exists also on Windows, so win user, you're not immune). So it gives to you, as the name says, the <em>real</em> path.</li>\n</ol>\n<p>So what's the best? It depends, but personally I use <code>toRealPath()</code> the 99% of the cases.</p>\n<p>As pointed out by <a href=\"https://stackoverflow.com/questions/17552299/how-to-get-the-path-string-from-a-java-nio-path/68713421?noredirect=1#comment130880214_68713421\">Roberto Bonvallet</a>, since <code>toRealPath()</code> throws an exception if the file does not already exist because, for example, you want to create it. In this case I prefer <code>toAbsolutePath()</code>.</p>\n<p>Source: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Official javadoc</a></p>\n"}],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77422,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":2,"score":58,"last_activity_date":1666286869,"creation_date":1373383965,"question_id":17552299,"body_markdown":"Rewrote question with more info\r\n\r\nI have some code that creates a `Path` object using relative paths, like this: `Paths.get(&quot;..&quot;, &quot;folder&quot;).resolve(&quot;filename&quot;)`. Later, I want to get the path string &quot;..\\folder\\filename&quot; from it (I&#39;m on windows, so backslashes). When I run this code using manual compile or from Eclipse, this works fine.\r\n\r\nHowever, when I run it using Maven, it doesn&#39;t work any more. The `toString()` method returns `[.., folder, filename]` instead of an actual path string. Using `path.normalize()` doesn&#39;t help. Using `path.toFile().getPath()` does return what I&#39;m looking for, but I feel there should be a solution using just the `nio.path` API.","title":"How to get the path string from a java.nio.Path?","body":"<p>Rewrote question with more info</p>\n\n<p>I have some code that creates a <code>Path</code> object using relative paths, like this: <code>Paths.get(\"..\", \"folder\").resolve(\"filename\")</code>. Later, I want to get the path string \"..\\folder\\filename\" from it (I'm on windows, so backslashes). When I run this code using manual compile or from Eclipse, this works fine.</p>\n\n<p>However, when I run it using Maven, it doesn't work any more. The <code>toString()</code> method returns <code>[.., folder, filename]</code> instead of an actual path string. Using <code>path.normalize()</code> doesn't help. Using <code>path.toFile().getPath()</code> does return what I'm looking for, but I feel there should be a solution using just the <code>nio.path</code> API.</p>\n"},{"tags":["java","swing","mouselistener"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666286116,"post_id":74143716,"comment_id":130906485,"body_markdown":"Refer to [How to Write a Mouse Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html) and [How to Write a Mouse-Motion Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html)","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse Listener</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse-Motion Listener</a>"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666286174,"post_id":74143773,"comment_id":130906500,"body_markdown":"@JTD28 you can show your appreciation by accepting this answer or up-voting it (or both).","body":"@JTD28 you can show your appreciation by accepting this answer or up-voting it (or both)."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666286487,"creation_date":1666285788,"answer_id":74143773,"question_id":74143716,"body_markdown":"You&#39;re creating and adding another JPanel, the mousePanel, and adding it to the DrawPanel JPanel, a container that uses the default FlowLayout. This makes the mousePanel&#39;s size its preferred size which is [0, 0] meaning that the mousePanel component is being added but it is too small to be seen or to do anything significant. But why do you even have or need this extra JPanel?\r\n\r\nSolution: get rid of the mousePanel, there is no need for it. Instead add your mouse handler to `this`.\r\n\r\nSide issue, no need to implement MouseMotionListener. A MouseAdapter already implements this interface.\r\n\r\nFor example:\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class FooSwing02 extends JPanel {\r\n\tprivate JLabel statusLabel = new JLabel(&quot;&quot;);\r\n\r\n    public FooSwing02() {\r\n\t\tsetPreferredSize(new Dimension(800, 650));\r\n\t\tadd(new JLabel(&quot;Mouse Location:&quot;));\r\n\t\tadd(statusLabel);\r\n\r\n\t\tMyMouse myMouse = new MyMouse();\r\n\t\taddMouseListener(myMouse);\r\n\t\taddMouseMotionListener(myMouse);\r\n    }\r\n\t\r\n\tprivate class MyMouse extends MouseAdapter {\r\n\t\t@Override\r\n        public void mouseMoved(MouseEvent event) {\r\n\t\t\tPoint p = event.getPoint();\r\n\t\t\tString text = String.format(&quot;[%03d, %03d]&quot;, p.x, p.y);\r\n\t\t\tstatusLabel.setText(text);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.add(new FooSwing02());\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n    }\r\n}\r\n```","title":"How do I get my MouseHandler to work in my DrawPanel, so I can make a label that shows the current mouse location?","body":"<p>You're creating and adding another JPanel, the mousePanel, and adding it to the DrawPanel JPanel, a container that uses the default FlowLayout. This makes the mousePanel's size its preferred size which is [0, 0] meaning that the mousePanel component is being added but it is too small to be seen or to do anything significant. But why do you even have or need this extra JPanel?</p>\n<p>Solution: get rid of the mousePanel, there is no need for it. Instead add your mouse handler to <code>this</code>.</p>\n<p>Side issue, no need to implement MouseMotionListener. A MouseAdapter already implements this interface.</p>\n<p>For example:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class FooSwing02 extends JPanel {\n    private JLabel statusLabel = new JLabel(&quot;&quot;);\n\n    public FooSwing02() {\n        setPreferredSize(new Dimension(800, 650));\n        add(new JLabel(&quot;Mouse Location:&quot;));\n        add(statusLabel);\n\n        MyMouse myMouse = new MyMouse();\n        addMouseListener(myMouse);\n        addMouseMotionListener(myMouse);\n    }\n    \n    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mouseMoved(MouseEvent event) {\n            Point p = event.getPoint();\n            String text = String.format(&quot;[%03d, %03d]&quot;, p.x, p.y);\n            statusLabel.setText(text);\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.add(new FooSwing02());\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15596848,"reputation":11,"user_id":11252095,"display_name":"JTD28"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74143773,"answer_count":1,"score":0,"last_activity_date":1666286487,"creation_date":1666285444,"question_id":74143716,"body_markdown":"\r\nI am trying to add the `MouseHandler` to my `DrawPanel` class to eventually have a status label that updates the mouse location, but while using print statements, it seems like it is not registering any mouse input at all.\r\n```java\r\nprivate class DrawPanel extends JPanel {\r\n\r\n    public DrawPanel() {\r\n        JPanel mousePanel = new JPanel();\r\n        this.add(mousePanel);\r\n        MouseHandler handler = new MouseHandler();\r\n        mousePanel.addMouseListener(handler);\r\n        mousePanel.addMouseMotionListener(handler);\r\n    }\r\n\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n    }\r\n\r\n    private class MouseHandler extends MouseAdapter implements MouseMotionListener {\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent event) {\r\n            System.out.print(&quot;Pressed&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent event) {\r\n            System.out.print(&quot;Released&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseDragged(MouseEvent event) {\r\n            System.out.print(&quot;Dragged&quot;); \r\n            //lblStatus.setText(String.format(&quot;(%d,%d)&quot;,event.getX(),event.getY()));\r\n        }\r\n\r\n        @Override\r\n        public void mouseMoved(MouseEvent event) {\r\n            System.out.print(&quot;Moved&quot;);\r\n            //System.out.print(&quot;(&quot;+event.getX()+&quot;,&quot;+event.getY()+&quot;)&quot;);\r\n            //lblStatus.setText(String.format(&quot;(%d,%d)&quot;,event.getX(),event.getY()));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n","title":"How do I get my MouseHandler to work in my DrawPanel, so I can make a label that shows the current mouse location?","body":"<p>I am trying to add the <code>MouseHandler</code> to my <code>DrawPanel</code> class to eventually have a status label that updates the mouse location, but while using print statements, it seems like it is not registering any mouse input at all.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class DrawPanel extends JPanel {\n\n    public DrawPanel() {\n        JPanel mousePanel = new JPanel();\n        this.add(mousePanel);\n        MouseHandler handler = new MouseHandler();\n        mousePanel.addMouseListener(handler);\n        mousePanel.addMouseMotionListener(handler);\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n    }\n\n    private class MouseHandler extends MouseAdapter implements MouseMotionListener {\n\n        @Override\n        public void mousePressed(MouseEvent event) {\n            System.out.print(&quot;Pressed&quot;);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent event) {\n            System.out.print(&quot;Released&quot;); \n        }\n\n        @Override\n        public void mouseDragged(MouseEvent event) {\n            System.out.print(&quot;Dragged&quot;); \n            //lblStatus.setText(String.format(&quot;(%d,%d)&quot;,event.getX(),event.getY()));\n        }\n\n        @Override\n        public void mouseMoved(MouseEvent event) {\n            System.out.print(&quot;Moved&quot;);\n            //System.out.print(&quot;(&quot;+event.getX()+&quot;,&quot;+event.getY()+&quot;)&quot;);\n            //lblStatus.setText(String.format(&quot;(%d,%d)&quot;,event.getX(),event.getY()));\n        }\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1666285804,"post_id":74143534,"comment_id":130906369,"body_markdown":"See [this answer](https://stackoverflow.com/a/44153431/2711488) You want `Comparator.comparing(Person::getAgeRange, Comparator.nullsFirst( Comparator.naturalOrder()))`. By the way, you‚Äôre not using the result of `collect`. If you just want to sort the list, don‚Äôt use a `Stream`. Use `persons.sort(Comparator.comparing(Person::getAgeRange, Comparator.nullsFirst(Comparator.naturalOrder())));`","body":"See <a href=\"https://stackoverflow.com/a/44153431/2711488\">this answer</a> You want <code>Comparator.comparing(Person::getAgeRange, Comparator.nullsFirst( Comparator.naturalOrder()))</code>. By the way, you‚Äôre not using the result of <code>collect</code>. If you just want to sort the list, don‚Äôt use a <code>Stream</code>. Use <code>persons.sort(Comparator.comparing(Person::getAgeRange, Comparator.nullsFirst(Comparator.naturalOrder())));</code>"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666285991,"creation_date":1666285991,"answer_id":74143819,"question_id":74143534,"body_markdown":"*You can try with this approach here:*\r\n\r\n***Here,***\r\n\r\nI have passed the `Comparator.nullsFirst` in the `Comparator.comparing()` which will have the nulls value first and then compare the rest of the values ignoring the null data.\r\n\r\nYou can also use `Comparator.reverseOrder()` if you want to have the reverse ordering of the data.\r\n\r\n    List&lt;Person&gt; sortedData = persons.stream().sorted(Comparator.comparing(Person::getAgeRange,\r\n      Comparator.nullsFirst(Comparator.naturalOrder())))\r\n                .collect(Collectors.toList());\r\n        System.out.println(sortedData);","title":"Java Lambda sort with object properties throws null pointer exception","body":"<p><em>You can try with this approach here:</em></p>\n<p><em><strong>Here,</strong></em></p>\n<p>I have passed the <code>Comparator.nullsFirst</code> in the <code>Comparator.comparing()</code> which will have the nulls value first and then compare the rest of the values ignoring the null data.</p>\n<p>You can also use <code>Comparator.reverseOrder()</code> if you want to have the reverse ordering of the data.</p>\n<pre><code>List&lt;Person&gt; sortedData = persons.stream().sorted(Comparator.comparing(Person::getAgeRange,\n  Comparator.nullsFirst(Comparator.naturalOrder())))\n            .collect(Collectors.toList());\n    System.out.println(sortedData);\n</code></pre>\n"}],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666286415,"accepted_answer_id":74143819,"answer_count":1,"score":1,"last_activity_date":1666286367,"creation_date":1666284482,"question_id":74143534,"body_markdown":"- Code when sorting with the Object property (which is another object), with null values though using he compartor `nullsFirst()` end up in null pointer exception.\r\n\r\n```java\r\nimport java.util.Comparator;\r\nimport java.util.stream.Collectors;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        AgeRange ageRange = new AgeRange();\r\n        ageRange.setBegin(1);\r\n        ageRange.setEnd(18);\r\n        \r\n        Person p1 = new Person();\r\n        p1.setAgeRange(age);\r\n        \r\n        Person p2 = new Person();\r\n        p2.setAgeRange(null);\r\n        \r\n        AgeRange ageRange1 = new AgeRange();\r\n        ageRange1.setBegin(19);\r\n        ageRange1.setEnd(25);\r\n        \r\n        Person p3 = new Person();\r\n        p3.setAgeRange(ageRange1);\r\n        \r\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        persons.add(p1);\r\n        persons.add(p2);\r\n        persons.add(p3);\r\n        \r\n        persons.stream().sorted(Comparator.nullsFirst(Comparator.comparing(Person::getAgeRange)))\r\n        .collect(Collectors.toList());\r\n        //above throws null pointer exception\r\n        \r\n    }\r\n}\r\n\r\n  class Person {\r\n        private String name;\r\n        private AgeRange ageRange;\r\n        \r\n        public String getName(){\r\n            return this.name;\r\n        }\r\n        \r\n        public void setName(String name){\r\n            this.name = name;\r\n        }\r\n        \r\n        public AgeRange getAgeRange(){\r\n            return this.ageRange;\r\n        }\r\n        \r\n        public void setAgeRange(AgeRange ageRange){\r\n            this.ageRange = ageRange;\r\n        }\r\n        \r\n    }\r\n    \r\n    class AgeRange implements Comparable&lt;AgeRange&gt;{\r\n        long begin;\r\n        long end;\r\n        \r\n        public void setBegin(long begin){\r\n            this.begin = begin;\r\n        }\r\n        \r\n         public void setEnd(long end){\r\n            this.end = end;\r\n        }\r\n        \r\n        public long getBegin(){\r\n            return this.begin;\r\n        }\r\n        \r\n        public long getEnd(){\r\n            return this.end;\r\n        }\r\n        \r\n        @Override\r\n        public int compareTo(AgeRange obj){\r\n            return Long.compare(begin,obj.begin);\r\n        }\r\n    }\r\n```\r\n\r\n- exception \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\nat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\nat java.base/java.util.Comparators$NullComparator.compare(Comparators.java:83)\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\nat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:353)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat HelloWorld.main(HelloWorld.java:34)\r\n```\r\n\r\nUnderstood that an operation done using the null object, is there way&#39;s to sort the null first in this approach.","title":"Java Lambda sort with object properties throws null pointer exception","body":"<ul>\n<li>Code when sorting with the Object property (which is another object), with null values though using he compartor <code>nullsFirst()</code> end up in null pointer exception.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\nimport java.util.stream.Collectors;\nimport java.util.List;\nimport java.util.ArrayList;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        AgeRange ageRange = new AgeRange();\n        ageRange.setBegin(1);\n        ageRange.setEnd(18);\n        \n        Person p1 = new Person();\n        p1.setAgeRange(age);\n        \n        Person p2 = new Person();\n        p2.setAgeRange(null);\n        \n        AgeRange ageRange1 = new AgeRange();\n        ageRange1.setBegin(19);\n        ageRange1.setEnd(25);\n        \n        Person p3 = new Person();\n        p3.setAgeRange(ageRange1);\n        \n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n        persons.add(p1);\n        persons.add(p2);\n        persons.add(p3);\n        \n        persons.stream().sorted(Comparator.nullsFirst(Comparator.comparing(Person::getAgeRange)))\n        .collect(Collectors.toList());\n        //above throws null pointer exception\n        \n    }\n}\n\n  class Person {\n        private String name;\n        private AgeRange ageRange;\n        \n        public String getName(){\n            return this.name;\n        }\n        \n        public void setName(String name){\n            this.name = name;\n        }\n        \n        public AgeRange getAgeRange(){\n            return this.ageRange;\n        }\n        \n        public void setAgeRange(AgeRange ageRange){\n            this.ageRange = ageRange;\n        }\n        \n    }\n    \n    class AgeRange implements Comparable&lt;AgeRange&gt;{\n        long begin;\n        long end;\n        \n        public void setBegin(long begin){\n            this.begin = begin;\n        }\n        \n         public void setEnd(long end){\n            this.end = end;\n        }\n        \n        public long getBegin(){\n            return this.begin;\n        }\n        \n        public long getEnd(){\n            return this.end;\n        }\n        \n        @Override\n        public int compareTo(AgeRange obj){\n            return Long.compare(begin,obj.begin);\n        }\n    }\n</code></pre>\n<ul>\n<li>exception</li>\n</ul>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\nat java.base/java.util.Comparators$NullComparator.compare(Comparators.java:83)\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n    at java.base/java.util.TimSort.sort(TimSort.java:220)\n    at java.base/java.util.Arrays.sort(Arrays.java:1515)\nat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:353)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n    at HelloWorld.main(HelloWorld.java:34)\n</code></pre>\n<p>Understood that an operation done using the null object, is there way's to sort the null first in this approach.</p>\n"},{"tags":["java","oracle","jdbc","batch-processing"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1434459883,"post_id":30867059,"comment_id":49778213,"body_markdown":"Define &quot;for some records I get failure&quot;. For example if you do an update, then no rows affected is not a failure, it simply means no rows were updated.","body":"Define &quot;for some records I get failure&quot;. For example if you do an update, then no rows affected is not a failure, it simply means no rows were updated."},{"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"score":0,"creation_date":1434460360,"post_id":30867059,"comment_id":49778581,"body_markdown":"Here I have just Insert statements. So I dont see some of the records in db but I dont see any exception trace either.","body":"Here I have just Insert statements. So I dont see some of the records in db but I dont see any exception trace either."},{"owner":{"account_id":466160,"reputation":3576,"user_id":870743,"accept_rate":100,"display_name":"Brett Walker"},"score":0,"creation_date":1434460580,"post_id":30867059,"comment_id":49778749,"body_markdown":"@cacert, do your inserts have a where clause that prevents double insertion? I&#39;m thinking something like `WHERE NOT EXISTS (...)`","body":"@cacert, do your inserts have a where clause that prevents double insertion? I&#39;m thinking something like <code>WHERE NOT EXISTS (...)</code>"},{"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"score":0,"creation_date":1434460899,"post_id":30867059,"comment_id":49778977,"body_markdown":"good point, but insert statements doesnt have this. INSERT INTO FTX.ESI_FLTR_02_ (TB_TRANSFERSEQUENCE,TB_LINENUMBER,TB_CONTENT,TB_STATUS,TB_LINESEQUENCE) &quot; +\n\t\t\t\t\t&quot;VALUES (?,?,CONCAT(?,?),?,?)","body":"good point, but insert statements doesnt have this. INSERT INTO FTX.ESI_FLTR_02_ (TB_TRANSFERSEQUENCE,TB_LINENUMBER,TB_CONTENT,TB_STATUS,TB_L&zwnj;&#8203;INESEQUENCE) &quot; + \t\t\t\t\t&quot;VALUES (?,?,CONCAT(?,?),?,?)"},{"owner":{"account_id":466160,"reputation":3576,"user_id":870743,"accept_rate":100,"display_name":"Brett Walker"},"score":0,"creation_date":1434461576,"post_id":30867059,"comment_id":49779559,"body_markdown":"What is your autocommit state during batch inserts?","body":"What is your autocommit state during batch inserts?"},{"owner":{"account_id":466160,"reputation":3576,"user_id":870743,"accept_rate":100,"display_name":"Brett Walker"},"score":0,"creation_date":1434461796,"post_id":30867059,"comment_id":49779733,"body_markdown":"Are there any triggers on the target table?","body":"Are there any triggers on the target table?"},{"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"score":0,"creation_date":1434472731,"post_id":30867059,"comment_id":49788179,"body_markdown":"autocommit=true, no trigger.","body":"autocommit=true, no trigger."}],"answers":[{"comments":[{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":1,"creation_date":1434456981,"post_id":30867218,"comment_id":49775953,"body_markdown":"the question is *in what error situations I should expect BatchUpdateException and when I should expect there is no exception thrown but for some records I get failure*. What you have stated in the answer is already in the question though not explicitly.","body":"the question is <i>in what error situations I should expect BatchUpdateException and when I should expect there is no exception thrown but for some records I get failure</i>. What you have stated in the answer is already in the question though not explicitly."},{"owner":{"account_id":466160,"reputation":3576,"user_id":870743,"accept_rate":100,"display_name":"Brett Walker"},"score":0,"creation_date":1434457457,"post_id":30867218,"comment_id":49776278,"body_markdown":"@Blip, add more to my answer.","body":"@Blip, add more to my answer."},{"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"score":0,"creation_date":1434457976,"post_id":30867218,"comment_id":49776666,"body_markdown":"&quot;My understanding from this is that if any statement in the batch fails then a BatchUpadteException will be thrown.&quot; Actually I was expecting this too, and today I get an error and learned that is not the case. I was expecting some clarification about what kind of failure will not cause exception.Today I become sure that there is such cases.","body":"&quot;My understanding from this is that if any statement in the batch fails then a BatchUpadteException will be thrown.&quot; Actually I was expecting this too, and today I get an error and learned that is not the case. I was expecting some clarification about what kind of failure will not cause exception.Today I become sure that there is such cases."},{"owner":{"account_id":466160,"reputation":3576,"user_id":870743,"accept_rate":100,"display_name":"Brett Walker"},"score":1,"creation_date":1434458141,"post_id":30867218,"comment_id":49776796,"body_markdown":"This type of behaviour may be dependant upon JDBC Driver/DB Vendor. It goes beyond the original intent as documented in the JDBC API.","body":"This type of behaviour may be dependant upon JDBC Driver/DB Vendor. It goes beyond the original intent as documented in the JDBC API."},{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":1,"creation_date":1434458169,"post_id":30867218,"comment_id":49776818,"body_markdown":"@cacert could you write a different answer about the cases where no `BatchUpdateException` is thrown yet there are failed cases","body":"@cacert could you write a different answer about the cases where no <code>BatchUpdateException</code> is thrown yet there are failed cases"},{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":0,"creation_date":1434458251,"post_id":30867218,"comment_id":49776885,"body_markdown":"@BrettWalker the question is regarding Oracle JDBC","body":"@BrettWalker the question is regarding Oracle JDBC"},{"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"score":0,"creation_date":1434458559,"post_id":30867218,"comment_id":49777134,"body_markdown":"@BrettWalker ok I made question more clear. thanks for the efforts.","body":"@BrettWalker ok I made question more clear. thanks for the efforts."}],"tags":[],"owner":{"account_id":466160,"reputation":3576,"user_id":870743,"accept_rate":100,"display_name":"Brett Walker"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434457442,"creation_date":1434456660,"answer_id":30867218,"question_id":30867059,"body_markdown":"Let&#39;s say that you have 5 batch update statements. The execution of each them is to update 20 records, known in advance.\r\n\r\nThe execution of the batch of update statements occurs without a `BatchUpdateException`, or a `SQLException` being thrown.\r\n\r\nIf any of the elements in the returned int array is not 20 then you known there has been unexpected behaviour. This could be seen as a failure.\r\n\r\n**EDIT**\r\n\r\nFrom the [JavaDoc][1] of the BatchUpdateExcpetion (The highlights are my addition)\r\n\r\n&gt; After a command in a batch update fails to execute properly and a\r\n&gt; BatchUpdateException is thrown, the driver **may or may not** continue to\r\n&gt; process the remaining commands in the batch. If the driver continues\r\n&gt; processing after a failure, the array returned by the method\r\n&gt; BatchUpdateException.getUpdateCounts will have an element for every\r\n&gt; command in the batch rather than only elements for the commands that\r\n&gt; executed successfully before the error. In the case where the driver\r\n&gt; stops *[ed]* processing commands, the array element for any command that\r\n&gt; failed is Statement.EXECUTE_FAILED.\r\n\r\n\r\nMy understanding from this is that if **any** statement in the batch fails then a `BatchUpadteException` will be thrown.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html","title":"executeBatch behaviour in case of partial failure","body":"<p>Let's say that you have 5 batch update statements. The execution of each them is to update 20 records, known in advance.</p>\n\n<p>The execution of the batch of update statements occurs without a <code>BatchUpdateException</code>, or a <code>SQLException</code> being thrown.</p>\n\n<p>If any of the elements in the returned int array is not 20 then you known there has been unexpected behaviour. This could be seen as a failure.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html\" rel=\"nofollow\">JavaDoc</a> of the BatchUpdateExcpetion (The highlights are my addition)</p>\n\n<blockquote>\n  <p>After a command in a batch update fails to execute properly and a\n  BatchUpdateException is thrown, the driver <strong>may or may not</strong> continue to\n  process the remaining commands in the batch. If the driver continues\n  processing after a failure, the array returned by the method\n  BatchUpdateException.getUpdateCounts will have an element for every\n  command in the batch rather than only elements for the commands that\n  executed successfully before the error. In the case where the driver\n  stops <em>[ed]</em> processing commands, the array element for any command that\n  failed is Statement.EXECUTE_FAILED.</p>\n</blockquote>\n\n<p>My understanding from this is that if <strong>any</strong> statement in the batch fails then a <code>BatchUpadteException</code> will be thrown.</p>\n"},{"comments":[{"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"score":0,"creation_date":1434543638,"post_id":30880185,"comment_id":49822009,"body_markdown":"as I stated in question, my problem is although I dont get anyexception, I cant see some records are not inserted. May be executeUpdate() returns error for not inserted records but code does not handle that. My question is in what situation it throws error, and in what situation it does not throw error instead flag record as failed.","body":"as I stated in question, my problem is although I dont get anyexception, I cant see some records are not inserted. May be executeUpdate() returns error for not inserted records but code does not handle that. My question is in what situation it throws error, and in what situation it does not throw error instead flag record as failed."},{"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"score":0,"creation_date":1434576952,"post_id":30880185,"comment_id":49844523,"body_markdown":"executeBatch() always throws an exception if one of the elements in the batch fails to execute. That&#39;s per the JDBC spec.","body":"executeBatch() always throws an exception if one of the elements in the batch fails to execute. That&#39;s per the JDBC spec."}],"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434498957,"creation_date":1434498957,"answer_id":30880185,"question_id":30867059,"body_markdown":"The Oracle JDBC driver throws a BatchUpdateException if an error occurs in the middle of the batch.\r\n\r\nFor example let&#39;s assume you&#39;re sending a batch with 10 entries (10 rows to insert in your case). Entries #0 through #4 are successful.  Entry #5 hits an error such as a primary key violation. The execution stops at 5 and the driver throws a BatchUpdateException. If you call getUpdateCounts() you&#39;ll get an array of size 10 with 5 SUCCESS_NO_INFO and 5 EXECUTE_FAILED.\r\n\r\nNote that starting in 12c (database and driver) you can get an update count for each element of the batch. This is more useful when you&#39;re executing updates in a batch. For each element in the batch you can know how many rows have been updated.","title":"executeBatch behaviour in case of partial failure","body":"<p>The Oracle JDBC driver throws a BatchUpdateException if an error occurs in the middle of the batch.</p>\n\n<p>For example let's assume you're sending a batch with 10 entries (10 rows to insert in your case). Entries #0 through #4 are successful.  Entry #5 hits an error such as a primary key violation. The execution stops at 5 and the driver throws a BatchUpdateException. If you call getUpdateCounts() you'll get an array of size 10 with 5 SUCCESS_NO_INFO and 5 EXECUTE_FAILED.</p>\n\n<p>Note that starting in 12c (database and driver) you can get an update count for each element of the batch. This is more useful when you're executing updates in a batch. For each element in the batch you can know how many rows have been updated.</p>\n"},{"tags":[],"owner":{"account_id":20153094,"reputation":265,"user_id":14779967,"display_name":"Shantesh Sindgi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666286366,"creation_date":1666286366,"answer_id":74143904,"question_id":30867059,"body_markdown":"I handled the error in this way,hope this helps.\r\nWe get an integer array in exception by calling getUpdateCounts (-3 value indicates the query has failed or you can check by Statement.EXECUTE_FAILED).So you can loop through the array and find out at which index the query has failed and map that index to your query list. In this way you can find out which queries got failed.\r\n\r\n    db.withTransaction {\r\n                try {\r\n                    db.withBatch () { stmt -&gt;\r\n                        finalQueries.each {\r\n                            log.debug(&quot;Query : ${it}&quot;)\r\n                            try {\r\n                                stmt.addBatch(it);\r\n                            } catch (Exception e) {\r\n                                log.error(&quot;Error while executing query&quot;, e.getMessage());\r\n                                errors.add(e.getMessage());\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Error in query &quot;, e.getMessage())\r\n                    def res = e.getUpdateCounts();\r\n                    res.each {\r\n                        if(it == Statement.EXECUTE_FAILED) {\r\n                            errors.add(&quot;Error in query : &quot; + finalQueries[it]);\r\n                        }\r\n                    }\r\n                    errors.add(e.getMessage());\r\n                }\r\n            \r\n\r\nfinalQueries contains all the queries.\r\n\r\n    [\r\n        &quot;set sql_safe_updates=0;&quot;,\r\n        &quot;Update users set ACCOUNTLOCKE = 0 where userkey = 27;&quot;,\r\n        &quot;Update users set asd = 0 where userkey = 28;&quot;,\r\n        &quot;Update users set city = &#39;solapur&#39; where userkey = 29;&quot;,\r\n        &quot;set sql_safe_updates=1;&quot; \r\n    ]","title":"executeBatch behaviour in case of partial failure","body":"<p>I handled the error in this way,hope this helps.\nWe get an integer array in exception by calling getUpdateCounts (-3 value indicates the query has failed or you can check by Statement.EXECUTE_FAILED).So you can loop through the array and find out at which index the query has failed and map that index to your query list. In this way you can find out which queries got failed.</p>\n<pre><code>db.withTransaction {\n            try {\n                db.withBatch () { stmt -&gt;\n                    finalQueries.each {\n                        log.debug(&quot;Query : ${it}&quot;)\n                        try {\n                            stmt.addBatch(it);\n                        } catch (Exception e) {\n                            log.error(&quot;Error while executing query&quot;, e.getMessage());\n                            errors.add(e.getMessage());\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                log.error(&quot;Error in query &quot;, e.getMessage())\n                def res = e.getUpdateCounts();\n                res.each {\n                    if(it == Statement.EXECUTE_FAILED) {\n                        errors.add(&quot;Error in query : &quot; + finalQueries[it]);\n                    }\n                }\n                errors.add(e.getMessage());\n            }\n        \n</code></pre>\n<p>finalQueries contains all the queries.</p>\n<pre><code>[\n    &quot;set sql_safe_updates=0;&quot;,\n    &quot;Update users set ACCOUNTLOCKE = 0 where userkey = 27;&quot;,\n    &quot;Update users set asd = 0 where userkey = 28;&quot;,\n    &quot;Update users set city = 'solapur' where userkey = 29;&quot;,\n    &quot;set sql_safe_updates=1;&quot; \n]\n</code></pre>\n"}],"owner":{"account_id":538344,"reputation":2697,"user_id":906402,"accept_rate":38,"display_name":"cacert"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10628,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1666286366,"creation_date":1434456273,"question_id":30867059,"body_markdown":"I have a java 1.6 application which use batch insert for inserting records in Oracle db using jdbc driver. As you know on Statement object there is a method called executeBatch() which we use for batch updates. It has a return type of int array which has result of execution for each record in it. But it also throws BatchUpdateException in case of error and we can get result int array from that too. My question is in what error situations I should expect BatchUpdateException and when I should expect there is no exception thrown but for some records I get failure.  \r\n\r\nNote: Question is spesifically for Oracle JDBC.\r\nAnd to make it more clear, I have seen situations that after executing executeBatch() I did not get BatchUpdateException however some of the insert statements failed. My question was about in what situation that can occur ?   \r\n\r\nThis is the return javadoc of Statement.executeBatch() method. According to the general opinion here when one entry fails, execution throws  BatchUpdateException then in which condition we can expect some entries in return array failed. \r\n\r\n          * @return an array of update counts, with one entry for each command in the\r\n     *         batch. The elements are ordered according to the order in which\r\n     *         the commands were added to the batch.\r\n     *         &lt;p&gt;\r\n     *         &lt;ol&gt;\r\n     *         &lt;li&gt; If the value of an element is &gt;=0, the corresponding command\r\n     *         completed successfully and the value is the update count for that\r\n     *         command, which is the number of rows in the database affected by\r\n     *         the command.&lt;/li&gt;\r\n     *         &lt;li&gt; If the value is SUCCESS_NO_INFO, the command completed\r\n     *         successfully but the number of rows affected is unknown.\r\n     *         &lt;li&gt;\r\n     *         &lt;li&gt; If the value is EXECUTE_FAILED, the command failed.\r\n     *         &lt;/ol&gt;\r\n     * @throws SQLException\r\n     *             if an error occurs accessing the database\r\n     */\r\n    public int[] executeBatch() throws SQLException;\r\n","title":"executeBatch behaviour in case of partial failure","body":"<p>I have a java 1.6 application which use batch insert for inserting records in Oracle db using jdbc driver. As you know on Statement object there is a method called executeBatch() which we use for batch updates. It has a return type of int array which has result of execution for each record in it. But it also throws BatchUpdateException in case of error and we can get result int array from that too. My question is in what error situations I should expect BatchUpdateException and when I should expect there is no exception thrown but for some records I get failure.  </p>\n\n<p>Note: Question is spesifically for Oracle JDBC.\nAnd to make it more clear, I have seen situations that after executing executeBatch() I did not get BatchUpdateException however some of the insert statements failed. My question was about in what situation that can occur ?   </p>\n\n<p>This is the return javadoc of Statement.executeBatch() method. According to the general opinion here when one entry fails, execution throws  BatchUpdateException then in which condition we can expect some entries in return array failed. </p>\n\n<pre><code>      * @return an array of update counts, with one entry for each command in the\n *         batch. The elements are ordered according to the order in which\n *         the commands were added to the batch.\n *         &lt;p&gt;\n *         &lt;ol&gt;\n *         &lt;li&gt; If the value of an element is &gt;=0, the corresponding command\n *         completed successfully and the value is the update count for that\n *         command, which is the number of rows in the database affected by\n *         the command.&lt;/li&gt;\n *         &lt;li&gt; If the value is SUCCESS_NO_INFO, the command completed\n *         successfully but the number of rows affected is unknown.\n *         &lt;li&gt;\n *         &lt;li&gt; If the value is EXECUTE_FAILED, the command failed.\n *         &lt;/ol&gt;\n * @throws SQLException\n *             if an error occurs accessing the database\n */\npublic int[] executeBatch() throws SQLException;\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","linkedin-api"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":1,"creation_date":1666185997,"post_id":74125835,"comment_id":130875873,"body_markdown":"Could you provide the link to the documentation of the LinkedIn API endpoint you are trying to upload your file?","body":"Could you provide the link to the documentation of the LinkedIn API endpoint you are trying to upload your file?"},{"owner":{"account_id":1150165,"reputation":1554,"user_id":1132056,"accept_rate":43,"display_name":"Bruce_Wayne"},"score":0,"creation_date":1666186129,"post_id":74125835,"comment_id":130875932,"body_markdown":"@mrkachariker https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/images-api?view=li-lms-2022-10&amp;tabs=http","body":"@mrkachariker <a href=\"https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/images-api?view=li-lms-2022-10&amp;tabs=http\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/linkedin/marketing/integrations/&hellip;</a>"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666188944,"post_id":74125835,"comment_id":130877157,"body_markdown":"Did you try adding Content-Type: image/jpeg instead of multipart?","body":"Did you try adding Content-Type: image/jpeg instead of multipart?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1666233130,"post_id":74125835,"comment_id":130889065,"body_markdown":"Don‚Äôt post a map as the body, just post the image. That‚Äôs what the curl does.","body":"Don‚Äôt post a map as the body, just post the image. That‚Äôs what the curl does."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667907077,"post_id":74125835,"comment_id":131274635,"body_markdown":"Hey @Bruce_Wayne did my answer help you in solving the problem? If so I would appreciate it if you chose it as correct!","body":"Hey @Bruce_Wayne did my answer help you in solving the problem? If so I would appreciate it if you chose it as correct!"}],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666233044,"post_id":74133732,"comment_id":130889046,"body_markdown":"‚Äú_using RestTemplate is discouraged_‚Äù can you cite your source here? I‚Äôm not aware of such a deprecation.","body":"‚Äú<i>using RestTemplate is discouraged</i>‚Äù can you cite your source here? I‚Äôm not aware of such a deprecation."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666233196,"post_id":74133732,"comment_id":130889075,"body_markdown":"[NOTE: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the org.springframework.web.reactive.client.WebClient which has a more modern API and supports sync, async, and streaming scenarios.](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html)","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">NOTE: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the org.springframework.web.reactive.client.WebClient which has a more modern API and supports sync, async, and streaming scenarios.</a>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666239047,"post_id":74133732,"comment_id":130889917,"body_markdown":"Thanks, but since they don‚Äôt publish the WebClient as a separate artifact, you‚Äôve to bring in the whole reactive web baggage simply to use that one class.","body":"Thanks, but since they don‚Äôt publish the WebClient as a separate artifact, you‚Äôve to bring in the whole reactive web baggage simply to use that one class."}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666232190,"creation_date":1666232190,"answer_id":74133732,"question_id":74125835,"body_markdown":"You can try something like the following:\r\n1- Generate and print/get the url that the image has to be uploaded to (first part of the upload process). \r\n2- Try to upload it by using the curl tool, just like in the docs.\r\nIf 2 works then you know the preceding step is working fine and the problem is on the method you posted. Otherwise, you know you have to look elsewhere (steps before 2).\r\n\r\nIn the case that curl works, then it might just be that the server of the upload link accepts requests not in HTTP(S) but FTP or something similar. In that case you would need to find a solution for that protocol. \r\n\r\nRegarding your current implementation: \r\n- using RestTemplate is discouraged since it will soon no longer be supported. \r\n- use `WebClient`instead: [link to defining the body of a request](https://www.baeldung.com/spring-5-webclient#5-preparing-a-request---define-the-body)\r\n- don&#39;t use MultiValueMap since it adds the file as a key-value pair and judging from the example on the docs there is no &quot;file&quot; key like you have defined.\r\n\r\nAs a last resort, in case the curl call works and nothing else does, you could create a simple Bash/Shell script that is called only for part 2 of the process. Happy coding! :)","title":"Unable to upload image to LinkedIn via Spring RestTemplate, Getting 400 Bad Request: [no body]","body":"<p>You can try something like the following:\n1- Generate and print/get the url that the image has to be uploaded to (first part of the upload process).\n2- Try to upload it by using the curl tool, just like in the docs.\nIf 2 works then you know the preceding step is working fine and the problem is on the method you posted. Otherwise, you know you have to look elsewhere (steps before 2).</p>\n<p>In the case that curl works, then it might just be that the server of the upload link accepts requests not in HTTP(S) but FTP or something similar. In that case you would need to find a solution for that protocol.</p>\n<p>Regarding your current implementation:</p>\n<ul>\n<li>using RestTemplate is discouraged since it will soon no longer be supported.</li>\n<li>use <code>WebClient</code>instead: <a href=\"https://www.baeldung.com/spring-5-webclient#5-preparing-a-request---define-the-body\" rel=\"nofollow noreferrer\">link to defining the body of a request</a></li>\n<li>don't use MultiValueMap since it adds the file as a key-value pair and judging from the example on the docs there is no &quot;file&quot; key like you have defined.</li>\n</ul>\n<p>As a last resort, in case the curl call works and nothing else does, you could create a simple Bash/Shell script that is called only for part 2 of the process. Happy coding! :)</p>\n"},{"tags":[],"owner":{"account_id":1150165,"reputation":1554,"user_id":1132056,"accept_rate":43,"display_name":"Bruce_Wayne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666285510,"creation_date":1666285510,"answer_id":74143725,"question_id":74125835,"body_markdown":"Found the solution, actually using `ByteArrayResource` and right `content-type` solved the problem, here is the updated code \r\n\r\n    private void uploadImage(MultipartFile file, String token, String uploadURL) throws IOException {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n        headers.add(&quot;X-Restli-Protocol-Version&quot;, &quot;2.0.0&quot;);\r\n        headers.add(&quot;Content-Type&quot;, file.getContentType());\r\n\r\n        ByteArrayResource bytes = new ByteArrayResource(file.getBytes()) {\r\n            @Override\r\n            public String getFilename() {\r\n                return file.getName();\r\n            }\r\n        };\r\n        HttpEntity&lt;ByteArrayResource&gt; reqEntity = new HttpEntity&lt;ByteArrayResource&gt;(bytes, headers);\r\n        try {\r\n            ResponseEntity&lt;String&gt; imageUpload = new RestTemplate().exchange(uploadURL, HttpMethod.PUT, reqEntity, String.class);\r\n        } catch (HttpClientErrorException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nI refereed this [question][1] for insights. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29184215/resttemplate-form-multipart-image-json-in-post","title":"Unable to upload image to LinkedIn via Spring RestTemplate, Getting 400 Bad Request: [no body]","body":"<p>Found the solution, actually using <code>ByteArrayResource</code> and right <code>content-type</code> solved the problem, here is the updated code</p>\n<pre><code>private void uploadImage(MultipartFile file, String token, String uploadURL) throws IOException {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n    headers.add(&quot;X-Restli-Protocol-Version&quot;, &quot;2.0.0&quot;);\n    headers.add(&quot;Content-Type&quot;, file.getContentType());\n\n    ByteArrayResource bytes = new ByteArrayResource(file.getBytes()) {\n        @Override\n        public String getFilename() {\n            return file.getName();\n        }\n    };\n    HttpEntity&lt;ByteArrayResource&gt; reqEntity = new HttpEntity&lt;ByteArrayResource&gt;(bytes, headers);\n    try {\n        ResponseEntity&lt;String&gt; imageUpload = new RestTemplate().exchange(uploadURL, HttpMethod.PUT, reqEntity, String.class);\n    } catch (HttpClientErrorException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I refereed this <a href=\"https://stackoverflow.com/questions/29184215/resttemplate-form-multipart-image-json-in-post\">question</a> for insights.</p>\n"}],"owner":{"account_id":1150165,"reputation":1554,"user_id":1132056,"accept_rate":43,"display_name":"Bruce_Wayne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666285510,"creation_date":1666184644,"question_id":74125835,"body_markdown":"Hi I am trying to upload an image to Linkedin via Spring RestTemplate, the steps followed are as follows\r\n1.Initialize the upload and the upload url\r\n2.Use the upload url to PUT the image linked in server\r\n\r\nbelow is the method for step 2\r\n\r\n    public String uploadImageToURL(MultipartFile file, String uploadURL) throws IOException {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        headers.add(&quot;Authorization&quot;, &quot;Bearer Redacted&quot;);\r\n\r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;file&quot;, file.getBytes());\r\n\r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; reqEntity = new HttpEntity&lt;&gt;(body, headers);\r\n        try {\r\n            ResponseEntity&lt;String&gt; resp = new RestTemplate().exchange(uploadURL, HttpMethod.PUT, reqEntity, String.class);\r\n        } catch (HttpClientErrorException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nthe method is giving - \r\n\r\n    org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: [no body]\r\n\r\nI am not able to figure out what&#39;s wrong here also from the documentation of linkedin apis its not clear they have given a basic curl request which working fine on postman but programmatically its not working\r\n\r\n[Curl][1] for the above method as per documentation\r\n\r\nAny help is appreciated, I have tried giving content-type to header as image/png but no effect.\r\n\r\n\r\nPS: I have already referred this link https://stackoverflow.com/questions/64871730/linkedin-v2-api-image-upload-get-error-400-bad-request but its not helping\r\n\r\n  [1]: https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/vector-asset-api?view=li-lms-2022-10&amp;tabs=http#sample-curl-request","title":"Unable to upload image to LinkedIn via Spring RestTemplate, Getting 400 Bad Request: [no body]","body":"<p>Hi I am trying to upload an image to Linkedin via Spring RestTemplate, the steps followed are as follows\n1.Initialize the upload and the upload url\n2.Use the upload url to PUT the image linked in server</p>\n<p>below is the method for step 2</p>\n<pre><code>public String uploadImageToURL(MultipartFile file, String uploadURL) throws IOException {\n    HttpHeaders headers = new HttpHeaders();\n    headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    headers.add(&quot;Authorization&quot;, &quot;Bearer Redacted&quot;);\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;file&quot;, file.getBytes());\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; reqEntity = new HttpEntity&lt;&gt;(body, headers);\n    try {\n        ResponseEntity&lt;String&gt; resp = new RestTemplate().exchange(uploadURL, HttpMethod.PUT, reqEntity, String.class);\n    } catch (HttpClientErrorException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>the method is giving -</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: [no body]\n</code></pre>\n<p>I am not able to figure out what's wrong here also from the documentation of linkedin apis its not clear they have given a basic curl request which working fine on postman but programmatically its not working</p>\n<p><a href=\"https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/vector-asset-api?view=li-lms-2022-10&amp;tabs=http#sample-curl-request\" rel=\"nofollow noreferrer\">Curl</a> for the above method as per documentation</p>\n<p>Any help is appreciated, I have tried giving content-type to header as image/png but no effect.</p>\n<p>PS: I have already referred this link <a href=\"https://stackoverflow.com/questions/64871730/linkedin-v2-api-image-upload-get-error-400-bad-request\">Linkedin v2 API Image upload get error 400 Bad Request</a> but its not helping</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666284381,"post_id":74143375,"comment_id":130905813,"body_markdown":"When you have a question about an exception, you should include the exception in your question. Usually, a `NotSerializableException` includes the problematic class in its message. As a general advice, you should not ‚Äúhandle‚Äù exceptions by catching and printing them and proceeding as if nothing happened. And use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to close streams rather than manual `close()` calls. And do not use dice for deciding whether a variable should be `static` or not.","body":"When you have a question about an exception, you should include the exception in your question. Usually, a <code>NotSerializableException</code> includes the problematic class in its message. As a general advice, you should not ‚Äúhandle‚Äù exceptions by catching and printing them and proceeding as if nothing happened. And use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to close streams rather than manual <code>close()</code> calls. And do not use dice for deciding whether a variable should be <code>static</code> or not."},{"owner":{"account_id":26595016,"reputation":1,"user_id":20217522,"display_name":"Sajjad Rezai"},"score":0,"creation_date":1666286744,"post_id":74143375,"comment_id":130906719,"body_markdown":"go to this link:\n[https://stackoverflow.com/questions/6576914/notserializableexception-for-toolkitimage-when-serializing-a-model-in-swing](https://stackoverflow.com/questions/6576914/notserializableexception-for-toolkitimage-when-serializing-a-model-in-swing)","body":"go to this link: <a href=\"https://stackoverflow.com/questions/6576914/notserializableexception-for-toolkitimage-when-serializing-a-model-in-swing\">https://stackoverflow.com/questions/6576914/notserializablee&zwnj;&#8203;xception-for-toolkit&zwnj;&#8203;image-when-serializi&zwnj;&#8203;ng-a-model-in-swing</a>"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1666289421,"post_id":74143375,"comment_id":130907658,"body_markdown":"Static fields don&#39;t belong to the object and won&#39;t get serialized.","body":"Static fields don&#39;t belong to the object and won&#39;t get serialized."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1666289459,"post_id":74143375,"comment_id":130907673,"body_markdown":"There are three `writeObject0()` calls in your stacktrace. The problem therefore must be an object indirectly referenced from your `Player` class (`Player` - some intermediate class - `Image` or `ToolkitImage`). Probably a field in the `Location` class. The objects in the `weapons` and `consumables` lists are irrelevant - these are static fields that are not serialized.","body":"There are three <code>writeObject0()</code> calls in your stacktrace. The problem therefore must be an object indirectly referenced from your <code>Player</code> class (<code>Player</code> - some intermediate class - <code>Image</code> or <code>ToolkitImage</code>). Probably a field in the <code>Location</code> class. The objects in the <code>weapons</code> and <code>consumables</code> lists are irrelevant - these are static fields that are not serialized."}],"answers":[{"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1666289849,"post_id":74143710,"comment_id":130907807,"body_markdown":"Guessing the problem is in Location. The others are in static fields so will be ignored.","body":"Guessing the problem is in Location. The others are in static fields so will be ignored."}],"tags":[],"owner":{"account_id":26059978,"reputation":1,"user_id":19761494,"display_name":"budiman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666285414,"creation_date":1666285414,"answer_id":74143710,"question_id":74143375,"body_markdown":"I&#39;m not really an Expert on this issue, but when serializing an object in Java every object that you created must implement Serializable. As I&#39;ve understood, this interface is responsible for the &#39;Serializer&#39; to know the blueprint of your custom object. \r\nYou are using Weapon and Consumable (I assume those are your objects) and maybe these classes don&#39;t implement &#39;Serializable&#39;. \r\nMight be worth checking this :) ","title":"serialization not working in java, java.io.NotSerializableException","body":"<p>I'm not really an Expert on this issue, but when serializing an object in Java every object that you created must implement Serializable. As I've understood, this interface is responsible for the 'Serializer' to know the blueprint of your custom object.\nYou are using Weapon and Consumable (I assume those are your objects) and maybe these classes don't implement 'Serializable'.\nMight be worth checking this :)</p>\n"}],"owner":{"account_id":26683297,"reputation":1,"user_id":20292975,"display_name":"Carl Gombert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666289636,"answer_count":1,"score":-1,"last_activity_date":1666285414,"creation_date":1666283624,"question_id":74143375,"body_markdown":"I am trying to serialize an object and my program keeps throwing java.io.NotSerializableException. I followed a few online tutorials and I&#39;m unsure what I am doing wrong.\r\n\r\nhere is my class where my serialization methods are\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.util.ArrayList;\r\n\r\n    public class Save {\r\n\t\r\n\t    public static ArrayList&lt;String&gt; Saves = new ArrayList&lt;String&gt;();\r\n\t    private static final String filePath = &quot;/Users/carlgombert/eclipse-workspace/CerberusCryptSwing/saves/&quot;;\r\n\t\r\n\t    public Save() {\r\n\t\t\r\n\t    }\r\n\t\r\n\t    public void SaveGame(String name) throws FileNotFoundException, IOException{\r\n\t\t    String fileName = (filePath + name + &quot;.svr&quot;);\r\n\t\t    FileOutputStream userSaveFile = new FileOutputStream(fileName);\r\n\t        ObjectOutputStream playerSaver = new ObjectOutputStream(userSaveFile);\r\n\t        playerSaver.writeObject(Main.player);\r\n\t        userSaveFile.close();\r\n\t        playerSaver.close();\r\n\t        LoadGame(name);\r\n\t    }\r\n\t\r\n\t    public void LoadGame(String name) throws FileNotFoundException, IOException{\r\n\t\t    String fileName = (filePath + name + &quot;.svr&quot;);\r\n\t\t    FileInputStream userLoadFile = new FileInputStream(fileName); \r\n            ObjectInputStream playerLoader = new ObjectInputStream(userLoadFile);\r\n            try {\r\n\t\t\t    Main.player = (Player)playerLoader.readObject();\r\n\t\t    } catch (ClassNotFoundException | IOException e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n            userLoadFile.close();\r\n\t        playerLoader.close();\r\n            System.out.println(Main.player);\r\n\t    }\r\n    }\r\n\r\nand here is my class I am trying to serialize(most of the code here doesn&#39;t matter to the issue)\r\n\r\n\r\n    import java.io.Serializable;\r\n    import java.util.*;\r\n    \r\n    public class Player implements Serializable{\r\n        static ArrayList&lt;Weapon&gt; weapons = new ArrayList&lt;Weapon&gt;();\r\n        static ArrayList&lt;Consumable&gt; consumables = new ArrayList&lt;Consumable&gt;();\r\n        private int health;\r\n        private int gold;\r\n        private static int damage;\r\n        private Location location;\r\n        private static final long serialVersionUID = 3L;\r\n        \r\n        public Player(int health, int gold, Location location){\r\n            this.health = health;\r\n            this.gold = gold;\r\n            this.location = location;\r\n            damage = 20;\r\n        }\r\n        \r\n        public Location getLocation(){\r\n            return location;\r\n        }\r\n        \r\n        public void setLocation(Location location){\r\n            this.location = location;\r\n        }\r\n        \r\n        public int getDamage(){\r\n            return damage;\r\n        }\r\n        \r\n        public int getHealth(){\r\n            return health;\r\n        }\r\n        \r\n        public void setHealth(int health){\r\n            this.health = health;\r\n            if(this.health &gt; 100){\r\n                this.health = 100;\r\n            }\r\n        }\r\n        \r\n        public int getGold(){\r\n            return gold;\r\n        }\r\n        \r\n        public void setGold(int gold){\r\n            this.gold = gold;\r\n        }\r\n        \r\n        public void addGold(int gold){\r\n            this.gold += gold;\r\n        }\r\n        \r\n        public void addConsumable(Consumable consumable){\r\n            consumables.add(consumable);\r\n        }\r\n        \r\n        public void clearConsumables(){\r\n            consumables.clear();\r\n        }\r\n        \r\n        public void wipeInventory(){\r\n            consumables.clear();\r\n            weapons.clear();\r\n        }\r\n        \r\n        public void eat(int i){\r\n            health += consumables.get(i).getHealing();\r\n            if(health &gt; 100){\r\n                health = 100;\r\n            }\r\n            consumables.remove(i);\r\n        }\r\n        \r\n        public void consumableMenu(){\r\n            int i = 0;\r\n            for(Consumable x: consumables){\r\n                System.out.println(&quot;[&quot; + (i + 1) + &quot;]&quot; + x.getName() + &quot;(healing: &quot; + x.getHealing() + &quot;)&quot;);\r\n                i++;\r\n            }\r\n        }\r\n        \r\n        public void damage(int damage){\r\n            health = health - damage;\r\n        }\r\n        \r\n        public void attack(Mob mob){\r\n            mob.damage(damage);\r\n        }\r\n        \r\n        \r\n        public void inventory(){\r\n            if(weapons.size() == 0 &amp;&amp; consumables.size() == 0){\r\n                System.out.println(&quot;empty&quot;);\r\n            }\r\n            else{\r\n                for(Weapon x: weapons){\r\n                    System.out.println(x);\r\n                }\r\n                for(Consumable x: consumables){\r\n                    System.out.println(x);\r\n                }\r\n            }\r\n        }\r\n        \r\n        public static void addWeapon(Weapon weapon){\r\n            weapons.add(weapon);\r\n        }\r\n        \r\n        public String toString() {\r\n        \treturn &quot;health: &quot; + health + &quot;, gold: &quot; + gold;\r\n        }\r\n    }\r\n\r\nand here is where I am calling the method from\r\n\r\n    if(e.getSource()==saveEnterButton) {\r\n    \t\t\ttry {\r\n    \t\t\t\tsave.SaveGame(saveTextField.getText());\r\n    \t\t\t} catch (FileNotFoundException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t} catch (IOException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tsaveTextField.setText(&quot;&quot;);\r\n    \t\t}\r\n\r\nhere is the error message it throws\r\n\r\n    java.io.NotSerializableException: sun.awt.image.ToolkitImage\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n    \tat com.cerberuscryptswing.main.Save.SaveGame(Save.java:24)\r\n    \tat com.cerberuscryptswing.main.Frame.actionPerformed(Frame.java:245)\r\n    \tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n    \tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n    \tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n    \tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n    \tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n    \tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n    \tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n    \tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n    \tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nI&#39;m sorry for the lack of comments in my code, can anyone help me to resolve this issue?\r\n","title":"serialization not working in java, java.io.NotSerializableException","body":"<p>I am trying to serialize an object and my program keeps throwing java.io.NotSerializableException. I followed a few online tutorials and I'm unsure what I am doing wrong.</p>\n<p>here is my class where my serialization methods are</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.util.ArrayList;\n\npublic class Save {\n\n    public static ArrayList&lt;String&gt; Saves = new ArrayList&lt;String&gt;();\n    private static final String filePath = &quot;/Users/carlgombert/eclipse-workspace/CerberusCryptSwing/saves/&quot;;\n\n    public Save() {\n    \n    }\n\n    public void SaveGame(String name) throws FileNotFoundException, IOException{\n        String fileName = (filePath + name + &quot;.svr&quot;);\n        FileOutputStream userSaveFile = new FileOutputStream(fileName);\n        ObjectOutputStream playerSaver = new ObjectOutputStream(userSaveFile);\n        playerSaver.writeObject(Main.player);\n        userSaveFile.close();\n        playerSaver.close();\n        LoadGame(name);\n    }\n\n    public void LoadGame(String name) throws FileNotFoundException, IOException{\n        String fileName = (filePath + name + &quot;.svr&quot;);\n        FileInputStream userLoadFile = new FileInputStream(fileName); \n        ObjectInputStream playerLoader = new ObjectInputStream(userLoadFile);\n        try {\n            Main.player = (Player)playerLoader.readObject();\n        } catch (ClassNotFoundException | IOException e) {\n            e.printStackTrace();\n        }\n        userLoadFile.close();\n        playerLoader.close();\n        System.out.println(Main.player);\n    }\n}\n</code></pre>\n<p>and here is my class I am trying to serialize(most of the code here doesn't matter to the issue)</p>\n<pre><code>import java.io.Serializable;\nimport java.util.*;\n\npublic class Player implements Serializable{\n    static ArrayList&lt;Weapon&gt; weapons = new ArrayList&lt;Weapon&gt;();\n    static ArrayList&lt;Consumable&gt; consumables = new ArrayList&lt;Consumable&gt;();\n    private int health;\n    private int gold;\n    private static int damage;\n    private Location location;\n    private static final long serialVersionUID = 3L;\n    \n    public Player(int health, int gold, Location location){\n        this.health = health;\n        this.gold = gold;\n        this.location = location;\n        damage = 20;\n    }\n    \n    public Location getLocation(){\n        return location;\n    }\n    \n    public void setLocation(Location location){\n        this.location = location;\n    }\n    \n    public int getDamage(){\n        return damage;\n    }\n    \n    public int getHealth(){\n        return health;\n    }\n    \n    public void setHealth(int health){\n        this.health = health;\n        if(this.health &gt; 100){\n            this.health = 100;\n        }\n    }\n    \n    public int getGold(){\n        return gold;\n    }\n    \n    public void setGold(int gold){\n        this.gold = gold;\n    }\n    \n    public void addGold(int gold){\n        this.gold += gold;\n    }\n    \n    public void addConsumable(Consumable consumable){\n        consumables.add(consumable);\n    }\n    \n    public void clearConsumables(){\n        consumables.clear();\n    }\n    \n    public void wipeInventory(){\n        consumables.clear();\n        weapons.clear();\n    }\n    \n    public void eat(int i){\n        health += consumables.get(i).getHealing();\n        if(health &gt; 100){\n            health = 100;\n        }\n        consumables.remove(i);\n    }\n    \n    public void consumableMenu(){\n        int i = 0;\n        for(Consumable x: consumables){\n            System.out.println(&quot;[&quot; + (i + 1) + &quot;]&quot; + x.getName() + &quot;(healing: &quot; + x.getHealing() + &quot;)&quot;);\n            i++;\n        }\n    }\n    \n    public void damage(int damage){\n        health = health - damage;\n    }\n    \n    public void attack(Mob mob){\n        mob.damage(damage);\n    }\n    \n    \n    public void inventory(){\n        if(weapons.size() == 0 &amp;&amp; consumables.size() == 0){\n            System.out.println(&quot;empty&quot;);\n        }\n        else{\n            for(Weapon x: weapons){\n                System.out.println(x);\n            }\n            for(Consumable x: consumables){\n                System.out.println(x);\n            }\n        }\n    }\n    \n    public static void addWeapon(Weapon weapon){\n        weapons.add(weapon);\n    }\n    \n    public String toString() {\n        return &quot;health: &quot; + health + &quot;, gold: &quot; + gold;\n    }\n}\n</code></pre>\n<p>and here is where I am calling the method from</p>\n<pre><code>if(e.getSource()==saveEnterButton) {\n            try {\n                save.SaveGame(saveTextField.getText());\n            } catch (FileNotFoundException e1) {\n                e1.printStackTrace();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n            saveTextField.setText(&quot;&quot;);\n        }\n</code></pre>\n<p>here is the error message it throws</p>\n<pre><code>java.io.NotSerializableException: sun.awt.image.ToolkitImage\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n    at com.cerberuscryptswing.main.Save.SaveGame(Save.java:24)\n    at com.cerberuscryptswing.main.Frame.actionPerformed(Frame.java:245)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>I'm sorry for the lack of comments in my code, can anyone help me to resolve this issue?</p>\n"},{"tags":["java","garbage-collection","shenandoah"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1614131776,"post_id":66333767,"comment_id":117289906,"body_markdown":"are you sure you have not download an oracle jdk and not openjdk? we use openjdk in production, without the `-XX:+UnlockExperimentalVMOptions` at all.","body":"are you sure you have not download an oracle jdk and not openjdk? we use openjdk in production, without the <code>-XX:+UnlockExperimentalVMOptions</code> at all."},{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":0,"creation_date":1614168732,"post_id":66333767,"comment_id":117302110,"body_markdown":"Yep, neither Oracle JDK nor OpenJDK include it. AdoptOpenJDK does.","body":"Yep, neither Oracle JDK nor OpenJDK include it. AdoptOpenJDK does."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1614169588,"post_id":66333767,"comment_id":117302459,"body_markdown":"yeah, now it all makes sense.","body":"yeah, now it all makes sense."}],"answers":[{"comments":[{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":1,"creation_date":1614168641,"post_id":66333997,"comment_id":117302062,"body_markdown":"Extracted from item 10 &quot;However, the official OpenJDK 15 build didn‚Äôt include the Shenandoah GC (just like what happened in Java 12).&quot; Indeed, this is the reason my runtime didn&#39;t find it. AdoptOpenJDK includes it","body":"Extracted from item 10 &quot;However, the official OpenJDK 15 build didn‚Äôt include the Shenandoah GC (just like what happened in Java 12).&quot; Indeed, this is the reason my runtime didn&#39;t find it. AdoptOpenJDK includes it"}],"tags":[],"owner":{"account_id":1879505,"reputation":1608,"user_id":1700022,"display_name":"kaos"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614086609,"creation_date":1614086609,"answer_id":66333997,"question_id":66333767,"body_markdown":"From what I have read here: [What is new in Java 15][1] (point 10. JEP 379) Shenandoah GC is not included in official OpenJDK 15 release.\r\n\r\n\r\n  [1]: https://mkyong.com/java/what-is-new-in-java-15/","title":"Can&#39;t use Shenandoah GC","body":"<p>From what I have read here: <a href=\"https://mkyong.com/java/what-is-new-in-java-15/\" rel=\"nofollow noreferrer\">What is new in Java 15</a> (point 10. JEP 379) Shenandoah GC is not included in official OpenJDK 15 release.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631949998,"creation_date":1631933155,"answer_id":69231190,"question_id":66333767,"body_markdown":"The short answer is that Oracle Java and the OpenJDK Java builds available from the official OpenJDK download site DO NOT include support for the Shenandoah GC.\r\n\r\nBut the good news that many other Java 12+ builds do.  AdoptOpenJDK does.  RHEL&#39;s Java does.  Ubuntu&#39;s Java (installed from the package manager) does.  And I expect others do as well.\r\n\r\n------------------------\r\n\r\nThis situation is explained in an article on Red Hat&#39;s blog, excerpted below.\r\n\r\n[&quot;Not all OpenJDK 12 builds include Shenandoah: Here&#39;s why&quot;][1]\r\n----------------------------------------------------------\r\n\r\nDated: April 19, 2019\r\n\r\n&gt; [...]\r\n&gt;\r\n&gt; A little history: Shenandoah, a high-performance low-pause-time\r\n&gt; garbage collector, is a Red Hat-led project. When we first proposed to\r\n&gt; contribute Shenandoah to OpenJDK, Oracle made it clear that they\r\n&gt; didn&#39;t want to support it. That&#39;s fair enough: OpenJDK is free\r\n&gt; software, so you don&#39;t have to support anything you don&#39;t want. We\r\n&gt; told Oracle that we&#39;d work with them to design a really clean\r\n&gt; pluggable garbage-collector interface that allows anyone easily to\r\n&gt; select the garbage collectors to include in their builds. We did that\r\n&gt; together, and Shenandoah went in to JDK 12.\r\n&gt; \r\n&gt; Evidently Oracle has chosen not to build Shenandoah. They aren&#39;t doing\r\n&gt; anything strictly wrong by excluding it, but something doesn&#39;t feel\r\n&gt; right to me. These builds aren&#39;t supported by Oracle‚Äîyou need their\r\n&gt; commercial binaries to get support‚Äîso why exclude Shenandoah? It might\r\n&gt; simply be that they used their standard build scripts to build their\r\n&gt; open source binaries. However, in a rather feature-light OpenJDK\r\n&gt; release, I find it odd for open source builds to exclude one of the\r\n&gt; most significant contributions. I really appreciate Oracle providing\r\n&gt; GPL-licensed OpenJDK builds, but I wish they&#39;d build all of it.\r\n&gt; \r\n&gt; [...]\r\n\r\nNote that the commentary in the above is not mine, but that of the author of the blog posting.\r\n\r\n\r\n  [1]: https://developers.redhat.com/blog/2019/04/19/not-all-openjdk-12-builds-include-shenandoah-heres-why","title":"Can&#39;t use Shenandoah GC","body":"<p>The short answer is that Oracle Java and the OpenJDK Java builds available from the official OpenJDK download site DO NOT include support for the Shenandoah GC.</p>\n<p>But the good news that many other Java 12+ builds do.  AdoptOpenJDK does.  RHEL's Java does.  Ubuntu's Java (installed from the package manager) does.  And I expect others do as well.</p>\n<hr />\n<p>This situation is explained in an article on Red Hat's blog, excerpted below.</p>\n<h2><a href=\"https://developers.redhat.com/blog/2019/04/19/not-all-openjdk-12-builds-include-shenandoah-heres-why\" rel=\"nofollow noreferrer\">&quot;Not all OpenJDK 12 builds include Shenandoah: Here's why&quot;</a></h2>\n<p>Dated: April 19, 2019</p>\n<blockquote>\n<p>[...]</p>\n<p>A little history: Shenandoah, a high-performance low-pause-time\ngarbage collector, is a Red Hat-led project. When we first proposed to\ncontribute Shenandoah to OpenJDK, Oracle made it clear that they\ndidn't want to support it. That's fair enough: OpenJDK is free\nsoftware, so you don't have to support anything you don't want. We\ntold Oracle that we'd work with them to design a really clean\npluggable garbage-collector interface that allows anyone easily to\nselect the garbage collectors to include in their builds. We did that\ntogether, and Shenandoah went in to JDK 12.</p>\n<p>Evidently Oracle has chosen not to build Shenandoah. They aren't doing\nanything strictly wrong by excluding it, but something doesn't feel\nright to me. These builds aren't supported by Oracle‚Äîyou need their\ncommercial binaries to get support‚Äîso why exclude Shenandoah? It might\nsimply be that they used their standard build scripts to build their\nopen source binaries. However, in a rather feature-light OpenJDK\nrelease, I find it odd for open source builds to exclude one of the\nmost significant contributions. I really appreciate Oracle providing\nGPL-licensed OpenJDK builds, but I wish they'd build all of it.</p>\n<p>[...]</p>\n</blockquote>\n<p>Note that the commentary in the above is not mine, but that of the author of the blog posting.</p>\n"},{"comments":[{"owner":{"account_id":26684479,"reputation":1,"user_id":20293994,"display_name":"Scott"},"score":1,"creation_date":1666310051,"post_id":74143688,"comment_id":130912794,"body_markdown":"Whatever bug I stumbled onto is not limited to the OpenJDK, but I can recreate it, or at least crash the jvm, using the Azul JDK as well. Both on Windows.  \n    \n    openjdk 19.0.1 2022-10-18\n    OpenJDK Runtime Environment Zulu19.30+11-CA (build 19.0.1+10)\n    OpenJDK 64-Bit Server VM Zulu19.30+11-CA (build 19.0.1+10, mixed mode, sharing)","body":"Whatever bug I stumbled onto is not limited to the OpenJDK, but I can recreate it, or at least crash the jvm, using the Azul JDK as well. Both on Windows.            openjdk 19.0.1 2022-10-18     OpenJDK Runtime Environment Zulu19.30+11-CA (build 19.0.1+10)     OpenJDK 64-Bit Server VM Zulu19.30+11-CA (build 19.0.1+10, mixed mode, sharing)"},{"owner":{"account_id":45219,"reputation":2057,"user_id":133227,"accept_rate":67,"display_name":"Dragon"},"score":0,"creation_date":1666534023,"post_id":74143688,"comment_id":130954993,"body_markdown":"Welcome to Stack Overflow! This doesn&#39;t feel very much like an answer but letting someone know that your problem is a hard problem can be important. I think this has a chance to help someone, so I&#39;m going to leave it up.","body":"Welcome to Stack Overflow! This doesn&#39;t feel very much like an answer but letting someone know that your problem is a hard problem can be important. I think this has a chance to help someone, so I&#39;m going to leave it up."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699590911,"post_id":74143688,"comment_id":136554060,"body_markdown":"I&#39;m afraid that this is not a good answer.  1) It doesn&#39;t answer the question.  2) It actually contains a warning about a problem ... but the warning is not really *actionable*, since the limited information provide is not sufficient to characterize the problem.  A better idea would be to post the problem as a Question, including relevant code and other evidence as a [minimal reproducible example](/help/minimal-reproducible-example).   You could also submit a bug report to the supplier of your JVM ... though they will probably need a way to reproduce the bug too.","body":"I&#39;m afraid that this is not a good answer.  1) It doesn&#39;t answer the question.  2) It actually contains a warning about a problem ... but the warning is not really <i>actionable</i>, since the limited information provide is not sufficient to characterize the problem.  A better idea would be to post the problem as a Question, including relevant code and other evidence as a <a href=\"/help/minimal-reproducible-example\">minimal reproducible example</a>.   You could also submit a bug report to the supplier of your JVM ... though they will probably need a way to reproduce the bug too."}],"tags":[],"owner":{"account_id":26684479,"reputation":1,"user_id":20293994,"display_name":"Scott"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666285277,"creation_date":1666285277,"answer_id":74143688,"question_id":66333767,"body_markdown":"I wish I had an answer for getting a good reliable JVM with Shenandoah enabled, but I&#39;ve run into similar issues. But just to point out the benefit of Shenandoah. \r\n\r\nI&#39;m running a very simple program, but very big. I need between 300-400GB of RAM to run my program. The program is little more than a couple of large array lists and a couple of large ConcurrentHashMaps. I have about 700 million objects that I need to put into those lists and maps. So when I simply measure the load time of this data on any JDK 1.8-1.19 without Shenandoah, ie g1gc, it takes about **40 minutes** and all 32 cores are 90% busy, much of it in the kernel. This is running on Windows Server 2012 R2. By only changing the garbage collector to Shenandoah that time drops to **35 seconds**. With only 1 core busy. That&#39;s a huge improvement. The JDK that I found with Shenandoah support was:\r\n\r\n    openjdk version &quot;16.0.2&quot; 2021-07-20\r\n    OpenJDK Runtime Environment Temurin-16.0.2+7 (build 16.0.2+7)\r\n    OpenJDK 64-Bit Server VM Temurin-16.0.2+7 (build 16.0.2+7, mixed mode, sharing)\r\n\r\nThe downside is that after loading my data, I populate additional maps of similar size using ForkJoin pools with between 8 and 32 threads and run some RegEx&#39;s, but I can repeatedly crash the JVM. I don&#39;t know if this is due to something I&#39;ve done wrong, the fork join pools, garbage collector, or the OpenJDK. But I&#39;d love to find a production hardened JDK with Shenandoah.\r\n","title":"Can&#39;t use Shenandoah GC","body":"<p>I wish I had an answer for getting a good reliable JVM with Shenandoah enabled, but I've run into similar issues. But just to point out the benefit of Shenandoah.</p>\n<p>I'm running a very simple program, but very big. I need between 300-400GB of RAM to run my program. The program is little more than a couple of large array lists and a couple of large ConcurrentHashMaps. I have about 700 million objects that I need to put into those lists and maps. So when I simply measure the load time of this data on any JDK 1.8-1.19 without Shenandoah, ie g1gc, it takes about <strong>40 minutes</strong> and all 32 cores are 90% busy, much of it in the kernel. This is running on Windows Server 2012 R2. By only changing the garbage collector to Shenandoah that time drops to <strong>35 seconds</strong>. With only 1 core busy. That's a huge improvement. The JDK that I found with Shenandoah support was:</p>\n<pre><code>openjdk version &quot;16.0.2&quot; 2021-07-20\nOpenJDK Runtime Environment Temurin-16.0.2+7 (build 16.0.2+7)\nOpenJDK 64-Bit Server VM Temurin-16.0.2+7 (build 16.0.2+7, mixed mode, sharing)\n</code></pre>\n<p>The downside is that after loading my data, I populate additional maps of similar size using ForkJoin pools with between 8 and 32 threads and run some RegEx's, but I can repeatedly crash the JVM. I don't know if this is due to something I've done wrong, the fork join pools, garbage collector, or the OpenJDK. But I'd love to find a production hardened JDK with Shenandoah.</p>\n"}],"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66333997,"answer_count":3,"score":1,"last_activity_date":1666285277,"creation_date":1614085765,"question_id":66333767,"body_markdown":"I can&#39;t put **ShenandoahGC** to work while trying to run a Java application. Regardless of what I try, the output is as follows, when invoking the *java* command from Terminal (or CMD):\r\n\r\n&gt; Error occurred during initialization of VM\r\n\r\n&gt; Option -XX:+UseShenandoahGC not supported\r\n\r\nRunning openJDK version 15.0.2 on Ubuntu (WSL) and on Windows, I get the same message on both.\r\n\r\nHave tried applying the **-XX:+UnlockExperimentalVMOptions** option next to **-XX:+UseShenandoahGC**, but as far as I know the experimental status was dropped with JDK 15.","title":"Can&#39;t use Shenandoah GC","body":"<p>I can't put <strong>ShenandoahGC</strong> to work while trying to run a Java application. Regardless of what I try, the output is as follows, when invoking the <em>java</em> command from Terminal (or CMD):</p>\n<blockquote>\n<p>Error occurred during initialization of VM</p>\n</blockquote>\n<blockquote>\n<p>Option -XX:+UseShenandoahGC not supported</p>\n</blockquote>\n<p>Running openJDK version 15.0.2 on Ubuntu (WSL) and on Windows, I get the same message on both.</p>\n<p>Have tried applying the <strong>-XX:+UnlockExperimentalVMOptions</strong> option next to <strong>-XX:+UseShenandoahGC</strong>, but as far as I know the experimental status was dropped with JDK 15.</p>\n"},{"tags":["java","api","abstract-syntax-tree"],"answers":[{"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":2,"creation_date":1323693951,"post_id":8474440,"comment_id":10481652,"body_markdown":"It&#39;s easy to get the AST of source files, it&#39;s another story to find out the similarities between them :). On of the local parsing gurus here at stackoverflow, [Ira Baxter](http://stackoverflow.com/users/120163/ira-baxter), talks about this in a [Google Tech Talk](http://www.youtube.com/watch?v=C-_dw9iEzhA) where he mentions that his software does this.","body":"It&#39;s easy to get the AST of source files, it&#39;s another story to find out the similarities between them :). On of the local parsing gurus here at stackoverflow, <a href=\"http://stackoverflow.com/users/120163/ira-baxter\">Ira Baxter</a>, talks about this in a <a href=\"http://www.youtube.com/watch?v=C-_dw9iEzhA\" rel=\"nofollow noreferrer\">Google Tech Talk</a> where he mentions that his software does this."},{"owner":{"account_id":474298,"reputation":182,"user_id":883895,"accept_rate":60,"display_name":"Josh England"},"score":0,"creation_date":1323770894,"post_id":8474440,"comment_id":10500636,"body_markdown":"very true - it depends what you mean to &#39;compare&#39;. Maybe it would be better to define, AST might not be the best thing to use.","body":"very true - it depends what you mean to &#39;compare&#39;. Maybe it would be better to define, AST might not be the best thing to use."}],"tags":[],"owner":{"account_id":474298,"reputation":182,"user_id":883895,"accept_rate":60,"display_name":"Josh England"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323693575,"creation_date":1323693575,"answer_id":8474440,"question_id":8474046,"body_markdown":"I wonder if there is an ANTLR extension somewhere that can do this....\r\n\r\nhttp://www.antlr.org/\r\n\r\nhttp://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g","title":"API to compare AST?","body":"<p>I wonder if there is an ANTLR extension somewhere that can do this....</p>\n\n<p><a href=\"http://www.antlr.org/\" rel=\"nofollow\">http://www.antlr.org/</a></p>\n\n<p><a href=\"http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g\" rel=\"nofollow\">http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g</a></p>\n"},{"tags":[],"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1324159669,"creation_date":1323701467,"answer_id":8476136,"question_id":8474046,"body_markdown":"Most diff tools compare lines, not syntax trees (see &lt;a href=&quot;http://www.wikipedia.org/wiki/diff&quot;&gt;Wikipedia article for discussion&lt;/a&gt;). \r\n\r\nThere are some techical papers that talk about how to do syntax tree compares, e.g.,\r\n&lt;a href=&quot;http://ieeexplore.ieee.org/xpl/freeabs_all.jsp?arnumber=4656419&quot;&gt;Diff/TS: A Tool for Fine-Grained Structural Change Analysis&lt;/a&gt;\r\n\r\nThere are no APIs for computing tree differences available anywhere as far as I know.  The problem is more complex than it first sounds, if you want to get a minimal diff.  But the basic technique is to use some variation of &lt;a href=&quot;http://en.wikipedia.org/wiki/Levenstein_Distance&quot;&gt;Levenstein distance metrics&lt;/a&gt;.\r\n\r\nWe had to roll our own for our line of &lt;a href=&quot;http://www.semanticdesigns.com/Products/SmartDifferencer&quot;&gt;SmartDifferencers&lt;/a&gt;; fortunately, we have really good front ends for many langauges to produce accurate ASTs.\r\n\r\nYou end up with additional surprises, such as people that want to compare comments in spite of the fact that what you have are ASTs, wanting to compare broken files, to compare language dialects your grammar doesn&#39;t match, or codes that contain insertions of other languages, etc..  Do diff by lines doesn&#39;t have these issues, which is one reason line-diff is widespread and tree-diff is not.\r\n\r\n","title":"API to compare AST?","body":"<p>Most diff tools compare lines, not syntax trees (see <a href=\"http://www.wikipedia.org/wiki/diff\" rel=\"noreferrer\">Wikipedia article for discussion</a>). </p>\n\n<p>There are some techical papers that talk about how to do syntax tree compares, e.g.,\n<a href=\"http://ieeexplore.ieee.org/xpl/freeabs_all.jsp?arnumber=4656419\" rel=\"noreferrer\">Diff/TS: A Tool for Fine-Grained Structural Change Analysis</a></p>\n\n<p>There are no APIs for computing tree differences available anywhere as far as I know.  The problem is more complex than it first sounds, if you want to get a minimal diff.  But the basic technique is to use some variation of <a href=\"http://en.wikipedia.org/wiki/Levenstein_Distance\" rel=\"noreferrer\">Levenstein distance metrics</a>.</p>\n\n<p>We had to roll our own for our line of <a href=\"http://www.semanticdesigns.com/Products/SmartDifferencer\" rel=\"noreferrer\">SmartDifferencers</a>; fortunately, we have really good front ends for many langauges to produce accurate ASTs.</p>\n\n<p>You end up with additional surprises, such as people that want to compare comments in spite of the fact that what you have are ASTs, wanting to compare broken files, to compare language dialects your grammar doesn't match, or codes that contain insertions of other languages, etc..  Do diff by lines doesn't have these issues, which is one reason line-diff is widespread and tree-diff is not.</p>\n"},{"comments":[{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":0,"creation_date":1471959063,"post_id":24417522,"comment_id":65551819,"body_markdown":"see also https://github.com/SpoonLabs/gumtree-spoon-ast-diff","body":"see also <a href=\"https://github.com/SpoonLabs/gumtree-spoon-ast-diff\" rel=\"nofollow noreferrer\">github.com/SpoonLabs/gumtree-spoon-ast-diff</a>"}],"tags":[],"owner":{"account_id":182472,"reputation":3018,"user_id":417199,"accept_rate":62,"display_name":"cdmihai"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666285080,"creation_date":1403726497,"answer_id":24417522,"question_id":8474046,"body_markdown":"Yes, there are free implementations that output tree diffs:\r\n\r\nGumTree (fast, multi language, integrates with git): https://github.com/GumTreeDiff/gumtree\r\n\r\nChangeDistiller (quite mature, built as a self contained library): https://bitbucket.org/sealuzh/tools-changedistiller/wiki/Home\r\n\r\nCodingSpectator (AST diffing is hard-coded in the rest of the code): https://github.com/vazexqi/CodingSpectator/tree/codingtracker-ast-inference","title":"API to compare AST?","body":"<p>Yes, there are free implementations that output tree diffs:</p>\n<p>GumTree (fast, multi language, integrates with git): <a href=\"https://github.com/GumTreeDiff/gumtree\" rel=\"nofollow noreferrer\">https://github.com/GumTreeDiff/gumtree</a></p>\n<p>ChangeDistiller (quite mature, built as a self contained library): <a href=\"https://bitbucket.org/sealuzh/tools-changedistiller/wiki/Home\" rel=\"nofollow noreferrer\">https://bitbucket.org/sealuzh/tools-changedistiller/wiki/Home</a></p>\n<p>CodingSpectator (AST diffing is hard-coded in the rest of the code): <a href=\"https://github.com/vazexqi/CodingSpectator/tree/codingtracker-ast-inference\" rel=\"nofollow noreferrer\">https://github.com/vazexqi/CodingSpectator/tree/codingtracker-ast-inference</a></p>\n"}],"owner":{"display_name":"anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4796,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1519882458,"accepted_answer_id":8476136,"answer_count":3,"score":10,"last_activity_date":1666285080,"creation_date":1323691563,"question_id":8474046,"body_markdown":"Is there a open source java api that allows to compare two Abstract Syntax Trees of java source code?\r\n\r\nI would like to see the differences between the two syntax trees, similar to how it is done in diff tools.","title":"API to compare AST?","body":"<p>Is there a open source java api that allows to compare two Abstract Syntax Trees of java source code?</p>\n\n<p>I would like to see the differences between the two syntax trees, similar to how it is done in diff tools.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":1538541,"reputation":548,"user_id":1433835,"accept_rate":100,"display_name":"wlfbck"},"score":0,"creation_date":1682417298,"post_id":74140797,"comment_id":134208260,"body_markdown":"Did you figure this out? Because i&#39;m facing the exact issue right now.","body":"Did you figure this out? Because i&#39;m facing the exact issue right now."}],"owner":{"account_id":12443273,"reputation":49,"user_id":9060408,"display_name":"ragi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666284859,"creation_date":1666272944,"question_id":74140797,"body_markdown":"I am using Log4j2 with async logging. There are more than 10 threads running parallel in my application and one thread is blocking all other threads. \r\n\r\nThread dump shows below.\r\n\r\n```\r\n&quot;Scheduler_Worker-7&quot; #143 prio=5 os_prio=0 tid=0x00007fae2ac55800 nid=0x18fc runnable [0x00007faceab12000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:338)\r\n\tat com.lmax.disruptor.MultiProducerSequencer.next(MultiProducerSequencer.java:136)\r\n\tat com.lmax.disruptor.MultiProducerSequencer.next(MultiProducerSequencer.java:105)\r\n\tat com.lmax.disruptor.RingBuffer.publishEvent(RingBuffer.java:465)\r\n\tat com.lmax.disruptor.dsl.Disruptor.publishEvent(Disruptor.java:331)\r\n\tat org.apache.logging.log4j.core.async.AsyncLoggerDisruptor.enqueueLogMessageWhenQueueFull(AsyncLoggerDisruptor.java:236)\r\n\t- locked &lt;0x00000005522ce890&gt; (a java.lang.Object)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.handleRingBufferFull(AsyncLogger.java:246)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.publish(AsyncLogger.java:230)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.logWithThreadLocalTranslator(AsyncLogger.java:202)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.access$100(AsyncLogger.java:67)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger$1.log(AsyncLogger.java:157)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.logMessage(AsyncLogger.java:130)\r\n\tat org.apache.logging.log4j.spi.ExtendedLoggerWrapper.logMessage(ExtendedLoggerWrapper.java:222)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.log(AbstractLogger.java:2117)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2034)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1899)\r\n\tat com.ragi.common.util.Log4jWrapper.debug(Log4jWrapper.java:106)\r\n```\r\n\r\nand other threads stack is like below\r\n\r\n```\r\n&quot;Scheduler_Worker-6&quot; #142 prio=5 os_prio=0 tid=0x00007fae2ad2c800 nid=0x18fb waiting for monitor entry [0x00007faceac13000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n\tat org.apache.logging.log4j.core.async.AsyncLoggerDisruptor.enqueueLogMessageWhenQueueFull(AsyncLoggerDisruptor.java:236)\r\n\t- waiting to lock &lt;0x00000005522ce890&gt; (a java.lang.Object)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.handleRingBufferFull(AsyncLogger.java:246)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.publish(AsyncLogger.java:230)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.logWithThreadLocalTranslator(AsyncLogger.java:202)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.access$100(AsyncLogger.java:67)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger$1.log(AsyncLogger.java:157)\r\n\tat org.apache.logging.log4j.core.async.AsyncLogger.logMessage(AsyncLogger.java:130)\r\n\tat org.apache.logging.log4j.spi.ExtendedLoggerWrapper.logMessage(ExtendedLoggerWrapper.java:222)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.log(AbstractLogger.java:2117)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2022)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1875)\r\n\tat com.ragi.common.util.Log4jWrapper.debug(Log4jWrapper.java:94)\r\n```\r\n\r\nThis clearly shows that **Scheduler_Worker-7** thread is holding lock on 0x00000005522ce890 and other threads (Example is **Scheduler_Worker-6**) are waiting to lock 0x00000005522ce890. \r\n\r\nAlso, from heap dumps, I observed that log ring queue buffer is full. As I am using default [DefaultAsyncQueueFullPolicy][1], when the buffer is full, the new log events should go directly to the appender instead of the buffer.\r\n\r\nWhy Scheduler_Worker-7 thread is holding lock on object for so much time and went to TIMED WAITING state and other threads which are trying to log went to blocked states. \r\n\r\nNote: There are no deadlocks observed from thread dump.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.11.2/log4j-core/apidocs/org/apache/logging/log4j/core/async/DefaultAsyncQueueFullPolicy.html","title":"Log4j2 blocking threads and application is becoming unresponsive","body":"<p>I am using Log4j2 with async logging. There are more than 10 threads running parallel in my application and one thread is blocking all other threads.</p>\n<p>Thread dump shows below.</p>\n<pre><code>&quot;Scheduler_Worker-7&quot; #143 prio=5 os_prio=0 tid=0x00007fae2ac55800 nid=0x18fc runnable [0x00007faceab12000]\n   java.lang.Thread.State: TIMED_WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:338)\n    at com.lmax.disruptor.MultiProducerSequencer.next(MultiProducerSequencer.java:136)\n    at com.lmax.disruptor.MultiProducerSequencer.next(MultiProducerSequencer.java:105)\n    at com.lmax.disruptor.RingBuffer.publishEvent(RingBuffer.java:465)\n    at com.lmax.disruptor.dsl.Disruptor.publishEvent(Disruptor.java:331)\n    at org.apache.logging.log4j.core.async.AsyncLoggerDisruptor.enqueueLogMessageWhenQueueFull(AsyncLoggerDisruptor.java:236)\n    - locked &lt;0x00000005522ce890&gt; (a java.lang.Object)\n    at org.apache.logging.log4j.core.async.AsyncLogger.handleRingBufferFull(AsyncLogger.java:246)\n    at org.apache.logging.log4j.core.async.AsyncLogger.publish(AsyncLogger.java:230)\n    at org.apache.logging.log4j.core.async.AsyncLogger.logWithThreadLocalTranslator(AsyncLogger.java:202)\n    at org.apache.logging.log4j.core.async.AsyncLogger.access$100(AsyncLogger.java:67)\n    at org.apache.logging.log4j.core.async.AsyncLogger$1.log(AsyncLogger.java:157)\n    at org.apache.logging.log4j.core.async.AsyncLogger.logMessage(AsyncLogger.java:130)\n    at org.apache.logging.log4j.spi.ExtendedLoggerWrapper.logMessage(ExtendedLoggerWrapper.java:222)\n    at org.apache.logging.log4j.spi.AbstractLogger.log(AbstractLogger.java:2117)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2034)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1899)\n    at com.ragi.common.util.Log4jWrapper.debug(Log4jWrapper.java:106)\n</code></pre>\n<p>and other threads stack is like below</p>\n<pre><code>&quot;Scheduler_Worker-6&quot; #142 prio=5 os_prio=0 tid=0x00007fae2ad2c800 nid=0x18fb waiting for monitor entry [0x00007faceac13000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n    at org.apache.logging.log4j.core.async.AsyncLoggerDisruptor.enqueueLogMessageWhenQueueFull(AsyncLoggerDisruptor.java:236)\n    - waiting to lock &lt;0x00000005522ce890&gt; (a java.lang.Object)\n    at org.apache.logging.log4j.core.async.AsyncLogger.handleRingBufferFull(AsyncLogger.java:246)\n    at org.apache.logging.log4j.core.async.AsyncLogger.publish(AsyncLogger.java:230)\n    at org.apache.logging.log4j.core.async.AsyncLogger.logWithThreadLocalTranslator(AsyncLogger.java:202)\n    at org.apache.logging.log4j.core.async.AsyncLogger.access$100(AsyncLogger.java:67)\n    at org.apache.logging.log4j.core.async.AsyncLogger$1.log(AsyncLogger.java:157)\n    at org.apache.logging.log4j.core.async.AsyncLogger.logMessage(AsyncLogger.java:130)\n    at org.apache.logging.log4j.spi.ExtendedLoggerWrapper.logMessage(ExtendedLoggerWrapper.java:222)\n    at org.apache.logging.log4j.spi.AbstractLogger.log(AbstractLogger.java:2117)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2022)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1875)\n    at com.ragi.common.util.Log4jWrapper.debug(Log4jWrapper.java:94)\n</code></pre>\n<p>This clearly shows that <strong>Scheduler_Worker-7</strong> thread is holding lock on 0x00000005522ce890 and other threads (Example is <strong>Scheduler_Worker-6</strong>) are waiting to lock 0x00000005522ce890.</p>\n<p>Also, from heap dumps, I observed that log ring queue buffer is full. As I am using default <a href=\"https://logging.apache.org/log4j/log4j-2.11.2/log4j-core/apidocs/org/apache/logging/log4j/core/async/DefaultAsyncQueueFullPolicy.html\" rel=\"nofollow noreferrer\">DefaultAsyncQueueFullPolicy</a>, when the buffer is full, the new log events should go directly to the appender instead of the buffer.</p>\n<p>Why Scheduler_Worker-7 thread is holding lock on object for so much time and went to TIMED WAITING state and other threads which are trying to log went to blocked states.</p>\n<p>Note: There are no deadlocks observed from thread dump.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":24902342,"reputation":1,"user_id":18772865,"display_name":"reddy"},"score":0,"creation_date":1666285572,"post_id":74143599,"comment_id":130906281,"body_markdown":"can u explain me clearly if u dont mind..","body":"can u explain me clearly if u dont mind.."},{"owner":{"account_id":3934490,"reputation":805,"user_id":3251429,"display_name":"undermark5"},"score":1,"creation_date":1666285972,"post_id":74143599,"comment_id":130906424,"body_markdown":"Is there an element defined in `activity_dashboard` with an ID of `Signup`? The issue is you are trying to set an `OnClickListener` for a view element that does not exist (hence the null pointer exception you see in logcat). `Dashboard` sets the content via `setContentView(R.layout.activity_dashboard)` if your `activity_dashboard` layout doesn&#39;t include an element with ID `Signup` `findViewById` will give null because no view with that ID can be found. You need to make sure that you are both setting the correct layout and getting the right button.","body":"Is there an element defined in <code>activity_dashboard</code> with an ID of <code>Signup</code>? The issue is you are trying to set an <code>OnClickListener</code> for a view element that does not exist (hence the null pointer exception you see in logcat). <code>Dashboard</code> sets the content via <code>setContentView(R.layout.activity_dashboard)</code> if your <code>activity_dashboard</code> layout doesn&#39;t include an element with ID <code>Signup</code> <code>findViewById</code> will give null because no view with that ID can be found. You need to make sure that you are both setting the correct layout and getting the right button."}],"tags":[],"owner":{"account_id":3934490,"reputation":805,"user_id":3251429,"display_name":"undermark5"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666284815,"creation_date":1666284815,"answer_id":74143599,"question_id":74143529,"body_markdown":"You are searching for an element with ID `Signup` but the view tree you are searching through is the one in defined by your `activity_dashboard` XML file as that is what the content is set to by `Dashboard` make sure you are both setting the right content and that the ID you are looking for is used on an element in the view set as the content.","title":"app getting crashed after adding onclick to the buttons","body":"<p>You are searching for an element with ID <code>Signup</code> but the view tree you are searching through is the one in defined by your <code>activity_dashboard</code> XML file as that is what the content is set to by <code>Dashboard</code> make sure you are both setting the right content and that the ID you are looking for is used on an element in the view set as the content.</p>\n"}],"owner":{"account_id":24902342,"reputation":1,"user_id":18772865,"display_name":"reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666284815,"creation_date":1666284443,"question_id":74143529,"body_markdown":"\r\ni am a new app developer i was working on a app for the past few days i have implemented onclicklistner in my program then the app gets crash itself after adding onclick button in my program and the program excuetes without errors but its getting crashed while running the app and i am using new version of andriod.\r\nthank you\r\n\r\nthis is my Main activity:\r\n\r\n   ```\r\n package com.example.project5;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.WindowManager;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static int SPLASH_SCREEN = 3000;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_main);\r\n\r\n      new Handler().postDelayed(new Runnable() {\r\n          @Override\r\n          public void run() {\r\n              Intent intent = new Intent(MainActivity.this,Dashboard.class);\r\n              startActivity(intent);\r\n              finish();\r\n          }\r\n      },SPLASH_SCREEN);\r\n    }\r\n}\r\n```\r\nthis is my Dashboard.java: \r\n ``` \r\npackage com.example.project5;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\n\r\npublic class Dashboard extends AppCompatActivity {\r\n\r\n   Button callSignup;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_dashboard);\r\n\r\n         callSignup = findViewById(R.id.Signup);\r\n\r\n         callSignup.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n             public void onClick(View view){\r\n               Intent intent = new Intent(Dashboard.this,SignUp.class);\r\n\r\n             }\r\n\r\n         });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nthis is my SignUp.java:\r\n\r\n  ```\r\npackage com.example.project5;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class SignUp extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n    }\r\n}\r\n```\r\n\r\nThis is my activity_sign_up.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;20dp&quot;\r\n    tools:context=&quot;.SignUp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:src=&quot;@drawable/logo&quot;\r\n        android:padding=&quot;10dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Welcome&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:fontFamily=&quot;@font/bungee&quot;\r\n        android:layout_marginTop=&quot;-20dp&quot;\r\n        android:textColor=&quot;#FF000000&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;SignUp To Contiune&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textColor=&quot;#FF000000&quot;/&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Full Name&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;text&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/username&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Username&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;15&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;text&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/email&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Email&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/phonenumber&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Phone No&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;number&quot;/&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Password&quot;\r\n            app:passwordToggleEnabled=&quot;true&quot;\r\n                app:passwordToggleTint=&quot;@color/black&quot;\r\n                android:padding=&quot;1dp&quot;\r\n                android:textColorHint=&quot;#FF000000&quot;\r\n                app:boxStrokeColor=&quot;#FF000000&quot;\r\n                app:hintTextColor=&quot;@color/black&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;textPassword&quot; /&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;GO&quot;\r\n        android:id=&quot;@+id/Signup&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:textColor=&quot;#fff&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Already have an account ? LogIn&quot;\r\n        android:background=&quot;#00000000&quot;\r\n        android:textColor=&quot;#0000&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n```\r\nwhen i attempt to run the emulator the app is getting crashed it ends after splash screen\r\n\r\nThis is my Logcat:\r\n\r\n```\r\n2022-10-20 22:12:15.729 14200-14200/com.example.project5 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.project5, PID: 14200\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.project5/com.example.project5.Dashboard}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3740)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3898)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2305)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:257)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8192)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.project5.Dashboard.onCreate(Dashboard.java:23)\r\n        at android.app.Activity.performCreate(Activity.java:8119)\r\n        at android.app.Activity.performCreate(Activity.java:8103)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3713)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3898)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2305)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:257)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8192)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)&#160;\r\n2022-10-20 22:12:15.799 14200-14200/com.example.project5 I/Process: Sending signal. PID: 14200 SIG: 9\r\n\r\n```","title":"app getting crashed after adding onclick to the buttons","body":"<p>i am a new app developer i was working on a app for the past few days i have implemented onclicklistner in my program then the app gets crash itself after adding onclick button in my program and the program excuetes without errors but its getting crashed while running the app and i am using new version of andriod.\nthank you</p>\n<p>this is my Main activity:</p>\n<pre><code>package com.example.project5;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.WindowManager;\n\npublic class MainActivity extends AppCompatActivity {\n\n private static int SPLASH_SCREEN = 3000;\n\n\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n     setContentView(R.layout.activity_main);\n\n   new Handler().postDelayed(new Runnable() {\n       @Override\n       public void run() {\n           Intent intent = new Intent(MainActivity.this,Dashboard.class);\n           startActivity(intent);\n           finish();\n       }\n   },SPLASH_SCREEN);\n }\n}\n</code></pre>\n<p>this is my Dashboard.java:</p>\n<pre><code>package com.example.project5;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\n\npublic class Dashboard extends AppCompatActivity {\n\n  Button callSignup;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n       setContentView(R.layout.activity_dashboard);\n\n        callSignup = findViewById(R.id.Signup);\n\n        callSignup.setOnClickListener(new View.OnClickListener() {\n          @Override\n            public void onClick(View view){\n              Intent intent = new Intent(Dashboard.this,SignUp.class);\n\n            }\n\n        });\n\n\n   }\n}\n</code></pre>\n<p>this is my SignUp.java:</p>\n<pre><code>package com.example.project5;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class SignUp extends AppCompatActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_sign_up);\n  }\n}\n</code></pre>\n<p>This is my activity_sign_up.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#fff&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;20dp&quot;\n    tools:context=&quot;.SignUp&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:src=&quot;@drawable/logo&quot;\n        android:padding=&quot;10dp&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Welcome&quot;\n        android:textSize=&quot;30sp&quot;\n        android:fontFamily=&quot;@font/bungee&quot;\n        android:layout_marginTop=&quot;-20dp&quot;\n        android:textColor=&quot;#FF000000&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;SignUp To Contiune&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textColor=&quot;#FF000000&quot;/&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Full Name&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:inputType=&quot;text&quot;/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/username&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Username&quot;\n            app:counterEnabled=&quot;true&quot;\n            app:counterMaxLength=&quot;15&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:inputType=&quot;text&quot;/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/email&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Email&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:inputType=&quot;textEmailAddress&quot;/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/phonenumber&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Phone No&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:inputType=&quot;number&quot;/&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/password&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Password&quot;\n            app:passwordToggleEnabled=&quot;true&quot;\n                app:passwordToggleTint=&quot;@color/black&quot;\n                android:padding=&quot;1dp&quot;\n                android:textColorHint=&quot;#FF000000&quot;\n                app:boxStrokeColor=&quot;#FF000000&quot;\n                app:hintTextColor=&quot;@color/black&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:inputType=&quot;textPassword&quot; /&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;GO&quot;\n        android:id=&quot;@+id/Signup&quot;\n        android:background=&quot;#000&quot;\n        android:textColor=&quot;#fff&quot;/&gt;\n\n    &lt;Button\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Already have an account ? LogIn&quot;\n        android:background=&quot;#00000000&quot;\n        android:textColor=&quot;#0000&quot;/&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>when i attempt to run the emulator the app is getting crashed it ends after splash screen</p>\n<p>This is my Logcat:</p>\n<pre><code>2022-10-20 22:12:15.729 14200-14200/com.example.project5 E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.project5, PID: 14200\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.project5/com.example.project5.Dashboard}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3740)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3898)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2305)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:257)\n        at android.app.ActivityThread.main(ActivityThread.java:8192)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at com.example.project5.Dashboard.onCreate(Dashboard.java:23)\n        at android.app.Activity.performCreate(Activity.java:8119)\n        at android.app.Activity.performCreate(Activity.java:8103)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3713)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3898)¬†\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)¬†\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)¬†\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)¬†\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2305)¬†\n        at android.os.Handler.dispatchMessage(Handler.java:106)¬†\n        at android.os.Looper.loop(Looper.java:257)¬†\n        at android.app.ActivityThread.main(ActivityThread.java:8192)¬†\n        at java.lang.reflect.Method.invoke(Native Method)¬†\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)¬†\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)¬†\n2022-10-20 22:12:15.799 14200-14200/com.example.project5 I/Process: Sending signal. PID: 14200 SIG: 9\n\n</code></pre>\n"},{"tags":["java","validation","setter"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666278363,"post_id":74142145,"comment_id":130903566,"body_markdown":"What is an invalid `double`? Or an invalid `boolean`?","body":"What is an invalid <code>double</code>? Or an invalid <code>boolean</code>?"},{"owner":{"account_id":26017634,"reputation":1,"user_id":19725747,"display_name":"Nirvana."},"score":0,"creation_date":1666281286,"post_id":74142145,"comment_id":130904670,"body_markdown":"not 0.0? invalid boolean not equal to &#39;true&#39; or false&#39;","body":"not 0.0? invalid boolean not equal to &#39;true&#39; or false&#39;"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666287961,"post_id":74142145,"comment_id":130907175,"body_markdown":"There&#39;s no general rule that says a double cannot be 0.0. That&#39;s for *you* to decide based on *your* requirements. If that&#39;s what you need you already know how to check whether a string is null or empty, so you can surely write something that checks whether a `double` equals 0.0 and throw an exception if that&#39;s the case.  And there&#39;s literally no way a `boolean` is not either `true` or `false`.","body":"There&#39;s no general rule that says a double cannot be 0.0. That&#39;s for <i>you</i> to decide based on <i>your</i> requirements. If that&#39;s what you need you already know how to check whether a string is null or empty, so you can surely write something that checks whether a <code>double</code> equals 0.0 and throw an exception if that&#39;s the case.  And there&#39;s literally no way a <code>boolean</code> is not either <code>true</code> or <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":25861752,"reputation":21,"user_id":19594114,"display_name":"pio_trek248"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666284741,"creation_date":1666284741,"answer_id":74143582,"question_id":74142145,"body_markdown":"1. When you want return value you have to declare returned type for example &quot;public String getId()&quot; instead &quot;public getId()&quot;.\r\n\r\n2. Setter expects a parameter. Example: &quot;public setId(String id)&quot;.\r\n3. All args constructor should looks like:\r\n\r\n`public Person(String name, String id, boolean isNew, double bonus) {this.name = name; this.id = id;this.isNew = is;this.bonus = bonus; }`\r\n\r\n4. For boolean argument constructor expect value. If you want validate something you can change type to Boolean and handle NullPointerExeption.\r\nOr create custom exception:\r\n\r\n    &lt;pre&gt;public class MyWrongBooleanException extends RuntimeException \r\n    {\r\n    public IncorrectFileExtensionException(String errorMessage, Throwable err)\r\n    {\r\n    super(errorMessage, err);\r\n    }\r\n    }&lt;/pre&gt;\r\n\r\n","title":"How to do validation for set boolean and double","body":"<ol>\n<li><p>When you want return value you have to declare returned type for example &quot;public String getId()&quot; instead &quot;public getId()&quot;.</p>\n</li>\n<li><p>Setter expects a parameter. Example: &quot;public setId(String id)&quot;.</p>\n</li>\n<li><p>All args constructor should looks like:</p>\n</li>\n</ol>\n<p><code>public Person(String name, String id, boolean isNew, double bonus) {this.name = name; this.id = id;this.isNew = is;this.bonus = bonus; }</code></p>\n<ol start=\"4\">\n<li><p>For boolean argument constructor expect value. If you want validate something you can change type to Boolean and handle NullPointerExeption.\nOr create custom exception:</p>\n <pre>public class MyWrongBooleanException extends RuntimeException \n {\n public IncorrectFileExtensionException(String errorMessage, Throwable err)\n {\n super(errorMessage, err);\n }\n }</pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26017634,"reputation":1,"user_id":19725747,"display_name":"Nirvana."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666284741,"creation_date":1666278195,"question_id":74142145,"body_markdown":" I just start to learn java recently, i got 1 problem about the validation for setter, refer below is the setter validation for string type , what should i should i write to do the setter validation for boolean and double?  below is the code i wrote for string. \r\n\r\n      \r\n\r\n    public class Person\r\n    {\r\n        private String name;\r\n        private String id;\r\n        private boolean isNew;\r\n        private double bonus\r\n    \r\n        public Person(Ôºâ\r\n        {\r\n        this(&quot;Unknown&quot;,&quot;unknown&quot;,true,0.0);    \r\n        }\r\n    \r\n        public Person(String id,String name,boolean isNew,double bonus)\r\n        {\r\n            \r\n        setId(id);\r\n        setName(name);\r\n        setIsNew(isNew);\r\n        setBonus(bonus);\r\n    \r\n        }\r\n    \r\n        public getId()\r\n        {\r\n        return id;\r\n        }\r\n    \r\n        public getName()\r\n        {\r\n        return name;\r\n        }\r\n    \r\n        public setId()\r\n        {\r\n        this.id = id;\r\n        }\r\n    \r\n        public setName()\r\n        {\r\n        this.name = name;\r\n        }\r\n    \r\n        public void display()\r\n        {\r\n        System.out.println(&quot;IdÔºö&quot; + id);\r\n        System.out.printoutln(&quot;Name:&quot; + name); \r\n        }  \r\n        // setter validation for string\r\n        public void setName(String name)\r\n        {\r\n        if(name == null)\r\n        {\r\n            throw new IllegalArgumentException(&quot;A valid name must be provided &quot;);\r\n        }\r\n        name = name.trim();\r\n        if(name.length() ==0)\r\n        {\r\n            throw new IllegalArgumentException(&quot;Name must not be blank &quot;);\r\n        }\r\n        this.name = name;\r\n        }\r\n        // setter validation for id\r\n        public void setId(String id)\r\n        {\r\n        if(id == null)\r\n        {\r\n            throw new IllegalArgumentException(&quot;A valid id must be provided &quot;);\r\n        }\r\n        id = id.trim();\r\n        if(id.length() ==0)\r\n        {\r\n            throw new IllegalArgumentException(&quot;Id must not be blank &quot;);\r\n        }\r\n        this.id = id;\r\n        }\r\n    \r\n    }\r\n I just start to learn java recently, i got 1 problem about the validation for setter, refer below is the setter validation for string type , what should i should i write to do the setter validation for boolean and double?   ","title":"How to do validation for set boolean and double","body":"<p>I just start to learn java recently, i got 1 problem about the validation for setter, refer below is the setter validation for string type , what should i should i write to do the setter validation for boolean and double?  below is the code i wrote for string.</p>\n<pre><code>public class Person\n{\n    private String name;\n    private String id;\n    private boolean isNew;\n    private double bonus\n\n    public Person(Ôºâ\n    {\n    this(&quot;Unknown&quot;,&quot;unknown&quot;,true,0.0);    \n    }\n\n    public Person(String id,String name,boolean isNew,double bonus)\n    {\n        \n    setId(id);\n    setName(name);\n    setIsNew(isNew);\n    setBonus(bonus);\n\n    }\n\n    public getId()\n    {\n    return id;\n    }\n\n    public getName()\n    {\n    return name;\n    }\n\n    public setId()\n    {\n    this.id = id;\n    }\n\n    public setName()\n    {\n    this.name = name;\n    }\n\n    public void display()\n    {\n    System.out.println(&quot;IdÔºö&quot; + id);\n    System.out.printoutln(&quot;Name:&quot; + name); \n    }  \n    // setter validation for string\n    public void setName(String name)\n    {\n    if(name == null)\n    {\n        throw new IllegalArgumentException(&quot;A valid name must be provided &quot;);\n    }\n    name = name.trim();\n    if(name.length() ==0)\n    {\n        throw new IllegalArgumentException(&quot;Name must not be blank &quot;);\n    }\n    this.name = name;\n    }\n    // setter validation for id\n    public void setId(String id)\n    {\n    if(id == null)\n    {\n        throw new IllegalArgumentException(&quot;A valid id must be provided &quot;);\n    }\n    id = id.trim();\n    if(id.length() ==0)\n    {\n        throw new IllegalArgumentException(&quot;Id must not be blank &quot;);\n    }\n    this.id = id;\n    }\n\n}\n</code></pre>\n<p>I just start to learn java recently, i got 1 problem about the validation for setter, refer below is the setter validation for string type , what should i should i write to do the setter validation for boolean and double?</p>\n"},{"tags":["java","android","android-snackbar","snackbar"],"comments":[{"owner":{"account_id":14181822,"reputation":1769,"user_id":10245125,"display_name":"mohammadReza Abiri"},"score":1,"creation_date":1558187004,"post_id":56199284,"comment_id":99022162,"body_markdown":"I tested your code and there was no problem !","body":"I tested your code and there was no problem !"},{"owner":{"account_id":3535143,"reputation":51,"user_id":2953651,"display_name":"veveve"},"score":0,"creation_date":1558249883,"post_id":56199284,"comment_id":99032884,"body_markdown":"Well I&#39;ve no idea on why it isn&#39;t working for me","body":"Well I&#39;ve no idea on why it isn&#39;t working for me"},{"owner":{"account_id":14181822,"reputation":1769,"user_id":10245125,"display_name":"mohammadReza Abiri"},"score":0,"creation_date":1558253033,"post_id":56199284,"comment_id":99033479,"body_markdown":"post your xml layout maybe can help!","body":"post your xml layout maybe can help!"},{"owner":{"account_id":16538957,"reputation":182,"user_id":11950155,"display_name":"NimaAzhd"},"score":0,"creation_date":1620741146,"post_id":56199284,"comment_id":119286342,"body_markdown":"it is weird behavior. I did not know why margin bottom was not worked. I had to use Denny Weinberg approach  or i got snackbar under BottomNavigation bar.","body":"it is weird behavior. I did not know why margin bottom was not worked. I had to use Denny Weinberg approach  or i got snackbar under BottomNavigation bar."}],"answers":[{"tags":[],"owner":{"account_id":10970576,"reputation":519,"user_id":8061007,"display_name":"Sher Sanginov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587315362,"creation_date":1587315362,"answer_id":61308180,"question_id":56199284,"body_markdown":"I am facing a similar issue. Looks like margin bottom only works when you pass CoordinatorLayoutView to `Snackbar.make()`.\r\nI think it has to do with `baseTransientBottomBar` and most of its behavior such as swipe-to-dismiss will be available after you pass CoordinatorLayoutView. Maybe it&#39;s possible to override `baseTransientBottomBar` for it to apply margin-bottom. \r\n","title":"Cannot set SnackBar bottom margin","body":"<p>I am facing a similar issue. Looks like margin bottom only works when you pass CoordinatorLayoutView to <code>Snackbar.make()</code>.\nI think it has to do with <code>baseTransientBottomBar</code> and most of its behavior such as swipe-to-dismiss will be available after you pass CoordinatorLayoutView. Maybe it's possible to override <code>baseTransientBottomBar</code> for it to apply margin-bottom. </p>\n"},{"comments":[{"owner":{"account_id":16538957,"reputation":182,"user_id":11950155,"display_name":"NimaAzhd"},"score":0,"creation_date":1620741146,"post_id":61599387,"comment_id":119286343,"body_markdown":"it is weird behavior. I did not know why margin bottom was not worked. I had to use this method. or i got snackbar under BottomNavigation bar.","body":"it is weird behavior. I did not know why margin bottom was not worked. I had to use this method. or i got snackbar under BottomNavigation bar."}],"tags":[],"owner":{"account_id":2055727,"reputation":2542,"user_id":1833539,"accept_rate":64,"display_name":"Denny Weinberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588617908,"creation_date":1588617908,"answer_id":61599387,"question_id":56199284,"body_markdown":"[M.Usman version][1] works for me:\r\n\r\n    val snackBarView = snackbar.view\r\n    snackBarView.translationY = (-getNavigationBarSize(context)).toFloat()\r\n    snackbar.show()\r\n\r\n---\r\n\r\n    @JvmStatic\r\n    fun getNavigationBarSize(context: Context): Int {\r\n        val resources = context.resources\r\n        val resourceId = resources.getIdentifier(&quot;navigation_bar_height&quot;, &quot;dimen&quot;, &quot;android&quot;)\r\n        return if (resourceId &gt; 0) {\r\n            resources.getDimensionPixelSize(resourceId)\r\n        } else getDensity(context).toInt() * 56\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60126554/1833539","title":"Cannot set SnackBar bottom margin","body":"<p><a href=\"https://stackoverflow.com/a/60126554/1833539\">M.Usman version</a> works for me:</p>\n\n<pre><code>val snackBarView = snackbar.view\nsnackBarView.translationY = (-getNavigationBarSize(context)).toFloat()\nsnackbar.show()\n</code></pre>\n\n<hr>\n\n<pre><code>@JvmStatic\nfun getNavigationBarSize(context: Context): Int {\n    val resources = context.resources\n    val resourceId = resources.getIdentifier(\"navigation_bar_height\", \"dimen\", \"android\")\n    return if (resourceId &gt; 0) {\n        resources.getDimensionPixelSize(resourceId)\n    } else getDensity(context).toInt() * 56\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8920769,"reputation":149,"user_id":6657430,"display_name":"Bhavin Dhodia"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599457248,"creation_date":1599457248,"answer_id":63771957,"question_id":56199284,"body_markdown":"Adding CoordinatorLayout or Frame Layout and then setting margin didn&#39;t work for me\r\n\r\nTo tackle this problem use Drawable Background where use item to set Margin and shape to set desired Padding\r\n\r\ncontainer_snackbar.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;!--    Set Margin Here --&gt;\r\n    &lt;item\r\n        android:left=&quot;20dp&quot;\r\n        android:right=&quot;20dp&quot;\r\n        android:bottom=&quot;10dp&quot;\r\n        android:top=&quot;10dp&quot;&gt;\r\n\r\n        &lt;!-- Insert your shape here: --&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;  &gt;\r\n            &lt;solid android:color=&quot;#FE4C4C&quot; /&gt;\r\n\r\n            &lt;!-- Padding for inner text--&gt;\r\n            &lt;padding android:left=&quot;25dp&quot; android:right=&quot;10dp&quot; android:bottom=&quot;10dp&quot; android:top=&quot;10dp&quot; /&gt;\r\n            &lt;corners android:radius=&quot;5dp&quot; /&gt;\r\n\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n```\r\nAnd then from Activity set that Drawable\r\n\r\nMainActivity.java\r\n```\r\nSnackbar snack = Snackbar\r\n                 .make(activity,&quot;Hello World &#128640;&quot;,Snackbar.LENGTH_INDEFINITE);\r\n        snack.getView()\r\n        .setBackground(ContextCompat.getDrawable(getApplicationContext(),R.drawable.contianer_snackbar));\r\n        snack.show();\r\n```\r\nResult","title":"Cannot set SnackBar bottom margin","body":"<p>Adding CoordinatorLayout or Frame Layout and then setting margin didn't work for me</p>\n<p>To tackle this problem use Drawable Background where use item to set Margin and shape to set desired Padding</p>\n<p>container_snackbar.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;!--    Set Margin Here --&gt;\n    &lt;item\n        android:left=&quot;20dp&quot;\n        android:right=&quot;20dp&quot;\n        android:bottom=&quot;10dp&quot;\n        android:top=&quot;10dp&quot;&gt;\n\n        &lt;!-- Insert your shape here: --&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;  &gt;\n            &lt;solid android:color=&quot;#FE4C4C&quot; /&gt;\n\n            &lt;!-- Padding for inner text--&gt;\n            &lt;padding android:left=&quot;25dp&quot; android:right=&quot;10dp&quot; android:bottom=&quot;10dp&quot; android:top=&quot;10dp&quot; /&gt;\n            &lt;corners android:radius=&quot;5dp&quot; /&gt;\n\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>And then from Activity set that Drawable</p>\n<p>MainActivity.java</p>\n<pre><code>Snackbar snack = Snackbar\n                 .make(activity,&quot;Hello World üöÄ&quot;,Snackbar.LENGTH_INDEFINITE);\n        snack.getView()\n        .setBackground(ContextCompat.getDrawable(getApplicationContext(),R.drawable.contianer_snackbar));\n        snack.show();\n</code></pre>\n<p>Result</p>\n"},{"tags":[],"owner":{"account_id":26613059,"reputation":1,"user_id":20232964,"display_name":"Igor Maximo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666284725,"creation_date":1666284725,"answer_id":74143578,"question_id":56199284,"body_markdown":"Just add this code/call this function after snack.show()\r\n        \r\n ...\r\n       \r\n    snack.show()\r\n    snack.setAnimToUnblockBottomNavBar()\r\n    \r\n    \r\n    \r\n    ... \r\n    \r\n    private fun Snackbar.setAnimToUnblockBottomNavBar() {\r\n            val animator = ValueAnimator.ofInt(0, 150)\r\n            animator.addUpdateListener { valueAnimator -&gt;\r\n                val valueAnim = valueAnimator.animatedValue\r\n                if (valueAnim is Int) {\r\n                    try {\r\n                        val snackBarView: View = this.view\r\n                        val params = snackBarView.layoutParams as FrameLayout.LayoutParams\r\n                        params.setMargins(0, 0, 0, valueAnim)\r\n                        snackBarView.layoutParams = params\r\n                    } catch (_: Exception) { /* do nothing */ }\r\n                }\r\n            }\r\n            animator.start()\r\n        }","title":"Cannot set SnackBar bottom margin","body":"<p>Just add this code/call this function after snack.show()</p>\n<p>...</p>\n<pre><code>snack.show()\nsnack.setAnimToUnblockBottomNavBar()\n\n\n\n... \n\nprivate fun Snackbar.setAnimToUnblockBottomNavBar() {\n        val animator = ValueAnimator.ofInt(0, 150)\n        animator.addUpdateListener { valueAnimator -&gt;\n            val valueAnim = valueAnimator.animatedValue\n            if (valueAnim is Int) {\n                try {\n                    val snackBarView: View = this.view\n                    val params = snackBarView.layoutParams as FrameLayout.LayoutParams\n                    params.setMargins(0, 0, 0, valueAnim)\n                    snackBarView.layoutParams = params\n                } catch (_: Exception) { /* do nothing */ }\n            }\n        }\n        animator.start()\n    }\n</code></pre>\n"}],"owner":{"account_id":3535143,"reputation":51,"user_id":2953651,"display_name":"veveve"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3538,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1666284725,"creation_date":1558185162,"question_id":56199284,"body_markdown":"Following the tips given in [this](https://stackoverflow.com/questions/31514019/add-margins-to-snackbar-view) thread I&#39;m setting the bottom margin of a snackbar to ca. 55 dp in order to have it above the FAB.\r\n\r\nThe code is - as in the other question:\r\n```\r\nSnackbar snackbar = Snackbar.make(constraintLayoutContent, msg, Snackbar.LENGTH_LONG);\r\nsnackbar.setAction(action, v -&gt; snackbar.dismiss());\r\n\r\nView snackBarView = snackbar.getView();\r\n\r\nCoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) snackBarView.getLayoutParams();\r\n\r\nparams.setMargins(params.leftMargin, \r\n   params.topMargin, \r\n   params.rightMargin,\r\n   params.bottomMargin + 500);\r\n\r\n//params.gravity = Gravity.TOP;\r\n\r\nsnackBarView.setLayoutParams(params);\r\n\r\nsnackbar.show();\r\n```\r\nThe problem I&#39;m facing is that if the snackbar is at the bottom of the screen (``` params.gravity = Gravity.BOTTOM;```) the bottom margin is not applied; however if the snackbar is placed at top of the screen (``` params.gravity = Gravity.TOP; params.topMargin = 500;```) the top margin is correctly applied.\r\n\r\nTwo screenshots of the issue:\r\n\r\n[top margin correctly applied][1]\r\n\r\n[bottom margin not applied][2]\r\n\r\nThanks for your help.\r\n\r\n\r\n**EDIT:**\r\n\r\nThe following is my layout xml file. Not sure if this could help, but here we are.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/coordinatorLayoutContent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/constraintLayoutContent&quot;&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0B0k0.png\r\n  [2]: https://i.stack.imgur.com/v8XDj.png","title":"Cannot set SnackBar bottom margin","body":"<p>Following the tips given in <a href=\"https://stackoverflow.com/questions/31514019/add-margins-to-snackbar-view\">this</a> thread I'm setting the bottom margin of a snackbar to ca. 55 dp in order to have it above the FAB.</p>\n\n<p>The code is - as in the other question:</p>\n\n<pre><code>Snackbar snackbar = Snackbar.make(constraintLayoutContent, msg, Snackbar.LENGTH_LONG);\nsnackbar.setAction(action, v -&gt; snackbar.dismiss());\n\nView snackBarView = snackbar.getView();\n\nCoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) snackBarView.getLayoutParams();\n\nparams.setMargins(params.leftMargin, \n   params.topMargin, \n   params.rightMargin,\n   params.bottomMargin + 500);\n\n//params.gravity = Gravity.TOP;\n\nsnackBarView.setLayoutParams(params);\n\nsnackbar.show();\n</code></pre>\n\n<p>The problem I'm facing is that if the snackbar is at the bottom of the screen (<code>params.gravity = Gravity.BOTTOM;</code>) the bottom margin is not applied; however if the snackbar is placed at top of the screen (<code>params.gravity = Gravity.TOP; params.topMargin = 500;</code>) the top margin is correctly applied.</p>\n\n<p>Two screenshots of the issue:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0B0k0.png\" rel=\"nofollow noreferrer\">top margin correctly applied</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/v8XDj.png\" rel=\"nofollow noreferrer\">bottom margin not applied</a></p>\n\n<p>Thanks for your help.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The following is my layout xml file. Not sure if this could help, but here we are.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/coordinatorLayoutContent\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/constraintLayoutContent\"&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","repository"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1666273762,"post_id":74140375,"comment_id":130901424,"body_markdown":"One possible way to do this is to pass a boolean flag from your controller, let&#39;s say filterByCondicao, and then have a clause like:\nAND (:filterByCondicao is false or condicao &lt;&gt; &#39;Inativo&#39;). When the checkbox is set, you should pass false, otherwise true when it&#39;s not set. This way when it&#39;s false the first part of the clause will evaluate to true and your row will be fetched, otherwise, when it&#39;s true it will filter by condicao column. But make sure to test this, boolean logic is hard :) I hope I haven&#39;t not made a mistake.","body":"One possible way to do this is to pass a boolean flag from your controller, let&#39;s say filterByCondicao, and then have a clause like: AND (:filterByCondicao is false or condicao &lt;&gt; &#39;Inativo&#39;). When the checkbox is set, you should pass false, otherwise true when it&#39;s not set. This way when it&#39;s false the first part of the clause will evaluate to true and your row will be fetched, otherwise, when it&#39;s true it will filter by condicao column. But make sure to test this, boolean logic is hard :) I hope I haven&#39;t not made a mistake."},{"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"score":0,"creation_date":1666283237,"post_id":74140375,"comment_id":130905409,"body_markdown":"thanks for answering.\n\ndo you have an example to show me?\n\nis that I&#39;m starting now, and it&#39;s still a little confused","body":"thanks for answering.  do you have an example to show me?  is that I&#39;m starting now, and it&#39;s still a little confused"}],"answers":[{"comments":[{"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"score":0,"creation_date":1666291342,"post_id":74143443,"comment_id":130908248,"body_markdown":"my friend, THANK YOU very much. it worked out.\n\njust to understand better, in case I want to pass a condition before the OR, what would it look like?","body":"my friend, THANK YOU very much. it worked out.  just to understand better, in case I want to pass a condition before the OR, what would it look like?"}],"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666284004,"creation_date":1666284004,"answer_id":74143443,"question_id":74140375,"body_markdown":"One possible way to do this is to pass a boolean flag from your controller, let&#39;s say filterByCondicao, and then have a clause like: \r\n\r\n`AND (:filterByCondicao is false or condicao &lt;&gt; &#39;Inativo&#39;)`\r\n\r\nWhen the checkbox is set, you should pass false, otherwise true when it&#39;s not set. This way when it&#39;s false the first part of the clause will evaluate to true and your row will be fetched, otherwise, when it&#39;s true it will filter by condicao column.\r\n\r\nI don&#39;t have an example as is but you have to do the following:\r\n1. Send a request parameter from your frontend like &lt;your_url&gt;?filterByCondicao=false when the checkbox is checked and true otherwise. I can&#39;t help you here because I work only with the backend and don&#39;t really have any front-end knowledge.\r\n2. In your rest controller add a new parameter `@RequestParam(required = true) Boolean filterByCondicao`\r\n3. Pass that parameter to your service and then to your repository, the repository query has to be updated as stated above.","title":"Spring Data JPA editing @query value on condition","body":"<p>One possible way to do this is to pass a boolean flag from your controller, let's say filterByCondicao, and then have a clause like:</p>\n<p><code>AND (:filterByCondicao is false or condicao &lt;&gt; 'Inativo')</code></p>\n<p>When the checkbox is set, you should pass false, otherwise true when it's not set. This way when it's false the first part of the clause will evaluate to true and your row will be fetched, otherwise, when it's true it will filter by condicao column.</p>\n<p>I don't have an example as is but you have to do the following:</p>\n<ol>\n<li>Send a request parameter from your frontend like &lt;your_url&gt;?filterByCondicao=false when the checkbox is checked and true otherwise. I can't help you here because I work only with the backend and don't really have any front-end knowledge.</li>\n<li>In your rest controller add a new parameter <code>@RequestParam(required = true) Boolean filterByCondicao</code></li>\n<li>Pass that parameter to your service and then to your repository, the repository query has to be updated as stated above.</li>\n</ol>\n"}],"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74143443,"answer_count":1,"score":0,"last_activity_date":1666284004,"creation_date":1666271094,"question_id":74140375,"body_markdown":"Good morning,\r\n\r\nI have the following query:\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Transactional\r\n    @Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = salario+(salario * :percentualAumento)/100 WHERE id IN (:funcionarioId) AND condicao &lt;&gt; &#39;Inativo&#39; &quot;)\r\n    void AlterarSalarioPorPercentual(Double percentualAumento, Long funcionarioId);\r\n\r\n\r\nbut if the user checks a checkbox on the screen, the query would have to be:\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Transactional\r\n    @Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = salario+(salario * :percentualAumento)/100 WHERE id IN (:funcionarioId)&quot;)\r\n    void AlterarSalarioDemitidosPorPercentual(Double percentualAumento, Long funcionarioId);\r\n\r\n\r\nis there any way I can do this without having to do Two queries?","title":"Spring Data JPA editing @query value on condition","body":"<p>Good morning,</p>\n<p>I have the following query:</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = salario+(salario * :percentualAumento)/100 WHERE id IN (:funcionarioId) AND condicao &lt;&gt; 'Inativo' &quot;)\nvoid AlterarSalarioPorPercentual(Double percentualAumento, Long funcionarioId);\n</code></pre>\n<p>but if the user checks a checkbox on the screen, the query would have to be:</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = salario+(salario * :percentualAumento)/100 WHERE id IN (:funcionarioId)&quot;)\nvoid AlterarSalarioDemitidosPorPercentual(Double percentualAumento, Long funcionarioId);\n</code></pre>\n<p>is there any way I can do this without having to do Two queries?</p>\n"},{"tags":["java","spring","spring-boot","getter-setter"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666286032,"post_id":74143249,"comment_id":130906448,"body_markdown":"Your need to let Spring Data know about your entity classes. It seems like it‚Äôs picking up a spring security user class. Check your imports","body":"Your need to let Spring Data know about your entity classes. It seems like it‚Äôs picking up a spring security user class. Check your imports"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1666286320,"post_id":74143249,"comment_id":130906559,"body_markdown":"Managed entity i.e. Entity Class is the one annotated with `@Entity`. Since `org.springframework.security.core.userdetails.User` is not an entity, you are getting this error. Change import","body":"Managed entity i.e. Entity Class is the one annotated with <code>@Entity</code>. Since <code>org.springframework.security.core.userdetails.User</code> is not an entity, you are getting this error. Change import"}],"owner":{"account_id":26430666,"reputation":1,"user_id":20076899,"display_name":"Vladimir Leonov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666283014,"creation_date":1666283014,"question_id":74143249,"body_markdown":"I am making authorization for a web application. And I an faced witw problem. I can not use Getters and Setters. Namely setActive ans setRole. And I can not create variable UserFromDb.\r\n\r\nRegistrationController.java\r\n\r\n\r\n    import com.Vova.Restart.Models.Role;\r\n    import com.Vova.Restart.repo.UserRepo;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n\r\n    import java.util.Collections;\r\n    import java.util.Map;\r\n\r\n    @Controller\r\n    public class RegistrationController {\r\n    @Autowired\r\n    private UserRepo userRepo;\r\n\r\n\r\n    @GetMapping(&quot;/registration&quot;)\r\n    public String registration() {\r\n        return &quot;registration&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public String addUser (User user, Map&lt;String, Object&gt; model) {\r\n        userFromDb = userRepo.findByUsername(user.getUsername());\r\n\r\n        if (userFromDb != null) {\r\n            model.put(&quot;message&quot;, &quot;User exists!&quot;);\r\n            return &quot;registration&quot;;\r\n        }\r\n\r\n        user.setActive(true);\r\n        user.setRole(Collections.singleton(Role.USER));\r\n\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n}\r\n\r\nUser.java\r\n\r\n    import javax.persistence.*;\r\n    import java.util.Set;\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String username, password;\r\n    private boolean active;\r\n\r\n    @ElementCollection(targetClass = Role.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;userRole&quot;, joinColumns = @JoinColumn(name = &quot;userId&quot;))\r\n    @Enumerated(EnumType.STRING)\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public boolean isActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(boolean active) {\r\n        this.active = active;\r\n    }\r\n\r\n    public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n\r\n    public void setRole(Set&lt;Object&gt; singleton) {\r\n\r\n    }\r\n    }\r\n\r\nI tried to use import com.Vova.Restart.Models.User instead import org.springframework.security.core.userdetails.User and this error has gone but i get another problem `` Not a managed type: class org.springframework.security.core.userdetails.User ``. I think this is wrong imort. How can i solve it?","title":"Code can not find Getters and Setters; Not a managed type","body":"<p>I am making authorization for a web application. And I an faced witw problem. I can not use Getters and Setters. Namely setActive ans setRole. And I can not create variable UserFromDb.</p>\n<p>RegistrationController.java</p>\n<pre><code>import com.Vova.Restart.Models.Role;\nimport com.Vova.Restart.repo.UserRepo;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport java.util.Collections;\nimport java.util.Map;\n\n@Controller\npublic class RegistrationController {\n@Autowired\nprivate UserRepo userRepo;\n\n\n@GetMapping(&quot;/registration&quot;)\npublic String registration() {\n    return &quot;registration&quot;;\n}\n\n@PostMapping(&quot;/registration&quot;)\npublic String addUser (User user, Map&lt;String, Object&gt; model) {\n    userFromDb = userRepo.findByUsername(user.getUsername());\n\n    if (userFromDb != null) {\n        model.put(&quot;message&quot;, &quot;User exists!&quot;);\n        return &quot;registration&quot;;\n    }\n\n    user.setActive(true);\n    user.setRole(Collections.singleton(Role.USER));\n\n    return &quot;redirect:/login&quot;;\n}\n</code></pre>\n<p>}</p>\n<p>User.java</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Set;\n\n\n@Entity\n@Table(name = &quot;User&quot;)\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\nprivate String username, password;\nprivate boolean active;\n\n@ElementCollection(targetClass = Role.class, fetch = FetchType.EAGER)\n@CollectionTable(name = &quot;userRole&quot;, joinColumns = @JoinColumn(name = &quot;userId&quot;))\n@Enumerated(EnumType.STRING)\nprivate Set&lt;Role&gt; roles;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic boolean isActive() {\n    return active;\n}\n\npublic void setActive(boolean active) {\n    this.active = active;\n}\n\npublic Set&lt;Role&gt; getRoles() {\n    return roles;\n}\n\npublic void setRoles(Set&lt;Role&gt; roles) {\n    this.roles = roles;\n}\n\npublic void setRole(Set&lt;Object&gt; singleton) {\n\n}\n}\n</code></pre>\n<p>I tried to use import com.Vova.Restart.Models.User instead import org.springframework.security.core.userdetails.User and this error has gone but i get another problem <code>Not a managed type: class org.springframework.security.core.userdetails.User</code>. I think this is wrong imort. How can i solve it?</p>\n"},{"tags":["java","spring-boot","dependency-injection","apache-camel","bindy"],"comments":[{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1659470144,"post_id":73208561,"comment_id":129301408,"body_markdown":"It doesn&#39;t look like Bindy supports runtime configuration of separator.","body":"It doesn&#39;t look like Bindy supports runtime configuration of separator."},{"owner":{"account_id":4555893,"reputation":780,"user_id":3699649,"accept_rate":80,"display_name":"Fjordo"},"score":0,"creation_date":1659512807,"post_id":73208561,"comment_id":129309735,"body_markdown":"it is what I supposed, can I do something with spring and dependency injection?","body":"it is what I supposed, can I do something with spring and dependency injection?"},{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1659551182,"post_id":73208561,"comment_id":129323571,"body_markdown":"Not that I know of. If you have a known set of delimiters, you could have a separate DTO class (w/ @CsvRecord annotation) for each one, i.e. MyClassComma, MyClassSemicolon, etc. Then at runtime choose the correct DTO class based on a spring property that specifies the delimiter.","body":"Not that I know of. If you have a known set of delimiters, you could have a separate DTO class (w/ @CsvRecord annotation) for each one, i.e. MyClassComma, MyClassSemicolon, etc. Then at runtime choose the correct DTO class based on a spring property that specifies the delimiter."},{"owner":{"account_id":4555893,"reputation":780,"user_id":3699649,"accept_rate":80,"display_name":"Fjordo"},"score":0,"creation_date":1666253539,"post_id":73208561,"comment_id":130893540,"body_markdown":"Thanks, if you answer I&#39;ll accept it and close the post","body":"Thanks, if you answer I&#39;ll accept it and close the post"},{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1666283009,"post_id":73208561,"comment_id":130905333,"body_markdown":"ok added an answer.","body":"ok added an answer."}],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666282990,"creation_date":1666282990,"answer_id":74143241,"question_id":73208561,"body_markdown":"Not that I know of. If you have a known set of delimiters, you could have a separate DTO class (w/ @CsvRecord annotation) for each one, i.e. MyClassComma, MyClassSemicolon, etc. Then at runtime choose the correct DTO class based on a spring property that specifies the delimiter.","title":"Camel bindy separator configurable through properties","body":"<p>Not that I know of. If you have a known set of delimiters, you could have a separate DTO class (w/ @CsvRecord annotation) for each one, i.e. MyClassComma, MyClassSemicolon, etc. Then at runtime choose the correct DTO class based on a spring property that specifies the delimiter.</p>\n"}],"owner":{"account_id":4555893,"reputation":780,"user_id":3699649,"accept_rate":80,"display_name":"Fjordo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74143241,"answer_count":1,"score":0,"last_activity_date":1666282990,"creation_date":1659447393,"question_id":73208561,"body_markdown":"I use Apache Camel in a Spring Boot Java project. I have to parse a csv and split the lines with a separator. I use [camel bindy][1] to parse the csv and read it as a pojo bean class.\r\n\r\nHere is how I configure the camel bindy \r\n\r\n    @CsvRecord( separator = &quot;,&quot; )\r\n    public Class MyClass {\r\n    }\r\n\r\nHere is my question: how can I change the separator value dynamically, reading it from a property? I&#39;ve tried `@CsvRecord( separator = &quot;${my-prop.separator}&quot; )` but it did not work.\r\n\r\n\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.18.x/dataformats/bindy-dataformat.html","title":"Camel bindy separator configurable through properties","body":"<p>I use Apache Camel in a Spring Boot Java project. I have to parse a csv and split the lines with a separator. I use <a href=\"https://camel.apache.org/components/3.18.x/dataformats/bindy-dataformat.html\" rel=\"nofollow noreferrer\">camel bindy</a> to parse the csv and read it as a pojo bean class.</p>\n<p>Here is how I configure the camel bindy</p>\n<pre><code>@CsvRecord( separator = &quot;,&quot; )\npublic Class MyClass {\n}\n</code></pre>\n<p>Here is my question: how can I change the separator value dynamically, reading it from a property? I've tried <code>@CsvRecord( separator = &quot;${my-prop.separator}&quot; )</code> but it did not work.</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":5576966,"reputation":609,"user_id":4420094,"accept_rate":80,"display_name":"nejckorasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666282879,"creation_date":1666282879,"answer_id":74143216,"question_id":74143215,"body_markdown":"[nejckorasa/s3-stream-unzip][1] manages unzipping of data in AWS S3 utilising stream download and multipart upload. It can run anywhere with access to S3 (including AWS Lambda), it uses Java S3 SDK library to connect to S3.\r\n\r\nUnzipping is achieved without knowing the size beforehand and without keeping it all in memory or writing to disk. That makes it suitable for large data files - it has been used to unzip files of size 100GB+.\r\n\r\n[nejckorasa/s3-stream-unzip][1] is available in [Maven Central][2].\r\n\r\n\r\n  [1]: https://github.com/nejckorasa/s3-stream-unzip\r\n  [2]: https://search.maven.org/search?q=g:%22io.github.nejckorasa%22%20AND%20a:%22s3-stream-unzip%22","title":"How to stream and unzip large files in S3 with Java","body":"<p><a href=\"https://github.com/nejckorasa/s3-stream-unzip\" rel=\"nofollow noreferrer\">nejckorasa/s3-stream-unzip</a> manages unzipping of data in AWS S3 utilising stream download and multipart upload. It can run anywhere with access to S3 (including AWS Lambda), it uses Java S3 SDK library to connect to S3.</p>\n<p>Unzipping is achieved without knowing the size beforehand and without keeping it all in memory or writing to disk. That makes it suitable for large data files - it has been used to unzip files of size 100GB+.</p>\n<p><a href=\"https://github.com/nejckorasa/s3-stream-unzip\" rel=\"nofollow noreferrer\">nejckorasa/s3-stream-unzip</a> is available in <a href=\"https://search.maven.org/search?q=g:%22io.github.nejckorasa%22%20AND%20a:%22s3-stream-unzip%22\" rel=\"nofollow noreferrer\">Maven Central</a>.</p>\n"}],"owner":{"account_id":5576966,"reputation":609,"user_id":4420094,"accept_rate":80,"display_name":"nejckorasa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666282879,"creation_date":1666282879,"question_id":74143215,"body_markdown":"How to unzip large files in AWS S3 without knowing the size beforehand and without keeping it all in memory or writing to disk?","title":"How to stream and unzip large files in S3 with Java","body":"<p>How to unzip large files in AWS S3 without knowing the size beforehand and without keeping it all in memory or writing to disk?</p>\n"},{"tags":["java","regex","kotlin"],"comments":[{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":3,"creation_date":1665870187,"post_id":74081952,"comment_id":130801388,"body_markdown":"Why is this tagged with several different languages, if you want a regex?‚ÄÇ‚Äî However, I don&#39;t think this is possible with a regex, as standard regexes can&#39;t support arbitrary nesting.‚ÄÇI&#39;d suggest looking at a simple parser, which is more complex but much more flexible.","body":"Why is this tagged with several different languages, if you want a regex?‚ÄÇ‚Äî However, I don&#39;t think this is possible with a regex, as standard regexes can&#39;t support arbitrary nesting.‚ÄÇI&#39;d suggest looking at a simple parser, which is more complex but much more flexible."},{"owner":{"account_id":14601696,"reputation":595,"user_id":10545803,"display_name":"Mehran Jalili"},"score":0,"creation_date":1665892771,"post_id":74081952,"comment_id":130803685,"body_markdown":"Because any examples in those languages would be fine.","body":"Because any examples in those languages would be fine."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1666031269,"post_id":74081952,"comment_id":130834384,"body_markdown":"Have a look at BeanShell - scripted Java","body":"Have a look at BeanShell - scripted Java"},{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":0,"creation_date":1666250901,"post_id":74081952,"comment_id":130892554,"body_markdown":"Do you only want to parse the string or also do some kind of execution? What are the semantics of the curly brackets? In programming languages like java this would be used to declare commands or functions. In your example you pass literal values. So it is still not obvious what you are going to achieve. Can you explain?","body":"Do you only want to parse the string or also do some kind of execution? What are the semantics of the curly brackets? In programming languages like java this would be used to declare commands or functions. In your example you pass literal values. So it is still not obvious what you are going to achieve. Can you explain?"},{"owner":{"account_id":17612183,"reputation":381,"user_id":13413423,"display_name":"Mehranjp73"},"score":0,"creation_date":1666368610,"post_id":74081952,"comment_id":130928374,"body_markdown":"Just parsing. I&#39;m basically removing buttons and replacing it with a textbox to tell my app what to do. I&#39;m trying to do this by special syntax created by me.","body":"Just parsing. I&#39;m basically removing buttons and replacing it with a textbox to tell my app what to do. I&#39;m trying to do this by special syntax created by me."}],"answers":[{"comments":[{"owner":{"account_id":17612183,"reputation":381,"user_id":13413423,"display_name":"Mehranjp73"},"score":0,"creation_date":1666369073,"post_id":74102105,"comment_id":130928533,"body_markdown":"I&#39;m currently trying to make or find a simple example for ANTLR. It is interesting.","body":"I&#39;m currently trying to make or find a simple example for ANTLR. It is interesting."},{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":1,"creation_date":1666461153,"post_id":74102105,"comment_id":130944615,"body_markdown":"At the end of the [ANTLR getting started page](https://github.com/antlr/antlr4/blob/master/doc/getting-started.md) is a very basic example.","body":"At the end of the <a href=\"https://github.com/antlr/antlr4/blob/master/doc/getting-started.md\" rel=\"nofollow noreferrer\">ANTLR getting started page</a> is a very basic example."}],"tags":[],"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666282872,"creation_date":1666033980,"answer_id":74102105,"question_id":74081952,"body_markdown":"If you want to parse recursive languages with undefined recursion depth you can&#39;t use regex that only parses regular languages and is implemented using a [Deterministic Finite Automaton](https://en.wikipedia.org/wiki/Deterministic_finite_automaton).\r\n\r\nUse a parser generator like [ANTLR](https://www.antlr.org/) instead that suppurts non-regular grammars. It includes grammar files for all kinds of existing programming languages that you can use as example for parsing your own language.\r\n\r\n**Update:**\r\n\r\nIf this seems too oversized or too much to learn for what you want to do, you could call regex substitution in a loop and resolve the nested structure from inside to outside. Pseudo code:\r\n\r\n```none\r\nwhile true:\r\n  search any innermost bracket pair (that doesn&#39;t contain nested brackets) with regex\r\n  if found:\r\n    parse content of innermost bracket pair\r\n    remove bracket and its content from input or substitute with something w/o brackets\r\n  else:\r\n    parse content of remaining input\r\n    exit loop\r\n```\r\n","title":"How to read functions from a string using regex from commands in Java or What are the alternative options?","body":"<p>If you want to parse recursive languages with undefined recursion depth you can't use regex that only parses regular languages and is implemented using a <a href=\"https://en.wikipedia.org/wiki/Deterministic_finite_automaton\" rel=\"nofollow noreferrer\">Deterministic Finite Automaton</a>.</p>\n<p>Use a parser generator like <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a> instead that suppurts non-regular grammars. It includes grammar files for all kinds of existing programming languages that you can use as example for parsing your own language.</p>\n<p><strong>Update:</strong></p>\n<p>If this seems too oversized or too much to learn for what you want to do, you could call regex substitution in a loop and resolve the nested structure from inside to outside. Pseudo code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>while true:\n  search any innermost bracket pair (that doesn't contain nested brackets) with regex\n  if found:\n    parse content of innermost bracket pair\n    remove bracket and its content from input or substitute with something w/o brackets\n  else:\n    parse content of remaining input\n    exit loop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4944718,"reputation":26372,"user_id":4116300,"accept_rate":82,"display_name":"Roh&#236;t J&#237;ndal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666101937,"creation_date":1666092582,"answer_id":74110227,"question_id":74081952,"body_markdown":"As per my understanding, We are having function calls as a string inside the function. If Yes, we can give a try to this `RegEx`.\r\n\r\n    \\w+\\([^\\)]*\\)\r\n\r\n`\\w` **:** matches word characters. i.e. `a-z`, `A-Z`, `0-9`, including `_ (underscore)`.  \r\n\r\n`+` **:** matches one or more occurrences of the word characters.\r\n\r\n`\\(` **:** matches opening round bracket\r\n\r\n`[^\\)]*` **:** matches zero or more characters except `/` and `)`\r\n \r\n`\\)` **:** matches closing round bracket\r\n\r\nLive Demo (Just for a demo purpose I am using JavaScript, You can make the changes as per the Java) **:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const str = &quot;go(){do(){go}} do()&quot;;\r\n\r\n    console.log(str.match(/\\w+\\([^\\)]*\\)/g));\r\n    // [&quot;go()&quot;, &quot;do()&quot;, &quot;do()&quot;]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to read functions from a string using regex from commands in Java or What are the alternative options?","body":"<p>As per my understanding, We are having function calls as a string inside the function. If Yes, we can give a try to this <code>RegEx</code>.</p>\n<pre><code>\\w+\\([^\\)]*\\)\n</code></pre>\n<p><code>\\w</code> <strong>:</strong> matches word characters. i.e. <code>a-z</code>, <code>A-Z</code>, <code>0-9</code>, including <code>_ (underscore)</code>.</p>\n<p><code>+</code> <strong>:</strong> matches one or more occurrences of the word characters.</p>\n<p><code>\\(</code> <strong>:</strong> matches opening round bracket</p>\n<p><code>[^\\)]*</code> <strong>:</strong> matches zero or more characters except <code>/</code> and <code>)</code></p>\n<p><code>\\)</code> <strong>:</strong> matches closing round bracket</p>\n<p>Live Demo (Just for a demo purpose I am using JavaScript, You can make the changes as per the Java) <strong>:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = \"go(){do(){go}} do()\";\n\nconsole.log(str.match(/\\w+\\([^\\)]*\\)/g));\n// [\"go()\", \"do()\", \"do()\"]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17612183,"reputation":381,"user_id":13413423,"display_name":"Mehranjp73"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":74102105,"answer_count":2,"score":3,"last_activity_date":1666282872,"creation_date":1665857922,"question_id":74081952,"body_markdown":"I want to give commands using function like structure in string. For example I have three functions: \r\n\r\n    go() do() hello()\r\n\r\n\r\nbut also these function have bodies that also could contain the same functions.\r\n\r\n    &quot;go(){do(){go}} do()&quot;\r\n\r\nThese functions can also use parameters. \r\nHow can I do this in regex. It is like creating a programming language.\r\n\r\nBasically those are not methods but classes that are all implemented from the same abstract class. Each classes have a parameter by the type of list of those of the same classes. My intentions is like a calculator that accept parentheses.  \r\n5* (2+5-(5*9))\r\n\r\nMy commands can get complicated:\r\n\r\n    go(true, 4){do(), hello(){go(){}}\r\n\r\n\r\n","title":"How to read functions from a string using regex from commands in Java or What are the alternative options?","body":"<p>I want to give commands using function like structure in string. For example I have three functions:</p>\n<pre><code>go() do() hello()\n</code></pre>\n<p>but also these function have bodies that also could contain the same functions.</p>\n<pre><code>&quot;go(){do(){go}} do()&quot;\n</code></pre>\n<p>These functions can also use parameters.\nHow can I do this in regex. It is like creating a programming language.</p>\n<p>Basically those are not methods but classes that are all implemented from the same abstract class. Each classes have a parameter by the type of list of those of the same classes. My intentions is like a calculator that accept parentheses.<br />\n5* (2+5-(5*9))</p>\n<p>My commands can get complicated:</p>\n<pre><code>go(true, 4){do(), hello(){go(){}}\n</code></pre>\n"},{"tags":["java","swing","java-11"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666094784,"post_id":74110066,"comment_id":130849473,"body_markdown":"It&#39;s not clear to me. Have you written a class that extends `JFileChooser`? Would you consider writing your own _file chooser_ component, i.e. one that does **not** extend `JFileChooser` (but maybe has a member variable of type `JFileChooser`)?","body":"It&#39;s not clear to me. Have you written a class that extends <code>JFileChooser</code>? Would you consider writing your own <i>file chooser</i> component, i.e. one that does <b>not</b> extend <code>JFileChooser</code> (but maybe has a member variable of type <code>JFileChooser</code>)?"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666096652,"post_id":74110066,"comment_id":130850170,"body_markdown":"I am using a custom `JFileChooser` - `CustomFileChooser`, yes. However, the behavior is the same for a standard file chooser. I just created one via `JFileChooser saveDialog = new JFileChooser( file );` and the behavior when a user enters a space as a filename is exactly the same. You can test this.","body":"I am using a custom <code>JFileChooser</code> - <code>CustomFileChooser</code>, yes. However, the behavior is the same for a standard file chooser. I just created one via <code>JFileChooser saveDialog = new JFileChooser( file );</code> and the behavior when a user enters a space as a filename is exactly the same. You can test this."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1666097029,"post_id":74110066,"comment_id":130850296,"body_markdown":"We could test this if you had modified your question to include the [mre] you tested with.","body":"We could test this if you had modified your question to include the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> you tested with."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666097276,"post_id":74110066,"comment_id":130850357,"body_markdown":"I did provide a minimal reproducible example, which is the codeblock in the section **Notes**.","body":"I did provide a minimal reproducible example, which is the codeblock in the section <b>Notes</b>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666098117,"post_id":74110066,"comment_id":130850634,"body_markdown":"The minimal reproducible example has been extended to comply. It includes steps to follow and should be enough to reproduce the error.","body":"The minimal reproducible example has been extended to comply. It includes steps to follow and should be enough to reproduce the error."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1666099359,"post_id":74110066,"comment_id":130851176,"body_markdown":"Seems like this bug is already reported as [JDK-8196673](https://bugs.openjdk.org/browse/JDK-8196673).","body":"Seems like this bug is already reported as <a href=\"https://bugs.openjdk.org/browse/JDK-8196673\" rel=\"nofollow noreferrer\">JDK-8196673</a>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666099748,"post_id":74110066,"comment_id":130851370,"body_markdown":"@JohannesKuhn I have had a look at this bug reported, but was not yet convinced enough, that the issue is exactly the same (though it might be). The reason is, the reproducible example in the bug report is handled correctly in Java 11, because the the string `testspace ` will not cause an exception in the `WindowsPathParser` and so can be handled in `JFileChooser#approveSelection`. Still I agree, these seem to be related.","body":"@JohannesKuhn I have had a look at this bug reported, but was not yet convinced enough, that the issue is exactly the same (though it might be). The reason is, the reproducible example in the bug report is handled correctly in Java 11, because the the string <code>testspace </code> will not cause an exception in the <code>WindowsPathParser</code> and so can be handled in <code>JFileChooser#approveSelection</code>. Still I agree, these seem to be related."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666102641,"post_id":74110066,"comment_id":130852697,"body_markdown":"*I did provide a minimal reproducible example* - That is not an [mre]. We should be able to copy/paste/compile/test the code. We should NOT have to create the frame or main() method or add import statements to execute the code. The easier it is for us to test, the more likely we are to test/help.","body":"<i>I did provide a minimal reproducible example</i> - That is not an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We should be able to copy/paste/compile/test the code. We should NOT have to create the frame or main() method or add import statements to execute the code. The easier it is for us to test, the more likely we are to test/help."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666102967,"post_id":74110066,"comment_id":130852859,"body_markdown":"The ability to simply copy+paste is not required by the [mre guideline](https://stackoverflow.com/help/minimal-reproducible-example).","body":"The ability to simply copy+paste is not required by the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mre guideline</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666106415,"post_id":74110066,"comment_id":130854356,"body_markdown":"I would suggest it is implied. Your choice on how helpful you want to be.  *How to solve?* - a workaround could be to add a `FocusListener` to the text field and do a `trim()` on the text in the text field on `focusLost`. Or you could add a DocumentFilter to the text field to prevent insertion of spaces anywhere. I don&#39;t have an MRE to work with, so I can&#39;t test the suggestion.","body":"I would suggest it is implied. Your choice on how helpful you want to be.  <i>How to solve?</i> - a workaround could be to add a <code>FocusListener</code> to the text field and do a <code>trim()</code> on the text in the text field on <code>focusLost</code>. Or you could add a DocumentFilter to the text field to prevent insertion of spaces anywhere. I don&#39;t have an MRE to work with, so I can&#39;t test the suggestion."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666107334,"post_id":74110066,"comment_id":130854742,"body_markdown":"That‚Äôs a though issue. As far as I can see, it‚Äôs possible to intercept at the right place using the `FileSystemView` API, but the entire file chooser implementation seems to have no notion of the idea that a path or file name could be invalid (in fact, `java.io.File` doesn‚Äôt care for the syntax either). So what to do after detecting the invalid path at the interception point?","body":"That‚Äôs a though issue. As far as I can see, it‚Äôs possible to intercept at the right place using the <code>FileSystemView</code> API, but the entire file chooser implementation seems to have no notion of the idea that a path or file name could be invalid (in fact, <code>java.io.File</code> doesn‚Äôt care for the syntax either). So what to do after detecting the invalid path at the interception point?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1666107370,"post_id":74110066,"comment_id":130854762,"body_markdown":"@camickr I disagree on the imports part - an IDE usually can add the imports - if there is no ambiguity (`java.awt.List` and `java.util.List` is such an ambiguity, but I&#39;d go with the util one)","body":"@camickr I disagree on the imports part - an IDE usually can add the imports - if there is no ambiguity (<code>java.awt.List</code> and <code>java.util.List</code> is such an ambiguity, but I&#39;d go with the util one)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666107493,"post_id":74110066,"comment_id":130854804,"body_markdown":"@Koenigsberg Try it with a single space.","body":"@Koenigsberg Try it with a single space."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666108041,"post_id":74110066,"comment_id":130855071,"body_markdown":"@JohannesKuhn On Windows 11 in combination with Java `11.0.14_9` a single space input causes the exception to be thrown on my machine. The exception is triggered by the last `if` condition in `WindowsPathParser#normalize`.","body":"@JohannesKuhn On Windows 11 in combination with Java <code>11.0.14_9</code> a single space input causes the exception to be thrown on my machine. The exception is triggered by the last <code>if</code> condition in <code>WindowsPathParser#normalize</code>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666110784,"post_id":74110066,"comment_id":130856071,"body_markdown":"@Holger I am thinking the same. What I found interesting is the distinct behavior for these strings: `abc[space]` versus `[space]`. Both end in a space, so for both `if (lastC == &#39; &#39;)` results in calling `throw new InvalidPathException`. Only for `abc[space]` this results in correct error handling, while for `[space]` the result is an unhandled exception. The difference is, that for `[space]` the exception ends up being handled in `pumpOneEventForFilters` on the EDT, so there is some distinction in the way these inputs are processed internally.","body":"@Holger I am thinking the same. What I found interesting is the distinct behavior for these strings: <code>abc[space]</code> versus <code>[space]</code>. Both end in a space, so for both <code>if (lastC == &#39; &#39;)</code> results in calling <code>throw new InvalidPathException</code>. Only for <code>abc[space]</code> this results in correct error handling, while for <code>[space]</code> the result is an unhandled exception. The difference is, that for <code>[space]</code> the exception ends up being handled in <code>pumpOneEventForFilters</code> on the EDT, so there is some distinction in the way these inputs are processed internally."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666110927,"post_id":74110066,"comment_id":130856109,"body_markdown":"@Holger Ah I was too late, I see you posted a response. Will check it out. Thank you. :)","body":"@Holger Ah I was too late, I see you posted a response. Will check it out. Thank you. :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666110929,"post_id":74110066,"comment_id":130856112,"body_markdown":"@Koenigsberg note that I posted an answer which tries to explain it. It boils down to whether `java.io.File` thinks that this invalid path is a directory or not.","body":"@Koenigsberg note that I posted an answer which tries to explain it. It boils down to whether <code>java.io.File</code> thinks that this invalid path is a directory or not."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666112435,"post_id":74110066,"comment_id":130856587,"body_markdown":"@JohannesKuhn *an IDE usually can add the imports* - you assume people use an IDE. The point of an MRE is to make it easy for everybody. If the OP has already created the MRE, then the imports have already been included, so the OP just need to company the entire class.","body":"@JohannesKuhn <i>an IDE usually can add the imports</i> - you assume people use an IDE. The point of an MRE is to make it easy for everybody. If the OP has already created the MRE, then the imports have already been included, so the OP just need to company the entire class."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666112488,"post_id":74110066,"comment_id":130856612,"body_markdown":"Minimal. Not everyone has a JDK, so should OP also include one?","body":"Minimal. Not everyone has a JDK, so should OP also include one?"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666112696,"post_id":74110066,"comment_id":130856674,"body_markdown":"@camickr This also doesn&#39;t seem to bother you [here](https://stackoverflow.com/questions/74066202/gui-jtable-change-borders-to-text/74072551#74072551), [here](https://stackoverflow.com/questions/74068743/customize-jfilechooser-vertical-scrollbar/74070636#74070636) or [here](https://stackoverflow.com/questions/73756115/incrementing-a-value-in-java-table-doesnt-work-after-one-record/73756711#73756711).","body":"@camickr This also doesn&#39;t seem to bother you <a href=\"https://stackoverflow.com/questions/74066202/gui-jtable-change-borders-to-text/74072551#74072551\">here</a>, <a href=\"https://stackoverflow.com/questions/74068743/customize-jfilechooser-vertical-scrollbar/74070636#74070636\">here</a> or <a href=\"https://stackoverflow.com/questions/73756115/incrementing-a-value-in-java-table-doesnt-work-after-one-record/73756711#73756711\">here</a>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":1,"creation_date":1666113629,"post_id":74110066,"comment_id":130856970,"body_markdown":"@camickr What are you even talking about. There is one useful answer, and it is **not** a proper MRE according to your standards, as it cannot simply be copypasted and be ready to run, but requires not only imports, but a framework being set up around it to compile and execute. I find it hard to believe that your comments in this section and the derisive tone you took since your first comment can be interpreted as anything other than toxicity under the guise of helpfulness.","body":"@camickr What are you even talking about. There is one useful answer, and it is <b>not</b> a proper MRE according to your standards, as it cannot simply be copypasted and be ready to run, but requires not only imports, but a framework being set up around it to compile and execute. I find it hard to believe that your comments in this section and the derisive tone you took since your first comment can be interpreted as anything other than toxicity under the guise of helpfulness."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666124479,"post_id":74110066,"comment_id":130860576,"body_markdown":"@camickr I was responding to the sentiment, *The people that took the time to provide answers took the time to post a better MRE*.","body":"@camickr I was responding to the sentiment, <i>The people that took the time to provide answers took the time to post a better MRE</i>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666124570,"post_id":74110066,"comment_id":130860601,"body_markdown":"@camickr Furthermore, I have no interest in engaging in quote wars with you. Your help has been noted. We will keep disagreeing on certain aspects of it. There is no further value to this discussion.","body":"@camickr Furthermore, I have no interest in engaging in quote wars with you. Your help has been noted. We will keep disagreeing on certain aspects of it. There is no further value to this discussion."}],"answers":[{"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666097680,"post_id":74111141,"comment_id":130850486,"body_markdown":"Have you tested your code? I took the time to integrate your classes into the codebase. The exact same error occurs. Try it yourself. Integrate those classes into your codebase, then call the file chooser dialog, enter only a space and confirm - an exception will be thrown. The problem is independent of the `JFileChooser` robustness, it occurs internally in the interactions between `BasicFileChooserUI` and `WindowsFileChooserUI`.","body":"Have you tested your code? I took the time to integrate your classes into the codebase. The exact same error occurs. Try it yourself. Integrate those classes into your codebase, then call the file chooser dialog, enter only a space and confirm - an exception will be thrown. The problem is independent of the <code>JFileChooser</code> robustness, it occurs internally in the interactions between <code>BasicFileChooserUI</code> and <code>WindowsFileChooserUI</code>."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666108332,"post_id":74111141,"comment_id":130855196,"body_markdown":"@Koenigsberg: I said it was a start.  Not a complete solution.  If I can access the file name for a save, so can you.","body":"@Koenigsberg: I said it was a start.  Not a complete solution.  If I can access the file name for a save, so can you."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666108949,"post_id":74111141,"comment_id":130855441,"body_markdown":"The issue here is, that `BasicFileChooserUI` and `WindowsFileChooserUI` interact with the input of the text field before the `JFileChooser` does. So e.g. filtering the selectable files is not relevant, as the text field is affected. Normally `approveSelection` should be the correct entry point to check filename validity, however an exception is thrown before the `JFileChooser` gets to interact with the user input in any meaningful way. This is why I suspect a JDK bug here and disagree with you on the helpfulness of a better `JFileChooser` implementation. See comments by Holger and Johannes.","body":"The issue here is, that <code>BasicFileChooserUI</code> and <code>WindowsFileChooserUI</code> interact with the input of the text field before the <code>JFileChooser</code> does. So e.g. filtering the selectable files is not relevant, as the text field is affected. Normally <code>approveSelection</code> should be the correct entry point to check filename validity, however an exception is thrown before the <code>JFileChooser</code> gets to interact with the user input in any meaningful way. This is why I suspect a JDK bug here and disagree with you on the helpfulness of a better <code>JFileChooser</code> implementation. See comments by Holger and Johannes."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666116687,"post_id":74111141,"comment_id":130858113,"body_markdown":"@Koenigsberg: Your last comment is an actionable response.  I suppose you&#39;ll have to implement your own `FileChooser` from other Swing components.","body":"@Koenigsberg: Your last comment is an actionable response.  I suppose you&#39;ll have to implement your own <code>FileChooser</code> from other Swing components."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1666096827,"creation_date":1666096827,"answer_id":74111141,"question_id":74110066,"body_markdown":"I extended `JFileChooser` to add a confirmation dialog if the file I wanted to save has the same name as an existing file.  Perhaps you can use this to start a more robust version of `JFileChooser`.\r\n\r\n    import java.io.File;\r\n    \r\n    import javax.swing.JFileChooser;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class OSFileChooser extends JFileChooser {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Override\r\n    \tpublic void approveSelection() {\r\n    \t\tFile f = getSelectedFile();\r\n    \t\t\r\n    \t\tif (f.exists() &amp;&amp; getDialogType() == SAVE_DIALOG) {\r\n    \t\t\tint result = JOptionPane.showConfirmDialog(this, f.getName() + \r\n    \t\t\t\t\t&quot; exists, overwrite?&quot;,\r\n    \t\t\t\t\t&quot;Existing file&quot;, JOptionPane.YES_NO_CANCEL_OPTION);\r\n    \t\t\tswitch (result) {\r\n    \t\t\tcase JOptionPane.YES_OPTION:\r\n    \t\t\t\tsuper.approveSelection();\r\n    \t\t\t\treturn;\r\n    \t\t\tcase JOptionPane.NO_OPTION:\r\n    \t\t\t\treturn;\r\n    \t\t\tcase JOptionPane.CLOSED_OPTION:\r\n    \t\t\t\treturn;\r\n    \t\t\tcase JOptionPane.CANCEL_OPTION:\r\n    \t\t\t\tcancelSelection();\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tsuper.approveSelection();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic File getSelectedFile() {\r\n    \t\tFile file = super.getSelectedFile();\r\n    \t\t\r\n    \t\tif (file != null &amp;&amp; getDialogType() == SAVE_DIALOG) {\r\n    \t\t\tString extension = getExtension(file);\r\n    \t\t\tif (extension.isEmpty()) {\r\n    \t\t\t\tFileTypeFilter filter = (FileTypeFilter) getFileFilter();\r\n    \t\t\t\tif (filter != null) {\r\n    \t\t\t\t\textension = filter.getExtension();\r\n    \t\t\t\t\tString fileName = file.getPath();\r\n    \t\t\t\t\tfileName += &quot;.&quot; + extension;\r\n    \t\t\t\t\tfile = new File(fileName);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn file;\r\n    \t}\r\n    \t\r\n    \tpublic String getExtension(File file) {\r\n    \t\tString extension = &quot;&quot;;\r\n    \t\tString s = file.getName();\r\n    \t\tint i = s.lastIndexOf(&#39;.&#39;);\r\n    \r\n    \t\tif (i &gt; 0 &amp;&amp; i &lt; (s.length() - 1)) {\r\n    \t\t\textension = s.substring(i + 1).toLowerCase();\r\n    \t\t}\r\n    \r\n    \t\treturn extension;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd the associated `FileTypeFilter` class.\r\n\r\n    import java.io.File;\r\n    \r\n    import javax.swing.filechooser.FileFilter;\r\n    \r\n    public class FileTypeFilter extends FileFilter {\r\n        private String extension;\r\n        private String description;\r\n     \r\n        public FileTypeFilter(String description, String extension) {\r\n            this.extension = extension;\r\n            this.description = description;\r\n        }\r\n     \r\n        @Override\r\n        public boolean accept(File file) {\r\n            if (file.isDirectory()) {\r\n                return true;\r\n            }\r\n            return file.getName().endsWith(&quot;.&quot; + extension);\r\n        }\r\n     \r\n        @Override\r\n        public String getDescription() {\r\n            return description + String.format(&quot; (*.%s)&quot;, extension);\r\n        }\r\n        \r\n        public String getExtension() {\r\n        \treturn extension;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"JFileChooser on Windows - exception when only space is entered","body":"<p>I extended <code>JFileChooser</code> to add a confirmation dialog if the file I wanted to save has the same name as an existing file.  Perhaps you can use this to start a more robust version of <code>JFileChooser</code>.</p>\n<pre><code>import java.io.File;\n\nimport javax.swing.JFileChooser;\nimport javax.swing.JOptionPane;\n\npublic class OSFileChooser extends JFileChooser {\n\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    public void approveSelection() {\n        File f = getSelectedFile();\n        \n        if (f.exists() &amp;&amp; getDialogType() == SAVE_DIALOG) {\n            int result = JOptionPane.showConfirmDialog(this, f.getName() + \n                    &quot; exists, overwrite?&quot;,\n                    &quot;Existing file&quot;, JOptionPane.YES_NO_CANCEL_OPTION);\n            switch (result) {\n            case JOptionPane.YES_OPTION:\n                super.approveSelection();\n                return;\n            case JOptionPane.NO_OPTION:\n                return;\n            case JOptionPane.CLOSED_OPTION:\n                return;\n            case JOptionPane.CANCEL_OPTION:\n                cancelSelection();\n                return;\n            }\n        }\n        \n        super.approveSelection();\n    }\n    \n    @Override\n    public File getSelectedFile() {\n        File file = super.getSelectedFile();\n        \n        if (file != null &amp;&amp; getDialogType() == SAVE_DIALOG) {\n            String extension = getExtension(file);\n            if (extension.isEmpty()) {\n                FileTypeFilter filter = (FileTypeFilter) getFileFilter();\n                if (filter != null) {\n                    extension = filter.getExtension();\n                    String fileName = file.getPath();\n                    fileName += &quot;.&quot; + extension;\n                    file = new File(fileName);\n                }\n            }\n        }\n        \n        return file;\n    }\n    \n    public String getExtension(File file) {\n        String extension = &quot;&quot;;\n        String s = file.getName();\n        int i = s.lastIndexOf('.');\n\n        if (i &gt; 0 &amp;&amp; i &lt; (s.length() - 1)) {\n            extension = s.substring(i + 1).toLowerCase();\n        }\n\n        return extension;\n    }\n    \n}\n</code></pre>\n<p>And the associated <code>FileTypeFilter</code> class.</p>\n<pre><code>import java.io.File;\n\nimport javax.swing.filechooser.FileFilter;\n\npublic class FileTypeFilter extends FileFilter {\n    private String extension;\n    private String description;\n \n    public FileTypeFilter(String description, String extension) {\n        this.extension = extension;\n        this.description = description;\n    }\n \n    @Override\n    public boolean accept(File file) {\n        if (file.isDirectory()) {\n            return true;\n        }\n        return file.getName().endsWith(&quot;.&quot; + extension);\n    }\n \n    @Override\n    public String getDescription() {\n        return description + String.format(&quot; (*.%s)&quot;, extension);\n    }\n    \n    public String getExtension() {\n        return extension;\n    }\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666111777,"post_id":74114354,"comment_id":130856359,"body_markdown":"I will test your solution tomorrow and report results. At first glance I am not yet free of scepticism, because an invalid input `[space]` is handled by recognizing whether a `File` produced from this input is an instance of `Invalid` in `approveSelection`, however my observations have shown so far, that the `InvalidPathException` is triggered before any call to `approveSelection` is made. Will look further into your code tomorrow, thank you for your efforts!","body":"I will test your solution tomorrow and report results. At first glance I am not yet free of scepticism, because an invalid input <code>[space]</code> is handled by recognizing whether a <code>File</code> produced from this input is an instance of <code>Invalid</code> in <code>approveSelection</code>, however my observations have shown so far, that the <code>InvalidPathException</code> is triggered before any call to <code>approveSelection</code> is made. Will look further into your code tomorrow, thank you for your efforts!"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666112206,"post_id":74114354,"comment_id":130856517,"body_markdown":"...Unless of course this prevents the exception from being thrown in the first place. In any case, I will post updates.","body":"...Unless of course this prevents the exception from being thrown in the first place. In any case, I will post updates."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666117504,"post_id":74114354,"comment_id":130858393,"body_markdown":"The crucial part is that the `createFileObject` methods check the validity.","body":"The crucial part is that the <code>createFileObject</code> methods check the validity."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666180543,"post_id":74114354,"comment_id":130873611,"body_markdown":"The solution is brilliant. The idea to leverage `FileSystemView` is great. I modified some parts, *e.g.* holding the filename as member and using reflection to check for `Invalid` may not be necessary to achieve the desired result, so a `JFileChooser` abstraction is not needed. The core concept, however, works perfectly. Answer is accepted, kudos.","body":"The solution is brilliant. The idea to leverage <code>FileSystemView</code> is great. I modified some parts, <i>e.g.</i> holding the filename as member and using reflection to check for <code>Invalid</code> may not be necessary to achieve the desired result, so a <code>JFileChooser</code> abstraction is not needed. The core concept, however, works perfectly. Answer is accepted, kudos."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666181838,"post_id":74114354,"comment_id":130874117,"body_markdown":"I stored the original name because the chooser resets the text field to the result of `getName()`. That‚Äôs only relevant if the invalid text contains a backslash. There‚Äôs no Reflection involved. If you mean the `instanceof` test, it‚Äôs not strictly necessary. You could repeat the validity test instead. In case of a load dialog you could also use `exists()`. Generally, the code meant as a starting point or sketch, as already mentioned in the answer. So yes, adapt it to your needs as you like‚Ä¶","body":"I stored the original name because the chooser resets the text field to the result of <code>getName()</code>. That‚Äôs only relevant if the invalid text contains a backslash. There‚Äôs no Reflection involved. If you mean the <code>instanceof</code> test, it‚Äôs not strictly necessary. You could repeat the validity test instead. In case of a load dialog you could also use <code>exists()</code>. Generally, the code meant as a starting point or sketch, as already mentioned in the answer. So yes, adapt it to your needs as you like‚Ä¶"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1666182308,"post_id":74114354,"comment_id":130874275,"body_markdown":"I did mean the `instanceof` test, yes. Essentially the overridden `isDirectory` causes the occurring `InvalidPathException` to be handled correctly within the execution flow of `WindowsPathParser`, so it does not end up as an unhandled exception on the EDT. From this point on it can be handled just like any other input error, because the call to `approveSelection` then does occur, which solves my problem. Thank you again!","body":"I did mean the <code>instanceof</code> test, yes. Essentially the overridden <code>isDirectory</code> causes the occurring <code>InvalidPathException</code> to be handled correctly within the execution flow of <code>WindowsPathParser</code>, so it does not end up as an unhandled exception on the EDT. From this point on it can be handled just like any other input error, because the call to <code>approveSelection</code> then does occur, which solves my problem. Thank you again!"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666110357,"creation_date":1666110357,"answer_id":74114354,"question_id":74110066,"body_markdown":"While older file chooser versions stripped spaces from entered file names, they never cared about the validity of the names beyond spaces. E.g. entering something like `\\&lt;\\&gt;\\&quot;` gets accepted. Invalid path names didn‚Äôt cause exceptions, because `java.io.File` doesn‚Äôt check the syntax either.\r\n\r\nIn newer versions, the NIO `FileSystem` API is used at some places and the space is not always stripped. The specific exception occurs because `new File(&quot; &quot;).getAbsoluteFile().isDirectory()` evaluates to `true` for some reason (while `new File(&quot; &quot;).isDirectory()` doesn‚Äôt), so the file chooser tries to change the directory to the invalid path, instead of invoking `approveSelection()` which the application could override.\r\n\r\nSince file chooser‚Äôs code can‚Äôt cope with exceptions for invalid files, I made this workaround which uses a special `File` subclass which reports not to be a directory and can be detected at `approveSelection()`:\r\n\r\n```java\r\npublic class FileChooserTest {\r\n    static final class Invalid extends File {\r\n        final String originalName;\r\n        public Invalid(String pathname) {\r\n            super(pathname);\r\n            originalName = pathname;\r\n        }\r\n\r\n        @Override\r\n        public boolean isDirectory() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return originalName;\r\n        }\r\n    }\r\n    public static void main(String... args) {\r\n        if(!EventQueue.isDispatchThread()) {\r\n            EventQueue.invokeLater(FileChooserTest::main);\r\n            return;\r\n        }\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (ReflectiveOperationException | UnsupportedLookAndFeelException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        JFileChooser fc = new JFileChooser() {\r\n            @Override\r\n            public void approveSelection() {\r\n                if(getSelectedFile() instanceof Invalid) {\r\n                    setSelectedFile(null);\r\n                    return;\r\n                }\r\n                super.approveSelection();\r\n            }\r\n        };\r\n        fc.setFileSystemView(new FileSystemView() {\r\n            @Override\r\n            public File createFileObject(String path) {\r\n                try {\r\n                    Paths.get(path);\r\n                } catch(InvalidPathException ex) {\r\n                    return new Invalid(path);\r\n                }\r\n                return super.createFileObject(path);\r\n            }\r\n\r\n            @Override\r\n            public File createFileObject(File dir, String filename) {\r\n                try {\r\n                    Paths.get(filename);\r\n                } catch(InvalidPathException ex) {\r\n                    return new Invalid(filename);\r\n                }\r\n                return super.createFileObject(dir, filename);\r\n            }\r\n\r\n            @Override\r\n            public File createNewFolder(File containingDir) throws IOException {\r\n                return FileSystemView.getFileSystemView().createNewFolder(containingDir);\r\n            }\r\n        });\r\n        if(fc.showSaveDialog(null) == JFileChooser.APPROVE_OPTION) {\r\n            System.out.println(fc.getSelectedFile());\r\n        }\r\n        else System.out.println(&quot;Not approved&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis does not only eliminate the exception but also prevents invalid files from getting approved. Of course, it could be improved, e.g. by providing feedback to the user. But it would be better if bugs like [`JDK-8196673`] get fixed anyway.\r\n\r\n---\r\n\r\nNote: the reason why names containing `*` or `?` are not rejected, is that they are converted to a file name filter. So when you enter, e.g. `*.txt`, it should show up in the filter combobox.\r\n\r\n[`JDK-8196673`]: https://bugs.openjdk.org/browse/JDK-8196673","title":"JFileChooser on Windows - exception when only space is entered","body":"<p>While older file chooser versions stripped spaces from entered file names, they never cared about the validity of the names beyond spaces. E.g. entering something like <code>\\&lt;\\&gt;\\&quot;</code> gets accepted. Invalid path names didn‚Äôt cause exceptions, because <code>java.io.File</code> doesn‚Äôt check the syntax either.</p>\n<p>In newer versions, the NIO <code>FileSystem</code> API is used at some places and the space is not always stripped. The specific exception occurs because <code>new File(&quot; &quot;).getAbsoluteFile().isDirectory()</code> evaluates to <code>true</code> for some reason (while <code>new File(&quot; &quot;).isDirectory()</code> doesn‚Äôt), so the file chooser tries to change the directory to the invalid path, instead of invoking <code>approveSelection()</code> which the application could override.</p>\n<p>Since file chooser‚Äôs code can‚Äôt cope with exceptions for invalid files, I made this workaround which uses a special <code>File</code> subclass which reports not to be a directory and can be detected at <code>approveSelection()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileChooserTest {\n    static final class Invalid extends File {\n        final String originalName;\n        public Invalid(String pathname) {\n            super(pathname);\n            originalName = pathname;\n        }\n\n        @Override\n        public boolean isDirectory() {\n            return false;\n        }\n\n        @Override\n        public String getName() {\n            return originalName;\n        }\n    }\n    public static void main(String... args) {\n        if(!EventQueue.isDispatchThread()) {\n            EventQueue.invokeLater(FileChooserTest::main);\n            return;\n        }\n        try {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (ReflectiveOperationException | UnsupportedLookAndFeelException e) {\n            throw new RuntimeException(e);\n        }\n        JFileChooser fc = new JFileChooser() {\n            @Override\n            public void approveSelection() {\n                if(getSelectedFile() instanceof Invalid) {\n                    setSelectedFile(null);\n                    return;\n                }\n                super.approveSelection();\n            }\n        };\n        fc.setFileSystemView(new FileSystemView() {\n            @Override\n            public File createFileObject(String path) {\n                try {\n                    Paths.get(path);\n                } catch(InvalidPathException ex) {\n                    return new Invalid(path);\n                }\n                return super.createFileObject(path);\n            }\n\n            @Override\n            public File createFileObject(File dir, String filename) {\n                try {\n                    Paths.get(filename);\n                } catch(InvalidPathException ex) {\n                    return new Invalid(filename);\n                }\n                return super.createFileObject(dir, filename);\n            }\n\n            @Override\n            public File createNewFolder(File containingDir) throws IOException {\n                return FileSystemView.getFileSystemView().createNewFolder(containingDir);\n            }\n        });\n        if(fc.showSaveDialog(null) == JFileChooser.APPROVE_OPTION) {\n            System.out.println(fc.getSelectedFile());\n        }\n        else System.out.println(&quot;Not approved&quot;);\n    }\n}\n</code></pre>\n<p>This does not only eliminate the exception but also prevents invalid files from getting approved. Of course, it could be improved, e.g. by providing feedback to the user. But it would be better if bugs like <a href=\"https://bugs.openjdk.org/browse/JDK-8196673\" rel=\"nofollow noreferrer\"><code>JDK-8196673</code></a> get fixed anyway.</p>\n<hr />\n<p>Note: the reason why names containing <code>*</code> or <code>?</code> are not rejected, is that they are converted to a file name filter. So when you enter, e.g. <code>*.txt</code>, it should show up in the filter combobox.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666249598,"post_id":74126896,"comment_id":130892130,"body_markdown":"I like how you consider peeking into the AWT hierarchy and grabbing the first `JTextField` you can find as ‚Äúdon&#39;t ‚Ä¶ play with the internals of the file chooser‚Äù. I doesn‚Äôt work however, when you enter a space and just press enter (which is the most likely scenario, as why should a user switch from keyboard to mouse after entering a name)‚Ä¶","body":"I like how you consider peeking into the AWT hierarchy and grabbing the first <code>JTextField</code> you can find as ‚Äúdon&#39;t ‚Ä¶ play with the internals of the file chooser‚Äù. I doesn‚Äôt work however, when you enter a space and just press enter (which is the most likely scenario, as why should a user switch from keyboard to mouse after entering a name)‚Ä¶"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666277346,"post_id":74126896,"comment_id":130903079,"body_markdown":"@Holger, This is a bug. Only solution is to play with internals. My thought was that the FileSystemView might be implemented differently on different platforms so that approach may not be portable.  The concept of &quot;editing the data before processing the data&quot; is a common practice. So, this approach should work on all platforms. Yes, grabbing the first text field plays with the internals but I feel is less intrusive then overriding the behaviour of the `File` and `FileSystemView` classes. Just a thought.  Good point about using the Enter key. Code updated.","body":"@Holger, This is a bug. Only solution is to play with internals. My thought was that the FileSystemView might be implemented differently on different platforms so that approach may not be portable.  The concept of &quot;editing the data before processing the data&quot; is a common practice. So, this approach should work on all platforms. Yes, grabbing the first text field plays with the internals but I feel is less intrusive then overriding the behaviour of the <code>File</code> and <code>FileSystemView</code> classes. Just a thought.  Good point about using the Enter key. Code updated."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1666278135,"post_id":74126896,"comment_id":130903464,"body_markdown":"‚Äú*This is a bug. Only solution is to play with internals.*‚Äù No problem with that. It‚Äôs just that your answer starts with ‚Äú*If you don&#39;t want to play with the internals‚Ä¶*‚Äù I consider using the `FileSystemView`, i.e. the class specifically designed alter this behavior, less intrusive than assuming a particular component hierarchy. But anyway, let‚Äôs agree on that some kind of dealing with internals is necessary for working around the bug.","body":"‚Äú<i>This is a bug. Only solution is to play with internals.</i>‚Äù No problem with that. It‚Äôs just that your answer starts with ‚Äú<i>If you don&#39;t want to play with the internals‚Ä¶</i>‚Äù I consider using the <code>FileSystemView</code>, i.e. the class specifically designed alter this behavior, less intrusive than assuming a particular component hierarchy. But anyway, let‚Äôs agree on that some kind of dealing with internals is necessary for working around the bug."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666282808,"creation_date":1666188730,"answer_id":74126896,"question_id":74110066,"body_markdown":"Maybe you could simply remove the leading/trailing spaces from the filename before file chooser processing is invoked:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tJFileChooser fc = new JFileChooser( );\r\n    \r\n    \t\tJTextField tf = SwingUtils.getDescendantsOfType(JTextField.class, fc).get(0);\r\n    \t\ttf.addFocusListener( new FocusAdapter()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void focusLost(FocusEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tJTextField tf = (JTextField)e.getSource();\r\n    \t\t\t\ttf.setText( tf.getText().trim() );\r\n    \t\t\t\tSystem.out.println( tf.getText() );\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\ttf.addKeyListener( new KeyAdapter()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyPressed(KeyEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tif (e.getKeyCode() == KeyEvent.VK_ENTER)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tJTextField tf = (JTextField)e.getSource();\r\n    \t\t\t\t\ttf.setText( tf.getText().trim() );\r\n    \t\t\t\t\tSystem.out.println( tf.getText() );\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tfc.showOpenDialog(null);\r\n    \t}\r\n    }\r\n\r\nThe above code requires the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class.\r\n","title":"JFileChooser on Windows - exception when only space is entered","body":"<p>Maybe you could simply remove the leading/trailing spaces from the filename before file chooser processing is invoked:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Main\n{\n    public static void main(String[] args) throws Exception\n    {\n        JFileChooser fc = new JFileChooser( );\n\n        JTextField tf = SwingUtils.getDescendantsOfType(JTextField.class, fc).get(0);\n        tf.addFocusListener( new FocusAdapter()\n        {\n            @Override\n            public void focusLost(FocusEvent e)\n            {\n                JTextField tf = (JTextField)e.getSource();\n                tf.setText( tf.getText().trim() );\n                System.out.println( tf.getText() );\n            }\n        });\n\n        tf.addKeyListener( new KeyAdapter()\n        {\n            @Override\n            public void keyPressed(KeyEvent e)\n            {\n                if (e.getKeyCode() == KeyEvent.VK_ENTER)\n                {\n                    JTextField tf = (JTextField)e.getSource();\n                    tf.setText( tf.getText().trim() );\n                    System.out.println( tf.getText() );\n                }\n            }\n        });\n\n        fc.showOpenDialog(null);\n    }\n}\n</code></pre>\n<p>The above code requires the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class.</p>\n"}],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74114354,"answer_count":3,"score":1,"last_activity_date":1666282808,"creation_date":1666091823,"question_id":74110066,"body_markdown":"### Description\r\n\r\nA `JFileChooser` is used in a Java Swing application. Users are able to enter any filename permitted by the operating system, but from time to time they will enter erroneous filenames, such as names including invalid characters.\r\n\r\nIf a user enters a name ending with a space, such as\r\n\r\n * `SomeName `\r\n\r\nan error message is shown. This is done by overriding `JFileChooser#approveSelection`, matching the filename to an undesired regex and then displaying an error dialog.\r\n\r\n**However when the user enters only a space, then an exception is thrown:**\r\n\r\n```\r\n2022-10-18 12:34:54 SEVERE (CustomExceptionHandler::uncaughtException) Uncaught exception: java.nio.file.InvalidPathException: Trailing char &lt; &gt; at index 22: C:\\X\\Y\\Z\\  on [AWT-EventQueue-0]\r\nException Stacktrace:\r\njava.nio.file.InvalidPathException: Trailing char &lt; &gt; at index 22: C:\\X\\Y\\Z\\ \r\n\tat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:191)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\tat java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\r\n\tat java.base/java.nio.file.Path.of(Path.java:147)\r\n\tat java.base/java.nio.file.Paths.get(Paths.java:69)\r\n\tat java.desktop/sun.awt.shell.ShellFolder.getShellFolder(ShellFolder.java:247)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicFileChooserUI.changeDirectory(BasicFileChooserUI.java:1353)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicFileChooserUI$ApproveSelectionAction.actionPerformed(BasicFileChooserUI.java:1142)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6400)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:117)\r\n\tat java.desktop/java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)\r\n\tat java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)\r\n\tat java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.desktop/java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)\r\n\tat java.desktop/java.awt.Dialog.show(Dialog.java:1070)\r\n\tat java.desktop/javax.swing.JFileChooser.showDialog(JFileChooser.java:769)\r\n\tat java.desktop/javax.swing.JFileChooser.showSaveDialog(JFileChooser.java:691)\r\n\tat core.RetainerExportController.exportRetainer(RetainerExportController.java:156)\r\n\tat core.RetainerExportController.lambda$1(RetainerExportController.java:64)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6400)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n```\r\n\r\nThis exception keeps popping up in our error logs, because while users are instructed not to enter spaces as filenames, they still will from time to time.\r\n\r\n### Investigation\r\n\r\nAfter looking into this, the problem appears to be coming from the `BasicFileChooserUI`. There is a filter for missing or empty strings in the class:\r\n\r\n```\r\nif (filename == null || filename.length() == 0) {\r\n                // no file selected, multiple selection off, therefore cancel the approve action\r\n                resetGlobFilter();\r\n                return;\r\n}\r\n```\r\n\r\nHowever there is no filter for a blank filename. So this name is not filtered by `BasicFileChooserUI`, but it is recognized to be ending on a space by the `WindowsPathParser`, which leads to the error.\r\n\r\nThere is more odd behavior as well. For example entering a name consisting purely of forbidden characters, such as\r\n\r\n * `???`\r\n\r\nresults in just nothing happening, *i.e.*\r\n\r\n * No exception is thrown\r\n * `JFileChooser#approveSelection` is also never reached\r\n\r\n### How to solve?\r\n\r\nIt is not clear how to solve it, because all of the erroneous behavior occurs in internal Swing and `sun.nio.fs` code. *E.g.* there are regex filters in our `JFileChooser` implementation, which trigger upon `approveSelection` and check for names consisting of spaces and invalid characters - however `approveSelection` is never called in this scenario. It is called if `WindowsPathParser#parse` and `WindowsPathParser#normalize` are passed, but otherwise the error handling is useless, because some weird internal error handling is done internally beforehand.\r\n\r\nI&#39;ve looked into extending the `WindowsFileChooserUI` or the `BasicFileChooserUI`, but not only would that introduce unnecessary explicit dependencies on the desktop package for the latter case, but it is (as far as I see) not possible to do, at least with anything close to clean software design, because both of those classes use private members that are crucial to the problem at hand. E.g. `WindowsFileChooserUI` holds the `JTextField` which handles the user input as a private member and sets it up and uses it in the same method, so accessing it and even modifying it in any class attempting to extend `WindowsFileChooserUI` is going to be a problem.\r\n\r\n**Long story short - how do I prevent an `InvalidPathException` from being thrown, when users open the `JFileChooser` dialog and enter only a space?**\r\n\r\n### Notes\r\n\r\nBecause internal APIs are affected the used JDK may be relevant: `11.0.14_9`\r\n\r\nThe dialog creation itself is not spectacular, it is created thusly:\r\n\r\n```\r\nJFileChooser dialog = new CustomFileChooser( file );\r\ndialog.setDialogType( JFileChooser.SAVE_DIALOG );\r\ndialog.setAcceptAllFileFilterUsed( false );\r\n```\r\n\r\nThe only methods that are overridden by `CustomFileChooser` are\r\n\r\n * `createDialog`\r\n * `approveSelection`\r\n\r\n### Minimal reproducible example\r\n\r\nBecause an example has been requested, the error can be reproduced as follows:\r\n\r\n 1. Set up a swing application (e.g. in Eclipse)\r\n 2. Create a `JFileChooser` dialog as such:\r\n\r\n```\r\nJFileChooser dialog = new JFileChooser( file );\r\ndialog.setDialogType( JFileChooser.SAVE_DIALOG );\r\ndialog.setAcceptAllFileFilterUsed( false );\r\n```\r\n\r\n 3. Run the application, make sure the dialog creation is triggered\r\n 4. In the dialog enter a space as filename: ` `\r\n 5. Confirm\r\n 6. An `InvalidPathException` is thrown\r\n\r\nNote that this error requires the JVM being run on Windows and my tests happened on Java 11.","title":"JFileChooser on Windows - exception when only space is entered","body":"<h3>Description</h3>\n<p>A <code>JFileChooser</code> is used in a Java Swing application. Users are able to enter any filename permitted by the operating system, but from time to time they will enter erroneous filenames, such as names including invalid characters.</p>\n<p>If a user enters a name ending with a space, such as</p>\n<ul>\n<li><code>SomeName </code></li>\n</ul>\n<p>an error message is shown. This is done by overriding <code>JFileChooser#approveSelection</code>, matching the filename to an undesired regex and then displaying an error dialog.</p>\n<p><strong>However when the user enters only a space, then an exception is thrown:</strong></p>\n<pre><code>2022-10-18 12:34:54 SEVERE (CustomExceptionHandler::uncaughtException) Uncaught exception: java.nio.file.InvalidPathException: Trailing char &lt; &gt; at index 22: C:\\X\\Y\\Z\\  on [AWT-EventQueue-0]\nException Stacktrace:\njava.nio.file.InvalidPathException: Trailing char &lt; &gt; at index 22: C:\\X\\Y\\Z\\ \n    at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:191)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\n    at java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\n    at java.base/java.nio.file.Path.of(Path.java:147)\n    at java.base/java.nio.file.Paths.get(Paths.java:69)\n    at java.desktop/sun.awt.shell.ShellFolder.getShellFolder(ShellFolder.java:247)\n    at java.desktop/javax.swing.plaf.basic.BasicFileChooserUI.changeDirectory(BasicFileChooserUI.java:1353)\n    at java.desktop/javax.swing.plaf.basic.BasicFileChooserUI$ApproveSelectionAction.actionPerformed(BasicFileChooserUI.java:1142)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6400)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2263)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:117)\n    at java.desktop/java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)\n    at java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)\n    at java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.desktop/java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)\n    at java.desktop/java.awt.Dialog.show(Dialog.java:1070)\n    at java.desktop/javax.swing.JFileChooser.showDialog(JFileChooser.java:769)\n    at java.desktop/javax.swing.JFileChooser.showSaveDialog(JFileChooser.java:691)\n    at core.RetainerExportController.exportRetainer(RetainerExportController.java:156)\n    at core.RetainerExportController.lambda$1(RetainerExportController.java:64)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6400)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2263)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n</code></pre>\n<p>This exception keeps popping up in our error logs, because while users are instructed not to enter spaces as filenames, they still will from time to time.</p>\n<h3>Investigation</h3>\n<p>After looking into this, the problem appears to be coming from the <code>BasicFileChooserUI</code>. There is a filter for missing or empty strings in the class:</p>\n<pre><code>if (filename == null || filename.length() == 0) {\n                // no file selected, multiple selection off, therefore cancel the approve action\n                resetGlobFilter();\n                return;\n}\n</code></pre>\n<p>However there is no filter for a blank filename. So this name is not filtered by <code>BasicFileChooserUI</code>, but it is recognized to be ending on a space by the <code>WindowsPathParser</code>, which leads to the error.</p>\n<p>There is more odd behavior as well. For example entering a name consisting purely of forbidden characters, such as</p>\n<ul>\n<li><code>???</code></li>\n</ul>\n<p>results in just nothing happening, <em>i.e.</em></p>\n<ul>\n<li>No exception is thrown</li>\n<li><code>JFileChooser#approveSelection</code> is also never reached</li>\n</ul>\n<h3>How to solve?</h3>\n<p>It is not clear how to solve it, because all of the erroneous behavior occurs in internal Swing and <code>sun.nio.fs</code> code. <em>E.g.</em> there are regex filters in our <code>JFileChooser</code> implementation, which trigger upon <code>approveSelection</code> and check for names consisting of spaces and invalid characters - however <code>approveSelection</code> is never called in this scenario. It is called if <code>WindowsPathParser#parse</code> and <code>WindowsPathParser#normalize</code> are passed, but otherwise the error handling is useless, because some weird internal error handling is done internally beforehand.</p>\n<p>I've looked into extending the <code>WindowsFileChooserUI</code> or the <code>BasicFileChooserUI</code>, but not only would that introduce unnecessary explicit dependencies on the desktop package for the latter case, but it is (as far as I see) not possible to do, at least with anything close to clean software design, because both of those classes use private members that are crucial to the problem at hand. E.g. <code>WindowsFileChooserUI</code> holds the <code>JTextField</code> which handles the user input as a private member and sets it up and uses it in the same method, so accessing it and even modifying it in any class attempting to extend <code>WindowsFileChooserUI</code> is going to be a problem.</p>\n<p><strong>Long story short - how do I prevent an <code>InvalidPathException</code> from being thrown, when users open the <code>JFileChooser</code> dialog and enter only a space?</strong></p>\n<h3>Notes</h3>\n<p>Because internal APIs are affected the used JDK may be relevant: <code>11.0.14_9</code></p>\n<p>The dialog creation itself is not spectacular, it is created thusly:</p>\n<pre><code>JFileChooser dialog = new CustomFileChooser( file );\ndialog.setDialogType( JFileChooser.SAVE_DIALOG );\ndialog.setAcceptAllFileFilterUsed( false );\n</code></pre>\n<p>The only methods that are overridden by <code>CustomFileChooser</code> are</p>\n<ul>\n<li><code>createDialog</code></li>\n<li><code>approveSelection</code></li>\n</ul>\n<h3>Minimal reproducible example</h3>\n<p>Because an example has been requested, the error can be reproduced as follows:</p>\n<ol>\n<li>Set up a swing application (e.g. in Eclipse)</li>\n<li>Create a <code>JFileChooser</code> dialog as such:</li>\n</ol>\n<pre><code>JFileChooser dialog = new JFileChooser( file );\ndialog.setDialogType( JFileChooser.SAVE_DIALOG );\ndialog.setAcceptAllFileFilterUsed( false );\n</code></pre>\n<ol start=\"3\">\n<li>Run the application, make sure the dialog creation is triggered</li>\n<li>In the dialog enter a space as filename: <code> </code></li>\n<li>Confirm</li>\n<li>An <code>InvalidPathException</code> is thrown</li>\n</ol>\n<p>Note that this error requires the JVM being run on Windows and my tests happened on Java 11.</p>\n"},{"tags":["javascript","java","angular","spring-boot","cors"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1666203264,"post_id":74129933,"comment_id":130882495,"body_markdown":"It&#39;s a bit strange because if you use the proxy, there shouldn&#39;t be any CORS at all. Can you show the Angular code you use to call your API? (eg. the `HttpClient`-related stuf?) This also looks like a different configuration than the proxy.json configuration from Angular CLI.","body":"It&#39;s a bit strange because if you use the proxy, there shouldn&#39;t be any CORS at all. Can you show the Angular code you use to call your API? (eg. the <code>HttpClient</code>-related stuf?) This also looks like a different configuration than the proxy.json configuration from Angular CLI."},{"owner":{"account_id":2746154,"reputation":678,"user_id":2366528,"accept_rate":81,"display_name":"Matheus Simon"},"score":0,"creation_date":1666203692,"post_id":74129933,"comment_id":130882656,"body_markdown":"@g00glen00b I have edited the question to show the angular function that calls the api; Regarding the proxy: It is a little different but it has worked so far for many other services but if you find anything specially weird let me know and I&#39;ll test.","body":"@g00glen00b I have edited the question to show the angular function that calls the api; Regarding the proxy: It is a little different but it has worked so far for many other services but if you find anything specially weird let me know and I&#39;ll test."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1666204273,"post_id":74129933,"comment_id":130882844,"body_markdown":"What does `this.endpoint` refer to?","body":"What does <code>this.endpoint</code> refer to?"},{"owner":{"account_id":2746154,"reputation":678,"user_id":2366528,"accept_rate":81,"display_name":"Matheus Simon"},"score":0,"creation_date":1666204456,"post_id":74129933,"comment_id":130882897,"body_markdown":"@g00glen00b the path that matches the proxy. &quot;/my/api/context/&quot; in this case.","body":"@g00glen00b the path that matches the proxy. &quot;/my/api/context/&quot; in this case."}],"answers":[{"comments":[{"owner":{"account_id":2746154,"reputation":678,"user_id":2366528,"accept_rate":81,"display_name":"Matheus Simon"},"score":1,"creation_date":1666282702,"post_id":74139971,"comment_id":130905223,"body_markdown":"I did and it didn&#39;t help.","body":"I did and it didn&#39;t help."}],"tags":[],"owner":{"account_id":19661317,"reputation":93,"user_id":14392679,"display_name":"Priyesh Jakhmola"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666269277,"creation_date":1666269277,"answer_id":74139971,"question_id":74129933,"body_markdown":"Just add \r\n\r\n``` @CrossOrigin ```\r\n\r\nOn your controller class and it should solve the issue. ","title":"Invalid CORS on Angular 12 with Java Spring Boot","body":"<p>Just add</p>\n<p><code>@CrossOrigin</code></p>\n<p>On your controller class and it should solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2746154,"reputation":678,"user_id":2366528,"accept_rate":81,"display_name":"Matheus Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666282741,"creation_date":1666282741,"answer_id":74143184,"question_id":74129933,"body_markdown":"I just had to set:\r\n\r\n    changeOrigin: false,\r\n\r\nAnd it worked.","title":"Invalid CORS on Angular 12 with Java Spring Boot","body":"<p>I just had to set:</p>\n<pre><code>changeOrigin: false,\n</code></pre>\n<p>And it worked.</p>\n"}],"owner":{"account_id":2746154,"reputation":678,"user_id":2366528,"accept_rate":81,"display_name":"Matheus Simon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666282741,"creation_date":1666202341,"question_id":74129933,"body_markdown":"I have an angular application that uses a proxy to access the java spring boot backend and other services:\r\n\r\nproxy.conf.js:\r\n\r\n    const PROXY_CONFIG = [\r\n      {\r\n        context: [\r\n            &quot;/my/api/context/**&quot;\r\n        ],\r\n        target: &quot;http://localhost:9000/&quot;,\r\n        headers: {\r\n            &quot;Content-Type&quot;: &quot;application/json&quot;\r\n        },\r\n        secure: false,\r\n        logLevel: &quot;debug&quot;,\r\n        changeOrigin: true,\r\n      },\r\n      ...\r\n    }]\r\n\r\n    module.exports = PROXY_CONFIG;\r\n\r\nMyController.java:\r\n\r\n\t@RestController\r\n\t@RequestMapping(&quot;/my/api/controller/path&quot;)\r\n\tpublic class MyController {\r\n        ...\r\n\t\t@PostMapping(&quot;/endpoint/{id}&quot;)\r\n\t\tpublic ResponseEntity&lt;Boolean&gt; endpoint(@PathVariable Long id) {\r\n\t\t\t...\r\n\t\t}\r\n        ...\r\n    }\r\n\r\nI&#39;m also using zookeeper for some environment configurations.\r\n\r\nThe issue is that for GET requests, my angular application works fine but for any other verb, I get a `403 Forbidden` error and a `Invalid CORS request` message from spring boot. What&#39;s weird is that when I copy the request with all the headers and submit via Postman, I get a `200` response with no problems.\r\n\r\nThere are many questions regarding this problem on the web but all seem to point to a backend issue. In this case the backend seem to be well configured (the Postman request is successful).\r\n\r\nI&#39;m sure I&#39;m missing something trivial but just can&#39;t put my finger on it. Anyone has any idea what could be going wrong here? Any help or suggestion would be appreciated. If you need anything else, just let me know and I&#39;ll see if I can share.\r\n\r\n**EDIT #1:**\r\n\r\nmy.service.ts:\r\n\r\n    myPost(id: number): Observable&lt;any&gt; {\r\n      return this.http.post&lt;any&gt;(`${this.endpoint}/${id}`);\r\n    }","title":"Invalid CORS on Angular 12 with Java Spring Boot","body":"<p>I have an angular application that uses a proxy to access the java spring boot backend and other services:</p>\n<p>proxy.conf.js:</p>\n<pre><code>const PROXY_CONFIG = [\n  {\n    context: [\n        &quot;/my/api/context/**&quot;\n    ],\n    target: &quot;http://localhost:9000/&quot;,\n    headers: {\n        &quot;Content-Type&quot;: &quot;application/json&quot;\n    },\n    secure: false,\n    logLevel: &quot;debug&quot;,\n    changeOrigin: true,\n  },\n  ...\n}]\n\nmodule.exports = PROXY_CONFIG;\n</code></pre>\n<p>MyController.java:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/my/api/controller/path&quot;)\npublic class MyController {\n    ...\n    @PostMapping(&quot;/endpoint/{id}&quot;)\n    public ResponseEntity&lt;Boolean&gt; endpoint(@PathVariable Long id) {\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>I'm also using zookeeper for some environment configurations.</p>\n<p>The issue is that for GET requests, my angular application works fine but for any other verb, I get a <code>403 Forbidden</code> error and a <code>Invalid CORS request</code> message from spring boot. What's weird is that when I copy the request with all the headers and submit via Postman, I get a <code>200</code> response with no problems.</p>\n<p>There are many questions regarding this problem on the web but all seem to point to a backend issue. In this case the backend seem to be well configured (the Postman request is successful).</p>\n<p>I'm sure I'm missing something trivial but just can't put my finger on it. Anyone has any idea what could be going wrong here? Any help or suggestion would be appreciated. If you need anything else, just let me know and I'll see if I can share.</p>\n<p><strong>EDIT #1:</strong></p>\n<p>my.service.ts:</p>\n<pre><code>myPost(id: number): Observable&lt;any&gt; {\n  return this.http.post&lt;any&gt;(`${this.endpoint}/${id}`);\n}\n</code></pre>\n"},{"tags":["java","algorithm","kotlin","service"],"answers":[{"comments":[{"owner":{"account_id":3101372,"reputation":133,"user_id":2625402,"accept_rate":20,"display_name":"user2625402"},"score":0,"creation_date":1666205914,"post_id":74128696,"comment_id":130883334,"body_markdown":"I had supposed to use topological sorting, but what to do when we have multiple parameters per service, but not just single. How to build graph when multiple params?","body":"I had supposed to use topological sorting, but what to do when we have multiple parameters per service, but not just single. How to build graph when multiple params?"},{"owner":{"account_id":5638694,"reputation":398,"user_id":4463352,"display_name":"OLEGSHA"},"score":0,"creation_date":1666207456,"post_id":74128696,"comment_id":130883807,"body_markdown":"Consider a graph where an arrow points from service X to service Y if and only if Y depends on a parameter that X (perhaps non-exclusively) supplies. Do you allow cycles in the resulting graph? If you don&#39;t, then you can use this graph in your program. If you do, that&#39;s a more difficult question. An example of a reasonable cycle: consider Egg (in 1, out 2), Chicken (in 2, out 1) and Dinosaur (out 1). In this case, the above graph would contain a cycle, [Egg, Chicken], but it could be ran the following way: [Dinosaur, Egg, Chicken].","body":"Consider a graph where an arrow points from service X to service Y if and only if Y depends on a parameter that X (perhaps non-exclusively) supplies. Do you allow cycles in the resulting graph? If you don&#39;t, then you can use this graph in your program. If you do, that&#39;s a more difficult question. An example of a reasonable cycle: consider Egg (in 1, out 2), Chicken (in 2, out 1) and Dinosaur (out 1). In this case, the above graph would contain a cycle, [Egg, Chicken], but it could be ran the following way: [Dinosaur, Egg, Chicken]."}],"tags":[],"owner":{"account_id":5638694,"reputation":398,"user_id":4463352,"display_name":"OLEGSHA"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666282433,"creation_date":1666196388,"answer_id":74128696,"question_id":74127047,"body_markdown":"There are two approaches I would consider in a situation like this.\r\n\r\nQuick and dirty\r\n---------------\r\nYou can keep track of all parameters that are already computed. On each turn, iterate through all uncalled services in any order until you find one you can call with your current set of available parameters. Call it and update the computed parameters and uncalled services. End when there are no more services to call.\r\n\r\nPseudocode:\r\n```\r\npendingServices = HashSet(...)\r\ncomputedParams = HashMap()\r\nwhile !pendingServices.isEmpty() {\r\n    for service in pendingServices {\r\n        if computedParams.containsAll(service.getInputs()) {\r\n            pendingServices.remove(service)\r\n            inputs = computedParams.get(service.getInputs())\r\n            outputs = service.run()\r\n            computedParams.putAll(outputs)\r\n            break\r\n        }\r\n        throw new CyclicalDependencyException()\r\n    }\r\n}\r\n// All services ran, outputs are available in computedParams\r\n```\r\n\r\nThis is easy enough to implement and it supports adding or removing services at runtime. However, it runs in O(N^2) time, and detecting cyclical dependencies before running the services requires additional computation (dry-running the whole algorithm is one way of doing that).\r\n\r\nProperly\r\n--------------\r\nConstruct a directed graph of dependencies, [topologically sort][1] it and run services in that order. This approach is more efficient and it finds cycles before committing to execution, but at the cost of slightly higher code complexity, especially if runtime modification of the service list is necessary.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Topological_sorting","title":"Compute a chain of service calls by input parameters","body":"<p>There are two approaches I would consider in a situation like this.</p>\n<h2>Quick and dirty</h2>\n<p>You can keep track of all parameters that are already computed. On each turn, iterate through all uncalled services in any order until you find one you can call with your current set of available parameters. Call it and update the computed parameters and uncalled services. End when there are no more services to call.</p>\n<p>Pseudocode:</p>\n<pre><code>pendingServices = HashSet(...)\ncomputedParams = HashMap()\nwhile !pendingServices.isEmpty() {\n    for service in pendingServices {\n        if computedParams.containsAll(service.getInputs()) {\n            pendingServices.remove(service)\n            inputs = computedParams.get(service.getInputs())\n            outputs = service.run()\n            computedParams.putAll(outputs)\n            break\n        }\n        throw new CyclicalDependencyException()\n    }\n}\n// All services ran, outputs are available in computedParams\n</code></pre>\n<p>This is easy enough to implement and it supports adding or removing services at runtime. However, it runs in O(N^2) time, and detecting cyclical dependencies before running the services requires additional computation (dry-running the whole algorithm is one way of doing that).</p>\n<h2>Properly</h2>\n<p>Construct a directed graph of dependencies, <a href=\"https://en.wikipedia.org/wiki/Topological_sorting\" rel=\"nofollow noreferrer\">topologically sort</a> it and run services in that order. This approach is more efficient and it finds cycles before committing to execution, but at the cost of slightly higher code complexity, especially if runtime modification of the service list is necessary.</p>\n"}],"owner":{"account_id":3101372,"reputation":133,"user_id":2625402,"accept_rate":20,"display_name":"user2625402"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666212508,"accepted_answer_id":74128696,"answer_count":1,"score":0,"last_activity_date":1666282433,"creation_date":1666189279,"question_id":74127047,"body_markdown":"The task is to call the target service by the input params. I have a name of the target service and some input params:\r\n\r\n    targetServiceName: service_D           // which has these input params: param_2, param_3, param_6\r\n    commonInputParams: param_1, param_2    // not enough for the target service call\r\n\r\nAt the beginning of the call, I may not have the necessary params to call the target service. And I have to get the params to call the target service by computing a sequence of service calls for getting the input params of the target service.\r\n\r\nI have several services:\r\n\r\n    service_A\r\n    service_B\r\n    service_C\r\n    service_D\r\n\r\nEvery service has input and output params:\r\n\r\n             (param_1, param_2) =&gt; service_A =&gt; (param_3, param_4)\r\n             (param_1, param_3) =&gt; service_B =&gt; (param_4, param_5)\r\n                      (param_1) =&gt; service_C =&gt; (param_3, param_4, param_6)\r\n    (param_2, param_3, param_6) =&gt; service_D =&gt; (param_7)\r\n\r\nAs shown earlier, output param of one service can be input param of another.\r\nNext to the services there is their configuration, help us to compute chain of service calls, to help us achieve the target service.\r\n\r\n    services:\r\n      service_A:\r\n        inputParams:\r\n          - param_1\r\n          - param_2\r\n        outputParams:\r\n          - param_3\r\n          - param_4\r\n      service_B:\r\n        inputParams:\r\n          - param_1\r\n          - param_3\r\n        outputParams:\r\n          - param_4\r\n          - param_5\r\n      service_C:\r\n        inputParams:\r\n          - param_1\r\n        outputParams:\r\n          - param_3\r\n          - param_4\r\n          - param_6\r\n      service_D:\r\n        inputParams:\r\n          - param_2\r\n          - param_3\r\n          - param_6\r\n        outputParams:\r\n          - param_7\r\n\r\nThe result of all that is the output params of the target service.\r\n\r\nI think to build graph and use dfs algorithm to compute service sequence. I know how to do it for services with a single input param, but I don&#39;t quite sure how to do it for multiple params for each service.\r\n\r\nSteps that I guess:\r\n1. Receive request with the target service name and several input params.\r\n2. Checking or validation: is it possible to reach out to the target service with current input params.\r\n3. If it possible then make a sequenced service calls and collect missed params.\r\n4. Then call the target service and get final result params.\r\n5. Return final result params and finish.\r\n\r\nHow to make sequenced path of services (build correct graph), when I have multiple input params per service, not single?\r\n\r\nImplementing language is java/kotlin.","title":"Compute a chain of service calls by input parameters","body":"<p>The task is to call the target service by the input params. I have a name of the target service and some input params:</p>\n<pre><code>targetServiceName: service_D           // which has these input params: param_2, param_3, param_6\ncommonInputParams: param_1, param_2    // not enough for the target service call\n</code></pre>\n<p>At the beginning of the call, I may not have the necessary params to call the target service. And I have to get the params to call the target service by computing a sequence of service calls for getting the input params of the target service.</p>\n<p>I have several services:</p>\n<pre><code>service_A\nservice_B\nservice_C\nservice_D\n</code></pre>\n<p>Every service has input and output params:</p>\n<pre><code>         (param_1, param_2) =&gt; service_A =&gt; (param_3, param_4)\n         (param_1, param_3) =&gt; service_B =&gt; (param_4, param_5)\n                  (param_1) =&gt; service_C =&gt; (param_3, param_4, param_6)\n(param_2, param_3, param_6) =&gt; service_D =&gt; (param_7)\n</code></pre>\n<p>As shown earlier, output param of one service can be input param of another.\nNext to the services there is their configuration, help us to compute chain of service calls, to help us achieve the target service.</p>\n<pre><code>services:\n  service_A:\n    inputParams:\n      - param_1\n      - param_2\n    outputParams:\n      - param_3\n      - param_4\n  service_B:\n    inputParams:\n      - param_1\n      - param_3\n    outputParams:\n      - param_4\n      - param_5\n  service_C:\n    inputParams:\n      - param_1\n    outputParams:\n      - param_3\n      - param_4\n      - param_6\n  service_D:\n    inputParams:\n      - param_2\n      - param_3\n      - param_6\n    outputParams:\n      - param_7\n</code></pre>\n<p>The result of all that is the output params of the target service.</p>\n<p>I think to build graph and use dfs algorithm to compute service sequence. I know how to do it for services with a single input param, but I don't quite sure how to do it for multiple params for each service.</p>\n<p>Steps that I guess:</p>\n<ol>\n<li>Receive request with the target service name and several input params.</li>\n<li>Checking or validation: is it possible to reach out to the target service with current input params.</li>\n<li>If it possible then make a sequenced service calls and collect missed params.</li>\n<li>Then call the target service and get final result params.</li>\n<li>Return final result params and finish.</li>\n</ol>\n<p>How to make sequenced path of services (build correct graph), when I have multiple input params per service, not single?</p>\n<p>Implementing language is java/kotlin.</p>\n"},{"tags":["java","xslt","saxon","xslt-3.0","jaxp"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666274718,"post_id":74140986,"comment_id":130901880,"body_markdown":"To me it seems like you want to pass in a sequence of atomic values, that should be easy, at least using s9api. Then you process the sequence using `xsl:iterate` or `xsl:for-each` or even using `xsl:apply-templates` and create the `CreditTransfer` element with the value of each item in the sequence.","body":"To me it seems like you want to pass in a sequence of atomic values, that should be easy, at least using s9api. Then you process the sequence using <code>xsl:iterate</code> or <code>xsl:for-each</code> or even using <code>xsl:apply-templates</code> and create the <code>CreditTransfer</code> element with the value of each item in the sequence."},{"owner":{"account_id":18253227,"reputation":1,"user_id":13287768,"display_name":"Priku"},"score":0,"creation_date":1666275589,"post_id":74140986,"comment_id":130902243,"body_markdown":"Hi @MartinHonnen ! Thanks a lot for your answer and patience with my beginner xslt skills. Quick follow-up:\nWould it be more complex if I had to pass a list of params ? for each CreditTransfer tag I have to set a couple of values (all strings, let&#39;s say) ?","body":"Hi @MartinHonnen ! Thanks a lot for your answer and patience with my beginner xslt skills. Quick follow-up: Would it be more complex if I had to pass a list of params ? for each CreditTransfer tag I have to set a couple of values (all strings, let&#39;s say) ?"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666276457,"post_id":74140986,"comment_id":130902664,"body_markdown":"I would think that you can in that case pass in a sequence of maps and process each map. So on the Java side you would create a parameter value that is a sequence of maps and the code would continue to process the sequence with e.g. `xsl:iterate` or `xsl:for-each` or even `xsl:apply-templates`, only then it would create e.g. `&lt;CreditTransfer&gt;&lt;Amount&gt;{?amount}&lt;/Amount&gt;&lt;Currency&gt;{?currency}&lt;/Currency&gt;&lt;/CreditTransfer&gt;`, i.e. populate some XML from some map values.","body":"I would think that you can in that case pass in a sequence of maps and process each map. So on the Java side you would create a parameter value that is a sequence of maps and the code would continue to process the sequence with e.g. <code>xsl:iterate</code> or <code>xsl:for-each</code> or even <code>xsl:apply-templates</code>, only then it would create e.g. <code>&lt;CreditTransfer&gt;&lt;Amount&gt;{?amount}&lt;&#47;Amount&gt;&lt;Currency&gt;{?curren&zwnj;&#8203;cy}&lt;&#47;Currency&gt;&lt;&#47;Cred&zwnj;&#8203;itTransfer&gt;</code>, i.e. populate some XML from some map values."}],"answers":[{"comments":[{"owner":{"account_id":18253227,"reputation":1,"user_id":13287768,"display_name":"Priku"},"score":0,"creation_date":1666337458,"post_id":74142729,"comment_id":130917494,"body_markdown":"This is actually very elegant. Will try it out, thanks !","body":"This is actually very elegant. Will try it out, thanks !"}],"tags":[],"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666282267,"creation_date":1666280746,"answer_id":74142729,"question_id":74140986,"body_markdown":"Rather than trying to pass structured data as a stylesheet parameter, why not generate that structured data as XML and pass that XML document as the source document of the transformation?\r\n\r\nAs an example, imagine a source XML document with param0 in each Batch:\r\n\r\n``` xml\r\n&lt;Batches&gt;\r\n  &lt;Batch&gt;\r\n    &lt;param0&gt;it was the best of times&lt;/param0&gt;\r\n  &lt;/Batch&gt;\r\n  &lt;Batch&gt;\r\n    &lt;param0&gt;it was the worst of times&lt;/param0&gt;\r\n  &lt;/Batch&gt;\r\n  &lt;Batch&gt;\r\n    &lt;param0&gt;it was the age of wisdom&lt;/param0&gt;\r\n  &lt;/Batch&gt;\r\n  &lt;Batch&gt;\r\n    &lt;param0&gt;it was the age of foolishness&lt;/param0&gt;\r\n  &lt;/Batch&gt;\r\n&lt;/Batches&gt;\r\n```\r\n\r\nwith a simplified version of your stylesheet:\r\n\r\n``` xslt\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n\r\n    &lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;Document xmlns:file=&quot;someUrn&quot;&gt;\r\n            &lt;FileAppHdr&gt;\r\n                &lt;file:NbOfBatches&gt;&lt;xsl:value-of select=&quot;count(//Batch)&quot;/&gt;&lt;/file:NbOfBatches&gt;\r\n                &lt;xsl:for-each select=&quot;//Batch&quot;&gt;\r\n                  &lt;xsl:call-template name=&quot;selects&quot;&gt;\r\n                      &lt;xsl:with-param name=&quot;param0&quot; select=&quot;param0&quot; /&gt;\r\n                  &lt;/xsl:call-template&gt;                  \r\n                &lt;/xsl:for-each&gt;\r\n            &lt;/FileAppHdr&gt;\r\n        &lt;/Document&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template name=&quot;selects&quot;&gt;\r\n        &lt;xsl:param name=&quot;param0&quot; /&gt;\r\n\r\n        &lt;xsl:call-template name=&quot;credit&quot;&gt;\r\n            &lt;xsl:with-param name=&quot;param0&quot; select=&quot;$param0&quot; /&gt;\r\n        &lt;/xsl:call-template&gt;\r\n\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template name=&quot;credit&quot;&gt;\r\n        &lt;xsl:param name=&quot;param0&quot;/&gt;\r\n        &lt;CreditTransfer&gt;\r\n            &lt;xsl:value-of select=&quot;$param0&quot;/&gt;\r\n        &lt;/CreditTransfer&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nproduces this output:\r\n\r\n``` xml\r\n&lt;Document xmlns:file=&quot;someUrn&quot;&gt;\r\n   &lt;FileAppHdr&gt;\r\n      &lt;file:NbOfBatches&gt;4&lt;/file:NbOfBatches&gt;\r\n      &lt;CreditTransfer&gt;it was the best of times&lt;/CreditTransfer&gt;\r\n      &lt;CreditTransfer&gt;it was the worst of times&lt;/CreditTransfer&gt;\r\n      &lt;CreditTransfer&gt;it was the age of wisdom&lt;/CreditTransfer&gt;\r\n      &lt;CreditTransfer&gt;it was the age of foolishness&lt;/CreditTransfer&gt;\r\n   &lt;/FileAppHdr&gt;\r\n&lt;/Document&gt;\r\n```\r\n\r\nIt&#39;s fairly trivial to generate XML from structured data in Java using the Saxon ```sapling``` classes.  https://www.saxonica.com/html/documentation10/javadoc/net/sf/saxon/sapling/package-summary.html\r\n","title":"Can you declare / generate xslt params dynamically?","body":"<p>Rather than trying to pass structured data as a stylesheet parameter, why not generate that structured data as XML and pass that XML document as the source document of the transformation?</p>\n<p>As an example, imagine a source XML document with param0 in each Batch:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Batches&gt;\n  &lt;Batch&gt;\n    &lt;param0&gt;it was the best of times&lt;/param0&gt;\n  &lt;/Batch&gt;\n  &lt;Batch&gt;\n    &lt;param0&gt;it was the worst of times&lt;/param0&gt;\n  &lt;/Batch&gt;\n  &lt;Batch&gt;\n    &lt;param0&gt;it was the age of wisdom&lt;/param0&gt;\n  &lt;/Batch&gt;\n  &lt;Batch&gt;\n    &lt;param0&gt;it was the age of foolishness&lt;/param0&gt;\n  &lt;/Batch&gt;\n&lt;/Batches&gt;\n</code></pre>\n<p>with a simplified version of your stylesheet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:stylesheet version=&quot;1.0&quot;\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n\n    &lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;Document xmlns:file=&quot;someUrn&quot;&gt;\n            &lt;FileAppHdr&gt;\n                &lt;file:NbOfBatches&gt;&lt;xsl:value-of select=&quot;count(//Batch)&quot;/&gt;&lt;/file:NbOfBatches&gt;\n                &lt;xsl:for-each select=&quot;//Batch&quot;&gt;\n                  &lt;xsl:call-template name=&quot;selects&quot;&gt;\n                      &lt;xsl:with-param name=&quot;param0&quot; select=&quot;param0&quot; /&gt;\n                  &lt;/xsl:call-template&gt;                  \n                &lt;/xsl:for-each&gt;\n            &lt;/FileAppHdr&gt;\n        &lt;/Document&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template name=&quot;selects&quot;&gt;\n        &lt;xsl:param name=&quot;param0&quot; /&gt;\n\n        &lt;xsl:call-template name=&quot;credit&quot;&gt;\n            &lt;xsl:with-param name=&quot;param0&quot; select=&quot;$param0&quot; /&gt;\n        &lt;/xsl:call-template&gt;\n\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template name=&quot;credit&quot;&gt;\n        &lt;xsl:param name=&quot;param0&quot;/&gt;\n        &lt;CreditTransfer&gt;\n            &lt;xsl:value-of select=&quot;$param0&quot;/&gt;\n        &lt;/CreditTransfer&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>produces this output:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Document xmlns:file=&quot;someUrn&quot;&gt;\n   &lt;FileAppHdr&gt;\n      &lt;file:NbOfBatches&gt;4&lt;/file:NbOfBatches&gt;\n      &lt;CreditTransfer&gt;it was the best of times&lt;/CreditTransfer&gt;\n      &lt;CreditTransfer&gt;it was the worst of times&lt;/CreditTransfer&gt;\n      &lt;CreditTransfer&gt;it was the age of wisdom&lt;/CreditTransfer&gt;\n      &lt;CreditTransfer&gt;it was the age of foolishness&lt;/CreditTransfer&gt;\n   &lt;/FileAppHdr&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>It's fairly trivial to generate XML from structured data in Java using the Saxon <code>sapling</code> classes.  <a href=\"https://www.saxonica.com/html/documentation10/javadoc/net/sf/saxon/sapling/package-summary.html\" rel=\"nofollow noreferrer\">https://www.saxonica.com/html/documentation10/javadoc/net/sf/saxon/sapling/package-summary.html</a></p>\n"}],"owner":{"account_id":18253227,"reputation":1,"user_id":13287768,"display_name":"Priku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666282267,"creation_date":1666273604,"question_id":74140986,"body_markdown":"I&#39;m trying to generate an xml with the help of xslt templates and I have a tricky thing to do:\r\n\r\nI have to generate a certain number of elements that have same tags but with different values inside them. Example of xslt stylesheet:\r\n\r\n\r\n```\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:param name=&quot;NbOfBatches&quot;/&gt;\r\n    &lt;xsl:param name=&quot;wholeTag&quot;/&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;Document xmlns=&quot;urn:something&quot; xmlns:file=&quot;someUrn&gt;\r\n            &lt;FileAppHdr&gt;\r\n                &lt;file:NbOfBatches&gt;&lt;xsl:value-of select=&quot;$NbOfBatches&quot;&gt;&lt;/xsl:value-of&gt;&lt;/file:NbOfBatches&gt;\r\n                &lt;xsl:call-template name=&quot;selects&quot;&gt;\r\n                    &lt;xsl:with-param name=&quot;i&quot;&gt;1&lt;/xsl:with-param&gt;\r\n                    &lt;xsl:with-param name=&quot;count&quot;&gt;&lt;xsl:value-of select=&quot;$NbOfBatches&quot;/&gt;&lt;/xsl:with-param&gt;\r\n                &lt;/xsl:call-template&gt;\r\n            &lt;/FileAppHdr&gt;\r\n        &lt;/Document&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template name=&quot;selects&quot;&gt;\r\n        &lt;xsl:param name=&quot;i&quot; /&gt;\r\n        &lt;xsl:param name=&quot;count&quot; /&gt;\r\n\r\n        &lt;xsl:if test=&quot;$i &amp;lt;= $count&quot;&gt;\r\n            &lt;xsl:call-template name=&quot;credit&quot;&gt;\r\n                &lt;xsl:with-param name=&quot;param0&quot;/&gt;\r\n            &lt;/xsl:call-template&gt;\r\n        &lt;/xsl:if&gt;\r\n\r\n        &lt;xsl:if test=&quot;$i &amp;lt;= $count&quot;&gt;\r\n            &lt;xsl:call-template name=&quot;selects&quot;&gt;\r\n                &lt;xsl:with-param name=&quot;i&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;$i + 1&quot;/&gt;\r\n                &lt;/xsl:with-param&gt;\r\n                &lt;xsl:with-param name=&quot;count&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;$count&quot;/&gt;\r\n                &lt;/xsl:with-param&gt;\r\n            &lt;/xsl:call-template&gt;\r\n        &lt;/xsl:if&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template name=&quot;credit&quot;&gt;\r\n        &lt;xsl:param name=&quot;param0&quot;/&gt;\r\n        &lt;CreditTransfer&gt;\r\n            &lt;xsl:value-of select=&quot;$param0&quot;/&gt;\r\n        &lt;/CreditTransfer&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nIn this way, I can use Saxon or JAXP and call .setParameter() for NbOfBatches, it will generate that number of tags. However is there a way to generate / modify name of param0 inside CreditTransfer so that I can loop through data in Java and use .setParameter(&quot;param1&quot;, value1) and so on ?\r\n\r\nThank you","title":"Can you declare / generate xslt params dynamically?","body":"<p>I'm trying to generate an xml with the help of xslt templates and I have a tricky thing to do:</p>\n<p>I have to generate a certain number of elements that have same tags but with different values inside them. Example of xslt stylesheet:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot;\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:param name=&quot;NbOfBatches&quot;/&gt;\n    &lt;xsl:param name=&quot;wholeTag&quot;/&gt;\n    &lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;Document xmlns=&quot;urn:something&quot; xmlns:file=&quot;someUrn&gt;\n            &lt;FileAppHdr&gt;\n                &lt;file:NbOfBatches&gt;&lt;xsl:value-of select=&quot;$NbOfBatches&quot;&gt;&lt;/xsl:value-of&gt;&lt;/file:NbOfBatches&gt;\n                &lt;xsl:call-template name=&quot;selects&quot;&gt;\n                    &lt;xsl:with-param name=&quot;i&quot;&gt;1&lt;/xsl:with-param&gt;\n                    &lt;xsl:with-param name=&quot;count&quot;&gt;&lt;xsl:value-of select=&quot;$NbOfBatches&quot;/&gt;&lt;/xsl:with-param&gt;\n                &lt;/xsl:call-template&gt;\n            &lt;/FileAppHdr&gt;\n        &lt;/Document&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template name=&quot;selects&quot;&gt;\n        &lt;xsl:param name=&quot;i&quot; /&gt;\n        &lt;xsl:param name=&quot;count&quot; /&gt;\n\n        &lt;xsl:if test=&quot;$i &amp;lt;= $count&quot;&gt;\n            &lt;xsl:call-template name=&quot;credit&quot;&gt;\n                &lt;xsl:with-param name=&quot;param0&quot;/&gt;\n            &lt;/xsl:call-template&gt;\n        &lt;/xsl:if&gt;\n\n        &lt;xsl:if test=&quot;$i &amp;lt;= $count&quot;&gt;\n            &lt;xsl:call-template name=&quot;selects&quot;&gt;\n                &lt;xsl:with-param name=&quot;i&quot;&gt;\n                    &lt;xsl:value-of select=&quot;$i + 1&quot;/&gt;\n                &lt;/xsl:with-param&gt;\n                &lt;xsl:with-param name=&quot;count&quot;&gt;\n                    &lt;xsl:value-of select=&quot;$count&quot;/&gt;\n                &lt;/xsl:with-param&gt;\n            &lt;/xsl:call-template&gt;\n        &lt;/xsl:if&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template name=&quot;credit&quot;&gt;\n        &lt;xsl:param name=&quot;param0&quot;/&gt;\n        &lt;CreditTransfer&gt;\n            &lt;xsl:value-of select=&quot;$param0&quot;/&gt;\n        &lt;/CreditTransfer&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>In this way, I can use Saxon or JAXP and call .setParameter() for NbOfBatches, it will generate that number of tags. However is there a way to generate / modify name of param0 inside CreditTransfer so that I can loop through data in Java and use .setParameter(&quot;param1&quot;, value1) and so on ?</p>\n<p>Thank you</p>\n"},{"tags":["java","ssl","tomcat"],"comments":[{"owner":{"account_id":1759056,"reputation":2515,"user_id":1606632,"display_name":"f_puras"},"score":2,"creation_date":1666275195,"post_id":74141217,"comment_id":130902092,"body_markdown":"Make it listen on port 443.","body":"Make it listen on port 443."},{"owner":{"account_id":21571224,"reputation":1,"user_id":15904074,"display_name":"Volonter123"},"score":0,"creation_date":1666603620,"post_id":74141217,"comment_id":130968107,"body_markdown":"That&#39;s how I resolve this issue. Thanks.","body":"That&#39;s how I resolve this issue. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666282147,"creation_date":1666282147,"answer_id":74143052,"question_id":74141217,"body_markdown":"There are multiple ways to accomplish this.\r\n\r\nThe best way, in my opinion, is using authbind: https://serverfault.com/questions/889122/how-to-get-tomcat-9-to-work-with-authbind-to-bind-to-port-80\r\n\r\nIt&#39;s my opinion this is the best way as the port is allocated directly to the process and follows the unix convention of doing things.\r\n\r\nThere are other options:\r\n\r\n * Use haproxy to splice the TCP connections\r\n * Use iptables to redirect the port\r\n * Use Apache/nginx to proxy the request\r\n\r\n","title":"Apache Tomcat server with SSL, how to not showing port when open site","body":"<p>There are multiple ways to accomplish this.</p>\n<p>The best way, in my opinion, is using authbind: <a href=\"https://serverfault.com/questions/889122/how-to-get-tomcat-9-to-work-with-authbind-to-bind-to-port-80\">https://serverfault.com/questions/889122/how-to-get-tomcat-9-to-work-with-authbind-to-bind-to-port-80</a></p>\n<p>It's my opinion this is the best way as the port is allocated directly to the process and follows the unix convention of doing things.</p>\n<p>There are other options:</p>\n<ul>\n<li>Use haproxy to splice the TCP connections</li>\n<li>Use iptables to redirect the port</li>\n<li>Use Apache/nginx to proxy the request</li>\n</ul>\n"}],"owner":{"account_id":21571224,"reputation":1,"user_id":15904074,"display_name":"Volonter123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666282147,"creation_date":1666274479,"question_id":74141217,"body_markdown":"When I open my site www.example.com Tomcat redirect and show www.example.com:8443.\r\nI want when someone open site not to show port 8443. How to solve that problem?\r\n\r\nI use tomcat 9.0.68. I installed application on tomcat and set to use SSL on port 8443.\r\nserver.xml now look like this:\r\n\r\n    &lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;\r\n    \r\n    \r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n    maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\r\n      &lt;SSLHostConfig&gt;\r\n        &lt;Certificate certificateFile=&quot;conf/cert.pem&quot;\r\n                     certificateKeyFile=&quot;conf/privkey.pem&quot;\r\n                     certificateChainFile=&quot;conf/chain.pem&quot; /&gt;\r\n      &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nAnd in web.xml I added:\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;HTTPSOnly&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;user-data-constraint&gt;\r\n            &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n        &lt;/user-data-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\nWhat I need to configure more to open site without showing port 8443?\r\n","title":"Apache Tomcat server with SSL, how to not showing port when open site","body":"<p>When I open my site <a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">www.example.com</a> Tomcat redirect and show <a href=\"http://www.example.com:8443\" rel=\"nofollow noreferrer\">www.example.com:8443</a>.\nI want when someone open site not to show port 8443. How to solve that problem?</p>\n<p>I use tomcat 9.0.68. I installed application on tomcat and set to use SSL on port 8443.\nserver.xml now look like this:</p>\n<pre><code>&lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;\n\n\n&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\nmaxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\n  &lt;SSLHostConfig&gt;\n    &lt;Certificate certificateFile=&quot;conf/cert.pem&quot;\n                 certificateKeyFile=&quot;conf/privkey.pem&quot;\n                 certificateChainFile=&quot;conf/chain.pem&quot; /&gt;\n  &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>And in web.xml I added:</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;HTTPSOnly&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;user-data-constraint&gt;\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n<p>What I need to configure more to open site without showing port 8443?</p>\n"},{"tags":["java","rtf"],"comments":[{"owner":{"account_id":13221,"reputation":2529,"user_id":26415,"display_name":"Jon Iles"},"score":0,"creation_date":1666113660,"post_id":74111741,"comment_id":130856986,"body_markdown":"Would you be able to provide some sample RTF so I can see the kind of structure you are dealing with?","body":"Would you be able to provide some sample RTF so I can see the kind of structure you are dealing with?"},{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":0,"creation_date":1666159869,"post_id":74111741,"comment_id":130866502,"body_markdown":"@JonIles I paste an example, thanks a lot!","body":"@JonIles I paste an example, thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":13221,"reputation":2529,"user_id":26415,"display_name":"Jon Iles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666282027,"creation_date":1666282027,"answer_id":74143025,"question_id":74111741,"body_markdown":"I&#39;ve added some sample code for you to the RTF Parser Kit repository in the form of an `ImageListener` class which you&#39;ll find [here](https://github.com/joniles/rtfparserkit/blob/master/src/main/java/com/rtfparserkit/utils/ImageListener.java) and a simple &quot;driver&quot; class which shows how it is used [here](https://github.com/joniles/rtfparserkit/blob/master/src/main/java/com/rtfparserkit/utils/ImageDump.java).\r\n\r\nThe code takes a naive approach, simply looking for the `pict` command, expecting it to be the first command in a group, then adding any further commands in the group and their parameters to a `Map` (including the image data as a string of hex data). Once it gets to the end of the group it&#39;ll call a method you provide, passing the populated `Map`.\r\n\r\nUnfortunately this is where the hard work starts as you&#39;ll need to interpret the keys in the `Map` to determine what the image type is and based on that, how to convert the hex data into an image you can work with.","title":"How do I extract inline files in RTF format into a list of files?","body":"<p>I've added some sample code for you to the RTF Parser Kit repository in the form of an <code>ImageListener</code> class which you'll find <a href=\"https://github.com/joniles/rtfparserkit/blob/master/src/main/java/com/rtfparserkit/utils/ImageListener.java\" rel=\"nofollow noreferrer\">here</a> and a simple &quot;driver&quot; class which shows how it is used <a href=\"https://github.com/joniles/rtfparserkit/blob/master/src/main/java/com/rtfparserkit/utils/ImageDump.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The code takes a naive approach, simply looking for the <code>pict</code> command, expecting it to be the first command in a group, then adding any further commands in the group and their parameters to a <code>Map</code> (including the image data as a string of hex data). Once it gets to the end of the group it'll call a method you provide, passing the populated <code>Map</code>.</p>\n<p>Unfortunately this is where the hard work starts as you'll need to interpret the keys in the <code>Map</code> to determine what the image type is and based on that, how to convert the hex data into an image you can work with.</p>\n"}],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74143025,"answer_count":1,"score":1,"last_activity_date":1666282027,"creation_date":1666099337,"question_id":74111741,"body_markdown":"I am getting data from an SQL Server database and the content of the column is stored in RTF format. I am using [RTF Parser Kit][1] and I have managed to convert the rtf to text.\r\n\r\n    InputStream is = new ByteArrayInputStream(input.getBytes());\r\n    StringTextConverter converter = new StringTextConverter();\r\n    converter.convert(new RtfStreamSource(is));\r\n    input = converter.getText();\r\n\r\nHowever, some inputs contain inline images. Is there a way to extract all these images in an `ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;();` using the `RTF Parser Kit` ?\r\n\r\nFor example, the following :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nis stored like:\r\n\r\n    {\\rtf1\\ansi\\ansicpg1253\\uc1\\deff1\\adeff1\\deflang0\\deflangfe0\\adeflang0{\\fonttbl\r\n    {\\f0\\fswiss\\fcharset0\\fprq2{\\*\\panose 020B0604020202020204}Arial;}\r\n    {\\f1\\fswiss\\fcharset161\\fprq2 Arial Greek;}\r\n    {\\f2\\froman\\fcharset2\\fprq2{\\*\\panose 05050102010706020507}Symbol;}}\r\n    {\\colortbl;\\red0\\green0\\blue0;}\r\n    {\\stylesheet{\\s0\\ltrpar\\itap0\\nowidctlpar\\ql\\li0\\ri0\\lin0\\rin0\\cbpat0\\rtlch\\af1\\afs24\\ltrch\\f1\\fs24 [Normal];}{\\*\\cs10\\additive Default Paragraph Font;}}\r\n    {\\info\r\n    {\\*\\txInfo{\\txVer 24.0.712.500}}}\r\n    \\paperw12240\\paperh15840\\margl1138\\margt1138\\margr1138\\margb1138\\deftab1134\\widowctrl\\lytexcttp\\formshade\\sectd\r\n    \\headery567\\footery567\\pgwsxn12240\\pghsxn15840\\marglsxn1138\\margtsxn1138\\margrsxn1138\\margbsxn1138\\pgbrdropt32\\pard\\ltrpar\\itap0\\nowidctlpar\\ql\\li0\\ri0\\lin0\\rin0\\plain\\rtlch\\af0\\afs20\\alang1033\\ltrch\\f0\\fs20\\lang1033\\langnp1033\\langfe1033\\langfenp1033 Hello, \\par\\par This is an example!\\par\\par\r\n    {\\shp{\\*\\shpinst\\shpleft0\\shptop0\\shpright7500\\shpbottom3450\\shpfhdr0\\shpbxcolumn\\shpbxignore\\shpbypara\\shpbyignore\\shpwr2\\shpwrk0\\shpz0\\shplid1025{\\sp{\\sn shapeType}{\\sv 75}}{\\sp{\\sn fFlipH}{\\sv 0}}{\\sp{\\sn fFlipV}{\\sv 0}}{\\sp{\\sn wzName}{\\sv _tx_id_1_}}{\\sp{\\sn pib}{\\sv {\\pict\\jpegblip\\picw13229\\pich6085\\picwgoal7500\\pichgoal3450\\picscalex100\\picscaley100 \r\n    ffd8ffe000104a46494600010101006000600000ffe101024578696600004d4d002a000000080007011a0005000000010000\r\n    0062011b0005000000010000006a012800030000000100020000013100020000001100000072013b00020000000700000084\r\n    ff0011dbd85aebb65a6ead089ededb55b7d2f51d5b4f8af6253b654b4d4af61071b6e24fbc403d62800a002800a002800a00\r\n    2800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a0028\r\n    00a002800a002800a002800a002800a002800a002803ffd9}}}\\par }\r\n\r\nIn the above example I paste a small fragment of the image, as the image representation was too large to fit here.\r\n\r\n\r\n  [1]: https://github.com/joniles/rtfparserkit\r\n  [2]: https://i.stack.imgur.com/rSzxH.png","title":"How do I extract inline files in RTF format into a list of files?","body":"<p>I am getting data from an SQL Server database and the content of the column is stored in RTF format. I am using <a href=\"https://github.com/joniles/rtfparserkit\" rel=\"nofollow noreferrer\">RTF Parser Kit</a> and I have managed to convert the rtf to text.</p>\n<pre><code>InputStream is = new ByteArrayInputStream(input.getBytes());\nStringTextConverter converter = new StringTextConverter();\nconverter.convert(new RtfStreamSource(is));\ninput = converter.getText();\n</code></pre>\n<p>However, some inputs contain inline images. Is there a way to extract all these images in an <code>ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;();</code> using the <code>RTF Parser Kit</code> ?</p>\n<p>For example, the following :</p>\n<p><a href=\"https://i.stack.imgur.com/rSzxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSzxH.png\" alt=\"enter image description here\" /></a></p>\n<p>is stored like:</p>\n<pre><code>{\\rtf1\\ansi\\ansicpg1253\\uc1\\deff1\\adeff1\\deflang0\\deflangfe0\\adeflang0{\\fonttbl\n{\\f0\\fswiss\\fcharset0\\fprq2{\\*\\panose 020B0604020202020204}Arial;}\n{\\f1\\fswiss\\fcharset161\\fprq2 Arial Greek;}\n{\\f2\\froman\\fcharset2\\fprq2{\\*\\panose 05050102010706020507}Symbol;}}\n{\\colortbl;\\red0\\green0\\blue0;}\n{\\stylesheet{\\s0\\ltrpar\\itap0\\nowidctlpar\\ql\\li0\\ri0\\lin0\\rin0\\cbpat0\\rtlch\\af1\\afs24\\ltrch\\f1\\fs24 [Normal];}{\\*\\cs10\\additive Default Paragraph Font;}}\n{\\info\n{\\*\\txInfo{\\txVer 24.0.712.500}}}\n\\paperw12240\\paperh15840\\margl1138\\margt1138\\margr1138\\margb1138\\deftab1134\\widowctrl\\lytexcttp\\formshade\\sectd\n\\headery567\\footery567\\pgwsxn12240\\pghsxn15840\\marglsxn1138\\margtsxn1138\\margrsxn1138\\margbsxn1138\\pgbrdropt32\\pard\\ltrpar\\itap0\\nowidctlpar\\ql\\li0\\ri0\\lin0\\rin0\\plain\\rtlch\\af0\\afs20\\alang1033\\ltrch\\f0\\fs20\\lang1033\\langnp1033\\langfe1033\\langfenp1033 Hello, \\par\\par This is an example!\\par\\par\n{\\shp{\\*\\shpinst\\shpleft0\\shptop0\\shpright7500\\shpbottom3450\\shpfhdr0\\shpbxcolumn\\shpbxignore\\shpbypara\\shpbyignore\\shpwr2\\shpwrk0\\shpz0\\shplid1025{\\sp{\\sn shapeType}{\\sv 75}}{\\sp{\\sn fFlipH}{\\sv 0}}{\\sp{\\sn fFlipV}{\\sv 0}}{\\sp{\\sn wzName}{\\sv _tx_id_1_}}{\\sp{\\sn pib}{\\sv {\\pict\\jpegblip\\picw13229\\pich6085\\picwgoal7500\\pichgoal3450\\picscalex100\\picscaley100 \nffd8ffe000104a46494600010101006000600000ffe101024578696600004d4d002a000000080007011a0005000000010000\n0062011b0005000000010000006a012800030000000100020000013100020000001100000072013b00020000000700000084\nff0011dbd85aebb65a6ead089ededb55b7d2f51d5b4f8af6253b654b4d4af61071b6e24fbc403d62800a002800a002800a00\n2800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a002800a0028\n00a002800a002800a002800a002800a002800a002803ffd9}}}\\par }\n</code></pre>\n<p>In the above example I paste a small fragment of the image, as the image representation was too large to fit here.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1666254615,"post_id":74129776,"comment_id":130893951,"body_markdown":"Could you share the contents of WordCount and text.txt?","body":"Could you share the contents of WordCount and text.txt?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666281390,"post_id":74129776,"comment_id":130904711,"body_markdown":"You need your Java class within a package","body":"You need your Java class within a package"}],"answers":[{"tags":[],"owner":{"account_id":18264024,"reputation":50,"user_id":13296195,"display_name":"Frangu MƒÉdƒÉlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666205489,"creation_date":1666205489,"answer_id":74130481,"question_id":74129776,"body_markdown":"first of all you need to make sure you have a main method inside the WordCount class.\r\nYou can also look at this answer right here: https://stackoverflow.com/questions/13012511/how-to-run-a-jar-file-in-hadoop\r\nAs the answers suggest there&#39;s no problem when running the jar, but when creating the jar.\r\nSo for example, you need to run:\r\n\r\n    JAVA_HOME/bin/jar cf WordCount.jar WordCount.class\r\n\r\nand then run\r\n\r\n    hadoop jar WordCount.jar WordCount\r\nHope this helps.","title":"hadoop jar wordcount,jar wordcount exception","body":"<p>first of all you need to make sure you have a main method inside the WordCount class.\nYou can also look at this answer right here: <a href=\"https://stackoverflow.com/questions/13012511/how-to-run-a-jar-file-in-hadoop\">How to run a jar file in hadoop?</a>\nAs the answers suggest there's no problem when running the jar, but when creating the jar.\nSo for example, you need to run:</p>\n<pre><code>JAVA_HOME/bin/jar cf WordCount.jar WordCount.class\n</code></pre>\n<p>and then run</p>\n<pre><code>hadoop jar WordCount.jar WordCount\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":20006517,"reputation":3,"user_id":14664439,"display_name":"mechafiki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74130481,"answer_count":1,"score":0,"last_activity_date":1666281363,"creation_date":1666201569,"question_id":74129776,"body_markdown":"Whenever I execute the command : hadoop jar wc.jar WordCount text.txt output\r\nIt gives me this error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: WordCount\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:316)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n\r\nEven though everything seems to be fine\r\n\r\nCan anyone help me out with this ??\r\n","title":"hadoop jar wordcount,jar wordcount exception","body":"<p>Whenever I execute the command : hadoop jar wc.jar WordCount text.txt output\nIt gives me this error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: WordCount\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:316)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\n</code></pre>\n<p>Even though everything seems to be fine</p>\n<p>Can anyone help me out with this ??</p>\n"},{"tags":["java","mysql","ssl","amazon-rds"],"answers":[{"tags":[],"owner":{"account_id":11368792,"reputation":94,"user_id":8334904,"display_name":"Abhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666281274,"creation_date":1666281274,"answer_id":74142849,"question_id":67447685,"body_markdown":"Not sure if anyone needs this now but I recently had to do this and was able to make it work by setting up keystore and configuring my connection string as \r\n\r\n    jdbc:mysql://DB_HOST:DB_PORT/DATABASE?verifyServerCertificate=true&amp;useSSL=true&amp;sslMode=VERIFY_IDENTITY&amp;trustCertificateKeyStoreUrl=file:/rds-truststore.jks&amp;trustCertificateKeyStorePassword=changeit\r\n\r\nYou can find more details here: https://medium.com/@akoolshrestha/connecting-to-rds-mysql-via-ssl-tls-with-springboot-in-a-docker-container-443a3934bda2\r\n","title":"How to update Springboot application to use SSL/TLS certificates to connect to RDS?","body":"<p>Not sure if anyone needs this now but I recently had to do this and was able to make it work by setting up keystore and configuring my connection string as</p>\n<pre><code>jdbc:mysql://DB_HOST:DB_PORT/DATABASE?verifyServerCertificate=true&amp;useSSL=true&amp;sslMode=VERIFY_IDENTITY&amp;trustCertificateKeyStoreUrl=file:/rds-truststore.jks&amp;trustCertificateKeyStorePassword=changeit\n</code></pre>\n<p>You can find more details here: <a href=\"https://medium.com/@akoolshrestha/connecting-to-rds-mysql-via-ssl-tls-with-springboot-in-a-docker-container-443a3934bda2\" rel=\"nofollow noreferrer\">https://medium.com/@akoolshrestha/connecting-to-rds-mysql-via-ssl-tls-with-springboot-in-a-docker-container-443a3934bda2</a></p>\n"}],"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666281274,"creation_date":1620477732,"question_id":67447685,"body_markdown":"I am using Amazon RDS MySQL as the primary database. As per this [blog](https://aws.amazon.com/blogs/database/amazon-rds-customers-update-your-ssl-tls-certificates-by-february-5-2020/), I am required to update the application to use the new CAs. I am following [this instruction](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/ssl-certificate-rotation-mysql.html) proved by AWS to update my application. \r\n\r\nThe following specific instruction is not very clear:\r\n```\r\njava -Djavax.net.ssl.trustStore=/path_to_truststore/MyTruststore.jks -Djavax.net.ssl.trustStorePassword=my_truststore_password com.companyName.MyApplication        \r\n```\r\n\r\nEven after the update, the application fails to start with the following error message:\r\n\r\n```\r\n2021-05-08 22:30:15org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException:\r\n2021-05-08 22:30:15Unable to obtain connection from database: Communications link failure\r\n2021-05-08 22:30:15The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n2021-05-08 22:30:15--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n2021-05-08 22:30:15SQL State : 08S01\r\n2021-05-08 22:30:15Error Code : 0\r\n2021-05-08 22:30:152021-05-08 12:30:15.312 INFO 6 --- [ main] ConditionEvaluationReportLoggingListener :\r\n```\r\n\r\nMy application is running in Fargate platform version 1.3.0. \r\n\r\nApplication Dockerfile (simplified):\r\n```\r\nFROM openjdk:11\r\n\r\nARG JAR_PATH\r\n\r\n\r\nRUN curl -k https://s3.amazonaws.com/rds-downloads/rds-ca-2019-root.pem -o rds-ca-2019-root.pem\r\nRUN openssl x509 -outform der -in rds-ca-2019-root.pem -out rds-ca-2019-root.der\r\nRUN echo yes | keytool -import -alias rds-root -keystore clientkeystore.jks -storepass changeme -file rds-ca-2019-root.der\r\n\r\nRUN mkdir app\r\nWORKDIR app\r\n\r\nRUN mkdir config\r\n\r\nCOPY $JAR_PATH app.jar\r\n\r\nCMD java -Djavax.net.ssl.trustStore=/clientkeystore.jks -Djavax.net.ssl.trustStorePassword=changeme -jar app.jar\r\n\r\nEXPOSE 8080\r\n```\r\n\r\nI am using `clientStore.jks` as the `trustStore` value in the `java` command. I am not entirely sure if it&#39;s correct. ","title":"How to update Springboot application to use SSL/TLS certificates to connect to RDS?","body":"<p>I am using Amazon RDS MySQL as the primary database. As per this <a href=\"https://aws.amazon.com/blogs/database/amazon-rds-customers-update-your-ssl-tls-certificates-by-february-5-2020/\" rel=\"nofollow noreferrer\">blog</a>, I am required to update the application to use the new CAs. I am following <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/ssl-certificate-rotation-mysql.html\" rel=\"nofollow noreferrer\">this instruction</a> proved by AWS to update my application.</p>\n<p>The following specific instruction is not very clear:</p>\n<pre><code>java -Djavax.net.ssl.trustStore=/path_to_truststore/MyTruststore.jks -Djavax.net.ssl.trustStorePassword=my_truststore_password com.companyName.MyApplication        \n</code></pre>\n<p>Even after the update, the application fails to start with the following error message:</p>\n<pre><code>2021-05-08 22:30:15org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException:\n2021-05-08 22:30:15Unable to obtain connection from database: Communications link failure\n2021-05-08 22:30:15The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n2021-05-08 22:30:15--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n2021-05-08 22:30:15SQL State : 08S01\n2021-05-08 22:30:15Error Code : 0\n2021-05-08 22:30:152021-05-08 12:30:15.312 INFO 6 --- [ main] ConditionEvaluationReportLoggingListener :\n</code></pre>\n<p>My application is running in Fargate platform version 1.3.0.</p>\n<p>Application Dockerfile (simplified):</p>\n<pre><code>FROM openjdk:11\n\nARG JAR_PATH\n\n\nRUN curl -k https://s3.amazonaws.com/rds-downloads/rds-ca-2019-root.pem -o rds-ca-2019-root.pem\nRUN openssl x509 -outform der -in rds-ca-2019-root.pem -out rds-ca-2019-root.der\nRUN echo yes | keytool -import -alias rds-root -keystore clientkeystore.jks -storepass changeme -file rds-ca-2019-root.der\n\nRUN mkdir app\nWORKDIR app\n\nRUN mkdir config\n\nCOPY $JAR_PATH app.jar\n\nCMD java -Djavax.net.ssl.trustStore=/clientkeystore.jks -Djavax.net.ssl.trustStorePassword=changeme -jar app.jar\n\nEXPOSE 8080\n</code></pre>\n<p>I am using <code>clientStore.jks</code> as the <code>trustStore</code> value in the <code>java</code> command. I am not entirely sure if it's correct.</p>\n"},{"tags":["java","spring","spring-boot","caching"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1600441055,"post_id":63958101,"comment_id":113098752,"body_markdown":"Looks to be the same as [this other question](https://stackoverflow.com/questions/12115996/spring-cache-cacheable-method-ignored-when-called-from-within-the-same-class).","body":"Looks to be the same as <a href=\"https://stackoverflow.com/questions/12115996/spring-cache-cacheable-method-ignored-when-called-from-within-the-same-class\">this other question</a>."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1606390593,"post_id":63958101,"comment_id":114952689,"body_markdown":"That question and its answers are really outdated and doesn&#39;t have in count the autowiring properties of Spring Boot. This question is really clear about the best way to do it with the new archetype.","body":"That question and its answers are really outdated and doesn&#39;t have in count the autowiring properties of Spring Boot. This question is really clear about the best way to do it with the new archetype."}],"answers":[{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666281189,"creation_date":1600464618,"answer_id":63963061,"question_id":63958101,"body_markdown":"Like Andrew said, the right question should be &quot;when called in the same **class**&quot;.\r\n\r\nBut as the answers to the suggested post are **really outdated** and there are better approaches that are useful with **newer versions of Spring**, i would like to share what I think is the best approach:\r\n\r\n - Autowire the controller and use to call the method it instead of using the class context `this`.\r\n\r\nThe updated code would look like:\r\n\r\n    @Controller\r\n    public class TestController {\r\n    \r\n    \r\n        @Autowired TestController self;\r\n    \r\n        @RequestMapping(&quot;/test&quot;)\r\n        public String testView(){\r\n            self.expensiveMethod();\r\n            return &quot;test&quot;;\r\n        }\r\n    \r\n    \r\n        @Cacheable(&quot;ones&quot;)\r\n        public void expensiveMethod(){\r\n           System.out.println(&quot;Cache is now being used&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Spring&#39;s @Cacheable not working when called from the controller in Spring Boot","body":"<p>Like Andrew said, the right question should be &quot;when called in the same <strong>class</strong>&quot;.</p>\n<p>But as the answers to the suggested post are <strong>really outdated</strong> and there are better approaches that are useful with <strong>newer versions of Spring</strong>, i would like to share what I think is the best approach:</p>\n<ul>\n<li>Autowire the controller and use to call the method it instead of using the class context <code>this</code>.</li>\n</ul>\n<p>The updated code would look like:</p>\n<pre><code>@Controller\npublic class TestController {\n\n\n    @Autowired TestController self;\n\n    @RequestMapping(&quot;/test&quot;)\n    public String testView(){\n        self.expensiveMethod();\n        return &quot;test&quot;;\n    }\n\n\n    @Cacheable(&quot;ones&quot;)\n    public void expensiveMethod(){\n       System.out.println(&quot;Cache is now being used&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1606389675,"accepted_answer_id":63963061,"answer_count":1,"score":1,"last_activity_date":1666281189,"creation_date":1600440823,"question_id":63958101,"body_markdown":"Do you know a Spring **Boot** specific soltution to this scenario?\r\n\r\nI followed the steps to implement Spting&#39;s `@Cacheable` but it is not working for me although I reduced the code to the simplest example:\r\n\r\n\r\n    @Controller\r\n    public class TestController {\r\n    \r\n        @RequestMapping(&quot;/test&quot;)\r\n        public String testView(){\r\n            expensiveMethod();\r\n            return &quot;test&quot;;\r\n        }\r\n    \r\n    \r\n        @Cacheable(&quot;ones&quot;)\r\n        public void expensiveMethod(){\r\n           System.out.println(&quot;Cache is not being used&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nEvery request to `localhost:8080/test` prints the string, **not just** the first one.\r\n\r\nI annotated my main class with `@EnableCaching`","title":"Spring&#39;s @Cacheable not working when called from the controller in Spring Boot","body":"<p>Do you know a Spring <strong>Boot</strong> specific soltution to this scenario?</p>\n<p>I followed the steps to implement Spting's <code>@Cacheable</code> but it is not working for me although I reduced the code to the simplest example:</p>\n<pre><code>@Controller\npublic class TestController {\n\n    @RequestMapping(&quot;/test&quot;)\n    public String testView(){\n        expensiveMethod();\n        return &quot;test&quot;;\n    }\n\n\n    @Cacheable(&quot;ones&quot;)\n    public void expensiveMethod(){\n       System.out.println(&quot;Cache is not being used&quot;);\n    }\n\n}\n</code></pre>\n<p>Every request to <code>localhost:8080/test</code> prints the string, <strong>not just</strong> the first one.</p>\n<p>I annotated my main class with <code>@EnableCaching</code></p>\n"},{"tags":["java","logback","slf4j"],"answers":[{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666280975,"creation_date":1666280975,"answer_id":74142778,"question_id":74066896,"body_markdown":"In order to log issues related to &quot;logging&quot;. You need to have `debug=&quot;true&quot;` in logback.config .\r\n\r\nFor example\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot; debug=&quot;true&quot;&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SS} %-5level [%t][%X] %logger %msg %ex%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n        &lt;root level=&quot;TRACE&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n```\r\n\r\nHaving `debug=&quot;true&quot;` enables to identify issue related to DbAppender. In my case it was caused by dropped sequence and I could see in the log:\r\n```\r\n17:26:40,060 |-ERROR in ch.qos.logback.classic.db.DBAppender[DbAppender] - problem appending event java.sql.SQLSyntaxErrorException: ORA-04098: trigger &#39;OCS_O2.LOGGING_EVENT_ID_SEQ_TRIG&#39; .......\r\n\t\r\n\t\tat java.sql.SQLSyntaxErrorException: ORA-04098: trigger &#39;OCS_O2.LOGGING_EVENT_ID_SEQ_TRIG&#39; ......\r\n\r\n```\r\n","title":"DbAppender troubleshooting","body":"<p>In order to log issues related to &quot;logging&quot;. You need to have <code>debug=&quot;true&quot;</code> in logback.config .</p>\n<p>For example</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot; debug=&quot;true&quot;&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SS} %-5level [%t][%X] %logger %msg %ex%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n        &lt;root level=&quot;TRACE&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n<p>Having <code>debug=&quot;true&quot;</code> enables to identify issue related to DbAppender. In my case it was caused by dropped sequence and I could see in the log:</p>\n<pre><code>17:26:40,060 |-ERROR in ch.qos.logback.classic.db.DBAppender[DbAppender] - problem appending event java.sql.SQLSyntaxErrorException: ORA-04098: trigger 'OCS_O2.LOGGING_EVENT_ID_SEQ_TRIG' .......\n    \n        at java.sql.SQLSyntaxErrorException: ORA-04098: trigger 'OCS_O2.LOGGING_EVENT_ID_SEQ_TRIG' ......\n\n</code></pre>\n"}],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74142778,"answer_count":1,"score":0,"last_activity_date":1666280975,"creation_date":1665738397,"question_id":74066896,"body_markdown":"I have configured SLF4J using logback DbAppender and it writes logs to database as expected, but some Error messages are not written to the database. Those messages are written only to file log.\r\n\r\nI suspect that message lenght or some characters cannot be written to database, but I need a clue, what is wrong with some specific error messages.\r\n\r\nHow can I troubleshoot error in DbAppender logging ?\r\nIs there any chance to switch on DbAppender logging (in other words to catch/read DbAppender implementation logs itself) to figure out if any exception happens during writting specific messages to db log ?","title":"DbAppender troubleshooting","body":"<p>I have configured SLF4J using logback DbAppender and it writes logs to database as expected, but some Error messages are not written to the database. Those messages are written only to file log.</p>\n<p>I suspect that message lenght or some characters cannot be written to database, but I need a clue, what is wrong with some specific error messages.</p>\n<p>How can I troubleshoot error in DbAppender logging ?\nIs there any chance to switch on DbAppender logging (in other words to catch/read DbAppender implementation logs itself) to figure out if any exception happens during writting specific messages to db log ?</p>\n"},{"tags":["java","spring","saml-2.0","spring-saml","opensaml"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666280866,"creation_date":1666280866,"answer_id":74142753,"question_id":74118433,"body_markdown":"You need to do the following changes to redirect to desired URL.\r\nFirst inject the dependency `LoginSuccessHandler` in the `WebSecurityConfig` file \r\n\r\n    @Autowired\r\n    private LoginSuccessHandler loginSuccessHandler;\r\n\r\nand then update the `SAMLProcessingFilter` as mentioned below\r\n\r\n    // Processing filter for WebSSO profile messages\r\n    @Bean\r\n    public SAMLProcessingFilter samlWebSSOProcessingFilter() throws Exception {\r\n        SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\r\n        samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\r\n        samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(loginSuccessHandler);\r\n         samlWebSSOProcessingFilter.setAuthenticationFailureHandler(authenticationFailureHandler());\r\n        return samlWebSSOProcessingFilter;\r\n    }\r\n\r\nthen do the following change in the `LoginSuccessHandler`\r\n\r\n    @Component\r\n    public class LoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler {\r\n    \r\n    \t@Override\r\n    \tpublic void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n    \t\t\tAuthentication authentication) throws IOException, ServletException {\r\n    \t\t// Add your server URL below.\r\n    \t\tString redirectUri = &quot;https://{server}/testing&quot;;\r\n    \t\tresponse.sendRedirect(redirectUri);\r\n    \t}\r\n\r\n    }\r\n\r\n","title":"Spring SAML redirecting to a different URL","body":"<p>You need to do the following changes to redirect to desired URL.\nFirst inject the dependency <code>LoginSuccessHandler</code> in the <code>WebSecurityConfig</code> file</p>\n<pre><code>@Autowired\nprivate LoginSuccessHandler loginSuccessHandler;\n</code></pre>\n<p>and then update the <code>SAMLProcessingFilter</code> as mentioned below</p>\n<pre><code>// Processing filter for WebSSO profile messages\n@Bean\npublic SAMLProcessingFilter samlWebSSOProcessingFilter() throws Exception {\n    SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\n    samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\n    samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(loginSuccessHandler);\n     samlWebSSOProcessingFilter.setAuthenticationFailureHandler(authenticationFailureHandler());\n    return samlWebSSOProcessingFilter;\n}\n</code></pre>\n<p>then do the following change in the <code>LoginSuccessHandler</code></p>\n<pre><code>@Component\npublic class LoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler {\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n        // Add your server URL below.\n        String redirectUri = &quot;https://{server}/testing&quot;;\n        response.sendRedirect(redirectUri);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24952775,"reputation":11,"user_id":18817390,"display_name":"Wu Qintian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666280866,"creation_date":1666135730,"question_id":74118433,"body_markdown":"I employed this [spring boot SAML sample project][1] to my existing project. But I noticed that the redirect url will be automatically set as the url where I get redirected to the log in page. I am wondering is there anyway for me to change this redirect url to a different one? The base url that will trigger redirection to the auth page is a http link but I need to redirect to a https link after logging in. (Now I am not able to move forward to the page where I can input credentials. I am blocked by the invalid url error.) For now I tried create a custom LoginSuccessHandler that implements *AuthenticationSuccessHandler* . \r\n\r\n   \r\n\r\n     @Component\r\n    public class LoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler{\r\n    \r\n        private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n    \r\n        @Override\r\n        public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n                                            Authentication authentication) throws IOException, ServletException {\r\n            \r\n            redirectStrategy.sendRedirect(request, response,&quot;/testing&quot;);\r\n        }\r\n    }\r\n\r\n\r\nAnd I had this in the saml config\r\n\r\n        @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic()\r\n                .authenticationEntryPoint(samlEntryPoint());\r\n        http\r\n                .addFilterBefore(metadataGeneratorFilter(), ChannelProcessingFilter.class)\r\n                .addFilterAfter(samlFilter(), BasicAuthenticationFilter.class)\r\n                .addFilterBefore(samlFilter(), CsrfFilter.class);\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).permitAll()\r\n                .anyRequest().authenticated().and().formLogin().successHandler(successHandler);\r\n        http\r\n                .logout()\r\n                .disable();\t// The logout procedure is already handled by SAML filters.\r\n    }\r\n\r\nBut this doesn&#39;t work. The redirect url does&#39;t get changed to what I specified (&quot;/testing&quot;). While using Inteli J debugging mode, it seems that this custom class is not being executed. So I am suspecting I had the wrong way calling this class. Then I also tried provided this *LoginSuccessHandler* class to *samlWebSSOProcessingFilter*, which also made no difference. \r\n\r\n    @Bean\r\n    public SAMLProcessingFilter samlWebSSOProcessingFilter() throws Exception {\r\n        SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\r\n        samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\r\n        samlWebSSOProcessingFilter.setFilterProcessesUrl(&quot;/spring-security-saml2-sample&quot;);\r\n        samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(successRedirectHandler());\r\n        \r\n        return samlWebSSOProcessingFilter;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/vdenotaris/spring-boot-security-saml-sample/blob/master/src/main/java/com/vdenotaris/spring/boot/security/saml/web/config/WebSecurityConfig.java","title":"Spring SAML redirecting to a different URL","body":"<p>I employed this <a href=\"https://github.com/vdenotaris/spring-boot-security-saml-sample/blob/master/src/main/java/com/vdenotaris/spring/boot/security/saml/web/config/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">spring boot SAML sample project</a> to my existing project. But I noticed that the redirect url will be automatically set as the url where I get redirected to the log in page. I am wondering is there anyway for me to change this redirect url to a different one? The base url that will trigger redirection to the auth page is a http link but I need to redirect to a https link after logging in. (Now I am not able to move forward to the page where I can input credentials. I am blocked by the invalid url error.) For now I tried create a custom LoginSuccessHandler that implements <em>AuthenticationSuccessHandler</em> .</p>\n<pre><code> @Component\npublic class LoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler{\n\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n                                        Authentication authentication) throws IOException, ServletException {\n        \n        redirectStrategy.sendRedirect(request, response,&quot;/testing&quot;);\n    }\n}\n</code></pre>\n<p>And I had this in the saml config</p>\n<pre><code>    @Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .httpBasic()\n            .authenticationEntryPoint(samlEntryPoint());\n    http\n            .addFilterBefore(metadataGeneratorFilter(), ChannelProcessingFilter.class)\n            .addFilterAfter(samlFilter(), BasicAuthenticationFilter.class)\n            .addFilterBefore(samlFilter(), CsrfFilter.class);\n    http\n            .authorizeRequests()\n            .antMatchers(&quot;/api/**&quot;).permitAll()\n            .anyRequest().authenticated().and().formLogin().successHandler(successHandler);\n    http\n            .logout()\n            .disable(); // The logout procedure is already handled by SAML filters.\n}\n</code></pre>\n<p>But this doesn't work. The redirect url does't get changed to what I specified (&quot;/testing&quot;). While using Inteli J debugging mode, it seems that this custom class is not being executed. So I am suspecting I had the wrong way calling this class. Then I also tried provided this <em>LoginSuccessHandler</em> class to <em>samlWebSSOProcessingFilter</em>, which also made no difference.</p>\n<pre><code>@Bean\npublic SAMLProcessingFilter samlWebSSOProcessingFilter() throws Exception {\n    SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\n    samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\n    samlWebSSOProcessingFilter.setFilterProcessesUrl(&quot;/spring-security-saml2-sample&quot;);\n    samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(successRedirectHandler());\n    \n    return samlWebSSOProcessingFilter;\n}\n</code></pre>\n"},{"tags":["java","plugins","rundeck"],"answers":[{"tags":[],"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665495832,"creation_date":1665495832,"answer_id":74029166,"question_id":73993197,"body_markdown":"Similar to [this][1], that level of granularity isn&#39;t implemented yet. Right now you can obtain job-level info (take a look at [this][2]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73974367/10426011\r\n  [2]: https://i.stack.imgur.com/S0XKY.jpg","title":"How to read other steps information from a custom step in Rundeck?","body":"<p>Similar to <a href=\"https://stackoverflow.com/a/73974367/10426011\">this</a>, that level of granularity isn't implemented yet. Right now you can obtain job-level info (take a look at <a href=\"https://i.stack.imgur.com/S0XKY.jpg\" rel=\"nofollow noreferrer\">this</a>).</p>\n"},{"tags":[],"owner":{"account_id":199946,"reputation":2432,"user_id":445548,"accept_rate":64,"display_name":"Shatazone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666280787,"creation_date":1666280787,"answer_id":74142738,"question_id":73993197,"body_markdown":"I was able to achieve this by calling https://docs.rundeck.com/docs/api/rundeck-api.html#getting-a-job-definition","title":"How to read other steps information from a custom step in Rundeck?","body":"<p>I was able to achieve this by calling <a href=\"https://docs.rundeck.com/docs/api/rundeck-api.html#getting-a-job-definition\" rel=\"nofollow noreferrer\">https://docs.rundeck.com/docs/api/rundeck-api.html#getting-a-job-definition</a></p>\n"}],"owner":{"account_id":199946,"reputation":2432,"user_id":445548,"accept_rate":64,"display_name":"Shatazone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74142738,"answer_count":2,"score":0,"last_activity_date":1666280787,"creation_date":1665182939,"question_id":73993197,"body_markdown":"Is there a way to access information about current job&#39;s steps from a custom step?\r\nI would like to get the the name, type, read parameters of the upcoming steps.","title":"How to read other steps information from a custom step in Rundeck?","body":"<p>Is there a way to access information about current job's steps from a custom step?\nI would like to get the the name, type, read parameters of the upcoming steps.</p>\n"},{"tags":["java","if-statement","break","nested-if"],"answers":[{"tags":[],"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424907307,"creation_date":1424907307,"answer_id":28731822,"question_id":28731588,"body_markdown":"Are you looking for `else`?\r\n\r\n    if(numberOfNeighbors == 1){\r\n\r\n                //go through comparison again, add Pixel(i,j) to current linked list -&gt; complist[numberOfComponents]\r\n                    //  break out of large check ??\r\n\r\n                    if(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j-1))){ //compare to top left\r\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break; \r\n                    }\r\n                    else if(ji.getPixelColor(i, j) == (ji.getPixelColor(i,j-1))){ // compare to top\r\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\r\n                    }\r\n\r\n                    else if(ji.getPixelColor(i, j) == (ji.getPixelColor(i+1,j-1))){ // compare to top right\r\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\r\n                    }\r\n                    else if(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j))){ // compare to left\r\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\r\n                    }\r\n    } // end of if(numberOfNeighbors == 1)","title":"Breaking out of nested if","body":"<p>Are you looking for <code>else</code>?</p>\n\n<pre><code>if(numberOfNeighbors == 1){\n\n            //go through comparison again, add Pixel(i,j) to current linked list -&gt; complist[numberOfComponents]\n                //  break out of large check ??\n\n                if(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j-1))){ //compare to top left\n                    complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break; \n                }\n                else if(ji.getPixelColor(i, j) == (ji.getPixelColor(i,j-1))){ // compare to top\n                    complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\n                }\n\n                else if(ji.getPixelColor(i, j) == (ji.getPixelColor(i+1,j-1))){ // compare to top right\n                    complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\n                }\n                else if(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j))){ // compare to left\n                    complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\n                }\n} // end of if(numberOfNeighbors == 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4558421,"reputation":2296,"user_id":3701433,"accept_rate":46,"display_name":"Prudhvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1424908496,"creation_date":1424907830,"answer_id":28731934,"question_id":28731588,"body_markdown":"**IMPORTANT: `break` statements are used to come out of loops but not branches**\r\n\r\nI understood your question but use `break` statement to go out of loops like `for`, `while`, `do while`. You can go out of `if` statement when the condition is satisfied and statements inside the `if` branch are executed. If you don&#39;t want to check for other conditions when your first `if` is satisfied you have to use `if else` branches instead of using 4 if statements.\r\nThese two links might be useful \r\n\r\n - [if else document][1]  \r\n - [break document][2]\r\n\r\nSee the below example\r\n\r\n    if(condition) {\r\n        if(condition) { //if this evaluates to true, logic1 is executed\r\n            logic1;\r\n        }\r\n        else if(condition) { //if the above condition fails, but this condition satisfies then logic 2 is executed\r\n            logic2;\r\n        }\r\n        else { //if the above 2 conditions fail, you can execute logic3\r\n            logic3;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html","title":"Breaking out of nested if","body":"<p><strong>IMPORTANT: <code>break</code> statements are used to come out of loops but not branches</strong></p>\n\n<p>I understood your question but use <code>break</code> statement to go out of loops like <code>for</code>, <code>while</code>, <code>do while</code>. You can go out of <code>if</code> statement when the condition is satisfied and statements inside the <code>if</code> branch are executed. If you don't want to check for other conditions when your first <code>if</code> is satisfied you have to use <code>if else</code> branches instead of using 4 if statements.\nThese two links might be useful </p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"noreferrer\">if else document</a>  </li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"noreferrer\">break document</a></li>\n</ul>\n\n<p>See the below example</p>\n\n<pre><code>if(condition) {\n    if(condition) { //if this evaluates to true, logic1 is executed\n        logic1;\n    }\n    else if(condition) { //if the above condition fails, but this condition satisfies then logic 2 is executed\n        logic2;\n    }\n    else { //if the above 2 conditions fail, you can execute logic3\n        logic3;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":88834,"reputation":8981,"user_id":245495,"accept_rate":67,"display_name":"Odys"},"score":12,"creation_date":1476099479,"post_id":30572447,"comment_id":67194184,"body_markdown":"No, you shouldn&#39;t do this. This is not 1985.","body":"No, you shouldn&#39;t do this. This is not 1985."},{"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"score":0,"creation_date":1672826517,"post_id":30572447,"comment_id":132358706,"body_markdown":"It Is Java, There&#39;s No Goto Statement!","body":"It Is Java, There&#39;s No Goto Statement!"}],"tags":[],"owner":{"account_id":1318961,"reputation":1067,"user_id":1265209,"accept_rate":100,"display_name":"Martin Clemens Bloch"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1433158460,"creation_date":1433158460,"answer_id":30572447,"question_id":28731588,"body_markdown":"break; does NOT work for if statements, only loops, switch and such.\r\n\r\nYou can do this to avoid nesting:\r\n\r\n    if(mainCondition)\r\n    {\r\n      if(condition1)\r\n        goto LabelContinue;\r\n    \r\n      bool condition2 = logic...;\r\n    \r\n      if(condition2)\r\n        goto LabelContinue;\r\n    \r\n      //Code\r\n    }\r\n    LabelContinue:\r\n    //Other code.","title":"Breaking out of nested if","body":"<p>break; does NOT work for if statements, only loops, switch and such.</p>\n\n<p>You can do this to avoid nesting:</p>\n\n<pre><code>if(mainCondition)\n{\n  if(condition1)\n    goto LabelContinue;\n\n  bool condition2 = logic...;\n\n  if(condition2)\n    goto LabelContinue;\n\n  //Code\n}\nLabelContinue:\n//Other code.\n</code></pre>\n"}],"owner":{"account_id":5848721,"reputation":21,"user_id":4608051,"display_name":"CK920"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25197,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1666280658,"creation_date":1424906236,"question_id":28731588,"body_markdown":"I have a bit of code that contains nested if statements:\r\n\r\n    if(numberOfNeighbors == 1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//go through comparison again, add Pixel(i,j) to current linked list -&gt; complist[numberOfComponents]\r\n\t\t\t\t\t\t//  break out of large check ??\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j-1))){ //compare to top left\r\n\t\t\t\t\t\t\tcomplist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break; \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(ji.getPixelColor(i, j) == (ji.getPixelColor(i,j-1))){ // compare to top\r\n\t\t\t\t\t\t\tcomplist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(ji.getPixelColor(i, j) == (ji.getPixelColor(i+1,j-1))){ // compare to top right\r\n\t\t\t\t\t\t\tcomplist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j))){ // compare to left\r\n\t\t\t\t\t\t\tcomplist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\r\n\t\t\t\t\t\t}\r\n    } // end of if(numberOfNeighbors == 1)\r\n\r\n\r\nBasically what I would like to do, however inefficient this may be, is compare a something 4 times, but if it turns out it is a match, break out of the set of the 4 nested if statements, as well as the outer if statement.\r\n\r\nWill this work? or will it just break out of the nested if its currently at and continue to the next until its gone through all 4?\r\n","title":"Breaking out of nested if","body":"<p>I have a bit of code that contains nested if statements:</p>\n\n<pre><code>if(numberOfNeighbors == 1){\n\n                //go through comparison again, add Pixel(i,j) to current linked list -&gt; complist[numberOfComponents]\n                    //  break out of large check ??\n\n                    if(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j-1))){ //compare to top left\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break; \n                    }\n                    if(ji.getPixelColor(i, j) == (ji.getPixelColor(i,j-1))){ // compare to top\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\n                    }\n\n                    if(ji.getPixelColor(i, j) == (ji.getPixelColor(i+1,j-1))){ // compare to top right\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\n                    }\n                    if(ji.getPixelColor(i, j) == (ji.getPixelColor(i-1,j))){ // compare to left\n                        complist[numberOfComponents].addFirst(new Pixel(i,j,numberOfComponents)); break;\n                    }\n} // end of if(numberOfNeighbors == 1)\n</code></pre>\n\n<p>Basically what I would like to do, however inefficient this may be, is compare a something 4 times, but if it turns out it is a match, break out of the set of the 4 nested if statements, as well as the outer if statement.</p>\n\n<p>Will this work? or will it just break out of the nested if its currently at and continue to the next until its gone through all 4?</p>\n"},{"tags":["java","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1602054926,"creation_date":1602054926,"answer_id":64239061,"question_id":64198147,"body_markdown":"I moved the relevant beans(mocks) from the src/test dir to src/main.\r\n\r\n I also  found [this solution][1] on maven\\`s site. \r\n\r\nif someone will have another practical answer I&#39;ll be happy to hear and update the post`s answer.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html","title":"Multi-module Maven project - include test beans in jar","body":"<p>I moved the relevant beans(mocks) from the src/test dir to src/main.</p>\n<p>I also  found <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\" rel=\"nofollow noreferrer\">this solution</a> on maven`s site.</p>\n<p>if someone will have another practical answer I'll be happy to hear and update the post`s answer.</p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64239061,"answer_count":1,"score":0,"last_activity_date":1666280537,"creation_date":1601834761,"question_id":64198147,"body_markdown":"How can I include Spring beans under test dir (src/test/) in the jar that is imported to another module ?\r\n\r\nI have a few Maven projects : ms1, ms2, ms3 and general-shared. The general-shared is a multi-module Maven project. It contains a few modules : general-shared-utills, general-shared-fs etc...\r\n\r\nIn each sub module I had a dedicated pom.xml with all the dependencies that are needed and in the general-shared pom I have details regarding the build and the modules : \r\n  \r\n\r\n      &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;general-shared-utills&lt;/module&gt;\r\n            &lt;module&gt;general-shared-fs&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n\r\nIt seems that all the beans that I created for tests (located in src/test) in the sub modules aren&#39;t imported to the Maven module (ms1 for example). \r\n\r\nAn example : \r\n\r\nIn sub module general-shared-utills I have the following classes : \r\n\r\nUnder /src/main :\r\n\r\n    @Component\r\n    public class Shop\r\n        @Autowired\r\n        private AWSService awsService\r\n\r\n    @Component\r\n    @Profile(&quot;prod&quot;)\r\n    public class AWSService \r\n    ...\r\n\r\n\r\n\r\nUnder /src/test:\r\n\r\n    @Component\r\n    @Profile(&quot;test&quot;)\r\n    public class AWSServiceMock extends AWSService \r\n    \r\n\r\nWhen I import the  general-shared-utills module in the pom of ms1 I want it to include the AWSServiceMock  class. Right now, the tests of ms1 can&#39;t find any bean of type AWSService because it doesn&#39;t have a bean of AWSService type with test profile : \r\n\r\n     Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;a.x.y.aws.AWSService &#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}","title":"Multi-module Maven project - include test beans in jar","body":"<p>How can I include Spring beans under test dir (src/test/) in the jar that is imported to another module ?</p>\n<p>I have a few Maven projects : ms1, ms2, ms3 and general-shared. The general-shared is a multi-module Maven project. It contains a few modules : general-shared-utills, general-shared-fs etc...</p>\n<p>In each sub module I had a dedicated pom.xml with all the dependencies that are needed and in the general-shared pom I have details regarding the build and the modules :</p>\n<pre><code>  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;modules&gt;\n        &lt;module&gt;general-shared-utills&lt;/module&gt;\n        &lt;module&gt;general-shared-fs&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>It seems that all the beans that I created for tests (located in src/test) in the sub modules aren't imported to the Maven module (ms1 for example).</p>\n<p>An example :</p>\n<p>In sub module general-shared-utills I have the following classes :</p>\n<p>Under /src/main :</p>\n<pre><code>@Component\npublic class Shop\n    @Autowired\n    private AWSService awsService\n\n@Component\n@Profile(&quot;prod&quot;)\npublic class AWSService \n...\n</code></pre>\n<p>Under /src/test:</p>\n<pre><code>@Component\n@Profile(&quot;test&quot;)\npublic class AWSServiceMock extends AWSService \n</code></pre>\n<p>When I import the  general-shared-utills module in the pom of ms1 I want it to include the AWSServiceMock  class. Right now, the tests of ms1 can't find any bean of type AWSService because it doesn't have a bean of AWSService type with test profile :</p>\n<pre><code> Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'a.x.y.aws.AWSService ' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":8,"creation_date":1408616199,"post_id":25423743,"comment_id":39660964,"body_markdown":"Structure your code so that you only have access to the values you should have - create methods, use final variables and divide your code into small parts.","body":"Structure your code so that you only have access to the values you should have - create methods, use final variables and divide your code into small parts."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":2,"creation_date":1408616293,"post_id":25423743,"comment_id":39661013,"body_markdown":"Put the code that should not be able to use `i` in a separate method. A separate method has its own distinct local variable scope.","body":"Put the code that should not be able to use <code>i</code> in a separate method. A separate method has its own distinct local variable scope."},{"owner":{"account_id":3637288,"reputation":7290,"user_id":3032349,"accept_rate":100,"display_name":"ThreeFx"},"score":1,"creation_date":1408616316,"post_id":25423743,"comment_id":39661029,"body_markdown":"Why would you want to do this?! Your reasoning does not make sense.","body":"Why would you want to do this?! Your reasoning does not make sense."},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1408616380,"post_id":25423743,"comment_id":39661063,"body_markdown":"@Smutje yes I understand that. This is certainly good way of programming. however, I need to write codes for mathematical formulas, and using loops within loops within loops... is very natural . also using attributes such as i,j,k makes it very similar to the actual formulas. thus structuring my code takes a very long time","body":"@Smutje yes I understand that. This is certainly good way of programming. however, I need to write codes for mathematical formulas, and using loops within loops within loops... is very natural . also using attributes such as i,j,k makes it very similar to the actual formulas. thus structuring my code takes a very long time"},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":1,"creation_date":1408616445,"post_id":25423743,"comment_id":39661099,"body_markdown":"don&#39;t trust yourself? it is simple, don&#39;t use i or j.","body":"don&#39;t trust yourself? it is simple, don&#39;t use i or j."},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1408616541,"post_id":25423743,"comment_id":39661157,"body_markdown":"@bigdestroyer well, that&#39;s certainly the case. but if you have to write such codes every day you realize how hard it is :D.","body":"@bigdestroyer well, that&#39;s certainly the case. but if you have to write such codes every day you realize how hard it is :D."}],"answers":[{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1408616330,"creation_date":1408616330,"answer_id":25423803,"question_id":25423743,"body_markdown":"Call a method.\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      for (int j = i + 5; j &lt; 50; j++) {\r\n        doSomething();\r\n      }\r\n    }\r\n\r\n    ...\r\n\r\n    private void doSomething() {\r\n      // Woot, no i and no j!\r\n    }","title":"How to block attributes from being used in java","body":"<p>Call a method.</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n  for (int j = i + 5; j &lt; 50; j++) {\n    doSomething();\n  }\n}\n\n...\n\nprivate void doSomething() {\n  // Woot, no i and no j!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408616461,"creation_date":1408616461,"answer_id":25423856,"question_id":25423743,"body_markdown":"The best way to obtain this in java, is by using [scope][1]. Make sure that the variables are in different scopes and then you don&#39;t have access to it. A good guideline to follow is to split your logic in various small methods, this way you&#39;ll ensure the desired behavior.  \r\n\r\n\r\n  [1]: http://java.about.com/od/s/g/Scope.htm","title":"How to block attributes from being used in java","body":"<p>The best way to obtain this in java, is by using <a href=\"http://java.about.com/od/s/g/Scope.htm\" rel=\"nofollow\">scope</a>. Make sure that the variables are in different scopes and then you don't have access to it. A good guideline to follow is to split your logic in various small methods, this way you'll ensure the desired behavior.  </p>\n"},{"comments":[{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1408622839,"post_id":25424178,"comment_id":39664848,"body_markdown":"I know all the problems regarding this code. as I said I have to program mathematical models. my problem isn&#39;t that I don&#39;t know how to make a good program, my problem is to produce it fast. especially in mathematical algorithms.","body":"I know all the problems regarding this code. as I said I have to program mathematical models. my problem isn&#39;t that I don&#39;t know how to make a good program, my problem is to produce it fast. especially in mathematical algorithms."},{"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"score":0,"creation_date":1408628440,"post_id":25424178,"comment_id":39668593,"body_markdown":"@nafas Actually, your question was about not mixing up variables so that&#39;s what I answered. Only now you&#39;re saying you know how to do that but you want to write code fast.","body":"@nafas Actually, your question was about not mixing up variables so that&#39;s what I answered. Only now you&#39;re saying you know how to do that but you want to write code fast."},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1408629412,"post_id":25424178,"comment_id":39669269,"body_markdown":"well my question  specifically was how to block attributes from being used. The reason I wanted to do that so I reduce mistakes within my program as I use variable such as i,j,k(which come from my mathematical formulas). I understand your code would certainly help to reduce such mistakes, but this approach would be slow to use. I just rather to focus not to make a mistake rather than use slow approach.","body":"well my question  specifically was how to block attributes from being used. The reason I wanted to do that so I reduce mistakes within my program as I use variable such as i,j,k(which come from my mathematical formulas). I understand your code would certainly help to reduce such mistakes, but this approach would be slow to use. I just rather to focus not to make a mistake rather than use slow approach."}],"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666280402,"creation_date":1408617411,"answer_id":25424178,"question_id":25423743,"body_markdown":"Your code doesn&#39;t make sense to anybody. You need to divide it into functions with good names so that anyone can understand what your program is doing without comments around the code or getting mixed up with variables.\r\n\r\nHere&#39;s an example for the code you have posted:\r\n    \r\n    public void printNumberTimes5(int number) {\r\n          print(number*5);\r\n    }\r\n\r\nBut don&#39;t stop there, make it obvious what the loop is doing too:\r\n\r\n    public void printSomeNumbers(int someNumber) {\r\n      for(int j=someNumber+5;j&lt;50;j++){\r\n         printNumberTimes5(j);\r\n      }\r\n    }\r\n\r\nAnd again:\r\n\r\n       public void printSomeNumbers_repeat(int repeat) {\r\n           for(int i=0;i&lt;repeat;i++){\r\n               printSomeNumbers(i);\r\n           }\r\n       }\r\n\r\nI don&#39;t really know what you&#39;re doing but renaming the function to what you&#39;re supposed to be doing would make it clear.\r\n\r\nRemember: each function should only have one job.\r\n\r\nFinally, give `i` and `j` real names so that you understand what those numbers do and don&#39;t mix them up.\r\n","title":"How to block attributes from being used in java","body":"<p>Your code doesn't make sense to anybody. You need to divide it into functions with good names so that anyone can understand what your program is doing without comments around the code or getting mixed up with variables.</p>\n<p>Here's an example for the code you have posted:</p>\n<pre><code>public void printNumberTimes5(int number) {\n      print(number*5);\n}\n</code></pre>\n<p>But don't stop there, make it obvious what the loop is doing too:</p>\n<pre><code>public void printSomeNumbers(int someNumber) {\n  for(int j=someNumber+5;j&lt;50;j++){\n     printNumberTimes5(j);\n  }\n}\n</code></pre>\n<p>And again:</p>\n<pre><code>   public void printSomeNumbers_repeat(int repeat) {\n       for(int i=0;i&lt;repeat;i++){\n           printSomeNumbers(i);\n       }\n   }\n</code></pre>\n<p>I don't really know what you're doing but renaming the function to what you're supposed to be doing would make it clear.</p>\n<p>Remember: each function should only have one job.</p>\n<p>Finally, give <code>i</code> and <code>j</code> real names so that you understand what those numbers do and don't mix them up.</p>\n"},{"comments":[{"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"score":0,"creation_date":1408746003,"post_id":25424704,"comment_id":39722197,"body_markdown":"Shouldn&#39;t there be a NullPointerException, even if you leave out the i.inc inside the for-loop?","body":"Shouldn&#39;t there be a NullPointerException, even if you leave out the i.inc inside the for-loop?"},{"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"score":0,"creation_date":1408746163,"post_id":25424704,"comment_id":39722247,"body_markdown":"Still a good starting point. Maybe though it would be better to have a lock() method on Counter rather then nulling-out the reference.","body":"Still a good starting point. Maybe though it would be better to have a lock() method on Counter rather then nulling-out the reference."},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1408942892,"post_id":25424704,"comment_id":39764703,"body_markdown":"The idea is to provide a warning. Having a lock() method does not provide the warning.","body":"The idea is to provide a warning. Having a lock() method does not provide the warning."},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1408942968,"post_id":25424704,"comment_id":39764718,"body_markdown":"At runtime NPE will be thrown for `i.inc()`. According to OP, the need is to avoid using `i` after a point.","body":"At runtime NPE will be thrown for <code>i.inc()</code>. According to OP, the need is to avoid using <code>i</code> after a point."},{"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"score":0,"creation_date":1408957632,"post_id":25424704,"comment_id":39770326,"body_markdown":"In your situation the `i = null` also acts as a delayed `break;` as the  `i`-`for`-loop can&#39;t evaluate the condition for the next loop. But additionally to the break a NPE is thrown which may lead to lose of the result. I thought OP wanted to hide the variable from the rest of the block, not from the `for`-header and the next iteration","body":"In your situation the <code>i = null</code> also acts as a delayed <code>break;</code> as the  <code>i</code>-<code>for</code>-loop can&#39;t evaluate the condition for the next loop. But additionally to the break a NPE is thrown which may lead to lose of the result. I thought OP wanted to hide the variable from the rest of the block, not from the <code>for</code>-header and the next iteration"}],"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408965563,"creation_date":1408619024,"answer_id":25424704,"question_id":25423743,"body_markdown":"Since so many of answers talk about why this is a bad idea, so I won&#39;t repeat it.\r\n\r\nOne solution that comes to my mind is to use an counter object. Whenever you want a particular counter to go out of scope, set that to `null`. If you use it after this point, a `Null pointer access` warning is shown (at least in eclipse. I suspect other IDEs should also have this feature. Not sure whether `javac` generates a warning).\r\n\r\n    public class DisappearingVariables {\r\n    \r\n    \tpublic static class Counter {\r\n    \t\tint i = 0;\r\n    \t\tpublic Counter() {\r\n    \t\t}\r\n    \t\tpublic void inc() {\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tpublic int get() {\r\n    \t\t\treturn i;\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfor(Counter i = new Counter(), oi = i; i.get() &lt; 10; i = oi, i.inc()) {\r\n    \t\t\tSystem.out.println(&quot;i = &quot; + i.get());\r\n    \t\t\ti = null;\r\n    \t\t\ti.inc(); // This line gets a warning\r\n    \t\t\tfor(int j = 0; j &lt; 10; j++) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to block attributes from being used in java","body":"<p>Since so many of answers talk about why this is a bad idea, so I won't repeat it.</p>\n\n<p>One solution that comes to my mind is to use an counter object. Whenever you want a particular counter to go out of scope, set that to <code>null</code>. If you use it after this point, a <code>Null pointer access</code> warning is shown (at least in eclipse. I suspect other IDEs should also have this feature. Not sure whether <code>javac</code> generates a warning).</p>\n\n<pre><code>public class DisappearingVariables {\n\n    public static class Counter {\n        int i = 0;\n        public Counter() {\n        }\n        public void inc() {\n            i++;\n        }\n        public int get() {\n            return i;\n        }\n    }\n    public static void main(String[] args) {\n        for(Counter i = new Counter(), oi = i; i.get() &lt; 10; i = oi, i.inc()) {\n            System.out.println(\"i = \" + i.get());\n            i = null;\n            i.inc(); // This line gets a warning\n            for(int j = 0; j &lt; 10; j++) {\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408750005,"creation_date":1408747187,"answer_id":25456540,"question_id":25423743,"body_markdown":"My recommendations in order of preference:\r\n\r\n1. Use meaningful variable-names. Maybe `i` isn&#39;t as good as e.g. `row`, ...\r\n2. Use functions to group operations and also reduce the variables they can access. This can also lead to a point where repeating operations can easily be reused.\r\n3. Use a custom counter-object like this one\r\n\r\n        /**\r\n         * Created for http://stackoverflow.com/q/25423743/1266906\r\n         */\r\n        public class ObliviousLoops {\r\n    \r\n            public static void main(String[] args) {\r\n                for(LockableCounter i = new LockableCounter(0); i.getValue() &lt; 42; i.unlock().increment()) {\r\n                    System.out.println(&quot;A-loop:&quot; + i.getValue());\r\n                    i.lock();\r\n                    // No access, everything is fine\r\n                }\r\n                for(LockableCounter i = new LockableCounter(0); i.getValue() &lt; 42; i.unlock().increment()) {\r\n                    System.out.println(&quot;B-loop1:&quot; + i.getValue());\r\n                    i.lock();\r\n                    // Next statement will throw an Exception\r\n                    System.out.println(&quot;B-loop2:&quot; + i.getValue());\r\n                }\r\n            }\r\n    \r\n            static class LockableCounter {\r\n                private long value;\r\n                private boolean locked;\r\n    \r\n                LockableCounter(long value) {\r\n                    this.value = value;\r\n                }\r\n    \r\n                public LockableCounter lock() {\r\n                    this.locked = true;\r\n                    return this;\r\n                }\r\n    \r\n                public LockableCounter unlock() {\r\n                    this.locked = false;\r\n                    return this;\r\n                }\r\n    \r\n                public long getValue() {\r\n                    if(locked) {\r\n                        throw new IllegalStateException(&quot;Accessing locked counter&quot;);\r\n                    }\r\n                    return value;\r\n                }\r\n    \r\n                public void increment() {\r\n                    if(locked) {\r\n                        throw new IllegalStateException(&quot;Accessing locked counter&quot;);\r\n                    }\r\n                    value++;\r\n                }\r\n    \r\n                @Override\r\n                public String toString() {\r\n                    if(locked) {\r\n                        throw new IllegalStateException(&quot;Accessing locked counter&quot;);\r\n                    }\r\n                    return String.valueOf(value);\r\n                }\r\n            }\r\n        }\r\n the most obvious draw-backs of the last solution is a less fluent handling of the value, less ways to optimize the operations for the compiler, ... in practice you may even want to replace the `LockableCounter` by something different, once you are sure you calculations are written as desired to speed things up.\r\n\r\n4. Use Java 8&#39;s lambda-function to build something behaving similar to `for`-loops where you can `null`-out the counter for the rest of the cycle (actually this is a variant of #2)\r\n\r\n        import java.util.function.Consumer;\r\n        import java.util.function.Function;\r\n        import java.util.function.Predicate;\r\n        \r\n        /**\r\n         * Created for http://stackoverflow.com/q/25423743/1266906\r\n         */\r\n        public class LambdaLoops {\r\n        \r\n            public static void main(String[] args) {\r\n                iterate(0, 42, (i) -&gt; {\r\n                    System.out.println(&quot;A-loop:&quot; + (i + 0));\r\n                    i = null;\r\n                });\r\n                iterate(0, (i) -&gt; i &lt; 42, (i) -&gt; ++i, (i) -&gt; {\r\n                    System.out.println(&quot;B-loop:&quot; + (i + 0));\r\n                    i = null;\r\n                });\r\n                iterate(0, (i) -&gt; i &lt; 42, (i) -&gt; {\r\n                    System.out.println(&quot;C-loop1:&quot; + (i + 0));\r\n                    i = null;\r\n                    // Next statement will not throw an Exception\r\n                    System.out.println(&quot;C-loop2:&quot; + i);\r\n                    // Next statement will throw an Exception\r\n                    System.out.println(&quot;C-loop3:&quot; + (i + 0));\r\n                });\r\n            }\r\n        \r\n            static void iterate(Integer initial, Integer limit, Consumer&lt;? super Integer&gt; function) {\r\n                for (Integer i = initial; i &lt; limit; i++) {\r\n                    function.accept(i);\r\n                }\r\n            }\r\n        \r\n            static void iterate(Integer initial, Predicate&lt;? super Integer&gt; when, Consumer&lt;? super Integer&gt; function) {\r\n                for (Integer i = initial; when.test(i); i++) {\r\n                    function.accept(i);\r\n                }\r\n            }\r\n        \r\n            static &lt;T&gt; void iterate(T initial, Predicate&lt;? super T&gt; when, Function&lt;? super T, ? extends T&gt; increment, Consumer&lt;? super T&gt; function) {\r\n                for (T i = initial; when.test(i); i = increment.apply(i)) {\r\n                    function.accept(i);\r\n                }\r\n            }\r\n        }\r\n\r\n as in #3 this will most likely lead to decreased performance, but has the advantage, that your IDE might alert you, that `i` will always be `null`. This should however be easier to optimize be inlining than #3 as there is no additional `boolean` involved. If and when the JIT does inlining is however hard to guess.","title":"How to block attributes from being used in java","body":"<p>My recommendations in order of preference:</p>\n\n<ol>\n<li>Use meaningful variable-names. Maybe <code>i</code> isn't as good as e.g. <code>row</code>, ...</li>\n<li>Use functions to group operations and also reduce the variables they can access. This can also lead to a point where repeating operations can easily be reused.</li>\n<li><p>Use a custom counter-object like this one</p>\n\n<pre><code>/**\n * Created for http://stackoverflow.com/q/25423743/1266906\n */\npublic class ObliviousLoops {\n\n    public static void main(String[] args) {\n        for(LockableCounter i = new LockableCounter(0); i.getValue() &lt; 42; i.unlock().increment()) {\n            System.out.println(\"A-loop:\" + i.getValue());\n            i.lock();\n            // No access, everything is fine\n        }\n        for(LockableCounter i = new LockableCounter(0); i.getValue() &lt; 42; i.unlock().increment()) {\n            System.out.println(\"B-loop1:\" + i.getValue());\n            i.lock();\n            // Next statement will throw an Exception\n            System.out.println(\"B-loop2:\" + i.getValue());\n        }\n    }\n\n    static class LockableCounter {\n        private long value;\n        private boolean locked;\n\n        LockableCounter(long value) {\n            this.value = value;\n        }\n\n        public LockableCounter lock() {\n            this.locked = true;\n            return this;\n        }\n\n        public LockableCounter unlock() {\n            this.locked = false;\n            return this;\n        }\n\n        public long getValue() {\n            if(locked) {\n                throw new IllegalStateException(\"Accessing locked counter\");\n            }\n            return value;\n        }\n\n        public void increment() {\n            if(locked) {\n                throw new IllegalStateException(\"Accessing locked counter\");\n            }\n            value++;\n        }\n\n        @Override\n        public String toString() {\n            if(locked) {\n                throw new IllegalStateException(\"Accessing locked counter\");\n            }\n            return String.valueOf(value);\n        }\n    }\n}\n</code></pre>\n\n<p>the most obvious draw-backs of the last solution is a less fluent handling of the value, less ways to optimize the operations for the compiler, ... in practice you may even want to replace the <code>LockableCounter</code> by something different, once you are sure you calculations are written as desired to speed things up.</p></li>\n<li><p>Use Java 8's lambda-function to build something behaving similar to <code>for</code>-loops where you can <code>null</code>-out the counter for the rest of the cycle (actually this is a variant of #2)</p>\n\n<pre><code>import java.util.function.Consumer;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\n\n/**\n * Created for http://stackoverflow.com/q/25423743/1266906\n */\npublic class LambdaLoops {\n\n    public static void main(String[] args) {\n        iterate(0, 42, (i) -&gt; {\n            System.out.println(\"A-loop:\" + (i + 0));\n            i = null;\n        });\n        iterate(0, (i) -&gt; i &lt; 42, (i) -&gt; ++i, (i) -&gt; {\n            System.out.println(\"B-loop:\" + (i + 0));\n            i = null;\n        });\n        iterate(0, (i) -&gt; i &lt; 42, (i) -&gt; {\n            System.out.println(\"C-loop1:\" + (i + 0));\n            i = null;\n            // Next statement will not throw an Exception\n            System.out.println(\"C-loop2:\" + i);\n            // Next statement will throw an Exception\n            System.out.println(\"C-loop3:\" + (i + 0));\n        });\n    }\n\n    static void iterate(Integer initial, Integer limit, Consumer&lt;? super Integer&gt; function) {\n        for (Integer i = initial; i &lt; limit; i++) {\n            function.accept(i);\n        }\n    }\n\n    static void iterate(Integer initial, Predicate&lt;? super Integer&gt; when, Consumer&lt;? super Integer&gt; function) {\n        for (Integer i = initial; when.test(i); i++) {\n            function.accept(i);\n        }\n    }\n\n    static &lt;T&gt; void iterate(T initial, Predicate&lt;? super T&gt; when, Function&lt;? super T, ? extends T&gt; increment, Consumer&lt;? super T&gt; function) {\n        for (T i = initial; when.test(i); i = increment.apply(i)) {\n            function.accept(i);\n        }\n    }\n}\n</code></pre>\n\n<p>as in #3 this will most likely lead to decreased performance, but has the advantage, that your IDE might alert you, that <code>i</code> will always be <code>null</code>. This should however be easier to optimize be inlining than #3 as there is no additional <code>boolean</code> involved. If and when the JIT does inlining is however hard to guess.</p></li>\n</ol>\n"}],"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":5,"score":-4,"last_activity_date":1666280402,"creation_date":1408616108,"question_id":25423743,"body_markdown":"Basically I would like to know if there is a way to &quot;disable&quot; an attribute within a block after a certain point.\r\n\r\nFor example check the following scenario:\r\n    \r\n    for(int i=0;i&lt;10;i++){\r\n      for(int j=i+5;j&lt;50;j++){\r\n    \r\n          //from here until end of the block I want to make sure I don&#39;t use **i** anymore.\r\n          print(j*5+i);  //I want this line to produce compiler error\r\n      }\r\n    }\r\n\r\nDon&#39;t get me wrong I understand it is a bad programming, but I still can&#39;t help but to use i,j,k,h as attributes. and sometimes I make a mistake by misplacing the attributes in wrong places.\r\n","title":"How to block attributes from being used in java","body":"<p>Basically I would like to know if there is a way to \"disable\" an attribute within a block after a certain point.</p>\n\n<p>For example check the following scenario:</p>\n\n<pre><code>for(int i=0;i&lt;10;i++){\n  for(int j=i+5;j&lt;50;j++){\n\n      //from here until end of the block I want to make sure I don't use **i** anymore.\n      print(j*5+i);  //I want this line to produce compiler error\n  }\n}\n</code></pre>\n\n<p>Don't get me wrong I understand it is a bad programming, but I still can't help but to use i,j,k,h as attributes. and sometimes I make a mistake by misplacing the attributes in wrong places.</p>\n"},{"tags":["java","http","apache-commons-httpclient"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1666111527,"post_id":74092679,"comment_id":130856289,"body_markdown":"Is this solved since you provided an answer to your other question (https://ru.stackoverflow.com/a/1457875)? Note that Unicode escapes in JSON have the same meaning as the corresponding Unicode code point, so any compliant JSON library should handle that fine. If you are using `String.format` in your `getRequestString` method, you should specify a `Locale` to make it independent of the default locale; and you might have to perform URL escaping on more parameters. Though with OkHttp you could use [`HttpUrl.Builder`](https://square.github.io/okhttp/4.x/okhttp/okhttp3/-http-url/-builder/)","body":"Is this solved since you provided an answer to your other question (<a href=\"https://ru.stackoverflow.com/a/1457875\">ru.stackoverflow.com/a/1457875</a>)? Note that Unicode escapes in JSON have the same meaning as the corresponding Unicode code point, so any compliant JSON library should handle that fine. If you are using <code>String.format</code> in your <code>getRequestString</code> method, you should specify a <code>Locale</code> to make it independent of the default locale; and you might have to perform URL escaping on more parameters. Though with OkHttp you could use <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-http-url/-builder/\" rel=\"nofollow noreferrer\"><code>HttpUrl.Builder</code></a>"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1666279910,"post_id":74092679,"comment_id":130904181,"body_markdown":"Oh, I forgot about question here. Thank you. Well, problem was not with the encoding but because of two http headers was missing. Now my program works as expected.","body":"Oh, I forgot about question here. Thank you. Well, problem was not with the encoding but because of two http headers was missing. Now my program works as expected."}],"answers":[{"tags":[],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666280028,"creation_date":1666280028,"answer_id":74142578,"question_id":74092679,"body_markdown":"Well, I solved my problem. It consisted not in the character encoding, but in the absence of two http headers, namely\r\n```java\r\nhttpPost.setHeader(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);\r\nhttpPost.setHeader(&quot;Referer&quot;, Constants.BASE_URL);\r\n\r\n(added to login request)\r\n```","title":"Java changes Cyrillic to unicode like \\uXXXX","body":"<p>Well, I solved my problem. It consisted not in the character encoding, but in the absence of two http headers, namely</p>\n<pre class=\"lang-java prettyprint-override\"><code>httpPost.setHeader(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);\nhttpPost.setHeader(&quot;Referer&quot;, Constants.BASE_URL);\n\n(added to login request)\n</code></pre>\n"}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74142578,"answer_count":1,"score":0,"last_activity_date":1666280028,"creation_date":1665981994,"question_id":74092679,"body_markdown":"I am making an application in Java, that will log into my school diary using web api, so I will be able to make my own UI. As the title says, Java at some moment changes the cyrillic to unicode like \\uXXXX symbolds. Here is the code on the Russian Stackoverflow: https://ru.stackoverflow.com/questions/1452959/%d0%a1%d0%b5%d1%80%d0%b2%d0%b5%d1%80-%d0%be%d1%82%d0%b2%d0%b5%d1%80%d0%b3%d0%b0%d0%b5%d1%82-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81. Try to translate it, to understand more. When I am sending my request to https://httpbin.org/post instead of my LOGIN_URL with cyrillic symbols it returns them transformed, if I send request with ascii symbols, I get them back, and, in the linked post I mentioned the python project, which does exactly the same thing I want. And when I modify it to make it send request to httpbin, the cyrillic symbols are returned back! What do I do to fix my java code? &lt;br&gt; &lt;br&gt; P.S. Currently I am switched to okhttp3 from apache http client (same problem), but, I can go back.","title":"Java changes Cyrillic to unicode like \\uXXXX","body":"<p>I am making an application in Java, that will log into my school diary using web api, so I will be able to make my own UI. As the title says, Java at some moment changes the cyrillic to unicode like \\uXXXX symbolds. Here is the code on the Russian Stackoverflow: <a href=\"https://ru.stackoverflow.com/questions/1452959/%d0%a1%d0%b5%d1%80%d0%b2%d0%b5%d1%80-%d0%be%d1%82%d0%b2%d0%b5%d1%80%d0%b3%d0%b0%d0%b5%d1%82-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81\">https://ru.stackoverflow.com/questions/1452959/%d0%a1%d0%b5%d1%80%d0%b2%d0%b5%d1%80-%d0%be%d1%82%d0%b2%d0%b5%d1%80%d0%b3%d0%b0%d0%b5%d1%82-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81</a>. Try to translate it, to understand more. When I am sending my request to <a href=\"https://httpbin.org/post\" rel=\"nofollow noreferrer\">https://httpbin.org/post</a> instead of my LOGIN_URL with cyrillic symbols it returns them transformed, if I send request with ascii symbols, I get them back, and, in the linked post I mentioned the python project, which does exactly the same thing I want. And when I modify it to make it send request to httpbin, the cyrillic symbols are returned back! What do I do to fix my java code? <br> <br> P.S. Currently I am switched to okhttp3 from apache http client (same problem), but, I can go back.</p>\n"},{"tags":["javascript","java","angular","spring-boot"],"comments":[{"owner":{"account_id":24083572,"reputation":1134,"user_id":18057908,"display_name":"Palladium02"},"score":0,"creation_date":1666103334,"post_id":74112564,"comment_id":130853011,"body_markdown":"What is the value of the content-type header that is send when making the request using Angulars http-client? Is there any chance that your body contains formdata but the content-type header is set incorrectly so Spring starts to complain?","body":"What is the value of the content-type header that is send when making the request using Angulars http-client? Is there any chance that your body contains formdata but the content-type header is set incorrectly so Spring starts to complain?"},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1666105415,"post_id":74112564,"comment_id":130853951,"body_markdown":"@Palladium02 I wasn&#39;t setting it. I just tried Arif Khan&#39;s answer and I&#39;m now getting a different error. I&#39;m researching about it.","body":"@Palladium02 I wasn&#39;t setting it. I just tried Arif Khan&#39;s answer and I&#39;m now getting a different error. I&#39;m researching about it."}],"answers":[{"comments":[{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1666105319,"post_id":74112952,"comment_id":130853912,"body_markdown":"I just tried this and the error changed. I&#39;m now getting this: ```[org.springframework.web.HttpMediaTypeNotSupportedException Invalid mime type &quot;file&quot;: does not contain &#39;/&#39;]```","body":"I just tried this and the error changed. I&#39;m now getting this: <code>[org.springframework.web.HttpMediaTypeNotSupportedException Invalid mime type &quot;file&quot;: does not contain &#39;&#47;&#39;]</code>"},{"owner":{"account_id":13550093,"reputation":226,"user_id":9775192,"display_name":"Arif Khan"},"score":0,"creation_date":1666105985,"post_id":74112952,"comment_id":130854177,"body_markdown":"Could you please try to change file to multipart/form-data , like this &#39;Content-Type&#39;: &#39;multipart/form-data&#39;","body":"Could you please try to change file to multipart/form-data , like this &#39;Content-Type&#39;: &#39;multipart/form-data&#39;"},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1666106072,"post_id":74112952,"comment_id":130854221,"body_markdown":"I actually just tried and I got the following error: ```; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found] with root cause\norg.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found```","body":"I actually just tried and I got the following error: <code>; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found] with root cause org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found</code>"},{"owner":{"account_id":13550093,"reputation":226,"user_id":9775192,"display_name":"Arif Khan"},"score":0,"creation_date":1666106170,"post_id":74112952,"comment_id":130854264,"body_markdown":"may be need to change some code in spring boot like below, please try this also......@RequestMapping(method = RequestMethod.POST, consumes = { &quot;multipart/form-data&quot; })\n    public boolean addDocument(@RequestPart(&quot;properties&quot;) Document document, @RequestPart(&quot;file&quot;) MultipartFile file) {","body":"may be need to change some code in spring boot like below, please try this also......@RequestMapping(method = RequestMethod.POST, consumes = { &quot;multipart/form-data&quot; })     public boolean addDocument(@RequestPart(&quot;properties&quot;) Document document, @RequestPart(&quot;file&quot;) MultipartFile file) {"},{"owner":{"account_id":13550093,"reputation":226,"user_id":9775192,"display_name":"Arif Khan"},"score":0,"creation_date":1666107649,"post_id":74112952,"comment_id":130854886,"body_markdown":"try &#39;Content-Type&#39;: undefined","body":"try &#39;Content-Type&#39;: undefined"},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1666107920,"post_id":74112952,"comment_id":130855010,"body_markdown":"I&#39;ve tried your suggestions above. Nothing have worked yet. This looked promising: ```const _headers = new HttpHeaders({&#39;Content-Type&#39;: `multipart/form-data; boundary=${Math.random().toString(36)}`});``` But the backend isn&#39;t getting the passed file.","body":"I&#39;ve tried your suggestions above. Nothing have worked yet. This looked promising: <code>const _headers = new HttpHeaders({&#39;Content-Type&#39;: `multipart&#47;form-data; boundary=${Math.random().toString(36)}`});</code> But the backend isn&#39;t getting the passed file."},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1666161833,"post_id":74112952,"comment_id":130867005,"body_markdown":"Thanks, @Arif Khan. Your suggestions led me to the correct solution to my problem. I&#39;ve just posted it. It was a problem within our codebase where we defined an interceptor that automatically sets the Content-Type to application/json.","body":"Thanks, @Arif Khan. Your suggestions led me to the correct solution to my problem. I&#39;ve just posted it. It was a problem within our codebase where we defined an interceptor that automatically sets the Content-Type to application/json."},{"owner":{"account_id":13550093,"reputation":226,"user_id":9775192,"display_name":"Arif Khan"},"score":1,"creation_date":1666167409,"post_id":74112952,"comment_id":130868881,"body_markdown":"Thanks for updating @ericute, comment headers in the interceptor will cause issues with other APIs, instead, you can create one more if the condition and reset the header there for your API.","body":"Thanks for updating @ericute, comment headers in the interceptor will cause issues with other APIs, instead, you can create one more if the condition and reset the header there for your API."}],"tags":[],"owner":{"account_id":13550093,"reputation":226,"user_id":9775192,"display_name":"Arif Khan"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666105090,"creation_date":1666104321,"answer_id":74112952,"question_id":74112564,"body_markdown":"Provide the header Content-Type: file, It should resolve the issue.\r\n\r\n```\r\nthis.http.post(`http://localhost:16080/files/upload`, formData, \r\n      headers: {\r\n        &#39;Content-Type&#39;: &#39;file&#39;\r\n      }\r\n);\r\n\r\n```\r\n\r\nOr\r\n\r\n```\r\nconst _headers = new HttpHeaders({\r\n   &#39;Content-Type&#39;: &#39;file&#39;\r\n});\r\n\r\nthis.http.post(`http://localhost:16080/files/upload`, formData, \r\n      headers: _headers\r\n);\r\n```\r\n","title":"Current request is not a multipart request in Angular but works in Postman","body":"<p>Provide the header Content-Type: file, It should resolve the issue.</p>\n<pre><code>this.http.post(`http://localhost:16080/files/upload`, formData, \n      headers: {\n        'Content-Type': 'file'\n      }\n);\n\n</code></pre>\n<p>Or</p>\n<pre><code>const _headers = new HttpHeaders({\n   'Content-Type': 'file'\n});\n\nthis.http.post(`http://localhost:16080/files/upload`, formData, \n      headers: _headers\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666174940,"creation_date":1666161682,"answer_id":74120892,"question_id":74112564,"body_markdown":"My original code is working as expected. The problem is in our project, there&#39;s an **HttpInterceptor**. that automatically appends a header of `&#39;Content-Type&#39;, &#39;application/json&#39;` if it wasn&#39;t passed.\r\n\r\nI added this in my http call.\r\n```\r\nconst headers = new HttpHeaders().set(&#39;isUpload&#39;, &#39;true&#39;);\r\nthis.http.post(`http://localhost:16080/files/upload`, formData, {headers});\r\n```\r\n\r\nAnd in the interceptor, I added a condition to preserve the previous logic.\r\n```\r\nimport { Observable } from &#39;rxjs&#39;;\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport {\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpParams,\r\n} from &#39;@angular/common/http&#39;;\r\nimport { MatDialogRef } from &#39;@angular/material/dialog&#39;;\r\nimport { MessageComponent } from &#39;../message/message.component&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;,\r\n})\r\nexport class RequestInterceptorService implements HttpInterceptor {\r\n  constructor() {}\r\n\r\n  etagValue = undefined;\r\n\r\n  // error dialog ref var\r\n  dialogRef!: MatDialogRef&lt;MessageComponent&gt;;\r\n\r\n  intercept(\r\n    request: HttpRequest&lt;any&gt;,\r\n    next: HttpHandler\r\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n    request = request.clone({\r\n      withCredentials: true,\r\n      headers: request.headers.set(&#39;calling-entity&#39;, &#39;UI&#39;),\r\n    });\r\n\r\n    if (!request.headers.has(&#39;Content-Type&#39;)) {\r\n      if (!request.headers.has(&#39;isUpload&#39;)) {\r\n         request = request.clone({\r\n           headers: request.headers.set(&#39;Content-Type&#39;, &#39;application/json&#39;),\r\n         });\r\n      }\r\n    }\r\n\r\n    if (\r\n      request.params instanceof CustomHttpParams &amp;&amp;\r\n      request.params.etagValue\r\n    ) {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          &#39;If-Match&#39;: request.params.etagValue,\r\n        },\r\n      });\r\n    }\r\n\r\n    return next.handle(request).pipe();\r\n  }\r\n}\r\n\r\nexport class CustomHttpParams extends HttpParams {\r\n  constructor(public etagValue: any) {\r\n    super();\r\n  }\r\n}\r\n```\r\n\r\nAfter commenting out the part where Content-Type was being set, it worked as expected.","title":"Current request is not a multipart request in Angular but works in Postman","body":"<p>My original code is working as expected. The problem is in our project, there's an <strong>HttpInterceptor</strong>. that automatically appends a header of <code>'Content-Type', 'application/json'</code> if it wasn't passed.</p>\n<p>I added this in my http call.</p>\n<pre><code>const headers = new HttpHeaders().set('isUpload', 'true');\nthis.http.post(`http://localhost:16080/files/upload`, formData, {headers});\n</code></pre>\n<p>And in the interceptor, I added a condition to preserve the previous logic.</p>\n<pre><code>import { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport {\n  HttpInterceptor,\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpParams,\n} from '@angular/common/http';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { MessageComponent } from '../message/message.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RequestInterceptorService implements HttpInterceptor {\n  constructor() {}\n\n  etagValue = undefined;\n\n  // error dialog ref var\n  dialogRef!: MatDialogRef&lt;MessageComponent&gt;;\n\n  intercept(\n    request: HttpRequest&lt;any&gt;,\n    next: HttpHandler\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    request = request.clone({\n      withCredentials: true,\n      headers: request.headers.set('calling-entity', 'UI'),\n    });\n\n    if (!request.headers.has('Content-Type')) {\n      if (!request.headers.has('isUpload')) {\n         request = request.clone({\n           headers: request.headers.set('Content-Type', 'application/json'),\n         });\n      }\n    }\n\n    if (\n      request.params instanceof CustomHttpParams &amp;&amp;\n      request.params.etagValue\n    ) {\n      request = request.clone({\n        setHeaders: {\n          'If-Match': request.params.etagValue,\n        },\n      });\n    }\n\n    return next.handle(request).pipe();\n  }\n}\n\nexport class CustomHttpParams extends HttpParams {\n  constructor(public etagValue: any) {\n    super();\n  }\n}\n</code></pre>\n<p>After commenting out the part where Content-Type was being set, it worked as expected.</p>\n"}],"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74120892,"answer_count":2,"score":1,"last_activity_date":1666279703,"creation_date":1666102738,"question_id":74112564,"body_markdown":"I have a working upload backend with Postman. But I can&#39;t make it work from angular. \r\n\r\n**Backend code**:\r\n```\r\npackage com.demo.web.api.file;\r\n\r\nimport static java.nio.file.Files.copy;\r\nimport static java.nio.file.Paths.get;\r\nimport static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\r\n\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport com.esotericsoftware.minlog.Log;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/files&quot;)\r\npublic class FileUploadService {\r\n\r\n\t@PostMapping(value = &quot;/upload&quot;, consumes = MediaType.ALL_VALUE)\r\n\tpublic ResponseEntity&lt;List&lt;String&gt;&gt; uploadFiles(@RequestParam(&quot;files&quot;) MultipartFile[] files) {\r\n\r\n\t\tLog.info(&quot;Processing file upload...&quot;);\r\n\r\n\t\tList&lt;String&gt; exceptions = new ArrayList&lt;&gt;();\r\n\r\n\t\t// Upload directory\r\n\t\tfinal String DIRECTORY = System.getProperty(&quot;user.home&quot;) + &quot;/Documents/Uploads&quot;;\r\n\r\n\t\tList&lt;String&gt; fileNames = new ArrayList&lt;&gt;();\r\n\t\tfor (MultipartFile file : files) {\r\n\t\t\tString fileName = file.getOriginalFilename();\r\n\t\t\ttry {\r\n\t\t\t\tPath fileStorage = get(DIRECTORY, fileName).toAbsolutePath().normalize();\r\n\t\t\t\tcopy(file.getInputStream(), fileStorage, REPLACE_EXISTING);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\texceptions.add(e.getMessage());\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfileNames.add(fileName);\r\n\t\t}\r\n\r\n\t\tif (!exceptions.isEmpty()) {\r\n\t\t\treturn ResponseEntity.badRequest().body(exceptions);\r\n\t\t}\r\n\r\n\t\treturn ResponseEntity.ok().body(fileNames);\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nHere&#39;s a sample execution in Postman that returns the list of uploaded files:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAs seen in the image above, the backend code is working as expected.\r\n\r\n**upload.component.ts**\r\n```\r\nimport { Component } from &#39;@angular/core&#39;;\r\nimport { AppConfigService } from &#39;src/shared/services/app-config.service&#39;;\r\nimport getClassNameForExtension from &#39;font-awesome-filetypes&#39;;\r\nimport { HttpClient } from &#39;@angular/common/http&#39;;\r\nimport { NgxSpinnerService } from &#39;ngx-spinner&#39;;\r\n\r\n@Component({\r\n  selector: &#39;my-app&#39;,\r\n  templateUrl: &#39;./upload.component.html&#39;,\r\n  styleUrls: [&#39;./upload.component.scss&#39;],\r\n})\r\nexport class UploadComponent {\r\n  files = [];\r\n  totalSize: number = 0;\r\n  maxUploadSize: number;\r\n  fileExtensions: Array&lt;string&gt; = [];\r\n  hasInvalidFile: boolean = false;\r\n\r\n  constructor(\r\n    private appConfigService: AppConfigService,\r\n    private spinner: NgxSpinnerService,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.maxUploadSize = this.appConfigService.configData.maxUploadSize;\r\n    if (this.appConfigService.configData.fileExtensions) {\r\n      const extensions =\r\n        this.appConfigService.configData.fileExtensions.split(&#39;,&#39;);\r\n      extensions.forEach((ext) =&gt; {\r\n        this.fileExtensions.push(ext.trim());\r\n      });\r\n    }\r\n  }\r\n\r\n  onFileDropped($event) {\r\n    this.prepareFilesList($event);\r\n  }\r\n\r\n  fileBrowseHandler(files) {\r\n    this.prepareFilesList(files);\r\n  }\r\n\r\n  deleteFile(index: number) {\r\n    let newSize = 0;\r\n    this.files.splice(index, 1);\r\n\r\n    let allValid = true;\r\n    this.files.forEach((file) =&gt; {\r\n      if (file.invalidFileExtension) {\r\n        allValid = false;\r\n      }\r\n      newSize += file.size;\r\n    });\r\n\r\n    this.hasInvalidFile = !allValid;\r\n    this.totalSize = newSize;\r\n  }\r\n\r\n  uploadFilesSimulator(index: number) {\r\n    setTimeout(() =&gt; {\r\n      if (index === this.files.length) {\r\n        return;\r\n      } else {\r\n        const progressInterval = setInterval(() =&gt; {\r\n          if (this.files[index]) {\r\n            if (this.files[index].progress === 100) {\r\n              clearInterval(progressInterval);\r\n              this.uploadFilesSimulator(index + 1);\r\n            } else {\r\n              this.files[index].progress += 5;\r\n            }\r\n          }\r\n        }, 200);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  prepareFilesList(files: Array&lt;any&gt;) {\r\n    for (const file of files) {\r\n      // const ext = file.name.substr(file.name.lastIndexOf(&#39;.&#39;) + 1);\r\n      file.progress = 0;\r\n\r\n      const extension = file.name.split(&#39;.&#39;).pop();\r\n      file.extension = extension;\r\n\r\n      const className = getClassNameForExtension(extension);\r\n      file.className = className;\r\n\r\n      if (\r\n        this.fileExtensions.length &gt; 0 &amp;&amp;\r\n        !this.fileExtensions.includes(extension)\r\n      ) {\r\n        file.invalidFileExtension = true;\r\n        this.hasInvalidFile = true;\r\n      }\r\n\r\n      this.files.push(file);\r\n      this.totalSize += file.size;\r\n    }\r\n    this.uploadFilesSimulator(0);\r\n  }\r\n\r\n  /**\r\n   * Format size in bytes\r\n   * @param bytes (File size in bytes)\r\n   * @param decimals (Decimals point)\r\n   */\r\n  formatBytes(bytes) {\r\n    if (bytes === 0) {\r\n      return &#39;0 Bytes&#39;;\r\n    }\r\n    const k = 1024;\r\n    const sizes = [&#39;Bytes&#39;, &#39;KB&#39;, &#39;MB&#39;, &#39;GB&#39;, &#39;TB&#39;, &#39;PB&#39;, &#39;EB&#39;, &#39;ZB&#39;, &#39;YB&#39;];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + &#39; &#39; + sizes[i];\r\n  }\r\n\r\n  upload() {\r\n    const formData = new FormData();\r\n\r\n    for (const file of this.files) {\r\n      formData.append(&#39;files&#39;, file);\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.http.post(`http://localhost:16080/files/upload`, formData);\r\n  }\r\n}\r\n```\r\n\r\n**upload.component.html**\r\n```\r\n&lt;div class=&quot;ui-g&quot; style=&quot;height: 87vh&quot;&gt;\r\n  &lt;!-- Spinner --&gt;\r\n  &lt;ngx-spinner\r\n    bdColor=&quot;rgba(189,188,188,0.6)&quot;\r\n    size=&quot;medium&quot;\r\n    color=&quot;#4a4848&quot;\r\n    type=&quot;ball-beat&quot;\r\n    [fullScreen]=&quot;true&quot;\r\n  &gt;\r\n  &lt;/ngx-spinner&gt;\r\n  &lt;div\r\n    class=&quot;ui-lg-12 ui-md-12 ui-g-12&quot;\r\n    style=&quot;padding: 1.25%; padding-bottom: 0; height: 99%&quot;\r\n  &gt;\r\n    &lt;mat-card\r\n      class=&quot;ui-lg-12 ui-md-12 ui-g-12 app-card&quot;\r\n      style=&quot;height: 100%; overflow: auto&quot;\r\n    &gt;\r\n      &lt;!-- Card-header --&gt;\r\n      &lt;div class=&quot;app-card-header flex-align-center ui-lg-12 ui-md-12 ui-g-12&quot;&gt;\r\n        &lt;!-- Breadcrumbs --&gt;\r\n        &lt;div class=&quot;ui-lg-12 ui-md-12 ui-g-12 p-0 d-flex align-center&quot;&gt;\r\n          &lt;i\r\n            [matTooltip]=&quot;&#39;&#39;&quot;\r\n            matTooltipClass=&quot;mat-tool-cust&quot;\r\n            class=&quot;fas fa-table-cells-large app-icon-head ocular-app-card-header-icon&quot;\r\n          &gt;&lt;/i&gt;\r\n          &lt;span style=&quot;padding: 0 8px&quot;&gt; Data Processing &lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;!-- Card Content --&gt;\r\n      &lt;div class=&quot;upload-container&quot; (fileDropped)=&quot;onFileDropped($event)&quot;&gt;\r\n        &lt;form method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n          &lt;input\r\n            type=&quot;file&quot;\r\n            #fileDropRef\r\n            id=&quot;fileDropRef&quot;\r\n            multiple\r\n            (change)=&quot;fileBrowseHandler($event.target.files)&quot;\r\n          /&gt;\r\n          &lt;i class=&quot;fas fa-regular fa-upload&quot;&gt;&lt;/i&gt;\r\n          &lt;h3&gt;Drag and drop files here&lt;/h3&gt;\r\n          &lt;h3&gt;or&lt;/h3&gt;\r\n          &lt;label\r\n            for=&quot;fileDropRef&quot;\r\n            class=&quot;app-btn1 mat-raised-button mat-button-base&quot;\r\n            &gt;Click here to browse files&lt;/label\r\n          &gt;\r\n        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;files-list&quot;&gt;\r\n        &lt;div class=&quot;single-file&quot; *ngFor=&quot;let file of files; let i = index&quot;&gt;\r\n          &lt;div class=&quot;file-icon&quot;&gt;\r\n            &lt;i class=&quot;fa {{ file.className }}&quot; style=&quot;font-size: 20px&quot;&gt;&lt;/i&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;info&quot;&gt;\r\n            &lt;h4\r\n              class=&quot;name&quot;\r\n              [ngClass]=&quot;file.invalidFileExtension ? &#39;strike-through&#39; : &#39;&#39;&quot;\r\n            &gt;\r\n              {{ file?.name }}\r\n            &lt;/h4&gt;\r\n            &lt;p class=&quot;size&quot;&gt;\r\n              {{ formatBytes(file?.size) }}\r\n            &lt;/p&gt;\r\n            &lt;app-progress [progress]=&quot;file?.progress&quot;&gt;&lt;/app-progress&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;div class=&quot;delete-ctn&quot; (click)=&quot;deleteFile(i)&quot;&gt;\r\n            &lt;i class=&quot;fas fa-trash action-icons&quot; matTooltip=&quot;Delete&quot;&gt;&lt;/i&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div\r\n        class=&quot;upload-btn-container&quot;\r\n        *ngIf=&quot;\r\n          files.length &gt; 0 &amp;&amp; (hasInvalidFile || totalSize &gt; maxUploadSize)\r\n        &quot;\r\n      &gt;\r\n        &lt;div style=&quot;justify-content: center; color: red&quot;&gt;\r\n          Files cannot be uploaded. Some files may not be in the supported\r\n          format ({{ fileExtensions }}) or the total allowable upload size may\r\n          have exceeded {{ formatBytes(maxUploadSize) }}.\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div\r\n        class=&quot;upload-btn-container&quot;\r\n        *ngIf=&quot;\r\n          files.length &gt; 0 &amp;&amp; !hasInvalidFile &amp;&amp; totalSize &lt;= maxUploadSize\r\n        &quot;\r\n      &gt;\r\n        &lt;button\r\n          type=&quot;submit&quot;\r\n          (click)=&quot;upload()&quot;\r\n          mat-raised-button\r\n          class=&quot;app-btn2 save-btn&quot;\r\n        &gt;\r\n          Upload Files\r\n        &lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/mat-card&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nPayload\r\n[![enter image description here][2]][2]\r\n\r\n\r\nError I&#39;m getting\r\n```\r\nnested exception is org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\r\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\r\n```\r\n\r\nI can see a slight difference in the payload from Postman as it gives the full path. But that is not possible to achieve in javascript for security purpose.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G4uC5.png\r\n  [2]: https://i.stack.imgur.com/QrtH9.png\r\n  [3]: https://i.stack.imgur.com/ymjsR.png","title":"Current request is not a multipart request in Angular but works in Postman","body":"<p>I have a working upload backend with Postman. But I can't make it work from angular.</p>\n<p><strong>Backend code</strong>:</p>\n<pre><code>package com.demo.web.api.file;\n\nimport static java.nio.file.Files.copy;\nimport static java.nio.file.Paths.get;\nimport static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\n\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.esotericsoftware.minlog.Log;\n\n@RestController\n@RequestMapping(value = &quot;/files&quot;)\npublic class FileUploadService {\n\n    @PostMapping(value = &quot;/upload&quot;, consumes = MediaType.ALL_VALUE)\n    public ResponseEntity&lt;List&lt;String&gt;&gt; uploadFiles(@RequestParam(&quot;files&quot;) MultipartFile[] files) {\n\n        Log.info(&quot;Processing file upload...&quot;);\n\n        List&lt;String&gt; exceptions = new ArrayList&lt;&gt;();\n\n        // Upload directory\n        final String DIRECTORY = System.getProperty(&quot;user.home&quot;) + &quot;/Documents/Uploads&quot;;\n\n        List&lt;String&gt; fileNames = new ArrayList&lt;&gt;();\n        for (MultipartFile file : files) {\n            String fileName = file.getOriginalFilename();\n            try {\n                Path fileStorage = get(DIRECTORY, fileName).toAbsolutePath().normalize();\n                copy(file.getInputStream(), fileStorage, REPLACE_EXISTING);\n            } catch (Exception e) {\n                exceptions.add(e.getMessage());\n                e.printStackTrace();\n            }\n            fileNames.add(fileName);\n        }\n\n        if (!exceptions.isEmpty()) {\n            return ResponseEntity.badRequest().body(exceptions);\n        }\n\n        return ResponseEntity.ok().body(fileNames);\n\n    }\n\n}\n\n</code></pre>\n<p>Here's a sample execution in Postman that returns the list of uploaded files:\n<a href=\"https://i.stack.imgur.com/G4uC5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4uC5.png\" alt=\"enter image description here\" /></a></p>\n<p>As seen in the image above, the backend code is working as expected.</p>\n<p><strong>upload.component.ts</strong></p>\n<pre><code>import { Component } from '@angular/core';\nimport { AppConfigService } from 'src/shared/services/app-config.service';\nimport getClassNameForExtension from 'font-awesome-filetypes';\nimport { HttpClient } from '@angular/common/http';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './upload.component.html',\n  styleUrls: ['./upload.component.scss'],\n})\nexport class UploadComponent {\n  files = [];\n  totalSize: number = 0;\n  maxUploadSize: number;\n  fileExtensions: Array&lt;string&gt; = [];\n  hasInvalidFile: boolean = false;\n\n  constructor(\n    private appConfigService: AppConfigService,\n    private spinner: NgxSpinnerService,\n    private http: HttpClient\n  ) {}\n\n  ngOnInit() {\n    this.maxUploadSize = this.appConfigService.configData.maxUploadSize;\n    if (this.appConfigService.configData.fileExtensions) {\n      const extensions =\n        this.appConfigService.configData.fileExtensions.split(',');\n      extensions.forEach((ext) =&gt; {\n        this.fileExtensions.push(ext.trim());\n      });\n    }\n  }\n\n  onFileDropped($event) {\n    this.prepareFilesList($event);\n  }\n\n  fileBrowseHandler(files) {\n    this.prepareFilesList(files);\n  }\n\n  deleteFile(index: number) {\n    let newSize = 0;\n    this.files.splice(index, 1);\n\n    let allValid = true;\n    this.files.forEach((file) =&gt; {\n      if (file.invalidFileExtension) {\n        allValid = false;\n      }\n      newSize += file.size;\n    });\n\n    this.hasInvalidFile = !allValid;\n    this.totalSize = newSize;\n  }\n\n  uploadFilesSimulator(index: number) {\n    setTimeout(() =&gt; {\n      if (index === this.files.length) {\n        return;\n      } else {\n        const progressInterval = setInterval(() =&gt; {\n          if (this.files[index]) {\n            if (this.files[index].progress === 100) {\n              clearInterval(progressInterval);\n              this.uploadFilesSimulator(index + 1);\n            } else {\n              this.files[index].progress += 5;\n            }\n          }\n        }, 200);\n      }\n    }, 1000);\n  }\n\n  prepareFilesList(files: Array&lt;any&gt;) {\n    for (const file of files) {\n      // const ext = file.name.substr(file.name.lastIndexOf('.') + 1);\n      file.progress = 0;\n\n      const extension = file.name.split('.').pop();\n      file.extension = extension;\n\n      const className = getClassNameForExtension(extension);\n      file.className = className;\n\n      if (\n        this.fileExtensions.length &gt; 0 &amp;&amp;\n        !this.fileExtensions.includes(extension)\n      ) {\n        file.invalidFileExtension = true;\n        this.hasInvalidFile = true;\n      }\n\n      this.files.push(file);\n      this.totalSize += file.size;\n    }\n    this.uploadFilesSimulator(0);\n  }\n\n  /**\n   * Format size in bytes\n   * @param bytes (File size in bytes)\n   * @param decimals (Decimals point)\n   */\n  formatBytes(bytes) {\n    if (bytes === 0) {\n      return '0 Bytes';\n    }\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  }\n\n  upload() {\n    const formData = new FormData();\n\n    for (const file of this.files) {\n      formData.append('files', file);\n    }\n\n    this.spinner.show();\n    this.http.post(`http://localhost:16080/files/upload`, formData);\n  }\n}\n</code></pre>\n<p><strong>upload.component.html</strong></p>\n<pre><code>&lt;div class=&quot;ui-g&quot; style=&quot;height: 87vh&quot;&gt;\n  &lt;!-- Spinner --&gt;\n  &lt;ngx-spinner\n    bdColor=&quot;rgba(189,188,188,0.6)&quot;\n    size=&quot;medium&quot;\n    color=&quot;#4a4848&quot;\n    type=&quot;ball-beat&quot;\n    [fullScreen]=&quot;true&quot;\n  &gt;\n  &lt;/ngx-spinner&gt;\n  &lt;div\n    class=&quot;ui-lg-12 ui-md-12 ui-g-12&quot;\n    style=&quot;padding: 1.25%; padding-bottom: 0; height: 99%&quot;\n  &gt;\n    &lt;mat-card\n      class=&quot;ui-lg-12 ui-md-12 ui-g-12 app-card&quot;\n      style=&quot;height: 100%; overflow: auto&quot;\n    &gt;\n      &lt;!-- Card-header --&gt;\n      &lt;div class=&quot;app-card-header flex-align-center ui-lg-12 ui-md-12 ui-g-12&quot;&gt;\n        &lt;!-- Breadcrumbs --&gt;\n        &lt;div class=&quot;ui-lg-12 ui-md-12 ui-g-12 p-0 d-flex align-center&quot;&gt;\n          &lt;i\n            [matTooltip]=&quot;''&quot;\n            matTooltipClass=&quot;mat-tool-cust&quot;\n            class=&quot;fas fa-table-cells-large app-icon-head ocular-app-card-header-icon&quot;\n          &gt;&lt;/i&gt;\n          &lt;span style=&quot;padding: 0 8px&quot;&gt; Data Processing &lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;!-- Card Content --&gt;\n      &lt;div class=&quot;upload-container&quot; (fileDropped)=&quot;onFileDropped($event)&quot;&gt;\n        &lt;form method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n          &lt;input\n            type=&quot;file&quot;\n            #fileDropRef\n            id=&quot;fileDropRef&quot;\n            multiple\n            (change)=&quot;fileBrowseHandler($event.target.files)&quot;\n          /&gt;\n          &lt;i class=&quot;fas fa-regular fa-upload&quot;&gt;&lt;/i&gt;\n          &lt;h3&gt;Drag and drop files here&lt;/h3&gt;\n          &lt;h3&gt;or&lt;/h3&gt;\n          &lt;label\n            for=&quot;fileDropRef&quot;\n            class=&quot;app-btn1 mat-raised-button mat-button-base&quot;\n            &gt;Click here to browse files&lt;/label\n          &gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;files-list&quot;&gt;\n        &lt;div class=&quot;single-file&quot; *ngFor=&quot;let file of files; let i = index&quot;&gt;\n          &lt;div class=&quot;file-icon&quot;&gt;\n            &lt;i class=&quot;fa {{ file.className }}&quot; style=&quot;font-size: 20px&quot;&gt;&lt;/i&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;info&quot;&gt;\n            &lt;h4\n              class=&quot;name&quot;\n              [ngClass]=&quot;file.invalidFileExtension ? 'strike-through' : ''&quot;\n            &gt;\n              {{ file?.name }}\n            &lt;/h4&gt;\n            &lt;p class=&quot;size&quot;&gt;\n              {{ formatBytes(file?.size) }}\n            &lt;/p&gt;\n            &lt;app-progress [progress]=&quot;file?.progress&quot;&gt;&lt;/app-progress&gt;\n          &lt;/div&gt;\n\n          &lt;div class=&quot;delete-ctn&quot; (click)=&quot;deleteFile(i)&quot;&gt;\n            &lt;i class=&quot;fas fa-trash action-icons&quot; matTooltip=&quot;Delete&quot;&gt;&lt;/i&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div\n        class=&quot;upload-btn-container&quot;\n        *ngIf=&quot;\n          files.length &gt; 0 &amp;&amp; (hasInvalidFile || totalSize &gt; maxUploadSize)\n        &quot;\n      &gt;\n        &lt;div style=&quot;justify-content: center; color: red&quot;&gt;\n          Files cannot be uploaded. Some files may not be in the supported\n          format ({{ fileExtensions }}) or the total allowable upload size may\n          have exceeded {{ formatBytes(maxUploadSize) }}.\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div\n        class=&quot;upload-btn-container&quot;\n        *ngIf=&quot;\n          files.length &gt; 0 &amp;&amp; !hasInvalidFile &amp;&amp; totalSize &lt;= maxUploadSize\n        &quot;\n      &gt;\n        &lt;button\n          type=&quot;submit&quot;\n          (click)=&quot;upload()&quot;\n          mat-raised-button\n          class=&quot;app-btn2 save-btn&quot;\n        &gt;\n          Upload Files\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/mat-card&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Payload\n<a href=\"https://i.stack.imgur.com/QrtH9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QrtH9.png\" alt=\"enter image description here\" /></a></p>\n<p>Error I'm getting</p>\n<pre><code>nested exception is org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\n</code></pre>\n<p>I can see a slight difference in the payload from Postman as it gives the full path. But that is not possible to achieve in javascript for security purpose.\n<a href=\"https://i.stack.imgur.com/ymjsR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymjsR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","xpath","webdriver","testautomationfx"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666279423,"creation_date":1666279423,"answer_id":74142432,"question_id":74141921,"body_markdown":"You can get the total text and then remove from it the text content of child elements.  \r\nThis should work:\r\n```java\r\nWebElement parentEl = driver.findElement(By.xpath (&quot;//div[@class=&#39;publishing&#39;]&quot;));\r\nString totaltext = parentEl.getText();\r\nList&lt;WebElement&gt; children = parentEl.findElement(By.xpath (&quot;.//*&quot;));\r\nfor(WebElement child : children){\r\n    totaltext = totaltext.replace(child.getText(), &quot;&quot;);\r\n}\r\nSystem.out.println(totaltext);\r\n```","title":"Get The Element &quot;Text&quot; from xml in selenium Java","body":"<p>You can get the total text and then remove from it the text content of child elements.<br />\nThis should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement parentEl = driver.findElement(By.xpath (&quot;//div[@class='publishing']&quot;));\nString totaltext = parentEl.getText();\nList&lt;WebElement&gt; children = parentEl.findElement(By.xpath (&quot;.//*&quot;));\nfor(WebElement child : children){\n    totaltext = totaltext.replace(child.getText(), &quot;&quot;);\n}\nSystem.out.println(totaltext);\n</code></pre>\n"}],"owner":{"account_id":26683037,"reputation":25,"user_id":20292757,"display_name":"Maymanaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74142432,"answer_count":1,"score":1,"last_activity_date":1666279423,"creation_date":1666277443,"question_id":74141921,"body_markdown":"I have the follwing nodes in XML : \r\n\r\n```\r\n&lt;div class=&quot;publishing&quot; xpath=&quot;1&quot;&gt;\r\nPar Aymen Test - aymen.test@test.fr\r\n&lt;br&gt;\r\n&lt;time datetime=&quot;2022-10-11T16:01:20+02:00&quot;&gt;Publi&#233; le 11/10/2022 &#224; 16h01&lt;/time&gt;\r\n&lt;/div&gt;\r\n```\r\nI want to get the text element following the class &quot;publishing&quot;\r\nKnowing that I can&#39;t use the content of text because it changes.\r\n\r\nI tried with :\r\n```\r\nWebElement MyText = driver.findElement(By.xpath (&quot;//div[@class=&#39;publishing&#39;]&quot;));\r\nSystem.out.println(MyText.getText());\r\n```\r\nBut I get : \r\n```\r\nPar Aymen Test - aymen.test@test.fr\r\nPubli&#233; le 11/10/2022 &#224; 16h01\r\n```\r\nI need just :\r\n```\r\nPar Aymen Test - aymen.test@test.fr\r\n```","title":"Get The Element &quot;Text&quot; from xml in selenium Java","body":"<p>I have the follwing nodes in XML :</p>\n<pre><code>&lt;div class=&quot;publishing&quot; xpath=&quot;1&quot;&gt;\nPar Aymen Test - aymen.test@test.fr\n&lt;br&gt;\n&lt;time datetime=&quot;2022-10-11T16:01:20+02:00&quot;&gt;Publi√© le 11/10/2022 √† 16h01&lt;/time&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I want to get the text element following the class &quot;publishing&quot;\nKnowing that I can't use the content of text because it changes.</p>\n<p>I tried with :</p>\n<pre><code>WebElement MyText = driver.findElement(By.xpath (&quot;//div[@class='publishing']&quot;));\nSystem.out.println(MyText.getText());\n</code></pre>\n<p>But I get :</p>\n<pre><code>Par Aymen Test - aymen.test@test.fr\nPubli√© le 11/10/2022 √† 16h01\n</code></pre>\n<p>I need just :</p>\n<pre><code>Par Aymen Test - aymen.test@test.fr\n</code></pre>\n"},{"tags":["java","postgresql","quarkus"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1666275887,"post_id":74141410,"comment_id":130902397,"body_markdown":"You&#39;re not storing bytes, but an `InputStream`. This could wouldn&#39;t compile. An `InputStream` needs to be read.","body":"You&#39;re not storing bytes, but an <code>InputStream</code>. This could wouldn&#39;t compile. An <code>InputStream</code> needs to be read."},{"owner":{"display_name":"user19906023"},"score":0,"creation_date":1666279030,"post_id":74141410,"comment_id":130903834,"body_markdown":"Update myfiles to byte[] in post. still does not give the correct output","body":"Update myfiles to byte[] in post. still does not give the correct output"},{"owner":{"display_name":"user19906023"},"score":0,"creation_date":1666279393,"post_id":74141410,"comment_id":130903970,"body_markdown":"Ok it works if it s just one file with byte[] but how do i send several files? I assume I can&#39;t append them to the byte array","body":"Ok it works if it s just one file with byte[] but how do i send several files? I assume I can&#39;t append them to the byte array"}],"owner":{"display_name":"user19906023"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666279418,"creation_date":1666275323,"question_id":74141410,"body_markdown":"Hi all I have a Quarkus REST client that recieves MultipartFormDataInput from a server. The data consists of files. I want to forward those files at a later stage. But can I store them in a database when MultipartFormDataInput is not serlizeable?\r\n\r\nI&#39;ve tried to store them as byte[]\r\n\r\n```java\r\n    public byte[] getByteArray(MultipartFormDataInput input) {\r\n        Map&lt;String, List&lt;InputPart&gt;&gt; uploadForm = input.getFormDataMap();\r\n        List&lt;InputPart&gt; inputParts = uploadForm.get(&quot;files&quot;);\r\n        InputPart parts = inputParts.get(0);\r\n        \r\n        try {\r\n            return IOUtils.toByteArray(parts.getBody(InputStream.class, null));\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n\r\n\r\n    }\r\n```\r\n\r\nThis works for storage but when I later want to send this file it just sends\r\n\r\n```bash\r\n--2a783bc5-17ae-4e8a-8c44-83dd3be2b724\r\nContent-Disposition: form-data; name=&quot;files&quot;\r\nContent-Type: application/octet-stream\r\n\r\n[java.io.ByteArrayInputStream@1684ad73]\r\n--2a783bc5-17ae-4e8a-8c44-83dd3be2b724--%    \r\n```\r\n\r\n\r\nThe method for sending is\r\n\r\n```java\r\n    @GET\r\n    @Produces(MediaType.MULTIPART_FORM_DATA)\r\n    public MyFiles sendStoredFiles() throws IOException {\r\n        MyFiles myFiles = new MyFiles();\r\n        myFiles.add(getByteArrayFromDataSource());\r\n        return myFiles;\r\n    }\r\n```\r\n\r\nUpdate with suggestion from christoper\r\n\r\n```java\r\n@MultipartForm\r\npublic class MyFiles {\r\n    @FormParam(&quot;files&quot;)\r\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n    public List&lt;byte []&gt; files; // problem seems to be here that it is a list. but how can i send several files?\r\n\r\n    public MyFiles(List&lt;byte []&gt; files) {\r\n        this.files = files;\r\n    }\r\n\r\n    public MyFiles() {\r\n        files = new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nThis does still just give me\r\n\r\n```java\r\n--c9eeb97c-e5d2-442b-ad17-ebaef7581dd3\r\nContent-Disposition: form-data; name=&quot;files&quot;\r\nContent-Type: application/octet-stream\r\n\r\n[[B@dbe8688]\r\n--c9eeb97c-e5d2-442b-ad17-ebaef7581dd3--\r\n```\r\n\r\nas response","title":"Storing MultipartFormDataInput files in a database, How can I later make it multipart again and forward the files?","body":"<p>Hi all I have a Quarkus REST client that recieves MultipartFormDataInput from a server. The data consists of files. I want to forward those files at a later stage. But can I store them in a database when MultipartFormDataInput is not serlizeable?</p>\n<p>I've tried to store them as byte[]</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public byte[] getByteArray(MultipartFormDataInput input) {\n        Map&lt;String, List&lt;InputPart&gt;&gt; uploadForm = input.getFormDataMap();\n        List&lt;InputPart&gt; inputParts = uploadForm.get(&quot;files&quot;);\n        InputPart parts = inputParts.get(0);\n        \n        try {\n            return IOUtils.toByteArray(parts.getBody(InputStream.class, null));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n\n\n    }\n</code></pre>\n<p>This works for storage but when I later want to send this file it just sends</p>\n<pre class=\"lang-bash prettyprint-override\"><code>--2a783bc5-17ae-4e8a-8c44-83dd3be2b724\nContent-Disposition: form-data; name=&quot;files&quot;\nContent-Type: application/octet-stream\n\n[java.io.ByteArrayInputStream@1684ad73]\n--2a783bc5-17ae-4e8a-8c44-83dd3be2b724--%    \n</code></pre>\n<p>The method for sending is</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GET\n    @Produces(MediaType.MULTIPART_FORM_DATA)\n    public MyFiles sendStoredFiles() throws IOException {\n        MyFiles myFiles = new MyFiles();\n        myFiles.add(getByteArrayFromDataSource());\n        return myFiles;\n    }\n</code></pre>\n<p>Update with suggestion from christoper</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MultipartForm\npublic class MyFiles {\n    @FormParam(&quot;files&quot;)\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\n    public List&lt;byte []&gt; files; // problem seems to be here that it is a list. but how can i send several files?\n\n    public MyFiles(List&lt;byte []&gt; files) {\n        this.files = files;\n    }\n\n    public MyFiles() {\n        files = new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>This does still just give me</p>\n<pre class=\"lang-java prettyprint-override\"><code>--c9eeb97c-e5d2-442b-ad17-ebaef7581dd3\nContent-Disposition: form-data; name=&quot;files&quot;\nContent-Type: application/octet-stream\n\n[[B@dbe8688]\n--c9eeb97c-e5d2-442b-ad17-ebaef7581dd3--\n</code></pre>\n<p>as response</p>\n"},{"tags":["java","sdk","amazon-eks","aws-sts"],"answers":[{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666279226,"creation_date":1666279226,"answer_id":74142388,"question_id":67137283,"body_markdown":"Late reply:\r\nAWS Security Token Service is used to get temporary, limited-privilege credentials that can be used to access AWS services.\r\n\r\nEven if the EC2 instance has the appropriate role, it still uses STS to get a ~6-hour-alive temporary session token. (It doesn&#39;t wait till the session token expires - it just gets a new session token from STS every half hour or 1 hour.)\r\n\r\nIn fact, the EC2 instance should have the necessary role, and access to STS for other AWS services to get authorized.","title":"Does WebIdentityTokenCredentialsProvider need STS module?","body":"<p>Late reply:\nAWS Security Token Service is used to get temporary, limited-privilege credentials that can be used to access AWS services.</p>\n<p>Even if the EC2 instance has the appropriate role, it still uses STS to get a ~6-hour-alive temporary session token. (It doesn't wait till the session token expires - it just gets a new session token from STS every half hour or 1 hour.)</p>\n<p>In fact, the EC2 instance should have the necessary role, and access to STS for other AWS services to get authorized.</p>\n"}],"owner":{"account_id":2070241,"reputation":370,"user_id":1844899,"display_name":"Lukas Lentner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4365,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666279226,"creation_date":1618656402,"question_id":67137283,"body_markdown":"I just debugged a strange problem with the AWS Java SDK:\r\nRunning a pod in AWS EKS using the WebIdentityTokenCredentials (which the service account provides) only works, if the STS module of the SDK is in the classpath.\r\n\r\nCan somebody confirm? This is super strange. Does somebody has any documentation on this?\r\n\r\nI tried to use the DefaultAWSCredentialsProviderChain to send a SQS message. I got a &quot;Access Denied&quot; response, although the AWS IAM user connected to the service account has all SQS rights and I could look in the container that the AWS_WEB_IDENTITY_TOKEN_FILE ENV-Variable is set correctly. I could even send a SQS message with the AWS CLI. So the clue was that my CredentialsProviderChain did not pick up the token file.\r\n\r\nWhen I added the STS module (`api group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-sts&#39;, version: &#39;1.11.779&#39;`) it worked ...","title":"Does WebIdentityTokenCredentialsProvider need STS module?","body":"<p>I just debugged a strange problem with the AWS Java SDK:\nRunning a pod in AWS EKS using the WebIdentityTokenCredentials (which the service account provides) only works, if the STS module of the SDK is in the classpath.</p>\n<p>Can somebody confirm? This is super strange. Does somebody has any documentation on this?</p>\n<p>I tried to use the DefaultAWSCredentialsProviderChain to send a SQS message. I got a &quot;Access Denied&quot; response, although the AWS IAM user connected to the service account has all SQS rights and I could look in the container that the AWS_WEB_IDENTITY_TOKEN_FILE ENV-Variable is set correctly. I could even send a SQS message with the AWS CLI. So the clue was that my CredentialsProviderChain did not pick up the token file.</p>\n<p>When I added the STS module (<code>api group: 'com.amazonaws', name: 'aws-java-sdk-sts', version: '1.11.779'</code>) it worked ...</p>\n"},{"tags":["java","maven","apache-beam","slf4j"],"comments":[{"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"score":0,"creation_date":1634242200,"post_id":69562253,"comment_id":122979708,"body_markdown":"It would be helpful to paste text so that it can be indexed for search, and copy/pasted.","body":"It would be helpful to paste text so that it can be indexed for search, and copy/pasted."}],"answers":[{"comments":[{"owner":{"account_id":10124062,"reputation":53,"user_id":7480064,"display_name":"Jerome Pullen Jr."},"score":0,"creation_date":1634160969,"post_id":69562546,"comment_id":122954694,"body_markdown":"Hmm ok, I&#39;m thinking maybe the issue isn&#39;t with slf4j the more I look at it.. thank you","body":"Hmm ok, I&#39;m thinking maybe the issue isn&#39;t with slf4j the more I look at it.. thank you"}],"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634160646,"creation_date":1634160646,"answer_id":69562546,"question_id":69562253,"body_markdown":"First of all, the SLF4J messages are only warnings and can be ignored. They most probably have nothing to do with `Exception in thread &quot;main&quot;`.\r\n\r\nThey mean that some code is trying to use slf4j api, but no implementation handles what to do with these logs. You may get rid of the warnings by adding to your classpath a working implementation of the SLF4j, e.g. [org.slf4j:slf4j-simple][1] to make the logs show in the console or [org.slf4j:slf4j-nop][2] to ignore any logging explicitly or [one of a number of other logging framework integration options][3].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\r\n  [2]: https://mvnrepository.com/artifact/org.slf4j/slf4j-nop\r\n  [3]: https://stackoverflow.com/questions/54652836/slf4j-found-slf4j-api-dependency-but-no-providers-were-found","title":"&quot;No SLF4J providers were found&quot; after adding slf4j-api-2.0.0-alpha1.jar to the project structure and the slf4j dependency to the pom.xml","body":"<p>First of all, the SLF4J messages are only warnings and can be ignored. They most probably have nothing to do with <code>Exception in thread &quot;main&quot;</code>.</p>\n<p>They mean that some code is trying to use slf4j api, but no implementation handles what to do with these logs. You may get rid of the warnings by adding to your classpath a working implementation of the SLF4j, e.g. <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\" rel=\"nofollow noreferrer\">org.slf4j:slf4j-simple</a> to make the logs show in the console or <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-nop\" rel=\"nofollow noreferrer\">org.slf4j:slf4j-nop</a> to ignore any logging explicitly or <a href=\"https://stackoverflow.com/questions/54652836/slf4j-found-slf4j-api-dependency-but-no-providers-were-found\">one of a number of other logging framework integration options</a>.</p>\n"},{"comments":[{"owner":{"account_id":10124062,"reputation":53,"user_id":7480064,"display_name":"Jerome Pullen Jr."},"score":0,"creation_date":1634335661,"post_id":69576767,"comment_id":123005738,"body_markdown":"oh ok, thank you!","body":"oh ok, thank you!"},{"owner":{"account_id":3949403,"reputation":1141,"user_id":3260495,"display_name":"Robert Hume"},"score":1,"creation_date":1662015587,"post_id":69576767,"comment_id":129909323,"body_markdown":"What is `slf4j-logback13`?","body":"What is <code>slf4j-logback13</code>?"}],"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634241964,"creation_date":1634241964,"answer_id":69576767,"question_id":69562253,"body_markdown":"You have added `slf4j-api` module, which is the API for adding logging statements to your code. It does not actually do anything with the logs, so they will be dropped. You will need to choose a backend such as `slf4j-jdk14` or `slf4j-logback13`.\r\n\r\nThe exception in your screenshot is not related.","title":"&quot;No SLF4J providers were found&quot; after adding slf4j-api-2.0.0-alpha1.jar to the project structure and the slf4j dependency to the pom.xml","body":"<p>You have added <code>slf4j-api</code> module, which is the API for adding logging statements to your code. It does not actually do anything with the logs, so they will be dropped. You will need to choose a backend such as <code>slf4j-jdk14</code> or <code>slf4j-logback13</code>.</p>\n<p>The exception in your screenshot is not related.</p>\n"},{"tags":[],"owner":{"account_id":1685425,"reputation":1,"user_id":1548841,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666279119,"creation_date":1666279068,"answer_id":74142350,"question_id":69562253,"body_markdown":"You have to remove **test** scope in your dependency of slf4j simple dependency. This could be one of the reasons. \r\n\r\n ","title":"&quot;No SLF4J providers were found&quot; after adding slf4j-api-2.0.0-alpha1.jar to the project structure and the slf4j dependency to the pom.xml","body":"<p>You have to remove <strong>test</strong> scope in your dependency of slf4j simple dependency. This could be one of the reasons.</p>\n"}],"owner":{"account_id":10124062,"reputation":53,"user_id":7480064,"display_name":"Jerome Pullen Jr."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14274,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1666279119,"creation_date":1634158746,"question_id":69562253,"body_markdown":"I am trying to use Apache Beam with Java using IntelliJ and I get the \r\n\r\n&quot;SLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation&quot; error \r\n\r\nwhen I have already added the slf4j-api-2.0.0-alpha1.jar to the project structure and the slf4j dependency to the pom.xml\r\n\r\nHere are some screenshots for more context:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gc9fS.png\r\n  [2]: https://i.stack.imgur.com/qlMDe.png\r\n  [3]: https://i.stack.imgur.com/6TLSd.png","title":"&quot;No SLF4J providers were found&quot; after adding slf4j-api-2.0.0-alpha1.jar to the project structure and the slf4j dependency to the pom.xml","body":"<p>I am trying to use Apache Beam with Java using IntelliJ and I get the</p>\n<p>&quot;SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation&quot; error</p>\n<p>when I have already added the slf4j-api-2.0.0-alpha1.jar to the project structure and the slf4j dependency to the pom.xml</p>\n<p>Here are some screenshots for more context:</p>\n<p><a href=\"https://i.stack.imgur.com/Gc9fS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gc9fS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qlMDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qlMDe.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6TLSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6TLSd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","itext","nested-lists","itext7"],"answers":[{"tags":[],"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1478086062,"creation_date":1478086062,"answer_id":40378788,"question_id":40369985,"body_markdown":"Please take a look at the documentation, more specifically [Chapter 4](http://developers.itextpdf.com/content/itext-7-building-blocks/chapter-4-adding-abstractelement-objects-part-1) of the [iText 7: Building Blocks](http://developers.itextpdf.com/content/itext-7-building-blocks/) tutorial.\r\n\r\nCurrently you are not nesting lists. You add each list item to the top level list. You need to nest lists, see for instance:\r\n\r\n    public void createPdf(String dest) throws IOException {\r\n        PdfDocument pdf = new PdfDocument(new PdfWriter(dest));\r\n        Document document = new Document(pdf);\r\n        List topLevel = new List();\r\n        ListItem item1 = new ListItem();\r\n        item1.add(new Paragraph().add(&quot;Item 1&quot;));\r\n            List secondLevel = new List();\r\n            secondLevel.add(&quot;Sub Item 1&quot;);\r\n            ListItem subItem2 = new ListItem();\r\n            subItem2.add(new Paragraph(&quot;Sub Item 2&quot;));\r\n                List thirdLevel = new List();\r\n                thirdLevel.add(&quot;Sub Sub Item 1&quot;);\r\n                thirdLevel.add(&quot;Sub Sub Item 2&quot;);\r\n            subItem2.add(thirdLevel);\r\n            secondLevel.add(subItem2);\r\n        item1.add(secondLevel);\r\n        topLevel.add(item1);\r\n        document.add(topLevel);\r\n        document.close();\r\n    }\r\n\r\nThe resulting PDF looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, the sub lists are indented because you add a `List` object to a `ListItem`. This is true nesting. In your code, you don&#39;t introduce that hierarchy which is why you&#39;re not getting the desired result.\r\n\r\n  [1]: https://i.stack.imgur.com/YBhHu.png","title":"iText7 indented list formatting with Java","body":"<p>Please take a look at the documentation, more specifically <a href=\"http://developers.itextpdf.com/content/itext-7-building-blocks/chapter-4-adding-abstractelement-objects-part-1\" rel=\"nofollow noreferrer\">Chapter 4</a> of the <a href=\"http://developers.itextpdf.com/content/itext-7-building-blocks/\" rel=\"nofollow noreferrer\">iText 7: Building Blocks</a> tutorial.</p>\n\n<p>Currently you are not nesting lists. You add each list item to the top level list. You need to nest lists, see for instance:</p>\n\n<pre><code>public void createPdf(String dest) throws IOException {\n    PdfDocument pdf = new PdfDocument(new PdfWriter(dest));\n    Document document = new Document(pdf);\n    List topLevel = new List();\n    ListItem item1 = new ListItem();\n    item1.add(new Paragraph().add(\"Item 1\"));\n        List secondLevel = new List();\n        secondLevel.add(\"Sub Item 1\");\n        ListItem subItem2 = new ListItem();\n        subItem2.add(new Paragraph(\"Sub Item 2\"));\n            List thirdLevel = new List();\n            thirdLevel.add(\"Sub Sub Item 1\");\n            thirdLevel.add(\"Sub Sub Item 2\");\n        subItem2.add(thirdLevel);\n        secondLevel.add(subItem2);\n    item1.add(secondLevel);\n    topLevel.add(item1);\n    document.add(topLevel);\n    document.close();\n}\n</code></pre>\n\n<p>The resulting PDF looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YBhHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YBhHu.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the sub lists are indented because you add a <code>List</code> object to a <code>ListItem</code>. This is true nesting. In your code, you don't introduce that hierarchy which is why you're not getting the desired result.</p>\n"}],"owner":{"account_id":5136090,"reputation":23,"user_id":4114818,"display_name":"Jonathan Arellano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3022,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40378788,"answer_count":1,"score":2,"last_activity_date":1666278989,"creation_date":1478041535,"question_id":40369985,"body_markdown":"I am using iText 7 to create a list. I need to have multiple levels of indentations. \r\n\r\nExample: \r\n\r\n - Item 1\r\n    - Sub Item 1\r\n    - Sub Item 2\r\n       - Sub Sub Item 1\r\n       - Sub Sub Item 2\r\n - Item 2\r\n    - Sub Item 1\r\n    - Sub Item 2\r\n       - Sub Sub Item 1\r\n       - Sub Sub Item 2    - Sub Item 1\r\n    - Sub Item 2\r\n       - Sub Sub Item 1\r\n       - Sub Sub Item 2\r\n - Item 3\r\n    - Sub Item 1\r\n    - Sub Item 2\r\n       - Sub Sub Item 1\r\n       - Sub Sub Item 2\r\n\r\nCurrent Attempt:\r\n\r\n    public void IndentedList() throws IOException {\r\n        String filePath = dest + &quot;Example2.pdf&quot;;\r\n        File file = new File(filePath);\r\n        file.getParentFile().mkdirs();\r\n    \r\n        PdfWriter writer = new PdfWriter(filePath);\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n    \r\n        Document document = new Document(pdf);\r\n    \r\n        PdfFont font = PdfFontFactory.createFont(FontConstants.TIMES_ROMAN);\r\n    \r\n        document.add(new Paragraph(&quot;iText is: &quot;).setFont(font));\r\n    \r\n        List list = new List()\r\n                .setSymbolIndent(12)\r\n                .setListSymbol(&quot;\\u2022&quot;)\r\n                .setFont(font);\r\n        \r\n        list\r\n                .add(new ListItem(&quot;Item 1&quot;))\r\n                .add(new ListItem(&quot;SubItem1&quot;))\r\n                .add(new ListItem(&quot;Sub Sub Item 1&quot;))\r\n                .add(new ListItem(&quot;Sub Sub Item 2&quot;));\r\n                .add(new ListItem(&quot;Item 1&quot;))\r\n                .add(new ListItem(&quot;SubItem1&quot;))\r\n                .add(new ListItem(&quot;Sub Sub Item 1&quot;))\r\n                .add(new ListItem(&quot;Sub Sub Item 2&quot;));\r\n        document.add(list);\r\n        document.close();\r\n    }\r\n\r\nHow can I indent the specific list items?","title":"iText7 indented list formatting with Java","body":"<p>I am using iText 7 to create a list. I need to have multiple levels of indentations.</p>\n<p>Example:</p>\n<ul>\n<li>Item 1\n<ul>\n<li>Sub Item 1</li>\n<li>Sub Item 2\n<ul>\n<li>Sub Sub Item 1</li>\n<li>Sub Sub Item 2</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Item 2\n<ul>\n<li>Sub Item 1</li>\n<li>Sub Item 2\n<ul>\n<li>Sub Sub Item 1</li>\n<li>Sub Sub Item 2    - Sub Item 1</li>\n</ul>\n</li>\n<li>Sub Item 2\n<ul>\n<li>Sub Sub Item 1</li>\n<li>Sub Sub Item 2</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Item 3\n<ul>\n<li>Sub Item 1</li>\n<li>Sub Item 2\n<ul>\n<li>Sub Sub Item 1</li>\n<li>Sub Sub Item 2</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Current Attempt:</p>\n<pre><code>public void IndentedList() throws IOException {\n    String filePath = dest + &quot;Example2.pdf&quot;;\n    File file = new File(filePath);\n    file.getParentFile().mkdirs();\n\n    PdfWriter writer = new PdfWriter(filePath);\n    PdfDocument pdf = new PdfDocument(writer);\n\n    Document document = new Document(pdf);\n\n    PdfFont font = PdfFontFactory.createFont(FontConstants.TIMES_ROMAN);\n\n    document.add(new Paragraph(&quot;iText is: &quot;).setFont(font));\n\n    List list = new List()\n            .setSymbolIndent(12)\n            .setListSymbol(&quot;\\u2022&quot;)\n            .setFont(font);\n    \n    list\n            .add(new ListItem(&quot;Item 1&quot;))\n            .add(new ListItem(&quot;SubItem1&quot;))\n            .add(new ListItem(&quot;Sub Sub Item 1&quot;))\n            .add(new ListItem(&quot;Sub Sub Item 2&quot;));\n            .add(new ListItem(&quot;Item 1&quot;))\n            .add(new ListItem(&quot;SubItem1&quot;))\n            .add(new ListItem(&quot;Sub Sub Item 1&quot;))\n            .add(new ListItem(&quot;Sub Sub Item 2&quot;));\n    document.add(list);\n    document.close();\n}\n</code></pre>\n<p>How can I indent the specific list items?</p>\n"},{"tags":["java","arrays","list","fibonacci"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665836897,"post_id":74079397,"comment_id":130794534,"body_markdown":"Reduce the number you store or don&#39;t store but print? *Here is my code:* - no it isn&#39;t - it wouldn&#39;t compile","body":"Reduce the number you store or don&#39;t store but print? <i>Here is my code:</i> - no it isn&#39;t - it wouldn&#39;t compile"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665837242,"post_id":74079397,"comment_id":130794608,"body_markdown":"2,932,589,879,121 is larger than the maximum value an int can hold (so this should already error out during compilation). An integer can only hold numbers up to 2 billion (you have almost 3 _trillion_). `c` will  be way larger than the maximum allowed value too and overflow. Every single int will require 4 bytes of memory. This means you need at least 11,730,359,516,484 bytes to hold all values in your list. That 11.7 Terrabytes. Do you have that much RAM in your computer? How did you come up with that upper limit in the first place?","body":"2,932,589,879,121 is larger than the maximum value an int can hold (so this should already error out during compilation). An integer can only hold numbers up to 2 billion (you have almost 3 <i>trillion</i>). <code>c</code> will  be way larger than the maximum allowed value too and overflow. Every single int will require 4 bytes of memory. This means you need at least 11,730,359,516,484 bytes to hold all values in your list. That 11.7 Terrabytes. Do you have that much RAM in your computer? How did you come up with that upper limit in the first place?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665838807,"post_id":74079397,"comment_id":130794938,"body_markdown":"the `ArrayList` uses an array to store the elements, and an array can never hold more than `Integer.MAX_VALUE` elements since the size given in the Creation Statement must be promoted to an `int` (or just because the array cannot hold more elements) || @knittl and that was a very optimistic calculation: the List can one store references, so we need that many wrapper classes (additionally to the `int`), and I doubt the Fibonacci Numbers will be small enough to be stored as `int`, probably not even as `long`","body":"the <code>ArrayList</code> uses an array to store the elements, and an array can never hold more than <code>Integer.MAX_VALUE</code> elements since the size given in the Creation Statement must be promoted to an <code>int</code> (or just because the array cannot hold more elements) || @knittl and that was a very optimistic calculation: the List can one store references, so we need that many wrapper classes (additionally to the <code>int</code>), and I doubt the Fibonacci Numbers will be small enough to be stored as <code>int</code>, probably not even as <code>long</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665839303,"post_id":74079397,"comment_id":130795081,"body_markdown":"maybe it would be better to use the [Closed-form Expression](https://en.wikipedia.org/wiki/Fibonacci_number#Closed-form_expression)  to calculate such large numbers of the Fibonacci Squence","body":"maybe it would be better to use the <a href=\"https://en.wikipedia.org/wiki/Fibonacci_number#Closed-form_expression\" rel=\"nofollow noreferrer\">Closed-form Expression</a>  to calculate such large numbers of the Fibonacci Squence"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665839341,"post_id":74079397,"comment_id":130795094,"body_markdown":"@user16320675 yes, that&#39;s why I wrote &quot;at least&quot; :)","body":"@user16320675 yes, that&#39;s why I wrote &quot;at least&quot; :)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665844284,"post_id":74079397,"comment_id":130796186,"body_markdown":"Try: `long a,b,c;` ..?","body":"Try: <code>long a,b,c;</code> ..?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1665847341,"post_id":74079397,"comment_id":130796827,"body_markdown":"I am not sure I understand what you are trying to do.  I need to understand the problem before I look at the code.  Can you provide examples?","body":"I am not sure I understand what you are trying to do.  I need to understand the problem before I look at the code.  Can you provide examples?"}],"answers":[{"tags":[],"owner":{"account_id":3526512,"reputation":1,"user_id":11222661,"display_name":"Mohammed Hany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665837407,"creation_date":1665837407,"answer_id":74079497,"question_id":74079397,"body_markdown":"The value of prod is out of range. In java int (signed) has the range of -2147483648 to 2147483647. This should throw a compilation error &quot;integer number too large&quot;.\r\n","title":"Fibonacci numbers java.lang.OutOfMemoryError: Java heap space","body":"<p>The value of prod is out of range. In java int (signed) has the range of -2147483648 to 2147483647. This should throw a compilation error &quot;integer number too large&quot;.</p>\n"},{"tags":[],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665842728,"creation_date":1665842288,"answer_id":74080067,"question_id":74079397,"body_markdown":"Work fine:\r\n\r\n    public static long[] productFib(long prod) {\r\n        long[] result = new long[3];\r\n\r\n        long a;\r\n        long b = 0;\r\n        long c = 1;\r\n\r\n        for (int i = 0; i &lt; prod; i++) {\r\n            a = b;\r\n            b = c;\r\n            c = a + b;\r\n            if (a * b == prod) {\r\n                result[0] = a;\r\n                result[1] = b;\r\n                result[2] = 1;\r\n                break;\r\n            } else if (a * b &gt; prod) {\r\n                result[0] = a;\r\n                result[1] = b;\r\n                result[2] = 0;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }","title":"Fibonacci numbers java.lang.OutOfMemoryError: Java heap space","body":"<p>Work fine:</p>\n<pre><code>public static long[] productFib(long prod) {\n    long[] result = new long[3];\n\n    long a;\n    long b = 0;\n    long c = 1;\n\n    for (int i = 0; i &lt; prod; i++) {\n        a = b;\n        b = c;\n        c = a + b;\n        if (a * b == prod) {\n            result[0] = a;\n            result[1] = b;\n            result[2] = 1;\n            break;\n        } else if (a * b &gt; prod) {\n            result[0] = a;\n            result[1] = b;\n            result[2] = 0;\n            break;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26601216,"reputation":1,"user_id":20222837,"display_name":"saravana kumar p"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666278784,"creation_date":1665986956,"answer_id":74093143,"question_id":74079397,"body_markdown":"The `int` data type is a 32-bit signed two&#39;s complement integer. Its value-range lies between -2,147,483,648 (-2&lt;sup&gt;31&lt;/sup&gt;) to 2,147,483,647 (2&lt;sup&gt;31&lt;/sup&gt;-1) (inclusive). Its minimum value is -2,147,483,648 and maximum value is 2,147,483,647.\r\nChange the datatype of prod-int prod to long prod.\r\nBecause the `long` data type is a 64-bit two&#39;s complement integer. The signed long has a minimum value of -2&lt;sup&gt;63&lt;/sup&gt; and a maximum value of 2&lt;sup&gt;63&lt;/sup&gt;-1. In Java SE 8 and later, you can use the `long` data type to represent an unsigned 64-bit long, which has a minimum value of 0 and a maximum value of 2&lt;sup&gt;64&lt;/sup&gt;-1.","title":"Fibonacci numbers java.lang.OutOfMemoryError: Java heap space","body":"<p>The <code>int</code> data type is a 32-bit signed two's complement integer. Its value-range lies between -2,147,483,648 (-2<sup>31</sup>) to 2,147,483,647 (2<sup>31</sup>-1) (inclusive). Its minimum value is -2,147,483,648 and maximum value is 2,147,483,647.\nChange the datatype of prod-int prod to long prod.\nBecause the <code>long</code> data type is a 64-bit two's complement integer. The signed long has a minimum value of -2<sup>63</sup> and a maximum value of 2<sup>63</sup>-1. In Java SE 8 and later, you can use the <code>long</code> data type to represent an unsigned 64-bit long, which has a minimum value of 0 and a maximum value of 2<sup>64</sup>-1.</p>\n"}],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1666278784,"creation_date":1665836442,"question_id":74079397,"body_markdown":"I try to add Fibonacci numbers to a `List` and get:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\r\nI need these numbers in a `List` or `array`, to manipulate it further.\r\n\r\nHere is my code:\r\n\r\n    int a;\r\n    int b = 0;\r\n    int c = 1;\r\n\r\n    int prod = 2932589879121\r\n\t\t\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; prod; i++) {\r\n        a = b;\r\n        b = c;\r\n        c = a + b;\r\n        list.add(c);\r\n    }\r\n\r\nHow can I fix it?\r\n\r\nMy full code:\r\n\r\n    public static long[] productFib(long prod) {\r\n        long[] result = new long[3];\r\n\r\n        int a;\r\n        int b = 0;\r\n        int c = 1;\r\n\r\n        int first = 0;\r\n        int second = 0;\r\n\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; prod; i++) {\r\n            a = b;\r\n            b = c;\r\n            c = a + b;\r\n            list.add(c);\r\n        }\r\n\r\n        int index = 0;\r\n        while (true) {\r\n            first = list.get(index);\r\n            second = list.get(index + 1);\r\n            if (first * second == prod) {\r\n                result[0] = list.get(index);\r\n                result[1] = list.get(index + 1);\r\n                result[2] = 1;\r\n                break;\r\n            } else if (first * second &gt; prod) {\r\n                result[0] = list.get(index);\r\n                result[1] = list.get(index + 1);\r\n                result[2] = 0;\r\n                break;\r\n            }\r\n            index++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nI need to find if multiplication of two Fibonacci numbers from list give another Fibonacci number. This works fine for small numbers.\r\n\r\nChanging the code to:\r\n\r\n    public static long[] productFib(long prod) {\r\n        long[] result = new long[3];\r\n    \r\n        long a;\r\n        long b = 0;\r\n        long c = 1;\r\n    \r\n        for (int i = 0; i &lt; prod; i++) {\r\n            a = b;\r\n            b = c;\r\n            c = a + b;\r\n            if (a * b == prod) {\r\n                result[0] = a;\r\n                result[1] = b;\r\n                result[2] = 1;\r\n                break;\r\n            } else if (a * b &gt; prod) {\r\n                result[0] = a;\r\n                result[1] = b;\r\n                result[2] = 0;\r\n                break;\r\n            }\r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\nWorks fine\r\n","title":"Fibonacci numbers java.lang.OutOfMemoryError: Java heap space","body":"<p>I try to add Fibonacci numbers to a <code>List</code> and get:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space</p>\n</blockquote>\n<p>I need these numbers in a <code>List</code> or <code>array</code>, to manipulate it further.</p>\n<p>Here is my code:</p>\n<pre><code>int a;\nint b = 0;\nint c = 1;\n\nint prod = 2932589879121\n    \n\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; prod; i++) {\n    a = b;\n    b = c;\n    c = a + b;\n    list.add(c);\n}\n</code></pre>\n<p>How can I fix it?</p>\n<p>My full code:</p>\n<pre><code>public static long[] productFib(long prod) {\n    long[] result = new long[3];\n\n    int a;\n    int b = 0;\n    int c = 1;\n\n    int first = 0;\n    int second = 0;\n\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; prod; i++) {\n        a = b;\n        b = c;\n        c = a + b;\n        list.add(c);\n    }\n\n    int index = 0;\n    while (true) {\n        first = list.get(index);\n        second = list.get(index + 1);\n        if (first * second == prod) {\n            result[0] = list.get(index);\n            result[1] = list.get(index + 1);\n            result[2] = 1;\n            break;\n        } else if (first * second &gt; prod) {\n            result[0] = list.get(index);\n            result[1] = list.get(index + 1);\n            result[2] = 0;\n            break;\n        }\n        index++;\n    }\n\n    return result;\n}\n</code></pre>\n<p>I need to find if multiplication of two Fibonacci numbers from list give another Fibonacci number. This works fine for small numbers.</p>\n<p>Changing the code to:</p>\n<pre><code>public static long[] productFib(long prod) {\n    long[] result = new long[3];\n\n    long a;\n    long b = 0;\n    long c = 1;\n\n    for (int i = 0; i &lt; prod; i++) {\n        a = b;\n        b = c;\n        c = a + b;\n        if (a * b == prod) {\n            result[0] = a;\n            result[1] = b;\n            result[2] = 1;\n            break;\n        } else if (a * b &gt; prod) {\n            result[0] = a;\n            result[1] = b;\n            result[2] = 0;\n            break;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n<p>Works fine</p>\n"},{"tags":["java","sql","monitoring","alfresco","activiti"],"answers":[{"comments":[{"owner":{"account_id":21954028,"reputation":110,"user_id":16232860,"display_name":"Soma B&#225;sthy"},"score":0,"creation_date":1666276517,"post_id":74126711,"comment_id":130902690,"body_markdown":"I mean the database can return more than 20 000 record result, if I delete the where clause from the query.","body":"I mean the database can return more than 20 000 record result, if I delete the where clause from the query."}],"tags":[],"owner":{"account_id":2120498,"reputation":3230,"user_id":1883842,"display_name":"Greg Harley"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666187993,"creation_date":1666187993,"answer_id":74126711,"question_id":74112765,"body_markdown":"Likely this is more a restriction imposed by your database than Activiti/Flowable.","title":"Activiti HistoricProcessInstanceQuery returned with missing processVariables","body":"<p>Likely this is more a restriction imposed by your database than Activiti/Flowable.</p>\n"},{"tags":[],"owner":{"account_id":8888106,"reputation":1254,"user_id":6635754,"display_name":"Abbas Kararawala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666278672,"creation_date":1666278672,"answer_id":74142252,"question_id":74112765,"body_markdown":"You can use [NativeQuery][1] from [HistoryService.createNativeHistoricProcessInstanceQuery][2]\r\n enter your SQL (copy from the actual historic process instance query without ranks `where` clause)\r\n\r\n  [1]: https://www.activiti.org/javadocs/org/activiti/engine/query/NativeQuery.html\r\n  [2]: https://www.activiti.org/javadocs/org/activiti/engine/history/NativeHistoricProcessInstanceQuery.html","title":"Activiti HistoricProcessInstanceQuery returned with missing processVariables","body":"<p>You can use <a href=\"https://www.activiti.org/javadocs/org/activiti/engine/query/NativeQuery.html\" rel=\"nofollow noreferrer\">NativeQuery</a> from <a href=\"https://www.activiti.org/javadocs/org/activiti/engine/history/NativeHistoricProcessInstanceQuery.html\" rel=\"nofollow noreferrer\">HistoryService.createNativeHistoricProcessInstanceQuery</a>\nenter your SQL (copy from the actual historic process instance query without ranks <code>where</code> clause)</p>\n"}],"owner":{"account_id":21954028,"reputation":110,"user_id":16232860,"display_name":"Soma B&#225;sthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74142252,"answer_count":2,"score":3,"last_activity_date":1666278672,"creation_date":1666103570,"question_id":74112765,"body_markdown":"I am trying to query HistoricProcessInstances from Activiti historyService including the processVariables. But some of the processes have missing variables in the returned list. I have monitored the database to see the sql query that Activiti had been created, and it turned out, the query joins 3 tables together, and can only return 20 000 records. I have approximately 550 processes with 37 processVariables each, so that&#39;s going to be 20 350 records.\r\n\r\nIn the monitored SQL query there is a rnk (rank) created to each line in the result and its always between 1 and 20 000.\r\n        \r\n    ...from ACT_HI_PROCINST RES\r\n    \t\t\tleft outer join ACT_HI_VARINST VAR ON RES.PROC_INST_ID_ = VAR.EXECUTION_ID_ and VAR.TASK_ID_ is null\r\n    \t\t\tinner join ACT_HI_VARINST  A0 on RES.PROC_INST_ID_ = A0.PROC_INST_ID_\r\n    \t\t\tWHERE\t\t\t\t\t\tRES.END_TIME_ is not NULL and \r\n    \t\t\t\t\tA0.NAME_= &#39;processOwner&#39;and \r\n    \t\t\t\t\tA0.VAR_TYPE_ = &#39;string&#39; and \r\n    \t\t\t\t\tA0.TEXT_  = &#39;user123&#39; \r\n    \t\t) RES \r\n    \t) SUB WHERE SUB.rnk &gt;= 1 AND \r\n    \t\t\t\tSUB.rnk &lt; 20001 and \r\n\r\nIs there any possible solution that I can increase this threshold or create a HistoricProcessInstanceQuery with include only specific processVariables?\r\n\r\nMy code snippet for the query:\r\n\r\n    processHistories = historyService.createHistoricProcessInstanceQuery()\r\n    \t\t\t\t\t\t\t.processDefinitionKey(processKey).variableValueEquals(VariableNames.processOwner, username)\r\n    \t\t\t\t\t\t\t.includeProcessVariables().finished().orderByProcessInstanceStartTime().desc().list();","title":"Activiti HistoricProcessInstanceQuery returned with missing processVariables","body":"<p>I am trying to query HistoricProcessInstances from Activiti historyService including the processVariables. But some of the processes have missing variables in the returned list. I have monitored the database to see the sql query that Activiti had been created, and it turned out, the query joins 3 tables together, and can only return 20 000 records. I have approximately 550 processes with 37 processVariables each, so that's going to be 20 350 records.</p>\n<p>In the monitored SQL query there is a rnk (rank) created to each line in the result and its always between 1 and 20 000.</p>\n<pre><code>...from ACT_HI_PROCINST RES\n            left outer join ACT_HI_VARINST VAR ON RES.PROC_INST_ID_ = VAR.EXECUTION_ID_ and VAR.TASK_ID_ is null\n            inner join ACT_HI_VARINST  A0 on RES.PROC_INST_ID_ = A0.PROC_INST_ID_\n            WHERE                       RES.END_TIME_ is not NULL and \n                    A0.NAME_= 'processOwner'and \n                    A0.VAR_TYPE_ = 'string' and \n                    A0.TEXT_  = 'user123' \n        ) RES \n    ) SUB WHERE SUB.rnk &gt;= 1 AND \n                SUB.rnk &lt; 20001 and \n</code></pre>\n<p>Is there any possible solution that I can increase this threshold or create a HistoricProcessInstanceQuery with include only specific processVariables?</p>\n<p>My code snippet for the query:</p>\n<pre><code>processHistories = historyService.createHistoricProcessInstanceQuery()\n                            .processDefinitionKey(processKey).variableValueEquals(VariableNames.processOwner, username)\n                            .includeProcessVariables().finished().orderByProcessInstanceStartTime().desc().list();\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1666278731,"post_id":74142242,"comment_id":130903709,"body_markdown":"`(adultAmount - (childrenAmount / 10)) * ADULT_PRICE `","body":"<code>(adultAmount - (childrenAmount &#47; 10)) * ADULT_PRICE </code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666279028,"post_id":74142242,"comment_id":130903833,"body_markdown":"Hint: integer division drops fractions.  So 1 / 10 = 0, 9 / 10 = 0, 10 / 10 = 1, etc.  Try out a few values, I think this is the connection your instructed expected you to make.","body":"Hint: integer division drops fractions.  So 1 / 10 = 0, 9 / 10 = 0, 10 / 10 = 1, etc.  Try out a few values, I think this is the connection your instructed expected you to make."}],"owner":{"account_id":23025019,"reputation":35,"user_id":17145420,"display_name":"Hamza Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666278645,"creation_date":1666278645,"question_id":74142242,"body_markdown":"I need to be able turn this rule into a piece of code: \r\n\r\n**1 free adult chaperone place for every group of 10 children, for    example:**\r\n - **less than 10 children, all adults must pay**\r\n - **between 10 and 19 children: up to 1 free adult**\r\n - **between 20 and 29 children: up to 2 free adults**\r\n\r\n**and so on**\r\n\r\nIs there a simpler way to do this without having to set a new IF statement which is physically impossible. \r\n\r\n        final double ADULT_PRICE = 10.5;\r\n        final double CHILD_PRICE = 7.3;\r\n        final double CONCESSION_PRICE = 8.4;\r\n        final double P_P = 2.34;\r\n\r\n        //Getting user inputs\r\n        System.out.print(&quot;\\nEnter the number of adults: &quot;);\r\n        int adultAmount = input.nextInt();\r\n\r\n        System.out.print(&quot;\\nEnter the number of children: &quot;);\r\n        int childrenAmount = input.nextInt();\r\n\r\n        System.out.print(&quot;\\nEnter the number of concessions: &quot;);\r\n        int concessionAmount = input.nextInt();\r\n\r\n        System.out.print(&quot;\\nPostage is &#163;2.34 extra. Press Y accept, press N to decline: &quot;);\r\n        String postageChoice = input.nextLine();\r\n\r\n        double total = adultAmount*ADULT_PRICE + childrenAmount*CHILD_PRICE + concessionAmount*CONCESSION_PRICE;\r\n\r\nI was thinking that every 10 users, you subtract the price of one adult from the total cost of the purchase. \r\n\r\nHelp would be great, thank you!","title":"Adding a rule which is recurring every 10 people - JAVA","body":"<p>I need to be able turn this rule into a piece of code:</p>\n<p><strong>1 free adult chaperone place for every group of 10 children, for    example:</strong></p>\n<ul>\n<li><strong>less than 10 children, all adults must pay</strong></li>\n<li><strong>between 10 and 19 children: up to 1 free adult</strong></li>\n<li><strong>between 20 and 29 children: up to 2 free adults</strong></li>\n</ul>\n<p><strong>and so on</strong></p>\n<p>Is there a simpler way to do this without having to set a new IF statement which is physically impossible.</p>\n<pre><code>    final double ADULT_PRICE = 10.5;\n    final double CHILD_PRICE = 7.3;\n    final double CONCESSION_PRICE = 8.4;\n    final double P_P = 2.34;\n\n    //Getting user inputs\n    System.out.print(&quot;\\nEnter the number of adults: &quot;);\n    int adultAmount = input.nextInt();\n\n    System.out.print(&quot;\\nEnter the number of children: &quot;);\n    int childrenAmount = input.nextInt();\n\n    System.out.print(&quot;\\nEnter the number of concessions: &quot;);\n    int concessionAmount = input.nextInt();\n\n    System.out.print(&quot;\\nPostage is ¬£2.34 extra. Press Y accept, press N to decline: &quot;);\n    String postageChoice = input.nextLine();\n\n    double total = adultAmount*ADULT_PRICE + childrenAmount*CHILD_PRICE + concessionAmount*CONCESSION_PRICE;\n</code></pre>\n<p>I was thinking that every 10 users, you subtract the price of one adult from the total cost of the purchase.</p>\n<p>Help would be great, thank you!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1666281056,"post_id":74142196,"comment_id":130904604,"body_markdown":"*‚ÄùI don‚Äôt know what‚Äôs going on‚Äù*. Actually, you have figured out *exactly* what‚Äôs going on. `FXMLLoader.load()` creates a new instance of the controller (as well as a new instance of the UI defined in the FXML file). I‚Äôm away from my computer right now, but search for ‚Äúnested controllers‚Äù to see how to get a reference to the controller that is created when you include the FXML file.","body":"<i>‚ÄùI don‚Äôt know what‚Äôs going on‚Äù</i>. Actually, you have figured out <i>exactly</i> what‚Äôs going on. <code>FXMLLoader.load()</code> creates a new instance of the controller (as well as a new instance of the UI defined in the FXML file). I‚Äôm away from my computer right now, but search for ‚Äúnested controllers‚Äù to see how to get a reference to the controller that is created when you include the FXML file."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666281253,"post_id":74142196,"comment_id":130904656,"body_markdown":"See, for example, https://stackoverflow.com/questions/44467982/javafx8-fxml-naming-of-nested-controllers","body":"See, for example, <a href=\"https://stackoverflow.com/questions/44467982/javafx8-fxml-naming-of-nested-controllers\" title=\"javafx8 fxml naming of nested controllers\">stackoverflow.com/questions/44467982/&hellip;</a>"},{"owner":{"account_id":26531217,"reputation":49,"user_id":20163376,"display_name":"Isa&#237;"},"score":0,"creation_date":1666282323,"post_id":74142196,"comment_id":130905080,"body_markdown":"@James_D one more question, is that the best way to achieve communication between controllers? I had thought using zeromq, but i think it would complicate the code","body":"@James_D one more question, is that the best way to achieve communication between controllers? I had thought using zeromq, but i think it would complicate the code"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1666283645,"post_id":74142196,"comment_id":130905540,"body_markdown":"Don&#39;t communicate between controllers directly (the &quot;nested controller&quot; case may be an exception.) Use a [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx)","body":"Don&#39;t communicate between controllers directly (the &quot;nested controller&quot; case may be an exception.) Use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a>"}],"owner":{"account_id":26531217,"reputation":49,"user_id":20163376,"display_name":"Isa&#237;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666283656,"answer_count":0,"score":1,"last_activity_date":1666278420,"creation_date":1666278420,"question_id":74142196,"body_markdown":"im working with JavaFX and i need modify ui components of a second controller in a main controller, so i have the next structure \r\n```\r\n‚îú‚îÄ‚îÄ java\r\n‚îÇ&#160;&#160; ‚îú‚îÄ‚îÄ com\r\n‚îÇ&#160;&#160; ‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ example\r\n‚îÇ&#160;&#160; ‚îÇ&#160;&#160;     ‚îî‚îÄ‚îÄ demo2\r\n‚îÇ&#160;&#160; ‚îÇ&#160;&#160;         ‚îú‚îÄ‚îÄ ExampleController.java\r\n‚îÇ&#160;&#160; ‚îÇ&#160;&#160;         ‚îú‚îÄ‚îÄ MainApplication.java\r\n‚îÇ&#160;&#160; ‚îÇ&#160;&#160;         ‚îî‚îÄ‚îÄ MainController.java\r\n‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ module-info.java\r\n‚îî‚îÄ‚îÄ resources\r\n    ‚îî‚îÄ‚îÄ com\r\n        ‚îî‚îÄ‚îÄ example\r\n            ‚îî‚îÄ‚îÄ demo2\r\n                ‚îú‚îÄ‚îÄ example.fxml\r\n                ‚îî‚îÄ‚îÄ main.fxml\r\n```\r\nand i&#39;ve tried this but its not working\r\n\r\n - MainApplication.java\r\n\r\n```\r\npackage com.example.demo2;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MainApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(MainApplication.class.getResource(&quot;main.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n - MainController.java\r\n```\r\npackage com.example.demo2;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\npublic class MainController implements Initializable {\r\n    @FXML\r\n    protected void onHelloButtonClick() {\r\n    }\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;example.fxml&quot;));\r\n        try {\r\n            loader.load();\r\n            ExampleController controller = loader.getController();\r\n            controller.welcomeText.setText(&quot;HELLO WORLD&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n - ExampleController.java\r\n```\r\npackage com.example.demo2;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Label;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class ExampleController implements Initializable {\r\n    @FXML\r\n    public Label welcomeText;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        System.out.println(this);\r\n    }\r\n}\r\n\r\n```\r\n\r\n - example.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;HBox prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo2.ExampleController&quot;&gt;\r\n  &lt;Label fx:id=&quot;welcomeText&quot; text=&quot;example&quot; /&gt;\r\n&lt;/HBox&gt;\r\n```\r\n\r\n - main.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.example.demo2.MainController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;fx:include source=&quot;example.fxml&quot;/&gt;\r\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\ni&#39;ve noticed when i do `loader.load();` that another controller is created, so i&#39;ve modified that controller which is not the same that the one is created when the application is launching, i get this output when run my program\r\n```\r\ncom.example.demo2.ExampleController@4c62adb4\r\ncom.example.demo2.ExampleController@5b74a187\r\n```\r\ni dont know whats going on, if anybody can help me, i would appreciate it","title":"Access ui components of a controller in another controller in JavaFX","body":"<p>im working with JavaFX and i need modify ui components of a second controller in a main controller, so i have the next structure</p>\n<pre><code>‚îú‚îÄ‚îÄ java\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ com\n‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ example\n‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ demo2\n‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ ExampleController.java\n‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ MainApplication.java\n‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ MainController.java\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ module-info.java\n‚îî‚îÄ‚îÄ resources\n    ‚îî‚îÄ‚îÄ com\n        ‚îî‚îÄ‚îÄ example\n            ‚îî‚îÄ‚îÄ demo2\n                ‚îú‚îÄ‚îÄ example.fxml\n                ‚îî‚îÄ‚îÄ main.fxml\n</code></pre>\n<p>and i've tried this but its not working</p>\n<ul>\n<li>MainApplication.java</li>\n</ul>\n<pre><code>package com.example.demo2;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class MainApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(MainApplication.class.getResource(&quot;main.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<ul>\n<li>MainController.java</li>\n</ul>\n<pre><code>package com.example.demo2;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\npublic class MainController implements Initializable {\n    @FXML\n    protected void onHelloButtonClick() {\n    }\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;example.fxml&quot;));\n        try {\n            loader.load();\n            ExampleController controller = loader.getController();\n            controller.welcomeText.setText(&quot;HELLO WORLD&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>ExampleController.java</li>\n</ul>\n<pre><code>package com.example.demo2;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class ExampleController implements Initializable {\n    @FXML\n    public Label welcomeText;\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        System.out.println(this);\n    }\n}\n\n</code></pre>\n<ul>\n<li>example.fxml</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;HBox prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo2.ExampleController&quot;&gt;\n  &lt;Label fx:id=&quot;welcomeText&quot; text=&quot;example&quot; /&gt;\n&lt;/HBox&gt;\n</code></pre>\n<ul>\n<li>main.fxml</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.demo2.MainController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;fx:include source=&quot;example.fxml&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>i've noticed when i do <code>loader.load();</code> that another controller is created, so i've modified that controller which is not the same that the one is created when the application is launching, i get this output when run my program</p>\n<pre><code>com.example.demo2.ExampleController@4c62adb4\ncom.example.demo2.ExampleController@5b74a187\n</code></pre>\n<p>i dont know whats going on, if anybody can help me, i would appreciate it</p>\n"},{"tags":["java","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1666280907,"post_id":74142141,"comment_id":130904550,"body_markdown":"I&#39;m not sure I understood you correctly but shouldn&#39;t you be doing something like:\nMockito.when(headers.getRequestHeaders()).thenReturn(aMap) where aMap can be a real map, it doesn&#39;t have to be a mock, there is actually no point in mocking a map since you can just create a map and insert anything there","body":"I&#39;m not sure I understood you correctly but shouldn&#39;t you be doing something like: Mockito.when(headers.getRequestHeaders()).thenReturn(aMap) where aMap can be a real map, it doesn&#39;t have to be a mock, there is actually no point in mocking a map since you can just create a map and insert anything there"},{"owner":{"account_id":26683077,"reputation":1,"user_id":20292793,"display_name":"Rohit"},"score":0,"creation_date":1666281797,"post_id":74142141,"comment_id":130904859,"body_markdown":"Thanks it worked for me @vitaly, I was doing wrongly. But then, how to put on private final MultivaluedMap&lt;String, String&gt; = mockMultiHeaderMap = Mockito.mock(MultivaluedMap.class);","body":"Thanks it worked for me @vitaly, I was doing wrongly. But then, how to put on private final MultivaluedMap&lt;String, String&gt; = mockMultiHeaderMap = Mockito.mock(MultivaluedMap.class);"},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1666283580,"post_id":74142141,"comment_id":130905517,"body_markdown":"Not sure I understood, where exactly do you want to make your map final?","body":"Not sure I understood, where exactly do you want to make your map final?"},{"owner":{"account_id":26683077,"reputation":1,"user_id":20292793,"display_name":"Rohit"},"score":0,"creation_date":1666288356,"post_id":74142141,"comment_id":130907304,"body_markdown":"I was trying to use the headers.getRequestHeaders directly earlier. But now I don‚Äôt want to pass the headers directly but to put that to a map. Now, for testing out I wanted to ask that if I did correct changes by creating the mock of the map? If not, then what would be the correct approach","body":"I was trying to use the headers.getRequestHeaders directly earlier. But now I don‚Äôt want to pass the headers directly but to put that to a map. Now, for testing out I wanted to ask that if I did correct changes by creating the mock of the map? If not, then what would be the correct approach"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666288454,"post_id":74142141,"comment_id":130907339,"body_markdown":"Does this answer your question? [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\">Why is my class not calling my mocked methods in unit test?</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666289094,"post_id":74142141,"comment_id":130907558,"body_markdown":"Your class under test is not using your mock. Besides, I would absolutely recommand against mocking simple data classes such as `Map` or `MultivaluedMap`. Just `new` up an instance and fill it with the data you need (`map.put(key, value)`)","body":"Your class under test is not using your mock. Besides, I would absolutely recommand against mocking simple data classes such as <code>Map</code> or <code>MultivaluedMap</code>. Just <code>new</code> up an instance and fill it with the data you need (<code>map.put(key, value)</code>)"}],"owner":{"account_id":26683077,"reputation":1,"user_id":20292793,"display_name":"Rohit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666278177,"creation_date":1666278177,"question_id":74142141,"body_markdown":"In my test class, I have framed it as\r\n\r\n```\r\npublic class TestDummy {\r\n\r\n private AClass a;\r\n private final HttpHeaders mockHeader = Mockito.mock(HttpHeaders.class);\r\n private final MultivaluedMap&lt;String, String&gt; mockMultiHeaderMap = \r\n Mockito.mock(MultivaluedMap.class);\r\n\r\n @BeforeEach\r\n void beforeMethod(){\r\n   Mockito.when(mockMultiHeaderMap.getFirst(&quot;abc&quot;)).thenReturn(&quot;def);\r\n }\r\n\r\n void actualTestClass(){\r\n   Assertions.assertDoesNotThrow(() -&gt; {\r\n       return a.method(mockHeader);\r\n   });\r\n }\r\n}\r\n```\r\nThis is my actual dummy class\r\n```\r\npublic AClass dummy{\r\n  public void method(HttpHeaders headers){\r\n      MultivaluedMap&lt;String, String&gt; multiHeaderMap = headers.getRequestHeaders();\r\n      String val = multiHeaderMap.getFirst(&quot;abc&quot;);\r\n  }\r\n}\r\n```\r\nI know that I am setting value to mockMultiHeaderMap but I am not getting that how to update my testcase since, in actual AClass we have to pass HttpHeaders object itself on method().\r\n","title":"How to Mock HttpHeaders inside MultivaluedMap","body":"<p>In my test class, I have framed it as</p>\n<pre><code>public class TestDummy {\n\n private AClass a;\n private final HttpHeaders mockHeader = Mockito.mock(HttpHeaders.class);\n private final MultivaluedMap&lt;String, String&gt; mockMultiHeaderMap = \n Mockito.mock(MultivaluedMap.class);\n\n @BeforeEach\n void beforeMethod(){\n   Mockito.when(mockMultiHeaderMap.getFirst(&quot;abc&quot;)).thenReturn(&quot;def);\n }\n\n void actualTestClass(){\n   Assertions.assertDoesNotThrow(() -&gt; {\n       return a.method(mockHeader);\n   });\n }\n}\n</code></pre>\n<p>This is my actual dummy class</p>\n<pre><code>public AClass dummy{\n  public void method(HttpHeaders headers){\n      MultivaluedMap&lt;String, String&gt; multiHeaderMap = headers.getRequestHeaders();\n      String val = multiHeaderMap.getFirst(&quot;abc&quot;);\n  }\n}\n</code></pre>\n<p>I know that I am setting value to mockMultiHeaderMap but I am not getting that how to update my testcase since, in actual AClass we have to pass HttpHeaders object itself on method().</p>\n"},{"tags":["java","android","android-studio","debugging"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666275304,"post_id":74141299,"comment_id":130902133,"body_markdown":"added `android:exported=&quot;true&quot;` to your launcher activity or with `intent-launcher` in manifest","body":"added <code>android:exported=&quot;true&quot;</code> to your launcher activity or with <code>intent-launcher</code> in manifest"},{"owner":{"account_id":24949519,"reputation":11,"user_id":18814491,"display_name":"FassRoller"},"score":0,"creation_date":1666277474,"post_id":74141299,"comment_id":130903150,"body_markdown":"tyyyyyyy !!!!!!!","body":"tyyyyyyy !!!!!!!"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666277958,"post_id":74141299,"comment_id":130903385,"body_markdown":"hey check the answer with more details!","body":"hey check the answer with more details!"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666277934,"creation_date":1666277934,"answer_id":74142060,"question_id":74141299,"body_markdown":"Add this in your `AndroidManifest.xml`\r\n\r\nYou need to find `&lt;activity&gt;` tag with `intent-filter` with `action` **MAIN** and `category` with **LAUNCHER**\r\n\r\nand add `android:exported=&quot;true&quot;` like this -\r\n\r\n```\r\n &lt;activity\r\n   android:name=&quot;.MainActivity&quot;\r\n   android:exported=&quot;true&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n         &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n         &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n       &lt;/intent-filter&gt;\r\n &lt;/activity&gt;\r\n```\r\n","title":"Android Studio error: android:exported needs to be explicitly specified ..... Android 12","body":"<p>Add this in your <code>AndroidManifest.xml</code></p>\n<p>You need to find <code>&lt;activity&gt;</code> tag with <code>intent-filter</code> with <code>action</code> <strong>MAIN</strong> and <code>category</code> with <strong>LAUNCHER</strong></p>\n<p>and add <code>android:exported=&quot;true&quot;</code> like this -</p>\n<pre><code> &lt;activity\n   android:name=&quot;.MainActivity&quot;\n   android:exported=&quot;true&quot;&gt;\n      &lt;intent-filter&gt;\n         &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n         &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n       &lt;/intent-filter&gt;\n &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":24949519,"reputation":11,"user_id":18814491,"display_name":"FassRoller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666277934,"creation_date":1666274862,"question_id":74141299,"body_markdown":"I started programming with AndroidStudio today and a friend sent me a small sample app but I can&#39;t run any code because this error keeps coming up. I&#39;ve been trying to solve it for about 3 hours now with different forums but I can&#39;t get it to work I would be very grateful for your help because I just don&#39;t know what to do....\r\n\r\nConsole:\r\n```C:\\Users\\lucas\\AndroidStudioProjects\\store\\android\\app\\src\\debug\\AndroidManifest.xml Error:\r\n\tandroid:exported needs to be explicitly specified for element &lt;activity#com.dbestech.food_delivery.MainActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Manifest merger failed : android:exported needs to be explicitly specified for element &lt;activity#com.dbestech.food_delivery.MainActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n___________________________________________________________________________________\r\n\r\nand my AndroidManifest.xml file:\r\n\r\n___________________________________________________________________________________\r\n\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.dbestech.food_delivery&quot;&gt;\r\n    &lt;!-- Flutter needs it to communicate with the running application\r\n         to allow setting breakpoints, to provide hot reload, etc.\r\n    --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n&lt;/manifest&gt;```\r\n\r\n\r\n\r\n\r\n","title":"Android Studio error: android:exported needs to be explicitly specified ..... Android 12","body":"<p>I started programming with AndroidStudio today and a friend sent me a small sample app but I can't run any code because this error keeps coming up. I've been trying to solve it for about 3 hours now with different forums but I can't get it to work I would be very grateful for your help because I just don't know what to do....</p>\n<p>Console:</p>\n<pre><code>    android:exported needs to be explicitly specified for element &lt;activity#com.dbestech.food_delivery.MainActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Manifest merger failed : android:exported needs to be explicitly specified for element &lt;activity#com.dbestech.food_delivery.MainActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\nException: Gradle task assembleDebug failed with exit code 1\n___________________________________________________________________________________\n\nand my AndroidManifest.xml file:\n\n___________________________________________________________________________________\n\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.dbestech.food_delivery&quot;&gt;\n    &lt;!-- Flutter needs it to communicate with the running application\n         to allow setting breakpoints, to provide hot reload, etc.\n    --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;/manifest&gt;```\n\n\n\n\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":2,"creation_date":1388132626,"post_id":334518,"comment_id":31178333,"body_markdown":"String str1 = &quot;foo&quot;; String str2 = &quot;foo&quot;; Both str1 and str2 belongs to tha same String object, &quot;foo&quot;, b&#39;coz for Java manages Strings in StringPool, so is a new variable refers to the same String, it doesn&#39;t create another one rather assign the same alerady present in StringPool.  But when we do this:                   String str1 = new String(&quot;foo&quot;); String str2 = new String(&quot;foo&quot;); Here both str1 and str2 belongs to different Objects, b&#39;coz new String() forcefully create a new String Object.","body":"String str1 = &quot;foo&quot;; String str2 = &quot;foo&quot;; Both str1 and str2 belongs to tha same String object, &quot;foo&quot;, b&#39;coz for Java manages Strings in StringPool, so is a new variable refers to the same String, it doesn&#39;t create another one rather assign the same alerady present in StringPool.  But when we do this:                   String str1 = new String(&quot;foo&quot;); String str2 = new String(&quot;foo&quot;); Here both str1 and str2 belongs to different Objects, b&#39;coz new String() forcefully create a new String Object."}],"answers":[{"tags":[],"owner":{"account_id":4495,"reputation":335863,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1228235136,"creation_date":1228234788,"answer_id":334538,"question_id":334518,"body_markdown":"`String`s are special in Java - they&#39;re immutable, and string constants are automatically turned into `String` objects.\r\n\r\nThere&#39;s no way for your `SomeStringClass cis = &quot;value&quot;` example to apply to any other class.\r\n\r\nNor can you extend `String`, because it&#39;s declared as `final`, meaning no sub-classing is allowed.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p><code>String</code>s are special in Java - they're immutable, and string constants are automatically turned into <code>String</code> objects.</p>\n\n<p>There's no way for your <code>SomeStringClass cis = \"value\"</code> example to apply to any other class.</p>\n\n<p>Nor can you extend <code>String</code>, because it's declared as <code>final</code>, meaning no sub-classing is allowed.</p>\n"},{"comments":[{"owner":{"account_id":11708,"reputation":21399,"user_id":22704,"display_name":"Darron"},"score":0,"creation_date":1228235472,"post_id":334540,"comment_id":171443,"body_markdown":"final is a red herring here.  Even if String wasn&#39;t final, extending String wouldn&#39;t help him in this case.","body":"final is a red herring here.  Even if String wasn&#39;t final, extending String wouldn&#39;t help him in this case."},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1228248953,"post_id":334540,"comment_id":171900,"body_markdown":"I think you mean fortunately you can&#39;t override this.\n:)","body":"I think you mean fortunately you can&#39;t override this. :)"},{"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"score":0,"creation_date":1228257944,"post_id":334540,"comment_id":172227,"body_markdown":"@Motlin: Ha! you may well be right. I think I read somewhere that Java was designed to stop anyone ever doing anything stupid by deliberately excluding anything interesting like this...","body":"@Motlin: Ha! you may well be right. I think I read somewhere that Java was designed to stop anyone ever doing anything stupid by deliberately excluding anything interesting like this..."}],"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1228234800,"creation_date":1228234800,"answer_id":334540,"question_id":334518,"body_markdown":"You can&#39;t. Things in double-quotes in Java are specially recognised by the compiler as Strings, and unfortunately you can&#39;t override this (or extend `java.lang.String` - it&#39;s declared `final`).","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>You can't. Things in double-quotes in Java are specially recognised by the compiler as Strings, and unfortunately you can't override this (or extend <code>java.lang.String</code> - it's declared <code>final</code>).</p>\n"},{"comments":[{"owner":{"account_id":9534,"reputation":4856,"user_id":17663,"accept_rate":83,"display_name":"Tetha"},"score":9,"creation_date":1242161163,"post_id":334548,"comment_id":662850,"body_markdown":"a second point is that the compiler can to fancy internig/propagating-stuff with string literals which are not necessarily possible with such a weird functioncall like &quot;String(literal)&quot;","body":"a second point is that the compiler can to fancy internig/propagating-stuff with string literals which are not necessarily possible with such a weird functioncall like &quot;String(literal)&quot;"},{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":6,"creation_date":1340385425,"post_id":334548,"comment_id":14637206,"body_markdown":"Since you should never call `new String(&quot;foo&quot;)`, you may ask yourself why the constructor `new String(String)` exists.  The answer is that there is sometimes a good use for it:  http://stackoverflow.com/a/390854/1442870","body":"Since you should never call <code>new String(&quot;foo&quot;)</code>, you may ask yourself why the constructor <code>new String(String)</code> exists.  The answer is that there is sometimes a good use for it:  <a href=\"http://stackoverflow.com/a/390854/1442870\">stackoverflow.com/a/390854/1442870</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1435769505,"post_id":334548,"comment_id":50342443,"body_markdown":"FYI, Tetha‚Äôs comment above misspelled the word &quot;interning&quot;, as in [string interning](https://en.m.wikipedia.org/wiki/String_interning).","body":"FYI, Tetha‚Äôs comment above misspelled the word &quot;interning&quot;, as in <a href=\"https://en.m.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">string interning</a>."}],"tags":[],"owner":{"account_id":5807,"reputation":392471,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"comment_count":3,"down_vote_count":1,"up_vote_count":116,"is_accepted":false,"score":115,"last_activity_date":1228234878,"creation_date":1228234878,"answer_id":334548,"question_id":334518,"body_markdown":"`String` is a special built-in class of the language.  It is for the `String` class **only** in which you should avoid saying\r\n\r\n    String s = new String(&quot;Polish&quot;);\r\n\r\nBecause the literal `&quot;Polish&quot;` is already of type `String`, and you&#39;re creating an extra unnecessary object.  For any other class, saying\r\n\r\n    CaseInsensitiveString cis = new CaseInsensitiveString(&quot;Polish&quot;);\r\n\r\nis the correct (and only, in this case) thing to do.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p><code>String</code> is a special built-in class of the language.  It is for the <code>String</code> class <strong>only</strong> in which you should avoid saying</p>\n\n<pre><code>String s = new String(\"Polish\");\n</code></pre>\n\n<p>Because the literal <code>\"Polish\"</code> is already of type <code>String</code>, and you're creating an extra unnecessary object.  For any other class, saying</p>\n\n<pre><code>CaseInsensitiveString cis = new CaseInsensitiveString(\"Polish\");\n</code></pre>\n\n<p>is the correct (and only, in this case) thing to do.</p>\n"},{"comments":[{"owner":{"account_id":11708,"reputation":21399,"user_id":22704,"display_name":"Darron"},"score":0,"creation_date":1228235047,"post_id":334550,"comment_id":171426,"body_markdown":"Even if you extended String this wouldn&#39;t work.  You&#39;d need String to extend CaseInsensitiveString.","body":"Even if you extended String this wouldn&#39;t work.  You&#39;d need String to extend CaseInsensitiveString."},{"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"score":0,"creation_date":1228249231,"post_id":334550,"comment_id":171908,"body_markdown":"in either case its impossible, either because string is built in or because its declared final","body":"in either case its impossible, either because string is built in or because its declared final"}],"tags":[],"owner":{"account_id":1062,"reputation":37710,"user_id":1409,"accept_rate":87,"display_name":"Herms"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1228237426,"creation_date":1228234896,"answer_id":334550,"question_id":334518,"body_markdown":"CaseInsensitiveString and String are different objects.  You can&#39;t do:\r\n\r\n    CaseInsensitiveString cis = &quot;Polish&quot;;\r\n\r\nbecause &quot;Polish&quot; is a String, not a CaseInsensitiveString.  If String extended CaseInsensitiveString String then you&#39;d be OK, but obviously it doesn&#39;t.\r\n\r\nAnd don&#39;t worry about the construction here, you won&#39;t be making unecessary objects.  If you look at the code of the constructor, all it&#39;s doing is storing a reference to the string you passed in.  Nothing extra is being created.\r\n\r\nIn the String s = new String(&quot;foobar&quot;) case it&#39;s doing something different.  You are first creating the literal string &quot;foobar&quot;, then creating a copy of it by constructing a new string out of it.  There&#39;s no need to create that copy.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>CaseInsensitiveString and String are different objects.  You can't do:</p>\n\n<pre><code>CaseInsensitiveString cis = \"Polish\";\n</code></pre>\n\n<p>because \"Polish\" is a String, not a CaseInsensitiveString.  If String extended CaseInsensitiveString String then you'd be OK, but obviously it doesn't.</p>\n\n<p>And don't worry about the construction here, you won't be making unecessary objects.  If you look at the code of the constructor, all it's doing is storing a reference to the string you passed in.  Nothing extra is being created.</p>\n\n<p>In the String s = new String(\"foobar\") case it's doing something different.  You are first creating the literal string \"foobar\", then creating a copy of it by constructing a new string out of it.  There's no need to create that copy.</p>\n"},{"tags":[],"owner":{"account_id":11708,"reputation":21399,"user_id":22704,"display_name":"Darron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228234976,"creation_date":1228234976,"answer_id":334562,"question_id":334518,"body_markdown":"In Java the syntax &quot;text&quot; creates an instance of class java.lang.String.  The assignment:\r\n\r\n    String foo = &quot;text&quot;;\r\n\r\nis a simple assignment, with no copy constructor necessary.\r\n\r\n    MyString bar = &quot;text&quot;;\r\n\r\nIs illegal whatever you do because the MyString class isn&#39;t either java.lang.String or a superclass of java.lang.String.\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>In Java the syntax \"text\" creates an instance of class java.lang.String.  The assignment:</p>\n\n<pre><code>String foo = \"text\";\n</code></pre>\n\n<p>is a simple assignment, with no copy constructor necessary.</p>\n\n<pre><code>MyString bar = \"text\";\n</code></pre>\n\n<p>Is illegal whatever you do because the MyString class isn't either java.lang.String or a superclass of java.lang.String.</p>\n"},{"tags":[],"owner":{"account_id":10816,"reputation":40454,"user_id":20601,"accept_rate":100,"display_name":"Lucas Gabriel S&#225;nchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228235035,"creation_date":1228235035,"answer_id":334569,"question_id":334518,"body_markdown":"First, you can&#39;t make a class that extends from String, because String is a final class. And java manage Strings differently from other classes so only with String you can do\r\n\r\n    String s = &quot;Polish&quot;;\r\n\r\nBut whit your class you have to invoke the constructor. So, that code is fine.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>First, you can't make a class that extends from String, because String is a final class. And java manage Strings differently from other classes so only with String you can do</p>\n\n<pre><code>String s = \"Polish\";\n</code></pre>\n\n<p>But whit your class you have to invoke the constructor. So, that code is fine.</p>\n"},{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":15,"creation_date":1228236054,"post_id":334580,"comment_id":171475,"body_markdown":"Similarly, that&#39;s why FindBugs tells you to replace &quot;new Integer(N)&quot; with &quot;Integer.valueOf(N)&quot; - because of that interning.","body":"Similarly, that&#39;s why FindBugs tells you to replace &quot;new Integer(N)&quot; with &quot;Integer.valueOf(N)&quot; - because of that interning."},{"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"score":6,"creation_date":1228244922,"post_id":334580,"comment_id":171753,"body_markdown":"You should also add &quot;foo&quot; == new String(&quot;foo&quot;).intern()","body":"You should also add &quot;foo&quot; == new String(&quot;foo&quot;).intern()"},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":5,"creation_date":1228248868,"post_id":334580,"comment_id":171895,"body_markdown":"A correction: String literals are made to point to the same reference by the compiler, not the VM.  The VM may intern String objects at runtime, so the second line may return true or false!","body":"A correction: String literals are made to point to the same reference by the compiler, not the VM.  The VM may intern String objects at runtime, so the second line may return true or false!"},{"owner":{"account_id":13070,"reputation":4278,"user_id":26061,"display_name":"Leigh"},"score":1,"creation_date":1228300561,"post_id":334580,"comment_id":173004,"body_markdown":"@Motlin: I&#39;m not sure that&#39;s correct. The javadoc for the String class mandates that &quot;All literal strings and string-valued constant expressions are interned&quot;. So we can rely on literals being interned, meaning that &quot;foo&quot; == &quot;foo&quot; should always return true.","body":"@Motlin: I&#39;m not sure that&#39;s correct. The javadoc for the String class mandates that &quot;All literal strings and string-valued constant expressions are interned&quot;. So we can rely on literals being interned, meaning that &quot;foo&quot; == &quot;foo&quot; should always return true."},{"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"score":4,"creation_date":1229378876,"post_id":334580,"comment_id":198753,"body_markdown":"@Leigh Yes, literals are interned, but by the compiler and not the VM. What Motlin is getting at is that the VM may additionally intern strings, thus, whether or not new String(&quot;bar&quot;) == new String(&quot;bar&quot;) --&gt; false is implementation Dependant.","body":"@Leigh Yes, literals are interned, but by the compiler and not the VM. What Motlin is getting at is that the VM may additionally intern strings, thus, whether or not new String(&quot;bar&quot;) == new String(&quot;bar&quot;) --&gt; false is implementation Dependant."},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1306451381,"post_id":334580,"comment_id":7136689,"body_markdown":"@Aaron: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.9.4 says: *The value of a class instance creation expression is a reference to the newly created object of the specified class. Every time the expression is evaluated, a fresh object is created.* So it will always be `false`.","body":"@Aaron: <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.9.4\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/&hellip;</a> says: <i>The value of a class instance creation expression is a reference to the newly created object of the specified class. Every time the expression is evaluated, a fresh object is created.</i> So it will always be <code>false</code>."},{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":0,"creation_date":1388132592,"post_id":334580,"comment_id":31178325,"body_markdown":"Yes new String(&quot;&quot;) creates a new String object.","body":"Yes new String(&quot;&quot;) creates a new String object."}],"tags":[],"owner":{"account_id":13070,"reputation":4278,"user_id":26061,"display_name":"Leigh"},"comment_count":7,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1228235165,"creation_date":1228235165,"answer_id":334580,"question_id":334518,"body_markdown":"I believe the main benefit of using the literal form (ie, &quot;foo&quot; rather than new String(&quot;foo&quot;)) is that all String literals are &#39;interned&#39; by the VM. In other words it is added to a pool such that any other code that creates the same string will use the pooled String rather than creating a new instance.\r\n\r\nTo illustrate, the following code will print true for the first line, but false for the second:\r\n\r\n    System.out.println(&quot;foo&quot; == &quot;foo&quot;);\r\n    System.out.println(new String(&quot;bar&quot;) == new String(&quot;bar&quot;));\r\n\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>I believe the main benefit of using the literal form (ie, \"foo\" rather than new String(\"foo\")) is that all String literals are 'interned' by the VM. In other words it is added to a pool such that any other code that creates the same string will use the pooled String rather than creating a new instance.</p>\n\n<p>To illustrate, the following code will print true for the first line, but false for the second:</p>\n\n<pre><code>System.out.println(\"foo\" == \"foo\");\nSystem.out.println(new String(\"bar\") == new String(\"bar\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18062,"reputation":2058,"user_id":41039,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1228235351,"creation_date":1228235351,"answer_id":334589,"question_id":334518,"body_markdown":"In your first example, you are creating a String, &quot;silly&quot; and then passing it as a parameter to another String&#39;s copy constructor, which makes a second String which is identical to the first.  Since Java Strings are immutable (something that frequently stings people who are used to C strings), this is a needless waste of resources.  You should instead use the second example because it skips several needless steps.\r\n\r\nHowever, the String literal is not a CaseInsensitiveString so there you cannot do what you want in your last example.  Furthermore, there is no way to overload a casting operator like you can in C++ so there is literally no way to do what you want.  You must instead pass it in as a parameter to your class&#39;s constructor.  Of course, I&#39;d probably just use String.toLowerCase() and be done with it.\r\n\r\nAlso, your CaseInsensitiveString should implement the CharSequence interface as well as probably the Serializable and Comparable interfaces.  Of course, if you implement Comparable, you should override equals() and hashCode() as well.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>In your first example, you are creating a String, \"silly\" and then passing it as a parameter to another String's copy constructor, which makes a second String which is identical to the first.  Since Java Strings are immutable (something that frequently stings people who are used to C strings), this is a needless waste of resources.  You should instead use the second example because it skips several needless steps.</p>\n\n<p>However, the String literal is not a CaseInsensitiveString so there you cannot do what you want in your last example.  Furthermore, there is no way to overload a casting operator like you can in C++ so there is literally no way to do what you want.  You must instead pass it in as a parameter to your class's constructor.  Of course, I'd probably just use String.toLowerCase() and be done with it.</p>\n\n<p>Also, your CaseInsensitiveString should implement the CharSequence interface as well as probably the Serializable and Comparable interfaces.  Of course, if you implement Comparable, you should override equals() and hashCode() as well.</p>\n"},{"comments":[{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":0,"creation_date":1374276354,"post_id":334613,"comment_id":25893898,"body_markdown":"+1 for mentioning immutability, which to me is the real reason in java one writes ```strA = strB```, instead of ```strA = new String(strB)```. it really doesn&#39;t have to do much with string interning.","body":"+1 for mentioning immutability, which to me is the real reason in java one writes <code>strA = strB</code>, instead of <code>strA = new String(strB)</code>. it really doesn&#39;t have to do much with string interning."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1454837922,"post_id":334613,"comment_id":58216506,"body_markdown":"They are not handled by reference counting. String pooling is required by the JLS.","body":"They are not handled by reference counting. String pooling is required by the JLS."}],"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1228235783,"creation_date":1228235783,"answer_id":334613,"question_id":334518,"body_markdown":"Strings are treated a bit specially in java, they&#39;re immutable so it&#39;s safe for them to be handled by reference counting. \r\n\r\nIf you write\r\n\r\n    String s = &quot;Polish&quot;;\r\n    String t = &quot;Polish&quot;;\r\n\r\nthen s and t actually refer to the same object, and s==t will return true, for &quot;==&quot; for objects read &quot;is the same object&quot; (or can, anyway, I&quot;m not sure if this is part of the actual language spec or simply a detail of the compiler implementation-so maybe it&#39;s not safe to rely on this) . \r\n\r\nIf you write \r\n\r\n    String s = new String(&quot;Polish&quot;);\r\n    String t = new String(&quot;Polish&quot;);\r\n\r\nthen s!=t (because you&#39;ve explicitly created a new string) although s.equals(t) will return true (because string adds this behavior to equals). \r\n\r\nThe thing you want to write, \r\n\r\n    CaseInsensitiveString cis = &quot;Polish&quot;;\r\n\r\ncan&#39;t work because you&#39;re thinking that the quotations are some sort of short-circuit constructor for your object, when in fact this only works for plain old java.lang.Strings.\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>Strings are treated a bit specially in java, they're immutable so it's safe for them to be handled by reference counting. </p>\n\n<p>If you write</p>\n\n<pre><code>String s = \"Polish\";\nString t = \"Polish\";\n</code></pre>\n\n<p>then s and t actually refer to the same object, and s==t will return true, for \"==\" for objects read \"is the same object\" (or can, anyway, I\"m not sure if this is part of the actual language spec or simply a detail of the compiler implementation-so maybe it's not safe to rely on this) . </p>\n\n<p>If you write </p>\n\n<pre><code>String s = new String(\"Polish\");\nString t = new String(\"Polish\");\n</code></pre>\n\n<p>then s!=t (because you've explicitly created a new string) although s.equals(t) will return true (because string adds this behavior to equals). </p>\n\n<p>The thing you want to write, </p>\n\n<pre><code>CaseInsensitiveString cis = \"Polish\";\n</code></pre>\n\n<p>can't work because you're thinking that the quotations are some sort of short-circuit constructor for your object, when in fact this only works for plain old java.lang.Strings.</p>\n"},{"tags":[],"owner":{"account_id":5903,"reputation":5376,"user_id":9731,"accept_rate":0,"display_name":"Ewan Makepeace"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1666277763,"creation_date":1228236670,"answer_id":334659,"question_id":334518,"body_markdown":"In most versions of the JDK the two versions will be the same:\r\n\r\nString s = new String(&quot;silly&quot;);\r\n\r\nString s = &quot;No longer silly&quot;;\r\n\r\nBecause strings are immutable the compiler maintains a list of string constants and if you try to make a new one will first check to see if the string is already defined. If it is then a reference to the existing immutable string is returned.\r\n\r\nTo clarify - when you say &quot;String s = &quot; you are defining a new variable which takes up space on the stack - then whether you say &quot;No longer silly&quot; or new String(&quot;silly&quot;) exactly the same thing happens - a new constant string is compiled into your application and the reference points to that.\r\n\r\nI dont see the distinction here. However for your own class, which is not immutable, this behaviour is irrelevant and you must call your constructor.\r\n\r\nUPDATE: I was wrong!\r\nI tested this and realise that my understanding is wrong - new String(&quot;Silly&quot;) does indeed create a new string rather than reuse the existing one. I am unclear why this would be (what is the benefit?) but code speaks louder than words!\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>In most versions of the JDK the two versions will be the same:</p>\n<p>String s = new String(&quot;silly&quot;);</p>\n<p>String s = &quot;No longer silly&quot;;</p>\n<p>Because strings are immutable the compiler maintains a list of string constants and if you try to make a new one will first check to see if the string is already defined. If it is then a reference to the existing immutable string is returned.</p>\n<p>To clarify - when you say &quot;String s = &quot; you are defining a new variable which takes up space on the stack - then whether you say &quot;No longer silly&quot; or new String(&quot;silly&quot;) exactly the same thing happens - a new constant string is compiled into your application and the reference points to that.</p>\n<p>I dont see the distinction here. However for your own class, which is not immutable, this behaviour is irrelevant and you must call your constructor.</p>\n<p>UPDATE: I was wrong!\nI tested this and realise that my understanding is wrong - new String(&quot;Silly&quot;) does indeed create a new string rather than reuse the existing one. I am unclear why this would be (what is the benefit?) but code speaks louder than words!</p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":2,"creation_date":1228238912,"post_id":334730,"comment_id":171554,"body_markdown":"It&#39;s a design pattern, not a language construct.  With Java there are very few uses where a copy constructor would be interesting since everything is always &quot;by reference&quot;, and each object just has one copy.  In fact, making copies would really cause a LOT of problems.","body":"It&#39;s a design pattern, not a language construct.  With Java there are very few uses where a copy constructor would be interesting since everything is always &quot;by reference&quot;, and each object just has one copy.  In fact, making copies would really cause a LOT of problems."}],"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228238114,"creation_date":1228238114,"answer_id":334730,"question_id":334518,"body_markdown":"I would just add that Java has [Copy constructors](http://www.javapractices.com/topic/TopicAction.do?Id=12 &quot;Copy constructors&quot;)...\r\n\r\nWell, that&#39;s an ordinary constructor with an object of same type as argument.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>I would just add that Java has <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=12\" rel=\"nofollow noreferrer\" title=\"Copy constructors\">Copy constructors</a>...</p>\n\n<p>Well, that's an ordinary constructor with an object of same type as argument.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1454838241,"post_id":334732,"comment_id":58216566,"body_markdown":"The compiler creates the string pool, not the JVM. Variables don&#39;t contain objects, they refer to them. String pool space for string literals is never reclaimed.","body":"The compiler creates the string pool, not the JVM. Variables don&#39;t contain objects, they refer to them. String pool space for string literals is never reclaimed."}],"tags":[],"owner":{"account_id":16780,"reputation":7782,"user_id":36902,"accept_rate":76,"display_name":"mson"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1334236381,"creation_date":1228238159,"answer_id":334732,"question_id":334518,"body_markdown":"Java strings are interesting.  It looks like the responses have covered some of the interesting points.  Here are my two cents.\r\n\r\n**strings are immutable (you can never change them)**\r\n\r\n    String x = &quot;x&quot;;\r\n    x = &quot;Y&quot;; \r\n\r\n* The first line will create a variable x which will contain the string value &quot;x&quot;.  The JVM will look in its pool of string values and see if &quot;x&quot; exists, if it does, it will point the variable x to it, if it does not exist, it will create it and then do the assignment\r\n* The second line will remove the reference to &quot;x&quot; and see if &quot;Y&quot; exists in the pool of string values.  If it does exist, it will assign it, if it does not, it will create it first then assignment.  As the string values are used or not, the memory space in the pool of string values will be reclaimed.\r\n\r\n**string comparisons are contingent on what you are comparing**\r\n\r\n    String a1 = new String(&quot;A&quot;);\r\n    \r\n    String a2 = new String(&quot;A&quot;);\r\n\r\n* `a1` does not equal `a2`\r\n* `a1` and `a2` are object references\r\n* When string is explicitly declared, new instances are created and their references will not be the same.\r\n\r\nI think you&#39;re on the wrong path with trying to use the caseinsensitive class.  Leave the strings alone.  What you really care about is how you display or compare the values.  Use another class to format the string or to make comparisons.\r\n\r\ni.e. \r\n\r\n    TextUtility.compare(string 1, string 2) \r\n    TextUtility.compareIgnoreCase(string 1, string 2)\r\n    TextUtility.camelHump(string 1)\r\n\r\nSince you are making up the class, you can make the compares do what you want - compare the text values.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>Java strings are interesting.  It looks like the responses have covered some of the interesting points.  Here are my two cents.</p>\n\n<p><strong>strings are immutable (you can never change them)</strong></p>\n\n<pre><code>String x = \"x\";\nx = \"Y\"; \n</code></pre>\n\n<ul>\n<li>The first line will create a variable x which will contain the string value \"x\".  The JVM will look in its pool of string values and see if \"x\" exists, if it does, it will point the variable x to it, if it does not exist, it will create it and then do the assignment</li>\n<li>The second line will remove the reference to \"x\" and see if \"Y\" exists in the pool of string values.  If it does exist, it will assign it, if it does not, it will create it first then assignment.  As the string values are used or not, the memory space in the pool of string values will be reclaimed.</li>\n</ul>\n\n<p><strong>string comparisons are contingent on what you are comparing</strong></p>\n\n<pre><code>String a1 = new String(\"A\");\n\nString a2 = new String(\"A\");\n</code></pre>\n\n<ul>\n<li><code>a1</code> does not equal <code>a2</code></li>\n<li><code>a1</code> and <code>a2</code> are object references</li>\n<li>When string is explicitly declared, new instances are created and their references will not be the same.</li>\n</ul>\n\n<p>I think you're on the wrong path with trying to use the caseinsensitive class.  Leave the strings alone.  What you really care about is how you display or compare the values.  Use another class to format the string or to make comparisons.</p>\n\n<p>i.e. </p>\n\n<pre><code>TextUtility.compare(string 1, string 2) \nTextUtility.compareIgnoreCase(string 1, string 2)\nTextUtility.camelHump(string 1)\n</code></pre>\n\n<p>Since you are making up the class, you can make the compares do what you want - compare the text values.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247605031,"creation_date":1228281886,"answer_id":336291,"question_id":334518,"body_markdown":"&gt; *- How do i make CaseInsensitiveString behave like String so the above statement is ok (with and w/out extending String)? What is it about String that makes it ok to just be able to pass it a literal like that? From my understanding there is no &quot;copy constructor&quot; concept in Java right?*\r\n\r\n\r\nEnough has been said from the first point. &quot;Polish&quot; is an string literal and cannot be assigned to the CaseInsentiviveString class.\r\n\r\nNow about the **second point**\r\n\r\nAlthough you can&#39;t create new literals, you can follow the first item of that book for a &quot;similar&quot; approach so the following statements are true:\r\n\r\n\r\n        // Lets test the insensitiveness\r\n        CaseInsensitiveString cis5 = CaseInsensitiveString.valueOf(&quot;sOmEtHiNg&quot;);\r\n        CaseInsensitiveString cis6 = CaseInsensitiveString.valueOf(&quot;SoMeThInG&quot;);\r\n\r\n        assert cis5 == cis6;\r\n        assert cis5.equals(cis6);\r\n\r\n\r\nHere&#39;s the code.\r\n\r\n\r\n\r\n\r\n    C:\\oreyes\\samples\\java\\insensitive&gt;type CaseInsensitiveString.java\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n\r\n    public final class CaseInsensitiveString  {\r\n\r\n\r\n        private static final Map&lt;String,CaseInsensitiveString&gt; innerPool \r\n                                    = new HashMap&lt;String,CaseInsensitiveString&gt;();\r\n\r\n        private final String s;\r\n\r\n\r\n        // Effective Java Item 1: Consider providing static factory methods instead of constructors\r\n        public static CaseInsensitiveString valueOf( String s ) {\r\n\r\n            if ( s == null ) {\r\n                return null;\r\n            }\r\n            String value = s.toLowerCase();\r\n\r\n            if ( !CaseInsensitiveString.innerPool.containsKey( value ) ) {\r\n                 CaseInsensitiveString.innerPool.put( value , new CaseInsensitiveString( value ) );\r\n             }\r\n             \r\n             return CaseInsensitiveString.innerPool.get( value );   \r\n        }\r\n\r\n        // Class constructor: This creates a new instance each time it is invoked.\r\n        public CaseInsensitiveString(String s){\r\n            if (s == null) {\r\n                throw new NullPointerException();\r\n             }         \r\n             this.s = s.toLowerCase();\r\n        }\r\n\r\n        public boolean equals( Object other ) {\r\n             if ( other instanceof CaseInsensitiveString ) {\r\n                  CaseInsensitiveString otherInstance = ( CaseInsensitiveString ) other;\r\n                 return this.s.equals( otherInstance.s );\r\n             }\r\n             \r\n             return false;\r\n        }\r\n\r\n\r\n        public int hashCode(){\r\n             return this.s.hashCode();\r\n        }\r\n\r\n        \r\n// Test the class using the &quot;assert&quot; keyword\r\n\r\n\r\n        public static void main( String [] args ) {\r\n\r\n            // Creating two different objects as in new String(&quot;Polish&quot;) == new String(&quot;Polish&quot;) is false\r\n            CaseInsensitiveString cis1 = new CaseInsensitiveString(&quot;Polish&quot;);\r\n            CaseInsensitiveString cis2 = new CaseInsensitiveString(&quot;Polish&quot;);\r\n\r\n            // references cis1 and cis2 points to differents objects.\r\n            // so the following is true\r\n            assert cis1 !=  cis2;      // Yes they&#39;re different\r\n            assert cis1.equals(cis2);  // Yes they&#39;re equals thanks to the equals method\r\n\r\n            // Now let&#39;s try the valueOf idiom\r\n            CaseInsensitiveString cis3 = CaseInsensitiveString.valueOf(&quot;Polish&quot;);\r\n            CaseInsensitiveString cis4 = CaseInsensitiveString.valueOf(&quot;Polish&quot;);\r\n\r\n            // References cis3 and cis4 points to same  object.\r\n            // so the following is true\r\n            assert cis3 == cis4;      // Yes they point to the same object\r\n            assert cis3.equals(cis4); // and still equals.\r\n            \r\n            // Lets test the insensitiveness\r\n            CaseInsensitiveString cis5 = CaseInsensitiveString.valueOf(&quot;sOmEtHiNg&quot;);\r\n            CaseInsensitiveString cis6 = CaseInsensitiveString.valueOf(&quot;SoMeThInG&quot;);\r\n\r\n            assert cis5 == cis6;\r\n            assert cis5.equals(cis6);\r\n            \r\n            // Futhermore\r\n            CaseInsensitiveString cis7 = CaseInsensitiveString.valueOf(&quot;SomethinG&quot;);\r\n            CaseInsensitiveString cis8 = CaseInsensitiveString.valueOf(&quot;someThing&quot;);\r\n            \r\n            assert cis8 == cis5 &amp;&amp; cis7 == cis6;\r\n            assert cis7.equals(cis5) &amp;&amp; cis6.equals(cis8);\r\n        }\r\n\r\n    }\r\n\r\n    C:\\oreyes\\samples\\java\\insensitive&gt;javac CaseInsensitiveString.java\r\n\r\n\r\n    C:\\oreyes\\samples\\java\\insensitive&gt;java -ea CaseInsensitiveString\r\n\r\n    C:\\oreyes\\samples\\java\\insensitive&gt;\r\n\r\n\r\nThat is, create an internal pool of CaseInsensitiveString  objects, and return the corrensponding instance from there.\r\n\r\n This way the &quot;==&quot; operator returns **true** for two objects references representing the **same value**. \r\n\r\nThis is useful when similar objects are used very frequently and creating cost is expensive.\r\n\r\n\r\n\r\nThe string class documentation states that the class uses &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/String.html#intern()&quot;&gt;an internal pool&lt;/a&gt;\r\n\r\n\r\nThe class is not complete, some interesting issues arises when we try to walk the contents of the object at implementing the CharSequence interface, but this code is good enough to show how that item in the Book could be applied. \r\n\r\n\r\nIt is important to notice that by using the *internalPool* object, the references are not released and thus not garbage collectible, and that may become an issue if a lot of objects are created. \r\n\r\nIt works for the String class because it is used intensively and the pool is constituted of &quot;interned&quot; object only.\r\n\r\n It works well for the Boolean class too,  because there are only two possible values.\r\n\r\n And finally that&#39;s also the reason why *[valueOf(int)][1]* in class Integer is limited to -128 to 127 int values.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<blockquote>\n  <p><em>- How do i make CaseInsensitiveString behave like String so the above statement is ok (with and w/out extending String)? What is it about String that makes it ok to just be able to pass it a literal like that? From my understanding there is no \"copy constructor\" concept in Java right?</em></p>\n</blockquote>\n\n<p>Enough has been said from the first point. \"Polish\" is an string literal and cannot be assigned to the CaseInsentiviveString class.</p>\n\n<p>Now about the <strong>second point</strong></p>\n\n<p>Although you can't create new literals, you can follow the first item of that book for a \"similar\" approach so the following statements are true:</p>\n\n<pre><code>    // Lets test the insensitiveness\n    CaseInsensitiveString cis5 = CaseInsensitiveString.valueOf(\"sOmEtHiNg\");\n    CaseInsensitiveString cis6 = CaseInsensitiveString.valueOf(\"SoMeThInG\");\n\n    assert cis5 == cis6;\n    assert cis5.equals(cis6);\n</code></pre>\n\n<p>Here's the code.</p>\n\n<pre><code>C:\\oreyes\\samples\\java\\insensitive&gt;type CaseInsensitiveString.java\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic final class CaseInsensitiveString  {\n\n\n    private static final Map&lt;String,CaseInsensitiveString&gt; innerPool \n                                = new HashMap&lt;String,CaseInsensitiveString&gt;();\n\n    private final String s;\n\n\n    // Effective Java Item 1: Consider providing static factory methods instead of constructors\n    public static CaseInsensitiveString valueOf( String s ) {\n\n        if ( s == null ) {\n            return null;\n        }\n        String value = s.toLowerCase();\n\n        if ( !CaseInsensitiveString.innerPool.containsKey( value ) ) {\n             CaseInsensitiveString.innerPool.put( value , new CaseInsensitiveString( value ) );\n         }\n\n         return CaseInsensitiveString.innerPool.get( value );   \n    }\n\n    // Class constructor: This creates a new instance each time it is invoked.\n    public CaseInsensitiveString(String s){\n        if (s == null) {\n            throw new NullPointerException();\n         }         \n         this.s = s.toLowerCase();\n    }\n\n    public boolean equals( Object other ) {\n         if ( other instanceof CaseInsensitiveString ) {\n              CaseInsensitiveString otherInstance = ( CaseInsensitiveString ) other;\n             return this.s.equals( otherInstance.s );\n         }\n\n         return false;\n    }\n\n\n    public int hashCode(){\n         return this.s.hashCode();\n    }\n</code></pre>\n\n<p>// Test the class using the \"assert\" keyword</p>\n\n<pre><code>    public static void main( String [] args ) {\n\n        // Creating two different objects as in new String(\"Polish\") == new String(\"Polish\") is false\n        CaseInsensitiveString cis1 = new CaseInsensitiveString(\"Polish\");\n        CaseInsensitiveString cis2 = new CaseInsensitiveString(\"Polish\");\n\n        // references cis1 and cis2 points to differents objects.\n        // so the following is true\n        assert cis1 !=  cis2;      // Yes they're different\n        assert cis1.equals(cis2);  // Yes they're equals thanks to the equals method\n\n        // Now let's try the valueOf idiom\n        CaseInsensitiveString cis3 = CaseInsensitiveString.valueOf(\"Polish\");\n        CaseInsensitiveString cis4 = CaseInsensitiveString.valueOf(\"Polish\");\n\n        // References cis3 and cis4 points to same  object.\n        // so the following is true\n        assert cis3 == cis4;      // Yes they point to the same object\n        assert cis3.equals(cis4); // and still equals.\n\n        // Lets test the insensitiveness\n        CaseInsensitiveString cis5 = CaseInsensitiveString.valueOf(\"sOmEtHiNg\");\n        CaseInsensitiveString cis6 = CaseInsensitiveString.valueOf(\"SoMeThInG\");\n\n        assert cis5 == cis6;\n        assert cis5.equals(cis6);\n\n        // Futhermore\n        CaseInsensitiveString cis7 = CaseInsensitiveString.valueOf(\"SomethinG\");\n        CaseInsensitiveString cis8 = CaseInsensitiveString.valueOf(\"someThing\");\n\n        assert cis8 == cis5 &amp;&amp; cis7 == cis6;\n        assert cis7.equals(cis5) &amp;&amp; cis6.equals(cis8);\n    }\n\n}\n\nC:\\oreyes\\samples\\java\\insensitive&gt;javac CaseInsensitiveString.java\n\n\nC:\\oreyes\\samples\\java\\insensitive&gt;java -ea CaseInsensitiveString\n\nC:\\oreyes\\samples\\java\\insensitive&gt;\n</code></pre>\n\n<p>That is, create an internal pool of CaseInsensitiveString  objects, and return the corrensponding instance from there.</p>\n\n<p>This way the \"==\" operator returns <strong>true</strong> for two objects references representing the <strong>same value</strong>. </p>\n\n<p>This is useful when similar objects are used very frequently and creating cost is expensive.</p>\n\n<p>The string class documentation states that the class uses <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#intern()\" rel=\"nofollow noreferrer\">an internal pool</a></p>\n\n<p>The class is not complete, some interesting issues arises when we try to walk the contents of the object at implementing the CharSequence interface, but this code is good enough to show how that item in the Book could be applied. </p>\n\n<p>It is important to notice that by using the <em>internalPool</em> object, the references are not released and thus not garbage collectible, and that may become an issue if a lot of objects are created. </p>\n\n<p>It works for the String class because it is used intensively and the pool is constituted of \"interned\" object only.</p>\n\n<p>It works well for the Boolean class too,  because there are only two possible values.</p>\n\n<p>And finally that's also the reason why <em><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29\" rel=\"nofollow noreferrer\">valueOf(int)</a></em> in class Integer is limited to -128 to 127 int values.</p>\n"},{"tags":[],"owner":{"account_id":46486,"reputation":12288,"user_id":137404,"accept_rate":81,"display_name":"Tolga E"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247605212,"creation_date":1247605212,"answer_id":1128015,"question_id":334518,"body_markdown":"String is one of the special classes in which you can create them without the new Sring part\r\n\r\nit&#39;s the same as\r\n\r\nint x = y;\r\n\r\nor \r\n\r\nchar c;","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>String is one of the special classes in which you can create them without the new Sring part</p>\n\n<p>it's the same as</p>\n\n<p>int x = y;</p>\n\n<p>or </p>\n\n<p>char c;</p>\n"},{"tags":[],"owner":{"account_id":129622,"reputation":4414,"user_id":328323,"accept_rate":97,"display_name":"javaguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273007333,"creation_date":1273007333,"answer_id":2768998,"question_id":334518,"body_markdown":"Just because you have the word `String` in your class, does not mean you get all the special features of the built-in `String` class.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>Just because you have the word <code>String</code> in your class, does not mean you get all the special features of the built-in <code>String</code> class.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292298892,"creation_date":1292298892,"answer_id":4435721,"question_id":334518,"body_markdown":"`CaseInsensitiveString` is not a `String` although it contains a `String`. A `String` literal e.g &quot;example&quot; can be only assigned to a `String`.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p><code>CaseInsensitiveString</code> is not a <code>String</code> although it contains a <code>String</code>. A <code>String</code> literal e.g \"example\" can be only assigned to a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":1462165,"reputation":3978,"user_id":1376167,"accept_rate":88,"display_name":"Surender Thakran"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1337401833,"creation_date":1336627997,"answer_id":10528041,"question_id":334518,"body_markdown":"The best way to answer your question would be to make you familiar with the &quot;String constant pool&quot;. In java string objects are immutable (i.e their values cannot be changed once they are initialized), so when editing a string object you end up creating a new edited string object wherease the old object just floats around in a special memory ares called the &quot;string constant pool&quot;. creating a new string object by\r\n\r\n    String s = &quot;Hello&quot;;\r\n\r\nwill only create a string object in the pool and the reference s will refer to it, but by using\r\n\r\n    String s = new String(&quot;Hello&quot;);\r\n\r\nyou create two string objects: one in the pool and the other in the heap. the reference will refer to the object in the heap. \r\n\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>The best way to answer your question would be to make you familiar with the \"String constant pool\". In java string objects are immutable (i.e their values cannot be changed once they are initialized), so when editing a string object you end up creating a new edited string object wherease the old object just floats around in a special memory ares called the \"string constant pool\". creating a new string object by</p>\n\n<pre><code>String s = \"Hello\";\n</code></pre>\n\n<p>will only create a string object in the pool and the reference s will refer to it, but by using</p>\n\n<pre><code>String s = new String(\"Hello\");\n</code></pre>\n\n<p>you create two string objects: one in the pool and the other in the heap. the reference will refer to the object in the heap. </p>\n"},{"tags":[],"owner":{"display_name":"user1403260"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337401659,"creation_date":1337401659,"answer_id":10662293,"question_id":334518,"body_markdown":"when they say to write\r\n\r\n    String s = &quot;Silly&quot;;\r\n\r\ninstead of \r\n\r\n    String s = new String(&quot;Silly&quot;);\r\nthey mean it when creating a String object because both of the above statements create a String object but the new String() version creates two String objects: one in heap and the other in string constant pool. Hence using more memory.\r\n\r\nBut when you write\r\n\r\n    CaseInsensitiveString cis = new CaseInsensitiveString(&quot;Polish&quot;);\r\nyou are not creating a String instead you are creating an object of class CaseInsensitiveString. Hence you need to use the new operator.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>when they say to write</p>\n\n<pre><code>String s = \"Silly\";\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>String s = new String(\"Silly\");\n</code></pre>\n\n<p>they mean it when creating a String object because both of the above statements create a String object but the new String() version creates two String objects: one in heap and the other in string constant pool. Hence using more memory.</p>\n\n<p>But when you write</p>\n\n<pre><code>CaseInsensitiveString cis = new CaseInsensitiveString(\"Polish\");\n</code></pre>\n\n<p>you are not creating a String instead you are creating an object of class CaseInsensitiveString. Hence you need to use the new operator.</p>\n"},{"tags":[],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337883143,"creation_date":1337883143,"answer_id":10743045,"question_id":334518,"body_markdown":"If I understood it correctly, your question means why we cannot create an object by directly assigning it a value, lets not restrict it to a Wrapper of String class in java.\r\n\r\nTo answer that I would just say, purely Object Oriented Programming languages have some constructs and it says, that all the literals when written alone can be directly transformed into an object of the given type.\r\n\r\nThat precisely means, if the interpreter sees 3 it will be converted into an Integer object because integer is the type defined for such literals.\r\n\r\nIf the interpreter sees any thing in single quotes like &#39;a&#39; it will directly create an object of type character, you do not need to specify it as the language defines the default object of type character for it.\r\n\r\nSimilarly if the interpreter sees something in &quot;&quot; it will be considered as an object of its default type i.e. string. This is some native code working in the background.\r\n\r\nThanks to MIT video lecture course 6.00 where I got the hint for this answer.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>If I understood it correctly, your question means why we cannot create an object by directly assigning it a value, lets not restrict it to a Wrapper of String class in java.</p>\n\n<p>To answer that I would just say, purely Object Oriented Programming languages have some constructs and it says, that all the literals when written alone can be directly transformed into an object of the given type.</p>\n\n<p>That precisely means, if the interpreter sees 3 it will be converted into an Integer object because integer is the type defined for such literals.</p>\n\n<p>If the interpreter sees any thing in single quotes like 'a' it will directly create an object of type character, you do not need to specify it as the language defines the default object of type character for it.</p>\n\n<p>Similarly if the interpreter sees something in \"\" it will be considered as an object of its default type i.e. string. This is some native code working in the background.</p>\n\n<p>Thanks to MIT video lecture course 6.00 where I got the hint for this answer.</p>\n"},{"tags":[],"owner":{"account_id":2201322,"reputation":35,"user_id":1945649,"display_name":"user1945649"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1357498123,"creation_date":1357498123,"answer_id":14185520,"question_id":334518,"body_markdown":"It is a basic law that Strings in java are immutable and case sensitive.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>It is a basic law that Strings in java are immutable and case sensitive.</p>\n"},{"tags":[],"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388132978,"creation_date":1388132978,"answer_id":20797378,"question_id":334518,"body_markdown":"     String str1 = &quot;foo&quot;; \r\n     String str2 = &quot;foo&quot;; \r\n\r\nBoth str1 and str2 belongs to tha same String object, &quot;foo&quot;, b&#39;coz Java manages Strings in StringPool, so if a new variable refers to the same String, it doesn&#39;t create another one rather assign the same alerady present in StringPool.  \r\n                   \r\n     String str1 = new String(&quot;foo&quot;); \r\n     String str2 = new String(&quot;foo&quot;);\r\n\r\n \r\n\r\nHere both str1 and str2 belongs to different Objects, b&#39;coz new String() forcefully create a new String Object.","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<pre><code> String str1 = \"foo\"; \n String str2 = \"foo\"; \n</code></pre>\n\n<p>Both str1 and str2 belongs to tha same String object, \"foo\", b'coz Java manages Strings in StringPool, so if a new variable refers to the same String, it doesn't create another one rather assign the same alerady present in StringPool.  </p>\n\n<pre><code> String str1 = new String(\"foo\"); \n String str2 = new String(\"foo\");\n</code></pre>\n\n<p>Here both str1 and str2 belongs to different Objects, b'coz new String() forcefully create a new String Object.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1454838089,"post_id":21208178,"comment_id":58216534,"body_markdown":"Don&#39;t t use quote formatting for text that isn&#39;t quoted, and do use code formatting for code.","body":"Don&#39;t t use quote formatting for text that isn&#39;t quoted, and do use code formatting for code."}],"tags":[],"owner":{"account_id":1513181,"reputation":490,"user_id":1414800,"display_name":"Vikas"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1454838053,"creation_date":1390070016,"answer_id":21208178,"question_id":334518,"body_markdown":"    String s1=&quot;foo&quot;;\r\n \r\nliteral will go in pool and s1 will refer.\r\n\r\n    String s2=&quot;foo&quot;;\r\n\r\nthis time it will check &quot;foo&quot; literal is already available in StringPool or not as now it exist so s2 will refer the same literal.\r\n\r\n    String s3=new String(&quot;foo&quot;);\r\n\r\n&quot;foo&quot; literal will be created in StringPool first then through string arg constructor String Object will be created i.e &quot;foo&quot; in the heap due to object creation through new operator then s3 will refer it.\r\n\r\n    String s4=new String(&quot;foo&quot;);\r\n\r\nsame as s3\r\n\r\nso `System.out.println(s1==s2);// **true** due to literal comparison.`\r\n\r\nand `System.out.println(s3==s4);// **false** due to object`\r\n\r\n comparison(s3 and s4 is created at different places in heap)\r\n\r\n\r\n\r\n\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<pre><code>String s1=\"foo\";\n</code></pre>\n\n<p>literal will go in pool and s1 will refer.</p>\n\n<pre><code>String s2=\"foo\";\n</code></pre>\n\n<p>this time it will check \"foo\" literal is already available in StringPool or not as now it exist so s2 will refer the same literal.</p>\n\n<pre><code>String s3=new String(\"foo\");\n</code></pre>\n\n<p>\"foo\" literal will be created in StringPool first then through string arg constructor String Object will be created i.e \"foo\" in the heap due to object creation through new operator then s3 will refer it.</p>\n\n<pre><code>String s4=new String(\"foo\");\n</code></pre>\n\n<p>same as s3</p>\n\n<p>so <code>System.out.println(s1==s2);// **true** due to literal comparison.</code></p>\n\n<p>and <code>System.out.println(s3==s4);// **false** due to object</code></p>\n\n<p>comparison(s3 and s4 is created at different places in heap)</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1454838412,"post_id":30856029,"comment_id":58216601,"body_markdown":"Any time &quot;&quot; is used it is a reference to the *same* string, in the constant pool.","body":"Any time &quot;&quot; is used it is a reference to the <i>same</i> string, in the constant pool."}],"tags":[],"owner":{"account_id":6473945,"reputation":753,"user_id":5013193,"display_name":"Patrick Michaelsen"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435102135,"creation_date":1434407385,"answer_id":30856029,"question_id":334518,"body_markdown":"Java creates a String object for each string literal you use in your code. Any time `&quot;&quot;` is used, it is the same as calling `new String()`.\r\n\r\nStrings are complex data that just &quot;act&quot; like primitive data. String literals are actually objects even though we pretend they&#39;re primitive literals, like `6, 6.0, &#39;c&#39;,` etc. So the String &quot;literal&quot; `&quot;text&quot;` returns a new String object with value `char[] value = {&#39;t&#39;,&#39;e&#39;,&#39;x&#39;,&#39;t}`. Therefore, calling \r\n\r\n    new String(&quot;text&quot;); \r\nis actually akin to calling \r\n\r\n    new String(new String(new char[]{&#39;t&#39;,&#39;e&#39;,&#39;x&#39;,&#39;t&#39;}));\r\nHopefully from here, you can see why your textbook considers this redundant.  \r\n\r\nFor reference, here is the implementation of String: http://www.docjar.com/html/api/java/lang/String.java.html \r\n\r\nIt&#39;s a fun read and might inspire some insight. It&#39;s also great for beginners to read and try to understand, as the code demonstrates very professional and convention-compliant code.\r\n\r\nAnother good reference is the Java tutorial on Strings: \r\nhttp://docs.oracle.com/javase/tutorial/java/data/strings.html","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>Java creates a String object for each string literal you use in your code. Any time <code>\"\"</code> is used, it is the same as calling <code>new String()</code>.</p>\n\n<p>Strings are complex data that just \"act\" like primitive data. String literals are actually objects even though we pretend they're primitive literals, like <code>6, 6.0, 'c',</code> etc. So the String \"literal\" <code>\"text\"</code> returns a new String object with value <code>char[] value = {'t','e','x','t}</code>. Therefore, calling </p>\n\n<pre><code>new String(\"text\"); \n</code></pre>\n\n<p>is actually akin to calling </p>\n\n<pre><code>new String(new String(new char[]{'t','e','x','t'}));\n</code></pre>\n\n<p>Hopefully from here, you can see why your textbook considers this redundant.  </p>\n\n<p>For reference, here is the implementation of String: <a href=\"http://www.docjar.com/html/api/java/lang/String.java.html\" rel=\"nofollow\">http://www.docjar.com/html/api/java/lang/String.java.html</a> </p>\n\n<p>It's a fun read and might inspire some insight. It's also great for beginners to read and try to understand, as the code demonstrates very professional and convention-compliant code.</p>\n\n<p>Another good reference is the Java tutorial on Strings: \n<a href=\"http://docs.oracle.com/javase/tutorial/java/data/strings.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/data/strings.html</a></p>\n"}],"owner":{"account_id":560301,"reputation":889,"user_id":42496,"display_name":"JavaNewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201621,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"answer_count":23,"score":88,"last_activity_date":1666277763,"creation_date":1228234584,"question_id":334518,"body_markdown":"I&#39;m a C++ guy learning Java. I&#39;m reading Effective Java and something confused me. It says never to write code like this:\r\n\r\n    String s = new String(&quot;silly&quot;);\r\n\r\nBecause it creates unnecessary `String` objects. But instead it should be written like this:\r\n\r\n    String s = &quot;No longer silly&quot;;\r\n\r\nOk fine so far...However, given this class:\r\n\r\n    public final class CaseInsensitiveString {\r\n    \tprivate String s;\r\n    \tpublic CaseInsensitiveString(String s) {\r\n    \t\tif (s == null) {\r\n    \t\t\tthrow new NullPointerException();\r\n            }\r\n    \t\tthis.s = s;\r\n    \t}\r\n    \t:\r\n    \t:\r\n    }\r\n\r\n    CaseInsensitiveString cis = new CaseInsensitiveString(&quot;Polish&quot;);\r\n    String s = &quot;polish&quot;;\r\n\r\n1. Why is the first statement ok? Shouldn&#39;t it be \r\n\r\n    `CaseInsensitiveString cis = &quot;Polish&quot;;`\r\n\r\n2. How do I make `CaseInsensitiveString` behave like `String` so the above statement is OK (with and without extending `String`)? What is it about String that makes it OK to just be able to pass it a literal like that? From my understanding there is no &quot;copy constructor&quot; concept in Java?\r\n\r\n\r\n\r\n\r\n","title":"Java Strings: &quot;String s = new String(&quot;silly&quot;);&quot;","body":"<p>I'm a C++ guy learning Java. I'm reading Effective Java and something confused me. It says never to write code like this:</p>\n\n<pre><code>String s = new String(\"silly\");\n</code></pre>\n\n<p>Because it creates unnecessary <code>String</code> objects. But instead it should be written like this:</p>\n\n<pre><code>String s = \"No longer silly\";\n</code></pre>\n\n<p>Ok fine so far...However, given this class:</p>\n\n<pre><code>public final class CaseInsensitiveString {\n    private String s;\n    public CaseInsensitiveString(String s) {\n        if (s == null) {\n            throw new NullPointerException();\n        }\n        this.s = s;\n    }\n    :\n    :\n}\n\nCaseInsensitiveString cis = new CaseInsensitiveString(\"Polish\");\nString s = \"polish\";\n</code></pre>\n\n<ol>\n<li><p>Why is the first statement ok? Shouldn't it be </p>\n\n<p><code>CaseInsensitiveString cis = \"Polish\";</code></p></li>\n<li><p>How do I make <code>CaseInsensitiveString</code> behave like <code>String</code> so the above statement is OK (with and without extending <code>String</code>)? What is it about String that makes it OK to just be able to pass it a literal like that? From my understanding there is no \"copy constructor\" concept in Java?</p></li>\n</ol>\n"},{"tags":["java","pdfbox","pdf-form"],"comments":[{"owner":{"account_id":1226182,"reputation":2705,"user_id":1191670,"accept_rate":40,"display_name":"Ganeshja"},"score":0,"creation_date":1359545270,"post_id":14602821,"comment_id":20387889,"body_markdown":"here in above piece of code &quot;check&quot; is check box field name","body":"here in above piece of code &quot;check&quot; is check box field name"}],"answers":[{"comments":[{"owner":{"account_id":113518,"reputation":2018,"user_id":298941,"display_name":"Maccesch"},"score":0,"creation_date":1448111851,"post_id":14603942,"comment_id":55452017,"body_markdown":"Strangely I had to use ```feld3.setValue(((PDCheckbox) feld3).getOnValue());```","body":"Strangely I had to use <code>feld3.setValue(((PDCheckbox) feld3).getOnValue());</code>"},{"owner":{"account_id":6689339,"reputation":2599,"user_id":5159284,"accept_rate":62,"display_name":"Prabhjot Singh Rai"},"score":0,"creation_date":1494576206,"post_id":14603942,"comment_id":74897362,"body_markdown":"If you are using scala - you will need `field.asInstanceOf[PDCheckBox].check()`","body":"If you are using scala - you will need <code>field.asInstanceOf[PDCheckBox].check()</code>"}],"tags":[],"owner":{"account_id":1226182,"reputation":2705,"user_id":1191670,"accept_rate":40,"display_name":"Ganeshja"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1359548608,"creation_date":1359548608,"answer_id":14603942,"question_id":14602821,"body_markdown":"Finally got it work !!!! \r\nchange made in setValue statment and replaced with  ((PDCheckbox) feld3).check();\r\n\r\n\t\r\n\r\n    public void check() throws Exception \r\n    \t{\r\n    \t\tPDDocument fdeb = null;\r\n    \r\n    \t\tfdeb = PDDocument.load( &quot;C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf&quot; );\r\n    \t\t \r\n             PDAcroForm form = fdeb.getDocumentCatalog().getAcroForm();\r\n             PDField feld3 = form.getField(&quot;loan&quot;);\r\n             ((PDCheckbox) feld3).check();\r\n                    \r\n    \r\n             fdeb.save(&quot;C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf&quot;);\r\n             fdeb.close();\r\n    \r\n    \t}\r\n\t","title":"How to check a check box in PDF-form using Java PDFBOX api","body":"<p>Finally got it work !!!! \nchange made in setValue statment and replaced with  ((PDCheckbox) feld3).check();</p>\n\n<pre><code>public void check() throws Exception \n    {\n        PDDocument fdeb = null;\n\n        fdeb = PDDocument.load( \"C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf\" );\n\n         PDAcroForm form = fdeb.getDocumentCatalog().getAcroForm();\n         PDField feld3 = form.getField(\"loan\");\n         ((PDCheckbox) feld3).check();\n\n\n         fdeb.save(\"C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf\");\n         fdeb.close();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":1226182,"reputation":2705,"user_id":1191670,"accept_rate":40,"display_name":"Ganeshja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11270,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666277478,"creation_date":1359545073,"question_id":14602821,"body_markdown":"How to check a check box in PDF-form using Java PDFBOX api\r\n\r\nInitially I tried with the below piece of code but after the execution check box field is \r\ninvisible in PDF , but it has been checked.. how to avoid such circumstances or they way i have implemented is wrong ?\r\ncan any one help me out\r\n\r\n    public void check() throws Exception \r\n    \t{\r\n    \t\tPDDocument fdeb = null;\r\n    \r\n    \t     fdeb = PDDocument.load( &quot;C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf&quot; );\r\n             PDAcroForm form = fdeb.getDocumentCatalog().getAcroForm();\r\n             PDField feld3 = form.getField( &quot;check&quot; );\r\n             feld3.setValue(&quot;check&quot;);\r\n             fdeb.save(&quot;C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf&quot;);\r\n             fdeb.close();\r\n    \r\n    \t} \r\n\r\nThanks","title":"How to check a check box in PDF-form using Java PDFBOX api","body":"<p>How to check a check box in PDF-form using Java PDFBOX api</p>\n\n<p>Initially I tried with the below piece of code but after the execution check box field is \ninvisible in PDF , but it has been checked.. how to avoid such circumstances or they way i have implemented is wrong ?\ncan any one help me out</p>\n\n<pre><code>public void check() throws Exception \n    {\n        PDDocument fdeb = null;\n\n         fdeb = PDDocument.load( \"C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf\" );\n         PDAcroForm form = fdeb.getDocumentCatalog().getAcroForm();\n         PDField feld3 = form.getField( \"check\" );\n         feld3.setValue(\"check\");\n         fdeb.save(\"C:\\\\Users\\\\34\\\\Desktop\\\\complaintform.pdf\");\n         fdeb.close();\n\n    } \n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1666198343,"post_id":74128420,"comment_id":130880875,"body_markdown":"Edit your question to add the output of `java -version` from each of your computers.","body":"Edit your question to add the output of <code>java -version</code> from each of your computers."},{"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":1,"creation_date":1666198998,"post_id":74128420,"comment_id":130881077,"body_markdown":"If you both are on the same Git commit and have the identical code, then this doesn&#39;t need the git tag anymore. The difference is in the environment.","body":"If you both are on the same Git commit and have the identical code, then this doesn&#39;t need the git tag anymore. The difference is in the environment."}],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666251921,"post_id":74133442,"comment_id":130892927,"body_markdown":"How do you know, that OP uses this plugin?","body":"How do you know, that OP uses this plugin?"},{"owner":{"account_id":25629488,"reputation":49,"user_id":19400075,"display_name":"asdrubalo"},"score":0,"creation_date":1666251934,"post_id":74133442,"comment_id":130892932,"body_markdown":"i tried it, but its not working, i get the same stacktrace, the only difference is that one error message got printed in red instead of white, but the text is the same","body":"i tried it, but its not working, i get the same stacktrace, the only difference is that one error message got printed in red instead of white, but the text is the same"},{"owner":{"account_id":1598760,"reputation":998,"user_id":1480275,"accept_rate":90,"display_name":"jMarcel"},"score":0,"creation_date":1666277176,"post_id":74133442,"comment_id":130902991,"body_markdown":"xerx593, it&#39;s in op&#39;s stack trace.","body":"xerx593, it&#39;s in op&#39;s stack trace."}],"tags":[],"owner":{"account_id":1598760,"reputation":998,"user_id":1480275,"accept_rate":90,"display_name":"jMarcel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666277420,"creation_date":1666228251,"answer_id":74133442,"question_id":74128420,"body_markdown":"It is an [open issue][1], but you can add the following workaround:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOr upgrade the jaxb-runtime dependency:\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.14.0&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n    ...\r\n\r\n  [1]: https://github.com/highsource/maven-jaxb2-plugin/issues/204","title":"I cloned a project from git but i cant run it","body":"<p>It is an <a href=\"https://github.com/highsource/maven-jaxb2-plugin/issues/204\" rel=\"nofollow noreferrer\">open issue</a>, but you can add the following workaround:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or upgrade the jaxb-runtime dependency:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.14.0&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                    &lt;version&gt;2.3.3&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":25629488,"reputation":49,"user_id":19400075,"display_name":"asdrubalo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74133442,"answer_count":1,"score":0,"last_activity_date":1666277420,"creation_date":1666195088,"question_id":74128420,"body_markdown":"Im cloning this project from my friend&#39;s repo, he can run it on his pc but i cant neither run it or build it, evrything looks the same tho\r\n\r\nWe compared our local configs, our properties, the code itself  but nothing\r\n\r\nWe are on the same branch, all files are up to date ecc.. \r\n\r\nWe have no idea of what we should do to fix it\r\n\r\nAny ideas, somehing that we can try?\r\n\r\nthis is the stacktrace:\r\n\r\n    2022-10-19 17:41:13.686 ERROR 7568 --- [  restartedMain] c.s.x.b.v2.runtime.reflect.opt.Injector  : null\r\n    \r\n    java.security.PrivilegedActionException: null\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:573) ~[na:na]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:197) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:81) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:125) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.Accessor$GetterSetterReflection.optimize(Accessor.java:402) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:92) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:181) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:331) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165) ~[jaxb-impl-2.3.0.1.jar:2.3.3]\r\n    \tat com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35) ~[jaxb-runtime-2.3.3.jar:2.3.3]\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:404) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n    \tat org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.&lt;init&gt;(AbstractJaxbMessageConverter.java:59) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.http.converter.jaxb.JaxbOAuth2ExceptionMessageConverter.&lt;init&gt;(JaxbOAuth2ExceptionMessageConverter.java:21) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.geDefaultMessageConverters(DefaultOAuth2ExceptionRenderer.java:117) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.&lt;init&gt;(DefaultOAuth2ExceptionRenderer.java:53) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.AbstractOAuth2SecurityExceptionHandler.&lt;init&gt;(AbstractOAuth2SecurityExceptionHandler.java:42) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler.&lt;init&gt;(OAuth2AccessDeniedHandler.java:32) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer.&lt;init&gt;(AuthorizationServerSecurityConfigurer.java:60) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:74) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$658ec23d.init(&lt;generated&gt;) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat it.wa.extapi.BootStarter.main(BootStarter.java:52) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    Caused by: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\n    \tat java.base/java.lang.Class.getMethod(Class.java:2227) ~[na:na]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:201) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:197) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\r\n    \t... 70 common frames omitted\r\n    \r\n    2022-10-19 17:41:13.690  WARN 7568 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\n    2022-10-19 17:41:13.690  INFO 7568 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-10-19 17:41:14.539  INFO 7568 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-10-19 17:41:14.552  INFO 7568 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-10-19 17:41:14.555  INFO 7568 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-10-19 17:41:14.558  INFO 7568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-10-19 17:41:14.561  INFO 7568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2022-10-19 17:41:14.564  INFO 7568 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-10-19 17:41:14.583  INFO 7568 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-10-19 17:41:14.591 ERROR 7568 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat it.wa.extapi.BootStarter.main(BootStarter.java:52) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:311) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:97) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:87) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:125) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.Accessor$GetterSetterReflection.optimize(Accessor.java:402) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:92) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:181) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:331) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165) ~[jaxb-impl-2.3.0.1.jar:2.3.3]\r\n    \tat com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35) ~[jaxb-runtime-2.3.3.jar:2.3.3]\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:404) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n    \tat org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.&lt;init&gt;(AbstractJaxbMessageConverter.java:59) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.http.converter.jaxb.JaxbOAuth2ExceptionMessageConverter.&lt;init&gt;(JaxbOAuth2ExceptionMessageConverter.java:21) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.geDefaultMessageConverters(DefaultOAuth2ExceptionRenderer.java:117) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.&lt;init&gt;(DefaultOAuth2ExceptionRenderer.java:53) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.AbstractOAuth2SecurityExceptionHandler.&lt;init&gt;(AbstractOAuth2SecurityExceptionHandler.java:42) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler.&lt;init&gt;(OAuth2AccessDeniedHandler.java:32) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer.&lt;init&gt;(AuthorizationServerSecurityConfigurer.java:60) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:74) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$658ec23d.init(&lt;generated&gt;) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \t... 28 common frames omitted\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nWe both have on our pcs various versions of java (8 , 11 , 17), but the project is java in 8\r\n\r\nOn my sts i went to `window --&gt; preferences --&gt; compiler ` and i changed jdk compliance from java 17 to java 8 \r\n\r\nbut using `System.out.println(System.getProperty(&quot;java.version&quot;).split(&quot;\\\\.&quot;)[0]);`\r\nit prints `17`\r\n\r\nWhat else should i change on sts?","title":"I cloned a project from git but i cant run it","body":"<p>Im cloning this project from my friend's repo, he can run it on his pc but i cant neither run it or build it, evrything looks the same tho</p>\n<p>We compared our local configs, our properties, the code itself  but nothing</p>\n<p>We are on the same branch, all files are up to date ecc..</p>\n<p>We have no idea of what we should do to fix it</p>\n<p>Any ideas, somehing that we can try?</p>\n<p>this is the stacktrace:</p>\n<pre><code>2022-10-19 17:41:13.686 ERROR 7568 --- [  restartedMain] c.s.x.b.v2.runtime.reflect.opt.Injector  : null\n\njava.security.PrivilegedActionException: null\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:573) ~[na:na]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:197) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:81) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:125) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.Accessor$GetterSetterReflection.optimize(Accessor.java:402) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:92) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:181) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:331) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165) ~[jaxb-impl-2.3.0.1.jar:2.3.3]\n    at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35) ~[jaxb-runtime-2.3.3.jar:2.3.3]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:404) ~[jaxb-api-2.3.1.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.1.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.1.jar:2.3.0]\n    at org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.&lt;init&gt;(AbstractJaxbMessageConverter.java:59) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.http.converter.jaxb.JaxbOAuth2ExceptionMessageConverter.&lt;init&gt;(JaxbOAuth2ExceptionMessageConverter.java:21) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.geDefaultMessageConverters(DefaultOAuth2ExceptionRenderer.java:117) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.&lt;init&gt;(DefaultOAuth2ExceptionRenderer.java:53) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.AbstractOAuth2SecurityExceptionHandler.&lt;init&gt;(AbstractOAuth2SecurityExceptionHandler.java:42) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler.&lt;init&gt;(OAuth2AccessDeniedHandler.java:32) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer.&lt;init&gt;(AuthorizationServerSecurityConfigurer.java:60) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:74) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$658ec23d.init(&lt;generated&gt;) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at it.wa.extapi.BootStarter.main(BootStarter.java:52) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\nCaused by: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\n    at java.base/java.lang.Class.getMethod(Class.java:2227) ~[na:na]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:201) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:197) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\n    ... 70 common frames omitted\n\n2022-10-19 17:41:13.690  WARN 7568 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\n2022-10-19 17:41:13.690  INFO 7568 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-10-19 17:41:14.539  INFO 7568 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-10-19 17:41:14.552  INFO 7568 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-10-19 17:41:14.555  INFO 7568 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2022-10-19 17:41:14.558  INFO 7568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-10-19 17:41:14.561  INFO 7568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2022-10-19 17:41:14.564  INFO 7568 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-10-19 17:41:14.583  INFO 7568 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-19 17:41:14.591 ERROR 7568 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at it.wa.extapi.BootStarter.main(BootStarter.java:52) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 27 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\n    at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:311) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:97) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:87) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:125) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.reflect.Accessor$GetterSetterReflection.optimize(Accessor.java:402) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:92) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:128) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:181) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:514) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:331) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:139) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1156) ~[jaxb-impl-2.3.0.1.jar:2.3.0.1]\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:165) ~[jaxb-impl-2.3.0.1.jar:2.3.3]\n    at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35) ~[jaxb-runtime-2.3.3.jar:2.3.3]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:404) ~[jaxb-api-2.3.1.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.1.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.1.jar:2.3.0]\n    at org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.&lt;init&gt;(AbstractJaxbMessageConverter.java:59) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.http.converter.jaxb.JaxbOAuth2ExceptionMessageConverter.&lt;init&gt;(JaxbOAuth2ExceptionMessageConverter.java:21) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.geDefaultMessageConverters(DefaultOAuth2ExceptionRenderer.java:117) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.&lt;init&gt;(DefaultOAuth2ExceptionRenderer.java:53) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.AbstractOAuth2SecurityExceptionHandler.&lt;init&gt;(AbstractOAuth2SecurityExceptionHandler.java:42) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler.&lt;init&gt;(OAuth2AccessDeniedHandler.java:32) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer.&lt;init&gt;(AuthorizationServerSecurityConfigurer.java:60) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:74) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$658ec23d.init(&lt;generated&gt;) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 28 common frames omitted\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>We both have on our pcs various versions of java (8 , 11 , 17), but the project is java in 8</p>\n<p>On my sts i went to <code>window --&gt; preferences --&gt; compiler </code> and i changed jdk compliance from java 17 to java 8</p>\n<p>but using <code>System.out.println(System.getProperty(&quot;java.version&quot;).split(&quot;\\\\.&quot;)[0]);</code>\nit prints <code>17</code></p>\n<p>What else should i change on sts?</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666277134,"creation_date":1666277134,"answer_id":74141839,"question_id":74123247,"body_markdown":"My solution now is pretty straight-forward and simple as it (might) could be.\r\n\r\nI think the missing bit for me was `jsonParser.getCodec()` to delegate the &quot;known unknown&quot; types.\r\nAlso a benefit of a deserializer in my case is, that I can filter Jackson-mappable types upfront and only allow the simple types I want to support.\r\n\r\n```\r\nprivate static class ParameterDeserializer extends JsonObjectDeserializer&lt;Object&gt; {\r\n\r\n\t@Override\r\n\tprotected Object deserializeObject(JsonParser jsonParser, DeserializationContext context, ObjectCodec codec, JsonNode tree) throws IOException {\r\n\r\n\r\n\t\tif (tree.isValueNode()) {\r\n\t\t\tif (tree.isTextual()) {\r\n\t\t\t\treturn tree.asText();\r\n\t\t\t}\r\n\t\t\tif (tree.isFloatingPointNumber()) {\r\n\t\t\t\treturn tree.asDouble();\r\n\t\t\t}\r\n\t\t\tif (tree.isBoolean()) {\r\n\t\t\t\treturn tree.asBoolean();\r\n\t\t\t}\r\n\t\t\tif (tree.isInt()) {\r\n\t\t\t\treturn tree.asInt();\r\n\t\t\t}\r\n\t\t\tif (tree.isNumber()) {\r\n\t\t\t\treturn tree.asLong();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (tree.isContainerNode()) {\r\n\t\t\tif (tree.getNodeType().equals(JsonNodeType.ARRAY)) {\r\n\t\t\t\treturn jsonParser.getCodec().treeToValue(tree, List.class);\r\n\t\t\t}\r\n\t\t\tif (tree.getNodeType().equals(JsonNodeType.OBJECT)) {\r\n\t\t\t\tJsonNode customType = tree.get(&quot;type&quot;);\r\n\t\t\t\tif (customType != null) {\r\n\t\t\t\t\t// do custom conversion\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn jsonParser.getCodec().treeToValue(tree, Map.class);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new IllegalArgumentException(&quot;Cannot parse %s as a valid parameter type&quot;.formatted(tree));\r\n\r\n\t}\r\n}\r\n```","title":"Deserialize custom types without concrete JavaType definition with Jackson","body":"<p>My solution now is pretty straight-forward and simple as it (might) could be.</p>\n<p>I think the missing bit for me was <code>jsonParser.getCodec()</code> to delegate the &quot;known unknown&quot; types.\nAlso a benefit of a deserializer in my case is, that I can filter Jackson-mappable types upfront and only allow the simple types I want to support.</p>\n<pre><code>private static class ParameterDeserializer extends JsonObjectDeserializer&lt;Object&gt; {\n\n    @Override\n    protected Object deserializeObject(JsonParser jsonParser, DeserializationContext context, ObjectCodec codec, JsonNode tree) throws IOException {\n\n\n        if (tree.isValueNode()) {\n            if (tree.isTextual()) {\n                return tree.asText();\n            }\n            if (tree.isFloatingPointNumber()) {\n                return tree.asDouble();\n            }\n            if (tree.isBoolean()) {\n                return tree.asBoolean();\n            }\n            if (tree.isInt()) {\n                return tree.asInt();\n            }\n            if (tree.isNumber()) {\n                return tree.asLong();\n            }\n        }\n        if (tree.isContainerNode()) {\n            if (tree.getNodeType().equals(JsonNodeType.ARRAY)) {\n                return jsonParser.getCodec().treeToValue(tree, List.class);\n            }\n            if (tree.getNodeType().equals(JsonNodeType.OBJECT)) {\n                JsonNode customType = tree.get(&quot;type&quot;);\n                if (customType != null) {\n                    // do custom conversion\n                }\n\n                return jsonParser.getCodec().treeToValue(tree, Map.class);\n            }\n        }\n        throw new IllegalArgumentException(&quot;Cannot parse %s as a valid parameter type&quot;.formatted(tree));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666277134,"creation_date":1666172820,"question_id":74123247,"body_markdown":"I am asking myself if (and how) it would be possible to convert specific pre-defined types with Jackson.\r\n\r\nGiven an example structure like:\r\n```json\r\n{\r\n  &quot;dataValues&quot;: {&quot;x&quot;: &lt;anything&gt;[, ...]}\r\n}\r\n```\r\nBasically it&#39;s a map that can have _anything_ as\r\n- simple type values (like String, int...)\r\n- another map like _anything_\r\n- list of _anything_\r\n- a custom type (! here comes the problem)\r\n\r\nAs you can already see, there are a few options and at runtime unknown cascades/wraps.\r\nThe only thing I know for sure is `Map&lt;String, Object&gt; dataValues`.\r\n\r\nInspired by the idea around the type info (first solution approach), my rough idea is to have the custom type defined as:\r\n```json\r\n{&quot;type&quot;: &quot;MyCustomType&quot;, &quot;a&quot;:&quot;Value1&quot;, &quot;b&quot;:&quot;Value2&quot;}\r\n```\r\n\r\nI already tried to work my way into this using `@JsonTypeInfo` (and subtypes, also `activateDefaultTypeMapping...`) but it seems that they only work in combination with type definition in the object model.\r\n\r\nNext on my way through the possible solutions, I accepted the truth and created a deserializer for `Object` because that&#39;s the only type, I am pretty sure about ;)\r\nWhat I was missing then was an option to defer parsing for &quot;not my type&quot; back to the mapper.\r\nOtherwise I would have to write Jackson&#39;s mapping for simple types, list, maps... again but bad.\r\nYes, I could create another mapper in there but it wouldn&#39;t know the configuration of the &quot;original&quot; mapper.\r\n\r\nThe only way, I got this working somehow was to define the target map like this:\r\n```java\r\npublic class DataValues {\r\n  @JsonCreator\r\n  public DataValues(Map&lt;String, Object&gt; targetMap) {\r\n\tthis.targetMap = targetMap.entrySet().stream().collect(Collectors.toMap(\r\n\t\t\tMap.Entry::getKey,\r\n\t\t\tmap -&gt; {\r\n\t\t\t\tObject newValue = map.getValue();\r\n\t\t\t\tnewValue = optionalConversion(newValue);\r\n\t\t\t\treturn newValue;\r\n\t\t\t}));\r\n  }\r\n}\r\n```\r\nand decide on the provided map if I want to convert it or if it&#39;s a nested map with plain values (or a list, or another map).\r\nI think we can agree that this approach is not the optimal solution, to describe it positively.\r\n\r\nMy current mood is that maybe I am just missing a bit on the `JsonTypeInfo` or there is a way to delegate the mapping in an `Object` based deserializer that I haven&#39;t found yet.\r\nOr an (to me) unknown third option that is so simple that I never thought about it.\r\n","title":"Deserialize custom types without concrete JavaType definition with Jackson","body":"<p>I am asking myself if (and how) it would be possible to convert specific pre-defined types with Jackson.</p>\n<p>Given an example structure like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;dataValues&quot;: {&quot;x&quot;: &lt;anything&gt;[, ...]}\n}\n</code></pre>\n<p>Basically it's a map that can have <em>anything</em> as</p>\n<ul>\n<li>simple type values (like String, int...)</li>\n<li>another map like <em>anything</em></li>\n<li>list of <em>anything</em></li>\n<li>a custom type (! here comes the problem)</li>\n</ul>\n<p>As you can already see, there are a few options and at runtime unknown cascades/wraps.\nThe only thing I know for sure is <code>Map&lt;String, Object&gt; dataValues</code>.</p>\n<p>Inspired by the idea around the type info (first solution approach), my rough idea is to have the custom type defined as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;type&quot;: &quot;MyCustomType&quot;, &quot;a&quot;:&quot;Value1&quot;, &quot;b&quot;:&quot;Value2&quot;}\n</code></pre>\n<p>I already tried to work my way into this using <code>@JsonTypeInfo</code> (and subtypes, also <code>activateDefaultTypeMapping...</code>) but it seems that they only work in combination with type definition in the object model.</p>\n<p>Next on my way through the possible solutions, I accepted the truth and created a deserializer for <code>Object</code> because that's the only type, I am pretty sure about ;)\nWhat I was missing then was an option to defer parsing for &quot;not my type&quot; back to the mapper.\nOtherwise I would have to write Jackson's mapping for simple types, list, maps... again but bad.\nYes, I could create another mapper in there but it wouldn't know the configuration of the &quot;original&quot; mapper.</p>\n<p>The only way, I got this working somehow was to define the target map like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataValues {\n  @JsonCreator\n  public DataValues(Map&lt;String, Object&gt; targetMap) {\n    this.targetMap = targetMap.entrySet().stream().collect(Collectors.toMap(\n            Map.Entry::getKey,\n            map -&gt; {\n                Object newValue = map.getValue();\n                newValue = optionalConversion(newValue);\n                return newValue;\n            }));\n  }\n}\n</code></pre>\n<p>and decide on the provided map if I want to convert it or if it's a nested map with plain values (or a list, or another map).\nI think we can agree that this approach is not the optimal solution, to describe it positively.</p>\n<p>My current mood is that maybe I am just missing a bit on the <code>JsonTypeInfo</code> or there is a way to delegate the mapping in an <code>Object</code> based deserializer that I haven't found yet.\nOr an (to me) unknown third option that is so simple that I never thought about it.</p>\n"},{"tags":["java","jackson","deserialization"],"comments":[{"owner":{"account_id":6745176,"reputation":2134,"user_id":5197004,"accept_rate":86,"display_name":"Benjamin Sch&#252;ller"},"score":0,"creation_date":1616676798,"post_id":66799618,"comment_id":118081137,"body_markdown":"Did you try setting defaultImpl on JsonTypeInfo.","body":"Did you try setting defaultImpl on JsonTypeInfo."},{"owner":{"account_id":1295761,"reputation":11029,"user_id":1246870,"accept_rate":59,"display_name":"avs099"},"score":0,"creation_date":1616677257,"post_id":66799618,"comment_id":118081373,"body_markdown":"that won&#39;t work for me in general (because I obviously don&#39;t have dogs and cats but more elaborated structure). I have 3 classes which I use either directly on a field, or via a common interface...  But thank you for prompt reply.","body":"that won&#39;t work for me in general (because I obviously don&#39;t have dogs and cats but more elaborated structure). I have 3 classes which I use either directly on a field, or via a common interface...  But thank you for prompt reply."},{"owner":{"account_id":6745176,"reputation":2134,"user_id":5197004,"accept_rate":86,"display_name":"Benjamin Sch&#252;ller"},"score":0,"creation_date":1616679104,"post_id":66799618,"comment_id":118082356,"body_markdown":"Dog inherits the JsonTypeInfo from Animal. So it must be set. Maybe you can override the Annotation with defaultImpl in Dog","body":"Dog inherits the JsonTypeInfo from Animal. So it must be set. Maybe you can override the Annotation with defaultImpl in Dog"},{"owner":{"account_id":4302314,"reputation":118,"user_id":3515745,"display_name":"MaX"},"score":0,"creation_date":1629109913,"post_id":66799618,"comment_id":121591345,"body_markdown":"Same problem for me, did you find any fix?","body":"Same problem for me, did you find any fix?"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656420656,"post_id":66799618,"comment_id":128563742,"body_markdown":"I&#39;m having the same issue. Any luck on what annotation was missing?","body":"I&#39;m having the same issue. Any luck on what annotation was missing?"}],"owner":{"account_id":1295761,"reputation":11029,"user_id":1246870,"accept_rate":59,"display_name":"avs099"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1666276860,"creation_date":1616675729,"question_id":66799618,"body_markdown":"I have the following object structure:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;@type&quot;)\r\n    @JsonSubTypes({ @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;) })\r\n    interface Animal {\r\n        String name = null;\r\n    }    \r\n    \r\n    @JsonTypeName(&quot;dog&quot;)\r\n    class Dog implements Animal {\r\n        public double barkVolume;\r\n        public String name;\r\n    }\r\n    \r\n    class Zoo {\r\n        public Animal animal;\r\n        public Dog thisIsDog;\r\n    }\r\n\r\nand I want to deserialize the following JSON file into `Zoo` class:\r\n\r\n    {\r\n    \t&quot;animal&quot;: {\r\n    \t\t&quot;@type&quot;: &quot;dog&quot;,\r\n    \t\t&quot;barkVolume&quot;: 12.0,\r\n    \t\t&quot;name&quot;: &quot;my dog;&quot;\r\n    \t},\r\n    \t&quot;thisIsDog&quot;: {\r\n    \t\t&quot;barkVolume&quot;: 12.0,\r\n    \t\t&quot;name&quot;: &quot;my dog;&quot;\r\n    \t}\r\n    }\r\n\r\nas follows:\r\n\r\n```\r\nZoo newObject = new ObjectMapper().readValue(jsonString, Zoo.class);\r\n```\r\n\r\nbut I get this error:\r\n\r\n    Missing type id when trying to resolve subtype of [simple type, class com.test.Dog]: \r\n    missing type id property &#39;@type&#39; (for POJO property &#39;thisIsDog&#39;)\r\n\r\nand if I add `&quot;@type&quot;: &quot;dog&quot;,` to `thisIsDog` node of course everything work... but I don&#39;t want to. I believe Jackson should have the info about the type because it&#39;s explicitly defined in `Zoo` class, no?\r\n\r\nI feel I&#39;m missing an attribute of some sort.. but can&#39;t figure out which one. Any help would be appreciated.\r\n\r\n","title":"Jackson Object Mapper - &quot;Missing type id &quot; on concrete class deserialization without explicit type info property","body":"<p>I have the following object structure:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;@type&quot;)\n@JsonSubTypes({ @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;) })\ninterface Animal {\n    String name = null;\n}    \n\n@JsonTypeName(&quot;dog&quot;)\nclass Dog implements Animal {\n    public double barkVolume;\n    public String name;\n}\n\nclass Zoo {\n    public Animal animal;\n    public Dog thisIsDog;\n}\n</code></pre>\n<p>and I want to deserialize the following JSON file into <code>Zoo</code> class:</p>\n<pre><code>{\n    &quot;animal&quot;: {\n        &quot;@type&quot;: &quot;dog&quot;,\n        &quot;barkVolume&quot;: 12.0,\n        &quot;name&quot;: &quot;my dog;&quot;\n    },\n    &quot;thisIsDog&quot;: {\n        &quot;barkVolume&quot;: 12.0,\n        &quot;name&quot;: &quot;my dog;&quot;\n    }\n}\n</code></pre>\n<p>as follows:</p>\n<pre><code>Zoo newObject = new ObjectMapper().readValue(jsonString, Zoo.class);\n</code></pre>\n<p>but I get this error:</p>\n<pre><code>Missing type id when trying to resolve subtype of [simple type, class com.test.Dog]: \nmissing type id property '@type' (for POJO property 'thisIsDog')\n</code></pre>\n<p>and if I add <code>&quot;@type&quot;: &quot;dog&quot;,</code> to <code>thisIsDog</code> node of course everything work... but I don't want to. I believe Jackson should have the info about the type because it's explicitly defined in <code>Zoo</code> class, no?</p>\n<p>I feel I'm missing an attribute of some sort.. but can't figure out which one. Any help would be appreciated.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1666194287,"post_id":74126685,"comment_id":130879476,"body_markdown":"Apache common&#39;s code fro `getRootCause` is incredibly inefficient, making a bevy of reflective lookups and `O(n^2)` behaviour (n = length of causal chain). If the aim is to avoid your server getting bogged down, it&#39;s not much of an improvement.","body":"Apache common&#39;s code fro <code>getRootCause</code> is incredibly inefficient, making a bevy of reflective lookups and <code>O(n^2)</code> behaviour (n = length of causal chain). If the aim is to avoid your server getting bogged down, it&#39;s not much of an improvement."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1666194358,"post_id":74126685,"comment_id":130879502,"body_markdown":"You&#39;re trying to solve the problem of &#39;chaos code&#39; - code _intentionally written to mess with you_. And you failed. You can&#39;t protect against that by writing code that tries to work around intentionally malicious things. You protect against it by never running it in the first place. Thus, this is security theatre: Not actually secure but creates the wrong impression. To prove this to you, you go write your &#39;contains self&#39; code, and then I Write: `public Throwable getCause() { while (true) ; } `. Check. Mate.","body":"You&#39;re trying to solve the problem of &#39;chaos code&#39; - code <i>intentionally written to mess with you</i>. And you failed. You can&#39;t protect against that by writing code that tries to work around intentionally malicious things. You protect against it by never running it in the first place. Thus, this is security theatre: Not actually secure but creates the wrong impression. To prove this to you, you go write your &#39;contains self&#39; code, and then I Write: <code>public Throwable getCause() { while (true) ; } </code>. Check. Mate."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1666194398,"post_id":74126685,"comment_id":130879512,"body_markdown":"The real question is: Should one deal with circular/self-referential causal chains, and the answer is pretty clearly: __No__. Other than intentional maliciousness, loops in causal chains do not occur. Therefore, OP&#39;s code is fine.","body":"The real question is: Should one deal with circular/self-referential causal chains, and the answer is pretty clearly: <b>No</b>. Other than intentional maliciousness, loops in causal chains do not occur. Therefore, OP&#39;s code is fine."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1666274703,"post_id":74126685,"comment_id":130901869,"body_markdown":"@rzwitserloot, thx for your comment. I researched on why `ExceptionUtils.getRootCause` handled cyclic chain but it seems it is because of it is using `ExceptionUtils.getCause` in that moment, which try to get cause by introspect different method. And now it is rectified to use `Throwable.getCause`. Hence cycle should not happen or it is `chaos code` as you mentioned.","body":"@rzwitserloot, thx for your comment. I researched on why <code>ExceptionUtils.getRootCause</code> handled cyclic chain but it seems it is because of it is using <code>ExceptionUtils.getCause</code> in that moment, which try to get cause by introspect different method. And now it is rectified to use <code>Throwable.getCause</code>. Hence cycle should not happen or it is <code>chaos code</code> as you mentioned."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666386365,"post_id":74126685,"comment_id":130933338,"body_markdown":"Also, the apache libraries contain rather a lot of highly dubious practices. I wouldn&#39;t intuit &quot;Oh, the apache libraries do it&quot; into &quot;therefore that must be a good idea&quot;. I also wouldn&#39;t intuit that apache doing it means it&#39;s necessarily a _bad_ idea either.","body":"Also, the apache libraries contain rather a lot of highly dubious practices. I wouldn&#39;t intuit &quot;Oh, the apache libraries do it&quot; into &quot;therefore that must be a good idea&quot;. I also wouldn&#39;t intuit that apache doing it means it&#39;s necessarily a <i>bad</i> idea either."}],"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":5,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1666276546,"creation_date":1666187885,"answer_id":74126685,"question_id":74126344,"body_markdown":"Of course it is possible, you can&#39;t prevent someone write something like:\r\n```\r\npublic class ExceptionWithCauseAsItself extends ExecutionException {\r\n    @Override\r\n    public Throwable getCause() {\r\n        return this;\r\n    }\r\n}\r\n```\r\n&lt;del&gt;Following the principle of Defensive Programming, the method should not fall into infinite loop even when someone throw something like `ExceptionWithCauseAsItself`.&lt;/del&gt;\r\n\r\n&lt;del&gt;Since your case is not only getting the root cause, probably there is no library to fit what you use. I suggest refer to [Apache Common Langs `ExceptionUtils.getRootCause`][1] to get some idea on how to tackle recursive cause structures.&lt;/del&gt;\r\n\r\nBut as suggested by [rzwitserloot][2], it is just impossible to defence when someone just want to messy you up.\r\n\r\nSo why does [`ExceptionUtils.getRootCause`][1] mention below?\r\n&gt;this method handles recursive cause structures\r\nthat might otherwise cause infinite loops\r\n\r\nBrowsing the [history][3], `getThrowableList` implementation is using [`ExceptionUtils.getCause`][4], which tried to get cause by introspect different method, and hence it may cause cyclic cause chain.\r\n\r\nThis behaviour is already rectified in [this commit][5] by calling `Throwable#getCause` instead. So cyclic cause chain should not happen in general.\r\n\r\nMore reference related to this topic:  \r\nhttps://stackoverflow.com/questions/1859340/why-is-exception-getcause-exception.  \r\nhttps://stackoverflow.com/questions/17747175/how-can-i-loop-through-exception-getcause-to-find-root-cause-with-detail-messa  \r\nhttps://stackoverflow.com/questions/7585345/cycles-in-chained-exceptions\r\n\r\n  [1]: https://github.com/apache/commons-lang/blob/5292526e476ffbb19c6613a98464054236c86ace/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L179\r\n  [2]: https://stackoverflow.com/a/74128409/7928721\r\n  [3]: https://github.com/apache/commons-lang/commit/a9f5a6b1886992b35795fe5a3388bcaa53a1df5a#diff-da454d118a528080c8b0040170d8b6d71cc78dd19be317b0cf721f20b84f5671L522\r\n  [4]: https://github.com/apache/commons-lang/blob/1571050a196198f336ae487ee3b6df629d3ee9da/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L141\r\n  [5]: https://github.com/apache/commons-lang/commit/7aad59482002d0b4bc3546259d33eab20ce76b9e","title":"Can this code cause an infinite loop while searching for the lowest level cause of an exception?","body":"<p>Of course it is possible, you can't prevent someone write something like:</p>\n<pre><code>public class ExceptionWithCauseAsItself extends ExecutionException {\n    @Override\n    public Throwable getCause() {\n        return this;\n    }\n}\n</code></pre>\n<p><del>Following the principle of Defensive Programming, the method should not fall into infinite loop even when someone throw something like <code>ExceptionWithCauseAsItself</code>.</del></p>\n<p><del>Since your case is not only getting the root cause, probably there is no library to fit what you use. I suggest refer to <a href=\"https://github.com/apache/commons-lang/blob/5292526e476ffbb19c6613a98464054236c86ace/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L179\" rel=\"nofollow noreferrer\">Apache Common Langs <code>ExceptionUtils.getRootCause</code></a> to get some idea on how to tackle recursive cause structures.</del></p>\n<p>But as suggested by <a href=\"https://stackoverflow.com/a/74128409/7928721\">rzwitserloot</a>, it is just impossible to defence when someone just want to messy you up.</p>\n<p>So why does <a href=\"https://github.com/apache/commons-lang/blob/5292526e476ffbb19c6613a98464054236c86ace/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L179\" rel=\"nofollow noreferrer\"><code>ExceptionUtils.getRootCause</code></a> mention below?</p>\n<blockquote>\n<p>this method handles recursive cause structures\nthat might otherwise cause infinite loops</p>\n</blockquote>\n<p>Browsing the <a href=\"https://github.com/apache/commons-lang/commit/a9f5a6b1886992b35795fe5a3388bcaa53a1df5a#diff-da454d118a528080c8b0040170d8b6d71cc78dd19be317b0cf721f20b84f5671L522\" rel=\"nofollow noreferrer\">history</a>, <code>getThrowableList</code> implementation is using <a href=\"https://github.com/apache/commons-lang/blob/1571050a196198f336ae487ee3b6df629d3ee9da/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L141\" rel=\"nofollow noreferrer\"><code>ExceptionUtils.getCause</code></a>, which tried to get cause by introspect different method, and hence it may cause cyclic cause chain.</p>\n<p>This behaviour is already rectified in <a href=\"https://github.com/apache/commons-lang/commit/7aad59482002d0b4bc3546259d33eab20ce76b9e\" rel=\"nofollow noreferrer\">this commit</a> by calling <code>Throwable#getCause</code> instead. So cyclic cause chain should not happen in general.</p>\n<p>More reference related to this topic:<br />\n<a href=\"https://stackoverflow.com/questions/1859340/why-is-exception-getcause-exception\">Why is exception.getCause() == exception?</a>.<br />\n<a href=\"https://stackoverflow.com/questions/17747175/how-can-i-loop-through-exception-getcause-to-find-root-cause-with-detail-messa\">How can I loop through Exception getCause() to find root cause with detail message</a><br />\n<a href=\"https://stackoverflow.com/questions/7585345/cycles-in-chained-exceptions\">Cycles in chained exceptions</a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666187951,"creation_date":1666187951,"answer_id":74126697,"question_id":74126344,"body_markdown":"The loop is following the exception hierarchy down to the root cause.\r\nIf that one points back to one of the already visited exceptions there is a bigger fail in the causality. Therefore I&#39;d say it will never go into an infinite loop.","title":"Can this code cause an infinite loop while searching for the lowest level cause of an exception?","body":"<p>The loop is following the exception hierarchy down to the root cause.\nIf that one points back to one of the already visited exceptions there is a bigger fail in the causality. Therefore I'd say it will never go into an infinite loop.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1666195015,"creation_date":1666195015,"answer_id":74128409,"question_id":74126344,"body_markdown":"&gt; Is this code dangerous in a sense that the while loop may never end? Just wondering if someone can cause this to go on forever.\r\n\r\nIn short: Theoretically? Yes. But practically? No. Your code is fine as is.\r\n\r\nIn long:\r\n\r\n## Theoretically, yes\r\n\r\nSure, one can create a loop in the causal chain just fine. `GetCause()` is just a method, and not a final one at that; exceptions are just classes, so one can make their own exception and write `public Throwable getCause() { return this; }`.\r\n\r\n## Practically, no\r\n\r\n... but just because someone _could_ do that, doesn&#39;t mean you should deal with it. Because why do you want to deal with that? Perhaps you&#39;re thinking: Well, if some programmer is intentionally trying to blow up the system, I&#39;d want to be robust and not blow up even when they try.\r\n\r\nBut therein lies a problem: If someone _wants_ to blow up a system, they can. It&#39;s nearly trivial to do so. Imagine this:\r\n\r\n```\r\npublic class HahaHackingIsSoEasy extends RuntimeException {\r\n  @Override public Throwable getCause() {\r\n    while (true) ;\r\n  }\r\n}\r\n```\r\n\r\nAnd I throw that. Your code will hang just the same, and if you attempt to detect loops, that&#39;s not going to solve the problem. And if you try to stop me from doing this, too, by firing up a separate thread with a timeout and then using `Thread.stop()` (deprecated, and dangerous) to stop me, I&#39;ll just write a loop without a savepoint in which case neither stop() nor using JVMTI to hook in as a debugger and stop that way is going to work.\r\n\r\nThe conclusion is: There are only 2 reliable ways to stop intentionally malicious code:\r\n\r\n* The best, by far: Don&#39;t run the malicious code in the first place.\r\n* The distant second best option: Run it in a highly controlled sandbox environment.\r\n\r\nThe JVM is un-sandboxable from inside itself (no, the SecurityManager isn&#39;t good enough. It has absolutely no way to stop (savepoint-less) infinite loops, for example), so this at the very least involves firing up an entirely separate JVM just to do the job you want to do, so that you can set timeouts and memory limits on it, and possibly an entire new virtual machine. It&#39;ll take thousands of times the resources, and is extremely complicated; I rather doubt that&#39;s what you intended to do here.\r\n\r\n## But what about unintentional loops?\r\n\r\nThe one question that remains is, given that we already wrote off malicious code (not &#39;we can deal with it&#39;, but rather &#39;if its intentionally malicious you cannot stop them with a loop detector&#39;), what if it&#39;s an accident?\r\n\r\nGenerally, the best way to deal with accidents is to not deal with them at all, not in code: Let them happen; that&#39;s why you have operations teams and server maintainers and the like (you&#39;re going to have to have those, no matter what happens. Might as well use them). Once it happens, you figure it out, and you fix it.\r\n\r\nThat leaves just one final corner case which is: What if loops in causal chains have a plausible, desired usecase?\r\n\r\nAnd that&#39;s a fair question. Fortunately, the answer is a simple: No, there is no plausible/desired usecase. Loops in causal chains do not happen unless there is a bug (in which case, the answer is: Find it, fix it), or there is malicious case (in which case, the answer is: Do not run it and call your security team).\r\n","title":"Can this code cause an infinite loop while searching for the lowest level cause of an exception?","body":"<blockquote>\n<p>Is this code dangerous in a sense that the while loop may never end? Just wondering if someone can cause this to go on forever.</p>\n</blockquote>\n<p>In short: Theoretically? Yes. But practically? No. Your code is fine as is.</p>\n<p>In long:</p>\n<h2>Theoretically, yes</h2>\n<p>Sure, one can create a loop in the causal chain just fine. <code>GetCause()</code> is just a method, and not a final one at that; exceptions are just classes, so one can make their own exception and write <code>public Throwable getCause() { return this; }</code>.</p>\n<h2>Practically, no</h2>\n<p>... but just because someone <em>could</em> do that, doesn't mean you should deal with it. Because why do you want to deal with that? Perhaps you're thinking: Well, if some programmer is intentionally trying to blow up the system, I'd want to be robust and not blow up even when they try.</p>\n<p>But therein lies a problem: If someone <em>wants</em> to blow up a system, they can. It's nearly trivial to do so. Imagine this:</p>\n<pre><code>public class HahaHackingIsSoEasy extends RuntimeException {\n  @Override public Throwable getCause() {\n    while (true) ;\n  }\n}\n</code></pre>\n<p>And I throw that. Your code will hang just the same, and if you attempt to detect loops, that's not going to solve the problem. And if you try to stop me from doing this, too, by firing up a separate thread with a timeout and then using <code>Thread.stop()</code> (deprecated, and dangerous) to stop me, I'll just write a loop without a savepoint in which case neither stop() nor using JVMTI to hook in as a debugger and stop that way is going to work.</p>\n<p>The conclusion is: There are only 2 reliable ways to stop intentionally malicious code:</p>\n<ul>\n<li>The best, by far: Don't run the malicious code in the first place.</li>\n<li>The distant second best option: Run it in a highly controlled sandbox environment.</li>\n</ul>\n<p>The JVM is un-sandboxable from inside itself (no, the SecurityManager isn't good enough. It has absolutely no way to stop (savepoint-less) infinite loops, for example), so this at the very least involves firing up an entirely separate JVM just to do the job you want to do, so that you can set timeouts and memory limits on it, and possibly an entire new virtual machine. It'll take thousands of times the resources, and is extremely complicated; I rather doubt that's what you intended to do here.</p>\n<h2>But what about unintentional loops?</h2>\n<p>The one question that remains is, given that we already wrote off malicious code (not 'we can deal with it', but rather 'if its intentionally malicious you cannot stop them with a loop detector'), what if it's an accident?</p>\n<p>Generally, the best way to deal with accidents is to not deal with them at all, not in code: Let them happen; that's why you have operations teams and server maintainers and the like (you're going to have to have those, no matter what happens. Might as well use them). Once it happens, you figure it out, and you fix it.</p>\n<p>That leaves just one final corner case which is: What if loops in causal chains have a plausible, desired usecase?</p>\n<p>And that's a fair question. Fortunately, the answer is a simple: No, there is no plausible/desired usecase. Loops in causal chains do not happen unless there is a bug (in which case, the answer is: Find it, fix it), or there is malicious case (in which case, the answer is: Do not run it and call your security team).</p>\n"}],"owner":{"account_id":26140315,"reputation":43,"user_id":19829796,"display_name":"Robert O&#39;Neal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1666276546,"creation_date":1666186614,"question_id":74126344,"body_markdown":"```\r\n    public static Throwable getCause(@Nonnull Throwable t) {\r\n        while ((t instanceof ExecutionException || t instanceof CompletionException) &amp;&amp; t.getCause() != null) {\r\n            t = t.getCause();\r\n        }\r\n\r\n        return t;\r\n    }\r\n```\r\n\r\nIs this code dangerous in a sense that the while loop may never end? Just wondering if someone can cause this to go on forever.\r\n\r\nIf so, what might be a better way to handle this? I&#39;m thinking maybe adding an upper bound limit.","title":"Can this code cause an infinite loop while searching for the lowest level cause of an exception?","body":"<pre><code>    public static Throwable getCause(@Nonnull Throwable t) {\n        while ((t instanceof ExecutionException || t instanceof CompletionException) &amp;&amp; t.getCause() != null) {\n            t = t.getCause();\n        }\n\n        return t;\n    }\n</code></pre>\n<p>Is this code dangerous in a sense that the while loop may never end? Just wondering if someone can cause this to go on forever.</p>\n<p>If so, what might be a better way to handle this? I'm thinking maybe adding an upper bound limit.</p>\n"},{"tags":["java","gosu"],"answers":[{"tags":[],"owner":{"account_id":24048061,"reputation":118,"user_id":18026862,"display_name":"Arjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666276442,"creation_date":1666276442,"answer_id":74141680,"question_id":74085409,"body_markdown":"You could simply ask the system A and system B to pass a client id as a request parameter. You can make a comparison with that to identify which system is calling your API.","title":"How to implement two different responses for two different External Systems in Rest API","body":"<p>You could simply ask the system A and system B to pass a client id as a request parameter. You can make a comparison with that to identify which system is calling your API.</p>\n"}],"owner":{"account_id":26637786,"reputation":1,"user_id":20253943,"display_name":"ninjacoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666276442,"creation_date":1665906575,"question_id":74085409,"body_markdown":"Two External Systems (A and B) are there. \r\nWhen A sends the request - response should be &quot;The system name is A&quot;\r\n\r\nWhen B sends the request - response should be &quot;The system name is B&quot;\r\n\r\nHow to know which system is sending the request so based on that the API can send the appropriate response?","title":"How to implement two different responses for two different External Systems in Rest API","body":"<p>Two External Systems (A and B) are there.\nWhen A sends the request - response should be &quot;The system name is A&quot;</p>\n<p>When B sends the request - response should be &quot;The system name is B&quot;</p>\n<p>How to know which system is sending the request so based on that the API can send the appropriate response?</p>\n"},{"tags":["java","arrays","json","string","scala"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666220258,"post_id":74132733,"comment_id":130887324,"body_markdown":"The `double` might be possible, but the date will not be possible -- 2022-10-19 isn&#39;t a valid JSON value.  That said, my bet is that there&#39;s some inference being done on the fact that you have an `Array[Any]`, not an array of numbers.","body":"The <code>double</code> might be possible, but the date will not be possible -- 2022-10-19 isn&#39;t a valid JSON value.  That said, my bet is that there&#39;s some inference being done on the fact that you have an <code>Array[Any]</code>, not an array of numbers."},{"owner":{"account_id":12997019,"reputation":425,"user_id":9394286,"display_name":"RUDRA GANESH SUBBARAYULU"},"score":0,"creation_date":1666221550,"post_id":74132733,"comment_id":130887535,"body_markdown":"@LouisWasserman thanks for responding.\nI can convert the date to unixtime and try as double.\nI guess the issue is at &quot;value&quot; -&gt; Json.toJson(s&quot;${values(r%values.length)}&quot;)\ntaking all data types as string.","body":"@LouisWasserman thanks for responding. I can convert the date to unixtime and try as double. I guess the issue is at &quot;value&quot; -&gt; Json.toJson(s&quot;${values(r%values.length)}&quot;) taking all data types as string."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1666271096,"post_id":74132733,"comment_id":130900196,"body_markdown":"&gt; I guess the issue is at &quot;value&quot; -&gt; Json.toJson(s&quot;${values(r%values.length)}&quot;) taking all data types as string. --- Yes, exactly. Don&#39;t convert things to string unless you want to","body":"&gt; I guess the issue is at &quot;value&quot; -&gt; Json.toJson(s&quot;${values(r%values.length)}&quot;) taking all data types as string. --- Yes, exactly. Don&#39;t convert things to string unless you want to"},{"owner":{"account_id":12997019,"reputation":425,"user_id":9394286,"display_name":"RUDRA GANESH SUBBARAYULU"},"score":0,"creation_date":1666271603,"post_id":74132733,"comment_id":130900391,"body_markdown":"@Dima Thanks for responding.\nI dont want to convert it, but how to handle\nif the \nval values:Array[Any] = Array(1264.3,java.time.LocalDate.now,&quot;For Testing&quot;)\nand should be called in loop &quot;value&quot; -&gt; Json.toJson(values(r%values.length))\nand here I get error that Json.toJson.\nAlso the array has string too.","body":"@Dima Thanks for responding. I dont want to convert it, but how to handle if the  val values:Array[Any] = Array(1264.3,java.time.LocalDate.now,&quot;For Testing&quot;) and should be called in loop &quot;value&quot; -&gt; Json.toJson(values(r%values.length)) and here I get error that Json.toJson. Also the array has string too."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1666272974,"post_id":74132733,"comment_id":130901035,"body_markdown":"Either check the type of element at run time and handle it accordingly, or (much better!) do not put elements of different types into the same array.","body":"Either check the type of element at run time and handle it accordingly, or (much better!) do not put elements of different types into the same array."}],"answers":[{"comments":[{"owner":{"account_id":12997019,"reputation":425,"user_id":9394286,"display_name":"RUDRA GANESH SUBBARAYULU"},"score":0,"creation_date":1666283530,"post_id":74141645,"comment_id":130905499,"body_markdown":"I am getting error asking me to implicit Values and handle with Write or Format Json\nIf you have any examples please suggest","body":"I am getting error asking me to implicit Values and handle with Write or Format Json If you have any examples please suggest"},{"owner":{"account_id":394560,"reputation":3857,"user_id":757071,"accept_rate":100,"display_name":"Johny T Koshy"},"score":1,"creation_date":1666285377,"post_id":74141645,"comment_id":130906203,"body_markdown":"Something like: https://scastie.scala-lang.org/KJte6WU4SJi1Kv22YkVebA","body":"Something like: <a href=\"https://scastie.scala-lang.org/KJte6WU4SJi1Kv22YkVebA\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/KJte6WU4SJi1Kv22YkVebA</a>"},{"owner":{"account_id":12997019,"reputation":425,"user_id":9394286,"display_name":"RUDRA GANESH SUBBARAYULU"},"score":0,"creation_date":1666294283,"post_id":74141645,"comment_id":130909179,"body_markdown":"thank you very much.\nyou are a saviour","body":"thank you very much. you are a saviour"}],"tags":[],"owner":{"account_id":394560,"reputation":3857,"user_id":757071,"accept_rate":100,"display_name":"Johny T Koshy"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666276307,"creation_date":1666276307,"answer_id":74141645,"question_id":74132733,"body_markdown":"You could use a helper method like,\r\n\r\n    def toJson(a: Any): JsValue = a match {\r\n      case d: Double =&gt; Json.toJson(d)\r\n      case i: Instant =&gt; Json.toJson(i.toEpochMilli)\r\n      case o =&gt; Json.toJson(s&quot;$o&quot;)\r\n    }\r\n\r\nand use it as `&quot;value&quot; -&gt; toJson(values(r % values.length))`","title":"Scala - How to handle the Non string values ( Date, Double, Boolean) while building Json by looping with Map and Object Array","body":"<p>You could use a helper method like,</p>\n<pre><code>def toJson(a: Any): JsValue = a match {\n  case d: Double =&gt; Json.toJson(d)\n  case i: Instant =&gt; Json.toJson(i.toEpochMilli)\n  case o =&gt; Json.toJson(s&quot;$o&quot;)\n}\n</code></pre>\n<p>and use it as <code>&quot;value&quot; -&gt; toJson(values(r % values.length))</code></p>\n"}],"owner":{"account_id":12997019,"reputation":425,"user_id":9394286,"display_name":"RUDRA GANESH SUBBARAYULU"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74141645,"answer_count":1,"score":0,"last_activity_date":1666276307,"creation_date":1666219743,"question_id":74132733,"body_markdown":"Scala - How to handle the Non string values ( Date, Double, Boolean)in building Json by looping with Map and Object Array\r\n\r\nin the below example I am always ending up having non string values as string.\r\nin Values Array\r\n\r\n```\r\nimport play.api.libs.json._\r\nimport java.time.Instant\r\nimport scala.util.Random\r\n\r\nval Name:Array[String] = Array(&quot;Tester1&quot;,&quot;Tester2&quot;,&quot;Tester3&quot;)\r\nval Typeids:Array[String] = Array(&quot;00000000-0000-0000-0000-000000000302&quot;,&quot;00000000-0000-0000-0000-000000003272&quot;,&quot;00000000-0000-0000-0000-000000006272&quot;)\r\nval values:Array[Any] = Array(1264.3,java.time.LocalDate.now,&quot;For Testing&quot;)\r\n\r\n  val i = 0\r\n  val data1 = (i to 2)\r\n    .map { r =&gt;\r\n      Json.toJson(Map(\r\n        &quot;Name&quot; -&gt; Json.toJson(s&quot;${Name(r%Name.length)}&quot;),\r\n        &quot;typeId&quot; -&gt; Json.toJson(s&quot;${Random.shuffle(Typeids.toList).head}&quot;),\r\n        &quot;value&quot; -&gt; Json.toJson(s&quot;${values(r%values.length)}&quot;)))    }\r\n\r\n\r\nval data2 = Json.toJson(data1)\r\nprintln(data2)\r\n```\r\n\r\n**Result :**\r\n\r\n[{&quot;Name&quot;:&quot;Tester1&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:**&quot;1264.3&quot;**},{&quot;Name&quot;:&quot;Tester2&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000000302&quot;,&quot;value&quot;:**&quot;2022-10-19&quot;**},\r\n{&quot;Name&quot;:&quot;Tester3&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:&quot;For Testing&quot;}]\r\n\r\n**Expected result :**\r\n\r\n[{&quot;Name&quot;:&quot;Tester1&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:**1264.3**},{&quot;Name&quot;:&quot;Tester2&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000000302&quot;,&quot;value&quot;:**2022-10-19**},{&quot;Name&quot;:&quot;Tester3&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:&quot;For Testing&quot;}]\r\n\r\n\r\nPlease suggest a solution with an example, any method to achieve the expected result will be helpful to handle non-string","title":"Scala - How to handle the Non string values ( Date, Double, Boolean) while building Json by looping with Map and Object Array","body":"<p>Scala - How to handle the Non string values ( Date, Double, Boolean)in building Json by looping with Map and Object Array</p>\n<p>in the below example I am always ending up having non string values as string.\nin Values Array</p>\n<pre><code>import play.api.libs.json._\nimport java.time.Instant\nimport scala.util.Random\n\nval Name:Array[String] = Array(&quot;Tester1&quot;,&quot;Tester2&quot;,&quot;Tester3&quot;)\nval Typeids:Array[String] = Array(&quot;00000000-0000-0000-0000-000000000302&quot;,&quot;00000000-0000-0000-0000-000000003272&quot;,&quot;00000000-0000-0000-0000-000000006272&quot;)\nval values:Array[Any] = Array(1264.3,java.time.LocalDate.now,&quot;For Testing&quot;)\n\n  val i = 0\n  val data1 = (i to 2)\n    .map { r =&gt;\n      Json.toJson(Map(\n        &quot;Name&quot; -&gt; Json.toJson(s&quot;${Name(r%Name.length)}&quot;),\n        &quot;typeId&quot; -&gt; Json.toJson(s&quot;${Random.shuffle(Typeids.toList).head}&quot;),\n        &quot;value&quot; -&gt; Json.toJson(s&quot;${values(r%values.length)}&quot;)))    }\n\n\nval data2 = Json.toJson(data1)\nprintln(data2)\n</code></pre>\n<p><strong>Result :</strong></p>\n<p>[{&quot;Name&quot;:&quot;Tester1&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:<strong>&quot;1264.3&quot;</strong>},{&quot;Name&quot;:&quot;Tester2&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000000302&quot;,&quot;value&quot;:<strong>&quot;2022-10-19&quot;</strong>},\n{&quot;Name&quot;:&quot;Tester3&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:&quot;For Testing&quot;}]</p>\n<p><strong>Expected result :</strong></p>\n<p>[{&quot;Name&quot;:&quot;Tester1&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:<strong>1264.3</strong>},{&quot;Name&quot;:&quot;Tester2&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000000302&quot;,&quot;value&quot;:<strong>2022-10-19</strong>},{&quot;Name&quot;:&quot;Tester3&quot;,&quot;typeId&quot;:&quot;00000000-0000-0000-0000-000000006272&quot;,&quot;value&quot;:&quot;For Testing&quot;}]</p>\n<p>Please suggest a solution with an example, any method to achieve the expected result will be helpful to handle non-string</p>\n"},{"tags":["java","yaml"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1666186285,"post_id":74126195,"comment_id":130875981,"body_markdown":"YAML is just a text file so you can put anything you like in the .yml","body":"YAML is just a text file so you can put anything you like in the .yml"},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":1,"creation_date":1666186301,"post_id":74126195,"comment_id":130875989,"body_markdown":"You can&#39;t add conditions to a yml file its just a text formatting way, not a language. But still, you can load the yml file into a programming language and can apply if else to it. based on a string","body":"You can&#39;t add conditions to a yml file its just a text formatting way, not a language. But still, you can load the yml file into a programming language and can apply if else to it. based on a string"}],"answers":[{"comments":[{"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"score":0,"creation_date":1666275286,"post_id":74135833,"comment_id":130902123,"body_markdown":"Thanks for your reply, indeed it is a very nice lib to use as I have gone deep into it I see it is a very rich lib. Unfortunately, I have already eo-yaml lib in my project and I am not allowed to change it.\nhttps://github.com/decorators-squad/eo-yaml","body":"Thanks for your reply, indeed it is a very nice lib to use as I have gone deep into it I see it is a very rich lib. Unfortunately, I have already eo-yaml lib in my project and I am not allowed to change it. <a href=\"https://github.com/decorators-squad/eo-yaml\" rel=\"nofollow noreferrer\">github.com/decorators-squad/eo-yaml</a>"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":1,"creation_date":1666275825,"post_id":74135833,"comment_id":130902365,"body_markdown":"That library seems very immature. No support for anchors and aliases, no support for tags either. If you can&#39;t change it, your only option is to have a post-processor that parses some syntax/structure you define.","body":"That library seems very immature. No support for anchors and aliases, no support for tags either. If you can&#39;t change it, your only option is to have a post-processor that parses some syntax/structure you define."}],"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666250373,"creation_date":1666250373,"answer_id":74135833,"question_id":74126195,"body_markdown":"Like others have said, YAML is not a programming language and generally doesn&#39;t provide operators you can use.\r\n\r\nHowever, YAML does provide *tags* that instruct the loading code about the kind of a node. So you can write this:\r\n\r\n```yaml\r\nrequires: !and [foo.advance, !eq [foo.midi, &quot;ON_GOING_MIDI&quot;] ]\r\n```\r\n\r\nWhich, from a YAML view, is a sequence containing two items, the first being `foo.advance` while the second is a nested sequence. The outer sequence has the tag `!and` while the inner one has the tag `!eq`.\r\n\r\nYou can the write code loading this YAML which knows about `!and` and `!eq` and processes them appropriately. For Java, SnakeYAML is a popular option which lets you [define custom constructors](https://bitbucket.org/snakeyaml/snakeyaml/wiki/Documentation#markdown-header-constructors-representers-resolvers).","title":"How to use OR and AND operation in yml file?","body":"<p>Like others have said, YAML is not a programming language and generally doesn't provide operators you can use.</p>\n<p>However, YAML does provide <em>tags</em> that instruct the loading code about the kind of a node. So you can write this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>requires: !and [foo.advance, !eq [foo.midi, &quot;ON_GOING_MIDI&quot;] ]\n</code></pre>\n<p>Which, from a YAML view, is a sequence containing two items, the first being <code>foo.advance</code> while the second is a nested sequence. The outer sequence has the tag <code>!and</code> while the inner one has the tag <code>!eq</code>.</p>\n<p>You can the write code loading this YAML which knows about <code>!and</code> and <code>!eq</code> and processes them appropriately. For Java, SnakeYAML is a popular option which lets you <a href=\"https://bitbucket.org/snakeyaml/snakeyaml/wiki/Documentation#markdown-header-constructors-representers-resolvers\" rel=\"nofollow noreferrer\">define custom constructors</a>.</p>\n"},{"tags":[],"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666276083,"creation_date":1666276083,"answer_id":74141579,"question_id":74126195,"body_markdown":"Because I use [eo-yaml](https://github.com/decorators-squad/eo-yaml)\r\n lib in my project. I added the following in the `.yml` file and used it in `Java code`. \r\n\r\n     requires: ${foo.advance &amp;&amp; foo.midi == &quot;ON_GOING_MIDI&quot;}\r\n\r\n \r\nAs @flyx suggested it is also possible to use `SnakeYAML` library.","title":"How to use OR and AND operation in yml file?","body":"<p>Because I use <a href=\"https://github.com/decorators-squad/eo-yaml\" rel=\"nofollow noreferrer\">eo-yaml</a>\nlib in my project. I added the following in the <code>.yml</code> file and used it in <code>Java code</code>.</p>\n<pre><code> requires: ${foo.advance &amp;&amp; foo.midi == &quot;ON_GOING_MIDI&quot;}\n</code></pre>\n<p>As @flyx suggested it is also possible to use <code>SnakeYAML</code> library.</p>\n"}],"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74141579,"answer_count":2,"score":-1,"last_activity_date":1666276083,"creation_date":1666186024,"question_id":74126195,"body_markdown":"I have a `.yml` file where I want to use an `AND` operant between a `Boolean` and another equal statement as below. I use this `.yml` file in `Java`.\r\n\r\n    requires: (foo.advance) &amp;&amp; (foo.midi == &quot;ON_GOING_MIDI&quot;)\r\n\r\n**How can I do it in correct way in .yml file?**\r\n\r\n\r\n    menu: admin\r\n      sub:\r\n        - view: magazine \r\n          icon: &quot;tiles&quot;\r\n          requires:foo.advance\r\n        - view: factor \r\n    \t icon: &quot;icon2&quot;\r\n          requires:not(foo.advance)\r\n        - view: usages \r\n          requires: (foo.advance) &amp;&amp; (foo.midi == &quot;ON_GOING_MIDI&quot;)\r\n    - menu: user\r\n\r\n","title":"How to use OR and AND operation in yml file?","body":"<p>I have a <code>.yml</code> file where I want to use an <code>AND</code> operant between a <code>Boolean</code> and another equal statement as below. I use this <code>.yml</code> file in <code>Java</code>.</p>\n<pre><code>requires: (foo.advance) &amp;&amp; (foo.midi == &quot;ON_GOING_MIDI&quot;)\n</code></pre>\n<p><strong>How can I do it in correct way in .yml file?</strong></p>\n<pre><code>menu: admin\n  sub:\n    - view: magazine \n      icon: &quot;tiles&quot;\n      requires:foo.advance\n    - view: factor \n     icon: &quot;icon2&quot;\n      requires:not(foo.advance)\n    - view: usages \n      requires: (foo.advance) &amp;&amp; (foo.midi == &quot;ON_GOING_MIDI&quot;)\n- menu: user\n</code></pre>\n"},{"tags":["java","spring","caching","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666275986,"creation_date":1583528379,"answer_id":60571528,"question_id":60310584,"body_markdown":"So after a few changes, it is working now. Here is my conclusion:\r\n\r\nSo in order to have NearCache working with Spring Cache, all your cached objects should be [Immutable][1]. This means final classes and final fields. Also, they all should extend the Serializable interface.\r\n\r\n\r\n  [1]: https://www.journaldev.com/129/how-to-create-immutable-class-in-java","title":"Using Spring Cache with Hazelcast Near Cache","body":"<p>So after a few changes, it is working now. Here is my conclusion:</p>\n<p>So in order to have NearCache working with Spring Cache, all your cached objects should be <a href=\"https://www.journaldev.com/129/how-to-create-immutable-class-in-java\" rel=\"nofollow noreferrer\">Immutable</a>. This means final classes and final fields. Also, they all should extend the Serializable interface.</p>\n"}],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60571528,"answer_count":1,"score":2,"last_activity_date":1666275986,"creation_date":1582153277,"question_id":60310584,"body_markdown":"I&#39;m trying to configure Spring CacheManager with Hazelcast. Also, I want to configure Hazelcast&#39;s Near Cache so I can retrieve the (already deserialized) instance of my cached object.\r\n\r\nHere is my configuration\r\n\r\n```\r\n\r\n    @Bean\r\n\tpublic HazelcastInstance hazelcastConfig() {\r\n\t\tval config = new Config().setInstanceName(&quot;instance&quot;);\r\n\t\tval serializationConfig = config.getSerializationConfig();\r\n\t\taddCacheConfig(config, &quot;USERS&quot;)\r\n\t\tserializationConfig.addSerializerConfig(new SerializerConfig()\r\n\t\t\t\t\t\t.setImplementation(getSerializer())\r\n\t\t\t\t\t\t.setTypeClass(User.class)\r\n\t\treturn Hazelcast.newHazelcastInstance(config);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\r\n\t\treturn new HazelcastCacheManager(hazelcastInstance);\r\n\t}\r\n\r\n    @Bean\r\n\tpublic PlatformTransactionManager chainedTransactionManager(PlatformTransactionManager jpaTransactionManager, HazelcastInstance hazelcastInstance) {\r\n\t\treturn new ChainedTransactionManager(\r\n\t\t\t\tjpaTransactionManager,\r\n\t\t\t\tnew HazelcastTransactionManager(hazelcastInstance)\r\n\t\t);\r\n\t}\r\n\r\n    // Configure Near Cache\r\n\tprivate void addCacheConfig(Config config, String cacheName) {\r\n\t\tval nearCacheConfig = new NearCacheConfig()\r\n\t\t\t\t.setInMemoryFormat(OBJECT)\r\n\t\t\t\t.setCacheLocalEntries(true)\r\n\t\t\t\t.setInvalidateOnChange(false)\r\n\t\t\t\t.setTimeToLiveSeconds(hazelcastProperties.getTimeToLiveSeconds())\r\n\t\t\t\t.setEvictionConfig(new EvictionConfig()\r\n\t\t\t\t\t\t.setMaxSizePolicy(ENTRY_COUNT)\r\n\t\t\t\t\t\t.setEvictionPolicy(EvictionPolicy.LRU)\r\n\t\t\t\t\t\t.setSize(hazelcastProperties.getMaxEntriesSize()));\r\n\t\tconfig.getMapConfig(cacheName)\r\n\t\t\t\t.setInMemoryFormat(BINARY)\r\n\t\t\t\t.setNearCacheConfig(nearCacheConfig);\r\n\t}\r\n\r\n```\r\n\r\nSaving and retrieving from the Cache is working fine, but my object is deserialized every time I have a cache hit. I want to avoid this deserialization time using a NearCache, but it doesn&#180;t work. I also tried BINARY memory format.\r\n\r\nIs this possible with Hazelcast? Or is this deserialization always executed even if I have a NearCache?\r\n\r\nThanks","title":"Using Spring Cache with Hazelcast Near Cache","body":"<p>I'm trying to configure Spring CacheManager with Hazelcast. Also, I want to configure Hazelcast's Near Cache so I can retrieve the (already deserialized) instance of my cached object.</p>\n\n<p>Here is my configuration</p>\n\n<pre><code>\n    @Bean\n    public HazelcastInstance hazelcastConfig() {\n        val config = new Config().setInstanceName(\"instance\");\n        val serializationConfig = config.getSerializationConfig();\n        addCacheConfig(config, \"USERS\")\n        serializationConfig.addSerializerConfig(new SerializerConfig()\n                        .setImplementation(getSerializer())\n                        .setTypeClass(User.class)\n        return Hazelcast.newHazelcastInstance(config);\n    }\n\n    @Bean\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\n        return new HazelcastCacheManager(hazelcastInstance);\n    }\n\n    @Bean\n    public PlatformTransactionManager chainedTransactionManager(PlatformTransactionManager jpaTransactionManager, HazelcastInstance hazelcastInstance) {\n        return new ChainedTransactionManager(\n                jpaTransactionManager,\n                new HazelcastTransactionManager(hazelcastInstance)\n        );\n    }\n\n    // Configure Near Cache\n    private void addCacheConfig(Config config, String cacheName) {\n        val nearCacheConfig = new NearCacheConfig()\n                .setInMemoryFormat(OBJECT)\n                .setCacheLocalEntries(true)\n                .setInvalidateOnChange(false)\n                .setTimeToLiveSeconds(hazelcastProperties.getTimeToLiveSeconds())\n                .setEvictionConfig(new EvictionConfig()\n                        .setMaxSizePolicy(ENTRY_COUNT)\n                        .setEvictionPolicy(EvictionPolicy.LRU)\n                        .setSize(hazelcastProperties.getMaxEntriesSize()));\n        config.getMapConfig(cacheName)\n                .setInMemoryFormat(BINARY)\n                .setNearCacheConfig(nearCacheConfig);\n    }\n\n</code></pre>\n\n<p>Saving and retrieving from the Cache is working fine, but my object is deserialized every time I have a cache hit. I want to avoid this deserialization time using a NearCache, but it doesn¬¥t work. I also tried BINARY memory format.</p>\n\n<p>Is this possible with Hazelcast? Or is this deserialization always executed even if I have a NearCache?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","hibernate","collections","h2","junit5"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666278172,"post_id":74141519,"comment_id":130903481,"body_markdown":"Is it the same database during runtime and test?","body":"Is it the same database during runtime and test?"},{"owner":{"account_id":9723428,"reputation":23,"user_id":7211363,"display_name":"jo23"},"score":0,"creation_date":1666287902,"post_id":74141519,"comment_id":130907145,"body_markdown":"Yes, it&#39;s the same","body":"Yes, it&#39;s the same"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666333096,"post_id":74141519,"comment_id":130916236,"body_markdown":"provide the code where you fetch the data in code and in test","body":"provide the code where you fetch the data in code and in test"}],"owner":{"account_id":9723428,"reputation":23,"user_id":7211363,"display_name":"jo23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666275823,"creation_date":1666275823,"question_id":74141519,"body_markdown":"I have a class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity(name = &quot;car&quot;)\r\n    public class CarEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private UUID id;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;car&quot;)\r\n        private List&lt;WheelEntity&gt; wheels;\r\n    \r\n        private String number;\r\n    }\r\n\r\n\r\n\r\nAnd a query finding an entity by one of its parameters and fetching nested collection:\r\n\r\n    @Query(&quot;SELECT c FROM car c WHERE c.number=:loanContract&quot;)\r\n    Optional&lt;CarEntity&gt; findByNumber(@Param(&quot;number&quot;) String number);\r\n\r\nEverything works fine in runtime, but when I try to test it, the nested collection in the entity read from database is always ```null```. I&#39;m using Junit5 and H2 in-memory database.","title":"Nested collection fetched in runtime but not in test","body":"<p>I have a class:</p>\n<pre><code>@Getter\n@Setter\n@Entity(name = &quot;car&quot;)\npublic class CarEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;car&quot;)\n    private List&lt;WheelEntity&gt; wheels;\n\n    private String number;\n}\n</code></pre>\n<p>And a query finding an entity by one of its parameters and fetching nested collection:</p>\n<pre><code>@Query(&quot;SELECT c FROM car c WHERE c.number=:loanContract&quot;)\nOptional&lt;CarEntity&gt; findByNumber(@Param(&quot;number&quot;) String number);\n</code></pre>\n<p>Everything works fine in runtime, but when I try to test it, the nested collection in the entity read from database is always <code>null</code>. I'm using Junit5 and H2 in-memory database.</p>\n"},{"tags":["java","hibernate","quarkus","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":26189710,"reputation":23,"user_id":19871743,"display_name":"vizete"},"score":0,"creation_date":1666334264,"post_id":74141489,"comment_id":130916520,"body_markdown":"Perfect, that is what I&#39;m looking for. I already tried to use an ExceptionMapper but did not know which exception to map (ValidationException). How did you figured that out? (How can I find this out for myself next time?)","body":"Perfect, that is what I&#39;m looking for. I already tried to use an ExceptionMapper but did not know which exception to map (ValidationException). How did you figured that out? (How can I find this out for myself next time?)"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1666611648,"post_id":74141489,"comment_id":130970691,"body_markdown":"I wrote the code :). \n\nMore seriously, the absolute best way to figure things out is to have a copy of the source code and use a debugger","body":"I wrote the code :).   More seriously, the absolute best way to figure things out is to have a copy of the source code and use a debugger"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666275689,"creation_date":1666275689,"answer_id":74141489,"question_id":74139205,"body_markdown":"You&#39;ll need to provide an implementation of `ExceptionMapper&lt;ValidationException&gt;`.\r\n\r\nSomething like:\r\n\r\n    @Provider\r\n    public class ResteasyReactiveViolationExceptionMapper implements ExceptionMapper&lt;ValidationException&gt; {\r\n    \r\n        @Override\r\n        public Response toResponse(ValidationException exception) {\r\n             // convert the exception into a response\r\n             // see https://github.com/quarkusio/quarkus/blob/2.13.3.Final/extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/jaxrs/ResteasyReactiveViolationExceptionMapper.java#L32 for inspiration\r\n        }\r\n    \r\n    }","title":"How to return a custom response for validation errors using Hibernate Validator and Quarkus","body":"<p>You'll need to provide an implementation of <code>ExceptionMapper&lt;ValidationException&gt;</code>.</p>\n<p>Something like:</p>\n<pre><code>@Provider\npublic class ResteasyReactiveViolationExceptionMapper implements ExceptionMapper&lt;ValidationException&gt; {\n\n    @Override\n    public Response toResponse(ValidationException exception) {\n         // convert the exception into a response\n         // see https://github.com/quarkusio/quarkus/blob/2.13.3.Final/extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/jaxrs/ResteasyReactiveViolationExceptionMapper.java#L32 for inspiration\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26189710,"reputation":23,"user_id":19871743,"display_name":"vizete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74141489,"answer_count":1,"score":0,"last_activity_date":1666275689,"creation_date":1666265769,"question_id":74139205,"body_markdown":"I implemented a REST endpoint in my Quarkus application.\r\nFor validation purpose I&#39;m using the hibernate-validator. So I added the @Valid annotation to the incoming parameter and added some constraints to that class.\r\nEverythings works as expected.\r\n\r\nWhen sending a request with invalid data I see a response like this:\r\n\r\n\r\n    {\r\n       &quot;exception&quot;: null,\r\n       &quot;propertyViolations&quot;: [],\r\n       &quot;classViolations&quot;: [],\r\n       &quot;parameterViolations&quot;: [   {\r\n          &quot;constraintType&quot;: &quot;PARAMETER&quot;,\r\n          &quot;path&quot;: &quot;aaa.bbb.Id&quot;,\r\n          &quot;message&quot;: &quot;Id does not match the expected format.&quot;,\r\n          &quot;value&quot;: &quot;abc&quot;\r\n       }],\r\n       &quot;returnValueViolations&quot;: []\r\n    }\r\n\r\n\r\nBut I would like to have a more compact response and maybe add some additional information:\r\n\r\n    {\r\n       &quot;additional-info&quot;: &quot;some text&quot;,\r\n       &quot;path&quot;: &quot;aaa.bbb.Id&quot;,\r\n       &quot;message&quot;: &quot;Id does not match the expected format.&quot;,\r\n    }\r\n\r\nI found the same question for hibernate-validator and spring-boot: &lt;https://stackoverflow.com/questions/50571687/how-to-return-a-custom-response-pojo-when-request-body-fails-validations-that-ar&gt;\r\nBut I do not know how to adapt the solutions to Quarkus.\r\n\r\nThanks a lot.","title":"How to return a custom response for validation errors using Hibernate Validator and Quarkus","body":"<p>I implemented a REST endpoint in my Quarkus application.\nFor validation purpose I'm using the hibernate-validator. So I added the @Valid annotation to the incoming parameter and added some constraints to that class.\nEverythings works as expected.</p>\n<p>When sending a request with invalid data I see a response like this:</p>\n<pre><code>{\n   &quot;exception&quot;: null,\n   &quot;propertyViolations&quot;: [],\n   &quot;classViolations&quot;: [],\n   &quot;parameterViolations&quot;: [   {\n      &quot;constraintType&quot;: &quot;PARAMETER&quot;,\n      &quot;path&quot;: &quot;aaa.bbb.Id&quot;,\n      &quot;message&quot;: &quot;Id does not match the expected format.&quot;,\n      &quot;value&quot;: &quot;abc&quot;\n   }],\n   &quot;returnValueViolations&quot;: []\n}\n</code></pre>\n<p>But I would like to have a more compact response and maybe add some additional information:</p>\n<pre><code>{\n   &quot;additional-info&quot;: &quot;some text&quot;,\n   &quot;path&quot;: &quot;aaa.bbb.Id&quot;,\n   &quot;message&quot;: &quot;Id does not match the expected format.&quot;,\n}\n</code></pre>\n<p>I found the same question for hibernate-validator and spring-boot: <a href=\"https://stackoverflow.com/questions/50571687/how-to-return-a-custom-response-pojo-when-request-body-fails-validations-that-ar\">How to return a custom response pojo when request body fails validations that are defined using Bean Validation/Hibernate Validator?</a>\nBut I do not know how to adapt the solutions to Quarkus.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","osgi","osgi-bundle","liferay-7"],"answers":[{"tags":[],"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666275669,"creation_date":1666275669,"answer_id":74141479,"question_id":74140721,"body_markdown":"bnd.bnd is the configuration file for the tool bnd, often also embedded into maven-bnd-plugin. The tooling creates the OSGi manifest with minimal configuration effort.\r\nYou can find documentation at https://bnd.bndtools.org/ .\r\n\r\nThe documentation there probably does not exhaustively explain all possible settings but I think it is the best source of information.","title":"What is the full form of bnd.bnd file in Osgi?","body":"<p>bnd.bnd is the configuration file for the tool bnd, often also embedded into maven-bnd-plugin. The tooling creates the OSGi manifest with minimal configuration effort.\nYou can find documentation at <a href=\"https://bnd.bndtools.org/\" rel=\"nofollow noreferrer\">https://bnd.bndtools.org/</a> .</p>\n<p>The documentation there probably does not exhaustively explain all possible settings but I think it is the best source of information.</p>\n"}],"owner":{"account_id":20712801,"reputation":65,"user_id":15227118,"display_name":"Anubhav kalra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666275669,"creation_date":1666272576,"question_id":74140721,"body_markdown":"I&#39;m looking for the full form of **bnd.bnd** file present inside an OSGi module.\r\nI&#39;ve searched almost everywhere on Google but can&#39;t find the exact result.\r\nIf anybody knows the full form then please tell me with the reason.\r\n\r\nThanks\r\n","title":"What is the full form of bnd.bnd file in Osgi?","body":"<p>I'm looking for the full form of <strong>bnd.bnd</strong> file present inside an OSGi module.\nI've searched almost everywhere on Google but can't find the exact result.\nIf anybody knows the full form then please tell me with the reason.</p>\n<p>Thanks</p>\n"},{"tags":["java","angular","date","mariadb"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1609232513,"post_id":65489584,"comment_id":115782684,"body_markdown":"What is the exact type of column in the database?","body":"What is the exact type of column in the database?"},{"owner":{"account_id":19104722,"reputation":9,"user_id":13952133,"display_name":"Neelima Neelu"},"score":0,"creation_date":1609232564,"post_id":65489584,"comment_id":115782704,"body_markdown":"I am using DateTime type","body":"I am using DateTime type"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1609263613,"post_id":65489584,"comment_id":115794959,"body_markdown":"Check timezones.","body":"Check timezones."}],"answers":[{"tags":[],"owner":{"account_id":2215285,"reputation":6916,"user_id":1956072,"display_name":"kvetis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609233116,"creation_date":1609233116,"answer_id":65489846,"question_id":65489584,"body_markdown":"The `SGT` in  `Fri Feb 08 00:00:00 SGT 2019` denotes the timezone, whereas in the DB you have UTC time. Both times are the exactly same moment in history.\r\n\r\nSelecting dates in browser always happens in user&#39;s timezone. You need to adjust for that if you want the time using UTC.","title":"date is storing wrong in mariadb while inserting from java","body":"<p>The <code>SGT</code> in  <code>Fri Feb 08 00:00:00 SGT 2019</code> denotes the timezone, whereas in the DB you have UTC time. Both times are the exactly same moment in history.</p>\n<p>Selecting dates in browser always happens in user's timezone. You need to adjust for that if you want the time using UTC.</p>\n"},{"tags":[],"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609234182,"creation_date":1609234182,"answer_id":65490040,"question_id":65489584,"body_markdown":"The property `serverTimezone` with the value `SGT` should be added to the JDBC connection string:\r\n\r\n    jdbc:mysql://&lt;address&gt;:&lt;port&gt;/&lt;database&gt;?serverTimezone=SGT\r\n\r\nFrom MySQL documentation: [6.3.11 Datetime types processing][1]\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-datetime-types-processing.html","title":"date is storing wrong in mariadb while inserting from java","body":"<p>The property <code>serverTimezone</code> with the value <code>SGT</code> should be added to the JDBC connection string:</p>\n<pre><code>jdbc:mysql://&lt;address&gt;:&lt;port&gt;/&lt;database&gt;?serverTimezone=SGT\n</code></pre>\n<p>From MySQL documentation: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-datetime-types-processing.html\" rel=\"nofollow noreferrer\">6.3.11 Datetime types processing</a></p>\n"}],"owner":{"account_id":19104722,"reputation":9,"user_id":13952133,"display_name":"Neelima Neelu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666275623,"creation_date":1609231846,"question_id":65489584,"body_markdown":"I have selected date as 8th feb 2019 in angular datepicker and in java side logs it is printed as `Fri Feb 08 00:00:00 SGT 2019` but in database it stored as `07/02/2019 16:00:00` I am using datetime format in db side. and `java.util.date` in java.\r\nthis is happening very randomly if i try gain with the same date in database it stored as `08/02/2019 00:00:00.`\r\n\r\ndatabase timezone is SGT.\r\n\r\n\r\nwhy is it happening ?\r\n\r\n[edited] I have selected date as 8th feb 2019 not 2nd feb ..\r\nsorry\r\n","title":"date is storing wrong in mariadb while inserting from java","body":"<p>I have selected date as 8th feb 2019 in angular datepicker and in java side logs it is printed as <code>Fri Feb 08 00:00:00 SGT 2019</code> but in database it stored as <code>07/02/2019 16:00:00</code> I am using datetime format in db side. and <code>java.util.date</code> in java.\nthis is happening very randomly if i try gain with the same date in database it stored as <code>08/02/2019 00:00:00.</code></p>\n<p>database timezone is SGT.</p>\n<p>why is it happening ?</p>\n<p>[edited] I have selected date as 8th feb 2019 not 2nd feb ..\nsorry</p>\n"},{"tags":["java","amazon-web-services","performance","amazon-s3"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666081253,"post_id":74107454,"comment_id":130844921,"body_markdown":"There might be a way but why do you have such large memory usage in the first place?","body":"There might be a way but why do you have such large memory usage in the first place?"},{"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"score":0,"creation_date":1666082590,"post_id":74107454,"comment_id":130845344,"body_markdown":"we get CDC from a db. We want to batch the CDC into files --each file carrying as many CDC rows as possible. The bigger the batches, better it is for the downstream (because now they have to read just hand-ful of files, instead of millions of files)","body":"we get CDC from a db. We want to batch the CDC into files --each file carrying as many CDC rows as possible. The bigger the batches, better it is for the downstream (because now they have to read just hand-ful of files, instead of millions of files)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666083887,"post_id":74107454,"comment_id":130845748,"body_markdown":"I&#39;m not sure how you&#39;re handling this , but couldn&#39;t you stream the data directly to S3 while extracting it from the db instead of making a big `StringBuilder` and then trying to stream that?","body":"I&#39;m not sure how you&#39;re handling this , but couldn&#39;t you stream the data directly to S3 while extracting it from the db instead of making a big <code>StringBuilder</code> and then trying to stream that?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666084905,"post_id":74107454,"comment_id":130846060,"body_markdown":"It is impossible to have a `StringBuilder` of 5GB size. The largest would be 4GB for Java 8 and older. With Java&#160;9 and newer, the maximum size is 2GB. But anyway, there‚Äôs no built-in solution but you can just implement your own `InputStream` reading the `StringBuilder`. That‚Äôs not that hard‚Ä¶","body":"It is impossible to have a <code>StringBuilder</code> of 5GB size. The largest would be 4GB for Java 8 and older. With Java 9 and newer, the maximum size is 2GB. But anyway, there‚Äôs no built-in solution but you can just implement your own <code>InputStream</code> reading the <code>StringBuilder</code>. That‚Äôs not that hard‚Ä¶"},{"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"score":0,"creation_date":1666085633,"post_id":74107454,"comment_id":130846286,"body_markdown":"its  array of string buffers that accounts to 5GB. However, the problem still holds","body":"its  array of string buffers that accounts to 5GB. However, the problem still holds"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666085880,"post_id":74107454,"comment_id":130846367,"body_markdown":"An &quot;array of string buffers&quot;. Now I&#39;m confused ;) What does that mean - I thought you had ```StringBuilder``` ?","body":"An &quot;array of string buffers&quot;. Now I&#39;m confused ;) What does that mean - I thought you had <code>StringBuilder</code> ?"},{"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"score":0,"creation_date":1666088440,"post_id":74107454,"comment_id":130847301,"body_markdown":"@FedericoklezCulloca yes we could do that. But the opensource versions available are having bugs, so we had to build one ourselves. Hence this issue.","body":"@FedericoklezCulloca yes we could do that. But the opensource versions available are having bugs, so we had to build one ourselves. Hence this issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666088785,"post_id":74107454,"comment_id":130847418,"body_markdown":"I&#39;m still in the dark as to why you&#39;re holding such large amounts of data in memory though","body":"I&#39;m still in the dark as to why you&#39;re holding such large amounts of data in memory though"},{"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"score":0,"creation_date":1666089033,"post_id":74107454,"comment_id":130847510,"body_markdown":"A better approach would be to emit the CDC event into Kinesis Delivery Stream. and output the events into S3. You can control how frequently you want to create the files or size of files.  This way it is fault tolerant as well","body":"A better approach would be to emit the CDC event into Kinesis Delivery Stream. and output the events into S3. You can control how frequently you want to create the files or size of files.  This way it is fault tolerant as well"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666101817,"post_id":74109376,"comment_id":130852344,"body_markdown":"You have basically reinvented [`StringBufferInputStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/StringBufferInputStream.html) and the reason why it has been deprecated a quarter century ago (‚Äú*This class does not properly convert characters into bytes*‚Äù) applies to your code as well.","body":"You have basically reinvented <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/StringBufferInputStream.html\" rel=\"nofollow noreferrer\"><code>StringBufferInputStream</code></a> and the reason why it has been deprecated a quarter century ago (‚Äú<i>This class does not properly convert characters into bytes</i>‚Äù) applies to your code as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666102887,"post_id":74109376,"comment_id":130852818,"body_markdown":"Interesting. I shall have to have a think about *why* it doesn&#39;t","body":"Interesting. I shall have to have a think about <i>why</i> it doesn&#39;t"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666111703,"post_id":74109376,"comment_id":130856343,"body_markdown":"@Holger, yes I see the problem. I suppose it could be &#39;fixed&#39; but I&#39;m not convinced it&#39;s really needed. Do you agree that it would be safe to use for 7/8 bit character encodings in an emergency?","body":"@Holger, yes I see the problem. I suppose it could be &#39;fixed&#39; but I&#39;m not convinced it&#39;s really needed. Do you agree that it would be safe to use for 7/8 bit character encodings in an emergency?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666117438,"post_id":74109376,"comment_id":130858374,"body_markdown":"You are effectively writing ASCII or ISO-LATIN-1. The OP‚Äôs code used UTF-8 explicitly so this might no match their intention.","body":"You are effectively writing ASCII or ISO-LATIN-1. The OP‚Äôs code used UTF-8 explicitly so this might no match their intention."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666275587,"post_id":74109376,"comment_id":130902241,"body_markdown":"@Holger I wonder if you&#39;d care to have a look at the above? It should now be &#39;fixed&#39;","body":"@Holger I wonder if you&#39;d care to have a look at the above? It should now be &#39;fixed&#39;"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666276288,"post_id":74109376,"comment_id":130902589,"body_markdown":"You shouldn‚Äôt do `enc.encode(cb, bb, false); enc.encode(cb, bb, true);` Passing `true` means that there are no more chars after the specified buffer, which isn‚Äôt true for your single character buffer (unless you‚Äôre really at the last char). But in general, this code is unnecessarily complicated and inefficient. First of all, use `CharBuffer.wrap(charSequence)`  right in the constructor to get the source buffer. You never need another source buffer. Then, (only) using `enc.encode(cb, bb, true);` is legit as there is no more content after this single source buffer.","body":"You shouldn‚Äôt do <code>enc.encode(cb, bb, false); enc.encode(cb, bb, true);</code> Passing <code>true</code> means that there are no more chars after the specified buffer, which isn‚Äôt true for your single character buffer (unless you‚Äôre really at the last char). But in general, this code is unnecessarily complicated and inefficient. First of all, use <code>CharBuffer.wrap(charSequence)</code>  right in the constructor to get the source buffer. You never need another source buffer. Then, (only) using <code>enc.encode(cb, bb, true);</code> is legit as there is no more content after this single source buffer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666276542,"post_id":74109376,"comment_id":130902699,"body_markdown":"Then, don‚Äôt focus on the single byte read method, which reasonable code shouldn‚Äôt invoke anyway. In `read(byte[] b, int off, int len)`, you create a target buffer like `ByteBuffer bb = ByteBuffer.wrap(b, off, len);` then, the actual encoding operation is as simple as `if(!bb.hasRemaining()) return 0; if(!source.hasRemaining()) return -1; encoder.encode(source, bb, true); return bb.position();` (assuming `source` is the `CharBuffer` created in the constructor. The only remaining challenge is that in the unlikely case that `int read()` has been called you might have pending bytes in the buffer.","body":"Then, don‚Äôt focus on the single byte read method, which reasonable code shouldn‚Äôt invoke anyway. In <code>read(byte[] b, int off, int len)</code>, you create a target buffer like <code>ByteBuffer bb = ByteBuffer.wrap(b, off, len);</code> then, the actual encoding operation is as simple as <code>if(!bb.hasRemaining()) return 0; if(!source.hasRemaining()) return -1; encoder.encode(source, bb, true); return bb.position();</code> (assuming <code>source</code> is the <code>CharBuffer</code> created in the constructor. The only remaining challenge is that in the unlikely case that <code>int read()</code> has been called you might have pending bytes in the buffer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666277832,"post_id":74109376,"comment_id":130903323,"body_markdown":"I made an example on https://ideone.com/IJsG3I Note that I dodged the complication of the single byte reading method by not implementing it at all and wrapping the input stream in a `BufferedInputStream` which takes care of it. The good thing about `BufferedInputStream` is that it goes out of the way whenever the caller provided a larger buffer and delegates directly to our stream, so in the normal case it doesn‚Äôt affect the performance and we have the encoder directly encoding from the (wrapped) `StringBuilder` to the (wrapped) caller‚Äôs target array.","body":"I made an example on <a href=\"https://ideone.com/IJsG3I\" rel=\"nofollow noreferrer\">ideone.com/IJsG3I</a> Note that I dodged the complication of the single byte reading method by not implementing it at all and wrapping the input stream in a <code>BufferedInputStream</code> which takes care of it. The good thing about <code>BufferedInputStream</code> is that it goes out of the way whenever the caller provided a larger buffer and delegates directly to our stream, so in the normal case it doesn‚Äôt affect the performance and we have the encoder directly encoding from the (wrapped) <code>StringBuilder</code> to the (wrapped) caller‚Äôs target array."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666280417,"post_id":74109376,"comment_id":130904376,"body_markdown":"Thanks, I&#39;ll take a look. I found surprisingly few (proper) examples of these nio classes, which I haven&#39;t used much. OK - I took a 20 second look so far - you wrapped the entire ```StringBuilder```  but the whole point is to *not* duplicate memory buffers ...","body":"Thanks, I&#39;ll take a look. I found surprisingly few (proper) examples of these nio classes, which I haven&#39;t used much. OK - I took a 20 second look so far - you wrapped the entire <code>StringBuilder</code>  but the whole point is to <i>not</i> duplicate memory buffers ..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666280707,"post_id":74109376,"comment_id":130904479,"body_markdown":"But *wrapping* does not duplicate memory.","body":"But <i>wrapping</i> does not duplicate memory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666285894,"post_id":74109376,"comment_id":130906396,"body_markdown":"According to [this](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/CharBuffer.html#wrap(java.lang.CharSequence)): *Wraps a character sequence **into** a buffer.\nThe content of the **new**, read-only buffer will be the content of the given character sequence.* (my emph.) So it looks like it does","body":"According to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/CharBuffer.html#wrap(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">this</a>: <i>Wraps a character sequence <b>into</b> a buffer. The content of the <b>new</b>, read-only buffer will be the content of the given character sequence.</i> (my emph.) So it looks like it does"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666286582,"post_id":74109376,"comment_id":130906666,"body_markdown":"I don‚Äôt see how you read from this cite that the *new buffer* will duplicate memory, i.e. copy the data. There is a precise meaning for *wrapping*. See for example https://ideone.com/B6ychi the `CharBuffer` reflects the modified content of the `StringBuilder`, as it is only a wrapper around it.","body":"I don‚Äôt see how you read from this cite that the <i>new buffer</i> will duplicate memory, i.e. copy the data. There is a precise meaning for <i>wrapping</i>. See for example <a href=\"https://ideone.com/B6ychi\" rel=\"nofollow noreferrer\">ideone.com/B6ychi</a> the <code>CharBuffer</code> reflects the modified content of the <code>StringBuilder</code>, as it is only a wrapper around it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666286721,"post_id":74109376,"comment_id":130906708,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248944/discussion-between-g00se-and-holger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248944/discussion-between-g00se-and-holger\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666275497,"creation_date":1666088520,"answer_id":74109376,"question_id":74107454,"body_markdown":"The string-oriented classes are frustratingly locked down with ```final``` in many cases, which means that oftentimes buffers that already exist in memory have to be duplicated. This is probably to do with security but is nevertheless wasteful and frustrating. You should be able to do something with the following if you have a ```StringBuilder```. Obviously you&#39;ll need a much bigger buffer than in the *illustrative* ```main```  method.\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.FilterInputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import java.nio.ByteBuffer;\r\n    import java.nio.CharBuffer;\r\n    import java.nio.charset.CharsetEncoder;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    /**\r\n     *\r\n     * @author CEHJ\r\n     * @version 1.0\r\n     */\r\n    public class CharSequenceInputStream extends InputStream {\r\n        private CharSequence charSequence;\r\n        private int position;\r\n        private CharsetEncoder enc;\r\n        private Charset outputEncoding;\r\n        private CharBuffer cb;\r\n        private ByteBuffer bb;\r\n    \r\n        public CharSequenceInputStream(CharSequence charSequence) {\r\n            this(charSequence, Charset.forName(System.getProperty(&quot;native.encoding&quot;, Charset.defaultCharset().name())));\r\n        }\r\n    \r\n        public CharSequenceInputStream(CharSequence charSequence, Charset outputEncoding) {\r\n            this.charSequence = charSequence;\r\n            this.outputEncoding = outputEncoding;\r\n            position = 0;\r\n            enc = outputEncoding.newEncoder();\r\n            cb = CharBuffer.allocate(1);\r\n            bb = ByteBuffer.allocate(8);\r\n        }\r\n    \r\n        // For testing only\r\n        public static void main(String[] args) throws IOException {\r\n            if (args.length &lt; 2) {\r\n                System.err.printf(&quot;Usage: java CharSequenceInputStream &lt;String to be stored&gt; &lt;Output file&gt; [Char encoding for output]&quot;);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String content = args[0];\r\n            String outputPath = args[1];\r\n            StringBuilder sb = new StringBuilder(content);\r\n            CharSequenceInputStream in = null;\r\n            if (args.length &gt; 2) {\r\n                in = new CharSequenceInputStream(sb, Charset.forName(args[2]));\r\n            } else {\r\n                in = new CharSequenceInputStream(sb);\r\n            }\r\n    \r\n            try (OutputStream out = new FileOutputStream(outputPath)) {\r\n                int bytesRead = -1;\r\n                final int BUF_SIZE = 8;\r\n                byte[] buf = new byte[BUF_SIZE];\r\n                while ((bytesRead = in.read(buf, 0, BUF_SIZE)) &gt; -1) {\r\n                    out.write(buf, 0, bytesRead);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int read() throws IOException {\r\n            int result = -1;\r\n            if (position &lt; charSequence.length()) {\r\n                if (bb.remaining() == bb.capacity() || bb.position() == bb.limit()) {\r\n                    // At start - nothing yet has been decoded\r\n                    // OR - we&#39;ve read all bytes in the buffer and need to refill it\r\n                    cb.clear();\r\n                    bb.clear();\r\n                    char currentChar = charSequence.charAt(position++);\r\n                    cb.append(currentChar);\r\n                    cb.flip();\r\n                    enc.reset();\r\n                    enc.encode(cb, bb, false);\r\n                    enc.encode(cb, bb, true);\r\n                    enc.flush(bb);\r\n                    bb.flip();\r\n                }\r\n            }\r\n            if (bb.position() &lt; bb.limit()) {\r\n                result = bb.get() &amp; 0xFF;\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public int read(byte[] b) throws IOException {\r\n            return read(b, 0, b.length);\r\n        }\r\n    \r\n        @Override\r\n        public int read(byte b[], int off, int len) throws IOException {\r\n            Objects.checkFromIndexSize(off, len, b.length);\r\n            if (len == 0) {\r\n                return 0;\r\n            }\r\n    \r\n            int c = read();\r\n            if (c == -1) {\r\n                return -1;\r\n            }\r\n            b[off] = (byte) c;\r\n    \r\n            int i = 1;\r\n            try {\r\n                for (; i &lt; len; i++) {\r\n                    c = read();\r\n                    if (c == -1) {\r\n                        break;\r\n                    }\r\n                    b[off + i] = (byte) c;\r\n                }\r\n            } catch (IOException ee) {\r\n            }\r\n            return i;\r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n            // NO OP\r\n        }\r\n    }\r\n\r\n","title":"Writing StringBuilder to AWS S3 File","body":"<p>The string-oriented classes are frustratingly locked down with <code>final</code> in many cases, which means that oftentimes buffers that already exist in memory have to be duplicated. This is probably to do with security but is nevertheless wasteful and frustrating. You should be able to do something with the following if you have a <code>StringBuilder</code>. Obviously you'll need a much bigger buffer than in the <em>illustrative</em> <code>main</code>  method.</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.FilterInputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileOutputStream;\n\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.CharsetEncoder;\nimport java.nio.charset.Charset;\n\nimport java.util.Objects;\n\n/**\n *\n * @author CEHJ\n * @version 1.0\n */\npublic class CharSequenceInputStream extends InputStream {\n    private CharSequence charSequence;\n    private int position;\n    private CharsetEncoder enc;\n    private Charset outputEncoding;\n    private CharBuffer cb;\n    private ByteBuffer bb;\n\n    public CharSequenceInputStream(CharSequence charSequence) {\n        this(charSequence, Charset.forName(System.getProperty(&quot;native.encoding&quot;, Charset.defaultCharset().name())));\n    }\n\n    public CharSequenceInputStream(CharSequence charSequence, Charset outputEncoding) {\n        this.charSequence = charSequence;\n        this.outputEncoding = outputEncoding;\n        position = 0;\n        enc = outputEncoding.newEncoder();\n        cb = CharBuffer.allocate(1);\n        bb = ByteBuffer.allocate(8);\n    }\n\n    // For testing only\n    public static void main(String[] args) throws IOException {\n        if (args.length &lt; 2) {\n            System.err.printf(&quot;Usage: java CharSequenceInputStream &lt;String to be stored&gt; &lt;Output file&gt; [Char encoding for output]&quot;);\n            System.exit(1);\n        }\n\n        String content = args[0];\n        String outputPath = args[1];\n        StringBuilder sb = new StringBuilder(content);\n        CharSequenceInputStream in = null;\n        if (args.length &gt; 2) {\n            in = new CharSequenceInputStream(sb, Charset.forName(args[2]));\n        } else {\n            in = new CharSequenceInputStream(sb);\n        }\n\n        try (OutputStream out = new FileOutputStream(outputPath)) {\n            int bytesRead = -1;\n            final int BUF_SIZE = 8;\n            byte[] buf = new byte[BUF_SIZE];\n            while ((bytesRead = in.read(buf, 0, BUF_SIZE)) &gt; -1) {\n                out.write(buf, 0, bytesRead);\n            }\n        }\n    }\n\n    @Override\n    public int read() throws IOException {\n        int result = -1;\n        if (position &lt; charSequence.length()) {\n            if (bb.remaining() == bb.capacity() || bb.position() == bb.limit()) {\n                // At start - nothing yet has been decoded\n                // OR - we've read all bytes in the buffer and need to refill it\n                cb.clear();\n                bb.clear();\n                char currentChar = charSequence.charAt(position++);\n                cb.append(currentChar);\n                cb.flip();\n                enc.reset();\n                enc.encode(cb, bb, false);\n                enc.encode(cb, bb, true);\n                enc.flush(bb);\n                bb.flip();\n            }\n        }\n        if (bb.position() &lt; bb.limit()) {\n            result = bb.get() &amp; 0xFF;\n        }\n\n        return result;\n    }\n\n    @Override\n    public int read(byte[] b) throws IOException {\n        return read(b, 0, b.length);\n    }\n\n    @Override\n    public int read(byte b[], int off, int len) throws IOException {\n        Objects.checkFromIndexSize(off, len, b.length);\n        if (len == 0) {\n            return 0;\n        }\n\n        int c = read();\n        if (c == -1) {\n            return -1;\n        }\n        b[off] = (byte) c;\n\n        int i = 1;\n        try {\n            for (; i &lt; len; i++) {\n                c = read();\n                if (c == -1) {\n                    break;\n                }\n                b[off + i] = (byte) c;\n            }\n        } catch (IOException ee) {\n        }\n        return i;\n    }\n\n    @Override\n    public void close() {\n        // NO OP\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666275497,"creation_date":1666079232,"question_id":74107454,"body_markdown":"I have a `StringBuilder` (**~1GB** size)  which converts to an almost **1GB** `String`. Then it is sent to `AWSS3Client` to be put as a file on `s3`. Now to write the String to `s3`, I need to further convert the string to a `ByteArrayInputStream`, which takes another **1GB**. \r\n\r\n    InputStream dataInputStream = new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8));\r\n    amazonS3Client.putObject(bucket, key, dataInputStream, new ObjectMetadata());\r\n\r\nNow I end up with a JVM heap of **3GB**. Is there a way to directly send the 1GB `StringBuilder` directly to `S3` with little over `1GB` heap?\r\n\r\nThe only way I could think of is to convert `StringBuilder` to a `File` instance (using FileWriter) --&gt; *S3 API which takes File as input*. But this approach requires a `2-IOPS` to the `SSD` -- penalty that I want to avoid. \r\n\r\nAny better way to handle the problem is welcome.\r\n\r\n**[edit 1]**\r\n(as per comments) The `builder` size changed from `5GB` to `1GB`. I wanted to convey that the `builder`is a huge one (and hence used 5GB previously, which was my mistake)","title":"Writing StringBuilder to AWS S3 File","body":"<p>I have a <code>StringBuilder</code> (<strong>~1GB</strong> size)  which converts to an almost <strong>1GB</strong> <code>String</code>. Then it is sent to <code>AWSS3Client</code> to be put as a file on <code>s3</code>. Now to write the String to <code>s3</code>, I need to further convert the string to a <code>ByteArrayInputStream</code>, which takes another <strong>1GB</strong>.</p>\n<pre><code>InputStream dataInputStream = new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8));\namazonS3Client.putObject(bucket, key, dataInputStream, new ObjectMetadata());\n</code></pre>\n<p>Now I end up with a JVM heap of <strong>3GB</strong>. Is there a way to directly send the 1GB <code>StringBuilder</code> directly to <code>S3</code> with little over <code>1GB</code> heap?</p>\n<p>The only way I could think of is to convert <code>StringBuilder</code> to a <code>File</code> instance (using FileWriter) --&gt; <em>S3 API which takes File as input</em>. But this approach requires a <code>2-IOPS</code> to the <code>SSD</code> -- penalty that I want to avoid.</p>\n<p>Any better way to handle the problem is welcome.</p>\n<p><strong>[edit 1]</strong>\n(as per comments) The <code>builder</code> size changed from <code>5GB</code> to <code>1GB</code>. I wanted to convey that the <code>builder</code>is a huge one (and hence used 5GB previously, which was my mistake)</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666276421,"post_id":74141380,"comment_id":130902652,"body_markdown":"Does this answer your question? [Spring Boot &amp; Hibernate: NVARCHAR column type without @Type annotation](https://stackoverflow.com/questions/61359440/spring-boot-hibernate-nvarchar-column-type-without-type-annotation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61359440/spring-boot-hibernate-nvarchar-column-type-without-type-annotation\">Spring Boot &amp; Hibernate: NVARCHAR column type without @Type annotation</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666276539,"post_id":74141380,"comment_id":130902698,"body_markdown":"If I understand it correctly, you should be able to just set a property to enable nationalization. Then you just have to maintain 2 different configs, which seems easier than 2 mappings","body":"If I understand it correctly, you should be able to just set a property to enable nationalization. Then you just have to maintain 2 different configs, which seems easier than 2 mappings"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1667810587,"post_id":74141380,"comment_id":131247607,"body_markdown":"Use a schema management tool like e.g. Liquibase or Flyway to manage the schemas for the different database types.","body":"Use a schema management tool like e.g. Liquibase or Flyway to manage the schemas for the different database types."}],"owner":{"account_id":3572531,"reputation":1954,"user_id":2982518,"accept_rate":68,"display_name":"Genzotto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666275199,"creation_date":1666275199,"question_id":74141380,"body_markdown":"At the moment, I&#39;m working with an Oracle database (let&#39;s call it Database A) where every string column is defined as VARCHAR2. I&#39;m using Hibernate 5 as my ORM, and all my string fields are mapped like these:\r\n\r\n    @Column(name = &quot;MY_FIELD&quot;, length = 120)\r\n    private String myField;\r\n\r\nThis Database A is used on a general software which is used by several customers, all of them having the same database and software installation. Recently, one of our customers requested to change all the VARCHAR2 fields from their database to NVARCHAR2. The rest of the columns, tables, keys... will remain the same.\r\n\r\nI was thinking on using the same model for this modified database (Database B), but unfortunately, the mappings I had for the string fields didn&#39;t work on Database B. I found that the NVARCHAR2 fields can be mapped in the following way on Hibernate:\r\n\r\n    @Column(name = &quot;MY_FIELD&quot;, length = 120)\r\n    @Nationalized\r\n    private String myField;\r\n\r\nI tested it and it works. However, to have it working for both databases, I&#39;ll have to create a completely different data model for Database B only to adapt the mappings of the String fields, or overriding the affected mappings from Database A. Anyway, there will be two models to maitain, and the only difference between them will be the VARCHAR2/NVARCHAR2 topic.\r\n\r\nI don&#39;t know if there&#39;s a way to map a String field on Hibernate to accept either VARCHAR2 and NVARCHAR2 fields. This way, I can only have one model to work with two databases, and I&#39;ll only have one data model to maintain. Or any other design solution to avoid having two different models to maintain every time a database change has to be done.\r\n\r\nThank you so much in advance.","title":"Mapping string field on Hibernate to accept both VARCHAR2 and NVARCHAR2","body":"<p>At the moment, I'm working with an Oracle database (let's call it Database A) where every string column is defined as VARCHAR2. I'm using Hibernate 5 as my ORM, and all my string fields are mapped like these:</p>\n<pre><code>@Column(name = &quot;MY_FIELD&quot;, length = 120)\nprivate String myField;\n</code></pre>\n<p>This Database A is used on a general software which is used by several customers, all of them having the same database and software installation. Recently, one of our customers requested to change all the VARCHAR2 fields from their database to NVARCHAR2. The rest of the columns, tables, keys... will remain the same.</p>\n<p>I was thinking on using the same model for this modified database (Database B), but unfortunately, the mappings I had for the string fields didn't work on Database B. I found that the NVARCHAR2 fields can be mapped in the following way on Hibernate:</p>\n<pre><code>@Column(name = &quot;MY_FIELD&quot;, length = 120)\n@Nationalized\nprivate String myField;\n</code></pre>\n<p>I tested it and it works. However, to have it working for both databases, I'll have to create a completely different data model for Database B only to adapt the mappings of the String fields, or overriding the affected mappings from Database A. Anyway, there will be two models to maitain, and the only difference between them will be the VARCHAR2/NVARCHAR2 topic.</p>\n<p>I don't know if there's a way to map a String field on Hibernate to accept either VARCHAR2 and NVARCHAR2 fields. This way, I can only have one model to work with two databases, and I'll only have one data model to maintain. Or any other design solution to avoid having two different models to maintain every time a database change has to be done.</p>\n<p>Thank you so much in advance.</p>\n"},{"tags":["java","class","oop","interface","rule-engine"],"comments":[{"owner":{"account_id":15150136,"reputation":45,"user_id":14164674,"display_name":"Ant&#243;nio"},"score":0,"creation_date":1665939366,"post_id":74088926,"comment_id":130811521,"body_markdown":"I am looking at transforming the main method code to something like: System.out.println(teste -&gt; isBlue || isSad)","body":"I am looking at transforming the main method code to something like: System.out.println(teste -&gt; isBlue || isSad)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665950518,"post_id":74088926,"comment_id":130813892,"body_markdown":"Post clarifications as edits to the Question rather than as Comments.","body":"Post clarifications as edits to the Question rather than as Comments."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665950754,"post_id":74088926,"comment_id":130813940,"body_markdown":"A more realistic practical scenario might improve this Question.","body":"A more realistic practical scenario might improve this Question."}],"answers":[{"tags":[],"owner":{"account_id":15150136,"reputation":45,"user_id":14164674,"display_name":"Ant&#243;nio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666275081,"creation_date":1666275081,"answer_id":74141351,"question_id":74088926,"body_markdown":"Predicates was what I was looking:\r\n\r\n```\r\npackage testRulesEngine;\r\n\r\nimport java.util.function.Predicate;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString teste = &quot;bigbluesad&quot;;\r\n\t\t\r\n\t\tPredicate&lt;String&gt; isBlue = x -&gt; x.contains(&quot;blue&quot;);\r\n\t\t\r\n\t\tPredicate&lt;String&gt; isGreen = x -&gt; x.contains(&quot;green&quot;);\r\n\t\t\r\n\t\tPredicate&lt;String&gt; isSad = x -&gt; x.contains(&quot;sad&quot;);\t\t\r\n\t\t\r\n\t\tSystem.out.println(isBlue.and(isGreen).and(isSad).test(teste));\r\n\t\t\r\n\t}\r\n\r\n}\r\n&#180;&#180;&#180;","title":"Simplify and generalize implementation of check conditions","body":"<p>Predicates was what I was looking:</p>\n<pre><code>package testRulesEngine;\n\nimport java.util.function.Predicate;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        \n        String teste = &quot;bigbluesad&quot;;\n        \n        Predicate&lt;String&gt; isBlue = x -&gt; x.contains(&quot;blue&quot;);\n        \n        Predicate&lt;String&gt; isGreen = x -&gt; x.contains(&quot;green&quot;);\n        \n        Predicate&lt;String&gt; isSad = x -&gt; x.contains(&quot;sad&quot;);       \n        \n        System.out.println(isBlue.and(isGreen).and(isSad).test(teste));\n        \n    }\n\n}\n¬¥¬¥¬¥\n</code></pre>\n"}],"owner":{"account_id":15150136,"reputation":45,"user_id":14164674,"display_name":"Ant&#243;nio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666275081,"creation_date":1665938346,"question_id":74088926,"body_markdown":"How could I implement/generalize the code below (just illustrative) to shorten/simplify the implementation of different check conditions? For example: by replacing new Model1().checkCondition(teste) by something like &quot;teste -&gt; isBlue || isSad. Thus:\r\n\r\n1) avoid having to implement classes to implement different check conditions\r\n2) avoid having to pass the Str multiple times to each method is... (e.g. isSad(string) || isBlue(string))\r\n\r\nThank you,\r\nAnt&#243;nio.\r\n\r\n```\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString teste = &quot;bigbluesad&quot;;\r\n\t\t\r\n\t\tSystem.out.println(new Model1().checkCondition(teste));\r\n\t\t\r\n\t\tSystem.out.println(new Model2().checkCondition(teste));\r\n\t\t\r\n\t\tSystem.out.println(new Model3().checkCondition(teste));\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nclass Model1 implements Interface {\r\n\t\r\n\tpublic boolean checkCondition(String str) {\r\n\t\treturn isBlue(str) || isSad(str);\r\n\t}\r\n\t\r\n}\r\n\r\nclass Model2 implements Interface {\r\n\t\r\n\tpublic boolean checkCondition(String str) {\r\n\t\treturn isBlue(str) &amp;&amp; isHappy(str);\r\n\t}\r\n\t\r\n}\r\n\r\nclass Model3 implements Interface {\r\n\t\r\n\tpublic boolean checkCondition(String str) {\r\n\t\treturn isGreen(str) &amp;&amp; isSad(str);\r\n\t}\r\n\t\r\n}\r\n\r\ninterface Interface {\r\n\tboolean checkCondition(String str);\r\n\t\r\n\tdefault boolean isGreen(String str) {\r\n\t\treturn str.contains(&quot;green&quot;);\r\n\t}\r\n\t\r\n\tdefault boolean isSmall(String str) {\r\n\t\treturn str.contains(&quot;small&quot;);\r\n\t}\r\n\t\r\n\tdefault boolean isBlue(String str) {\r\n\t\treturn str.contains(&quot;blue&quot;);\r\n\t}\r\n\t\r\n\tdefault boolean isHappy(String str) {\r\n\t\treturn str.contains(&quot;happy&quot;);\r\n\t}\r\n\t\r\n\tdefault boolean isSad(String str) {\r\n\t\treturn str.contains(&quot;sad&quot;);\r\n\t}\r\n}\t\r\n```","title":"Simplify and generalize implementation of check conditions","body":"<p>How could I implement/generalize the code below (just illustrative) to shorten/simplify the implementation of different check conditions? For example: by replacing new Model1().checkCondition(teste) by something like &quot;teste -&gt; isBlue || isSad. Thus:</p>\n<ol>\n<li>avoid having to implement classes to implement different check conditions</li>\n<li>avoid having to pass the Str multiple times to each method is... (e.g. isSad(string) || isBlue(string))</li>\n</ol>\n<p>Thank you,\nAnt√≥nio.</p>\n<pre><code>public class Main {\n    \n    public static void main(String[] args) {\n        \n        String teste = &quot;bigbluesad&quot;;\n        \n        System.out.println(new Model1().checkCondition(teste));\n        \n        System.out.println(new Model2().checkCondition(teste));\n        \n        System.out.println(new Model3().checkCondition(teste));\n        \n    }\n\n}\n\nclass Model1 implements Interface {\n    \n    public boolean checkCondition(String str) {\n        return isBlue(str) || isSad(str);\n    }\n    \n}\n\nclass Model2 implements Interface {\n    \n    public boolean checkCondition(String str) {\n        return isBlue(str) &amp;&amp; isHappy(str);\n    }\n    \n}\n\nclass Model3 implements Interface {\n    \n    public boolean checkCondition(String str) {\n        return isGreen(str) &amp;&amp; isSad(str);\n    }\n    \n}\n\ninterface Interface {\n    boolean checkCondition(String str);\n    \n    default boolean isGreen(String str) {\n        return str.contains(&quot;green&quot;);\n    }\n    \n    default boolean isSmall(String str) {\n        return str.contains(&quot;small&quot;);\n    }\n    \n    default boolean isBlue(String str) {\n        return str.contains(&quot;blue&quot;);\n    }\n    \n    default boolean isHappy(String str) {\n        return str.contains(&quot;happy&quot;);\n    }\n    \n    default boolean isSad(String str) {\n        return str.contains(&quot;sad&quot;);\n    }\n}   \n</code></pre>\n"},{"tags":["java","generics","interface","bounded-wildcard","bounded-types"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1666253485,"post_id":74136417,"comment_id":130893522,"body_markdown":"show your verify(itemProcess) method signature...","body":"show your verify(itemProcess) method signature..."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1666253544,"post_id":74136417,"comment_id":130893544,"body_markdown":"Why did you expect this to work in the first place? Did you mean to write `SegmentPageScanResult&lt;Attachment&gt; segmentPageScanResult = SegmentPageScanResult.builder();` instead?","body":"Why did you expect this to work in the first place? Did you mean to write <code>SegmentPageScanResult&lt;Attachment&gt; segmentPageScanResult = SegmentPageScanResult.builder();</code> instead?"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666254199,"post_id":74136417,"comment_id":130893788,"body_markdown":"A class can&#39;t extend an interface. It can only implement it","body":"A class can&#39;t extend an interface. It can only implement it"},{"owner":{"account_id":7096798,"reputation":15,"user_id":5430031,"display_name":"Megha Agarwal"},"score":0,"creation_date":1666259511,"post_id":74136417,"comment_id":130895860,"body_markdown":"@Sweeper I tried with SegmentPageScanResult&lt;Attachment&gt; as well, but then the same error was coming in the builder like ```Required type: SegmentPageScanResult&lt;Attachment&gt;\nProvided: SegmentPageScanResult&lt;ScannableEntity&gt;```","body":"@Sweeper I tried with SegmentPageScanResult&lt;Attachment&gt; as well, but then the same error was coming in the builder like <code>Required type: SegmentPageScanResult&lt;Attachment&gt; Provided: SegmentPageScanResult&lt;ScannableEntity&gt;</code>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666260028,"post_id":74136417,"comment_id":130896047,"body_markdown":"Please show a [mcve] of that.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of that."},{"owner":{"account_id":7096798,"reputation":15,"user_id":5430031,"display_name":"Megha Agarwal"},"score":0,"creation_date":1666261232,"post_id":74136417,"comment_id":130896481,"body_markdown":"@Sweeper I updated the the question above with more details.","body":"@Sweeper I updated the the question above with more details."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1666271924,"post_id":74136417,"comment_id":130900537,"body_markdown":"@JCompetence verify() is a standard method of the Mockito framework. Its signature is not relevant here","body":"@JCompetence verify() is a standard method of the Mockito framework. Its signature is not relevant here"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1666271979,"post_id":74136417,"comment_id":130900563,"body_markdown":"@ChristophS. There is no class here extending an interface. `&lt;TEntity extends ScannableEntity&gt;` is a valid expression of a type parameter.","body":"@ChristophS. There is no class here extending an interface. <code>&lt;TEntity extends ScannableEntity&gt;</code> is a valid expression of a type parameter."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666287886,"post_id":74136417,"comment_id":130907140,"body_markdown":"@AdriaanKoster Sorry, my fault","body":"@AdriaanKoster Sorry, my fault"}],"answers":[{"comments":[{"owner":{"account_id":7096798,"reputation":15,"user_id":5430031,"display_name":"Megha Agarwal"},"score":0,"creation_date":1666260293,"post_id":74136614,"comment_id":130896148,"body_markdown":"You are right, when I change it to `ItemProcessor&lt; ScannableEntity&gt;` it works. But I need to create the instances of the classes, like `Attachment` and not the interface like `ScannableEntity`.","body":"You are right, when I change it to <code>ItemProcessor&lt; ScannableEntity&gt;</code> it works. But I need to create the instances of the classes, like <code>Attachment</code> and not the interface like <code>ScannableEntity</code>."},{"owner":{"account_id":7096798,"reputation":15,"user_id":5430031,"display_name":"Megha Agarwal"},"score":0,"creation_date":1666370144,"post_id":74136614,"comment_id":130928839,"body_markdown":"Thanks for the edited response! Actually replacing the `SegmentPageScanResult .builder()` with `new SegmentPageScanResult()` along with your original answer fixed the issue.","body":"Thanks for the edited response! Actually replacing the <code>SegmentPageScanResult .builder()</code> with <code>new SegmentPageScanResult()</code> along with your original answer fixed the issue."}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666274985,"creation_date":1666254185,"answer_id":74136614,"question_id":74136417,"body_markdown":"I think you might have done:\r\n\r\n    ItemProcessor&lt;Attachment&gt; itemProcessor = new ItemProcessor&lt;&gt;();\r\n\r\nAnd you also have:\r\n\r\n    SegmentPageScanResult&lt;ScannableEntity&gt; segmentPageScanResult = ...\r\n\r\nSo when you call:\r\n\r\n    itemProcessor.submitAndExecute(segmentPageScanResult, TEST_SEGMENT_ID, TEST_SCAN_ID);\r\n\r\nThere is a mismatch between the type of the itemProcessor (Attachment) and SegmentPageScanResult (ScannableEntity). So you probably need to create the ItemProcessor and the SegmentPageScanResult with the same type parameter.\r\n\r\nEDIT: It&#39;s not completely clear what you are trying to achieve but maybe this can help:\r\n\r\n    public class ItemProcessor&lt;T extends ScannableEntity&gt; {\r\n    \r\n        private List&lt;T&gt; items;\r\n    \r\n        void submitAndExecute(SegmentPageScanResult pageScanResult) {\r\n            pageScanResult.setScannedItems(items);\r\n        }\r\n    }\r\n\r\n    public class SegmentPageScanResult {\r\n    \r\n        private final List&lt;ScannableEntity&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n        public void setScannedItems(List&lt;? extends ScannableEntity&gt; items) {\r\n            this.items.addAll(items);\r\n        }\r\n    }\r\n\r\nSo the SegmentPageScanResult no longer has a type parameter because it only handles ScannableEntity instances. To allow setting different types from each ItemProcessor, the method parameter allows subtypes with `List&lt;? extends ScannableEntity&gt;`","title":"Not able to create generic bounded class objects with interface","body":"<p>I think you might have done:</p>\n<pre><code>ItemProcessor&lt;Attachment&gt; itemProcessor = new ItemProcessor&lt;&gt;();\n</code></pre>\n<p>And you also have:</p>\n<pre><code>SegmentPageScanResult&lt;ScannableEntity&gt; segmentPageScanResult = ...\n</code></pre>\n<p>So when you call:</p>\n<pre><code>itemProcessor.submitAndExecute(segmentPageScanResult, TEST_SEGMENT_ID, TEST_SCAN_ID);\n</code></pre>\n<p>There is a mismatch between the type of the itemProcessor (Attachment) and SegmentPageScanResult (ScannableEntity). So you probably need to create the ItemProcessor and the SegmentPageScanResult with the same type parameter.</p>\n<p>EDIT: It's not completely clear what you are trying to achieve but maybe this can help:</p>\n<pre><code>public class ItemProcessor&lt;T extends ScannableEntity&gt; {\n\n    private List&lt;T&gt; items;\n\n    void submitAndExecute(SegmentPageScanResult pageScanResult) {\n        pageScanResult.setScannedItems(items);\n    }\n}\n\npublic class SegmentPageScanResult {\n\n    private final List&lt;ScannableEntity&gt; items = new ArrayList&lt;&gt;();\n\n    public void setScannedItems(List&lt;? extends ScannableEntity&gt; items) {\n        this.items.addAll(items);\n    }\n}\n</code></pre>\n<p>So the SegmentPageScanResult no longer has a type parameter because it only handles ScannableEntity instances. To allow setting different types from each ItemProcessor, the method parameter allows subtypes with <code>List&lt;? extends ScannableEntity&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":26670159,"reputation":1,"user_id":20281707,"display_name":"gitmeturnam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666254584,"creation_date":1666254584,"answer_id":74136691,"question_id":74136417,"body_markdown":"basically the answer is simple: &lt;TEntity extends ScannableEntity&gt; here you specified that a class of type ScannableEntity will come. but you used SegmentPageScanResult&lt;ScannableEntity&gt;, You used the ScannableEntity interface itself, I think that if you use the Attachment class that implements the interface class, not the interface class, the problem will be fixed, for example: You can use it as SegmentPageScanResult&lt;Attachment&gt;.\r\n\r\n","title":"Not able to create generic bounded class objects with interface","body":"<p>basically the answer is simple:  here you specified that a class of type ScannableEntity will come. but you used SegmentPageScanResult, You used the ScannableEntity interface itself, I think that if you use the Attachment class that implements the interface class, not the interface class, the problem will be fixed, for example: You can use it as SegmentPageScanResult.</p>\n"}],"owner":{"account_id":7096798,"reputation":15,"user_id":5430031,"display_name":"Megha Agarwal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74136614,"answer_count":2,"score":0,"last_activity_date":1666274985,"creation_date":1666253314,"question_id":74136417,"body_markdown":"I am trying to use bounded types with generics to create generic objects of subclasses (these implement an interface). But I am getting type mismatch errors when initializing objects with the subclasses.\r\n\r\nHere is the interface:\r\n```\r\npublic interface ScannableEntity {\r\n}\r\n```\r\nHere&#39;s the class that implements this interface: \r\n```\r\npublic final class Attachment implements ScannableEntity {\r\n .\r\n .\r\n .\r\n}\r\n```\r\n\r\nNow I created 2 classes (**SegmentPageScanResult** and **ItemProcessor**) with the bounded generic type as:\r\n```\r\n@Builder\r\npublic class SegmentPageScanResult&lt;TEntity extends ScannableEntity&gt; {\r\n  .\r\n  .\r\n  .\r\n}\r\n```\r\nand \r\n```\r\npublic class ItemProcessor&lt;TEntity extends ScannableEntity&gt; {\r\n\r\n    void submitAndExecute(SegmentPageScanResult&lt;TEntity&gt; pageScanResult) {\r\n          . . .\r\n    }\r\n}\r\n```\r\n\r\nWhen I am trying to initialize the SegmentPageScanResult and try calling `submitAndExecute` method of ItemProcessor from a Unit test as follows:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ScanTest {\r\n\r\n    @Mock\r\n    private ItemProcessor&lt;Attachment&gt; itemProcessor;\r\n\r\n    @Test\r\n    public void testDoScan() {\r\n        Attachment mockRecord = new Attachment();\r\n        SegmentPageScanResult&lt;Attachment&gt; segmentPageScanResult = SegmentPageScanResult.builder()\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n            .scannedItems(ImmutableList.of(mockRecord))\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n            .isLastPage(true)\r\n            ^^^^^^^^^^^^^^^^^\r\n            .build();  \r\n            ^^^^^^^^^      \r\n        verify(itemProcessor).submitAndExecute(segmentPageScanResult);\r\n\r\n    }\r\n}\r\n```\r\n\r\nI get the error - \r\n```\r\nRequired type: SegmentPageScanResult&lt;Attachment&gt;\r\nProvided:SegmentPageScanResult&lt;ScannableEntity&gt;\r\n```\r\n\r\nCan someone please help me understand why I am not able to initialize the generic object with the class implementing the interface?","title":"Not able to create generic bounded class objects with interface","body":"<p>I am trying to use bounded types with generics to create generic objects of subclasses (these implement an interface). But I am getting type mismatch errors when initializing objects with the subclasses.</p>\n<p>Here is the interface:</p>\n<pre><code>public interface ScannableEntity {\n}\n</code></pre>\n<p>Here's the class that implements this interface:</p>\n<pre><code>public final class Attachment implements ScannableEntity {\n .\n .\n .\n}\n</code></pre>\n<p>Now I created 2 classes (<strong>SegmentPageScanResult</strong> and <strong>ItemProcessor</strong>) with the bounded generic type as:</p>\n<pre><code>@Builder\npublic class SegmentPageScanResult&lt;TEntity extends ScannableEntity&gt; {\n  .\n  .\n  .\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ItemProcessor&lt;TEntity extends ScannableEntity&gt; {\n\n    void submitAndExecute(SegmentPageScanResult&lt;TEntity&gt; pageScanResult) {\n          . . .\n    }\n}\n</code></pre>\n<p>When I am trying to initialize the SegmentPageScanResult and try calling <code>submitAndExecute</code> method of ItemProcessor from a Unit test as follows:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ScanTest {\n\n    @Mock\n    private ItemProcessor&lt;Attachment&gt; itemProcessor;\n\n    @Test\n    public void testDoScan() {\n        Attachment mockRecord = new Attachment();\n        SegmentPageScanResult&lt;Attachment&gt; segmentPageScanResult = SegmentPageScanResult.builder()\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            .scannedItems(ImmutableList.of(mockRecord))\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            .isLastPage(true)\n            ^^^^^^^^^^^^^^^^^\n            .build();  \n            ^^^^^^^^^      \n        verify(itemProcessor).submitAndExecute(segmentPageScanResult);\n\n    }\n}\n</code></pre>\n<p>I get the error -</p>\n<pre><code>Required type: SegmentPageScanResult&lt;Attachment&gt;\nProvided:SegmentPageScanResult&lt;ScannableEntity&gt;\n</code></pre>\n<p>Can someone please help me understand why I am not able to initialize the generic object with the class implementing the interface?</p>\n"},{"tags":["java","mysql","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"score":0,"creation_date":1666275741,"post_id":74141195,"comment_id":130902320,"body_markdown":"Thanks you, I was afraid of re working the model. Would you mind recommending some book or webpage to learn more about Data Base design if possible taking into account Spring Data JPA?  Thanks!","body":"Thanks you, I was afraid of re working the model. Would you mind recommending some book or webpage to learn more about Data Base design if possible taking into account Spring Data JPA?  Thanks!"},{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1666276578,"post_id":74141195,"comment_id":130902719,"body_markdown":"hmm, a book... Take a look to &quot;Database Design for Mere Mortals&quot; for example. There is no need to take Spring into account, the database is a primary thing in the design, JPA is just an abstraction layer to represent the real world database in the code.","body":"hmm, a book... Take a look to &quot;Database Design for Mere Mortals&quot; for example. There is no need to take Spring into account, the database is a primary thing in the design, JPA is just an abstraction layer to represent the real world database in the code."}],"tags":[],"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666274393,"creation_date":1666274393,"answer_id":74141195,"question_id":74140803,"body_markdown":"1. AppointmentDate as a separate class looks weird\r\n2. You have @Id private LocalDate date; there, so it must be unique. That&#39;s the reason why you&#39;ve got duplicate key\r\n3. The solution is to redesign the database. Perhaps, storing LocalDate date in Appointment class will do","title":"java.sql.SQLIntegrityConstraintViolationException: Duplicate entry for key of the parent table One-To-Many Bidirectional","body":"<ol>\n<li>AppointmentDate as a separate class looks weird</li>\n<li>You have @Id private LocalDate date; there, so it must be unique. That's the reason why you've got duplicate key</li>\n<li>The solution is to redesign the database. Perhaps, storing LocalDate date in Appointment class will do</li>\n</ol>\n"}],"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666274871,"creation_date":1666272972,"question_id":74140803,"body_markdown":"I am new in jpa. I&#39;ve got a problem with the following relationship between to tables. The relationship is one to many bidirectional. \r\n[enter image description here][1]\r\n\r\nI have the two entities. appointment (child) that has and id autogenerated \r\n\r\n    @Entity\r\n    @Table(name=&quot;appointment&quot;)\r\n    public class Appointment {\t\r\n\t@Id \r\n\t@Column(name = &quot;id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(name=&quot;phone&quot;)\r\n\tprivate long phone;\t\r\n\t@Column(name=&quot;name_patient&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name=&quot;hour_appointment&quot;)\r\n\tprivate LocalTime hourAppointment;\r\n\t\r\n\t@Column(name=&quot;description&quot;)\r\n\tprivate String description; \r\n\r\n\t@ManyToOne(targetEntity = AppointmentDate.class,cascade = CascadeType.ALL)\r\n\tprivate AppointmentDate appointmentDate; \r\n\r\n    //getters and setters \r\n    //empty constructor and constructor with all arguments except id because it is autogenerated }\r\n\r\nThen I have a table with a unique column so far which is the PK  (in the future it is planned to add more columns to this table)\r\n\r\n    @Entity\r\n    @Table(name=&quot;appointment_date&quot;)\r\n    public class AppointmentDate {\r\n\t\t\r\n\t@Id\r\n\tprivate LocalDate date;\r\n\r\n\t@OneToMany(mappedBy = &quot;appointmentDate&quot;)\r\n\tprivate List&lt;Appointment&gt; appointments;\r\n\r\n    //getters and setters \r\n    //empty constructor and constructor with the unique argument } \r\n\r\nI need this bidirectional relationship because whenever the backend gets and PUT request it receives an Appointment JSON then if the date of the appointment (FK) is not in the parent table, hibernate creates it automatically, if the date already exists so it just add the new row with the new appointment entity data with the same and previous created FK. \r\n\r\nSo, when I send these 2 JSONs one after another via a PUT method: \r\n\r\n    {\r\n    &quot;phone&quot;: &quot;12345&quot;,\r\n    &quot;name&quot;:&quot;Anabel&quot;,\r\n    &quot;hourAppointment&quot;:&quot;09:30&quot;,\r\n    &quot;description&quot; : &quot;She is sick&quot;,\r\n    &quot;appointmentDate&quot;: {\r\n        &quot;date&quot;: &quot;2023-01-01&quot;\r\n    }}\r\n\r\nthe second JSON\r\n\r\n    {\r\n    &quot;phone&quot;: &quot;54321&quot;,\r\n    &quot;name&quot;:&quot;Michael&quot;,\r\n    &quot;hourAppointment&quot;:&quot;10:30&quot;,\r\n    &quot;description&quot; : &quot;Broken Arms&quot;,\r\n    &quot;appointmentDate&quot;: {\r\n        &quot;date&quot;: &quot;2023-01-01&quot;\r\n    }}\r\n\r\n I got the following exception \r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;2023-01-01&#39; for key &#39;appointment_date.PRIMARY&#39;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeInserts(ActionQueue.java:461) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:258) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy102.persist(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy102.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.3.jar:2.7.3]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.3.jar:2.7.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy108.save(Unknown Source) ~[na:na]\r\n\tat com.taras.services.AppointmentService.addAppointment(AppointmentService.java:40) ~[classes/:na]\r\n\tat com.taras.controller.AppointmentController.addAppointment(AppointmentController.java:46) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n\r\nIt doesn&#39;t make any sense since it is a many to one relationship, it should accept as many entities with the same FK as needed. \r\n\r\nThis is the application.properties for the mysql container \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:13306/consultorioDB?useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=*** \r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect \r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nI think it is because of the autogeneration of id in appointment entity. \r\nBut I really need to autogenerate the ID and have a PK of AppointmentDate to be set manually. \r\n\r\nAny idea? Please any clarification need, feel free to comment. \r\nThis is my first question in stackoverflow. \r\nThanks and cheers. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/17MIg.png","title":"java.sql.SQLIntegrityConstraintViolationException: Duplicate entry for key of the parent table One-To-Many Bidirectional","body":"<p>I am new in jpa. I've got a problem with the following relationship between to tables. The relationship is one to many bidirectional.\n<a href=\"https://i.stack.imgur.com/17MIg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have the two entities. appointment (child) that has and id autogenerated</p>\n<pre><code>@Entity\n@Table(name=&quot;appointment&quot;)\npublic class Appointment {  \n@Id \n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(name=&quot;phone&quot;)\nprivate long phone; \n@Column(name=&quot;name_patient&quot;)\nprivate String name;\n\n@Column(name=&quot;hour_appointment&quot;)\nprivate LocalTime hourAppointment;\n\n@Column(name=&quot;description&quot;)\nprivate String description; \n\n@ManyToOne(targetEntity = AppointmentDate.class,cascade = CascadeType.ALL)\nprivate AppointmentDate appointmentDate; \n\n//getters and setters \n//empty constructor and constructor with all arguments except id because it is autogenerated }\n</code></pre>\n<p>Then I have a table with a unique column so far which is the PK  (in the future it is planned to add more columns to this table)</p>\n<pre><code>@Entity\n@Table(name=&quot;appointment_date&quot;)\npublic class AppointmentDate {\n    \n@Id\nprivate LocalDate date;\n\n@OneToMany(mappedBy = &quot;appointmentDate&quot;)\nprivate List&lt;Appointment&gt; appointments;\n\n//getters and setters \n//empty constructor and constructor with the unique argument } \n</code></pre>\n<p>I need this bidirectional relationship because whenever the backend gets and PUT request it receives an Appointment JSON then if the date of the appointment (FK) is not in the parent table, hibernate creates it automatically, if the date already exists so it just add the new row with the new appointment entity data with the same and previous created FK.</p>\n<p>So, when I send these 2 JSONs one after another via a PUT method:</p>\n<pre><code>{\n&quot;phone&quot;: &quot;12345&quot;,\n&quot;name&quot;:&quot;Anabel&quot;,\n&quot;hourAppointment&quot;:&quot;09:30&quot;,\n&quot;description&quot; : &quot;She is sick&quot;,\n&quot;appointmentDate&quot;: {\n    &quot;date&quot;: &quot;2023-01-01&quot;\n}}\n</code></pre>\n<p>the second JSON</p>\n<pre><code>{\n&quot;phone&quot;: &quot;54321&quot;,\n&quot;name&quot;:&quot;Michael&quot;,\n&quot;hourAppointment&quot;:&quot;10:30&quot;,\n&quot;description&quot; : &quot;Broken Arms&quot;,\n&quot;appointmentDate&quot;: {\n    &quot;date&quot;: &quot;2023-01-01&quot;\n}}\n</code></pre>\n<p>I got the following exception</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '2023-01-01' for key 'appointment_date.PRIMARY'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.30.jar:8.0.30]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.engine.spi.ActionQueue.executeInserts(ActionQueue.java:461) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:258) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.23.jar:5.3.23]\nat com.sun.proxy.$Proxy102.persist(Unknown Source) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\nat com.sun.proxy.$Proxy102.persist(Unknown Source) ~[na:na]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.3.jar:2.7.3]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.3.jar:2.7.3]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.3.jar:2.7.3]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\nat com.sun.proxy.$Proxy108.save(Unknown Source) ~[na:na]\nat com.taras.services.AppointmentService.addAppointment(AppointmentService.java:40) ~[classes/:na]\nat com.taras.controller.AppointmentController.addAppointment(AppointmentController.java:46) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\nat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>It doesn't make any sense since it is a many to one relationship, it should accept as many entities with the same FK as needed.</p>\n<p>This is the application.properties for the mysql container</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:13306/consultorioDB?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=*** \n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect \nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I think it is because of the autogeneration of id in appointment entity.\nBut I really need to autogenerate the ID and have a PK of AppointmentDate to be set manually.</p>\n<p>Any idea? Please any clarification need, feel free to comment.\nThis is my first question in stackoverflow.\nThanks and cheers.</p>\n"},{"tags":["java","multithreading","countdownlatch","reentrantreadwritelock","cyclicbarrier"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666279126,"post_id":74141263,"comment_id":130903867,"body_markdown":"I believe your full-locking solution is the best possible.  You can&#39;t allow writes while flushing; you can&#39;t give up the lock earlier (or another 25 elements might race the first 25 elements).  I don&#39;t think anything finer-grained will work.","body":"I believe your full-locking solution is the best possible.  You can&#39;t allow writes while flushing; you can&#39;t give up the lock earlier (or another 25 elements might race the first 25 elements).  I don&#39;t think anything finer-grained will work."},{"owner":{"account_id":2149683,"reputation":537,"user_id":1906450,"display_name":"user1906450"},"score":0,"creation_date":1666336695,"post_id":74141263,"comment_id":130917243,"body_markdown":"thank you Louis... there is actually a way cassandra achieves it... im trying to go through their codebase..bt kinda difficult to understand it...https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlHowDataWritten.html ... quote- Cassandra blocks writes until the next flush succeeds- end quote","body":"thank you Louis... there is actually a way cassandra achieves it... im trying to go through their codebase..bt kinda difficult to understand it...<a href=\"https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlHowDataWritten.html\" rel=\"nofollow noreferrer\">docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/&hellip;</a> ... quote- Cassandra blocks writes until the next flush succeeds- end quote"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1666352372,"post_id":74141263,"comment_id":130922404,"body_markdown":"If it &quot;blocks writes until the next flush succeeds,&quot; then that&#39;s the same thing as your full lock.","body":"If it &quot;blocks writes until the next flush succeeds,&quot; then that&#39;s the same thing as your full lock."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666418640,"post_id":74141263,"comment_id":130937102,"body_markdown":"I think it&#39;s possible to implement this in a non-blocking way, but instead you would need to be able to signal a failed write (i.e., `addToData` needs to return something or throw an exception during the flush). Then, the calling thread could continue to do other work and retry adding later, or just give up, or whatever it wants to do. If you want it to wait until the data can be added, however, then a blocking lock acquisition is the best bet.","body":"I think it&#39;s possible to implement this in a non-blocking way, but instead you would need to be able to signal a failed write (i.e., <code>addToData</code> needs to return something or throw an exception during the flush). Then, the calling thread could continue to do other work and retry adding later, or just give up, or whatever it wants to do. If you want it to wait until the data can be added, however, then a blocking lock acquisition is the best bet."},{"owner":{"account_id":2149683,"reputation":537,"user_id":1906450,"display_name":"user1906450"},"score":0,"creation_date":1666447469,"post_id":74141263,"comment_id":130941626,"body_markdown":"Not a 100% sure but i was thinking , the issue with Countdownlatch is it does not reset. if i am able to reset the countdown latch, i think it is possible to block add while flush ongoing . still trying to figure out a way to create a resettable countdownlatch, and test it though. however i still think , even with that solution, there might be cases where size of the data structure would breach the limit of 25 :(","body":"Not a 100% sure but i was thinking , the issue with Countdownlatch is it does not reset. if i am able to reset the countdown latch, i think it is possible to block add while flush ongoing . still trying to figure out a way to create a resettable countdownlatch, and test it though. however i still think , even with that solution, there might be cases where size of the data structure would breach the limit of 25 :("}],"owner":{"account_id":2149683,"reputation":537,"user_id":1906450,"display_name":"user1906450"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666274708,"creation_date":1666274708,"question_id":74141263,"body_markdown":"Working in a very simple use case challenge( just something self inflicted)\r\n&lt;br&gt;Use case: A collection, that just writes data to it. &lt;br&gt;The caveat is : once it reaches a certain size (eg:25 size), the data currently in it should be flushed out( say written to disk eg). At no point should the data breached the specified limit and at no point should flush size exceed the data breach.&lt;br&gt; Which essentially also means, while flush is ongoing, data writes should not be allowed. Since add/flush is operating on same data structure.\r\n\r\nThe algorithm works well when everything is single threaded its essentially as simple as \r\n\r\n    while(addToDataAndSizeBreached())\r\n    flushData()\r\n\r\nHowever as expected in multithreaded applications this fails severely. Use case still works but at no point is the data breach respected ( eg : sometimes size of collection would exceed 25, sometimes size of flush would be anything but 25, etc etc)\r\nI went through and reread through my entire collection of java multithreaded dos and donts, however i am still not able to solve it.\r\n\r\n&lt;br&gt;&lt;br&gt; The only thing that works well is taking a lock on the entire thing\r\n\r\n    ReentrantReadWriteLock.WriteLock writeLock = new ReentrantReadWriteLock().writeLock();\r\n    try{\r\n        writeLock.lock();\r\n        while(addToDataAndSizeBreached())\r\n        flushData()\r\n    }finally{\r\n    writeLock.unlock();\r\n    }\r\n\r\n&lt;br&gt; However i am not satisfied with the above approach and wanted to check with you all for a better solution. Kindly guide, i am ok to research and attempt on my own post that\r\n&lt;br&gt;\r\nThings that i have tried:&lt;br&gt;\r\n&lt;li&gt;Taking a complete lock on the entire thing : works well but looking for a better non blocking solution&lt;/li&gt;\r\n&lt;li&gt;Tried using a combination of read and write lock, but since if multiple thread have read lock,write lock waits..this ends up with data structure having a size more than 25&lt;/li&gt;\r\n&lt;li&gt;Tried approaching with synchronizers such as countdownlatch ( not sure how it would work since it does not reset), and cyclicbarrrier( could not understand how to use it , since i would not know the thread count before hand)&lt;/li&gt;\r\n&lt;li&gt;Tried the below solution as well, however data size is not respected and somehow also \r\n    leads to deadlock, which i cant figure out why&lt;/li&gt;&lt;br&gt;\r\n    \r\n\r\n    package com.org.store.ecommerce;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    import java.util.concurrent.locks.ReentrantReadWriteLock;\r\n    \r\n    public class Runner {\r\n    \r\n        static ArrayList l = new ArrayList();\r\n        static AtomicBoolean full = new AtomicBoolean(false);\r\n        static AtomicBoolean flushOnGoing = new AtomicBoolean(false);\r\n        static ReentrantReadWriteLock.WriteLock writeLock = new ReentrantReadWriteLock().writeLock();\r\n    \r\n        static void addToData(){\r\n    \r\n            while(addToDataAndCheckSize()){ // while size==maxsize : flushComplete.wait()\r\n                System.out.println(String.format(&quot;Add attempt %s thread %d time  %d array size %d number of locks held&quot;, Thread.currentThread().getName(), System.nanoTime(), l.size(), writeLock.getHoldCount()));\r\n               try{\r\n                   writeLock.lock();\r\n                   flushOnGoing.getAndSet(true);\r\n                   flushData();\r\n               }\r\n                finally {\r\n                   System.out.println(String.format(&quot;Flush complete %s thread %d time flushed %d flush size&quot;, Thread.currentThread().getName(), System.nanoTime(), l.size()));\r\n                   flushOnGoing.getAndSet(false);\r\n                   writeLock.unlock();\r\n               }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private static boolean flushData() {\r\n            System.out.println(String.format(&quot;%s thread %d time flushed %d flush size %d number of locks held&quot;, Thread.currentThread().getName(), System.nanoTime(), l.size(), writeLock.getHoldCount()));\r\n            l.clear();\r\n            return l.size()==0;\r\n        }\r\n    \r\n        private static boolean addToDataAndCheckSize() {\r\n            System.out.println(String.format(&quot;%s thread %d time add to data &quot;, Thread.currentThread().getName(), System.nanoTime()));\r\n            String value = UUID.randomUUID().toString();\r\n            if (!flushOnGoing.get())\r\n                l.add(value);\r\n            System.out.println(String.format(&quot;%s thread %d inside add size==%d&quot;,Thread.currentThread().getName(), System.nanoTime(),l.size()));\r\n            return l.size()==2;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    //        addToData();\r\n    //        addToData();\r\n    //        addToData();\r\n            ExecutorService ex = Executors.newFixedThreadPool(2);\r\n            List&lt;CompletableFuture&lt;String&gt;&gt; cfList = new ArrayList&lt;&gt;();\r\n            for(int n =0; n&lt;=5;n++){\r\n                  cfList.add(CompletableFuture.supplyAsync(()-&gt;{\r\n                      addToData();\r\n                      return &quot;D&quot;;\r\n                      }, ex));\r\n    \r\n            }\r\n            for(CompletableFuture cf:cfList)\r\n                cf.join();\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Java atomicity / proper use of synchronizers &amp; atomicity to achieve a simple use case","body":"<p>Working in a very simple use case challenge( just something self inflicted)\n<br>Use case: A collection, that just writes data to it. <br>The caveat is : once it reaches a certain size (eg:25 size), the data currently in it should be flushed out( say written to disk eg). At no point should the data breached the specified limit and at no point should flush size exceed the data breach.<br> Which essentially also means, while flush is ongoing, data writes should not be allowed. Since add/flush is operating on same data structure.</p>\n<p>The algorithm works well when everything is single threaded its essentially as simple as</p>\n<pre><code>while(addToDataAndSizeBreached())\nflushData()\n</code></pre>\n<p>However as expected in multithreaded applications this fails severely. Use case still works but at no point is the data breach respected ( eg : sometimes size of collection would exceed 25, sometimes size of flush would be anything but 25, etc etc)\nI went through and reread through my entire collection of java multithreaded dos and donts, however i am still not able to solve it.</p>\n<p><br><br> The only thing that works well is taking a lock on the entire thing</p>\n<pre><code>ReentrantReadWriteLock.WriteLock writeLock = new ReentrantReadWriteLock().writeLock();\ntry{\n    writeLock.lock();\n    while(addToDataAndSizeBreached())\n    flushData()\n}finally{\nwriteLock.unlock();\n}\n</code></pre>\n<p><br> However i am not satisfied with the above approach and wanted to check with you all for a better solution. Kindly guide, i am ok to research and attempt on my own post that\n<br>\nThings that i have tried:<br></p>\n<li>Taking a complete lock on the entire thing : works well but looking for a better non blocking solution</li>\n<li>Tried using a combination of read and write lock, but since if multiple thread have read lock,write lock waits..this ends up with data structure having a size more than 25</li>\n<li>Tried approaching with synchronizers such as countdownlatch ( not sure how it would work since it does not reset), and cyclicbarrrier( could not understand how to use it , since i would not know the thread count before hand)</li>\n<li>Tried the below solution as well, however data size is not respected and somehow also \n    leads to deadlock, which i cant figure out why</li><br>\n    \n<pre><code>package com.org.store.ecommerce;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.atomic.AtomicBoolean;\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\n\npublic class Runner {\n\n    static ArrayList l = new ArrayList();\n    static AtomicBoolean full = new AtomicBoolean(false);\n    static AtomicBoolean flushOnGoing = new AtomicBoolean(false);\n    static ReentrantReadWriteLock.WriteLock writeLock = new ReentrantReadWriteLock().writeLock();\n\n    static void addToData(){\n\n        while(addToDataAndCheckSize()){ // while size==maxsize : flushComplete.wait()\n            System.out.println(String.format(&quot;Add attempt %s thread %d time  %d array size %d number of locks held&quot;, Thread.currentThread().getName(), System.nanoTime(), l.size(), writeLock.getHoldCount()));\n           try{\n               writeLock.lock();\n               flushOnGoing.getAndSet(true);\n               flushData();\n           }\n            finally {\n               System.out.println(String.format(&quot;Flush complete %s thread %d time flushed %d flush size&quot;, Thread.currentThread().getName(), System.nanoTime(), l.size()));\n               flushOnGoing.getAndSet(false);\n               writeLock.unlock();\n           }\n\n        }\n\n    }\n\n    private static boolean flushData() {\n        System.out.println(String.format(&quot;%s thread %d time flushed %d flush size %d number of locks held&quot;, Thread.currentThread().getName(), System.nanoTime(), l.size(), writeLock.getHoldCount()));\n        l.clear();\n        return l.size()==0;\n    }\n\n    private static boolean addToDataAndCheckSize() {\n        System.out.println(String.format(&quot;%s thread %d time add to data &quot;, Thread.currentThread().getName(), System.nanoTime()));\n        String value = UUID.randomUUID().toString();\n        if (!flushOnGoing.get())\n            l.add(value);\n        System.out.println(String.format(&quot;%s thread %d inside add size==%d&quot;,Thread.currentThread().getName(), System.nanoTime(),l.size()));\n        return l.size()==2;\n    }\n\n    public static void main(String[] args) {\n//        addToData();\n//        addToData();\n//        addToData();\n        ExecutorService ex = Executors.newFixedThreadPool(2);\n        List&lt;CompletableFuture&lt;String&gt;&gt; cfList = new ArrayList&lt;&gt;();\n        for(int n =0; n&lt;=5;n++){\n              cfList.add(CompletableFuture.supplyAsync(()-&gt;{\n                  addToData();\n                  return &quot;D&quot;;\n                  }, ex));\n\n        }\n        for(CompletableFuture cf:cfList)\n            cf.join();\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","jitpack"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1627833880,"post_id":68609683,"comment_id":121256410,"body_markdown":"Have you checked all the three options if it points to an old JDK version? What else have you tried so far, the options are quite easily to understand especially if you search the internet for them.","body":"Have you checked all the three options if it points to an old JDK version? What else have you tried so far, the options are quite easily to understand especially if you search the internet for them."}],"answers":[{"comments":[{"owner":{"account_id":15737437,"reputation":421,"user_id":11355957,"display_name":"gokmenbayram"},"score":0,"creation_date":1627928953,"post_id":68621676,"comment_id":121282004,"body_markdown":"I am using &quot;Android Studio Arctic Fox | 2020.3.1&quot; .  Gradle JDK version 11.0.10 but didnt work this solution :(","body":"I am using &quot;Android Studio Arctic Fox | 2020.3.1&quot; .  Gradle JDK version 11.0.10 but didnt work this solution :("},{"owner":{"account_id":5849428,"reputation":1214,"user_id":4608528,"display_name":"ending0421"},"score":0,"creation_date":1627961545,"post_id":68621676,"comment_id":121288340,"body_markdown":"@gokmenBayram Which options you did for fixing building error ? Why you import  Application plugin while building android library (AAR) Ôºü","body":"@gokmenBayram Which options you did for fixing building error ? Why you import  Application plugin while building android library (AAR) Ôºü"}],"tags":[],"owner":{"account_id":5849428,"reputation":1214,"user_id":4608528,"display_name":"ending0421"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1627907970,"creation_date":1627907568,"answer_id":68621676,"question_id":68609683,"body_markdown":"According to AGP release note [here][1] \r\n\r\n&gt; When using Android Gradle plugin 7.0 to build your app, JDK 11 is now required to run Gradle. Android Studio Arctic Fox bundles JDK 11 and configures Gradle to use it by default, which means that most Android Studio users do not need to make any configuration changes to their projects.\r\n\r\nJDK 11 is required if you using AGP 7.0.\r\n\r\nYou can modify AS JDK version like below (Only effect run app build project in AS small hammer or run action)[![enter image description here][2]][2] if ***Android Studio Arctic Fox | 2020.3.1*** you use . \r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases/gradle-plugin\r\n  [2]: https://i.stack.imgur.com/i4UjO.png\r\n\r\n**For some one building android app with AGP 7.0 with command line**\r\n\r\n 1. Modify JAVA_HOME value path to JDK 11 (Which will effect all of project on environment)\r\n 2. Declare &quot;org.gradle.java.home = path to JDK 11&quot; in special project gradle.properties file (Effect to only this project)","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. Error","body":"<p>According to AGP release note <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>When using Android Gradle plugin 7.0 to build your app, JDK 11 is now required to run Gradle. Android Studio Arctic Fox bundles JDK 11 and configures Gradle to use it by default, which means that most Android Studio users do not need to make any configuration changes to their projects.</p>\n</blockquote>\n<p>JDK 11 is required if you using AGP 7.0.</p>\n<p>You can modify AS JDK version like below (Only effect run app build project in AS small hammer or run action)<a href=\"https://i.stack.imgur.com/i4UjO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i4UjO.png\" alt=\"enter image description here\" /></a> if <em><strong>Android Studio Arctic Fox | 2020.3.1</strong></em> you use .</p>\n<p><strong>For some one building android app with AGP 7.0 with command line</strong></p>\n<ol>\n<li>Modify JAVA_HOME value path to JDK 11 (Which will effect all of project on environment)</li>\n<li>Declare &quot;org.gradle.java.home = path to JDK 11&quot; in special project gradle.properties file (Effect to only this project)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":10212823,"reputation":452,"user_id":7649590,"display_name":"Mohit Atray"},"score":0,"creation_date":1635337125,"post_id":68756946,"comment_id":123269556,"body_markdown":"Thanks! This answer made my day!","body":"Thanks! This answer made my day!"},{"owner":{"account_id":20327316,"reputation":998,"user_id":14910363,"display_name":"FearNot"},"score":0,"creation_date":1643864778,"post_id":68756946,"comment_id":125454307,"body_markdown":"This should&#39;ve been mentioned in the official JitPack docs. This worked like a charm.","body":"This should&#39;ve been mentioned in the official JitPack docs. This worked like a charm."}],"tags":[],"owner":{"account_id":15737437,"reputation":421,"user_id":11355957,"display_name":"gokmenbayram"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1628769414,"creation_date":1628769063,"answer_id":68756946,"question_id":68609683,"body_markdown":"The problem was that JitPack.io was running with JDK1.8 on its own. Add a `jitpack.yml` file to the project file with this content:\r\n\r\n```\r\njdk:\r\n  - openjdk11\r\n```\r\n\r\nWhen I did that the problem went away.","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. Error","body":"<p>The problem was that JitPack.io was running with JDK1.8 on its own. Add a <code>jitpack.yml</code> file to the project file with this content:</p>\n<pre><code>jdk:\n  - openjdk11\n</code></pre>\n<p>When I did that the problem went away.</p>\n"},{"tags":[],"owner":{"account_id":2745438,"reputation":1116,"user_id":2365964,"accept_rate":71,"display_name":"FxRi4"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632417586,"creation_date":1632333754,"answer_id":69289205,"question_id":68609683,"body_markdown":" solution in reviewed in jitpack github page:\r\n[here][1] \r\n\r\n\r\n  [1]: https://github.com/jitpack/jitpack.io/issues/4691\r\n\r\nas said :\r\nyou should create a file in root of project named \r\n **jitpack.yml** contain \r\n\r\n    jdk:\r\n      -openjdk11 \r\nthen change build.gradle file in library as :\r\n\r\n    apply plugin: &#39;com.android.library&#39; \r\n    apply plugin:&#39;maven-publish&#39;\r\n    .\r\n    .\r\n    afterEvaluate {\r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                from components.release\r\n                groupId = &quot;ntk.android.base&quot;\r\n                artifactId = &#39;baseActivity&#39;\r\n                version = version\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. Error","body":"<p>solution in reviewed in jitpack github page:\n<a href=\"https://github.com/jitpack/jitpack.io/issues/4691\" rel=\"nofollow noreferrer\">here</a></p>\n<p>as said :\nyou should create a file in root of project named\n<strong>jitpack.yml</strong> contain</p>\n<pre><code>jdk:\n  -openjdk11 \n</code></pre>\n<p>then change build.gradle file in library as :</p>\n<pre><code>apply plugin: 'com.android.library' \napply plugin:'maven-publish'\n.\n.\nafterEvaluate {\npublishing {\n    publications {\n        release(MavenPublication) {\n            from components.release\n            groupId = &quot;ntk.android.base&quot;\n            artifactId = 'baseActivity'\n            version = version\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640583852,"post_id":70491113,"comment_id":124608425,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70491113/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22377217,"reputation":31,"user_id":16591319,"display_name":"Michael Lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666274337,"creation_date":1640570695,"answer_id":70491113,"question_id":68609683,"body_markdown":"Create `jitpack.yml` in root project dir.\r\n```\r\njdk:\r\n  - openjdk11\r\nbefore_install:\r\n  - sdk install java 11.0.10-open\r\n  - sdk use java 11.0.10-open\r\n```\r\nIt&#39;s working for me.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Amr5B.png","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. Error","body":"<p>Create <code>jitpack.yml</code> in root project dir.</p>\n<pre><code>jdk:\n  - openjdk11\nbefore_install:\n  - sdk install java 11.0.10-open\n  - sdk use java 11.0.10-open\n</code></pre>\n<p>It's working for me.\n<a href=\"https://i.stack.imgur.com/Amr5B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Amr5B.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"score":0,"creation_date":1646838785,"post_id":71410738,"comment_id":126223532,"body_markdown":"Please add your answer as a comment or explain more by yourself.","body":"Please add your answer as a comment or explain more by yourself."}],"tags":[],"owner":{"account_id":19990659,"reputation":51,"user_id":14651741,"display_name":"cy lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646835259,"creation_date":1646835259,"answer_id":71410738,"question_id":68609683,"body_markdown":"Only add jitpack.yml isn&#39;t working for me in gradle 7.0.2, but change gradle jdk works, according to [this blog](https://blog.csdn.net/momo0853/article/details/120718984)","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. Error","body":"<p>Only add jitpack.yml isn't working for me in gradle 7.0.2, but change gradle jdk works, according to <a href=\"https://blog.csdn.net/momo0853/article/details/120718984\" rel=\"nofollow noreferrer\">this blog</a></p>\n"}],"owner":{"account_id":15737437,"reputation":421,"user_id":11355957,"display_name":"gokmenbayram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5682,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":68756946,"answer_count":5,"score":9,"last_activity_date":1666274337,"creation_date":1627815181,"question_id":68609683,"body_markdown":"I want to publish a library with Jitpackio. When I publish the library I get the following error;\r\n\r\n```\r\n&quot;Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n    Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n     You can try some of the following options:\r\n       - changing the IDE settings.\r\n       - changing the JAVA_HOME environment variable.\r\n       - changing `org.gradle.java.home` in `gradle.properties`.&quot;\r\n```\r\n**Gradle Version : 7.0.2**\r\n\r\n[My Gradle JDK Version][1]\r\n\r\n  [1]: https://i.stack.imgur.com/X9Jip.png\r\n\r\nCan you help me?","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. Error","body":"<p>I want to publish a library with Jitpackio. When I publish the library I get the following error;</p>\n<pre><code>&quot;Failed to apply plugin 'com.android.internal.application'.\n    Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n     You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.&quot;\n</code></pre>\n<p><strong>Gradle Version : 7.0.2</strong></p>\n<p><a href=\"https://i.stack.imgur.com/X9Jip.png\" rel=\"noreferrer\">My Gradle JDK Version</a></p>\n<p>Can you help me?</p>\n"},{"tags":["java","function","generics"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666269615,"post_id":74139921,"comment_id":130899648,"body_markdown":"*&quot;with out any argument&quot;* - you mean the function doesn&#39;t take arguments? And could you display what this pseudo code statement should mean `&lt;T&gt;.getterFunction()` ?","body":"<i>&quot;with out any argument&quot;</i> - you mean the function doesn&#39;t take arguments? And could you display what this pseudo code statement should mean <code>&lt;T&gt;.getterFunction()</code> ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666269744,"post_id":74139921,"comment_id":130899695,"body_markdown":"In other words, how your `Long`-producing parameterless function is related to `T`?","body":"In other words, how your <code>Long</code>-producing parameterless function is related to <code>T</code>?"},{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1666270034,"post_id":74139921,"comment_id":130899821,"body_markdown":"I edited the question @AlexanderIvanchenko . T type can have different getter function names.","body":"I edited the question @AlexanderIvanchenko . T type can have different getter function names."},{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":0,"creation_date":1666270742,"post_id":74139921,"comment_id":130900074,"body_markdown":"Do you want to use a generic `T` for two classes completely independent classes and call a kind of Long supplier function of T?","body":"Do you want to use a generic <code>T</code> for two classes completely independent classes and call a kind of Long supplier function of T?"},{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1666270806,"post_id":74139921,"comment_id":130900092,"body_markdown":"@swinkler Yes, completely independent classes. And call a long supplier function of T.","body":"@swinkler Yes, completely independent classes. And call a long supplier function of T."}],"answers":[{"comments":[{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":1,"creation_date":1666271178,"post_id":74140333,"comment_id":130900224,"body_markdown":"Thank you for your effort. I think this is it. Let me test it and be sure about it.","body":"Thank you for your effort. I think this is it. Let me test it and be sure about it."}],"tags":[],"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666270932,"creation_date":1666270932,"answer_id":74140333,"question_id":74139921,"body_markdown":"You can pass a function taking the type as param and producing a Long like this:\r\n\r\n```\r\nprivate &lt;T&gt; void sliceGenericData (List&lt;T&gt; peData, Function&lt;T, Long&gt; fn) \r\n{ \r\n  ... \r\n  // apply your Object\r\n  Long res = fn.apply(myObj);\r\n  ...\r\n}\r\n```\r\n\r\nInvoke the method by providing the appropriate method for the type:\r\n\r\n```\r\nsliceGenericData(myList, A::getterFunction1);\r\n```\r\n\r\n","title":"Passing function as argument to a Function, and using it on Generic object","body":"<p>You can pass a function taking the type as param and producing a Long like this:</p>\n<pre><code>private &lt;T&gt; void sliceGenericData (List&lt;T&gt; peData, Function&lt;T, Long&gt; fn) \n{ \n  ... \n  // apply your Object\n  Long res = fn.apply(myObj);\n  ...\n}\n</code></pre>\n<p>Invoke the method by providing the appropriate method for the type:</p>\n<pre><code>sliceGenericData(myList, A::getterFunction1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1666271631,"post_id":74140367,"comment_id":130900403,"body_markdown":"I understand your inheritance logic.  Those two classes already implemented separate classes, The only common thing they have is they have a date value, stored as long. That is not what I would like to change. Thank you for your effort.","body":"I understand your inheritance logic.  Those two classes already implemented separate classes, The only common thing they have is they have a date value, stored as long. That is not what I would like to change. Thank you for your effort."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666272411,"post_id":74140367,"comment_id":130900768,"body_markdown":"@MericOzcan Not sure what is the language you&#39;re primarily working with, but in Java `class`es are being extended (not implemented, they already have implemented behavior). And a class in Java can extend only one class. But interfaces are contracts, they declare behavior that needs to be implemented. A class can `implement` **as many** interfaces as you need. There are **no** obstacles for your classes to implement `LongSupplier`, the method of the contact can simply delegate to your methods like `getterFunction1()`. This change would not affect your existing code anyhow.","body":"@MericOzcan Not sure what is the language you&#39;re primarily working with, but in Java <code>class</code>es are being extended (not implemented, they already have implemented behavior). And a class in Java can extend only one class. But interfaces are contracts, they declare behavior that needs to be implemented. A class can <code>implement</code> <b>as many</b> interfaces as you need. There are <b>no</b> obstacles for your classes to implement <code>LongSupplier</code>, the method of the contact can simply delegate to your methods like <code>getterFunction1()</code>. This change would not affect your existing code anyhow."},{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1666272620,"post_id":74140367,"comment_id":130900862,"body_markdown":"I was C++ developer once :D I see. let me think about it more.","body":"I was C++ developer once :D I see. let me think about it more."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666274195,"creation_date":1666271040,"answer_id":74140367,"question_id":74139921,"body_markdown":"If I understood your intention, you want to turn a `List&lt;T&gt;` into a `List&lt;Long&gt;`. I so your function should not be parameterless, instead it should consume an argument of type `T` to produce a `long` value.\r\n\r\nBut to make a function be capable to dial with these classes they need to conform to the same contract, and we already have such contract in the JDK - [`LongSupplier`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/LongSupplier.html).\r\n\r\nAnd there&#39;s one more thing - if you make your classes implement `LongSupplier` interface, the function would not be needed.\r\n\r\n**Note** that implementing the contract of `LongSupplier` would not affect your existing code anyhow. Method `getAsLong()` can delegate to methods like `getterFunction1()`.\r\n\r\n    public class A implements LongSupplier {\r\n        \r\n        public long getterFunction1() {\r\n            // proper logic here\r\n        }\r\n        \r\n        public long getAsLong() {\r\n            return getterFunction1();\r\n        }\r\n    }\r\n    \r\n    public class B implements LongSupplier {\r\n    \r\n        public long getterFunction2() {\r\n            // proper logic here\r\n        }\r\n        \r\n        public long getAsLong() {\r\n            return getterFunction2();\r\n        }\r\n    }\r\n**Note:**\r\n* If `A` and `B` differ only by the value of an attribute - you **don&#39;t** need two classes.\r\n* Only if you have a more complicated logic of generating the resulting value (*instead of simply retrieving what is stored in a field*), it would be justifiable to have separate classes implementing that logic.\r\n\r\nAnd your method might look like this:\r\n\r\n    private void sliceGenericData(List&lt;LongSupplier&gt; peData) {\r\n        // ... Some Code ...\r\n    \r\n        List&lt;Long&gt; longs = peData.stream()\r\n            .map(LongSupplier::getAsLong)\r\n            .toList(); // or collect(Collectors.toList())\r\n        \r\n        // ... Some Code ...\r\n        \r\n    }","title":"Passing function as argument to a Function, and using it on Generic object","body":"<p>If I understood your intention, you want to turn a <code>List&lt;T&gt;</code> into a <code>List&lt;Long&gt;</code>. I so your function should not be parameterless, instead it should consume an argument of type <code>T</code> to produce a <code>long</code> value.</p>\n<p>But to make a function be capable to dial with these classes they need to conform to the same contract, and we already have such contract in the JDK - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/LongSupplier.html\" rel=\"nofollow noreferrer\"><code>LongSupplier</code></a>.</p>\n<p>And there's one more thing - if you make your classes implement <code>LongSupplier</code> interface, the function would not be needed.</p>\n<p><strong>Note</strong> that implementing the contract of <code>LongSupplier</code> would not affect your existing code anyhow. Method <code>getAsLong()</code> can delegate to methods like <code>getterFunction1()</code>.</p>\n<pre><code>public class A implements LongSupplier {\n    \n    public long getterFunction1() {\n        // proper logic here\n    }\n    \n    public long getAsLong() {\n        return getterFunction1();\n    }\n}\n\npublic class B implements LongSupplier {\n\n    public long getterFunction2() {\n        // proper logic here\n    }\n    \n    public long getAsLong() {\n        return getterFunction2();\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>If <code>A</code> and <code>B</code> differ only by the value of an attribute - you <strong>don't</strong> need two classes.</li>\n<li>Only if you have a more complicated logic of generating the resulting value (<em>instead of simply retrieving what is stored in a field</em>), it would be justifiable to have separate classes implementing that logic.</li>\n</ul>\n<p>And your method might look like this:</p>\n<pre><code>private void sliceGenericData(List&lt;LongSupplier&gt; peData) {\n    // ... Some Code ...\n\n    List&lt;Long&gt; longs = peData.stream()\n        .map(LongSupplier::getAsLong)\n        .toList(); // or collect(Collectors.toList())\n    \n    // ... Some Code ...\n    \n}\n</code></pre>\n"}],"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74140333,"answer_count":2,"score":0,"last_activity_date":1666274195,"creation_date":1666269071,"question_id":74139921,"body_markdown":"I would like to do something like below.\r\n\r\n\r\n    private &lt;T&gt; void sliceGenericData (List&lt;T&gt; peData, **FunctionType** getterFunctionX) {\r\n        // ... Some Code ...\r\n\r\n\r\n        &lt;T&gt;.getterFunction()\r\n\r\n\r\n        // ... Some Code ...\r\n    \r\n    }\r\n\r\nA and B class will be my generic type as \\&lt;T&gt;. Example for a getter function for class A and B. \r\n\r\n    public class A{\r\n      long x = 5;\r\n      public long getterFunction1(){\r\n         return x;\r\n      }\r\n    }\r\n\r\n    public class B{\r\n      long x = 1;\r\n      public long getterFunction2(){\r\n         return x;\r\n      }\r\n    }\r\n\r\n\r\nI want to pass a getterFunction as argument to my `sliceGenericData()` and I  would like to use it on type \\&lt;T&gt; (Class A or B). Since those classes have different name of getter functions as `getterFunction2, getterFunction1`. How can I do it?","title":"Passing function as argument to a Function, and using it on Generic object","body":"<p>I would like to do something like below.</p>\n<pre><code>private &lt;T&gt; void sliceGenericData (List&lt;T&gt; peData, **FunctionType** getterFunctionX) {\n    // ... Some Code ...\n\n\n    &lt;T&gt;.getterFunction()\n\n\n    // ... Some Code ...\n\n}\n</code></pre>\n<p>A and B class will be my generic type as &lt;T&gt;. Example for a getter function for class A and B.</p>\n<pre><code>public class A{\n  long x = 5;\n  public long getterFunction1(){\n     return x;\n  }\n}\n\npublic class B{\n  long x = 1;\n  public long getterFunction2(){\n     return x;\n  }\n}\n</code></pre>\n<p>I want to pass a getterFunction as argument to my <code>sliceGenericData()</code> and I  would like to use it on type &lt;T&gt; (Class A or B). Since those classes have different name of getter functions as <code>getterFunction2, getterFunction1</code>. How can I do it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10525675,"reputation":449,"user_id":7756799,"display_name":"memres"},"score":0,"creation_date":1666164768,"post_id":74121432,"comment_id":130867947,"body_markdown":"Check if there is any issue about your maps api key","body":"Check if there is any issue about your maps api key"}],"answers":[{"tags":[],"owner":{"account_id":26600536,"reputation":1,"user_id":20222236,"display_name":"cNootNoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666165632,"creation_date":1666165632,"answer_id":74121638,"question_id":74121432,"body_markdown":"Ok, my bad I did not know that the API key that I got from the google cloud disappeared so I just got a new API key and replaced it in my app and it worked again.","title":"My Google Maps stopped working but I didn&#39;t change anything","body":"<p>Ok, my bad I did not know that the API key that I got from the google cloud disappeared so I just got a new API key and replaced it in my app and it worked again.</p>\n"}],"owner":{"account_id":26600536,"reputation":1,"user_id":20222236,"display_name":"cNootNoot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666274081,"creation_date":1666164598,"question_id":74121432,"body_markdown":"I am making a mobile app for our thesis and I added Google maps. It&#39;s working already, then the next day when I plan to add something my map doesn&#39;t load without me changing anything at all.\r\n\r\n\r\nThis is the original:\r\n\r\n[enter image description here][1]\r\n\r\nAnd this is it now:\r\n\r\n[enter image description here][2]\r\n\r\nI am using Android Studio.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TTsD1.jpg\r\n  [2]: https://i.stack.imgur.com/2VtIb.jpg","title":"My Google Maps stopped working but I didn&#39;t change anything","body":"<p>I am making a mobile app for our thesis and I added Google maps. It's working already, then the next day when I plan to add something my map doesn't load without me changing anything at all.</p>\n<p>This is the original:</p>\n<p><a href=\"https://i.stack.imgur.com/TTsD1.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And this is it now:</p>\n<p><a href=\"https://i.stack.imgur.com/2VtIb.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am using Android Studio.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666273878,"creation_date":1666273878,"answer_id":74141063,"question_id":74140954,"body_markdown":"call `TextView t1=findViewById(R.id.t);` after `setContentView(R.layout.activity_main);`","title":"This is my first Android program using Java, I am trying to use a alert dialog, but the app keeps on closing","body":"<p>call <code>TextView t1=findViewById(R.id.t);</code> after <code>setContentView(R.layout.activity_main);</code></p>\n"}],"owner":{"account_id":26042763,"reputation":1,"user_id":19747237,"display_name":"skullXcalibre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74141063,"answer_count":1,"score":-1,"last_activity_date":1666273878,"creation_date":1666273495,"question_id":74140954,"body_markdown":"So belove is my code, in the design i have one textview with the ID t. I am using android 5.0 to build and i have the required SDK(android 5 and 5.1). \r\n\r\n    package com.example.alertdialogbox;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.app.AlertDialog;\r\n\r\n    import android.os.Bundle;\r\n    import android.content.DialogInterface;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        TextView t1=findViewById(R.id.t);\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            AlertDialog.Builder b1=new AlertDialog.Builder(this);\r\n            b1.setTitle(&quot;Alert Dialog&quot;);\r\n            b1.setMessage(&quot;Do you want to continue?&quot;);\r\n            b1.setCancelable(false);\r\n            b1.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    t1.setText(&quot;Clicked YES&quot;);\r\n                }\r\n            });\r\n            b1.setNegativeButton(&quot;NO&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    t1.setText(&quot;Clicked NO&quot;);\r\n                }\r\n            });\r\n            b1.setNeutralButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    t1.setText(&quot;Clicked CANCEL&quot;);\r\n                }\r\n            });\r\n            AlertDialog d=b1.create();\r\n            d.show();\r\n        }\r\n    }\r\nSorry if my question looks silly :) \r\nThank you  ","title":"This is my first Android program using Java, I am trying to use a alert dialog, but the app keeps on closing","body":"<p>So belove is my code, in the design i have one textview with the ID t. I am using android 5.0 to build and i have the required SDK(android 5 and 5.1).</p>\n<pre><code>package com.example.alertdialogbox;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.app.AlertDialog;\n\nimport android.os.Bundle;\nimport android.content.DialogInterface;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    TextView t1=findViewById(R.id.t);\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        AlertDialog.Builder b1=new AlertDialog.Builder(this);\n        b1.setTitle(&quot;Alert Dialog&quot;);\n        b1.setMessage(&quot;Do you want to continue?&quot;);\n        b1.setCancelable(false);\n        b1.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                t1.setText(&quot;Clicked YES&quot;);\n            }\n        });\n        b1.setNegativeButton(&quot;NO&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                t1.setText(&quot;Clicked NO&quot;);\n            }\n        });\n        b1.setNeutralButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                t1.setText(&quot;Clicked CANCEL&quot;);\n            }\n        });\n        AlertDialog d=b1.create();\n        d.show();\n    }\n}\n</code></pre>\n<p>Sorry if my question looks silly :)\nThank you</p>\n"},{"tags":["java","apache-camel","urlencode","spring-camel","camel-rest"],"comments":[{"owner":{"account_id":19014988,"reputation":73,"user_id":14556013,"display_name":"Cristhian david Hoyos Trochez"},"score":0,"creation_date":1666275620,"post_id":74140964,"comment_id":130902262,"body_markdown":"have you tried with .to() ?","body":"have you tried with .to() ?"},{"owner":{"account_id":10376193,"reputation":278,"user_id":7652300,"display_name":"Abenamor"},"score":0,"creation_date":1666299709,"post_id":74140964,"comment_id":130910803,"body_markdown":"I have to use toD camel pattern because the endpoint is dynamic and it is constructed based to webservice param personId, zone ... which they change their values","body":"I have to use toD camel pattern because the endpoint is dynamic and it is constructed based to webservice param personId, zone ... which they change their values"}],"owner":{"account_id":10376193,"reputation":278,"user_id":7652300,"display_name":"Abenamor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666273855,"creation_date":1666273532,"question_id":74140964,"body_markdown":"I exposed a web service on Apache Camel.\r\n\r\nEndpoint: \r\nhttps://company.aaaa.com/persons/{zone}/{personId}/equipments?equipmentId=value (named webservice A)\r\nThe web service A takes this parameters: \r\n\r\n-zone de type string : path param\r\n\r\n-personId de type integer : path param\r\n\r\n-equipmentId de type string : request param\r\n\r\nThe web service A do many things and call many other web services but to keep things simple, I will focus only on the web service that fails.\r\n\r\nso if the equipmentId is not null, the web service A call a web service B with this endpoint\r\nhttps://company.bbbb.com/persons/{zone}/{personId}/equipments/{equipmentId}\r\n\r\n**It works when the equipmentId dosen&#39;t contain `/` and I got the right response.**\r\n\r\n**But My problem is** if `equipmentId` contains `/` caracter for example (equipmentId = AQCz/gIAJWsDACivB==) \r\nIt will fails with 404 not found because he can&#39;t find the resource.\r\n\r\nSo I encoded the `equipmentId`, store it in an exchange property called  `equipmentEncoded` \r\nand use the `toD` camel pattern to invoke the endpoint. \r\n\r\nThen when I called the web service A : \r\n\r\n    https://company.aaaa.com/persons/zone/56809546/equipments?equipmentId=AQCz/gIAJWsDACivB==\r\n\r\nI got an error 404 : Failed to invoke the endpoint `https://company.bbbb.com/persons/zone/56809546/equipments/AQCz/gIAJWsDACivB==`\r\n\r\n\r\n\r\nWhen debugging : I do have an exchange property `equipmentEncoded` with right value encoded `AQCz%2FgIAJWsDACivB%3D%3D` \r\nBut I don&#39;t know why `toD` don&#39;t keep the encoded value of the exchange property `equipmentEncoded`\r\n\r\nThis is the algorithme of the web  service A : (Just the part that generates error)\r\n\r\n\r\n      .process(setEquipmentIdPropertyProcessor)\r\n                    .choice()\r\n                        .when(exchangeProperty(TestConstants.EQUIPMENT_ID_REQUEST_PARAM_EXIST).isEqualTo(1))\r\n                            .process(exchange -&gt; {\r\n                                var t = true;\r\n                            })\r\n                            .toD(getHTTPEndpointURL(companyBEndpoint, &quot;persons/${header.&quot; + TestConstants.HEADER_ZONE_PARAM + &quot;}/&quot;\r\n                                    + &quot;${header.&quot; + TestConstants.HEADER_PERSON_ID_PARAM + &quot;}/&quot; + &quot;equipments/&quot;\r\n                                    +&quot;${exchangeProperty.&quot; + TestConstants.EQUIPMENT_ENCODED + &quot;}&quot; ))\r\n                    .endChoice()\r\n                    .otherwise()\r\n                        .process(exchange -&gt; {\r\n                            var t = true;\r\n                        })\r\n\r\n\r\nThis the code of the processor setEquipmentIdPropertyProcessor\r\n\r\n    @Component\r\n      public class SetEquipmentIdPropertyProcessor implements Processor {\r\n      @Override\r\n        public void process(Exchange exchange) throws Exception {\r\n          String equipmentParamValue = \r\n           (String)exchange.getIn().getHeader(TestConstants.HEADER_EQUIPMENT_PARAM);\r\n\r\n        if (StringUtils.isNotBlank(equipmentParamValue)){\r\n            exchange.setProperty(TestConstants.EQUIPMENT_ID_REQUEST_PARAM_EXIST, 1);\r\n            String equipmentEncoded = URLEncoder.encode(equipmentParamValue, StandardCharsets.UTF_8);\r\n            exchange.setProperty(TestConstants.EQUIPMENT_ENCODED, equipmentEncoded);\r\n        } else {\r\n            exchange.setProperty(TestConstants.EQUIPMENT_ID_REQUEST_PARAM_EXIST, 0);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nso in the class `SetEquipmentIdPropertyProcessor`  when the `equipmentId` request param is filled, I encode the `equipmentId` param and store the value  in an `exchange property`.\r\n\r\n \r\nHere is the code of the method getHttpEndpointURL to construct the url: \r\n\r\n        public String getHTTPEndpointURL(final EndpointProperty endpointConf, final String \r\n                 uriPath) {\r\n        return endpointConf.getUrl() +\r\n                endpointConf.getPath() +\r\n                uriPath + &quot;?bridgeEndpoint=true&quot;;\r\n\r\n    }\r\n\r\n\r\n\r\nHere is the code of the classe TestConstants\r\n\r\n    public class TestConstants {\r\n    public static final String HEADER_ZONE_PARAM = &quot;zone&quot;;\r\n    public static final String HEADER_PERSON_ID_PARAM = &quot;personId&quot;;\r\n    public static final String HEADER_EQUIPMENT_PARAM = &quot;equipment&quot;;\r\n    public static final String EQUIPMENT_ENCODED = &quot;equipmentEncoded&quot;; }\r\n\r\n\r\n**I would like that Camel invokes this url** https://company.bbbb.com/persons/zone/56809546/equipments/AQCz%2FgIAJWsDACivB%3D%3D \r\n\r\ninstead of invoking this one : https://company.bbbb.com/persons/zone/56809546/equipments/AQCz/gIAJWsDACivB==\r\n\r\n","title":"Camel to D pattern dosen&#39;t keep the encoded part of the url when invoking a http endpoint","body":"<p>I exposed a web service on Apache Camel.</p>\n<p>Endpoint:\n<a href=\"https://company.aaaa.com/persons/%7Bzone%7D/%7BpersonId%7D/equipments?equipmentId=value\" rel=\"nofollow noreferrer\">https://company.aaaa.com/persons/{zone}/{personId}/equipments?equipmentId=value</a> (named webservice A)\nThe web service A takes this parameters:</p>\n<p>-zone de type string : path param</p>\n<p>-personId de type integer : path param</p>\n<p>-equipmentId de type string : request param</p>\n<p>The web service A do many things and call many other web services but to keep things simple, I will focus only on the web service that fails.</p>\n<p>so if the equipmentId is not null, the web service A call a web service B with this endpoint\n<a href=\"https://company.bbbb.com/persons/%7Bzone%7D/%7BpersonId%7D/equipments/%7BequipmentId%7D\" rel=\"nofollow noreferrer\">https://company.bbbb.com/persons/{zone}/{personId}/equipments/{equipmentId}</a></p>\n<p><strong>It works when the equipmentId dosen't contain <code>/</code> and I got the right response.</strong></p>\n<p><strong>But My problem is</strong> if <code>equipmentId</code> contains <code>/</code> caracter for example (equipmentId = AQCz/gIAJWsDACivB==)\nIt will fails with 404 not found because he can't find the resource.</p>\n<p>So I encoded the <code>equipmentId</code>, store it in an exchange property called  <code>equipmentEncoded</code>\nand use the <code>toD</code> camel pattern to invoke the endpoint.</p>\n<p>Then when I called the web service A :</p>\n<pre><code>https://company.aaaa.com/persons/zone/56809546/equipments?equipmentId=AQCz/gIAJWsDACivB==\n</code></pre>\n<p>I got an error 404 : Failed to invoke the endpoint <code>https://company.bbbb.com/persons/zone/56809546/equipments/AQCz/gIAJWsDACivB==</code></p>\n<p>When debugging : I do have an exchange property <code>equipmentEncoded</code> with right value encoded <code>AQCz%2FgIAJWsDACivB%3D%3D</code>\nBut I don't know why <code>toD</code> don't keep the encoded value of the exchange property <code>equipmentEncoded</code></p>\n<p>This is the algorithme of the web  service A : (Just the part that generates error)</p>\n<pre><code>  .process(setEquipmentIdPropertyProcessor)\n                .choice()\n                    .when(exchangeProperty(TestConstants.EQUIPMENT_ID_REQUEST_PARAM_EXIST).isEqualTo(1))\n                        .process(exchange -&gt; {\n                            var t = true;\n                        })\n                        .toD(getHTTPEndpointURL(companyBEndpoint, &quot;persons/${header.&quot; + TestConstants.HEADER_ZONE_PARAM + &quot;}/&quot;\n                                + &quot;${header.&quot; + TestConstants.HEADER_PERSON_ID_PARAM + &quot;}/&quot; + &quot;equipments/&quot;\n                                +&quot;${exchangeProperty.&quot; + TestConstants.EQUIPMENT_ENCODED + &quot;}&quot; ))\n                .endChoice()\n                .otherwise()\n                    .process(exchange -&gt; {\n                        var t = true;\n                    })\n</code></pre>\n<p>This the code of the processor setEquipmentIdPropertyProcessor</p>\n<pre><code>@Component\n  public class SetEquipmentIdPropertyProcessor implements Processor {\n  @Override\n    public void process(Exchange exchange) throws Exception {\n      String equipmentParamValue = \n       (String)exchange.getIn().getHeader(TestConstants.HEADER_EQUIPMENT_PARAM);\n\n    if (StringUtils.isNotBlank(equipmentParamValue)){\n        exchange.setProperty(TestConstants.EQUIPMENT_ID_REQUEST_PARAM_EXIST, 1);\n        String equipmentEncoded = URLEncoder.encode(equipmentParamValue, StandardCharsets.UTF_8);\n        exchange.setProperty(TestConstants.EQUIPMENT_ENCODED, equipmentEncoded);\n    } else {\n        exchange.setProperty(TestConstants.EQUIPMENT_ID_REQUEST_PARAM_EXIST, 0);\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>so in the class <code>SetEquipmentIdPropertyProcessor</code>  when the <code>equipmentId</code> request param is filled, I encode the <code>equipmentId</code> param and store the value  in an <code>exchange property</code>.</p>\n<p>Here is the code of the method getHttpEndpointURL to construct the url:</p>\n<pre><code>    public String getHTTPEndpointURL(final EndpointProperty endpointConf, final String \n             uriPath) {\n    return endpointConf.getUrl() +\n            endpointConf.getPath() +\n            uriPath + &quot;?bridgeEndpoint=true&quot;;\n\n}\n</code></pre>\n<p>Here is the code of the classe TestConstants</p>\n<pre><code>public class TestConstants {\npublic static final String HEADER_ZONE_PARAM = &quot;zone&quot;;\npublic static final String HEADER_PERSON_ID_PARAM = &quot;personId&quot;;\npublic static final String HEADER_EQUIPMENT_PARAM = &quot;equipment&quot;;\npublic static final String EQUIPMENT_ENCODED = &quot;equipmentEncoded&quot;; }\n</code></pre>\n<p><strong>I would like that Camel invokes this url</strong> <a href=\"https://company.bbbb.com/persons/zone/56809546/equipments/AQCz%2FgIAJWsDACivB%3D%3D\" rel=\"nofollow noreferrer\">https://company.bbbb.com/persons/zone/56809546/equipments/AQCz%2FgIAJWsDACivB%3D%3D</a></p>\n<p>instead of invoking this one : <a href=\"https://company.bbbb.com/persons/zone/56809546/equipments/AQCz/gIAJWsDACivB==\" rel=\"nofollow noreferrer\">https://company.bbbb.com/persons/zone/56809546/equipments/AQCz/gIAJWsDACivB==</a></p>\n"},{"tags":["java","parameters","queue","java.util.scanner"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1666265742,"post_id":74139110,"comment_id":130898027,"body_markdown":"How is this not working? Can you describe the problem?","body":"How is this not working? Can you describe the problem?"},{"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"score":0,"creation_date":1666265912,"post_id":74139110,"comment_id":130898074,"body_markdown":"I don&#39;t understand the question fully but if you are asking about how to input a vehicle number with a priority then just use a unique delimeter in the input and split it later like: input -&gt; &quot;KR - 8423;1&quot;\n`String[] data = input.split(&#39;;&#39;); new Vehicle(data[0],data[1]);` will work just fine. You could then add pattern matcher and check for the delimeter present before splitting ..","body":"I don&#39;t understand the question fully but if you are asking about how to input a vehicle number with a priority then just use a unique delimeter in the input and split it later like: input -&gt; &quot;KR - 8423;1&quot; <code>String[] data = input.split(&#39;;&#39;); new Vehicle(data[0],data[1]);</code> will work just fine. You could then add pattern matcher and check for the delimeter present before splitting .."},{"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"score":0,"creation_date":1666266036,"post_id":74139110,"comment_id":130898123,"body_markdown":"Also, what is `sb.append(in.nextInt((in.nextInt())));` used for? you are expecting 2 numbers to be parsed as Integer in different radix? you are not prompting user to input these in the scanner so the console would be blind what to do","body":"Also, what is <code>sb.append(in.nextInt((in.nextInt())));</code> used for? you are expecting 2 numbers to be parsed as Integer in different radix? you are not prompting user to input these in the scanner so the console would be blind what to do"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666266368,"post_id":74139110,"comment_id":130898263,"body_markdown":"@LajosArpad by the print screen, it seems that Vehicle doesn&#39;t have a constructor accepting an instance of Scanner as parameter","body":"@LajosArpad by the print screen, it seems that Vehicle doesn&#39;t have a constructor accepting an instance of Scanner as parameter"},{"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"score":0,"creation_date":1666266763,"post_id":74139110,"comment_id":130898438,"body_markdown":"@Stultuske `input` is a string not Scanner","body":"@Stultuske <code>input</code> is a string not Scanner"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666266833,"post_id":74139110,"comment_id":130898482,"body_markdown":"@Mazmart indeed, I misread that in the original post. OK, so it seems it doesn&#39;t have a constructor accepting one String.","body":"@Mazmart indeed, I misread that in the original post. OK, so it seems it doesn&#39;t have a constructor accepting one String."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"score":0,"creation_date":1666268302,"post_id":74139110,"comment_id":130899118,"body_markdown":"The supplied registration numbers are sorted based on what? The order of entry? I don&#39;t understand why a Queue is being used here.","body":"The supplied registration numbers are sorted based on what? The order of entry? I don&#39;t understand why a Queue is being used here."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666273834,"creation_date":1666273834,"answer_id":74141057,"question_id":74139110,"body_markdown":"You have a constructor for `Vehicle` that expects a `String` and an `int` as parameters, but you are calling a constructor by passing a `String` only and you have no such constructor. A solution to your problem is to do the following:\r\n\r\n```\r\nfq.insert(new Vehicle(input, in.nextInt()));\r\n```\r\n\r\nI do not know what your `sb` is for, it seems to be unnecessary.","title":"How to get a scanner value as a parameter value in java","body":"<p>You have a constructor for <code>Vehicle</code> that expects a <code>String</code> and an <code>int</code> as parameters, but you are calling a constructor by passing a <code>String</code> only and you have no such constructor. A solution to your problem is to do the following:</p>\n<pre><code>fq.insert(new Vehicle(input, in.nextInt()));\n</code></pre>\n<p>I do not know what your <code>sb</code> is for, it seems to be unnecessary.</p>\n"}],"owner":{"account_id":22658656,"reputation":1,"user_id":16832138,"display_name":"Tharuka Ravisara"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666273834,"creation_date":1666265219,"question_id":74139110,"body_markdown":"I want to give priority to my queue. So I assign a value to my inputs (1-4).\r\nmy code work well without Scanner. I input vehicle numbers as my input.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n as in this image, I need to assign a scanner input to priority.\r\n\r\n\r\n   \r\n\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter vehicle number to continue:&quot;);\r\n    \r\n    \t\tQueue fq = new Queue(100);\r\n    \t\tString input = null;\r\n    \r\n    \r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \r\n    \t\twhile (in.hasNextLine() &amp;&amp; (input = in.nextLine()).length() != 0) {\r\n    \t\t\tfq.insert(new Vehicle(input)); //using this i only can get vehicle registration number for queue\r\n    \r\n    \t\t\tsb.append(in.nextInt((in.nextInt())));\r\n    \r\n    \t\t}\r\n    \t\tfq.insert(new Vehicle(&quot;KR - 8428&quot;, 1)); // the number 1 after comma  in this line is my sorting value \r\n    \t\tfq.insert(new Vehicle(&quot;DP - 3432&quot;,4));// the number 4 after comma in this line is my sorting value \r\n    \t\tfq.insert(new Vehicle(&quot;300 - 4532&quot;, 3));// the number 3 after comma in this line is my sorting value \r\n    \r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dvpYE.png","title":"How to get a scanner value as a parameter value in java","body":"<p>I want to give priority to my queue. So I assign a value to my inputs (1-4).\nmy code work well without Scanner. I input vehicle numbers as my input.</p>\n<p><a href=\"https://i.stack.imgur.com/dvpYE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvpYE.png\" alt=\"enter image description here\" /></a></p>\n<p>as in this image, I need to assign a scanner input to priority.</p>\n<pre><code>    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter vehicle number to continue:&quot;);\n\n        Queue fq = new Queue(100);\n        String input = null;\n\n\n        StringBuffer sb = new StringBuffer();\n\n        while (in.hasNextLine() &amp;&amp; (input = in.nextLine()).length() != 0) {\n            fq.insert(new Vehicle(input)); //using this i only can get vehicle registration number for queue\n\n            sb.append(in.nextInt((in.nextInt())));\n\n        }\n        fq.insert(new Vehicle(&quot;KR - 8428&quot;, 1)); // the number 1 after comma  in this line is my sorting value \n        fq.insert(new Vehicle(&quot;DP - 3432&quot;,4));// the number 4 after comma in this line is my sorting value \n        fq.insert(new Vehicle(&quot;300 - 4532&quot;, 3));// the number 3 after comma in this line is my sorting value \n\n        \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666174928,"post_id":74121416,"comment_id":130871614,"body_markdown":"Where is `validated` declared?","body":"Where is <code>validated</code> declared?"},{"owner":{"account_id":20350895,"reputation":13,"user_id":14927611,"display_name":"Coco"},"score":0,"creation_date":1666175819,"post_id":74121416,"comment_id":130871924,"body_markdown":"Here :      mCheck.setOnClickListener(view -&gt; {\n                item.setRDVHour(timePicker.getHour());\n                item.setRDVMinute(timePicker.getMinute());\n                **bold**  `validated = true;`\n                item.setValider(true);\n                item.confirmDriver();\n\n\n                });","body":"Here :      mCheck.setOnClickListener(view -&gt; {                 item.setRDVHour(timePicker.getHour());                 item.setRDVMinute(timePicker.getMinute());                 <b>bold</b>  <code>validated = true;</code>                 item.setValider(true);                 item.confirmDriver();                   });"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666175973,"post_id":74121416,"comment_id":130871962,"body_markdown":"That&#39;s where you set it but I can&#39;t see `boolean validated` anywhere","body":"That&#39;s where you set it but I can&#39;t see <code>boolean validated</code> anywhere"},{"owner":{"account_id":20350895,"reputation":13,"user_id":14927611,"display_name":"Coco"},"score":0,"creation_date":1666175980,"post_id":74121416,"comment_id":130871965,"body_markdown":"initially here :  class TestListeViewHolders extends RecyclerView.ViewHolder {\n        //MyClickListener  listener;\n        ImageView mCheck;\n        ImageView mreschedulded;\n        CardView mCard;\n  \n        Boolean validated = false;\n        Spinner spinnerTests;\n        TimePicker timePicker;\n        private int TIME_PICKER_INTERVAL = 15;\n        NumberPicker minutePicker;\n        List&lt;String&gt; displayedValues;\n        FloatingActionButton mCall;","body":"initially here :  class TestListeViewHolders extends RecyclerView.ViewHolder {         //MyClickListener  listener;         ImageView mCheck;         ImageView mreschedulded;         CardView mCard;            Boolean validated = false;         Spinner spinnerTests;         TimePicker timePicker;         private int TIME_PICKER_INTERVAL = 15;         NumberPicker minutePicker;         List&lt;String&gt; displayedValues;         FloatingActionButton mCall;"},{"owner":{"account_id":20350895,"reputation":13,"user_id":14927611,"display_name":"Coco"},"score":0,"creation_date":1666188348,"post_id":74121416,"comment_id":130876878,"body_markdown":"I didn&#39;t copy all the code but thats not the problem . Take into account that this variable is declarated but do you have an answer to the question?","body":"I didn&#39;t copy all the code but thats not the problem . Take into account that this variable is declarated but do you have an answer to the question?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666188500,"post_id":74121416,"comment_id":130876955,"body_markdown":"I am not sure what you mean. `ViewHolder` should never have `validated` as it&#39;s variable.(as I wrote in my answer?)","body":"I am not sure what you mean. <code>ViewHolder</code> should never have <code>validated</code> as it&#39;s variable.(as I wrote in my answer?)"}],"answers":[{"comments":[{"owner":{"account_id":20350895,"reputation":13,"user_id":14927611,"display_name":"Coco"},"score":0,"creation_date":1666170015,"post_id":74121520,"comment_id":130869797,"body_markdown":"Thank you for your answer but your code set the background color for a new added item at the position 0. So the n-1 item is still with a background color white. Its seems like the holder object always represents the item at the position 0. I want that the item background remains the same if the item is in position 1 or 2,....n for example","body":"Thank you for your answer but your code set the background color for a new added item at the position 0. So the n-1 item is still with a background color white. Its seems like the holder object always represents the item at the position 0. I want that the item background remains the same if the item is in position 1 or 2,....n for example"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666176963,"post_id":74121520,"comment_id":130872291,"body_markdown":"@Coco Updated the answer to explain it further.","body":"@Coco Updated the answer to explain it further."}],"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666176940,"creation_date":1666165050,"answer_id":74121520,"question_id":74121416,"body_markdown":"When binding RecyclerView items, you have to think of it as that you need to change the ViewHolder completely disregarding the previous state.\r\n\r\nThe view holder should not hold key information like `validated`.\r\nWhether the view holder stays in the validated state or not should depend on the item it is being bind to.\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public void onBindViewHolder(@NotNull TestListeAdapter.TestListeViewHolders holder, final int position) {\r\n        holder.bindView(position);\r\n    }\r\n\r\n...\r\n\r\n        private void bindView(int pos) {\r\n            RideObject item = itemList.get(pos);\r\n            \r\n            if (item.validated) {\r\n                mCard.setCardBackgroundColor(...R.color.teal_700));\r\n            else {\r\n                mCard.setCardBackgroundColor(...R.color.grey));\r\n                mCheck.setOnClickListener(view -&gt; {\r\n                    item.setRDVHour(timePicker.getHour());\r\n                    item.setRDVMinute(timePicker.getMinute());\r\n                    item.validated = true;\r\n                    item.setValider(true);\r\n                    item.confirmDriver();\r\n                });\r\n\r\n                mReschedulded.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        timePicker.setEnabled(true);\r\n                        itemView.setBackgroundColor(ContextCompat.getColor(context.getApplicationContext(),R.color.grey));\r\n                    }\r\n                });\r\n            }\r\n        }","title":"Button to change the color of the current item in a recycler view","body":"<p>When binding RecyclerView items, you have to think of it as that you need to change the ViewHolder completely disregarding the previous state.</p>\n<p>The view holder should not hold key information like <code>validated</code>.\nWhether the view holder stays in the validated state or not should depend on the item it is being bind to.</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n@Override\npublic void onBindViewHolder(@NotNull TestListeAdapter.TestListeViewHolders holder, final int position) {\n    holder.bindView(position);\n}\n</code></pre>\n<p>...</p>\n<pre><code>    private void bindView(int pos) {\n        RideObject item = itemList.get(pos);\n        \n        if (item.validated) {\n            mCard.setCardBackgroundColor(...R.color.teal_700));\n        else {\n            mCard.setCardBackgroundColor(...R.color.grey));\n            mCheck.setOnClickListener(view -&gt; {\n                item.setRDVHour(timePicker.getHour());\n                item.setRDVMinute(timePicker.getMinute());\n                item.validated = true;\n                item.setValider(true);\n                item.confirmDriver();\n            });\n\n            mReschedulded.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    timePicker.setEnabled(true);\n                    itemView.setBackgroundColor(ContextCompat.getColor(context.getApplicationContext(),R.color.grey));\n                }\n            });\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20350895,"reputation":13,"user_id":14927611,"display_name":"Coco"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666273772,"creation_date":1666164466,"question_id":74121416,"body_markdown":"I have a validate button inside each item of a recyclerView in order to change the color to green of the current item. When a new item is added in the recyclerview , I want to set the default background (no background color).\r\n\r\nI&#39;ve tried inside the BindView(position) function so by default when a new item is added in the itemsList, the color of the current element (item 0) is green whether I clicked on validate or not and that&#39;s not what I want.\r\n\r\nI&#39;ve also tried in the onBindViewHolder function but it doesnt work.\r\n\r\nHow can I change the color of this item in this recyclerview and this color remains the same whithout considering the index changing in the List if a new item is added?\r\n\r\n\r\nI want that each new item of this recyclerview to be in the default color (background color white or no background color) and the item +n to be in the color of the corresponding status (validated = green , reschedulded = grey)\r\n\r\n\r\nOnce the validated button has been clicked I want the item to remains in read only mode.\r\n\r\n\r\nHere is the code : \r\n\r\nThe adapter:\r\n\r\n \r\n\r\n    private Context context;\r\n        private List&lt;RideObject&gt; itemList;\r\n    \r\n        public TestListeAdapter(List&lt;RideObject&gt; itemList, Context context) {\r\n            this.itemList = itemList;\r\n            this.context = context;\r\n        }\r\n    \r\n        @NotNull\r\n        @Override\r\n        public TestListeAdapter.TestListeViewHolders onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n            View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_testliste, null, false);\r\n            RecyclerView.LayoutParams lp = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n            layoutView.setLayoutParams(lp);\r\n            return new TestListeAdapter.TestListeViewHolders(layoutView);\r\n        }\r\n    \r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        @Override\r\n        public void onBindViewHolder(@NotNull TestListeAdapter.TestListeViewHolders holder, final int position) {\r\n           \r\n    \r\n            holder.bindView(position);\r\n    \r\n           if (holder.validated){\r\n    \r\n                holder.mCard.setCardBackgroundColor(ContextCompat.getColor(context.getApplicationContext(), R.color.teal_700));\r\n            }\r\n\r\nthe viewholder Class : \r\n\r\n  \r\n\r\n    class TestListeViewHolders extends RecyclerView.ViewHolder {\r\n            //MyClickListener  listener;\r\n            TextView rideId;\r\n       \r\n            ImageView mCheck;\r\n            ImageView mreschedulded;\r\n        \r\n            CardView mCard;\r\n          \r\n    \r\n            TestListeViewHolders(View itemView) {\r\n                super(itemView);\r\n               \r\n                mCheck = itemView.findViewById(R.id.validate);\r\n                mreschedulded= itemView.findViewById(R.id.reschedulded);\r\n              \r\n                mCard = itemView.findViewById(R.id.card_view);\r\n             \r\n         \r\n    \r\n            }\r\n    \r\n            private void bindView(int pos) {\r\n                RideObject item = itemList.get(pos);\r\n    \r\n          \r\n    \r\n    \r\n                mCheck.setOnClickListener(view -&gt; {\r\n                    item.setRDVHour(timePicker.getHour());\r\n                    item.setRDVMinute(timePicker.getMinute());\r\n                    validated = true;\r\n                    item.setValider(true);\r\n                    item.confirmDriver();\r\n    \r\n                    //if (itemList.size() == 1){\r\n    \r\n                        //mCard.setCardBackgroundColor(ContextCompat.getColor(context.getApplicationContext(), R.color.teal_700));\r\n                    //itemView.setBackgroundColor(ContextCompat.getColor(context.getApplicationContext(),R.color.teal_700));\r\n    \r\n                    });\r\n    \r\n    \r\n    \r\n                mreschedulded.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        timePicker.setEnabled(true);\r\n                        itemView.setBackgroundColor(ContextCompat.getColor(context.getApplicationContext(),R.color.grey));\r\n    \r\n                    }\r\n                });\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n\r\nIn the MainActivity: \r\n\r\n         resultsTestList.add(0,  mCurrentRide);\r\n         mTestListAdapter.notifyDataSetChanged()\r\n\r\n\r\nIve tried the code in the answer but it doesnt work . Currently, the setbackgroundcolor applies just to  the  first element of the list. I would want that if the first element (item0) goes to second element (item1) the item keep his color background which is not the case with the given answer code  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Button to change the color of the current item in a recycler view","body":"<p>I have a validate button inside each item of a recyclerView in order to change the color to green of the current item. When a new item is added in the recyclerview , I want to set the default background (no background color).</p>\n<p>I've tried inside the BindView(position) function so by default when a new item is added in the itemsList, the color of the current element (item 0) is green whether I clicked on validate or not and that's not what I want.</p>\n<p>I've also tried in the onBindViewHolder function but it doesnt work.</p>\n<p>How can I change the color of this item in this recyclerview and this color remains the same whithout considering the index changing in the List if a new item is added?</p>\n<p>I want that each new item of this recyclerview to be in the default color (background color white or no background color) and the item +n to be in the color of the corresponding status (validated = green , reschedulded = grey)</p>\n<p>Once the validated button has been clicked I want the item to remains in read only mode.</p>\n<p>Here is the code :</p>\n<p>The adapter:</p>\n<pre><code>private Context context;\n    private List&lt;RideObject&gt; itemList;\n\n    public TestListeAdapter(List&lt;RideObject&gt; itemList, Context context) {\n        this.itemList = itemList;\n        this.context = context;\n    }\n\n    @NotNull\n    @Override\n    public TestListeAdapter.TestListeViewHolders onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_testliste, null, false);\n        RecyclerView.LayoutParams lp = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        layoutView.setLayoutParams(lp);\n        return new TestListeAdapter.TestListeViewHolders(layoutView);\n    }\n\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public void onBindViewHolder(@NotNull TestListeAdapter.TestListeViewHolders holder, final int position) {\n       \n\n        holder.bindView(position);\n\n       if (holder.validated){\n\n            holder.mCard.setCardBackgroundColor(ContextCompat.getColor(context.getApplicationContext(), R.color.teal_700));\n        }\n</code></pre>\n<p>the viewholder Class :</p>\n<pre><code>class TestListeViewHolders extends RecyclerView.ViewHolder {\n        //MyClickListener  listener;\n        TextView rideId;\n   \n        ImageView mCheck;\n        ImageView mreschedulded;\n    \n        CardView mCard;\n      \n\n        TestListeViewHolders(View itemView) {\n            super(itemView);\n           \n            mCheck = itemView.findViewById(R.id.validate);\n            mreschedulded= itemView.findViewById(R.id.reschedulded);\n          \n            mCard = itemView.findViewById(R.id.card_view);\n         \n     \n\n        }\n\n        private void bindView(int pos) {\n            RideObject item = itemList.get(pos);\n\n      \n\n\n            mCheck.setOnClickListener(view -&gt; {\n                item.setRDVHour(timePicker.getHour());\n                item.setRDVMinute(timePicker.getMinute());\n                validated = true;\n                item.setValider(true);\n                item.confirmDriver();\n\n                //if (itemList.size() == 1){\n\n                    //mCard.setCardBackgroundColor(ContextCompat.getColor(context.getApplicationContext(), R.color.teal_700));\n                //itemView.setBackgroundColor(ContextCompat.getColor(context.getApplicationContext(),R.color.teal_700));\n\n                });\n\n\n\n            mreschedulded.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    timePicker.setEnabled(true);\n                    itemView.setBackgroundColor(ContextCompat.getColor(context.getApplicationContext(),R.color.grey));\n\n                }\n            });\n\n\n        }\n\n    }\n</code></pre>\n<p>In the MainActivity:</p>\n<pre><code>     resultsTestList.add(0,  mCurrentRide);\n     mTestListAdapter.notifyDataSetChanged()\n</code></pre>\n<p>Ive tried the code in the answer but it doesnt work . Currently, the setbackgroundcolor applies just to  the  first element of the list. I would want that if the first element (item0) goes to second element (item1) the item keep his color background which is not the case with the given answer code</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1374764,"reputation":5387,"user_id":1308990,"accept_rate":76,"display_name":"oiyio"},"score":1,"creation_date":1553181409,"post_id":20773334,"comment_id":97297230,"body_markdown":"answer includes some mystery. More detail needed.","body":"answer includes some mystery. More detail needed."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1553181650,"post_id":20773334,"comment_id":97297392,"body_markdown":"@oiyio **?android** indicates a *system* feature. Not a customized/customizable one. Mystery solved.","body":"@oiyio <b>?android</b> indicates a <i>system</i> feature. Not a customized/customizable one. Mystery solved."}],"tags":[],"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"comment_count":2,"down_vote_count":3,"up_vote_count":56,"is_accepted":true,"score":53,"last_activity_date":1402387156,"creation_date":1387978459,"answer_id":20773334,"question_id":20773307,"body_markdown":"    android:attr\r\n\r\nis an attribute.\r\n\r\nIn specific,\r\n\r\n    android:layout_marginTop=&quot;?android:attr/actionBarSize&quot;\r\n\r\nmeans: &quot;the size (height) of the action bar&quot;.  \r\n**?** is a special character that means it&#39;s an Android internal feature.\r\n","title":"New to android need to understand &quot;?android:attr/actionBarSize&quot;","body":"<pre><code>android:attr\n</code></pre>\n\n<p>is an attribute.</p>\n\n<p>In specific,</p>\n\n<pre><code>android:layout_marginTop=\"?android:attr/actionBarSize\"\n</code></pre>\n\n<p>means: \"the size (height) of the action bar\".<br>\n<strong>?</strong> is a special character that means it's an Android internal feature.</p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1396257574,"post_id":20773463,"comment_id":34691684,"body_markdown":"Where can you get a list of all of those configurations and properties, using the same method?","body":"Where can you get a list of all of those configurations and properties, using the same method?"}],"tags":[],"owner":{"account_id":3771107,"reputation":485,"user_id":3133292,"display_name":"Aniruddha Sarkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387984705,"creation_date":1387979410,"answer_id":20773463,"question_id":20773307,"body_markdown":"While building android apps, one requires  to know the properties of the Android client. Such as screen size etc. One such method is by using `android:attr` which is android attributes. Here you have mentioned to return a specific attribute by mentioning the keyword after / symbol. Here the keyword is `actionBarSize`.\r\n\r\nThe `?` symbol is an operator which is used to access system configurations and properties in Android","title":"New to android need to understand &quot;?android:attr/actionBarSize&quot;","body":"<p>While building android apps, one requires  to know the properties of the Android client. Such as screen size etc. One such method is by using <code>android:attr</code> which is android attributes. Here you have mentioned to return a specific attribute by mentioning the keyword after / symbol. Here the keyword is <code>actionBarSize</code>.</p>\n\n<p>The <code>?</code> symbol is an operator which is used to access system configurations and properties in Android</p>\n"},{"comments":[{"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"score":0,"creation_date":1479751650,"post_id":23596235,"comment_id":68680481,"body_markdown":"Is there a built in 2 x ?attr/actionBarSize?","body":"Is there a built in 2 x ?attr/actionBarSize?"},{"owner":{"account_id":2152254,"reputation":5081,"user_id":1908296,"accept_rate":60,"display_name":"ahmed hamdy"},"score":0,"creation_date":1479813318,"post_id":23596235,"comment_id":68706630,"body_markdown":"@santafebound Do you mean multiple action bar size value??","body":"@santafebound Do you mean multiple action bar size value??"},{"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"score":0,"creation_date":1479815984,"post_id":23596235,"comment_id":68708327,"body_markdown":"@ahmedhamdy Yes","body":"@ahmedhamdy Yes"},{"owner":{"account_id":2152254,"reputation":5081,"user_id":1908296,"accept_rate":60,"display_name":"ahmed hamdy"},"score":0,"creation_date":1479818528,"post_id":23596235,"comment_id":68710028,"body_markdown":"I think there isn&#39;t built in for multiple action bar size value or setting it as `2x actionBarSize`.\nI think you need to setting numerical value into `values.xml` file.","body":"I think there isn&#39;t built in for multiple action bar size value or setting it as <code>2x actionBarSize</code>. I think you need to setting numerical value into <code>values.xml</code> file."}],"tags":[],"owner":{"account_id":2152254,"reputation":5081,"user_id":1908296,"accept_rate":60,"display_name":"ahmed hamdy"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1615972119,"creation_date":1399832207,"answer_id":23596235,"question_id":20773307,"body_markdown":"Instead of write Numerical number in value of `android:layout_marginTop` , you can use the height specified by [ actionBarSize ][1] like [ an Example in  Android Training ][2].\r\n\r\nYou can use  `?android:attr` or `?attr` [ in case support library ] If you need to use any android attributes[ `attr` ] can be found in [R.attr][3] \r\n\r\n**For** More Description about `?android:attr` [Question 1][4] ,[Question 2][5]   \r\n \r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/R.attr.html#actionBarSize\r\n  [2]: http://developer.android.com/training/basics/actionbar/overlaying.html#TopMargin\r\n  [3]: http://developer.android.com/reference/android/R.attr.html\r\n  [4]: https://stackoverflow.com/questions/15008150/how-does-androidattr-activatedbackgroundindicator-work\r\n  [5]: https://stackoverflow.com/questions/10869184/how-does-an-androidattr-style-work/10869421#10869421","title":"New to android need to understand &quot;?android:attr/actionBarSize&quot;","body":"<p>Instead of write Numerical number in value of <code>android:layout_marginTop</code> , you can use the height specified by <a href=\"http://developer.android.com/reference/android/R.attr.html#actionBarSize\" rel=\"nofollow noreferrer\"> actionBarSize </a> like <a href=\"http://developer.android.com/training/basics/actionbar/overlaying.html#TopMargin\" rel=\"nofollow noreferrer\"> an Example in  Android Training </a>.</p>\n<p>You can use  <code>?android:attr</code> or <code>?attr</code> [ in case support library ] If you need to use any android attributes[ <code>attr</code> ] can be found in <a href=\"http://developer.android.com/reference/android/R.attr.html\" rel=\"nofollow noreferrer\">R.attr</a></p>\n<p><strong>For</strong> More Description about <code>?android:attr</code> <a href=\"https://stackoverflow.com/questions/15008150/how-does-androidattr-activatedbackgroundindicator-work\">Question 1</a> ,<a href=\"https://stackoverflow.com/questions/10869184/how-does-an-androidattr-style-work/10869421#10869421\">Question 2</a></p>\n"}],"owner":{"account_id":3772877,"reputation":965,"user_id":3134565,"accept_rate":53,"display_name":"user3134565"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35395,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":20773334,"answer_count":3,"score":40,"last_activity_date":1666273754,"creation_date":1387978254,"question_id":20773307,"body_markdown":"I was going through [Lars Vogel&#39;s tutorial][1] on using Fragments and I came across the following code:\r\n\r\n    android:layout_marginTop=&quot;?android:attr/actionBarSize&quot;\r\n\r\nI am not sure what `?android:attr` means, especially the question mark.\r\n\r\n  [1]: http://www.vogella.com/articles/AndroidFragments/article.html\r\n\r\n","title":"New to android need to understand &quot;?android:attr/actionBarSize&quot;","body":"<p>I was going through <a href=\"http://www.vogella.com/articles/AndroidFragments/article.html\" rel=\"noreferrer\">Lars Vogel's tutorial</a> on using Fragments and I came across the following code:</p>\n\n<pre><code>android:layout_marginTop=\"?android:attr/actionBarSize\"\n</code></pre>\n\n<p>I am not sure what <code>?android:attr</code> means, especially the question mark.</p>\n"},{"tags":["java","android","python","kivy"],"comments":[{"owner":{"account_id":9086198,"reputation":3461,"user_id":6764079,"accept_rate":90,"display_name":"Amin Etesamian"},"score":0,"creation_date":1508736587,"post_id":46867907,"comment_id":80712138,"body_markdown":"https://stackoverflow.com/a/32033021/6764079","body":"<a href=\"https://stackoverflow.com/a/32033021/6764079\">stackoverflow.com/a/32033021/6764079</a>"},{"owner":{"account_id":9086198,"reputation":3461,"user_id":6764079,"accept_rate":90,"display_name":"Amin Etesamian"},"score":3,"creation_date":1508796071,"post_id":46867907,"comment_id":80745594,"body_markdown":"an Activity must be passed to an `Intent` but you are passing a `Service` to it. This is the reason it fails but I got no solution!","body":"an Activity must be passed to an <code>Intent</code> but you are passing a <code>Service</code> to it. This is the reason it fails but I got no solution!"},{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1509463450,"post_id":46867907,"comment_id":81024409,"body_markdown":"Looks like you&#39;re trying to access extras from the intent&#39;s bundle and it&#39;s crashing.  It would be helpful to have more code around your actual service implementation.  Also, you&#39;re not adding any extras to your intent before your startService call, which is likely why if you&#39;re trying to access them it&#39;s crashing.","body":"Looks like you&#39;re trying to access extras from the intent&#39;s bundle and it&#39;s crashing.  It would be helpful to have more code around your actual service implementation.  Also, you&#39;re not adding any extras to your intent before your startService call, which is likely why if you&#39;re trying to access them it&#39;s crashing."},{"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"score":0,"creation_date":1509555931,"post_id":46867907,"comment_id":81067618,"body_markdown":"@Submersed thank you for the comment. I&#39;ve added my AndroidManifest. That&#39;s all - I have no more code around the service. What extras should I add in my case?","body":"@Submersed thank you for the comment. I&#39;ve added my AndroidManifest. That&#39;s all - I have no more code around the service. What extras should I add in my case?"}],"answers":[{"comments":[{"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"score":0,"creation_date":1509555471,"post_id":47015828,"comment_id":81067311,"body_markdown":"Thank you for the answer but it didn&#39;t help. I&#39;ve updated my question with my AndroidManifest that I had before and I&#39;ve tried to change `android:enabled=&quot;true&quot;` to `android:enabled=&quot;false&quot;` in the receiver and add `android:exported=&quot;false&quot;` to the service. But in this case when the device starts happens nothing: no errors, no service.","body":"Thank you for the answer but it didn&#39;t help. I&#39;ve updated my question with my AndroidManifest that I had before and I&#39;ve tried to change <code>android:enabled=&quot;true&quot;</code> to <code>android:enabled=&quot;false&quot;</code> in the receiver and add <code>android:exported=&quot;false&quot;</code> to the service. But in this case when the device starts happens nothing: no errors, no service."},{"owner":{"account_id":11517220,"reputation":135,"user_id":8440242,"display_name":"mariachi"},"score":0,"creation_date":1509620510,"post_id":47015828,"comment_id":81095464,"body_markdown":"No errors on bootup is a good sign for your app. Can you put a logger around your activity/sevice start point to check if you receive anything from BroadcastReceiver?","body":"No errors on bootup is a good sign for your app. Can you put a logger around your activity/sevice start point to check if you receive anything from BroadcastReceiver?"},{"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"score":0,"creation_date":1509642222,"post_id":47015828,"comment_id":81110751,"body_markdown":"Of course. Looks like BroadcastReceiver is not called or receive nothing because I don&#39;t see my Log.d message and if I use my version (with `android:enabled=&quot;true&quot;` and without `android:exported=&quot;false&quot;`) I can see my Log.d message.","body":"Of course. Looks like BroadcastReceiver is not called or receive nothing because I don&#39;t see my Log.d message and if I use my version (with <code>android:enabled=&quot;true&quot;</code> and without <code>android:exported=&quot;false&quot;</code>) I can see my Log.d message."},{"owner":{"account_id":11517220,"reputation":135,"user_id":8440242,"display_name":"mariachi"},"score":0,"creation_date":1509699035,"post_id":47015828,"comment_id":81132574,"body_markdown":"Have you launched your application at least once after installation to activate it? I wonder if your application is in a stopped state, so it won&#39;t receive any broadcast.","body":"Have you launched your application at least once after installation to activate it? I wonder if your application is in a stopped state, so it won&#39;t receive any broadcast."},{"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"score":0,"creation_date":1509744222,"post_id":47015828,"comment_id":81159720,"body_markdown":"Yes, I have. I always at first reinstall and run the app, check my service using logcat and than reboot the device.","body":"Yes, I have. I always at first reinstall and run the app, check my service using logcat and than reboot the device."},{"owner":{"account_id":11517220,"reputation":135,"user_id":8440242,"display_name":"mariachi"},"score":0,"creation_date":1510307810,"post_id":47015828,"comment_id":81389492,"body_markdown":"I wonder if you really need to specify `android:process` for your receiver and service? According to docs: _&quot;Application components are normally run in a single process that is created for the entire application. If the process name begins with a &#39;:&#39; character, a new process private to that application will be created when needed to run that component (allowing you to spread your application across multiple processes).&quot;_  - so your app, receiver and service exists in different processes. I&#39;m not sure if it is the reason of issue, but I&#39;d try to drop `android:process` from both.","body":"I wonder if you really need to specify <code>android:process</code> for your receiver and service? According to docs: <i>&quot;Application components are normally run in a single process that is created for the entire application. If the process name begins with a &#39;:&#39; character, a new process private to that application will be created when needed to run that component (allowing you to spread your application across multiple processes).&quot;</i>  - so your app, receiver and service exists in different processes. I&#39;m not sure if it is the reason of issue, but I&#39;d try to drop <code>android:process</code> from both."},{"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"score":0,"creation_date":1510451546,"post_id":47015828,"comment_id":81439761,"body_markdown":"I think you&#39;re right that is the reason but I can&#39;t just drop it because without it I can&#39;t even start the service.","body":"I think you&#39;re right that is the reason but I can&#39;t just drop it because without it I can&#39;t even start the service."},{"owner":{"account_id":11517220,"reputation":135,"user_id":8440242,"display_name":"mariachi"},"score":0,"creation_date":1510558367,"post_id":47015828,"comment_id":81468770,"body_markdown":"Same doc says:  &quot;_Specify a specific process that the associated code is to run in. Use with the application tag (to supply a default process for all application components), or with the activity, receiver, service, or provider tag (to supply a specific icon for that component)._&quot;  and  following:  &quot;_If the process name begins with a lower-case character, the component will be run in a global process of that name, provided that you have permission to do so, allowing multiple applications to share one process to reduce resource usage_&quot;.  I think you should drop &quot;:&quot;, and try with application tag","body":"Same doc says:  &quot;<i>Specify a specific process that the associated code is to run in. Use with the application tag (to supply a default process for all application components), or with the activity, receiver, service, or provider tag (to supply a specific icon for that component).</i>&quot;  and  following:  &quot;<i>If the process name begins with a lower-case character, the component will be run in a global process of that name, provided that you have permission to do so, allowing multiple applications to share one process to reduce resource usage</i>&quot;.  I think you should drop &quot;:&quot;, and try with application tag"}],"tags":[],"owner":{"account_id":11517220,"reputation":135,"user_id":8440242,"display_name":"mariachi"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509375190,"creation_date":1509368113,"answer_id":47015828,"question_id":46867907,"body_markdown":"It seems that Service or Activity that you try to start is not initialized.\r\nYou didn&#39;t paste your AndroidManifest, so I&#39;ll write what it&#39;s supposed to have.\r\n\r\nThe first thing is that you should have permission added to run on boot:\r\n   \r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n\r\n\r\nThe second thing is that you should define your receiver in Manifest:\r\n  \r\n        &lt;receiver android:name=&quot;.MyBroadcastReceiver&quot;\r\n                  android:enabled=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\nThe third thing is that you should define your service or activity you try to start, e.g:\r\n\r\n    \r\n        &lt;activity android:name=&quot;.PythonActivity&quot; /&gt;\r\n        &lt;service android:name=&quot;.ServiceMyservice&quot; android:exported=&quot;false&quot;/&gt;","title":"Starting Kivy service on bootup (Android)","body":"<p>It seems that Service or Activity that you try to start is not initialized.\nYou didn't paste your AndroidManifest, so I'll write what it's supposed to have.</p>\n\n<p>The first thing is that you should have permission added to run on boot:</p>\n\n<pre><code>    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"/&gt;\n</code></pre>\n\n<p>The second thing is that you should define your receiver in Manifest:</p>\n\n<pre><code>    &lt;receiver android:name=\".MyBroadcastReceiver\"\n              android:enabled=\"false\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>The third thing is that you should define your service or activity you try to start, e.g:</p>\n\n<pre><code>    &lt;activity android:name=\".PythonActivity\" /&gt;\n    &lt;service android:name=\".ServiceMyservice\" android:exported=\"false\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1511138718,"creation_date":1511047200,"answer_id":47372117,"question_id":46867907,"body_markdown":"OMG! I&#39;ve found the solution by solving [my another issue with kivy service][1]. It&#39;s enough just add some extras. Here is work code:\r\n\r\n    package net.saband.myapp;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Intent;\r\n    import android.content.Context;\r\n    import net.saband.myapp.ServiceMyservice;\r\n    \r\n    public class MyBroadcastReceiver extends BroadcastReceiver {\r\n        public void onReceive(Context context, Intent intent) {\r\n            String package_root = context.getFilesDir().getAbsolutePath();\r\n            String app_root =  package_root + &quot;/app&quot;;\r\n            Intent ix = new Intent(context, ServiceMyservice.class);\r\n            ix.putExtra(&quot;androidPrivate&quot;, package_root);\r\n            ix.putExtra(&quot;androidArgument&quot;, app_root);\r\n            ix.putExtra(&quot;serviceEntrypoint&quot;, &quot;./service/main.py&quot;);\r\n            ix.putExtra(&quot;pythonName&quot;, &quot;myservice&quot;);\r\n            ix.putExtra(&quot;pythonHome&quot;, app_root);\r\n            ix.putExtra(&quot;pythonPath&quot;, package_root);\r\n            ix.putExtra(&quot;pythonServiceArgument&quot;, app_root+&quot;:&quot;+app_root+&quot;/lib&quot;);\r\n            ix.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startService(ix);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47362161/kivy-service-stops-when-app-is-closed","title":"Starting Kivy service on bootup (Android)","body":"<p>OMG! I've found the solution by solving <a href=\"https://stackoverflow.com/questions/47362161/kivy-service-stops-when-app-is-closed\">my another issue with kivy service</a>. It's enough just add some extras. Here is work code:</p>\n\n<pre><code>package net.saband.myapp;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Intent;\nimport android.content.Context;\nimport net.saband.myapp.ServiceMyservice;\n\npublic class MyBroadcastReceiver extends BroadcastReceiver {\n    public void onReceive(Context context, Intent intent) {\n        String package_root = context.getFilesDir().getAbsolutePath();\n        String app_root =  package_root + \"/app\";\n        Intent ix = new Intent(context, ServiceMyservice.class);\n        ix.putExtra(\"androidPrivate\", package_root);\n        ix.putExtra(\"androidArgument\", app_root);\n        ix.putExtra(\"serviceEntrypoint\", \"./service/main.py\");\n        ix.putExtra(\"pythonName\", \"myservice\");\n        ix.putExtra(\"pythonHome\", app_root);\n        ix.putExtra(\"pythonPath\", package_root);\n        ix.putExtra(\"pythonServiceArgument\", app_root+\":\"+app_root+\"/lib\");\n        ix.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startService(ix);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17184893,"reputation":1835,"user_id":12439683,"display_name":"Daraan"},"score":0,"creation_date":1666643007,"post_id":74140962,"comment_id":130981701,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/32990666)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/32990666\">From Review</a>"},{"owner":{"account_id":15292445,"reputation":39,"user_id":11033583,"display_name":"Jessy James"},"score":0,"creation_date":1670192046,"post_id":74140962,"comment_id":131812804,"body_markdown":"https://habr.com/ru/post/694906/","body":"<a href=\"https://habr.com/ru/post/694906/\" rel=\"nofollow noreferrer\">habr.com/ru/post/694906</a>"}],"tags":[],"owner":{"account_id":15292445,"reputation":39,"user_id":11033583,"display_name":"Jessy James"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666273519,"creation_date":1666273519,"answer_id":74140962,"question_id":46867907,"body_markdown":"Where Manifest file in kivy project or how you can added this rule in buildozer.spec?:\r\n\r\n    &lt;receiver android:name=&quot;.MyBroadcastReceiver&quot;\r\n              android:enabled=&quot;false&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;","title":"Starting Kivy service on bootup (Android)","body":"<p>Where Manifest file in kivy project or how you can added this rule in buildozer.spec?:</p>\n<pre><code>&lt;receiver android:name=&quot;.MyBroadcastReceiver&quot;\n          android:enabled=&quot;false&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"}],"owner":{"account_id":12001113,"reputation":472,"user_id":8781016,"accept_rate":100,"display_name":"Andrzej S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1530,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":47372117,"answer_count":3,"score":11,"last_activity_date":1666273519,"creation_date":1508618815,"question_id":46867907,"body_markdown":"I&#39;m trying to start my kivy app&#39;s service on bootup.\r\n\r\nI&#39;m sure that my service is ok because it works when I start my app. But on bootup I have a problem.\r\n\r\nI&#39;ve read [this article][1] and tried to make it:\r\n\r\n    package net.saband.myapp;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Intent;\r\n    import android.content.Context;\r\n    import org.kivy.android.PythonActivity;\r\n    \r\n    public class MyBroadcastReceiver extends BroadcastReceiver {\r\n    \tpublic void onReceive(Context context, Intent intent) {\r\n    \t\tIntent ix = new Intent(context, PythonActivity.class);\r\n    \t\tix.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \t\tcontext.startActivity(ix);\r\n    \t}\r\n    }\r\n\r\nIt works but starts the app but not the service. So I&#39;ve studied some questions on StackOverflow and changed my code for this:\r\n\r\n    package net.saband.myapp;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Intent;\r\n    import android.content.Context;\r\n    import net.saband.myapp.ServiceMyservice;\r\n    \r\n    public class MyBroadcastReceiver extends BroadcastReceiver {\r\n    \tpublic void onReceive(Context context, Intent intent) {\r\n    \t\tIntent ix = new Intent(context, ServiceMyservice.class);\r\n    \t\tix.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \t\tcontext.startService(ix);\r\n    \t}\r\n    }\r\n\r\n... and got an error:\r\n\r\n    10-21 19:16:44.784  1513  1569 I ActivityManager: Start proc 6334:net.saband.myapp:service_myservice/u0a116 for service net.saband.myapp/.ServiceMyservice\r\n    10-21 19:16:44.786  6334  6334 I art     : Late-enabling -Xcheck:jni\r\n    10-21 19:16:44.885  6334  6334 D AndroidRuntime: Shutting down VM\r\n    10-21 19:16:44.888  6334  6334 E AndroidRuntime: FATAL EXCEPTION: main\r\n    10-21 19:16:44.888  6334  6334 E AndroidRuntime: Process: net.saband.myapp:service_myservice, PID: 6334\r\n    10-21 19:16:44.888  6334  6334 E AndroidRuntime: Theme: themes:{}\r\n    10-21 19:16:44.888  6334  6334 E AndroidRuntime: java.lang.RuntimeException: Unable to start service net.saband.myapp.ServiceMyservice@8c96929 with Intent { cmp=net.saband.myapp/.ServiceMyservice }: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.os.Bundle.getString(java.lang.String)&#39; on a null object reference\r\n\r\nCan you please explain me what&#39;s wrong and what should I do to start the service? Thanks!\r\n\r\n**UPDATED**\r\n\r\nBy request of @Juggernaut I add my service code:\r\n\r\n    from time import sleep\r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n    \twhile True:\r\n    \t\tprint &quot;myapp service&quot;\r\n    \t\tsleep(5)\r\n\r\nIt works when I run app because app calls the service:\r\n\r\n    def __start_service(self):\r\n    \tif platform == &#39;android&#39;:\r\n    \t\tservice = autoclass(&#39;net.saband.myapp.ServiceMyservice&#39;)\r\n    \t\tmActivity = autoclass(&#39;org.kivy.android.PythonActivity&#39;).mActivity\r\n    \t\targument = &#39;&#39;\r\n    \t\tservice.start(mActivity, argument)\r\n\r\n**UPDATED (AndroidManifest)**\r\n\r\nHere is some strings from my AndroidManifest.xml.\r\n\r\n1. I have the RECEIVE_BOOT_COMPLETED permission:\r\n\r\n    `&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;`\r\n\r\n2. I have the receiver:\r\n\r\n    `&lt;receiver android:name=&quot;.MyBroadcastReceiver&quot; android:enabled=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;`\r\n\r\n3. I have the service registered:\r\n\r\n    `&lt;service android:name=&quot;net.saband.myapp.ServiceMyservice&quot;\r\n        android:process=&quot;:service_myservice&quot; /&gt;`\r\n\r\nBy advice of @mariachi I&#39;ve tried to change `android:enabled=&quot;true&quot; to android:enabled=&quot;false&quot;` in the receiver and add `android:exported=&quot;false&quot;` to the service. In this case when the device starts happens nothing: no errors, no service.\r\n\r\n  [1]: https://github.com/kivy/kivy/wiki/Starting-Kivy-service-on-bootup-(Android)","title":"Starting Kivy service on bootup (Android)","body":"<p>I'm trying to start my kivy app's service on bootup.</p>\n\n<p>I'm sure that my service is ok because it works when I start my app. But on bootup I have a problem.</p>\n\n<p>I've read <a href=\"https://github.com/kivy/kivy/wiki/Starting-Kivy-service-on-bootup-(Android)\" rel=\"nofollow noreferrer\">this article</a> and tried to make it:</p>\n\n<pre><code>package net.saband.myapp;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Intent;\nimport android.content.Context;\nimport org.kivy.android.PythonActivity;\n\npublic class MyBroadcastReceiver extends BroadcastReceiver {\n    public void onReceive(Context context, Intent intent) {\n        Intent ix = new Intent(context, PythonActivity.class);\n        ix.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(ix);\n    }\n}\n</code></pre>\n\n<p>It works but starts the app but not the service. So I've studied some questions on StackOverflow and changed my code for this:</p>\n\n<pre><code>package net.saband.myapp;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Intent;\nimport android.content.Context;\nimport net.saband.myapp.ServiceMyservice;\n\npublic class MyBroadcastReceiver extends BroadcastReceiver {\n    public void onReceive(Context context, Intent intent) {\n        Intent ix = new Intent(context, ServiceMyservice.class);\n        ix.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startService(ix);\n    }\n}\n</code></pre>\n\n<p>... and got an error:</p>\n\n<pre><code>10-21 19:16:44.784  1513  1569 I ActivityManager: Start proc 6334:net.saband.myapp:service_myservice/u0a116 for service net.saband.myapp/.ServiceMyservice\n10-21 19:16:44.786  6334  6334 I art     : Late-enabling -Xcheck:jni\n10-21 19:16:44.885  6334  6334 D AndroidRuntime: Shutting down VM\n10-21 19:16:44.888  6334  6334 E AndroidRuntime: FATAL EXCEPTION: main\n10-21 19:16:44.888  6334  6334 E AndroidRuntime: Process: net.saband.myapp:service_myservice, PID: 6334\n10-21 19:16:44.888  6334  6334 E AndroidRuntime: Theme: themes:{}\n10-21 19:16:44.888  6334  6334 E AndroidRuntime: java.lang.RuntimeException: Unable to start service net.saband.myapp.ServiceMyservice@8c96929 with Intent { cmp=net.saband.myapp/.ServiceMyservice }: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.os.Bundle.getString(java.lang.String)' on a null object reference\n</code></pre>\n\n<p>Can you please explain me what's wrong and what should I do to start the service? Thanks!</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>By request of @Juggernaut I add my service code:</p>\n\n<pre><code>from time import sleep\n\nif __name__ == '__main__':\n    while True:\n        print \"myapp service\"\n        sleep(5)\n</code></pre>\n\n<p>It works when I run app because app calls the service:</p>\n\n<pre><code>def __start_service(self):\n    if platform == 'android':\n        service = autoclass('net.saband.myapp.ServiceMyservice')\n        mActivity = autoclass('org.kivy.android.PythonActivity').mActivity\n        argument = ''\n        service.start(mActivity, argument)\n</code></pre>\n\n<p><strong>UPDATED (AndroidManifest)</strong></p>\n\n<p>Here is some strings from my AndroidManifest.xml.</p>\n\n<ol>\n<li><p>I have the RECEIVE_BOOT_COMPLETED permission:</p>\n\n<p><code>&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;</code></p></li>\n<li><p>I have the receiver:</p>\n\n<p><code>&lt;receiver android:name=\".MyBroadcastReceiver\" android:enabled=\"true\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\"/&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;</code></p></li>\n<li><p>I have the service registered:</p>\n\n<p><code>&lt;service android:name=\"net.saband.myapp.ServiceMyservice\"\n    android:process=\":service_myservice\" /&gt;</code></p></li>\n</ol>\n\n<p>By advice of @mariachi I've tried to change <code>android:enabled=\"true\" to android:enabled=\"false\"</code> in the receiver and add <code>android:exported=\"false\"</code> to the service. In this case when the device starts happens nothing: no errors, no service.</p>\n"},{"tags":["java","pentaho","transformation","pdi"],"answers":[{"tags":[],"owner":{"account_id":22613808,"reputation":1,"user_id":16793582,"display_name":"Boomboo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666273159,"creation_date":1666273159,"answer_id":74140863,"question_id":60263657,"body_markdown":"I encountered a problem similar to yours. See the figure below for specific errors. My solution is due to The ktr file and the PDI actual installation folder are not in the same directory, so the command line adds the - norep parameter. The correct script: `sh /usr/local/data-integration(the PDI installation directory)/pan.sh -norep -file=/home/etl/ktr/xxx.ktr(the ktr actual directory)[enter image description here][1]`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4NHIR.png","title":"Java API - Pentaho - PDI - The transformation path ... is invalid, and will not run successfully","body":"<p>I encountered a problem similar to yours. See the figure below for specific errors. My solution is due to The ktr file and the PDI actual installation folder are not in the same directory, so the command line adds the - norep parameter. The correct script: <code>sh /usr/local/data-integration(the PDI installation directory)/pan.sh -norep -file=/home/etl/ktr/xxx.ktr(the ktr actual directory)[enter image description here][1]</code></p>\n"}],"owner":{"account_id":17781962,"reputation":21,"user_id":12912970,"display_name":"Tiago Emil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666273159,"creation_date":1581946498,"question_id":60263657,"body_markdown":"I&#39;m using java api for de transformations.\r\n\r\nWhen I running local (eclipse/windows), the transformation works perfectly! But I will run in linux, the transformation doens&#39;t works and return the problem:\r\n\r\n&quot;The transformation path file:/opt/platform/erpx-fnd-importacao-develop-SNAPSHOT/erpx-fnd-importacao-develop-SNAPSHOT-assembled-jar-with-dependencies.jar!/fnd_pessoa.ktr **is invalid, and will not run successfully&quot;.**\r\n\r\n \r\nMy software is running with docker and linux Ubuntu.\r\n\r\nMy code:\r\n\r\n```\r\ntry {\r\n    KettleEnvironment.init();\r\n    Trans transformation = new Trans(new \r\n    TransMeta(ClassLoader.getSystemResource(&quot;fnd_pessoa&quot;).getFile()));\r\n    transformation.execute(null);\r\n    transformation.waitUntilFinished();\r\n    if (transformacao.getErrors() &gt; 0) {\r\n\t  LOGGER.error(&quot;Ocorreram erros durante a importa&#231;&#227;o&quot;);\r\n   }\r\n} catch (KettleException e) {\r\n  throw new KettleExceptions(&quot;Problemas ao inicializar PDI - Kettle &quot;, e);\r\n}\r\n```","title":"Java API - Pentaho - PDI - The transformation path ... is invalid, and will not run successfully","body":"<p>I'm using java api for de transformations.</p>\n\n<p>When I running local (eclipse/windows), the transformation works perfectly! But I will run in linux, the transformation doens't works and return the problem:</p>\n\n<p>\"The transformation path file:/opt/platform/erpx-fnd-importacao-develop-SNAPSHOT/erpx-fnd-importacao-develop-SNAPSHOT-assembled-jar-with-dependencies.jar!/fnd_pessoa.ktr <strong>is invalid, and will not run successfully\".</strong></p>\n\n<p>My software is running with docker and linux Ubuntu.</p>\n\n<p>My code:</p>\n\n<pre><code>try {\n    KettleEnvironment.init();\n    Trans transformation = new Trans(new \n    TransMeta(ClassLoader.getSystemResource(\"fnd_pessoa\").getFile()));\n    transformation.execute(null);\n    transformation.waitUntilFinished();\n    if (transformacao.getErrors() &gt; 0) {\n      LOGGER.error(\"Ocorreram erros durante a importa√ß√£o\");\n   }\n} catch (KettleException e) {\n  throw new KettleExceptions(\"Problemas ao inicializar PDI - Kettle \", e);\n}\n</code></pre>\n"},{"tags":["java","csv","double-quotes","apache-commons-csv"],"answers":[{"comments":[{"owner":{"account_id":292819,"reputation":775,"user_id":595807,"accept_rate":93,"display_name":"mhollander38"},"score":0,"creation_date":1498134899,"post_id":44698325,"comment_id":76381932,"body_markdown":"withQuote(&#39;&quot;&#39;) is already set by DEFAULT. Unfortunately the space is a legitimate entry and contained within various other rows in the CSV in such a way I can&#39;t treat it as a quote character.","body":"withQuote(&#39;&quot;&#39;) is already set by DEFAULT. Unfortunately the space is a legitimate entry and contained within various other rows in the CSV in such a way I can&#39;t treat it as a quote character."},{"owner":{"account_id":7995590,"reputation":2556,"user_id":6032010,"display_name":"SHG"},"score":0,"creation_date":1498149376,"post_id":44698325,"comment_id":76392942,"body_markdown":"@mhollander38 Space is still legitimate with my format. I&#39;ll add an example and output.","body":"@mhollander38 Space is still legitimate with my format. I&#39;ll add an example and output."},{"owner":{"account_id":280999,"reputation":2034,"user_id":577052,"accept_rate":59,"display_name":"Bernhard D&#246;bler"},"score":0,"creation_date":1592932734,"post_id":44698325,"comment_id":110600336,"body_markdown":"How are the two `withQuote()` calls supposed to work? Doesn&#39;t the latter override the first?","body":"How are the two <code>withQuote()</code> calls supposed to work? Doesn&#39;t the latter override the first?"}],"tags":[],"owner":{"account_id":7995590,"reputation":2556,"user_id":6032010,"display_name":"SHG"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498149614,"creation_date":1498131449,"answer_id":44698325,"question_id":44697228,"body_markdown":"I think that having both quotations AND spaces in the same token is what confuses the parser. Try this:\r\n\r\n    CSVFormat csvFormat = CSVFormat.DEFAULT.withQuote(&#39;&quot;&#39;).withQuote(&#39; &#39;);\r\n\r\nThat should fix it.\r\n\r\n\r\n----------\r\n\r\n\r\n**Example**\r\n\r\nFor your input line:\r\n\r\n    String line = &quot;116,6,2,29 Sep 10,\\&quot;\\&quot;JJ\\&quot; (60 min)\\&quot;,\\&quot;http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\\&quot;&quot;;\r\n\r\nOutput is (and no exception is thrown):\r\n\r\n    [116, 6, 2, 29 Sep 10, &quot;&quot;JJ&quot; (60 min)&quot;, &quot;http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj&quot;]\r\n","title":"CSV parsing with Commons CSV - Quotes within quotes causing IOException","body":"<p>I think that having both quotations AND spaces in the same token is what confuses the parser. Try this:</p>\n\n<pre><code>CSVFormat csvFormat = CSVFormat.DEFAULT.withQuote('\"').withQuote(' ');\n</code></pre>\n\n<p>That should fix it.</p>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p>For your input line:</p>\n\n<pre><code>String line = \"116,6,2,29 Sep 10,\\\"\\\"JJ\\\" (60 min)\\\",\\\"http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\\\"\";\n</code></pre>\n\n<p>Output is (and no exception is thrown):</p>\n\n<pre><code>[116, 6, 2, 29 Sep 10, \"\"JJ\" (60 min)\", \"http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\"]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":292819,"reputation":775,"user_id":595807,"accept_rate":93,"display_name":"mhollander38"},"score":0,"creation_date":1498135258,"post_id":44698848,"comment_id":76382206,"body_markdown":"Setting withQuote(null) does get round the IO Exception, however, it then passes the quotes through which isn&#39;t ideal it also means that shows like &quot;I Love You, Tommy Brown (60 min)&quot; are not coming through as &quot;I love you and losing the rest of the name. I wasn&#39;t clear in my question that many show names contain commas and are put within quotes by the source.","body":"Setting withQuote(null) does get round the IO Exception, however, it then passes the quotes through which isn&#39;t ideal it also means that shows like &quot;I Love You, Tommy Brown (60 min)&quot; are not coming through as &quot;I love you and losing the rest of the name. I wasn&#39;t clear in my question that many show names contain commas and are put within quotes by the source."},{"owner":{"account_id":11010572,"reputation":331,"user_id":8088084,"display_name":"Mic"},"score":0,"creation_date":1498170603,"post_id":44698848,"comment_id":76403532,"body_markdown":"In that case, is there any way you can adjust the input format? If you want to continue using comma as a delimiter rather than something that&#39;s not in the data (such as tab), but you don&#39;t want to produce rfc-compliant csv, how is the parser going to know how to parse a show named: &quot;JJ&quot;, 60 Min","body":"In that case, is there any way you can adjust the input format? If you want to continue using comma as a delimiter rather than something that&#39;s not in the data (such as tab), but you don&#39;t want to produce rfc-compliant csv, how is the parser going to know how to parse a show named: &quot;JJ&quot;, 60 Min"},{"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"score":0,"creation_date":1498194312,"post_id":44698848,"comment_id":76409177,"body_markdown":"@mic univocity-parsers is the only library I know of that can parse this sort of input, see my answer.","body":"@mic univocity-parsers is the only library I know of that can parse this sort of input, see my answer."}],"tags":[],"owner":{"account_id":11010572,"reputation":331,"user_id":8088084,"display_name":"Mic"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498133557,"creation_date":1498132804,"answer_id":44698848,"question_id":44697228,"body_markdown":"Quoting mainly allows for field to contain separator characters. If embedded quotes in a field are not escaped, this can&#39;t work, so there isn&#39;t any point in using quotes. If your example value was &quot;JJ&quot;, 60 Min, how is a parser to know the comma is part of the field? The data format can&#39;t handle embedded commas reliably, so if you want to be able to do that, best to change the source to generate an RFC compliant csv format.\r\n\r\nOtherwise, it looks like the data source is simply surrounding non-numeric fields with quotes, and separating each field a comma, so the parser needs to do the reverse. You should probably just treat the data as comma-delimited and strip the leading/trailing quotes yourself with removeStart/removeEnd.\r\n\r\nYou might use CSVFormat .withQuote(null), or forget about that and just use String .split(&#39;,&#39;)","title":"CSV parsing with Commons CSV - Quotes within quotes causing IOException","body":"<p>Quoting mainly allows for field to contain separator characters. If embedded quotes in a field are not escaped, this can't work, so there isn't any point in using quotes. If your example value was \"JJ\", 60 Min, how is a parser to know the comma is part of the field? The data format can't handle embedded commas reliably, so if you want to be able to do that, best to change the source to generate an RFC compliant csv format.</p>\n\n<p>Otherwise, it looks like the data source is simply surrounding non-numeric fields with quotes, and separating each field a comma, so the parser needs to do the reverse. You should probably just treat the data as comma-delimited and strip the leading/trailing quotes yourself with removeStart/removeEnd.</p>\n\n<p>You might use CSVFormat .withQuote(null), or forget about that and just use String .split(',')</p>\n"},{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1498194197,"creation_date":1498194197,"answer_id":44713398,"question_id":44697228,"body_markdown":"The problem here is that the quotes are not properly escaped. Your parser doesn&#39;t handle that. Try [univocity-parsers](https://www.univocity.com/pages/parsers-tutorial) as this is the only parser for java I know  that can handle unescaped quotes inside a quoted value. It is also 4 times faster than Commons CSV. Try this code:\r\n\r\n    //configure the parser to handle your situation\r\n\tCsvParserSettings settings = new CsvParserSettings();\r\n\tsettings.setUnescapedQuoteHandling(STOP_AT_CLOSING_QUOTE);\r\n\r\n    //create the parser\r\n\tCsvParser parser = new CsvParser(settings);\r\n\r\n    //parse your line\r\n\tString[] out = parser.parseLine(&quot;116,6,2,29 Sep 10,\\&quot;\\&quot;JJ\\&quot; (60 min)\\&quot;,\\&quot;http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\\&quot;&quot;);\r\n\r\n\tfor(String e : out){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n\r\nThis will print:\r\n\r\n    116\r\n    6\r\n    2\r\n    29 Sep 10\r\n    &quot;JJ&quot; (60 min)\r\n    http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\r\n\r\nHope it helps.\r\n\r\nDisclosure: I&#39;m the author of this library, it&#39;s open source and free (Apache 2.0 license)\r\n","title":"CSV parsing with Commons CSV - Quotes within quotes causing IOException","body":"<p>The problem here is that the quotes are not properly escaped. Your parser doesn't handle that. Try <a href=\"https://www.univocity.com/pages/parsers-tutorial\" rel=\"noreferrer\">univocity-parsers</a> as this is the only parser for java I know  that can handle unescaped quotes inside a quoted value. It is also 4 times faster than Commons CSV. Try this code:</p>\n\n<pre><code>//configure the parser to handle your situation\nCsvParserSettings settings = new CsvParserSettings();\nsettings.setUnescapedQuoteHandling(STOP_AT_CLOSING_QUOTE);\n\n//create the parser\nCsvParser parser = new CsvParser(settings);\n\n//parse your line\nString[] out = parser.parseLine(\"116,6,2,29 Sep 10,\\\"\\\"JJ\\\" (60 min)\\\",\\\"http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\\\"\");\n\nfor(String e : out){\n    System.out.println(e);\n}\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>116\n6\n2\n29 Sep 10\n\"JJ\" (60 min)\nhttp://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\n</code></pre>\n\n<p>Hope it helps.</p>\n\n<p>Disclosure: I'm the author of this library, it's open source and free (Apache 2.0 license)</p>\n"},{"tags":[],"owner":{"account_id":11011751,"reputation":21,"user_id":8088873,"display_name":"zephyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532552221,"creation_date":1532552221,"answer_id":51527527,"question_id":44697228,"body_markdown":"You can use withEscape(&#39;\\\\\\&#39;) to ignore quotes within quotes \r\n\r\nCSVFormat csvFormat = CSVFormat.DEFAULT.withEscape(&#39;\\\\\\&#39;)\r\n\r\nReference: https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html\r\n\r\n","title":"CSV parsing with Commons CSV - Quotes within quotes causing IOException","body":"<p>You can use withEscape('\\\\') to ignore quotes within quotes </p>\n\n<p>CSVFormat csvFormat = CSVFormat.DEFAULT.withEscape('\\\\')</p>\n\n<p>Reference: <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":12616405,"reputation":63,"user_id":9173705,"display_name":"ntucci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614001487,"creation_date":1613999814,"answer_id":66316443,"question_id":44697228,"body_markdown":"No need of special parsers: just add a double quote in front the double quote:\r\n\r\n    116,6,2,29 Sep 10,&quot;&quot;&quot;JJ&quot;&quot; (60 min)&quot;,...\r\n\r\nIt&#39;s all specified in RFC 4180 \r\n\r\n       7.  If double-quotes are used to enclose fields, then a double-quote\r\n       appearing inside a field must be escaped by preceding it with\r\n       another double quote.  For example:\r\n\r\n       &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;\r\n\r\n\r\nThis is already implemented by [CSVFormat #DEFAULT][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html#DEFAULT","title":"CSV parsing with Commons CSV - Quotes within quotes causing IOException","body":"<p>No need of special parsers: just add a double quote in front the double quote:</p>\n<pre><code>116,6,2,29 Sep 10,&quot;&quot;&quot;JJ&quot;&quot; (60 min)&quot;,...\n</code></pre>\n<p>It's all specified in RFC 4180</p>\n<pre><code>   7.  If double-quotes are used to enclose fields, then a double-quote\n   appearing inside a field must be escaped by preceding it with\n   another double quote.  For example:\n\n   &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;\n</code></pre>\n<p>This is already implemented by <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.html#DEFAULT\" rel=\"nofollow noreferrer\">CSVFormat #DEFAULT</a>.</p>\n"}],"owner":{"account_id":292819,"reputation":775,"user_id":595807,"accept_rate":93,"display_name":"mhollander38"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13433,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44713398,"answer_count":5,"score":7,"last_activity_date":1666273124,"creation_date":1498128538,"question_id":44697228,"body_markdown":"I am using [Commons CSV][1] to parse CSV content relating to TV shows. One of the shows has a show name which includes double quotes; \r\n\r\n116,6,2,29 Sep 10,&quot;&quot;JJ&quot; (60 min)&quot;,&quot;http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj&quot;\r\n\r\nThe showname is &quot;JJ&quot; (60 min) which is already in double quotes. This is throwing an IOException java.io.IOException: (line 1) invalid char between encapsulated token and delimiter.\r\n\r\n        ArrayList&lt;String&gt; allElements = new ArrayList&lt;String&gt;();\r\n\t\tCSVFormat csvFormat = CSVFormat.DEFAULT;\r\n\t\tCSVParser csvFileParser = new CSVParser(new StringReader(line), csvFormat);\r\n\r\n\t\tList&lt;CSVRecord&gt; csvRecords = null;\r\n\r\n\t\tcsvRecords = csvFileParser.getRecords();\r\n\r\n\t\tfor (CSVRecord record : csvRecords) {\r\n\t\t\tint length = record.size();\r\n\t\t\tfor (int x = 0; x &lt; length; x++) {\r\n\t\t\t\tallElements.add(record.get(x));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcsvFileParser.close();\r\n\t\treturn allElements;\r\n\r\nCSVFormat.DEFAULT already sets withQuote(&#39;&quot;&#39;)\r\n\r\nI think that this CSV is not properly formatted as &quot;&quot;JJ&quot; (60 min)&quot; should be &quot;&quot;&quot;JJ&quot;&quot; (60 min)&quot; - but is there a way to get commons CSV to handle this or do I need to fix this entry manually?\r\n\r\nAdditional information: Other show names contain spaces and commas within the CSV entry and are placed within double quotes.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/index.html","title":"CSV parsing with Commons CSV - Quotes within quotes causing IOException","body":"<p>I am using <a href=\"https://commons.apache.org/proper/commons-csv/index.html\" rel=\"noreferrer\">Commons CSV</a> to parse CSV content relating to TV shows. One of the shows has a show name which includes double quotes; </p>\n\n<p>116,6,2,29 Sep 10,\"\"JJ\" (60 min)\",\"<a href=\"http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj\" rel=\"noreferrer\">http://www.tvmaze.com/episodes/4855/criminal-minds-6x02-jj</a>\"</p>\n\n<p>The showname is \"JJ\" (60 min) which is already in double quotes. This is throwing an IOException java.io.IOException: (line 1) invalid char between encapsulated token and delimiter.</p>\n\n<pre><code>    ArrayList&lt;String&gt; allElements = new ArrayList&lt;String&gt;();\n    CSVFormat csvFormat = CSVFormat.DEFAULT;\n    CSVParser csvFileParser = new CSVParser(new StringReader(line), csvFormat);\n\n    List&lt;CSVRecord&gt; csvRecords = null;\n\n    csvRecords = csvFileParser.getRecords();\n\n    for (CSVRecord record : csvRecords) {\n        int length = record.size();\n        for (int x = 0; x &lt; length; x++) {\n            allElements.add(record.get(x));\n        }\n    }\n\n    csvFileParser.close();\n    return allElements;\n</code></pre>\n\n<p>CSVFormat.DEFAULT already sets withQuote('\"')</p>\n\n<p>I think that this CSV is not properly formatted as \"\"JJ\" (60 min)\" should be \"\"\"JJ\"\" (60 min)\" - but is there a way to get commons CSV to handle this or do I need to fix this entry manually?</p>\n\n<p>Additional information: Other show names contain spaces and commas within the CSV entry and are placed within double quotes.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":73739,"reputation":4113,"user_id":212191,"accept_rate":100,"display_name":"x13n"},"score":0,"creation_date":1291623427,"post_id":4364397,"comment_id":4750558,"body_markdown":"Post decrementation is a bad idea here - you&#39;re going to have infinite recursion.","body":"Post decrementation is a bad idea here - you&#39;re going to have infinite recursion."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":3,"creation_date":1291623436,"post_id":4364397,"comment_id":4750562,"body_markdown":"For reference, `1 &lt;&lt; exponent` will be faster and clearer in just about every case.","body":"For reference, <code>1 &lt;&lt; exponent</code> will be faster and clearer in just about every case."},{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":0,"creation_date":1291623515,"post_id":4364397,"comment_id":4750569,"body_markdown":"@cHao: Unless the compiler/runtime properly optimize multiplication by two.","body":"@cHao: Unless the compiler/runtime properly optimize multiplication by two."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1291623582,"post_id":4364397,"comment_id":4750575,"body_markdown":"1) **Read** the error messages. 2) **Show** them.","body":"1) <b>Read</b> the error messages. 2) <b>Show</b> them."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":1,"creation_date":1291623590,"post_id":4364397,"comment_id":4750576,"body_markdown":"@cdhowie: Even then.  You&#39;d have to optimize the multiplication *and* get rid of the recursive function call.","body":"@cdhowie: Even then.  You&#39;d have to optimize the multiplication <i>and</i> get rid of the recursive function call."},{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":0,"creation_date":1291623711,"post_id":4364397,"comment_id":4750590,"body_markdown":"@cHao: You mean like I addressed in my answer? :P","body":"@cHao: You mean like I addressed in my answer? :P"},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1291623956,"post_id":4364397,"comment_id":4750618,"body_markdown":"@cdhowie: Not really.  You addressed the error, but calculating 2^N still requires N function calls.  Contrast with `1 &lt;&lt; N`, which requires *none*.","body":"@cdhowie: Not really.  You addressed the error, but calculating 2^N still requires N function calls.  Contrast with <code>1 &lt;&lt; N</code>, which requires <i>none</i>."},{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":0,"creation_date":1291624081,"post_id":4364397,"comment_id":4750628,"body_markdown":"@cHao: Ah, I see what you mean -- replacing the recursion with one instruction.  However, the OP states *&quot;I want to calculate the power of 2 using recursion&quot;* which makes me think this is homework or some other kind of exercise.  Therefore it would probably be more helpful to explain how to fix the existing code than explain how the approach is wrong.  (Which it&#39;s not -- slow, maybe, but not inherently incorrect.)","body":"@cHao: Ah, I see what you mean -- replacing the recursion with one instruction.  However, the OP states <i>&quot;I want to calculate the power of 2 using recursion&quot;</i> which makes me think this is homework or some other kind of exercise.  Therefore it would probably be more helpful to explain how to fix the existing code than explain how the approach is wrong.  (Which it&#39;s not -- slow, maybe, but not inherently incorrect.)"},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1291624581,"post_id":4364397,"comment_id":4750700,"body_markdown":"@cdhowie: Agreed.  It&#39;s not inherently incorrect.  I just thought i&#39;d mention there&#39;s a better way, that&#39;s built into the language, in case that&#39;s not known.  Most people trying to calculate powers of two shouldn&#39;t be doing it recursively.  :)","body":"@cdhowie: Agreed.  It&#39;s not inherently incorrect.  I just thought i&#39;d mention there&#39;s a better way, that&#39;s built into the language, in case that&#39;s not known.  Most people trying to calculate powers of two shouldn&#39;t be doing it recursively.  :)"},{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":0,"creation_date":1291624701,"post_id":4364397,"comment_id":4750714,"body_markdown":"@cHou: Understood.  Bit shift would definitely be the preferred way to do this.","body":"@cHou: Understood.  Bit shift would definitely be the preferred way to do this."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1291628295,"post_id":4364397,"comment_id":4751221,"body_markdown":"Even if the method is inlined, the branch will be more expensive than a shift. So 1 &lt;&lt; N will always be faster.","body":"Even if the method is inlined, the branch will be more expensive than a shift. So 1 &lt;&lt; N will always be faster."},{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":0,"creation_date":1291628903,"post_id":4364397,"comment_id":4751325,"body_markdown":"@Peter: And recursive calls cannot be inlined.  (Though the tailcall recursion could be optimized to produce a similar result.)","body":"@Peter: And recursive calls cannot be inlined.  (Though the tailcall recursion could be optimized to produce a similar result.)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1291630701,"post_id":4364397,"comment_id":4751675,"body_markdown":"@cdhowie, good point, AFAIK, Java doesn&#39;t do tail-call optimisations.","body":"@cdhowie, good point, AFAIK, Java doesn&#39;t do tail-call optimisations."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1291653455,"post_id":4364397,"comment_id":4756101,"body_markdown":"@Peter:  It&#39;d be faster on x86, but i couldn&#39;t rule out the possibility of some platform where bit shifts cost more than branches.  Yeah, it&#39;d be a broken design, but it&#39;s possible.  Unless we know the CPU, we can&#39;t guarantee anything -- we can only make some reasonable generalizations.","body":"@Peter:  It&#39;d be faster on x86, but i couldn&#39;t rule out the possibility of some platform where bit shifts cost more than branches.  Yeah, it&#39;d be a broken design, but it&#39;s possible.  Unless we know the CPU, we can&#39;t guarantee anything -- we can only make some reasonable generalizations."}],"answers":[{"comments":[{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":5,"creation_date":1291623647,"post_id":4364400,"comment_id":4750582,"body_markdown":"@barti_ddu: You would be wrong to prefer predecrement -- the variable `exponent` is never used again, and so you have just subtracted one and stored the value in a variable that will never be used again.  In other words, `exponent - 1` does not perform any unnecessary memory writes, while `--exponent` does.  This may appear to be a micro-optimization, but it is in fact a style issue.  Why would you be modifying a variable you never intend to use again?","body":"@barti_ddu: You would be wrong to prefer predecrement -- the variable <code>exponent</code> is never used again, and so you have just subtracted one and stored the value in a variable that will never be used again.  In other words, <code>exponent - 1</code> does not perform any unnecessary memory writes, while <code>--exponent</code> does.  This may appear to be a micro-optimization, but it is in fact a style issue.  Why would you be modifying a variable you never intend to use again?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1291623879,"post_id":4364400,"comment_id":4750613,"body_markdown":"+1. no need to change the value of `exponent`, which should be made final, too.","body":"+1. no need to change the value of <code>exponent</code>, which should be made final, too."},{"owner":{"account_id":246313,"reputation":10189,"user_id":520394,"display_name":"barti_ddu"},"score":0,"creation_date":1291628319,"post_id":4364400,"comment_id":4751223,"body_markdown":"for this case compiler (at least sun java compiler) will generate identical bytecode; however, it is good You&#39;ve pointed this out","body":"for this case compiler (at least sun java compiler) will generate identical bytecode; however, it is good You&#39;ve pointed this out"},{"owner":{"account_id":246313,"reputation":10189,"user_id":520394,"display_name":"barti_ddu"},"score":0,"creation_date":1291629151,"post_id":4364400,"comment_id":4751375,"body_markdown":"hmm, just copy-pasted OP example and re-checked compiler output.. yes, pre-decrement usage results in one extra operation in the bytecode (this was a surprise to me); thanks :)","body":"hmm, just copy-pasted OP example and re-checked compiler output.. yes, pre-decrement usage results in one extra operation in the bytecode (this was a surprise to me); thanks :)"}],"tags":[],"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1291623325,"creation_date":1291623325,"answer_id":4364400,"question_id":4364397,"body_markdown":"Replace\r\n\r\n    return (2*zweiHochPositiv(exponent--));\r\n\r\nwith\r\n\r\n    return (2*zweiHochPositiv(exponent - 1));\r\n\r\n`exponent--` evaluates to the value of the `exponent` variable and *then* decrements it.  So when you call `zweiHochPositiv(1)`, the method will call `zweiHochPositiv(1)` again.\r\n\r\nAs a result, this method, when called with a value &gt; 0, will recurse indefinitely and ultimately overflow the stack.","title":"Calculate the power of 2, java","body":"<p>Replace</p>\n\n<pre><code>return (2*zweiHochPositiv(exponent--));\n</code></pre>\n\n<p>with</p>\n\n<pre><code>return (2*zweiHochPositiv(exponent - 1));\n</code></pre>\n\n<p><code>exponent--</code> evaluates to the value of the <code>exponent</code> variable and <em>then</em> decrements it.  So when you call <code>zweiHochPositiv(1)</code>, the method will call <code>zweiHochPositiv(1)</code> again.</p>\n\n<p>As a result, this method, when called with a value > 0, will recurse indefinitely and ultimately overflow the stack.</p>\n"},{"comments":[{"owner":{"account_id":12141,"reputation":11915,"user_id":23760,"accept_rate":90,"display_name":"ZeissS"},"score":0,"creation_date":1291623678,"post_id":4364419,"comment_id":4750588,"body_markdown":"You still doesn&#39;t describe what prefixing the integer with `--` actually does ;)","body":"You still doesn&#39;t describe what prefixing the integer with <code>--</code> actually does ;)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1291626360,"post_id":4364419,"comment_id":4750923,"body_markdown":"I think this solution is a bit confusing: I would expect that the `exponent` is being used later in the method since it&#39;s being decremented. (despite changing an argument...)","body":"I think this solution is a bit confusing: I would expect that the <code>exponent</code> is being used later in the method since it&#39;s being decremented. (despite changing an argument...)"}],"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1291623986,"creation_date":1291623467,"answer_id":4364419,"question_id":4364397,"body_markdown":"You need to use prefix version of `--`.\r\n\r\nThis should work:\r\n\r\n    return (2*zweiHochPositiv(--exponent));\r\n\r\nExplanation: `exponent--` will never actually lower `exponent`&#39;s value, so you&#39;re calling your recursive function every time with the same value, and that will blow your stack. \r\n\r\n`--exponent` will lower it&#39;s value by one, so you should get desired behaviour.\r\n\r\n","title":"Calculate the power of 2, java","body":"<p>You need to use prefix version of <code>--</code>.</p>\n\n<p>This should work:</p>\n\n<pre><code>return (2*zweiHochPositiv(--exponent));\n</code></pre>\n\n<p>Explanation: <code>exponent--</code> will never actually lower <code>exponent</code>'s value, so you're calling your recursive function every time with the same value, and that will blow your stack. </p>\n\n<p><code>--exponent</code> will lower it's value by one, so you should get desired behaviour.</p>\n"},{"tags":[],"owner":{"account_id":77591,"reputation":1199,"user_id":221348,"accept_rate":50,"display_name":"madhurtanwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291628901,"creation_date":1291628901,"answer_id":4365070,"question_id":4364397,"body_markdown":"I think an efficient way of doing it would be to use the binary representation property of a &quot;power of 2&quot; - its just a bit shift of 1, &quot;exponent&quot; number of times.\r\n\r\nHence, 2^2 = 1 &lt;&lt; 2 = (in binary) ....0000 0100 = 4\r\n\r\n","title":"Calculate the power of 2, java","body":"<p>I think an efficient way of doing it would be to use the binary representation property of a \"power of 2\" - its just a bit shift of 1, \"exponent\" number of times.</p>\n\n<p>Hence, 2^2 = 1 &lt;&lt; 2 = (in binary) ....0000 0100 = 4</p>\n"},{"tags":[],"owner":{"account_id":13267152,"reputation":1,"user_id":9579525,"display_name":"Vinay Mohaniya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666273077,"creation_date":1666273077,"answer_id":74140831,"question_id":4364397,"body_markdown":"return (2*zweiHochPositiv(--exponent));","title":"Calculate the power of 2, java","body":"<p>return (2*zweiHochPositiv(--exponent));</p>\n"}],"owner":{"account_id":172772,"reputation":69642,"user_id":401025,"accept_rate":98,"display_name":"DarkLeafyGreen"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4364400,"answer_count":4,"score":0,"last_activity_date":1666273077,"creation_date":1291623277,"question_id":4364397,"body_markdown":"I want to calculate the power of 2 using recursion. Here is my code: \r\n\r\n    class Aufg1{\r\n    \tpublic static void main(String args[]){\r\n    \t\tint erg = zweiHochPositiv(10);\r\n    \t}\r\n    \t\r\n    \tpublic static int zweiHochPositiv(int exponent){\r\n    \t\tif(exponent &gt; 0)\r\n    \t\t\treturn (2*zweiHochPositiv(exponent--));\r\n    \t\telse\r\n    \t\t\treturn 1;\r\n    \t}\r\n    }\r\n\r\nI get a lot of errors at \r\n\r\n    return (2*zweiHochPositiv(exponent--));\r\nbut I have no idea what may be wrong.","title":"Calculate the power of 2, java","body":"<p>I want to calculate the power of 2 using recursion. Here is my code: </p>\n\n<pre><code>class Aufg1{\n    public static void main(String args[]){\n        int erg = zweiHochPositiv(10);\n    }\n\n    public static int zweiHochPositiv(int exponent){\n        if(exponent &gt; 0)\n            return (2*zweiHochPositiv(exponent--));\n        else\n            return 1;\n    }\n}\n</code></pre>\n\n<p>I get a lot of errors at </p>\n\n<pre><code>return (2*zweiHochPositiv(exponent--));\n</code></pre>\n\n<p>but I have no idea what may be wrong.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","jpql"],"answers":[{"comments":[{"owner":{"account_id":10391835,"reputation":3,"user_id":7662859,"display_name":"Sean S"},"score":0,"creation_date":1666778758,"post_id":74140829,"comment_id":131014938,"body_markdown":"Thanks for all @JekBP and successfully work.","body":"Thanks for all @JekBP and successfully work."}],"tags":[],"owner":{"account_id":14139729,"reputation":81,"user_id":10214932,"display_name":"JekBP"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666273067,"creation_date":1666273067,"answer_id":74140829,"question_id":74139886,"body_markdown":"Would be helpful if you include the code of your whole repository class, but here&#39;s what I found helpful that might help you as well:\r\nFYI, it is using Spring Data JPA Query.\r\n\r\n        @Repository\r\n        public interface CompanyRepository extends JpaRepository&lt;Company, Integer&gt; {\r\n        @Query(&quot;SELECT CASE WHEN COUNT(c) &gt; 0 THEN true ELSE false END FROM Company c WHERE c.name = :companyName&quot;)\r\n        boolean existsByName(@Param(&quot;companyName&quot;) String companyName);\r\n    }\r\n\r\nReference: https://codingexplained.com/coding/java/spring-framework/return-boolean-value-from-spring-data-jpa-query","title":"Spring JPQL SELECT CASE WHEN returns Null instead of boolean value","body":"<p>Would be helpful if you include the code of your whole repository class, but here's what I found helpful that might help you as well:\nFYI, it is using Spring Data JPA Query.</p>\n<pre><code>    @Repository\n    public interface CompanyRepository extends JpaRepository&lt;Company, Integer&gt; {\n    @Query(&quot;SELECT CASE WHEN COUNT(c) &gt; 0 THEN true ELSE false END FROM Company c WHERE c.name = :companyName&quot;)\n    boolean existsByName(@Param(&quot;companyName&quot;) String companyName);\n}\n</code></pre>\n<p>Reference: <a href=\"https://codingexplained.com/coding/java/spring-framework/return-boolean-value-from-spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://codingexplained.com/coding/java/spring-framework/return-boolean-value-from-spring-data-jpa-query</a></p>\n"}],"owner":{"account_id":10391835,"reputation":3,"user_id":7662859,"display_name":"Sean S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74140829,"answer_count":1,"score":0,"last_activity_date":1666273067,"creation_date":1666268885,"question_id":74139886,"body_markdown":"I&#39;m developping a Java Spring API and i have an issue with JPQL.\r\nI wanna get a boolean value but i get Null.\r\n\r\n``` java\r\n    @Query(&quot;\r\n          SELECT\r\n            CASE WHEN TRIM(m.mobile) = TRIM(:mobile) \r\n              THEN true ELSE false \r\n          END \r\n          FROM #{#entityName} m&quot;\r\n    )\r\n    Boolean findMemberByMobile(String mobile);\r\n \r\n    // result: null\r\n    // springboot: 2.7.3, SGBDR: PostgreSQL\r\n\r\n```\r\nHelps please and thanks\r\n","title":"Spring JPQL SELECT CASE WHEN returns Null instead of boolean value","body":"<p>I'm developping a Java Spring API and i have an issue with JPQL.\nI wanna get a boolean value but i get Null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;\n          SELECT\n            CASE WHEN TRIM(m.mobile) = TRIM(:mobile) \n              THEN true ELSE false \n          END \n          FROM #{#entityName} m&quot;\n    )\n    Boolean findMemberByMobile(String mobile);\n \n    // result: null\n    // springboot: 2.7.3, SGBDR: PostgreSQL\n\n</code></pre>\n<p>Helps please and thanks</p>\n"},{"tags":["java","eclipse","class"],"comments":[{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":1,"creation_date":1291235454,"post_id":4328548,"comment_id":4704062,"body_markdown":"Why is he distributing .class files instead of a JAR library or the original source code? Nobody distributes plain .class files in real life - they are always put inside a JAR.","body":"Why is he distributing .class files instead of a JAR library or the original source code? Nobody distributes plain .class files in real life - they are always put inside a JAR."}],"answers":[{"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1291235007,"post_id":4328621,"comment_id":4703959,"body_markdown":"but having said that. you must be sure that the class files are in a proper package directory structure. Better to add the external library as a jar file, I suppose.","body":"but having said that. you must be sure that the class files are in a proper package directory structure. Better to add the external library as a jar file, I suppose."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1291234299,"creation_date":1291234299,"answer_id":4328621,"question_id":4328548,"body_markdown":"You can place the class file anywhere, just be sure to add its directory to your project&#39;s build path. Right click on the project, then properties at the bottom then build path, til you find add class folder.","title":"Adding .class files to an Eclipse project","body":"<p>You can place the class file anywhere, just be sure to add its directory to your project's build path. Right click on the project, then properties at the bottom then build path, til you find add class folder.</p>\n"},{"tags":[],"owner":{"account_id":250378,"reputation":1026,"user_id":527050,"display_name":"amypellegrini"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291234938,"creation_date":1291234938,"answer_id":4328710,"question_id":4328548,"body_markdown":"You have to create a project, or open your project if you have it already, then, while you are in the Java view, select File &gt; New &gt; File. It will open a window, you can create your file there and choose in which project folder do you want to put it. If in that window you press the button &quot;Advanced &gt;&gt;&quot; it will give you the option to &quot;Link to file in the system&quot;, check it, and then you can browse your folders to the downloaded file.\r\n\r\nI don&#39;t know if this solves your problem, it&#39;s what I understood from your question.","title":"Adding .class files to an Eclipse project","body":"<p>You have to create a project, or open your project if you have it already, then, while you are in the Java view, select File > New > File. It will open a window, you can create your file there and choose in which project folder do you want to put it. If in that window you press the button \"Advanced >>\" it will give you the option to \"Link to file in the system\", check it, and then you can browse your folders to the downloaded file.</p>\n\n<p>I don't know if this solves your problem, it's what I understood from your question.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1291235573,"creation_date":1291235573,"answer_id":4328822,"question_id":4328548,"body_markdown":"Your instructors class file must be in the build-time and the run-time class paths for your project to use it.  Instructions assume that you are on a PC.\r\n&lt;h2&gt;Run-time class path setup&lt;/h2&gt;\r\n&lt;ol&gt;\r\n&lt;li&gt;Create a directory (perhaps C:\\JavaRoot\\classes).  I will refer to this as the &lt;i&gt;Classes&lt;/i&gt; directory.&lt;/li&gt;\r\n&lt;li&gt;If one does not already exist on your PC, create an environment variable named CLASSPATH&lt;/li&gt;\r\n&lt;li&gt;Add the &lt;i&gt;Classes&lt;/i&gt; directory to your CLASSPATH envoronment variable&lt;/li&gt;\r\n&lt;li&gt;Download the class in question and put it in the &lt;i&gt;Classes&lt;/i&gt; directory.&lt;/li&gt;\r\n&lt;/ol&gt;\r\n&lt;h2&gt;Build-time class path setup&lt;/h2&gt;\r\n&lt;ol&gt;\r\n&lt;li&gt;Right mouse on your project in eclipse.&lt;/li&gt;\r\n&lt;li&gt;Select &quot;Properties&quot;.&lt;/li&gt;\r\n&lt;li&gt;Select &quot;Java Build Path&quot;.&lt;/li&gt;\r\n&lt;li&gt;Select the &quot;Libraries&quot; tab.&lt;/li&gt;\r\n&lt;li&gt;Click the &quot;Add a &lt;i&gt;C&lt;/i&gt;lass Folder&quot; button.&lt;/li&gt;\r\n&lt;li&gt;Browse to and select the &lt;i&gt;Classes&lt;/i&gt; directory you created during &quot;Run-time class path setup&quot; above.\r\n&lt;/li&gt;\r\n&lt;li&gt;Click the &quot;OK&quot; button&lt;/li&gt;\r\n&lt;/ol&gt;","title":"Adding .class files to an Eclipse project","body":"<p>Your instructors class file must be in the build-time and the run-time class paths for your project to use it.  Instructions assume that you are on a PC.</p>\n\n<h2>Run-time class path setup</h2>\n\n<ol>\n<li>Create a directory (perhaps C:\\JavaRoot\\classes).  I will refer to this as the <i>Classes</i> directory.</li>\n<li>If one does not already exist on your PC, create an environment variable named CLASSPATH</li>\n<li>Add the <i>Classes</i> directory to your CLASSPATH envoronment variable</li>\n<li>Download the class in question and put it in the <i>Classes</i> directory.</li>\n</ol>\n\n<h2>Build-time class path setup</h2>\n\n<ol>\n<li>Right mouse on your project in eclipse.</li>\n<li>Select \"Properties\".</li>\n<li>Select \"Java Build Path\".</li>\n<li>Select the \"Libraries\" tab.</li>\n<li>Click the \"Add a <i>C</i>lass Folder\" button.</li>\n<li>Browse to and select the <i>Classes</i> directory you created during \"Run-time class path setup\" above.\n</li>\n<li>Click the \"OK\" button</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":200514,"reputation":1247,"user_id":446407,"accept_rate":86,"display_name":"Ibrahim"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1291235806,"creation_date":1291235806,"answer_id":4328865,"question_id":4328548,"body_markdown":"For Eclipse use the following:&lt;br/&gt;\r\nProject &gt; Properties &gt; Java Build Path &gt; Libraries (Tab) &gt; Add External Class Folder (Button)","title":"Adding .class files to an Eclipse project","body":"<p>For Eclipse use the following:<br/>\nProject > Properties > Java Build Path > Libraries (Tab) > Add External Class Folder (Button)</p>\n"},{"tags":[],"owner":{"account_id":26682403,"reputation":1,"user_id":20292187,"display_name":"Victor Toscano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666273034,"creation_date":1666273034,"answer_id":74140820,"question_id":4328548,"body_markdown":"If you have a configured project in Eclipse and you manually added a Java class file in some of the project directories, you just need to refresh the project for Eclipse to recognize it:\r\n\r\n**Right click in your project (in &quot;Project Explorer&quot; view) -&gt; Refresh**","title":"Adding .class files to an Eclipse project","body":"<p>If you have a configured project in Eclipse and you manually added a Java class file in some of the project directories, you just need to refresh the project for Eclipse to recognize it:</p>\n<p><strong>Right click in your project (in &quot;Project Explorer&quot; view) -&gt; Refresh</strong></p>\n"}],"owner":{"account_id":682042,"reputation":61,"user_id":527097,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36963,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1666273034,"creation_date":1291233833,"question_id":4328548,"body_markdown":"This is a total newbie question, but I can&#39;t figure it out so I figured that I would ask it here and see what happened.\r\n\r\nHere&#39;s the problem: For my java programming class, we are supposed to download a .class file created by our instructors containing a custom-made class with methods that we are supposed to use in an assignment. I already know all of the code to create the class within my actual program, but I can&#39;t figure out which directory to place the .class file in. I have tried the src and bin folders inside the project directory, and even placed it directly into the project directory, but nothing seems to work. My instructors say to just put it in the same directory as my java program, but they are using jGRASP. What am I doing wrong?","title":"Adding .class files to an Eclipse project","body":"<p>This is a total newbie question, but I can't figure it out so I figured that I would ask it here and see what happened.</p>\n\n<p>Here's the problem: For my java programming class, we are supposed to download a .class file created by our instructors containing a custom-made class with methods that we are supposed to use in an assignment. I already know all of the code to create the class within my actual program, but I can't figure out which directory to place the .class file in. I have tried the src and bin folders inside the project directory, and even placed it directly into the project directory, but nothing seems to work. My instructors say to just put it in the same directory as my java program, but they are using jGRASP. What am I doing wrong?</p>\n"},{"tags":["java","elasticsearch","jmeter","stress-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666272909,"creation_date":1666272909,"answer_id":74140790,"question_id":74140192,"body_markdown":"Your &quot;stress test&quot; is not very representative. With regards to what do these metrics mean refer [Summary Report listener documentation][1] and [JMeter Glossary][2]\r\n\r\n 1. `# Samples` - how many requests were executed\r\n 2. `Average` - [average][3] response time (sum of all response times divided by their count)\r\n 3. `Min` - minimum response time\r\n 4. `Max` - maximum response time\r\n 5. `Std. Dev` - [standard deviation][4] - statistical function showing distribution of response times\r\n 6. `Error %` - percentage of failed requests\r\n 7. `Throughput` - number of requests per unit of time (second)\r\n 8. `Received KB/s` - how many kilobytes per second were received from the server\r\n 9. `Sent KB/s` - the same for outgoing requests\r\n 10.`Avg Bytes` - average response size in bytes\r\n\r\nAlso be informed that most probably you haven&#39;t reached concurrency of 4000 users as given you have 1 iteration only it might be the case some virtual users finished their work already and some haven&#39;t been started yet. \r\n\r\nSo I would recommend the following:\r\n\r\n 1. Setting loop count in [Thread Group][5] to `-1` or ticking Forever   \r\n 2. Setting test duration to i.e. 5 minutes or more\r\n 3. [Increasing the load gradually][6]\r\n 4. When the test finishes generate [HTML Reporting Dashboard][7] and inspect relationship between number of users vs response time vs transactions per second as difference between 5 seconds of minimum response time and 25 seconds of maximum response time looks suspicious and most probably there is a bottleneck somewhere   \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#Summary_Report\r\n  [2]: https://jmeter.apache.org/usermanual/glossary.html\r\n  [3]: https://en.wikipedia.org/wiki/Arithmetic_mean\r\n  [4]: https://en.wikipedia.org/wiki/Standard_deviation\r\n  [5]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\r\n  [6]: https://www.blazemeter.com/blog/jmeter-ramp-up-period\r\n  [7]: https://jmeter.apache.org/usermanual/generating-dashboard.html","title":"Analyse JMeter stress test results","body":"<p>Your &quot;stress test&quot; is not very representative. With regards to what do these metrics mean refer <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Summary_Report\" rel=\"nofollow noreferrer\">Summary Report listener documentation</a> and <a href=\"https://jmeter.apache.org/usermanual/glossary.html\" rel=\"nofollow noreferrer\">JMeter Glossary</a></p>\n<ol>\n<li><code># Samples</code> - how many requests were executed</li>\n<li><code>Average</code> - <a href=\"https://en.wikipedia.org/wiki/Arithmetic_mean\" rel=\"nofollow noreferrer\">average</a> response time (sum of all response times divided by their count)</li>\n<li><code>Min</code> - minimum response time</li>\n<li><code>Max</code> - maximum response time</li>\n<li><code>Std. Dev</code> - <a href=\"https://en.wikipedia.org/wiki/Standard_deviation\" rel=\"nofollow noreferrer\">standard deviation</a> - statistical function showing distribution of response times</li>\n<li><code>Error %</code> - percentage of failed requests</li>\n<li><code>Throughput</code> - number of requests per unit of time (second)</li>\n<li><code>Received KB/s</code> - how many kilobytes per second were received from the server</li>\n<li><code>Sent KB/s</code> - the same for outgoing requests\n10.<code>Avg Bytes</code> - average response size in bytes</li>\n</ol>\n<p>Also be informed that most probably you haven't reached concurrency of 4000 users as given you have 1 iteration only it might be the case some virtual users finished their work already and some haven't been started yet.</p>\n<p>So I would recommend the following:</p>\n<ol>\n<li>Setting loop count in <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Group</a> to <code>-1</code> or ticking Forever</li>\n<li>Setting test duration to i.e. 5 minutes or more</li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-ramp-up-period\" rel=\"nofollow noreferrer\">Increasing the load gradually</a></li>\n<li>When the test finishes generate <a href=\"https://jmeter.apache.org/usermanual/generating-dashboard.html\" rel=\"nofollow noreferrer\">HTML Reporting Dashboard</a> and inspect relationship between number of users vs response time vs transactions per second as difference between 5 seconds of minimum response time and 25 seconds of maximum response time looks suspicious and most probably there is a bottleneck somewhere</li>\n</ol>\n"}],"owner":{"account_id":13088541,"reputation":59,"user_id":9456788,"display_name":"Kumar Rounak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666272909,"creation_date":1666270312,"question_id":74140192,"body_markdown":"I am new to jmeter tool and have created a script for stress testing ElasticSearch server. \r\n\r\n\r\nI know that this question has been asked here earlier but I am still not able to figure out what is the significance of the different parameters in the Jmeter summary report ?\r\n\r\nHere are my JMeter setup:\r\n\r\nNo. of threads: 4000\r\n\r\nRamp-up period : 5\r\n\r\nLoop Count: 1\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nResults :\r\n\r\nAverage:108782 \r\n\r\nMin: 5757\r\n\r\nMax: 258917\r\n\r\nThroughput: 15.4/sec\r\n\r\nCan someone please explain what does each of the terms in the response column of the image below signify. Also, which metric can I use to gauge my server capacity.\r\n\r\n\r\n\r\n[![Result Summary][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xJBom.png","title":"Analyse JMeter stress test results","body":"<p>I am new to jmeter tool and have created a script for stress testing ElasticSearch server.</p>\n<p>I know that this question has been asked here earlier but I am still not able to figure out what is the significance of the different parameters in the Jmeter summary report ?</p>\n<p>Here are my JMeter setup:</p>\n<p>No. of threads: 4000</p>\n<p>Ramp-up period : 5</p>\n<p>Loop Count: 1</p>\n<p>Results :</p>\n<p>Average:108782</p>\n<p>Min: 5757</p>\n<p>Max: 258917</p>\n<p>Throughput: 15.4/sec</p>\n<p>Can someone please explain what does each of the terms in the response column of the image below signify. Also, which metric can I use to gauge my server capacity.</p>\n<p><a href=\"https://i.stack.imgur.com/xJBom.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xJBom.png\" alt=\"Result Summary\" /></a></p>\n"},{"tags":["java","ssh","jvm","error-logging","java-console"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":1,"creation_date":1666272578,"post_id":74140589,"comment_id":130900834,"body_markdown":"What kind of system outs are those that they can&#39;t be replaced by logging just out of curiosity?\nAs for exceptions - have you tried implementing uncaught exception handler? like here https://stackoverflow.com/a/19423233/8587732","body":"What kind of system outs are those that they can&#39;t be replaced by logging just out of curiosity? As for exceptions - have you tried implementing uncaught exception handler? like here <a href=\"https://stackoverflow.com/a/19423233/8587732\">stackoverflow.com/a/19423233/8587732</a>"}],"answers":[{"comments":[{"owner":{"account_id":4752790,"reputation":45,"user_id":3842388,"accept_rate":100,"display_name":"Achilles"},"score":0,"creation_date":1666363576,"post_id":74140724,"comment_id":130926530,"body_markdown":"Thanks for the great answer. Unfortunately I don‚Äôt have access to the code as it is provided by a vendor. Would I be able to achieve it through shell scripting as well ? \nYou mentioned about redirecting output to a different executable. Could you please elaborate on that. Thank you.","body":"Thanks for the great answer. Unfortunately I don‚Äôt have access to the code as it is provided by a vendor. Would I be able to achieve it through shell scripting as well ?  You mentioned about redirecting output to a different executable. Could you please elaborate on that. Thank you."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666386171,"post_id":74140724,"comment_id":130933297,"body_markdown":"No, and given that it&#39;s a &#39;vendor&#39;, &quot;logging&quot; to standard out is ridiculous, you should hold them accountable for their shoddy code. Sending output to a separate executable has nothing whatsoever to do with java, that&#39; s a linux/windows/mac question and you should ask that, with the approrpriate tags (i.e., not a `java` tag), separately.","body":"No, and given that it&#39;s a &#39;vendor&#39;, &quot;logging&quot; to standard out is ridiculous, you should hold them accountable for their shoddy code. Sending output to a separate executable has nothing whatsoever to do with java, that&#39; s a linux/windows/mac question and you should ask that, with the approrpriate tags (i.e., not a <code>java</code> tag), separately."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666272588,"creation_date":1666272588,"answer_id":74140724,"question_id":74140589,"body_markdown":"Edit the source code and add an uncaught exception handler to every thread.\r\n\r\nLooks something like this:\r\n\r\n```java\r\npackage the.package.here;\r\n\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) throws Exception {\r\n    updateUncaughtExceptionHandlers();\r\n    ... rest of the code is here\r\n  }\r\n\r\n  static void updateUncaughtExceptionHandlers() {\r\n    Thread.UncaughtExceptionHandler timestamped = (t, e) -&gt; {\r\n      String timestamp = ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n      System.err.printf(&quot;[%s] Exception in thread \\&quot;%s\\&quot; &quot;,\r\n        timestamp, t.getName());\r\n        e.printStackTrace(System.err);\r\n    };\r\n\r\n    Thread.setDefaultUncaughtExceptionHandler(timestamped);\r\n  }\r\n}\r\n```\r\n\r\nThis will take care of uncaught exceptions, but won&#39;t take care of anything written out via `System.err` or `System.out`.\r\n\r\nTo take care of those, you&#39;d use `System.setErr()` and `System.setOut()`, making PrintWriters that simply &#39;wrap&#39; around the original `System.out` and `System.err`, and add a timestamp anytime a flag is true, then sets the flag false. The flag starts as true and is re-set to true every time you print a newline symbol.\r\n\r\nI can show you how to do that, too, but before delving any deeper - can you change the source code? If you can&#39;t, your only option is to redirect standard out and standard err not to a file but pipe it to a different executable that adds these timestamps.","title":"System Outs and Un handled exceptions from Java App is not having a timestamp when logged","body":"<p>Edit the source code and add an uncaught exception handler to every thread.</p>\n<p>Looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package the.package.here;\n\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n  public static void main(String[] args) throws Exception {\n    updateUncaughtExceptionHandlers();\n    ... rest of the code is here\n  }\n\n  static void updateUncaughtExceptionHandlers() {\n    Thread.UncaughtExceptionHandler timestamped = (t, e) -&gt; {\n      String timestamp = ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n      System.err.printf(&quot;[%s] Exception in thread \\&quot;%s\\&quot; &quot;,\n        timestamp, t.getName());\n        e.printStackTrace(System.err);\n    };\n\n    Thread.setDefaultUncaughtExceptionHandler(timestamped);\n  }\n}\n</code></pre>\n<p>This will take care of uncaught exceptions, but won't take care of anything written out via <code>System.err</code> or <code>System.out</code>.</p>\n<p>To take care of those, you'd use <code>System.setErr()</code> and <code>System.setOut()</code>, making PrintWriters that simply 'wrap' around the original <code>System.out</code> and <code>System.err</code>, and add a timestamp anytime a flag is true, then sets the flag false. The flag starts as true and is re-set to true every time you print a newline symbol.</p>\n<p>I can show you how to do that, too, but before delving any deeper - can you change the source code? If you can't, your only option is to redirect standard out and standard err not to a file but pipe it to a different executable that adds these timestamps.</p>\n"}],"owner":{"account_id":4752790,"reputation":45,"user_id":3842388,"accept_rate":100,"display_name":"Achilles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74140724,"answer_count":1,"score":1,"last_activity_date":1666272588,"creation_date":1666272049,"question_id":74140589,"body_markdown":"Need help here. We have java apps started from our shell scripts in unix using java command and the output is redirected to a nohup file to ensure we capture any SystemOuts and any unhandled exceptions in a log file.  \r\n\r\nWhen the java app logs using the log4j, these logs are fine and they are formatted with a proper time stamp. \r\n\r\nBut when there are some systemouts in the code or any unhandled exceptions that are thrown back by the jvm process, they are logged in the nohup files but there is no timestamp on these log entries. \r\n\r\nCan any one suggest if there are some scripting tweaks or jvm parameters that could help add timestamp to these jvm output logs?\r\n\r\n\r\nThanks in advance for the help","title":"System Outs and Un handled exceptions from Java App is not having a timestamp when logged","body":"<p>Need help here. We have java apps started from our shell scripts in unix using java command and the output is redirected to a nohup file to ensure we capture any SystemOuts and any unhandled exceptions in a log file.</p>\n<p>When the java app logs using the log4j, these logs are fine and they are formatted with a proper time stamp.</p>\n<p>But when there are some systemouts in the code or any unhandled exceptions that are thrown back by the jvm process, they are logged in the nohup files but there is no timestamp on these log entries.</p>\n<p>Can any one suggest if there are some scripting tweaks or jvm parameters that could help add timestamp to these jvm output logs?</p>\n<p>Thanks in advance for the help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3783388,"reputation":197,"user_id":3142164,"display_name":"Mohammad"},"score":0,"creation_date":1613630226,"post_id":66254801,"comment_id":117135249,"body_markdown":"You are free to use any variable name as long as it is not a reserved word","body":"You are free to use any variable name as long as it is not a reserved word"},{"owner":{"account_id":20743977,"reputation":15,"user_id":15232943,"display_name":"samsamsamsmasma"},"score":0,"creation_date":1613630587,"post_id":66254801,"comment_id":117135354,"body_markdown":"yes i know that, but why Initial Name is args?","body":"yes i know that, but why Initial Name is args?"},{"owner":{"account_id":14171691,"reputation":691,"user_id":10238086,"display_name":"yusuf hayƒ±rsever"},"score":0,"creation_date":1613631283,"post_id":66254801,"comment_id":117135560,"body_markdown":"https://stackoverflow.com/questions/890966/what-is-string-args-parameter-in-main-method-java#:~:text=Those%20are%20for%20command%2Dline%20arguments%20in%20Java.&amp;text=The%20reason%20for%20this%20is,piece%20of%20information%20it%20needs., you should better to read this posts","body":"<a href=\"https://stackoverflow.com/questions/890966/what-is-string-args-parameter-in-main-method-java#:~:text=Those%20are%20for%20command%2Dline%20arguments%20in%20Java.&amp;text=The%20reason%20for%20this%20is,piece%20of%20information%20it%20needs\" title=\"what is string args parameter in main method java%23%3a%7e%3atext%3dThose%2520are%2520for%2520command%252Dline%2520arguments%2520in%2520Java.%26amp%3btext%3dThe%2520reason%2520for%2520this%2520is%2cpiece%2520of%2520information%2520it%2520needs\">stackoverflow.com/questions/890966/&hellip;</a>., you should better to read this posts"},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1613631444,"post_id":66254801,"comment_id":117135598,"body_markdown":"Does this answer your question? [&quot;Parameter&quot; vs &quot;Argument&quot;](https://stackoverflow.com/questions/1788923/parameter-vs-argument)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1788923/parameter-vs-argument\">&quot;Parameter&quot; vs &quot;Argument&quot;</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1613631911,"post_id":66254801,"comment_id":117135717,"body_markdown":"@samsamsamsmasma it isn&#39;t. it&#39;s just a convention they use in textbooks, it&#39;s short for arguments. But, feel free to call it fredAstaire in your code if you want. There is no &quot;initial&quot; or &quot;fixed&quot; name for that param","body":"@samsamsamsmasma it isn&#39;t. it&#39;s just a convention they use in textbooks, it&#39;s short for arguments. But, feel free to call it fredAstaire in your code if you want. There is no &quot;initial&quot; or &quot;fixed&quot; name for that param"},{"owner":{"account_id":20743977,"reputation":15,"user_id":15232943,"display_name":"samsamsamsmasma"},"score":0,"creation_date":1613632074,"post_id":66254801,"comment_id":117135782,"body_markdown":"Convention made me understand. thank you!","body":"Convention made me understand. thank you!"}],"answers":[{"comments":[{"owner":{"account_id":20743977,"reputation":15,"user_id":15232943,"display_name":"samsamsamsmasma"},"score":1,"creation_date":1613630861,"post_id":66254869,"comment_id":117135437,"body_markdown":"thanks for your answer, but i want know Initial Developer is use args.not a param why? is there any other meaning?","body":"thanks for your answer, but i want know Initial Developer is use args.not a param why? is there any other meaning?"},{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1613634553,"post_id":66254869,"comment_id":117136671,"body_markdown":"You might as well ask why the main method is called &#39;main&#39;. It could have been anything.","body":"You might as well ask why the main method is called &#39;main&#39;. It could have been anything."},{"owner":{"account_id":19334685,"reputation":11,"user_id":14135481,"display_name":"t0ta1o"},"score":0,"creation_date":1613698268,"post_id":66254869,"comment_id":117163064,"body_markdown":"I guess it is a historical issue. I have learned that params are used as keywords and system functions in some places.","body":"I guess it is a historical issue. I have learned that params are used as keywords and system functions in some places."}],"tags":[],"owner":{"account_id":19334685,"reputation":11,"user_id":14135481,"display_name":"t0ta1o"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613630464,"creation_date":1613630464,"answer_id":66254869,"question_id":66254801,"body_markdown":"Just a variable name, you can use any name that meets the Java variable naming requirements","title":"why java main method parameter name is args?","body":"<p>Just a variable name, you can use any name that meets the Java variable naming requirements</p>\n"},{"tags":[],"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613630698,"creation_date":1613630698,"answer_id":66254911,"question_id":66254801,"body_markdown":"You can use any name for that, but &quot;args&quot; is short for &quot;arguments&quot;. Some people prefer &quot;parameter&quot;, some &quot;argument&quot;. See also: https://stackoverflow.com/questions/1788923/parameter-vs-argument","title":"why java main method parameter name is args?","body":"<p>You can use any name for that, but &quot;args&quot; is short for &quot;arguments&quot;. Some people prefer &quot;parameter&quot;, some &quot;argument&quot;. See also: <a href=\"https://stackoverflow.com/questions/1788923/parameter-vs-argument\">&quot;Parameter&quot; vs &quot;Argument&quot;</a></p>\n"},{"tags":[],"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666272568,"creation_date":1613631134,"answer_id":66254997,"question_id":66254801,"body_markdown":"It&#39;s not a matter of choice, it&#39;s about the meaning of the words: an *argument* is not a *parameter*\r\n\r\n - `main(String args)`&lt;br&gt;\r\n`args` is the method *argument*\r\n\r\n - `main(null)`&lt;br&gt;\r\n`null` is the *parameter* by which the method is invoked\r\n\r\nSee https://stackoverflow.com/a/1788926/1575188","title":"why java main method parameter name is args?","body":"<p>It's not a matter of choice, it's about the meaning of the words: an <em>argument</em> is not a <em>parameter</em></p>\n<ul>\n<li><p><code>main(String args)</code><br>\n<code>args</code> is the method <em>argument</em></p>\n</li>\n<li><p><code>main(null)</code><br>\n<code>null</code> is the <em>parameter</em> by which the method is invoked</p>\n</li>\n</ul>\n<p>See <a href=\"https://stackoverflow.com/a/1788926/1575188\">https://stackoverflow.com/a/1788926/1575188</a></p>\n"}],"owner":{"account_id":20743977,"reputation":15,"user_id":15232943,"display_name":"samsamsamsmasma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1613631444,"answer_count":3,"score":-2,"last_activity_date":1666272568,"creation_date":1613630128,"question_id":66254801,"body_markdown":"i know method\r\nsignature use parameter,\r\nand method use arguments when method call.\r\n\r\nso i don&#39;t know why java main method parameter name &#39;args&#39; is not &#39;param&#39;\r\n\r\n\r\nI am sorry that I am not good at English.","title":"why java main method parameter name is args?","body":"<p>i know method\nsignature use parameter,\nand method use arguments when method call.</p>\n<p>so i don't know why java main method parameter name 'args' is not 'param'</p>\n<p>I am sorry that I am not good at English.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","asynchronous"],"answers":[{"comments":[{"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"score":0,"creation_date":1665409960,"post_id":74015693,"comment_id":130687203,"body_markdown":"Long polling will block the thread","body":"Long polling will block the thread"}],"tags":[],"owner":{"account_id":14679287,"reputation":192,"user_id":10601327,"display_name":"livesamarthgupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665408424,"creation_date":1665408424,"answer_id":74015693,"question_id":74015365,"body_markdown":"What you&#39;re wishing for is a use-case of server-sent events. REST follows a request-response cycle. In this case, you could use long polling to re-request after the initial response and keeps the connection waiting for the second response. ","title":"Send Response of Rest Api after some time","body":"<p>What you're wishing for is a use-case of server-sent events. REST follows a request-response cycle. In this case, you could use long polling to re-request after the initial response and keeps the connection waiting for the second response.</p>\n"},{"comments":[{"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"score":0,"creation_date":1665409003,"post_id":74015712,"comment_id":130686861,"body_markdown":"yes .i thought of both the ways.Its seems there is no standard way to do it","body":"yes .i thought of both the ways.Its seems there is no standard way to do it"},{"owner":{"account_id":1361548,"reputation":1773,"user_id":1298815,"display_name":"obe6"},"score":0,"creation_date":1665480805,"post_id":74015712,"comment_id":130704735,"body_markdown":"Yes, I updated the answer to be more precise.","body":"Yes, I updated the answer to be more precise."}],"tags":[],"owner":{"account_id":1361548,"reputation":1773,"user_id":1298815,"display_name":"obe6"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666272384,"creation_date":1665408503,"answer_id":74015712,"question_id":74015365,"body_markdown":"I think that this &quot;use case&quot; should be faced with asynchronous behaviour.\r\nThere are no &quot;standard solutions&quot; to model asynchronous scenarios in REST api and the two listed above as far as I know are the only ones.\r\n\r\n\r\nYou should expose two rest endpoints\r\n\r\n    1. /v1/create/order (or even better POST /v1/order... )\r\n    \r\n    2. /v1/order/{id} \r\n\r\nthe first return an id for ex. &quot;123&quot; that identify the resource server side or even better a link (to be more &quot;REST&quot;) like the following :\r\n\r\n    /v1/order/123\r\n\r\nNotice that the server should return HTTP 202 to indicate that the operation has been &quot;accepted&quot;, and possibly add a Retry-After header to indicate that the client must call this uri not before the specified time or date (in this case 2 seconds)\r\n \r\n\r\n    HTTP/1.1 202 (Accepted)\r\n    Location /v1/order/123\r\n    Retry-After: 2\r\n\r\nthen you (after 2s) from your client periodically could invoke : \r\n\r\n    GET /v1/order/123\r\n\r\nuntil you get a result.\r\n\r\nAnother solution could be to expose an api from the Client A (if it is possibile) and in this way the server could call the Client A when has finished the job. (this is possibile if Client A is itself a service).\r\nNote that although the callback solution can significantly increase the complexity of the system, in some cases it is preferable.\r\n\r\n\r\n\r\n","title":"Send Response of Rest Api after some time","body":"<p>I think that this &quot;use case&quot; should be faced with asynchronous behaviour.\nThere are no &quot;standard solutions&quot; to model asynchronous scenarios in REST api and the two listed above as far as I know are the only ones.</p>\n<p>You should expose two rest endpoints</p>\n<pre><code>1. /v1/create/order (or even better POST /v1/order... )\n\n2. /v1/order/{id} \n</code></pre>\n<p>the first return an id for ex. &quot;123&quot; that identify the resource server side or even better a link (to be more &quot;REST&quot;) like the following :</p>\n<pre><code>/v1/order/123\n</code></pre>\n<p>Notice that the server should return HTTP 202 to indicate that the operation has been &quot;accepted&quot;, and possibly add a Retry-After header to indicate that the client must call this uri not before the specified time or date (in this case 2 seconds)</p>\n<pre><code>HTTP/1.1 202 (Accepted)\nLocation /v1/order/123\nRetry-After: 2\n</code></pre>\n<p>then you (after 2s) from your client periodically could invoke :</p>\n<pre><code>GET /v1/order/123\n</code></pre>\n<p>until you get a result.</p>\n<p>Another solution could be to expose an api from the Client A (if it is possibile) and in this way the server could call the Client A when has finished the job. (this is possibile if Client A is itself a service).\nNote that although the callback solution can significantly increase the complexity of the system, in some cases it is preferable.</p>\n"}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74015712,"answer_count":2,"score":1,"last_activity_date":1666272384,"creation_date":1665406735,"question_id":74015365,"body_markdown":"I have a rest api `v1/create/order`.I need to implement the below\r\n\r\n - Client A -&gt; calls my create order rest api.\r\n - I need to return an acknowledgement to the Client immediately\r\n - Then i will do some processing in background.It will take \r\n          approximate 50 to 200 sec).\r\n - Once i complete the step 3 .i need to return the response.Result\r\n       will have some computed fields that i did in step 3.\r\n\r\nHow can i implement it ?\r\nI am using Java 8 and Spring Boot framework. I can execute step 3 in background thread as it involves some parallel operations.\r\n\r\n","title":"Send Response of Rest Api after some time","body":"<p>I have a rest api <code>v1/create/order</code>.I need to implement the below</p>\n<ul>\n<li>Client A -&gt; calls my create order rest api.</li>\n<li>I need to return an acknowledgement to the Client immediately</li>\n<li>Then i will do some processing in background.It will take\napproximate 50 to 200 sec).</li>\n<li>Once i complete the step 3 .i need to return the response.Result\nwill have some computed fields that i did in step 3.</li>\n</ul>\n<p>How can i implement it ?\nI am using Java 8 and Spring Boot framework. I can execute step 3 in background thread as it involves some parallel operations.</p>\n"},{"tags":["java","swing","alignment","vertical-alignment","gridbaglayout"],"answers":[{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1666272238,"post_id":74140538,"comment_id":130900687,"body_markdown":"Wow, that worked like a charm! I am a little curious about how this works. I would think that adding `buttonPanel` to `sidePanel` when sidePanel contains no other elements would be the same as just using buttonPanel, but it clearly is not.","body":"Wow, that worked like a charm! I am a little curious about how this works. I would think that adding <code>buttonPanel</code> to <code>sidePanel</code> when sidePanel contains no other elements would be the same as just using buttonPanel, but it clearly is not."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666272338,"post_id":74140538,"comment_id":130900732,"body_markdown":"@CardinalSystem: the key is 1) nesting JPanels and 2) giving each JPanel its own layout manager, and the latter part is the key to understanding how this works.","body":"@CardinalSystem: the key is 1) nesting JPanels and 2) giving each JPanel its own layout manager, and the latter part is the key to understanding how this works."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666271851,"creation_date":1666271851,"answer_id":74140538,"question_id":74140307,"body_markdown":"I would make the GUI simpler. Put the three buttons into a JPanel that uses a GridLayout, one declared to use 1 column and variable number of rows, one with a desired spacing between buttons, here, 5 pixels: `JPanel buttonPanel = new JPanel(new GridLayout(0, 1, 5, 5));` and then put that JPanel into the center of a another JPanel, and GridBagLayout without constraints works well for this:\r\n\r\n```\r\nJPanel sidePanel = new JPanel(new GridBagLayout());\r\nsidePanel.add(buttonPanel);\r\n```\r\n\r\nand put that JPanel into the right side of a border layout using JPanel. For example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class FooSwing01 extends JPanel {\r\n\r\n    public FooSwing01() {\r\n\t\tJTextArea textArea = new JTextArea(20, 50);\r\n\t\tJScrollPane scrollPane = new JScrollPane(textArea);\r\n\t\t\r\n\t\tJPanel buttonPanel = new JPanel(new GridLayout(0, 1, 5, 5));\r\n\t\tint maxButtons = 3;\r\n\t\tfor (int i = 0; i &lt; maxButtons; i++) {\r\n\t\t\tbuttonPanel.add(new JButton(&quot;Button &quot; + (i + 1)));\r\n\t\t}\r\n\t\t\r\n\t\tJPanel sidePanel = new JPanel(new GridBagLayout());\r\n\t\tsidePanel.add(buttonPanel);\r\n\t\t\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n\t\tsetLayout(new BorderLayout(5, 5));\r\n\t\tadd(scrollPane);\r\n\t\tadd(sidePanel, BorderLayout.LINE_END);\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.add(new FooSwing01());\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LHssT.jpg","title":"Vertically center GridBagLayout like BoxLayout","body":"<p>I would make the GUI simpler. Put the three buttons into a JPanel that uses a GridLayout, one declared to use 1 column and variable number of rows, one with a desired spacing between buttons, here, 5 pixels: <code>JPanel buttonPanel = new JPanel(new GridLayout(0, 1, 5, 5));</code> and then put that JPanel into the center of a another JPanel, and GridBagLayout without constraints works well for this:</p>\n<pre><code>JPanel sidePanel = new JPanel(new GridBagLayout());\nsidePanel.add(buttonPanel);\n</code></pre>\n<p>and put that JPanel into the right side of a border layout using JPanel. For example:</p>\n<p><a href=\"https://i.stack.imgur.com/LHssT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LHssT.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class FooSwing01 extends JPanel {\n\n    public FooSwing01() {\n        JTextArea textArea = new JTextArea(20, 50);\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        \n        JPanel buttonPanel = new JPanel(new GridLayout(0, 1, 5, 5));\n        int maxButtons = 3;\n        for (int i = 0; i &lt; maxButtons; i++) {\n            buttonPanel.add(new JButton(&quot;Button &quot; + (i + 1)));\n        }\n        \n        JPanel sidePanel = new JPanel(new GridBagLayout());\n        sidePanel.add(buttonPanel);\n        \n        setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        setLayout(new BorderLayout(5, 5));\n        add(scrollPane);\n        add(sidePanel, BorderLayout.LINE_END);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.add(new FooSwing01());\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1666451416,"post_id":74140636,"comment_id":130942523,"body_markdown":"I had tried using `BorderLayout` and a separate panel for the buttons, but for whatever reason, the JList flooded over into the east and the buttons were nowhere to be found. I wonder why it works in this example... I never knew about `Window#setLocationByPlatform(boolean)`, so I learned something new today. Here&#39;s +1 for that!","body":"I had tried using <code>BorderLayout</code> and a separate panel for the buttons, but for whatever reason, the JList flooded over into the east and the buttons were nowhere to be found. I wonder why it works in this example... I never knew about <code>Window#setLocationByPlatform(boolean)</code>, so I learned something new today. Here&#39;s +1 for that!"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666272235,"creation_date":1666272235,"answer_id":74140636,"question_id":74140307,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) section.\r\n\r\nThe easiest way to create this GUI is to treat the `JTextArea` separately from the `JButton` area.\r\n\r\n[![Example GUI][1]][1]\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ExampleGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ExampleGUI());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Example GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createTextArea(), BorderLayout.CENTER);\r\n    \t\tframe.add(createButtonPanel(), BorderLayout.EAST);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JScrollPane createTextArea() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\tJTextArea textArea = new JTextArea(10, 30);\r\n    \t\ttextArea.setText(&quot;keyword&quot;);\r\n    \t\tpanel.add(textArea, BorderLayout.CENTER);\r\n    \r\n    \t\treturn new JScrollPane(panel);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridBagLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.insets = new Insets(0, 5, 5, 5);\r\n    \r\n    \t\tgbc.gridy = 0;\r\n    \t\tJButton button = new JButton(&quot;Add&quot;);\r\n    \t\tpanel.add(button, gbc);\r\n    \r\n    \t\tgbc.gridy++;\r\n    \t\tbutton = new JButton(&quot;Remove&quot;);\r\n    \t\tpanel.add(button, gbc);\r\n    \r\n    \t\tgbc.gridy++;\r\n    \t\tbutton = new JButton(&quot;Edit&quot;);\r\n    \t\tpanel.add(button, gbc);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npYmG.png\r\n","title":"Vertically center GridBagLayout like BoxLayout","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> section.</p>\n<p>The easiest way to create this GUI is to treat the <code>JTextArea</code> separately from the <code>JButton</code> area.</p>\n<p><a href=\"https://i.stack.imgur.com/npYmG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npYmG.png\" alt=\"Example GUI\" /></a></p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\n\npublic class ExampleGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ExampleGUI());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Example GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createTextArea(), BorderLayout.CENTER);\n        frame.add(createButtonPanel(), BorderLayout.EAST);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTextArea() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        JTextArea textArea = new JTextArea(10, 30);\n        textArea.setText(&quot;keyword&quot;);\n        panel.add(textArea, BorderLayout.CENTER);\n\n        return new JScrollPane(panel);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new GridBagLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(0, 5, 5, 5);\n\n        gbc.gridy = 0;\n        JButton button = new JButton(&quot;Add&quot;);\n        panel.add(button, gbc);\n\n        gbc.gridy++;\n        button = new JButton(&quot;Remove&quot;);\n        panel.add(button, gbc);\n\n        gbc.gridy++;\n        button = new JButton(&quot;Edit&quot;);\n        panel.add(button, gbc);\n\n        return panel;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74140538,"answer_count":2,"score":1,"last_activity_date":1666272235,"creation_date":1666270840,"question_id":74140307,"body_markdown":"I am trying to center components using a [`GridBagLayout`][1] in the same manner that a [`Box`][2] centers components when you use [`Box.createVerticalGlue()`][3]. I initially *did* use a vertical Box:\r\n\r\n\tBox box = Box.createVerticalBox();\r\n\tbox.add(Box.createVerticalGlue());\r\n\tbox.add(add);\r\n\tbox.add(remove);\r\n\tbox.add(edit);\r\n\tbox.add(Box.createVerticalGlue());\r\n\r\n\tJPanel internalPanel = new JPanel(new BorderLayout());\r\n\tinternalPanel.add(keywordsScrollPane, BorderLayout.CENTER);\r\n\tinternalPanel.add(box, BorderLayout.EAST);\r\n\r\nBut as you can see, it looks sloppy because my buttons are different sizes:\r\n\r\n[![Sloppy Buttons][4]][4]\r\n\r\nI decided to switch to `GridBagLayout` so I can utilize [`GridBagConstraints.fill`][5]. This approach fixes my button width issue, but I cannot figure out how to vertically center the buttons. I changed the grid size and placed the buttons in the middle three rows, but the buttons were still appearing at the top of the panel. I tried making use of [`GridBagConstraints.anchor`][6] and [`GridBagConstraints.weighty`][7] as well. The latter almost worked, but there are very large margins between the buttons:\r\n\r\n[![Large Margins][8]][8]\r\n\r\nI am looking for the buttons to be grouped together as they were in my Box approach. How can I achieve this with a GridBadLayout?\r\n\r\nI am using a class I created called `ConstraintsBuilder` which works exactly as you would expect. It&#39;s for creating GridBagContraints with nice one-liners. Here is all the (relevant) code for your viewing pleasure:\r\n\r\n    public class KeywordsDialog extends JDialog implements ActionListener, ListSelectionListener {\r\n    \r\n    \tprivate JList&lt;String&gt; keywords;\r\n    \tprivate JScrollPane keywordsScrollPane;\r\n    \tprivate JButton add;\r\n    \tprivate JButton remove;\r\n    \tprivate JButton edit;\r\n    \r\n    \tprivate Set&lt;String&gt; keywordsList;\r\n    \r\n    \tpublic KeywordsDialog(Window parent, Collection&lt;String&gt; keywordsList) {\r\n    \t\tsuper(parent);\r\n    \r\n    \t\tthis.keywordsList = keywordsList == null ? new HashSet&lt;String&gt;() : new HashSet&lt;String&gt;(keywordsList);\r\n    \t\tif (keywordsList != null &amp;&amp; !keywordsList.isEmpty()) {\r\n    \t\t\tthis.keywords = new JList&lt;String&gt;(toListModel(keywordsList));\r\n    \t\t} else {\r\n    \t\t\tthis.keywords = new JList&lt;String&gt;(new DefaultListModel&lt;String&gt;());\r\n    \t\t}\r\n    \t\tthis.keywordsScrollPane = new JScrollPane(keywords);\r\n    \r\n    \t\tthis.add = new JButton(&quot;Add&quot;);\r\n    \t\tthis.remove = new JButton(&quot;Remove&quot;);\r\n    \t\tthis.edit = new JButton(&quot;Edit&quot;);\r\n    \r\n    \t\tthis.edit.setEnabled(false);\r\n    \t\tthis.add.setEnabled(false);\r\n    \r\n    \t\tConstraintsBuilder builder = LayoutUtils.gridBagConstraintsBuilder();\r\n    \t\tJPanel internalPanel = new JPanel(new GridBagLayout());\r\n    \t\tinternalPanel.add(this.keywordsScrollPane, builder.gridX(0).gridY(0).gridHeight(3).margins(0, 0, 0, 5)\r\n    \t\t\t\t.fill(GridBagConstraints.BOTH).weightX(1D).weightY(1D).build());\r\n    \t\tinternalPanel.add(this.add,\r\n    \t\t\t\tbuilder.reset().gridX(1).gridY(0).fill(GridBagConstraints.HORIZONTAL).weightX(1D).weightY(1D).build());\r\n    \t\tinternalPanel.add(this.remove,\r\n    \t\t\t\tbuilder.reset().gridX(1).gridY(1).fill(GridBagConstraints.HORIZONTAL).weightX(1D).weightY(1D).build());\r\n    \t\tinternalPanel.add(this.edit,\r\n    \t\t\t\tbuilder.reset().gridX(1).gridY(2).fill(GridBagConstraints.HORIZONTAL).weightX(1D).weightY(1D).build());\r\n    \r\n    \t\tthis.keywords.setBorder(BorderFactory.createTitledBorder(&quot;Keywords&quot;));\r\n    \t\tinternalPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    \r\n    \t\tthis.setLayout(new BorderLayout());\r\n    \t\tthis.add(internalPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tDimension screen = GuiHelper.getScreenSize(parent);\r\n    \t\tthis.setSize((int) (screen.getWidth() / 4), (int) (screen.getHeight() / 3));\r\n    \t\tthis.setLocationRelativeTo(parent);\r\n    \t\tthis.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \t}\r\n    \t// ...\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagLayout.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/swing/Box.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/javax/swing/Box.html#createVerticalGlue--\r\n  [4]: https://i.stack.imgur.com/bxFWo.png\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagConstraints.html#fill\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagConstraints.html#anchor\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagConstraints.html#weighty\r\n  [8]: https://i.stack.imgur.com/y5j9C.png","title":"Vertically center GridBagLayout like BoxLayout","body":"<p>I am trying to center components using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a> in the same manner that a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/Box.html\" rel=\"nofollow noreferrer\"><code>Box</code></a> centers components when you use <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/Box.html#createVerticalGlue--\" rel=\"nofollow noreferrer\"><code>Box.createVerticalGlue()</code></a>. I initially <em>did</em> use a vertical Box:</p>\n<pre><code>Box box = Box.createVerticalBox();\nbox.add(Box.createVerticalGlue());\nbox.add(add);\nbox.add(remove);\nbox.add(edit);\nbox.add(Box.createVerticalGlue());\n\nJPanel internalPanel = new JPanel(new BorderLayout());\ninternalPanel.add(keywordsScrollPane, BorderLayout.CENTER);\ninternalPanel.add(box, BorderLayout.EAST);\n</code></pre>\n<p>But as you can see, it looks sloppy because my buttons are different sizes:</p>\n<p><a href=\"https://i.stack.imgur.com/bxFWo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxFWo.png\" alt=\"Sloppy Buttons\" /></a></p>\n<p>I decided to switch to <code>GridBagLayout</code> so I can utilize <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagConstraints.html#fill\" rel=\"nofollow noreferrer\"><code>GridBagConstraints.fill</code></a>. This approach fixes my button width issue, but I cannot figure out how to vertically center the buttons. I changed the grid size and placed the buttons in the middle three rows, but the buttons were still appearing at the top of the panel. I tried making use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagConstraints.html#anchor\" rel=\"nofollow noreferrer\"><code>GridBagConstraints.anchor</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/GridBagConstraints.html#weighty\" rel=\"nofollow noreferrer\"><code>GridBagConstraints.weighty</code></a> as well. The latter almost worked, but there are very large margins between the buttons:</p>\n<p><a href=\"https://i.stack.imgur.com/y5j9C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5j9C.png\" alt=\"Large Margins\" /></a></p>\n<p>I am looking for the buttons to be grouped together as they were in my Box approach. How can I achieve this with a GridBadLayout?</p>\n<p>I am using a class I created called <code>ConstraintsBuilder</code> which works exactly as you would expect. It's for creating GridBagContraints with nice one-liners. Here is all the (relevant) code for your viewing pleasure:</p>\n<pre><code>public class KeywordsDialog extends JDialog implements ActionListener, ListSelectionListener {\n\n    private JList&lt;String&gt; keywords;\n    private JScrollPane keywordsScrollPane;\n    private JButton add;\n    private JButton remove;\n    private JButton edit;\n\n    private Set&lt;String&gt; keywordsList;\n\n    public KeywordsDialog(Window parent, Collection&lt;String&gt; keywordsList) {\n        super(parent);\n\n        this.keywordsList = keywordsList == null ? new HashSet&lt;String&gt;() : new HashSet&lt;String&gt;(keywordsList);\n        if (keywordsList != null &amp;&amp; !keywordsList.isEmpty()) {\n            this.keywords = new JList&lt;String&gt;(toListModel(keywordsList));\n        } else {\n            this.keywords = new JList&lt;String&gt;(new DefaultListModel&lt;String&gt;());\n        }\n        this.keywordsScrollPane = new JScrollPane(keywords);\n\n        this.add = new JButton(&quot;Add&quot;);\n        this.remove = new JButton(&quot;Remove&quot;);\n        this.edit = new JButton(&quot;Edit&quot;);\n\n        this.edit.setEnabled(false);\n        this.add.setEnabled(false);\n\n        ConstraintsBuilder builder = LayoutUtils.gridBagConstraintsBuilder();\n        JPanel internalPanel = new JPanel(new GridBagLayout());\n        internalPanel.add(this.keywordsScrollPane, builder.gridX(0).gridY(0).gridHeight(3).margins(0, 0, 0, 5)\n                .fill(GridBagConstraints.BOTH).weightX(1D).weightY(1D).build());\n        internalPanel.add(this.add,\n                builder.reset().gridX(1).gridY(0).fill(GridBagConstraints.HORIZONTAL).weightX(1D).weightY(1D).build());\n        internalPanel.add(this.remove,\n                builder.reset().gridX(1).gridY(1).fill(GridBagConstraints.HORIZONTAL).weightX(1D).weightY(1D).build());\n        internalPanel.add(this.edit,\n                builder.reset().gridX(1).gridY(2).fill(GridBagConstraints.HORIZONTAL).weightX(1D).weightY(1D).build());\n\n        this.keywords.setBorder(BorderFactory.createTitledBorder(&quot;Keywords&quot;));\n        internalPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n\n        this.setLayout(new BorderLayout());\n        this.add(internalPanel, BorderLayout.CENTER);\n\n        Dimension screen = GuiHelper.getScreenSize(parent);\n        this.setSize((int) (screen.getWidth() / 4), (int) (screen.getHeight() / 3));\n        this.setLocationRelativeTo(parent);\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n    }\n    // ...\n}\n</code></pre>\n"},{"tags":["java","android","google-play"],"owner":{"account_id":14439666,"reputation":301,"user_id":10430706,"display_name":"stackoverflow_unicorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1666272224,"creation_date":1666270974,"question_id":74140347,"body_markdown":"I&#39;m trying to **EXPORT AND ENCRYPT PRIVATE KEY to enroll into Google Play App Signing**\r\n\r\nI followed the template:\r\n```\r\n$ java -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --encryptionkey=eb10fe8f7c7c9df715022017b00c6471f8ba8170b13049a11e6c09ffe3056a104a3bbe4ac5a955f4ba4fe93fc8cef27558a3eb9d2a529a2092761fb833b656cd48b9de6a\r\n```\r\n\r\nand it worked for 2 other apps without any issues, but there is another application called mods that keeps throwing the following error even though **I&#39;m able to generate APKs with this jks file** just fine:\r\n\r\n```\r\njava -jar pepk.jar --keystore=mods.jks --alias=my_alias_here --output=encrypted_private_key --encryptionkey=eb10fe8f7c7c9df715022017b00c6471f8ba8170b13049a11e6c09ffe3056a104a3bbe4ac5a955f4ba4fe93fc8cef27558a3eb9d2a529a2092761fb833b656cd48b9de6a\r\n```\r\n\r\n```Enter password for store &#39;mods.jks&#39;:\r\n**Error: Unable to export or encrypt the private key\r\njava.io.IOException: Keystore was tampered with, or password was incorrect**\r\n\tat java.base/sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:813)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:226)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1503)\r\n\tat com.google.wireless.android.vending.developer.signing.tools.extern.export.KeystoreHelper.loadKeystore(KeystoreHelper.java:53)\r\n\tat com.google.wireless.android.vending.developer.signing.tools.extern.export.KeystoreHelper.getKeystore(KeystoreHelper.java:39)\r\n\tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.run(ExportEncryptedPrivateKeyTool.java:207)\r\n\tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.main(ExportEncryptedPrivateKeyTool.java:165)\r\nCaused by: java.security.UnrecoverableKeyException: Password verification failed\r\n\tat java.base/sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:811)\r\n\t... 6 more\r\n```\r\n\r\nI tried \r\n```\r\nKeytool -list -keystore mods.jks\r\n``` \r\nand realized that the password for the keystore is nothing, i pressed enter and I got to see SHA key","title":"Unable to export or encrypt the private key for Google Play App Signing","body":"<p>I'm trying to <strong>EXPORT AND ENCRYPT PRIVATE KEY to enroll into Google Play App Signing</strong></p>\n<p>I followed the template:</p>\n<pre><code>$ java -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --encryptionkey=eb10fe8f7c7c9df715022017b00c6471f8ba8170b13049a11e6c09ffe3056a104a3bbe4ac5a955f4ba4fe93fc8cef27558a3eb9d2a529a2092761fb833b656cd48b9de6a\n</code></pre>\n<p>and it worked for 2 other apps without any issues, but there is another application called mods that keeps throwing the following error even though <strong>I'm able to generate APKs with this jks file</strong> just fine:</p>\n<pre><code>java -jar pepk.jar --keystore=mods.jks --alias=my_alias_here --output=encrypted_private_key --encryptionkey=eb10fe8f7c7c9df715022017b00c6471f8ba8170b13049a11e6c09ffe3056a104a3bbe4ac5a955f4ba4fe93fc8cef27558a3eb9d2a529a2092761fb833b656cd48b9de6a\n</code></pre>\n<pre><code>**Error: Unable to export or encrypt the private key\njava.io.IOException: Keystore was tampered with, or password was incorrect**\n    at java.base/sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:813)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:226)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1503)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.KeystoreHelper.loadKeystore(KeystoreHelper.java:53)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.KeystoreHelper.getKeystore(KeystoreHelper.java:39)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.run(ExportEncryptedPrivateKeyTool.java:207)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.main(ExportEncryptedPrivateKeyTool.java:165)\nCaused by: java.security.UnrecoverableKeyException: Password verification failed\n    at java.base/sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:811)\n    ... 6 more\n</code></pre>\n<p>I tried</p>\n<pre><code>Keytool -list -keystore mods.jks\n</code></pre>\n<p>and realized that the password for the keystore is nothing, i pressed enter and I got to see SHA key</p>\n"},{"tags":["java","performance","nanotime"],"answers":[{"tags":[],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1283816281,"creation_date":1283816281,"answer_id":3654858,"question_id":3654848,"body_markdown":"Just subtract them and divide result by 10^6. \r\n\r\n1 nanosecond is 10^-9 seconds and, correspondingly, 10^-6 milliseconds.  \r\nhttp://en.wikipedia.org/wiki/Nano-","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<p>Just subtract them and divide result by 10^6. </p>\n\n<p>1 nanosecond is 10^-9 seconds and, correspondingly, 10^-6 milliseconds.<br>\n<a href=\"http://en.wikipedia.org/wiki/Nano-\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Nano-</a></p>\n"},{"comments":[{"owner":{"account_id":186205,"reputation":2958,"user_id":423420,"accept_rate":95,"display_name":"Michael Clerx"},"score":7,"creation_date":1283817227,"post_id":3654868,"comment_id":3844210,"body_markdown":"And just in case... Precision roughly means the number of decimals (the number 1.00000000000135738 has a lot of precision) whereas accuracy says something about how many of those decimals are right. For example 1.0001 with an accuracy of 0.01 could be anywhere between 1.0101 and 0.9901, whereas 1.0 with an accuracy of 0.000001 is guaranteed to be somewhere between 0.000009 and 1.000001","body":"And just in case... Precision roughly means the number of decimals (the number 1.00000000000135738 has a lot of precision) whereas accuracy says something about how many of those decimals are right. For example 1.0001 with an accuracy of 0.01 could be anywhere between 1.0101 and 0.9901, whereas 1.0 with an accuracy of 0.000001 is guaranteed to be somewhere between 0.000009 and 1.000001"},{"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"score":2,"creation_date":1283818948,"post_id":3654868,"comment_id":3844322,"body_markdown":"that works, but the number it returns is like 10, or 5 instead of 10.234234234 or something.  do I have to cast?","body":"that works, but the number it returns is like 10, or 5 instead of 10.234234234 or something.  do I have to cast?"},{"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"score":1,"creation_date":1283819166,"post_id":3654868,"comment_id":3844331,"body_markdown":"@Blankman: If you want to get a number like 10.234234234, you can use `(end - start) / (double) 1000000` (or `(end - start) / 1000000.`, or `(end - start) / (float) 1000000` if you want float)","body":"@Blankman: If you want to get a number like 10.234234234, you can use <code>(end - start) &#47; (double) 1000000</code> (or <code>(end - start) &#47; 1000000.</code>, or <code>(end - start) &#47; (float) 1000000</code> if you want float)"},{"owner":{"account_id":8943,"reputation":877,"user_id":16318,"display_name":"big lep"},"score":0,"creation_date":1363884620,"post_id":3654868,"comment_id":22040895,"body_markdown":"What about overflow?  Does System.nanoTime make the guarantee that it won&#39;t overflow?","body":"What about overflow?  Does System.nanoTime make the guarantee that it won&#39;t overflow?"},{"owner":{"account_id":551531,"reputation":2832,"user_id":916382,"accept_rate":100,"display_name":"Gerard"},"score":2,"creation_date":1381338273,"post_id":3654868,"comment_id":28543631,"body_markdown":"Because nanoTime uses 64 bit longs, the overflow will only happen when you have successive calls spanning more than 292 years (http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#nanoTime())","body":"Because nanoTime uses 64 bit longs, the overflow will only happen when you have successive calls spanning more than 292 years (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/lang/&hellip;</a>)"},{"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"score":2,"creation_date":1475132371,"post_id":3654868,"comment_id":66821925,"body_markdown":"@MichaelClerx I presume you meant between 0.999999 and 1.000001.","body":"@MichaelClerx I presume you meant between 0.999999 and 1.000001."}],"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"comment_count":6,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1283816730,"creation_date":1283816358,"answer_id":3654868,"question_id":3654848,"body_markdown":"    (end - start) / 1000000\r\n\r\n1 microsecond = 1000 nanoseconds\r\n\r\n1 millisecond = 1000 microseconds\r\n\r\nNote, that the result will be rounded down, but you usually don&#39;t get true nanosecond accuracy anyway (accuracy depends on the OS). From the Javadoc on `nanoTime()`:\r\n\r\n&gt; This method provides nanosecond precision, but not\r\n     necessarily nanosecond accuracy.","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<pre><code>(end - start) / 1000000\n</code></pre>\n\n<p>1 microsecond = 1000 nanoseconds</p>\n\n<p>1 millisecond = 1000 microseconds</p>\n\n<p>Note, that the result will be rounded down, but you usually don't get true nanosecond accuracy anyway (accuracy depends on the OS). From the Javadoc on <code>nanoTime()</code>:</p>\n\n<blockquote>\n  <p>This method provides nanosecond precision, but not\n       necessarily nanosecond accuracy.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":31485,"reputation":89963,"user_id":86463,"accept_rate":86,"display_name":"harto"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1283817033,"creation_date":1283817033,"answer_id":3654912,"question_id":3654848,"body_markdown":"You could just use [`System.currentTimeMillis()`][1].\r\n\r\nCaveat:\r\n\r\n &gt; Note that while the unit of time of the return value is a millisecond, the granularity of the value depends on the underlying operating system and may be larger. For example, many operating systems measure time in units of tens of milliseconds.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#currentTimeMillis%28%29","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<p>You could just use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#currentTimeMillis%28%29\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis()</code></a>.</p>\n\n<p>Caveat:</p>\n\n<blockquote>\n  <p>Note that while the unit of time of the return value is a millisecond, the granularity of the value depends on the underlying operating system and may be larger. For example, many operating systems measure time in units of tens of milliseconds.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1283823665,"creation_date":1283823300,"answer_id":3655218,"question_id":3654848,"body_markdown":"To get a meaningful result:\r\n\r\n    void procedure ( ... )\r\n    {\r\n         ...\r\n    }\r\n\r\n    double measureProcedure ( double epsilon , ... )\r\n    {\r\n        double mean ;\r\n        double stderr = 2 * epsilon ;\r\n        while ( stderr &gt; epsilon )\r\n        {\r\n             long start = System.nanoTime();\r\n             procedure ( ... ) ;\r\n             long end = System.nanoTime();\r\n             // recalculate mean , stderr \r\n        }\r\n        return ( mean / 1000000 ) ;\r\n    }\r\n","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<p>To get a meaningful result:</p>\n\n<pre><code>void procedure ( ... )\n{\n     ...\n}\n\ndouble measureProcedure ( double epsilon , ... )\n{\n    double mean ;\n    double stderr = 2 * epsilon ;\n    while ( stderr &gt; epsilon )\n    {\n         long start = System.nanoTime();\n         procedure ( ... ) ;\n         long end = System.nanoTime();\n         // recalculate mean , stderr \n    }\n    return ( mean / 1000000 ) ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4493721,"reputation":161,"user_id":3654153,"display_name":"BoBoCoding"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1400609271,"creation_date":1400609271,"answer_id":23766954,"question_id":3654848,"body_markdown":"Also note that you can use the TimeUnit class to help with conversion.  With older versions of Java, the following code might be an example to transform a processing time into some other time format:\r\n\r\n    long startTime = System.nanoTime();\r\n\r\n    //Processing in-between.\r\n\r\n    long endTime = System.nanoTime();\r\n    long duration = endTime - startTime;\r\n    duration = TimeUnit.SECONDS.convert(duration, TimeUnit.NANOSECONDS);\r\n\r\nNote that newer versions of Java have shortcuts in the TimeUnit class.\r\n\r\nThe above sample will turn nanoseconds long into seconds.  Also note that this truncates it so you do lose some precision.  Therefore, if you switch to minutes then you will lose the precision of seconds.  If you want to get a result of &quot;12 minutes and 32 seconds&quot; then you would have to do further processing with this solution.","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<p>Also note that you can use the TimeUnit class to help with conversion.  With older versions of Java, the following code might be an example to transform a processing time into some other time format:</p>\n\n<pre><code>long startTime = System.nanoTime();\n\n//Processing in-between.\n\nlong endTime = System.nanoTime();\nlong duration = endTime - startTime;\nduration = TimeUnit.SECONDS.convert(duration, TimeUnit.NANOSECONDS);\n</code></pre>\n\n<p>Note that newer versions of Java have shortcuts in the TimeUnit class.</p>\n\n<p>The above sample will turn nanoseconds long into seconds.  Also note that this truncates it so you do lose some precision.  Therefore, if you switch to minutes then you will lose the precision of seconds.  If you want to get a result of \"12 minutes and 32 seconds\" then you would have to do further processing with this solution.</p>\n"},{"tags":[],"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1666271441,"creation_date":1501868402,"answer_id":45512637,"question_id":3654848,"body_markdown":"[TimeUnit#toMillis(long)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html#toMillis%28long%29)   (since Java 5)\r\n\r\n```java\r\nTimeUnit.NANOSECONDS.toMillis(end - start);\r\n```\r\n\r\nOR\r\n\r\n[Duration#toMillis()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Duration.html#toMillis%28%29) (since Java 8)\r\n\r\n```java\r\nDuration.ofNanos(end - start).toMillis()\r\n```\r\n\r\nOR\r\n\r\n[Duration#between(Temporal, Temporal)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)) (since Java 8)\r\n\r\n```java\r\nInstant start = Instant.now();\r\n...\r\nInstant end = Instant.now();\r\n\r\nDuration.between(start, end).toMillis()\r\n```\r\n\r\nOR\r\n\r\n[ChronoUnit.html#between(Temporal, Temporal)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/temporal/ChronoUnit.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)) (since Java 8)\r\n\r\n```java\r\nInstant start = Instant.now();\r\n...\r\nInstant end = Instant.now();\r\n\r\nChronoUnit.MILLIS.between(start, end)\r\n```","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html#toMillis%28long%29\" rel=\"nofollow noreferrer\">TimeUnit#toMillis(long)</a>   (since Java 5)</p>\n<pre class=\"lang-java prettyprint-override\"><code>TimeUnit.NANOSECONDS.toMillis(end - start);\n</code></pre>\n<p>OR</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Duration.html#toMillis%28%29\" rel=\"nofollow noreferrer\">Duration#toMillis()</a> (since Java 8)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration.ofNanos(end - start).toMillis()\n</code></pre>\n<p>OR</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\">Duration#between(Temporal, Temporal)</a> (since Java 8)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant start = Instant.now();\n...\nInstant end = Instant.now();\n\nDuration.between(start, end).toMillis()\n</code></pre>\n<p>OR</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/temporal/ChronoUnit.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\">ChronoUnit.html#between(Temporal, Temporal)</a> (since Java 8)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant start = Instant.now();\n...\nInstant end = Instant.now();\n\nChronoUnit.MILLIS.between(start, end)\n</code></pre>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44763,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":3654868,"answer_count":6,"score":16,"last_activity_date":1666271441,"creation_date":1283816060,"question_id":3654848,"body_markdown":"I created a filter that monitors the length of a request.\r\n\r\n    long start = System.nanoTime();\r\n    \r\n    ...\r\n    \r\n    long end = System.nanoTime();\r\n\r\n\r\nHow can I get the number of milliseconds from this now?","title":"How to get a meaningful result from subtracting 2 nanoTime objects?","body":"<p>I created a filter that monitors the length of a request.</p>\n\n<pre><code>long start = System.nanoTime();\n\n...\n\nlong end = System.nanoTime();\n</code></pre>\n\n<p>How can I get the number of milliseconds from this now?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2508368,"reputation":49253,"user_id":2181397,"accept_rate":38,"display_name":"brk"},"score":0,"creation_date":1666264084,"post_id":74138735,"comment_id":130897480,"body_markdown":"this is not javascript","body":"this is not javascript"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":1,"creation_date":1666264746,"post_id":74138735,"comment_id":130897686,"body_markdown":"try `private List&lt;Item&gt; items;`","body":"try <code>private List&lt;Item&gt; items;</code>"},{"owner":{"account_id":13855516,"reputation":67,"user_id":10002428,"display_name":"Neesh"},"score":0,"creation_date":1666266715,"post_id":74138735,"comment_id":130898415,"body_markdown":"@MarcStroebel instead of ` private Item item; ` ? Didn&#39;t seem to work, same error","body":"@MarcStroebel instead of ` private Item item; ` ? Didn&#39;t seem to work, same error"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1666268163,"post_id":74138735,"comment_id":130899063,"body_markdown":"did you also modify getter and setter?","body":"did you also modify getter and setter?"},{"owner":{"account_id":13855516,"reputation":67,"user_id":10002428,"display_name":"Neesh"},"score":0,"creation_date":1666269720,"post_id":74138735,"comment_id":130899688,"body_markdown":"@MarcStroebel yes","body":"@MarcStroebel yes"},{"owner":{"account_id":13855516,"reputation":67,"user_id":10002428,"display_name":"Neesh"},"score":0,"creation_date":1666269824,"post_id":74138735,"comment_id":130899723,"body_markdown":"`public Item getItem() {\n        return (Item) item;\n    }\n\n    public void setItem(Item item) {\n        this.item = (List&lt;Item&gt;) item;\n    }`","body":"<code>public Item getItem() {         return (Item) item;     }      public void setItem(Item item) {         this.item = (List&lt;Item&gt;) item;     }</code>"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1666270808,"post_id":74138735,"comment_id":130900093,"body_markdown":"nope... public List&lt;Item&gt; getItems() ....","body":"nope... public List&lt;Item&gt; getItems() ...."}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666270986,"creation_date":1666270986,"answer_id":74140352,"question_id":74138735,"body_markdown":"try this modified People class ... in your json, items is an array, so model must fit\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class People {\r\n        private String name;\r\n        private double height;\r\n        private double weight;\r\n        private List&lt;Item&gt; items;\r\n    \r\n        // other getter/setter\r\n    \r\n        public List&lt;Item&gt; getItems() {\r\n            return items;\r\n        }\r\n    \r\n        public void setItems(List&lt;Item&gt; items) {\r\n            this.items = items;\r\n        }\r\n    }","title":"Reading from JSON using Jackson. Error Cannot deserialize value of type `` from Array value (token `JsonToken.START_ARRAY`)","body":"<p>try this modified People class ... in your json, items is an array, so model must fit</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class People {\n    private String name;\n    private double height;\n    private double weight;\n    private List&lt;Item&gt; items;\n\n    // other getter/setter\n\n    public List&lt;Item&gt; getItems() {\n        return items;\n    }\n\n    public void setItems(List&lt;Item&gt; items) {\n        this.items = items;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13855516,"reputation":67,"user_id":10002428,"display_name":"Neesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5922,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74140352,"answer_count":1,"score":3,"last_activity_date":1666270986,"creation_date":1666263506,"question_id":74138735,"body_markdown":"I have the following json file:\r\n\r\n    [{&quot;name&quot;:&quot;James&quot;,&quot;height&quot;:170.3,&quot;weight&quot;:55.945535152517735,&quot;items&quot;:[{&quot;name&quot;:&quot;Tickle&quot;,&quot;number&quot;:1000},{&quot;name&quot;:&quot;Greedy&quot;,&quot;number&quot;:1400}]},{&quot;name&quot;:&quot;Mary&quot;,&quot;height&quot;:150.43,&quot;weight&quot;:55.943284737579376,&quot;items&quot;:[{&quot;name&quot;:&quot;Happy&quot;,&quot;number&quot;:1400},{&quot;name&quot;:&quot;Nosey&quot;,&quot;number&quot;:1100}]},{&quot;name&quot;:&quot;Robert&quot;,&quot;height&quot;:167.21,&quot;weight&quot;:55.94449876875712,&quot;items&quot;:[{&quot;name&quot;:&quot;Sneeze&quot;,&quot;number&quot;:1400},{&quot;name&quot;:&quot;Bump&quot;,&quot;number&quot;:900}]},{&quot;name&quot;:&quot;John&quot;,&quot;height&quot;:134.32,&quot;weight&quot;:55.94390696616939,&quot;items&quot;:[{&quot;name&quot;:&quot;Snow&quot;,&quot;number&quot;:1400},{&quot;name&quot;:&quot;Messy&quot;,&quot;number&quot;:900}]}]\r\n\r\nAnd have two classes for the data:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class People {\r\n        private String name;\r\n        private double height;\r\n        private double weight;\r\n        private Item item;\r\n\r\n\r\n    //setters and getters\r\n}\r\n\r\n...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n        \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public class Item{\r\n            private String name;\r\n            private int number;\r\n\r\n            //setters and getters\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI used jackson to read the data:\r\n\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class TestClient {\r\n        public static void main(String[] args)\r\n        {\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n                People[] usrPost = mapper.readValue(new URL(&quot;https://mylink&quot;), People[].class);\r\n                System.out.println(usrPost[2]);\r\n            } catch ( MalformedURLException e ) {\r\n                e . printStackTrace ( ) ;\r\n            } catch ( IOException e ) {\r\n                e . printStackTrace ( ) ;\r\n            }\r\n        }\r\n        }\r\n\r\n\r\nFor some reason I keep on getting the following error message:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type ` ` from Array value (token `JsonToken.START_ARRAY`)\r\n     at [Source: (URL); line: 1, column: 97] (through reference chain: java.lang.Object[][0]-&gt; People[&quot;item&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:648)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:214)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:24)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3560)\r\n    \tat uk.ac.ed.inf.TestClient.main(TestClient.java:21)\r\n\r\nAny help would be greatly appreciated! Think there might be an issue with the second Item class and the fact that I&#39;m reading an array.","title":"Reading from JSON using Jackson. Error Cannot deserialize value of type `` from Array value (token `JsonToken.START_ARRAY`)","body":"<p>I have the following json file:</p>\n<pre><code>[{&quot;name&quot;:&quot;James&quot;,&quot;height&quot;:170.3,&quot;weight&quot;:55.945535152517735,&quot;items&quot;:[{&quot;name&quot;:&quot;Tickle&quot;,&quot;number&quot;:1000},{&quot;name&quot;:&quot;Greedy&quot;,&quot;number&quot;:1400}]},{&quot;name&quot;:&quot;Mary&quot;,&quot;height&quot;:150.43,&quot;weight&quot;:55.943284737579376,&quot;items&quot;:[{&quot;name&quot;:&quot;Happy&quot;,&quot;number&quot;:1400},{&quot;name&quot;:&quot;Nosey&quot;,&quot;number&quot;:1100}]},{&quot;name&quot;:&quot;Robert&quot;,&quot;height&quot;:167.21,&quot;weight&quot;:55.94449876875712,&quot;items&quot;:[{&quot;name&quot;:&quot;Sneeze&quot;,&quot;number&quot;:1400},{&quot;name&quot;:&quot;Bump&quot;,&quot;number&quot;:900}]},{&quot;name&quot;:&quot;John&quot;,&quot;height&quot;:134.32,&quot;weight&quot;:55.94390696616939,&quot;items&quot;:[{&quot;name&quot;:&quot;Snow&quot;,&quot;number&quot;:1400},{&quot;name&quot;:&quot;Messy&quot;,&quot;number&quot;:900}]}]\n</code></pre>\n<p>And have two classes for the data:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class People {\n    private String name;\n    private double height;\n    private double weight;\n    private Item item;\n\n\n//setters and getters\n</code></pre>\n<p>}</p>\n<p>...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n    \n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public class Item{\n        private String name;\n        private int number;\n\n        //setters and getters\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I used jackson to read the data:</p>\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class TestClient {\n    public static void main(String[] args)\n    {\n\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            People[] usrPost = mapper.readValue(new URL(&quot;https://mylink&quot;), People[].class);\n            System.out.println(usrPost[2]);\n        } catch ( MalformedURLException e ) {\n            e . printStackTrace ( ) ;\n        } catch ( IOException e ) {\n            e . printStackTrace ( ) ;\n        }\n    }\n    }\n</code></pre>\n<p>For some reason I keep on getting the following error message:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type ` ` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (URL); line: 1, column: 97] (through reference chain: java.lang.Object[][0]-&gt; People[&quot;item&quot;])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:648)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:214)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:24)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3560)\n    at uk.ac.ed.inf.TestClient.main(TestClient.java:21)\n</code></pre>\n<p>Any help would be greatly appreciated! Think there might be an issue with the second Item class and the fact that I'm reading an array.</p>\n"},{"tags":["java","apache-poi","xwpf"],"answers":[{"tags":[],"owner":{"account_id":1262597,"reputation":399,"user_id":1220520,"display_name":"ARK"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666270966,"creation_date":1377698415,"answer_id":18490137,"question_id":15984896,"body_markdown":"If you have created table, row inside a table and cell inside a row, you can add gridSpan to cell properties:\r\n\r\n    if (cell.getCTTc().getTcPr() == null) cell.getCTTc().addNewTcPr();\r\n    if (cell.getCTTc().getTcPr().getGridSpan() == null) cell.getCTTc().getTcPr().addNewGridSpan();\r\n    cell.getCTTc().getTcPr().getGridSpan().setVal(2);\r\n\r\nNote: cell is `org.apache.poi.xwpf.usermodel.XWPFTableCell`.\r\n","title":"How to merge cells (or apply colspan) using XWPFTable in POI in Java?","body":"<p>If you have created table, row inside a table and cell inside a row, you can add gridSpan to cell properties:</p>\n<pre><code>if (cell.getCTTc().getTcPr() == null) cell.getCTTc().addNewTcPr();\nif (cell.getCTTc().getTcPr().getGridSpan() == null) cell.getCTTc().getTcPr().addNewGridSpan();\ncell.getCTTc().getTcPr().getGridSpan().setVal(2);\n</code></pre>\n<p>Note: cell is <code>org.apache.poi.xwpf.usermodel.XWPFTableCell</code>.</p>\n"},{"comments":[{"owner":{"account_id":1781418,"reputation":1399,"user_id":1624052,"accept_rate":92,"display_name":"Dan Torrey"},"score":0,"creation_date":1417698739,"post_id":23644283,"comment_id":43054557,"body_markdown":"Sure, I voted this answer up. I don&#39;t think there is a way I can accept as answer, since I did not ask the original question. Let me know if this is actually possible.","body":"Sure, I voted this answer up. I don&#39;t think there is a way I can accept as answer, since I did not ask the original question. Let me know if this is actually possible."},{"owner":{"account_id":1781418,"reputation":1399,"user_id":1624052,"accept_rate":92,"display_name":"Dan Torrey"},"score":0,"creation_date":1417814582,"post_id":23644283,"comment_id":43108918,"body_markdown":"Hi, I tried using this, and it does correctly set the span of a cell, but I have left over cells outside the table (to the right) equal to the span size. I tried to trim these off by removing them with XWPFTableRow.removeCell( pos ). I confirmed that they are removed in the java row object, but when the table renders and is viewed in Word, they are still there. Do you know how to get these excess cells to go away?","body":"Hi, I tried using this, and it does correctly set the span of a cell, but I have left over cells outside the table (to the right) equal to the span size. I tried to trim these off by removing them with XWPFTableRow.removeCell( pos ). I confirmed that they are removed in the java row object, but when the table renders and is viewed in Word, they are still there. Do you know how to get these excess cells to go away?"},{"owner":{"account_id":1019731,"reputation":729,"user_id":1030432,"accept_rate":56,"display_name":"Narayana Nagireddi"},"score":1,"creation_date":1417821498,"post_id":23644283,"comment_id":43111502,"body_markdown":"I didn&#39;t understand clearly, but for each table,  total span must be the same. If it is not equal, you will see extra columns, first fix total span by determining largest row, for example a row with 15 columns, then in my answer first table will have 15 span in first column, second table can have 5 in each of 3 columns.","body":"I didn&#39;t understand clearly, but for each table,  total span must be the same. If it is not equal, you will see extra columns, first fix total span by determining largest row, for example a row with 15 columns, then in my answer first table will have 15 span in first column, second table can have 5 in each of 3 columns."}],"tags":[],"owner":{"account_id":1019731,"reputation":729,"user_id":1030432,"accept_rate":56,"display_name":"Narayana Nagireddi"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1400031373,"creation_date":1400031373,"answer_id":23644283,"question_id":15984896,"body_markdown":"Creating a separate `XWPFTable` for each table row will work and should be perfectly fine. All the tables are merged behind the scenes to one table in the final word document. You will need all of these jars, `poi-3.9.jar`, `poi-ooxml-3.9.jar` and `poi-ooxml-schemas-3.9.jar`\r\n\r\n    XWPFTable table1 = document.createTable(1,1); // This is your row 1\r\n    XWPFTable table2 = document.createTable(1,3); // This is your row 2\r\n\r\n    // Now it&#39;s time to span each column of table1 and table2 to a span of your choice\r\n    // lets say 6 is the total span required assuming there&#39;s some row with 6 columns.\r\n\r\n    spanCellsAcrossRow(table1, 0, 0, 6);\r\n    spanCellsAcrossRow(table2, 0, 0, 2);\r\n    spanCellsAcrossRow(table2, 0, 1, 2);\r\n    spanCellsAcrossRow(table2, 0, 2, 2);\r\n\r\n    private void spanCellsAcrossRow(XWPFTable table, int rowNum, int colNum, int span) {\r\n\t\tXWPFTableCell  cell = table.getRow(rowNum).getCell(colNum);\r\n\t\tcell.getCTTc().getTcPr().addNewGridSpan();\r\n\t\tcell.getCTTc().getTcPr().getGridSpan().setVal(BigInteger.valueOf((long)span));\r\n\t}","title":"How to merge cells (or apply colspan) using XWPFTable in POI in Java?","body":"<p>Creating a separate <code>XWPFTable</code> for each table row will work and should be perfectly fine. All the tables are merged behind the scenes to one table in the final word document. You will need all of these jars, <code>poi-3.9.jar</code>, <code>poi-ooxml-3.9.jar</code> and <code>poi-ooxml-schemas-3.9.jar</code></p>\n\n<pre><code>XWPFTable table1 = document.createTable(1,1); // This is your row 1\nXWPFTable table2 = document.createTable(1,3); // This is your row 2\n\n// Now it's time to span each column of table1 and table2 to a span of your choice\n// lets say 6 is the total span required assuming there's some row with 6 columns.\n\nspanCellsAcrossRow(table1, 0, 0, 6);\nspanCellsAcrossRow(table2, 0, 0, 2);\nspanCellsAcrossRow(table2, 0, 1, 2);\nspanCellsAcrossRow(table2, 0, 2, 2);\n\nprivate void spanCellsAcrossRow(XWPFTable table, int rowNum, int colNum, int span) {\n    XWPFTableCell  cell = table.getRow(rowNum).getCell(colNum);\n    cell.getCTTc().getTcPr().addNewGridSpan();\n    cell.getCTTc().getTcPr().getGridSpan().setVal(BigInteger.valueOf((long)span));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4123802,"reputation":185,"user_id":3383467,"accept_rate":25,"display_name":"IronRabbit"},"score":4,"creation_date":1507624385,"post_id":41174828,"comment_id":80272576,"body_markdown":"Your solution worked for me, but I add to slightly modify it by  adding :\n`if (cell.getCTTc().getTcPr() == null) cell.getCTTc().addNewTcPr();`","body":"Your solution worked for me, but I add to slightly modify it by  adding : <code>if (cell.getCTTc().getTcPr() == null) cell.getCTTc().addNewTcPr();</code>"},{"owner":{"account_id":2272751,"reputation":360,"user_id":1999752,"accept_rate":0,"display_name":"Ekaterina Ivanova iceja.net"},"score":1,"creation_date":1612461780,"post_id":41174828,"comment_id":116781107,"body_markdown":"Why supegroupRow.getCell(0).getCTTc().getTcPr() is null?","body":"Why supegroupRow.getCell(0).getCTTc().getTcPr() is null?"},{"owner":{"account_id":227940,"reputation":139,"user_id":489921,"display_name":"Wexoo"},"score":0,"creation_date":1673614333,"post_id":41174828,"comment_id":132544418,"body_markdown":"Thanks, worked for me. As the syntax is quite complicated i wrote a helper method:\n\n`private static void mergeCellsHorizontally(XWPFTable table, int rowNr, int cellFrom, int cellTo) {\nCTHMerge mergeStart = CTHMerge.Factory.newInstance();\nmergeStart.setVal(STMerge.RESTART);\ttable.getRow(rowNr).getCell(cellFrom).getCTTc().getTcPr().setHMerge(mergeStart);\nfor (int i = cellFrom + 1; i &lt;= cellTo; i++) {\nCTHMerge mergeContinue = CTHMerge.Factory.newInstance();\nmergeContinue.setVal(STMerge.CONTINUE);\ntable.getRow(rowNr).getCell(i).getCTTc().getTcPr().setHMerge(mergeContinue);\n}\n}`","body":"Thanks, worked for me. As the syntax is quite complicated i wrote a helper method:  <code>private static void mergeCellsHorizontally(XWPFTable table, int rowNr, int cellFrom, int cellTo) { CTHMerge mergeStart = CTHMerge.Factory.newInstance(); mergeStart.setVal(STMerge.RESTART);\ttable.getRow(rowNr).getC&zwnj;&#8203;ell(cellFrom).getCTT&zwnj;&#8203;c().getTcPr().setHMe&zwnj;&#8203;rge(mergeStart); for (int i = cellFrom + 1; i &lt;= cellTo; i++) { CTHMerge mergeContinue = CTHMerge.Factory.newInstance(); mergeContinue.setVal(STMerge.CONTINUE); table.getRow(rowNr).getCell(i).getCTTc().getTcPr().setHMerge&zwnj;&#8203;(mergeContinue); } }</code>"}],"tags":[],"owner":{"account_id":9860832,"reputation":408,"user_id":7303912,"display_name":"Jose1755"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1600656218,"creation_date":1481843419,"answer_id":41174828,"question_id":15984896,"body_markdown":"To merge horizontally/vertically you need to create 2 CTHMerge and use the setVal:\r\n\r\n - one for the cells that you will remain (STMerge.RESTART);\r\n - a second one for the merged cells (STMerge.CONTINUE);\r\n\r\na) example for a **horizontal** merge for 2x2 table [(image with example)][1]:\r\n\r\n|___________|___________|  --&gt;    |___________ ___________|                      \r\n|___________|___________|  --&gt;    |___________ ___________|\r\n\r\n\r\n     // First Row\r\n    CTHMerge hMerge = CTHMerge.Factory.newInstance();\r\n    hMerge.setVal(STMerge.RESTART);\r\n    table.getRow(0).getCell(0).getCTTc().getTcPr().setHMerge(hMerge);\r\n    table.getRow(1).getCell(0).getCTTc().getTcPr().setHMerge(hMerge);\r\n    \r\n     // Secound Row cell will be merged/&quot;deleted&quot;\r\n    CTHMerge hMerge1 = CTHMerge.Factory.newInstance();\r\n    hMerge1.setVal(STMerge.CONTINUE);\r\n    table.getRow(0).getCell(1).getCTTc().getTcPr().setHMerge(hMerge1);\r\n    table.getRow(1).getCell(1).getCTTc().getTcPr().setHMerge(hMerge1);\r\n\r\n\r\nb) example of a **vertical** merge [(image with example)][2]\r\n\r\n     // First Row\r\n    CTVMerge vmerge = CTVMerge.Factory.newInstance();\r\n    vmerge.setVal(STMerge.RESTART);\r\n    table.getRow(0).getCell(0).getCTTc().getTcPr().setVMerge(vmerge);\r\n    table.getRow(0).getCell(1).getCTTc().getTcPr().setVMerge(vmerge);\r\n     \r\n     // Secound Row cell will be merged \r\n    CTVMerge vmerge1 = CTVMerge.Factory.newInstance();\r\n    vmerge1.setVal(STMerge.CONTINUE);\r\n    table.getRow(1).getCell(0).getCTTc().getTcPr().setVMerge(vmerge1);\r\n    table.getRow(1).getCell(1).getCTTc().getTcPr().setVMerge(vmerge1);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5FB4K.png\r\n  [2]: https://i.stack.imgur.com/1yNBR.png","title":"How to merge cells (or apply colspan) using XWPFTable in POI in Java?","body":"<p>To merge horizontally/vertically you need to create 2 CTHMerge and use the setVal:</p>\n<ul>\n<li>one for the cells that you will remain (STMerge.RESTART);</li>\n<li>a second one for the merged cells (STMerge.CONTINUE);</li>\n</ul>\n<p>a) example for a <strong>horizontal</strong> merge for 2x2 table <a href=\"https://i.stack.imgur.com/5FB4K.png\" rel=\"noreferrer\">(image with example)</a>:</p>\n<p>|<em><strong><strong><strong><strong><strong>|</strong></strong></strong></strong></strong></em>|  --&gt;    |___________ <em><strong><strong><strong><strong><strong>|<br />\n|</strong></strong></strong></strong></strong></em>|<em><strong><strong><strong><strong><strong>|  --&gt;    |</strong></strong></strong></strong></strong></em> ___________|</p>\n<pre><code> // First Row\nCTHMerge hMerge = CTHMerge.Factory.newInstance();\nhMerge.setVal(STMerge.RESTART);\ntable.getRow(0).getCell(0).getCTTc().getTcPr().setHMerge(hMerge);\ntable.getRow(1).getCell(0).getCTTc().getTcPr().setHMerge(hMerge);\n\n // Secound Row cell will be merged/&quot;deleted&quot;\nCTHMerge hMerge1 = CTHMerge.Factory.newInstance();\nhMerge1.setVal(STMerge.CONTINUE);\ntable.getRow(0).getCell(1).getCTTc().getTcPr().setHMerge(hMerge1);\ntable.getRow(1).getCell(1).getCTTc().getTcPr().setHMerge(hMerge1);\n</code></pre>\n<p>b) example of a <strong>vertical</strong> merge <a href=\"https://i.stack.imgur.com/1yNBR.png\" rel=\"noreferrer\">(image with example)</a></p>\n<pre><code> // First Row\nCTVMerge vmerge = CTVMerge.Factory.newInstance();\nvmerge.setVal(STMerge.RESTART);\ntable.getRow(0).getCell(0).getCTTc().getTcPr().setVMerge(vmerge);\ntable.getRow(0).getCell(1).getCTTc().getTcPr().setVMerge(vmerge);\n \n // Secound Row cell will be merged \nCTVMerge vmerge1 = CTVMerge.Factory.newInstance();\nvmerge1.setVal(STMerge.CONTINUE);\ntable.getRow(1).getCell(0).getCTTc().getTcPr().setVMerge(vmerge1);\ntable.getRow(1).getCell(1).getCTTc().getTcPr().setVMerge(vmerge1);\n</code></pre>\n"}],"owner":{"account_id":1883401,"reputation":543,"user_id":1703098,"accept_rate":70,"display_name":"Weddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17117,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1666270966,"creation_date":1365833886,"question_id":15984896,"body_markdown":"Creating a table in poi was quite easy but it has very limited tutorials and I cannot find one that can create a simple merged cell in a table in generating a docx file.","title":"How to merge cells (or apply colspan) using XWPFTable in POI in Java?","body":"<p>Creating a table in poi was quite easy but it has very limited tutorials and I cannot find one that can create a simple merged cell in a table in generating a docx file.</p>\n"},{"tags":["java","selenium","mobile","cucumber"],"answers":[{"comments":[{"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"score":0,"creation_date":1666266683,"post_id":74139352,"comment_id":130898392,"body_markdown":"ok, but where to invoke this method ? In feature file ?","body":"ok, but where to invoke this method ? In feature file ?"},{"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"score":0,"creation_date":1666266707,"post_id":74139352,"comment_id":130898412,"body_markdown":"I mean in which file invoke this method: public void before(Scenario scenario) {\n    scenario.log(&quot;Runs before each scenario tagged with @mobile and *not* tagged with @android&quot;);\n}","body":"I mean in which file invoke this method: public void before(Scenario scenario) {     scenario.log(&quot;Runs before each scenario tagged with @mobile and <i>not</i> tagged with @android&quot;); }"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1666270960,"post_id":74139352,"comment_id":130900147,"body_markdown":"In your step definition file.","body":"In your step definition file."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1666271346,"post_id":74139352,"comment_id":130900286,"body_markdown":"Added a bit more context to the example","body":"Added a bit more context to the example"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666270935,"creation_date":1666266418,"answer_id":74139352,"question_id":74138896,"body_markdown":"You can use a [tag expression][1] in a hook\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java#before--after\r\n\r\n```java\r\npublic class StepDefinitions {\r\n\r\n    private WebDriver driver;\r\n\r\n    @Before(&quot;@mobile&quot;)\r\n    public void before(Scenario scenario) {\r\n        driver = createWebDriverForMobile();\r\n    }\r\n\r\n    @Before(&quot;not @mobile&quot;)\r\n    public void before(Scenario scenario) {\r\n        driver = createWebDriverForDesktop();\r\n    }\r\n    \r\n    @Given(&quot;Open landing page&quot;)\r\n    public void openLandingPage() {\r\n        driver.get(....);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/cucumber/tag-expressions#tag-expressions","title":"Java Selenium Cucumber tags - how to adjust test depending on the tag name?","body":"<p>You can use a <a href=\"https://github.com/cucumber/tag-expressions#tag-expressions\" rel=\"nofollow noreferrer\">tag expression</a> in a hook</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java#before--after\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java#before--after</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StepDefinitions {\n\n    private WebDriver driver;\n\n    @Before(&quot;@mobile&quot;)\n    public void before(Scenario scenario) {\n        driver = createWebDriverForMobile();\n    }\n\n    @Before(&quot;not @mobile&quot;)\n    public void before(Scenario scenario) {\n        driver = createWebDriverForDesktop();\n    }\n    \n    @Given(&quot;Open landing page&quot;)\n    public void openLandingPage() {\n        driver.get(....);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666270935,"creation_date":1666264257,"question_id":74138896,"body_markdown":"I have two scenarios with 2 different tags. How to adjust desired chrome capabilities depending on the tag ? For @mobile tag I want to run the following code:\r\n\r\n    DesiredCapabilities mobileCapabilities = DesiredCapabilities.chrome();\r\n\t\t ChromeOptions options = new ChromeOptions();\r\n\t\t options.addArguments(&quot;no-sandbox&quot;);\r\n\t\t options.setExperimentalOption(&quot;mobileEmulation&quot;, getMobileEmualtor());\r\n\t\t mobileCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n\r\n     @desktop\r\n      Scenario: Normal desktop test\r\n    Given Open landing page\r\n    Then I do normal test on desktop view\r\n\r\n\r\n    @mobile\r\n      Scenario: Test with a user of smaller browser view\r\n    Given Open landing page\r\n    Then I chekc elements for mobile responsive page","title":"Java Selenium Cucumber tags - how to adjust test depending on the tag name?","body":"<p>I have two scenarios with 2 different tags. How to adjust desired chrome capabilities depending on the tag ? For @mobile tag I want to run the following code:</p>\n<pre><code>DesiredCapabilities mobileCapabilities = DesiredCapabilities.chrome();\n     ChromeOptions options = new ChromeOptions();\n     options.addArguments(&quot;no-sandbox&quot;);\n     options.setExperimentalOption(&quot;mobileEmulation&quot;, getMobileEmualtor());\n     mobileCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n\n\n @desktop\n  Scenario: Normal desktop test\nGiven Open landing page\nThen I do normal test on desktop view\n\n\n@mobile\n  Scenario: Test with a user of smaller browser view\nGiven Open landing page\nThen I chekc elements for mobile responsive page\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666229963,"post_id":74133566,"comment_id":130888696,"body_markdown":"`DataStructureIterator iterator = this.new EvenIterator();` - is this what you are asking?","body":"<code>DataStructureIterator iterator = this.new EvenIterator();</code> - is this what you are asking?"},{"owner":{"account_id":26676825,"reputation":3,"user_id":20287388,"display_name":"Mark Lee"},"score":0,"creation_date":1666230423,"post_id":74133566,"comment_id":130888743,"body_markdown":"Yes it is. I also tried removing the &#39;this&#39; part, conpiles and runs fine.","body":"Yes it is. I also tried removing the &#39;this&#39; part, conpiles and runs fine."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1666230637,"post_id":74133566,"comment_id":130888766,"body_markdown":"What&#39;s unreasonable about this?  Why should you not be able to call another class&#39; constructor anywhere you please?","body":"What&#39;s unreasonable about this?  Why should you not be able to call another class&#39; constructor anywhere you please?"},{"owner":{"account_id":26676825,"reputation":3,"user_id":20287388,"display_name":"Mark Lee"},"score":0,"creation_date":1666231204,"post_id":74133566,"comment_id":130888839,"body_markdown":"I suppose you mean that the &#39;iterator&#39; instance was created by the &#39;DataStructure&#39; constructor, if so could you explain the procedure of method calling?","body":"I suppose you mean that the &#39;iterator&#39; instance was created by the &#39;DataStructure&#39; constructor, if so could you explain the procedure of method calling?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1666232424,"post_id":74133566,"comment_id":130888976,"body_markdown":"No.  An `EvenIterator` object was created by the `EvenIterator` constructor, and then the resulting object was assigned to a variable named `iterator` whose type was a supertype of `EvenIterator`, `DataStructureIterator`.  This is no more surprising than `Animal animal = new Dog();`, `Dog` is a subtype of `Animal`, and the _point_ of subtyping is that you&#39;re allowed to treat a subtype object as a supertype object.  The `DataStructure` constructor is only used once in all of the code you&#39;ve shown us, on the line `DataStructure ds = new DataStructure();`.","body":"No.  An <code>EvenIterator</code> object was created by the <code>EvenIterator</code> constructor, and then the resulting object was assigned to a variable named <code>iterator</code> whose type was a supertype of <code>EvenIterator</code>, <code>DataStructureIterator</code>.  This is no more surprising than <code>Animal animal = new Dog();</code>, <code>Dog</code> is a subtype of <code>Animal</code>, and the <i>point</i> of subtyping is that you&#39;re allowed to treat a subtype object as a supertype object.  The <code>DataStructure</code> constructor is only used once in all of the code you&#39;ve shown us, on the line <code>DataStructure ds = new DataStructure();</code>."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666232942,"post_id":74133566,"comment_id":130889033,"body_markdown":"I am not sure but maybe the question should be *why use this.new rather than new*","body":"I am not sure but maybe the question should be <i>why use this.new rather than new</i>"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666232244,"creation_date":1666232244,"answer_id":74133734,"question_id":74133566,"body_markdown":"An inner class is instantiated the same as any other class is, just the scope of the class (and thus its instances) is different.\r\n\r\nSo yes, your inner class instance is created by a call inside the outer class method (not the constructor in the case of your example, but the printEvent method).\r\n\r\nI don&#39;t know what you mean with the &quot;ds instance is created by the constructor of DataStructure&quot;. If you mean that the class is initialised by the constructor, no. ","title":"How is inner class initialized","body":"<p>An inner class is instantiated the same as any other class is, just the scope of the class (and thus its instances) is different.</p>\n<p>So yes, your inner class instance is created by a call inside the outer class method (not the constructor in the case of your example, but the printEvent method).</p>\n<p>I don't know what you mean with the &quot;ds instance is created by the constructor of DataStructure&quot;. If you mean that the class is initialised by the constructor, no.</p>\n"},{"tags":[],"owner":{"account_id":475533,"reputation":6984,"user_id":885922,"accept_rate":86,"display_name":"xlm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666270783,"creation_date":1666233571,"answer_id":74133861,"question_id":74133566,"body_markdown":"**From your Q:**\r\n&gt; It seems not quite reasonable that a DataStructureIterator instance can be constructed by a constructor of another class.\r\n\r\nIn your code, the instance of the `DataStructureIterator` is actually _not_ created by the `DataStructure` constructor. It is created whenever the `DataStructure` instance method `printEven` is called:\r\n\r\n```java\r\npublic void printEven() {\r\n        \r\n  // Print out values of even indices of the array\r\n  DataStructureIterator iterator = this.new EvenIterator();\r\n\r\n  // Omitted for brevity\r\n}\r\n```\r\n\r\nBut it could also be created in the constructor as a field or set with a default value e.g.:\r\n```java\r\npublic class DataStructure {\r\n  private DataStructureIterator iterator = new EvenIterator();\r\n\r\n  // Omitted for brevity\r\n}\r\n```\r\n\r\nIf your inner class (`EventIterator`) was public, it could also be created &quot;outside&quot; of `DataStructure`:\r\n\r\n```java\r\n// In some other Java class\r\nDataStructure ds = new DataStructure();\r\nDataStructure.EventIterator iterator = ds.new EventIterator();\r\n```\r\n\r\nThe key thing is that outer class (`DataStructure`) instance is created first.\r\n\r\nAs the [docs][1] note:\r\n\r\n&gt; To instantiate an inner class, you must first instantiate the outer class\r\n\r\nThis is because the instance of an inner class is always tied to the outer/parent class.\r\n\r\n&lt;hr/&gt;\r\n\r\n**From your Q:**\r\n&gt; I would like to know how the inner class instance iterator is created and linked to the arrayOfInts array.\r\n\r\nThe key thing is that an instance of a inner *non-static* class is that always has access to the parent instance&#39;s methods/fields.\r\n\r\nAs the docs also state (emphasis added):\r\n\r\n&gt; As with instance methods and variables, an **inner class is associated with an instance of its enclosing class and has direct access to that object&#39;s methods and fields**.\r\n\r\nAs such, the instance of the `DataStructureIterator` can access the `DataStructure` field `arrayOfInts`.\r\n\r\nBut note that if you created a separate `DataStructure` instance e.g. `ds2`, then the `DataStructureIterator` instance within `ds2` will have access to `ds2.arrayOfInts` but it won&#39;t have access to the `ds.arrayOfInts`. In your code the values of `arrayOfInts` will be the same but the instances are actually different (try allowing `arrayOfInts` to be set via the `DataStructure` constructor).\r\n\r\nIf `DataStructureIterator` was defined as a nested *static* class, then it won&#39;t automatically have access to `arrayOfInts` and it would need `arrayOfInts` passed in as an arg to its constructor or to its method.\r\n\r\nYou can think of inner *non-static* classes as a logical grouping of code for the parent (`DataStructure` class) and the docs linked above outline good reasons when to use them. But in general don&#39;t use them unless you know what you&#39;re doing.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"How is inner class initialized","body":"<p><strong>From your Q:</strong></p>\n<blockquote>\n<p>It seems not quite reasonable that a DataStructureIterator instance can be constructed by a constructor of another class.</p>\n</blockquote>\n<p>In your code, the instance of the <code>DataStructureIterator</code> is actually <em>not</em> created by the <code>DataStructure</code> constructor. It is created whenever the <code>DataStructure</code> instance method <code>printEven</code> is called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void printEven() {\n        \n  // Print out values of even indices of the array\n  DataStructureIterator iterator = this.new EvenIterator();\n\n  // Omitted for brevity\n}\n</code></pre>\n<p>But it could also be created in the constructor as a field or set with a default value e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataStructure {\n  private DataStructureIterator iterator = new EvenIterator();\n\n  // Omitted for brevity\n}\n</code></pre>\n<p>If your inner class (<code>EventIterator</code>) was public, it could also be created &quot;outside&quot; of <code>DataStructure</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In some other Java class\nDataStructure ds = new DataStructure();\nDataStructure.EventIterator iterator = ds.new EventIterator();\n</code></pre>\n<p>The key thing is that outer class (<code>DataStructure</code>) instance is created first.</p>\n<p>As the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">docs</a> note:</p>\n<blockquote>\n<p>To instantiate an inner class, you must first instantiate the outer class</p>\n</blockquote>\n<p>This is because the instance of an inner class is always tied to the outer/parent class.</p>\n<hr/>\n<p><strong>From your Q:</strong></p>\n<blockquote>\n<p>I would like to know how the inner class instance iterator is created and linked to the arrayOfInts array.</p>\n</blockquote>\n<p>The key thing is that an instance of a inner <em>non-static</em> class is that always has access to the parent instance's methods/fields.</p>\n<p>As the docs also state (emphasis added):</p>\n<blockquote>\n<p>As with instance methods and variables, an <strong>inner class is associated with an instance of its enclosing class and has direct access to that object's methods and fields</strong>.</p>\n</blockquote>\n<p>As such, the instance of the <code>DataStructureIterator</code> can access the <code>DataStructure</code> field <code>arrayOfInts</code>.</p>\n<p>But note that if you created a separate <code>DataStructure</code> instance e.g. <code>ds2</code>, then the <code>DataStructureIterator</code> instance within <code>ds2</code> will have access to <code>ds2.arrayOfInts</code> but it won't have access to the <code>ds.arrayOfInts</code>. In your code the values of <code>arrayOfInts</code> will be the same but the instances are actually different (try allowing <code>arrayOfInts</code> to be set via the <code>DataStructure</code> constructor).</p>\n<p>If <code>DataStructureIterator</code> was defined as a nested <em>static</em> class, then it won't automatically have access to <code>arrayOfInts</code> and it would need <code>arrayOfInts</code> passed in as an arg to its constructor or to its method.</p>\n<p>You can think of inner <em>non-static</em> classes as a logical grouping of code for the parent (<code>DataStructure</code> class) and the docs linked above outline good reasons when to use them. But in general don't use them unless you know what you're doing.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666233604,"creation_date":1666233604,"answer_id":74133865,"question_id":74133566,"body_markdown":"A non-static inner class is best thought of as follows (because.. they really are exactly like this, at the class level):\r\n\r\n* They have a secret (invisible) `final` field of the outer type&#39;s type.\r\n* All constructors, even the default (empty) one have a secret additional parameter of the same type, and they all have an additional extra syntax sugar line at the top, in the vein of `this.theFinalFieldIMentionedEarlier = thatParameter;`.\r\n* Calling `new InnerClass()` will silently pass `this` along as that parameter.\r\n* If no `this` that fits is available, you must pass the parameter yourself. However, instead of writing `new InnerClass(instanceOfOuter)`, you write `instanceOfOuter.new InnerClass()` instead. The effect is identical, and at the class level, there is no difference.\r\n* Generics is rather wonky; if the outer has it, oof.\r\n\r\nAs a consequence:\r\n\r\nDo not use non-static inner classes unless you really know what you are doing and you understand and want this weird field. If you don&#39;t, _or_ if you feel this is confusing (and it is; most java programmers do not know this is how it works), you might want to consider making your inner class `static`, and making that field explicit - i.e. handrolling this functionality. It&#39;s not particularly complicated (requires 1 field, 1 constructor parameter, and 1 `this.outer = outer;` statement in the constructor, not exactly a boatload of boilerplate), and clears up rather a lot.\r\n\r\nSo how does it work - exactly as if it had that field. Because, that&#39;s exactly what `javac` does. inner classes mostly don&#39;t exist at the class level, they just become top level classes with funky names (`Outer$Inner`), a boatload of synthetic methods to bridge `private` methods together. In newer JVMs, there&#39;s the nestmates system that avoids some of those bridges, but they&#39;re still individual top-level classes after `javac` is done with it.\r\n\r\nIn other words, this:\r\n\r\n```\r\nclass Outer {\r\n  class Inner {\r\n    public Inner(int example) {}\r\n  }\r\n\r\n  void test() {\r\n    new Inner();\r\n  }\r\n}\r\n```\r\n\r\nis virtually identical to:\r\n\r\n```\r\nclass Outer {\r\n  static class Inner {\r\n    private final Outer outer;\r\n    public Inner(Outer outer, int example) {\r\n      this.outer = outer;\r\n    }\r\n  }\r\n\r\n  void test() {\r\n    new Inner(this);\r\n  }\r\n}\r\n```","title":"How is inner class initialized","body":"<p>A non-static inner class is best thought of as follows (because.. they really are exactly like this, at the class level):</p>\n<ul>\n<li>They have a secret (invisible) <code>final</code> field of the outer type's type.</li>\n<li>All constructors, even the default (empty) one have a secret additional parameter of the same type, and they all have an additional extra syntax sugar line at the top, in the vein of <code>this.theFinalFieldIMentionedEarlier = thatParameter;</code>.</li>\n<li>Calling <code>new InnerClass()</code> will silently pass <code>this</code> along as that parameter.</li>\n<li>If no <code>this</code> that fits is available, you must pass the parameter yourself. However, instead of writing <code>new InnerClass(instanceOfOuter)</code>, you write <code>instanceOfOuter.new InnerClass()</code> instead. The effect is identical, and at the class level, there is no difference.</li>\n<li>Generics is rather wonky; if the outer has it, oof.</li>\n</ul>\n<p>As a consequence:</p>\n<p>Do not use non-static inner classes unless you really know what you are doing and you understand and want this weird field. If you don't, <em>or</em> if you feel this is confusing (and it is; most java programmers do not know this is how it works), you might want to consider making your inner class <code>static</code>, and making that field explicit - i.e. handrolling this functionality. It's not particularly complicated (requires 1 field, 1 constructor parameter, and 1 <code>this.outer = outer;</code> statement in the constructor, not exactly a boatload of boilerplate), and clears up rather a lot.</p>\n<p>So how does it work - exactly as if it had that field. Because, that's exactly what <code>javac</code> does. inner classes mostly don't exist at the class level, they just become top level classes with funky names (<code>Outer$Inner</code>), a boatload of synthetic methods to bridge <code>private</code> methods together. In newer JVMs, there's the nestmates system that avoids some of those bridges, but they're still individual top-level classes after <code>javac</code> is done with it.</p>\n<p>In other words, this:</p>\n<pre><code>class Outer {\n  class Inner {\n    public Inner(int example) {}\n  }\n\n  void test() {\n    new Inner();\n  }\n}\n</code></pre>\n<p>is virtually identical to:</p>\n<pre><code>class Outer {\n  static class Inner {\n    private final Outer outer;\n    public Inner(Outer outer, int example) {\n      this.outer = outer;\n    }\n  }\n\n  void test() {\n    new Inner(this);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26676825,"reputation":3,"user_id":20287388,"display_name":"Mark Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74133861,"answer_count":3,"score":0,"last_activity_date":1666270783,"creation_date":1666229832,"question_id":74133566,"body_markdown":"Below is a piece of code which provides an example of using inner class in Java.\r\nI would like to know how the inner class instance *iterator* is created and linked to the *arrayOfInts* array. \r\n```\r\n        DataStructureIterator iterator = this.new EvenIterator();\r\n```\r\nI understand that the *&#39;ds&#39;* instance is created by the constructor of *DataStructure* class, but the *iterator* instance is of *DataStructureIterator* type. It seems not quite reasonable that a *DataStructureIterator* instance can be constructed by a constructor of another class.\r\n\r\nFull code here:\r\n```\r\npublic class DataStructure {\r\n    \r\n    // Create an array\r\n    private final static int SIZE = 15;\r\n    private int[] arrayOfInts = new int[SIZE];\r\n    \r\n    public DataStructure() {\r\n        // fill the array with ascending integer values\r\n        for (int i = 0; i &lt; SIZE; i++) {\r\n            arrayOfInts[i] = i;\r\n        }\r\n    }\r\n    \r\n    public void printEven() {\r\n        \r\n        // Print out values of even indices of the array\r\n        DataStructureIterator iterator = this.new EvenIterator();\r\n        while (iterator.hasNext()) {\r\n            System.out.print(iterator.next() + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n    \r\n    interface DataStructureIterator extends java.util.Iterator&lt;Integer&gt; { } \r\n\r\n    // Inner class implements the DataStructureIterator interface,\r\n    // which extends the Iterator&lt;Integer&gt; interface\r\n    \r\n    private class EvenIterator implements DataStructureIterator {\r\n        \r\n        // Start stepping through the array from the beginning\r\n        private int nextIndex = 0;\r\n        \r\n        public boolean hasNext() {\r\n            \r\n            // Check if the current element is the last in the array\r\n            return (nextIndex &lt;= SIZE - 1);\r\n        }        \r\n        \r\n        public Integer next() {\r\n            \r\n            // Record a value of an even index of the array\r\n            Integer retValue = Integer.valueOf(arrayOfInts[nextIndex]);\r\n            \r\n            // Get the next even element\r\n            nextIndex += 2;\r\n            return retValue;\r\n        }\r\n    }\r\n    \r\n    public static void main(String s[]) {\r\n        \r\n        // Fill the array with integer values and print out only\r\n        // values of even indices\r\n        DataStructure ds = new DataStructure();\r\n        ds.printEven();\r\n    }\r\n}\r\n\r\n```\r\n*This is a question from the Oracle&#39;s Java documents, here is the source: &lt;https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html&gt;*\r\n","title":"How is inner class initialized","body":"<p>Below is a piece of code which provides an example of using inner class in Java.\nI would like to know how the inner class instance <em>iterator</em> is created and linked to the <em>arrayOfInts</em> array.</p>\n<pre><code>        DataStructureIterator iterator = this.new EvenIterator();\n</code></pre>\n<p>I understand that the <em>'ds'</em> instance is created by the constructor of <em>DataStructure</em> class, but the <em>iterator</em> instance is of <em>DataStructureIterator</em> type. It seems not quite reasonable that a <em>DataStructureIterator</em> instance can be constructed by a constructor of another class.</p>\n<p>Full code here:</p>\n<pre><code>public class DataStructure {\n    \n    // Create an array\n    private final static int SIZE = 15;\n    private int[] arrayOfInts = new int[SIZE];\n    \n    public DataStructure() {\n        // fill the array with ascending integer values\n        for (int i = 0; i &lt; SIZE; i++) {\n            arrayOfInts[i] = i;\n        }\n    }\n    \n    public void printEven() {\n        \n        // Print out values of even indices of the array\n        DataStructureIterator iterator = this.new EvenIterator();\n        while (iterator.hasNext()) {\n            System.out.print(iterator.next() + &quot; &quot;);\n        }\n        System.out.println();\n    }\n    \n    interface DataStructureIterator extends java.util.Iterator&lt;Integer&gt; { } \n\n    // Inner class implements the DataStructureIterator interface,\n    // which extends the Iterator&lt;Integer&gt; interface\n    \n    private class EvenIterator implements DataStructureIterator {\n        \n        // Start stepping through the array from the beginning\n        private int nextIndex = 0;\n        \n        public boolean hasNext() {\n            \n            // Check if the current element is the last in the array\n            return (nextIndex &lt;= SIZE - 1);\n        }        \n        \n        public Integer next() {\n            \n            // Record a value of an even index of the array\n            Integer retValue = Integer.valueOf(arrayOfInts[nextIndex]);\n            \n            // Get the next even element\n            nextIndex += 2;\n            return retValue;\n        }\n    }\n    \n    public static void main(String s[]) {\n        \n        // Fill the array with integer values and print out only\n        // values of even indices\n        DataStructure ds = new DataStructure();\n        ds.printEven();\n    }\n}\n\n</code></pre>\n<p><em>This is a question from the Oracle's Java documents, here is the source: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html</a></em></p>\n"},{"tags":["java","logging","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1666546763,"post_id":74140176,"comment_id":130957930,"body_markdown":"What issue are you seeing? When you made these changes, was the server running?","body":"What issue are you seeing? When you made these changes, was the server running?"},{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1666611340,"post_id":74140176,"comment_id":130970602,"body_markdown":"I did restart each time. Nothing happened... every logs were the same","body":"I did restart each time. Nothing happened... every logs were the same"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1666622208,"post_id":74140176,"comment_id":130974736,"body_markdown":"Do you include any logging configuration files in your deployment?","body":"Do you include any logging configuration files in your deployment?"},{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1666766509,"post_id":74140176,"comment_id":131011070,"body_markdown":"Nope. It generates via JBoss as logging.properties","body":"Nope. It generates via JBoss as logging.properties"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1666837899,"post_id":74140176,"comment_id":131032044,"body_markdown":"There is no reason that it shouldn&#39;t work then. It&#39;s better to use CLI to add the logger then you don&#39;t need to restart the server. However, it should work if you stop the server, make the change, then restart it.","body":"There is no reason that it shouldn&#39;t work then. It&#39;s better to use CLI to add the logger then you don&#39;t need to restart the server. However, it should work if you stop the server, make the change, then restart it."}],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666270247,"creation_date":1666270247,"question_id":74140176,"body_markdown":"I try to avoid in my test stand a lot of useless logs.\r\n\r\nIn Java classes we have \r\n\r\n    package my.package\r\n\r\n    public class MyClass {\r\n        Logger logger = LoggerFactory.getLogger(MyClass.class);\r\n      ....\r\n    }\r\n\r\nin JBOSS_HOME...../standalong.xml\r\n\r\nI try like\r\n\r\n    &lt;logger category=&quot;my.package&quot;&gt;\r\n         &lt;level name=&quot;ERROR&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nor\r\n\r\n    &lt;logger category=&quot;my.package&quot;&gt;\r\n         &lt;level name=&quot;ERROR&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nor\r\n\r\n    &lt;logger category=&quot;my.package&quot;&gt;\r\n         &lt;level name=&quot;SEVERE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nor\r\n\r\n    &lt;logger category=&quot;my.package&quot; use-parent-handlers=&quot;false&quot;&gt;\r\n         &lt;level name=&quot;OFF&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nor\r\n\r\n    &lt;logger category=&quot;my.package&quot; use-parent-handlers=&quot;false&quot;&gt;\r\n         &lt;level name=&quot;ERROR&quot;/&gt;\r\n         &lt;handlers&gt;\r\n            &lt;handler name=&quot;FILE&quot;/&gt;\r\n          &lt;/handlers&gt;\r\n    &lt;/logger&gt;\r\n\r\nnothing works.\r\n\r\nCan someone help with that ? :)","title":"How to exclude logs in Jboss","body":"<p>I try to avoid in my test stand a lot of useless logs.</p>\n<p>In Java classes we have</p>\n<pre><code>package my.package\n\npublic class MyClass {\n    Logger logger = LoggerFactory.getLogger(MyClass.class);\n  ....\n}\n</code></pre>\n<p>in JBOSS_HOME...../standalong.xml</p>\n<p>I try like</p>\n<pre><code>&lt;logger category=&quot;my.package&quot;&gt;\n     &lt;level name=&quot;ERROR&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;logger category=&quot;my.package&quot;&gt;\n     &lt;level name=&quot;ERROR&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;logger category=&quot;my.package&quot;&gt;\n     &lt;level name=&quot;SEVERE&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;logger category=&quot;my.package&quot; use-parent-handlers=&quot;false&quot;&gt;\n     &lt;level name=&quot;OFF&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;logger category=&quot;my.package&quot; use-parent-handlers=&quot;false&quot;&gt;\n     &lt;level name=&quot;ERROR&quot;/&gt;\n     &lt;handlers&gt;\n        &lt;handler name=&quot;FILE&quot;/&gt;\n      &lt;/handlers&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>nothing works.</p>\n<p>Can someone help with that ? :)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9277,"page":946,"page_size":100}
