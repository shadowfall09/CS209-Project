{"items":[{"tags":["java","ssl","ftp","ftps"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1697211413,"creation_date":1459342612,"answer_id":36309570,"question_id":36302985,"body_markdown":"*The `SimpleFTP` class/library does not support TLS/SSL at all.*\r\n\r\n---\r\n\r\nUse the [`FTPSClient` class](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html) from the [Apache Commons Net library](https://commons.apache.org/proper/commons-net/) instead.\r\n\r\nSee the [official example for the `FTPClient` class](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html) and just substitute the `FTPClient` with the `FTPSClient`.\r\n\r\n    FTPSClient ftpClient = new FTPSClient();\r\n    ftpClient.connect(host);\r\n    ftpClient.login(user, password);\r\n\r\n---\r\n\r\nThe `FTPSClient` class defaults to an explicit TLS/SSL (recommended). In a rare case you need an implicit TLS/SSL, use [`new FTPSClient(true)`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#%3Cinit%3E(boolean)).","title":"How to connect to FTP over TLS/SSL (FTPS) server in Java","body":"<p><em>The <code>SimpleFTP</code> class/library does not support TLS/SSL at all.</em></p>\n<hr />\n<p>Use the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html\" rel=\"nofollow noreferrer\"><code>FTPSClient</code> class</a> from the <a href=\"https://commons.apache.org/proper/commons-net/\" rel=\"nofollow noreferrer\">Apache Commons Net library</a> instead.</p>\n<p>See the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\">official example for the <code>FTPClient</code> class</a> and just substitute the <code>FTPClient</code> with the <code>FTPSClient</code>.</p>\n<pre><code>FTPSClient ftpClient = new FTPSClient();\nftpClient.connect(host);\nftpClient.login(user, password);\n</code></pre>\n<hr />\n<p>The <code>FTPSClient</code> class defaults to an explicit TLS/SSL (recommended). In a rare case you need an implicit TLS/SSL, use <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#%3Cinit%3E(boolean)\" rel=\"nofollow noreferrer\"><code>new FTPSClient(true)</code></a>.</p>\n"}],"owner":{"account_id":7072178,"reputation":276,"user_id":5413426,"accept_rate":100,"display_name":"Abdul Rafay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56622,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":36309570,"answer_count":1,"score":13,"last_activity_date":1697211413,"creation_date":1459325000,"question_id":36302985,"body_markdown":"I&#39;m stuck in connecting to FTP over TLS/SSL (FTPS) server. I am using SimpleFTP library through am able to connect FTP server without SSL but could not connect FTPS.\r\n\r\nIt is giving me this error at line 2 (ftp.connect),\r\n\r\n&gt; SimpleFTP received an unknown response when connecting to the FTP server:   \r\n&gt; 220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------\r\n\r\nand am using below code\r\n\r\n    SimpleFTP ftp = new SimpleFTP();\r\n\r\n    // Connect to an FTP server on port 21.\r\n    ftp.connect(&quot;xxx.xxx.xxx.xxx&quot;, 21, &quot;username&quot;, &quot;pwd&quot;);\r\n    //getting error at (ftp.connect) above line\r\n \r\n    // Set binary mode.\r\n    ftp.bin();\r\n\r\n    // Change to a new working directory on the FTP server.\r\n    ftp.cwd(&quot;web&quot;);\r\n    ftp.disconnect();\r\n\r\n","title":"How to connect to FTP over TLS/SSL (FTPS) server in Java","body":"<p>I'm stuck in connecting to FTP over TLS/SSL (FTPS) server. I am using SimpleFTP library through am able to connect FTP server without SSL but could not connect FTPS.</p>\n\n<p>It is giving me this error at line 2 (ftp.connect),</p>\n\n<blockquote>\n  <p>SimpleFTP received an unknown response when connecting to the FTP server:<br>\n  220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------</p>\n</blockquote>\n\n<p>and am using below code</p>\n\n<pre><code>SimpleFTP ftp = new SimpleFTP();\n\n// Connect to an FTP server on port 21.\nftp.connect(\"xxx.xxx.xxx.xxx\", 21, \"username\", \"pwd\");\n//getting error at (ftp.connect) above line\n\n// Set binary mode.\nftp.bin();\n\n// Change to a new working directory on the FTP server.\nftp.cwd(\"web\");\nftp.disconnect();\n</code></pre>\n"},{"tags":["java","linux","exec","runtime.exec"],"answers":[{"comments":[{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1278450491,"post_id":3190236,"comment_id":3286355,"body_markdown":"you can remove the characters &quot;new String[]&quot;; the braces will automatically produce a string array for you.","body":"you can remove the characters &quot;new String[]&quot;; the braces will automatically produce a string array for you."},{"owner":{"account_id":163085,"reputation":317,"user_id":384973,"accept_rate":33,"display_name":"Slava Markeyev"},"score":1,"creation_date":1278451891,"post_id":3190236,"comment_id":3286535,"body_markdown":"This won&#39;t work as \n\nrtmp://127.0.0.1/vod/sample start=xxx stop=xxx\n\nhas to have quotes around it. Putting the argument in a string array doesn&#39;t help.","body":"This won&#39;t work as   rtmp://127.0.0.1/vod/sample start=xxx stop=xxx  has to have quotes around it. Putting the argument in a string array doesn&#39;t help."},{"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"score":0,"creation_date":1278453438,"post_id":3190236,"comment_id":3286732,"body_markdown":"Sorry, doesn&#39;t it help if you put escaped quotes, as follows: &quot;\\&quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000\\&quot;&quot;","body":"Sorry, doesn&#39;t it help if you put escaped quotes, as follows: &quot;\\&quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000\\&quot;&quot;"},{"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"score":0,"creation_date":1278453635,"post_id":3190236,"comment_id":3286752,"body_markdown":"I&#39;m on a Windows box right now, but I&#39;ll get it working tomorrow and let you know ..","body":"I&#39;m on a Windows box right now, but I&#39;ll get it working tomorrow and let you know .."},{"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"score":2,"creation_date":1278453782,"post_id":3190236,"comment_id":3286773,"body_markdown":"In the meantime, you could always simplify the call by wrapping the call in a shell script (which expects args $1, $2, $3)","body":"In the meantime, you could always simplify the call by wrapping the call in a shell script (which expects args $1, $2, $3)"},{"owner":{"account_id":163085,"reputation":317,"user_id":384973,"accept_rate":33,"display_name":"Slava Markeyev"},"score":0,"creation_date":1278456385,"post_id":3190236,"comment_id":3287057,"body_markdown":"Thank you amir75. Doing it via the shell script as you suggested works. This doesn&#39;t solve the problem with exec and quotes but I&#39;m happy. If you find a solution post back as I know others have had the same problem and might not be able to use shell scripts for whatever reason.","body":"Thank you amir75. Doing it via the shell script as you suggested works. This doesn&#39;t solve the problem with exec and quotes but I&#39;m happy. If you find a solution post back as I know others have had the same problem and might not be able to use shell scripts for whatever reason."}],"tags":[],"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357164298,"creation_date":1278450338,"answer_id":3190236,"question_id":3190190,"body_markdown":"Make an array!\r\n\r\nexec can take an array of strings, which are used as an array of command &amp; arguments (as opposed to an array of commands)\r\n\r\nSomething like this ...\r\n\r\n    String[] arguments = new String[] { &quot;ffmpeg&quot;, \r\n    &quot;-i&quot;, \r\n    &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot;,\r\n    &quot;-re&quot;,\r\n    ...\r\n    };","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>Make an array!</p>\n\n<p>exec can take an array of strings, which are used as an array of command &amp; arguments (as opposed to an array of commands)</p>\n\n<p>Something like this ...</p>\n\n<pre><code>String[] arguments = new String[] { \"ffmpeg\", \n\"-i\", \n\"rtmp://127.0.0.1/vod/sample start=1500 stop=24000\",\n\"-re\",\n...\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278452721,"creation_date":1278452721,"answer_id":3190478,"question_id":3190190,"body_markdown":"It sounds like you need to escape quotes inside your argument string. This is simple enough to do with a preceding backslash.\r\n\r\nE.g.\r\n\r\n    String containsQuote = &quot;\\&quot;&quot;;\r\n\r\nThis will evaluate to a string containing just the quote character.\r\n\r\nOr in your particular case:\r\n\r\n    String argument = &quot;ffmpeg -i \\&quot;rtmp://127.0.0.1/vod/&quot;\r\n              + nextVideo.getFilename()\r\n              + &quot; start=&quot; + nextVideo.getStart()\r\n              + &quot; stop=&quot; + nextVideo.getStop() + &quot;\\&quot;&quot;\r\n              + &quot; -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv&quot;;\r\n\r\n","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>It sounds like you need to escape quotes inside your argument string. This is simple enough to do with a preceding backslash.</p>\n\n<p>E.g.</p>\n\n<pre><code>String containsQuote = \"\\\"\";\n</code></pre>\n\n<p>This will evaluate to a string containing just the quote character.</p>\n\n<p>Or in your particular case:</p>\n\n<pre><code>String argument = \"ffmpeg -i \\\"rtmp://127.0.0.1/vod/\"\n          + nextVideo.getFilename()\n          + \" start=\" + nextVideo.getStart()\n          + \" stop=\" + nextVideo.getStop() + \"\\\"\"\n          + \" -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1863275,"reputation":1,"user_id":18591735,"display_name":"francogrex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697211357,"creation_date":1697207826,"answer_id":77288614,"question_id":3190190,"body_markdown":"I bet none of the suggestions worked for you because as you had specified, &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot; has to have quotes around it and passing a parameter argument to exec with quotes such as &quot;\\\\&quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000\\\\&quot;&quot; won&#39;t do the trick because exec will ignore them, even if inside a String[] array. I don&#39;t think there is a straightforward solution unfortunately. What I had done in my own code was try to pass arguments that exec can handle and on the receiving end the program side transform them so that they can be processed adequately. ","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>I bet none of the suggestions worked for you because as you had specified, &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot; has to have quotes around it and passing a parameter argument to exec with quotes such as &quot;\\&quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000\\&quot;&quot; won't do the trick because exec will ignore them, even if inside a String[] array. I don't think there is a straightforward solution unfortunately. What I had done in my own code was try to pass arguments that exec can handle and on the receiving end the program side transform them so that they can be processed adequately.</p>\n"}],"owner":{"account_id":163085,"reputation":317,"user_id":384973,"accept_rate":33,"display_name":"Slava Markeyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4590,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1697211357,"creation_date":1278449955,"question_id":3190190,"body_markdown":"I am trying to run ffmpeg via the exec call on linux. However I have to use quotes in the command (ffmpeg requires it). I&#39;ve been looking through the java doc for processbuilder and exec and questions on stackoverflow but I can&#39;t seem to find a solution.\r\n\r\nI need to run \r\n\r\n    ffmpeg -i &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot; -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\r\n\r\nI need to insert quotes into the below argument string. Note simply adding single or double quotes preceded by a backslash doesn&#39;t work due to the nature of how processbuilder parses and runs the commands.\r\n\r\n    String argument = &quot;ffmpeg -i rtmp://127.0.0.1/vod/&quot;\r\n\t\t\t\t\t\t+ nextVideo.getFilename()\r\n\t\t\t\t\t\t+ &quot; start=&quot; + nextVideo.getStart()\r\n\t\t\t\t\t\t+ &quot; stop=&quot; + nextVideo.getStop()\r\n\t\t\t\t\t\t+ &quot; -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv&quot;;\r\n\r\n\r\nAny help would be greatly appreciated.","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>I am trying to run ffmpeg via the exec call on linux. However I have to use quotes in the command (ffmpeg requires it). I've been looking through the java doc for processbuilder and exec and questions on stackoverflow but I can't seem to find a solution.</p>\n\n<p>I need to run </p>\n\n<pre><code>ffmpeg -i \"rtmp://127.0.0.1/vod/sample start=1500 stop=24000\" -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\n</code></pre>\n\n<p>I need to insert quotes into the below argument string. Note simply adding single or double quotes preceded by a backslash doesn't work due to the nature of how processbuilder parses and runs the commands.</p>\n\n<pre><code>String argument = \"ffmpeg -i rtmp://127.0.0.1/vod/\"\n                    + nextVideo.getFilename()\n                    + \" start=\" + nextVideo.getStart()\n                    + \" stop=\" + nextVideo.getStop()\n                    + \" -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\";\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","ftp","ftps","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":15648991,"reputation":53,"user_id":11290716,"display_name":"Damien Tacheron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610053359,"creation_date":1610053359,"answer_id":65619896,"question_id":65600765,"body_markdown":"Thanks to Martin Prikryl&lt;br&gt;\r\nThere was two problems :\r\n\r\n 1. apache-commons-net doesn&#39;t manage ssl session reuse. There are some hacks documented (see comments)\r\n 2. don&#39;t call sendCommand(&quot;xxx&quot;) but use api verbs (eg. execProt, not sendCommand&quot;PROT&quot;, or enterLocalPassiveMode, not sendCommand(&quot;PASV&quot;)\r\n\r\n","title":"Fail to get remote data (passive mode, TLS implicit, client certificate + login/pwd authentication)","body":"<p>Thanks to Martin Prikryl<br>\nThere was two problems :</p>\n<ol>\n<li>apache-commons-net doesn't manage ssl session reuse. There are some hacks documented (see comments)</li>\n<li>don't call sendCommand(&quot;xxx&quot;) but use api verbs (eg. execProt, not sendCommand&quot;PROT&quot;, or enterLocalPassiveMode, not sendCommand(&quot;PASV&quot;)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697211254,"creation_date":1610091943,"answer_id":65625144,"question_id":65600765,"body_markdown":"You have mismatch in data connection encryption by sending `PROT P` command to the server.\r\n\r\nAs you only send the command to the server using the [`FTP.sendCommand`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTP.html#sendCommand(java.lang.String,java.lang.String)), the command affects the server only. But not the client (Apache Common `FTPClient`). So when starting the data connection, the server waits for TLS/SSL exchange, but the client does not respond, as it is only expecting plain data. That&#39;s why the connection hangs.\r\n\r\nYou have to call [`FTPClient.execPROT(&quot;P&quot;)`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPROT(java.lang.String)). It internally calls `FTP.sendCommand(&quot;PROT&quot;, &quot;P&quot;)`, but it also *enables the encryption on the client side*.\r\n\r\n---\r\n\r\nSimilarly you should use `FTPSClient.execPBSZ` instead of sending raw `PBSZ 0`. Though currently, the [`FTPSClient.execPBSZ`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPBSZ(long)) does not do anything on top of calling `FTP.sendCommand(&quot;PBSZ&quot;, ...)` (apart from checking results).\r\n\r\n---\r\n\r\nWinSCP also reuses the session ID. If that is required by your server, see:  \r\nhttps://stackoverflow.com/q/32398754/850848","title":"Fail to get remote data (passive mode, TLS implicit, client certificate + login/pwd authentication)","body":"<p>You have mismatch in data connection encryption by sending <code>PROT P</code> command to the server.</p>\n<p>As you only send the command to the server using the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTP.html#sendCommand(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTP.sendCommand</code></a>, the command affects the server only. But not the client (Apache Common <code>FTPClient</code>). So when starting the data connection, the server waits for TLS/SSL exchange, but the client does not respond, as it is only expecting plain data. That's why the connection hangs.</p>\n<p>You have to call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPROT(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.execPROT(&quot;P&quot;)</code></a>. It internally calls <code>FTP.sendCommand(&quot;PROT&quot;, &quot;P&quot;)</code>, but it also <em>enables the encryption on the client side</em>.</p>\n<hr />\n<p>Similarly you should use <code>FTPSClient.execPBSZ</code> instead of sending raw <code>PBSZ 0</code>. Though currently, the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPBSZ(long)\" rel=\"nofollow noreferrer\"><code>FTPSClient.execPBSZ</code></a> does not do anything on top of calling <code>FTP.sendCommand(&quot;PBSZ&quot;, ...)</code> (apart from checking results).</p>\n<hr />\n<p>WinSCP also reuses the session ID. If that is required by your server, see:<br />\n<a href=\"https://stackoverflow.com/q/32398754/850848\">How to connect to FTPS server with data connection using same TLS session?</a></p>\n"}],"owner":{"account_id":15648991,"reputation":53,"user_id":11290716,"display_name":"Damien Tacheron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65625144,"answer_count":2,"score":2,"last_activity_date":1697211254,"creation_date":1609955069,"question_id":65600765,"body_markdown":"I try to connect with a FTP server with apache-commons-net-3.7.2 (implicit TLS, double factor authentication with client cert + login/password).\r\n\r\nI can authenticate myself, enter in passive mode, but the client doesn&#39;t succeed in connecting to the server in order to get data by the data socket.\r\n\r\nI can connect myself, on the same computer, with WinSCP (same settings), I have activated WinSCP logs to see protocol details, and I have adjusted my source code with the same options. I can verify that my protocol is OK with a ProtocolCommandListener.\r\n\r\nWinSCP logs are below\r\n\r\nConnect and browse root directory  \r\nChiffrement : Chiffrement SSL/TLS implicite  \r\nVersion min TLS/SSL : TLS 1.0  \r\nVersion max TLS/SSL : TLS 1.2  \r\n***R&#233;utiliser l&#39;ID de session TLS/SL pour le connexions de donn&#233;es activ&#233;***  \r\n(reuse ssl session id for data connexions activated)\r\n\r\nI use the same certificate as for my Java (PFX format with WinSCP, JCEKS for Java, which is Java 8)\r\n\r\n```none\r\n. 2021-01-07 15:36:03.031 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.032 WinSCP Version 5.17.9 (Compilation 10905) (OS 10.0.19041 - Windows 10 Enterprise)\r\n. 2021-01-07 15:36:03.032 Configuration: HKCU\\Software\\Martin Prikryl\\WinSCP 2\\\r\n. 2021-01-07 15:36:03.032 Log level: Normal\r\n. 2021-01-07 15:36:03.032 Local account: FANLESS\\damie\r\n. 2021-01-07 15:36:03.032 Working directory: C:\\Users\\damie\\Desktop\r\n. 2021-01-07 15:36:03.032 Process ID: 22344\r\n. 2021-01-07 15:36:03.033 Command-line: &quot;C:\\Program Files (x86)\\WinSCP\\WinSCP.exe&quot; &quot;xxxxxx&quot; /Desktop /UploadIfAny /log=&quot;d:\\temp\\debugftp.log&quot; /loglevel=0\r\n. 2021-01-07 15:36:03.033 Time zone: Current: GMT+1, Standard: GMT+1 (Paris, Madrid), DST: GMT+2 (Paris, Madrid (heure d’&#233;t&#233;)), DST Start: 28/03/2021, DST End: 31/10/2021\r\n. 2021-01-07 15:36:03.033 Login time: jeudi 7 janvier 2021 15:36:03\r\n. 2021-01-07 15:36:03.033 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.033 Session name: XXX@XXX (Site)\r\n. 2021-01-07 15:36:03.034 Host name: XXX (Port: 999)\r\n. 2021-01-07 15:36:03.034 User name: XXX (Password: Yes, Key file: No, Passphrase: No)\r\n. 2021-01-07 15:36:03.034 Transfer Protocol: FTP\r\n. 2021-01-07 15:36:03.034 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\r\n. 2021-01-07 15:36:03.034 Disable Nagle: No\r\n. 2021-01-07 15:36:03.034 Proxy: None\r\n. 2021-01-07 15:36:03.034 Send buffer: 262144\r\n. 2021-01-07 15:36:03.034 UTF: Auto\r\n. 2021-01-07 15:36:03.034 FTPS: Implicit TLS/SSL [Client certificate: Yes]\r\n. 2021-01-07 15:36:03.034 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\r\n. 2021-01-07 15:36:03.034 Session reuse: Yes\r\n. 2021-01-07 15:36:03.034 TLS/SSL versions: TLSv1.0-TLSv1.2\r\n. 2021-01-07 15:36:03.034 Local directory: D:\\Local\\Documents, Remote directory: /, Update: Yes, Cache: Yes\r\n. 2021-01-07 15:36:03.034 Cache directory changes: Yes, Permanent: Yes\r\n. 2021-01-07 15:36:03.034 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \r\n. 2021-01-07 15:36:03.034 Timezone offset: 0h 0m\r\n. 2021-01-07 15:36:03.034 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.381 Connexion &#224; XXX:999...\r\n. 2021-01-07 15:36:03.382 Connect&#233; &#224; XXX:999, n&#233;gociation de la connexion SSL...\r\n. 2021-01-07 15:36:03.382 Server asks for authentication with a client certificate.\r\n. 2021-01-07 15:36:03.382 Verifying certificate for &quot;RESEAU GDS&quot; with fingerprint 58:12:03:0e:b3:dd:cc:d9:c4:a1:ce:a0:4a:d8:83:77:46:0b:9e:4c and 20 failures\r\n. 2021-01-07 15:36:03.382 Certificate common name &quot;XXX&quot; matches hostname\r\n. 2021-01-07 15:36:03.463 Certificate verified against Windows certificate store\r\n. 2021-01-07 15:36:03.463 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n. 2021-01-07 15:36:03.479 Connexion SSL &#233;tablie. En attente du message de bienvenue...\r\n&lt; 2021-01-07 15:36:03.479 220 w2003-ftp X2 WS_FTP Server 7.7(73371983)\r\n&gt; 2021-01-07 15:36:03.479 USER XXX\r\n&lt; 2021-01-07 15:36:03.483 331 Enter password\r\n&gt; 2021-01-07 15:36:03.483 PASS ********************\r\n&lt; 2021-01-07 15:36:03.533 230-User logged in\r\n&lt; 2021-01-07 15:36:03.533  Bonjour Serveur FTP de ReseauGDS\r\n&lt; 2021-01-07 15:36:03.533 230 User logged in\r\n&gt; 2021-01-07 15:36:03.533 SYST\r\n&lt; 2021-01-07 15:36:03.548 215 UNIX\r\n&gt; 2021-01-07 15:36:03.548 FEAT\r\n&lt; 2021-01-07 15:36:03.567 211-Extensions supported\r\n&lt; 2021-01-07 15:36:03.567     SIZE\r\n&lt; 2021-01-07 15:36:03.567     XMD5\r\n&lt; 2021-01-07 15:36:03.567     XSHA1\r\n&lt; 2021-01-07 15:36:03.567     XSHA256\r\n&lt; 2021-01-07 15:36:03.567     XSHA512\r\n&lt; 2021-01-07 15:36:03.567     XQUOTA\r\n&lt; 2021-01-07 15:36:03.567     LANG EN, ES, FR, GE\r\n&lt; 2021-01-07 15:36:03.567     MDTM\r\n&lt; 2021-01-07 15:36:03.567     MLST size*;type*;perm*;create*;modify*;\r\n&lt; 2021-01-07 15:36:03.567     REST STREAM\r\n&lt; 2021-01-07 15:36:03.567     TVFS\r\n&lt; 2021-01-07 15:36:03.567     UTF8\r\n&lt; 2021-01-07 15:36:03.568     AUTH SSL;TLS-P;\r\n&lt; 2021-01-07 15:36:03.568     PBSZ\r\n&lt; 2021-01-07 15:36:03.568     PROT C;P;\r\n&lt; 2021-01-07 15:36:03.568 211 end\r\n&gt; 2021-01-07 15:36:03.568 OPTS UTF8 ON\r\n&lt; 2021-01-07 15:36:03.584 200 Command OPTS succeed\r\n&gt; 2021-01-07 15:36:03.584 PBSZ 0\r\n&lt; 2021-01-07 15:36:03.598 200 PBSZ=0\r\n&gt; 2021-01-07 15:36:03.598 PROT P\r\n&lt; 2021-01-07 15:36:03.615 200 PRIVATE data channel protection level set\r\n. 2021-01-07 15:36:03.664 Connect&#233;\r\n. 2021-01-07 15:36:03.664 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.664 Using FTP protocol.\r\n. 2021-01-07 15:36:03.664 Doing startup conversation with host.\r\n&gt; 2021-01-07 15:36:03.679 PWD\r\n&lt; 2021-01-07 15:36:03.694 257 &quot;/&quot; is current directory\r\n. 2021-01-07 15:36:03.694 Changing directory to &quot;/&quot;.\r\n&gt; 2021-01-07 15:36:03.695 CWD /\r\n&lt; 2021-01-07 15:36:03.723 250 Command CWD succeed\r\n. 2021-01-07 15:36:03.723 Getting current directory name.\r\n&gt; 2021-01-07 15:36:03.723 PWD\r\n&lt; 2021-01-07 15:36:03.740 257 &quot;/&quot; is current directory\r\n. 2021-01-07 15:36:03.787 Listage du r&#233;pertoire en cours...\r\n&gt; 2021-01-07 15:36:03.787 TYPE A\r\n&lt; 2021-01-07 15:36:03.802 200 Transfer mode set to ASCII\r\n&gt; 2021-01-07 15:36:03.802 PASV\r\n&lt; 2021-01-07 15:36:03.817 227 Entering Passive Mode (192,168,4,122,235,142).\r\n. 2021-01-07 15:36:03.817 Server sent passive reply with unroutable address 192.168.4.122, using host address instead.\r\n&gt; 2021-01-07 15:36:03.817 MLSD\r\n. 2021-01-07 15:36:03.817 Connexion &#224; 83.XXX.XXX.XXX:60302...\r\n&lt; 2021-01-07 15:36:03.845 150 Transferring directory\r\n. 2021-01-07 15:36:03.846 Session ID reused\r\n. 2021-01-07 15:36:03.847 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n. 2021-01-07 15:36:03.847 Connexion SSL &#233;tablie\r\n&lt; 2021-01-07 15:36:03.869 226 Transfer completed\r\n. 2021-01-07 15:36:03.869 Data connection closed\r\n. 2021-01-07 15:36:03.869 size=0;type=cdir;create=20200623122630;modify=20201020142437; .\r\n. 2021-01-07 15:36:03.869 size=0;type=pdir;create=20160308132406;modify=20200812101755; ..\r\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141336;modify=20201208104858; Mensuel\r\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141315;modify=20210107105026; Quotidien\r\n. 2021-01-07 15:36:03.869 Listage du r&#233;pertoire r&#233;ussi\r\n. 2021-01-07 15:36:03.870 ..;D;0;1899-12-30T01:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n. 2021-01-07 15:36:03.870 Mensuel;D;0;2020-12-08T10:48:58.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n. 2021-01-07 15:36:03.870 Quotidien;D;0;2021-01-07T10:50:26.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n. 2021-01-07 15:36:03.893 Startup conversation with host finished.\r\n```\r\n\r\nJava code extract below. You can see that I use a ProtocolCommandListener in order to output the protocol details\r\n\r\n```java\r\n\tpublic static void main(String[] args) throws SocketException, IOException, GeneralSecurityException {\r\n\r\n\t\tString hostname = args[0];\r\n\t\tint port = Integer.parseInt(args[1]);\r\n\t\tString login = args[2];\r\n\t\tString pwd = args[3];\r\n\t\t\r\n\t\tSystem.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\t\t\r\n\r\n\t\t//CompliantFTPSClient client = new CompliantFTPSClient(&quot;TLS&quot;, true);\r\n\t\tFTPSClient client = new FTPSClient(&quot;TLS&quot;, true);\r\n\t\t\r\n\t\tFile clientCertStore = new File(\r\n\t\t\t\t&quot;path to store&quot;);\r\n\t\tKeyManager keyManager = KeyManagerUtils.createClientKeyManager(&quot;JCEKS&quot;, clientCertStore, &quot;&quot;,\r\n\t\t\t\t&quot;alias&quot;, &quot;&quot;);\r\n\t\tclient.setKeyManager(keyManager);\r\n\r\n\t\tclient.connect(hostname, port);\r\n\t\tint reply = client.getReplyCode();\r\n\r\n\t\tif (!FTPReply.isPositiveCompletion(reply)) {\r\n\t\t\tclient.disconnect();\r\n\t\t\tSystem.err.println(&quot;FTP server refused connection.&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t} else {\r\n\t\t\tif (client.login(login, pwd)) {\r\n\r\n\t\t\t\tclient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.err), true));\r\n\t\t\t\tclient.sendCommand(&quot;OPTS&quot;, &quot;UTF8 ON&quot;);\r\n\t\t\t\tclient.sendCommand(&quot;PBSZ&quot;, &quot;0&quot;);\r\n\t\t\t\tclient.sendCommand(&quot;PROT&quot;, &quot;P&quot;);\r\n\r\n\t\t\t\tclient.enterLocalPassiveMode();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Current directory : &quot;+client.printWorkingDirectory());\r\n\r\n\t\t\t\tSystem.out.println(client.listHelp());\r\n\r\n\t\t\t\tFTPFile[] remoteFiles = client.mlistDir();\r\n\r\n\t\t\t\treply = client.getReplyCode();\r\n\t\t\t\tSystem.out.println(&quot;fichiers : &quot;+reply);\r\n\t\t\t\tSystem.out.println(&quot;nombre : &quot;+remoteFiles.length);\r\n\r\n\t\t\t\tSystem.out.println(&quot;LOGOUT&quot;);\r\n\t\t\t\tclient.logout();\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;echec login&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nJava detailed logs below (system.err and System.out):\r\n\r\n```none\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nAVERTISSEMENT: Signature algorithm, ed25519, is not supported by the underlying providers\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nAVERTISSEMENT: Signature algorithm, ed448, is not supported by the underlying providers\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nINFOS: No available application protocols\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nAVERTISSEMENT: Ignore impact of unsupported extension: renegotiation_info\r\nOPTS UTF8 ON\r\n200 Command OPTS succeed\r\nPBSZ 0\r\n200 PBSZ=0\r\nPROT P\r\n200 PRIVATE data channel protection level set\r\nPWD\r\n257 &quot;/&quot; is current directory\r\nCurrent directory : /\r\nHELP\r\n214-The following commands are implemented\r\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\r\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\r\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\r\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\r\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\r\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\r\n214 Help complete\r\n\r\n214-The following commands are implemented\r\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\r\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\r\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\r\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\r\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\r\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\r\n214 Help complete\r\nPASV\r\n227 Entering Passive Mode (192,168,4,122,236,242).\r\n[Replacing PASV mode reply address 192.168.4.122 with 83.206.162.234]\r\nMLSD\r\n150 Transferring directory\r\n```\r\n\r\nThe MLSD command never replies.\r\n\r\nPerhaps the problem is with ssl session id reuse? It seems that this is a known issue with apache-commons-net, cf https://www.javaer101.com/en/article/970693.html\r\n\r\nI asked the FTP admin if this is activated on his side. He said &quot;yes&quot;, this is a &quot;&quot;ipswitch ftp server&quot;. We planned a debug session on Monday the 11th.\r\n\r\nI also tried the workaround that Martin Prikryl indicated to me, subclassing `FTPSClient` and overloading the `prepareDataSocket` method, but it doesn&#39;t work. The socket passed to the method is not a SSLSocket, so nothings happens (first test).\r\n\r\nThe code:\r\n```java\r\npublic class CompliantFTPSClient extends FTPSClient {\r\n\r\n\tpublic CompliantFTPSClient(String protocol, boolean isImplicit) {\r\n\t\tsuper(protocol, isImplicit);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void _prepareDataSocket_(Socket socket) throws IOException {\r\n\t\tif (socket instanceof SSLSocket) {\r\n\t\t\t// Control socket is SSL\r\n\t\t\tfinal SSLSession session = ((SSLSocket) _socket_).getSession();\r\n\t\t\tif (session.isValid()) {\r\n\t\t\t\tfinal SSLSessionContext context = session.getSessionContext();\r\n\t\t\t\tcontext.setSessionCacheSize(0);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n\t\t\t\t\tsessionHostPortCache.setAccessible(true);\r\n\t\t\t\t\tfinal Object cache = sessionHostPortCache.get(context);\r\n\t\t\t\t\tfinal Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n\t\t\t\t\tmethod.setAccessible(true);\r\n\t\t\t\t\tmethod.invoke(cache, String\r\n\t\t\t\t\t\t\t.format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\r\n\t\t\t\t\t\t\t.toLowerCase(Locale.ROOT), session);\r\n\t\t\t\t\tmethod.invoke(cache, String\r\n\t\t\t\t\t\t\t.format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\r\n\t\t\t\t\t\t\t.toLowerCase(Locale.ROOT), session);\r\n\t\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\t\tSystem.err.println(&quot;WARN : No field sessionHostPortCache in SSLSessionContext&quot;);\r\n\t\t\t\t\te.printStackTrace(System.err);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.err.println(&quot;WARN : &quot; + e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhat I&#39;m trying to do: Just recursively browse directory on server, list files, and download some files, the kind of things that usually I can do in a few minutes in SFTP or SCP. But in FTPS with this API, this is just painful.\r\n\r\n\r\n","title":"Fail to get remote data (passive mode, TLS implicit, client certificate + login/pwd authentication)","body":"<p>I try to connect with a FTP server with apache-commons-net-3.7.2 (implicit TLS, double factor authentication with client cert + login/password).</p>\n<p>I can authenticate myself, enter in passive mode, but the client doesn't succeed in connecting to the server in order to get data by the data socket.</p>\n<p>I can connect myself, on the same computer, with WinSCP (same settings), I have activated WinSCP logs to see protocol details, and I have adjusted my source code with the same options. I can verify that my protocol is OK with a ProtocolCommandListener.</p>\n<p>WinSCP logs are below</p>\n<p>Connect and browse root directory<br />\nChiffrement : Chiffrement SSL/TLS implicite<br />\nVersion min TLS/SSL : TLS 1.0<br />\nVersion max TLS/SSL : TLS 1.2<br />\n<em><strong>Réutiliser l'ID de session TLS/SL pour le connexions de données activé</strong></em><br />\n(reuse ssl session id for data connexions activated)</p>\n<p>I use the same certificate as for my Java (PFX format with WinSCP, JCEKS for Java, which is Java 8)</p>\n<pre class=\"lang-none prettyprint-override\"><code>. 2021-01-07 15:36:03.031 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.032 WinSCP Version 5.17.9 (Compilation 10905) (OS 10.0.19041 - Windows 10 Enterprise)\n. 2021-01-07 15:36:03.032 Configuration: HKCU\\Software\\Martin Prikryl\\WinSCP 2\\\n. 2021-01-07 15:36:03.032 Log level: Normal\n. 2021-01-07 15:36:03.032 Local account: FANLESS\\damie\n. 2021-01-07 15:36:03.032 Working directory: C:\\Users\\damie\\Desktop\n. 2021-01-07 15:36:03.032 Process ID: 22344\n. 2021-01-07 15:36:03.033 Command-line: &quot;C:\\Program Files (x86)\\WinSCP\\WinSCP.exe&quot; &quot;xxxxxx&quot; /Desktop /UploadIfAny /log=&quot;d:\\temp\\debugftp.log&quot; /loglevel=0\n. 2021-01-07 15:36:03.033 Time zone: Current: GMT+1, Standard: GMT+1 (Paris, Madrid), DST: GMT+2 (Paris, Madrid (heure d’été)), DST Start: 28/03/2021, DST End: 31/10/2021\n. 2021-01-07 15:36:03.033 Login time: jeudi 7 janvier 2021 15:36:03\n. 2021-01-07 15:36:03.033 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.033 Session name: XXX@XXX (Site)\n. 2021-01-07 15:36:03.034 Host name: XXX (Port: 999)\n. 2021-01-07 15:36:03.034 User name: XXX (Password: Yes, Key file: No, Passphrase: No)\n. 2021-01-07 15:36:03.034 Transfer Protocol: FTP\n. 2021-01-07 15:36:03.034 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\n. 2021-01-07 15:36:03.034 Disable Nagle: No\n. 2021-01-07 15:36:03.034 Proxy: None\n. 2021-01-07 15:36:03.034 Send buffer: 262144\n. 2021-01-07 15:36:03.034 UTF: Auto\n. 2021-01-07 15:36:03.034 FTPS: Implicit TLS/SSL [Client certificate: Yes]\n. 2021-01-07 15:36:03.034 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\n. 2021-01-07 15:36:03.034 Session reuse: Yes\n. 2021-01-07 15:36:03.034 TLS/SSL versions: TLSv1.0-TLSv1.2\n. 2021-01-07 15:36:03.034 Local directory: D:\\Local\\Documents, Remote directory: /, Update: Yes, Cache: Yes\n. 2021-01-07 15:36:03.034 Cache directory changes: Yes, Permanent: Yes\n. 2021-01-07 15:36:03.034 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \n. 2021-01-07 15:36:03.034 Timezone offset: 0h 0m\n. 2021-01-07 15:36:03.034 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.381 Connexion à XXX:999...\n. 2021-01-07 15:36:03.382 Connecté à XXX:999, négociation de la connexion SSL...\n. 2021-01-07 15:36:03.382 Server asks for authentication with a client certificate.\n. 2021-01-07 15:36:03.382 Verifying certificate for &quot;RESEAU GDS&quot; with fingerprint 58:12:03:0e:b3:dd:cc:d9:c4:a1:ce:a0:4a:d8:83:77:46:0b:9e:4c and 20 failures\n. 2021-01-07 15:36:03.382 Certificate common name &quot;XXX&quot; matches hostname\n. 2021-01-07 15:36:03.463 Certificate verified against Windows certificate store\n. 2021-01-07 15:36:03.463 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\n. 2021-01-07 15:36:03.479 Connexion SSL établie. En attente du message de bienvenue...\n&lt; 2021-01-07 15:36:03.479 220 w2003-ftp X2 WS_FTP Server 7.7(73371983)\n&gt; 2021-01-07 15:36:03.479 USER XXX\n&lt; 2021-01-07 15:36:03.483 331 Enter password\n&gt; 2021-01-07 15:36:03.483 PASS ********************\n&lt; 2021-01-07 15:36:03.533 230-User logged in\n&lt; 2021-01-07 15:36:03.533  Bonjour Serveur FTP de ReseauGDS\n&lt; 2021-01-07 15:36:03.533 230 User logged in\n&gt; 2021-01-07 15:36:03.533 SYST\n&lt; 2021-01-07 15:36:03.548 215 UNIX\n&gt; 2021-01-07 15:36:03.548 FEAT\n&lt; 2021-01-07 15:36:03.567 211-Extensions supported\n&lt; 2021-01-07 15:36:03.567     SIZE\n&lt; 2021-01-07 15:36:03.567     XMD5\n&lt; 2021-01-07 15:36:03.567     XSHA1\n&lt; 2021-01-07 15:36:03.567     XSHA256\n&lt; 2021-01-07 15:36:03.567     XSHA512\n&lt; 2021-01-07 15:36:03.567     XQUOTA\n&lt; 2021-01-07 15:36:03.567     LANG EN, ES, FR, GE\n&lt; 2021-01-07 15:36:03.567     MDTM\n&lt; 2021-01-07 15:36:03.567     MLST size*;type*;perm*;create*;modify*;\n&lt; 2021-01-07 15:36:03.567     REST STREAM\n&lt; 2021-01-07 15:36:03.567     TVFS\n&lt; 2021-01-07 15:36:03.567     UTF8\n&lt; 2021-01-07 15:36:03.568     AUTH SSL;TLS-P;\n&lt; 2021-01-07 15:36:03.568     PBSZ\n&lt; 2021-01-07 15:36:03.568     PROT C;P;\n&lt; 2021-01-07 15:36:03.568 211 end\n&gt; 2021-01-07 15:36:03.568 OPTS UTF8 ON\n&lt; 2021-01-07 15:36:03.584 200 Command OPTS succeed\n&gt; 2021-01-07 15:36:03.584 PBSZ 0\n&lt; 2021-01-07 15:36:03.598 200 PBSZ=0\n&gt; 2021-01-07 15:36:03.598 PROT P\n&lt; 2021-01-07 15:36:03.615 200 PRIVATE data channel protection level set\n. 2021-01-07 15:36:03.664 Connecté\n. 2021-01-07 15:36:03.664 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.664 Using FTP protocol.\n. 2021-01-07 15:36:03.664 Doing startup conversation with host.\n&gt; 2021-01-07 15:36:03.679 PWD\n&lt; 2021-01-07 15:36:03.694 257 &quot;/&quot; is current directory\n. 2021-01-07 15:36:03.694 Changing directory to &quot;/&quot;.\n&gt; 2021-01-07 15:36:03.695 CWD /\n&lt; 2021-01-07 15:36:03.723 250 Command CWD succeed\n. 2021-01-07 15:36:03.723 Getting current directory name.\n&gt; 2021-01-07 15:36:03.723 PWD\n&lt; 2021-01-07 15:36:03.740 257 &quot;/&quot; is current directory\n. 2021-01-07 15:36:03.787 Listage du répertoire en cours...\n&gt; 2021-01-07 15:36:03.787 TYPE A\n&lt; 2021-01-07 15:36:03.802 200 Transfer mode set to ASCII\n&gt; 2021-01-07 15:36:03.802 PASV\n&lt; 2021-01-07 15:36:03.817 227 Entering Passive Mode (192,168,4,122,235,142).\n. 2021-01-07 15:36:03.817 Server sent passive reply with unroutable address 192.168.4.122, using host address instead.\n&gt; 2021-01-07 15:36:03.817 MLSD\n. 2021-01-07 15:36:03.817 Connexion à 83.XXX.XXX.XXX:60302...\n&lt; 2021-01-07 15:36:03.845 150 Transferring directory\n. 2021-01-07 15:36:03.846 Session ID reused\n. 2021-01-07 15:36:03.847 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\n. 2021-01-07 15:36:03.847 Connexion SSL établie\n&lt; 2021-01-07 15:36:03.869 226 Transfer completed\n. 2021-01-07 15:36:03.869 Data connection closed\n. 2021-01-07 15:36:03.869 size=0;type=cdir;create=20200623122630;modify=20201020142437; .\n. 2021-01-07 15:36:03.869 size=0;type=pdir;create=20160308132406;modify=20200812101755; ..\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141336;modify=20201208104858; Mensuel\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141315;modify=20210107105026; Quotidien\n. 2021-01-07 15:36:03.869 Listage du répertoire réussi\n. 2021-01-07 15:36:03.870 ..;D;0;1899-12-30T01:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\n. 2021-01-07 15:36:03.870 Mensuel;D;0;2020-12-08T10:48:58.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\n. 2021-01-07 15:36:03.870 Quotidien;D;0;2021-01-07T10:50:26.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\n. 2021-01-07 15:36:03.893 Startup conversation with host finished.\n</code></pre>\n<p>Java code extract below. You can see that I use a ProtocolCommandListener in order to output the protocol details</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws SocketException, IOException, GeneralSecurityException {\n\n        String hostname = args[0];\n        int port = Integer.parseInt(args[1]);\n        String login = args[2];\n        String pwd = args[3];\n        \n        System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);     \n\n        //CompliantFTPSClient client = new CompliantFTPSClient(&quot;TLS&quot;, true);\n        FTPSClient client = new FTPSClient(&quot;TLS&quot;, true);\n        \n        File clientCertStore = new File(\n                &quot;path to store&quot;);\n        KeyManager keyManager = KeyManagerUtils.createClientKeyManager(&quot;JCEKS&quot;, clientCertStore, &quot;&quot;,\n                &quot;alias&quot;, &quot;&quot;);\n        client.setKeyManager(keyManager);\n\n        client.connect(hostname, port);\n        int reply = client.getReplyCode();\n\n        if (!FTPReply.isPositiveCompletion(reply)) {\n            client.disconnect();\n            System.err.println(&quot;FTP server refused connection.&quot;);\n            System.exit(1);\n        } else {\n            if (client.login(login, pwd)) {\n\n                client.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.err), true));\n                client.sendCommand(&quot;OPTS&quot;, &quot;UTF8 ON&quot;);\n                client.sendCommand(&quot;PBSZ&quot;, &quot;0&quot;);\n                client.sendCommand(&quot;PROT&quot;, &quot;P&quot;);\n\n                client.enterLocalPassiveMode();\n\n                System.out.println(&quot;Current directory : &quot;+client.printWorkingDirectory());\n\n                System.out.println(client.listHelp());\n\n                FTPFile[] remoteFiles = client.mlistDir();\n\n                reply = client.getReplyCode();\n                System.out.println(&quot;fichiers : &quot;+reply);\n                System.out.println(&quot;nombre : &quot;+remoteFiles.length);\n\n                System.out.println(&quot;LOGOUT&quot;);\n                client.logout();\n            } else {\n                System.out.println(&quot;echec login&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Java detailed logs below (system.err and System.out):</p>\n<pre class=\"lang-none prettyprint-override\"><code>janv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nAVERTISSEMENT: Signature algorithm, ed25519, is not supported by the underlying providers\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nAVERTISSEMENT: Signature algorithm, ed448, is not supported by the underlying providers\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nINFOS: No available application protocols\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nAVERTISSEMENT: Ignore impact of unsupported extension: renegotiation_info\nOPTS UTF8 ON\n200 Command OPTS succeed\nPBSZ 0\n200 PBSZ=0\nPROT P\n200 PRIVATE data channel protection level set\nPWD\n257 &quot;/&quot; is current directory\nCurrent directory : /\nHELP\n214-The following commands are implemented\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\n214 Help complete\n\n214-The following commands are implemented\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\n214 Help complete\nPASV\n227 Entering Passive Mode (192,168,4,122,236,242).\n[Replacing PASV mode reply address 192.168.4.122 with 83.206.162.234]\nMLSD\n150 Transferring directory\n</code></pre>\n<p>The MLSD command never replies.</p>\n<p>Perhaps the problem is with ssl session id reuse? It seems that this is a known issue with apache-commons-net, cf <a href=\"https://www.javaer101.com/en/article/970693.html\" rel=\"nofollow noreferrer\">https://www.javaer101.com/en/article/970693.html</a></p>\n<p>I asked the FTP admin if this is activated on his side. He said &quot;yes&quot;, this is a &quot;&quot;ipswitch ftp server&quot;. We planned a debug session on Monday the 11th.</p>\n<p>I also tried the workaround that Martin Prikryl indicated to me, subclassing <code>FTPSClient</code> and overloading the <code>prepareDataSocket</code> method, but it doesn't work. The socket passed to the method is not a SSLSocket, so nothings happens (first test).</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompliantFTPSClient extends FTPSClient {\n\n    public CompliantFTPSClient(String protocol, boolean isImplicit) {\n        super(protocol, isImplicit);\n    }\n\n    @Override\n    protected void _prepareDataSocket_(Socket socket) throws IOException {\n        if (socket instanceof SSLSocket) {\n            // Control socket is SSL\n            final SSLSession session = ((SSLSocket) _socket_).getSession();\n            if (session.isValid()) {\n                final SSLSessionContext context = session.getSessionContext();\n                context.setSessionCacheSize(0);\n                try {\n                    final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\n                    sessionHostPortCache.setAccessible(true);\n                    final Object cache = sessionHostPortCache.get(context);\n                    final Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\n                    method.setAccessible(true);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                } catch (NoSuchFieldException e) {\n                    System.err.println(&quot;WARN : No field sessionHostPortCache in SSLSessionContext&quot;);\n                    e.printStackTrace(System.err);\n                } catch (Exception e) {\n                    System.err.println(&quot;WARN : &quot; + e.getMessage());\n                }\n            } else {\n                System.err.println(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I'm trying to do: Just recursively browse directory on server, list files, and download some files, the kind of things that usually I can do in a few minutes in SFTP or SCP. But in FTPS with this API, this is just painful.</p>\n"},{"tags":["java","bamboo","bamboo-specs"],"answers":[{"tags":[],"owner":{"account_id":5111676,"reputation":1107,"user_id":4098062,"display_name":"Oleksiy Chystoprudov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697087944,"creation_date":1697087944,"answer_id":77277876,"question_id":77272781,"body_markdown":"You don&#39;t need to be Java expert to find correct snippet for Bamboo plan or deployment configuration. You can configure everything at UI and then use Export to Java Specs or Export to YAML Specs button at deployment project actions button to see how your configuration is translated into code. Then use generated snippet at your Java code","title":"Disable bamboo script task when env condition is met","body":"<p>You don't need to be Java expert to find correct snippet for Bamboo plan or deployment configuration. You can configure everything at UI and then use Export to Java Specs or Export to YAML Specs button at deployment project actions button to see how your configuration is translated into code. Then use generated snippet at your Java code</p>\n"},{"tags":[],"owner":{"account_id":10764585,"reputation":1333,"user_id":7920004,"accept_rate":29,"display_name":"marcin2x4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697210665,"creation_date":1697210665,"answer_id":77288958,"question_id":77272781,"body_markdown":"As mentioned by Oleksiy:\r\n\r\nhttps://confluence.atlassian.com/bamboo/exporting-existing-plan-configurations-to-bamboo-specs-894743917.html\r\n\r\n\r\nGenerated code:\r\n\r\n    import com.atlassian.bamboo.specs.api.builders.condition.AnyTaskCondition;\r\n    import com.atlassian.bamboo.specs.api.builders.AtlassianModule;\r\n    import com.atlassian.bamboo.specs.util.MapBuilder;\r\n    \r\n    //add below method to ScriptTask()\r\n    .conditions(new AnyTaskCondition(new AtlassianModule(&quot;com.atlassian.bamboo.plugins.bamboo-conditional-tasks:variableCondition&quot;))\r\n    \t\t\t\t\t\t\t.configuration(new MapBuilder()\r\n    \t\t\t\t\t\t\t\t\t.put(&quot;variable&quot;, &quot;${forge.environment.key}&quot;)\r\n    \t\t\t\t\t\t\t\t\t.put(&quot;operation&quot;, &quot;not_equals&quot;)\r\n    \t\t\t\t\t\t\t\t\t.put(&quot;value&quot;, &quot;test&quot;)\r\n    \t\t\t\t\t\t\t\t\t.build()))","title":"Disable bamboo script task when env condition is met","body":"<p>As mentioned by Oleksiy:</p>\n<p><a href=\"https://confluence.atlassian.com/bamboo/exporting-existing-plan-configurations-to-bamboo-specs-894743917.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/bamboo/exporting-existing-plan-configurations-to-bamboo-specs-894743917.html</a></p>\n<p>Generated code:</p>\n<pre><code>import com.atlassian.bamboo.specs.api.builders.condition.AnyTaskCondition;\nimport com.atlassian.bamboo.specs.api.builders.AtlassianModule;\nimport com.atlassian.bamboo.specs.util.MapBuilder;\n\n//add below method to ScriptTask()\n.conditions(new AnyTaskCondition(new AtlassianModule(&quot;com.atlassian.bamboo.plugins.bamboo-conditional-tasks:variableCondition&quot;))\n                            .configuration(new MapBuilder()\n                                    .put(&quot;variable&quot;, &quot;${forge.environment.key}&quot;)\n                                    .put(&quot;operation&quot;, &quot;not_equals&quot;)\n                                    .put(&quot;value&quot;, &quot;test&quot;)\n                                    .build()))\n</code></pre>\n"}],"owner":{"account_id":10764585,"reputation":1333,"user_id":7920004,"accept_rate":29,"display_name":"marcin2x4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277876,"answer_count":2,"score":0,"last_activity_date":1697210665,"creation_date":1697024944,"question_id":77272781,"body_markdown":"I want one of deployment tasks to be `enabled(false)` only for `${bamboo.forge.environment.key} = test` environment in my bamboo specs config or entire step be skipped if condition is met.\r\n\r\nUnfortunately, I&#39;m not Java experienced thus any help will be appreciated.\r\n\r\nFrom [documentation][1] it seems that `ScriptTask` inherits `conditions` method from `Task` but from there I got stuck...\r\n\r\n        private static ScriptTask runStepFunctions() {\r\n        return new ScriptTask()\r\n                .description(&quot;Run Step Function&quot;)\r\n                .inlineBody(\r\n                    &quot;set -x \\n&quot; +\r\n                    ....\r\n                )\r\n                .environmentVariables(&quot;...&quot;)\r\n                .enabled(false)\r\n                .conditions();\r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nIn the end, task should look as below: \r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://docs.atlassian.com/bamboo-specs/6.6.1/com/atlassian/bamboo/specs/builders/task/ScriptTask.html\r\n  [2]: https://i.stack.imgur.com/5blGp.png\r\n  [3]: https://i.stack.imgur.com/zjw9D.png\r\n  [4]: https://i.stack.imgur.com/Sh8xV.png","title":"Disable bamboo script task when env condition is met","body":"<p>I want one of deployment tasks to be <code>enabled(false)</code> only for <code>${bamboo.forge.environment.key} = test</code> environment in my bamboo specs config or entire step be skipped if condition is met.</p>\n<p>Unfortunately, I'm not Java experienced thus any help will be appreciated.</p>\n<p>From <a href=\"https://docs.atlassian.com/bamboo-specs/6.6.1/com/atlassian/bamboo/specs/builders/task/ScriptTask.html\" rel=\"nofollow noreferrer\">documentation</a> it seems that <code>ScriptTask</code> inherits <code>conditions</code> method from <code>Task</code> but from there I got stuck...</p>\n<pre><code>    private static ScriptTask runStepFunctions() {\n    return new ScriptTask()\n            .description(&quot;Run Step Function&quot;)\n            .inlineBody(\n                &quot;set -x \\n&quot; +\n                ....\n            )\n            .environmentVariables(&quot;...&quot;)\n            .enabled(false)\n            .conditions();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5blGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5blGp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/zjw9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zjw9D.png\" alt=\"enter image description here\" /></a></p>\n<p>In the end, task should look as below:\n<a href=\"https://i.stack.imgur.com/Sh8xV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sh8xV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","weblogic12c","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"score":0,"creation_date":1697210315,"post_id":77288601,"comment_id":136255461,"body_markdown":"do you have a complete stacktrace to share ?","body":"do you have a complete stacktrace to share ?"},{"owner":{"account_id":29664568,"reputation":1,"user_id":22735425,"display_name":"Kiran Y"},"score":0,"creation_date":1697479347,"post_id":77288601,"comment_id":136282395,"body_markdown":"Other than the error i posted , i see the below error in the admi logs on the server. \n\n&lt;admin&gt; &lt;[ACTIVE] ExecuteThread: &#39;23&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;wlsadmin&gt; &lt;&gt; &lt;&gt; &lt;1697046804056&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;","body":"Other than the error i posted , i see the below error in the admi logs on the server.   &lt;admin&gt; &lt;[ACTIVE] ExecuteThread: &#39;23&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;wlsadmin&gt; &lt;&gt; &lt;&gt; &lt;1697046804056&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;"}],"owner":{"account_id":29664568,"reputation":1,"user_id":22735425,"display_name":"Kiran Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697210268,"creation_date":1697207774,"question_id":77288601,"body_markdown":"I am trying to deploy the spring boot 2.x application on weblogic 12.1.3. But the deployment is failing with the below error \r\n\r\n    Unable to access the selected application.\r\n    java.io.IOException\r\n    weblogic.utils.compiler.ToolFailureException\r\n\r\nI have found the root cause of this issue, this error is coming when i include the below springdoc dependency \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI tried deploying the application after removing this dependency and its working. \r\n\r\nHere question is, with out this dependency , i cant get the /swagger-ui/index.html link of the api document. \r\n\r\n\r\nI have even tried using the latest version of this dependency \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSame issue even with this. Any one has faced similar issue, if so can some one recommend a solution for this. ","title":"Spring boot 2.x deployment issue on weblogic12.1.3 with springdoc-openapi-ui v1.70 jar,failing with error weblogic.utils.compiler.ToolFailureException","body":"<p>I am trying to deploy the spring boot 2.x application on weblogic 12.1.3. But the deployment is failing with the below error</p>\n<pre><code>Unable to access the selected application.\njava.io.IOException\nweblogic.utils.compiler.ToolFailureException\n</code></pre>\n<p>I have found the root cause of this issue, this error is coming when i include the below springdoc dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried deploying the application after removing this dependency and its working.</p>\n<p>Here question is, with out this dependency , i cant get the /swagger-ui/index.html link of the api document.</p>\n<p>I have even tried using the latest version of this dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n&lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Same issue even with this. Any one has faced similar issue, if so can some one recommend a solution for this.</p>\n"},{"tags":["java","android","mpandroidchart"],"answers":[{"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1697270560,"post_id":77288865,"comment_id":136261238,"body_markdown":"Thanks a lot ozgurbyk for your great help. I really appreciate it.","body":"Thanks a lot ozgurbyk for your great help. I really appreciate it."}],"tags":[],"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697209916,"creation_date":1697209916,"answer_id":77288865,"question_id":77288401,"body_markdown":"You got two problems. \r\nWhen creating the BarEntry object, you must initialise the X value from 0, not 1. Also, you are making a logic error when adding a space to the barLabels variable, you can add the space as follows.\r\n\r\n\r\n```\r\ndataVals.add(new BarEntry(0, 3)); // Bar 1\r\ndataVals.add(new BarEntry(1, 4)); // Bar 2\r\ndataVals.add(new BarEntry(2, 5)); // Bar 3\r\ndataVals.add(new BarEntry(3, 3)); // Bar 4\r\n//add more bar if you want\r\n\r\n// ...\r\n\r\n       // Add labels for the bars (change your add space character method)\r\n        List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; dataVals.size(); i++) {\r\n            //ADD SPACE HERE\r\n            barLabels.add(&quot;Bar &quot; + (i + 1));\r\n        }\r\n\r\n        // Convert the list to an array\r\n        final String[] barLabelsA = barLabels.toArray(new String[0]);\r\n\r\n// ...\r\n\r\n```\r\n\r\nTo centre the labels exactly according to the bars, you can add the following method to your code: (You added this for yAxis but not for xAxis.)\r\n\r\n```\r\nxAxis.setGranularity(1f);\r\n```\r\n\r\nIt worked when I tried it, I hope it works for you.\r\n\r\n[![barchart view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePsZc.png","title":"How to correctly add labels on a barchart in MPAndroidChart","body":"<p>You got two problems.\nWhen creating the BarEntry object, you must initialise the X value from 0, not 1. Also, you are making a logic error when adding a space to the barLabels variable, you can add the space as follows.</p>\n<pre><code>dataVals.add(new BarEntry(0, 3)); // Bar 1\ndataVals.add(new BarEntry(1, 4)); // Bar 2\ndataVals.add(new BarEntry(2, 5)); // Bar 3\ndataVals.add(new BarEntry(3, 3)); // Bar 4\n//add more bar if you want\n\n// ...\n\n       // Add labels for the bars (change your add space character method)\n        List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; dataVals.size(); i++) {\n            //ADD SPACE HERE\n            barLabels.add(&quot;Bar &quot; + (i + 1));\n        }\n\n        // Convert the list to an array\n        final String[] barLabelsA = barLabels.toArray(new String[0]);\n\n// ...\n\n</code></pre>\n<p>To centre the labels exactly according to the bars, you can add the following method to your code: (You added this for yAxis but not for xAxis.)</p>\n<pre><code>xAxis.setGranularity(1f);\n</code></pre>\n<p>It worked when I tried it, I hope it works for you.</p>\n<p><a href=\"https://i.stack.imgur.com/ePsZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePsZc.png\" alt=\"barchart view\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77288865,"answer_count":1,"score":2,"last_activity_date":1697209916,"creation_date":1697205827,"question_id":77288401,"body_markdown":"I am using MPAndroidChart and I want to create a barchart. Actually this works fine. But the problem are the labels on the different bars. Somehow they just don&#39;t match. Only if I have exactly 3 bars, the labels are being displayed correctly. Here you can see a picture:\r\n[![enter image description here][1]][1]\r\n\r\nHere is the Java Android code:\r\n\r\n    import android.graphics.Color;\r\n    import android.graphics.Typeface;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import com.example.drinkserver.databinding.FragmentTestBinding;\r\n    import com.github.mikephil.charting.components.LimitLine;\r\n    import com.github.mikephil.charting.components.XAxis;\r\n    import com.github.mikephil.charting.components.YAxis;\r\n    import com.github.mikephil.charting.data.BarData;\r\n    import com.github.mikephil.charting.data.BarDataSet;\r\n    import com.github.mikephil.charting.data.BarEntry;\r\n    import com.github.mikephil.charting.formatter.IndexAxisValueFormatter;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class FR_Test extends Fragment {\r\n    \r\n    \r\n        public FR_Test() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n    \r\n        }\r\n        private FragmentTestBinding binding;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n            /*\r\n            Create barcharts with MP Android Chart\r\n             */\r\n    \r\n            //Add data points\r\n            ArrayList&lt;BarEntry&gt; dataVals = new ArrayList&lt;&gt;();\r\n            dataVals.add(new BarEntry(1, 3));\r\n            //dataVals.add(new BarEntry(2, 4));\r\n            //dataVals.add(new BarEntry(3, 5));\r\n            //dataVals.add(new BarEntry(4, 3));\r\n    \r\n    \r\n            // Create a BarDataSet with the data\r\n            BarDataSet barDataSet = new BarDataSet(dataVals, &quot;&quot;);\r\n            barDataSet.setDrawValues(true); \r\n            barDataSet.setValueTextColor(Color.BLACK); \r\n    \r\n            // Customize the appearance of the bars\r\n            barDataSet.setColors(Color.rgb(0, 155, 0)); // Set bar color\r\n    \r\n            // Create BarData and add your BarDataSet to it\r\n            BarData barData = new BarData(barDataSet);\r\n            barData.setBarWidth(0.6f);\r\n    \r\n            // Get the XAxis\r\n            XAxis xAxis = binding.barChartRatings.getXAxis();\r\n            xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\r\n            xAxis.setDrawAxisLine(true); \r\n            xAxis.setDrawGridLines(false); \r\n            xAxis.setTextSize(10f); \r\n            xAxis.setTypeface(Typeface.DEFAULT_BOLD); \r\n            \r\n            // Add labels for the bars\r\n            List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\r\n            barLabels.add(&quot;&quot;);\r\n            for (int i = 0; i &lt; dataVals.size(); i++) {\r\n                barLabels.add(&quot;Bar &quot; + (i + 1));\r\n            }\r\n    \r\n            // Convert the list to an array\r\n            final String[] barLabelsA = barLabels.toArray(new String[0]);\r\n    \r\n            // Set the custom labels for the X-axis\r\n            xAxis.setValueFormatter(new IndexAxisValueFormatter(barLabelsA));\r\n    \r\n    \r\n            // Get the YAxis (left axis)\r\n            YAxis leftYAxis = binding.barChartRatings.getAxisLeft();\r\n            leftYAxis.setDrawLabels(true); \r\n            leftYAxis.setDrawGridLines(true); \r\n            leftYAxis.setAxisMinimum(0f); \r\n            leftYAxis.setAxisMaximum(5.5f); \r\n            leftYAxis.setGranularity(1f);\r\n            // Set the number of labels without forcing them to be integers\r\n            leftYAxis.setLabelCount(6, false); \r\n            leftYAxis.setTextSize(14f);\r\n    \r\n            // Create a LimitLine for the upper rim\r\n            LimitLine upperRim = new LimitLine(5.5f, &quot;&quot;);\r\n            upperRim.setLineColor(Color.BLACK);\r\n            upperRim.setLineWidth(1f);\r\n    \r\n            // Add the upper rim to the left YAxis\r\n            leftYAxis.addLimitLine(upperRim);\r\n    \r\n            // Get the YAxis and hide it\r\n            YAxis rightYAxis = binding.barChartRatings.getAxisRight();\r\n            rightYAxis.setDrawLabels(false);\r\n            rightYAxis.setDrawGridLines(false);\r\n    \r\n            // Add a continuous upper rim to the plot\r\n            binding.barChartRatings.getAxisRight().setDrawTopYLabelEntry(true);\r\n            binding.barChartRatings.getAxisLeft().setDrawTopYLabelEntry(true);\r\n    \r\n            // Remove the legend\r\n            binding.barChartRatings.getLegend().setEnabled(false);\r\n    \r\n            // Hide the description label\r\n            binding.barChartRatings.getDescription().setEnabled(false);\r\n    \r\n            // Set data for the bar chart\r\n            binding.barChartRatings.setData(barData);\r\n    \r\n    \r\n            // Invalidate the chart to refresh its appearance\r\n            binding.barChartRatings.invalidate();\r\n    \r\n    \r\n            return binding.getRoot();\r\n        }\r\n    }\r\n\r\nand here the corresponding XML layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:background=&quot;@color/colorGrey&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    \r\n        &lt;com.github.mikephil.charting.charts.BarChart\r\n            android:id=&quot;@+id/barChartRatings&quot;\r\n            android:layout_width=&quot;220dp&quot;\r\n            android:layout_height=&quot;220dp&quot;\r\n    \r\n    \r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThe `List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();` always has the correct number of bar strings. So when only having one datapoint, it has an empty String &quot;&quot; (such that the Bar labels are not being displayed at position 0) and &quot;Bar1&quot;. So it is quite strange, why &quot;Bar1&quot; is repeated 3 times. What makes the problem even more strange, is that when having a different numbeer of bars, the behaviour changes altough `barLabels ` always has the correct number of Strings. Do you know what is causing this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L4fSx.png","title":"How to correctly add labels on a barchart in MPAndroidChart","body":"<p>I am using MPAndroidChart and I want to create a barchart. Actually this works fine. But the problem are the labels on the different bars. Somehow they just don't match. Only if I have exactly 3 bars, the labels are being displayed correctly. Here you can see a picture:\n<a href=\"https://i.stack.imgur.com/L4fSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4fSx.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Java Android code:</p>\n<pre><code>import android.graphics.Color;\nimport android.graphics.Typeface;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.fragment.app.Fragment;\n\nimport com.example.drinkserver.databinding.FragmentTestBinding;\nimport com.github.mikephil.charting.components.LimitLine;\nimport com.github.mikephil.charting.components.XAxis;\nimport com.github.mikephil.charting.components.YAxis;\nimport com.github.mikephil.charting.data.BarData;\nimport com.github.mikephil.charting.data.BarDataSet;\nimport com.github.mikephil.charting.data.BarEntry;\nimport com.github.mikephil.charting.formatter.IndexAxisValueFormatter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class FR_Test extends Fragment {\n\n\n    public FR_Test() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n    }\n    private FragmentTestBinding binding;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n        /*\n        Create barcharts with MP Android Chart\n         */\n\n        //Add data points\n        ArrayList&lt;BarEntry&gt; dataVals = new ArrayList&lt;&gt;();\n        dataVals.add(new BarEntry(1, 3));\n        //dataVals.add(new BarEntry(2, 4));\n        //dataVals.add(new BarEntry(3, 5));\n        //dataVals.add(new BarEntry(4, 3));\n\n\n        // Create a BarDataSet with the data\n        BarDataSet barDataSet = new BarDataSet(dataVals, &quot;&quot;);\n        barDataSet.setDrawValues(true); \n        barDataSet.setValueTextColor(Color.BLACK); \n\n        // Customize the appearance of the bars\n        barDataSet.setColors(Color.rgb(0, 155, 0)); // Set bar color\n\n        // Create BarData and add your BarDataSet to it\n        BarData barData = new BarData(barDataSet);\n        barData.setBarWidth(0.6f);\n\n        // Get the XAxis\n        XAxis xAxis = binding.barChartRatings.getXAxis();\n        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\n        xAxis.setDrawAxisLine(true); \n        xAxis.setDrawGridLines(false); \n        xAxis.setTextSize(10f); \n        xAxis.setTypeface(Typeface.DEFAULT_BOLD); \n        \n        // Add labels for the bars\n        List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\n        barLabels.add(&quot;&quot;);\n        for (int i = 0; i &lt; dataVals.size(); i++) {\n            barLabels.add(&quot;Bar &quot; + (i + 1));\n        }\n\n        // Convert the list to an array\n        final String[] barLabelsA = barLabels.toArray(new String[0]);\n\n        // Set the custom labels for the X-axis\n        xAxis.setValueFormatter(new IndexAxisValueFormatter(barLabelsA));\n\n\n        // Get the YAxis (left axis)\n        YAxis leftYAxis = binding.barChartRatings.getAxisLeft();\n        leftYAxis.setDrawLabels(true); \n        leftYAxis.setDrawGridLines(true); \n        leftYAxis.setAxisMinimum(0f); \n        leftYAxis.setAxisMaximum(5.5f); \n        leftYAxis.setGranularity(1f);\n        // Set the number of labels without forcing them to be integers\n        leftYAxis.setLabelCount(6, false); \n        leftYAxis.setTextSize(14f);\n\n        // Create a LimitLine for the upper rim\n        LimitLine upperRim = new LimitLine(5.5f, &quot;&quot;);\n        upperRim.setLineColor(Color.BLACK);\n        upperRim.setLineWidth(1f);\n\n        // Add the upper rim to the left YAxis\n        leftYAxis.addLimitLine(upperRim);\n\n        // Get the YAxis and hide it\n        YAxis rightYAxis = binding.barChartRatings.getAxisRight();\n        rightYAxis.setDrawLabels(false);\n        rightYAxis.setDrawGridLines(false);\n\n        // Add a continuous upper rim to the plot\n        binding.barChartRatings.getAxisRight().setDrawTopYLabelEntry(true);\n        binding.barChartRatings.getAxisLeft().setDrawTopYLabelEntry(true);\n\n        // Remove the legend\n        binding.barChartRatings.getLegend().setEnabled(false);\n\n        // Hide the description label\n        binding.barChartRatings.getDescription().setEnabled(false);\n\n        // Set data for the bar chart\n        binding.barChartRatings.setData(barData);\n\n\n        // Invalidate the chart to refresh its appearance\n        binding.barChartRatings.invalidate();\n\n\n        return binding.getRoot();\n    }\n}\n</code></pre>\n<p>and here the corresponding XML layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:background=&quot;@color/colorGrey&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n\n    &lt;com.github.mikephil.charting.charts.BarChart\n        android:id=&quot;@+id/barChartRatings&quot;\n        android:layout_width=&quot;220dp&quot;\n        android:layout_height=&quot;220dp&quot;\n\n\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The <code>List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();</code> always has the correct number of bar strings. So when only having one datapoint, it has an empty String &quot;&quot; (such that the Bar labels are not being displayed at position 0) and &quot;Bar1&quot;. So it is quite strange, why &quot;Bar1&quot; is repeated 3 times. What makes the problem even more strange, is that when having a different numbeer of bars, the behaviour changes altough <code>barLabels </code> always has the correct number of Strings. Do you know what is causing this problem?</p>\n"},{"tags":["java","spring","spring-boot","maven","annotations"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676822003,"creation_date":1676822003,"answer_id":75501377,"question_id":75500453,"body_markdown":"`javax.validation.constraints.Email` annotation depends on Jakarta Bean Validation providers for validation. \r\n\r\nYou could try to add `spring-boot-starter-validation` dependency to your pom.xml. This dependency contains all the required dependencies (including jakarta and hibernate-validator which is a compliant validator for this)\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Not able to resolve javax.validation.constraints.Email; package","body":"<p><code>javax.validation.constraints.Email</code> annotation depends on Jakarta Bean Validation providers for validation.</p>\n<p>You could try to add <code>spring-boot-starter-validation</code> dependency to your pom.xml. This dependency contains all the required dependencies (including jakarta and hibernate-validator which is a compliant validator for this)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19504866,"reputation":31,"user_id":14270126,"display_name":"Abhinav Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697209864,"creation_date":1676813273,"question_id":75500453,"body_markdown":"Belo is my whole Entity class code.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/to9M0.png)](https://i.stack.imgur.com/to9M0.png)\r\n\r\n```\r\npackage com.email.esp.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Transient;\r\nimport javax.persistence.UniqueConstraint;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;email&quot; }) })\r\npublic class User {\r\n\r\n\t@Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Long userId;\r\n\r\n\t@Column(nullable = false, length = 30)\r\n\tprivate String name;\r\n\r\n\t@Email(message = &quot;Email is not valid&quot;, regexp = &quot;(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])&quot;)\r\n\t@NotEmpty(message = &quot;Email cannot be empty&quot;)\r\n\tprivate String email;\r\n\r\n\t@Transient // meaning it will not be saved in DB\r\n\t//@Size(min = 5, max = 15, message = &quot;{register.password.size}&quot;)\r\n\tprivate String plainPassword; // unencrytped\r\n\r\n\t@Transient\r\n\tprivate String repeatPassword;\r\n\r\n\t@Column(nullable = true)\r\n\tprivate String phone;\r\n\r\n\t@Column(nullable = false, length = 500)\r\n\tprivate String about;\r\n\r\n\t@Column(nullable = true)\r\n\tprivate String profilePic;\r\n\t\r\n\t@Column(name=&quot;enabled&quot;)\r\n    private Boolean enabled = true;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;m trying to use the spring Email core package in my spring boot project. I have added the dependency in my pom file but for some weird reason the import statement for import javax.validation.constraints.Email; is not getting resolved. Any idea why is this happening?? Here is the dependency , i have ...\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.email&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;esp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;esp&lt;/name&gt;\r\n\t&lt;description&gt;Email Service Provider Using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t  \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"Not able to resolve javax.validation.constraints.Email; package","body":"<p>Belo is my whole Entity class code.</p>\n<p><a href=\"https://i.stack.imgur.com/to9M0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/to9M0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.email.esp.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\nimport javax.persistence.UniqueConstraint;\n\n@Entity\n@Table(name = &quot;users&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;email&quot; }) })\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long userId;\n\n    @Column(nullable = false, length = 30)\n    private String name;\n\n    @Email(message = &quot;Email is not valid&quot;, regexp = &quot;(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])&quot;)\n    @NotEmpty(message = &quot;Email cannot be empty&quot;)\n    private String email;\n\n    @Transient // meaning it will not be saved in DB\n    //@Size(min = 5, max = 15, message = &quot;{register.password.size}&quot;)\n    private String plainPassword; // unencrytped\n\n    @Transient\n    private String repeatPassword;\n\n    @Column(nullable = true)\n    private String phone;\n\n    @Column(nullable = false, length = 500)\n    private String about;\n\n    @Column(nullable = true)\n    private String profilePic;\n    \n    @Column(name=&quot;enabled&quot;)\n    private Boolean enabled = true;\n\n}\n\n</code></pre>\n<p>I'm trying to use the spring Email core package in my spring boot project. I have added the dependency in my pom file but for some weird reason the import statement for import javax.validation.constraints.Email; is not getting resolved. Any idea why is this happening?? Here is the dependency , i have ...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.email&lt;/groupId&gt;\n    &lt;artifactId&gt;esp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;esp&lt;/name&gt;\n    &lt;description&gt;Email Service Provider Using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n          \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","multi-project","hotswap"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1695724618,"post_id":77171895,"comment_id":136059743,"body_markdown":"Does the issue persist if you use &quot;Reload single file&quot; option described here: https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes","body":"Does the issue persist if you use &quot;Reload single file&quot; option described here: <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":9581453,"reputation":33,"user_id":7115822,"display_name":"Darkmessage"},"score":0,"creation_date":1695730143,"post_id":77171895,"comment_id":136060868,"body_markdown":"@romanv-jb Well, it kinda works. It executes `:classes` for whichever module your file is in. So if it&#39;s a file in my GUICountry, it will reload everything needed. But if I make adjustments to a file in my GUICountry and to a file in CoreModuleB and use &quot;Compile and Reload File&quot; in the CoreModuleB, then the changes to my GUICountry are not reloaded (because the GUI depends on the Core and not vice-versa).\nSo it works if you only change 1 file and kinda works if you change multiple files.\nHaving the &quot;Reload Changed Classes&quot; work as expected would be better though.","body":"@romanv-jb Well, it kinda works. It executes <code>:classes</code> for whichever module your file is in. So if it&#39;s a file in my GUICountry, it will reload everything needed. But if I make adjustments to a file in my GUICountry and to a file in CoreModuleB and use &quot;Compile and Reload File&quot; in the CoreModuleB, then the changes to my GUICountry are not reloaded (because the GUI depends on the Core and not vice-versa). So it works if you only change 1 file and kinda works if you change multiple files. Having the &quot;Reload Changed Classes&quot; work as expected would be better though."}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697209750,"creation_date":1697209750,"answer_id":77288846,"question_id":77171895,"body_markdown":"Seems to be a known issue [IDEA-304595][1].\r\n\r\nMake sure to upvote it to raise its&#39; priority for the developers!\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-304595/Reload-Changed-Classes-has-compilation-scope-of-whole-project-instead-of-only-required-modules","title":"IntelliJ Gradle HotSwap building unrelated modules","body":"<p>Seems to be a known issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-304595/Reload-Changed-Classes-has-compilation-scope-of-whole-project-instead-of-only-required-modules\" rel=\"nofollow noreferrer\">IDEA-304595</a>.</p>\n<p>Make sure to upvote it to raise its' priority for the developers!</p>\n"}],"owner":{"account_id":9581453,"reputation":33,"user_id":7115822,"display_name":"Darkmessage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77288846,"answer_count":1,"score":0,"last_activity_date":1697209750,"creation_date":1695637949,"question_id":77171895,"body_markdown":"I am having trouble getting Gradle HotSwap to work reasonably with IntelliJ IDEA.\r\n\r\nWe have a Java setup which consists of some basic modules, then some country variants that use these basic modules and then even country variants of the GUI.\r\n\r\nThe structure looks like this:\r\n\r\n```\r\nRoot\r\n+--- buildSrc\r\n|    \\--- [Some custom precompiled groovy script plugins]\r\n+--- CoreModules\r\n|    \\--- [Some modules]\r\n+--- CountryVariants\r\n|    \\--- [A module for each country variant]\r\n+--- GuiCountryVariants\r\n|    \\--- [A module for each special country GUI variant] \r\n\\--- build.gradle (to be able to run tests for all modules at once)\r\n```\r\n\r\nWhich means, we always build and run a specific country.\r\nFor example, here are the dependencies for the GUI specific runnable CH country variant:\r\n\r\n```\r\nruntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n+--- project :CoreModuleG\r\n|    \\--- project :GUICore\r\n|         +--- project :CoreModuleB\r\n|         |    \\--- project :CoreModuleC\r\n|         |         \\--- project :CoreModuleP\r\n|         |              \\--- project :CoreModuleE\r\n|         \\--- project :GUICoreModuleG\r\n+--- project :CountryVariantCH\r\n|    \\--- project :CoreModuleB (*)\r\n\\--- project :GUICore (*)\r\n```\r\n\r\nAnd by contrast, country variant US has:\r\n\r\n```\r\nruntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n+--- project :CoreModuleB\r\n|    \\--- project :CoreModuleC\r\n|         \\--- project :CoreModuleP\r\n|              \\--- project :CoreModuleE\r\n\\--- project :CoreModuleG\r\n     \\--- project :GUICore\r\n          +--- project :CoreModuleB (*)\r\n          \\--- project :GUICoreModuleG\r\n```\r\n\r\nNow, if I start my country variant for CH with a Gradle JavaExec task, it will of course only compile all modules needed for CH, and it will for example **not** compile country variant US, as expected.\r\nThe following is a (shortened) excerpt of the startup:\r\n\r\n```\r\nGradle Daemon started in 2 s 367 ms\r\n&gt; Task :buildSrc:jar UP-TO-DATE\r\n&gt; Task :GuiVariantCH:processResources UP-TO-DATE\r\n&gt; Task :CoreModuleE:jar SKIPPED\r\n&gt; Task :GUICoreModuleG:jar\r\n&gt; Task :CoreModuleP:jar\r\n&gt; Task :CoreModuleC:jar\r\n&gt; Task :GUICore:jar\r\n&gt; Task :CoreModuleG:jar\r\n&gt; Task :CountryVariantCH:jar\r\n&gt; Task :CoreModuleB:jar\r\n&gt; Task :GUIVariantCH:classes\r\nConnected to the target VM, address: &#39;localhost:56923&#39;, transport: &#39;socket&#39;\r\n&gt; Task :GUIVariantCH:run\r\n```\r\n\r\nBut if I then change a class and use &quot;Run \\&gt; Debugging Actions \\&gt; Reload Changed Classes&quot; it builds every single module, including all 24 country variants:\r\n\r\n```\r\n11:03:47: Executing &#39;:classes :testClasses [list of all core modules for tasks :classes and :testClasses] [list of all country variant modules for tasks :classes and :testClasses] [list of all GUI country variant modules for tasks :classes and :testClasses]&#39;...\r\n\r\n[long list of executions of all :classes and :testClasses tasks]\r\n\r\n&gt; Task :CountryVariantZA:classes\r\n&gt; Task :CountryVariantZA:compileTestJava UP-TO-DATE\r\n&gt; Task :CountryVariantZA:testClasses UP-TO-DATE\r\n&gt; Task :GUICountryVariantCH:classes\r\n&gt; Task :GUICountryVariantCH:compileTestJava NO-SOURCE\r\n&gt; Task :GUICountryVariantCH:testClasses UP-TO-DATE\r\n\r\nBUILD SUCCESSFUL in 17s\r\n```\r\n\r\nBut since I&#39;m running the `:GUICountryVariantCH:run` task, I would expect that only `:GUICountryVariantCH:classes` and `:GUICountryVariantCH:testClasses` tasks are run.\r\n\r\nOf course, if I previously compiled all country variants, it is faster than 17 seconds. But it still is executing tasks it shouldn&#39;t and thus takes longer than needed.\r\n\r\nSo, is this caused by a wrong Gradle configuration, a wrong IntelliJ configuration (IntelliJ IDEA 2023.2.2 (Community Edition)) or is this an actual IntelliJ bug?\r\n\r\nHas anybody had success with hot swap in a similar situation?\r\n\r\nI searched far and wide but nobody seems to have this specific problem.\r\n\r\nWhat I found is [this plugin](https://plugins.jetbrains.com/plugin/14832-single-hotswap) which lets you hotswap a single file, so I could use this plugin or of course &quot;Compile and reload file&quot; in the context menu within a file.\r\n\r\nBut I still feel hotswap should be able to work by not invoking `:classes` but rather `:specificModuleStarted:classes`. Because if you changed multiple files, reloading just this one particular file is not what you want.","title":"IntelliJ Gradle HotSwap building unrelated modules","body":"<p>I am having trouble getting Gradle HotSwap to work reasonably with IntelliJ IDEA.</p>\n<p>We have a Java setup which consists of some basic modules, then some country variants that use these basic modules and then even country variants of the GUI.</p>\n<p>The structure looks like this:</p>\n<pre><code>Root\n+--- buildSrc\n|    \\--- [Some custom precompiled groovy script plugins]\n+--- CoreModules\n|    \\--- [Some modules]\n+--- CountryVariants\n|    \\--- [A module for each country variant]\n+--- GuiCountryVariants\n|    \\--- [A module for each special country GUI variant] \n\\--- build.gradle (to be able to run tests for all modules at once)\n</code></pre>\n<p>Which means, we always build and run a specific country.\nFor example, here are the dependencies for the GUI specific runnable CH country variant:</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n+--- project :CoreModuleG\n|    \\--- project :GUICore\n|         +--- project :CoreModuleB\n|         |    \\--- project :CoreModuleC\n|         |         \\--- project :CoreModuleP\n|         |              \\--- project :CoreModuleE\n|         \\--- project :GUICoreModuleG\n+--- project :CountryVariantCH\n|    \\--- project :CoreModuleB (*)\n\\--- project :GUICore (*)\n</code></pre>\n<p>And by contrast, country variant US has:</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n+--- project :CoreModuleB\n|    \\--- project :CoreModuleC\n|         \\--- project :CoreModuleP\n|              \\--- project :CoreModuleE\n\\--- project :CoreModuleG\n     \\--- project :GUICore\n          +--- project :CoreModuleB (*)\n          \\--- project :GUICoreModuleG\n</code></pre>\n<p>Now, if I start my country variant for CH with a Gradle JavaExec task, it will of course only compile all modules needed for CH, and it will for example <strong>not</strong> compile country variant US, as expected.\nThe following is a (shortened) excerpt of the startup:</p>\n<pre><code>Gradle Daemon started in 2 s 367 ms\n&gt; Task :buildSrc:jar UP-TO-DATE\n&gt; Task :GuiVariantCH:processResources UP-TO-DATE\n&gt; Task :CoreModuleE:jar SKIPPED\n&gt; Task :GUICoreModuleG:jar\n&gt; Task :CoreModuleP:jar\n&gt; Task :CoreModuleC:jar\n&gt; Task :GUICore:jar\n&gt; Task :CoreModuleG:jar\n&gt; Task :CountryVariantCH:jar\n&gt; Task :CoreModuleB:jar\n&gt; Task :GUIVariantCH:classes\nConnected to the target VM, address: 'localhost:56923', transport: 'socket'\n&gt; Task :GUIVariantCH:run\n</code></pre>\n<p>But if I then change a class and use &quot;Run &gt; Debugging Actions &gt; Reload Changed Classes&quot; it builds every single module, including all 24 country variants:</p>\n<pre><code>11:03:47: Executing ':classes :testClasses [list of all core modules for tasks :classes and :testClasses] [list of all country variant modules for tasks :classes and :testClasses] [list of all GUI country variant modules for tasks :classes and :testClasses]'...\n\n[long list of executions of all :classes and :testClasses tasks]\n\n&gt; Task :CountryVariantZA:classes\n&gt; Task :CountryVariantZA:compileTestJava UP-TO-DATE\n&gt; Task :CountryVariantZA:testClasses UP-TO-DATE\n&gt; Task :GUICountryVariantCH:classes\n&gt; Task :GUICountryVariantCH:compileTestJava NO-SOURCE\n&gt; Task :GUICountryVariantCH:testClasses UP-TO-DATE\n\nBUILD SUCCESSFUL in 17s\n</code></pre>\n<p>But since I'm running the <code>:GUICountryVariantCH:run</code> task, I would expect that only <code>:GUICountryVariantCH:classes</code> and <code>:GUICountryVariantCH:testClasses</code> tasks are run.</p>\n<p>Of course, if I previously compiled all country variants, it is faster than 17 seconds. But it still is executing tasks it shouldn't and thus takes longer than needed.</p>\n<p>So, is this caused by a wrong Gradle configuration, a wrong IntelliJ configuration (IntelliJ IDEA 2023.2.2 (Community Edition)) or is this an actual IntelliJ bug?</p>\n<p>Has anybody had success with hot swap in a similar situation?</p>\n<p>I searched far and wide but nobody seems to have this specific problem.</p>\n<p>What I found is <a href=\"https://plugins.jetbrains.com/plugin/14832-single-hotswap\" rel=\"nofollow noreferrer\">this plugin</a> which lets you hotswap a single file, so I could use this plugin or of course &quot;Compile and reload file&quot; in the context menu within a file.</p>\n<p>But I still feel hotswap should be able to work by not invoking <code>:classes</code> but rather <code>:specificModuleStarted:classes</code>. Because if you changed multiple files, reloading just this one particular file is not what you want.</p>\n"},{"tags":["java","javassist"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697210718,"post_id":77288727,"comment_id":136255561,"body_markdown":"What makes you think that `StackMapTable` and `StackDependencies` are equivalent? Because there’s “stack” in the name?","body":"What makes you think that <code>StackMapTable</code> and <code>StackDependencies</code> are equivalent? Because there’s “stack” in the name?"},{"owner":{"account_id":14159226,"reputation":35,"user_id":10228983,"display_name":"Jordan Tan Jun Wen"},"score":0,"creation_date":1697248519,"post_id":77288727,"comment_id":136260115,"body_markdown":"That&#39;s exactly it. I was trying to remove custom code since implementing Javassist into the project.","body":"That&#39;s exactly it. I was trying to remove custom code since implementing Javassist into the project."}],"owner":{"account_id":14159226,"reputation":35,"user_id":10228983,"display_name":"Jordan Tan Jun Wen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697209187,"creation_date":1697208744,"question_id":77288727,"body_markdown":"Referring to [this question](https://stackoverflow.com/questions/45995417/how-to-create-or-retrieve-a-stackmaptable-in-javassist), I still do not get the idea of looping through StackMapTable although I am able to get the Walker\r\n\r\n```\r\nStackMapTable stackMapTable = (StackMapTable) instructionToVisit.toCodeAttribute().getAttribute(StackMapTable.tag);\r\n\r\nStackMapTable.Walker walker = new StackMapTable.Walker(stackMapTable);\r\n```\r\n\r\nSince integrating Javassist into [the project](https://github.com/amyjko/whyline/tree/master), I am assuming that StackMapTablehttps://www.javassist.org/html/javassist/bytecode/StackMapTable.html is equivalent to [StackDependencies](https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/bytecode/StackDependencies.java)\r\n\r\nBut I am not sure, is it able to be written like the [for-loop block in this class](https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/analysis/ValueSourceAnalyzer.java#L460)\r\n\r\nI tried to understand how to use Javassist StackMapTable to loop through dependencies in the Stack memory of Java. Besides that, I was hoping to get a validation whether my assumption on replacing Javassist StackMapTable to the existing Whyline StackDependencies.","title":"How to loop through Javassist StackMapTable?","body":"<p>Referring to <a href=\"https://stackoverflow.com/questions/45995417/how-to-create-or-retrieve-a-stackmaptable-in-javassist\">this question</a>, I still do not get the idea of looping through StackMapTable although I am able to get the Walker</p>\n<pre><code>StackMapTable stackMapTable = (StackMapTable) instructionToVisit.toCodeAttribute().getAttribute(StackMapTable.tag);\n\nStackMapTable.Walker walker = new StackMapTable.Walker(stackMapTable);\n</code></pre>\n<p>Since integrating Javassist into <a href=\"https://github.com/amyjko/whyline/tree/master\" rel=\"nofollow noreferrer\">the project</a>, I am assuming that StackMapTablehttps://www.javassist.org/html/javassist/bytecode/StackMapTable.html is equivalent to <a href=\"https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/bytecode/StackDependencies.java\" rel=\"nofollow noreferrer\">StackDependencies</a></p>\n<p>But I am not sure, is it able to be written like the <a href=\"https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/analysis/ValueSourceAnalyzer.java#L460\" rel=\"nofollow noreferrer\">for-loop block in this class</a></p>\n<p>I tried to understand how to use Javassist StackMapTable to loop through dependencies in the Stack memory of Java. Besides that, I was hoping to get a validation whether my assumption on replacing Javassist StackMapTable to the existing Whyline StackDependencies.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1319203144,"post_id":7849452,"comment_id":9572817,"body_markdown":"Are you sure your listener is being deployed?","body":"Are you sure your listener is being deployed?"}],"answers":[{"comments":[{"owner":{"account_id":938201,"reputation":323,"user_id":966742,"accept_rate":65,"display_name":"Rehme"},"score":0,"creation_date":1319202011,"post_id":7849547,"comment_id":9572534,"body_markdown":"Did not create any servlet or jsp page yet, Is this what you meant ? I&#39;m figuring on creating a servlet so that I could get ServletContext attribute then get the cat instances back .","body":"Did not create any servlet or jsp page yet, Is this what you meant ? I&#39;m figuring on creating a servlet so that I could get ServletContext attribute then get the cat instances back ."},{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":0,"creation_date":1319202257,"post_id":7849547,"comment_id":9572584,"body_markdown":"@RealSilhouette no, that&#39;s not what I meant. The final build that you are deploying to tomcat, does it include any jar-files in the WEB-INF/lib directory called something like servlet-api.jar or jsp-api.jar? If so, you are not packaging your war correctly as those jars already exist in the tomcat container, causing conflicts. How are you building? Maven? Through the IDE?","body":"@RealSilhouette no, that&#39;s not what I meant. The final build that you are deploying to tomcat, does it include any jar-files in the WEB-INF/lib directory called something like servlet-api.jar or jsp-api.jar? If so, you are not packaging your war correctly as those jars already exist in the tomcat container, causing conflicts. How are you building? Maven? Through the IDE?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1319203228,"post_id":7849547,"comment_id":9572842,"body_markdown":"Where is there a conflict? It says the listener class isn&#39;t found (assuming my phone is displaying everything correctly :(","body":"Where is there a conflict? It says the listener class isn&#39;t found (assuming my phone is displaying everything correctly :("},{"owner":{"account_id":938201,"reputation":323,"user_id":966742,"accept_rate":65,"display_name":"Rehme"},"score":0,"creation_date":1319206292,"post_id":7849547,"comment_id":9573741,"body_markdown":"@pap the WEB-INF/lib directory does not has any jar-files","body":"@pap the WEB-INF/lib directory does not has any jar-files"}],"tags":[],"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367218540,"creation_date":1319200980,"answer_id":7849547,"question_id":7849452,"body_markdown":"My guess is that you have packaged the servlet-api jar in your webapp (in the WEB-INF/lib) folder and this is causing conflicts since the servlet-api will already be present in the container. Make sure you don&#39;t include any servlet-api or jsp-api (or Java EE api) jars in your webapp when you deploy it.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>My guess is that you have packaged the servlet-api jar in your webapp (in the WEB-INF/lib) folder and this is causing conflicts since the servlet-api will already be present in the container. Make sure you don't include any servlet-api or jsp-api (or Java EE api) jars in your webapp when you deploy it.</p>\n"},{"comments":[{"owner":{"account_id":938201,"reputation":323,"user_id":966742,"accept_rate":65,"display_name":"Rehme"},"score":0,"creation_date":1319216821,"post_id":7849898,"comment_id":9577017,"body_markdown":"I did as you told me to, deleted context file from \\Apache Tomcat 7.0.11\\conf and ran my webApp again, and It worked just perfect, thanks a million .","body":"I did as you told me to, deleted context file from \\Apache Tomcat 7.0.11\\conf and ran my webApp again, and It worked just perfect, thanks a million ."}],"tags":[],"owner":{"account_id":898340,"reputation":126,"user_id":935129,"display_name":"Lauro Caetano"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1319202856,"creation_date":1319202856,"answer_id":7849898,"question_id":7849452,"body_markdown":"Try to clear the tomcat work directory and clean. After that, publish your project and run again.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>Try to clear the tomcat work directory and clean. After that, publish your project and run again.</p>\n"},{"tags":[],"owner":{"account_id":4872873,"reputation":11,"user_id":3928792,"display_name":"Celia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408621827,"creation_date":1408621827,"answer_id":25425638,"question_id":7849452,"body_markdown":"I had the same problem running JUnit in a Tomcat 7 environment and I solved it adding a dependency in maven (pom.xml) like this:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.54&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had the same problem running JUnit in a Tomcat 7 environment and I solved it adding a dependency in maven (pom.xml) like this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0.54&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4294050,"reputation":527,"user_id":3509556,"accept_rate":43,"display_name":"gauti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433485845,"creation_date":1433485845,"answer_id":30659803,"question_id":7849452,"body_markdown":"I had the same issue when I tried with eclipse LUNA version and tomcat 7. The same code without any extra changes worked in eclipse JUNO with tomcat 7.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had the same issue when I tried with eclipse LUNA version and tomcat 7. The same code without any extra changes worked in eclipse JUNO with tomcat 7.</p>\n"},{"tags":[],"owner":{"account_id":6876093,"reputation":2613,"user_id":5284493,"accept_rate":33,"display_name":"Emir Marques"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462385940,"creation_date":1462385940,"answer_id":37035147,"question_id":7849452,"body_markdown":"Verify the **space in disk**. When eclipse copy the folder libs if not space in disk this error may occur","title":"ClassNotFoundException with ServletContextlistener","body":"<p>Verify the <strong>space in disk</strong>. When eclipse copy the folder libs if not space in disk this error may occur</p>\n"},{"tags":[],"owner":{"account_id":6783661,"reputation":285,"user_id":5223127,"accept_rate":25,"display_name":"Rama Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467958698,"creation_date":1467958698,"answer_id":38260074,"question_id":7849452,"body_markdown":"If you are working in Eclipse, Then just clean your project.\r\n\r\nFollow this simple step, \r\nGo to Project &gt; \r\n          clean...&gt; clean all projects &gt; Ok","title":"ClassNotFoundException with ServletContextlistener","body":"<p>If you are working in Eclipse, Then just clean your project.</p>\n\n<p>Follow this simple step, \nGo to Project > \n          clean...> clean all projects > Ok</p>\n"},{"tags":[],"owner":{"account_id":15600842,"reputation":99,"user_id":11255038,"display_name":"George Kibira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643895983,"creation_date":1643895983,"answer_id":70972411,"question_id":7849452,"body_markdown":"I had a similar problem. It Maybe not be related to what you had but it might save someone some time. I had my listener-class wrong in the web descriptor file:)","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had a similar problem. It Maybe not be related to what you had but it might save someone some time. I had my listener-class wrong in the web descriptor file:)</p>\n"},{"tags":[],"owner":{"account_id":15295377,"reputation":327,"user_id":11035655,"display_name":"OSEMA TOUATI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697209085,"creation_date":1697209085,"answer_id":77288777,"question_id":7849452,"body_markdown":"I had similar problem, the previous solutions didn&#39;t work for me.    \r\nIt was simpler in my case, tomcat wasn&#39;t bound to my app (I used eclipse).\r\n\r\nTo solve this try the following as it may work for you:  \r\nIn `Project &gt; Properties &gt; Java build path &gt; Libraries` look for `Server Runtime`, and bind a tomcat server to your project (go ahead and add tomcat server to your eclipse project if you didn&#39;t already have).\r\n\r\nThis fixed my issue.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had similar problem, the previous solutions didn't work for me.<br />\nIt was simpler in my case, tomcat wasn't bound to my app (I used eclipse).</p>\n<p>To solve this try the following as it may work for you:<br />\nIn <code>Project &gt; Properties &gt; Java build path &gt; Libraries</code> look for <code>Server Runtime</code>, and bind a tomcat server to your project (go ahead and add tomcat server to your eclipse project if you didn't already have).</p>\n<p>This fixed my issue.</p>\n"}],"owner":{"account_id":938201,"reputation":323,"user_id":966742,"accept_rate":65,"display_name":"Rehme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48607,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7849898,"answer_count":8,"score":7,"last_activity_date":1697209085,"creation_date":1319200466,"question_id":7849452,"body_markdown":"I get an exception whenever I try getting context parameter from `we.XML` into a `ServletContextListener` class, I am really having hard times understanding why It is not working,\r\nhere&#39;s the exception in Apache Tomcat 7.0.11 log :\r\n\r\n     Oct 21, 2011 1:24:23 PM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Error configuring application listener of class alaa.ServletContextListener\r\n    java.lang.ClassNotFoundException: alaa.ServletContextListener\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\r\n\tat   \r\n       org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)\r\n\tat      \r\n \r\n\tat    org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4618)\r\n\tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5184)\r\n\tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5179)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n\r\n   \r\n   Here&#39;s a part of my web.xml :  \r\n       \r\n     &lt;context-param&gt;\r\n        &lt;param-name&gt;catName&lt;/param-name&gt;\r\n        &lt;param-value&gt;meshmesh&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;catBreed&lt;/param-name&gt;\r\n        &lt;param-value&gt;egyptian&lt;/param-value&gt;\r\n    &lt;/context-param&gt;  \r\n    &lt;listener&gt;\r\n       &lt;listener-class&gt;alaa.CatLisenter&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;session-config&gt;\r\n          &lt;session-timeout&gt;\r\n            30\r\n          &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n          \r\n\r\n   Here&#39;s my ServletContextListener.java: \r\n\r\n\r\n    package alaa;\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    public class CatLisenter implements ServletContextListener {\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        ServletContext sc = sce.getServletContext();\r\n        String name = sc.getInitParameter(&quot;catName&quot;);\r\n        \r\n        String breed = sc.getInitParameter(&quot;catBreed&quot;);\r\n        \r\n        Cat maCat = new Cat();\r\n        maCat.setName(name);\r\n        maCat.setBreed(breed);\r\n        \r\n        sc.setAttribute(&quot;cat&quot;, maCat);\r\n    }\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n    }   \r\n    }\r\n\r\n\r\n\r\n    Here&#39;s Cat.java : \r\n\r\n\r\n  \r\n\r\n    \r\n    package alaa;\r\n\r\n    public class Cat {\r\n    private String name;\r\n    private String breed;\r\n\r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getBreed() {\r\n        return breed;\r\n    }\r\n\r\n   \r\n    public void setBreed(String breed) {\r\n        this.breed = breed;\r\n    }\r\n     }\r\n\r\n    many thanks \r\n\r\n\r\n\r\n","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I get an exception whenever I try getting context parameter from <code>we.XML</code> into a <code>ServletContextListener</code> class, I am really having hard times understanding why It is not working,\nhere's the exception in Apache Tomcat 7.0.11 log :</p>\n\n<pre><code> Oct 21, 2011 1:24:23 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class alaa.ServletContextListener\njava.lang.ClassNotFoundException: alaa.ServletContextListener\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\nat   \n   org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)\nat      \n\nat    org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4618)\nat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5184)\nat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5179)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>Here's a part of my web.xml :  </p>\n\n<pre><code> &lt;context-param&gt;\n    &lt;param-name&gt;catName&lt;/param-name&gt;\n    &lt;param-value&gt;meshmesh&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;catBreed&lt;/param-name&gt;\n    &lt;param-value&gt;egyptian&lt;/param-value&gt;\n&lt;/context-param&gt;  \n&lt;listener&gt;\n   &lt;listener-class&gt;alaa.CatLisenter&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;session-config&gt;\n      &lt;session-timeout&gt;\n        30\n      &lt;/session-timeout&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p>Here's my ServletContextListener.java: </p>\n\n<pre><code>package alaa;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\npublic class CatLisenter implements ServletContextListener {\n\n@Override\npublic void contextInitialized(ServletContextEvent sce) {\n    ServletContext sc = sce.getServletContext();\n    String name = sc.getInitParameter(\"catName\");\n\n    String breed = sc.getInitParameter(\"catBreed\");\n\n    Cat maCat = new Cat();\n    maCat.setName(name);\n    maCat.setBreed(breed);\n\n    sc.setAttribute(\"cat\", maCat);\n}\n\n@Override\npublic void contextDestroyed(ServletContextEvent sce) {\n    throw new UnsupportedOperationException(\"Not supported yet.\");\n}   \n}\n\n\n\nHere's Cat.java : \n\n\n\n\n\npackage alaa;\n\npublic class Cat {\nprivate String name;\nprivate String breed;\n\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getBreed() {\n    return breed;\n}\n\n\npublic void setBreed(String breed) {\n    this.breed = breed;\n}\n }\n\nmany thanks \n</code></pre>\n"},{"tags":["java","sql-server","docker","aws-lambda"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1697067741,"post_id":77276794,"comment_id":136234257,"body_markdown":"Is the Java code actually running on the Docker host itself, or is it running inside a Docker container? When running inside a Docker container... unless you also have an SQL Server instance installed in the same container then `localhost:1433` isn&#39;t going to connect to anything. In these cases you  might have more success with `host.docker.internal`.","body":"Is the Java code actually running on the Docker host itself, or is it running inside a Docker container? When running inside a Docker container... unless you also have an SQL Server instance installed in the same container then <code>localhost:1433</code> isn&#39;t going to connect to anything. In these cases you  might have more success with <code>host.docker.internal</code>."},{"owner":{"account_id":289004,"reputation":457,"user_id":589724,"accept_rate":80,"display_name":"dionysus"},"score":0,"creation_date":1697118989,"post_id":77276794,"comment_id":136241764,"body_markdown":"This is an aws-lambda function. That being said, when I start it up in IntelliJ, the lambda function is started in its own container.","body":"This is an aws-lambda function. That being said, when I start it up in IntelliJ, the lambda function is started in its own container."}],"answers":[{"tags":[],"owner":{"account_id":289004,"reputation":457,"user_id":589724,"accept_rate":80,"display_name":"dionysus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697208791,"creation_date":1697208791,"answer_id":77288739,"question_id":77276794,"body_markdown":"I resolved this issue by using `ifconfig` in the terminal to find the ip address of my running docker instance. Due to the fact that when I start my AWS Lambda function from my IDE, the Lambda is started in a totally different container than the one that my database is running in. Therefore, I have to reference the ip address of the docker instance that is running the database.","title":"Docker Running SQL Server: Connection Refused Error","body":"<p>I resolved this issue by using <code>ifconfig</code> in the terminal to find the ip address of my running docker instance. Due to the fact that when I start my AWS Lambda function from my IDE, the Lambda is started in a totally different container than the one that my database is running in. Therefore, I have to reference the ip address of the docker instance that is running the database.</p>\n"}],"owner":{"account_id":289004,"reputation":457,"user_id":589724,"accept_rate":80,"display_name":"dionysus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697208791,"creation_date":1697065381,"question_id":77276794,"body_markdown":"I am running Microsoft SQL Server on via Docker on my local system. I can connect to my database locally using Azure Data Studio. However, when attempting to connect via my IDE using JAVA and I get the following error:\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall\r\n\r\nThe code that I am running is the following:\r\n\r\n```\r\ntry {\r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    new ScriptRunner(DriverManager.getConnection(\r\n                    &quot;jdbc:sqlserver://localhost:1433;database=mars_db;user=sa;password=sysAdmin123;encrypt=false&quot;))\r\n                    .runScript(new BufferedReader(new FileReader(script)));\r\n} catch (Exception e) {\r\n    System.err.println(e);\r\n}\r\n```\r\nAs stated above, I can connect to my local instance via Azure Data Studio. What am I doing wrong with the Java code.\r\n\r\nHere is the build.gradle as well\r\n\r\n```none\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.amazonaws:aws-lambda-java-core:1.2.2&#39;\r\n    implementation &#39;com.amazonaws:aws-lambda-java-events:3.11.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;com.microsoft.sqlserver:mssql-jdbc:12.4.1.jre11&#39;\r\n\r\n    implementation &#39;org.mybatis:mybatis:3.5.13&#39;\r\n}\r\n\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n```\r\n","title":"Docker Running SQL Server: Connection Refused Error","body":"<p>I am running Microsoft SQL Server on via Docker on my local system. I can connect to my database locally using Azure Data Studio. However, when attempting to connect via my IDE using JAVA and I get the following error:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall</p>\n</blockquote>\n<p>The code that I am running is the following:</p>\n<pre><code>try {\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n    new ScriptRunner(DriverManager.getConnection(\n                    &quot;jdbc:sqlserver://localhost:1433;database=mars_db;user=sa;password=sysAdmin123;encrypt=false&quot;))\n                    .runScript(new BufferedReader(new FileReader(script)));\n} catch (Exception e) {\n    System.err.println(e);\n}\n</code></pre>\n<p>As stated above, I can connect to my local instance via Azure Data Studio. What am I doing wrong with the Java code.</p>\n<p>Here is the build.gradle as well</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.amazonaws:aws-lambda-java-core:1.2.2'\n    implementation 'com.amazonaws:aws-lambda-java-events:3.11.0'\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'com.microsoft.sqlserver:mssql-jdbc:12.4.1.jre11'\n\n    implementation 'org.mybatis:mybatis:3.5.13'\n}\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1544629003,"post_id":53746393,"comment_id":94345223,"body_markdown":"Intellij has a separate build process that it uses. There is a menu at the top called build, and you can re-trigger a build with CTRL+F9","body":"Intellij has a separate build process that it uses. There is a menu at the top called build, and you can re-trigger a build with CTRL+F9"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1544629086,"post_id":53746393,"comment_id":94345280,"body_markdown":"Show me your build configuration - maybe you dont have build step in it(thus no build prior run, thus no changes)","body":"Show me your build configuration - maybe you dont have build step in it(thus no build prior run, thus no changes)"},{"owner":{"account_id":2762209,"reputation":401,"user_id":2378870,"display_name":"Daniel Schmidt"},"score":0,"creation_date":1544629178,"post_id":53746393,"comment_id":94345342,"body_markdown":"It&#39;s been a while since I used IntelliJ, but i THINK I remember that there was something you could do in the build configuration that will auto-build after each change? Sorry for the vagueness, but I think Antoniossss is on to something","body":"It&#39;s been a while since I used IntelliJ, but i THINK I remember that there was something you could do in the build configuration that will auto-build after each change? Sorry for the vagueness, but I think Antoniossss is on to something"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1544630225,"post_id":53746393,"comment_id":94346051,"body_markdown":"Thanks for tips. I just realized that I cant even make a &quot;Build&quot;. Probably thats the real issue. I get all sorts of package and symbol not found errors. Since I only use maven didnt notice there was a problem in build. I did an invalidate caches restart on Intellij but still same problem!","body":"Thanks for tips. I just realized that I cant even make a &quot;Build&quot;. Probably thats the real issue. I get all sorts of package and symbol not found errors. Since I only use maven didnt notice there was a problem in build. I did an invalidate caches restart on Intellij but still same problem!"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1544632105,"post_id":53746393,"comment_id":94347160,"body_markdown":"@DanielSchmidt Problem solved. I deleted the &quot;.idea&quot; folder and restarted. Then Builds started to work fine, hence the tests. Thanks for leading in right direction, if someone answers this I will accept it.","body":"@DanielSchmidt Problem solved. I deleted the &quot;.idea&quot; folder and restarted. Then Builds started to work fine, hence the tests. Thanks for leading in right direction, if someone answers this I will accept it."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1544701267,"post_id":53746393,"comment_id":94373906,"body_markdown":"You can also edit the run configuration and make it run `mvn clean test-compile` automatically each time you hit run","body":"You can also edit the run configuration and make it run <code>mvn clean test-compile</code> automatically each time you hit run"}],"answers":[{"tags":[],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544824447,"creation_date":1544701788,"answer_id":53761219,"question_id":53746393,"body_markdown":"After reading the comments I realized that I cant even make a &quot;Build&quot;, that was the real issue. I got all sorts of package and symbol not found errors. I tried to &quot;Invalidate caches restart&quot; on Intellij but didnt help. So I deleted the **&quot;.idea&quot;** folder and restarted IntelliJ. Then the errors in &quot;build&quot; disappeared, hence the tests was able to make a build after a change. Thanks for leading in right direction.","title":"IntelliJ unit tests don&#39;t see changes","body":"<p>After reading the comments I realized that I cant even make a \"Build\", that was the real issue. I got all sorts of package and symbol not found errors. I tried to \"Invalidate caches restart\" on Intellij but didnt help. So I deleted the <strong>\".idea\"</strong> folder and restarted IntelliJ. Then the errors in \"build\" disappeared, hence the tests was able to make a build after a change. Thanks for leading in right direction.</p>\n"},{"tags":[],"owner":{"account_id":5190620,"reputation":168,"user_id":4153681,"accept_rate":100,"display_name":"Ueffes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697208756,"creation_date":1697208756,"answer_id":77288729,"question_id":53746393,"body_markdown":"I&#39;m having the issue of IntelliJ caching some classes in combination with unit test execution quite often. Especially after deleting or moving classes, IntelliJ does not seem to realize that classes are now gone or located within a different package.\r\n\r\nSo far, I was able to solve the issue via triggering a rebuild of the project:\r\n\r\n*Go to:* `Build` &gt; `Rebuild Project`","title":"IntelliJ unit tests don&#39;t see changes","body":"<p>I'm having the issue of IntelliJ caching some classes in combination with unit test execution quite often. Especially after deleting or moving classes, IntelliJ does not seem to realize that classes are now gone or located within a different package.</p>\n<p>So far, I was able to solve the issue via triggering a rebuild of the project:</p>\n<p><em>Go to:</em> <code>Build</code> &gt; <code>Rebuild Project</code></p>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53761219,"answer_count":2,"score":2,"last_activity_date":1697208756,"creation_date":1544628808,"question_id":53746393,"body_markdown":"I have a problem with my Java(Spring-Boot) unit tests on IntelliJ. My actual code and the test-code are on the same module. When I make a change in my code and I want to test it, I right click on the test class and &quot;Run Test&quot; But it doesn&#39;t see the actual code change I made earlier, unless I do a &quot;mvn clean install&quot; before I run the test each time(?!)\r\n\r\nI might be wrong but I think this problem started after I converted my project into a multi module project. Though as I said in this case all code is in the same module. So cant see the relavance, Any suggestions how can I overcome with weird inconvenient behaviour?","title":"IntelliJ unit tests don&#39;t see changes","body":"<p>I have a problem with my Java(Spring-Boot) unit tests on IntelliJ. My actual code and the test-code are on the same module. When I make a change in my code and I want to test it, I right click on the test class and \"Run Test\" But it doesn't see the actual code change I made earlier, unless I do a \"mvn clean install\" before I run the test each time(?!)</p>\n\n<p>I might be wrong but I think this problem started after I converted my project into a multi module project. Though as I said in this case all code is in the same module. So cant see the relavance, Any suggestions how can I overcome with weird inconvenient behaviour?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697208486,"creation_date":1697208486,"answer_id":77288692,"question_id":77287054,"body_markdown":"If getting rid of `@Query` annotation is an option you can just try to use JPA name-derived query like this:\r\n\r\n```java\r\nList&lt;Customer&gt; findByCompanyCompanyNameContainingIgnoreCase(String companyName);\r\n```\r\n\r\nSpring JPA support for nested objects (property expressions): https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\r\n","title":"Springboot case insensitive domain query","body":"<p>If getting rid of <code>@Query</code> annotation is an option you can just try to use JPA name-derived query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; findByCompanyCompanyNameContainingIgnoreCase(String companyName);\n</code></pre>\n<p>Spring JPA support for nested objects (property expressions): <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions</a></p>\n"}],"owner":{"account_id":15921410,"reputation":153,"user_id":11488312,"display_name":"WolfyDoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697208486,"creation_date":1697193424,"question_id":77287054,"body_markdown":"I try to retrieve all entities based on a nested entity name. I want this query to be case insensitive. It looks like `LOWER(c.company.companyName)` does not work, since when I type &#39;abc&#39;, but &#39;ABC&#39; is in a company name somewhere, I still get no result. I&#39;ve looked all over, but no result. When I remove all the `LOWER` parts, it does work, so for that I&#39;m sure that it has to do with `LOWER(c.company.companyName)`. What am I missing here?\r\n\r\n    @Query(value = &quot;SELECT c FROM Customer c WHERE LOWER(c.company.companyName) LIKE CONCAT(&#39;%&#39;, LOWER(:search), &#39;%&#39;)&quot;)\r\n    List&lt;Customer&gt; findByCompanyNameContainingIgnoreCase(@Param(&quot;search&quot;) String search);","title":"Springboot case insensitive domain query","body":"<p>I try to retrieve all entities based on a nested entity name. I want this query to be case insensitive. It looks like <code>LOWER(c.company.companyName)</code> does not work, since when I type 'abc', but 'ABC' is in a company name somewhere, I still get no result. I've looked all over, but no result. When I remove all the <code>LOWER</code> parts, it does work, so for that I'm sure that it has to do with <code>LOWER(c.company.companyName)</code>. What am I missing here?</p>\n<pre><code>@Query(value = &quot;SELECT c FROM Customer c WHERE LOWER(c.company.companyName) LIKE CONCAT('%', LOWER(:search), '%')&quot;)\nList&lt;Customer&gt; findByCompanyNameContainingIgnoreCase(@Param(&quot;search&quot;) String search);\n</code></pre>\n"},{"tags":["java","xmlreader","java-10"],"answers":[{"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1607437513,"post_id":51072441,"comment_id":115267941,"body_markdown":"@Igor If this post answers your question, please consider to mark the answer as &quot;accepted&quot;. Kindly refer to [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"@Igor If this post answers your question, please consider to mark the answer as &quot;accepted&quot;. Kindly refer to <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"},{"owner":{"account_id":1084159,"reputation":624,"user_id":1080301,"accept_rate":78,"display_name":"Thomas"},"score":1,"creation_date":1636112591,"post_id":51072441,"comment_id":123475792,"body_markdown":"Somehow this new XMLReader doesn&#39;t work with the same code as before. Maybe that&#39;s why it&#39;s not accepted. I&#39;m reverting to the deprecated factory.","body":"Somehow this new XMLReader doesn&#39;t work with the same code as before. Maybe that&#39;s why it&#39;s not accepted. I&#39;m reverting to the deprecated factory."}],"tags":[],"owner":{"account_id":10340570,"reputation":538,"user_id":7627081,"display_name":"Richard"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1530143198,"creation_date":1530139692,"answer_id":51072441,"question_id":51072419,"body_markdown":"The [documentation for `XMLReaderFactory`](https://docs.oracle.com/javase/9/docs/api/org/xml/sax/helpers/XMLReaderFactory.html) recommends [`SAXParserFactory`](https://docs.oracle.com/javase/9/docs/api/javax/xml/parsers/SAXParserFactory.html)\r\n\r\n    SAXParserFactory parserFactory = SAXParserFactory.newInstance();\r\n    SAXParser parser = parserFactory.newSAXParser();\r\n    XMLReader reader = parser.getXMLReader();","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/org/xml/sax/helpers/XMLReaderFactory.html\" rel=\"noreferrer\">documentation for <code>XMLReaderFactory</code></a> recommends <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/parsers/SAXParserFactory.html\" rel=\"noreferrer\"><code>SAXParserFactory</code></a></p>\n\n<pre><code>SAXParserFactory parserFactory = SAXParserFactory.newInstance();\nSAXParser parser = parserFactory.newSAXParser();\nXMLReader reader = parser.getXMLReader();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685344035,"creation_date":1685344035,"answer_id":76355303,"question_id":51072419,"body_markdown":"`XMLReader xmlReader = org.apache.poi.util.XMLHelper.newXMLReader();` Creates a new SAX XMLReader, with sensible defaults. ","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p><code>XMLReader xmlReader = org.apache.poi.util.XMLHelper.newXMLReader();</code> Creates a new SAX XMLReader, with sensible defaults.</p>\n"},{"tags":[],"owner":{"account_id":10007561,"reputation":51,"user_id":7401501,"display_name":"MattVon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697208448,"creation_date":1697208448,"answer_id":77288688,"question_id":51072419,"body_markdown":"Same issue here as we just make a big jump from Jdk8 to jdk17, for compatibility here is my code from my own factory: \r\n```\r\nXMLReader saxReader;\r\ntry {\r\n\tSAXParserFactory parserFactory = SAXParserFactory.newInstance();\r\n\tparserFactory.setNamespaceAware(true);\r\n\tSAXParser parser = parserFactory.newSAXParser();\r\n\tXMLReader saxReader  = parser.getXMLReader();\t\t\t\r\n\tsaxReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n} catch (javax.xml.parsers.ParserConfigurationException parseEx) {\r\n\tthrow new SAXException(parseEx);\r\n} \r\n```\r\n\r\nmaking the parser ns aware solved the compatibility issue link to the usage of a DefaultHandler.\r\nThe XXE protection was already there (see: [owasp XXE][1]) but worth mentioning anyway I think.  \r\nthe try catch wrapping is due to the fact that a new exception is now thrown (you can remove this part and manage exception somewhere else if you can)\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p>Same issue here as we just make a big jump from Jdk8 to jdk17, for compatibility here is my code from my own factory:</p>\n<pre><code>XMLReader saxReader;\ntry {\n    SAXParserFactory parserFactory = SAXParserFactory.newInstance();\n    parserFactory.setNamespaceAware(true);\n    SAXParser parser = parserFactory.newSAXParser();\n    XMLReader saxReader  = parser.getXMLReader();           \n    saxReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n} catch (javax.xml.parsers.ParserConfigurationException parseEx) {\n    throw new SAXException(parseEx);\n} \n</code></pre>\n<p>making the parser ns aware solved the compatibility issue link to the usage of a DefaultHandler.\nThe XXE protection was already there (see: <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">owasp XXE</a>) but worth mentioning anyway I think.<br />\nthe try catch wrapping is due to the fact that a new exception is now thrown (you can remove this part and manage exception somewhere else if you can)</p>\n"}],"owner":{"account_id":12991745,"reputation":131,"user_id":9499931,"display_name":"Igor Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5464,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":3,"score":11,"last_activity_date":1697208448,"creation_date":1530139505,"question_id":51072419,"body_markdown":"I&#39;m trying use XMLReaderFactory, but this is deprecated. \r\nNow, how Can I create a instance of XMLReader?","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p>I'm trying use XMLReaderFactory, but this is deprecated. \nNow, how Can I create a instance of XMLReader?</p>\n"},{"tags":["java","spring","spring-boot","service","propagation"],"owner":{"account_id":6270427,"reputation":143,"user_id":10099714,"display_name":"Mike J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697208440,"creation_date":1697208440,"question_id":77288687,"body_markdown":"I&#39;m currently facing an issue which I&#39;m unable to solve.\r\n\r\nHere the problem.\r\nI have a class **Picker** inside **Microservice PickerManager** that requires services. This **Picker** class sends events via RabbitMQ to **Microservice B**.\r\n\r\n```java\r\n@Component\r\nclass Picker {\r\n    @Autowired\r\n    public Picker(Services services,\r\n                  ApplicationEventPublisher eventPublisher,\r\n                  UtilsPickerManager utilsPickerManager,\r\n                  UtilsAW utilsAW) throws Exception {\r\n        this.services = services;\r\n        this.eventPublisher = eventPublisher;\r\n    }\r\n    private PickerCommandEO movePickerToTargetSegment() {\r\n        // ... code\r\n        eventPublisher.publishEvent(commands.get(0).getEvent()); // &lt;- Send an event\r\n        // ... code\r\n    }\r\n}\r\n```\r\n\r\nSending this event invokes the following method:\r\n```java\r\n@Component\r\npublic class DriverCommandSenderImpl {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(DriverCommandSenderImpl.class);\r\n    private final String exchangeName;\r\n    private final AmqpTemplate amqpTemplate;\r\n    DriverCommandSenderImpl(@Value(&quot;${corren.driver.pickers.commands.exchange-name}&quot;) String exchangeName, AmqpTemplate amqpTemplate) {\r\n        this.exchangeName = exchangeName;\r\n        this.amqpTemplate = amqpTemplate;\r\n    }\r\n\r\n    @EventListener\r\n    public void onPickerCommand(PickerCommand mo) {\r\n        final Gson gson = new GsonBuilder().create();\r\n        String moAsString = gson.toJson(mo);\r\n        try {\r\n            amqpTemplate.convertAndSend(exchangeName, &quot;csa.commands.&quot;+mo.getType(), moAsString); //&lt;- Send Event to Microservice B\r\n        } catch (Exception e) {\r\n            throw new TechnicalRuntimeException(e.getMessage(), e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen, the event is sent to **Microservice B**. The **Microservice B** responds with another event to the **PickerManager microservice** once the message processing has been completed. This message arrives in the Picker&#39;s queue.\r\n\r\n```java\r\n@TxService\r\npublic class ListenerConfiguration {\r\n    private final AcknowledgmentHandler acknowledgmentHandler;\r\n    private final Services services;\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ListenerConfiguration.class);\r\n\r\n    @Autowired\r\n    public ListenerConfiguration(\r\n        AcknowledgmentHandler acknowledgmentHandler,\r\n        Services services\r\n    ) {\r\n        this.acknowledgmentHandler = acknowledgmentHandler;\r\n        this.services = services;\r\n    }\r\n\r\n    // The queue is triggered when a new message is received.\r\n    @RabbitListener(queues = &quot;${corren.driver.pickers.acknowledgements.queue-name}&quot;)\r\n    public void receiveAcknowledgmentCommand(String message) throws Exception {\r\n        final Gson gson = new GsonBuilder().create();\r\n        AcknowledgementMO acknowledgementMO = gson.fromJson(message, AcknowledgementMO.class);\r\n        acknowledgmentHandler.handler(acknowledgementMO);\r\n    }\r\n}\r\n```\r\n\r\nWell. Now, I let&#39;s save a Picker inside DB. For doing that I&#39;m using the following method inside **Picker class**\r\n```java\r\n@Component\r\nclass Picker {\r\n    @Autowired\r\n    public Picker(Services services,\r\n                  ApplicationEventPublisher eventPublisher,\r\n                  UtilsPickerManager utilsPickerManager,\r\n                  UtilsAW utilsAW) throws Exception {\r\n        this.services = services;\r\n        this.eventPublisher = eventPublisher;\r\n    }\r\n    public void savePicker() {\r\n      PickerEO picker = new PickerEO();\r\n      services.getPickerManager().save(pickerEO);\r\n    }\r\n}\r\n```\r\n\r\nAlright. Now, I&#39;m checking if Picker exist in DB from the **services** contained inside the **Picker** class. And, yes ! It well exist. Great.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhat is really really weired now. I want to check from the class **ListenerConfiguration** through the service attribute (which is @Autowired also) if the **Picker** exist in DB. And... Guess what. No! The picker value is not inside the results.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWe are agree to say that is not normal at all because the both service inside the both class have been injected by using the @Autowired decorator. So it&#39;s should be the same instance of the object. Of course I&#39;ve check that. Inside the both class, the service attribute have the same ID value. So it confirm that it&#39;s the same object.\r\n\r\nScreen of the service ID from **Picker** class\r\n[![enter image description here][3]][3]\r\n\r\nScreen of the service ID from **ListenerConfiguration** class\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI&#39;m blocked at that point.\r\n\r\nIf someone have an idea. Thank you for your time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xq6hM.png\r\n  [2]: https://i.stack.imgur.com/VPp5M.png\r\n  [3]: https://i.stack.imgur.com/Fd9yW.png\r\n  [4]: https://i.stack.imgur.com/X3tBw.png","title":"Services not synchronized Spring","body":"<p>I'm currently facing an issue which I'm unable to solve.</p>\n<p>Here the problem.\nI have a class <strong>Picker</strong> inside <strong>Microservice PickerManager</strong> that requires services. This <strong>Picker</strong> class sends events via RabbitMQ to <strong>Microservice B</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass Picker {\n    @Autowired\n    public Picker(Services services,\n                  ApplicationEventPublisher eventPublisher,\n                  UtilsPickerManager utilsPickerManager,\n                  UtilsAW utilsAW) throws Exception {\n        this.services = services;\n        this.eventPublisher = eventPublisher;\n    }\n    private PickerCommandEO movePickerToTargetSegment() {\n        // ... code\n        eventPublisher.publishEvent(commands.get(0).getEvent()); // &lt;- Send an event\n        // ... code\n    }\n}\n</code></pre>\n<p>Sending this event invokes the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DriverCommandSenderImpl {\n    private static final Logger LOGGER = LoggerFactory.getLogger(DriverCommandSenderImpl.class);\n    private final String exchangeName;\n    private final AmqpTemplate amqpTemplate;\n    DriverCommandSenderImpl(@Value(&quot;${corren.driver.pickers.commands.exchange-name}&quot;) String exchangeName, AmqpTemplate amqpTemplate) {\n        this.exchangeName = exchangeName;\n        this.amqpTemplate = amqpTemplate;\n    }\n\n    @EventListener\n    public void onPickerCommand(PickerCommand mo) {\n        final Gson gson = new GsonBuilder().create();\n        String moAsString = gson.toJson(mo);\n        try {\n            amqpTemplate.convertAndSend(exchangeName, &quot;csa.commands.&quot;+mo.getType(), moAsString); //&lt;- Send Event to Microservice B\n        } catch (Exception e) {\n            throw new TechnicalRuntimeException(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>Then, the event is sent to <strong>Microservice B</strong>. The <strong>Microservice B</strong> responds with another event to the <strong>PickerManager microservice</strong> once the message processing has been completed. This message arrives in the Picker's queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TxService\npublic class ListenerConfiguration {\n    private final AcknowledgmentHandler acknowledgmentHandler;\n    private final Services services;\n    private static final Logger LOGGER = LoggerFactory.getLogger(ListenerConfiguration.class);\n\n    @Autowired\n    public ListenerConfiguration(\n        AcknowledgmentHandler acknowledgmentHandler,\n        Services services\n    ) {\n        this.acknowledgmentHandler = acknowledgmentHandler;\n        this.services = services;\n    }\n\n    // The queue is triggered when a new message is received.\n    @RabbitListener(queues = &quot;${corren.driver.pickers.acknowledgements.queue-name}&quot;)\n    public void receiveAcknowledgmentCommand(String message) throws Exception {\n        final Gson gson = new GsonBuilder().create();\n        AcknowledgementMO acknowledgementMO = gson.fromJson(message, AcknowledgementMO.class);\n        acknowledgmentHandler.handler(acknowledgementMO);\n    }\n}\n</code></pre>\n<p>Well. Now, I let's save a Picker inside DB. For doing that I'm using the following method inside <strong>Picker class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass Picker {\n    @Autowired\n    public Picker(Services services,\n                  ApplicationEventPublisher eventPublisher,\n                  UtilsPickerManager utilsPickerManager,\n                  UtilsAW utilsAW) throws Exception {\n        this.services = services;\n        this.eventPublisher = eventPublisher;\n    }\n    public void savePicker() {\n      PickerEO picker = new PickerEO();\n      services.getPickerManager().save(pickerEO);\n    }\n}\n</code></pre>\n<p>Alright. Now, I'm checking if Picker exist in DB from the <strong>services</strong> contained inside the <strong>Picker</strong> class. And, yes ! It well exist. Great.\n<a href=\"https://i.stack.imgur.com/Xq6hM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xq6hM.png\" alt=\"enter image description here\" /></a></p>\n<p>What is really really weired now. I want to check from the class <strong>ListenerConfiguration</strong> through the service attribute (which is @Autowired also) if the <strong>Picker</strong> exist in DB. And... Guess what. No! The picker value is not inside the results.</p>\n<p><a href=\"https://i.stack.imgur.com/VPp5M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPp5M.png\" alt=\"enter image description here\" /></a></p>\n<p>We are agree to say that is not normal at all because the both service inside the both class have been injected by using the @Autowired decorator. So it's should be the same instance of the object. Of course I've check that. Inside the both class, the service attribute have the same ID value. So it confirm that it's the same object.</p>\n<p>Screen of the service ID from <strong>Picker</strong> class\n<a href=\"https://i.stack.imgur.com/Fd9yW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fd9yW.png\" alt=\"enter image description here\" /></a></p>\n<p>Screen of the service ID from <strong>ListenerConfiguration</strong> class\n<a href=\"https://i.stack.imgur.com/X3tBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X3tBw.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm blocked at that point.</p>\n<p>If someone have an idea. Thank you for your time.</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-camel"],"comments":[{"owner":{"account_id":251784,"reputation":321,"user_id":529398,"accept_rate":40,"display_name":"St&#233;phane Derosiaux"},"score":0,"creation_date":1697005090,"post_id":77265091,"comment_id":136223273,"body_markdown":"I believe this is linked: https://issues.apache.org/jira/browse/CAMEL-19393 &quot;camel-kafka - Configuring kafka option should no longer all be string types&quot;","body":"I believe this is linked: <a href=\"https://issues.apache.org/jira/browse/CAMEL-19393\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CAMEL-19393</a> &quot;camel-kafka - Configuring kafka option should no longer all be string types&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697208311,"creation_date":1697208311,"answer_id":77288677,"question_id":77265091,"body_markdown":"Well I face the same issue as you when I upgraded my Camel to 3.21.0 and then move to 3.21.1 and still having the same issue \r\n\r\nIn short answer there is no a fix from Camel side. \r\n\r\nOn KafkaConfiguration of Camel https://github.com/apache/camel/blob/camel-3.21.1/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConfiguration.java\r\n\r\n    private Long maxPollIntervalMs;\r\n    @UriParam(\r\n        label = &quot;consumer&quot;,\r\n        defaultValue = &quot;latest&quot;,\r\n        enums = &quot;latest,earliest,none&quot;\r\n    )\r\n\r\nIt is Long and Kafka is expecting Integer for max.poll.interval.ms  : \r\n\r\n                case INT:\r\n                    if (value instanceof Integer) {\r\n                        return value;\r\n                    } else {\r\n                        if (value instanceof String) {\r\n                            return Integer.parseInt(trimmed);\r\n                        }\r\n\r\n                        throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\r\n\r\nSo for to make this work it is just fork and change that parameter to use Integer instead of Long if you need that parameter. ","title":"Apache Camel 3.21.0 Kafka Consumer max.poll.interval.ms","body":"<p>Well I face the same issue as you when I upgraded my Camel to 3.21.0 and then move to 3.21.1 and still having the same issue</p>\n<p>In short answer there is no a fix from Camel side.</p>\n<p>On KafkaConfiguration of Camel <a href=\"https://github.com/apache/camel/blob/camel-3.21.1/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/camel-3.21.1/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConfiguration.java</a></p>\n<pre><code>private Long maxPollIntervalMs;\n@UriParam(\n    label = &quot;consumer&quot;,\n    defaultValue = &quot;latest&quot;,\n    enums = &quot;latest,earliest,none&quot;\n)\n</code></pre>\n<p>It is Long and Kafka is expecting Integer for max.poll.interval.ms  :</p>\n<pre><code>            case INT:\n                if (value instanceof Integer) {\n                    return value;\n                } else {\n                    if (value instanceof String) {\n                        return Integer.parseInt(trimmed);\n                    }\n\n                    throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\n</code></pre>\n<p>So for to make this work it is just fork and change that parameter to use Integer instead of Long if you need that parameter.</p>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697208311,"creation_date":1696934752,"question_id":77265091,"body_markdown":"In my springboot project with camel-kafka I was using camel-spring-boot-starter and camel-kafka-starter dependencies.\r\nI created a consumer with the form:\r\n```\r\nfrom(&quot;kafka:my-topic?brokers=myBroker&amp;consumersCount=1&amp;groupId=myGroupId&amp;maxPollRecords=1&amp;maxPollIntervalMs=3600000&amp;autoCommitEnable=false&amp;allowManualCommit=true&quot;)\r\n```\r\nIt was working until the version of Camel 3.20.6.\r\nWith the newest versions 3.21.0 and 3.21.1 at the start of the application I have this Exception:\r\n```\r\norg.apache.kafka.common.config.ConfigException: Invalid value 3600000 for configuration max.poll.interval.ms: Expected value to be a 32-bit integer, but it was a java.lang.Long\r\n\tat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:688)\r\n\tat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\r\n\tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\r\n\tat org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:630)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:645)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:625)\r\n\tat org.apache.camel.component.kafka.DefaultKafkaClientFactory.getConsumer(DefaultKafkaClientFactory.java:34)\r\n\tat org.apache.camel.component.kafka.KafkaFetchRecords.createConsumer(KafkaFetchRecords.java:245)\r\n\tat org.apache.camel.component.kafka.KafkaFetchRecords.createConsumerTask(KafkaFetchRecords.java:205)\r\n\tat org.apache.camel.support.task.ForegroundTask.run(ForegroundTask.java:93)\r\n\tat org.apache.camel.component.kafka.KafkaFetchRecords.run(KafkaFetchRecords.java:127)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\nLooking for the Exception it seems to be a problem not directly related to Camel, but I don&#39;t know how to solve it.\r\nThis is the related problem in kafka-client:\r\n&lt;https://github.com/logstash-plugins/logstash-input-kafka/issues/199&gt;.\r\nIt seems to be a configuration in\r\n```\r\norg/apache/kafka/common/config/ConfigDef.java\r\n```\r\n```\r\npublic static Object parseType(String name, Object value, Type type) {\r\n        ...\r\n                case INT:\r\n                    if (value instanceof Integer) {\r\n                        return value;\r\n                    } else if (value instanceof String) {\r\n                        return Integer.parseInt(trimmed);\r\n                    } else {\r\n                        throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\r\n                    }\r\n        ...\r\n    }\r\n```\r\nbut maybe is Camel that is parsing it to a Long instead of an Integer.\r\n\r\nI tried to pass a smaller value, like 360, but the problem is still the same.\r\nIf I try to pass a String to bypass the problem, like &quot;3600000&quot; it reads the value like 0.\r\n\r\nDoes anyone solved this problem?\r\n","title":"Apache Camel 3.21.0 Kafka Consumer max.poll.interval.ms","body":"<p>In my springboot project with camel-kafka I was using camel-spring-boot-starter and camel-kafka-starter dependencies.\nI created a consumer with the form:</p>\n<pre><code>from(&quot;kafka:my-topic?brokers=myBroker&amp;consumersCount=1&amp;groupId=myGroupId&amp;maxPollRecords=1&amp;maxPollIntervalMs=3600000&amp;autoCommitEnable=false&amp;allowManualCommit=true&quot;)\n</code></pre>\n<p>It was working until the version of Camel 3.20.6.\nWith the newest versions 3.21.0 and 3.21.1 at the start of the application I have this Exception:</p>\n<pre><code>org.apache.kafka.common.config.ConfigException: Invalid value 3600000 for configuration max.poll.interval.ms: Expected value to be a 32-bit integer, but it was a java.lang.Long\n    at org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:688)\n    at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\n    at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\n    at org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:630)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:645)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:625)\n    at org.apache.camel.component.kafka.DefaultKafkaClientFactory.getConsumer(DefaultKafkaClientFactory.java:34)\n    at org.apache.camel.component.kafka.KafkaFetchRecords.createConsumer(KafkaFetchRecords.java:245)\n    at org.apache.camel.component.kafka.KafkaFetchRecords.createConsumerTask(KafkaFetchRecords.java:205)\n    at org.apache.camel.support.task.ForegroundTask.run(ForegroundTask.java:93)\n    at org.apache.camel.component.kafka.KafkaFetchRecords.run(KafkaFetchRecords.java:127)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Looking for the Exception it seems to be a problem not directly related to Camel, but I don't know how to solve it.\nThis is the related problem in kafka-client:\n<a href=\"https://github.com/logstash-plugins/logstash-input-kafka/issues/199\" rel=\"nofollow noreferrer\">https://github.com/logstash-plugins/logstash-input-kafka/issues/199</a>.\nIt seems to be a configuration in</p>\n<pre><code>org/apache/kafka/common/config/ConfigDef.java\n</code></pre>\n<pre><code>public static Object parseType(String name, Object value, Type type) {\n        ...\n                case INT:\n                    if (value instanceof Integer) {\n                        return value;\n                    } else if (value instanceof String) {\n                        return Integer.parseInt(trimmed);\n                    } else {\n                        throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\n                    }\n        ...\n    }\n</code></pre>\n<p>but maybe is Camel that is parsing it to a Long instead of an Integer.</p>\n<p>I tried to pass a smaller value, like 360, but the problem is still the same.\nIf I try to pass a String to bypass the problem, like &quot;3600000&quot; it reads the value like 0.</p>\n<p>Does anyone solved this problem?</p>\n"},{"tags":["java","spring","security","spring-security"],"answers":[{"comments":[{"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"score":0,"creation_date":1697212349,"post_id":77288663,"comment_id":136255936,"body_markdown":"Thanks!! That helped A LOT! Now I just need to understand how to change the &quot;UserDetails user = User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).build();&quot; to the data I&#39;m receiving from the endpoint...? I have no idea how to do that! I&#39;ll take a look and see what I can find! Thanks again!","body":"Thanks!! That helped A LOT! Now I just need to understand how to change the &quot;UserDetails user = User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&zwnj;&#8203;&quot;password&quot;).roles(&quot;U&zwnj;&#8203;SER&quot;).build();&quot; to the data I&#39;m receiving from the endpoint...? I have no idea how to do that! I&#39;ll take a look and see what I can find! Thanks again!"},{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1697213989,"post_id":77288663,"comment_id":136256279,"body_markdown":"The comment link includes an example.","body":"The comment link includes an example."},{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1697214376,"post_id":77288663,"comment_id":136256368,"body_markdown":"[Password Storage](https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/storage.html) in the reference docs also includes examples, as does the blog post. You&#39;re looking for `UserDetailsService`.","body":"<a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/storage.html\" rel=\"nofollow noreferrer\">Password Storage</a> in the reference docs also includes examples, as does the blog post. You&#39;re looking for <code>UserDetailsService</code>."},{"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"score":0,"creation_date":1698025217,"post_id":77288663,"comment_id":136348811,"body_markdown":"Hey it&#39;s me again. Sorry but I gave a little attention to the examples you mentioned but I couldn&#39;t find them. Looking for &quot;UserDetailsService&quot; I&#39;ve found this example (https://www.baeldung.com/spring-security-authentication-with-a-database) but didn&#39;t work. I&#39;m using Spring Data JPA and the user (attribute named Email not Username) is already saved on the database, this RestController endpoint that I&#39;m coding is the Login, should check if the Email and Password matches and generate a Token back, Am I doing it right? What should I look for?","body":"Hey it&#39;s me again. Sorry but I gave a little attention to the examples you mentioned but I couldn&#39;t find them. Looking for &quot;UserDetailsService&quot; I&#39;ve found this example (<a href=\"https://www.baeldung.com/spring-security-authentication-with-a-database\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-authentication-with-a-database</a>&zwnj;&#8203;) but didn&#39;t work. I&#39;m using Spring Data JPA and the user (attribute named Email not Username) is already saved on the database, this RestController endpoint that I&#39;m coding is the Login, should check if the Email and Password matches and generate a Token back, Am I doing it right? What should I look for?"},{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1698070621,"post_id":77288663,"comment_id":136355217,"body_markdown":"@AlfredoMarin Please open a new question with the details of what you&#39;re trying to do and what you&#39;ve tried. Comments aren&#39;t the best place to work through questions and issues.","body":"@AlfredoMarin Please open a new question with the details of what you&#39;re trying to do and what you&#39;ve tried. Comments aren&#39;t the best place to work through questions and issues."},{"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"score":0,"creation_date":1700709681,"post_id":77288663,"comment_id":136688684,"body_markdown":"Agreed! just created a new question! Thanks man! https://stackoverflow.com/questions/77534186/spring-security-3-userdetailsservice","body":"Agreed! just created a new question! Thanks man! <a href=\"https://stackoverflow.com/questions/77534186/spring-security-3-userdetailsservice\" title=\"spring security 3 userdetailsservice\">stackoverflow.com/questions/77534186/&hellip;</a>"}],"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697208184,"creation_date":1697208184,"answer_id":77288663,"question_id":77286387,"body_markdown":"This is a [known issue](https://github.com/spring-projects/spring-security/issues/12343). You can publish the `AuthenticationManager` bean correctly to resolve it. For examples, see [this comment](https://github.com/spring-projects/spring-security/issues/11926#issue-1392720412), [this blog post](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter), [this answer](https://stackoverflow.com/a/73037749/15835039) and the [5.8 migration guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#_publish_an_authenticationmanager_bean).\r\n\r\nPlease note that Spring Security has [built-in support for JWT](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html) as well, so you can avoid writing your own filter.","title":"AuthenticationManager.authenticate() returns stackoverflow","body":"<p>This is a <a href=\"https://github.com/spring-projects/spring-security/issues/12343\" rel=\"nofollow noreferrer\">known issue</a>. You can publish the <code>AuthenticationManager</code> bean correctly to resolve it. For examples, see <a href=\"https://github.com/spring-projects/spring-security/issues/11926#issue-1392720412\" rel=\"nofollow noreferrer\">this comment</a>, <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">this blog post</a>, <a href=\"https://stackoverflow.com/a/73037749/15835039\">this answer</a> and the <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#_publish_an_authenticationmanager_bean\" rel=\"nofollow noreferrer\">5.8 migration guide</a>.</p>\n<p>Please note that Spring Security has <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">built-in support for JWT</a> as well, so you can avoid writing your own filter.</p>\n"}],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77288663,"answer_count":1,"score":0,"last_activity_date":1697208184,"creation_date":1697187356,"question_id":77286387,"body_markdown":"I&#39;m trying to make a simple login system on my project, using Spring 3.1.1 and Spring Security 3.1.1 as well. Read on the documentation that we should not &quot;extends WebSecurityAdapter&quot; anymore and instead implement it like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Autowired\r\n        RequestFilter requestFilter;\r\n    \r\n        /**\r\n         * List with whitelisted endpoints.\r\n         */\r\n        private static final String[] AUTH_WHITELIST = {\r\n                // -- Swagger UI v2\r\n                &quot;/v2/api-docs&quot;,\r\n                &quot;/swagger-resources&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/configuration/ui&quot;,\r\n                &quot;/configuration/security&quot;,\r\n                &quot;/swagger-ui.html&quot;,\r\n                &quot;/webjars/**&quot;,\r\n                // -- Swagger UI v3 (OpenAPI)\r\n                &quot;/v3/api-docs/**&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                // other public endpoints of your API may be appended to this array\r\n                &quot;/users/register&quot;,\r\n                &quot;/users/login&quot;,\r\n                &quot;/plans/free-plan&quot;\r\n        };\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n            return httpSecurity\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .authorizeHttpRequests(authorize -&gt; authorize\r\n                            .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .addFilterBefore(requestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return web -&gt; web.ignoring().requestMatchers(&quot;/v3/api-docs/**&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nIn this class I create an &quot;AuthenticationManager&quot; on the bean but when I try to use this on my service it gives an Stackoverflow error. My service:\r\n\r\n    @Service\r\n    public class UserService extends GenericService&lt;User&gt; {\r\n\r\n        /**\r\n         * Authentication Manager instance.\r\n         */\r\n        private final AuthenticationManager authenticationManager;\r\n\r\n        /**\r\n         * User Repository instance.\r\n         */\r\n        private final UserRepository userRepository;\r\n\r\n        /**\r\n         * JWTUtils Instance.\r\n         */\r\n        private JWTTokenUtils jwtTokenUtils;\r\n\r\n        /**\r\n         * Plan Service instance.\r\n         */\r\n        private PlanService planService;\r\n\r\n        @Autowired\r\n        public UserService(AuthenticationManager authenticationManager, UserRepository userRepository,\r\n                           JWTTokenUtils jwtTokenUtils, PlanService planService) {\r\n            this.authenticationManager = authenticationManager;\r\n            this.userRepository = userRepository;\r\n            this.jwtTokenUtils = jwtTokenUtils;\r\n            this.planService = planService;\r\n        }\r\n\r\n        @Override\r\n        protected GenericRepository getGenericRepository() {\r\n            return userRepository;\r\n        }\r\n\r\n        @Override\r\n        protected SearchPredicate&lt;User&gt; getSearchPredicate(String search) {\r\n            return null;\r\n        }\r\n\r\n        /* Methods */\r\n\r\n        /**\r\n         * Method to login on Coupler API.\r\n         *\r\n         * @param jwtRequestDTO Login request DTO.\r\n         * @return {@link JwtResponseDTO}. JWT Token with all the info.\r\n         * @throws RestRequestException The API can throw an exception if it cannot find necessary data.\r\n         */\r\n        public JwtResponseDTO login(JwtRequestDTO jwtRequestDTO) throws RestRequestException {\r\n            var userPassword = new UsernamePasswordAuthenticationToken(jwtRequestDTO.getEmail(), jwtRequestDTO.getPassword());\r\n            // The error is here!\r\n            var auth = authenticationManager.authenticate(userPassword);\r\n            var token = jwtTokenUtils.generateToken(((User) auth.getPrincipal()).getEmail());\r\n            User user = userRepository.findByEmail(jwtRequestDTO.getEmail())\r\n                    .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.FIM_ERROR_U01.getMessage()));\r\n            return new JwtResponseDTO(token, user.getId());\r\n        }\r\n    }\r\nI&#39;m not defining any other AuthenticationManager in my system and when I comment or remove the &quot;@Bean&quot; with the AuthenticationManager, it claims that my UserService requires a bean that was not provided and this beam is the AuthenticationManager.\r\nThe &quot;RequestFilter&quot; is my &quot;extended OncePerRequestFilter&quot; implementation, don&#39;t think the problem is there so I&#39;ll ignore it for the sake of keeping it simple.","title":"AuthenticationManager.authenticate() returns stackoverflow","body":"<p>I'm trying to make a simple login system on my project, using Spring 3.1.1 and Spring Security 3.1.1 as well. Read on the documentation that we should not &quot;extends WebSecurityAdapter&quot; anymore and instead implement it like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    RequestFilter requestFilter;\n\n    /**\n     * List with whitelisted endpoints.\n     */\n    private static final String[] AUTH_WHITELIST = {\n            // -- Swagger UI v2\n            &quot;/v2/api-docs&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/webjars/**&quot;,\n            // -- Swagger UI v3 (OpenAPI)\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-ui/**&quot;,\n            // other public endpoints of your API may be appended to this array\n            &quot;/users/register&quot;,\n            &quot;/users/login&quot;,\n            &quot;/plans/free-plan&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(AUTH_WHITELIST).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .addFilterBefore(requestFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return web -&gt; web.ignoring().requestMatchers(&quot;/v3/api-docs/**&quot;);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>In this class I create an &quot;AuthenticationManager&quot; on the bean but when I try to use this on my service it gives an Stackoverflow error. My service:</p>\n<pre><code>@Service\npublic class UserService extends GenericService&lt;User&gt; {\n\n    /**\n     * Authentication Manager instance.\n     */\n    private final AuthenticationManager authenticationManager;\n\n    /**\n     * User Repository instance.\n     */\n    private final UserRepository userRepository;\n\n    /**\n     * JWTUtils Instance.\n     */\n    private JWTTokenUtils jwtTokenUtils;\n\n    /**\n     * Plan Service instance.\n     */\n    private PlanService planService;\n\n    @Autowired\n    public UserService(AuthenticationManager authenticationManager, UserRepository userRepository,\n                       JWTTokenUtils jwtTokenUtils, PlanService planService) {\n        this.authenticationManager = authenticationManager;\n        this.userRepository = userRepository;\n        this.jwtTokenUtils = jwtTokenUtils;\n        this.planService = planService;\n    }\n\n    @Override\n    protected GenericRepository getGenericRepository() {\n        return userRepository;\n    }\n\n    @Override\n    protected SearchPredicate&lt;User&gt; getSearchPredicate(String search) {\n        return null;\n    }\n\n    /* Methods */\n\n    /**\n     * Method to login on Coupler API.\n     *\n     * @param jwtRequestDTO Login request DTO.\n     * @return {@link JwtResponseDTO}. JWT Token with all the info.\n     * @throws RestRequestException The API can throw an exception if it cannot find necessary data.\n     */\n    public JwtResponseDTO login(JwtRequestDTO jwtRequestDTO) throws RestRequestException {\n        var userPassword = new UsernamePasswordAuthenticationToken(jwtRequestDTO.getEmail(), jwtRequestDTO.getPassword());\n        // The error is here!\n        var auth = authenticationManager.authenticate(userPassword);\n        var token = jwtTokenUtils.generateToken(((User) auth.getPrincipal()).getEmail());\n        User user = userRepository.findByEmail(jwtRequestDTO.getEmail())\n                .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.FIM_ERROR_U01.getMessage()));\n        return new JwtResponseDTO(token, user.getId());\n    }\n}\n</code></pre>\n<p>I'm not defining any other AuthenticationManager in my system and when I comment or remove the &quot;@Bean&quot; with the AuthenticationManager, it claims that my UserService requires a bean that was not provided and this beam is the AuthenticationManager.\nThe &quot;RequestFilter&quot; is my &quot;extended OncePerRequestFilter&quot; implementation, don't think the problem is there so I'll ignore it for the sake of keeping it simple.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697203606,"post_id":77286937,"comment_id":136254046,"body_markdown":"I did not look deeply at your code, but I am not sure why you would need a `Runnabler` to play animations or sounds. I would suggest looking into JavaFX&#39;s `Animation` `API`.","body":"I did not look deeply at your code, but I am not sure why you would need a <code>Runnabler</code> to play animations or sounds. I would suggest looking into JavaFX&#39;s <code>Animation</code> <code>API</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1697210825,"post_id":77286937,"comment_id":136255586,"body_markdown":"If you want to play a sound, maybe an AudioClip is better than a MediaPlayer.","body":"If you want to play a sound, maybe an AudioClip is better than a MediaPlayer."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697206720,"creation_date":1697206720,"answer_id":77288489,"question_id":77286937,"body_markdown":"I would remove all use of `static` fields, and I would remove all uses of ScheduledExecutorService.\r\n\r\nI realize that the static fields were necessary since the `main` method of Test has no way to access the instance of NotificationApp created by JavaFX, but the better way to do this is to have only one main method, so you won’t need to worry about accessing a NotificationApp instance from other classes.\r\n\r\nIf you want to make NotificationApp capable of performing different actions, use its [command line arguments](https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html#getParameters()).  Instead of ScheduledExecutorService.schedule, use the [setOnFinished](https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Animation.html#setOnFinished(javafx.event.EventHandler)) method of [PauseTransition](https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/PauseTransition.html), which will remove the need for Platform.runLater there.  Instead of ScheduledExecutorService.scheduleAtFixedRate, create a [Timeline with a single KeyFrame](https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Timeline.html#%3Cinit%3E(javafx.animation.KeyFrame...)) whose listener performs the task.\r\n\r\n    import java.io.File;\r\n\r\n    import java.util.List;\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.PauseTransition;\r\n    import javafx.animation.Timeline;\r\n    import javafx.animation.KeyFrame;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.StageStyle;\r\n    import javafx.stage.Screen;\r\n\r\n    import javafx.scene.Scene;\r\n\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n\r\n    import javafx.scene.layout.Pane;\r\n\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n\r\n    import javafx.util.Duration;\r\n\r\n    public class NotificationApp extends Application {\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n\r\n        private Stage primaryStage;\r\n        private MediaPlayer mediaPlayer;\r\n\r\n        // Schedule closing the stage after 5 seconds\r\n        private Animation closer;\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            // Create a custom dialog with an ImageView\r\n            Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\r\n            ImageView gifImageView = new ImageView(gifImage);\r\n            Pane pane = new Pane(gifImageView);\r\n            Scene scene = new Scene(pane);\r\n\r\n            // Set stage properties\r\n            primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\r\n            primaryStage.setAlwaysOnTop(true);\r\n\r\n            // Determine screen dimensions\r\n            double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\r\n            double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\r\n            double stageWidth = gifImage.getWidth();\r\n            double stageHeight = gifImage.getHeight();\r\n\r\n            // Set the stage position to the right corner\r\n            double xOffset = screenWidth - stageWidth;\r\n            double yOffset = screenHeight - stageHeight;\r\n            primaryStage.setX(xOffset);\r\n            primaryStage.setY(yOffset);\r\n\r\n            primaryStage.setScene(scene);\r\n            this.primaryStage = primaryStage;\r\n\r\n            Media sound = new Media(NotificationApp.class.getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\r\n            mediaPlayer = new MediaPlayer(sound);\r\n\r\n            closer = new PauseTransition(Duration.seconds(5));\r\n            closer.setOnFinished(e -&gt; {\r\n                mediaPlayer.stop();\r\n                primaryStage.close();\r\n            });\r\n\r\n            List&lt;String&gt; args = getParameters().getRaw();\r\n            if (args.isEmpty()) {\r\n                //Play animation and Sound during application start\r\n                Platform.runLater(() -&gt; playAnimation());\r\n            } else {\r\n                Platform.setImplicitExit(false);\r\n                for (String arg : args) {\r\n                    Duration interval = Duration.valueOf(arg);\r\n                    Timeline repeater = new Timeline(\r\n                        new KeyFrame(interval, e -&gt; playAnimation()));\r\n                    repeater.setCycleCount(Animation.INDEFINITE);\r\n                    repeater.play();\r\n                }\r\n            }\r\n        }\r\n\r\n        private void playAnimation() {\r\n            mediaPlayer.play();\r\n            primaryStage.show();\r\n\r\n            closer.playFromStart();\r\n        }\r\n\r\n    }\r\n\r\nThe event handlers of PauseTransition and Timeline are called in the JavaFX application thread, so there is no need for Platform.runLater.\r\n\r\nThe application can be invoked like this:\r\n\r\n    java -p /opt/java/javafx/lib --add-modules javafx.graphics,javafx.media NotificationApp 2m 4m 9m 13m\r\n\r\nThe meaning of arguments like `2m` is explained in [the documentation of Duration.valueOf](https://openjfx.io/javadoc/21/javafx.base/javafx/util/Duration.html#valueOf(java.lang.String)).  Note that this is the javafx.util.Duration class, not java.time.Duration.\r\n\r\n**Caution:** Using an interval of 2 minutes already guarantees the notification will be shown every 4 minutes.  Specifying both 2 minutes *and* 4 minutes means that every 4 minutes, **two notifications** will be displayed at the same time, on top of each other.  And, as you might imagine, specifying both 2 minutes and 9 minutes means two simultaneous notifications will appear every 18 minutes.  Specifying both 2 minutes and 13 minutes means two simultaneous notifications will appear every 26 minutes.\r\n\r\nYou probably should only specify a single interval, like `2m`, when testing.\r\n","title":"JavaFX correct way to call statge.show() and mediaPlayer.play()","body":"<p>I would remove all use of <code>static</code> fields, and I would remove all uses of ScheduledExecutorService.</p>\n<p>I realize that the static fields were necessary since the <code>main</code> method of Test has no way to access the instance of NotificationApp created by JavaFX, but the better way to do this is to have only one main method, so you won’t need to worry about accessing a NotificationApp instance from other classes.</p>\n<p>If you want to make NotificationApp capable of performing different actions, use its <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html#getParameters()\" rel=\"nofollow noreferrer\">command line arguments</a>.  Instead of ScheduledExecutorService.schedule, use the <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Animation.html#setOnFinished(javafx.event.EventHandler)\" rel=\"nofollow noreferrer\">setOnFinished</a> method of <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/PauseTransition.html\" rel=\"nofollow noreferrer\">PauseTransition</a>, which will remove the need for Platform.runLater there.  Instead of ScheduledExecutorService.scheduleAtFixedRate, create a <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Timeline.html#%3Cinit%3E(javafx.animation.KeyFrame...)\" rel=\"nofollow noreferrer\">Timeline with a single KeyFrame</a> whose listener performs the task.</p>\n<pre><code>import java.io.File;\n\nimport java.util.List;\n\nimport javafx.animation.Animation;\nimport javafx.animation.PauseTransition;\nimport javafx.animation.Timeline;\nimport javafx.animation.KeyFrame;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\n\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.stage.Screen;\n\nimport javafx.scene.Scene;\n\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\nimport javafx.scene.layout.Pane;\n\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\n\nimport javafx.util.Duration;\n\npublic class NotificationApp extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private Stage primaryStage;\n    private MediaPlayer mediaPlayer;\n\n    // Schedule closing the stage after 5 seconds\n    private Animation closer;\n\n    @Override\n    public void start(Stage primaryStage) {\n        // Create a custom dialog with an ImageView\n        Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\n        ImageView gifImageView = new ImageView(gifImage);\n        Pane pane = new Pane(gifImageView);\n        Scene scene = new Scene(pane);\n\n        // Set stage properties\n        primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\n        primaryStage.setAlwaysOnTop(true);\n\n        // Determine screen dimensions\n        double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\n        double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\n        double stageWidth = gifImage.getWidth();\n        double stageHeight = gifImage.getHeight();\n\n        // Set the stage position to the right corner\n        double xOffset = screenWidth - stageWidth;\n        double yOffset = screenHeight - stageHeight;\n        primaryStage.setX(xOffset);\n        primaryStage.setY(yOffset);\n\n        primaryStage.setScene(scene);\n        this.primaryStage = primaryStage;\n\n        Media sound = new Media(NotificationApp.class.getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\n        mediaPlayer = new MediaPlayer(sound);\n\n        closer = new PauseTransition(Duration.seconds(5));\n        closer.setOnFinished(e -&gt; {\n            mediaPlayer.stop();\n            primaryStage.close();\n        });\n\n        List&lt;String&gt; args = getParameters().getRaw();\n        if (args.isEmpty()) {\n            //Play animation and Sound during application start\n            Platform.runLater(() -&gt; playAnimation());\n        } else {\n            Platform.setImplicitExit(false);\n            for (String arg : args) {\n                Duration interval = Duration.valueOf(arg);\n                Timeline repeater = new Timeline(\n                    new KeyFrame(interval, e -&gt; playAnimation()));\n                repeater.setCycleCount(Animation.INDEFINITE);\n                repeater.play();\n            }\n        }\n    }\n\n    private void playAnimation() {\n        mediaPlayer.play();\n        primaryStage.show();\n\n        closer.playFromStart();\n    }\n\n}\n</code></pre>\n<p>The event handlers of PauseTransition and Timeline are called in the JavaFX application thread, so there is no need for Platform.runLater.</p>\n<p>The application can be invoked like this:</p>\n<pre><code>java -p /opt/java/javafx/lib --add-modules javafx.graphics,javafx.media NotificationApp 2m 4m 9m 13m\n</code></pre>\n<p>The meaning of arguments like <code>2m</code> is explained in <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/util/Duration.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">the documentation of Duration.valueOf</a>.  Note that this is the javafx.util.Duration class, not java.time.Duration.</p>\n<p><strong>Caution:</strong> Using an interval of 2 minutes already guarantees the notification will be shown every 4 minutes.  Specifying both 2 minutes <em>and</em> 4 minutes means that every 4 minutes, <strong>two notifications</strong> will be displayed at the same time, on top of each other.  And, as you might imagine, specifying both 2 minutes and 9 minutes means two simultaneous notifications will appear every 18 minutes.  Specifying both 2 minutes and 13 minutes means two simultaneous notifications will appear every 26 minutes.</p>\n<p>You probably should only specify a single interval, like <code>2m</code>, when testing.</p>\n"}],"owner":{"account_id":29663197,"reputation":1,"user_id":22734333,"display_name":"Lalit k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697206720,"creation_date":1697192399,"question_id":77286937,"body_markdown":"I am trying to show notification on right corner of windows, in which I am playing animation and sound. Below code is working perfectly when I am starting Test.main() for first time, but when I am trying to play same animation and sound it not working. Please help me.. thanks in advance\r\n\r\nTest.java\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(4);\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 2 * 60, TimeUnit.SECONDS);\r\n\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 4 * 60, TimeUnit.SECONDS);\r\n\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 9 * 60, TimeUnit.SECONDS);\r\n\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 13 * 60, TimeUnit.SECONDS);\r\n       \r\n        //Launching application first time\r\n        NotificationApp.runFromScheduledExecutor();\r\n        \r\n    }\r\n\r\n}\r\n```\r\nNotificationRunnable.java\r\n\r\n```\r\npublic class NotificationRunnable implements Runnable{\r\n    @Override\r\n    public void run() {\r\n        Platform.runLater(() -&gt; {\r\n            NotificationApp.playAnimation();\r\n        });\r\n        System.out.println(&quot;Done&quot;);\r\n    }\r\n}\r\n\r\nNotification.java\r\n\r\npublic class NotificationApp extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    static Stage primaryStage = null;\r\n    static MediaPlayer mediaPlayer = null;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        // Create a custom dialog with an ImageView\r\n        Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\r\n        ImageView gifImageView = new ImageView(gifImage);\r\n        Pane pane = new Pane(gifImageView);\r\n        Scene scene = new Scene(pane);\r\n\r\n        // Set stage properties\r\n        primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\r\n        primaryStage.setAlwaysOnTop(true);\r\n\r\n        // Determine screen dimensions\r\n        double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\r\n        double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\r\n        double stageWidth = gifImage.getWidth();\r\n        double stageHeight = gifImage.getHeight();\r\n\r\n        // Set the stage position to the right corner\r\n        double xOffset = screenWidth - stageWidth;\r\n        double yOffset = screenHeight - stageHeight;\r\n        primaryStage.setX(xOffset);\r\n        primaryStage.setY(yOffset);\r\n\r\n        primaryStage.setScene(scene);\r\n        this.primaryStage = primaryStage;\r\n\r\n        Media sound = new Media(new Test().getClass().getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\r\n        mediaPlayer = new MediaPlayer(sound);\r\n        //Play animation and Sound during application start\r\n        Platform.runLater(() -&gt; {\r\n            playAnimation();\r\n        });\r\n    }\r\n\r\n    public static void playAnimation(){\r\n        Platform.runLater(() -&gt; {\r\n            mediaPlayer.play();\r\n            primaryStage.show();\r\n        });\r\n        // Schedule closing the stage after 5 seconds\r\n        ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n        scheduler.schedule(() -&gt; {\r\n            Platform.runLater(() -&gt; {\r\n                mediaPlayer.stop();\r\n                primaryStage.close();\r\n            });\r\n        }, 5, TimeUnit.SECONDS);\r\n    }\r\n    public static void runFromScheduledExecutor() {\r\n        Application.launch(NotificationApp.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI am trying to play animation and sound from Runnable by calling playAnimation(). but this code is not playing animation, when I launch the application for first time it play animation and sound as per requirment but not working for second time.","title":"JavaFX correct way to call statge.show() and mediaPlayer.play()","body":"<p>I am trying to show notification on right corner of windows, in which I am playing animation and sound. Below code is working perfectly when I am starting Test.main() for first time, but when I am trying to play same animation and sound it not working. Please help me.. thanks in advance</p>\n<p>Test.java</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(4);\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 2 * 60, TimeUnit.SECONDS);\n\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 4 * 60, TimeUnit.SECONDS);\n\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 9 * 60, TimeUnit.SECONDS);\n\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 13 * 60, TimeUnit.SECONDS);\n       \n        //Launching application first time\n        NotificationApp.runFromScheduledExecutor();\n        \n    }\n\n}\n</code></pre>\n<p>NotificationRunnable.java</p>\n<pre><code>public class NotificationRunnable implements Runnable{\n    @Override\n    public void run() {\n        Platform.runLater(() -&gt; {\n            NotificationApp.playAnimation();\n        });\n        System.out.println(&quot;Done&quot;);\n    }\n}\n\nNotification.java\n\npublic class NotificationApp extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    static Stage primaryStage = null;\n    static MediaPlayer mediaPlayer = null;\n\n    @Override\n    public void start(Stage primaryStage) {\n        // Create a custom dialog with an ImageView\n        Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\n        ImageView gifImageView = new ImageView(gifImage);\n        Pane pane = new Pane(gifImageView);\n        Scene scene = new Scene(pane);\n\n        // Set stage properties\n        primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\n        primaryStage.setAlwaysOnTop(true);\n\n        // Determine screen dimensions\n        double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\n        double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\n        double stageWidth = gifImage.getWidth();\n        double stageHeight = gifImage.getHeight();\n\n        // Set the stage position to the right corner\n        double xOffset = screenWidth - stageWidth;\n        double yOffset = screenHeight - stageHeight;\n        primaryStage.setX(xOffset);\n        primaryStage.setY(yOffset);\n\n        primaryStage.setScene(scene);\n        this.primaryStage = primaryStage;\n\n        Media sound = new Media(new Test().getClass().getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\n        mediaPlayer = new MediaPlayer(sound);\n        //Play animation and Sound during application start\n        Platform.runLater(() -&gt; {\n            playAnimation();\n        });\n    }\n\n    public static void playAnimation(){\n        Platform.runLater(() -&gt; {\n            mediaPlayer.play();\n            primaryStage.show();\n        });\n        // Schedule closing the stage after 5 seconds\n        ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\n        scheduler.schedule(() -&gt; {\n            Platform.runLater(() -&gt; {\n                mediaPlayer.stop();\n                primaryStage.close();\n            });\n        }, 5, TimeUnit.SECONDS);\n    }\n    public static void runFromScheduledExecutor() {\n        Application.launch(NotificationApp.class);\n    }\n\n}\n</code></pre>\n<p>I am trying to play animation and sound from Runnable by calling playAnimation(). but this code is not playing animation, when I launch the application for first time it play animation and sound as per requirment but not working for second time.</p>\n"},{"tags":["java","android","firebase","firebase-authentication","google-play-services"],"answers":[{"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697206599,"post_id":77284937,"comment_id":136254637,"body_markdown":"@MihaM See if this works.","body":"@MihaM See if this works."},{"owner":{"account_id":5644605,"reputation":341,"user_id":4467171,"display_name":"Miha M"},"score":0,"creation_date":1697227972,"post_id":77284937,"comment_id":136258552,"body_markdown":"I still get the same error. I noticed that the FirebaseAuth.getInstance().signInAnonymously(); works though, when trying to login without AuthUI.","body":"I still get the same error. I noticed that the FirebaseAuth.getInstance().signInAnonymously(); works though, when trying to login without AuthUI."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697206619,"creation_date":1697168421,"answer_id":77284937,"question_id":77267222,"body_markdown":"I was reading the following docs:\r\n\r\n- **[FirebaseUI for Auth Open Source Docs][1]**\r\n- **[Firebase Local Emulator Suite Docs][2]**\r\n\r\nSo, you need to run the emulator (if running, then ignore) and tell `AuthUI` to use the emulator that you are running.\r\n\r\nUpdate the part of your code to this:\r\n\r\n    AuthUI authUI = AuthUI.getInstance();\r\n    \r\n    // Change the ip and port accordingly. \r\n    // I&#39;m using the one mentioned in the docs\r\n    authUI.useEmulator(&quot;10.0.2.2&quot;, 9099);\r\n    \r\n    Intent intentSignIn = authUI.createSignInIntentBuilder()\r\n                .setAvailableProviders(listProviders)\r\n                .setTheme(R.style.LoginTheme)\r\n                .setLogo(R.drawable.login_icon)\r\n                .setTosAndPrivacyPolicyUrls(\r\n                        &quot;URL&quot;,\r\n                        &quot;URL&quot;)\r\n                .build();\r\n\r\nSee if this works.\r\n\r\n\r\n  [1]: https://firebaseopensource.com/projects/firebase/firebaseui-android/auth/readme/\r\n  [2]: https://firebase.google.com/docs/emulator-suite","title":"Firebase Auth does not work without Google Play Services","body":"<p>I was reading the following docs:</p>\n<ul>\n<li><strong><a href=\"https://firebaseopensource.com/projects/firebase/firebaseui-android/auth/readme/\" rel=\"nofollow noreferrer\">FirebaseUI for Auth Open Source Docs</a></strong></li>\n<li><strong><a href=\"https://firebase.google.com/docs/emulator-suite\" rel=\"nofollow noreferrer\">Firebase Local Emulator Suite Docs</a></strong></li>\n</ul>\n<p>So, you need to run the emulator (if running, then ignore) and tell <code>AuthUI</code> to use the emulator that you are running.</p>\n<p>Update the part of your code to this:</p>\n<pre><code>AuthUI authUI = AuthUI.getInstance();\n\n// Change the ip and port accordingly. \n// I'm using the one mentioned in the docs\nauthUI.useEmulator(&quot;10.0.2.2&quot;, 9099);\n\nIntent intentSignIn = authUI.createSignInIntentBuilder()\n            .setAvailableProviders(listProviders)\n            .setTheme(R.style.LoginTheme)\n            .setLogo(R.drawable.login_icon)\n            .setTosAndPrivacyPolicyUrls(\n                    &quot;URL&quot;,\n                    &quot;URL&quot;)\n            .build();\n</code></pre>\n<p>See if this works.</p>\n"}],"owner":{"account_id":5644605,"reputation":341,"user_id":4467171,"display_name":"Miha M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697206619,"creation_date":1696952668,"question_id":77267222,"body_markdown":"My app got rejected from Amazon Appstore due to an error while trying to login with Firebase AuthUI.\r\n\r\nI decided to do some research and found out that all Amazon Fire devices run without Google Play Services. I installed a new emulator without Google services and also got an error.\r\n\r\nThe strange part is, that the version 20.0.0 of the Firebase Auth introduced a feature &quot;[The Firebase Authentication Android library now works on devices without Google Play services.][1]&quot;.\r\n\r\nCode\r\n\r\n    public void signIn() {\r\n        List&lt;AuthUI.IdpConfig&gt; listProviders = Arrays.asList(\r\n                new AuthUI.IdpConfig.GoogleBuilder().build(),\r\n                new AuthUI.IdpConfig.FacebookBuilder().build(),\r\n                new AuthUI.IdpConfig.TwitterBuilder().build(),\r\n                new AuthUI.IdpConfig.YahooBuilder().build(),\r\n                new AuthUI.IdpConfig.EmailBuilder().build()\r\n        );\r\n\r\n        // Create and launch sign-in intent\r\n        Intent intentSignIn = AuthUI.getInstance()\r\n                .createSignInIntentBuilder()\r\n                .setAvailableProviders(listProviders)\r\n                .setTheme(R.style.LoginTheme)\r\n                .setLogo(R.drawable.login_icon)\r\n                .setTosAndPrivacyPolicyUrls(\r\n                        &quot;URL&quot;,\r\n                        &quot;URL&quot;)\r\n                .build();\r\n        activityResultLauncherSignIn.launch(intentSignIn);\r\n    }\r\n\r\n    // https://developer.android.com/training/basics/intents/result\r\n    private final ActivityResultLauncher&lt;Intent&gt; activityResultLauncherSignIn = registerForActivityResult(\r\n            new FirebaseAuthUIActivityResultContract(),\r\n            this::onSignInResult\r\n    );\r\n\r\n    private void onSignInResult(FirebaseAuthUIAuthenticationResult firebaseAuthUIAuthenticationResult) {\r\n        IdpResponse idpResponse = firebaseAuthUIAuthenticationResult.getIdpResponse();\r\n        if (firebaseAuthUIAuthenticationResult.getResultCode() == RESULT_OK) {\r\n            if (firebaseUser != null &amp;&amp; firebaseUser.getEmail() != null &amp;&amp; !firebaseUser.isEmailVerified())\r\n                sendVerificationEmail();\r\n        } else {\r\n            // Sign in failed. If response is null the user canceled the sign-in flow using the back button. Otherwise check response.getError().getErrorCode() and handle the error.\r\n            if (idpResponse != null &amp;&amp; idpResponse.getError() != null) {\r\n                Log.e(TAG, &quot;Problem with Firebase authentication: &quot; + idpResponse.getError().getErrorCode());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nError:\r\nProblem with Firebase authentication: 0\r\n\r\n&gt; com.google.android.play.core.install.InstallException: -9: Install Error(-9): The Play Store app is either not installed or not the official version.\r\n\r\n\r\nI am using these dependencies:\r\n\r\n```\r\nimplementation platform(&#39;com.google.firebase:firebase-bom:32.3.1&#39;)\r\nimplementation &#39;com.firebaseui:firebase-ui-auth:8.0.2&#39;\r\nimplementation &#39;com.google.android.gms:play-services-auth:20.7.0&#39;\r\n```\r\n\r\n  [1]: https://firebase.google.com/support/release-notes/android#auth_v20-0-0","title":"Firebase Auth does not work without Google Play Services","body":"<p>My app got rejected from Amazon Appstore due to an error while trying to login with Firebase AuthUI.</p>\n<p>I decided to do some research and found out that all Amazon Fire devices run without Google Play Services. I installed a new emulator without Google services and also got an error.</p>\n<p>The strange part is, that the version 20.0.0 of the Firebase Auth introduced a feature &quot;<a href=\"https://firebase.google.com/support/release-notes/android#auth_v20-0-0\" rel=\"nofollow noreferrer\">The Firebase Authentication Android library now works on devices without Google Play services.</a>&quot;.</p>\n<p>Code</p>\n<pre><code>public void signIn() {\n    List&lt;AuthUI.IdpConfig&gt; listProviders = Arrays.asList(\n            new AuthUI.IdpConfig.GoogleBuilder().build(),\n            new AuthUI.IdpConfig.FacebookBuilder().build(),\n            new AuthUI.IdpConfig.TwitterBuilder().build(),\n            new AuthUI.IdpConfig.YahooBuilder().build(),\n            new AuthUI.IdpConfig.EmailBuilder().build()\n    );\n\n    // Create and launch sign-in intent\n    Intent intentSignIn = AuthUI.getInstance()\n            .createSignInIntentBuilder()\n            .setAvailableProviders(listProviders)\n            .setTheme(R.style.LoginTheme)\n            .setLogo(R.drawable.login_icon)\n            .setTosAndPrivacyPolicyUrls(\n                    &quot;URL&quot;,\n                    &quot;URL&quot;)\n            .build();\n    activityResultLauncherSignIn.launch(intentSignIn);\n}\n\n// https://developer.android.com/training/basics/intents/result\nprivate final ActivityResultLauncher&lt;Intent&gt; activityResultLauncherSignIn = registerForActivityResult(\n        new FirebaseAuthUIActivityResultContract(),\n        this::onSignInResult\n);\n\nprivate void onSignInResult(FirebaseAuthUIAuthenticationResult firebaseAuthUIAuthenticationResult) {\n    IdpResponse idpResponse = firebaseAuthUIAuthenticationResult.getIdpResponse();\n    if (firebaseAuthUIAuthenticationResult.getResultCode() == RESULT_OK) {\n        if (firebaseUser != null &amp;&amp; firebaseUser.getEmail() != null &amp;&amp; !firebaseUser.isEmailVerified())\n            sendVerificationEmail();\n    } else {\n        // Sign in failed. If response is null the user canceled the sign-in flow using the back button. Otherwise check response.getError().getErrorCode() and handle the error.\n        if (idpResponse != null &amp;&amp; idpResponse.getError() != null) {\n            Log.e(TAG, &quot;Problem with Firebase authentication: &quot; + idpResponse.getError().getErrorCode());\n        }\n    }\n}\n</code></pre>\n<p>Error:\nProblem with Firebase authentication: 0</p>\n<blockquote>\n<p>com.google.android.play.core.install.InstallException: -9: Install Error(-9): The Play Store app is either not installed or not the official version.</p>\n</blockquote>\n<p>I am using these dependencies:</p>\n<pre><code>implementation platform('com.google.firebase:firebase-bom:32.3.1')\nimplementation 'com.firebaseui:firebase-ui-auth:8.0.2'\nimplementation 'com.google.android.gms:play-services-auth:20.7.0'\n</code></pre>\n"},{"tags":["java","proguard"],"owner":{"account_id":29664750,"reputation":1,"user_id":22735561,"display_name":"Dulcinea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697206477,"creation_date":1697206477,"question_id":77288466,"body_markdown":"I&#39;m stuck trying to obfuscate a java program with proguard 7.3.2 on windows 10 and jdk 9.\r\n\r\nSome facts:\r\n1. original jar runs well on the default folder (/dist)\r\n2. original jar DOES NOT run on any other folder. The program does not start (&quot;java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook&quot;)\r\n3. if i create an exe file of the original jar file with Launch4j, it runs on the default folder\r\n4. the exe file of the original jar runs everywhere.\r\n5. if i obfuscate the jar file, it runs fine on the default folder (/dist) same as the original jar, which is great.\r\n6. the obfuscated jar does not run on another folder. The program does not start (same error as above)\r\n7. if i create an exe file of the obfuscated jar file with Launch4j, it runs well on the default folder\r\n8. the exe file of the obfuscated jar does not run on any other folder. The program does not start (same error as before).\r\n9. when i compile the java program, another jar file with all the libraries is created.\r\n10. the full jar file runs on it&#39;s default folder (/Executable)\r\n11. the full jar file runs on any folder, no error shows\r\n12. if I obfuscate this full jar file and it runs on the default folder (/Executable), a different error shows when tries the connection with the database. The program actually runs. Therefore, nothing to do with the previous error.\r\n13. if I run this obfuscated jar of the full jar on a different folder, the program runs and I get the error when tries the database connection.\r\n\r\nI&#39;m aware poi dependencies are crucial therefore I&#39;ve checked twice all of them are installed (attached).\r\n\r\nI&#39;ve made several changes on the proguard configuration with no success (with/without keep directories ...attached the last configuration).\r\n\r\nI need that either the obfuscated jar or the exe file created with it, runs on any folder.\r\n\r\nAny idea will be welcome.\r\n\r\nThanks a lot,\r\n\r\nPOI dependencies:\r\n\r\n[poi dependencies](https://i.stack.imgur.com/1qHea.png)\r\n\r\nProguard configuration:\r\n\r\n```\r\n-dontskipnonpubliclibraryclassmembers\r\n-keepdirectories **\r\n-forceprocessing\r\n-dontoptimize\r\n-keeppackagenames **\r\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,LocalVariableTable,*Annotation*,Synthetic,EnclosingMethod,SourceDir,EnclosigMethod\r\n-renamesourcefileattribute SourceFile\r\n-dontnote\r\n-dontwarn\r\n\r\n\r\n\r\n# Keep - Applications. Keep all application classes, along with their &#39;main&#39; methods.\r\n-keepclasseswithmembers public class * {\r\n    public static void main(java.lang.String[]);\r\n}\r\n\r\n# Also keep - Enumerations. Keep the special static methods that are required in\r\n# enumeration classes.\r\n-keepclassmembers enum  * {\r\n    public static **[] values();\r\n    public static ** valueOf(java.lang.String);\r\n}\r\n\r\n# Also keep - Database drivers. Keep all implementations of java.sql.Driver.\r\n-keep class * extends java.sql.Driver\r\n\r\n# Also keep - Swing UI L&amp;F. Keep all extensions of javax.swing.plaf.ComponentUI,\r\n# along with the special &#39;createUI&#39; method.\r\n-keep class * extends javax.swing.plaf.ComponentUI {\r\n    public static javax.swing.plaf.ComponentUI createUI(javax.swing.JComponent);\r\n}\r\n\r\n# Keep - Native method names. Keep all native class/method names.\r\n-keepclasseswithmembers,includedescriptorclasses,allowshrinking class * {\r\n    native &lt;methods&gt;;\r\n}\r\n\r\n# Remove - System method calls. Remove all invocations of System\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.System {\r\n    ...\r\n}\r\n\r\n# Remove - Math method calls. Remove all invocations of Math\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.Math {\r\n    ...\r\n}\r\n\r\n# Remove - Number method calls. Remove all invocations of Number\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.* extends java.lang.Number {\r\n    ...\r\n}\r\n\r\n# Remove - String method calls. Remove all invocations of String\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.String {\r\n    ...\r\n}\r\n\r\n# Remove - StringBuffer method calls. Remove all invocations of StringBuffer\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.StringBuffer {\r\n    ...\r\n}\r\n\r\n# Remove - StringBuilder method calls. Remove all invocations of StringBuilder\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.StringBuilder {\r\n    ...\r\n}\r\n\r\n\r\n\r\nI need an obfuscated file that runs everywhere, not only on the default folder (/dist).","title":"Java obfuscated file with proguard runs on default folder but does not run on any folder","body":"<p>I'm stuck trying to obfuscate a java program with proguard 7.3.2 on windows 10 and jdk 9.</p>\n<p>Some facts:</p>\n<ol>\n<li>original jar runs well on the default folder (/dist)</li>\n<li>original jar DOES NOT run on any other folder. The program does not start (&quot;java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook&quot;)</li>\n<li>if i create an exe file of the original jar file with Launch4j, it runs on the default folder</li>\n<li>the exe file of the original jar runs everywhere.</li>\n<li>if i obfuscate the jar file, it runs fine on the default folder (/dist) same as the original jar, which is great.</li>\n<li>the obfuscated jar does not run on another folder. The program does not start (same error as above)</li>\n<li>if i create an exe file of the obfuscated jar file with Launch4j, it runs well on the default folder</li>\n<li>the exe file of the obfuscated jar does not run on any other folder. The program does not start (same error as before).</li>\n<li>when i compile the java program, another jar file with all the libraries is created.</li>\n<li>the full jar file runs on it's default folder (/Executable)</li>\n<li>the full jar file runs on any folder, no error shows</li>\n<li>if I obfuscate this full jar file and it runs on the default folder (/Executable), a different error shows when tries the connection with the database. The program actually runs. Therefore, nothing to do with the previous error.</li>\n<li>if I run this obfuscated jar of the full jar on a different folder, the program runs and I get the error when tries the database connection.</li>\n</ol>\n<p>I'm aware poi dependencies are crucial therefore I've checked twice all of them are installed (attached).</p>\n<p>I've made several changes on the proguard configuration with no success (with/without keep directories ...attached the last configuration).</p>\n<p>I need that either the obfuscated jar or the exe file created with it, runs on any folder.</p>\n<p>Any idea will be welcome.</p>\n<p>Thanks a lot,</p>\n<p>POI dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/1qHea.png\" rel=\"nofollow noreferrer\">poi dependencies</a></p>\n<p>Proguard configuration:</p>\n<pre><code>-dontskipnonpubliclibraryclassmembers\n-keepdirectories **\n-forceprocessing\n-dontoptimize\n-keeppackagenames **\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,LocalVariableTable,*Annotation*,Synthetic,EnclosingMethod,SourceDir,EnclosigMethod\n-renamesourcefileattribute SourceFile\n-dontnote\n-dontwarn\n\n\n\n# Keep - Applications. Keep all application classes, along with their 'main' methods.\n-keepclasseswithmembers public class * {\n    public static void main(java.lang.String[]);\n}\n\n# Also keep - Enumerations. Keep the special static methods that are required in\n# enumeration classes.\n-keepclassmembers enum  * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n# Also keep - Database drivers. Keep all implementations of java.sql.Driver.\n-keep class * extends java.sql.Driver\n\n# Also keep - Swing UI L&amp;F. Keep all extensions of javax.swing.plaf.ComponentUI,\n# along with the special 'createUI' method.\n-keep class * extends javax.swing.plaf.ComponentUI {\n    public static javax.swing.plaf.ComponentUI createUI(javax.swing.JComponent);\n}\n\n# Keep - Native method names. Keep all native class/method names.\n-keepclasseswithmembers,includedescriptorclasses,allowshrinking class * {\n    native &lt;methods&gt;;\n}\n\n# Remove - System method calls. Remove all invocations of System\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.System {\n    ...\n}\n\n# Remove - Math method calls. Remove all invocations of Math\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.Math {\n    ...\n}\n\n# Remove - Number method calls. Remove all invocations of Number\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.* extends java.lang.Number {\n    ...\n}\n\n# Remove - String method calls. Remove all invocations of String\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.String {\n    ...\n}\n\n# Remove - StringBuffer method calls. Remove all invocations of StringBuffer\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.StringBuffer {\n    ...\n}\n\n# Remove - StringBuilder method calls. Remove all invocations of StringBuilder\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.StringBuilder {\n    ...\n}\n\n\n\nI need an obfuscated file that runs everywhere, not only on the default folder (/dist).\n</code></pre>\n"},{"tags":["java","json","spring-boot","postman"],"answers":[{"comments":[{"owner":{"account_id":29479524,"reputation":1,"user_id":22590578,"display_name":"AyushmaanKarn"},"score":0,"creation_date":1697206355,"post_id":77288403,"comment_id":136254590,"body_markdown":"It shows the following error message if I remove @JsonIgnore:&quot;Could not write JSON: failed to lazily initialize a collection of role: com.example.project.relation.User.ipaddress: could not initialize proxy - no Session&quot;","body":"It shows the following error message if I remove @JsonIgnore:&quot;Could not write JSON: failed to lazily initialize a collection of role: com.example.project.relation.User.ipaddress: could not initialize proxy - no Session&quot;"},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1697206780,"post_id":77288403,"comment_id":136254677,"body_markdown":"Yes. It is because you have marked `FetchType.LAZY` for this relationship. You need to call get accessor explicitly to fetch the `ipaddress` once you remove the `@JsonIgnore`","body":"Yes. It is because you have marked <code>FetchType.LAZY</code> for this relationship. You need to call get accessor explicitly to fetch the <code>ipaddress</code> once you remove the <code>@JsonIgnore</code>"},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1697206852,"post_id":77288403,"comment_id":136254688,"body_markdown":"You can take a look at this [https://stackoverflow.com/a/63402033/1643891] answer more clarity.","body":"You can take a look at this [<a href=\"https://stackoverflow.com/a/63402033/1643891]\">stackoverflow.com/a/63402033/1643891]</a> answer more clarity."},{"owner":{"account_id":29479524,"reputation":1,"user_id":22590578,"display_name":"AyushmaanKarn"},"score":0,"creation_date":1697207231,"post_id":77288403,"comment_id":136254767,"body_markdown":"Can you please provide a code that works or update mine? This is my first time creating an API so I am very confused.","body":"Can you please provide a code that works or update mine? This is my first time creating an API so I am very confused."}],"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697205852,"creation_date":1697205852,"answer_id":77288403,"question_id":77288204,"body_markdown":"You have marked `@JsonIgnore` for `ipaddress` in the `User` entity class, hence it is not showing up in the JSON response in Postman. Try again by removing the annotation.","title":"One to Many API not working through POSTMAN","body":"<p>You have marked <code>@JsonIgnore</code> for <code>ipaddress</code> in the <code>User</code> entity class, hence it is not showing up in the JSON response in Postman. Try again by removing the annotation.</p>\n"}],"owner":{"account_id":29479524,"reputation":1,"user_id":22590578,"display_name":"AyushmaanKarn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697206207,"creation_date":1697204148,"question_id":77288204,"body_markdown":"If I input my data through my code then it works perfectly as I am able to see the data in my parent as well as child database in PostgreSQL but when I do it through Postman, the child database is not being read.\r\n\r\n```java\r\npackage com.example.project.relation;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.SequenceGenerator;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;user_data&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String organization_name;\r\n    private String user_name;\r\n    private String password;\r\n    private Long phone_num;\r\n    private String email;\r\n    private Long registration_num;\r\n    \r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private Set&lt;IPaddress&gt; ipaddress = new HashSet&lt;&gt;();\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public User(Long id, String org_name, String user_name, String password, Long phone_num, String email, Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\r\n        this.id = id;\r\n        this.organization_name = org_name;\r\n        this.user_name = user_name;\r\n        this.password = password;\r\n        this.phone_num = phone_num;\r\n        this.email = email;\r\n        this.registration_num = registration_num;\r\n        this.ipaddress = ipaddress;\r\n    }\r\n\r\n\r\n    public User(String organization_name, String user_name, String password, Long phone_num, String email,\r\n                Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\r\n        this.organization_name = organization_name;\r\n        this.user_name = user_name;\r\n        this.password = password;\r\n        this.phone_num = phone_num;\r\n        this.email = email;\r\n        this.registration_num = registration_num;\r\n        this.ipaddress = ipaddress;\r\n    }\r\n    \r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getOrganization_name() {\r\n\t\treturn organization_name;\r\n\t}\r\n\r\n\tpublic void setOrganization_name(String organization_name) {\r\n\t\tthis.organization_name = organization_name;\r\n\t}\r\n\r\n\tpublic String getUser_name() {\r\n\t\treturn user_name;\r\n\t}\r\n\r\n\tpublic void setUser_name(String user_name) {\r\n\t\tthis.user_name = user_name;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic Long getPhone_num() {\r\n\t\treturn phone_num;\r\n\t}\r\n\r\n\tpublic void setPhone_num(Long phone_num) {\r\n\t\tthis.phone_num = phone_num;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic Long getRegistration_num() {\r\n\t\treturn registration_num;\r\n\t}\r\n\r\n\tpublic void setRegistration_num(Long registration_num) {\r\n\t\tthis.registration_num = registration_num;\r\n\t}\r\n\t\r\n\tpublic Set&lt;IPaddress&gt; getIpaddress() {\r\n        return ipaddress;\r\n    }\r\n\r\n    public void setIpaddress(Set&lt;IPaddress&gt; ipaddress) {\r\n        this.ipaddress = ipaddress;\r\n    }\r\n\t\r\n\t@Override\r\n    public String toString() {\r\n        return &quot;User [id=&quot; + id +\r\n                &quot;, organization_name=&quot; + organization_name +\r\n                &quot;, user_name=&quot; + user_name +\r\n                &quot;, password=&quot; + password +\r\n                &quot;, phone_num=&quot; + phone_num +\r\n                &quot;, email=&quot; + email +\r\n                &quot;, registration_num=&quot; + registration_num +\r\n                &quot;, ipaddress=&quot; + ipaddress + &quot;]&quot;;\r\n    }\r\n}\r\n&#39;&#39;&#39;\r\n\r\n\r\n&#39;&#39;&#39;java  \r\npackage com.example.project.relation;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.SequenceGenerator;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;ipaddress&quot;)\r\npublic class IPaddress {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;IP_sequence&quot;,\r\n            sequenceName = &quot;IP_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;IP_sequence&quot;\r\n    )\r\n\r\n    private Long id;\r\n    private String IP_address;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    public User user;\r\n\r\n    public IPaddress() {\r\n\r\n    }\r\n\r\n    public IPaddress(Long id, String iP_address) {\r\n        this.id = id;\r\n        this.IP_address = iP_address;\r\n    }\r\n\r\n    public IPaddress(String iP_address) {\r\n        this.IP_address = iP_address;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getIP_address() {\r\n        return IP_address;\r\n    }\r\n\r\n    public void setIP_address(String iP_address) {\r\n        IP_address = iP_address;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.dto;\r\n\r\nimport com.example.project.relation.User;\r\n\r\npublic class DataRequest {\r\n\t\r\n\tprivate User user;\r\n\r\n\tpublic DataRequest() \r\n\t{\r\n\t\t\r\n\t}\r\n\r\n\tpublic DataRequest(User user) \r\n\t{\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;DataRequest [user=&quot; + user + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.controller;\r\n\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport com.example.project.relation.User;\r\nimport com.example.project.service.DataService;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class DataController {\r\n\r\n    private final DataService dataService;\r\n\r\n    public DataController(DataService dataService) {\r\n        this.dataService = dataService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return dataService.getAllUsers();\r\n\r\n    }\r\n\r\n    @PostMapping\r\n    public User createUser(@RequestBody User user) {\r\n        return dataService.createUser(user);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public User updateUser(@PathVariable Long id, @RequestBody User user) {\r\n        return dataService.updateUser(id, user);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable Long id) {\r\n    \tdataService.deleteUser(id);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport com.example.project.relation.IPaddress;\r\nimport com.example.project.relation.User;\r\nimport com.example.project.repository.IPaddressRepository;\r\nimport com.example.project.repository.UserRepository;\r\n\r\nimport jakarta.transaction.Transactional;\r\n\r\n@Service\r\npublic class DataService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final IPaddressRepository ipaddressRepository;\r\n\r\n    \r\n    public DataService(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\r\n        this.userRepository = userRepository;\r\n        this.ipaddressRepository = ipaddressRepository;\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User createUser(User user) {\r\n        Set&lt;IPaddress&gt; ipAddresses = user.getIpaddress();\r\n\r\n        for (IPaddress ipAddress : ipAddresses) {\r\n            ipAddress.setUser(user);\r\n        }\r\n\r\n        User savedUser = userRepository.save(user);\r\n\r\n        for (IPaddress ipAddress : ipAddresses) {\r\n            ipaddressRepository.save(ipAddress);\r\n        }\r\n\r\n        return savedUser;\r\n    }\r\n\r\n\r\n    public User updateUser(Long id, User user) {\r\n        User existingUser = userRepository.findById(id).orElse(null);\r\n        if (existingUser != null) {\r\n            existingUser.setOrganization_name(user.getOrganization_name());\r\n            existingUser.setUser_name(user.getUser_name());\r\n            return userRepository.save(existingUser);\r\n        }\r\n        return null; // Handle not found scenario\r\n    }\r\n\r\n    @Transactional\r\n    public void deleteUser(Long id) {\r\n        boolean exists = userRepository.existsById(id);\r\n\r\n        if (!exists) {\r\n            throw new IllegalStateException(&quot;User with ID &quot; + id + &quot; does not exist&quot;);\r\n        }\r\n        \r\n        userRepository.deleteById(id);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.relation;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.example.project.repository.IPaddressRepository;\r\nimport com.example.project.repository.UserRepository;\r\n\r\n@Configuration\r\npublic class UserConfig {\r\n    \r\n    @Bean\r\n    CommandLineRunner commandLineRunner(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\r\n        return args -&gt; {\r\n            User Steve = new User(\r\n                &quot;Brave&quot;, &quot;Steve&quot;, &quot;qwert12345&quot;, 9898987676L, &quot;stevecole@bing.com&quot;, 12345678901234L, new HashSet&lt;&gt;());\r\n            IPaddress ip1 = new IPaddress(&quot;192.168.1.1&quot;);\r\n            IPaddress ip2 = new IPaddress(&quot;192.168.1.2&quot;);\r\n            Steve.getIpaddress().add(ip1);\r\n            Steve.getIpaddress().add(ip2);\r\n            ip1.setUser(Steve);\r\n            ip2.setUser(Steve);\r\n\r\n            User Susan = new User(\r\n                &quot;Brave&quot;, &quot;Susan&quot;, &quot;abcd12345&quot;, 5432109876L, &quot;susanspecter@bing.com&quot;, 767676767671212L, new HashSet&lt;&gt;());\r\n            IPaddress ip3 = new IPaddress(&quot;192.168.1.3&quot;);\r\n            IPaddress ip4 = new IPaddress(&quot;192.168.1.4&quot;);\r\n            IPaddress ip5 = new IPaddress(&quot;192.168.1.5&quot;);\r\n            IPaddress ip6 = new IPaddress(&quot;192.168.1.6&quot;);\r\n            Susan.getIpaddress().add(ip3);\r\n            Susan.getIpaddress().add(ip4);\r\n            Susan.getIpaddress().add(ip5);\r\n            Susan.getIpaddress().add(ip6);\r\n            ip3.setUser(Susan);\r\n            ip4.setUser(Susan);\r\n            ip5.setUser(Susan);\r\n            ip6.setUser(Susan);\r\n\r\n            userRepository.saveAll(List.of(Steve, Susan));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport com.example.project.relation.User;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n\r\n}\r\n\r\npackage com.example.project.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.project.relation.IPaddress;\r\n\r\n@Repository\r\npublic interface IPaddressRepository extends JpaRepository&lt;IPaddress, Long&gt;{\r\n\t\r\n}\r\n```\r\n\r\nPayload for the request\r\n\r\n    {\r\n        &quot;organization_name&quot;: &quot;Fall&quot;,\r\n        &quot;user_name&quot;: &quot;Peter&quot;,\r\n        &quot;password&quot;: &quot;qwert12345&quot;,\r\n        &quot;phone_num&quot;: 9898987676,\r\n        &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\r\n        &quot;registration_num&quot;: 98765123450192,\r\n        &quot;ipaddress&quot;: [\r\n            {\r\n                &quot;IP_address&quot;: &quot;1.2.3.4&quot;\r\n            },\r\n            {\r\n                &quot;IP_address&quot;: &quot;0.2.3.4&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nResponse from the request\r\n\r\n    {\r\n        &quot;id&quot;: 29,\r\n        &quot;organization_name&quot;: &quot;Fall&quot;,\r\n        &quot;user_name&quot;: &quot;Peter&quot;,\r\n        &quot;password&quot;: &quot;qwert12345&quot;,\r\n        &quot;phone_num&quot;: 9898987676,\r\n        &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\r\n        &quot;registration_num&quot;: 98765123450192\r\n    }\r\n\r\nLet me know if any details needed in addition.\r\n","title":"One to Many API not working through POSTMAN","body":"<p>If I input my data through my code then it works perfectly as I am able to see the data in my parent as well as child database in PostgreSQL but when I do it through Postman, the child database is not being read.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.relation;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;user_data&quot;)\npublic class User {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Long id;\n    private String organization_name;\n    private String user_name;\n    private String password;\n    private Long phone_num;\n    private String email;\n    private Long registration_num;\n    \n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private Set&lt;IPaddress&gt; ipaddress = new HashSet&lt;&gt;();\n\n    public User() {\n\n    }\n\n    public User(Long id, String org_name, String user_name, String password, Long phone_num, String email, Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\n        this.id = id;\n        this.organization_name = org_name;\n        this.user_name = user_name;\n        this.password = password;\n        this.phone_num = phone_num;\n        this.email = email;\n        this.registration_num = registration_num;\n        this.ipaddress = ipaddress;\n    }\n\n\n    public User(String organization_name, String user_name, String password, Long phone_num, String email,\n                Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\n        this.organization_name = organization_name;\n        this.user_name = user_name;\n        this.password = password;\n        this.phone_num = phone_num;\n        this.email = email;\n        this.registration_num = registration_num;\n        this.ipaddress = ipaddress;\n    }\n    \n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getOrganization_name() {\n        return organization_name;\n    }\n\n    public void setOrganization_name(String organization_name) {\n        this.organization_name = organization_name;\n    }\n\n    public String getUser_name() {\n        return user_name;\n    }\n\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Long getPhone_num() {\n        return phone_num;\n    }\n\n    public void setPhone_num(Long phone_num) {\n        this.phone_num = phone_num;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Long getRegistration_num() {\n        return registration_num;\n    }\n\n    public void setRegistration_num(Long registration_num) {\n        this.registration_num = registration_num;\n    }\n    \n    public Set&lt;IPaddress&gt; getIpaddress() {\n        return ipaddress;\n    }\n\n    public void setIpaddress(Set&lt;IPaddress&gt; ipaddress) {\n        this.ipaddress = ipaddress;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id +\n                &quot;, organization_name=&quot; + organization_name +\n                &quot;, user_name=&quot; + user_name +\n                &quot;, password=&quot; + password +\n                &quot;, phone_num=&quot; + phone_num +\n                &quot;, email=&quot; + email +\n                &quot;, registration_num=&quot; + registration_num +\n                &quot;, ipaddress=&quot; + ipaddress + &quot;]&quot;;\n    }\n}\n'''\n\n\n'''java  \npackage com.example.project.relation;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;ipaddress&quot;)\npublic class IPaddress {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;IP_sequence&quot;,\n            sequenceName = &quot;IP_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;IP_sequence&quot;\n    )\n\n    private Long id;\n    private String IP_address;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    public User user;\n\n    public IPaddress() {\n\n    }\n\n    public IPaddress(Long id, String iP_address) {\n        this.id = id;\n        this.IP_address = iP_address;\n    }\n\n    public IPaddress(String iP_address) {\n        this.IP_address = iP_address;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getIP_address() {\n        return IP_address;\n    }\n\n    public void setIP_address(String iP_address) {\n        IP_address = iP_address;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.dto;\n\nimport com.example.project.relation.User;\n\npublic class DataRequest {\n    \n    private User user;\n\n    public DataRequest() \n    {\n        \n    }\n\n    public DataRequest(User user) \n    {\n        this.user = user;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DataRequest [user=&quot; + user + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.controller;\n\nimport org.springframework.web.bind.annotation.*;\n\nimport com.example.project.relation.User;\nimport com.example.project.service.DataService;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class DataController {\n\n    private final DataService dataService;\n\n    public DataController(DataService dataService) {\n        this.dataService = dataService;\n    }\n\n    @GetMapping\n    public List&lt;User&gt; getAllUsers() {\n        return dataService.getAllUsers();\n\n    }\n\n    @PostMapping\n    public User createUser(@RequestBody User user) {\n        return dataService.createUser(user);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public User updateUser(@PathVariable Long id, @RequestBody User user) {\n        return dataService.updateUser(id, user);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteUser(@PathVariable Long id) {\n        dataService.deleteUser(id);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.service;\n\nimport org.springframework.stereotype.Service;\nimport java.util.List;\nimport java.util.Set;\nimport com.example.project.relation.IPaddress;\nimport com.example.project.relation.User;\nimport com.example.project.repository.IPaddressRepository;\nimport com.example.project.repository.UserRepository;\n\nimport jakarta.transaction.Transactional;\n\n@Service\npublic class DataService {\n\n    private final UserRepository userRepository;\n    private final IPaddressRepository ipaddressRepository;\n\n    \n    public DataService(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\n        this.userRepository = userRepository;\n        this.ipaddressRepository = ipaddressRepository;\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public User createUser(User user) {\n        Set&lt;IPaddress&gt; ipAddresses = user.getIpaddress();\n\n        for (IPaddress ipAddress : ipAddresses) {\n            ipAddress.setUser(user);\n        }\n\n        User savedUser = userRepository.save(user);\n\n        for (IPaddress ipAddress : ipAddresses) {\n            ipaddressRepository.save(ipAddress);\n        }\n\n        return savedUser;\n    }\n\n\n    public User updateUser(Long id, User user) {\n        User existingUser = userRepository.findById(id).orElse(null);\n        if (existingUser != null) {\n            existingUser.setOrganization_name(user.getOrganization_name());\n            existingUser.setUser_name(user.getUser_name());\n            return userRepository.save(existingUser);\n        }\n        return null; // Handle not found scenario\n    }\n\n    @Transactional\n    public void deleteUser(Long id) {\n        boolean exists = userRepository.existsById(id);\n\n        if (!exists) {\n            throw new IllegalStateException(&quot;User with ID &quot; + id + &quot; does not exist&quot;);\n        }\n        \n        userRepository.deleteById(id);\n    }\n\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.relation;\n\nimport java.util.HashSet;\nimport java.util.List;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.example.project.repository.IPaddressRepository;\nimport com.example.project.repository.UserRepository;\n\n@Configuration\npublic class UserConfig {\n    \n    @Bean\n    CommandLineRunner commandLineRunner(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\n        return args -&gt; {\n            User Steve = new User(\n                &quot;Brave&quot;, &quot;Steve&quot;, &quot;qwert12345&quot;, 9898987676L, &quot;stevecole@bing.com&quot;, 12345678901234L, new HashSet&lt;&gt;());\n            IPaddress ip1 = new IPaddress(&quot;192.168.1.1&quot;);\n            IPaddress ip2 = new IPaddress(&quot;192.168.1.2&quot;);\n            Steve.getIpaddress().add(ip1);\n            Steve.getIpaddress().add(ip2);\n            ip1.setUser(Steve);\n            ip2.setUser(Steve);\n\n            User Susan = new User(\n                &quot;Brave&quot;, &quot;Susan&quot;, &quot;abcd12345&quot;, 5432109876L, &quot;susanspecter@bing.com&quot;, 767676767671212L, new HashSet&lt;&gt;());\n            IPaddress ip3 = new IPaddress(&quot;192.168.1.3&quot;);\n            IPaddress ip4 = new IPaddress(&quot;192.168.1.4&quot;);\n            IPaddress ip5 = new IPaddress(&quot;192.168.1.5&quot;);\n            IPaddress ip6 = new IPaddress(&quot;192.168.1.6&quot;);\n            Susan.getIpaddress().add(ip3);\n            Susan.getIpaddress().add(ip4);\n            Susan.getIpaddress().add(ip5);\n            Susan.getIpaddress().add(ip6);\n            ip3.setUser(Susan);\n            ip4.setUser(Susan);\n            ip5.setUser(Susan);\n            ip6.setUser(Susan);\n\n            userRepository.saveAll(List.of(Steve, Susan));\n        };\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport com.example.project.relation.User;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n\n}\n\npackage com.example.project.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.project.relation.IPaddress;\n\n@Repository\npublic interface IPaddressRepository extends JpaRepository&lt;IPaddress, Long&gt;{\n    \n}\n</code></pre>\n<p>Payload for the request</p>\n<pre><code>{\n    &quot;organization_name&quot;: &quot;Fall&quot;,\n    &quot;user_name&quot;: &quot;Peter&quot;,\n    &quot;password&quot;: &quot;qwert12345&quot;,\n    &quot;phone_num&quot;: 9898987676,\n    &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\n    &quot;registration_num&quot;: 98765123450192,\n    &quot;ipaddress&quot;: [\n        {\n            &quot;IP_address&quot;: &quot;1.2.3.4&quot;\n        },\n        {\n            &quot;IP_address&quot;: &quot;0.2.3.4&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Response from the request</p>\n<pre><code>{\n    &quot;id&quot;: 29,\n    &quot;organization_name&quot;: &quot;Fall&quot;,\n    &quot;user_name&quot;: &quot;Peter&quot;,\n    &quot;password&quot;: &quot;qwert12345&quot;,\n    &quot;phone_num&quot;: 9898987676,\n    &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\n    &quot;registration_num&quot;: 98765123450192\n}\n</code></pre>\n<p>Let me know if any details needed in addition.</p>\n"},{"tags":["java","testing","rest-assured"],"comments":[{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1615540215,"post_id":66597035,"comment_id":117727514,"body_markdown":"So how to test if a number is at least 200 but no more that 299?","body":"So how to test if a number is at least 200 but no more that 299?"},{"owner":{"account_id":18072487,"reputation":103,"user_id":13136767,"display_name":"dipindashoff"},"score":0,"creation_date":1615540351,"post_id":66597035,"comment_id":117727562,"body_markdown":"@jonrsharpe: Yes. From 200 to 299. Or sometimes in the 4xx series.","body":"@jonrsharpe: Yes. From 200 to 299. Or sometimes in the 4xx series."},{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1615540489,"post_id":66597035,"comment_id":117727620,"body_markdown":"That was intended as a hint - how might you check whether a number is between x and y without exhaustively checking whether it&#39;s equal to x, x+1, ..., y-1, y?","body":"That was intended as a hint - how might you check whether a number is between x and y without exhaustively checking whether it&#39;s equal to x, x+1, ..., y-1, y?"}],"answers":[{"tags":[],"owner":{"account_id":18072487,"reputation":103,"user_id":13136767,"display_name":"dipindashoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615540596,"creation_date":1615540596,"answer_id":66597149,"question_id":66597035,"body_markdown":"import io.restassured.internal.http.Status;\r\n\r\n    Assert.assertTrue(Status.SUCCESS.matches(response.statusCode())); // true for family of \r\n    2xx eg 200 or 201\r\n\r\nReference: [Mapping of HTTP response codes to a constant &#39;success&#39; or &#39;failure&#39; value.][1]\r\n\r\n\r\n  [1]: https://javadoc.io/static/io.rest-assured/rest-assured/3.3.0/io/restassured/internal/http/Status.html","title":"How to validate if the status code returned is Successful i.e any of the 2xx HTTP status codes using Rest Assured?","body":"<p>import io.restassured.internal.http.Status;</p>\n<pre><code>Assert.assertTrue(Status.SUCCESS.matches(response.statusCode())); // true for family of \n2xx eg 200 or 201\n</code></pre>\n<p>Reference: <a href=\"https://javadoc.io/static/io.rest-assured/rest-assured/3.3.0/io/restassured/internal/http/Status.html\" rel=\"nofollow noreferrer\">Mapping of HTTP response codes to a constant 'success' or 'failure' value.</a></p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693141652,"creation_date":1693141652,"answer_id":76987248,"question_id":66597035,"body_markdown":"You can use a **CustomTypeSafeMatcher**\r\n\r\n     given()\r\n    .\r\n    .\r\n    .\r\n    .statusCode(new CustomTypeSafeMatcher&lt;&gt;(&quot;2xx StatusCode&quot;) {\r\n       @Override\r\n       protected boolean matchesSafely(Integer item) {\r\n             return Status.SUCCESS.matches(item);\r\n       }\r\n    })","title":"How to validate if the status code returned is Successful i.e any of the 2xx HTTP status codes using Rest Assured?","body":"<p>You can use a <strong>CustomTypeSafeMatcher</strong></p>\n<pre><code> given()\n.\n.\n.\n.statusCode(new CustomTypeSafeMatcher&lt;&gt;(&quot;2xx StatusCode&quot;) {\n   @Override\n   protected boolean matchesSafely(Integer item) {\n         return Status.SUCCESS.matches(item);\n   }\n})\n</code></pre>\n"}],"owner":{"account_id":18072487,"reputation":103,"user_id":13136767,"display_name":"dipindashoff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5122,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1697206137,"creation_date":1615540149,"question_id":66597035,"body_markdown":"I would like to assert if the status code returned is any of the 2xx series i.e 200 or 201 or 204. I don&#39;t want to do it the old fashioned way\r\ne.g.\r\n\r\n    if(response.statusCode() == 200 || response.statusCode() == 201 || \r\n       response.statusCode() == 204) {\r\n         \r\n         \\\\...\r\n      }\r\n\r\nIs there any better way to do?","title":"How to validate if the status code returned is Successful i.e any of the 2xx HTTP status codes using Rest Assured?","body":"<p>I would like to assert if the status code returned is any of the 2xx series i.e 200 or 201 or 204. I don't want to do it the old fashioned way\ne.g.</p>\n<pre><code>if(response.statusCode() == 200 || response.statusCode() == 201 || \n   response.statusCode() == 204) {\n     \n     \\\\...\n  }\n</code></pre>\n<p>Is there any better way to do?</p>\n"},{"tags":["java","spring-boot","http","backend","server-sent-events"],"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697205923,"creation_date":1697198481,"question_id":77287552,"body_markdown":"I have created an SSE endpoint for periodically pushing status information to the browser frontend. I&#39;d like to know if, from the frontend&#39;s perspective, it needs to manually initiate a reconnection to my /sse/notify endpoint, or if the frontend&#39;s EventSource API will automatically initiate reconnections.\r\n\r\n\r\nHere is my interface implementation.\r\n\r\n```java\r\n\r\n@RestController\r\n@RequestMapping(&quot;/sse&quot;)\r\n@Slf4j\r\npublic class SSEController {\r\n\r\n\r\n    public static Map&lt;Integer,SseEmitter&gt; sseMap=new ConcurrentHashMap&lt;&gt;();\r\n\r\n    /**\r\n     * 获取报警状态的长连接\r\n     * @apiNote 超时时间一小时，结束后SSE会自动重新连接\r\n     */\r\n    @GetMapping(&quot;/notify&quot;)\r\n    @SaCheckLogin\r\n    public SseEmitter alarm() throws IOException {\r\n        int userId = StpUtil.getLoginIdAsInt();\r\n        SseEmitter sse = sseMap.get(userId);\r\n        if (sse==null){\r\n            sse=new SseEmitter(3600_000L);\r\n            sse.onTimeout(()-&gt;{\r\n                sseMap.remove(userId);\r\n            });\r\n            sse.onCompletion(()-&gt;{\r\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\r\n            });\r\n            sseMap.put(userId,sse);\r\n        }\r\n        return sse;\r\n    }\r\n\r\n    public static void alarmNotify(SSEVo sseVo,SseEmitter sseEmitter){\r\n        try {\r\n            sseEmitter.send(sseVo);\r\n        } catch (IOException e) {\r\n            log.error(&quot;send sse notify error,msg={}&quot;,e.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen I set up a scheduled task to push data every 2 seconds.\r\n```java\r\n    @Scheduled(cron = &quot;*/2 * * * * ?&quot;)\r\n    public void checkStatus(){\r\n        SSEController.sseMap.forEach((useId,sseEmitter)-&gt;{\r\n            List&lt;Integer&gt; accessUnits = sessionService.getAccessById(useId);\r\n            SSEVo sseVo = new SSEVo();\r\n            sseVo.setError(Boolean.FALSE);\r\n            sseVo.setAlarm(Boolean.FALSE);\r\n            handleSSEEmitter(accessUnits,sseEmitter,sseVo);\r\n        });\r\n    }\r\n```\r\nMy SSE endpoint encounters an error message after pushing data for some time.\r\n```log\r\n2023-10-13 07:36:54.163 ERROR [][] [pool-2-thread-1] o.s.s.s.TaskUtils$LoggingErrorHandler:95 - Unexpected error occurred in scheduled task\r\njava.lang.IllegalStateException: ResponseBodyEmitter has already completed\r\n        at org.springframework.util.Assert.state(Assert.java:76)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter.send(ResponseBodyEmitter.java:196)\r\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:127)\r\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:110)\r\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:91)\r\n\r\n```\r\n\r\n\r\nDoes this mean that I should manually remove the current SseEmitter after the onCompletion() method is triggered, like the following?\r\n\r\n```java\r\n sse.onCompletion(()-&gt;{\r\n                sseMap.remove(userId);\r\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\r\n            });\r\n\r\n```\r\nAnd have the frontend initiate a new SSE request, right?\r\n\r\nI expect that the frontend can continuously receive data after connecting to the SSE endpoint and automatically reconnect.","title":"Will the SseEmitter connection provided by Spring Boot automatically initiate a reconnection after triggering onCompletion?","body":"<p>I have created an SSE endpoint for periodically pushing status information to the browser frontend. I'd like to know if, from the frontend's perspective, it needs to manually initiate a reconnection to my /sse/notify endpoint, or if the frontend's EventSource API will automatically initiate reconnections.</p>\n<p>Here is my interface implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\n@RequestMapping(&quot;/sse&quot;)\n@Slf4j\npublic class SSEController {\n\n\n    public static Map&lt;Integer,SseEmitter&gt; sseMap=new ConcurrentHashMap&lt;&gt;();\n\n    /**\n     * 获取报警状态的长连接\n     * @apiNote 超时时间一小时，结束后SSE会自动重新连接\n     */\n    @GetMapping(&quot;/notify&quot;)\n    @SaCheckLogin\n    public SseEmitter alarm() throws IOException {\n        int userId = StpUtil.getLoginIdAsInt();\n        SseEmitter sse = sseMap.get(userId);\n        if (sse==null){\n            sse=new SseEmitter(3600_000L);\n            sse.onTimeout(()-&gt;{\n                sseMap.remove(userId);\n            });\n            sse.onCompletion(()-&gt;{\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\n            });\n            sseMap.put(userId,sse);\n        }\n        return sse;\n    }\n\n    public static void alarmNotify(SSEVo sseVo,SseEmitter sseEmitter){\n        try {\n            sseEmitter.send(sseVo);\n        } catch (IOException e) {\n            log.error(&quot;send sse notify error,msg={}&quot;,e.getMessage());\n        }\n    }\n\n}\n\n</code></pre>\n<p>Then I set up a scheduled task to push data every 2 seconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Scheduled(cron = &quot;*/2 * * * * ?&quot;)\n    public void checkStatus(){\n        SSEController.sseMap.forEach((useId,sseEmitter)-&gt;{\n            List&lt;Integer&gt; accessUnits = sessionService.getAccessById(useId);\n            SSEVo sseVo = new SSEVo();\n            sseVo.setError(Boolean.FALSE);\n            sseVo.setAlarm(Boolean.FALSE);\n            handleSSEEmitter(accessUnits,sseEmitter,sseVo);\n        });\n    }\n</code></pre>\n<p>My SSE endpoint encounters an error message after pushing data for some time.</p>\n<pre><code>2023-10-13 07:36:54.163 ERROR [][] [pool-2-thread-1] o.s.s.s.TaskUtils$LoggingErrorHandler:95 - Unexpected error occurred in scheduled task\njava.lang.IllegalStateException: ResponseBodyEmitter has already completed\n        at org.springframework.util.Assert.state(Assert.java:76)\n        at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter.send(ResponseBodyEmitter.java:196)\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:127)\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:110)\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:91)\n\n</code></pre>\n<p>Does this mean that I should manually remove the current SseEmitter after the onCompletion() method is triggered, like the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code> sse.onCompletion(()-&gt;{\n                sseMap.remove(userId);\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\n            });\n\n</code></pre>\n<p>And have the frontend initiate a new SSE request, right?</p>\n<p>I expect that the frontend can continuously receive data after connecting to the SSE endpoint and automatically reconnect.</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686731537,"post_id":76470918,"comment_id":134838034,"body_markdown":"Does this answer your question? [java.sql.SQLException: ORA-01005: null password given; logon denied](https://stackoverflow.com/questions/38609280/java-sql-sqlexception-ora-01005-null-password-given-logon-denied)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38609280/java-sql-sqlexception-ora-01005-null-password-given-logon-denied\">java.sql.SQLException: ORA-01005: null password given; logon denied</a>"},{"owner":{"account_id":15857656,"reputation":126,"user_id":11441639,"display_name":"kiranNswamy"},"score":0,"creation_date":1686732075,"post_id":76470918,"comment_id":134838144,"body_markdown":"//JDBC and database properties.\n\tprivate static final String DB_DRIVER = \n\t\t           &quot;oracle.jdbc.driver.OracleDriver&quot;;\n\tprivate static final String DB_URL = \n\t\t        &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;;\n\tuse url without forward slahs and try","body":"//JDBC and database properties. \tprivate static final String DB_DRIVER =  \t\t           &quot;oracle.jdbc.driver.OracleDriver&quot;; \tprivate static final String DB_URL =  \t\t        &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;; \tuse url without forward slahs and try"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686744234,"post_id":76470918,"comment_id":134840662,"body_markdown":"none of these worked","body":"none of these worked"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686745516,"post_id":76470918,"comment_id":134840957,"body_markdown":"how much more minimal can i be?  the code is exactly as i gave it to you","body":"how much more minimal can i be?  the code is exactly as i gave it to you"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686749019,"post_id":76470918,"comment_id":134841851,"body_markdown":"Ill ty using a different oracle jdbc driver later today ....  ive never had such a pain connecting to oracle before","body":"Ill ty using a different oracle jdbc driver later today ....  ive never had such a pain connecting to oracle before"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":1,"creation_date":1686752896,"post_id":76470918,"comment_id":134842799,"body_markdown":"i did state that already:      I am using the following driver ojdbc8-23.2.0.0.jar Oracle XE 21c ....   like i said, ill try a different driver later, thanks","body":"i did state that already:      I am using the following driver ojdbc8-23.2.0.0.jar Oracle XE 21c ....   like i said, ill try a different driver later, thanks"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1686754231,"post_id":76470918,"comment_id":134843147,"body_markdown":"Sorry - I missed that - my apologies. That is almost certainly the problem, in that case. My other comments are probably not relevant - I will delete them. Using `ojdbc11` should work for you.","body":"Sorry - I missed that - my apologies. That is almost certainly the problem, in that case. My other comments are probably not relevant - I will delete them. Using <code>ojdbc11</code> should work for you."},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686969092,"post_id":76470918,"comment_id":134875632,"body_markdown":"No luck, i even uninstalled it to 18C using oracle 8 driver ... same type of errors","body":"No luck, i even uninstalled it to 18C using oracle 8 driver ... same type of errors"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688833502,"post_id":76470918,"comment_id":135128436,"body_markdown":"jdbc:oracle:thin:username/password@localhost:1521:xe works for me, but agree, oracle driver is a joke","body":"jdbc:oracle:thin:username/password@localhost:1521:xe works for me, but agree, oracle driver is a joke"}],"answers":[{"tags":[],"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697205748,"creation_date":1697205748,"answer_id":77288392,"question_id":76470918,"body_markdown":"*String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;* is wrong.\r\n\r\nTry removing // from the url.","title":"Unable to connect to Oracle XE via JDBC driver","body":"<p><em>String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;</em> is wrong.</p>\n<p>Try removing // from the url.</p>\n"}],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697205748,"creation_date":1686726276,"question_id":76470918,"body_markdown":"This is my Java Code: The error says the password is null but clearly it is not. Any help is appreciated...\r\n\r\n    public class OracleConnect {\r\n        public static void main(String[] args) {\r\n            String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;;\r\n            String user = &quot;constantin&quot;;\r\n            String password = &quot;tiger&quot;;\r\n    \r\n            try {\r\n                Connection conn = DriverManager.getConnection(url, user, password);\r\n                System.out.println(&quot;Connected to the database.&quot;);\r\n    \r\n                Statement stmt = conn.createStatement();\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM menagerie&quot;);\r\n    \r\n                while(rs.next()) {\r\n                    System.out.println(rs.getInt(&quot;id&quot;));\r\n                }\r\n    \r\n                rs.close();\r\n                stmt.close();\r\n                conn.close();\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;Could not connect to the database.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nand the error ...\r\n\r\nCould not connect to the database.\r\njava.sql.SQLException: ORA-01005: null password given; logon denied\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:603)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:598)\r\n\tat oracle.jdbc.driver.T4CTTIfun.processError(T4CTTIfun.java:1710)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:819)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1041)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:443)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:462)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTHWithO5Logon(T4CTTIoauthenticate.java:1628)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1375)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1322)\r\n\tat oracle.jdbc.driver.T4CConnection.authenticateWithPassword(T4CConnection.java:1500)\r\n\tat oracle.jdbc.driver.T4CConnection.authenticateUserForLogon(T4CConnection.java:1443)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:812)\r\n\tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1101)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:104)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:837)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat ca.menagerie.core.main.OracleConnect.main(OracleConnect.java:12)\r\n\r\nI am using the following driver ojdbc8-23.2.0.0.jar\r\nOracle XE 21c\r\n\r\nThis is how I initialized everything:\r\n\r\n    SQL*Plus: Release 21.0.0.0.0 - Production on Wed Jun 14 02:10:21 2023\r\n    Version 21.3.0.0.0\r\n    \r\n    Copyright (c) 1982, 2021, Oracle.  All rights reserved.\r\n    \r\n    Enter user-name: / as sysdba\r\n    \r\n    Connected to:\r\n    Oracle Database 21c Express Edition Release 21.0.0.0.0 - Production\r\n    Version 21.3.0.0.0\r\n    \r\n    SQL&gt; select name from v$pdbs;\r\n    \r\n    NAME\r\n    --------------------------------------------------------------------------------\r\n    PDB$SEED\r\n    XEPDB1\r\n    \r\n    SQL&gt; connect sys/kryptonite@localhost:1521/XEPDB1 as sysdba\r\n    Connected.\r\n    \r\n    SQL&gt; create user constantin identified by tiger default tablespace users quota unlimited on users;\r\n    \r\n    User created.\r\n    \r\n    SQL&gt; grant create session, create table to constantin;\r\n    \r\n    Grant succeeded.\r\n    \r\n    SQL&gt; connect constantin/tiger@localhost:1521/XEPDB1;\r\n    \r\n    Connected.\r\n    \r\n    SQL&gt; create table menagerie(id number);\r\n    \r\n    Table created.\r\n    \r\n    SQL&gt; insert into menagerie values (1234);\r\n    \r\n    1 row created.\r\n    \r\n    SQL&gt; commit;\r\n    \r\n    Commit complete.\r\n    \r\n    SQL&gt; select * from menagerie;\r\n            ID\r\n    ----------\r\n          1234\r\n    SQL&gt;\r\n\r\n","title":"Unable to connect to Oracle XE via JDBC driver","body":"<p>This is my Java Code: The error says the password is null but clearly it is not. Any help is appreciated...</p>\n<pre><code>public class OracleConnect {\n    public static void main(String[] args) {\n        String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;;\n        String user = &quot;constantin&quot;;\n        String password = &quot;tiger&quot;;\n\n        try {\n            Connection conn = DriverManager.getConnection(url, user, password);\n            System.out.println(&quot;Connected to the database.&quot;);\n\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM menagerie&quot;);\n\n            while(rs.next()) {\n                System.out.println(rs.getInt(&quot;id&quot;));\n            }\n\n            rs.close();\n            stmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            System.out.println(&quot;Could not connect to the database.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and the error ...</p>\n<p>Could not connect to the database.\njava.sql.SQLException: ORA-01005: null password given; logon denied</p>\n<pre><code>at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:603)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:598)\nat oracle.jdbc.driver.T4CTTIfun.processError(T4CTTIfun.java:1710)\nat oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:819)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1041)\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:443)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:462)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTHWithO5Logon(T4CTTIoauthenticate.java:1628)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1375)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1322)\nat oracle.jdbc.driver.T4CConnection.authenticateWithPassword(T4CConnection.java:1500)\nat oracle.jdbc.driver.T4CConnection.authenticateUserForLogon(T4CConnection.java:1443)\nat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:812)\nat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1101)\nat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:104)\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:837)\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:664)\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\nat java.sql.DriverManager.getConnection(DriverManager.java:247)\nat ca.menagerie.core.main.OracleConnect.main(OracleConnect.java:12)\n</code></pre>\n<p>I am using the following driver ojdbc8-23.2.0.0.jar\nOracle XE 21c</p>\n<p>This is how I initialized everything:</p>\n<pre><code>SQL*Plus: Release 21.0.0.0.0 - Production on Wed Jun 14 02:10:21 2023\nVersion 21.3.0.0.0\n\nCopyright (c) 1982, 2021, Oracle.  All rights reserved.\n\nEnter user-name: / as sysdba\n\nConnected to:\nOracle Database 21c Express Edition Release 21.0.0.0.0 - Production\nVersion 21.3.0.0.0\n\nSQL&gt; select name from v$pdbs;\n\nNAME\n--------------------------------------------------------------------------------\nPDB$SEED\nXEPDB1\n\nSQL&gt; connect sys/kryptonite@localhost:1521/XEPDB1 as sysdba\nConnected.\n\nSQL&gt; create user constantin identified by tiger default tablespace users quota unlimited on users;\n\nUser created.\n\nSQL&gt; grant create session, create table to constantin;\n\nGrant succeeded.\n\nSQL&gt; connect constantin/tiger@localhost:1521/XEPDB1;\n\nConnected.\n\nSQL&gt; create table menagerie(id number);\n\nTable created.\n\nSQL&gt; insert into menagerie values (1234);\n\n1 row created.\n\nSQL&gt; commit;\n\nCommit complete.\n\nSQL&gt; select * from menagerie;\n        ID\n----------\n      1234\nSQL&gt;\n</code></pre>\n"},{"tags":["java","jsp","pdf","pdf.js","struts-1"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697196718,"post_id":77286548,"comment_id":136252752,"body_markdown":"It requires details, GetImageAction.java, struts-config.xml, etc.","body":"It requires details, GetImageAction.java, struts-config.xml, etc."},{"owner":{"account_id":24241590,"reputation":23,"user_id":18193883,"display_name":"Ravindu Yasith"},"score":0,"creation_date":1697198385,"post_id":77286548,"comment_id":136253010,"body_markdown":"@RomanC \n    \n`&lt;action  \n\t\tpath=&quot;/getImage&quot;\n\t\ttype=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot;\n\t\tscope=&quot;request&quot;&gt;\n\t&lt;/action&gt;`\n\nthis is the struts config file","body":"@RomanC       <code>&lt;action   \t\tpath=&quot;&#47;getImage&quot; \t\ttype=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot; \t\tscope=&quot;request&quot;&gt; \t&lt;&#47;action&gt;</code>  this is the struts config file"}],"answers":[{"comments":[{"owner":{"account_id":24241590,"reputation":23,"user_id":18193883,"display_name":"Ravindu Yasith"},"score":0,"creation_date":1697217637,"post_id":77288159,"comment_id":136256962,"body_markdown":"I have tried that and this error shows in the PDF.js Express UI,\n\n`File extension do%3fimagedocid%3dww222244 is not supported. Please see http://r.pdftron.com/fileformats for a full list of file formats supported by WebViewer.\n\nIf this file is actually valid then you can pass the &#39;extension&#39; option with the intended file extension e.g. const doc = await Core.createDocument(&quot;http://domain/file11243. php&quot;, [extension:&#160;&quot;pdf&quot;})`\n\nthe initialDoc value is **%2FWEB_SSD%2FgetImage.do%3FimageDocID%3DWW222244** , So I think the string after **&quot;.&quot;** is identified as the file extension.","body":"I have tried that and this error shows in the PDF.js Express UI,  <code>File extension do%3fimagedocid%3dww222244 is not supported. Please see http:&#47;&#47;r.pdftron.com&#47;fileformats for a full list of file formats supported by WebViewer.  If this file is actually valid then you can pass the &#39;extension&#39; option with the intended file extension e.g. const doc = await Core.createDocument(&quot;http:&#47;&#47;domain&#47;file11243. php&quot;, [extension: &quot;pdf&quot;})</code>  the initialDoc value is <b>%2FWEB_SSD%2FgetImage.do%3FimageDocID%3DWW222244</b> , So I think the string after <b>&quot;.&quot;</b> is identified as the file extension."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697272616,"post_id":77288159,"comment_id":136261367,"body_markdown":"Yes, it&#39;s a file extension. You need to add an extension option as said in the message.","body":"Yes, it&#39;s a file extension. You need to add an extension option as said in the message."},{"owner":{"account_id":24241590,"reputation":23,"user_id":18193883,"display_name":"Ravindu Yasith"},"score":0,"creation_date":1697473425,"post_id":77288159,"comment_id":136281407,"body_markdown":"**.do** isn&#39;t a file extension it&#39;s a routing technique to redirected to the specified Servlet in struts. But the **initialDoc**  requires a file path which has **.pdf**\n\nSo does anyone knows that, if I have the byte array of a pdf file, can I set it to this **initialDoc** or any other technique to use with the **WebViewer** in PDF.js Express?","body":"<b>.do</b> isn&#39;t a file extension it&#39;s a routing technique to redirected to the specified Servlet in struts. But the <b>initialDoc</b>  requires a file path which has <b>.pdf</b>  So does anyone knows that, if I have the byte array of a pdf file, can I set it to this <b>initialDoc</b> or any other technique to use with the <b>WebViewer</b> in PDF.js Express?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697475503,"post_id":77288159,"comment_id":136281755,"body_markdown":"I have seen in the documentation of WebViewer that it can use remote addresses to load a document and it doesn&#39;t matter what extention you use for the file.","body":"I have seen in the documentation of WebViewer that it can use remote addresses to load a document and it doesn&#39;t matter what extention you use for the file."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697203778,"creation_date":1697203778,"answer_id":77288159,"question_id":77286548,"body_markdown":"You can use a direct path to the image action.\r\n```\r\ninitialDoc = &#39;${pageContext.request.contextPath}/getImage.do?imageDocID=&#39;+document.getElementById(&#39;imageDocID&#39;).value;\r\n```","title":"Upgrade From PDF.js to PDF.js Express","body":"<p>You can use a direct path to the image action.</p>\n<pre><code>initialDoc = '${pageContext.request.contextPath}/getImage.do?imageDocID='+document.getElementById('imageDocID').value;\n</code></pre>\n"}],"owner":{"account_id":24241590,"reputation":23,"user_id":18193883,"display_name":"Ravindu Yasith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697205418,"creation_date":1697188896,"question_id":77286548,"body_markdown":"I&#39;m working on a Java JSP Struts project which has previously implemented [PDF.js][1] for previewing documents. Because of the the PDF.js library didn&#39;t support watermarks option I decided to move to [PDF.js Express][2].\r\n\r\nThe below code snippet is the previous implementation\r\n\r\n**html body**\r\n\r\n    &lt;iframe id=&quot;content&quot; style=&#39;height: 600px; width: 98%; min-width: 900px;&#39; scrolling=&quot;no&quot; src=&quot;&quot;&gt;&lt;/iframe&gt;\r\n\r\n**script**\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t$(document).ready(function() {\r\n    \t\tvar base=&#39;web/viewer.html?file=&#39;;\r\n            var subUrl=encodeURIComponent(&#39;${pageContext.request.contextPath}/getImage.do?imageDocID=&#39;+document.getElementById(&#39;imageDocID&#39;).value);\r\n            var url=base+subUrl+&#39;#page=1&#39;;\r\n            $(&#39;#content&#39;).attr(&#39;src&#39;,url);\r\n    \t});\r\n    &lt;/script&gt;\r\n\r\nThe `getImage.do` will go to the `GetImageAction.java` page and generate and get the PDF file,\r\n\r\n**struts-config**\r\n\r\n    &lt;action  \r\n        path=&quot;/getImage&quot;\r\n        type=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot;\r\n        scope=&quot;request&quot;&gt;\r\n    &lt;/action&gt;\r\n\r\n**GetImageAction.java**\r\n\r\n    public class GetImageAction extends GenericAction {\r\n    \t\r\n    \tstatic Object imageServerLock = new Object();\r\n    \t\r\n    \tpublic ActionForward execute(ActionMapping mapping, ActionForm form,\r\n    \t\t\tHttpServletRequest request, HttpServletResponse response)\r\n    \tthrows IOException, ServletException, Exception {\r\n    \r\n    \t\tUserProfile userProfile = (UserProfile) request.getSession().getAttribute(&quot;UserProfile&quot;);\r\n    \t\t\r\n    \t\tActionForward actionForward = null;\r\n    \t\tString imageDocID = request.getParameter(&quot;imageDocID&quot;);\r\n    \t\tif (actionForward == null)\r\n    \t\t{\r\n    \t\t\tbyte[] appletData = ImageManager.getMod2TifImage(imageDocID);\r\n    \t\t\tObjectOutputStream outputToApplet = new ObjectOutputStream(response.getOutputStream());\r\n    \t\t\toutputToApplet.writeObject(appletData);\r\n    \t\t\toutputToApplet.flush();\r\n    \t        outputToApplet.close();\r\n    \r\n    \t\t\tactionForward = null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\treturn actionForward;\r\n    \r\n    \t\tActionForward actionForward = null;\r\n    \t\ttry{\r\n    \r\n    \t\t\tactionForward = super.execute(mapping, form, request, response);\r\n    \t\t\t\r\n    \t\t\tString imageDocID = request.getParameter(&quot;imageDocID&quot;);\r\n    \r\n    \t\t\tSystem.out.println(new Timestamp(System.currentTimeMillis()).toString() + &quot;\\trequest.getRemoteAddr() &quot;\r\n    \t\t\t\t\t+ request.getRemoteAddr() \r\n    \t\t\t\t\t+ &quot; Utility.getClientIp(request) : &quot;\r\n    \t\t\t\t\t+ Utility.getClientIp(request) + &quot; - &quot; + imageDocID\r\n    \t\t\t\t\t+ &quot; UserProfileID: &quot; + userProfile.getUserProfileID());\r\n    \t\t\tbyte[] image = null;\r\n    \t\t\tsynchronized (imageServerLock) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\r\n    \t\t\t\t\timage = (byte[]) request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID);\r\n    \t\t\t\t\r\n    \t\t\t\tif (actionForward == null) {\r\n    \t\t\t\t\tbyte[] dest = addWatemark(image);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttry{\r\n    \t\t\t\t\t\tPdfReader reader = new PdfReader(dest);\r\n    \t\t\t\t\t\tint pages = reader.getNumberOfPages();\r\n    \t\t\t\t\t}catch(Exception ex){\r\n    \t\t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t\t\timage = ImageManager.optimizePDF(image);\r\n    \t\t\t\t\t\tdest = addWatemark(image);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tresponse.setContentType(&quot;application/pdf&quot;);\r\n    \t\t\t\t\tOutputStream outs = response.getOutputStream();\r\n    \t\t\t\t\touts.write(dest);\r\n    \t\t\t\t\touts.close();\r\n    \t\t\t\t\tactionForward = null;\r\n    \t\t\t\t\tif(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\r\n    \t\t    \t\t\trequest.getSession().removeAttribute(&quot;IMAGE-&quot;+imageDocID);\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tLoggerUtils.info(this.getClass().getName() + &quot; - execute method --&gt; Exit&quot;);\r\n    \t\treturn actionForward;\r\n    \t}\r\n\r\nWhen I added the new PDF.js Express it says to use the [this][3] format.\r\n\r\nBecause I don&#39;t have a direct path of the generated pdf file I cannot use the `initialDoc` property.\r\n\r\nCan you suggest me any solution to use PDF.js Express\r\n\r\n\r\n  [1]: https://mozilla.github.io/pdf.js/\r\n  [2]: https://pdfjs.express/\r\n  [3]: https://pdfjs.express/documentation/get-started/manually","title":"Upgrade From PDF.js to PDF.js Express","body":"<p>I'm working on a Java JSP Struts project which has previously implemented <a href=\"https://mozilla.github.io/pdf.js/\" rel=\"nofollow noreferrer\">PDF.js</a> for previewing documents. Because of the the PDF.js library didn't support watermarks option I decided to move to <a href=\"https://pdfjs.express/\" rel=\"nofollow noreferrer\">PDF.js Express</a>.</p>\n<p>The below code snippet is the previous implementation</p>\n<p><strong>html body</strong></p>\n<pre><code>&lt;iframe id=&quot;content&quot; style='height: 600px; width: 98%; min-width: 900px;' scrolling=&quot;no&quot; src=&quot;&quot;&gt;&lt;/iframe&gt;\n</code></pre>\n<p><strong>script</strong></p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n    $(document).ready(function() {\n        var base='web/viewer.html?file=';\n        var subUrl=encodeURIComponent('${pageContext.request.contextPath}/getImage.do?imageDocID='+document.getElementById('imageDocID').value);\n        var url=base+subUrl+'#page=1';\n        $('#content').attr('src',url);\n    });\n&lt;/script&gt;\n</code></pre>\n<p>The <code>getImage.do</code> will go to the <code>GetImageAction.java</code> page and generate and get the PDF file,</p>\n<p><strong>struts-config</strong></p>\n<pre><code>&lt;action  \n    path=&quot;/getImage&quot;\n    type=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot;\n    scope=&quot;request&quot;&gt;\n&lt;/action&gt;\n</code></pre>\n<p><strong>GetImageAction.java</strong></p>\n<pre><code>public class GetImageAction extends GenericAction {\n    \n    static Object imageServerLock = new Object();\n    \n    public ActionForward execute(ActionMapping mapping, ActionForm form,\n            HttpServletRequest request, HttpServletResponse response)\n    throws IOException, ServletException, Exception {\n\n        UserProfile userProfile = (UserProfile) request.getSession().getAttribute(&quot;UserProfile&quot;);\n        \n        ActionForward actionForward = null;\n        String imageDocID = request.getParameter(&quot;imageDocID&quot;);\n        if (actionForward == null)\n        {\n            byte[] appletData = ImageManager.getMod2TifImage(imageDocID);\n            ObjectOutputStream outputToApplet = new ObjectOutputStream(response.getOutputStream());\n            outputToApplet.writeObject(appletData);\n            outputToApplet.flush();\n            outputToApplet.close();\n\n            actionForward = null;\n        }\n        \n        \n\n        return actionForward;\n\n        ActionForward actionForward = null;\n        try{\n\n            actionForward = super.execute(mapping, form, request, response);\n            \n            String imageDocID = request.getParameter(&quot;imageDocID&quot;);\n\n            System.out.println(new Timestamp(System.currentTimeMillis()).toString() + &quot;\\trequest.getRemoteAddr() &quot;\n                    + request.getRemoteAddr() \n                    + &quot; Utility.getClientIp(request) : &quot;\n                    + Utility.getClientIp(request) + &quot; - &quot; + imageDocID\n                    + &quot; UserProfileID: &quot; + userProfile.getUserProfileID());\n            byte[] image = null;\n            synchronized (imageServerLock) {\n                \n                if(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\n                    image = (byte[]) request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID);\n                \n                if (actionForward == null) {\n                    byte[] dest = addWatemark(image);\n                    \n                    try{\n                        PdfReader reader = new PdfReader(dest);\n                        int pages = reader.getNumberOfPages();\n                    }catch(Exception ex){\n                        ex.printStackTrace();\n                        image = ImageManager.optimizePDF(image);\n                        dest = addWatemark(image);\n                    }\n                    \n                    response.setContentType(&quot;application/pdf&quot;);\n                    OutputStream outs = response.getOutputStream();\n                    outs.write(dest);\n                    outs.close();\n                    actionForward = null;\n                    if(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\n                        request.getSession().removeAttribute(&quot;IMAGE-&quot;+imageDocID);\n                    \n                }\n            }\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n\n        LoggerUtils.info(this.getClass().getName() + &quot; - execute method --&gt; Exit&quot;);\n        return actionForward;\n    }\n</code></pre>\n<p>When I added the new PDF.js Express it says to use the <a href=\"https://pdfjs.express/documentation/get-started/manually\" rel=\"nofollow noreferrer\">this</a> format.</p>\n<p>Because I don't have a direct path of the generated pdf file I cannot use the <code>initialDoc</code> property.</p>\n<p>Can you suggest me any solution to use PDF.js Express</p>\n"},{"tags":["java","json","apache-beam","dataflow"],"answers":[{"tags":[],"owner":{"account_id":162830,"reputation":4310,"user_id":384554,"accept_rate":88,"display_name":"PUG"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1519688501,"creation_date":1519688501,"answer_id":48998866,"question_id":48068634,"body_markdown":"Use `GSON` and do a `gson.toJson(yourTableRow)` details [here][1] \r\n\r\n\r\n  [1]: https://github.com/bomboradata/pubsub-to-bigquery/blob/master/src/main/java/com/bombora/pubsub/to/bq/PrepData.java","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>Use <code>GSON</code> and do a <code>gson.toJson(yourTableRow)</code> details <a href=\"https://github.com/bomboradata/pubsub-to-bigquery/blob/master/src/main/java/com/bombora/pubsub/to/bq/PrepData.java\" rel=\"nofollow noreferrer\">here</a> </p>\n"},{"comments":[{"owner":{"account_id":2566401,"reputation":808,"user_id":2226323,"accept_rate":42,"display_name":"Max"},"score":0,"creation_date":1539808665,"post_id":52862291,"comment_id":92640822,"body_markdown":"This is interesting. I wonder what the efficiency of AsJsons is? But comparison, we have found that Gson is very expensive to use; At this point we try to use it exclusively in unit tests to transform JSON strings into objects for use as inputs.","body":"This is interesting. I wonder what the efficiency of AsJsons is? But comparison, we have found that Gson is very expensive to use; At this point we try to use it exclusively in unit tests to transform JSON strings into objects for use as inputs."},{"owner":{"account_id":6397540,"reputation":61,"user_id":4961384,"display_name":"Rafael Alves"},"score":0,"creation_date":1539877377,"post_id":52862291,"comment_id":92669018,"body_markdown":"I am running samples with a 100 TableRows and about 20 columns so I can&#39;t say much about the efficiency right now.","body":"I am running samples with a 100 TableRows and about 20 columns so I can&#39;t say much about the efficiency right now."},{"owner":{"account_id":6397540,"reputation":61,"user_id":4961384,"display_name":"Rafael Alves"},"score":0,"creation_date":1540408656,"post_id":52862291,"comment_id":92859389,"body_markdown":"Update about the efficiency: I ran the Json Transform for 142,515,724 TableRows and it took 14 min 22 sec on dataflow","body":"Update about the efficiency: I ran the Json Transform for 142,515,724 TableRows and it took 14 min 22 sec on dataflow"},{"owner":{"account_id":8440460,"reputation":16742,"user_id":6849682,"accept_rate":33,"display_name":"bigbounty"},"score":0,"creation_date":1579762413,"post_id":52862291,"comment_id":105876445,"body_markdown":"What&#39;s the return value of the `AsJsons` transform? is it like `PCollection&lt;what??&gt;`?","body":"What&#39;s the return value of the <code>AsJsons</code> transform? is it like <code>PCollection&lt;what??&gt;</code>?"},{"owner":{"account_id":6397540,"reputation":61,"user_id":4961384,"display_name":"Rafael Alves"},"score":0,"creation_date":1579805551,"post_id":52862291,"comment_id":105899396,"body_markdown":"@bigbounty looking at the documentation, `AsJsons.of` returns a `PCollection&lt;ObjectMapper&gt; `\n\n_Creates a AsJsons PTransform that will transform a PCollection&lt;InputT&gt; into a PCollection of JSON Strings representing those objects using a Jackson ObjectMapper._\n\nhttps://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/extensions/jackson/AsJsons.html#of-java.lang.Class-","body":"@bigbounty looking at the documentation, <code>AsJsons.of</code> returns a <code>PCollection&lt;ObjectMapper&gt; </code>  <i>Creates a AsJsons PTransform that will transform a PCollection&lt;InputT&gt; into a PCollection of JSON Strings representing those objects using a Jackson ObjectMapper.</i>  <a href=\"https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/extensions/jackson/AsJsons.html#of-java.lang.Class-\" rel=\"nofollow noreferrer\">beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/&hellip;</a>"},{"owner":{"account_id":8440460,"reputation":16742,"user_id":6849682,"accept_rate":33,"display_name":"bigbounty"},"score":0,"creation_date":1579837207,"post_id":52862291,"comment_id":105908488,"body_markdown":"It should `PCollection&lt;String&gt;` right? Because the docs say JSON ***Strings***","body":"It should <code>PCollection&lt;String&gt;</code> right? Because the docs say JSON <b><i>Strings</i></b>"},{"owner":{"account_id":6397540,"reputation":61,"user_id":4961384,"display_name":"Rafael Alves"},"score":0,"creation_date":1580336181,"post_id":52862291,"comment_id":106068528,"body_markdown":"You are probably right, but I do not have the environment test this anymore","body":"You are probably right, but I do not have the environment test this anymore"}],"tags":[],"owner":{"account_id":6397540,"reputation":61,"user_id":4961384,"display_name":"Rafael Alves"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539804513,"creation_date":1539804513,"answer_id":52862291,"question_id":48068634,"body_markdown":"I ran into the same problem, I solved by using [org.apache.beam.sdk.extensions.jackson.AsJsons][1].\r\n\r\nTo use it, it is not necessary to create a new transform, you can apply it directly on the pipeline.\r\n\r\n    import org.apache.beam.sdk.extensions.jackson.AsJsons;\r\n\r\n    Pipeline p = Pipeline.create(options);\r\n    \r\n    p.apply(&quot;The transform that returns a PCollection of TableRow&quot;)\r\n    .apply(&quot;JSon Transform&quot;, AsJsons.of(TableRow.class));\r\n\r\n\r\n----------\r\n\r\n\r\nAnd if you are managing your project with maven, you can add this to the `&lt;dependencies&gt;` in the `pom.xml` file\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n      &lt;artifactId&gt;beam-sdks-java-extensions-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/extensions/jackson/AsJsons.html &quot;Apache Beam Documentation&quot;","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>I ran into the same problem, I solved by using <a href=\"https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/extensions/jackson/AsJsons.html\" rel=\"nofollow noreferrer\" title=\"Apache Beam Documentation\">org.apache.beam.sdk.extensions.jackson.AsJsons</a>.</p>\n\n<p>To use it, it is not necessary to create a new transform, you can apply it directly on the pipeline.</p>\n\n<pre><code>import org.apache.beam.sdk.extensions.jackson.AsJsons;\n\nPipeline p = Pipeline.create(options);\n\np.apply(\"The transform that returns a PCollection of TableRow\")\n.apply(\"JSon Transform\", AsJsons.of(TableRow.class));\n</code></pre>\n\n<hr>\n\n<p>And if you are managing your project with maven, you can add this to the <code>&lt;dependencies&gt;</code> in the <code>pom.xml</code> file</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n  &lt;artifactId&gt;beam-sdks-java-extensions-json-jackson&lt;/artifactId&gt;\n  &lt;version&gt;2.5.0&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124608,"reputation":692,"user_id":319806,"accept_rate":100,"display_name":"pranjal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697205363,"creation_date":1697204977,"answer_id":77288294,"question_id":48068634,"body_markdown":"I am trying to use similar set up where I am trying to convert beam `Row` instead of `TableRow`\r\n\r\nLike below:\r\n\r\n`PCollection&lt;String&gt; jsonStrings = result.apply(&quot;RowToJSON&quot;, AsJsons.of(Row.class));`\r\n\r\n\r\nBut What I rather get is complete JSON object; schema with fields \r\n\r\n\r\n`{\r\n  &quot;schema&quot;: {\r\n    &quot;encodingPositions&quot;: {\r\n      &quot;drug_name&quot;: 0,\r\n      &quot;eid&quot;: 1,\r\n      &quot;generic_id&quot;: 9,\r\n      &quot;patientid&quot;: 4,\r\n      &quot;docid&quot;: 2,\r\n      &quot;therapeutic_class&quot;: 7,\r\n      &quot;generic_name&quot;: 6,\r\n      &quot;prid&quot;: 3,\r\n      &quot;created_at&quot;: 10,\r\n      &quot;source&quot;: 11,\r\n      &quot;updated_ekaid&quot;: 5,\r\n      &quot;disease_name&quot;: 8\r\n    },\r\n    &quot;encodingPositionsOverridden&quot;: false,\r\n    &quot;fields&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;drug_name&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;eid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;docid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;prid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;patientid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;updated_ekaid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;generic_name&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;therapeutic_class&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;disease_name&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;generic_id&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;created_at&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;source&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;LOGICAL_TYPE&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: {\r\n            &quot;identifier&quot;: &quot;SqlCharType&quot;,\r\n            &quot;argumentType&quot;: {\r\n              &quot;typeName&quot;: &quot;STRING&quot;,\r\n              &quot;nullable&quot;: false,\r\n              &quot;logicalType&quot;: null,\r\n              &quot;collectionElementType&quot;: null,\r\n              &quot;mapKeyType&quot;: null,\r\n              &quot;mapValueType&quot;: null,\r\n              &quot;rowSchema&quot;: null,\r\n              &quot;allMetadata&quot;: {\r\n                \r\n              }\r\n            },\r\n            &quot;argument&quot;: &quot;&quot;,\r\n            &quot;baseType&quot;: {\r\n              &quot;typeName&quot;: &quot;STRING&quot;,\r\n              &quot;nullable&quot;: false,\r\n              &quot;logicalType&quot;: null,\r\n              &quot;collectionElementType&quot;: null,\r\n              &quot;mapKeyType&quot;: null,\r\n              &quot;mapValueType&quot;: null,\r\n              &quot;rowSchema&quot;: null,\r\n              &quot;allMetadata&quot;: {\r\n                \r\n              }\r\n            }\r\n          },\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      }\r\n    ],\r\n    &quot;uuid&quot;: null,\r\n    &quot;options&quot;: {\r\n      &quot;optionNames&quot;: [\r\n        \r\n      ]\r\n    },\r\n    &quot;fieldNames&quot;: [\r\n      &quot;drug_name&quot;,\r\n      &quot;eid&quot;,\r\n      &quot;docid&quot;,\r\n      &quot;prid&quot;,\r\n      &quot;patientid&quot;,\r\n      &quot;updated_ekaid&quot;,\r\n      &quot;generic_name&quot;,\r\n      &quot;therapeutic_class&quot;,\r\n      &quot;disease_name&quot;,\r\n      &quot;generic_id&quot;,\r\n      &quot;created_at&quot;,\r\n      &quot;source&quot;\r\n    ],\r\n    &quot;fieldCount&quot;: 12\r\n  },\r\n  &quot;values&quot;: [\r\n    &quot;drug_name&quot;,\r\n    &quot;mid&quot;,\r\n    &quot;did&quot;,\r\n    &quot;prid&quot;,\r\n    &quot;pid&quot;,\r\n    &quot;bid&quot;,\r\n    &quot;medicineclassname&quot;,\r\n    &quot;medicine class&quot;,\r\n    &quot;[&#39;disease name&#39;]&quot;,\r\n    &quot;genericid&quot;,\r\n    &quot;2023-10-13&quot;,\r\n    &quot;current_medications&quot;\r\n  ],\r\n  &quot;fieldCount&quot;: 12,\r\n  &quot;baseValues&quot;: [\r\n    &quot;drug_name&quot;,\r\n    &quot;mid&quot;,\r\n    &quot;did&quot;,\r\n    &quot;prid&quot;,\r\n    &quot;pid&quot;,\r\n    &quot;bid&quot;,\r\n    &quot;medicineclassname&quot;,\r\n    &quot;medicine class&quot;,\r\n    &quot;[&#39;disease name&#39;]&quot;,\r\n    &quot;genericid&quot;,\r\n    &quot;2023-10-13&quot;,\r\n    &quot;current_medications&quot;\r\n  ]\r\n}`\r\n\r\n\r\nWhereas I am expecting \r\n\r\n`{&quot;drug_name&quot;: &quot;drug_name&quot;, &quot;eid&quot;: &quot;mid&quot;, &quot;docid&quot;: &quot;did&quot;, &quot;prid&quot;: &quot;prid&quot;, &quot;patientid&quot;: &quot;pid&quot;, &quot;updated_ekaid&quot;: &quot;bid&quot;, &quot;generic_name&quot;: &quot;medicineclassname&quot;, &quot;therapeutic_class&quot;: &quot;medicine class&quot;, &quot;disease_name&quot;: &quot;[\\&#39;disease name\\&#39;]&quot;, &quot;generic_id&quot;: &quot;genericid&quot;, &quot;created_at&quot;: &quot;2023-10-13&quot;, &quot;source&quot;: &quot;current_medications&quot;}`\r\n\r\n\r\nHow to achieve the desired only Values as JSON ?","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>I am trying to use similar set up where I am trying to convert beam <code>Row</code> instead of <code>TableRow</code></p>\n<p>Like below:</p>\n<p><code>PCollection&lt;String&gt; jsonStrings = result.apply(&quot;RowToJSON&quot;, AsJsons.of(Row.class));</code></p>\n<p>But What I rather get is complete JSON object; schema with fields</p>\n<p>`{\n&quot;schema&quot;: {\n&quot;encodingPositions&quot;: {\n&quot;drug_name&quot;: 0,\n&quot;eid&quot;: 1,\n&quot;generic_id&quot;: 9,\n&quot;patientid&quot;: 4,\n&quot;docid&quot;: 2,\n&quot;therapeutic_class&quot;: 7,\n&quot;generic_name&quot;: 6,\n&quot;prid&quot;: 3,\n&quot;created_at&quot;: 10,\n&quot;source&quot;: 11,\n&quot;updated_ekaid&quot;: 5,\n&quot;disease_name&quot;: 8\n},\n&quot;encodingPositionsOverridden&quot;: false,\n&quot;fields&quot;: [\n{\n&quot;name&quot;: &quot;drug_name&quot;,\n&quot;description&quot;: &quot;&quot;,\n&quot;type&quot;: {\n&quot;typeName&quot;: &quot;STRING&quot;,\n&quot;nullable&quot;: false,\n&quot;logicalType&quot;: null,\n&quot;collectionElementType&quot;: null,\n&quot;mapKeyType&quot;: null,\n&quot;mapValueType&quot;: null,\n&quot;rowSchema&quot;: null,\n&quot;allMetadata&quot;: {</p>\n<pre><code>      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;eid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;docid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;prid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;patientid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;updated_ekaid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;generic_name&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;therapeutic_class&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;disease_name&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;generic_id&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;created_at&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;source&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;LOGICAL_TYPE&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: {\n        &quot;identifier&quot;: &quot;SqlCharType&quot;,\n        &quot;argumentType&quot;: {\n          &quot;typeName&quot;: &quot;STRING&quot;,\n          &quot;nullable&quot;: false,\n          &quot;logicalType&quot;: null,\n          &quot;collectionElementType&quot;: null,\n          &quot;mapKeyType&quot;: null,\n          &quot;mapValueType&quot;: null,\n          &quot;rowSchema&quot;: null,\n          &quot;allMetadata&quot;: {\n            \n          }\n        },\n        &quot;argument&quot;: &quot;&quot;,\n        &quot;baseType&quot;: {\n          &quot;typeName&quot;: &quot;STRING&quot;,\n          &quot;nullable&quot;: false,\n          &quot;logicalType&quot;: null,\n          &quot;collectionElementType&quot;: null,\n          &quot;mapKeyType&quot;: null,\n          &quot;mapValueType&quot;: null,\n          &quot;rowSchema&quot;: null,\n          &quot;allMetadata&quot;: {\n            \n          }\n        }\n      },\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  }\n],\n&quot;uuid&quot;: null,\n&quot;options&quot;: {\n  &quot;optionNames&quot;: [\n    \n  ]\n},\n&quot;fieldNames&quot;: [\n  &quot;drug_name&quot;,\n  &quot;eid&quot;,\n  &quot;docid&quot;,\n  &quot;prid&quot;,\n  &quot;patientid&quot;,\n  &quot;updated_ekaid&quot;,\n  &quot;generic_name&quot;,\n  &quot;therapeutic_class&quot;,\n  &quot;disease_name&quot;,\n  &quot;generic_id&quot;,\n  &quot;created_at&quot;,\n  &quot;source&quot;\n],\n&quot;fieldCount&quot;: 12\n</code></pre>\n<p>},\n&quot;values&quot;: [\n&quot;drug_name&quot;,\n&quot;mid&quot;,\n&quot;did&quot;,\n&quot;prid&quot;,\n&quot;pid&quot;,\n&quot;bid&quot;,\n&quot;medicineclassname&quot;,\n&quot;medicine class&quot;,\n&quot;['disease name']&quot;,\n&quot;genericid&quot;,\n&quot;2023-10-13&quot;,\n&quot;current_medications&quot;\n],\n&quot;fieldCount&quot;: 12,\n&quot;baseValues&quot;: [\n&quot;drug_name&quot;,\n&quot;mid&quot;,\n&quot;did&quot;,\n&quot;prid&quot;,\n&quot;pid&quot;,\n&quot;bid&quot;,\n&quot;medicineclassname&quot;,\n&quot;medicine class&quot;,\n&quot;['disease name']&quot;,\n&quot;genericid&quot;,\n&quot;2023-10-13&quot;,\n&quot;current_medications&quot;\n]\n}`</p>\n<p>Whereas I am expecting</p>\n<p><code>{&quot;drug_name&quot;: &quot;drug_name&quot;, &quot;eid&quot;: &quot;mid&quot;, &quot;docid&quot;: &quot;did&quot;, &quot;prid&quot;: &quot;prid&quot;, &quot;patientid&quot;: &quot;pid&quot;, &quot;updated_ekaid&quot;: &quot;bid&quot;, &quot;generic_name&quot;: &quot;medicineclassname&quot;, &quot;therapeutic_class&quot;: &quot;medicine class&quot;, &quot;disease_name&quot;: &quot;[\\'disease name\\']&quot;, &quot;generic_id&quot;: &quot;genericid&quot;, &quot;created_at&quot;: &quot;2023-10-13&quot;, &quot;source&quot;: &quot;current_medications&quot;}</code></p>\n<p>How to achieve the desired only Values as JSON ?</p>\n"}],"owner":{"account_id":2566401,"reputation":808,"user_id":2226323,"accept_rate":42,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5414,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48998866,"answer_count":3,"score":4,"last_activity_date":1697205363,"creation_date":1514931645,"question_id":48068634,"body_markdown":"Short of writing my own function to do it, what is the easiest way to convert a `TableRow` object, inside a dataflow 2.x pipeline, to a JSON-formatted String?\r\n\r\nI thought the code below would work, but it isn&#39;t correctly inserting quotes in between key/values, especially where there are nested fields.\r\n\r\n    public static class TableRowToString extends DoFn&lt;TableRow, String&gt; {    \r\n      private static final long serialVersionUID = 1L;\r\n        \r\n      @ProcessElement\r\n        public void processElement(ProcessContext c) {\r\n          c.output(c.element().toString());\r\n        }\r\n      }\r\n    }","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>Short of writing my own function to do it, what is the easiest way to convert a <code>TableRow</code> object, inside a dataflow 2.x pipeline, to a JSON-formatted String?</p>\n\n<p>I thought the code below would work, but it isn't correctly inserting quotes in between key/values, especially where there are nested fields.</p>\n\n<pre><code>public static class TableRowToString extends DoFn&lt;TableRow, String&gt; {    \n  private static final long serialVersionUID = 1L;\n\n  @ProcessElement\n    public void processElement(ProcessContext c) {\n      c.output(c.element().toString());\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1287590291,"post_id":3979748,"comment_id":4257852,"body_markdown":"http://stackoverflow.com/questions/3725703/how-to-store-more-than-one-string-in-a-map/3725732#3725732 related","body":"<a href=\"http://stackoverflow.com/questions/3725703/how-to-store-more-than-one-string-in-a-map/3725732#3725732\" title=\"how to store more than one string in a map\">stackoverflow.com/questions/3725703/&hellip;</a> related"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1287592463,"post_id":3979748,"comment_id":4258297,"body_markdown":"Why do you want to do this?  Generally when I see this it is a design problem (speaking from my own mistakes as well as others :-)","body":"Why do you want to do this?  Generally when I see this it is a design problem (speaking from my own mistakes as well as others :-)"}],"answers":[{"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1287590102,"post_id":3979760,"comment_id":4257808,"body_markdown":"Ideally, of course, this class would have meaningful names for itself and its properties.","body":"Ideally, of course, this class would have meaningful names for itself and its properties."},{"owner":{"account_id":27152,"reputation":3411,"user_id":71354,"accept_rate":85,"display_name":"Yrlec"},"score":1,"creation_date":1287590176,"post_id":3979760,"comment_id":4257825,"body_markdown":"Yes that&#39;s true. But that was unfortunately not specified in the question :)","body":"Yes that&#39;s true. But that was unfortunately not specified in the question :)"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1287590258,"post_id":3979760,"comment_id":4257846,"body_markdown":"Why do you have the getters and setters?  It adds way too much unnecessary code.","body":"Why do you have the getters and setters?  It adds way too much unnecessary code."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1287590350,"post_id":3979760,"comment_id":4257860,"body_markdown":"@Yrlec: Yes, was pointing that out for the OP&#39;s benefit mostly!","body":"@Yrlec: Yes, was pointing that out for the OP&#39;s benefit mostly!"},{"owner":{"account_id":27152,"reputation":3411,"user_id":71354,"accept_rate":85,"display_name":"Yrlec"},"score":0,"creation_date":1287590425,"post_id":3979760,"comment_id":4257873,"body_markdown":"I prefer to use getters and setters to make it easier to add functionality later on. If I let external classes access the fields instead I make it a lot more difficult to add, for instance, validation before a field gets set.","body":"I prefer to use getters and setters to make it easier to add functionality later on. If I let external classes access the fields instead I make it a lot more difficult to add, for instance, validation before a field gets set."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1287590518,"post_id":3979760,"comment_id":4257891,"body_markdown":"@jjnguy: It wouldn&#39;t surprise me if these 3 values should have been grouped in a class to begin with, in which case it would likely be useful elsewhere and worth it to make it a proper class. If it&#39;s just a throwaway only for use with this particular list, then maybe I wouldn&#39;t bother.","body":"@jjnguy: It wouldn&#39;t surprise me if these 3 values should have been grouped in a class to begin with, in which case it would likely be useful elsewhere and worth it to make it a proper class. If it&#39;s just a throwaway only for use with this particular list, then maybe I wouldn&#39;t bother."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1287590624,"post_id":3979760,"comment_id":4257906,"body_markdown":"@Colin, agreed.  I just figured this to be a throw away class, thus, I designed my implementation to be as light as possible.","body":"@Colin, agreed.  I just figured this to be a throw away class, thus, I designed my implementation to be as light as possible."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1287592404,"post_id":3979760,"comment_id":4258282,"body_markdown":"Past experience leads me to say don&#39;t do this for real - it becomes a royal pain usually.","body":"Past experience leads me to say don&#39;t do this for real - it becomes a royal pain usually."}],"tags":[],"owner":{"account_id":27152,"reputation":3411,"user_id":71354,"accept_rate":85,"display_name":"Yrlec"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287590113,"creation_date":1287589828,"answer_id":3979760,"question_id":3979748,"body_markdown":"You can create a wrapper class which holds these three variables and then store that wrapper-object in the list. \r\n\r\nFor instance\r\n\r\n\r\n\t    public class ListWrapperClass {\r\n        private String firstStringValue;\r\n        private String secondStringValue;\r\n        private Integer integerValue;\r\n\r\n        public String getFirstStringValue() {\r\n            return firstStringValue;\r\n        }\r\n\r\n        public void setFirstStringValue(String firstStringValue) {\r\n            this.firstStringValue = firstStringValue;\r\n        }\r\n\r\n        public String getSecondStringValue() {\r\n            return secondStringValue;\r\n        }\r\n\r\n        public void setSecondStringValue(String secondStringValue) {\r\n            this.secondStringValue = secondStringValue;\r\n        }\r\n\r\n        public Integer getIntegerValue() {\r\n            return integerValue;\r\n        }\r\n\r\n        public void setIntegerValue(Integer integerValue) {\r\n            this.integerValue = integerValue;\r\n        }\r\n    }\r\n\r\nand then use `List&lt;ListWrapperClass&gt;`.\r\n","title":"Multiple parameters in List","body":"<p>You can create a wrapper class which holds these three variables and then store that wrapper-object in the list. </p>\n\n<p>For instance</p>\n\n<pre><code>    public class ListWrapperClass {\n    private String firstStringValue;\n    private String secondStringValue;\n    private Integer integerValue;\n\n    public String getFirstStringValue() {\n        return firstStringValue;\n    }\n\n    public void setFirstStringValue(String firstStringValue) {\n        this.firstStringValue = firstStringValue;\n    }\n\n    public String getSecondStringValue() {\n        return secondStringValue;\n    }\n\n    public void setSecondStringValue(String secondStringValue) {\n        this.secondStringValue = secondStringValue;\n    }\n\n    public Integer getIntegerValue() {\n        return integerValue;\n    }\n\n    public void setIntegerValue(Integer integerValue) {\n        this.integerValue = integerValue;\n    }\n}\n</code></pre>\n\n<p>and then use <code>List&lt;ListWrapperClass&gt;</code>.</p>\n"},{"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1287590179,"post_id":3979769,"comment_id":4257827,"body_markdown":"I don&#39;t recommended this non generic solution.","body":"I don&#39;t recommended this non generic solution."},{"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"score":1,"creation_date":1287590236,"post_id":3979769,"comment_id":4257842,"body_markdown":"Neither do I! :)  Just presenting other alternatives.","body":"Neither do I! :)  Just presenting other alternatives."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1287590282,"post_id":3979769,"comment_id":4257850,"body_markdown":"This doesn&#39;t seem like the right choice because the 3 values could not all share the same index and so are not related to each other as they should be. Plus, the lack of type safety with `List&lt;Object&gt;` should be avoided when possible.","body":"This doesn&#39;t seem like the right choice because the 3 values could not all share the same index and so are not related to each other as they should be. Plus, the lack of type safety with <code>List&lt;Object&gt;</code> should be avoided when possible."}],"tags":[],"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287589865,"creation_date":1287589865,"answer_id":3979769,"question_id":3979748,"body_markdown":"You can use a `List&lt;Object&gt;` and then cast whatever you retrieve based on the index, but you may just consider creating a class that holds these three things.","title":"Multiple parameters in List","body":"<p>You can use a <code>List&lt;Object&gt;</code> and then cast whatever you retrieve based on the index, but you may just consider creating a class that holds these three things.</p>\n"},{"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1287590680,"post_id":3979806,"comment_id":4257917,"body_markdown":"@yO2gO, you should consider accepting some answer s to your questions so in the future people know which answer solved your problem.","body":"@yO2gO, you should consider accepting some answer s to your questions so in the future people know which answer solved your problem."},{"owner":{"account_id":177169,"reputation":4841,"user_id":408324,"accept_rate":64,"display_name":"y2p"},"score":0,"creation_date":1287862207,"post_id":3979806,"comment_id":4291525,"body_markdown":"Thanks. I am new to Stackoverflow. I accepted an answer this time and will do it henceforth","body":"Thanks. I am new to Stackoverflow. I accepted an answer this time and will do it henceforth"},{"owner":{"account_id":9642232,"reputation":441,"user_id":7156103,"accept_rate":100,"display_name":"Vibhav Chaddha"},"score":0,"creation_date":1546941951,"post_id":3979806,"comment_id":95011102,"body_markdown":"Hi @jjnguy How do I use &#39;listOfTuple.add()&#39; in your above example?\nIf I&#39;ll do - listOfTuple.add(Tuple&lt;someInteger, someString, someString2&gt;);, this will not work.\nThanks in advance.","body":"Hi @jjnguy How do I use &#39;listOfTuple.add()&#39; in your above example? If I&#39;ll do - listOfTuple.add(Tuple&lt;someInteger, someString, someString2&gt;);, this will not work. Thanks in advance."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1287590057,"creation_date":1287590057,"answer_id":3979806,"question_id":3979748,"body_markdown":"What you need is a Tuple class:\r\n\r\n    public class Tuple&lt;E, F, G&gt; {\r\n        public E First;\r\n        public F Second;\r\n        public G Third;    \r\n    }\r\n    \r\nThen you can iterate over the list of the tuple, and look at each entry in the tuple.\r\n\r\n    List&lt;Tuple&lt;Integer, String, String&gt; listOfTuple;\r\n    for (Tuple&lt;Integer, String, String&gt; tpl: listOfTuple){\r\n        // process each tuple\r\n        tpl.First ... etc\r\n    }","title":"Multiple parameters in List","body":"<p>What you need is a Tuple class:</p>\n\n<pre><code>public class Tuple&lt;E, F, G&gt; {\n    public E First;\n    public F Second;\n    public G Third;    \n}\n</code></pre>\n\n<p>Then you can iterate over the list of the tuple, and look at each entry in the tuple.</p>\n\n<pre><code>List&lt;Tuple&lt;Integer, String, String&gt; listOfTuple;\nfor (Tuple&lt;Integer, String, String&gt; tpl: listOfTuple){\n    // process each tuple\n    tpl.First ... etc\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4490895,"reputation":111,"user_id":3834776,"display_name":"Jonas S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697203870,"creation_date":1697203870,"answer_id":77288173,"question_id":3979748,"body_markdown":"Another alternative is to use a Tuple from a dependency in Maven central repo \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javatuples&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javatuples&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou then create an object with two or more types like this: \r\n\r\n    Pair&lt;String, Integer&gt; person = new Pair&lt;&gt;(&quot;John&quot;, 50);\r\n    Triplet&lt;Integer, String, String&gt; person1 = new Triplet&lt;&gt;(&quot;John&quot;, 50, &quot;single&quot;)\r\n\r\nThere are 10 types of tuples, each for a corresponding number of items:\r\n\r\n    Unit (one element)\r\n    Pair (two elements)\r\n    Triplet (three elements)\r\n    Quartet (four elements)\r\n    Quintet (five elements)\r\n    Sextet (six elements)\r\n    Septet (seven elements)\r\n    Octet (eight elements)\r\n    Ennead (nine elements)\r\n    Decade (ten elements)\r\n\r\nAnd then you can just use it in a list like any other type.","title":"Multiple parameters in List","body":"<p>Another alternative is to use a Tuple from a dependency in Maven central repo</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.javatuples&lt;/groupId&gt;\n    &lt;artifactId&gt;javatuples&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You then create an object with two or more types like this:</p>\n<pre><code>Pair&lt;String, Integer&gt; person = new Pair&lt;&gt;(&quot;John&quot;, 50);\nTriplet&lt;Integer, String, String&gt; person1 = new Triplet&lt;&gt;(&quot;John&quot;, 50, &quot;single&quot;)\n</code></pre>\n<p>There are 10 types of tuples, each for a corresponding number of items:</p>\n<pre><code>Unit (one element)\nPair (two elements)\nTriplet (three elements)\nQuartet (four elements)\nQuintet (five elements)\nSextet (six elements)\nSeptet (seven elements)\nOctet (eight elements)\nEnnead (nine elements)\nDecade (ten elements)\n</code></pre>\n<p>And then you can just use it in a list like any other type.</p>\n"}],"owner":{"account_id":177169,"reputation":4841,"user_id":408324,"accept_rate":64,"display_name":"y2p"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23800,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3979806,"answer_count":4,"score":11,"last_activity_date":1697203870,"creation_date":1287589735,"question_id":3979748,"body_markdown":"I want to do something like this\r\n\r\n    List&lt;Integer, String, String&gt;\r\n\r\nI want to be able to iteratively retrieve either of these three parameters.\r\nHow can I go about it?\r\nThanks","title":"Multiple parameters in List","body":"<p>I want to do something like this</p>\n\n<pre><code>List&lt;Integer, String, String&gt;\n</code></pre>\n\n<p>I want to be able to iteratively retrieve either of these three parameters.\nHow can I go about it?\nThanks</p>\n"},{"tags":["java","c++","graalvm"],"comments":[{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":0,"creation_date":1697205176,"post_id":77288160,"comment_id":136254348,"body_markdown":"Does `emcc` understand if you make it `std::vector&lt;uint8_t&gt; bytes` instead of `uint8_t* bytes` ?","body":"Does <code>emcc</code> understand if you make it <code>std::vector&lt;uint8_t&gt; bytes</code> instead of <code>uint8_t* bytes</code> ?"}],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697203780,"creation_date":1697203780,"question_id":77288160,"body_markdown":"I&#39;ve written a simple test C++ file. The C++ file contains a simple function that sets the value of the pointer to `42`.\r\n\r\n```cpp\r\nextern &quot;C&quot; {\r\n    void foo(uint8_t* bytes) {\r\n        bytes[0] = 42;\r\n    }\r\n}\r\n```\r\n\r\nThen I used Emscripten to compile the C++ file to wasm.\r\n\r\n```\r\nemcc foo.cpp -o foo.wasm -s EXPORT_ALL=1\r\n```\r\n\r\nI tried the following code to call the function, but it seems that the `uint8_t*` parameter is converted to `Integer` and passing `byte[]` to it is not allowed. I guess it stands for a pointer to the WASM internal memory, but I don&#39;t know how to allocate a buffer, copy the java array to it, and copy the content back after the function call.\r\n\r\n```java\r\nstatic final Context CONTEXT = Context.newBuilder(&quot;wasm&quot;)\r\n    .allowAllAccess(true).option(&quot;wasm.Builtins&quot;, &quot;wasi_snapshot_preview1,env:emscripten&quot;).build();\r\n\r\nvar bin = IOUtils.resourceToByteArray(&quot;/foo.wasm&quot;);\r\nCONTEXT.eval(Source.newBuilder(&quot;wasm&quot;, ByteSequence.create(bin), &quot;foo&quot;).build());\r\nvar foo = CONTEXT.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;foo&quot;);\r\nbyte[] arr = {0};\r\nSystem.out.println(arr[0]);  // 0\r\nfoo.execute(...);  // TODO how to achieve this?\r\nSystem.out.println(arr[0]);  // 42\r\n```\r\n\r\nI want my program to be cross-platform, so I don&#39;t want to use LLVM on GraalVM (it&#39;s said that LLVM bitcode is platform-dependent). Do anyone have idea on how to achieve this? It&#39;s OK to copy the java array to the WASM memory, but passing the array directly will be better. ","title":"How can I pass an array to a C++ function on GraalWasm with the polyglot API?","body":"<p>I've written a simple test C++ file. The C++ file contains a simple function that sets the value of the pointer to <code>42</code>.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>extern &quot;C&quot; {\n    void foo(uint8_t* bytes) {\n        bytes[0] = 42;\n    }\n}\n</code></pre>\n<p>Then I used Emscripten to compile the C++ file to wasm.</p>\n<pre><code>emcc foo.cpp -o foo.wasm -s EXPORT_ALL=1\n</code></pre>\n<p>I tried the following code to call the function, but it seems that the <code>uint8_t*</code> parameter is converted to <code>Integer</code> and passing <code>byte[]</code> to it is not allowed. I guess it stands for a pointer to the WASM internal memory, but I don't know how to allocate a buffer, copy the java array to it, and copy the content back after the function call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Context CONTEXT = Context.newBuilder(&quot;wasm&quot;)\n    .allowAllAccess(true).option(&quot;wasm.Builtins&quot;, &quot;wasi_snapshot_preview1,env:emscripten&quot;).build();\n\nvar bin = IOUtils.resourceToByteArray(&quot;/foo.wasm&quot;);\nCONTEXT.eval(Source.newBuilder(&quot;wasm&quot;, ByteSequence.create(bin), &quot;foo&quot;).build());\nvar foo = CONTEXT.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;foo&quot;);\nbyte[] arr = {0};\nSystem.out.println(arr[0]);  // 0\nfoo.execute(...);  // TODO how to achieve this?\nSystem.out.println(arr[0]);  // 42\n</code></pre>\n<p>I want my program to be cross-platform, so I don't want to use LLVM on GraalVM (it's said that LLVM bitcode is platform-dependent). Do anyone have idea on how to achieve this? It's OK to copy the java array to the WASM memory, but passing the array directly will be better.</p>\n"},{"tags":["java","excel","scala","apache-poi","xssf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1697445440,"post_id":77288158,"comment_id":136276165,"body_markdown":"[ClientAnchor.setDx1](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/ClientAnchor.html#setDx1-int-) states &quot;Note - XSSF and HSSF have a slightly different coordinate system, values in XSSF are larger by a factor of Units.EMU_PER_PIXEL&quot;. So what happens if you do `moveX = (colWidthInPixels - scaledWidth) / 2 * Units.EMU_PER_PIXEL`?","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/ClientAnchor.html#setDx1-int-\" rel=\"nofollow noreferrer\">ClientAnchor.setDx1</a> states &quot;Note - XSSF and HSSF have a slightly different coordinate system, values in XSSF are larger by a factor of Units.EMU_PER_PIXEL&quot;. So what happens if you do <code>moveX = (colWidthInPixels - scaledWidth) &#47; 2 * Units.EMU_PER_PIXEL</code>?"},{"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"score":0,"creation_date":1697458906,"post_id":77288158,"comment_id":136278517,"body_markdown":"@AxelRichter - That seems to move the image across the x-axis. Which is really great. Thanks.","body":"@AxelRichter - That seems to move the image across the x-axis. Which is really great. Thanks."}],"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697203776,"creation_date":1697203776,"question_id":77288158,"body_markdown":"I am attempting to position an image to the middle of a cell within an excel sheet in a Scala app. I am using ApachePOI version `5.0.0`. However, my logic only renders the image to the top left of the cell.\r\n\r\nHow can I position the image in the middle within a given cell.\r\nThis is my code logic:\r\n\r\n```\r\n  def addImageToCell(imagePath: String, sheet: XSSFSheet, columnIdx: Int, rowNum: Int): Unit = {\r\n    val fis = Files.newInputStream(Path.of(imagePath))\r\n\r\n    val pictureBytes = IOUtils.toByteArray(fis)\r\n    val pictureIdx   = sheet.getWorkbook.addPicture(pictureBytes, Workbook.PICTURE_TYPE_PNG)\r\n    fis.close()\r\n\r\n    val helper  = sheet.getWorkbook.getCreationHelper\r\n    val drawing = sheet.createDrawingPatriarch()\r\n\r\n    val anchor = helper.createClientAnchor\r\n    anchor.setCol1(columnIdx)\r\n    anchor.setRow1(rowNum)\r\n\r\n    anchor.setAnchorType(ClientAnchor.AnchorType.MOVE_AND_RESIZE)\r\n\r\n    // load image and get its dimensions\r\n    val bufferedImg       = ImageIO.read(new File(imagePath))\r\n    val originalDimension = new Dimension(bufferedImg.getWidth, bufferedImg.getHeight)\r\n\r\n    // get the cell&#39;s width &amp; height in pixels\r\n    val colWidthInPixels  = Math.round(sheet.getColumnWidthInPixels(columnIdx))\r\n    val rowHeightInPixels = Math.round(sheet.getRow(rowNum).getHeightInPoints / 72 * 96)\r\n\r\n    // calculate scale factor\r\n    val scaleX = colWidthInPixels.toDouble / originalDimension.width\r\n    val scaleY = rowHeightInPixels.toDouble / originalDimension.height\r\n\r\n    // use the smaller scale factor to ensure the image fits within the cell\r\n    val scale = Math.min(scaleX, scaleY)\r\n    // makes certain that the scale factor cannot be below &quot;0.1&quot; - else the images will be too tiny\r\n    val revisedScale = Math.max(scale, 0.1)\r\n\r\n    // resize image\r\n    val picture: Picture = drawing.createPicture(anchor, pictureIdx)\r\n    picture.resize(revisedScale)\r\n\r\n    // calculate the scaled image&#39;s new height &amp; width\r\n    val scaledWidth  = (originalDimension.width * revisedScale).toInt\r\n    val scaledHeight = (originalDimension.height * revisedScale).toInt\r\n\r\n    // calculate how much to move the image by in order to center it in the cell\r\n    val moveX = (colWidthInPixels - scaledWidth) / 2\r\n    val moveY = (rowHeightInPixels - scaledHeight) / 2\r\n\r\n    // move the image to be centered in the cell\r\n    anchor.setDx1(moveX)\r\n    anchor.setDy1(moveY)\r\n  }\r\n```\r\n\r\nAny assistance will be highly appreciated.","title":"Positioning an Image in the middle of a cell using ApachePOI","body":"<p>I am attempting to position an image to the middle of a cell within an excel sheet in a Scala app. I am using ApachePOI version <code>5.0.0</code>. However, my logic only renders the image to the top left of the cell.</p>\n<p>How can I position the image in the middle within a given cell.\nThis is my code logic:</p>\n<pre><code>  def addImageToCell(imagePath: String, sheet: XSSFSheet, columnIdx: Int, rowNum: Int): Unit = {\n    val fis = Files.newInputStream(Path.of(imagePath))\n\n    val pictureBytes = IOUtils.toByteArray(fis)\n    val pictureIdx   = sheet.getWorkbook.addPicture(pictureBytes, Workbook.PICTURE_TYPE_PNG)\n    fis.close()\n\n    val helper  = sheet.getWorkbook.getCreationHelper\n    val drawing = sheet.createDrawingPatriarch()\n\n    val anchor = helper.createClientAnchor\n    anchor.setCol1(columnIdx)\n    anchor.setRow1(rowNum)\n\n    anchor.setAnchorType(ClientAnchor.AnchorType.MOVE_AND_RESIZE)\n\n    // load image and get its dimensions\n    val bufferedImg       = ImageIO.read(new File(imagePath))\n    val originalDimension = new Dimension(bufferedImg.getWidth, bufferedImg.getHeight)\n\n    // get the cell's width &amp; height in pixels\n    val colWidthInPixels  = Math.round(sheet.getColumnWidthInPixels(columnIdx))\n    val rowHeightInPixels = Math.round(sheet.getRow(rowNum).getHeightInPoints / 72 * 96)\n\n    // calculate scale factor\n    val scaleX = colWidthInPixels.toDouble / originalDimension.width\n    val scaleY = rowHeightInPixels.toDouble / originalDimension.height\n\n    // use the smaller scale factor to ensure the image fits within the cell\n    val scale = Math.min(scaleX, scaleY)\n    // makes certain that the scale factor cannot be below &quot;0.1&quot; - else the images will be too tiny\n    val revisedScale = Math.max(scale, 0.1)\n\n    // resize image\n    val picture: Picture = drawing.createPicture(anchor, pictureIdx)\n    picture.resize(revisedScale)\n\n    // calculate the scaled image's new height &amp; width\n    val scaledWidth  = (originalDimension.width * revisedScale).toInt\n    val scaledHeight = (originalDimension.height * revisedScale).toInt\n\n    // calculate how much to move the image by in order to center it in the cell\n    val moveX = (colWidthInPixels - scaledWidth) / 2\n    val moveY = (rowHeightInPixels - scaledHeight) / 2\n\n    // move the image to be centered in the cell\n    anchor.setDx1(moveX)\n    anchor.setDy1(moveY)\n  }\n</code></pre>\n<p>Any assistance will be highly appreciated.</p>\n"},{"tags":["java","angular","typescript","spring"],"owner":{"account_id":15922986,"reputation":280,"user_id":11489425,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697204994,"answer_count":0,"score":0,"last_activity_date":1697203710,"creation_date":1697202191,"question_id":77287969,"body_markdown":"I try to call the function from front to back, on the front side the logs are received successfully, but on the back side I receive nothing.\r\n```\r\n updateLastConnection(): Observable&lt;any&gt; {\r\n\r\n        const url = `${this.baseUrl}/update-last-connexion`;\r\n\r\n        console.log(&#39;Update URL:&#39;, url); // Logging the URL\r\n\r\n        console.log(&#39;Update called&#39;); // Logging the function call\r\n\r\n        return this.http.post(url, {}).pipe(\r\n\r\n          tap(_ =&gt; console.log(&#39;Update request successful&#39;)), // Logging success\r\n\r\n          catchError(error =&gt; {\r\n\r\n            console.error(&#39;Update request error:&#39;, error); // Logging errors\r\n\r\n            return throwError(error);\r\n\r\n          })\r\n\r\n        );\r\n\r\n    }\r\n  ```\r\nFront logs:\r\n\r\nUpdate URL: http://localhost:4200/api/users/update-last-connexion\r\n\r\nUpdate called\r\n\r\nBack-end side with no logs:\r\n```\r\n  @PostMapping(value = &quot;/users/update-last-connexion&quot;, consumes = MediaType.APPLICATION_JSON_UTF8_VALUE, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n    @Timed\r\n    public ResponseEntity&lt;UserDTO&gt; updateLastConnexion() {\r\n        logger.info(&quot;Update last connection endpoint called.&quot;);\r\n        String userId = SecurityControlle.getUserId();\r\n        logger.info(&quot;User ID: {}&quot;, userId);\r\n        try {\r\n            this.userFacade.updateLastConnexion(this.userFacade.getCurrentUser(userId));\r\n            logger.info(&quot;Last connection updated successfully.&quot;);\r\n            return ResponseEntity.ok().build();\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Error updating last connection: {}&quot;, e.getMessage());\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n   ","title":"Angular Front-End call not calling the method in Spring Java Back-end and receiveing no logs","body":"<p>I try to call the function from front to back, on the front side the logs are received successfully, but on the back side I receive nothing.</p>\n<pre><code> updateLastConnection(): Observable&lt;any&gt; {\n\n        const url = `${this.baseUrl}/update-last-connexion`;\n\n        console.log('Update URL:', url); // Logging the URL\n\n        console.log('Update called'); // Logging the function call\n\n        return this.http.post(url, {}).pipe(\n\n          tap(_ =&gt; console.log('Update request successful')), // Logging success\n\n          catchError(error =&gt; {\n\n            console.error('Update request error:', error); // Logging errors\n\n            return throwError(error);\n\n          })\n\n        );\n\n    }\n</code></pre>\n<p>Front logs:</p>\n<p>Update URL: http://localhost:4200/api/users/update-last-connexion</p>\n<p>Update called</p>\n<p>Back-end side with no logs:</p>\n<pre><code>  @PostMapping(value = &quot;/users/update-last-connexion&quot;, consumes = MediaType.APPLICATION_JSON_UTF8_VALUE, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\n    @Timed\n    public ResponseEntity&lt;UserDTO&gt; updateLastConnexion() {\n        logger.info(&quot;Update last connection endpoint called.&quot;);\n        String userId = SecurityControlle.getUserId();\n        logger.info(&quot;User ID: {}&quot;, userId);\n        try {\n            this.userFacade.updateLastConnexion(this.userFacade.getCurrentUser(userId));\n            logger.info(&quot;Last connection updated successfully.&quot;);\n            return ResponseEntity.ok().build();\n        } catch (Exception e) {\n            logger.error(&quot;Error updating last connection: {}&quot;, e.getMessage());\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n   \n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","compiler-errors","ide"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651585639,"post_id":72100223,"comment_id":127394518,"body_markdown":"Go to File -&gt; Project Settings -&gt; SDKs and check that &quot;18&quot; is properly configured.","body":"Go to File -&gt; Project Settings -&gt; SDKs and check that &quot;18&quot; is properly configured."},{"owner":{"account_id":23187514,"reputation":151,"user_id":17284378,"display_name":"Crooky1123"},"score":0,"creation_date":1651585925,"post_id":72100223,"comment_id":127394645,"body_markdown":"@k314159 do you mean project structure? its already 18","body":"@k314159 do you mean project structure? its already 18"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651587674,"post_id":72100223,"comment_id":127395390,"body_markdown":"Check the folder paths for &quot;18&quot; under &quot;Platform Settings&quot;","body":"Check the folder paths for &quot;18&quot; under &quot;Platform Settings&quot;"},{"owner":{"account_id":23187514,"reputation":151,"user_id":17284378,"display_name":"Crooky1123"},"score":0,"creation_date":1651624524,"post_id":72100223,"comment_id":127406351,"body_markdown":"@k314159 and then?","body":"@k314159 and then?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651650718,"post_id":72100223,"comment_id":127411002,"body_markdown":"Check that the folders and files named under &quot;18&quot; (in particular, those in the Classpath tab) actually exist on your machine.","body":"Check that the folders and files named under &quot;18&quot; (in particular, those in the Classpath tab) actually exist on your machine."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1652103206,"post_id":72167596,"comment_id":127517924,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72167596/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25239493,"reputation":401,"user_id":19073552,"display_name":"ARKHAN"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1679529174,"creation_date":1652076461,"answer_id":72167596,"question_id":72100223,"body_markdown":"The problem is with version of JDK you are using. The Intellij version 2020.2 supports only upto  JDK 14. So either you have to lower the JDK version to 14 or update the IntelliJ to a newer version like 2021.\r\n\r\nSource: https://www.jetbrains.com/help/idea/supported-java-versions.html","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>The problem is with version of JDK you are using. The Intellij version 2020.2 supports only upto  JDK 14. So either you have to lower the JDK version to 14 or update the IntelliJ to a newer version like 2021.</p>\n<p>Source: <a href=\"https://www.jetbrains.com/help/idea/supported-java-versions.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/supported-java-versions.html</a></p>\n"},{"tags":[],"owner":{"account_id":3068714,"reputation":1557,"user_id":2599865,"accept_rate":100,"display_name":"V-Q-A NGUYEN"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669293768,"creation_date":1669293768,"answer_id":74560991,"question_id":72100223,"body_markdown":"I faced the same error recently (Nov 2022)\r\n\r\n    Error:Cannot determine path to &#39;tools.jar&#39; library for 17 (C:\\Program Files\\Java\\jdk-17.0.5)\r\n\r\nwhen using IntelliJ IDEA 2020.1.4 with JDK 17.0.5. Issue is resolved by switching to open JDK amazon-corretto-11, you can download it from here https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html \r\n\r\nAmazon Corretto is a no-cost, multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK). Corretto comes with long-term support that includes performance enhancements and security fixes.","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>I faced the same error recently (Nov 2022)</p>\n<pre><code>Error:Cannot determine path to 'tools.jar' library for 17 (C:\\Program Files\\Java\\jdk-17.0.5)\n</code></pre>\n<p>when using IntelliJ IDEA 2020.1.4 with JDK 17.0.5. Issue is resolved by switching to open JDK amazon-corretto-11, you can download it from here <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html</a></p>\n<p>Amazon Corretto is a no-cost, multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK). Corretto comes with long-term support that includes performance enhancements and security fixes.</p>\n"},{"tags":[],"owner":{"account_id":1800169,"reputation":21,"user_id":1638713,"display_name":"prem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697203486,"creation_date":1697203486,"answer_id":77288130,"question_id":72100223,"body_markdown":"I solved the same problem this morning, i had tried many approaches like upgrading to latest JDK and downgrading to older JDKs. None of them helped me. Finally I updated to IntelliJ IDEA 2023.2.3 (Community Edition), and things started working smoothly.","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>I solved the same problem this morning, i had tried many approaches like upgrading to latest JDK and downgrading to older JDKs. None of them helped me. Finally I updated to IntelliJ IDEA 2023.2.3 (Community Edition), and things started working smoothly.</p>\n"}],"owner":{"account_id":23187514,"reputation":151,"user_id":17284378,"display_name":"Crooky1123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44789,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1697203486,"creation_date":1651584851,"question_id":72100223,"body_markdown":"i want to run my code in intellij ide (community edition)\r\nand when i try to run it, i got this error\r\n\r\n&gt; Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program\r\n&gt; Files/jdk-18.0.1.1)\r\n\r\n[This is the ScreenShot of the error][1]\r\n\r\nhelp me pls... i want to learn kotlin use intellij ide\r\n\r\n[And this is my JAVA_HOME][2]\r\n\r\nversion ide : 2020.2\r\nThank you :)\r\n\r\n  [1]: https://i.stack.imgur.com/P24Cq.png\r\n  [2]: https://i.stack.imgur.com/l9MQC.png","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>i want to run my code in intellij ide (community edition)\nand when i try to run it, i got this error</p>\n<blockquote>\n<p>Cannot determine path to 'tools.jar' library for 18 (C:/Program\nFiles/jdk-18.0.1.1)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/P24Cq.png\" rel=\"noreferrer\">This is the ScreenShot of the error</a></p>\n<p>help me pls... i want to learn kotlin use intellij ide</p>\n<p><a href=\"https://i.stack.imgur.com/l9MQC.png\" rel=\"noreferrer\">And this is my JAVA_HOME</a></p>\n<p>version ide : 2020.2\nThank you :)</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697203361,"creation_date":1697203361,"answer_id":77288115,"question_id":77287464,"body_markdown":"When you configure authorization via security filter chain it&#39;s handled before your request reaches a controller, that&#39;s why `@ControllerAdvice` and `@RestControllerAdvice` won&#39;t work here.\r\nWith your set-up if you want to change the way Spring resolves denied access you should create your custom `AccessDeniedHandler`, which can do anything (like write straight to `HttpServletResponse response`), and pass it to security chain config like this:\r\n```java\r\n@Bean\r\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n                .authorizeHttpRequests((authorize) -&gt;\r\n                        //authorize.anyRequest().authenticated())\r\n                        authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                                .anyRequest().authenticated())\r\n                .exceptionHandling(customizer -&gt; customizer.accessDeniedHandler(yourCustomAccessDeniedHandler))\r\n                .httpBasic(Customizer.withDefaults());\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nOr you can configure role-based or permission-based authorization using annotations like `@Secured`, `@PreAuthorize`, `@PostAuthorize` on your controller or service methods - then `@ControllerAdvice` and `@RestControllerAdvice` will work as expected. Don&#39;t forget to set `@EnableMethodSecurity(securedEnabled = true, prePostEnabled = true)` on your security config class in that case.","title":"Spring boot doesn&#39;t call the handleAccessDeniedException() method","body":"<p>When you configure authorization via security filter chain it's handled before your request reaches a controller, that's why <code>@ControllerAdvice</code> and <code>@RestControllerAdvice</code> won't work here.\nWith your set-up if you want to change the way Spring resolves denied access you should create your custom <code>AccessDeniedHandler</code>, which can do anything (like write straight to <code>HttpServletResponse response</code>), and pass it to security chain config like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt;\n                        //authorize.anyRequest().authenticated())\n                        authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                                .anyRequest().authenticated())\n                .exceptionHandling(customizer -&gt; customizer.accessDeniedHandler(yourCustomAccessDeniedHandler))\n                .httpBasic(Customizer.withDefaults());\n\n    return http.build();\n}\n</code></pre>\n<p>Or you can configure role-based or permission-based authorization using annotations like <code>@Secured</code>, <code>@PreAuthorize</code>, <code>@PostAuthorize</code> on your controller or service methods - then <code>@ControllerAdvice</code> and <code>@RestControllerAdvice</code> will work as expected. Don't forget to set <code>@EnableMethodSecurity(securedEnabled = true, prePostEnabled = true)</code> on your security config class in that case.</p>\n"}],"owner":{"account_id":26069556,"reputation":79,"user_id":19769480,"display_name":"Answer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77288115,"answer_count":1,"score":0,"last_activity_date":1697203361,"creation_date":1697197660,"question_id":77287464,"body_markdown":"I have a global exception handler in my spring boot app that looks like this: \r\n\r\n    package com.springboot.blog.exception;\r\n    \r\n    import com.springboot.blog.payload.ErrorDetails;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.HttpStatusCode;\r\n    import org.springframework.http.ResponseEntity;\r\n    \r\n    import org.springframework.security.access.AccessDeniedException;\r\n    import org.springframework.validation.FieldError;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n    \r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        //handle specific exceptions\r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleResourceNotFoundException(ResourceNotFoundException exception,\r\n                                                                            WebRequest webRequest) {\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.NOT_FOUND);\r\n        }\r\n    \r\n        @ExceptionHandler(BlogAPIException.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleBlogAPIException(BlogAPIException exception,\r\n                                                                   WebRequest webRequest) {\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n        // global exceptions\r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleGlobalException(Exception exception,\r\n                                                                  WebRequest webRequest) {\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                      HttpHeaders headers,\r\n                                                                      HttpStatusCode status,\r\n                                                                      WebRequest request) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String message = error.getDefaultMessage();\r\n                errors.put(fieldName, message);\r\n            });\r\n    \r\n            return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n    \r\n        @ExceptionHandler(AccessDeniedException.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleAccessDeniedException(AccessDeniedException exception,\r\n                                                                        WebRequest webRequest) {\r\n            System.out.println(&quot;Called handleAccessDeniedException&quot;);\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.UNAUTHORIZED);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe security config file looks like this:\r\n\r\n    package com.springboot.blog.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.config.Customizer;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    \r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable()\r\n                    .authorizeHttpRequests((authorize) -&gt;\r\n                            //authorize.anyRequest().authenticated())\r\n                            authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    ).httpBasic(Customizer.withDefaults());\r\n    \r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            UserDetails pavel = User.builder()\r\n                    .username(&quot;pavel&quot;)\r\n                    .password(passwordEncoder().encode(&quot;pavel&quot;))\r\n                    .roles(&quot;USER&quot;)\r\n                    .build();\r\n    \r\n            UserDetails admin = User.builder()\r\n                    .username(&quot;admin&quot;)\r\n                    .password(passwordEncoder().encode(&quot;admin&quot;))\r\n                    .roles(&quot;ADMIN&quot;)\r\n                    .build();\r\n    \r\n    \r\n            return new InMemoryUserDetailsManager(pavel, admin);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe problem is that when I login with incorrect credentials, spring boot uses the standard exception handler and doesn&#39;t call the custom handleAccessDeniedException() method that I have. Other exception methods from the GlobalExceptionHandler seem to work fine. Please help! ","title":"Spring boot doesn&#39;t call the handleAccessDeniedException() method","body":"<p>I have a global exception handler in my spring boot app that looks like this:</p>\n<pre><code>package com.springboot.blog.exception;\n\nimport com.springboot.blog.payload.ErrorDetails;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.http.ResponseEntity;\n\nimport org.springframework.security.access.AccessDeniedException;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    //handle specific exceptions\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleResourceNotFoundException(ResourceNotFoundException exception,\n                                                                        WebRequest webRequest) {\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(BlogAPIException.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleBlogAPIException(BlogAPIException exception,\n                                                               WebRequest webRequest) {\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.BAD_REQUEST);\n    }\n\n    // global exceptions\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleGlobalException(Exception exception,\n                                                              WebRequest webRequest) {\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers,\n                                                                  HttpStatusCode status,\n                                                                  WebRequest request) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String message = error.getDefaultMessage();\n            errors.put(fieldName, message);\n        });\n\n        return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\n    }\n\n\n    @ExceptionHandler(AccessDeniedException.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleAccessDeniedException(AccessDeniedException exception,\n                                                                    WebRequest webRequest) {\n        System.out.println(&quot;Called handleAccessDeniedException&quot;);\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.UNAUTHORIZED);\n    }\n\n\n}\n</code></pre>\n<p>The security config file looks like this:</p>\n<pre><code>package com.springboot.blog.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n\n@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public static PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt;\n                        //authorize.anyRequest().authenticated())\n                        authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                ).httpBasic(Customizer.withDefaults());\n\n\n        return http.build();\n    }\n\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails pavel = User.builder()\n                .username(&quot;pavel&quot;)\n                .password(passwordEncoder().encode(&quot;pavel&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n\n        UserDetails admin = User.builder()\n                .username(&quot;admin&quot;)\n                .password(passwordEncoder().encode(&quot;admin&quot;))\n                .roles(&quot;ADMIN&quot;)\n                .build();\n\n\n        return new InMemoryUserDetailsManager(pavel, admin);\n    }\n\n\n}\n</code></pre>\n<p>The problem is that when I login with incorrect credentials, spring boot uses the standard exception handler and doesn't call the custom handleAccessDeniedException() method that I have. Other exception methods from the GlobalExceptionHandler seem to work fine. Please help!</p>\n"},{"tags":["java","android","generics","kotlin","retrofit2"],"comments":[{"owner":{"account_id":8407929,"reputation":2558,"user_id":6310865,"display_name":"Dilan"},"score":2,"creation_date":1586857774,"post_id":61204825,"comment_id":108275606,"body_markdown":"Add your code as text.not screenshots","body":"Add your code as text.not screenshots"},{"owner":{"account_id":13128207,"reputation":791,"user_id":9483413,"display_name":"Parth"},"score":0,"creation_date":1586859319,"post_id":61204825,"comment_id":108276350,"body_markdown":"Please don&#39;t post image. insted add a code for better understanding","body":"Please don&#39;t post image. insted add a code for better understanding"},{"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"score":0,"creation_date":1586868046,"post_id":61204825,"comment_id":108280962,"body_markdown":"you can see again. @DilanAnuruddha","body":"you can see again. @DilanAnuruddha"},{"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"score":0,"creation_date":1586868113,"post_id":61204825,"comment_id":108280995,"body_markdown":"you can see again. @Parth","body":"you can see again. @Parth"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1586868501,"post_id":61204825,"comment_id":108281223,"body_markdown":"You could probably use `Observable&lt;Any&gt;`","body":"You could probably use <code>Observable&lt;Any&gt;</code>"},{"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"score":0,"creation_date":1586960715,"post_id":61204825,"comment_id":108322013,"body_markdown":"No. Problems with &quot;fun &lt;T&gt; post&quot;: T Generic Type. @EpicPandaForce","body":"No. Problems with &quot;fun &lt;T&gt; post&quot;: T Generic Type. @EpicPandaForce"}],"answers":[{"tags":[],"owner":{"account_id":13128207,"reputation":791,"user_id":9483413,"display_name":"Parth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586869030,"creation_date":1586869030,"answer_id":61208282,"question_id":61204825,"body_markdown":"&gt; Type information needs to be fully known at runtime in order for\r\n&gt; deserialization to work.\r\n\r\nYou cannot do this,the type info needs to be fully static and not a generic, otherwise retrofit cannot correctly generate the Service. Look at [here][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/square/retrofit/issues/2012","title":"Android Retrofit2 generics method","body":"<blockquote>\n  <p>Type information needs to be fully known at runtime in order for\n  deserialization to work.</p>\n</blockquote>\n\n<p>You cannot do this,the type info needs to be fully static and not a generic, otherwise retrofit cannot correctly generate the Service. Look at <a href=\"https://github.com/square/retrofit/issues/2012\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":0,"creation_date":1697201075,"post_id":77287816,"comment_id":136253507,"body_markdown":"Mohammad Taqi, a link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](/help/deleted-answers)","body":"Mohammad Taqi, a link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. <a href=\"/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"},{"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"score":0,"creation_date":1697202381,"post_id":77287816,"comment_id":136253818,"body_markdown":"Done! :) \nIs it okay now?","body":"Done! :)  Is it okay now?"},{"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"score":0,"creation_date":1697202727,"post_id":77287816,"comment_id":136253881,"body_markdown":"I Updated my answer with details and relevent code.","body":"I Updated my answer with details and relevent code."}],"tags":[],"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697202694,"creation_date":1697200657,"answer_id":77287816,"question_id":61204825,"body_markdown":"\r\n\r\n\r\n\r\nJust adding some common class and by this code snippet you can easily call any api\r\n       \r\n     val repository = Repository(UseCase&lt;YourModel&gt;())\r\n    \r\n            CoroutineScope(Dispatchers.Main).launch {\r\n                RetrofitClient.apiEndpoint?.getXyz(\r\n                    YourModel(value)\r\n                )?.let {\r\n                    repository.fetchData(\r\n                        it\r\n                    ) { yourModel, error -&gt;\r\n                        if (error != null) {\r\n                            // Handle error\r\n                            Log.d(&quot;CheckingResponse&quot;, &quot;$error&quot;)\r\n                        } else {\r\n                            // ..success\r\n                        }\r\n                      }\r\n                    }\r\n            }\r\n\r\nClient \r\n\r\n    object RetrofitClient {\r\n        private const val BASE_URL = &quot;https://xyz/&quot;\r\n        private var client = OkHttpClient.Builder() // add our curl logger here\r\n            .addInterceptor(CurlLoggerInterceptor()) // curl logger to get curl when any api hits (You need to add dependency to use this)\r\n        private val retrofit: Retrofit = Retrofit.Builder()\r\n            .baseUrl(BASE_URL)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .client(client.build())\r\n            .build()\r\n    \r\n        val apiEndpoint: ApiEndpoint? = retrofit.create(ApiEndpoint::class.java)\r\n    \r\n    }\r\n\r\nusecase\r\n\r\n    class UseCase&lt;T&gt; {\r\n        fun fetchData(endpoint: Call&lt;ApiResponse&lt;T&gt;&gt;, callback: (T?, String?) -&gt; Unit) {\r\n            endpoint.enqueue(object : Callback&lt;ApiResponse&lt;T&gt;&gt; {\r\n                override fun onResponse(call: Call&lt;ApiResponse&lt;T&gt;&gt;, response: Response&lt;ApiResponse&lt;T&gt;&gt;) {\r\n                    if (response.isSuccessful) {\r\n                        val responseData = response.body()?.data\r\n                        callback(responseData, null)\r\n                    } else {\r\n                        Log.d(&quot;CheckingResponse&quot;, &quot;fetchData: ${response.message()}&quot;)\r\n                        callback(null, &quot;Error: ${response.message()}&quot;)\r\n                    }\r\n                }\r\n    \r\n                override fun onFailure(call: Call&lt;ApiResponse&lt;T&gt;&gt;, t: Throwable) {\r\n                    callback(null, &quot;Network error: ${t.localizedMessage}&quot;)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\ncheck out this for all common class.\r\nhttps://github.com/Mohammad-Taqi/Generic-Retrofit-Implementation","title":"Android Retrofit2 generics method","body":"<p>Just adding some common class and by this code snippet you can easily call any api</p>\n<pre><code> val repository = Repository(UseCase&lt;YourModel&gt;())\n\n        CoroutineScope(Dispatchers.Main).launch {\n            RetrofitClient.apiEndpoint?.getXyz(\n                YourModel(value)\n            )?.let {\n                repository.fetchData(\n                    it\n                ) { yourModel, error -&gt;\n                    if (error != null) {\n                        // Handle error\n                        Log.d(&quot;CheckingResponse&quot;, &quot;$error&quot;)\n                    } else {\n                        // ..success\n                    }\n                  }\n                }\n        }\n</code></pre>\n<p>Client</p>\n<pre><code>object RetrofitClient {\n    private const val BASE_URL = &quot;https://xyz/&quot;\n    private var client = OkHttpClient.Builder() // add our curl logger here\n        .addInterceptor(CurlLoggerInterceptor()) // curl logger to get curl when any api hits (You need to add dependency to use this)\n    private val retrofit: Retrofit = Retrofit.Builder()\n        .baseUrl(BASE_URL)\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(client.build())\n        .build()\n\n    val apiEndpoint: ApiEndpoint? = retrofit.create(ApiEndpoint::class.java)\n\n}\n</code></pre>\n<p>usecase</p>\n<pre><code>class UseCase&lt;T&gt; {\n    fun fetchData(endpoint: Call&lt;ApiResponse&lt;T&gt;&gt;, callback: (T?, String?) -&gt; Unit) {\n        endpoint.enqueue(object : Callback&lt;ApiResponse&lt;T&gt;&gt; {\n            override fun onResponse(call: Call&lt;ApiResponse&lt;T&gt;&gt;, response: Response&lt;ApiResponse&lt;T&gt;&gt;) {\n                if (response.isSuccessful) {\n                    val responseData = response.body()?.data\n                    callback(responseData, null)\n                } else {\n                    Log.d(&quot;CheckingResponse&quot;, &quot;fetchData: ${response.message()}&quot;)\n                    callback(null, &quot;Error: ${response.message()}&quot;)\n                }\n            }\n\n            override fun onFailure(call: Call&lt;ApiResponse&lt;T&gt;&gt;, t: Throwable) {\n                callback(null, &quot;Network error: ${t.localizedMessage}&quot;)\n            }\n        })\n    }\n}\n</code></pre>\n<p>check out this for all common class.\n<a href=\"https://github.com/Mohammad-Taqi/Generic-Retrofit-Implementation\" rel=\"nofollow noreferrer\">https://github.com/Mohammad-Taqi/Generic-Retrofit-Implementation</a></p>\n"}],"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61208282,"answer_count":2,"score":1,"last_activity_date":1697202694,"creation_date":1586857608,"question_id":61204825,"body_markdown":"# I use Retrofit2 to connect to the server,\r\nTo simplify the number of request methods, I use generics. But the problem is that retrofit does not accept the generic method. I put the sample code below. Does anyone know a solution?\r\n\r\n### Photo 1):\r\n[APIInterface][1]\r\n\r\n    import io.reactivex.Observable\r\n    import okhttp3.RequestBody\r\n    import retrofit2.http.Body\r\n    import retrofit2.http.GET\r\n    import retrofit2.http.POST\r\n    import retrofit2.http.Path\r\n\r\n    interface APIInterface {\r\n\r\n       @POST(&quot;{url}&quot;) fun &lt;T&gt; post(\r\n          @Path(&quot;url&quot;) url: String,\r\n          @Body body: RequestBody\r\n       ): Observable&lt;T&gt;\r\n\r\n       @GET(&quot;{url}&quot;) fun &lt;T&gt; get(\r\n          @Path(&quot;url&quot;) url: String\r\n       ): Observable&lt;T&gt;\r\n    }\r\n\r\n### Photo 2: \r\n[APIService][2]\r\n\r\n    import io.reactivex.Observable\r\n    import io.reactivex.android.schedulers.AndroidSchedulers\r\n    import io.reactivex.schedulers.Schedulers\r\n    import okhttp3.RequestBody\r\n    import java.io.Serializable\r\n\r\n    class APIService constructor(private val mApi: APIInterface) {\r\n\r\n       fun &lt;T: Serializable&gt; post(url: String, body: RequestBody): Observable&lt;T&gt;{\r\n          val observable = mApi.post&lt;T&gt;(url, body)\r\n          observable.subscribeOn(Schedulers.io())\r\n             .observeOn(AndroidSchedulers.mainThread())\r\n          return observable\r\n       }\r\n\r\n       fun &lt;T: Serializable&gt; get(url: String): Observable&lt;T&gt; {\r\n          val observable = mApi.get&lt;T&gt;(url)\r\n          observable.subscribeOn(Schedulers.io())\r\n             .observeOn(AndroidSchedulers.mainThread())\r\n          return observable\r\n       }\r\n    }\r\n\r\n### Photo 3:\r\n[call in controller][3]\r\n\r\n    mAPIService.post&lt;SignUpModel&gt;(URL_SIGN_UP, body)\r\n            .subscribe(object : APIObserver&lt;SignUpModel&gt; {\r\n                override fun onNext(it: SignUpModel) {\r\n        .\r\n        .\r\n        .\r\n\r\n### Photo 4: \r\n[crash :(][4]\r\n\r\n\r\n    W: java.lang.IllegalArgumentException: Method return type must not include a type variable or wildcard: io.reactivex.Observable&lt;T&gt;\r\n    W: for method APIInterface.post\r\n        .\r\n        .\r\n        .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cRR8a.png\r\n  [2]: https://i.stack.imgur.com/B0iZR.png\r\n  [3]: https://i.stack.imgur.com/EFOTr.png\r\n  [4]: https://i.stack.imgur.com/9IOjM.png","title":"Android Retrofit2 generics method","body":"<h1>I use Retrofit2 to connect to the server,</h1>\n\n<p>To simplify the number of request methods, I use generics. But the problem is that retrofit does not accept the generic method. I put the sample code below. Does anyone know a solution?</p>\n\n<h3>Photo 1):</h3>\n\n<p><a href=\"https://i.stack.imgur.com/cRR8a.png\" rel=\"nofollow noreferrer\">APIInterface</a></p>\n\n<pre><code>import io.reactivex.Observable\nimport okhttp3.RequestBody\nimport retrofit2.http.Body\nimport retrofit2.http.GET\nimport retrofit2.http.POST\nimport retrofit2.http.Path\n\ninterface APIInterface {\n\n   @POST(\"{url}\") fun &lt;T&gt; post(\n      @Path(\"url\") url: String,\n      @Body body: RequestBody\n   ): Observable&lt;T&gt;\n\n   @GET(\"{url}\") fun &lt;T&gt; get(\n      @Path(\"url\") url: String\n   ): Observable&lt;T&gt;\n}\n</code></pre>\n\n<h3>Photo 2:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/B0iZR.png\" rel=\"nofollow noreferrer\">APIService</a></p>\n\n<pre><code>import io.reactivex.Observable\nimport io.reactivex.android.schedulers.AndroidSchedulers\nimport io.reactivex.schedulers.Schedulers\nimport okhttp3.RequestBody\nimport java.io.Serializable\n\nclass APIService constructor(private val mApi: APIInterface) {\n\n   fun &lt;T: Serializable&gt; post(url: String, body: RequestBody): Observable&lt;T&gt;{\n      val observable = mApi.post&lt;T&gt;(url, body)\n      observable.subscribeOn(Schedulers.io())\n         .observeOn(AndroidSchedulers.mainThread())\n      return observable\n   }\n\n   fun &lt;T: Serializable&gt; get(url: String): Observable&lt;T&gt; {\n      val observable = mApi.get&lt;T&gt;(url)\n      observable.subscribeOn(Schedulers.io())\n         .observeOn(AndroidSchedulers.mainThread())\n      return observable\n   }\n}\n</code></pre>\n\n<h3>Photo 3:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/EFOTr.png\" rel=\"nofollow noreferrer\">call in controller</a></p>\n\n<pre><code>mAPIService.post&lt;SignUpModel&gt;(URL_SIGN_UP, body)\n        .subscribe(object : APIObserver&lt;SignUpModel&gt; {\n            override fun onNext(it: SignUpModel) {\n    .\n    .\n    .\n</code></pre>\n\n<h3>Photo 4:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/9IOjM.png\" rel=\"nofollow noreferrer\">crash :(</a></p>\n\n<pre><code>W: java.lang.IllegalArgumentException: Method return type must not include a type variable or wildcard: io.reactivex.Observable&lt;T&gt;\nW: for method APIInterface.post\n    .\n    .\n    .\n</code></pre>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":1500739,"reputation":921,"user_id":1405492,"accept_rate":62,"display_name":"rcorrie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523881349,"creation_date":1523881349,"answer_id":49857261,"question_id":49809745,"body_markdown":"Even though I had add the permission on my AndroidManifest.xml I still had to add this extra bit to it:\r\n\r\n    &lt;service android:name=&quot;com.my.app.RNCallConnectionService&quot;\r\n        android:permission=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.telecom.ConnectionService&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/service&gt;","title":"Can&#39;t register new phoneAccount on Telecom service","body":"<p>Even though I had add the permission on my AndroidManifest.xml I still had to add this extra bit to it:</p>\n\n<pre><code>&lt;service android:name=\"com.my.app.RNCallConnectionService\"\n    android:permission=\"android.permission.BIND_TELECOM_CONNECTION_SERVICE\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.telecom.ConnectionService\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4159139,"reputation":1892,"user_id":3409600,"accept_rate":41,"display_name":"nawaab saab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697202582,"creation_date":1697202582,"answer_id":77288015,"question_id":49809745,"body_markdown":"You need to add this code in Android manifest in application tags\r\n\r\n    &lt;service android:name=&quot;io.wazo.callkeep.VoiceConnectionService&quot;\r\n                android:label=&quot;Wazo&quot;\r\n                android:permission=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;\r\n                android:foregroundServiceType=&quot;camera|microphone&quot;\r\n                android:exported=&quot;true&quot;\r\n            &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.telecom.ConnectionService&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;","title":"Can&#39;t register new phoneAccount on Telecom service","body":"<p>You need to add this code in Android manifest in application tags</p>\n<pre><code>&lt;service android:name=&quot;io.wazo.callkeep.VoiceConnectionService&quot;\n            android:label=&quot;Wazo&quot;\n            android:permission=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;\n            android:foregroundServiceType=&quot;camera|microphone&quot;\n            android:exported=&quot;true&quot;\n        &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.telecom.ConnectionService&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n"}],"owner":{"account_id":1500739,"reputation":921,"user_id":1405492,"accept_rate":62,"display_name":"rcorrie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49857261,"answer_count":2,"score":2,"last_activity_date":1697202582,"creation_date":1523596535,"question_id":49809745,"body_markdown":"I am trying to register a new `phoneAccount` but I keep receiving the following error:\r\n\r\n    04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: phoneAccount ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService} not found: TSI.rPA@Agc\r\n    04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: Phone account ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} does not have BIND_TELECOM_CONNECTION_SE\r\n    RVICE permission.: TSI.rPA@Agc\r\n    04-13 01:06:11.330  1267  2435 E Telecom : com.android.server.telecom.TelecomServiceImpl$1: registerPhoneAccount [[ ] PhoneAccount: ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} Capabilities: C\r\n    allProvider  Schemes: tel  Extras: null]: TSI.rPA@Agc\r\n    04-13 01:06:11.330  1267  2435 E Telecom : java.lang.SecurityException: PhoneAccount connection service requires BIND_TELECOM_CONNECTION_SERVICE permission.\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.PhoneAccountRegistrar.registerPhoneAccount(PhoneAccountRegistrar.java:587)\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.TelecomServiceImpl$1.registerPhoneAccount(TelecomServiceImpl.java:399)\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.internal.telecom.ITelecomService$Stub.onTransact(ITelecomService.java:226)\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at android.os.Binder.execTransact(Binder.java:573)\r\n\r\nI have made sure to add `&lt;uses-permission android:name=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;/&gt;` to my manifest.\r\n\r\nHere is the relevant code\r\n\r\n    public class RNCallModule extends ReactContextBaseJavaModule {\r\n    \r\n        static private String TAG = &quot;RNCallModule +++++&quot;;\r\n    \r\n        private ReactApplicationContext reactContext;\r\n    \r\n        private String appName;\r\n    \r\n        private TelecomManager tm;\r\n    \r\n        private PhoneAccountHandle handle;\r\n    \r\n        private PhoneAccount phoneAccount;\r\n    \r\n        public RNCallModule(ReactApplicationContext reactContext) {\r\n            super(reactContext);\r\n    \r\n            this.reactContext = reactContext;\r\n    \r\n            Boolean a = PackageManager.PERMISSION_GRANTED == this.reactContext.checkCallingOrSelfPermission(Manifest.permission.BIND_TELECOM_CONNECTION_SERVICE);\r\n    \r\n            appName = getApplicationName(this.reactContext.getApplicationContext());\r\n    \r\n            ComponentName cName = new ComponentName(this.reactContext.getApplicationContext(), RNCallConnectionService.class);\r\n    \r\n            handle = new PhoneAccountHandle(cName, appName);\r\n    \r\n            tm = (TelecomManager)this.reactContext.getApplicationContext().getSystemService(this.reactContext.getApplicationContext().TELECOM_SERVICE);\r\n    \r\n            if(android.os.Build.VERSION.SDK_INT &gt;= 26) {\r\n                phoneAccount = new PhoneAccount.Builder(handle, appName)\r\n                        .setCapabilities(PhoneAccount.CAPABILITY_SELF_MANAGED)\r\n                        .build();\r\n                tm.registerPhoneAccount(phoneAccount);\r\n            }\r\n    \r\n            phoneAccount = new PhoneAccount.Builder(handle, appName)\r\n                    .setCapabilities(PhoneAccount.CAPABILITY_CALL_PROVIDER)\r\n                    .build();\r\n    \r\n\r\n            tm.registerPhoneAccount(phoneAccount); // &lt;&lt;&lt;&lt;&lt;&lt; Here is where the error happens \r\n    \r\n        }\r\n    \r\n        // ... \r\n    \r\n    }","title":"Can&#39;t register new phoneAccount on Telecom service","body":"<p>I am trying to register a new <code>phoneAccount</code> but I keep receiving the following error:</p>\n\n<pre><code>04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: phoneAccount ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService} not found: TSI.rPA@Agc\n04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: Phone account ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} does not have BIND_TELECOM_CONNECTION_SE\nRVICE permission.: TSI.rPA@Agc\n04-13 01:06:11.330  1267  2435 E Telecom : com.android.server.telecom.TelecomServiceImpl$1: registerPhoneAccount [[ ] PhoneAccount: ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} Capabilities: C\nallProvider  Schemes: tel  Extras: null]: TSI.rPA@Agc\n04-13 01:06:11.330  1267  2435 E Telecom : java.lang.SecurityException: PhoneAccount connection service requires BIND_TELECOM_CONNECTION_SERVICE permission.\n04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.PhoneAccountRegistrar.registerPhoneAccount(PhoneAccountRegistrar.java:587)\n04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.TelecomServiceImpl$1.registerPhoneAccount(TelecomServiceImpl.java:399)\n04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.internal.telecom.ITelecomService$Stub.onTransact(ITelecomService.java:226)\n04-13 01:06:11.330  1267  2435 E Telecom :      at android.os.Binder.execTransact(Binder.java:573)\n</code></pre>\n\n<p>I have made sure to add <code>&lt;uses-permission android:name=\"android.permission.BIND_TELECOM_CONNECTION_SERVICE\"/&gt;</code> to my manifest.</p>\n\n<p>Here is the relevant code</p>\n\n<pre><code>public class RNCallModule extends ReactContextBaseJavaModule {\n\n    static private String TAG = \"RNCallModule +++++\";\n\n    private ReactApplicationContext reactContext;\n\n    private String appName;\n\n    private TelecomManager tm;\n\n    private PhoneAccountHandle handle;\n\n    private PhoneAccount phoneAccount;\n\n    public RNCallModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n\n        this.reactContext = reactContext;\n\n        Boolean a = PackageManager.PERMISSION_GRANTED == this.reactContext.checkCallingOrSelfPermission(Manifest.permission.BIND_TELECOM_CONNECTION_SERVICE);\n\n        appName = getApplicationName(this.reactContext.getApplicationContext());\n\n        ComponentName cName = new ComponentName(this.reactContext.getApplicationContext(), RNCallConnectionService.class);\n\n        handle = new PhoneAccountHandle(cName, appName);\n\n        tm = (TelecomManager)this.reactContext.getApplicationContext().getSystemService(this.reactContext.getApplicationContext().TELECOM_SERVICE);\n\n        if(android.os.Build.VERSION.SDK_INT &gt;= 26) {\n            phoneAccount = new PhoneAccount.Builder(handle, appName)\n                    .setCapabilities(PhoneAccount.CAPABILITY_SELF_MANAGED)\n                    .build();\n            tm.registerPhoneAccount(phoneAccount);\n        }\n\n        phoneAccount = new PhoneAccount.Builder(handle, appName)\n                .setCapabilities(PhoneAccount.CAPABILITY_CALL_PROVIDER)\n                .build();\n\n\n        tm.registerPhoneAccount(phoneAccount); // &lt;&lt;&lt;&lt;&lt;&lt; Here is where the error happens \n\n    }\n\n    // ... \n\n}\n</code></pre>\n"},{"tags":["java","json","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"score":0,"creation_date":1515573883,"post_id":48181695,"comment_id":83346353,"body_markdown":"Thanks for your response rohit. I&#39;ve completed by creating a Hash Map for formParams.","body":"Thanks for your response rohit. I&#39;ve completed by creating a Hash Map for formParams."}],"tags":[],"owner":{"account_id":8440459,"reputation":330,"user_id":6333170,"display_name":"rohit.jaryal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515566713,"creation_date":1515566713,"answer_id":48181695,"question_id":48151021,"body_markdown":"You can do this by using RequestSpecBuilder. It supports all the request parameters and you can easily create multipart request.\r\n\r\nSample code taken from https://github.com/rest-assured/rest-assured/wiki/Usage\r\n\r\n    RequestSpecBuilder builder = new RequestSpecBuilder();\r\n    builder.addParam(&quot;parameter1&quot;, &quot;parameterValue&quot;);\r\n    builder.addHeader(&quot;header1&quot;, &quot;headerValue&quot;);\r\n    RequestSpecification requestSpec = builder.build();\r\n      \r\n    given().\r\n            spec(requestSpec).\r\n            param(&quot;parameter2&quot;, &quot;paramValue&quot;).\r\n    when().\r\n            get(&quot;/something&quot;).\r\n    then().\r\n            body(&quot;x.y.z&quot;, equalTo(&quot;something&quot;));\r\n\r\n","title":"Post multipart file and JSON in Rest Assured","body":"<p>You can do this by using RequestSpecBuilder. It supports all the request parameters and you can easily create multipart request.</p>\n\n<p>Sample code taken from <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage\" rel=\"nofollow noreferrer\">https://github.com/rest-assured/rest-assured/wiki/Usage</a></p>\n\n<pre><code>RequestSpecBuilder builder = new RequestSpecBuilder();\nbuilder.addParam(\"parameter1\", \"parameterValue\");\nbuilder.addHeader(\"header1\", \"headerValue\");\nRequestSpecification requestSpec = builder.build();\n\ngiven().\n        spec(requestSpec).\n        param(\"parameter2\", \"paramValue\").\nwhen().\n        get(\"/something\").\nthen().\n        body(\"x.y.z\", equalTo(\"something\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"score":2,"creation_date":1515639407,"post_id":48183573,"comment_id":83379512,"body_markdown":"**NOTE:**\nRest assured not allowed to use **.body** and **.multiPart** at the same time. And when we use **.multiPart,** the content-type automatically set to **&quot;multipart/form-data&quot;**. If we want to send JSON we need to set the content-type as **&quot;application/json&quot;**. But &quot;application/json&quot; should not allowing the multipart file to send on the request.\n\nSo If we want to send some JSON data along with multipart file, Convert the JSON key, values as MAP and send it with **.formParams**, send multipart file in **.multipart** function.","body":"<b>NOTE:</b> Rest assured not allowed to use <b>.body</b> and <b>.multiPart</b> at the same time. And when we use <b>.multiPart,</b> the content-type automatically set to <b>&quot;multipart/form-data&quot;</b>. If we want to send JSON we need to set the content-type as <b>&quot;application/json&quot;</b>. But &quot;application/json&quot; should not allowing the multipart file to send on the request.  So If we want to send some JSON data along with multipart file, Convert the JSON key, values as MAP and send it with <b>.formParams</b>, send multipart file in <b>.multipart</b> function."}],"tags":[],"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515639344,"creation_date":1515574523,"answer_id":48183573,"question_id":48151021,"body_markdown":"Thanks for your response rohit. I was post this question for handling inner object with formParams. I&#39;ve completed by creating a Hash Map for formParams. Because formParams method of rest assured can accept Hash map.\r\n\r\n**Form params map creation:**\r\n\r\n    private static Map&lt;String, String&gt; createFormParamsMap(VideoTagInput videoTag) {\r\n    \t\t\r\n    \t\tMap&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\r\n    \t\tformParams.put(createFormParamKey(&quot;name&quot;), &quot;name&quot;);\r\n    \t\tformParams.put(createFormParamKey(&quot;kind&quot;), &quot;kind&quot;);\r\n    \t\t\r\n    \t\treturn formParams;\r\n    }\r\n\r\n\tprivate static String createFormParamKey(String paramKey) {\r\n\t\treturn &quot;sample[&quot; + paramKey + &quot;]&quot;; \r\n        // output is like &quot;sample[name]&quot; - I&#39;m forming inner object here for my purpose.\r\n\t}\r\n\r\n**Finally send the map to Rest Assured post call function**\r\n\r\n    given()\r\n                            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                            .header(auth)\r\n                            .config(rConfig)\r\n                            .multiPart(&quot;sample[video_file]&quot;, new File(&quot;path&quot;), &quot;video/mp4&quot;)\r\n                            .formParams(requestParamsMap) // requestParamsMap here.\r\n                            .log().all().\r\n                            expect()\r\n                            .statusCode(expectedStatusCode)\r\n                            .post(url);","title":"Post multipart file and JSON in Rest Assured","body":"<p>Thanks for your response rohit. I was post this question for handling inner object with formParams. I've completed by creating a Hash Map for formParams. Because formParams method of rest assured can accept Hash map.</p>\n\n<p><strong>Form params map creation:</strong></p>\n\n<pre><code>private static Map&lt;String, String&gt; createFormParamsMap(VideoTagInput videoTag) {\n\n        Map&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\n        formParams.put(createFormParamKey(\"name\"), \"name\");\n        formParams.put(createFormParamKey(\"kind\"), \"kind\");\n\n        return formParams;\n}\n\nprivate static String createFormParamKey(String paramKey) {\n    return \"sample[\" + paramKey + \"]\"; \n    // output is like \"sample[name]\" - I'm forming inner object here for my purpose.\n}\n</code></pre>\n\n<p><strong>Finally send the map to Rest Assured post call function</strong></p>\n\n<pre><code>given()\n                        .header(\"Accept\", \"application/json\")\n                        .header(auth)\n                        .config(rConfig)\n                        .multiPart(\"sample[video_file]\", new File(\"path\"), \"video/mp4\")\n                        .formParams(requestParamsMap) // requestParamsMap here.\n                        .log().all().\n                        expect()\n                        .statusCode(expectedStatusCode)\n                        .post(url);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":0,"creation_date":1615818111,"post_id":59176915,"comment_id":117801740,"body_markdown":"thanks for the `MediaType.MULTIPART_FORM_DATA_VALUE` const","body":"thanks for the <code>MediaType.MULTIPART_FORM_DATA_VALUE</code> const"}],"tags":[],"owner":{"account_id":9049902,"reputation":919,"user_id":6740561,"display_name":"svaponi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697195190,"creation_date":1575465305,"answer_id":59176915,"question_id":48151021,"body_markdown":"Your approach is not standard.\r\n\r\nYou cannot have a multipart request and a JSON body, you need to pick one over the two approaches: `multipart/form-data` or `application/json` request.\r\n\r\nThe standard way is to go with `multipart/form-data`, in which case you will have a multipart request with a *json* param containing the serialized JSON payload, and a *file* param with the multipart file.\r\n\r\n    given()\r\n    .contentType(MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    .multiPart(file)\r\n    .param(&quot;json&quot;, &quot;{\\&quot;sample\\&quot;:{\\&quot;name\\&quot;:\\&quot;sample- name\\&quot;,\\&quot;kind\\&quot;:\\&quot;upload\\&quot;,\\&quot;video_file\\&quot;:&lt;this is not needed&gt;}}&quot;)\r\n\r\nBut this involves changing your server-side logic.\r\n\r\nIf you cannot change your server-side logic, and you want the `application/json` approach, you need to serialize your file (as an array of bytes or as base64 string) to be set as *video_file* in your JSON payload.\r\n","title":"Post multipart file and JSON in Rest Assured","body":"<p>Your approach is not standard.</p>\n<p>You cannot have a multipart request and a JSON body, you need to pick one over the two approaches: <code>multipart/form-data</code> or <code>application/json</code> request.</p>\n<p>The standard way is to go with <code>multipart/form-data</code>, in which case you will have a multipart request with a <em>json</em> param containing the serialized JSON payload, and a <em>file</em> param with the multipart file.</p>\n<pre><code>given()\n.contentType(MediaType.MULTIPART_FORM_DATA_VALUE)\n.multiPart(file)\n.param(&quot;json&quot;, &quot;{\\&quot;sample\\&quot;:{\\&quot;name\\&quot;:\\&quot;sample- name\\&quot;,\\&quot;kind\\&quot;:\\&quot;upload\\&quot;,\\&quot;video_file\\&quot;:&lt;this is not needed&gt;}}&quot;)\n</code></pre>\n<p>But this involves changing your server-side logic.</p>\n<p>If you cannot change your server-side logic, and you want the <code>application/json</code> approach, you need to serialize your file (as an array of bytes or as base64 string) to be set as <em>video_file</em> in your JSON payload.</p>\n"}],"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19880,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1697202398,"creation_date":1515417092,"question_id":48151021,"body_markdown":"I need to send a video file and JSON object in Rest Assured post call.\r\n\r\nStructure is like the following:\r\n\r\n&gt; { &quot;sample&quot; : {  \r\n&gt;       &quot;name&quot; : &quot;sample-name&quot;,  \r\n&gt;       &quot;kind&quot; : &quot;upload&quot;,  \r\n&gt;       &quot;video_file&quot; : multipart file here } }\r\n\r\nSo I did like the following \r\n\r\nCode:\r\n\r\n    given()\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .header(auth)\r\n            .config(rConfig)\r\n            .body(body)\r\n            .multiPart(&quot;sample[video_file]&quot;, new File(&quot;path&quot;), &quot;video/mp4&quot;)\r\n            .formParam(&quot;sample[name]&quot;, &quot;Video Upload&quot;)\r\n            .formParam(&quot;sample[kind]&quot;, &quot;upload&quot;)\r\n            .log().all().\r\n            expect()\r\n            .statusCode(expectedStatusCode)\r\n            .post(url);\r\n\r\nI can&#39;t use application/JSON while using multipart in Rest Assured. I explicitly hardcoded the value in the form param and sent the media file in multipart and now it is working fine. \r\n\r\nHow can I send all the form param data in a single inner object.","title":"Post multipart file and JSON in Rest Assured","body":"<p>I need to send a video file and JSON object in Rest Assured post call.</p>\n<p>Structure is like the following:</p>\n<blockquote>\n<p>{ &quot;sample&quot; : {<br />\n&quot;name&quot; : &quot;sample-name&quot;,<br />\n&quot;kind&quot; : &quot;upload&quot;,<br />\n&quot;video_file&quot; : multipart file here } }</p>\n</blockquote>\n<p>So I did like the following</p>\n<p>Code:</p>\n<pre><code>given()\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        .header(auth)\n        .config(rConfig)\n        .body(body)\n        .multiPart(&quot;sample[video_file]&quot;, new File(&quot;path&quot;), &quot;video/mp4&quot;)\n        .formParam(&quot;sample[name]&quot;, &quot;Video Upload&quot;)\n        .formParam(&quot;sample[kind]&quot;, &quot;upload&quot;)\n        .log().all().\n        expect()\n        .statusCode(expectedStatusCode)\n        .post(url);\n</code></pre>\n<p>I can't use application/JSON while using multipart in Rest Assured. I explicitly hardcoded the value in the form param and sent the media file in multipart and now it is working fine.</p>\n<p>How can I send all the form param data in a single inner object.</p>\n"},{"tags":["java","spring-boot","docker","keycloak"],"comments":[{"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"score":0,"creation_date":1697152558,"post_id":77283750,"comment_id":136247492,"body_markdown":"What is the other error on the image above?","body":"What is the other error on the image above?"},{"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"score":0,"creation_date":1697186491,"post_id":77283750,"comment_id":136250920,"body_markdown":"@LejdiPrifti here are the full crash logs from docker https://pastebin.com/raw/gx36DXzr","body":"@LejdiPrifti here are the full crash logs from docker <a href=\"https://pastebin.com/raw/gx36DXzr\" rel=\"nofollow noreferrer\">pastebin.com/raw/gx36DXzr</a>"}],"answers":[{"tags":[],"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697202260,"creation_date":1697195000,"answer_id":77287224,"question_id":77283750,"body_markdown":"I think I fixed this issue. I couldn&#39;t any solution online. I fixed it by experimenting myself and trying stuff until it works.\r\n\r\nI learned 4 important factors that need to be set for this to get fixed:\r\n\r\n1. First of all this is the docker-compose.yml now:\r\n\r\n```yaml\r\nservices:\r\n  postgres:\r\n    container_name: postgres\r\n    image: postgres:latest\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      POSTGRES_DB: banking_microservice_db\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres-data:/data/postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\n  keycloak:\r\n    container_name: keycloak\r\n    image: jboss/keycloak:latest\r\n    ports:\r\n      - &quot;9990:8080&quot;\r\n      - &quot;9991:8443&quot;\r\n    environment:\r\n      KEYCLOAK_USER: admin\r\n      KEYCLOAK_PASSWORD: admin\r\n      DB_VENDOR: POSTGRES\r\n      DB_ADDR: postgres\r\n      DB_PORT: 5432\r\n      DB_DATABASE: keycloak_db\r\n      DB_USER: postgres\r\n      DB_PASSWORD: root\r\n      KEYCLOAK_LOGLEVEL: INFO\r\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\r\n    depends_on:\r\n      - postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  keycloak-network:\r\n\r\nvolumes:\r\n  postgres-data:\r\n```\r\n\r\nThis part:\r\n\r\n```yaml\r\n# ...\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres-data:/data/postgres\r\n# ...\r\n```\r\n\r\nwas causing the most trouble.\r\n\r\n- If this part DOES get set:\r\n  - Keycloak container can NOT boot up, throwing the error i just explained in the original post.\r\n  - BUT the banking-core microservice CAN boot up, because it can now connect to postgres via volume.\r\n\r\n\r\n- If this part does NOT get set:\r\n  - Keycloak container CAN boot up, without any errors.\r\n  - BUT the banking-core microservice can NOT boot up, because now it can&#39;t connect to the postgres db since there&#39;s no volume mounted.\r\n\r\n2. For some very strange reason, the volume for postgres db can NOT be anything other than `postgres-data`.\r\n\r\nBefore:\r\n\r\n```yaml\r\n# ...\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n# ...\r\n\r\n\r\nvolumes:\r\n  db:\r\n```\r\n\r\nAfter:\r\n\r\n\r\n```yaml\r\n# ...\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres-data:/data/postgres\r\n# ...\r\n\r\n\r\nvolumes:\r\n  postgres-data:\r\n```\r\n\r\n- If `db` is set -&gt; keycloak container fails to boot.\r\n- If `postgres-data` is set -&gt; keycloak container boots up.\r\n\r\nDon&#39;t know why this matters. If anyone knows, please explain.\r\n\r\n3. Keycloak db username and password must be the same one that has been set on postgres, while database names can remain different:\r\n\r\nBefore:\r\n\r\n\r\n```yaml\r\n  postgres:\r\n    # ...\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n    # ...\r\n\r\n\r\n  keycloak:\r\n    # ...\r\n    environment:\r\n      # ...\r\n      DB_USER: keycloak\r\n      DB_PASSWORD: keycloak\r\n    # ...\r\n```\r\n\r\nAfter:\r\n\r\n\r\n```yaml\r\n  postgres:\r\n    # ...\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n    # ...\r\n\r\n\r\n  keycloak:\r\n    # ...\r\n    environment:\r\n      # ...\r\n      DB_USER: postgres\r\n      DB_PASSWORD: root\r\n    # ...\r\n```\r\n\r\nThe reason why i have a separate database `banking_microservice_db` and `keycloak_db` is because i want to use the first database only for my microservices while the second database gets used only by keycloak. Keycloak generates tens of tables and i dont want them to get mixed up with my own.\r\n\r\n4. Final thing to do is to manually create a database before starting the docker compose:\r\n\r\n```shell\r\ndocker exec -it postgres bash\r\npsql -U postgres\r\nCREATE DATABASE banking_microservice_db;\r\nCREATE DATABASE keycloak_db;\r\n```\r\n\r\nNow everything should work fine.\r\n\r\nYou might have noticed that i changed docker compose a bit, but that&#39;s for better convenience for me and does not impact in solving this problem:\r\n- I changed ports from `8080:8080` -&gt; `9990:8080` for HTTP\r\n- And added a new port `9991:8443` for SSL","title":"Keycloak 16.1.1: User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;","body":"<p>I think I fixed this issue. I couldn't any solution online. I fixed it by experimenting myself and trying stuff until it works.</p>\n<p>I learned 4 important factors that need to be set for this to get fixed:</p>\n<ol>\n<li>First of all this is the docker-compose.yml now:</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n  postgres:\n    container_name: postgres\n    image: postgres:latest\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_DB: banking_microservice_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n      PGDATA: /data/postgres\n    volumes:\n      - postgres-data:/data/postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\n  keycloak:\n    container_name: keycloak\n    image: jboss/keycloak:latest\n    ports:\n      - &quot;9990:8080&quot;\n      - &quot;9991:8443&quot;\n    environment:\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: admin\n      DB_VENDOR: POSTGRES\n      DB_ADDR: postgres\n      DB_PORT: 5432\n      DB_DATABASE: keycloak_db\n      DB_USER: postgres\n      DB_PASSWORD: root\n      KEYCLOAK_LOGLEVEL: INFO\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\n    depends_on:\n      - postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\nnetworks:\n  keycloak-network:\n\nvolumes:\n  postgres-data:\n</code></pre>\n<p>This part:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># ...\n      PGDATA: /data/postgres\n    volumes:\n      - postgres-data:/data/postgres\n# ...\n</code></pre>\n<p>was causing the most trouble.</p>\n<ul>\n<li><p>If this part DOES get set:</p>\n<ul>\n<li>Keycloak container can NOT boot up, throwing the error i just explained in the original post.</li>\n<li>BUT the banking-core microservice CAN boot up, because it can now connect to postgres via volume.</li>\n</ul>\n</li>\n<li><p>If this part does NOT get set:</p>\n<ul>\n<li>Keycloak container CAN boot up, without any errors.</li>\n<li>BUT the banking-core microservice can NOT boot up, because now it can't connect to the postgres db since there's no volume mounted.</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>For some very strange reason, the volume for postgres db can NOT be anything other than <code>postgres-data</code>.</li>\n</ol>\n<p>Before:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># ...\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n# ...\n\n\nvolumes:\n  db:\n</code></pre>\n<p>After:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># ...\n      PGDATA: /data/postgres\n    volumes:\n      - postgres-data:/data/postgres\n# ...\n\n\nvolumes:\n  postgres-data:\n</code></pre>\n<ul>\n<li>If <code>db</code> is set -&gt; keycloak container fails to boot.</li>\n<li>If <code>postgres-data</code> is set -&gt; keycloak container boots up.</li>\n</ul>\n<p>Don't know why this matters. If anyone knows, please explain.</p>\n<ol start=\"3\">\n<li>Keycloak db username and password must be the same one that has been set on postgres, while database names can remain different:</li>\n</ol>\n<p>Before:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  postgres:\n    # ...\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n    # ...\n\n\n  keycloak:\n    # ...\n    environment:\n      # ...\n      DB_USER: keycloak\n      DB_PASSWORD: keycloak\n    # ...\n</code></pre>\n<p>After:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  postgres:\n    # ...\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n    # ...\n\n\n  keycloak:\n    # ...\n    environment:\n      # ...\n      DB_USER: postgres\n      DB_PASSWORD: root\n    # ...\n</code></pre>\n<p>The reason why i have a separate database <code>banking_microservice_db</code> and <code>keycloak_db</code> is because i want to use the first database only for my microservices while the second database gets used only by keycloak. Keycloak generates tens of tables and i dont want them to get mixed up with my own.</p>\n<ol start=\"4\">\n<li>Final thing to do is to manually create a database before starting the docker compose:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>docker exec -it postgres bash\npsql -U postgres\nCREATE DATABASE banking_microservice_db;\nCREATE DATABASE keycloak_db;\n</code></pre>\n<p>Now everything should work fine.</p>\n<p>You might have noticed that i changed docker compose a bit, but that's for better convenience for me and does not impact in solving this problem:</p>\n<ul>\n<li>I changed ports from <code>8080:8080</code> -&gt; <code>9990:8080</code> for HTTP</li>\n<li>And added a new port <code>9991:8443</code> for SSL</li>\n</ul>\n"}],"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77287224,"answer_count":1,"score":0,"last_activity_date":1697202260,"creation_date":1697143469,"question_id":77283750,"body_markdown":"I&#39;m trying to start keycloak for my java spring boot 3.1.4 backend app via docker compose. Here&#39;s my docker compose:\r\n\r\n```yaml\r\nservices:\r\n  postgres:\r\n    container_name: postgres\r\n    image: postgres:latest\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      POSTGRES_DB: banking_microservice_db\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\n  keycloak:\r\n    container_name: keycloak\r\n    image: jboss/keycloak:latest\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    environment:\r\n      KEYCLOAK_USER: admin\r\n      KEYCLOAK_PASSWORD: admin\r\n      DB_VENDOR: POSTGRES\r\n      DB_ADDR: postgres\r\n      DB_PORT: 5432\r\n      DB_DATABASE: keycloak\r\n      DB_USER: keycloak\r\n      DB_PASSWORD: keycloak\r\n      KEYCLOAK_LOGLEVEL: INFO\r\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\r\n    depends_on:\r\n      - postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  keycloak-network:\r\n\r\nvolumes:\r\n  db:\r\n```\r\n\r\nWhen i run `docker compose up -d` i keep getting the error:\r\n\r\n```2023-10-12 22:41:05 User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZbkFc.jpg\r\n\r\n- I tried deleting images, containers and redownloading them again, same problem\r\n- I tried using different versions of keycloak, same problem\r\n- I tried changing `KEYCLOAK_USER`, `KEYCLOAK_PASSWORD`, same problem\r\n- I tried commenting out those two ENV variables and restarting key cloak, same problem\r\n- I tried deleting postgres db volume, same problem\r\n\r\nWhat is the problem?","title":"Keycloak 16.1.1: User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;","body":"<p>I'm trying to start keycloak for my java spring boot 3.1.4 backend app via docker compose. Here's my docker compose:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n  postgres:\n    container_name: postgres\n    image: postgres:latest\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_DB: banking_microservice_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\n  keycloak:\n    container_name: keycloak\n    image: jboss/keycloak:latest\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: admin\n      DB_VENDOR: POSTGRES\n      DB_ADDR: postgres\n      DB_PORT: 5432\n      DB_DATABASE: keycloak\n      DB_USER: keycloak\n      DB_PASSWORD: keycloak\n      KEYCLOAK_LOGLEVEL: INFO\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\n    depends_on:\n      - postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\nnetworks:\n  keycloak-network:\n\nvolumes:\n  db:\n</code></pre>\n<p>When i run <code>docker compose up -d</code> i keep getting the error:</p>\n<p><code>2023-10-12 22:41:05 User with username 'admin' already added to '/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json'</code></p>\n<p><a href=\"https://i.stack.imgur.com/ZbkFc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZbkFc.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>I tried deleting images, containers and redownloading them again, same problem</li>\n<li>I tried using different versions of keycloak, same problem</li>\n<li>I tried changing <code>KEYCLOAK_USER</code>, <code>KEYCLOAK_PASSWORD</code>, same problem</li>\n<li>I tried commenting out those two ENV variables and restarting key cloak, same problem</li>\n<li>I tried deleting postgres db volume, same problem</li>\n</ul>\n<p>What is the problem?</p>\n"},{"tags":["java","docker","dockerfile","read-access"],"answers":[{"comments":[{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1697204083,"post_id":77287929,"comment_id":136254135,"body_markdown":"So the best solution would something like this \n```RUN useradd --uid 10000 customuser``` without any group, chmod options?\nAnd as a result I just add ```USER customuser``` just before ENTRYPOINT to execute with non-privileged user, so workdir/copy still runs by root user?","body":"So the best solution would something like this  <code>RUN useradd --uid 10000 customuser</code> without any group, chmod options? And as a result I just add <code>USER customuser</code> just before ENTRYPOINT to execute with non-privileged user, so workdir/copy still runs by root user?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697204183,"post_id":77287929,"comment_id":136254152,"body_markdown":"I wouldn&#39;t bother manually picking a uid.  `COPY` by default will set the files to be owned by root, so when you use `USER` to switch to a non-root user they can&#39;t be overridden.  (But remember the end user can always `docker run -u 0` to launch the container as root instead.)","body":"I wouldn&#39;t bother manually picking a uid.  <code>COPY</code> by default will set the files to be owned by root, so when you use <code>USER</code> to switch to a non-root user they can&#39;t be overridden.  (But remember the end user can always <code>docker run -u 0</code> to launch the container as root instead.)"}],"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697201835,"creation_date":1697201835,"answer_id":77287929,"question_id":77287427,"body_markdown":"Just don&#39;t install anything else in the container.  The container runs in a restricted environment, and can&#39;t normally access files outside the container (enforced by Docker), so you don&#39;t need to specifically set permissions or disallow other things.\r\n\r\nSay the Dockerfile contains only:\r\n\r\n```sh\r\nFROM eclipse-temurin:17\r\nRUN adduser --system custom\r\nWORKDIR /app\r\nCOPY ./target/app.jar ./\r\nUSER custom\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\nThere is nothing in the image beyond a set of base tools, the JVM, and the jar file, so you can&#39;t do anything else inside the container.  Furthermore, the jar file is owned by root but the container (by default) runs as a non-root user, so you can&#39;t overwrite anything in the image.\r\n\r\nThe user name and ID in the container normally do not need to match any particular host user, and in this example I&#39;ve chosen a fixed name and let **adduser**(8) pick the ID for me.  If you need a different user ID (to write to a bind-mounted host directory for example) you can specify the numeric user ID when you run the container.  You do not need to &quot;create the user&quot; _per se_, and you do not want to rebuild the image just because someone else is running it.  Do not try to pass a user ID as a build-time `ARG`.","title":"How to add user to Docker image with limited read only permissions?","body":"<p>Just don't install anything else in the container.  The container runs in a restricted environment, and can't normally access files outside the container (enforced by Docker), so you don't need to specifically set permissions or disallow other things.</p>\n<p>Say the Dockerfile contains only:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM eclipse-temurin:17\nRUN adduser --system custom\nWORKDIR /app\nCOPY ./target/app.jar ./\nUSER custom\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>There is nothing in the image beyond a set of base tools, the JVM, and the jar file, so you can't do anything else inside the container.  Furthermore, the jar file is owned by root but the container (by default) runs as a non-root user, so you can't overwrite anything in the image.</p>\n<p>The user name and ID in the container normally do not need to match any particular host user, and in this example I've chosen a fixed name and let <strong>adduser</strong>(8) pick the ID for me.  If you need a different user ID (to write to a bind-mounted host directory for example) you can specify the numeric user ID when you run the container.  You do not need to &quot;create the user&quot; <em>per se</em>, and you do not want to rebuild the image just because someone else is running it.  Do not try to pass a user ID as a build-time <code>ARG</code>.</p>\n"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697201835,"creation_date":1697197211,"question_id":77287427,"body_markdown":"My goal is to configure docker image, where I will use it via rootless user and this user can read only jar files.\r\n\r\nWhat I have done in Dockerfile:\r\n\r\n```\r\n...something...\r\nARG USERNAME=MyCustomUser\r\nARG USER_UID=10001\r\nARG USER_GID=$USER_UID\r\n\r\nRUN groupadd --gid $USER_GID $USERNAME \\\r\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\r\n...something...\r\n``` \r\n\r\nBut how can I configure read permissions in file system only to jar files?","title":"How to add user to Docker image with limited read only permissions?","body":"<p>My goal is to configure docker image, where I will use it via rootless user and this user can read only jar files.</p>\n<p>What I have done in Dockerfile:</p>\n<pre><code>...something...\nARG USERNAME=MyCustomUser\nARG USER_UID=10001\nARG USER_GID=$USER_UID\n\nRUN groupadd --gid $USER_GID $USERNAME \\\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\n...something...\n</code></pre>\n<p>But how can I configure read permissions in file system only to jar files?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1697131878,"post_id":77281905,"comment_id":136244560,"body_markdown":"Nobody is reading the pipe, so it blocks. What exactly are you trying to accomplish here?","body":"Nobody is reading the pipe, so it blocks. What exactly are you trying to accomplish here?"},{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1697178928,"post_id":77281905,"comment_id":136249673,"body_markdown":"I would like to read the content of the FilePart into a BufferedReader, that I&#39;ll use with openCSV in bulkImportService.importData","body":"I would like to read the content of the FilePart into a BufferedReader, that I&#39;ll use with openCSV in bulkImportService.importData"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697205939,"post_id":77281905,"comment_id":136254507,"body_markdown":"But you don’t need pipes for that.","body":"But you don’t need pipes for that."}],"answers":[{"tags":[],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697201792,"creation_date":1697201792,"answer_id":77287921,"question_id":77281905,"body_markdown":"I eventually found the solution on this site:\r\n\r\n[https://manhtai.github.io/posts/flux-databuffer-to-inputstream/][1]\r\n\r\nI was missing the \r\n\r\n    .subscribeOn(Schedulers.elastic())\r\n\r\nas first instruction after the *DataBufferUtils.write(file.content(), osPipe)*, before the *doOnComplete*.\r\n\r\n  [1]: https://manhtai.github.io/posts/flux-databuffer-to-inputstream/","title":"Convert FilePart to BufferedReader","body":"<p>I eventually found the solution on this site:</p>\n<p><a href=\"https://manhtai.github.io/posts/flux-databuffer-to-inputstream/\" rel=\"nofollow noreferrer\">https://manhtai.github.io/posts/flux-databuffer-to-inputstream/</a></p>\n<p>I was missing the</p>\n<pre><code>.subscribeOn(Schedulers.elastic())\n</code></pre>\n<p>as first instruction after the <em>DataBufferUtils.write(file.content(), osPipe)</em>, before the <em>doOnComplete</em>.</p>\n"}],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77287921,"answer_count":1,"score":0,"last_activity_date":1697201792,"creation_date":1697124040,"question_id":77281905,"body_markdown":"I read tons of post on this same problem: how to access data within a FilePart. I saw a lot of answers but none of them is suitable for my case.\r\n\r\nThe method in my controller is:\r\n\r\n    @PostMapping(&quot;/importData&quot;)\r\n        public List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; importData(@RequestPart(value = &quot;file&quot;, required = true) FilePart file) {\r\n    \r\n            log.debug(&quot;[importData] BEGIN &quot;);\r\n    \r\n            List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            try {\r\n    \r\n                PipedOutputStream osPipe = new PipedOutputStream();\r\n                PipedInputStream isPipe = new PipedInputStream(osPipe);\r\n                DataBufferUtils.write(file.content(), osPipe).doOnComplete(() -&gt; {\r\n                    try {\r\n                        osPipe.close();\r\n                    } catch (IOException e) {\r\n                        log.error(&quot;&quot;, e);\r\n                    }\r\n                }).subscribe(DataBufferUtils.releaseConsumer());\r\n    \r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(isPipe));\r\n    \r\n                result = bulkImportService.importData(bufferedReader);\r\n    \r\n            } catch (Exception ex) {\r\n                log.error(&quot;[importData] An error occured during execution:&quot;, ex);\r\n            }\r\n    \r\n            log.debug(&quot;[importData] END &quot;);\r\n    \r\n            return result;\r\n        }\r\n\r\nThe problem is that when receiving a file it never exits from the DataBufferUtils.write block. It remains there forever.\r\n\r\nDo you have any suggestions how to solve this problem? ","title":"Convert FilePart to BufferedReader","body":"<p>I read tons of post on this same problem: how to access data within a FilePart. I saw a lot of answers but none of them is suitable for my case.</p>\n<p>The method in my controller is:</p>\n<pre><code>@PostMapping(&quot;/importData&quot;)\n    public List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; importData(@RequestPart(value = &quot;file&quot;, required = true) FilePart file) {\n\n        log.debug(&quot;[importData] BEGIN &quot;);\n\n        List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; result = new ArrayList&lt;&gt;();\n        try {\n\n            PipedOutputStream osPipe = new PipedOutputStream();\n            PipedInputStream isPipe = new PipedInputStream(osPipe);\n            DataBufferUtils.write(file.content(), osPipe).doOnComplete(() -&gt; {\n                try {\n                    osPipe.close();\n                } catch (IOException e) {\n                    log.error(&quot;&quot;, e);\n                }\n            }).subscribe(DataBufferUtils.releaseConsumer());\n\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(isPipe));\n\n            result = bulkImportService.importData(bufferedReader);\n\n        } catch (Exception ex) {\n            log.error(&quot;[importData] An error occured during execution:&quot;, ex);\n        }\n\n        log.debug(&quot;[importData] END &quot;);\n\n        return result;\n    }\n</code></pre>\n<p>The problem is that when receiving a file it never exits from the DataBufferUtils.write block. It remains there forever.</p>\n<p>Do you have any suggestions how to solve this problem?</p>\n"},{"tags":["java","dependency-injection","jax-rs","quarkus","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1695668932,"post_id":77174523,"comment_id":136052685,"body_markdown":"One option is to override the `MyTomatoesRestApp.getClasses()`. What version of Quarkus are you using?","body":"One option is to override the <code>MyTomatoesRestApp.getClasses()</code>. What version of Quarkus are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697201784,"creation_date":1697201784,"answer_id":77287920,"question_id":77174523,"body_markdown":"**1. Extend solution**\r\n\r\nI implemented this using a simple and straightforward approach, and there&#39;s more code in the exception mapper that I want to avoid duplicating. \r\n\r\nMy solution is to remove the `@Provider` annotation from the library. In `MyApplesRestApp` and `MyBananasRestApp`, I extend the class and add the `@Provider` annotation to enable it in a project.\r\n\r\nThe exception mapper in the library:\r\n\r\n```java\r\nimport javax.ws.rs.ext.ExtensionMapper;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n@Provider\r\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\r\n    @Override\r\n    public Response toResponse(IllegalArgumentException) {\r\n        return Response.status(Status.BAD_REQUEST).build();\r\n    }\r\n}\r\n```\r\n\r\nThe exception mapper in `MyApplesRestApp` and `MyBananasRestApp`:\r\n\r\n```java\r\nimport com.mylib.IllegalArgumentExceptionMapper;\r\n\r\n@Provider\r\npublic class MyIllegalArgumentExceptionMapper extends IllegalArgumentExceptionMapper {}\r\n```\r\n\r\n\r\n**2. Another solution that I use also sometimes is to use @IfBuildProperty**\r\n\r\n```\r\n@Provider\r\n@IfBuildProperty(name = &quot;common.illegal-exception-mapper.enabled&quot;, stringValue = &quot;true&quot;)\r\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\r\n...\r\n```\r\n\r\napplication.properties of the application\r\n```\r\ncommon.illegal-exception-mapper.enabled=true\r\n```","title":"Shared class with @Provider annotation","body":"<p><strong>1. Extend solution</strong></p>\n<p>I implemented this using a simple and straightforward approach, and there's more code in the exception mapper that I want to avoid duplicating.</p>\n<p>My solution is to remove the <code>@Provider</code> annotation from the library. In <code>MyApplesRestApp</code> and <code>MyBananasRestApp</code>, I extend the class and add the <code>@Provider</code> annotation to enable it in a project.</p>\n<p>The exception mapper in the library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.ext.ExtensionMapper;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\n    @Override\n    public Response toResponse(IllegalArgumentException) {\n        return Response.status(Status.BAD_REQUEST).build();\n    }\n}\n</code></pre>\n<p>The exception mapper in <code>MyApplesRestApp</code> and <code>MyBananasRestApp</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mylib.IllegalArgumentExceptionMapper;\n\n@Provider\npublic class MyIllegalArgumentExceptionMapper extends IllegalArgumentExceptionMapper {}\n</code></pre>\n<p><strong>2. Another solution that I use also sometimes is to use @IfBuildProperty</strong></p>\n<pre><code>@Provider\n@IfBuildProperty(name = &quot;common.illegal-exception-mapper.enabled&quot;, stringValue = &quot;true&quot;)\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\n...\n</code></pre>\n<p>application.properties of the application</p>\n<pre><code>common.illegal-exception-mapper.enabled=true\n</code></pre>\n"}],"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697201784,"creation_date":1695661417,"question_id":77174523,"body_markdown":"I have three quarkus apps: \r\n * `MyApplesRestApp`\r\n * `MyBananasRestApp`\r\n * `MyTomatoesRestApp` \r\n\r\nThose apps reuse some of the classes in a shared common library `FruitServicesLib`.\r\n\r\nIn `MyApplesRestApp`, I have a straightforward exception handler to map exceptions to an HTTP error 400:\r\n\r\n    import javax.ws.rs.ext.ExtensionMapper\r\n    import javax.ws.rs.ext.Provider\r\n\r\n    @Provider\r\n    public class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\r\n        @Override\r\n        public Response toResponse(IllegalArgumentException) {\r\n            returnResponse.status(Status.BAD_REQUEST).build();\r\n        }\r\n    }\r\n\r\nI want to move the exception handler class above to the common library `FruitServicesLib`, but I also want to enable this exception handler in `MyApplesRestApp` and `MyBananasRestApp`, but not in MyTomatoesRestApp.\r\n\r\nWhat&#39;s the best way to do that? How can I move a @Provider annotated class to a common library but not have it activated all the time - conditionally enable it when needed (via java code or by using some config)?","title":"Shared class with @Provider annotation","body":"<p>I have three quarkus apps:</p>\n<ul>\n<li><code>MyApplesRestApp</code></li>\n<li><code>MyBananasRestApp</code></li>\n<li><code>MyTomatoesRestApp</code></li>\n</ul>\n<p>Those apps reuse some of the classes in a shared common library <code>FruitServicesLib</code>.</p>\n<p>In <code>MyApplesRestApp</code>, I have a straightforward exception handler to map exceptions to an HTTP error 400:</p>\n<pre><code>import javax.ws.rs.ext.ExtensionMapper\nimport javax.ws.rs.ext.Provider\n\n@Provider\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\n    @Override\n    public Response toResponse(IllegalArgumentException) {\n        returnResponse.status(Status.BAD_REQUEST).build();\n    }\n}\n</code></pre>\n<p>I want to move the exception handler class above to the common library <code>FruitServicesLib</code>, but I also want to enable this exception handler in <code>MyApplesRestApp</code> and <code>MyBananasRestApp</code>, but not in MyTomatoesRestApp.</p>\n<p>What's the best way to do that? How can I move a @Provider annotated class to a common library but not have it activated all the time - conditionally enable it when needed (via java code or by using some config)?</p>\n"},{"tags":["java","rest-assured","jackson-databind"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1697130009,"post_id":77275023,"comment_id":136244169,"body_markdown":"Looks like a key-value pair to me, with the colon separating key and value. I don&#39;t understand what you are asking. It would be helpful to add your code as a [mcve].","body":"Looks like a key-value pair to me, with the colon separating key and value. I don&#39;t understand what you are asking. It would be helpful to add your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":24536873,"reputation":3,"user_id":18447844,"display_name":"Ali Eleish"},"score":0,"creation_date":1697201706,"post_id":77284947,"comment_id":136253641,"body_markdown":"Thanks a lot lucas I&#39;ve already used asString() to retrieve the response as a string, and then asserted that the response contains(&quot;Auth_token&quot;). And it worked successfully.","body":"Thanks a lot lucas I&#39;ve already used asString() to retrieve the response as a string, and then asserted that the response contains(&quot;Auth_token&quot;). And it worked successfully."}],"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697168704,"creation_date":1697168704,"answer_id":77284947,"question_id":77275023,"body_markdown":"Since it&#39;s a String, you cannot use default deserialization in Rest-Assured. To get token, just split String and get it.\r\n\r\n```java\r\nString res = given()...asString();\r\nString token = res.split(&quot; &quot;)[1];\r\nSystem.out.println(&quot;token);\r\n//aG9yYWNpb3NzMTE2OTc2NDM=\r\n```\r\n\r\nif you want to do something like POJO (it&#39;s little bit over skill), then here you are:\r\n\r\n```java\r\n@Test\r\nvoid q77275023() {\r\n    String res = given()...asString();\r\n    String token = new Auth(res).getAuthToken();\r\n    System.out.println(&quot;token = &quot; + token);\r\n}\r\n\r\nstatic class Auth {\r\n    private String authToken;\r\n\r\n    public Auth(String res) {\r\n        String value = res.split(&quot; &quot;)[1];\r\n        this.authToken = value;\r\n    }\r\n\r\n    public String getAuthToken() {\r\n        return authToken;\r\n    }\r\n}\r\n```","title":"how to deserialize the response via rest assured and Java","body":"<p>Since it's a String, you cannot use default deserialization in Rest-Assured. To get token, just split String and get it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String res = given()...asString();\nString token = res.split(&quot; &quot;)[1];\nSystem.out.println(&quot;token);\n//aG9yYWNpb3NzMTE2OTc2NDM=\n</code></pre>\n<p>if you want to do something like POJO (it's little bit over skill), then here you are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid q77275023() {\n    String res = given()...asString();\n    String token = new Auth(res).getAuthToken();\n    System.out.println(&quot;token = &quot; + token);\n}\n\nstatic class Auth {\n    private String authToken;\n\n    public Auth(String res) {\n        String value = res.split(&quot; &quot;)[1];\n        this.authToken = value;\n    }\n\n    public String getAuthToken() {\n        return authToken;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24536873,"reputation":3,"user_id":18447844,"display_name":"Ali Eleish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77284947,"answer_count":1,"score":0,"last_activity_date":1697201561,"creation_date":1697043617,"question_id":77275023,"body_markdown":"I&#39;m sending a post request for the Login API of Demoblaze Website https://www.demoblaze.com/. I&#39;ve searched over the internet about their official API documentation, and have found the postman collection that is used for this.\r\n\r\nThe login API specs found in postman:\r\n\r\nendpoint: https://api.demoblaze.com/login\r\n\r\npayload:\r\n\r\n```\r\n{\r\n   &quot;username&quot;: &quot;horacioss1&quot;,\r\n    &quot;password&quot;: &quot;1234567890&quot;\r\n}\r\n```\r\n\r\nwhen I send the request I get the following response:\r\n\r\n```\r\n&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\r\n```\r\n\r\nThe question here is how can I create a POJO class for the following response:\r\n\r\n```\r\n&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\r\n```\r\n\r\nas it&#39;s just a string not a key-value pair.","title":"how to deserialize the response via rest assured and Java","body":"<p>I'm sending a post request for the Login API of Demoblaze Website <a href=\"https://www.demoblaze.com/\" rel=\"nofollow noreferrer\">https://www.demoblaze.com/</a>. I've searched over the internet about their official API documentation, and have found the postman collection that is used for this.</p>\n<p>The login API specs found in postman:</p>\n<p>endpoint: <a href=\"https://api.demoblaze.com/login\" rel=\"nofollow noreferrer\">https://api.demoblaze.com/login</a></p>\n<p>payload:</p>\n<pre><code>{\n   &quot;username&quot;: &quot;horacioss1&quot;,\n    &quot;password&quot;: &quot;1234567890&quot;\n}\n</code></pre>\n<p>when I send the request I get the following response:</p>\n<pre><code>&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\n</code></pre>\n<p>The question here is how can I create a POJO class for the following response:</p>\n<pre><code>&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\n</code></pre>\n<p>as it's just a string not a key-value pair.</p>\n"},{"tags":["java","xml","opendocument","ods","jopendocument"],"answers":[{"comments":[{"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"score":0,"creation_date":1549986835,"post_id":44662892,"comment_id":96099523,"body_markdown":"It does exist but it is slow ... very slow","body":"It does exist but it is slow ... very slow"}],"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497992357,"creation_date":1497992357,"answer_id":44662892,"question_id":38477727,"body_markdown":"jopendocument has a function for that: *getUsedRange()*\r\n\r\n    Range range=sheet.getUsedRange();\r\n    System.out.println(&quot;RANGE: &quot;+range.toString());\r\n\r\n=&gt; RANGE: Feuille1.A1:.C8 (example)\r\n\r\n","title":"JOpenDocument: problems with blank rows and cells","body":"<p>jopendocument has a function for that: <em>getUsedRange()</em></p>\n\n<pre><code>Range range=sheet.getUsedRange();\nSystem.out.println(\"RANGE: \"+range.toString());\n</code></pre>\n\n<p>=> RANGE: Feuille1.A1:.C8 (example)</p>\n"},{"tags":[],"owner":{"account_id":29095998,"reputation":1,"user_id":22288881,"display_name":"ivanmc-007"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697201425,"creation_date":1697201425,"answer_id":77287880,"question_id":38477727,"body_markdown":"In org.jopendocument:jOpenDocument:1.3. Sheet.getUsedRange() works too slowly. So you can customize the method below. For example, to pass indexRow as a parameter. \r\n\r\n    import org.jopendocument.dom.spreadsheet.Cell;\r\n    import org.jopendocument.dom.spreadsheet.Range;\r\n    import org.jopendocument.dom.spreadsheet.Sheet;\r\n    /**\r\n     * Find used range\r\n     * @return Range or null if it wasn&#39;t detected\r\n     */\r\n    private Range findUsedRange(Sheet sheet) {\r\n        int rowIndexStart = -1;\r\n        int cellIndexStart = -1;\r\n        int rowIndexEnd = -1;\r\n        int cellIndexEnd = -1;\r\n        // Size 4096 was taken at random. The larger the size, the slower the method works\r\n        for (int indexRow = 0; indexRow &lt; 4096; indexRow++) {\r\n            for (int indexCell = 0; indexCell &lt; sheet.getColumnCount(); indexCell++) {\r\n                Cell&lt;?&gt; cell = sheet.getImmutableCellAt(indexCell, indexRow);\r\n                if (cell == null)\r\n                    continue;\r\n                if (!cell.isEmpty()) {\r\n                    if (cellIndexStart &lt; 0 || indexCell &lt; cellIndexStart)\r\n                        cellIndexStart = indexCell;\r\n                    if (rowIndexStart &lt; 0 || indexRow &lt; rowIndexStart)\r\n                        rowIndexStart = indexRow;\r\n                    if (cellIndexEnd &lt; 0 || indexCell &gt; cellIndexEnd)\r\n                        cellIndexEnd = indexCell;\r\n                    if (rowIndexEnd &lt; 0 || indexRow &gt; rowIndexEnd)\r\n                        rowIndexEnd = indexRow;\r\n                }\r\n            }\r\n        }\r\n        if (rowIndexStart == -1 || cellIndexStart == -1 || rowIndexEnd == -1 || cellIndexEnd == -1)\r\n            return null;\r\n        return new Range(sheet.getName(), new Point(cellIndexStart, rowIndexStart), new Point(cellIndexEnd, rowIndexEnd));\r\n    }\r\n","title":"JOpenDocument: problems with blank rows and cells","body":"<p>In org.jopendocument:jOpenDocument:1.3. Sheet.getUsedRange() works too slowly. So you can customize the method below. For example, to pass indexRow as a parameter.</p>\n<pre><code>import org.jopendocument.dom.spreadsheet.Cell;\nimport org.jopendocument.dom.spreadsheet.Range;\nimport org.jopendocument.dom.spreadsheet.Sheet;\n/**\n * Find used range\n * @return Range or null if it wasn't detected\n */\nprivate Range findUsedRange(Sheet sheet) {\n    int rowIndexStart = -1;\n    int cellIndexStart = -1;\n    int rowIndexEnd = -1;\n    int cellIndexEnd = -1;\n    // Size 4096 was taken at random. The larger the size, the slower the method works\n    for (int indexRow = 0; indexRow &lt; 4096; indexRow++) {\n        for (int indexCell = 0; indexCell &lt; sheet.getColumnCount(); indexCell++) {\n            Cell&lt;?&gt; cell = sheet.getImmutableCellAt(indexCell, indexRow);\n            if (cell == null)\n                continue;\n            if (!cell.isEmpty()) {\n                if (cellIndexStart &lt; 0 || indexCell &lt; cellIndexStart)\n                    cellIndexStart = indexCell;\n                if (rowIndexStart &lt; 0 || indexRow &lt; rowIndexStart)\n                    rowIndexStart = indexRow;\n                if (cellIndexEnd &lt; 0 || indexCell &gt; cellIndexEnd)\n                    cellIndexEnd = indexCell;\n                if (rowIndexEnd &lt; 0 || indexRow &gt; rowIndexEnd)\n                    rowIndexEnd = indexRow;\n            }\n        }\n    }\n    if (rowIndexStart == -1 || cellIndexStart == -1 || rowIndexEnd == -1 || cellIndexEnd == -1)\n        return null;\n    return new Range(sheet.getName(), new Point(cellIndexStart, rowIndexStart), new Point(cellIndexEnd, rowIndexEnd));\n}\n</code></pre>\n"}],"owner":{"account_id":8802584,"reputation":103,"user_id":6612552,"display_name":"Mexoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44662892,"answer_count":2,"score":0,"last_activity_date":1697201425,"creation_date":1469007785,"question_id":38477727,"body_markdown":"I have a problem when I parse .ods file with [JOpenDocument][1] . There are three rows and four columns in my file, but when I parse this file I get 1024 columns and too many rows. There are many blank cells. &lt;br&gt;\r\nI opened this .ods file like xml and it didn&#39;t have many lines.&lt;br&gt;\r\nAnd I couldn&#39;t find method for check empty cell in JOpenDocument API.&lt;br&gt;&lt;br&gt;\r\nHere is my code where I create row with data:\r\n\r\n    ArrayList rowData = new ArrayList();\r\n    int countCol = sheet.getColumnCount();\r\n\r\n    for (int i = 0; i &lt; countCol; i++) {\r\n        rowData.add(getCellData(sheet.getName(), num, i));\r\n    }\r\n\r\nHow can I fix this problem? Maybe I have to change library?\r\n\r\n\r\n  [1]: http://www.jopendocument.org","title":"JOpenDocument: problems with blank rows and cells","body":"<p>I have a problem when I parse .ods file with <a href=\"http://www.jopendocument.org\" rel=\"nofollow\">JOpenDocument</a> . There are three rows and four columns in my file, but when I parse this file I get 1024 columns and too many rows. There are many blank cells. <br>\nI opened this .ods file like xml and it didn't have many lines.<br>\nAnd I couldn't find method for check empty cell in JOpenDocument API.<br><br>\nHere is my code where I create row with data:</p>\n\n<pre><code>ArrayList rowData = new ArrayList();\nint countCol = sheet.getColumnCount();\n\nfor (int i = 0; i &lt; countCol; i++) {\n    rowData.add(getCellData(sheet.getName(), num, i));\n}\n</code></pre>\n\n<p>How can I fix this problem? Maybe I have to change library?</p>\n"},{"tags":["java","android","achartengine"],"answers":[{"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384803805,"creation_date":1384803805,"answer_id":20056372,"question_id":19488342,"body_markdown":"The solution is to not add the 0 values. If you do add them then they exist and they must be displayed.\r\n\r\n","title":"Android AChartEngine - How to hide display of value when pie chart slice is 0%","body":"<p>The solution is to not add the 0 values. If you do add them then they exist and they must be displayed.</p>\n"}],"owner":{"account_id":3466611,"reputation":1,"user_id":2901965,"display_name":"user2901965"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697200808,"creation_date":1382339958,"question_id":19488342,"body_markdown":"Am working on an Android App which displays a piechart using AChartEngine. The piechart displays 8 different values. Sometimes one of the value is 100% and the rest are 0%. In such a case, seven 0% values are displayed on the pie chart. This doesn&#39;t look nice as you can see here:\r\n\r\n[![here][1]][1]  \n&lt;sub&gt;(source: [zoho.com](https://docs.zoho.com/viewembeddoc.do?docId=o319t178cd6596bd94d8abd9bbb3e8074b823&amp;ftype=image&amp;filename=piechart_screenshot.png&amp;imgWidth=770&amp;imgHeight=515&amp;version=1.0))&lt;/sub&gt;  \n\r\n\r\nHow do I prevent display of the value when it is 0% ?\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3wK9a.png","title":"Android AChartEngine - How to hide display of value when pie chart slice is 0%","body":"<p>Am working on an Android App which displays a piechart using AChartEngine. The piechart displays 8 different values. Sometimes one of the value is 100% and the rest are 0%. In such a case, seven 0% values are displayed on the pie chart. This doesn't look nice as you can see here:</p>\n<p><a href=\"https://i.stack.imgur.com/3wK9a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wK9a.png\" alt=\"here\" /></a><br />\n<sub>(source: <a href=\"https://docs.zoho.com/viewembeddoc.do?docId=o319t178cd6596bd94d8abd9bbb3e8074b823&amp;ftype=image&amp;filename=piechart_screenshot.png&amp;imgWidth=770&amp;imgHeight=515&amp;version=1.0\" rel=\"nofollow noreferrer\">zoho.com</a>)</sub></p>\n<p>How do I prevent display of the value when it is 0% ?</p>\n"},{"tags":["java","apache","jms","activemq","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":1528164,"reputation":906,"user_id":1426079,"display_name":"Brinnis"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1395847822,"creation_date":1375798867,"answer_id":18082833,"question_id":18082404,"body_markdown":"I believe your problem is there is already something running on port 61616.  (It could be another instance of ActiveMQ you started on accident). \r\n\r\nYou can change the port for ActiveMQ in the activemq.xml file.  Just do a find on 61616 and replace it with the port you would like to use (it should be in the `&lt;transportConnector&gt;` tag with the name `openwire`).\r\n\r\nYou do not have to install ActiveMQ, simply launch `activemq.bat` in the bin folder to start the standalone service.","title":"How can I change default port number of Activemq","body":"<p>I believe your problem is there is already something running on port 61616.  (It could be another instance of ActiveMQ you started on accident). </p>\n\n<p>You can change the port for ActiveMQ in the activemq.xml file.  Just do a find on 61616 and replace it with the port you would like to use (it should be in the <code>&lt;transportConnector&gt;</code> tag with the name <code>openwire</code>).</p>\n\n<p>You do not have to install ActiveMQ, simply launch <code>activemq.bat</code> in the bin folder to start the standalone service.</p>\n"},{"tags":[],"owner":{"account_id":7583456,"reputation":305,"user_id":5753409,"display_name":"ajpieri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697200755,"creation_date":1697123551,"answer_id":77281844,"question_id":18082404,"body_markdown":"In the bin folder, there is an activemq.bat file. Just run that like so\r\n\r\n    activemq.bat start broker:tcp//&lt;ipAddres&gt;:&lt;desiredPort&gt;\r\n    example: activemq.bat start broker:tcp//localhost:61617","title":"How can I change default port number of Activemq","body":"<p>In the bin folder, there is an activemq.bat file. Just run that like so</p>\n<pre><code>activemq.bat start broker:tcp//&lt;ipAddres&gt;:&lt;desiredPort&gt;\nexample: activemq.bat start broker:tcp//localhost:61617\n</code></pre>\n"}],"owner":{"account_id":3122922,"reputation":1117,"user_id":2642355,"accept_rate":35,"display_name":"Hanumath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39643,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":18082833,"answer_count":2,"score":14,"last_activity_date":1697200755,"creation_date":1375797776,"question_id":18082404,"body_markdown":"I am using `Windows 7` OS. I downloaded `apache-activemq-5.8.0.zip` from these [Link][1] and extracted in `C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0` directory.\r\n\r\nWhile `Activemq` initialization time I read `Pre-Installation Requirements` concept from these [Link][2].\r\n\r\nI already installed `apache-maven-3.0.5` in my system.For my conformation I run the following command in my system.\r\n\r\n       mvn -version\r\nI am getting the following message,So `Maven` is installed successfully.\r\n\r\n     Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 19:21:\r\n     28+0530)\r\n     Maven home: P:\\Software\\apache-maven-3.0.5\r\n     Java version: 1.7.0_21, vendor: Oracle Corporation\r\n     Java home: C:\\Program Files\\Java\\jdk1.7.0_21\\jre\r\n     Default locale: en_US, platform encoding: Cp1252\r\n     OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot; \r\n\r\nI downloaded `geronimo-spec-corba-1.0.jar` from these [Link][3] and set `classpth`.\r\n\r\n  ![enter image description here][4]\r\n\r\nI started `Activemq` initialization in the following way.\r\n\r\n      C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0\\bin&gt;activemq\r\nI am getting error,So I tested whether `61616(Activemq default port no)` is in active with the following statement.\r\n\r\n      C:\\Users\\Infratab Bangalore&gt;netstat -an|find &quot;61616&quot;\r\n       TCP    0.0.0.0:61616          0.0.0.0:0              LISTENING\r\n       TCP    [::]:61616             [::]:0                 LISTENING\r\n\r\nFinally I understand `61616` port is active so I want to change my port number.\r\n\r\n1. Am I right, what I am thinking?\r\n\r\n2. How can I install `Activemq`.\r\n\r\nThanks.\r\n\r\n     \r\n\r\n\r\n  [1]: http://activemq.apache.org/activemq-580-release.html\r\n  [2]: http://activemq.apache.org/getting-started.html#GettingStarted-TestingtheInstallation\r\n  [3]: http://people.apache.org/repository/geronimo-spec/jars/\r\n  [4]: http://i.stack.imgur.com/E8xFK.jpg","title":"How can I change default port number of Activemq","body":"<p>I am using <code>Windows 7</code> OS. I downloaded <code>apache-activemq-5.8.0.zip</code> from these <a href=\"http://activemq.apache.org/activemq-580-release.html\" rel=\"noreferrer\">Link</a> and extracted in <code>C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0</code> directory.</p>\n\n<p>While <code>Activemq</code> initialization time I read <code>Pre-Installation Requirements</code> concept from these <a href=\"http://activemq.apache.org/getting-started.html#GettingStarted-TestingtheInstallation\" rel=\"noreferrer\">Link</a>.</p>\n\n<p>I already installed <code>apache-maven-3.0.5</code> in my system.For my conformation I run the following command in my system.</p>\n\n<pre><code>   mvn -version\n</code></pre>\n\n<p>I am getting the following message,So <code>Maven</code> is installed successfully.</p>\n\n<pre><code> Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 19:21:\n 28+0530)\n Maven home: P:\\Software\\apache-maven-3.0.5\n Java version: 1.7.0_21, vendor: Oracle Corporation\n Java home: C:\\Program Files\\Java\\jdk1.7.0_21\\jre\n Default locale: en_US, platform encoding: Cp1252\n OS name: \"windows 7\", version: \"6.1\", arch: \"x86\", family: \"windows\" \n</code></pre>\n\n<p>I downloaded <code>geronimo-spec-corba-1.0.jar</code> from these <a href=\"http://people.apache.org/repository/geronimo-spec/jars/\" rel=\"noreferrer\">Link</a> and set <code>classpth</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/E8xFK.jpg\" alt=\"enter image description here\"></p>\n\n<p>I started <code>Activemq</code> initialization in the following way.</p>\n\n<pre><code>  C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0\\bin&gt;activemq\n</code></pre>\n\n<p>I am getting error,So I tested whether <code>61616(Activemq default port no)</code> is in active with the following statement.</p>\n\n<pre><code>  C:\\Users\\Infratab Bangalore&gt;netstat -an|find \"61616\"\n   TCP    0.0.0.0:61616          0.0.0.0:0              LISTENING\n   TCP    [::]:61616             [::]:0                 LISTENING\n</code></pre>\n\n<p>Finally I understand <code>61616</code> port is active so I want to change my port number.</p>\n\n<ol>\n<li><p>Am I right, what I am thinking?</p></li>\n<li><p>How can I install <code>Activemq</code>.</p></li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["java","inheritance","reflection"],"comments":[{"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"score":0,"creation_date":1697203455,"post_id":77287696,"comment_id":136254012,"body_markdown":"You are calling `myFields[i].setAccessible(true);` in the loop for the superclass&#39; fields, maybe it is just a typo?","body":"You are calling <code>myFields[i].setAccessible(true);</code> in the loop for the superclass&#39; fields, maybe it is just a typo?"},{"owner":{"account_id":18853078,"reputation":13,"user_id":13751739,"display_name":"NoBeardNoParty"},"score":0,"creation_date":1697207818,"post_id":77287696,"comment_id":136254898,"body_markdown":"Wow I can&#39;t believe it man that was indeed the problem thanks a bunch","body":"Wow I can&#39;t believe it man that was indeed the problem thanks a bunch"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697211019,"post_id":77287696,"comment_id":136255623,"body_markdown":"You should be aware that classes can have fields with the same name. And that letting Reflection determine the persistent format is a bad idea in general. This will break on the slightest changes of the classes’ internals.","body":"You should be aware that classes can have fields with the same name. And that letting Reflection determine the persistent format is a bad idea in general. This will break on the slightest changes of the classes’ internals."}],"owner":{"account_id":18853078,"reputation":13,"user_id":13751739,"display_name":"NoBeardNoParty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697200026,"creation_date":1697199746,"question_id":77287696,"body_markdown":"I&#39;m facing an issue while trying to use Java reflection.\r\n\r\nI have a PermanentObject class, that implements a general method to turn an object into a JSON string (the syntax is not yet completely implemented so glide past it)\r\n\r\nThis is the code of the method:\r\n\r\n```\r\n@Override\r\npublic String toFileFormat() {\r\n        String info = &quot;&quot;;\r\n        \r\n        try {\r\n            \r\n            Class myClass = this.getClass();\r\n            Class mySuperclass = myClass.getSuperclass();\r\n            Field[] superclassFields = mySuperclass.getDeclaredFields();\r\n            Field[] myFields = myClass.getDeclaredFields();\r\n            \r\n            info += &quot;{\\n&quot;;\r\n            \r\n            for (int i = 0; i &lt; superclassFields.length; i++) {\r\n                myFields[i].setAccessible(true);\r\n                info += &quot;\\&quot;&quot; + superclassFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + superclassFields[i].get(this) + &quot;\\&quot;,\\n&quot;;\r\n            }\r\n            \r\n            for (int i = 0; i &lt; myFields.length; i++) {\r\n                myFields[i].setAccessible(true);\r\n                info += &quot;\\&quot;&quot; + myFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + myFields[i].get(this) + &quot;\\&quot;&quot;;\r\n                if (i &lt; myFields.length - 1) info += &quot;,&quot;;\r\n                info += &quot;\\n&quot;;\r\n            }\r\n            \r\n            info += &quot;}&quot;;\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return info;\r\n}\r\n```\r\n\r\nI then have a User abstract subclass that extends PermanentObject, and a Professor subclass that extends User.\r\n\r\nWhen invoking the method tho I get this error:\r\n`java.lang.IllegalAccessException: class esercizio2.permanence.PermanentObject cannot access a member of class esercizio2.logic.users.User with modifiers &quot;private&quot;`\r\n\r\nI was wondering why this is\r\n\r\nI can solve the problem by implementing the method in the User class rather than in the PermanentObject class, but this leads to duplication of code since there are other PermanentObject subclasses that will need to use this.\r\n\r\nThanks for the help :&gt;","title":"Java: reflection on grandchild class attributes","body":"<p>I'm facing an issue while trying to use Java reflection.</p>\n<p>I have a PermanentObject class, that implements a general method to turn an object into a JSON string (the syntax is not yet completely implemented so glide past it)</p>\n<p>This is the code of the method:</p>\n<pre><code>@Override\npublic String toFileFormat() {\n        String info = &quot;&quot;;\n        \n        try {\n            \n            Class myClass = this.getClass();\n            Class mySuperclass = myClass.getSuperclass();\n            Field[] superclassFields = mySuperclass.getDeclaredFields();\n            Field[] myFields = myClass.getDeclaredFields();\n            \n            info += &quot;{\\n&quot;;\n            \n            for (int i = 0; i &lt; superclassFields.length; i++) {\n                myFields[i].setAccessible(true);\n                info += &quot;\\&quot;&quot; + superclassFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + superclassFields[i].get(this) + &quot;\\&quot;,\\n&quot;;\n            }\n            \n            for (int i = 0; i &lt; myFields.length; i++) {\n                myFields[i].setAccessible(true);\n                info += &quot;\\&quot;&quot; + myFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + myFields[i].get(this) + &quot;\\&quot;&quot;;\n                if (i &lt; myFields.length - 1) info += &quot;,&quot;;\n                info += &quot;\\n&quot;;\n            }\n            \n            info += &quot;}&quot;;\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        return info;\n}\n</code></pre>\n<p>I then have a User abstract subclass that extends PermanentObject, and a Professor subclass that extends User.</p>\n<p>When invoking the method tho I get this error:\n<code>java.lang.IllegalAccessException: class esercizio2.permanence.PermanentObject cannot access a member of class esercizio2.logic.users.User with modifiers &quot;private&quot;</code></p>\n<p>I was wondering why this is</p>\n<p>I can solve the problem by implementing the method in the User class rather than in the PermanentObject class, but this leads to duplication of code since there are other PermanentObject subclasses that will need to use this.</p>\n<p>Thanks for the help :&gt;</p>\n"},{"tags":["java","android","kotlin","gradle","google-play"],"owner":{"account_id":10925292,"reputation":1,"user_id":8030184,"display_name":"sahar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697199561,"creation_date":1697189589,"question_id":77286625,"body_markdown":"I am trying to upload a new version of my Android app to the Google Play Store. The previous version had a **version code of 15 and app version in 2.1.12**, and I am attempting to release **version 2.1.13 with a version code of 16** in my app&#39;s build.gradle file. However, I&#39;m encountering an error that says, `Version code 8 has already been used. Try another version code.`\r\n\r\n    android {\r\n\r\n    defaultConfig {\r\n        compileSdk 34\r\n        applicationId &quot;com.google.www&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 34\r\n        versionCode 16\r\n        versionName &quot;2.1.13&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    namespace &#39;com.google.www&#39;\r\n    }\r\n\r\ngoogle play store version\r\n[Google Play Store version code](https://i.stack.imgur.com/ZEIXa.png)\r\n\r\nIs there anything I should check or configure to resolve this version code conflict error? Any advice or guidance would be greatly appreciated.\r\n\r\nI have confirmed that my app&#39;s build.gradle file specifies the correct version code of `16`, and there are no conflicting version codes in my project&#39;s libraries or modules. I have also cleared the cache and tried on different devices, but the issue persists.","title":"Google Play Store version code conflict error when uploading new Android app version?","body":"<p>I am trying to upload a new version of my Android app to the Google Play Store. The previous version had a <strong>version code of 15 and app version in 2.1.12</strong>, and I am attempting to release <strong>version 2.1.13 with a version code of 16</strong> in my app's build.gradle file. However, I'm encountering an error that says, <code>Version code 8 has already been used. Try another version code.</code></p>\n<pre><code>android {\n\ndefaultConfig {\n    compileSdk 34\n    applicationId &quot;com.google.www&quot;\n    minSdkVersion 24\n    targetSdkVersion 34\n    versionCode 16\n    versionName &quot;2.1.13&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\nnamespace 'com.google.www'\n}\n</code></pre>\n<p>google play store version\n<a href=\"https://i.stack.imgur.com/ZEIXa.png\" rel=\"nofollow noreferrer\">Google Play Store version code</a></p>\n<p>Is there anything I should check or configure to resolve this version code conflict error? Any advice or guidance would be greatly appreciated.</p>\n<p>I have confirmed that my app's build.gradle file specifies the correct version code of <code>16</code>, and there are no conflicting version codes in my project's libraries or modules. I have also cleared the cache and tried on different devices, but the issue persists.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697199051,"creation_date":1697198688,"answer_id":77287571,"question_id":77287044,"body_markdown":"Judging from the code you provided, it looks like you are trying to get the reaction in codepoint notation. You can [`ReactionEmote#getAsCodepoints`][1] do do this. Example:\r\n\r\n    @Override\r\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\r\n        String codepoints = event.getReactionEmote().getAsCodepoints();\r\n        String answer;\r\n\r\n        switch(codepoints) {\r\n            case &quot;U+1F600&quot;:\r\n                answer = &quot;one&quot;;\r\n                break;\r\n            case &quot;U+1F601&quot;: \r\n                answer = &quot;two&quot;;\r\n                break;\r\n            case &quot;U+1F60D&quot;:\r\n                answer = &quot;three&quot;;\r\n                break;\r\n            case &quot;U+1F62D&quot;:\r\n                answer = &quot;four&quot;;\r\n                break;\r\n            default:\r\n                answer = &quot;nothing&quot;\r\n                break;\r\n        }    \r\n    \r\n        // ...\r\n    }\r\n\r\nKeep in mind that `getAsCodepoints` can throw an IllegalStateException if the reaction is not a valid UTF-8 character (e.i. a custom server emote). You may want to use escaped unicode characters instead of codepoints and stick with [`ReactionEmote#getAsReactionCode`][2], as this does not throw any exceptions and would seem to work best in this context. Example:\r\n\r\n    @Override\r\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\r\n        String reaction = event.getReaction().getEmoji().getAsReactionCode();\r\n        String answer;\r\n        \r\n        switch(codepoints) {\r\n            case &quot;\\uD83D\\uDE00&quot;:\r\n                answer = &quot;one&quot;;\r\n                break;\r\n            case &quot;\\uD83D\\uDE01&quot;: \r\n                answer = &quot;two&quot;;\r\n                break;\r\n            case &quot;\\uD83D\\uDE0D&quot;:\r\n                answer = &quot;three&quot;;\r\n                break;\r\n            case &quot;\\uD83D\\uDE2D&quot;:\r\n                answer = &quot;four&quot;;\r\n                break;\r\n            default:\r\n                answer = &quot;nothing&quot;\r\n                break;\r\n        }    \r\n    \r\n        // ...\r\n    }\r\n\r\nI like to use the website [fileformat.info][3] when dealing with Java and unicode because it has an **Encodings** table which lists a `C/C++/Java source code` column.\r\n\r\nNote on `?`\r\n---\r\n---\r\n\r\nIf you are using a terminal that is not configured to use UTF-8 (such as out-of-the-box Eclipse), then unicode characters will be displayed as `?`.\r\n\r\nYou can configure the Eclipse console to use UTF-8 encoding by going to **Run** &gt; **Run Configurations**, selecting the configuration for your. application, then going to the **Common** tab and setting **Encoding** to UTF-8:\r\n\r\n[![run configurations][4]][4]\r\n\r\n\r\n  [1]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsCodepoints()\r\n  [2]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsReactionCode()\r\n  [3]: https://www.fileformat.info/info/unicode/\r\n  [4]: https://i.stack.imgur.com/kKc4T.png","title":"JDA getReaction().getEmoji().getAsReactionCode() not returning unicode emoji","body":"<p>Judging from the code you provided, it looks like you are trying to get the reaction in codepoint notation. You can <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsCodepoints()\" rel=\"nofollow noreferrer\"><code>ReactionEmote#getAsCodepoints</code></a> do do this. Example:</p>\n<pre><code>@Override\npublic void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\n    String codepoints = event.getReactionEmote().getAsCodepoints();\n    String answer;\n\n    switch(codepoints) {\n        case &quot;U+1F600&quot;:\n            answer = &quot;one&quot;;\n            break;\n        case &quot;U+1F601&quot;: \n            answer = &quot;two&quot;;\n            break;\n        case &quot;U+1F60D&quot;:\n            answer = &quot;three&quot;;\n            break;\n        case &quot;U+1F62D&quot;:\n            answer = &quot;four&quot;;\n            break;\n        default:\n            answer = &quot;nothing&quot;\n            break;\n    }    \n\n    // ...\n}\n</code></pre>\n<p>Keep in mind that <code>getAsCodepoints</code> can throw an IllegalStateException if the reaction is not a valid UTF-8 character (e.i. a custom server emote). You may want to use escaped unicode characters instead of codepoints and stick with <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsReactionCode()\" rel=\"nofollow noreferrer\"><code>ReactionEmote#getAsReactionCode</code></a>, as this does not throw any exceptions and would seem to work best in this context. Example:</p>\n<pre><code>@Override\npublic void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\n    String reaction = event.getReaction().getEmoji().getAsReactionCode();\n    String answer;\n    \n    switch(codepoints) {\n        case &quot;\\uD83D\\uDE00&quot;:\n            answer = &quot;one&quot;;\n            break;\n        case &quot;\\uD83D\\uDE01&quot;: \n            answer = &quot;two&quot;;\n            break;\n        case &quot;\\uD83D\\uDE0D&quot;:\n            answer = &quot;three&quot;;\n            break;\n        case &quot;\\uD83D\\uDE2D&quot;:\n            answer = &quot;four&quot;;\n            break;\n        default:\n            answer = &quot;nothing&quot;\n            break;\n    }    \n\n    // ...\n}\n</code></pre>\n<p>I like to use the website <a href=\"https://www.fileformat.info/info/unicode/\" rel=\"nofollow noreferrer\">fileformat.info</a> when dealing with Java and unicode because it has an <strong>Encodings</strong> table which lists a <code>C/C++/Java source code</code> column.</p>\n<h2>Note on <code>?</code></h2>\n<hr />\n<p>If you are using a terminal that is not configured to use UTF-8 (such as out-of-the-box Eclipse), then unicode characters will be displayed as <code>?</code>.</p>\n<p>You can configure the Eclipse console to use UTF-8 encoding by going to <strong>Run</strong> &gt; <strong>Run Configurations</strong>, selecting the configuration for your. application, then going to the <strong>Common</strong> tab and setting <strong>Encoding</strong> to UTF-8:</p>\n<p><a href=\"https://i.stack.imgur.com/kKc4T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKc4T.png\" alt=\"run configurations\" /></a></p>\n"}],"owner":{"account_id":29663365,"reputation":13,"user_id":22734468,"display_name":"Claradcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77287571,"answer_count":1,"score":1,"last_activity_date":1697199051,"creation_date":1697193290,"question_id":77287044,"body_markdown":"I&#39;m trying to make a bot that when reacted to a message with some emojis it will post a slightly different message.\r\n\r\nBut seems that the method is not returning the unicode for those emojis, I placed a System.out.println but the only thing that seems to be returning is ? (alongside a unknown symbol according to debugger) anyone can help with it?\r\n\r\n```\r\npublic class EmoteReactControler extends ListenerAdapter {\r\n    @Override\r\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\r\n        String reaction = event.getReaction().getEmoji().getAsReactionCode();\r\n        User userReacted = event.getUser();\r\n        Channel channel = event.getChannel();\r\n        String channelMention = channel.getAsMention();\r\n        String jumpLink = event.getJumpUrl();\r\n        String answer = &quot;nothing&quot;;\r\n        System.out.println(reaction);\r\n        if ( reaction.equals(&quot;U+1F600&quot;)) {\r\n            answer = &quot;one&quot;;\r\n        } else if (reaction.equals(&quot;U+1F601&quot;)) {\r\n            answer = &quot;two&quot;;\r\n        } else if (reaction.equals(&quot;U+1F60D&quot;)) {\r\n            answer = &quot;three&quot;;\r\n        } else if (reaction.equals(&quot;U+1F62D&quot;)){\r\n            answer = &quot;four&quot;;\r\n        }\r\n\r\n        String message = userReacted.getName() + &quot; did &quot; + answer + &quot; see here: &quot; + jumpLink + &quot; in &quot; + channelMention;\r\n        event.getGuild().getTextChannelById(channel.getId()).sendMessage(message).queue();\r\n    }\r\n}\r\n```","title":"JDA getReaction().getEmoji().getAsReactionCode() not returning unicode emoji","body":"<p>I'm trying to make a bot that when reacted to a message with some emojis it will post a slightly different message.</p>\n<p>But seems that the method is not returning the unicode for those emojis, I placed a System.out.println but the only thing that seems to be returning is ? (alongside a unknown symbol according to debugger) anyone can help with it?</p>\n<pre><code>public class EmoteReactControler extends ListenerAdapter {\n    @Override\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\n        String reaction = event.getReaction().getEmoji().getAsReactionCode();\n        User userReacted = event.getUser();\n        Channel channel = event.getChannel();\n        String channelMention = channel.getAsMention();\n        String jumpLink = event.getJumpUrl();\n        String answer = &quot;nothing&quot;;\n        System.out.println(reaction);\n        if ( reaction.equals(&quot;U+1F600&quot;)) {\n            answer = &quot;one&quot;;\n        } else if (reaction.equals(&quot;U+1F601&quot;)) {\n            answer = &quot;two&quot;;\n        } else if (reaction.equals(&quot;U+1F60D&quot;)) {\n            answer = &quot;three&quot;;\n        } else if (reaction.equals(&quot;U+1F62D&quot;)){\n            answer = &quot;four&quot;;\n        }\n\n        String message = userReacted.getName() + &quot; did &quot; + answer + &quot; see here: &quot; + jumpLink + &quot; in &quot; + channelMention;\n        event.getGuild().getTextChannelById(channel.getId()).sendMessage(message).queue();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","jasper-reports","jaspersoft-studio"],"comments":[{"owner":{"account_id":6534609,"reputation":149,"user_id":5054651,"accept_rate":0,"display_name":"diegoqueres"},"score":0,"creation_date":1508261286,"post_id":46560906,"comment_id":80538304,"body_markdown":"I would like to know that too.","body":"I would like to know that too."}],"answers":[{"comments":[{"owner":{"account_id":8191881,"reputation":195,"user_id":6165885,"display_name":"Mikel"},"score":0,"creation_date":1542887147,"post_id":53284486,"comment_id":93734469,"body_markdown":"Lot of Thanks!! I got a question, you know if this plugin works correctly? Latests versions of jaspersoft works fine and some plugins in eclipse does&#180;t.","body":"Lot of Thanks!! I got a question, you know if this plugin works correctly? Latests versions of jaspersoft works fine and some plugins in eclipse does&#180;t."},{"owner":{"account_id":3145307,"reputation":386,"user_id":2659894,"accept_rate":33,"display_name":"iaL"},"score":1,"creation_date":1542967839,"post_id":53284486,"comment_id":93762117,"body_markdown":"@Mikel I&#39;m currently using the above plugin which has following version:\n&#39;Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0&#39;.\nThis works fine with my STS (Version: 4.0.1.RELEASE). Hopefully this should work for your eclipse version.","body":"@Mikel I&#39;m currently using the above plugin which has following version: &#39;Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0&#39;. This works fine with my STS (Version: 4.0.1.RELEASE). Hopefully this should work for your eclipse version."},{"owner":{"account_id":8191881,"reputation":195,"user_id":6165885,"display_name":"Mikel"},"score":0,"creation_date":1543219441,"post_id":53284486,"comment_id":93823752,"body_markdown":"Thans for the info!!","body":"Thans for the info!!"}],"tags":[],"owner":{"account_id":3145307,"reputation":386,"user_id":2659894,"accept_rate":33,"display_name":"iaL"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542123529,"creation_date":1542123529,"answer_id":53284486,"question_id":46560906,"body_markdown":"I too faced similar issue.\r\nSince maven (M2Eclipse) needs other dependent tools to function like WTP etc (you can see those in error log details), I figured it would be more time-consuming in finding all those dependencies &amp; install them.\r\n\r\nUltimately, I installed jaspersoft plugin into my eclipse.\r\n\r\nFrom the following link, you can install jaspersoft plugin from into your eclipse by drag-drop of the install button on your eclipse platform.\r\n\r\n[https://marketplace.eclipse.org/content/jaspersoft-studio][1]\r\n\r\nOr you can find it in eclipse marketplace &amp; install it from there.\r\n\r\nI installed it on STS. And it installed successfully.\r\n\r\nHope, someone finds this useful.\r\n\r\n  [1]: https://marketplace.eclipse.org/content/jaspersoft-studio","title":"How to configure Maven in Jaspersoft Studio?","body":"<p>I too faced similar issue.\nSince maven (M2Eclipse) needs other dependent tools to function like WTP etc (you can see those in error log details), I figured it would be more time-consuming in finding all those dependencies &amp; install them.</p>\n\n<p>Ultimately, I installed jaspersoft plugin into my eclipse.</p>\n\n<p>From the following link, you can install jaspersoft plugin from into your eclipse by drag-drop of the install button on your eclipse platform.</p>\n\n<p><a href=\"https://marketplace.eclipse.org/content/jaspersoft-studio\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/jaspersoft-studio</a></p>\n\n<p>Or you can find it in eclipse marketplace &amp; install it from there.</p>\n\n<p>I installed it on STS. And it installed successfully.</p>\n\n<p>Hope, someone finds this useful.</p>\n"},{"tags":[],"owner":{"account_id":1317626,"reputation":187,"user_id":1264157,"accept_rate":50,"display_name":"Tulshiram Pawde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697198960,"creation_date":1697198960,"answer_id":77287606,"question_id":46560906,"body_markdown":"Install the Maven plugin in Jaspersoft Studio v6.20.6\r\n\r\nOpen &quot;Jaspersoft Studio&quot; &gt; Go to the &quot;Help&quot; Menu &gt; &quot;Install New Software&quot;\r\n1. Select &quot;All Available Sites&quot; (or search specific) -&gt; It will display the result below\r\n2. type filter text as &quot;m2e&quot;\r\n3. Select &quot;Maven Integration for Eclipse&quot; &amp; &quot;Maven integration for WTP&quot;\r\n4. Continue further installation \r\n\r\nRefer image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDownload Jaspersoft Studio: https://community.jaspersoft.com/project/jaspersoft-studio/releases\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFmFG.png","title":"How to configure Maven in Jaspersoft Studio?","body":"<p>Install the Maven plugin in Jaspersoft Studio v6.20.6</p>\n<p>Open &quot;Jaspersoft Studio&quot; &gt; Go to the &quot;Help&quot; Menu &gt; &quot;Install New Software&quot;</p>\n<ol>\n<li>Select &quot;All Available Sites&quot; (or search specific) -&gt; It will display the result below</li>\n<li>type filter text as &quot;m2e&quot;</li>\n<li>Select &quot;Maven Integration for Eclipse&quot; &amp; &quot;Maven integration for WTP&quot;</li>\n<li>Continue further installation</li>\n</ol>\n<p>Refer image</p>\n<p><a href=\"https://i.stack.imgur.com/ZFmFG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFmFG.png\" alt=\"enter image description here\" /></a></p>\n<p>Download Jaspersoft Studio: <a href=\"https://community.jaspersoft.com/project/jaspersoft-studio/releases\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/project/jaspersoft-studio/releases</a></p>\n"}],"owner":{"account_id":8191881,"reputation":195,"user_id":6165885,"display_name":"Mikel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1697198960,"creation_date":1507107653,"question_id":46560906,"body_markdown":"I&#39;m building a complex project that depends of various modules. For exporting to PDF I&#39;m using *JasperReport API* and for developing reports I&#39;m using Jaspersoft Studio, version 6.4.0. \r\n\r\nIn the way to avoid duplicated queries, I&#39;m sending all data via parameters to the report, the type of this parameters are custom beans. Those beans are contained in another project (This must be so, because those beans are being used in view layer of another application). When I import those beans as jar library dependency contained in a &quot;.jar&quot; file directly in *Jaspersoft Studio* project, reports compile perfectly.\r\n\r\nNow I&#39;m trying to use Maven to include this dependencies, but *Jaspersoft Studio* doesn&#39;t contain Maven libraries, and I can&#39;t do this.\r\n\r\nI&#39;ve tried install maven from repository (http://download.eclipse.org/technology/m2e/releases) but this doesn&#39;t work:\r\n\r\n&gt; Help &gt; Install new software &gt; ...\r\n\r\n[![Maven Installing ERROR][1]][1]\r\n\r\nIt tell me that require more bundles, I&#39;ve install lot of bundles manually but always require more and I don&#39;t know if this is viable.\r\n\r\nHas someone complete Maven configuration in *Jaspersoft Studio*? If so, I\r\nwould appreciate to know how. I can also use other options while using\r\nMaven to manage the dependencies\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/68OiQ.jpg","title":"How to configure Maven in Jaspersoft Studio?","body":"<p>I'm building a complex project that depends of various modules. For exporting to PDF I'm using <em>JasperReport API</em> and for developing reports I'm using Jaspersoft Studio, version 6.4.0. </p>\n\n<p>In the way to avoid duplicated queries, I'm sending all data via parameters to the report, the type of this parameters are custom beans. Those beans are contained in another project (This must be so, because those beans are being used in view layer of another application). When I import those beans as jar library dependency contained in a \".jar\" file directly in <em>Jaspersoft Studio</em> project, reports compile perfectly.</p>\n\n<p>Now I'm trying to use Maven to include this dependencies, but <em>Jaspersoft Studio</em> doesn't contain Maven libraries, and I can't do this.</p>\n\n<p>I've tried install maven from repository (<a href=\"http://download.eclipse.org/technology/m2e/releases\" rel=\"noreferrer\">http://download.eclipse.org/technology/m2e/releases</a>) but this doesn't work:</p>\n\n<blockquote>\n  <p>Help > Install new software > ...</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/68OiQ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/68OiQ.jpg\" alt=\"Maven Installing ERROR\"></a></p>\n\n<p>It tell me that require more bundles, I've install lot of bundles manually but always require more and I don't know if this is viable.</p>\n\n<p>Has someone complete Maven configuration in <em>Jaspersoft Studio</em>? If so, I\nwould appreciate to know how. I can also use other options while using\nMaven to manage the dependencies</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1697200623,"post_id":77287310,"comment_id":136253429,"body_markdown":"Just pass the call to the other method as an argument like `employee.setAddress(mapToAddress(//some condition));`","body":"Just pass the call to the other method as an argument like <code>employee.setAddress(mapToAddress(&#47;&#47;some condition));</code>"}],"answers":[{"tags":[],"owner":{"account_id":18141415,"reputation":11,"user_id":13195240,"display_name":"kdritsas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697198576,"creation_date":1697198576,"answer_id":77287563,"question_id":77287310,"body_markdown":"If I understood your question correctly, you want to add addresses to an `Employee` object. You can create a method that adds `Address` objects to your list:\r\n\r\n```java\r\npublic void addAddress(Address a) {\r\n   this.address.add(a);\r\n}\r\n```\r\nOr if you&#39;d like to add a list of addresses:\r\n\r\n```java\r\npublic void addAddresses(List&lt;Address&gt; addresses) {\r\n  this.address.addAll(addresses);\r\n}\r\n```\r\nHope it helps :) \r\n\r\n**EDIT**: If you still want to use the `setAddress` method, you could use the code above from `addAddresses(List&lt;Address&gt; addresses)`. However, that could be confusing, semantically speaking.","title":"Setting list of child objects to parent object using it&#39;s setter method","body":"<p>If I understood your question correctly, you want to add addresses to an <code>Employee</code> object. You can create a method that adds <code>Address</code> objects to your list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addAddress(Address a) {\n   this.address.add(a);\n}\n</code></pre>\n<p>Or if you'd like to add a list of addresses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addAddresses(List&lt;Address&gt; addresses) {\n  this.address.addAll(addresses);\n}\n</code></pre>\n<p>Hope it helps :)</p>\n<p><strong>EDIT</strong>: If you still want to use the <code>setAddress</code> method, you could use the code above from <code>addAddresses(List&lt;Address&gt; addresses)</code>. However, that could be confusing, semantically speaking.</p>\n"}],"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697198576,"creation_date":1697195729,"question_id":77287310,"body_markdown":"I have Employee class like this\r\n```\r\npublic class Employee{\r\n           private int id;\r\n           private List&lt;Address&gt;  address;\r\n    //getter\r\n      public List&lt;Address&gt; getAddress() {\r\n        return address;\r\n      }\r\n    //setter\r\n      public void setAddress(List&lt;Address&gt; address) {\r\n        this.address = address;\r\n      }\r\n   }\r\n```    \r\nI am getting list of address by calling other abstract methods which gets me address based on condition\r\n    \r\n    \r\n\r\n    mapToAddress(//some condition) //gets me permanent address employee\r\n    \r\n    mapTOAddress(//some condition) //gets me present address employee\r\n    \r\ni have object of Employee so i want to set this two address object to Employee using its setter method\r\n    \r\n        employee.setAddress(//what i need to write here to set the list of address objects to employee object);\r\n\r\nI need to set Address objects to Employee object using its setter method.please help me on this","title":"Setting list of child objects to parent object using it&#39;s setter method","body":"<p>I have Employee class like this</p>\n<pre><code>public class Employee{\n           private int id;\n           private List&lt;Address&gt;  address;\n    //getter\n      public List&lt;Address&gt; getAddress() {\n        return address;\n      }\n    //setter\n      public void setAddress(List&lt;Address&gt; address) {\n        this.address = address;\n      }\n   }\n</code></pre>\n<p>I am getting list of address by calling other abstract methods which gets me address based on condition</p>\n<pre><code>mapToAddress(//some condition) //gets me permanent address employee\n\nmapTOAddress(//some condition) //gets me present address employee\n</code></pre>\n<p>i have object of Employee so i want to set this two address object to Employee using its setter method</p>\n<pre><code>    employee.setAddress(//what i need to write here to set the list of address objects to employee object);\n</code></pre>\n<p>I need to set Address objects to Employee object using its setter method.please help me on this</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1697190212,"post_id":77286667,"comment_id":136251612,"body_markdown":"Two problems I see here: 1) I don&#39;t see the `@Entity` annotation being used anywhere, and 2) the `sharedField` field is boolean, so it makes no sense to compare it against a string literal.","body":"Two problems I see here: 1) I don&#39;t see the <code>@Entity</code> annotation being used anywhere, and 2) the <code>sharedField</code> field is boolean, so it makes no sense to compare it against a string literal."},{"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"score":0,"creation_date":1697193126,"post_id":77286667,"comment_id":136252126,"body_markdown":"Its pseudo code, everything is written well and i didnt actually copy code from my project i just described problem.","body":"Its pseudo code, everything is written well and i didnt actually copy code from my project i just described problem."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1697193288,"post_id":77286667,"comment_id":136252142,"body_markdown":"You will get help here for whatever code you post.  If your real code be something different, then you should have posted that.","body":"You will get help here for whatever code you post.  If your real code be something different, then you should have posted that."},{"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"score":0,"creation_date":1697195033,"post_id":77286667,"comment_id":136252454,"body_markdown":"Maybe instead of focusing on trivial things you should give some suggestion on real issue.","body":"Maybe instead of focusing on trivial things you should give some suggestion on real issue."}],"answers":[{"tags":[],"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697197862,"creation_date":1697197862,"answer_id":77287490,"question_id":77286667,"body_markdown":"@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = &#39;something&#39;)&quot;)","title":"Field from abstract class inside where clause","body":"<p>@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = 'something')&quot;)</p>\n"}],"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697197862,"creation_date":1697189958,"question_id":77286667,"body_markdown":"Hello i have following entites:\r\n\r\n\r\n```\r\nabstract Entity A {\r\n\r\nlong id;\r\n\r\nboolean sharedField;\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\nEntity B extends A {\r\n\r\nstring specificField;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;id_c&quot;)\r\nprivate C c;\r\n    \r\n}\r\n```\r\n\r\n\r\n```\r\nEntity C {\r\n\r\nlong id;\r\n\r\n@OneToMany(mappedBy = &quot;c&quot;, cascade = CascadeType.ALL)\r\n@Where(clause = &quot;sharedField = &#39;something&#39;&quot;)\r\nprivate List&lt;B&gt; bList;\r\n\r\n}\r\n```\r\n\r\nSo from Hibernate i get **Unknown column &#39;b.shared_field&#39; in &#39;where clause&#39;**\r\n\r\nNote that i have table A in my DB with id and shared_field columns, and in table B i have id (same as one in table A), id_c and specific_field.\r\n\r\nIs there some way that i could indicate to Hibernate (trough Where clause or some other way) that i only want to have only those rows from B table that meet following criteria.\r\n\r\n\r\n\r\n\r\nI tried adding NamedQuery but that didnt work.\r\n------------------------------------------------------\r\n**UPDATE**\r\n\r\nIve manged to find the way. This is @Where clause i used:\r\n```\r\n@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = &#39;something&#39;)&quot;)\r\n```\r\n  ","title":"Field from abstract class inside where clause","body":"<p>Hello i have following entites:</p>\n<pre><code>abstract Entity A {\n\nlong id;\n\nboolean sharedField;\n\n}\n</code></pre>\n<pre><code>Entity B extends A {\n\nstring specificField;\n\n@ManyToOne\n@JoinColumn(name = &quot;id_c&quot;)\nprivate C c;\n    \n}\n</code></pre>\n<pre><code>Entity C {\n\nlong id;\n\n@OneToMany(mappedBy = &quot;c&quot;, cascade = CascadeType.ALL)\n@Where(clause = &quot;sharedField = 'something'&quot;)\nprivate List&lt;B&gt; bList;\n\n}\n</code></pre>\n<p>So from Hibernate i get <strong>Unknown column 'b.shared_field' in 'where clause'</strong></p>\n<p>Note that i have table A in my DB with id and shared_field columns, and in table B i have id (same as one in table A), id_c and specific_field.</p>\n<p>Is there some way that i could indicate to Hibernate (trough Where clause or some other way) that i only want to have only those rows from B table that meet following criteria.</p>\n<h2>I tried adding NamedQuery but that didnt work.</h2>\n<p><strong>UPDATE</strong></p>\n<p>Ive manged to find the way. This is @Where clause i used:</p>\n<pre><code>@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = 'something')&quot;)\n</code></pre>\n"},{"tags":["java","log4j","cxf","slf4j","jakarta-migration"],"answers":[{"comments":[{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1697197771,"post_id":77287446,"comment_id":136252924,"body_markdown":"Then it will comes like this org.apache.cxf.services.EmployeeAPIImpl","body":"Then it will comes like this org.apache.cxf.services.EmployeeAPIImpl"}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697197468,"creation_date":1697197468,"answer_id":77287446,"question_id":77287370,"body_markdown":"You might want to use **%c** instead of *%c{2}*, as this pattern only shows the last 2 elements of the logger name.\r\n\r\nAfter the change the full class name will be displayed, something like **com.example.EmployeeAPIImpl**.\r\n\r\nGood Luck!","title":"Why Logger name prints incorrect class name &amp; How to customize that.?","body":"<p>You might want to use <strong>%c</strong> instead of <em>%c{2}</em>, as this pattern only shows the last 2 elements of the logger name.</p>\n<p>After the change the full class name will be displayed, something like <strong>com.example.EmployeeAPIImpl</strong>.</p>\n<p>Good Luck!</p>\n"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697197843,"creation_date":1697196317,"question_id":77287370,"body_markdown":"Here is my codes of LogUtils class. Which I used to format my log line. But it prints incorrect Class name in there. How to fix it.?\r\n\r\n\r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.apache.cxf.ext.logging.LoggingInInterceptor;\r\n    import org.apache.cxf.ext.logging.LoggingOutInterceptor;\r\n    import org.apache.cxf.ext.logging.event.LogEvent;\r\n    import org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender;\r\n    import org.apache.cxf.interceptor.Fault;\r\n    import org.apache.cxf.message.Message;\r\n    import org.apache.cxf.transport.http.AbstractHTTPDestination;\r\n    import org.slf4j.MDC;\r\n        public class LogUtils {\r\n        \r\n            private static final String TRACK_ID = &quot;TRACK_ID&quot;;\r\n        \r\n            public static void setLogTrackingId(Object aLogTrackingId) {\r\n                MDC.put(TRACK_ID, String.valueOf(aLogTrackingId));\r\n            }\r\n        \r\n            public static LoggingInInterceptor getLoggingInInterceptor() {\r\n                return new LoggingInInterceptor(getMsgSender()) {\r\n                    @Override\r\n                    public void handleMessage(Message message) throws Fault {\r\n                        HttpServletRequest request = (HttpServletRequest) message.get(AbstractHTTPDestination.HTTP_REQUEST);\r\n                        String logTrackingId = request.getHeader(Constants.SYS_USER_ID);\r\n                        if (StringUtils.isNotBlank(logTrackingId)) {\r\n                            setLogTrackingId(logTrackingId);\r\n                        } else {\r\n                            setLogTrackingId(String.valueOf(System.nanoTime()));\r\n                        }\r\n                        super.handleMessage(message);\r\n                    }\r\n                };\r\n            }\r\n        \r\n            private static Slf4jVerboseEventSender getMsgSender() {\r\n                return new Slf4jVerboseEventSender() {\r\n                    @Override\r\n                    protected String getLogMessage(LogEvent event) {\r\n                        event.setAddress(event.getAddress());\r\n                        event.setPayload(event.getPayload());\r\n                        return super.getLogMessage(event);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\nSo I&#39;m getting below log line in my console. but that EmployeeAPIImpl is not expected but it prints when invoke other API classes as well. (EG : when invoke departmentAPI or attendanceAPI)\r\n\r\n    01:943 INFO  xyz123456789-01 EmployeeAPIImpl.REQ_IN [HRMService-UBUNTU_PC] [123123123123] REQ_IN\r\n\r\nand here is the logger configurations on log4j\r\n\r\n    log4j.appender.A1.layout.ConversionPattern=%d{ss:SSS} %-5p %t %c{2} [%X{hrModuleName}_%X{hrModuleId}] [%X{TRACK_ID}] %m %n\r\n\r\nHow do I customize the Logger name from EmployeeAPIImpl to proper class name.?\r\n\r\n***EDIT*** When I tried with `%c` it will appear like below `org.apache.cxf.services.EmployeeApiImpl`\r\n\r\n- Thanks","title":"Why Logger name prints incorrect class name &amp; How to customize that.?","body":"<p>Here is my codes of LogUtils class. Which I used to format my log line. But it prints incorrect Class name in there. How to fix it.?</p>\n<pre><code>import org.apache.commons.lang.StringUtils;\nimport org.apache.cxf.ext.logging.LoggingInInterceptor;\nimport org.apache.cxf.ext.logging.LoggingOutInterceptor;\nimport org.apache.cxf.ext.logging.event.LogEvent;\nimport org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender;\nimport org.apache.cxf.interceptor.Fault;\nimport org.apache.cxf.message.Message;\nimport org.apache.cxf.transport.http.AbstractHTTPDestination;\nimport org.slf4j.MDC;\n    public class LogUtils {\n    \n        private static final String TRACK_ID = &quot;TRACK_ID&quot;;\n    \n        public static void setLogTrackingId(Object aLogTrackingId) {\n            MDC.put(TRACK_ID, String.valueOf(aLogTrackingId));\n        }\n    \n        public static LoggingInInterceptor getLoggingInInterceptor() {\n            return new LoggingInInterceptor(getMsgSender()) {\n                @Override\n                public void handleMessage(Message message) throws Fault {\n                    HttpServletRequest request = (HttpServletRequest) message.get(AbstractHTTPDestination.HTTP_REQUEST);\n                    String logTrackingId = request.getHeader(Constants.SYS_USER_ID);\n                    if (StringUtils.isNotBlank(logTrackingId)) {\n                        setLogTrackingId(logTrackingId);\n                    } else {\n                        setLogTrackingId(String.valueOf(System.nanoTime()));\n                    }\n                    super.handleMessage(message);\n                }\n            };\n        }\n    \n        private static Slf4jVerboseEventSender getMsgSender() {\n            return new Slf4jVerboseEventSender() {\n                @Override\n                protected String getLogMessage(LogEvent event) {\n                    event.setAddress(event.getAddress());\n                    event.setPayload(event.getPayload());\n                    return super.getLogMessage(event);\n                }\n            };\n        }\n    }\n</code></pre>\n<p>So I'm getting below log line in my console. but that EmployeeAPIImpl is not expected but it prints when invoke other API classes as well. (EG : when invoke departmentAPI or attendanceAPI)</p>\n<pre><code>01:943 INFO  xyz123456789-01 EmployeeAPIImpl.REQ_IN [HRMService-UBUNTU_PC] [123123123123] REQ_IN\n</code></pre>\n<p>and here is the logger configurations on log4j</p>\n<pre><code>log4j.appender.A1.layout.ConversionPattern=%d{ss:SSS} %-5p %t %c{2} [%X{hrModuleName}_%X{hrModuleId}] [%X{TRACK_ID}] %m %n\n</code></pre>\n<p>How do I customize the Logger name from EmployeeAPIImpl to proper class name.?</p>\n<p><em><strong>EDIT</strong></em> When I tried with <code>%c</code> it will appear like below <code>org.apache.cxf.services.EmployeeApiImpl</code></p>\n<ul>\n<li>Thanks</li>\n</ul>\n"},{"tags":["java","simulator","robotics"],"owner":{"account_id":29610989,"reputation":11,"user_id":22694257,"display_name":"Andres Masis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697197735,"creation_date":1697197735,"question_id":77287474,"body_markdown":"Hi I am trying to use the CoppeliaSim ZMQ Remote Api with Java: https://github.com/CoppeliaRobotics/zmq ... /main/java\r\n\r\nI followed all the necessary steps to set up the API. Set up the simStubsGen, the ZMQ plugin and the set ups necessary for the Java client. The setup should be alright because I already have a Python client working.\r\n\r\nBut I just used the Java client from the Coppelia repository, without making any changes. And when I try to run it, I always get this error.\r\n```\r\nPython was not found; run without arguments to install from the Microsoft Store, or disable this shortcut from Settings &gt; Manage App Execution Aliases.\r\n[ERROR] Command execution failed.\r\n```\r\n\r\nBesides, NetBeans identifies that there are more problems in the code.\r\nIn RemoteAPIClient.java, NetBeans identifies the following lines as errors:\r\n```\r\n80 this.send(req);\r\n81 this.recv();\r\n\r\n\r\n153 UnicodeString respFunc = (UnicodeString) rep.get(k_func);\r\n\r\n\r\n163 co.nstant.in.cbor.model.Array v_args = new co.nstant.in.cbor.model.Array();\r\n\r\n443 objs = new RemoteAPIObjects(this);\r\n\r\n453 RemoteAPIObjects objs = null;\r\n```\r\n\r\nThe last errors are because it is not recogniying RemoteAPIObjects as a data type (which is weird but I can solve). Also, there are other additional problems.\r\n\r\n\r\nAlso, in the class Example.java I still have the same problem in this line:\r\n```\r\n11 var sim = client.getObject().sim();\r\n\r\nBecause getObject() does not recogniye a method .sim()\r\n```\r\n\r\nAlso note that the class RemoteAPIObjects.java is full of Python wrappers that so far have not worked.\r\n\r\nCan someone please help me to make this Java client work.\r\n\r\nThanks.\r\n\r\n\r\n\r\n","title":"CoppeliaSim ZMQ Remote API Java client example not working","body":"<p>Hi I am trying to use the CoppeliaSim ZMQ Remote Api with Java: <a href=\"https://github.com/CoppeliaRobotics/zmq\" rel=\"nofollow noreferrer\">https://github.com/CoppeliaRobotics/zmq</a> ... /main/java</p>\n<p>I followed all the necessary steps to set up the API. Set up the simStubsGen, the ZMQ plugin and the set ups necessary for the Java client. The setup should be alright because I already have a Python client working.</p>\n<p>But I just used the Java client from the Coppelia repository, without making any changes. And when I try to run it, I always get this error.</p>\n<pre><code>Python was not found; run without arguments to install from the Microsoft Store, or disable this shortcut from Settings &gt; Manage App Execution Aliases.\n[ERROR] Command execution failed.\n</code></pre>\n<p>Besides, NetBeans identifies that there are more problems in the code.\nIn RemoteAPIClient.java, NetBeans identifies the following lines as errors:</p>\n<pre><code>80 this.send(req);\n81 this.recv();\n\n\n153 UnicodeString respFunc = (UnicodeString) rep.get(k_func);\n\n\n163 co.nstant.in.cbor.model.Array v_args = new co.nstant.in.cbor.model.Array();\n\n443 objs = new RemoteAPIObjects(this);\n\n453 RemoteAPIObjects objs = null;\n</code></pre>\n<p>The last errors are because it is not recogniying RemoteAPIObjects as a data type (which is weird but I can solve). Also, there are other additional problems.</p>\n<p>Also, in the class Example.java I still have the same problem in this line:</p>\n<pre><code>11 var sim = client.getObject().sim();\n\nBecause getObject() does not recogniye a method .sim()\n</code></pre>\n<p>Also note that the class RemoteAPIObjects.java is full of Python wrappers that so far have not worked.</p>\n<p>Can someone please help me to make this Java client work.</p>\n<p>Thanks.</p>\n"},{"tags":["java","authentication","httpurlconnection","request-headers"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696592598,"post_id":77244124,"comment_id":136176316,"body_markdown":"I don&#39;t know what Fidel is, but perhaps it has produced some logs explaining the status? Perhaps the response contains an explanation?","body":"I don&#39;t know what Fidel is, but perhaps it has produced some logs explaining the status? Perhaps the response contains an explanation?"},{"owner":{"account_id":29602689,"reputation":1,"user_id":22687747,"display_name":"Ankita Srivastava"},"score":0,"creation_date":1696596469,"post_id":77244124,"comment_id":136177075,"body_markdown":"No there is no specific detail in the response and we don&#39;t have access to the logs. the same request with same key is successful in postman, but in java it fails. so I was wondering if there is any issue with the code.","body":"No there is no specific detail in the response and we don&#39;t have access to the logs. the same request with same key is successful in postman, but in java it fails. so I was wondering if there is any issue with the code."}],"answers":[{"tags":[],"owner":{"account_id":29602689,"reputation":1,"user_id":22687747,"display_name":"Ankita Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697197158,"creation_date":1697120732,"answer_id":77281470,"question_id":77244124,"body_markdown":"This was happening because I was not sending one of the fields in request body, didn&#39;t notice that earlier.","title":"Fidel API giving 401 when calling from java code","body":"<p>This was happening because I was not sending one of the fields in request body, didn't notice that earlier.</p>\n"}],"owner":{"account_id":29602689,"reputation":1,"user_id":22687747,"display_name":"Ankita Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697197158,"creation_date":1696592248,"question_id":77244124,"body_markdown":"I am trying to call Fidel&#39;s APIs from my java code, this API needs just a key for authentication that we need to pass in headers. \r\nwhen I hit the API from postman it works. but from my java code, it throws 401.\r\n\r\n\r\nhere is postman call:\r\n[enter image description here](https://i.stack.imgur.com/XCnNq.png)\r\n\r\nand this is my java code:\r\n\r\n    URL url = new URL(environment.getBaseUrl() + &quot;offers&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setRequestProperty(&quot;Fidel-Key&quot;, &quot;my-secret-key-here&quot;);\r\n        con.setDoOutput(true);\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        String json = ow.writeValueAsString(fidelCreateOfferRequest);\r\n\r\n        try (OutputStream os = con.getOutputStream()) {\r\n            byte[] input = json.getBytes(StandardCharsets.UTF_8);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n        int status = con.getResponseCode();\r\n        System.out.println(&quot;Http Status: &quot; + status);\r\n\r\n        BufferedReader in;\r\n        if (status == 200) {\r\n            in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        } else {\r\n            in = new BufferedReader(new InputStreamReader(con.getErrorStream()));\r\n            System.out.println(&quot;cannot create offer. failed with status: &quot; + status);\r\n        }\r\n","title":"Fidel API giving 401 when calling from java code","body":"<p>I am trying to call Fidel's APIs from my java code, this API needs just a key for authentication that we need to pass in headers.\nwhen I hit the API from postman it works. but from my java code, it throws 401.</p>\n<p>here is postman call:\n<a href=\"https://i.stack.imgur.com/XCnNq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this is my java code:</p>\n<pre><code>URL url = new URL(environment.getBaseUrl() + &quot;offers&quot;);\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;POST&quot;);\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n    con.setRequestProperty(&quot;Fidel-Key&quot;, &quot;my-secret-key-here&quot;);\n    con.setDoOutput(true);\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    String json = ow.writeValueAsString(fidelCreateOfferRequest);\n\n    try (OutputStream os = con.getOutputStream()) {\n        byte[] input = json.getBytes(StandardCharsets.UTF_8);\n        os.write(input, 0, input.length);\n    }\n\n    int status = con.getResponseCode();\n    System.out.println(&quot;Http Status: &quot; + status);\n\n    BufferedReader in;\n    if (status == 200) {\n        in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n    } else {\n        in = new BufferedReader(new InputStreamReader(con.getErrorStream()));\n        System.out.println(&quot;cannot create offer. failed with status: &quot; + status);\n    }\n</code></pre>\n"},{"tags":["java","android","database","android-asynctask","local-database"],"comments":[{"owner":{"account_id":11973189,"reputation":737,"user_id":8761120,"display_name":"Erselan Khan"},"score":0,"creation_date":1697405651,"post_id":77285412,"comment_id":136272573,"body_markdown":"Kindly share this class and Database Manager class","body":"Kindly share this class and Database Manager class"},{"owner":{"account_id":29661519,"reputation":1,"user_id":22732967,"display_name":"Shreyas Balar"},"score":0,"creation_date":1697716535,"post_id":77285412,"comment_id":136316362,"body_markdown":"@ErselanKhan I am inserting all data in bulk insert [Code image](https://ibb.co/sqWkPB0) and [Update Image](https://ibb.co/LxHCB70)","body":"@ErselanKhan I am inserting all data in bulk insert <a href=\"https://ibb.co/sqWkPB0\" rel=\"nofollow noreferrer\">Code image</a> and <a href=\"https://ibb.co/LxHCB70\" rel=\"nofollow noreferrer\">Update Image</a>"}],"owner":{"account_id":29661519,"reputation":1,"user_id":22732967,"display_name":"Shreyas Balar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697196692,"creation_date":1697177124,"question_id":77285412,"body_markdown":"I have one query regarding the local database.\r\nAs my system works, when the user logs in for the first time in the application that time in the dashboard we get an API call for getting data. But in this case, our API call response is so much bigger like response size is something like 3 to 4 MB and response line like 15K+, And we are storing this all data in our local database. But sometimes it takes an ANR error when we are storing data in the database. Our data is stored in the background using a broadcast receiver and we insert data using an async task we use the bulk insert for insert data so we store all data at the same time. We are also using an executor for a background process.\r\n\r\n\r\n![image](https://i.stack.imgur.com/18CoG.png)\r\n\r\n\r\nThis issue only occurs when data is taking more time to load data in the database.\r\nwhat can I use for this fix?\r\nis there any way to change the default ANR timing?","title":"ANR Genrated : Local Database data load is not working properly in android","body":"<p>I have one query regarding the local database.\nAs my system works, when the user logs in for the first time in the application that time in the dashboard we get an API call for getting data. But in this case, our API call response is so much bigger like response size is something like 3 to 4 MB and response line like 15K+, And we are storing this all data in our local database. But sometimes it takes an ANR error when we are storing data in the database. Our data is stored in the background using a broadcast receiver and we insert data using an async task we use the bulk insert for insert data so we store all data at the same time. We are also using an executor for a background process.</p>\n<p><img src=\"https://i.stack.imgur.com/18CoG.png\" alt=\"image\" /></p>\n<p>This issue only occurs when data is taking more time to load data in the database.\nwhat can I use for this fix?\nis there any way to change the default ANR timing?</p>\n"},{"tags":["java","smartcard","javacard","apdu","jcop"],"owner":{"account_id":18686983,"reputation":23,"user_id":13686027,"display_name":"Billie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697195906,"creation_date":1697195906,"question_id":77287331,"body_markdown":"My development environment:\r\n\r\n 1. I downloaded an example for APDU I/O API: https://github.com/RimGazzeh/JavaCard_Wallet.git\r\n 2. Eclipse IDE for Java Developers (includes Incubating components)\r\nVersion: 2023-09 (4.29.0)\r\nBuild id: 20230907-1323\r\nOS: Windows 10, v.10.0, x86_64 / win32\r\nJava vendor: Eclipse Adoptium\r\nJava runtime version: 17.0.8.1+1\r\nJava version: 17.0.8.1\r\n 3. Java Card Development Kit Simulator 3.1.0\r\n 4. Java Card Development Kit Tools 3.1.0\r\n\r\nThis is the issue that I have:\r\n\r\nIf I check &quot;Do not open APDU console&quot;\r\n[![enter image description here][1]][1]\r\nthen I get the error message\r\n\r\n&gt; Exception in thread &quot;main&quot; 0xffffff82 \tat\r\n&gt; com.sun.javacard.apduio.ClientT1Protocol.exchangeApdu(ClientT1Protocol.java:55)\r\n&gt; \tat\r\n&gt; com.sun.javacard.apduio.CadT1Client.exchangeApdu(CadT1Client.java:33)\r\n&gt; \tat monpackageclient.MyClient.Select(MyClient.java:61) \tat\r\n&gt; monpackageclient.RunClient.main(RunClient.java:17)\r\n\r\n\r\nIf I uncheck &quot;Do not open APDU console&quot; then the Client is hanging on powerUp().\r\n\r\nI started in both scenarios the Eclipse Simulator manually. But in the second scenario I also run the scripts: cap-monpackage.script (I commented the line //powerdown; out) and afterwards the script create-monpackage.monpackage.MyServer.script.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3GlL.png","title":"Java Card Eclipse Plug-in: APDU I/O API is hanging on powerUp()","body":"<p>My development environment:</p>\n<ol>\n<li>I downloaded an example for APDU I/O API: <a href=\"https://github.com/RimGazzeh/JavaCard_Wallet.git\" rel=\"nofollow noreferrer\">https://github.com/RimGazzeh/JavaCard_Wallet.git</a></li>\n<li>Eclipse IDE for Java Developers (includes Incubating components)\nVersion: 2023-09 (4.29.0)\nBuild id: 20230907-1323\nOS: Windows 10, v.10.0, x86_64 / win32\nJava vendor: Eclipse Adoptium\nJava runtime version: 17.0.8.1+1\nJava version: 17.0.8.1</li>\n<li>Java Card Development Kit Simulator 3.1.0</li>\n<li>Java Card Development Kit Tools 3.1.0</li>\n</ol>\n<p>This is the issue that I have:</p>\n<p>If I check &quot;Do not open APDU console&quot;\n<a href=\"https://i.stack.imgur.com/F3GlL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3GlL.png\" alt=\"enter image description here\" /></a>\nthen I get the error message</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; 0xffffff82     at\ncom.sun.javacard.apduio.ClientT1Protocol.exchangeApdu(ClientT1Protocol.java:55)\nat\ncom.sun.javacard.apduio.CadT1Client.exchangeApdu(CadT1Client.java:33)\nat monpackageclient.MyClient.Select(MyClient.java:61)   at\nmonpackageclient.RunClient.main(RunClient.java:17)</p>\n</blockquote>\n<p>If I uncheck &quot;Do not open APDU console&quot; then the Client is hanging on powerUp().</p>\n<p>I started in both scenarios the Eclipse Simulator manually. But in the second scenario I also run the scripts: cap-monpackage.script (I commented the line //powerdown; out) and afterwards the script create-monpackage.monpackage.MyServer.script.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1697199197,"post_id":77287221,"comment_id":136253174,"body_markdown":"Why don&#39;t you use vectors?","body":"Why don&#39;t you use vectors?"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1697199750,"post_id":77287221,"comment_id":136253277,"body_markdown":"You can do it using Layer-List. [Question Link](https://stackoverflow.com/questions/43474854/custom-shape-using-layerlist-in-xml-android)","body":"You can do it using Layer-List. <a href=\"https://stackoverflow.com/questions/43474854/custom-shape-using-layerlist-in-xml-android\">Question Link</a>"}],"answers":[{"tags":[],"owner":{"account_id":14967827,"reputation":143,"user_id":10805570,"display_name":"Zibran"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1697195606,"creation_date":1697195606,"answer_id":77287290,"question_id":77287221,"body_markdown":"Yes, you can create this using XML in Android. Here’s an example of how you can do it:\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/your_image&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 1&quot;\r\n            android:layout_centerInParent=&quot;true&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 2&quot;\r\n            android:layout_below=&quot;@id/button1&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nIn this example, `RelativeLayout` is used as the parent layout. Inside this layout, an ImageView is defined that covers the entire area of the layout. Then, two Button views are defined. \r\n&gt; The first button (button1) is centered in the parent layout, and the second button (button2) is positioned below the first button.\r\n\r\nPlease replace `&quot;@drawable/your_image&quot;` with your actual image resource.\r\n\r\nRemember to define the buttons’ actions in your Java or Kotlin code!","title":"How can I create button shape","body":"<p>Yes, you can create this using XML in Android. Here’s an example of how you can do it:</p>\n<pre><code>&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:src=&quot;@drawable/your_image&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button 1&quot;\n        android:layout_centerInParent=&quot;true&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button 2&quot;\n        android:layout_below=&quot;@id/button1&quot;\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>In this example, <code>RelativeLayout</code> is used as the parent layout. Inside this layout, an ImageView is defined that covers the entire area of the layout. Then, two Button views are defined.</p>\n<blockquote>\n<p>The first button (button1) is centered in the parent layout, and the second button (button2) is positioned below the first button.</p>\n</blockquote>\n<p>Please replace <code>&quot;@drawable/your_image&quot;</code> with your actual image resource.</p>\n<p>Remember to define the buttons’ actions in your Java or Kotlin code!</p>\n"}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77287290,"answer_count":1,"score":0,"last_activity_date":1697195884,"creation_date":1697194966,"question_id":77287221,"body_markdown":"I need to create two buttons on an image that completely covers the image, as in the example. How can I create this? Is there a chance to create it with XML?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXNUn.png","title":"How can I create button shape","body":"<p>I need to create two buttons on an image that completely covers the image, as in the example. How can I create this? Is there a chance to create it with XML?</p>\n<p><a href=\"https://i.stack.imgur.com/BXNUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BXNUn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692199034,"creation_date":1692199034,"answer_id":76914959,"question_id":76910407,"body_markdown":"This should give you the current span&#39;s trace id:\r\n\r\n```\r\nimport io.opentelemetry.api.trace.Span\r\n\r\nSpan.current().getSpanContext().getTraceId()\r\n```\r\n\r\n","title":"How to use the java agent of opentelemetry to actively obtain traceId","body":"<p>This should give you the current span's trace id:</p>\n<pre><code>import io.opentelemetry.api.trace.Span\n\nSpan.current().getSpanContext().getTraceId()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7507459,"reputation":26,"user_id":5703545,"display_name":"jaydeluca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697195637,"creation_date":1697195637,"answer_id":77287300,"question_id":76910407,"body_markdown":"Depending on whether this is something you&#39;d want included in all logs, you could add different trace details from the MDC to log lines via springboot config:\r\n\r\n    \r\n\r\n&gt; logging.pattern.level = trace_id=%mdc{trace_id} span_id=%mdc{span_id}\r\n&gt; trace_flags=%mdc{trace_flags} %5p\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md","title":"How to use the java agent of opentelemetry to actively obtain traceId","body":"<p>Depending on whether this is something you'd want included in all logs, you could add different trace details from the MDC to log lines via springboot config:</p>\n<blockquote>\n<p>logging.pattern.level = trace_id=%mdc{trace_id} span_id=%mdc{span_id}\ntrace_flags=%mdc{trace_flags} %5p</p>\n</blockquote>\n<p><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":24469674,"reputation":21,"user_id":18389598,"display_name":"zhengziyi0117"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697195637,"creation_date":1692157618,"question_id":76910407,"body_markdown":"I want to return the traceId when the user reports an error in my springboot project, so that I can troubleshoot the error, but I use the javaagent of opentelemetry, and I haven&#39;t found a way to get the traceId in my project. So is there a way to get this traceId in my global exception handler?\r\n\r\nI hope to be able to get the traceId inside my project and return the traceId to the user when an exception is thrown","title":"How to use the java agent of opentelemetry to actively obtain traceId","body":"<p>I want to return the traceId when the user reports an error in my springboot project, so that I can troubleshoot the error, but I use the javaagent of opentelemetry, and I haven't found a way to get the traceId in my project. So is there a way to get this traceId in my global exception handler?</p>\n<p>I hope to be able to get the traceId inside my project and return the traceId to the user when an exception is thrown</p>\n"},{"tags":["java","httpclient","httpconnection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686654461,"post_id":76464211,"comment_id":134825685,"body_markdown":"https://stackoverflow.com/questions/53617574/how-to-keep-connection-alive-in-java-11-http-client may help","body":"<a href=\"https://stackoverflow.com/questions/53617574/how-to-keep-connection-alive-in-java-11-http-client\" title=\"how to keep connection alive in java 11 http client\">stackoverflow.com/questions/53617574/&hellip;</a> may help"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1686654504,"post_id":76464211,"comment_id":134825692,"body_markdown":"But why do you think this is important?","body":"But why do you think this is important?"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1686654725,"post_id":76464211,"comment_id":134825736,"body_markdown":"1. Provided link doesn&#39;t help as it answers different question (although I still got some information from that post.. so, thanks); 2. Because, as I said, I want to make sure previously allocated ports/resources get released.. leaving connection, in the connection pool, by default for 20 minutes and having no way to close connection is beyond crazy.","body":"1. Provided link doesn&#39;t help as it answers different question (although I still got some information from that post.. so, thanks); 2. Because, as I said, I want to make sure previously allocated ports/resources get released.. leaving connection, in the connection pool, by default for 20 minutes and having no way to close connection is beyond crazy."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1686655477,"post_id":76464211,"comment_id":134825926,"body_markdown":"[HttpResponse.BodySubscriber](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html) talks about closing underlying connections, but there doesn&#39;t seem to be any way of explicitly doing so for now, as stated with the Holger&#39;s answer.","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html\" rel=\"nofollow noreferrer\">HttpResponse.BodySubscriber</a> talks about closing underlying connections, but there doesn&#39;t seem to be any way of explicitly doing so for now, as stated with the Holger&#39;s answer."}],"answers":[{"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1686662639,"post_id":76464391,"comment_id":134827616,"body_markdown":"Yes, I found that link, but still decided to ask, because 1) I really couldn&#39;t imagine any (especially - new) HTTP client being implemented without `.close()`, and 2) Bug page&#39;s summary mentions &quot;in order to make it possible to reclaim its resources early&quot; - so, I thought it was reclaiming resources in some &quot;later&quot; way.. but not as later as [after 20 minutes](https://stackoverflow.com/a/53620696/1553537). Great.. introducing a lot of unnecessary and decorative JEPs, while having &quot;new and cool&quot; HTTP client without basic and super important `.close()` ability.. and that&#39;s since Java 11, 2018.","body":"Yes, I found that link, but still decided to ask, because 1) I really couldn&#39;t imagine any (especially - new) HTTP client being implemented without <code>.close()</code>, and 2) Bug page&#39;s summary mentions &quot;in order to make it possible to reclaim its resources early&quot; - so, I thought it was reclaiming resources in some &quot;later&quot; way.. but not as later as <a href=\"https://stackoverflow.com/a/53620696/1553537\">after 20 minutes</a>. Great.. introducing a lot of unnecessary and decorative JEPs, while having &quot;new and cool&quot; HTTP client without basic and super important <code>.close()</code> ability.. and that&#39;s since Java 11, 2018."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686663176,"post_id":76464391,"comment_id":134827745,"body_markdown":"I know exactly how you feel. I’m waiting for a possibility to close a `MappedByteBuffer` for twenty years now. There will be an indirect solution through JEP 434, which is still in preview…","body":"I know exactly how you feel. I’m waiting for a possibility to close a <code>MappedByteBuffer</code> for twenty years now. There will be an indirect solution through JEP 434, which is still in preview…"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1686655218,"creation_date":1686655218,"answer_id":76464391,"question_id":76464211,"body_markdown":"This is indeed a missing feature and you’ll have to wait for Java&#160;21 to be able to close `HttpClient` explicitly.\r\n\r\nSee bug report [JDK-8304165], “Support closing the HttpClient by making it auto-closable”:\r\n\r\n&gt; Make the `java.net.http.HttpClient` implement `AutoCloseable` in order to make it possible to reclaim its resources early (selector, idle connections sitting in pools, etc...) rather than having to wait for GC to garbage collect it.\r\n\r\nIt has the status “Approved” and Fix Version 21. You can also verify with the [early access documentation of `HttpClient`] which shows that it now implements `AutoCloseable` and therefore has a [`close` method] which also says “Since: 21”.\r\n\r\n[early access documentation of `HttpClient`]: https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html\r\n[JDK-8304165]: https://bugs.openjdk.org/browse/JDK-8304165\r\n[`close` method]: https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html#close()","title":"How to close HttpClient? Why there is no .close() method in the API?","body":"<p>This is indeed a missing feature and you’ll have to wait for Java 21 to be able to close <code>HttpClient</code> explicitly.</p>\n<p>See bug report <a href=\"https://bugs.openjdk.org/browse/JDK-8304165\" rel=\"noreferrer\">JDK-8304165</a>, “Support closing the HttpClient by making it auto-closable”:</p>\n<blockquote>\n<p>Make the <code>java.net.http.HttpClient</code> implement <code>AutoCloseable</code> in order to make it possible to reclaim its resources early (selector, idle connections sitting in pools, etc...) rather than having to wait for GC to garbage collect it.</p>\n</blockquote>\n<p>It has the status “Approved” and Fix Version 21. You can also verify with the <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"noreferrer\">early access documentation of <code>HttpClient</code></a> which shows that it now implements <code>AutoCloseable</code> and therefore has a <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html#close()\" rel=\"noreferrer\"><code>close</code> method</a> which also says “Since: 21”.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697195368,"creation_date":1697194918,"answer_id":77287210,"question_id":76464211,"body_markdown":"Finally, since the Java 21 LTS, the `java.net.http.HttpClient` is now `AutoCloseable`, and the [following methods have been added](https://www.oracle.com/java/technologies/javase/21all-relnotes.html#JDK-8267140) to the API:\r\n- `void close()` - closes the client gracefully, waiting for submitted requests to complete;\r\n- `void shutdown()` - initiates a graceful shutdown, then returns immediately without waiting for the client to terminate;\r\n- `void shutdownNow()` - initiates an immediate shutdown, trying to interrupt active operations, and returns immediately without waiting for the client to terminate;\r\n- `boolean awaitTermination(Duration duration)` - waits for the client to terminate, within the given duration; returns true if the client is terminated, false otherwise;\r\n- `boolean isTerminated()` - returns true if the client is terminated.\r\n\r\n---\r\n\r\nTwo additional notes:\r\n\r\n1. The instances returned by `HttpClient.newHttpClient()`, and the instances built from `HttpClient.newBuilder()`, provide a best effort implementation for these methods. They allow the reclamation of resources allocated by the `HttpClient` early, without waiting for its garbage collection;\r\n2. An `HttpClient` instance typically manages its own pools of connections, which it may then reuse when necessary. Connection pools are typically not shared between `HttpClient` instances. Creating a new client for each operation, though possible, will usually prevent reusing such connections.","title":"How to close HttpClient? Why there is no .close() method in the API?","body":"<p>Finally, since the Java 21 LTS, the <code>java.net.http.HttpClient</code> is now <code>AutoCloseable</code>, and the <a href=\"https://www.oracle.com/java/technologies/javase/21all-relnotes.html#JDK-8267140\" rel=\"nofollow noreferrer\">following methods have been added</a> to the API:</p>\n<ul>\n<li><code>void close()</code> - closes the client gracefully, waiting for submitted requests to complete;</li>\n<li><code>void shutdown()</code> - initiates a graceful shutdown, then returns immediately without waiting for the client to terminate;</li>\n<li><code>void shutdownNow()</code> - initiates an immediate shutdown, trying to interrupt active operations, and returns immediately without waiting for the client to terminate;</li>\n<li><code>boolean awaitTermination(Duration duration)</code> - waits for the client to terminate, within the given duration; returns true if the client is terminated, false otherwise;</li>\n<li><code>boolean isTerminated()</code> - returns true if the client is terminated.</li>\n</ul>\n<hr />\n<p>Two additional notes:</p>\n<ol>\n<li>The instances returned by <code>HttpClient.newHttpClient()</code>, and the instances built from <code>HttpClient.newBuilder()</code>, provide a best effort implementation for these methods. They allow the reclamation of resources allocated by the <code>HttpClient</code> early, without waiting for its garbage collection;</li>\n<li>An <code>HttpClient</code> instance typically manages its own pools of connections, which it may then reuse when necessary. Connection pools are typically not shared between <code>HttpClient</code> instances. Creating a new client for each operation, though possible, will usually prevent reusing such connections.</li>\n</ol>\n"}],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77287210,"answer_count":2,"score":4,"last_activity_date":1697195368,"creation_date":1686653982,"question_id":76464211,"body_markdown":"I want to use so called &quot;new HttpClient since Java 11&quot; `java.net.http.HttpClient`.\r\n\r\nTo me, it is *very important* to make sure that the TCP connection gets closed after an HTTP roundtrip completes, so that corresponding port gets released and resources - deallocated.\r\n\r\nThere is no `.close()` or `.disconnect()` or something like that available on the [API](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html).\r\n\r\nIt is very weird not to have a possibility to close the connection, and it is also weird why the expected behaviour (*what is happening? is the connection getting closed automatically? when? how?*) is never documented anywhere, including [Introduction to the Java HTTP Client\r\n](https://openjdk.org/groups/net/httpclient/intro.html) and [Examples and Recipes\r\n](https://openjdk.org/groups/net/httpclient/intro.html).\r\n\r\nAny tips?","title":"How to close HttpClient? Why there is no .close() method in the API?","body":"<p>I want to use so called &quot;new HttpClient since Java 11&quot; <code>java.net.http.HttpClient</code>.</p>\n<p>To me, it is <em>very important</em> to make sure that the TCP connection gets closed after an HTTP roundtrip completes, so that corresponding port gets released and resources - deallocated.</p>\n<p>There is no <code>.close()</code> or <code>.disconnect()</code> or something like that available on the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">API</a>.</p>\n<p>It is very weird not to have a possibility to close the connection, and it is also weird why the expected behaviour (<em>what is happening? is the connection getting closed automatically? when? how?</em>) is never documented anywhere, including <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">Introduction to the Java HTTP Client\n</a> and <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">Examples and Recipes\n</a>.</p>\n<p>Any tips?</p>\n"},{"tags":["java","spring-boot","jpa","projection"],"owner":{"account_id":28849734,"reputation":1,"user_id":22095886,"display_name":"Nha Phan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697195364,"creation_date":1697195311,"question_id":77287263,"body_markdown":"I have 2 entities: Book and Country\r\n```\r\n@Entity\r\npublic class Book {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String author;\r\n    private String mdmName;\r\n}\r\n\r\n@Entity\r\npublic class Country {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String mdmName;\r\n}\r\n\r\n\r\npublic interface BookCountry {\r\n    Book getBook();\r\n    String getCountryName();\r\n}\r\n```\r\n\r\nThere is no relation between them. I fetch a list of books and name and country of the book\r\n```\r\n@Query(&quot;select book, c.name from Book book join Country c on c.mdmName = book.mdmName&quot;)\r\nList&lt;BookCountry&gt; findBookAndCountryName();\r\n```\r\n\r\n\r\nI want to create an interface project to fetch the List of books and the name of the country, when I get the book from the query it returns null. How do we get the Book from an interface projection?","title":"Interface injection with an entity","body":"<p>I have 2 entities: Book and Country</p>\n<pre><code>@Entity\npublic class Book {\n    @Id\n    private Long id;\n    private String name;\n    private String author;\n    private String mdmName;\n}\n\n@Entity\npublic class Country {\n    @Id\n    private Long id;\n    private String name;\n    private String mdmName;\n}\n\n\npublic interface BookCountry {\n    Book getBook();\n    String getCountryName();\n}\n</code></pre>\n<p>There is no relation between them. I fetch a list of books and name and country of the book</p>\n<pre><code>@Query(&quot;select book, c.name from Book book join Country c on c.mdmName = book.mdmName&quot;)\nList&lt;BookCountry&gt; findBookAndCountryName();\n</code></pre>\n<p>I want to create an interface project to fetch the List of books and the name of the country, when I get the book from the query it returns null. How do we get the Book from an interface projection?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1669626102,"post_id":34088780,"comment_id":131676320,"body_markdown":"In main class add method: `@Bean\n    public CommandLineRunner run(ApplicationContext appContext) {\n        return args -&gt; {\n\n            String[] beans = appContext.getBeanDefinitionNames();\n            Arrays.stream(beans).sorted().forEach(System.out::println);\n\n        };\n    }` [how-to-display-all-beans-loaded-by-spring-boot/](https://mkyong.com/spring-boot/how-to-display-all-beans-loaded-by-spring-boot/)","body":"In main class add method: <code>@Bean     public CommandLineRunner run(ApplicationContext appContext) {         return args -&gt; {              String[] beans = appContext.getBeanDefinitionNames();             Arrays.stream(beans).sorted().forEach(System.out::println);          };     }</code> <a href=\"https://mkyong.com/spring-boot/how-to-display-all-beans-loaded-by-spring-boot/\" rel=\"nofollow noreferrer\">how-to-display-all-beans-loaded-by-spring-boot/</a>"}],"answers":[{"comments":[{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":36,"creation_date":1449268949,"post_id":34089279,"comment_id":55949513,"body_markdown":"Field injection is considered as bad practice.","body":"Field injection is considered as bad practice."},{"owner":{"account_id":1228817,"reputation":1177,"user_id":1193829,"accept_rate":58,"display_name":"Priyanka.Patil"},"score":3,"creation_date":1458209077,"post_id":34089279,"comment_id":59761386,"body_markdown":"@luboskrnac: Yes.Curious to understand why.","body":"@luboskrnac: Yes.Curious to understand why."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":9,"creation_date":1458211951,"post_id":34089279,"comment_id":59763555,"body_markdown":"Just google &quot;Field vs Constructor injection&quot;. Also Oliver Gierke (Spring Data Team lead) opposes field injection.","body":"Just google &quot;Field vs Constructor injection&quot;. Also Oliver Gierke (Spring Data Team lead) opposes field injection."},{"owner":{"account_id":7371292,"reputation":1906,"user_id":5611377,"accept_rate":100,"display_name":"ssimm"},"score":2,"creation_date":1573040837,"post_id":34089279,"comment_id":103749636,"body_markdown":"So how should this answer be changed so that it uses constructor injection?","body":"So how should this answer be changed so that it uses constructor injection?"},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1577277085,"post_id":34089279,"comment_id":105133840,"body_markdown":"Autowired via constructor: `public MyClass (ApplicationContext context) { context.getBean(ControllerA.class)}`","body":"Autowired via constructor: <code>public MyClass (ApplicationContext context) { context.getBean(ControllerA.class)}</code>"},{"owner":{"account_id":3164885,"reputation":1580,"user_id":2675129,"display_name":"zyexal"},"score":6,"creation_date":1591950809,"post_id":34089279,"comment_id":110254672,"body_markdown":"@crabbly Baeldung is NOT the Spring documentation!","body":"@crabbly Baeldung is NOT the Spring documentation!"},{"owner":{"account_id":2768749,"reputation":383,"user_id":2383797,"display_name":"Nicolas Mariano Obregon"},"score":0,"creation_date":1598933032,"post_id":34089279,"comment_id":112609132,"body_markdown":"the preference of constructor injection over field injection is the fact that if a class instantiation is being delegated to spring, you shouldn&#39;t be able to do new MyClass(), therefore, by autowiring the constructor parameters, you are telling the developer who MAY try to call the constructor, that he can&#39;t, because he needs to pass through those parameters in order to build an instance... hope i was clear. best regards","body":"the preference of constructor injection over field injection is the fact that if a class instantiation is being delegated to spring, you shouldn&#39;t be able to do new MyClass(), therefore, by autowiring the constructor parameters, you are telling the developer who MAY try to call the constructor, that he can&#39;t, because he needs to pass through those parameters in order to build an instance... hope i was clear. best regards"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1631177437,"post_id":34089279,"comment_id":122154267,"body_markdown":"Make your own choice, but don&#39;t impose them: here it is : https://softwareengineering.stackexchange.com/questions/300706/dependency-injection-field-injection-vs-constructor-injection","body":"Make your own choice, but don&#39;t impose them: here it is : <a href=\"https://softwareengineering.stackexchange.com/questions/300706/dependency-injection-field-injection-vs-constructor-injection\" title=\"dependency injection field injection vs constructor injection\">softwareengineering.stackexchange.com/questions/300706/&hellip;</a>"}],"tags":[],"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"comment_count":8,"down_vote_count":2,"up_vote_count":136,"is_accepted":false,"score":134,"last_activity_date":1449235016,"creation_date":1449235016,"answer_id":34089279,"question_id":34088780,"body_markdown":"You can Autowire the ApplicationContext, either as a field\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\nor a method\r\n\r\n    @Autowired\r\n    public void context(ApplicationContext context) { this.context = context; }\r\n\r\nFinally use\r\n\r\n    context.getBean(SomeClass.class)","title":"How to get bean using application context in spring boot","body":"<p>You can Autowire the ApplicationContext, either as a field</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\n</code></pre>\n\n<p>or a method</p>\n\n<pre><code>@Autowired\npublic void context(ApplicationContext context) { this.context = context; }\n</code></pre>\n\n<p>Finally use</p>\n\n<pre><code>context.getBean(SomeClass.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1560412933,"post_id":34098726,"comment_id":99729860,"body_markdown":"Not true. Constructor injection with a huge amount of parameters is bad practice. Field injection should be used instead.","body":"Not true. Constructor injection with a huge amount of parameters is bad practice. Field injection should be used instead."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":1,"creation_date":1560847839,"post_id":34098726,"comment_id":99860383,"body_markdown":"@T3rm1, can you provide some links backing up your statement? If you use intellij there is by default warning if you use field injection. I read various times  Spring team members stating that constructor injection is preferred. So your statement is &quot;Not true&quot;.","body":"@T3rm1, can you provide some links backing up your statement? If you use intellij there is by default warning if you use field injection. I read various times  Spring team members stating that constructor injection is preferred. So your statement is &quot;Not true&quot;."},{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1560851954,"post_id":34098726,"comment_id":99862852,"body_markdown":"This is an endless discussion. All the boilerplate introduced by the constructor is really ugly. Have you ever used subclasses? Try to add another dependency to the base class if you have a lot of subclasses. Also, with constructor injection the subclasses have to provide all the dependecies instead of the container. That&#39;s not the idea of IoC.","body":"This is an endless discussion. All the boilerplate introduced by the constructor is really ugly. Have you ever used subclasses? Try to add another dependency to the base class if you have a lot of subclasses. Also, with constructor injection the subclasses have to provide all the dependecies instead of the container. That&#39;s not the idea of IoC."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":1,"creation_date":1561462180,"post_id":34098726,"comment_id":100063584,"body_markdown":"You can use Lombok&#39;s @AllArgsConstructor to avoid boilerplate. Inheritance of singleton beans? To me design smell.","body":"You can use Lombok&#39;s @AllArgsConstructor to avoid boilerplate. Inheritance of singleton beans? To me design smell."},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":1,"creation_date":1563479889,"post_id":34098726,"comment_id":100724604,"body_markdown":"@T3rm1 &quot;shared mutable state is the root of all evil&quot;.  Proceed with caution.","body":"@T3rm1 &quot;shared mutable state is the root of all evil&quot;.  Proceed with caution."}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449268978,"creation_date":1449268978,"answer_id":34098726,"question_id":34088780,"body_markdown":"If you are inside of Spring bean (in this case `@Controller` bean) you shouldn&#39;t use Spring context instance at all. Just autowire `className` bean directly.\r\n\r\nBTW, avoid using field injection as it&#39;s considered as bad practice.","title":"How to get bean using application context in spring boot","body":"<p>If you are inside of Spring bean (in this case <code>@Controller</code> bean) you shouldn't use Spring context instance at all. Just autowire <code>className</code> bean directly.</p>\n\n<p>BTW, avoid using field injection as it's considered as bad practice.</p>\n"},{"comments":[{"owner":{"account_id":1335180,"reputation":2681,"user_id":1278112,"accept_rate":93,"display_name":"Shihe Zhang"},"score":0,"creation_date":1531207002,"post_id":38274721,"comment_id":89496848,"body_markdown":"When will `Spring` call `setApplicationContext()`?","body":"When will <code>Spring</code> call <code>setApplicationContext()</code>?"},{"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"score":1,"creation_date":1531245878,"post_id":38274721,"comment_id":89521287,"body_markdown":"@ShiheZhang, Please refer this answer, I updated my answer as well :- https://stackoverflow.com/a/21553322/1401019","body":"@ShiheZhang, Please refer this answer, I updated my answer as well :- <a href=\"https://stackoverflow.com/a/21553322/1401019\">stackoverflow.com/a/21553322/1401019</a>"}],"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1531248816,"creation_date":1468008878,"answer_id":38274721,"question_id":34088780,"body_markdown":"You can use **ApplicationContextAware**.\n\n\n\n&gt; **ApplicationContextAware**:\n&gt;\n&gt; Interface to be implemented by any object that wishes to be notified\n&gt; of the ApplicationContext that it runs in. Implementing this interface\n&gt; makes sense for example when an object requires access to a set of\n&gt; collaborating beans.\n\n\n\nThere are a few methods for obtaining a reference to the application context. You can implement ApplicationContextAware as in the following example:\n \n\n    package hello;\n\n    import org.springframework.beans.BeansException;\n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.ApplicationContextAware;\n     \n    @Component\n    public class ApplicationContextProvider implements ApplicationContextAware {\n    \n        private ApplicationContext applicationContext;\n    \n        @Override\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n            this.applicationContext = applicationContext;\n        } \n\n     public ApplicationContext getContext() {\n            return applicationContext;\n        }\n        \n    }\n\n**Update:**\n\nWhen **Spring instantiates beans**, it looks for **ApplicationContextAware** implementations, If they are found, the setApplicationContext() methods will be invoked. \n\nIn this way, Spring is setting **current** applicationcontext.\n\nCode snippet from Spring&#39;s `source code`:\n\n    private void invokeAwareInterfaces(Object bean) {\n            .....\n            .....\n     if (bean instanceof ApplicationContextAware) {                \n      ((ApplicationContextAware)bean).setApplicationContext(this.applicationContext);\n       }\n    }\n\nOnce you get the reference to Application context, you get fetch the bean whichever you want by using getBean().\n\n\n","title":"How to get bean using application context in spring boot","body":"<p>You can use <strong>ApplicationContextAware</strong>.</p>\n<blockquote>\n<p><strong>ApplicationContextAware</strong>:</p>\n<p>Interface to be implemented by any object that wishes to be notified\nof the ApplicationContext that it runs in. Implementing this interface\nmakes sense for example when an object requires access to a set of\ncollaborating beans.</p>\n</blockquote>\n<p>There are a few methods for obtaining a reference to the application context. You can implement ApplicationContextAware as in the following example:</p>\n<pre><code>package hello;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\n \n@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    } \n\n public ApplicationContext getContext() {\n        return applicationContext;\n    }\n    \n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>When <strong>Spring instantiates beans</strong>, it looks for <strong>ApplicationContextAware</strong> implementations, If they are found, the setApplicationContext() methods will be invoked.</p>\n<p>In this way, Spring is setting <strong>current</strong> applicationcontext.</p>\n<p>Code snippet from Spring's <code>source code</code>:</p>\n<pre><code>private void invokeAwareInterfaces(Object bean) {\n        .....\n        .....\n if (bean instanceof ApplicationContextAware) {                \n  ((ApplicationContextAware)bean).setApplicationContext(this.applicationContext);\n   }\n}\n</code></pre>\n<p>Once you get the reference to Application context, you get fetch the bean whichever you want by using getBean().</p>\n"},{"tags":[],"owner":{"account_id":6671819,"reputation":279,"user_id":5147741,"display_name":"Debendra Parida"},"comment_count":0,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1548240206,"creation_date":1494329620,"answer_id":43868712,"question_id":34088780,"body_markdown":"actually you want to get the object from the Spring engine, where the engine already maintaining the object of your required class at that starting of the spring application(Initialization of the Spring engine).Now the thing is you just have to get that object to a reference.\r\n\r\nin a service class\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    SomeClass sc = (SomeClass)context.getBean(SomeClass.class);\r\n\r\nnow in the reference of the sc you are having the object.\r\nHope explained well. If any doubt please let me know.\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>actually you want to get the object from the Spring engine, where the engine already maintaining the object of your required class at that starting of the spring application(Initialization of the Spring engine).Now the thing is you just have to get that object to a reference.</p>\n\n<p>in a service class</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\n\nSomeClass sc = (SomeClass)context.getBean(SomeClass.class);\n</code></pre>\n\n<p>now in the reference of the sc you are having the object.\nHope explained well. If any doubt please let me know.</p>\n"},{"comments":[{"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"score":0,"creation_date":1599381925,"post_id":52588840,"comment_id":112753032,"body_markdown":"I think this solution can not be understood very well. Getting a bean  from ApplicationContext has already been replied. This solution is getting a regular class&#39; object in Spring Boot. Just to show an hint, it is not answer for original question.","body":"I think this solution can not be understood very well. Getting a bean  from ApplicationContext has already been replied. This solution is getting a regular class&#39; object in Spring Boot. Just to show an hint, it is not answer for original question."}],"tags":[],"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1538388573,"creation_date":1538388573,"answer_id":52588840,"question_id":34088780,"body_markdown":"You can use ServiceLocatorFactoryBean. First you need to create an interface for your class\r\n\r\n    public interface YourClassFactory {\r\n        YourClass getClassByName(String name);\r\n    }\r\nThen you have to create a config file for ServiceLocatorBean\r\n\r\n    @Configuration\r\n    @Component\r\n    public class ServiceLocatorFactoryBeanConfig {\r\n    \r\n        @Bean\r\n        public ServiceLocatorFactoryBean serviceLocatorBean(){\r\n            ServiceLocatorFactoryBean bean = new ServiceLocatorFactoryBean();\r\n            bean.setServiceLocatorInterface(YourClassFactory.class);\r\n            return bean;\r\n        }\r\n    }\r\n\r\nNow you can find your class by name like that\r\n\r\n    @Autowired\r\n    private YourClassfactory factory;\r\n    \r\n    YourClass getYourClass(String name){\r\n        return factory.getClassByName(name);\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>You can use ServiceLocatorFactoryBean. First you need to create an interface for your class</p>\n\n<pre><code>public interface YourClassFactory {\n    YourClass getClassByName(String name);\n}\n</code></pre>\n\n<p>Then you have to create a config file for ServiceLocatorBean</p>\n\n<pre><code>@Configuration\n@Component\npublic class ServiceLocatorFactoryBeanConfig {\n\n    @Bean\n    public ServiceLocatorFactoryBean serviceLocatorBean(){\n        ServiceLocatorFactoryBean bean = new ServiceLocatorFactoryBean();\n        bean.setServiceLocatorInterface(YourClassFactory.class);\n        return bean;\n    }\n}\n</code></pre>\n\n<p>Now you can find your class by name like that</p>\n\n<pre><code>@Autowired\nprivate YourClassfactory factory;\n\nYourClass getYourClass(String name){\n    return factory.getClassByName(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1359054,"reputation":746,"user_id":1296783,"accept_rate":67,"display_name":"yeaaaahhhh..hamf hamf"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558706195,"creation_date":1558706195,"answer_id":56294151,"question_id":34088780,"body_markdown":"You can use the ApplicationContextAware class that can provide the application context.\r\n```\r\npublic class ApplicationContextProvider implements ApplicationContextAware {\r\n\r\n    private static ApplicationContext ctx = null;\r\n\r\n    public static ApplicationContext getApplicationContext() {\r\n        return ctx;\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(final ApplicationContext ctx) throws BeansException {\r\n        ApplicationContextProvider.ctx = ctx;\r\n    }\r\n\r\n    /**\r\n     * Tries to autowire the specified instance of the class if one of the specified\r\n     * beans which need to be autowired are null.\r\n     *\r\n     * @param classToAutowire        the instance of the class which holds @Autowire\r\n     *                               annotations\r\n     * @param beansToAutowireInClass the beans which have the @Autowire annotation\r\n     *                               in the specified {#classToAutowire}\r\n     */\r\n    public static void autowire(Object classToAutowire, Object... beansToAutowireInClass) {\r\n        for (Object bean : beansToAutowireInClass) {\r\n            if (bean == null) {\r\n                ctx.getAutowireCapableBeanFactory().autowireBean(classToAutowire);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to get bean using application context in spring boot","body":"<p>You can use the ApplicationContextAware class that can provide the application context.</p>\n\n<pre><code>public class ApplicationContextProvider implements ApplicationContextAware {\n\n    private static ApplicationContext ctx = null;\n\n    public static ApplicationContext getApplicationContext() {\n        return ctx;\n    }\n\n    @Override\n    public void setApplicationContext(final ApplicationContext ctx) throws BeansException {\n        ApplicationContextProvider.ctx = ctx;\n    }\n\n    /**\n     * Tries to autowire the specified instance of the class if one of the specified\n     * beans which need to be autowired are null.\n     *\n     * @param classToAutowire        the instance of the class which holds @Autowire\n     *                               annotations\n     * @param beansToAutowireInClass the beans which have the @Autowire annotation\n     *                               in the specified {#classToAutowire}\n     */\n    public static void autowire(Object classToAutowire, Object... beansToAutowireInClass) {\n        for (Object bean : beansToAutowireInClass) {\n            if (bean == null) {\n                ctx.getAutowireCapableBeanFactory().autowireBean(classToAutowire);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9049902,"reputation":919,"user_id":6740561,"display_name":"svaponi"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1697194827,"creation_date":1567175224,"answer_id":57728634,"question_id":34088780,"body_markdown":"Just use:\r\n\r\n&gt; org.springframework.beans.factory.BeanFactory#getBean(java.lang.Class&lt;T&gt;)\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Component\r\n    public class Example {\r\n\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        public MyService getMyServiceBean() {\r\n            return context.getBean(MyService.class);\r\n        }\r\n        \r\n        // your code uses getMyServiceBean()\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Update 2023.10.13**\r\n\r\nIf you do not have *MyService* class at compile time, you can look up the class by name at runtime. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Component\r\n    public class Example2 {\r\n\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        public Object getMyServiceBean() throws ClassNotFoundException {\r\n            return context.getBean(Class.forName(&quot;my.package.MyService&quot;));\r\n        }\r\n\r\n        // your code uses getMyServiceBean()\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNote that in this case, you need to return *Object* (or another superclass or interface available at compile time) and handle *ClassNotFoundException* in case your class is not available at runtime either.\r\n\r\nYou may also want to handle *NoSuchBeanDefinitionException* (runtime exception) in case the service is not defined as a bean.","title":"How to get bean using application context in spring boot","body":"<p>Just use:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanFactory#getBean(java.lang.Class)</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Example {\n\n    @Autowired\n    private ApplicationContext context;\n\n    public MyService getMyServiceBean() {\n        return context.getBean(MyService.class);\n    }\n    \n    // your code uses getMyServiceBean()\n}\n</code></pre>\n\n<p><strong>Update 2023.10.13</strong></p>\n<p>If you do not have <em>MyService</em> class at compile time, you can look up the class by name at runtime.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Example2 {\n\n    @Autowired\n    private ApplicationContext context;\n\n    public Object getMyServiceBean() throws ClassNotFoundException {\n        return context.getBean(Class.forName(&quot;my.package.MyService&quot;));\n    }\n\n    // your code uses getMyServiceBean()\n}\n</code></pre>\n\n<p>Note that in this case, you need to return <em>Object</em> (or another superclass or interface available at compile time) and handle <em>ClassNotFoundException</em> in case your class is not available at runtime either.</p>\n<p>You may also want to handle <em>NoSuchBeanDefinitionException</em> (runtime exception) in case the service is not defined as a bean.</p>\n"},{"comments":[{"owner":{"account_id":7702618,"reputation":125,"user_id":5834613,"display_name":"Domas A."},"score":0,"creation_date":1640372307,"post_id":62777843,"comment_id":124580038,"body_markdown":"you know that your declaration is static, and your method is not static?","body":"you know that your declaration is static, and your method is not static?"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1656146169,"post_id":62777843,"comment_id":128503881,"body_markdown":"What is the problem? It works well.","body":"What is the problem? It works well."},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":0,"creation_date":1698876134,"post_id":62777843,"comment_id":136461822,"body_markdown":"Yeah @DomasA. is correct , there certainly is a problem with your code with the static keyword there","body":"Yeah @DomasA. is correct , there certainly is a problem with your code with the static keyword there"}],"tags":[],"owner":{"account_id":8876480,"reputation":87,"user_id":6628440,"display_name":"Aman Malhotra"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594132970,"creation_date":1594132970,"answer_id":62777843,"question_id":34088780,"body_markdown":"Even after adding @Autowire if your class is not a RestController or Configuration Class, the applicationContext object was coming as null. Tried Creating new class with below and it is working fine:\r\n\r\n    @Component\r\n    public class SpringContext implements ApplicationContextAware{\r\n\r\n       private static ApplicationContext applicationContext;\r\n\r\n       @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws \r\n         BeansException {\r\n        this.applicationContext=applicationContext;\r\n       }\r\n     }\r\n\r\nyou can then implement a getter method in the same class as per your need to get the bean. Like:\r\n\r\n        applicationContext.getBean(String serviceName,Interface.Class)","title":"How to get bean using application context in spring boot","body":"<p>Even after adding @Autowire if your class is not a RestController or Configuration Class, the applicationContext object was coming as null. Tried Creating new class with below and it is working fine:</p>\n<pre><code>@Component\npublic class SpringContext implements ApplicationContextAware{\n\n   private static ApplicationContext applicationContext;\n\n   @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws \n     BeansException {\n    this.applicationContext=applicationContext;\n   }\n }\n</code></pre>\n<p>you can then implement a getter method in the same class as per your need to get the bean. Like:</p>\n<pre><code>    applicationContext.getBean(String serviceName,Interface.Class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600436568,"creation_date":1600436568,"answer_id":63956953,"question_id":34088780,"body_markdown":"Using `SpringApplication.run(Class&lt;?&gt; primarySource, String... arg)` worked for me. E.g.:\r\n\r\n    @SpringBootApplication\r\n    public class YourApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext context = SpringApplication.run(YourApplication.class, args);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>Using <code>SpringApplication.run(Class&lt;?&gt; primarySource, String... arg)</code> worked for me. E.g.:</p>\n<pre><code>@SpringBootApplication\npublic class YourApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(YourApplication.class, args);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2833171,"reputation":577,"user_id":2434307,"display_name":"Jose Quijada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623094065,"creation_date":1606359684,"answer_id":65015546,"question_id":34088780,"body_markdown":"One API method I use when I&#39;m not sure what the bean name is `org.springframework.beans.factory.ListableBeanFactory#getBeanNamesForType(java.lang.Class&lt;?&gt;)`. I simple pass it the class type and it retrieves a list of beans for me. You can be as specific or general as you&#39;d like to retrieve all the beans associated with that type and its subtypes, example\r\n\r\n```\r\n@Autowired\r\nApplicationContext ctx\r\n\r\n...\r\n\r\nSomeController controller = ctx.getBeanNamesForType(SomeController)\r\n```","title":"How to get bean using application context in spring boot","body":"<p>One API method I use when I'm not sure what the bean name is <code>org.springframework.beans.factory.ListableBeanFactory#getBeanNamesForType(java.lang.Class&lt;?&gt;)</code>. I simple pass it the class type and it retrieves a list of beans for me. You can be as specific or general as you'd like to retrieve all the beans associated with that type and its subtypes, example</p>\n<pre><code>@Autowired\nApplicationContext ctx\n\n...\n\nSomeController controller = ctx.getBeanNamesForType(SomeController)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20854728,"reputation":87,"user_id":15318369,"display_name":"simerbhatti"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618430357,"creation_date":1618430357,"answer_id":67098339,"question_id":34088780,"body_markdown":"Easy way in configration class call the BEAN annoted method . Yes u heard it right---- :P  calling SpringBoot @Bean annoted method return the same bean from config .I was trying to call a logout in @predestroy method in config class from a bean and direcltly called the method to get the same bean .\r\nP.S. : I added debug in the @bean annotated method but it didn&#39;t entered the method even when i called it.Sure to blame -----&gt; Spring Magic &lt;----","title":"How to get bean using application context in spring boot","body":"<p>Easy way in configration class call the BEAN annoted method . Yes u heard it right---- :P  calling SpringBoot @Bean annoted method return the same bean from config .I was trying to call a logout in @predestroy method in config class from a bean and direcltly called the method to get the same bean .\nP.S. : I added debug in the @bean annotated method but it didn't entered the method even when i called it.Sure to blame -----&gt; Spring Magic &lt;----</p>\n"},{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640715929,"creation_date":1640715100,"answer_id":70510910,"question_id":34088780,"body_markdown":"As an alternative approach you can use `ConfigurableApplicationContext` to get bean of any class which is annotated with `@Component`, `@Repository` or `@Service`.\r\n\r\nLet&#39;s say you want to get a bean of the class *BaseComponent* :\r\n\r\n    @Service\r\n    public class BaseComponent {\r\n    \tpublic String getMessage() {\r\n    \t\treturn &quot;hello world&quot;;\r\n    \t}\r\n    }\r\nNow you can use `ConfigurableApplicationContext` to get the bean: \r\n   \r\n    @Component\r\n    public class DemoComponent {\r\n    \t@Autowired\r\n    \tConfigurableApplicationContext applicationContext;\r\n    \t\r\n    \tpublic BaseComponent getBeanOfBaseComponent() {\r\n            return applicationContext.getBean(BaseComponent.class);\r\n    \t}\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>As an alternative approach you can use <code>ConfigurableApplicationContext</code> to get bean of any class which is annotated with <code>@Component</code>, <code>@Repository</code> or <code>@Service</code>.</p>\n<p>Let's say you want to get a bean of the class <em>BaseComponent</em> :</p>\n<pre><code>@Service\npublic class BaseComponent {\n    public String getMessage() {\n        return &quot;hello world&quot;;\n    }\n}\n</code></pre>\n<p>Now you can use <code>ConfigurableApplicationContext</code> to get the bean:</p>\n<pre><code>@Component\npublic class DemoComponent {\n    @Autowired\n    ConfigurableApplicationContext applicationContext;\n    \n    public BaseComponent getBeanOfBaseComponent() {\n        return applicationContext.getBean(BaseComponent.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14452573,"reputation":59,"user_id":10439615,"display_name":"Soumadip Dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689265898,"creation_date":1689265898,"answer_id":76681566,"question_id":34088780,"body_markdown":"    package com.codewithsouma.firstspringproject;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class TestBinarySearch {\r\n        @Autowired\r\n        private ApplicationContext applicationContext;\r\n    \r\n        public void execute(){\r\n            BinarySearchImpl binarySearch = applicationContext.getBean(BinarySearchImpl.class);\r\n            int index = binarySearch.binarySearch(new int[]{10,20,30,40,50},30);\r\n            System.out.println(&quot;The number is present at index: &quot;+index);\r\n        }\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<pre><code>package com.codewithsouma.firstspringproject;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TestBinarySearch {\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    public void execute(){\n        BinarySearchImpl binarySearch = applicationContext.getBean(BinarySearchImpl.class);\n        int index = binarySearch.binarySearch(new int[]{10,20,30,40,50},30);\n        System.out.println(&quot;The number is present at index: &quot;+index);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5862830,"reputation":9248,"user_id":4617914,"accept_rate":12,"display_name":"Qasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403738,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"answer_count":13,"score":85,"last_activity_date":1697194827,"creation_date":1449233243,"question_id":34088780,"body_markdown":"I am developing a SpringBoot project and I want to get the bean by its name using `applicationContext`. I have tried many solution from web but could not succeed. My Requirement is that I have a controller \r\n\r\n    ControllerA\r\n\r\nand inside the controller I have a method `getBean(String className)`. I want to get instance of registered bean. I have hibernate entities and I want to get an instance of the bean by passing the name of class only in `getBean` method.\r\n\r\nPlease help if someone know the solution.","title":"How to get bean using application context in spring boot","body":"<p>I am developing a SpringBoot project and I want to get the bean by its name using <code>applicationContext</code>. I have tried many solution from web but could not succeed. My Requirement is that I have a controller </p>\n\n<pre><code>ControllerA\n</code></pre>\n\n<p>and inside the controller I have a method <code>getBean(String className)</code>. I want to get instance of registered bean. I have hibernate entities and I want to get an instance of the bean by passing the name of class only in <code>getBean</code> method.</p>\n\n<p>Please help if someone know the solution.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"owner":{"account_id":1096096,"reputation":745,"user_id":1089668,"accept_rate":60,"display_name":"zambotn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697194754,"creation_date":1697194754,"question_id":77287194,"body_markdown":"So let&#39;s say I have bidirectional relations between two objects (getter and setters omitted):\r\n\r\n```java\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property=&quot;$id&quot;)\r\n    public class Author {\r\n        @JsonProperty(&quot;$id&quot;)\r\n        private int id;\r\n        private String name;\r\n        private List&lt;Book&gt; books;\r\n    }\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property=&quot;$id&quot;)\r\n    public class Book {\r\n        @JsonProperty(&quot;$id&quot;)\r\n        private int id;\r\n        private String title;\r\n        private List&lt;Author&gt; authors;\r\n    }\r\n```\r\n\r\nI can then create an object I want to serialize:\r\n```java\r\n        Author tolkien = new Author();\r\n        tolkien.id = 1;\r\n        tolkien.name = &quot;J.R.R. Tolkien&quot;;\r\n        tolkien.books = Arrays.asList(new Book(), new Book());\r\n        tolkien.books.get(0).id = 2;\r\n        tolkien.books.get(0).title = &quot;Lord of the Rings&quot;;\r\n        tolkien.books.get(0).authors = List.of(tolkien);\r\n        tolkien.books.get(1).id = 3;\r\n        tolkien.books.get(1).title = &quot;The Dragon Hunter&quot;;\r\n        tolkien.books.get(1).authors = List.of(tolkien);\r\n\r\n        System.out.println(objectMapper.writeValueAsString(tolkien));\r\n```\r\nthis will print:\r\n```json\r\n{\r\n  &quot;$id&quot; : 1,\r\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\r\n  &quot;books&quot; : [ {\r\n    &quot;$id&quot; : 2,\r\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\r\n    &quot;authors&quot; : [ 1 ]\r\n  }, {\r\n    &quot;$id&quot; : 3,\r\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\r\n    &quot;authors&quot; : [ 1 ]\r\n  } ]\r\n}\r\n```\r\nThis is 99% of the work, but the way JSON.NET is serializing the object references is closer to JSON Schema standard and makes use of a similar API, writing the reference as an object instead of just an id (which IMHO is much better because it allows to recognize references from data):\r\n```json\r\n{\r\n  &quot;$id&quot; : 1,\r\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\r\n  &quot;books&quot; : [ {\r\n    &quot;$id&quot; : 2,\r\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\r\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\r\n  }, {\r\n    &quot;$id&quot; : 3,\r\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\r\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\r\n  } ]\r\n}\r\n```\r\n\r\nHow can I make the two services interoperable **from Java/Jackson&#39;s side** (I cannot modify the .NET code)? \r\n","title":"How to make Jackson databind communicate with Json.Net","body":"<p>So let's say I have bidirectional relations between two objects (getter and setters omitted):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\n            property=&quot;$id&quot;)\n    public class Author {\n        @JsonProperty(&quot;$id&quot;)\n        private int id;\n        private String name;\n        private List&lt;Book&gt; books;\n    }\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\n            property=&quot;$id&quot;)\n    public class Book {\n        @JsonProperty(&quot;$id&quot;)\n        private int id;\n        private String title;\n        private List&lt;Author&gt; authors;\n    }\n</code></pre>\n<p>I can then create an object I want to serialize:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Author tolkien = new Author();\n        tolkien.id = 1;\n        tolkien.name = &quot;J.R.R. Tolkien&quot;;\n        tolkien.books = Arrays.asList(new Book(), new Book());\n        tolkien.books.get(0).id = 2;\n        tolkien.books.get(0).title = &quot;Lord of the Rings&quot;;\n        tolkien.books.get(0).authors = List.of(tolkien);\n        tolkien.books.get(1).id = 3;\n        tolkien.books.get(1).title = &quot;The Dragon Hunter&quot;;\n        tolkien.books.get(1).authors = List.of(tolkien);\n\n        System.out.println(objectMapper.writeValueAsString(tolkien));\n</code></pre>\n<p>this will print:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$id&quot; : 1,\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\n  &quot;books&quot; : [ {\n    &quot;$id&quot; : 2,\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\n    &quot;authors&quot; : [ 1 ]\n  }, {\n    &quot;$id&quot; : 3,\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\n    &quot;authors&quot; : [ 1 ]\n  } ]\n}\n</code></pre>\n<p>This is 99% of the work, but the way JSON.NET is serializing the object references is closer to JSON Schema standard and makes use of a similar API, writing the reference as an object instead of just an id (which IMHO is much better because it allows to recognize references from data):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$id&quot; : 1,\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\n  &quot;books&quot; : [ {\n    &quot;$id&quot; : 2,\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\n  }, {\n    &quot;$id&quot; : 3,\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\n  } ]\n}\n</code></pre>\n<p>How can I make the two services interoperable <strong>from Java/Jackson's side</strong> (I cannot modify the .NET code)?</p>\n"},{"tags":["java","spring","properties","feature-flags"],"owner":{"account_id":3540628,"reputation":98,"user_id":2957840,"display_name":"z48o0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697194663,"creation_date":1697194091,"question_id":77287124,"body_markdown":"To enable feature flag on controller level I will use for example ConditionalOnProperty annotation to give me options to control it via properties sth like this.\r\n\r\n```java\r\n@RestController\r\n@ConditionalOnProperty(name = &quot;featureFlag&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\npublic class TestController {\r\n\r\n    @GetMapping()\r\n    public String echo(@RequestParam String message) {\r\n        return message;\r\n    }\r\n}\r\n```\r\n\r\nHow do I disable only the echo method, and not the whole controller?","title":"How to use ConditionalOnProperty on method level","body":"<p>To enable feature flag on controller level I will use for example ConditionalOnProperty annotation to give me options to control it via properties sth like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@ConditionalOnProperty(name = &quot;featureFlag&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\npublic class TestController {\n\n    @GetMapping()\n    public String echo(@RequestParam String message) {\n        return message;\n    }\n}\n</code></pre>\n<p>How do I disable only the echo method, and not the whole controller?</p>\n"},{"tags":["java","java-8","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697195291,"post_id":77286965,"comment_id":136252496,"body_markdown":"Naive benchmarks (like this one) tend give specious results.  While this may or may not be this case, it is not worth speculating on (or investigating) a performance difference which could be an illusion.  I suggest you carefully read duplink above, rewrite the benchmark (using JMH), and see if there is still a performance difference that is significant enough to investigate.  (And you should also include the actual performance results.)","body":"Naive benchmarks (like this one) tend give specious results.  While this may or may not be this case, it is not worth speculating on (or investigating) a performance difference which could be an illusion.  I suggest you carefully read duplink above, rewrite the benchmark (using JMH), and see if there is still a performance difference that is significant enough to investigate.  (And you should also include the actual performance results.)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697196024,"post_id":77286965,"comment_id":136252632,"body_markdown":"You are mostly measuring the garbage collection time. The GC algorithms involved are optimized for real life applications, not for artificial micro-benchmarks. For this specific case, I’d even expect `-XX:+UseSerialGC` to be the fastest, so try it with that on both Java versions…","body":"You are mostly measuring the garbage collection time. The GC algorithms involved are optimized for real life applications, not for artificial micro-benchmarks. For this specific case, I’d even expect <code>-XX:+UseSerialGC</code> to be the fastest, so try it with that on both Java versions…"},{"owner":{"account_id":25832083,"reputation":11,"user_id":19569078,"display_name":"xiaoming wang"},"score":0,"creation_date":1697201048,"post_id":77286965,"comment_id":136253501,"body_markdown":"@Holger Thank you !!!  After JDK 17 use the XX:+UseSerialGC, they used the same time.  \n\nYou are such a genius !","body":"@Holger Thank you !!!  After JDK 17 use the XX:+UseSerialGC, they used the same time.    You are such a genius !"}],"owner":{"account_id":25832083,"reputation":11,"user_id":19569078,"display_name":"xiaoming wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1697195402,"answer_count":0,"score":0,"last_activity_date":1697194420,"creation_date":1697192617,"question_id":77286965,"body_markdown":"When I use the Arraylist.add() method in a large loop, Java 8 is faster than Java 17.\r\n\r\nThat&#39;s why? Is this because of the method `calculateCapacity(Object[] elementData, int minCapacity)`?\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class T2 {\r\n    static Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n    static {\r\n        map.put(&quot;key&quot;, &quot;value&quot;);\r\n    }\r\n\r\n    // loop for 10000000 times\r\n    public static long TIMES = 10000000;\r\n\r\n    /**\r\n     * run with jdk17 and jdk8\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        long l1 = 0;\r\n        int ii = 10;\r\n        for (int i = 0; i &lt; ii; i++) {\r\n            StopWatch s = new StopWatch();\r\n            s.start();\r\n            t3();\r\n            s.stop();\r\n            l1 += s.getTotalTimeMillis();\r\n            System.out.println(s.getTotalTimeMillis());\r\n            System.out.println(s.prettyPrint());\r\n        }\r\n        System.out.println(&quot;loop&quot; + ii + &quot;times&quot;);\r\n        System.out.println(&quot;Average time :&quot; + l1 / ii+&quot;ms&quot;);\r\n    }\r\n\r\n    static void t3() {\r\n        Object o = map.get(&quot;key&quot;);\r\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; TIMES; i++) {\r\n            s.add(o.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have run this with Windows 11 and macOS, achieving the same results: Java 8 is faster than Java 17.","title":"Why is Arraylist.add() of Java 8 faster than Java 17?","body":"<p>When I use the Arraylist.add() method in a large loop, Java 8 is faster than Java 17.</p>\n<p>That's why? Is this because of the method <code>calculateCapacity(Object[] elementData, int minCapacity)</code>?</p>\n<p>This is my code:</p>\n<pre><code>public class T2 {\n    static Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n    static {\n        map.put(&quot;key&quot;, &quot;value&quot;);\n    }\n\n    // loop for 10000000 times\n    public static long TIMES = 10000000;\n\n    /**\n     * run with jdk17 and jdk8\n     * @param args\n     */\n    public static void main(String[] args) {\n        long l1 = 0;\n        int ii = 10;\n        for (int i = 0; i &lt; ii; i++) {\n            StopWatch s = new StopWatch();\n            s.start();\n            t3();\n            s.stop();\n            l1 += s.getTotalTimeMillis();\n            System.out.println(s.getTotalTimeMillis());\n            System.out.println(s.prettyPrint());\n        }\n        System.out.println(&quot;loop&quot; + ii + &quot;times&quot;);\n        System.out.println(&quot;Average time :&quot; + l1 / ii+&quot;ms&quot;);\n    }\n\n    static void t3() {\n        Object o = map.get(&quot;key&quot;);\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; TIMES; i++) {\n            s.add(o.toString());\n        }\n    }\n}\n</code></pre>\n<p>I have run this with Windows 11 and macOS, achieving the same results: Java 8 is faster than Java 17.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","swagger"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1697099182,"post_id":77277897,"comment_id":136237642,"body_markdown":"just change `/v3/api-docs` to `/v3/api-docs/**` in your `AUTH_WHITELIST` it is going to help you.","body":"just change <code>&#47;v3&#47;api-docs</code> to <code>&#47;v3&#47;api-docs&#47;**</code> in your <code>AUTH_WHITELIST</code> it is going to help you."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1697103011,"post_id":77277897,"comment_id":136238443,"body_markdown":"Does this answer your question? [Swagger UI empty and gives 403](https://stackoverflow.com/questions/48567900/swagger-ui-empty-and-gives-403)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48567900/swagger-ui-empty-and-gives-403\">Swagger UI empty and gives 403</a>"}],"answers":[{"tags":[],"owner":{"account_id":8795718,"reputation":346,"user_id":6573672,"display_name":"Mehmet Onar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697100762,"creation_date":1697100762,"answer_id":77279108,"question_id":77277897,"body_markdown":"first after running your application check your services endpoints. there is mappings in intellij idea ide &gt; services &gt; your service &gt; actuator &gt; mappings. check swagger endpoints and create your security white list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oa31P.png","title":"Why am I getting 403 forbidden error while accessing swagger ui from browser?","body":"<p>first after running your application check your services endpoints. there is mappings in intellij idea ide &gt; services &gt; your service &gt; actuator &gt; mappings. check swagger endpoints and create your security white list.</p>\n<p><a href=\"https://i.stack.imgur.com/Oa31P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oa31P.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16603650,"reputation":31,"user_id":11998677,"display_name":"nisshar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697194306,"creation_date":1697088369,"question_id":77277897,"body_markdown":"This is my SecurityConfig class. I have whitelisted several endpoints using spring security but still getting 403 forbidden error when accessing swagger ui from browser. /auth/login and /auth/signup endpoints are working fine. \r\n```\r\npackage com.navyug.security.authn.config;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport com.navyug.security.authn.service.UserServiceImpl;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\t@Autowired\r\n\tprivate UserServiceImpl userDetailsServiceImpl;\r\n\r\n\tprivate static final String[] AUTH_WHITELIST = { &quot;/v2/api-docs&quot;, &quot;/v3/api-docs&quot;, &quot;/swagger-resources&quot;,\r\n\t\t\t&quot;/swagger-resources/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/webjars/**&quot;, &quot;/api-docs.yaml&quot;, &quot;/ws&quot;,\r\n\t\t\t&quot;auth/login&quot;, &quot;auth/signup&quot;, &quot;/&quot;, &quot;/*.js&quot;, &quot;/*.ico&quot;, &quot;/*.json&quot;, &quot;/*.png&quot;, &quot;/*.jpg&quot;, &quot;/*.txt*&quot;, &quot;/*.css&quot; };\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests(configurer -&gt; configurer.requestMatchers(AUTH_WHITELIST).permitAll())\r\n\t\t\t\t.httpBasic(withDefaults()).csrf((csrf) -&gt; csrf.disable());\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n\t\treturn authConfig.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n\t\tauthProvider.setUserDetailsService(userDetailsServiceImpl);\r\n\t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n\t\treturn authProvider;\r\n\t}\r\n}\r\n```\r\nThis is my application.properties file. \r\n```\r\nspringdoc.api-docs.path=/api-docs\r\nspringdoc.swagger-ui.path=/swagger-ui.html\r\nspringdoc.swagger-ui.enabled=true\r\nspringdoc.swagger-ui.with-credentials=false\r\n```\r\n\r\nI am using spring boot 3.1.4 and SpringDoc OpenAPI Starter WebMVC UI 2.2.0. \r\n\r\nThanks in advance.\r\n","title":"Why am I getting 403 forbidden error while accessing swagger ui from browser?","body":"<p>This is my SecurityConfig class. I have whitelisted several endpoints using spring security but still getting 403 forbidden error when accessing swagger ui from browser. /auth/login and /auth/signup endpoints are working fine.</p>\n<pre><code>package com.navyug.security.authn.config;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport com.navyug.security.authn.service.UserServiceImpl;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Autowired\n    private UserServiceImpl userDetailsServiceImpl;\n\n    private static final String[] AUTH_WHITELIST = { &quot;/v2/api-docs&quot;, &quot;/v3/api-docs&quot;, &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/webjars/**&quot;, &quot;/api-docs.yaml&quot;, &quot;/ws&quot;,\n            &quot;auth/login&quot;, &quot;auth/signup&quot;, &quot;/&quot;, &quot;/*.js&quot;, &quot;/*.ico&quot;, &quot;/*.json&quot;, &quot;/*.png&quot;, &quot;/*.jpg&quot;, &quot;/*.txt*&quot;, &quot;/*.css&quot; };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(configurer -&gt; configurer.requestMatchers(AUTH_WHITELIST).permitAll())\n                .httpBasic(withDefaults()).csrf((csrf) -&gt; csrf.disable());\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsServiceImpl);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n}\n</code></pre>\n<p>This is my application.properties file.</p>\n<pre><code>springdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.swagger-ui.enabled=true\nspringdoc.swagger-ui.with-credentials=false\n</code></pre>\n<p>I am using spring boot 3.1.4 and SpringDoc OpenAPI Starter WebMVC UI 2.2.0.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","multithreading","clickhouse"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697193113,"post_id":77286919,"comment_id":136252124,"body_markdown":"There is only one database server, only one network, and only one disk. You can multithread all you like at the client, but, as you’ve just proven, you will only make it worse.","body":"There is only one database server, only one network, and only one disk. You can multithread all you like at the client, but, as you’ve just proven, you will only make it worse."},{"owner":{"account_id":10191053,"reputation":45,"user_id":7524466,"display_name":"Boris"},"score":0,"creation_date":1697196889,"post_id":77286919,"comment_id":136252779,"body_markdown":"@user207421 ok but how can I solve this issue? and why with bash script the perfomance is better?","body":"@user207421 ok but how can I solve this issue? and why with bash script the perfomance is better?"}],"answers":[{"tags":[],"owner":{"account_id":16423363,"reputation":1,"user_id":11864019,"display_name":"Giuseppe Previti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697194054,"creation_date":1697194054,"answer_id":77287118,"question_id":77286919,"body_markdown":"Depending on the origin of your data (see &quot;In transactionally consistent caches&quot; or &quot;In transactionally inconsistent caches&quot;), you may consider using the **use_query_cache** setting, for example:\r\n\r\n    SELECT some_expensive_calculation(column_1, column_2)\r\n    FROM table\r\n    SETTINGS use_query_cache = true;\r\n\r\nhere you will find all the details: https://clickhouse.com/docs/en/operations/query-cache.\r\n\r\nReducing latency and resource consumption could further increase performance","title":"Clickhouse java client multiple threads select perfomance","body":"<p>Depending on the origin of your data (see &quot;In transactionally consistent caches&quot; or &quot;In transactionally inconsistent caches&quot;), you may consider using the <strong>use_query_cache</strong> setting, for example:</p>\n<pre><code>SELECT some_expensive_calculation(column_1, column_2)\nFROM table\nSETTINGS use_query_cache = true;\n</code></pre>\n<p>here you will find all the details: <a href=\"https://clickhouse.com/docs/en/operations/query-cache\" rel=\"nofollow noreferrer\">https://clickhouse.com/docs/en/operations/query-cache</a>.</p>\n<p>Reducing latency and resource consumption could further increase performance</p>\n"}],"owner":{"account_id":10191053,"reputation":45,"user_id":7524466,"display_name":"Boris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697194054,"creation_date":1697192244,"question_id":77286919,"body_markdown":"    try (ClickHouseClient client = ClickHouseClient.newInstance(ClickHouseProtocol.HTTP)) {\r\n    \t\t\tClickHouseResponse response = client.connect(getServer())// or client.connect(endpoints)\r\n    \t\t\t\t\t.format(ClickHouseFormat.RowBinaryWithNamesAndTypes)\r\n    \t\t\t\t\t.query(selectQuery)\r\n    \t\t\t\t\t.executeAndWait();\r\n    \t\t\t{\r\n    \t\t\t\treturn castResult(response);\r\n    \t\t\t}\r\n    \t\t}\r\n  \r\nI am using kafka with 100 partition or 100 threads that means that I execute the select query till 100 times in the same time maximum.\r\nWhen I try with 1 threads, the performance is less than 100 ms while when I am using with multiple threads the performance is around 1500ms. In the code there is no other complicated query.\r\nWhen I tried the perfomance with a script of curl from bash, the perfomance was still good less 200ms. \r\nWhat it is the best way to achieve great perfomance with java and clickhouse and multiple threads?\r\nAlso I do a insert like one in 30 seconds for 200-300 elements","title":"Clickhouse java client multiple threads select perfomance","body":"<pre><code>try (ClickHouseClient client = ClickHouseClient.newInstance(ClickHouseProtocol.HTTP)) {\n            ClickHouseResponse response = client.connect(getServer())// or client.connect(endpoints)\n                    .format(ClickHouseFormat.RowBinaryWithNamesAndTypes)\n                    .query(selectQuery)\n                    .executeAndWait();\n            {\n                return castResult(response);\n            }\n        }\n</code></pre>\n<p>I am using kafka with 100 partition or 100 threads that means that I execute the select query till 100 times in the same time maximum.\nWhen I try with 1 threads, the performance is less than 100 ms while when I am using with multiple threads the performance is around 1500ms. In the code there is no other complicated query.\nWhen I tried the perfomance with a script of curl from bash, the perfomance was still good less 200ms.\nWhat it is the best way to achieve great perfomance with java and clickhouse and multiple threads?\nAlso I do a insert like one in 30 seconds for 200-300 elements</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697153828,"post_id":77284242,"comment_id":136247619,"body_markdown":"You&#39;re already using a lambda. What do you mean exactly by &quot;functional Java-8 way&quot;?","body":"You&#39;re already using a lambda. What do you mean exactly by &quot;functional Java-8 way&quot;?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697163161,"post_id":77284242,"comment_id":136248334,"body_markdown":"As you have working code, you could ask this on the code review stack exchange site.","body":"As you have working code, you could ask this on the code review stack exchange site."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697164101,"post_id":77284242,"comment_id":136248405,"body_markdown":"btw, a minor simplification: `Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));`","body":"btw, a minor simplification: <code>Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));</code>"}],"answers":[{"comments":[{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1697155682,"post_id":77284327,"comment_id":136247776,"body_markdown":"One basic question @Nakip Ali, sometimes you cannot modify a variable while doing a stream. For example if I did count++ in my code above in the stream, it will complain that it needs to be final/effectively final. Why  `current` modifiable in your snippet? I lack that concept too","body":"One basic question @Nakip Ali, sometimes you cannot modify a variable while doing a stream. For example if I did count++ in my code above in the stream, it will complain that it needs to be final/effectively final. Why  <code>current</code> modifiable in your snippet? I lack that concept too"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697155811,"post_id":77284327,"comment_id":136247785,"body_markdown":"It isn&#39;t -- try compiling the code.","body":"It isn&#39;t -- try compiling the code."},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1697157792,"post_id":77284327,"comment_id":136247891,"body_markdown":"What do you mean @tgdavies, current is pointing to different values, it is being modified.","body":"What do you mean @tgdavies, current is pointing to different values, it is being modified."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697158082,"post_id":77284327,"comment_id":136247908,"body_markdown":"I mean that the code doesn&#39;t compile, because current is not modifiable, as you say. Try compiling the code.","body":"I mean that the code doesn&#39;t compile, because current is not modifiable, as you say. Try compiling the code."},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1697162400,"post_id":77284327,"comment_id":136248264,"body_markdown":"you are right @tgdavies, this code is incorrect. Do you have a solution for it?","body":"you are right @tgdavies, this code is incorrect. Do you have a solution for it?"},{"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"score":0,"creation_date":1697193330,"post_id":77284327,"comment_id":136252152,"body_markdown":"yes , you are right. I wanted give you a hint for solution. Here is the compileable code . i hope it helps for your question.","body":"yes , you are right. I wanted give you a hint for solution. Here is the compileable code . i hope it helps for your question."},{"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"score":0,"creation_date":1697194070,"post_id":77284327,"comment_id":136252283,"body_markdown":"@curiousengineer i&#39;ve already editted my answer.","body":"@curiousengineer i&#39;ve already editted my answer."},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1697210285,"post_id":77284327,"comment_id":136255455,"body_markdown":"So basically use a reference and change the value where the reference is pointing to","body":"So basically use a reference and change the value where the reference is pointing to"},{"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"score":0,"creation_date":1697222203,"post_id":77284327,"comment_id":136257700,"body_markdown":"For programming in functional way in java8 , as you said this is one of the solutions for your example , basically :) .","body":"For programming in functional way in java8 , as you said this is one of the solutions for your example , basically :) ."}],"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"comment_count":9,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697193890,"creation_date":1697153548,"answer_id":77284327,"question_id":77284242,"body_markdown":"You can use [Stream API][1] which introduced in Java 8 for writing in functional way.\r\nThe code has re-written in functional for your example , i hope it helps :\r\n\r\n    public int eraseOverlapIntervals(int[][] intervals) {\r\n           Comparator&lt;int[]&gt; comparator = Comparator.comparingInt(e -&gt; e[0]);\r\n            Arrays.sort(intervals, comparator);\r\n        \r\n            final int[] current = { intervals[0][0], intervals[0][1] };\r\n            final int[] result = { 0 };\r\n            \r\n            Arrays.stream(intervals)\r\n                .skip(1)\r\n                .forEach(next -&gt; {\r\n                    if (current[1] &lt;= next[0]) {\r\n                        current[0] = next[0];\r\n                        current[1] = next[1];\r\n                    } else {\r\n                        result[0]++;\r\n                        if (current[1] &gt; next[1]) {\r\n                            current[0] = next[0];\r\n                            current[1] = next[1];\r\n                        }\r\n                    }\r\n                });\r\n            \r\n            return intervals.length - result[0];\r\n\r\n    }\r\n\r\n        \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n\r\n\r\nI&#39;ve already re-edited my answer for honest compiling error.I hope this answer will be help\r\n","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Stream API</a> which introduced in Java 8 for writing in functional way.\nThe code has re-written in functional for your example , i hope it helps :</p>\n<pre><code>public int eraseOverlapIntervals(int[][] intervals) {\n       Comparator&lt;int[]&gt; comparator = Comparator.comparingInt(e -&gt; e[0]);\n        Arrays.sort(intervals, comparator);\n    \n        final int[] current = { intervals[0][0], intervals[0][1] };\n        final int[] result = { 0 };\n        \n        Arrays.stream(intervals)\n            .skip(1)\n            .forEach(next -&gt; {\n                if (current[1] &lt;= next[0]) {\n                    current[0] = next[0];\n                    current[1] = next[1];\n                } else {\n                    result[0]++;\n                    if (current[1] &gt; next[1]) {\n                        current[0] = next[0];\n                        current[1] = next[1];\n                    }\n                }\n            });\n        \n        return intervals.length - result[0];\n\n}\n\n    \n</code></pre>\n<p>I've already re-edited my answer for honest compiling error.I hope this answer will be help</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697173202,"creation_date":1697173202,"answer_id":77285150,"question_id":77284242,"body_markdown":"Try the following.\r\n\r\n```java\r\nint eraseOverlapIntervals(int[][] intervals) {\r\n    // Get max non overlapping intervals\r\n    class Current { int []current; }\r\n    final Current c = new Current() {{ current = intervals[0]; }};\r\n    return\r\n        intervals.length -\r\n        (int) Stream.of(intervals)\r\n                    .sorted(Comparator.comparingInt(e -&gt; e[0]))\r\n                    .skip(1)\r\n                    .filter(x -&gt; {\r\n                        if(c.current[1] &lt;= x[0]) {\r\n                            c.current = x;\r\n                            return true;\r\n                        } else if (c.current[1] &gt; x[1])\r\n                            c.current = x;\r\n                        return false;\r\n                    })\r\n                    .count();\r\n}\r\n```","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int eraseOverlapIntervals(int[][] intervals) {\n    // Get max non overlapping intervals\n    class Current { int []current; }\n    final Current c = new Current() {{ current = intervals[0]; }};\n    return\n        intervals.length -\n        (int) Stream.of(intervals)\n                    .sorted(Comparator.comparingInt(e -&gt; e[0]))\n                    .skip(1)\n                    .filter(x -&gt; {\n                        if(c.current[1] &lt;= x[0]) {\n                            c.current = x;\n                            return true;\n                        } else if (c.current[1] &gt; x[1])\n                            c.current = x;\n                        return false;\n                    })\n                    .count();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697174146,"creation_date":1697174146,"answer_id":77285204,"question_id":77284242,"body_markdown":"Please spend sometime on documentation and explore Java 8 functions, because in this way you will get the solution but you will not learn. \r\nHave a look on below solution It might help you:\r\n\r\n    public static void main(String[] args) {\r\n        int[][] intervals = {{1, 3}, {2, 4}, {5, 7}, {6, 8}};\r\n\r\n        int count = eraseOverlapIntervals(intervals);\r\n\r\n        System.out.println(&quot;The number of non-overlapping intervals is: &quot; + count);\r\n    }\r\n\r\n    public static int eraseOverlapIntervals(int[][] intervals) {\r\n        // Sort the intervals by their start values\r\n        Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));\r\n        AtomicInteger count = new AtomicInteger(1);\r\n        final int[][] current = {intervals[0]};\r\n        Arrays.stream(intervals, 1, intervals.length)\r\n                .forEach(next -&gt; {\r\n                    if (current[0][1] &lt;= next[0]) {\r\n                        current[0] = next;\r\n                        count.getAndIncrement();\r\n                    } else if (current[0][1] &gt; next[1]) {\r\n                        current[0] = next;\r\n                    }\r\n                });\r\n\r\n        return intervals.length - count.get();\r\n    }\r\n\r\n ","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>Please spend sometime on documentation and explore Java 8 functions, because in this way you will get the solution but you will not learn.\nHave a look on below solution It might help you:</p>\n<pre><code>public static void main(String[] args) {\n    int[][] intervals = {{1, 3}, {2, 4}, {5, 7}, {6, 8}};\n\n    int count = eraseOverlapIntervals(intervals);\n\n    System.out.println(&quot;The number of non-overlapping intervals is: &quot; + count);\n}\n\npublic static int eraseOverlapIntervals(int[][] intervals) {\n    // Sort the intervals by their start values\n    Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));\n    AtomicInteger count = new AtomicInteger(1);\n    final int[][] current = {intervals[0]};\n    Arrays.stream(intervals, 1, intervals.length)\n            .forEach(next -&gt; {\n                if (current[0][1] &lt;= next[0]) {\n                    current[0] = next;\n                    count.getAndIncrement();\n                } else if (current[0][1] &gt; next[1]) {\n                    current[0] = next;\n                }\n            });\n\n    return intervals.length - count.get();\n}\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1697193890,"creation_date":1697151760,"question_id":77284242,"body_markdown":"I have the following snippet\r\n```\r\n    public int eraseOverlapIntervals(int[][] intervals) {\r\n        Comparator&lt;int []&gt; c = (e1,e2)-&gt;Integer.compare(e1[0],e2[0]);\r\n\r\n        Arrays.sort(intervals,c);\r\n        // Get max non overlapping intervals\r\n        int count = 1;\r\n        int []current = intervals[0];\r\n        for(int i = 1; i&lt;intervals.length; i++) {\r\n            int []next = intervals[i];\r\n            if(current[1]&lt;=next[0]) {\r\n                current = next;\r\n                count++;\r\n            } else {\r\n                if(current[1]&gt;next[1]) {\r\n                    current = next;\r\n                }\r\n            }\r\n        }\r\n        return intervals.length-count;\r\n    }\r\n}\r\n```\r\nHow do I re-write it in a purely functional Java-8 way? ","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>I have the following snippet</p>\n<pre><code>    public int eraseOverlapIntervals(int[][] intervals) {\n        Comparator&lt;int []&gt; c = (e1,e2)-&gt;Integer.compare(e1[0],e2[0]);\n\n        Arrays.sort(intervals,c);\n        // Get max non overlapping intervals\n        int count = 1;\n        int []current = intervals[0];\n        for(int i = 1; i&lt;intervals.length; i++) {\n            int []next = intervals[i];\n            if(current[1]&lt;=next[0]) {\n                current = next;\n                count++;\n            } else {\n                if(current[1]&gt;next[1]) {\n                    current = next;\n                }\n            }\n        }\n        return intervals.length-count;\n    }\n}\n</code></pre>\n<p>How do I re-write it in a purely functional Java-8 way?</p>\n"},{"tags":["java","generics","builder"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697193462,"post_id":77286981,"comment_id":136252178,"body_markdown":"Do you realize that this `with` method does not simplify anything? Compare with `ComponentStatus  result; { var b = new ComponentStatus.Builder(); b.name = element.getName(); b.state = element.getState(); b.status = element.getStatus(); b.description = element.getStatusDescription(); result = b.build(); }`","body":"Do you realize that this <code>with</code> method does not simplify anything? Compare with <code>ComponentStatus  result; { var b = new ComponentStatus.Builder(); b.name = element.getName(); b.state = element.getState(); b.status = element.getStatus(); b.description = element.getStatusDescription(); result = b.build(); }</code>"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1697199011,"post_id":77286981,"comment_id":136253136,"body_markdown":"@Holger ok, but its fluent","body":"@Holger ok, but its fluent"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697199498,"post_id":77286981,"comment_id":136253231,"body_markdown":"But once you took the time to write a builder, why not provide it with dedicated methods, so the code using it can look like `ComponentStatus result = ComponentStatus.builder() .name(element.getName()) .state(element.getState()) .status(element.getStatus()) .description(element.getStatusDescription()) .build();` Why do you focus on the code size of the builder rather than the code using it?","body":"But once you took the time to write a builder, why not provide it with dedicated methods, so the code using it can look like <code>ComponentStatus result = ComponentStatus.builder() .name(element.getName()) .state(element.getState()) .status(element.getStatus()) .description(element.getStatusDescription()) .build();</code> Why do you focus on the code size of the builder rather than the code using it?"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1697200364,"post_id":77286981,"comment_id":136253380,"body_markdown":"@Holger I suppose I could add withName() etc. https://medium.com/beingprofessional/think-functional-advanced-builder-pattern-using-lambda-284714b85ed5 Simple usage is higher priority. I&#39;m exploring my options","body":"@Holger I suppose I could add withName() etc. <a href=\"https://medium.com/beingprofessional/think-functional-advanced-builder-pattern-using-lambda-284714b85ed5\" rel=\"nofollow noreferrer\">medium.com/beingprofessional/&hellip;</a> Simple usage is higher priority. I&#39;m exploring my options"}],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697193711,"creation_date":1697192783,"question_id":77286981,"body_markdown":"I made a functional builder for a class which works like so\r\n\r\n```java\r\nnew ComponentStatus.Builder()\r\n        .with($ -&gt; {\r\n          $.name = element.getName();\r\n          $.state = element.getState();\r\n          $.status = element.getStatus();\r\n          $.description = element.getStatusDescription();\r\n        }).build();\r\n```\r\n\r\nThe class is\r\n\r\n```java\r\npublic class ComponentStatus {\r\n\r\n  private final String name;\r\n  private final int state;\r\n  private final int status;\r\n  private final String description;\r\n\r\n  ComponentStatus(String name, int state, int status, String description) {\r\n    this.name = name;\r\n    this.state = state;\r\n    this.status = status;\r\n    this.description = description;\r\n  }\r\n\r\n  public static class Builder {\r\n\r\n    public String name;\r\n    public int state;\r\n    public int status;\r\n    public String description;\r\n\r\n    Builder with(\r\n        Consumer&lt;Builder&gt; builderFunction) {\r\n      builderFunction.accept(this);\r\n      return this;\r\n    }\r\n\r\n    ComponentStatus build() {\r\n      return new ComponentStatus(name, state, status, description);\r\n    }\r\n\r\n  }\r\n}\r\n```\r\n\r\nIt works. Now I want to add a builder to other classes.\r\nThe `with()` method will always be the same, so I try to make an interface to save on boilerplate\r\n\r\n```java\r\npublic interface Buildable {\r\n\r\n  default Buildable with(\r\n      Consumer&lt;Buildable&gt; builderFunction) {\r\n    builderFunction.accept(this);\r\n    return this;\r\n  }\r\n\r\n    Object build();\r\n}\r\n```\r\n\r\nThis doesn&#39;t work since `with()` returns `Buildable` and not `&lt;? extends Buildable&gt;` but changing the return type doesn&#39;t work either. What to do?\r\n","title":"Java return an implementation of a builder","body":"<p>I made a functional builder for a class which works like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ComponentStatus.Builder()\n        .with($ -&gt; {\n          $.name = element.getName();\n          $.state = element.getState();\n          $.status = element.getStatus();\n          $.description = element.getStatusDescription();\n        }).build();\n</code></pre>\n<p>The class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComponentStatus {\n\n  private final String name;\n  private final int state;\n  private final int status;\n  private final String description;\n\n  ComponentStatus(String name, int state, int status, String description) {\n    this.name = name;\n    this.state = state;\n    this.status = status;\n    this.description = description;\n  }\n\n  public static class Builder {\n\n    public String name;\n    public int state;\n    public int status;\n    public String description;\n\n    Builder with(\n        Consumer&lt;Builder&gt; builderFunction) {\n      builderFunction.accept(this);\n      return this;\n    }\n\n    ComponentStatus build() {\n      return new ComponentStatus(name, state, status, description);\n    }\n\n  }\n}\n</code></pre>\n<p>It works. Now I want to add a builder to other classes.\nThe <code>with()</code> method will always be the same, so I try to make an interface to save on boilerplate</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Buildable {\n\n  default Buildable with(\n      Consumer&lt;Buildable&gt; builderFunction) {\n    builderFunction.accept(this);\n    return this;\n  }\n\n    Object build();\n}\n</code></pre>\n<p>This doesn't work since <code>with()</code> returns <code>Buildable</code> and not <code>&lt;? extends Buildable&gt;</code> but changing the return type doesn't work either. What to do?</p>\n"},{"tags":["java","spring","spring-boot","spring-websocket"],"answers":[{"comments":[{"owner":{"account_id":5451770,"reputation":65,"user_id":4336329,"display_name":"Rajan Patel"},"score":0,"creation_date":1532531792,"post_id":51521175,"comment_id":90013727,"body_markdown":"I added with  \tpublic void registerStompEndPoints(StompEndpointRegistry registry) {\n\t\tregistry.addEndpoint(&quot;/ws&quot;).withSockJS();","body":"I added with  \tpublic void registerStompEndPoints(StompEndpointRegistry registry) { \t\tregistry.addEndpoint(&quot;/ws&quot;).withSockJS();"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1532532454,"post_id":51521175,"comment_id":90014204,"body_markdown":"Do you really implement a `WebSocketMessageBrokerConfigurer` there? Maybe you have a slightly different error...","body":"Do you really implement a <code>WebSocketMessageBrokerConfigurer</code> there? Maybe you have a slightly different error..."},{"owner":{"account_id":5451770,"reputation":65,"user_id":4336329,"display_name":"Rajan Patel"},"score":0,"creation_date":1532533428,"post_id":51521175,"comment_id":90014781,"body_markdown":"Yes I have implemented websocketMessageBrokreConfigurer along with registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n\t\tregistry.enableSimpleBroker(&quot;/topic&quot;);","body":"Yes I have implemented websocketMessageBrokreConfigurer along with registry.setApplicationDestinationPrefixes(&quot;/app&quot;); \t\tregistry.enableSimpleBroker(&quot;/topic&quot;);"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1532534430,"post_id":51521175,"comment_id":90015353,"body_markdown":"Good. So, only what remains is a simple project from you somewhere on GitHub to let us to reproduce and play.","body":"Good. So, only what remains is a simple project from you somewhere on GitHub to let us to reproduce and play."},{"owner":{"account_id":5451770,"reputation":65,"user_id":4336329,"display_name":"Rajan Patel"},"score":1,"creation_date":1532543054,"post_id":51521175,"comment_id":90019623,"body_markdown":"There was a typo instead of registerStompendPoints I wrote registerStompEndPoints","body":"There was a typo instead of registerStompendPoints I wrote registerStompEndPoints"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1549635826,"post_id":51521175,"comment_id":95984853,"body_markdown":"i think your problem is a bit not actual to this old question. Please, raise a new SO thread with more details.","body":"i think your problem is a bit not actual to this old question. Please, raise a new SO thread with more details."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1532528143,"creation_date":1532528143,"answer_id":51521175,"question_id":51519981,"body_markdown":"Hm. Looks like you don&#39;t register any endpoints via a `WebSocketMessageBrokerConfigurer` implementation and overriding its `registerStompEndpoints(StompEndpointRegistry registry)`.\r\n\r\nExactly this is a place where `StompSubProtocolHandler` is added to that `SubProtocolWebSocketHandler`:\r\n\r\n    @Override\r\n\tpublic StompWebSocketEndpointRegistration addEndpoint(String... paths) {\r\n\t\tthis.subProtocolWebSocketHandler.addProtocolHandler(this.stompHandler);\r\n\t\tWebMvcStompWebSocketEndpointRegistration registration =\r\n\t\t\t\tnew WebMvcStompWebSocketEndpointRegistration(paths, this.webSocketHandler, this.sockJsScheduler);\r\n\t\tthis.registrations.add(registration);\r\n\t\treturn registration;\r\n\t}","title":"Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers","body":"<p>Hm. Looks like you don't register any endpoints via a <code>WebSocketMessageBrokerConfigurer</code> implementation and overriding its <code>registerStompEndpoints(StompEndpointRegistry registry)</code>.</p>\n\n<p>Exactly this is a place where <code>StompSubProtocolHandler</code> is added to that <code>SubProtocolWebSocketHandler</code>:</p>\n\n<pre><code>@Override\npublic StompWebSocketEndpointRegistration addEndpoint(String... paths) {\n    this.subProtocolWebSocketHandler.addProtocolHandler(this.stompHandler);\n    WebMvcStompWebSocketEndpointRegistration registration =\n            new WebMvcStompWebSocketEndpointRegistration(paths, this.webSocketHandler, this.sockJsScheduler);\n    this.registrations.add(registration);\n    return registration;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697192908,"creation_date":1697192908,"answer_id":77286993,"question_id":51519981,"body_markdown":"For latest as of now **spring-websocket 6.0.12**, you have to override `registerStompEndpoints` in the config class implementing `WebSocketMessageBrokerConfigurer` and add your paths:\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/path&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }","title":"Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers","body":"<p>For latest as of now <strong>spring-websocket 6.0.12</strong>, you have to override <code>registerStompEndpoints</code> in the config class implementing <code>WebSocketMessageBrokerConfigurer</code> and add your paths:</p>\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/path&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n}\n</code></pre>\n"}],"owner":{"account_id":5451770,"reputation":65,"user_id":4336329,"display_name":"Rajan Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9338,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51521175,"answer_count":2,"score":6,"last_activity_date":1697192908,"creation_date":1532524892,"question_id":51519981,"body_markdown":"    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-07-25 09:17:32.977 ERROR 8176 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:184) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:173) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:52) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:157) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:121) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:885) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat com.rajan.WebsocketDemoApplication.main(WebsocketDemoApplication.java:10) [classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: No handlers\r\n    \tat org.springframework.util.Assert.isTrue(Assert.java:116) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.start(SubProtocolWebSocketHandler.java:247) ~[spring-websocket-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 15 common frames omitted\r\n\r\n","title":"Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers","body":"<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-07-25 09:17:32.977 ERROR 8176 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'subProtocolWebSocketHandler'; nested exception is java.lang.IllegalArgumentException: No handlers\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:184) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:173) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:52) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:157) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:121) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:885) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at com.rajan.WebsocketDemoApplication.main(WebsocketDemoApplication.java:10) [classes/:na]\nCaused by: java.lang.IllegalArgumentException: No handlers\n    at org.springframework.util.Assert.isTrue(Assert.java:116) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.start(SubProtocolWebSocketHandler.java:247) ~[spring-websocket-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 15 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","one-to-many","lazy-initialization"],"comments":[{"owner":{"account_id":8795718,"reputation":346,"user_id":6573672,"display_name":"Mehmet Onar"},"score":0,"creation_date":1697102488,"post_id":77277884,"comment_id":136238346,"body_markdown":"if you get user and userrole in getUserRoleName function then this exception is not understandable. You may be trying different configuration as not default","body":"if you get user and userrole in getUserRoleName function then this exception is not understandable. You may be trying different configuration as not default"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697103002,"creation_date":1697103002,"answer_id":77279375,"question_id":77277884,"body_markdown":"The stack trace are telling you all that you need to know: `You are trying to access the roles after the session is closed, and as a result, the code throws a LazyInitializationException.`\r\n\r\nYou have multiple choices to fix it:\r\n\r\n**Declare Fetch Type as Eager**:\r\n\r\n      @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n      private List&lt;UserRole&gt; userRoles;\r\n\r\nBut in my opinion EAGER fetch type is not a good idea, because it tells JPA to always fetch the data, even when this data is not necessary.\r\n\r\nSecond solution is to use **JOIN FETCH directive in JPQL**\r\n\r\nDeclare a custom query into repository and then you can fetch it\r\n\r\nInstead of writing\r\n\r\n    User user = repository.findById(userId); // default method from repository\r\n\r\nDo it (create custom method in repository something like this):\r\n**Repository**:\r\n\r\n    @Query(&quot;SELECT u FROM User u JOIN FETCH u.roles WHERE u.userId = :userId&quot;)\r\n    List&lt;User&gt; findUserAndUserRolesByUserId(@Param(&quot;userId&quot;) Long userId)\r\n\r\nAnd then in your method replace:\r\n\r\n    User user = repository.findById(userId);\r\n\r\nTO:\r\n\r\n    User user = repository.findUserAndUserRolesByUserId(userId);\r\n\r\nMore ways to fix it you can find [here][1] also here on stackoverflow are many Q/A about this topic because it is one of the most popular when is working with hibernate as ORM.\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-initialize-proxy-exception","title":"org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: in Spring boot","body":"<p>The stack trace are telling you all that you need to know: <code>You are trying to access the roles after the session is closed, and as a result, the code throws a LazyInitializationException.</code></p>\n<p>You have multiple choices to fix it:</p>\n<p><strong>Declare Fetch Type as Eager</strong>:</p>\n<pre><code>  @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n  private List&lt;UserRole&gt; userRoles;\n</code></pre>\n<p>But in my opinion EAGER fetch type is not a good idea, because it tells JPA to always fetch the data, even when this data is not necessary.</p>\n<p>Second solution is to use <strong>JOIN FETCH directive in JPQL</strong></p>\n<p>Declare a custom query into repository and then you can fetch it</p>\n<p>Instead of writing</p>\n<pre><code>User user = repository.findById(userId); // default method from repository\n</code></pre>\n<p>Do it (create custom method in repository something like this):\n<strong>Repository</strong>:</p>\n<pre><code>@Query(&quot;SELECT u FROM User u JOIN FETCH u.roles WHERE u.userId = :userId&quot;)\nList&lt;User&gt; findUserAndUserRolesByUserId(@Param(&quot;userId&quot;) Long userId)\n</code></pre>\n<p>And then in your method replace:</p>\n<pre><code>User user = repository.findById(userId);\n</code></pre>\n<p>TO:</p>\n<pre><code>User user = repository.findUserAndUserRolesByUserId(userId);\n</code></pre>\n<p>More ways to fix it you can find <a href=\"https://www.baeldung.com/hibernate-initialize-proxy-exception\" rel=\"nofollow noreferrer\">here</a> also here on stackoverflow are many Q/A about this topic because it is one of the most popular when is working with hibernate as ORM.</p>\n"}],"owner":{"account_id":22947648,"reputation":11,"user_id":17079402,"display_name":"Akbarhussain Aghariya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697192517,"creation_date":1697088057,"question_id":77277884,"body_markdown":"In our case there are two entities User and UserRole and relationship between those two entity are one to many relationship. We perform some operation like we get the user data using Hibernate and after that we get the UserRole from User entity lazily\r\n\r\n```java\r\npublic class User {\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;UserRole&gt; userRoles;\r\n}\r\n\r\npublic class UserRole {\r\n\r\n    @ManyToOne\r\n    User user;\r\n\r\n    String name;\r\n}\r\n\r\npublic String getUserRoleName(Long userId) {\r\n\r\n    User user = repository.findById(userId);\r\n\r\n    List&lt;UserRole&gt; userRoles = user.getUserRoles();\r\n       \r\n    String name = userRoles.stream().map(obj -&gt; obj.getName()).collect(Collectors.joining(&quot;, &quot;));\r\n\r\n    return name;\r\n}\r\n``` \r\nIn above code we get the below exception\r\n\r\n\r\nRuntime error message is:\r\n```none\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role:\r\nco.entity.User.userRoles, could not initialize proxy - no Session\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n  at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)\r\n  at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1821)\r\n  at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:408)\r\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\r\n  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n  at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n  at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n  at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n  at co.service.UserService.getUserRoleName(UserService.java:20)\r\n  at co.controller.UserController.getUserRoleName(UserController.java:10)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) \r\n  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n  at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n  at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nWe have used the @Transactional annotation to solve this issue.","title":"org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: in Spring boot","body":"<p>In our case there are two entities User and UserRole and relationship between those two entity are one to many relationship. We perform some operation like we get the user data using Hibernate and after that we get the UserRole from User entity lazily</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;UserRole&gt; userRoles;\n}\n\npublic class UserRole {\n\n    @ManyToOne\n    User user;\n\n    String name;\n}\n\npublic String getUserRoleName(Long userId) {\n\n    User user = repository.findById(userId);\n\n    List&lt;UserRole&gt; userRoles = user.getUserRoles();\n       \n    String name = userRoles.stream().map(obj -&gt; obj.getName()).collect(Collectors.joining(&quot;, &quot;));\n\n    return name;\n}\n</code></pre>\n<p>In above code we get the below exception</p>\n<p>Runtime error message is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role:\nco.entity.User.userRoles, could not initialize proxy - no Session\n  at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\n  at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\n  at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)\n  at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\n  at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)\n  at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1821)\n  at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:408)\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\n  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n  at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n  at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n  at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n  at co.service.UserService.getUserRoleName(UserService.java:20)\n  at co.controller.UserController.getUserRoleName(UserController.java:10)\n  at jdk.internal.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n  at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) \n  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n  at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n  at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>We have used the @Transactional annotation to solve this issue.</p>\n"},{"tags":["java","maven","jna","tess4j"],"answers":[{"tags":[],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454104316,"creation_date":1454104316,"answer_id":35094685,"question_id":35012873,"body_markdown":"The problem was in temp folder - it does not contain all necessary dlls. \r\n\r\n\r\nInfo for community:\r\n1. Check temp folder under tomact - for me the path to it is:\r\n`D:\\Programs_Files\\apache-tomcat-8.0.27\\temp`\r\n\r\nThis temp folder MUST contain the directory tess4j\\win32-x86-64 with next 3 files: **gsdll64.dll, liblept171.dll, libtesseract304.dll** (or your version)\r\n\r\nI had my problem because the directory tess4j\\win32-x86-64 have never been created in temp.\r\n\r\n**BUT**\r\n\r\nMy app works ok under Intellij IDEA because another Temp folder (for IDEA) works ok - `C:\\Users\\Iuliia\\AppData\\Local\\Temp\\` \r\n\r\ncontains tess4j\\win32-x86-64\\gsdll64.dll, tess4j\\win32-x86-64\\liblept171.dll, tess4j\\win32-x86-64\\libtesseract304.dll as expected.\r\n\r\nNote, that this files are created in process of calling Tesseract in your code. Not early. \r\n\r\n**HOW I FIX THE PROBLEM with temp under Tomcat**\r\n\r\nI&#39;ve added win32-x86-64\\gsdll64.dll, win32-x86-64\\liblept171.dll, win32-x86-64\\libtesseract304.dll to the **resources** directory in my project.\r\n\r\nLook at my project structure:\r\n![](https://s18.postimg.org/72an8fdll/image.jpg)\r\n\r\n\r\nAfter deploying to tomcat, the necessary dlls is under classes directory (important!) - it means they are is in the scope.\r\n\r\n![](https://s10.postimg.org/wtkt2byax/image.jpg)\r\n\r\nNow it will be added to \r\n\r\nD:\\Programs_Files\\apache-tomcat-8.0.27\\temp\\tess4j\\win32-x86-64 as expected.\r\n","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>The problem was in temp folder - it does not contain all necessary dlls. </p>\n\n<p>Info for community:\n1. Check temp folder under tomact - for me the path to it is:\n<code>D:\\Programs_Files\\apache-tomcat-8.0.27\\temp</code></p>\n\n<p>This temp folder MUST contain the directory tess4j\\win32-x86-64 with next 3 files: <strong>gsdll64.dll, liblept171.dll, libtesseract304.dll</strong> (or your version)</p>\n\n<p>I had my problem because the directory tess4j\\win32-x86-64 have never been created in temp.</p>\n\n<p><strong>BUT</strong></p>\n\n<p>My app works ok under Intellij IDEA because another Temp folder (for IDEA) works ok - <code>C:\\Users\\Iuliia\\AppData\\Local\\Temp\\</code> </p>\n\n<p>contains tess4j\\win32-x86-64\\gsdll64.dll, tess4j\\win32-x86-64\\liblept171.dll, tess4j\\win32-x86-64\\libtesseract304.dll as expected.</p>\n\n<p>Note, that this files are created in process of calling Tesseract in your code. Not early. </p>\n\n<p><strong>HOW I FIX THE PROBLEM with temp under Tomcat</strong></p>\n\n<p>I've added win32-x86-64\\gsdll64.dll, win32-x86-64\\liblept171.dll, win32-x86-64\\libtesseract304.dll to the <strong>resources</strong> directory in my project.</p>\n\n<p>Look at my project structure:\n<img src=\"https://s18.postimg.org/72an8fdll/image.jpg\" alt=\"\"></p>\n\n<p>After deploying to tomcat, the necessary dlls is under classes directory (important!) - it means they are is in the scope.</p>\n\n<p><img src=\"https://s10.postimg.org/wtkt2byax/image.jpg\" alt=\"\"></p>\n\n<p>Now it will be added to </p>\n\n<p>D:\\Programs_Files\\apache-tomcat-8.0.27\\temp\\tess4j\\win32-x86-64 as expected.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536145547,"creation_date":1536145547,"answer_id":52183612,"question_id":35012873,"body_markdown":"Another fix for the `NoClassDefFoundError` is e.g. installing the respective [`Microsoft C++ Runtime`][1] (scroll to the bottom and expand `Other Tools and Frameworks`):\r\n\r\n&gt; Since the DLLs are built using Visual Studio 2015/2017, please ensure you have Visual C++ 2015 Redistributable or VC++ 2017 Redistributable installed.\r\n\r\nRefer to the [Tess4J][2] development tutorial for more details.\r\n\r\n  [1]: https://visualstudio.microsoft.com/downloads/\r\n  [2]: http://tess4j.sourceforge.net/tutorial/","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>Another fix for the <code>NoClassDefFoundError</code> is e.g. installing the respective <a href=\"https://visualstudio.microsoft.com/downloads/\" rel=\"nofollow noreferrer\"><code>Microsoft C++ Runtime</code></a> (scroll to the bottom and expand <code>Other Tools and Frameworks</code>):</p>\n\n<blockquote>\n  <p>Since the DLLs are built using Visual Studio 2015/2017, please ensure you have Visual C++ 2015 Redistributable or VC++ 2017 Redistributable installed.</p>\n</blockquote>\n\n<p>Refer to the <a href=\"http://tess4j.sourceforge.net/tutorial/\" rel=\"nofollow noreferrer\">Tess4J</a> development tutorial for more details.</p>\n"},{"tags":[],"owner":{"account_id":1929166,"reputation":1796,"user_id":1738961,"accept_rate":82,"display_name":"fergal_dd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563701111,"creation_date":1563701111,"answer_id":57131877,"question_id":35012873,"body_markdown":"I upgraded to Windows 10 and all of a sudden tessarct no longer worked for my app.\r\n\r\nAs per the [Tess4J][1] docs, you need to have [VC++ 2017 Redistributable installed.][2]\r\n\r\nAfter I installed it on Windows 10, it all worked fine again.\r\n\r\nIf you&#39;ve upgraded to Windows 10, and you are having the above problem, and it worked before, then this is likely your issue.\r\n\r\n  [1]: http://tess4j.sourceforge.net/tutorial/\r\n  [2]: https://www.microsoft.com/en-us/download/details.aspx?id=53587","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>I upgraded to Windows 10 and all of a sudden tessarct no longer worked for my app.</p>\n\n<p>As per the <a href=\"http://tess4j.sourceforge.net/tutorial/\" rel=\"nofollow noreferrer\">Tess4J</a> docs, you need to have <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=53587\" rel=\"nofollow noreferrer\">VC++ 2017 Redistributable installed.</a></p>\n\n<p>After I installed it on Windows 10, it all worked fine again.</p>\n\n<p>If you've upgraded to Windows 10, and you are having the above problem, and it worked before, then this is likely your issue.</p>\n"}],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35094685,"answer_count":3,"score":1,"last_activity_date":1697192486,"creation_date":1453807967,"question_id":35012873,"body_markdown":"I have Spring boot Webserver project which works ok in my PC under Intellij IDEA, but it not works after distributing to the same PC as war file -  **NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI**.\r\n\r\nmy code:\r\n\r\n \r\n\r\n    ITesseract instance = new Tesseract(); // JNA Interface Mapping\r\n    \r\n     instance.setDatapath(new File(datapath).getPath()); \r\n     instance.setLanguage(&quot;eng&quot;);      \r\n     try {\r\n              String result = instance.doOCR(imageFile); \r\n     } catch (TesseractException e) {\r\n              System.err.println(e.getMessage());\r\n     }\r\n\r\n\r\nI have only one maven dependency, releted to Tess4J:\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;ve got the error after running my distributed war:\r\n\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    Could not initialize class net.sourceforge.tess4j.TessAPI\r\n\r\n\r\nFull Tomcat log:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\r\n            at net.sourceforge.tess4j.Tesseract.init(Tesseract.java:367) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:280) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:212) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:196) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at ocr.OCRController.handleFileUpload(OCRController.java:127) ~[classes/:0.3.0]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_51]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_51]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_51]\r\n            at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_51]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n\r\n\r\nHow can I fix the error? I have the plan to host this app in Windows Azure under Tomcat. Thank you for any help, friends!\r\n      ","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>I have Spring boot Webserver project which works ok in my PC under Intellij IDEA, but it not works after distributing to the same PC as war file -  <strong>NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI</strong>.</p>\n\n<p>my code:</p>\n\n<pre><code>ITesseract instance = new Tesseract(); // JNA Interface Mapping\n\n instance.setDatapath(new File(datapath).getPath()); \n instance.setLanguage(\"eng\");      \n try {\n          String result = instance.doOCR(imageFile); \n } catch (TesseractException e) {\n          System.err.println(e.getMessage());\n }\n</code></pre>\n\n<p>I have only one maven dependency, releted to Tess4J:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n        &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I've got the error after running my distributed war:</p>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nCould not initialize class net.sourceforge.tess4j.TessAPI\n</code></pre>\n\n<p>Full Tomcat log:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\n        at net.sourceforge.tess4j.Tesseract.init(Tesseract.java:367) ~[tess4j-3.0.0.jar:3.0.0]\n        at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:280) ~[tess4j-3.0.0.jar:3.0.0]\n        at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:212) ~[tess4j-3.0.0.jar:3.0.0]\n        at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:196) ~[tess4j-3.0.0.jar:3.0.0]\n        at ocr.OCRController.handleFileUpload(OCRController.java:127) ~[classes/:0.3.0]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_51]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_51]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_51]\n        at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_51]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n</code></pre>\n\n<p>How can I fix the error? I have the plan to host this app in Windows Azure under Tomcat. Thank you for any help, friends!</p>\n"},{"tags":["java","jdbc","jmx","pool","jolokia"],"answers":[{"tags":[],"owner":{"account_id":144435,"reputation":1,"user_id":353490,"display_name":"remix_tj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697192041,"creation_date":1697192041,"answer_id":77286901,"question_id":77221101,"body_markdown":"i had a similar problem and looks like you&#39;re not using the right escaping:\r\n\r\nTake a look at this doc page:\r\n\r\nhttps://jolokia.org/reference/html/protocol.html#escape-rules\r\n\r\nescaping / with ! helped me to get the metric i needed.\r\n\r\n","title":"Getting MBean values for JDBC pools by means of Jolokia","body":"<p>i had a similar problem and looks like you're not using the right escaping:</p>\n<p>Take a look at this doc page:</p>\n<p><a href=\"https://jolokia.org/reference/html/protocol.html#escape-rules\" rel=\"nofollow noreferrer\">https://jolokia.org/reference/html/protocol.html#escape-rules</a></p>\n<p>escaping / with ! helped me to get the metric i needed.</p>\n"}],"owner":{"account_id":2999441,"reputation":3025,"user_id":2545194,"accept_rate":50,"display_name":"Jdamian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697192041,"creation_date":1696325462,"question_id":77221101,"body_markdown":"I&#39;m trying to monitor the JDBC pools of some Java apps using Jolokia. I can get the full list of all attributes for the JDBC pools using:\r\n\r\n    # curl -k http://127.0.0.1:50147/jolokia/read/&#39;Catalina:type=DataSource,class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*&#39; | python -m json.tool\r\n    \r\n    {\r\n        &quot;request&quot;: {\r\n            &quot;mbean&quot;: &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*,type=DataSource&quot;,\r\n            &quot;type&quot;: &quot;read&quot;\r\n        },\r\n        &quot;status&quot;: 200,\r\n        &quot;timestamp&quot;: 1696324668,\r\n        &quot;value&quot;: {\r\n            &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;: {\r\n                &quot;AbandonedConfig&quot;: false,\r\n                &quot;BlockWhenExhausted&quot;: true,\r\n                &quot;BorrowedCount&quot;: 739850,\r\n                &quot;Closed&quot;: false,\r\n                &quot;CreatedCount&quot;: 36,\r\n    &#183;\r\n    &#183;\r\n    &#183;\r\n\r\nBut now I want to get only the maxIdle attribute (for instance) of just one JDBC pool and only get an `HTTP 400 error code`:\r\n\r\n    # curl -k http://127.0.0.1:50147/jolokia/read/&#39;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle&#39; -v\r\n    * About to connect() to 127.0.0.1 port 50147 (#0)\r\n    *   Trying 127.0.0.1...\r\n    * Connected to 127.0.0.1 (127.0.0.1) port 50147 (#0)\r\n    &gt; GET /jolokia/read/Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle HTTP/1.1\r\n    &gt; User-Agent: curl/7.29.0\r\n    &gt; Host: 127.0.0.1:50147\r\n    &gt; Accept: */*\r\n    &gt;\r\n    &lt; HTTP/1.1 400\r\n    &lt; Transfer-Encoding: chunked\r\n    &lt; Date: Tue, 03 Oct 2023 09:20:59 GMT\r\n    &lt; Connection: close\r\n    &lt;\r\n    * Closing connection 0\r\n\r\nI tried variations -- rearranging keywords, removing quotes and backslash... but only get 400.\r\n\r\nOther values are successfully retrieved:\r\n\r\n    # curl -k http://127.0.0.1:50147/jolokia/read/&#39;java.lang:type=Runtime/SystemProperties/java.version&#39;\r\n    {&quot;request&quot;:{&quot;path&quot;:&quot;java.version&quot;,&quot;mbean&quot;:&quot;java.lang:type=Runtime&quot;,&quot;attribute&quot;:&quot;SystemProperties&quot;,&quot;type&quot;:&quot;read&quot;},&quot;value&quot;:&quot;1.8.0_131&quot;,&quot;timestamp&quot;:1696325283,&quot;status&quot;:200}\r\n\r\nWhat am I doing wrong?\r\n\r\nBest regards\r\n","title":"Getting MBean values for JDBC pools by means of Jolokia","body":"<p>I'm trying to monitor the JDBC pools of some Java apps using Jolokia. I can get the full list of all attributes for the JDBC pools using:</p>\n<pre><code># curl -k http://127.0.0.1:50147/jolokia/read/'Catalina:type=DataSource,class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*' | python -m json.tool\n\n{\n    &quot;request&quot;: {\n        &quot;mbean&quot;: &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*,type=DataSource&quot;,\n        &quot;type&quot;: &quot;read&quot;\n    },\n    &quot;status&quot;: 200,\n    &quot;timestamp&quot;: 1696324668,\n    &quot;value&quot;: {\n        &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;: {\n            &quot;AbandonedConfig&quot;: false,\n            &quot;BlockWhenExhausted&quot;: true,\n            &quot;BorrowedCount&quot;: 739850,\n            &quot;Closed&quot;: false,\n            &quot;CreatedCount&quot;: 36,\n·\n·\n·\n</code></pre>\n<p>But now I want to get only the maxIdle attribute (for instance) of just one JDBC pool and only get an <code>HTTP 400 error code</code>:</p>\n<pre><code># curl -k http://127.0.0.1:50147/jolokia/read/'Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle' -v\n* About to connect() to 127.0.0.1 port 50147 (#0)\n*   Trying 127.0.0.1...\n* Connected to 127.0.0.1 (127.0.0.1) port 50147 (#0)\n&gt; GET /jolokia/read/Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle HTTP/1.1\n&gt; User-Agent: curl/7.29.0\n&gt; Host: 127.0.0.1:50147\n&gt; Accept: */*\n&gt;\n&lt; HTTP/1.1 400\n&lt; Transfer-Encoding: chunked\n&lt; Date: Tue, 03 Oct 2023 09:20:59 GMT\n&lt; Connection: close\n&lt;\n* Closing connection 0\n</code></pre>\n<p>I tried variations -- rearranging keywords, removing quotes and backslash... but only get 400.</p>\n<p>Other values are successfully retrieved:</p>\n<pre><code># curl -k http://127.0.0.1:50147/jolokia/read/'java.lang:type=Runtime/SystemProperties/java.version'\n{&quot;request&quot;:{&quot;path&quot;:&quot;java.version&quot;,&quot;mbean&quot;:&quot;java.lang:type=Runtime&quot;,&quot;attribute&quot;:&quot;SystemProperties&quot;,&quot;type&quot;:&quot;read&quot;},&quot;value&quot;:&quot;1.8.0_131&quot;,&quot;timestamp&quot;:1696325283,&quot;status&quot;:200}\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Best regards</p>\n"},{"tags":["java","windows","docker","kong"],"answers":[{"comments":[{"owner":{"account_id":1870469,"reputation":1803,"user_id":1692830,"accept_rate":75,"display_name":"donmartin"},"score":1,"creation_date":1562336896,"post_id":48061642,"comment_id":100354513,"body_markdown":"Addendum: On macOS and Windows, there is a virtual DNS entry inside each docker container: `host.docker.internal`. This can be used for exactly this scenario. This special host name is **not** available on Linux unfortunately.","body":"Addendum: On macOS and Windows, there is a virtual DNS entry inside each docker container: <code>host.docker.internal</code>. This can be used for exactly this scenario. This special host name is <b>not</b> available on Linux unfortunately."},{"owner":{"account_id":2356322,"reputation":1253,"user_id":2064031,"accept_rate":75,"display_name":"Jacek Wojcik"},"score":0,"creation_date":1592305935,"post_id":48061642,"comment_id":110371891,"body_markdown":"Hi, but how exactly do I set this `host.docker.internal`?","body":"Hi, but how exactly do I set this <code>host.docker.internal</code>?"},{"owner":{"account_id":1870469,"reputation":1803,"user_id":1692830,"accept_rate":75,"display_name":"donmartin"},"score":0,"creation_date":1592385950,"post_id":48061642,"comment_id":110404171,"body_markdown":"You don&#39;t set `host.docker.internal`, it&#39;s set automatically by either Docker for Mac or Docker for Windows. It&#39;s like a DNS name which resolves to your local docker host. So here, in your upstream API definition, you refer to e.g. `http://host.docker.local:8080` or wherever your service is running (locally on your machine). See e.g. https://docs.docker.com/docker-for-mac/networking/ or https://docs.docker.com/docker-for-windows/networking/","body":"You don&#39;t set <code>host.docker.internal</code>, it&#39;s set automatically by either Docker for Mac or Docker for Windows. It&#39;s like a DNS name which resolves to your local docker host. So here, in your upstream API definition, you refer to e.g. <code>http:&#47;&#47;host.docker.local:8080</code> or wherever your service is running (locally on your machine). See e.g. <a href=\"https://docs.docker.com/docker-for-mac/networking/\" rel=\"nofollow noreferrer\">docs.docker.com/docker-for-mac/networking</a> or <a href=\"https://docs.docker.com/docker-for-windows/networking/\" rel=\"nofollow noreferrer\">docs.docker.com/docker-for-windows/networking</a>"}],"tags":[],"owner":{"account_id":1870469,"reputation":1803,"user_id":1692830,"accept_rate":75,"display_name":"donmartin"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1697192015,"creation_date":1514898629,"answer_id":48061642,"question_id":48020283,"body_markdown":"I think you&#39;re running into the classic IP/Host issue you get when you start out with Docker. The key here is that you must pay attention to making your dockerized Kong be able to reach your `localhost` **from inside the docker container**. The issue here is (most likely) that Kong (inside docker) tries to access `http://localhost:8080`. But for Kong, that&#39;s the container it is running on itself.\r\n\r\nTo do this kind of testing, you will have to find the IP address of your local machine and add that as the `upstream_url`. Depending on where your machine is, in a home network, or in a corporate network, that will be something like `10.x.y.z`, or `192.168.x.y`. The command `ifconfig` (macOS) or `ipconfig` (Windows) will help you find that address. By using this IP instead, Kong will now be able to resolve your local computer&#39;s port 8080, instead of going to its own port 8080.\r\n\r\nPlease note that this means that you need to reconfigure the API in Kong each time you change IP address of your machine. Depending on whether it&#39;s a laptop, or if you use DHCP or such, this will be more or less often.\r\n\r\n---\r\n\r\ntl;dr: The upstream URL has to be an URL which enables Kong to resolve the target **as seen from inside the Docker container**.\r\n\r\n---\r\n\r\n**Update:** Instead of manually retrieving the IP adress, you can use [`host.docker.internal` if you&#39;re using Docker Desktop](https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host). Assuming Windows or macOS, this will just work out of the box.","title":"Dockererized Kong on windows giving &quot;An invalid response was received from the upstream server&quot;","body":"<p>I think you're running into the classic IP/Host issue you get when you start out with Docker. The key here is that you must pay attention to making your dockerized Kong be able to reach your <code>localhost</code> <strong>from inside the docker container</strong>. The issue here is (most likely) that Kong (inside docker) tries to access <code>http://localhost:8080</code>. But for Kong, that's the container it is running on itself.</p>\n<p>To do this kind of testing, you will have to find the IP address of your local machine and add that as the <code>upstream_url</code>. Depending on where your machine is, in a home network, or in a corporate network, that will be something like <code>10.x.y.z</code>, or <code>192.168.x.y</code>. The command <code>ifconfig</code> (macOS) or <code>ipconfig</code> (Windows) will help you find that address. By using this IP instead, Kong will now be able to resolve your local computer's port 8080, instead of going to its own port 8080.</p>\n<p>Please note that this means that you need to reconfigure the API in Kong each time you change IP address of your machine. Depending on whether it's a laptop, or if you use DHCP or such, this will be more or less often.</p>\n<hr />\n<p>tl;dr: The upstream URL has to be an URL which enables Kong to resolve the target <strong>as seen from inside the Docker container</strong>.</p>\n<hr />\n<p><strong>Update:</strong> Instead of manually retrieving the IP adress, you can use <a href=\"https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host\" rel=\"nofollow noreferrer\"><code>host.docker.internal</code> if you're using Docker Desktop</a>. Assuming Windows or macOS, this will just work out of the box.</p>\n"}],"owner":{"account_id":7468894,"reputation":115,"user_id":5677475,"accept_rate":33,"display_name":"Kamal Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15611,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697192015,"creation_date":1514539579,"question_id":48020283,"body_markdown":"Please help me as I am getting &quot;An invalid response was received from the upstream server&quot; error on getting the data from REST endpoint using Dockerized Kong.\r\n\r\nREST service that I am trying to access using Kong is running on my localhost.\r\n\r\nKong Request to add API :\r\n\r\n     curl -i -X POST \\\r\n    --url http://localhost:8001/apis/ \\\r\n    --data &#39;name=ping&#39; \\\r\n    --data &#39;upstream_url=http://localhost:8080/v1/employee/ping&#39; \\\r\n    --data &#39;hosts=localhost&#39;\r\n\r\nForward request through Kong :\r\n\r\n    curl -i -X GET \\\r\n    --url http://localhost:8000/ \\\r\n    --header &#39;Host:localhost&#39;\r\n\r\n\r\nError that I am getting on forwarding the request through Kong:\r\n\r\n    [root@c1c865250782 etc]# curl -i -X GET --url http://localhost:8000/ --\r\n    header &#39;Host:localhost&#39;\r\n    HTTP/1.1 502 Bad Gateway\r\n    Date: Fri, 29 Dec 2017 08:53:40 GMT\r\n    Content-Type: text/plain; charset=UTF-8\r\n    Transfer-Encoding: chunked\r\n    Connection: keep-alive\r\n    Server: kong/0.11.2\r\n\r\n    An invalid response was received from the upstream server\r\n\r\n\r\nPlease help me to solve this issue.\r\n\r\nThanks,\r\nKamal\r\n\r\n","title":"Dockererized Kong on windows giving &quot;An invalid response was received from the upstream server&quot;","body":"<p>Please help me as I am getting \"An invalid response was received from the upstream server\" error on getting the data from REST endpoint using Dockerized Kong.</p>\n\n<p>REST service that I am trying to access using Kong is running on my localhost.</p>\n\n<p>Kong Request to add API :</p>\n\n<pre><code> curl -i -X POST \\\n--url http://localhost:8001/apis/ \\\n--data 'name=ping' \\\n--data 'upstream_url=http://localhost:8080/v1/employee/ping' \\\n--data 'hosts=localhost'\n</code></pre>\n\n<p>Forward request through Kong :</p>\n\n<pre><code>curl -i -X GET \\\n--url http://localhost:8000/ \\\n--header 'Host:localhost'\n</code></pre>\n\n<p>Error that I am getting on forwarding the request through Kong:</p>\n\n<pre><code>[root@c1c865250782 etc]# curl -i -X GET --url http://localhost:8000/ --\nheader 'Host:localhost'\nHTTP/1.1 502 Bad Gateway\nDate: Fri, 29 Dec 2017 08:53:40 GMT\nContent-Type: text/plain; charset=UTF-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nServer: kong/0.11.2\n\nAn invalid response was received from the upstream server\n</code></pre>\n\n<p>Please help me to solve this issue.</p>\n\n<p>Thanks,\nKamal</p>\n"},{"tags":["java","forgerock"],"owner":{"account_id":3533522,"reputation":2687,"user_id":2952395,"accept_rate":67,"display_name":"Subhrajyoti Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697191736,"creation_date":1697191736,"question_id":77286862,"body_markdown":"I have an app that sends a request to Forgerock OpenAM IDP. I can access the data sent to the server if the data is sent by a GET request. Following is the code which does that.\r\n\r\n```java\r\n@Override\r\n    public Action process(TreeContext context) throws NodeProcessException {\r\n        try {\r\n            Map&lt;String, List&lt;String&gt;&gt; parameters = context.request.parameters;\r\n            …\r\n    }\r\n```\r\n\r\nMy problem:\r\n\r\nHow do i get the data i sent via a POST request. I have tried using the HttpServletRequest object present inside context object (`context.request.servletRequest`), but i am unable to get any data. Any pointers on how to get data posted to this URL would be really helpful!\r\n\r\nI am posting data to the URL `https://myserverurl.com/openam/XUI/`","title":"How to retrieve POST request body in Forgerock openam","body":"<p>I have an app that sends a request to Forgerock OpenAM IDP. I can access the data sent to the server if the data is sent by a GET request. Following is the code which does that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Action process(TreeContext context) throws NodeProcessException {\n        try {\n            Map&lt;String, List&lt;String&gt;&gt; parameters = context.request.parameters;\n            …\n    }\n</code></pre>\n<p>My problem:</p>\n<p>How do i get the data i sent via a POST request. I have tried using the HttpServletRequest object present inside context object (<code>context.request.servletRequest</code>), but i am unable to get any data. Any pointers on how to get data posted to this URL would be really helpful!</p>\n<p>I am posting data to the URL <code>https://myserverurl.com/openam/XUI/</code></p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649227970,"post_id":71761858,"comment_id":126819422,"body_markdown":"What is unclear in the error message? ActiveMQ is not compiled for java 8, but a later java version. Maybe there are other binaries available or it can be built from source for java 8?","body":"What is unclear in the error message? ActiveMQ is not compiled for java 8, but a later java version. Maybe there are other binaries available or it can be built from source for java 8?"}],"answers":[{"comments":[{"owner":{"account_id":4373352,"reputation":53,"user_id":3566999,"display_name":"Simon Dreyer"},"score":0,"creation_date":1649326266,"post_id":71762737,"comment_id":126849495,"body_markdown":"Thank you for your answer, what confused me was that I went to the &#39;Java&#39; home page and downloaded what I thought was the latest version! it wasn&#39;t. When I now searched for &#39;Java 11&#39;, I found the Oracle page. It really doesn&#39;t help when people use different numbering systems!","body":"Thank you for your answer, what confused me was that I went to the &#39;Java&#39; home page and downloaded what I thought was the latest version! it wasn&#39;t. When I now searched for &#39;Java 11&#39;, I found the Oracle page. It really doesn&#39;t help when people use different numbering systems!"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":1,"creation_date":1671047566,"post_id":71762737,"comment_id":132015752,"body_markdown":"For others that run into the same problem, the ActiveMQ home page no longer explains that 5.17.x requires Java 11.  However, it is now explained on their download page:  https://activemq.apache.org/components/classic/download/","body":"For others that run into the same problem, the ActiveMQ home page no longer explains that 5.17.x requires Java 11.  However, it is now explained on their download page:  <a href=\"https://activemq.apache.org/components/classic/download/\" rel=\"nofollow noreferrer\">activemq.apache.org/components/classic/download</a>"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697191706,"creation_date":1649230408,"answer_id":71762737,"question_id":71761858,"body_markdown":"It states, on the [ActiveMQ home page](https://activemq.apache.org/), that ActiveMQ 5.17.0 release requires JDK 11+.\r\n\r\nYour error message indicates the class [version number](https://en.wikipedia.org/wiki/Java_class_file) of Java 11, i.e. 55.\r\n\r\nEither migrate your code to Java 11 or use ActiveMQ [5.16.4 release](https://activemq.apache.org/activemq-5016004-release) which is compatible with Java 8.\r\n\r\n#### UPDATE (13 October 2023)\r\nThere are two versions of ActiveMQ\r\n- Artemis\r\n- Classic\r\n\r\nAs stated on the download page of both [Classic][1] (version 5.18.2 at time of writing) and [Artemis][2] (2.3.1.0), both versions require minimum JDK 11. However, both download pages have links to past releases.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/classic/download/\r\n  [2]: https://activemq.apache.org/components/artemis/download/","title":"ActiveMQ New build, latest version not working with latest Java","body":"<p>It states, on the <a href=\"https://activemq.apache.org/\" rel=\"nofollow noreferrer\">ActiveMQ home page</a>, that ActiveMQ 5.17.0 release requires JDK 11+.</p>\n<p>Your error message indicates the class <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">version number</a> of Java 11, i.e. 55.</p>\n<p>Either migrate your code to Java 11 or use ActiveMQ <a href=\"https://activemq.apache.org/activemq-5016004-release\" rel=\"nofollow noreferrer\">5.16.4 release</a> which is compatible with Java 8.</p>\n<h4>UPDATE (13 October 2023)</h4>\n<p>There are two versions of ActiveMQ</p>\n<ul>\n<li>Artemis</li>\n<li>Classic</li>\n</ul>\n<p>As stated on the download page of both <a href=\"https://activemq.apache.org/components/classic/download/\" rel=\"nofollow noreferrer\">Classic</a> (version 5.18.2 at time of writing) and <a href=\"https://activemq.apache.org/components/artemis/download/\" rel=\"nofollow noreferrer\">Artemis</a> (2.3.1.0), both versions require minimum JDK 11. However, both download pages have links to past releases.</p>\n"}],"owner":{"account_id":4373352,"reputation":53,"user_id":3566999,"display_name":"Simon Dreyer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7933,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71762737,"answer_count":1,"score":1,"last_activity_date":1697191706,"creation_date":1649225823,"question_id":71761858,"body_markdown":"I am installing activemq on a new windows 2016 server. I have installed the latest version of Java &quot;1.8.0_321&quot; and the latest download of activemq &quot;5.17.0&quot;, but when I try to start activemq I get this error:\r\n```none\r\nWarning: JAVA_HOME environment variable is not set.\r\n\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/activemq/console/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\nC:\\Program Files (x86)\\apache-activemq-5.17.0\\bin&gt;\r\n```\r\n\r\nThe JAVA_HOME variable is set:\r\n[Java home variable][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V5VY2.png\r\n\r\nWhen I run\r\n```none\r\necho %JAVA_HOME%\r\n```\r\nI get \r\n```none\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_321\\bin\r\n```\r\nFrom that I would infer that it is correct?\r\n\r\nAny ideas please?","title":"ActiveMQ New build, latest version not working with latest Java","body":"<p>I am installing activemq on a new windows 2016 server. I have installed the latest version of Java &quot;1.8.0_321&quot; and the latest download of activemq &quot;5.17.0&quot;, but when I try to start activemq I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Warning: JAVA_HOME environment variable is not set.\n\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/activemq/console/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nC:\\Program Files (x86)\\apache-activemq-5.17.0\\bin&gt;\n</code></pre>\n<p>The JAVA_HOME variable is set:\n<a href=\"https://i.stack.imgur.com/V5VY2.png\" rel=\"nofollow noreferrer\">Java home variable</a></p>\n<p>When I run</p>\n<pre class=\"lang-none prettyprint-override\"><code>echo %JAVA_HOME%\n</code></pre>\n<p>I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files (x86)\\Java\\jre1.8.0_321\\bin\n</code></pre>\n<p>From that I would infer that it is correct?</p>\n<p>Any ideas please?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1697123494,"post_id":77281563,"comment_id":136242964,"body_markdown":"I&#39;d suggest to do that task with basic *nix shell programs, or maybe a custom shellscript. I think it will be way faster than doing that in java. maybe this helps by doing so: https://stackoverflow.com/questions/64085303/how-to-count-values-that-match-a-certain-condition-when-another-condition-is-met","body":"I&#39;d suggest to do that task with basic *nix shell programs, or maybe a custom shellscript. I think it will be way faster than doing that in java. maybe this helps by doing so: <a href=\"https://stackoverflow.com/questions/64085303/how-to-count-values-that-match-a-certain-condition-when-another-condition-is-met\" title=\"how to count values that match a certain condition when another condition is met\">stackoverflow.com/questions/64085303/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1700145854,"post_id":77286844,"comment_id":136620722,"body_markdown":"Why do we need ‘LinkedHashmap’,we just need the count","body":"Why do we need ‘LinkedHashmap’,we just need the count"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697191593,"creation_date":1697191593,"answer_id":77286844,"question_id":77281563,"body_markdown":"Assuming you are using Java 8 or higher, read the file content into a stream using `Files.lines` map each line to the sub-user column, group by sub-user using `Function.identity()` and the counting collector. The result map should have then the desired content of sub groups mapped to their frequency. Example:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Example {\r\n    \r\n        public static final String delimiter = &quot;,&quot;;\r\n        public static void main (String[] args) throws IOException {\r\n    \r\n            String csvFile = &quot;/path/to/your/csv/test.csv&quot;;\r\n    \r\n            Stream&lt;String&gt; fileContent = readFile(csvFile);\r\n            Map&lt;String, Long&gt; subUserCount = groupBySubUser(fileContent);\r\n    \r\n            subUserCount.forEach((k,v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n        }\r\n    \r\n        private static Stream&lt;String&gt; readFile(String csvFile) throws IOException {\r\n            return Files.lines(Path.of(csvFile));\r\n        }\r\n    \r\n        private static Map&lt;String, Long&gt; groupBySubUser(final Stream&lt;String&gt; fileContent) {\r\n            return fileContent.skip(1) //skip header\r\n                              .map(line -&gt; line.split(delimiter)[2]) //map each line to 3rd column\r\n                              .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\r\n        }\r\n    }","title":"Reading a csv file to count the number of sub users based on the access method in java","body":"<p>Assuming you are using Java 8 or higher, read the file content into a stream using <code>Files.lines</code> map each line to the sub-user column, group by sub-user using <code>Function.identity()</code> and the counting collector. The result map should have then the desired content of sub groups mapped to their frequency. Example:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Example {\n\n    public static final String delimiter = &quot;,&quot;;\n    public static void main (String[] args) throws IOException {\n\n        String csvFile = &quot;/path/to/your/csv/test.csv&quot;;\n\n        Stream&lt;String&gt; fileContent = readFile(csvFile);\n        Map&lt;String, Long&gt; subUserCount = groupBySubUser(fileContent);\n\n        subUserCount.forEach((k,v) -&gt; System.out.println(k + &quot; : &quot; + v));\n    }\n\n    private static Stream&lt;String&gt; readFile(String csvFile) throws IOException {\n        return Files.lines(Path.of(csvFile));\n    }\n\n    private static Map&lt;String, Long&gt; groupBySubUser(final Stream&lt;String&gt; fileContent) {\n        return fileContent.skip(1) //skip header\n                          .map(line -&gt; line.split(delimiter)[2]) //map each line to 3rd column\n                          .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16419854,"reputation":13,"user_id":11861330,"display_name":"Runtime21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697191593,"creation_date":1697121498,"question_id":77281563,"body_markdown":"**I am currently reading a csv file with the following code:**\r\n\r\n- This is just reading a file code. \r\n- I have read the file and I am getting the file data as output. \r\n\r\n\r\n**What i want to achieve: **\r\nPlease click the link to check the sample data.\r\n**\r\n**\\[Sample Data\\]: (https://i.stack.imgur.com/iXMAo.png)****\r\n\r\n    package testing;\r\n    import java.io.*;\r\n    `public class GarExcel` {\r\n    \r\n        public static final String delimiter = &quot;,&quot;;\r\n        public static void read(String csvFile) {\r\n    \r\n            try {\r\n                File file = new File(csvFile);\r\n                FileReader fr = new FileReader(file);\r\n                BufferedReader br = new BufferedReader(fr);\r\n                String line = &quot;&quot;;\r\n                String[] tempArr;\r\n                while ((line = br.readLine()) != null) {\r\n                    // use as comma seperator\r\n                    tempArr = line.split(delimiter);\r\n                    for (String tempStr: tempArr) {\r\n    \r\n                        System.out.print(tempStr + &quot; &quot;);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                br.close();\r\n            } catch (IOException ioe) {\r\n                ioe.printStackTrace();\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n    \r\n               String csvFile = &quot;C:/Users/John.Cena/Documents/ExcelTesting/gar-20230901.csv&quot;;\r\n               GarExcel.read(csvFile);\r\n        }\r\n    }\r\n\r\n\r\nI want to count the number of sub users based on the access method.\r\n\r\nSo for eg if you refer to the image/ image link I want the output to have the count of sub user JL and same for TW2JL. So as per the image I want the output to be:\r\n\r\n    Count of JL - 11\r\n    Count of TW2JL - 15.\r\n\r\nNow the thing is the csv file is more than 2GB and has more than 2 million records. It will have more than 200 sub users. And I want to count the number of all sub users based on the access method.\r\nI have attached a screenshot as well above with a tag sample data that will help you guys understand my question. \r\nI am new to java and your suggestions are appreciated.","title":"Reading a csv file to count the number of sub users based on the access method in java","body":"<p><strong>I am currently reading a csv file with the following code:</strong></p>\n<ul>\n<li>This is just reading a file code.</li>\n<li>I have read the file and I am getting the file data as output.</li>\n</ul>\n<p><strong>What i want to achieve: **\nPlease click the link to check the sample data.\n**\n<strong>[Sample Data]: (<a href=\"https://i.stack.imgur.com/iXMAo.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iXMAo.png</a>)</strong></strong></p>\n<pre><code>package testing;\nimport java.io.*;\n`public class GarExcel` {\n\n    public static final String delimiter = &quot;,&quot;;\n    public static void read(String csvFile) {\n\n        try {\n            File file = new File(csvFile);\n            FileReader fr = new FileReader(file);\n            BufferedReader br = new BufferedReader(fr);\n            String line = &quot;&quot;;\n            String[] tempArr;\n            while ((line = br.readLine()) != null) {\n                // use as comma seperator\n                tempArr = line.split(delimiter);\n                for (String tempStr: tempArr) {\n\n                    System.out.print(tempStr + &quot; &quot;);\n                }\n                System.out.println();\n            }\n            br.close();\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n\n           String csvFile = &quot;C:/Users/John.Cena/Documents/ExcelTesting/gar-20230901.csv&quot;;\n           GarExcel.read(csvFile);\n    }\n}\n</code></pre>\n<p>I want to count the number of sub users based on the access method.</p>\n<p>So for eg if you refer to the image/ image link I want the output to have the count of sub user JL and same for TW2JL. So as per the image I want the output to be:</p>\n<pre><code>Count of JL - 11\nCount of TW2JL - 15.\n</code></pre>\n<p>Now the thing is the csv file is more than 2GB and has more than 2 million records. It will have more than 200 sub users. And I want to count the number of all sub users based on the access method.\nI have attached a screenshot as well above with a tag sample data that will help you guys understand my question.\nI am new to java and your suggestions are appreciated.</p>\n"},{"tags":["java","xml","spring","junit","ehcache"],"comments":[{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1428122715,"post_id":29442785,"comment_id":47053417,"body_markdown":"Do you have a cacheManager bean defined anywhere? You might be declaring the ehcache, but that is not also defining the cacheManager bean that spring is trying to find.","body":"Do you have a cacheManager bean defined anywhere? You might be declaring the ehcache, but that is not also defining the cacheManager bean that spring is trying to find."},{"owner":{"account_id":1108395,"reputation":483,"user_id":1099306,"accept_rate":86,"display_name":"prajitgandhi"},"score":0,"creation_date":1428135912,"post_id":29442785,"comment_id":47056030,"body_markdown":"check your xml file where this cacheManager is defined &amp; add it to context configuration.Problem clearly says spring was unable to find the bean.if requires you can edit your question &amp; post config xml as part of your question.","body":"check your xml file where this cacheManager is defined &amp; add it to context configuration.Problem clearly says spring was unable to find the bean.if requires you can edit your question &amp; post config xml as part of your question."},{"owner":{"account_id":5692186,"reputation":1636,"user_id":4499904,"display_name":"Paul John"},"score":0,"creation_date":1428391930,"post_id":29442785,"comment_id":47131830,"body_markdown":"did that help with the issue ?","body":"did that help with the issue ?"},{"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"score":0,"creation_date":1428394474,"post_id":29442785,"comment_id":47133092,"body_markdown":"I gave up on org.springframework.cache.ehcache.EhCacheCacheManager and switched to org.springframework.cache.support.SimpleCacheManager which solved the problem","body":"I gave up on org.springframework.cache.ehcache.EhCacheCacheManager and switched to org.springframework.cache.support.SimpleCacheManager which solved the problem"}],"answers":[{"tags":[],"owner":{"account_id":5692186,"reputation":1636,"user_id":4499904,"display_name":"Paul John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428122920,"creation_date":1428122920,"answer_id":29442820,"question_id":29442785,"body_markdown":"The error:\r\n\r\n     No bean named &#39;cacheManager&#39; is defined\r\n\r\nThis error is due to Spring not being able to identify this bean.\r\n\r\nIdentify the file where this bean is defined, and make sure it&#39;s available for the test context.","title":"Cannot resolve reference to bean &#39;cacheManager&#39;","body":"<p>The error:</p>\n\n<pre><code> No bean named 'cacheManager' is defined\n</code></pre>\n\n<p>This error is due to Spring not being able to identify this bean.</p>\n\n<p>Identify the file where this bean is defined, and make sure it's available for the test context.</p>\n"}],"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11830,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697191490,"creation_date":1428122507,"question_id":29442785,"body_markdown":"Trying to run a unit test on a Controller in my Spring app.\r\n\r\nMy test class:\r\n\r\n    @RunWith (SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration ({&quot;classpath*:WEB-INF/spring/application-context-config.xml&quot;, &quot;data-source-test-config.xml&quot;, \r\n    \t\t\t\t\t\t&quot;classpath*:WEB-INF/spring/security-context-config.xml&quot;})\r\n    public class PropsControllerTest \r\n\r\nThe error I&#39;m getting:\r\n\r\n    2015-04-03 23:22:51.729 WARN  AbstractApplicationContext:487 - Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.cache.interceptor.CacheInterceptor#0&#39;: Cannot resolve reference to bean &#39;cacheManager&#39; while setting bean property &#39;cacheManager&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;cacheManager&#39; is defined\r\n\r\nMy application-context-config.xml defines:\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;&gt;\r\n        &lt;property name=&quot;cacheManager&quot; ref=&quot;ehcache&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;ehcache&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:ehcache.xml&quot;/&gt;\r\n        &lt;property name=&quot;shared&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nehcache.xml Defines:\r\n\r\n    &lt;ehcache&gt;\r\n        &lt;cache name=&quot;backslap&quot;\r\n               maxBytesLocalHeap=&quot;256M&quot;\r\n               eternal=&quot;false&quot;\r\n               timeToLiveSeconds=&quot;3600&quot;\r\n               overflowToDisk=&quot;false&quot;\r\n               memoryStoreEvictionPolicy=&quot;LRU&quot;/&gt;\r\n    &lt;/ehcache&gt;\r\n\r\nI&#39;ve got copies of ehcache.xml in three places: src/main/resources/, test/main/resources/ and in the directory of my test class.  Nothing fixes this problem.\r\n\r\nHow do I make Spring find the file during testing (it has no problem finding the file when running)?  Failing that, how do I make Spring stop wanting this information (the cache is utterly worthless during my tests), or at least let me just specify it in my application-context-config.xml file?\r\n\r\nThank you for any help.","title":"Cannot resolve reference to bean &#39;cacheManager&#39;","body":"<p>Trying to run a unit test on a Controller in my Spring app.</p>\n\n<p>My test class:</p>\n\n<pre><code>@RunWith (SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration ({\"classpath*:WEB-INF/spring/application-context-config.xml\", \"data-source-test-config.xml\", \n                        \"classpath*:WEB-INF/spring/security-context-config.xml\"})\npublic class PropsControllerTest \n</code></pre>\n\n<p>The error I'm getting:</p>\n\n<pre><code>2015-04-03 23:22:51.729 WARN  AbstractApplicationContext:487 - Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.cache.interceptor.CacheInterceptor#0': Cannot resolve reference to bean 'cacheManager' while setting bean property 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'cacheManager' is defined\n</code></pre>\n\n<p>My application-context-config.xml defines:</p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.ehcache.EhCacheCacheManager\"&gt;\n    &lt;property name=\"cacheManager\" ref=\"ehcache\"/&gt;\n&lt;/bean&gt;\n&lt;bean id=\"ehcache\" class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\"&gt;\n    &lt;property name=\"configLocation\" value=\"classpath:ehcache.xml\"/&gt;\n    &lt;property name=\"shared\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>ehcache.xml Defines:</p>\n\n<pre><code>&lt;ehcache&gt;\n    &lt;cache name=\"backslap\"\n           maxBytesLocalHeap=\"256M\"\n           eternal=\"false\"\n           timeToLiveSeconds=\"3600\"\n           overflowToDisk=\"false\"\n           memoryStoreEvictionPolicy=\"LRU\"/&gt;\n&lt;/ehcache&gt;\n</code></pre>\n\n<p>I've got copies of ehcache.xml in three places: src/main/resources/, test/main/resources/ and in the directory of my test class.  Nothing fixes this problem.</p>\n\n<p>How do I make Spring find the file during testing (it has no problem finding the file when running)?  Failing that, how do I make Spring stop wanting this information (the cache is utterly worthless during my tests), or at least let me just specify it in my application-context-config.xml file?</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["java","c#","algorithm","search","greedy"],"answers":[{"comments":[{"owner":{"account_id":5579422,"reputation":31,"user_id":4421812,"display_name":"PrincesS Ai"},"score":0,"creation_date":1420721707,"post_id":27839055,"comment_id":44084770,"body_markdown":"I have never done coding in python before, however now i am going to have some ideas. I really appreciate your help @sdrabb","body":"I have never done coding in python before, however now i am going to have some ideas. I really appreciate your help @sdrabb"},{"owner":{"display_name":"user4386714"},"score":0,"creation_date":1420722401,"post_id":27839055,"comment_id":44085235,"body_markdown":"In the second link you find all you need but you must know a bit of python programming good luck","body":"In the second link you find all you need but you must know a bit of python programming good luck"}],"tags":[],"owner":{"display_name":"user4386714"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422071961,"creation_date":1420716501,"answer_id":27839055,"question_id":27824393,"body_markdown":"I suggest this solution using python.\r\nTo implement the graph in your program use a simple python dictionary. Here&#39;s the code:\r\n\r\n\r\n    class Tree:\r\n    \r\n         def _init_(self,dict,heuristic):\r\n         self.tree=tree\r\n         self.heuristic=heuristic\r\n         \r\n\r\n\r\n         def getHeuristicValue(self,state)\r\n         value=self.heuristic.get(state)\r\n         return value\r\n\r\n\r\n\r\nThe constructor call is something like:  \r\n\r\n    g = Graph({&#39;A&#39;:{&#39;B&#39;:5,&#39;C&#39;:3},&#39;B&#39;:{&#39;D&#39;:6}},{&#39;A&#39;:20,&#39;B&#39;:15,&#39;C&#39;:18})\r\n\r\n\r\nThe `getHeuristic` python function pass accepts a state as an argument and returns the value of the heuristic of this state.\r\n\r\nTo learn about python&#39;s dictionary class I suggest you read [the tutorial][1]\r\n\r\nTo implement the search algorithm with python you should implement this simple pseudocode:\r\n\r\n    function Tree-Search(initialNode,goalNode) returns a solution,or failure\r\n    frontier.push(initialNode) with the value of the function heuristic(initialNode.state)+the path cost to reaxh this node\r\n    while(frontier)\r\n      node&lt;-frontier.pop()\r\n      if node.state==GoalNode.state\r\n        return node\r\n      expand node, adding the resulting nodes to the frontier\r\n    return None\r\n\r\nFor the frontier you must use a priority queue because you must pop the node with the lower value of `g(n)+h(n)` (where `g(n)` is the path cost to reach this node and `h(n)` is the value of the heuristic function).\r\n\r\n\r\nTo implement priority queue you should use a &lt;b&gt;heap &lt;/b&gt; of the standard library heapq\r\n\r\n\r\nThe node is a data structure that must contain four components:\r\n\r\n&lt;b&gt;node.state&lt;/b&gt;:the state in the state space to which the node corresponds.\r\n\r\n\r\n&lt;b&gt;node.parent&lt;/b&gt;:the node in the search tree that generated this node.\r\n\r\n\r\n&lt;b&gt;node.action&lt;/b&gt;: the action that was applied to the parent to generated the node.\r\n\r\n\r\n&lt;b&gt;node.pathCost&lt;/b&gt;: is g(n),the cost of the path from the initial state to the node.\r\n\r\n\r\nLastly, for expanding the node, you can use this python function:\r\n\r\n\r\n    def actions(self,state):\r\n        &#39;&#39;&#39;return a tuple that contain the state child of state &#39;&#39;&#39;\r\n        return tuple(self.tree.get(state))\r\n\r\nI suggest you to look [this][2] for your problem.\r\n\r\nYou can get the solution simply go back from the `node.state` that returns from the output of the algorithm while `node.parent` is not null that is your solution.\r\n\r\nI hope this is useful for your project.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/python/python_dictionary.htm\r\n  [2]: http://aima-python.googlecode.com/svn/trunk/search.py","title":"How to implement Greedy Search algorithm","body":"<p>I suggest this solution using python.\nTo implement the graph in your program use a simple python dictionary. Here's the code:</p>\n\n<pre><code>class Tree:\n\n     def _init_(self,dict,heuristic):\n     self.tree=tree\n     self.heuristic=heuristic\n\n\n\n     def getHeuristicValue(self,state)\n     value=self.heuristic.get(state)\n     return value\n</code></pre>\n\n<p>The constructor call is something like:  </p>\n\n<pre><code>g = Graph({'A':{'B':5,'C':3},'B':{'D':6}},{'A':20,'B':15,'C':18})\n</code></pre>\n\n<p>The <code>getHeuristic</code> python function pass accepts a state as an argument and returns the value of the heuristic of this state.</p>\n\n<p>To learn about python's dictionary class I suggest you read <a href=\"http://www.tutorialspoint.com/python/python_dictionary.htm\" rel=\"nofollow\">the tutorial</a></p>\n\n<p>To implement the search algorithm with python you should implement this simple pseudocode:</p>\n\n<pre><code>function Tree-Search(initialNode,goalNode) returns a solution,or failure\nfrontier.push(initialNode) with the value of the function heuristic(initialNode.state)+the path cost to reaxh this node\nwhile(frontier)\n  node&lt;-frontier.pop()\n  if node.state==GoalNode.state\n    return node\n  expand node, adding the resulting nodes to the frontier\nreturn None\n</code></pre>\n\n<p>For the frontier you must use a priority queue because you must pop the node with the lower value of <code>g(n)+h(n)</code> (where <code>g(n)</code> is the path cost to reach this node and <code>h(n)</code> is the value of the heuristic function).</p>\n\n<p>To implement priority queue you should use a <b>heap </b> of the standard library heapq</p>\n\n<p>The node is a data structure that must contain four components:</p>\n\n<p><b>node.state</b>:the state in the state space to which the node corresponds.</p>\n\n<p><b>node.parent</b>:the node in the search tree that generated this node.</p>\n\n<p><b>node.action</b>: the action that was applied to the parent to generated the node.</p>\n\n<p><b>node.pathCost</b>: is g(n),the cost of the path from the initial state to the node.</p>\n\n<p>Lastly, for expanding the node, you can use this python function:</p>\n\n<pre><code>def actions(self,state):\n    '''return a tuple that contain the state child of state '''\n    return tuple(self.tree.get(state))\n</code></pre>\n\n<p>I suggest you to look <a href=\"http://aima-python.googlecode.com/svn/trunk/search.py\" rel=\"nofollow\">this</a> for your problem.</p>\n\n<p>You can get the solution simply go back from the <code>node.state</code> that returns from the output of the algorithm while <code>node.parent</code> is not null that is your solution.</p>\n\n<p>I hope this is useful for your project.</p>\n"}],"owner":{"account_id":5579422,"reputation":31,"user_id":4421812,"display_name":"PrincesS Ai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8042,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697191490,"creation_date":1420649447,"question_id":27824393,"body_markdown":"I have a project that is given on my Artificial Intelligence course. I need to implement Greedy Search algorithm for my program. Description of my project is:\r\nTwo text files called “tree.txt” and “heuristic.txt” are given. “tree.txt” will define the search tree where each line will contain a parent-child relation and a path cost between them. Each data will be seperated with a space.\r\n\r\ne.g.\t\r\n\r\nA B 5\r\n\r\nA C 3\r\n\t\r\nB D 6 \r\n\r\nThe first character in the first line will be the Start node (A in here) and the goal node will be “G”.\r\n\r\n“heuristic.txt” will define the heuristic, h(n), values. Each line will contain the heuristic value of each node. Each data will be seperated with a space.\r\n\r\ne.g.\r\n\t\r\nA 20\r\n\t\r\nB 15\r\n\t\r\nC 18\r\n\r\nOutput:\r\nThe program should give the solution path and the path cost from start node to goal.\r\n\r\nNow my problem is that i am familiar with Greedy Search theoretically, but never implemented it practically in coding. I really dont know from where to start. We are free to develop our program in any language. Mostly, i have skills in Java and C#. If anybody can give me some ideas, or help me with any similar examples or tutorials. Any kind of help will be greatly appreciated. Sorry for so much writing. Thank you in advance:)))\r\n\r\n","title":"How to implement Greedy Search algorithm","body":"<p>I have a project that is given on my Artificial Intelligence course. I need to implement Greedy Search algorithm for my program. Description of my project is:\nTwo text files called “tree.txt” and “heuristic.txt” are given. “tree.txt” will define the search tree where each line will contain a parent-child relation and a path cost between them. Each data will be seperated with a space.</p>\n\n<p>e.g.    </p>\n\n<p>A B 5</p>\n\n<p>A C 3</p>\n\n<p>B D 6 </p>\n\n<p>The first character in the first line will be the Start node (A in here) and the goal node will be “G”.</p>\n\n<p>“heuristic.txt” will define the heuristic, h(n), values. Each line will contain the heuristic value of each node. Each data will be seperated with a space.</p>\n\n<p>e.g.</p>\n\n<p>A 20</p>\n\n<p>B 15</p>\n\n<p>C 18</p>\n\n<p>Output:\nThe program should give the solution path and the path cost from start node to goal.</p>\n\n<p>Now my problem is that i am familiar with Greedy Search theoretically, but never implemented it practically in coding. I really dont know from where to start. We are free to develop our program in any language. Mostly, i have skills in Java and C#. If anybody can give me some ideas, or help me with any similar examples or tutorials. Any kind of help will be greatly appreciated. Sorry for so much writing. Thank you in advance:)))</p>\n"},{"tags":["java","struct","pack"],"comments":[{"owner":{"account_id":214558,"reputation":1256,"user_id":468603,"accept_rate":77,"display_name":"Xofo"},"score":0,"creation_date":1443739686,"post_id":3209898,"comment_id":53625018,"body_markdown":"Is there an accepted answer for this question?","body":"Is there an accepted answer for this question?"},{"owner":{"account_id":193336,"reputation":3184,"user_id":435003,"accept_rate":82,"display_name":"Marc-Christian Schulze"},"score":0,"creation_date":1473502684,"post_id":3209898,"comment_id":66174054,"body_markdown":"It&#39;s not the exact equivalent of Python&#39;s pack but maybe it helps you anyway: https://github.com/marc-christian-schulze/structs4java","body":"It&#39;s not the exact equivalent of Python&#39;s pack but maybe it helps you anyway: <a href=\"https://github.com/marc-christian-schulze/structs4java\" rel=\"nofollow noreferrer\">github.com/marc-christian-schulze/structs4java</a>"}],"answers":[{"comments":[{"owner":{"account_id":37811,"reputation":102313,"user_id":108205,"accept_rate":86,"display_name":"jsbueno"},"score":0,"creation_date":1278652103,"post_id":3209938,"comment_id":3309448,"body_markdown":"CAn&#39;t believe you. Even as I dislike Java, there should be something closer to being able to do things like this than serialization: Serialization gives you no control on which actual bytes are being created - it just allows you to recreate the same object with those bytes.","body":"CAn&#39;t believe you. Even as I dislike Java, there should be something closer to being able to do things like this than serialization: Serialization gives you no control on which actual bytes are being created - it just allows you to recreate the same object with those bytes."},{"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"score":0,"creation_date":1278655390,"post_id":3209938,"comment_id":3309654,"body_markdown":"By default it gives you no control, but you can always customize it. Hint: search for readObject/writeObject on the page I gave you a link to. If that is not enough, check out http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/io/Externalizable.html","body":"By default it gives you no control, but you can always customize it. Hint: search for readObject/writeObject on the page I gave you a link to. If that is not enough, check out <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/io/Externalizable.html\" rel=\"nofollow noreferrer\">download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java&zwnj;&#8203;/io/&hellip;</a>"}],"tags":[],"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278651438,"creation_date":1278651438,"answer_id":3209938,"question_id":3209898,"body_markdown":"Closest feature in core Java is [Serialization][1]. It converts object into byte sequence and back. \r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>Closest feature in core Java is <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow noreferrer\">Serialization</a>. It converts object into byte sequence and back. </p>\n"},{"comments":[{"owner":{"account_id":239325,"reputation":2541,"user_id":508837,"accept_rate":75,"display_name":"Yonatan"},"score":0,"creation_date":1366121443,"post_id":3210080,"comment_id":22883407,"body_markdown":"ByteBuffer doesn&#39;t allow you to write Strings, and the contractor requires a buffer size limitation - you need to pre-decide how long your input would be.","body":"ByteBuffer doesn&#39;t allow you to write Strings, and the contractor requires a buffer size limitation - you need to pre-decide how long your input would be."},{"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"score":0,"creation_date":1366400609,"post_id":3210080,"comment_id":23010168,"body_markdown":"@Yonatan, it does allow you to write strings: `buf.put(s.getBytes())`.  `ByteBuffer` requires you to specify the capacity when initially allocating the buffer.  Are you saying this is a good thing or a bad thing?","body":"@Yonatan, it does allow you to write strings: <code>buf.put(s.getBytes())</code>.  <code>ByteBuffer</code> requires you to specify the capacity when initially allocating the buffer.  Are you saying this is a good thing or a bad thing?"},{"owner":{"account_id":3474303,"reputation":371,"user_id":2907920,"display_name":"Peter Schaeffer"},"score":0,"creation_date":1385501192,"post_id":3210080,"comment_id":30166802,"body_markdown":"@SimonC ByteBuffer does allow you two write strings in the manner you have shown. However, s.getBytes() will return a UTF-8 encoded byte array from the string (still variable length). It will not have a trailing zero. Beyond that buf.put() uses the current position in the ByteBuffer. This may not be exactly what you want.","body":"@SimonC ByteBuffer does allow you two write strings in the manner you have shown. However, s.getBytes() will return a UTF-8 encoded byte array from the string (still variable length). It will not have a trailing zero. Beyond that buf.put() uses the current position in the ByteBuffer. This may not be exactly what you want."}],"tags":[],"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1278653942,"creation_date":1278653942,"answer_id":3210080,"question_id":3209898,"body_markdown":"I think what you may be after is a [ByteBuffer][1]:\r\n\r\n    ByteBuffer pump_on_buf = ...\r\n    pump_on_buf.putInt(0);\r\n    pump_on_buf.putInt(0);\r\n    pump_on_buf.putShort(21);\r\n    pump_on_buf.putShort(96);\r\n    pump_on_buf.putInt(512);\r\n    byte[] pump_on = pump_on_buf.array();\r\n\r\n\r\n  [1]: http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/nio/ByteBuffer.html","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>I think what you may be after is a <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"noreferrer\">ByteBuffer</a>:</p>\n\n<pre><code>ByteBuffer pump_on_buf = ...\npump_on_buf.putInt(0);\npump_on_buf.putInt(0);\npump_on_buf.putShort(21);\npump_on_buf.putShort(96);\npump_on_buf.putInt(512);\nbyte[] pump_on = pump_on_buf.array();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":239325,"reputation":2541,"user_id":508837,"accept_rate":75,"display_name":"Yonatan"},"score":0,"creation_date":1366121636,"post_id":12093013,"comment_id":22883530,"body_markdown":"DataOutputStream is good for java primitives only. ObjectOutputStream (which also implements DataOutput interface) gives you ability to write primitives and serializable objects.","body":"DataOutputStream is good for java primitives only. ObjectOutputStream (which also implements DataOutput interface) gives you ability to write primitives and serializable objects."},{"owner":{"account_id":128404,"reputation":460,"user_id":326212,"display_name":"keios"},"score":1,"creation_date":1658587118,"post_id":12093013,"comment_id":129090814,"body_markdown":"in this code example it should be `data.toByteArray()` there is no `toByteArray` on DataOutputStream but instead is available on the ByteArrayOutputStream","body":"in this code example it should be <code>data.toByteArray()</code> there is no <code>toByteArray</code> on DataOutputStream but instead is available on the ByteArrayOutputStream"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345730456,"creation_date":1345729374,"answer_id":12093013,"question_id":3209898,"body_markdown":"Something like this:\r\n\r\n    final ByteArrayOutputStream data = new ByteArrayOutputStream();\r\n    final DataOutputStream stream = new DataOutputStream(data);\r\n    stream.writeUTF(name);\r\n    stream.writeUTF(password);\r\n    final byte[] bytes = stream.toByteArray(); // there you go\r\n\r\nLater, you can read that data:\r\n\r\n    final DataInputStream stream = new DataInputStream(\r\n      new ByteArrayInputStream(bytes)\r\n    );\r\n    final String user = stream.readUTF();\r\n    final String password = stream.readUTF();\r\n","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>Something like this:</p>\n\n<pre><code>final ByteArrayOutputStream data = new ByteArrayOutputStream();\nfinal DataOutputStream stream = new DataOutputStream(data);\nstream.writeUTF(name);\nstream.writeUTF(password);\nfinal byte[] bytes = stream.toByteArray(); // there you go\n</code></pre>\n\n<p>Later, you can read that data:</p>\n\n<pre><code>final DataInputStream stream = new DataInputStream(\n  new ByteArrayInputStream(bytes)\n);\nfinal String user = stream.readUTF();\nfinal String password = stream.readUTF();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426512358,"creation_date":1404710947,"answer_id":24603560,"question_id":3209898,"body_markdown":"I started development of project which is very close to Python Struct: [java-binary-block-parser](https://github.com/raydac/java-binary-block-parser)\r\nin JBBP it will look like\r\n\r\n    JBBPOut.BeginBin().Int(0,0).Short(21,96).Int(512).End().toByteArray();\r\n\r\n","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>I started development of project which is very close to Python Struct: <a href=\"https://github.com/raydac/java-binary-block-parser\" rel=\"nofollow\">java-binary-block-parser</a>\nin JBBP it will look like</p>\n\n<pre><code>JBBPOut.BeginBin().Int(0,0).Short(21,96).Int(512).End().toByteArray();\n</code></pre>\n"}],"owner":{"account_id":164116,"reputation":249,"user_id":386678,"display_name":"thiruvadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12772,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":4,"score":19,"last_activity_date":1697191443,"creation_date":1278650690,"question_id":3209898,"body_markdown":"Is there any function equivalent to Python&#39;s `struct.pack` in Java that allows me to pack and unpack values like this?\r\n\r\n    pump_on = struct.pack(&quot;IIHHI&quot;, 0, 0, 21, 96, 512)","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>Is there any function equivalent to Python's <code>struct.pack</code> in Java that allows me to pack and unpack values like this?</p>\n\n<pre><code>pump_on = struct.pack(\"IIHHI\", 0, 0, 21, 96, 512)\n</code></pre>\n"},{"tags":["java","parquet","apache-arrow"],"answers":[{"comments":[{"owner":{"account_id":6353459,"reputation":4979,"user_id":4931657,"accept_rate":70,"display_name":"jake wong"},"score":0,"creation_date":1663778005,"post_id":73801358,"comment_id":130321078,"body_markdown":"Hello, thanks for your reply! I&#39;m quite new to this. would it be possible if you provide more details on how to work with parquet? spent the entire day trying to even create a parquet file without much progress.","body":"Hello, thanks for your reply! I&#39;m quite new to this. would it be possible if you provide more details on how to work with parquet? spent the entire day trying to even create a parquet file without much progress."},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1698931018,"post_id":73801358,"comment_id":136468625,"body_markdown":"Do you know if Apache Arrow library in C# does support writing to Parquet files?","body":"Do you know if Apache Arrow library in C# does support writing to Parquet files?"}],"tags":[],"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663765933,"creation_date":1663765933,"answer_id":73801358,"question_id":73795678,"body_markdown":"Arrow Java does not yet support writing to Parquet files, but you can use Parquet to do that. \r\n\r\nThere is some code in the Arrow dataset test classes that may help. See \r\n```\r\norg.apache.arrow.dataset.ParquetWriteSupport;\r\norg.apache.arrow.dataset.file.TestFileSystemDataset; \r\n```\r\nThe second class has some tests that use the utilities in the first one.\r\n\r\nYou can find them on GitHub here: \r\nhttps://github.com/apache/arrow/tree/master/java/dataset/src/test/java/org/apache/arrow/dataset","title":"how to write parquet files in java with apache arrow","body":"<p>Arrow Java does not yet support writing to Parquet files, but you can use Parquet to do that.</p>\n<p>There is some code in the Arrow dataset test classes that may help. See</p>\n<pre><code>org.apache.arrow.dataset.ParquetWriteSupport;\norg.apache.arrow.dataset.file.TestFileSystemDataset; \n</code></pre>\n<p>The second class has some tests that use the utilities in the first one.</p>\n<p>You can find them on GitHub here:\n<a href=\"https://github.com/apache/arrow/tree/master/java/dataset/src/test/java/org/apache/arrow/dataset\" rel=\"nofollow noreferrer\">https://github.com/apache/arrow/tree/master/java/dataset/src/test/java/org/apache/arrow/dataset</a></p>\n"},{"tags":[],"owner":{"account_id":8206960,"reputation":23,"user_id":6176390,"display_name":"Ahmed Riza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697191198,"creation_date":1697191198,"answer_id":77286803,"question_id":73795678,"body_markdown":"We can see that the tests in the Java Arrow implementation are using the parquet-hadoop libraries as can be seen from the [POM](https://github.com/apache/arrow/blob/main/java/dataset/pom.xml).  This is a bit unfortunate at the moment, since parquet-hadoop has dependencies on hadoop libraries such as hadoop-common which is notorious for big dependency chains (and a lot of CVEs). \r\n\r\nEven the latest version of [hadoop-common](https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common/3.3.6) has 15 CVEs . Other language implementations of Arrow (such as C++ or Rust) do not require this and they can be used for easier Parquet integration.\r\n","title":"how to write parquet files in java with apache arrow","body":"<p>We can see that the tests in the Java Arrow implementation are using the parquet-hadoop libraries as can be seen from the <a href=\"https://github.com/apache/arrow/blob/main/java/dataset/pom.xml\" rel=\"nofollow noreferrer\">POM</a>.  This is a bit unfortunate at the moment, since parquet-hadoop has dependencies on hadoop libraries such as hadoop-common which is notorious for big dependency chains (and a lot of CVEs).</p>\n<p>Even the latest version of <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common/3.3.6\" rel=\"nofollow noreferrer\">hadoop-common</a> has 15 CVEs . Other language implementations of Arrow (such as C++ or Rust) do not require this and they can be used for easier Parquet integration.</p>\n"}],"owner":{"account_id":6353459,"reputation":4979,"user_id":4931657,"accept_rate":70,"display_name":"jake wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697191198,"creation_date":1663737488,"question_id":73795678,"body_markdown":"I am trying to write data in java into apache parquet. So far, what i&#39;ve done is use apache arrow via the examples here: https://arrow.apache.org/cookbook/java/schema.html#creating-fields and create an arrow format dataset. \r\n\r\nQuestion is, how do I write it into parquet after that? Also, do I need to use apache arrow to output the data as a parquet file? or can I use apache parquet directly to serialize the data and then output it as a parquet file? \r\n\r\nwhat i&#39;ve done:\r\n\r\n    try (BufferAllocator allocator = new RootAllocator()) {\r\n        Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\r\n        Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n        Schema schemaPerson = new Schema(asList(name, age));\r\n        try(\r\n            VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\r\n        ){\r\n            VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\r\n            nameVector.allocateNew(3);\r\n            nameVector.set(0, &quot;David&quot;.getBytes());\r\n            nameVector.set(1, &quot;Gladis&quot;.getBytes());\r\n            nameVector.set(2, &quot;Juan&quot;.getBytes());\r\n            IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\r\n            ageVector.allocateNew(3);\r\n            ageVector.set(0, 10);\r\n            ageVector.set(1, 20);\r\n            ageVector.set(2, 30);\r\n            vectorSchemaRoot.setRowCount(3);\r\n            File file = new File(&quot;randon_access_to_file.arrow&quot;);\r\n            try (\r\n                FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n                ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\r\n            ) {\r\n                writer.start();\r\n                writer.writeBatch();\r\n                writer.end();\r\n                System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nbut this outputs as an arrow file. not a parquet. Any ideas how I can output this to parquet file instead? And do i need arrow to generate a parquet file to begin with - or can i just use parquet directly? ","title":"how to write parquet files in java with apache arrow","body":"<p>I am trying to write data in java into apache parquet. So far, what i've done is use apache arrow via the examples here: <a href=\"https://arrow.apache.org/cookbook/java/schema.html#creating-fields\" rel=\"nofollow noreferrer\">https://arrow.apache.org/cookbook/java/schema.html#creating-fields</a> and create an arrow format dataset.</p>\n<p>Question is, how do I write it into parquet after that? Also, do I need to use apache arrow to output the data as a parquet file? or can I use apache parquet directly to serialize the data and then output it as a parquet file?</p>\n<p>what i've done:</p>\n<pre><code>try (BufferAllocator allocator = new RootAllocator()) {\n    Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\n    Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\n    Schema schemaPerson = new Schema(asList(name, age));\n    try(\n        VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\n    ){\n        VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\n        nameVector.allocateNew(3);\n        nameVector.set(0, &quot;David&quot;.getBytes());\n        nameVector.set(1, &quot;Gladis&quot;.getBytes());\n        nameVector.set(2, &quot;Juan&quot;.getBytes());\n        IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\n        ageVector.allocateNew(3);\n        ageVector.set(0, 10);\n        ageVector.set(1, 20);\n        ageVector.set(2, 30);\n        vectorSchemaRoot.setRowCount(3);\n        File file = new File(&quot;randon_access_to_file.arrow&quot;);\n        try (\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\n            ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\n        ) {\n            writer.start();\n            writer.writeBatch();\n            writer.end();\n            System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>but this outputs as an arrow file. not a parquet. Any ideas how I can output this to parquet file instead? And do i need arrow to generate a parquet file to begin with - or can i just use parquet directly?</p>\n"},{"tags":["java","eclipse","command-line","rcp","xtend"],"comments":[{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1697305136,"post_id":77286312,"comment_id":136264381,"body_markdown":"Maybe this is related: https://github.com/eclipse/xtext-xtend/issues/576 - As mentioned in the second comment of that issue, it could mean that the method&#39;s return type could not be found, e.g. if the method returns a type from a third-party library that is not in the classpath","body":"Maybe this is related: <a href=\"https://github.com/eclipse/xtext-xtend/issues/576\" rel=\"nofollow noreferrer\">github.com/eclipse/xtext-xtend/issues/576</a> - As mentioned in the second comment of that issue, it could mean that the method&#39;s return type could not be found, e.g. if the method returns a type from a third-party library that is not in the classpath"}],"owner":{"account_id":25294707,"reputation":11,"user_id":19120062,"display_name":"SiYuan Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697190947,"creation_date":1697186539,"question_id":77286312,"body_markdown":"Why is there no problem compiling xtend code using eclipse? Compiling from the command line will result in an error？\r\n```none\r\njava -cp .\\lib\\* org.eclipse.xtend.core.compiler.batch.Main -d .\\bin -useCurrentClassLoader -encoding UTF-8 .\\ara-configruator\\com.ap.diag .\\ara-configurator\\com.ap.module .\\ara-configurator\\com.ap.service\r\n```\r\n\r\n&gt;0 [main] ERROR org.eclipse.xtend.core.compiler.batch.XtendBatchCompiler -\r\nError: X_Typed_Data_Identifier_h.xtend - D:\\AP_git\\antTest\\ara-configurator\\com.ap.diag\\src\\com\\ap\\generator_V2\\X_Typed_Data_Identifier_h.xtend\r\n101: The method getDiagReadDidList() from the type InforOfArxml refers to the missing type Object\r\n\r\nConfirmed the existence of the method in `InforOfArxml`, but still reported an error.\r\n","title":"Command line compilation Xtend file has Error The method from the type refers missing object","body":"<p>Why is there no problem compiling xtend code using eclipse? Compiling from the command line will result in an error？</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp .\\lib\\* org.eclipse.xtend.core.compiler.batch.Main -d .\\bin -useCurrentClassLoader -encoding UTF-8 .\\ara-configruator\\com.ap.diag .\\ara-configurator\\com.ap.module .\\ara-configurator\\com.ap.service\n</code></pre>\n<blockquote>\n<p>0 [main] ERROR org.eclipse.xtend.core.compiler.batch.XtendBatchCompiler -\nError: X_Typed_Data_Identifier_h.xtend - D:\\AP_git\\antTest\\ara-configurator\\com.ap.diag\\src\\com\\ap\\generator_V2\\X_Typed_Data_Identifier_h.xtend\n101: The method getDiagReadDidList() from the type InforOfArxml refers to the missing type Object</p>\n</blockquote>\n<p>Confirmed the existence of the method in <code>InforOfArxml</code>, but still reported an error.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1235493,"reputation":939,"user_id":1199154,"accept_rate":100,"display_name":"Sandeep Yohans"},"score":0,"creation_date":1683815254,"post_id":72355635,"comment_id":134427024,"body_markdown":"thanks for the solution. In my case it was single quote symbol  &quot;","body":"thanks for the solution. In my case it was single quote symbol  &quot;"},{"owner":{"account_id":1266585,"reputation":2006,"user_id":1223767,"accept_rate":89,"display_name":"Vadim Kononov"},"score":0,"creation_date":1700774857,"post_id":72355635,"comment_id":136698327,"body_markdown":"Hours spent, and this is what finally fixed the problem!","body":"Hours spent, and this is what finally fixed the problem!"}],"tags":[],"owner":{"account_id":18001447,"reputation":1776,"user_id":13083321,"display_name":"soulflavacrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":174,"is_accepted":true,"score":174,"last_activity_date":1653347296,"creation_date":1653347296,"answer_id":72355635,"question_id":72335789,"body_markdown":"Find and exchange all `&#39;` symbols in your `strings.xml` or somewhere else in your code with `\\&#39;`","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Find and exchange all <code>'</code> symbols in your <code>strings.xml</code> or somewhere else in your code with <code>\\'</code></p>\n"},{"tags":[],"owner":{"account_id":25394555,"reputation":1,"user_id":19205017,"display_name":"Uriya Orr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653554562,"creation_date":1653554562,"answer_id":72389097,"question_id":72335789,"body_markdown":"Check the path:\r\n//app&gt;src&gt;main&gt;res&gt;values  for unused xmls\r\n\r\nGood luck","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Check the path:\n//app&gt;src&gt;main&gt;res&gt;values  for unused xmls</p>\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":25521882,"reputation":291,"user_id":19311591,"display_name":"user19311591"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1654839091,"creation_date":1654839091,"answer_id":72569480,"question_id":72335789,"body_markdown":"I had this same issue when I had this declared\r\n\r\n&lt;color name=&quot;color_gray&quot;&gt;E0E0E0&lt;/color&gt;\r\ninstead of this\r\n&lt;color name=&quot;color_gray&quot;&gt;#E0E0E0&lt;/color&gt;\r\n\r\nAfter placing the missing # symbol in the code the code then compiled and run.\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had this same issue when I had this declared</p>\n<p>E0E0E0\ninstead of this\n#E0E0E0</p>\n<p>After placing the missing # symbol in the code the code then compiled and run.</p>\n"},{"comments":[{"owner":{"account_id":16245242,"reputation":86,"user_id":11730571,"display_name":"Gisbert12843"},"score":0,"creation_date":1673798810,"post_id":72660481,"comment_id":132573434,"body_markdown":"HERO!!!! Thanks man &lt;3","body":"HERO!!!! Thanks man &lt;3"}],"tags":[],"owner":{"account_id":25444187,"reputation":51,"user_id":19246600,"display_name":"Luca"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655473931,"creation_date":1655473931,"answer_id":72660481,"question_id":72335789,"body_markdown":"I had a wrong file in the &quot;//app&gt;src&gt;main&gt;res&gt;values&quot; dir of the project (for me was  file I generated for error &quot;ids.xml&quot;).\r\nI deleted it and now the build is succesfull\r\n\r\nYou can see the problem is in this &quot;Values&quot; dir becouse of this line you posted \r\n\r\n\r\n&gt;  (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml...\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had a wrong file in the &quot;//app&gt;src&gt;main&gt;res&gt;values&quot; dir of the project (for me was  file I generated for error &quot;ids.xml&quot;).\nI deleted it and now the build is succesfull</p>\n<p>You can see the problem is in this &quot;Values&quot; dir becouse of this line you posted</p>\n<blockquote>\n<p>(Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5098102,"reputation":368,"user_id":5266667,"display_name":"falero80s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656117659,"creation_date":1656117659,"answer_id":72750549,"question_id":72335789,"body_markdown":"Here is my case on this.\r\nI was experimenting with &#39;`androidx.swiperefreshlayout.widget.SwipeRefreshLayout`&#39;\r\nand added it in my layout that contains a recycler view within it. It started to show similar error as yours.\r\n\r\nThe problem seemed to be with the &quot;@+id/someid&quot;. Strangely no id was being allowed to be set into the SwipeRefreshLayout. Checked the enclosing brackets multiple time. Rearranged stuff around here and there. Nothing happened.\r\n\r\nBut as soon as I removed that SwipeRefreshLayout and replaced the recycler view outside as before. The problem gone.\r\n\r\nOfficial android docs do say that SwipeRefreshLayout requires ListView or GridView as its child. May be this is why it was happening.\r\n\r\nThat was my case. Try to undo any recent changes that you did in any of the xml files and see if it fixes.\r\n\r\nOr may be I was doing something wrong!?\r\ni apologize if I couldn&#39;t be of much/any help.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Here is my case on this.\nI was experimenting with '<code>androidx.swiperefreshlayout.widget.SwipeRefreshLayout</code>'\nand added it in my layout that contains a recycler view within it. It started to show similar error as yours.</p>\n<p>The problem seemed to be with the &quot;@+id/someid&quot;. Strangely no id was being allowed to be set into the SwipeRefreshLayout. Checked the enclosing brackets multiple time. Rearranged stuff around here and there. Nothing happened.</p>\n<p>But as soon as I removed that SwipeRefreshLayout and replaced the recycler view outside as before. The problem gone.</p>\n<p>Official android docs do say that SwipeRefreshLayout requires ListView or GridView as its child. May be this is why it was happening.</p>\n<p>That was my case. Try to undo any recent changes that you did in any of the xml files and see if it fixes.</p>\n<p>Or may be I was doing something wrong!?\ni apologize if I couldn't be of much/any help.</p>\n"},{"tags":[],"owner":{"account_id":9332107,"reputation":374,"user_id":6927551,"display_name":"fazal ur Rehman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658090567,"creation_date":1658090567,"answer_id":73015222,"question_id":72335789,"body_markdown":" In my case in dimens.xml I put 8p instead of 8dp. Replacing 8p with 8dp solved my problem","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>In my case in dimens.xml I put 8p instead of 8dp. Replacing 8p with 8dp solved my problem</p>\n"},{"tags":[],"owner":{"account_id":25971598,"reputation":21,"user_id":19686689,"display_name":"Blessing Andrew Okoro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659564948,"creation_date":1659564807,"answer_id":73228351,"question_id":72335789,"body_markdown":"I used an exclamation mark (!) in my strings.xml file. Just resolved it by adding a backslash before the exclamation mark","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I used an exclamation mark (!) in my strings.xml file. Just resolved it by adding a backslash before the exclamation mark</p>\n"},{"tags":[],"owner":{"account_id":14088993,"reputation":1722,"user_id":10177977,"display_name":"Hmerman6006"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664713275,"creation_date":1664713275,"answer_id":73925768,"question_id":72335789,"body_markdown":"In my case I had the error recurring on build:  `Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_switch_disabled_selected_handle_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;&#39;`.&lt;br&gt;\r\nI noticed that I had declared duplicate `tag` names in the `theme` file.  After removing the tags I still had the error but stating more generally in `values.xml`.  I deleted the `theme` directories and all was well.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>In my case I had the error recurring on build:  <code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_switch_disabled_selected_handle_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;'</code>.<br>\nI noticed that I had declared duplicate <code>tag</code> names in the <code>theme</code> file.  After removing the tags I still had the error but stating more generally in <code>values.xml</code>.  I deleted the <code>theme</code> directories and all was well.</p>\n"},{"comments":[{"owner":{"account_id":3332716,"reputation":2082,"user_id":2801237,"display_name":"mawalker"},"score":0,"creation_date":1676437610,"post_id":74056271,"comment_id":133134723,"body_markdown":"5 instead of  6 will also do this, but note 8 is fine, first 2 become opacity and 6 behind become the color.","body":"5 instead of  6 will also do this, but note 8 is fine, first 2 become opacity and 6 behind become the color."}],"tags":[],"owner":{"account_id":25016664,"reputation":11,"user_id":18875716,"display_name":"Max B&#252;rkner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665666256,"creation_date":1665666256,"answer_id":74056271,"question_id":72335789,"body_markdown":"For me it was that i accidentally used **7 instead of 6 numbers** in colors.xml:\r\n    &lt;color name=&quot;secondaryLightColor&quot;&gt;#fe362bc&lt;/color&gt;\r\n instead of the correct\r\n    &lt;color name=&quot;secondaryLightColor&quot;&gt;#f362bc&lt;/color&gt;\r\nI advice you to use git so that you can jump back in the commits in these cases\r\nThats at least how i found mine\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>For me it was that i accidentally used <strong>7 instead of 6 numbers</strong> in colors.xml:\n#fe362bc\ninstead of the correct\n#f362bc\nI advice you to use git so that you can jump back in the commits in these cases\nThats at least how i found mine</p>\n"},{"comments":[{"owner":{"account_id":905926,"reputation":502,"user_id":940837,"display_name":"FrankKrumnow"},"score":1,"creation_date":1681910824,"post_id":74137725,"comment_id":134133114,"body_markdown":"2) Somehow Android Studio had marked red almost all unescaped &#39; but one.\nBut notepad++ showed 141 x &#39; and only 140 x \\&#39;\n\nGood tip thank you.","body":"2) Somehow Android Studio had marked red almost all unescaped &#39; but one. But notepad++ showed 141 x &#39; and only 140 x \\&#39;  Good tip thank you."},{"owner":{"account_id":8371279,"reputation":696,"user_id":6286328,"accept_rate":50,"display_name":"FabioR"},"score":0,"creation_date":1682702476,"post_id":74137725,"comment_id":134262595,"body_markdown":"In my case, there was a duplicated attribute in the attrs.xml file, but I think it was duplicated with something internal from Android, it was an attribute called &quot;number&quot;, when I removed the format it worked","body":"In my case, there was a duplicated attribute in the attrs.xml file, but I think it was duplicated with something internal from Android, it was an attribute called &quot;number&quot;, when I removed the format it worked"},{"owner":{"account_id":6748111,"reputation":469,"user_id":5199061,"accept_rate":67,"display_name":"Waseem"},"score":1,"creation_date":1697187587,"post_id":74137725,"comment_id":136251115,"body_markdown":"Thank you, mate. In my case, it was ##73007FB3 instead of #73007FB3.","body":"Thank you, mate. In my case, it was ##73007FB3 instead of #73007FB3."}],"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"comment_count":3,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1697190881,"creation_date":1666258998,"answer_id":74137725,"question_id":72335789,"body_markdown":"There may be many reasons why you get this error. All of them involve problems with some XML file in your values folder. Unfortunatly, although you can open any XML file and validate it (tools &gt; XML Actions &gt; Validate), some problems are not checked.\r\n\r\n\r\nBut if you try to run the task `gradle :app:mergeDebugResources`, it will output the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;br&gt;\r\n\r\nSince there are plenty of reasons, here&#39;s a list of some commom problems:\r\n\r\n**1 - Mispelled color:**\r\n\r\nReplace  **`#EAF5FFC`** =&gt; **`#EAF5FF`**\r\n\r\nIn my case, **`C`** was added by mistake. After removing the unused **`C`**, it worked, but it could be one or more char less or more.\r\n\r\nYou should avoid adding unused characters.\r\n\r\n&lt;br&gt;\r\n\r\n**2 - Forgot to scape apostrophe:**\r\n\r\nFind and replace **`&#39;`** symbols with **`\\&#39;`** in `strings.xml` or other XML files.\r\n\r\nExample: **&quot;`dog&#39;s leg was broken`&quot;** =&gt; **&quot;`dog\\&#39;s leg was broken`&quot;**\r\n\r\n&lt;br&gt;\r\n\r\n**3 - Forgot to add the hex sign on a color:**\r\n\r\nReplace  **`EAF5FF`** =&gt; **`#EAF5FF`**\r\n\r\nIn my case, I forgot to add the **`#`** symbol. After adding the **`#`**, it worked. It happens a lot when you copy and past hex colors.\r\n\r\n&lt;br&gt;\r\n\r\n**4 - More than one hex sign on a color:**\r\n\r\nReplace  **`##EAF5FF`** =&gt; **`#EAF5FF`**\r\nOR\r\nReplace  **`###EAF5FF`** =&gt; **`#EAF5FF`**\r\n\r\nIn my case, I added the **`#`** symbol more than once i.e. **`##`** or **`###`**. After searching and removing the additional **`#`**, it worked. It happens a lot when you copy and past hex colors.\r\n\r\n&lt;br&gt;\r\n\r\n**5 - Forgot to add a unit of measurement or spelled it wrong:**\r\n\r\nReplace  **`10p`** =&gt; **`10dp`**\r\n\r\nIn my case, In `dimens.xml`, I forgot to add the **`d`**. After adding the **`d`**, it worked. I can also be an sp for texts, for example.\r\n\r\n&lt;br&gt;\r\n\r\n**6 - Forgot to scape exclamation mark:**\r\n\r\nFind and replace **`!`** symbols with **`\\!`** in `strings.xml` or other XML files.\r\n\r\nExample: **&quot;`wow! It is a heavy rain`&quot;** =&gt; **&quot;`wow\\! It is a heavy rain`&quot;**\r\n\r\n&lt;br&gt;\r\n\r\n**7 - Duplicate theme name:**\r\n\r\nIn **`styles.xml`**, Check for the duplicate theme name. Do the same for the **`styles.xml (dark)`**.\r\n\r\n&lt;br&gt;\r\n\r\n**8 - Forgot to add a dark theme:**\r\n\r\nIn your **`themes`** folder, Check if you have one for Dark Theme as well.\r\n\r\n\r\n&lt;br&gt;\r\n\r\n**9 - Add extra &gt; when closing a tag:**\r\n\r\nIn my case, on my **`colors.xml`** file, this was my mistake: \r\n\r\n**`&lt;color name=&quot;colorPrimary&quot;&gt;&gt;#D2070E&lt;/color&gt;`**. After removing the extra **&gt;**, everything worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/35Piu.png","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>There may be many reasons why you get this error. All of them involve problems with some XML file in your values folder. Unfortunatly, although you can open any XML file and validate it (tools &gt; XML Actions &gt; Validate), some problems are not checked.</p>\n<p>But if you try to run the task <code>gradle :app:mergeDebugResources</code>, it will output the error:</p>\n<p><a href=\"https://i.stack.imgur.com/35Piu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/35Piu.png\" alt=\"enter image description here\" /></a></p>\n<br>\n<p>Since there are plenty of reasons, here's a list of some commom problems:</p>\n<p><strong>1 - Mispelled color:</strong></p>\n<p>Replace  <strong><code>#EAF5FFC</code></strong> =&gt; <strong><code>#EAF5FF</code></strong></p>\n<p>In my case, <strong><code>C</code></strong> was added by mistake. After removing the unused <strong><code>C</code></strong>, it worked, but it could be one or more char less or more.</p>\n<p>You should avoid adding unused characters.</p>\n<br>\n<p><strong>2 - Forgot to scape apostrophe:</strong></p>\n<p>Find and replace <strong><code>'</code></strong> symbols with <strong><code>\\'</code></strong> in <code>strings.xml</code> or other XML files.</p>\n<p>Example: <strong>&quot;<code>dog's leg was broken</code>&quot;</strong> =&gt; <strong>&quot;<code>dog\\'s leg was broken</code>&quot;</strong></p>\n<br>\n<p><strong>3 - Forgot to add the hex sign on a color:</strong></p>\n<p>Replace  <strong><code>EAF5FF</code></strong> =&gt; <strong><code>#EAF5FF</code></strong></p>\n<p>In my case, I forgot to add the <strong><code>#</code></strong> symbol. After adding the <strong><code>#</code></strong>, it worked. It happens a lot when you copy and past hex colors.</p>\n<br>\n<p><strong>4 - More than one hex sign on a color:</strong></p>\n<p>Replace  <strong><code>##EAF5FF</code></strong> =&gt; <strong><code>#EAF5FF</code></strong>\nOR\nReplace  <strong><code>###EAF5FF</code></strong> =&gt; <strong><code>#EAF5FF</code></strong></p>\n<p>In my case, I added the <strong><code>#</code></strong> symbol more than once i.e. <strong><code>##</code></strong> or <strong><code>###</code></strong>. After searching and removing the additional <strong><code>#</code></strong>, it worked. It happens a lot when you copy and past hex colors.</p>\n<br>\n<p><strong>5 - Forgot to add a unit of measurement or spelled it wrong:</strong></p>\n<p>Replace  <strong><code>10p</code></strong> =&gt; <strong><code>10dp</code></strong></p>\n<p>In my case, In <code>dimens.xml</code>, I forgot to add the <strong><code>d</code></strong>. After adding the <strong><code>d</code></strong>, it worked. I can also be an sp for texts, for example.</p>\n<br>\n<p><strong>6 - Forgot to scape exclamation mark:</strong></p>\n<p>Find and replace <strong><code>!</code></strong> symbols with <strong><code>\\!</code></strong> in <code>strings.xml</code> or other XML files.</p>\n<p>Example: <strong>&quot;<code>wow! It is a heavy rain</code>&quot;</strong> =&gt; <strong>&quot;<code>wow\\! It is a heavy rain</code>&quot;</strong></p>\n<br>\n<p><strong>7 - Duplicate theme name:</strong></p>\n<p>In <strong><code>styles.xml</code></strong>, Check for the duplicate theme name. Do the same for the <strong><code>styles.xml (dark)</code></strong>.</p>\n<br>\n<p><strong>8 - Forgot to add a dark theme:</strong></p>\n<p>In your <strong><code>themes</code></strong> folder, Check if you have one for Dark Theme as well.</p>\n<br>\n<p><strong>9 - Add extra &gt; when closing a tag:</strong></p>\n<p>In my case, on my <strong><code>colors.xml</code></strong> file, this was my mistake:</p>\n<p><strong><code>&lt;color name=&quot;colorPrimary&quot;&gt;&gt;#D2070E&lt;/color&gt;</code></strong>. After removing the extra <strong>&gt;</strong>, everything worked.</p>\n"},{"tags":[],"owner":{"account_id":26534710,"reputation":1,"user_id":20166418,"display_name":"i_code"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667123243,"creation_date":1667123243,"answer_id":74252002,"question_id":72335789,"body_markdown":"My solution was to check my colors.xml file and see if made any declaration mistakes like forgetting to put the &#39;#&#39;symbol before the hex code","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>My solution was to check my colors.xml file and see if made any declaration mistakes like forgetting to put the '#'symbol before the hex code</p>\n"},{"tags":[],"owner":{"account_id":17117814,"reputation":31,"user_id":12386891,"display_name":"Fahad Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671381058,"creation_date":1671380837,"answer_id":74842887,"question_id":72335789,"body_markdown":"I had this issue when I used **&#39;** instead of **\\\\&#39;** in the **strings.xml** file.\r\nFor example, I used the string **Don&#39;t** go there instead of **Don\\\\&#39;t** go there.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had this issue when I used <strong>'</strong> instead of <strong>\\'</strong> in the <strong>strings.xml</strong> file.\nFor example, I used the string <strong>Don't</strong> go there instead of <strong>Don\\'t</strong> go there.</p>\n"},{"tags":[],"owner":{"account_id":6312982,"reputation":41,"user_id":4903943,"display_name":"Ali Can"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673407723,"creation_date":1673407723,"answer_id":75078084,"question_id":72335789,"body_markdown":"This error reason that is invalid value decleration of resources files. It can be colors, strings etc. If you check all of the files you can fix the error. ","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>This error reason that is invalid value decleration of resources files. It can be colors, strings etc. If you check all of the files you can fix the error.</p>\n"},{"tags":[],"owner":{"account_id":24933302,"reputation":1,"user_id":18800156,"display_name":"Ajay Vamsee Kukkala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676201171,"creation_date":1675869458,"answer_id":75387881,"question_id":72335789,"body_markdown":"Go the `theme.xml` file and check any style tag is declared inside the existing style tag:\r\n\r\n***res/values/themes.xml***\r\n\r\nThis issue created for example:\r\n\r\n```xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\r\n\r\n        &lt;style name=&quot;xxxxxxx&quot;&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nCorrected:\r\n\r\n```xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;xxxxxxx&quot;&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nIf another style - declare it separately.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Go the <code>theme.xml</code> file and check any style tag is declared inside the existing style tag:</p>\n<p><em><strong>res/values/themes.xml</strong></em></p>\n<p>This issue created for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\n\n        &lt;style name=&quot;xxxxxxx&quot;&gt;\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\n        &lt;/style&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Corrected:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\n\n    &lt;/style&gt;\n\n    &lt;style name=&quot;xxxxxxx&quot;&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>If another style - declare it separately.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679042236,"post_id":75712863,"comment_id":133653295,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75712863/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":414133,"reputation":53,"user_id":3307756,"display_name":"votopec"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678621177,"creation_date":1678621177,"answer_id":75712863,"question_id":72335789,"body_markdown":"I had some bad dimension in my dimen.xml and by deleting it it was fixed","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had some bad dimension in my dimen.xml and by deleting it it was fixed</p>\n"},{"tags":[],"owner":{"account_id":6794470,"reputation":31,"user_id":5230342,"display_name":"Mando Basha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678743212,"creation_date":1678743212,"answer_id":75727088,"question_id":72335789,"body_markdown":"This error always happens because of **wrong change in xml file**, Check the last file you modified before the error occurred you will find the error","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>This error always happens because of <strong>wrong change in xml file</strong>, Check the last file you modified before the error occurred you will find the error</p>\n"},{"tags":[],"owner":{"account_id":28164645,"reputation":1,"user_id":21523995,"display_name":"Punjab singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680153491,"creation_date":1680153491,"answer_id":75884362,"question_id":72335789,"body_markdown":"Can not extract resource from com.android.aaptcompiler.ParsedResource@3fee16eb this error is shown after gradle....... \r\nFor correction u need to delete &quot;ids.xml&quot; after deleting this xml u app work properly\r\n\r\n\r\nnote:- This ids.xml file is found in values folder","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Can not extract resource from com.android.aaptcompiler.ParsedResource@3fee16eb this error is shown after gradle.......\nFor correction u need to delete &quot;ids.xml&quot; after deleting this xml u app work properly</p>\n<p>note:- This ids.xml file is found in values folder</p>\n"},{"comments":[{"owner":{"account_id":7509666,"reputation":1286,"user_id":5705066,"display_name":"hkanjih"},"score":0,"creation_date":1684170666,"post_id":76255794,"comment_id":134474900,"body_markdown":"There are many possible reasons why he might be getting this error. Unfortunately, your answer doesn&#39;t provide enough information to help. The question is not good at all, but we can give an answer like yours. Look for the answer given by Rumit Patel to follow it as a model","body":"There are many possible reasons why he might be getting this error. Unfortunately, your answer doesn&#39;t provide enough information to help. The question is not good at all, but we can give an answer like yours. Look for the answer given by Rumit Patel to follow it as a model"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1684251164,"post_id":76255794,"comment_id":134489305,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34391463)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34391463\">From Review</a>"}],"tags":[],"owner":{"account_id":14188492,"reputation":1,"user_id":10249841,"display_name":"rafael.lsdeveloper"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684165516,"creation_date":1684165516,"answer_id":76255794,"question_id":72335789,"body_markdown":"I had this problem using ##000000 instead of #000000 in colors file.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had this problem using ##000000 instead of #000000 in colors file.</p>\n"},{"tags":[],"owner":{"account_id":15042567,"reputation":1,"user_id":10856673,"display_name":"Junaid Nawab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684838971,"creation_date":1684785375,"answer_id":76309488,"question_id":72335789,"body_markdown":"I had the wrong file in the `//app&gt;src&gt;main&gt;res&gt;values` dir of the project. For me was the file I generated for the error `ids.xml`, by deleting `ids.xml` the error was gone and the app built successfully.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had the wrong file in the <code>//app&gt;src&gt;main&gt;res&gt;values</code> dir of the project. For me was the file I generated for the error <code>ids.xml</code>, by deleting <code>ids.xml</code> the error was gone and the app built successfully.</p>\n"},{"tags":[],"owner":{"account_id":6205573,"reputation":18140,"user_id":4833705,"accept_rate":86,"display_name":"Lance Samaria"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1687647874,"creation_date":1686901383,"answer_id":76487983,"question_id":72335789,"body_markdown":"I found the answer explained very clearly in this [youtube video][1]\r\n\r\n1. when you get the error, at the bottom of Android Studio click the `Build` tab (assuming it&#39;s not already open). Once the `Build` tab opens, in the left pane **click** `:app:mergeDebugResources` (green arrow in pic). **Look closely and it says `1 error` next to the green arrow.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n2. After you click `:app:mergeDebugResources`, then in the right pane, scroll to the top and you are going to see a blue link with a red error message next to it (underlined in green in pic). The red error message describes what&#39;s causing the issue. For me the issue was **Invalid &gt;color&lt; for given resource value.** Click the blue link and it&#39;ll take you to the file that contains the issue. For me the file was `res/values/colors` \r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen I clicked the blue link, it took me to the `colors` resource file. I had to **find the issue on my own** (it doesn&#39;t tell you which line(s) the problem is at). The problem  was I added a color in quotes **&quot;#ff0000&quot;** (2 green arrows in below pic) when it should&#39;ve been without quotes **#ff0000**.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nOnce I removed the quotes everything worked fine.\r\n\r\n**Important.** I only had 1 error, if you have more than 1 error (you&#39;ll see them like in pic #1 above), there are going to be blue links for each one. You&#39;re going to have to **click each individual blue link** to take you to the file and find each error separately.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=2olIEg8w7IM\r\n  [2]: https://i.stack.imgur.com/10ZJV.png\r\n  [3]: https://i.stack.imgur.com/o4XoI.png\r\n  [4]: https://i.stack.imgur.com/ayLI5.png","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I found the answer explained very clearly in this <a href=\"https://www.youtube.com/watch?v=2olIEg8w7IM\" rel=\"nofollow noreferrer\">youtube video</a></p>\n<ol>\n<li>when you get the error, at the bottom of Android Studio click the <code>Build</code> tab (assuming it's not already open). Once the <code>Build</code> tab opens, in the left pane <strong>click</strong> <code>:app:mergeDebugResources</code> (green arrow in pic). <strong>Look closely and it says <code>1 error</code> next to the green arrow.</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/10ZJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10ZJV.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>After you click <code>:app:mergeDebugResources</code>, then in the right pane, scroll to the top and you are going to see a blue link with a red error message next to it (underlined in green in pic). The red error message describes what's causing the issue. For me the issue was <strong>Invalid &gt;color&lt; for given resource value.</strong> Click the blue link and it'll take you to the file that contains the issue. For me the file was <code>res/values/colors</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/o4XoI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4XoI.png\" alt=\"enter image description here\" /></a></p>\n<p>When I clicked the blue link, it took me to the <code>colors</code> resource file. I had to <strong>find the issue on my own</strong> (it doesn't tell you which line(s) the problem is at). The problem  was I added a color in quotes <strong>&quot;#ff0000&quot;</strong> (2 green arrows in below pic) when it should've been without quotes <strong>#ff0000</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/ayLI5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ayLI5.png\" alt=\"enter image description here\" /></a></p>\n<p>Once I removed the quotes everything worked fine.</p>\n<p><strong>Important.</strong> I only had 1 error, if you have more than 1 error (you'll see them like in pic #1 above), there are going to be blue links for each one. You're going to have to <strong>click each individual blue link</strong> to take you to the file and find each error separately.</p>\n"},{"tags":[],"owner":{"account_id":70500,"reputation":1135,"user_id":204381,"display_name":"Ullallulloo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690031207,"creation_date":1690031207,"answer_id":76743939,"question_id":72335789,"body_markdown":"For me, it was that I created an id item incorrectly. When Android Studio prompted me for a value for the item, I na&#239;vely put the same thing as the name, leading to the following item being created in ids.xml:\r\n\r\n```xml\r\n&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot;&gt;foo_radio_group&lt;/item&gt;\r\n```\r\n\r\nHowever, ids can&#39;t have values. It should instead simply be like so:\r\n\r\n```xml\r\n&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot; /&gt;\r\n```","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>For me, it was that I created an id item incorrectly. When Android Studio prompted me for a value for the item, I naïvely put the same thing as the name, leading to the following item being created in ids.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot;&gt;foo_radio_group&lt;/item&gt;\n</code></pre>\n<p>However, ids can't have values. It should instead simply be like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot; /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1567875,"reputation":2055,"user_id":1456253,"accept_rate":82,"display_name":"code11"},"score":1,"creation_date":1691438824,"post_id":76854867,"comment_id":135489160,"body_markdown":"Please write your answer in English, as [Stack Overflow is an English site.](//meta.stackexchange.com/q/13676)","body":"Please write your answer in English, as <a href=\"//meta.stackexchange.com/q/13676\">Stack Overflow is an English site.</a>"},{"owner":{"account_id":28447318,"reputation":1,"user_id":21765866,"display_name":"Lozorn"},"score":0,"creation_date":1691439063,"post_id":76854867,"comment_id":135489200,"body_markdown":"Now it is translated","body":"Now it is translated"}],"tags":[],"owner":{"account_id":28447318,"reputation":1,"user_id":21765866,"display_name":"Lozorn"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691438859,"creation_date":1691438677,"answer_id":76854867,"question_id":72335789,"body_markdown":"I deleted this file and it worked again, I created it by accident trying to make a menu, after that it gave me the same error as you\r\n\r\n\r\n[file to delete][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/318Y4.png","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I deleted this file and it worked again, I created it by accident trying to make a menu, after that it gave me the same error as you</p>\n<p><a href=\"https://i.stack.imgur.com/318Y4.png\" rel=\"nofollow noreferrer\">file to delete</a></p>\n"},{"tags":[],"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693387180,"creation_date":1693387180,"answer_id":77006629,"question_id":72335789,"body_markdown":"\r\nI tested all my strings and colors everything seems correct. \r\n\r\nProblem from my recently added old library. \r\nAfter some research I add the following line in **settings.gradle** it&#39;s fixed\r\n\r\n    android.enableJetifier=true","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I tested all my strings and colors everything seems correct.</p>\n<p>Problem from my recently added old library.\nAfter some research I add the following line in <strong>settings.gradle</strong> it's fixed</p>\n<pre><code>android.enableJetifier=true\n</code></pre>\n"}],"owner":{"account_id":12070986,"reputation":853,"user_id":8826361,"display_name":"Shivendra Kr. Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85279,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":72355635,"answer_count":23,"score":74,"last_activity_date":1697190881,"creation_date":1653206424,"question_id":72335789,"body_markdown":"Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.\r\n\r\n    Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n       &gt; Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:145)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:143)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n    Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$2.run(TaskExecution.java:247)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:224)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:207)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:190)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:168)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:188)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n    \tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n    \tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:109)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:93)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:93)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$3.withWorkspace(TaskExecution.java:284)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    \tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:142)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n    Caused by: com.android.aaptcompiler.ResourceCompilationException: Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:129)\r\n    \tat com.android.build.gradle.internal.res.ResourceCompilerRunnable$Companion.compileSingleResource(ResourceCompilerRunnable.kt:34)\r\n    \tat com.android.build.gradle.internal.res.ResourceCompilerRunnable.run(ResourceCompilerRunnable.kt:15)\r\n    \tat com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n    \tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n    \tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n    \tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n    \tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:206)\r\n    \tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\r\n    \tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\r\n    \tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\r\n    \t... 3 more\r\n    Caused by: com.android.aaptcompiler.ResourceCompilationException: Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:192)\r\n    \tat com.android.aaptcompiler.ResourceCompiler.access$compileTable(ResourceCompiler.kt:1)\r\n    \tat com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\r\n    \tat com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:123)\r\n    \t... 27 more\r\n    Caused by: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.\r\n    \tat com.android.aaptcompiler.TableExtractor.extractResourceValues(TableExtractor.kt:270)\r\n    \tat com.android.aaptcompiler.TableExtractor.extract(TableExtractor.kt:181)\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:188)\r\n    \t... 31 more\r\n\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.</p>\n<pre><code>Execution failed for task ':app:mergeDebugResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n   &gt; Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:143)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$2.run(TaskExecution.java:247)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:224)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:207)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:190)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:168)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:188)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:38)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:27)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:109)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:93)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:93)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.withWorkspace(TaskExecution.java:284)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: com.android.aaptcompiler.ResourceCompilationException: Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\n    at com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:129)\n    at com.android.build.gradle.internal.res.ResourceCompilerRunnable$Companion.compileSingleResource(ResourceCompilerRunnable.kt:34)\n    at com.android.build.gradle.internal.res.ResourceCompilerRunnable.run(ResourceCompilerRunnable.kt:15)\n    at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:206)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\n    ... 3 more\nCaused by: com.android.aaptcompiler.ResourceCompilationException: Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml\n    at com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:192)\n    at com.android.aaptcompiler.ResourceCompiler.access$compileTable(ResourceCompiler.kt:1)\n    at com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\n    at com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\n    at com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:123)\n    ... 27 more\nCaused by: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.\n    at com.android.aaptcompiler.TableExtractor.extractResourceValues(TableExtractor.kt:270)\n    at com.android.aaptcompiler.TableExtractor.extract(TableExtractor.kt:181)\n    at com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:188)\n    ... 31 more\n</code></pre>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654153822,"post_id":72471921,"comment_id":128024729,"body_markdown":"Have you read what it says on https://support.google.com/mail/?p=BadCredentials as suggested in the error message?","body":"Have you read what it says on <a href=\"https://support.google.com/mail/?p=BadCredentials\" rel=\"nofollow noreferrer\">support.google.com/mail/?p=BadCredentials</a> as suggested in the error message?"},{"owner":{"account_id":16706097,"reputation":75,"user_id":16822059,"display_name":"namkellbi"},"score":0,"creation_date":1654153890,"post_id":72471921,"comment_id":128024751,"body_markdown":"yes, I doing follow that but it&#39;sstill failed authentication","body":"yes, I doing follow that but it&#39;sstill failed authentication"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654153975,"post_id":72471921,"comment_id":128024779,"body_markdown":"What exactly did you &quot;follow&quot;? Be specific about what you tried.","body":"What exactly did you &quot;follow&quot;? Be specific about what you tried."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1654162414,"post_id":72471921,"comment_id":128027426,"body_markdown":"You might need `spring.mail.properties.mail.smtp.starttls.required=true` as well","body":"You might need <code>spring.mail.properties.mail.smtp.starttls.required=true</code> as well"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654163458,"post_id":72471921,"comment_id":128027770,"body_markdown":"These days, Google allows you to generate specific credentials for apps. This is superior to using &#39;your own&#39; account credentials","body":"These days, Google allows you to generate specific credentials for apps. This is superior to using &#39;your own&#39; account credentials"},{"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"score":0,"creation_date":1671209222,"post_id":72471921,"comment_id":132057142,"body_markdown":"Google has turn off by default this option. previously its working we can able to ON. Some apps and devices use less secure sign-in technology, which makes your account vulnerable. You can turn off access for these apps, which we recommend, or turn it on if you want to use them despite the risks. Google will automatically turn this setting OFF if it’s not being used.","body":"Google has turn off by default this option. previously its working we can able to ON. Some apps and devices use less secure sign-in technology, which makes your account vulnerable. You can turn off access for these apps, which we recommend, or turn it on if you want to use them despite the risks. Google will automatically turn this setting OFF if it’s not being used."}],"answers":[{"tags":[],"owner":{"account_id":29663140,"reputation":1,"user_id":22734283,"display_name":"Đạt Trần B&#225;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697190872,"creation_date":1697190840,"answer_id":77286756,"question_id":72471921,"body_markdown":"I found this solution:\r\nStep 1: Create app password on google account\r\n  + follow link: https://support.google.com/mail/answer/185833?hl=en\r\n\r\nStep 2: Add generated password to application.properties\r\n  + spring.mail.password={generated password}\r\n\r\nStep 3: try again","title":"Java Mail Authentication Failed Exception","body":"<p>I found this solution:\nStep 1: Create app password on google account</p>\n<ul>\n<li>follow link: <a href=\"https://support.google.com/mail/answer/185833?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/mail/answer/185833?hl=en</a></li>\n</ul>\n<p>Step 2: Add generated password to application.properties</p>\n<ul>\n<li>spring.mail.password={generated password}</li>\n</ul>\n<p>Step 3: try again</p>\n"}],"owner":{"account_id":16706097,"reputation":75,"user_id":16822059,"display_name":"namkellbi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1895,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697190872,"creation_date":1654153057,"question_id":72471921,"body_markdown":"I have a problem when using JavaMail\r\n\r\n    javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\r\n    535 5.7.8  https://support.google.com/mail/?p=BadCredentials ru12-20020a17090b2bcc00b001cb6527ca39sm4977241pjb.0 - gsmtp\r\n\r\nMy config on application.properties\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username={my email}\r\n    spring.mail.password={my password}\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\nI have read some solutions like &quot;Turn on Less secure apps&quot; on Settings account.google.com but that is old articles, now google no longer allows to use this feature. \r\n\r\nI dont know how to fix it?\r\n\r\n    at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at javax.mail.Service.connect(Service.java:342) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518) ~[spring-context-support-5.3.15.jar:5.3.15]\r\n    at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398) ~[spring-context-support-5.3.15.jar:5.3.15]\r\n    at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:77) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:40) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:71) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:61) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) [spring-core-5.3.15.jar:5.3.15]\r\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_311]\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_311]\r\n    at sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source) ~[na:na]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_311]\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_311]\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_311]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\r\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_311]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_311]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_311]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_311]\r\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_311]\r\n\r\n\r\n\r\n","title":"Java Mail Authentication Failed Exception","body":"<p>I have a problem when using JavaMail</p>\n<pre><code>javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ru12-20020a17090b2bcc00b001cb6527ca39sm4977241pjb.0 - gsmtp\n</code></pre>\n<p>My config on application.properties</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username={my email}\nspring.mail.password={my password}\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p>I have read some solutions like &quot;Turn on Less secure apps&quot; on Settings account.google.com but that is old articles, now google no longer allows to use this feature.</p>\n<p>I dont know how to fix it?</p>\n<pre><code>at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat javax.mail.Service.connect(Service.java:342) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518) ~[spring-context-support-5.3.15.jar:5.3.15]\nat org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398) ~[spring-context-support-5.3.15.jar:5.3.15]\nat org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:77) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:40) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:71) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:61) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) [spring-core-5.3.15.jar:5.3.15]\nat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_311]\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_311]\nat sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source) ~[na:na]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_311]\nat sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_311]\nat sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_311]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_311]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_311]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_311]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_311]\nat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_311]\n</code></pre>\n"},{"tags":["java","xstream"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1336073581,"post_id":10438124,"comment_id":13474124,"body_markdown":"Package? What do you mean by package?","body":"Package? What do you mean by package?"},{"owner":{"account_id":2293390,"reputation":8655,"user_id":2015517,"accept_rate":60,"display_name":"Dev Blanked"},"score":0,"creation_date":1364129503,"post_id":10438124,"comment_id":22119459,"body_markdown":"can you post the xml and the java class you are using to populate","body":"can you post the xml and the java class you are using to populate"},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1455534722,"post_id":10438124,"comment_id":58516667,"body_markdown":"The fully qualified name works well `xstream.alias(...)`, but how does it work with Annotations ?","body":"The fully qualified name works well <code>xstream.alias(...)</code>, but how does it work with Annotations ?"}],"answers":[{"tags":[],"owner":{"account_id":2570161,"reputation":89,"user_id":2229113,"display_name":"tarunajain"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364739863,"creation_date":1364739863,"answer_id":15730399,"question_id":10438124,"body_markdown":"When you pass the class name to the alias method you need to pass the fully qualified class name i.e the class name along with its package name.\r\n\r\nExample : Suppose if the class Something is in the package com.xyz then you need to pass com.xyz.Something.class as the parameter\r\n\r\nThanks","title":"xstream CannotResolveClassException","body":"<p>When you pass the class name to the alias method you need to pass the fully qualified class name i.e the class name along with its package name.</p>\n\n<p>Example : Suppose if the class Something is in the package com.xyz then you need to pass com.xyz.Something.class as the parameter</p>\n\n<p>Thanks</p>\n"},{"comments":[{"owner":{"account_id":2165792,"reputation":1023,"user_id":2028594,"accept_rate":100,"display_name":"Payedimaunt"},"score":0,"creation_date":1424776534,"post_id":22536381,"comment_id":45679355,"body_markdown":"yes, this  not resolve my problem but it&#39;s useful.Tnx","body":"yes, this  not resolve my problem but it&#39;s useful.Tnx"}],"tags":[],"owner":{"account_id":4202850,"reputation":11,"user_id":3442540,"display_name":"Saikumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395326476,"creation_date":1395326476,"answer_id":22536381,"question_id":10438124,"body_markdown":"For your question it will be useful   \r\n\r\n **Download Xtream.jar**\r\n    \r\n    package businessfunctions;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import objectrepository.LoginPojo;\r\n    import objectrepository.LoginPojos;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    import com.thoughtworks.xstream.XStream;\r\n    import com.thoughtworks.xstream.io.xml.DomDriver;\r\n    \r\n    \tpublic void readRepository(String fNmae){\r\n    \t\t\r\n    \t\t// Instantiate XStream Object\r\n    \t\tXStream xstream = new XStream(new DomDriver()); \r\n    \r\n    \t\t// Set Person class into xstream alias\r\n    \t\txstream.alias(&quot;loginpojos&quot;,LoginPojos.class);\r\n    \t\txstream.alias(&quot;loginpojo&quot;,LoginPojo.class);\r\n    \r\n    \t\txstream.addImplicitCollection(LoginPojos.class, &quot;loginpojos&quot;);\r\n    \t\t\r\n    \t\t// Create a StringBuffer var\r\n    \t\tStringBuffer contents = new StringBuffer();\r\n    \r\n    \t\t try {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t// Set BufferReader var &quot;in&quot; to read from PersonXML.xml file\r\n    \t\t\t\tBufferedReader in = new BufferedReader(new FileReader(repoPath+fNmae));\r\n    \r\n    \t\t\t\tString str;\r\n    \r\n    \t\t\t\twhile ((str = in.readLine()) != null) {\r\n    \t\t\t\tcontents.append(str);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tin.close();\r\n    \t\t\t \r\n    \t\t\t } catch (IOException e) {\r\n    \t\t\t\t\tSystem.out.println(e.toString());\r\n    \t\t\t }\r\n    \t\t\t// Checking the StringBuffer variable &quot;contents&quot;\r\n    \t\t\tSystem.out.println(contents);\r\n    \r\n    \t\t\tString content = new String();\r\n    \r\n    \t\t\t// Put all the contents from contents to String variable content --xstream.fromXML()takes\r\n    \t\t\t//only String\r\n    \t\t\tcontent = contents.toString();\r\n    \r\n    \t\t\t// Convert content into XML and change and set to obj newPerson of class Person\r\n    \t\t\tLoginPojos loginPojosList = (LoginPojos)xstream.fromXML(content);\r\n    \r\n    \t\t\tList&lt;LoginPojo&gt; loginPojoList = loginPojosList.getLoginpojos();\r\n    \t\t\tfor(LoginPojo newLogiPojo:loginPojoList){\r\n    \t\t\t// Print out the newPerson properties\r\n    \t\t\tSystem.out.println(&quot;Property Label: &quot; + newLogiPojo.getPropLabel());\r\n    \t\t\tSystem.out.println(&quot;Property Name: &quot; + newLogiPojo.getPropName());\r\n    \t\t\tSystem.out.println(&quot;Property Value: &quot; + newLogiPojo.getPropValue());\r\n    \t\t\t}\r\n    \r\n    \t\t\t }\r\n    \r\n    \r\n    \r\n    public static void main(String args[]) {\r\n    \t\t try {\r\n    \t\t\t DriverSetup ds= new DriverSetup();\r\n    \t\t\t ds.readRepository(&quot;login.xml&quot;);  \r\n    \t\t \r\n    \t\t }catch(Exception e){\r\n    \t\t\te.printStackTrace(); \r\n    \t\t }\r\n    \r\n    package objectrepository;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class LoginPojos {\r\n    \t\r\n    \t public List&lt;LoginPojo&gt; loginpojos = new ArrayList&lt;LoginPojo&gt;();\r\n    \r\n    \tpublic List&lt;LoginPojo&gt; getLoginpojos() {\r\n    \t\treturn loginpojos;\r\n    \t}\r\n    \r\n    \tpublic void setLoginpojos(List&lt;LoginPojo&gt; loginpojos) {\r\n    \t\tthis.loginpojos = loginpojos;\r\n    \t}\r\n    \r\n    \r\n    \t \r\n    }\r\n    \r\n    \r\n    package objectrepository;\r\n    \r\n    public class LoginPojo {\r\n    \t\r\n    \tprivate String propLabel;\r\n    \tprivate String propName;\r\n    \tprivate String propValue;\r\n    \tpublic String getPropLabel() {\r\n    \t\treturn propLabel;\r\n    \t}\r\n    \tpublic void setPropLabel(String propLabel) {\r\n    \t\tthis.propLabel = propLabel;\r\n    \t}\r\n    \tpublic String getPropName() {\r\n    \t\treturn propName;\r\n    \t}\r\n    \tpublic void setPropName(String propName) {\r\n    \t\tthis.propName = propName;\r\n    \t}\r\n    \tpublic String getPropValue() {\r\n    \t\treturn propValue;\r\n    \t}\r\n    \tpublic void setPropValue(String propValue) {\r\n    \t\tthis.propValue = propValue;\r\n    \t}\r\n    \t\r\n    \t\t\r\n    \r\n    }\r\n    \r\n    \r\n    &lt;loginpojos&gt;\r\n    &lt;loginpojo&gt;\r\n    &lt;propLabel&gt;User name1&lt;/propLabel&gt;\r\n    &lt;propName&gt;id1&lt;/propName&gt;\r\n    &lt;propValue&gt;username1&lt;/propValue&gt;\r\n    &lt;/loginpojo&gt;\r\n    &lt;loginpojo&gt;\r\n    &lt;propLabel&gt;User name&lt;/propLabel&gt;\r\n    &lt;propName&gt;id&lt;/propName&gt;\r\n    &lt;propValue&gt;username&lt;/propValue&gt;\r\n    &lt;/loginpojo&gt;\r\n    &lt;/loginpojos&gt;\r\n\r\n","title":"xstream CannotResolveClassException","body":"<p>For your question it will be useful   </p>\n\n<p><strong>Download Xtream.jar</strong></p>\n\n<pre><code>package businessfunctions;\n\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\nimport objectrepository.LoginPojo;\nimport objectrepository.LoginPojos;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\nimport com.thoughtworks.xstream.XStream;\nimport com.thoughtworks.xstream.io.xml.DomDriver;\n\n    public void readRepository(String fNmae){\n\n        // Instantiate XStream Object\n        XStream xstream = new XStream(new DomDriver()); \n\n        // Set Person class into xstream alias\n        xstream.alias(\"loginpojos\",LoginPojos.class);\n        xstream.alias(\"loginpojo\",LoginPojo.class);\n\n        xstream.addImplicitCollection(LoginPojos.class, \"loginpojos\");\n\n        // Create a StringBuffer var\n        StringBuffer contents = new StringBuffer();\n\n         try {\n                // TODO Auto-generated method stub\n\n\n                // Set BufferReader var \"in\" to read from PersonXML.xml file\n                BufferedReader in = new BufferedReader(new FileReader(repoPath+fNmae));\n\n                String str;\n\n                while ((str = in.readLine()) != null) {\n                contents.append(str);\n                }\n\n                in.close();\n\n             } catch (IOException e) {\n                    System.out.println(e.toString());\n             }\n            // Checking the StringBuffer variable \"contents\"\n            System.out.println(contents);\n\n            String content = new String();\n\n            // Put all the contents from contents to String variable content --xstream.fromXML()takes\n            //only String\n            content = contents.toString();\n\n            // Convert content into XML and change and set to obj newPerson of class Person\n            LoginPojos loginPojosList = (LoginPojos)xstream.fromXML(content);\n\n            List&lt;LoginPojo&gt; loginPojoList = loginPojosList.getLoginpojos();\n            for(LoginPojo newLogiPojo:loginPojoList){\n            // Print out the newPerson properties\n            System.out.println(\"Property Label: \" + newLogiPojo.getPropLabel());\n            System.out.println(\"Property Name: \" + newLogiPojo.getPropName());\n            System.out.println(\"Property Value: \" + newLogiPojo.getPropValue());\n            }\n\n             }\n\n\n\npublic static void main(String args[]) {\n         try {\n             DriverSetup ds= new DriverSetup();\n             ds.readRepository(\"login.xml\");  \n\n         }catch(Exception e){\n            e.printStackTrace(); \n         }\n\npackage objectrepository;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class LoginPojos {\n\n     public List&lt;LoginPojo&gt; loginpojos = new ArrayList&lt;LoginPojo&gt;();\n\n    public List&lt;LoginPojo&gt; getLoginpojos() {\n        return loginpojos;\n    }\n\n    public void setLoginpojos(List&lt;LoginPojo&gt; loginpojos) {\n        this.loginpojos = loginpojos;\n    }\n\n\n\n}\n\n\npackage objectrepository;\n\npublic class LoginPojo {\n\n    private String propLabel;\n    private String propName;\n    private String propValue;\n    public String getPropLabel() {\n        return propLabel;\n    }\n    public void setPropLabel(String propLabel) {\n        this.propLabel = propLabel;\n    }\n    public String getPropName() {\n        return propName;\n    }\n    public void setPropName(String propName) {\n        this.propName = propName;\n    }\n    public String getPropValue() {\n        return propValue;\n    }\n    public void setPropValue(String propValue) {\n        this.propValue = propValue;\n    }\n\n\n\n}\n\n\n&lt;loginpojos&gt;\n&lt;loginpojo&gt;\n&lt;propLabel&gt;User name1&lt;/propLabel&gt;\n&lt;propName&gt;id1&lt;/propName&gt;\n&lt;propValue&gt;username1&lt;/propValue&gt;\n&lt;/loginpojo&gt;\n&lt;loginpojo&gt;\n&lt;propLabel&gt;User name&lt;/propLabel&gt;\n&lt;propName&gt;id&lt;/propName&gt;\n&lt;propValue&gt;username&lt;/propValue&gt;\n&lt;/loginpojo&gt;\n&lt;/loginpojos&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4358066,"reputation":1056,"user_id":3556052,"accept_rate":75,"display_name":"miracle_the_V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519318494,"creation_date":1519318494,"answer_id":48933071,"question_id":10438124,"body_markdown":"Spent half an evening trying to resolve similar error. &lt;br&gt;\r\nPassing a driver to xStream miraculously helped.\r\n\r\n    XStream xstream = new XStream(new StaxDriver());\r\n\r\n","title":"xstream CannotResolveClassException","body":"<p>Spent half an evening trying to resolve similar error. <br>\nPassing a driver to xStream miraculously helped.</p>\n\n<pre><code>XStream xstream = new XStream(new StaxDriver());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6750506,"reputation":709,"user_id":5200630,"display_name":"Gogu CelMare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697190798,"creation_date":1697190798,"answer_id":77286754,"question_id":10438124,"body_markdown":"In my case I had a mismatch of names. Sender had ConfigWiFi and receiver defined WiFiConfig.","title":"xstream CannotResolveClassException","body":"<p>In my case I had a mismatch of names. Sender had ConfigWiFi and receiver defined WiFiConfig.</p>\n"}],"owner":{"account_id":163085,"reputation":317,"user_id":384973,"accept_rate":33,"display_name":"Slava Markeyev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30932,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1697190798,"creation_date":1336073512,"question_id":10438124,"body_markdown":"I&#39;m trying to use xstream 1.4.2 to convert xml to object. It does work perfectly fine for me until I put the object&#39;s class file in a separate package than where the main code runs. Then I get a CannotResolveClassException. I&#39;ve tried using the setClassLoader method as recommended by others but that doesn&#39;t help.\r\n\r\n    Exception in thread &quot;main&quot; com.thoughtworks.xstream.mapper.CannotResolveClassException: result\r\n\tat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:56)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.PackageAliasingMapper.realClass(PackageAliasingMapper.java:88)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:79)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:74)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:45)\r\n\tat com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:133)\r\n\tat com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\r\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1052)\r\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1036)\r\n\tat com.thoughtworks.xstream.XStream.fromXML(XStream.java:912)\r\n\tat com.thoughtworks.xstream.XStream.fromXML(XStream.java:903)\r\n\tat main.readClass(main.java:48)\r\n\tat main.main(main.java:28)\r\n\r\n**Answer:** xstream expects the xml structure to be relative to the package in which it (the object) originates from. So xstream.alias must be used in order to alias the xml structure.\r\n\r\n    xstream.alias(&quot;something&quot;, Something.class);\r\n\r\nOtherwise xstream will expect &quot;Something&quot; to be in the default package rather than the package it is a member of.","title":"xstream CannotResolveClassException","body":"<p>I'm trying to use xstream 1.4.2 to convert xml to object. It does work perfectly fine for me until I put the object's class file in a separate package than where the main code runs. Then I get a CannotResolveClassException. I've tried using the setClassLoader method as recommended by others but that doesn't help.</p>\n\n<pre><code>Exception in thread \"main\" com.thoughtworks.xstream.mapper.CannotResolveClassException: result\nat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:56)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.PackageAliasingMapper.realClass(PackageAliasingMapper.java:88)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:79)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:74)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:45)\nat com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\nat com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:133)\nat com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\nat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1052)\nat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1036)\nat com.thoughtworks.xstream.XStream.fromXML(XStream.java:912)\nat com.thoughtworks.xstream.XStream.fromXML(XStream.java:903)\nat main.readClass(main.java:48)\nat main.main(main.java:28)\n</code></pre>\n\n<p><strong>Answer:</strong> xstream expects the xml structure to be relative to the package in which it (the object) originates from. So xstream.alias must be used in order to alias the xml structure.</p>\n\n<pre><code>xstream.alias(\"something\", Something.class);\n</code></pre>\n\n<p>Otherwise xstream will expect \"Something\" to be in the default package rather than the package it is a member of.</p>\n"},{"tags":["java","android","button","boolean","animationdrawable"],"owner":{"account_id":29663016,"reputation":1,"user_id":22734184,"display_name":"Leleo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697190299,"creation_date":1697190299,"question_id":77286705,"body_markdown":"I have a project where i have two images in loop in a AnimationDrawable, and i would like to use a single button that play a specific sound for the image that is on screen, for example: when image 1 is on screen when button press audio A plays, when image 2 is on screen on button press audio B play.\r\nI was thinking on use a boolean to identify the image that is on screen, but i don&#39;t know if it is possible or if there is a better way to do it. Could someone help me?\r\n\r\nFor now it didn&#39;t work for:\r\n\r\n---\r\n\r\n        public void onClick(View imagem) {\r\n\r\n              if (snAnimacao.equals(R.drawable.1))\r\n                  A.start();\r\n              else {\r\n                     B.start();\r\n              }\r\n            }","title":"Is it possible to use boolean in an animationDrawable in android studio?","body":"<p>I have a project where i have two images in loop in a AnimationDrawable, and i would like to use a single button that play a specific sound for the image that is on screen, for example: when image 1 is on screen when button press audio A plays, when image 2 is on screen on button press audio B play.\nI was thinking on use a boolean to identify the image that is on screen, but i don't know if it is possible or if there is a better way to do it. Could someone help me?</p>\n<p>For now it didn't work for:</p>\n<hr />\n<pre><code>    public void onClick(View imagem) {\n\n          if (snAnimacao.equals(R.drawable.1))\n              A.start();\n          else {\n                 B.start();\n          }\n        }\n</code></pre>\n"},{"tags":["java","jvm","rvm"],"comments":[{"owner":{"account_id":1021083,"reputation":39862,"user_id":1031417,"accept_rate":85,"display_name":"0x90"},"score":2,"creation_date":1606455058,"post_id":2463936,"comment_id":114971830,"body_markdown":"As jocull had suggested, I find sdkman the best java version manager for my purposes https://sdkman.io/","body":"As jocull had suggested, I find sdkman the best java version manager for my purposes <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443974950,"creation_date":1268843557,"answer_id":2464043,"question_id":2463936,"body_markdown":"With JVMs, if you need to switch between them you just need to use a batch file (or powershell script)  to manage the classpath and JVM path.    You don&#39;t need to rely on the system default JVM path and instead just allow your app to point to whatever JVM you like by changing classpath and JVM path environment in the shell that runs the JVM.\r\n\r\nFor programs that are getting Java location from the Registry, in theory you could use a batch script to update that also.\r\n\r\nIn this respect Java is way easier than &quot;Ruby version manager&quot;.","title":"JVM version manager","body":"<p>With JVMs, if you need to switch between them you just need to use a batch file (or powershell script)  to manage the classpath and JVM path.    You don't need to rely on the system default JVM path and instead just allow your app to point to whatever JVM you like by changing classpath and JVM path environment in the shell that runs the JVM.</p>\n\n<p>For programs that are getting Java location from the Registry, in theory you could use a batch script to update that also.</p>\n\n<p>In this respect Java is way easier than \"Ruby version manager\".</p>\n"},{"tags":[],"owner":{"account_id":183250,"reputation":11610,"user_id":418518,"accept_rate":75,"display_name":"nothing-special-here"},"comment_count":0,"down_vote_count":4,"up_vote_count":28,"is_accepted":true,"score":24,"last_activity_date":1334164863,"creation_date":1334164863,"answer_id":10110836,"question_id":2463936,"body_markdown":"If you use Ubuntu you can specify which JVM you want to use via command (works only for JVM installed from apt-get or aptitude)\r\n\r\n`sudo update-alternatives --config java`\r\n\r\nOr by setting JAVA_HOME. Here is good tutorial:\r\n\r\nhttp://vietpad.sourceforge.net/javaonlinux.html","title":"JVM version manager","body":"<p>If you use Ubuntu you can specify which JVM you want to use via command (works only for JVM installed from apt-get or aptitude)</p>\n\n<p><code>sudo update-alternatives --config java</code></p>\n\n<p>Or by setting JAVA_HOME. Here is good tutorial:</p>\n\n<p><a href=\"http://vietpad.sourceforge.net/javaonlinux.html\" rel=\"noreferrer\">http://vietpad.sourceforge.net/javaonlinux.html</a></p>\n"},{"comments":[{"owner":{"account_id":121997,"reputation":584,"user_id":315499,"accept_rate":50,"display_name":"SikoSoft"},"score":5,"creation_date":1574843477,"post_id":16442392,"comment_id":104370455,"body_markdown":"This doesn&#39;t seem to support Windows, or does it?","body":"This doesn&#39;t seem to support Windows, or does it?"},{"owner":{"account_id":18534714,"reputation":762,"user_id":13504658,"display_name":"Hexception"},"score":0,"creation_date":1650913111,"post_id":16442392,"comment_id":127231400,"body_markdown":"same for sdkman, both are only supported using wsl, cygwin etc. so no native windows support!","body":"same for sdkman, both are only supported using wsl, cygwin etc. so no native windows support!"},{"owner":{"account_id":74770,"reputation":109,"user_id":214675,"accept_rate":80,"display_name":"Brad"},"score":2,"creation_date":1665074782,"post_id":16442392,"comment_id":130619981,"body_markdown":"For completeness, jenv does not satisfy the request to easily install JVMs.","body":"For completeness, jenv does not satisfy the request to easily install JVMs."}],"tags":[],"owner":{"account_id":143602,"reputation":4091,"user_id":352054,"accept_rate":76,"display_name":"dom farr"},"comment_count":3,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1368020763,"creation_date":1368020763,"answer_id":16442392,"question_id":2463936,"body_markdown":"http://www.jenv.be/ will allow this type of control.","title":"JVM version manager","body":"<p><a href=\"http://www.jenv.be/\" rel=\"noreferrer\">http://www.jenv.be/</a> will allow this type of control.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420822287,"creation_date":1420822287,"answer_id":27865342,"question_id":2463936,"body_markdown":"The trick is to use update-java-alternatives (from the java-common package).   The update-alternatives command will not update every one of the symbolic links for various java /bin executables, which is why update-java-alternatives is better.\r\n\r\nSo to go for OpenJDK 6 to 7, use `update-java-alternatives -l` to get a list of Java alternatives and then used `sudo update-java-alternatives -s java-1.7.0-openjdk-amd64` to switch the JDK.\r\n\r\nCAVEAT: The command above might throw the following errors,\r\n\r\n    update-alternatives: error: no alternatives for mozilla-javaplugin.so.\r\n    update-java-alternatives: plugin alternative does not exist: \r\n      /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/amd64/IcedTeaPlugin.so\r\n\r\nThis is because the openjdk plugin is not installed by default. To fix run `sudo apt-get install icedtea-7-plugin` and rerun update-java-alternatives.\r\n","title":"JVM version manager","body":"<p>The trick is to use update-java-alternatives (from the java-common package).   The update-alternatives command will not update every one of the symbolic links for various java /bin executables, which is why update-java-alternatives is better.</p>\n\n<p>So to go for OpenJDK 6 to 7, use <code>update-java-alternatives -l</code> to get a list of Java alternatives and then used <code>sudo update-java-alternatives -s java-1.7.0-openjdk-amd64</code> to switch the JDK.</p>\n\n<p>CAVEAT: The command above might throw the following errors,</p>\n\n<pre><code>update-alternatives: error: no alternatives for mozilla-javaplugin.so.\nupdate-java-alternatives: plugin alternative does not exist: \n  /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/amd64/IcedTeaPlugin.so\n</code></pre>\n\n<p>This is because the openjdk plugin is not installed by default. To fix run <code>sudo apt-get install icedtea-7-plugin</code> and rerun update-java-alternatives.</p>\n"},{"comments":[{"owner":{"account_id":11087309,"reputation":861,"user_id":8140523,"display_name":"NanoNova"},"score":0,"creation_date":1615184532,"post_id":36214825,"comment_id":117602957,"body_markdown":"I prefer the jenv.be due to the simplicity(installation of jdk should be package manager, not version manager). but it only supports Unix-like system.","body":"I prefer the jenv.be due to the simplicity(installation of jdk should be package manager, not version manager). but it only supports Unix-like system."},{"owner":{"account_id":6885180,"reputation":2566,"user_id":5290519,"accept_rate":100,"display_name":"NeoZoom.lua"},"score":1,"creation_date":1679296163,"post_id":36214825,"comment_id":133689100,"body_markdown":"The first option seems to be abandoned.","body":"The first option seems to be abandoned."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1682831883,"post_id":36214825,"comment_id":134275561,"body_markdown":"The second option seems to be abandoned too.","body":"The second option seems to be abandoned too."}],"tags":[],"owner":{"account_id":223180,"reputation":571,"user_id":482225,"display_name":"Stanley Shyiko"},"comment_count":3,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1682831525,"creation_date":1458885530,"answer_id":36214825,"question_id":2463936,"body_markdown":"For the sake of completeness, there are two more - [jabba][1] (of which I am the author; written in Go and designed after nvm/gvm/rvm)  \r\nand [jenv][2] (not to confuse with jenv.be; doesn&#39;t support installation from oracle but can install from a custom zip).\r\n\r\n\r\n  [1]: https://github.com/shyiko/jabba\r\n  [2]: https://github.com/linux-china/jenv","title":"JVM version manager","body":"<p>For the sake of completeness, there are two more - <a href=\"https://github.com/shyiko/jabba\" rel=\"nofollow noreferrer\">jabba</a> (of which I am the author; written in Go and designed after nvm/gvm/rvm)<br />\nand <a href=\"https://github.com/linux-china/jenv\" rel=\"nofollow noreferrer\">jenv</a> (not to confuse with jenv.be; doesn't support installation from oracle but can install from a custom zip).</p>\n"},{"tags":[],"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1539188357,"creation_date":1539188357,"answer_id":52744716,"question_id":2463936,"body_markdown":"[SDKMAN!][1] is a similar tool for the Java ecosystem. Supports various Java versions, Scala, Clojure, Kotlin, Groovy, and build tools like Maven and Gradle.\r\n\r\nWorks on Mac and Linux, with some mentions of support for Windows depending on how hard you are willing to try :)\r\n\r\n\r\n  [1]: https://sdkman.io/","title":"JVM version manager","body":"<p><a href=\"https://sdkman.io/\" rel=\"noreferrer\">SDKMAN!</a> is a similar tool for the Java ecosystem. Supports various Java versions, Scala, Clojure, Kotlin, Groovy, and build tools like Maven and Gradle.</p>\n\n<p>Works on Mac and Linux, with some mentions of support for Windows depending on how hard you are willing to try :)</p>\n"},{"tags":[],"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1683270417,"creation_date":1642580815,"answer_id":70767380,"question_id":2463936,"body_markdown":"As it is not (yet) in the list of possibilities, there&#39;s also [asdf][1].  \r\n[asdf][1] does not only provide version management for java, it has plugins for [~400 different languages and tools][2] by default, you can find more on [github][3], or [create your own][4].\r\n\r\nHere is an example how to setup a new install (you can also install [completion][5] so you don&#39;t have to list the versions first). The java plugin is added, a specific version (there are versions for `adoptopenjdk`, `corretto`, `dragonwell`, `graalvm`, `liberica`, `mandrel`, `microsoft`, `openjdk`, `oracle`, `sapmachine`, `semeru`, `temurin`, `trava`, `zulu`) is installed and configured to be the global (or local version) to use:\r\n```sh\r\nasdf plugin-add java                # Add java Plugin\r\nasdf list-all java                  # List all available java versions\r\nasdf install java temurin-20.0.1+9  # Install specific jdk version\r\nasdf install java temurin-17.0.7+7  # Install another jdk version\r\nasdf global java temurin-17.0.7+7   # Set the global jdk version\r\nasdf local java temurin-20.0.1+9    # Set the local version for calls from the current directory\r\n```\r\n\r\n[asdf][1] uses a file in `$HOME/.tool-versions` to configure the global selected version. If you call any tool in a directory that has a `.tool-versions` file with a different version, that one is used (defined with `asdf local …`).\r\n\r\n\r\n  [1]: https://asdf-vm.com/\r\n  [2]: https://github.com/asdf-vm/asdf-plugins\r\n  [3]: https://github.com/topics/asdf-plugin\r\n  [4]: https://asdf-vm.com/plugins/create.html\r\n  [5]: https://asdf-vm.com/guide/getting-started.html#_3-install-asdf","title":"JVM version manager","body":"<p>As it is not (yet) in the list of possibilities, there's also <a href=\"https://asdf-vm.com/\" rel=\"nofollow noreferrer\">asdf</a>.<br />\n<a href=\"https://asdf-vm.com/\" rel=\"nofollow noreferrer\">asdf</a> does not only provide version management for java, it has plugins for <a href=\"https://github.com/asdf-vm/asdf-plugins\" rel=\"nofollow noreferrer\">~400 different languages and tools</a> by default, you can find more on <a href=\"https://github.com/topics/asdf-plugin\" rel=\"nofollow noreferrer\">github</a>, or <a href=\"https://asdf-vm.com/plugins/create.html\" rel=\"nofollow noreferrer\">create your own</a>.</p>\n<p>Here is an example how to setup a new install (you can also install <a href=\"https://asdf-vm.com/guide/getting-started.html#_3-install-asdf\" rel=\"nofollow noreferrer\">completion</a> so you don't have to list the versions first). The java plugin is added, a specific version (there are versions for <code>adoptopenjdk</code>, <code>corretto</code>, <code>dragonwell</code>, <code>graalvm</code>, <code>liberica</code>, <code>mandrel</code>, <code>microsoft</code>, <code>openjdk</code>, <code>oracle</code>, <code>sapmachine</code>, <code>semeru</code>, <code>temurin</code>, <code>trava</code>, <code>zulu</code>) is installed and configured to be the global (or local version) to use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>asdf plugin-add java                # Add java Plugin\nasdf list-all java                  # List all available java versions\nasdf install java temurin-20.0.1+9  # Install specific jdk version\nasdf install java temurin-17.0.7+7  # Install another jdk version\nasdf global java temurin-17.0.7+7   # Set the global jdk version\nasdf local java temurin-20.0.1+9    # Set the local version for calls from the current directory\n</code></pre>\n<p><a href=\"https://asdf-vm.com/\" rel=\"nofollow noreferrer\">asdf</a> uses a file in <code>$HOME/.tool-versions</code> to configure the global selected version. If you call any tool in a directory that has a <code>.tool-versions</code> file with a different version, that one is used (defined with <code>asdf local …</code>).</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697573217,"post_id":77286687,"comment_id":136296159,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77286687/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9880770,"reputation":1,"user_id":7316941,"display_name":"user7316941"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697190148,"creation_date":1697190148,"answer_id":77286687,"question_id":2463936,"body_markdown":"I am using JVMS [here][1] it is very easy to use and the only one I could find for Windows, it works like RVM.\r\n\r\n  [1]: https://github.com/ystyle/jvms","title":"JVM version manager","body":"<p>I am using JVMS <a href=\"https://github.com/ystyle/jvms\" rel=\"nofollow noreferrer\">here</a> it is very easy to use and the only one I could find for Windows, it works like RVM.</p>\n"}],"owner":{"account_id":64225,"reputation":6600,"user_id":189722,"accept_rate":71,"display_name":"luacassus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67258,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":10110836,"answer_count":8,"score":73,"last_activity_date":1697190148,"creation_date":1268842730,"question_id":2463936,"body_markdown":"Is there [Ruby Version Manager][1] equivalent for the Java world?\r\n\r\nI&#39;m looking for tool which allow me to easily download and install a new JVMs and switch between them. For example:\r\n\r\n    jvm install &lt;version&gt;\r\n    jvm list //will list installed JVMs on my system\r\n    jvm use jdk1.6 //will switch my env to jdk 1.6 version, etc.\r\n\r\n\r\n  [1]: http://rvm.beginrescueend.com","title":"JVM version manager","body":"<p>Is there <a href=\"http://rvm.beginrescueend.com\" rel=\"noreferrer\">Ruby Version Manager</a> equivalent for the Java world?</p>\n\n<p>I'm looking for tool which allow me to easily download and install a new JVMs and switch between them. For example:</p>\n\n<pre><code>jvm install &lt;version&gt;\njvm list //will list installed JVMs on my system\njvm use jdk1.6 //will switch my env to jdk 1.6 version, etc.\n</code></pre>\n"},{"tags":["java","jenkins","groovy"],"owner":{"account_id":21525025,"reputation":33,"user_id":15865474,"display_name":"Adnan."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697189899,"creation_date":1697174308,"question_id":77285211,"body_markdown":"How can I transform this XML file to Groovy script in order to configure dependency-check on Jenkins?\r\n\r\nThis is the XML `org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder.xml` file:\r\n```xml\r\n&lt;?xml version=&#39;1.1&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor plugin=&quot;dependency-check-jenkins-plugin@5.1.1&quot;&gt;\r\n  &lt;installations&gt;\r\n    &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\r\n      &lt;name&gt;test-dependency-check&lt;/name&gt;\r\n      &lt;home&gt;&lt;/home&gt;\r\n      &lt;properties&gt;\r\n        &lt;hudson.tools.InstallSourceProperty&gt;\r\n          &lt;installers&gt;\r\n            &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\r\n              &lt;id&gt;8.2.1&lt;/id&gt;\r\n            &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\r\n          &lt;/installers&gt;\r\n        &lt;/hudson.tools.InstallSourceProperty&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\r\n  &lt;/installations&gt;\r\n&lt;/org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor&gt;\r\n```\r\n\r\nThis is the groovy code.\r\n```groovy\r\n      import hudson.model.*\r\n      import hudson.tools.*\r\n      import jenkins.model.*\r\n      import org.jenkinsci.plugins.DependencyCheck.*\r\n\r\n      String name = &#39;test-dependency-check&#39;\r\n      String id = &#39;8.2.1&#39;\r\n\r\n      def instance = Jenkins.getInstance()\r\n      def descriptor = instance.getDescriptor(DependencyCheckToolBuilder.DependencyCheckToolBuilderDescriptor.class)\r\n      def installations = descriptor.getInstallations()\r\n\r\n      def installation = new DependencyCheckInstallation(name, null)\r\n      def properties = new InstallSourceProperty([new DependencyCheckInstaller(id)])\r\n      installation.setProperties(properties)\r\n\r\n      installations.add(installation)\r\n      descriptor.save()\r\n```\r\n\r\nAnd this is the error.\r\n```none\r\n&quot;msg&quot;: &quot;script failed with stacktrace:\\n org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\\nScript1.groovy: 13: unable to resolve class DependencyCheckInstallation \\n @ line 13, column 20.\\n   def installation = new DependencyCheckInstallation(name, null)\\n                      ^\\n\\nScript1.groovy: 14: unable to resolve class DependencyCheckInstaller \\n @ line 14, column 45.\\n    = new InstallSourceProperty([new Depend\\n                                 ^\\n\\n2 errors\\n\\n\\tat org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\\n\\tat org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:958)\\n\\tat org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:605)\\n\\tat org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:554)\\n\\tat groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\\n\\tat groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\\n\\tat groovy.lang.GroovyShell.parseClass(GroovyShell.java:688)\\n\\tat groovy.lang.GroovyShell.parse(GroovyShell.java:700)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:584)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:623)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:594)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:142)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:114)\\n\\tat hudson.remoting.LocalChannel.call(LocalChannel.java:45)\\n\\tat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:111)\\n\\tat jenkins.model.Jenkins._doScript(Jenkins.java:4516)\\n\\tat jenkins.model.Jenkins.doScriptText(Jenkins.java:4494)\\n\\tat java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\\n\\tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:396)\\n\\tat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:408)\\n\\tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:212)\\n\\tat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:145)\\n\\tat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:535)\\n\\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\\n\\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:676)\\n\\tat org.kohsuke.stapler.Stapler.service(Stapler.java:238)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\\n\\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\\n\\tat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:76)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.plugins.audit_trail.AuditTrailFilter.doFilter(AuditTrailFilter.java:113)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat com.atlassian.bitbucket.jenkins.internal.applink.oauth.serviceprovider.auth.OAuth1aRequestFilter.doFilter(OAuth1aRequestFilter.java:91)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\\n\\tat net.bull.javamelody.PluginMonitoringFilter.doFilter(PluginMonitoringFilter.java:88)\\n\\tat org.jvnet.hudson.plugins.monitoring.HudsonMonitoringFilter.doFilter(HudsonMonitoringFilter.java:114)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:153)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\\n\\tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.BasicHeaderProcessor.success(BasicHeaderProcessor.java:139)\\n\\tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:82)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\\n\\tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\\n\\tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:36)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1300)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1215)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:500)\\n\\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\\n\\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\\n\\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\\n\\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\\n\\tat java.lang.Thread.run(Thread.java:750)\\n&quot;, \r\n    &quot;output&quot;: &quot;&quot;\r\n```","title":"How can I configure OWASP dependency-check on Jenkins?","body":"<p>How can I transform this XML file to Groovy script in order to configure dependency-check on Jenkins?</p>\n<p>This is the XML <code>org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.1' encoding='UTF-8'?&gt;\n&lt;org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor plugin=&quot;dependency-check-jenkins-plugin@5.1.1&quot;&gt;\n  &lt;installations&gt;\n    &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\n      &lt;name&gt;test-dependency-check&lt;/name&gt;\n      &lt;home&gt;&lt;/home&gt;\n      &lt;properties&gt;\n        &lt;hudson.tools.InstallSourceProperty&gt;\n          &lt;installers&gt;\n            &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\n              &lt;id&gt;8.2.1&lt;/id&gt;\n            &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\n          &lt;/installers&gt;\n        &lt;/hudson.tools.InstallSourceProperty&gt;\n      &lt;/properties&gt;\n    &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\n  &lt;/installations&gt;\n&lt;/org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor&gt;\n</code></pre>\n<p>This is the groovy code.</p>\n<pre><code>      import hudson.model.*\n      import hudson.tools.*\n      import jenkins.model.*\n      import org.jenkinsci.plugins.DependencyCheck.*\n\n      String name = 'test-dependency-check'\n      String id = '8.2.1'\n\n      def instance = Jenkins.getInstance()\n      def descriptor = instance.getDescriptor(DependencyCheckToolBuilder.DependencyCheckToolBuilderDescriptor.class)\n      def installations = descriptor.getInstallations()\n\n      def installation = new DependencyCheckInstallation(name, null)\n      def properties = new InstallSourceProperty([new DependencyCheckInstaller(id)])\n      installation.setProperties(properties)\n\n      installations.add(installation)\n      descriptor.save()\n</code></pre>\n<p>And this is the error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;msg&quot;: &quot;script failed with stacktrace:\\n org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\\nScript1.groovy: 13: unable to resolve class DependencyCheckInstallation \\n @ line 13, column 20.\\n   def installation = new DependencyCheckInstallation(name, null)\\n                      ^\\n\\nScript1.groovy: 14: unable to resolve class DependencyCheckInstaller \\n @ line 14, column 45.\\n    = new InstallSourceProperty([new Depend\\n                                 ^\\n\\n2 errors\\n\\n\\tat org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\\n\\tat org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:958)\\n\\tat org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:605)\\n\\tat org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:554)\\n\\tat groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\\n\\tat groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\\n\\tat groovy.lang.GroovyShell.parseClass(GroovyShell.java:688)\\n\\tat groovy.lang.GroovyShell.parse(GroovyShell.java:700)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:584)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:623)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:594)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:142)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:114)\\n\\tat hudson.remoting.LocalChannel.call(LocalChannel.java:45)\\n\\tat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:111)\\n\\tat jenkins.model.Jenkins._doScript(Jenkins.java:4516)\\n\\tat jenkins.model.Jenkins.doScriptText(Jenkins.java:4494)\\n\\tat java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\\n\\tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:396)\\n\\tat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:408)\\n\\tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:212)\\n\\tat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:145)\\n\\tat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:535)\\n\\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\\n\\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:676)\\n\\tat org.kohsuke.stapler.Stapler.service(Stapler.java:238)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\\n\\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\\n\\tat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:76)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.plugins.audit_trail.AuditTrailFilter.doFilter(AuditTrailFilter.java:113)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat com.atlassian.bitbucket.jenkins.internal.applink.oauth.serviceprovider.auth.OAuth1aRequestFilter.doFilter(OAuth1aRequestFilter.java:91)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\\n\\tat net.bull.javamelody.PluginMonitoringFilter.doFilter(PluginMonitoringFilter.java:88)\\n\\tat org.jvnet.hudson.plugins.monitoring.HudsonMonitoringFilter.doFilter(HudsonMonitoringFilter.java:114)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:153)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\\n\\tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.BasicHeaderProcessor.success(BasicHeaderProcessor.java:139)\\n\\tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:82)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\\n\\tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\\n\\tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:36)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1300)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1215)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:500)\\n\\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\\n\\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\\n\\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\\n\\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\\n\\tat java.lang.Thread.run(Thread.java:750)\\n&quot;, \n    &quot;output&quot;: &quot;&quot;\n</code></pre>\n"},{"tags":["java","apache-poi","hssf"],"comments":[{"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"score":0,"creation_date":1392272899,"post_id":21746724,"comment_id":32892354,"body_markdown":"If u get the value in string then simply use trim() method.What issue u r facing ?","body":"If u get the value in string then simply use trim() method.What issue u r facing ?"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1392272965,"post_id":21746724,"comment_id":32892387,"body_markdown":"show _current output_ and _expected output_.","body":"show <i>current output</i> and <i>expected output</i>."},{"owner":{"account_id":3830958,"reputation":105,"user_id":3176494,"accept_rate":38,"display_name":"akash"},"score":0,"creation_date":1392273243,"post_id":21746724,"comment_id":32892526,"body_markdown":"like this - cellTempList.add((cell.toString()).trim()+&quot;&quot;); or cellTempList.add(cell.toString().trim()+&quot;&quot;);","body":"like this - cellTempList.add((cell.toString()).trim()+&quot;&quot;); or cellTempList.add(cell.toString().trim()+&quot;&quot;);"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1392273474,"post_id":21746724,"comment_id":32892637,"body_markdown":"@akash you don&#39;t need to `trim` `cell.toString()` its already _trimmed_ . you need to `trim()` each `elements` inside the `list`","body":"@akash you don&#39;t need to <code>trim</code> <code>cell.toString()</code> its already <i>trimmed</i> . you need to <code>trim()</code> each <code>elements</code> inside the <code>list</code>"}],"answers":[{"tags":[],"owner":{"account_id":29596570,"reputation":1,"user_id":22682957,"display_name":"Foxxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697189503,"creation_date":1697189503,"answer_id":77286616,"question_id":21746724,"body_markdown":"Since Excel uses the other space char (rather than the normal one) as non-breaking space, **trim()** can&#39;t remove this Unicode space.\r\nYou can try using regex\r\n\r\n    val untrimmedData = // data extracted from excel sheet\r\n    val trimmedData = untrimmedData.replaceAll(&quot;^\\\\p{Z}+|\\\\p{Z}+$&quot;, &quot;&quot;);\r\n\r\n","title":"How to use &quot;trim&quot; while retrieving data from xls sheet and csv file?","body":"<p>Since Excel uses the other space char (rather than the normal one) as non-breaking space, <strong>trim()</strong> can't remove this Unicode space.\nYou can try using regex</p>\n<pre><code>val untrimmedData = // data extracted from excel sheet\nval trimmedData = untrimmedData.replaceAll(&quot;^\\\\p{Z}+|\\\\p{Z}+$&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":3830958,"reputation":105,"user_id":3176494,"accept_rate":38,"display_name":"akash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1895,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697189503,"creation_date":1392272537,"question_id":21746724,"body_markdown":"i have done following to retrieve code from xls sheet and csv file. i tried using &quot;.trim()&quot; but I am not getting the required output. Please tell where I am going wrong in order to remove any trailing blank spaces from xls cell and csv file. \r\n      \r\n     for (int rowNum = rowStart-1; rowNum &lt; rowEnd+1; rowNum++) {\r\n\t\t\t\tList&lt;String&gt; cellTempList = new ArrayList&lt;String&gt;();\r\n\t\t\t\tRow rowObj = hssfSheet.getRow(rowNum);\r\n\r\n\r\n\t\t\t\tfor (int col = 0; col &lt; columnEnd; col++) {\r\n\t\t\t\t\tCell cell = rowObj.getCell(col, Row.CREATE_NULL_AS_BLANK);\r\n\t\t\t\t\tif(cell.getCellType()==cell.CELL_TYPE_NUMERIC)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n\t\t\t\t\t\tString cellValue=df.format(cell.getNumericCellValue());\r\n\t\t\t\t\t\tcellTempList.add(cellValue.toString());\r\n\t\t\t\t\t\tlogger.trace(TId + &quot; Adding cell having string to &quot;+cellTempList);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcellTempList.add(cell.toString()+&quot;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcellDataList.add(cellTempList);\r\n\r\n\r\n     //following to retrieve data from a csv file \r\n      while ((line = stream.readLine()) != null) {\r\n\t\t\t\tif(iteration &lt; iteration1-1 || StringUtils.isBlank(line)) {\r\n\t\t\t\t\titeration++;  \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//String[] splitted = line.split(&quot;,&quot;);\r\n\t\t\t\tString[] splitted = StringUtils.splitPreserveAllTokens(line,&#39;,&#39;);\r\n\t\t\t\tList&lt;String&gt; dataLine = new ArrayList&lt;String&gt;(splitted.length);\r\n\t\t\t\tfor (String data : splitted)\r\n\t\t\t\t\tdataLine.add(data.trim());\r\n\t\t\t\tcsvData.add(dataLine);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tlogger.error(TId + &quot; Other Exception : &quot; + e.getStackTrace());\r\n\t\t\tthrow new Exception(&quot;-8&quot;);\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tif (stream != null)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstream.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t//e.printStackTrace();\r\n\t\t\t\t\tlogger.error(TId + &quot; IOException : &quot; + e.getStackTrace());\r\n\t\t\t\t\tthrow new Exception(&quot;-8&quot;);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tlogger.info(TId + &quot; [Flow]:Exiting readcsvFile Method....&quot; + csvData);\r\n\t\treturn csvData;\r\n\r\n\t}\r\n\r\nplease help i tried trim but i am not getting the required output\r\n","title":"How to use &quot;trim&quot; while retrieving data from xls sheet and csv file?","body":"<p>i have done following to retrieve code from xls sheet and csv file. i tried using \".trim()\" but I am not getting the required output. Please tell where I am going wrong in order to remove any trailing blank spaces from xls cell and csv file. </p>\n\n<pre><code> for (int rowNum = rowStart-1; rowNum &lt; rowEnd+1; rowNum++) {\n            List&lt;String&gt; cellTempList = new ArrayList&lt;String&gt;();\n            Row rowObj = hssfSheet.getRow(rowNum);\n\n\n            for (int col = 0; col &lt; columnEnd; col++) {\n                Cell cell = rowObj.getCell(col, Row.CREATE_NULL_AS_BLANK);\n                if(cell.getCellType()==cell.CELL_TYPE_NUMERIC)\n                {\n\n                    DecimalFormat df = new DecimalFormat(\"#.##\");\n                    String cellValue=df.format(cell.getNumericCellValue());\n                    cellTempList.add(cellValue.toString());\n                    logger.trace(TId + \" Adding cell having string to \"+cellTempList);\n                } else {\n                    cellTempList.add(cell.toString()+\"\");\n                }\n            }\n\n            cellDataList.add(cellTempList);\n\n\n //following to retrieve data from a csv file \n  while ((line = stream.readLine()) != null) {\n            if(iteration &lt; iteration1-1 || StringUtils.isBlank(line)) {\n                iteration++;  \n                continue;\n            }\n\n            //String[] splitted = line.split(\",\");\n            String[] splitted = StringUtils.splitPreserveAllTokens(line,',');\n            List&lt;String&gt; dataLine = new ArrayList&lt;String&gt;(splitted.length);\n            for (String data : splitted)\n                dataLine.add(data.trim());\n            csvData.add(dataLine);\n\n        }\n    }\n    catch (Exception e) {\n        logger.error(TId + \" Other Exception : \" + e.getStackTrace());\n        throw new Exception(\"-8\");\n    }\n    finally {\n        if (stream != null)\n            try {\n                stream.close();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                //e.printStackTrace();\n                logger.error(TId + \" IOException : \" + e.getStackTrace());\n                throw new Exception(\"-8\");\n            }\n    }\n    logger.info(TId + \" [Flow]:Exiting readcsvFile Method....\" + csvData);\n    return csvData;\n\n}\n</code></pre>\n\n<p>please help i tried trim but i am not getting the required output</p>\n"},{"tags":["java","spring","spring-cache"],"comments":[{"owner":{"account_id":3135856,"reputation":802,"user_id":2652379,"accept_rate":90,"display_name":"user2652379"},"score":0,"creation_date":1616130642,"post_id":42688020,"comment_id":117911710,"body_markdown":"Future visitors, beware... These answers are a mess. I had to mix 2~3 answers to make it right.","body":"Future visitors, beware... These answers are a mess. I had to mix 2~3 answers to make it right."},{"owner":{"account_id":1400717,"reputation":111,"user_id":1329558,"accept_rate":25,"display_name":"CSKR"},"score":1,"creation_date":1620331890,"post_id":42688020,"comment_id":119177221,"body_markdown":"What is the correct answer? can you please post it?","body":"What is the correct answer? can you please post it?"}],"answers":[{"comments":[{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1489042263,"post_id":42688284,"comment_id":72500054,"body_markdown":"I&#39;ll try that tomorrow morning and get back to you with the outcome.","body":"I&#39;ll try that tomorrow morning and get back to you with the outcome."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1490098328,"post_id":42688284,"comment_id":72950812,"body_markdown":"I&#39;ve had some other things prioritized, I&#39;m getting into this use case again right now. Sorry for the late response. I&#39;ll come back with an answer right away!","body":"I&#39;ve had some other things prioritized, I&#39;m getting into this use case again right now. Sorry for the late response. I&#39;ll come back with an answer right away!"},{"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"score":0,"creation_date":1490100183,"post_id":42688284,"comment_id":72952206,"body_markdown":"now worries; I was just curious whether the approach helped or not :)","body":"now worries; I was just curious whether the approach helped or not :)"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1490219220,"post_id":42688284,"comment_id":73020598,"body_markdown":"Actually the answer above helped me!","body":"Actually the answer above helped me!"}],"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489041047,"creation_date":1489041047,"answer_id":42688284,"question_id":42688020,"body_markdown":"Spring cache framework is event driven i.e. `@Cacheable` or `@CacheEvict` will be triggered only when respective methods are invoked. \r\n\r\nHowever you can leverage the underlying cache provider (*remember the Spring cache framework is just an abstraction and does not provide a cache solution by itself*) to invalidate the cache by itself. For instance EhCache has a property viz. `timeToLiveSeconds` which dictates the time till the cache be active. But this won&#39;t re-populate the cache for you unless the `@Cacheable` annotated method is invoked.\r\n\r\nSo for cache eviction and re-population at particular time (*say midnight as mentioned*) consider implementing a background [scheduled service][1] in Spring which will trigger the cache eviction and re-population as desired. The expected  behavior is not provided out-of-box. \r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support","title":"Schedule Spring cache eviction?","body":"<p>Spring cache framework is event driven i.e. <code>@Cacheable</code> or <code>@CacheEvict</code> will be triggered only when respective methods are invoked. </p>\n\n<p>However you can leverage the underlying cache provider (<em>remember the Spring cache framework is just an abstraction and does not provide a cache solution by itself</em>) to invalidate the cache by itself. For instance EhCache has a property viz. <code>timeToLiveSeconds</code> which dictates the time till the cache be active. But this won't re-populate the cache for you unless the <code>@Cacheable</code> annotated method is invoked.</p>\n\n<p>So for cache eviction and re-population at particular time (<em>say midnight as mentioned</em>) consider implementing a background <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support\" rel=\"nofollow noreferrer\">scheduled service</a> in Spring which will trigger the cache eviction and re-population as desired. The expected  behavior is not provided out-of-box. </p>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1489042228,"post_id":42688520,"comment_id":72500039,"body_markdown":"How the Scheduled annotation bind itself to CacheEvict annotation to understand what it is supposed to do?","body":"How the Scheduled annotation bind itself to CacheEvict annotation to understand what it is supposed to do?"},{"owner":{"account_id":5748410,"reputation":907,"user_id":4538944,"display_name":"Oleksandr Bondarchuk"},"score":0,"creation_date":1489043082,"post_id":42688520,"comment_id":72500472,"body_markdown":"&#39;@Scheduled&#39; invoke method clearCache a specified time.\nCache is cleaned because the method is triggered by CacheEvict.\nRemember to include configuration @EnableScheduling in class configuration.","body":"&#39;@Scheduled&#39; invoke method clearCache a specified time. Cache is cleaned because the method is triggered by CacheEvict. Remember to include configuration @EnableScheduling in class configuration."},{"owner":{"account_id":1807234,"reputation":1381,"user_id":1644096,"accept_rate":100,"display_name":"Celebes"},"score":1,"creation_date":1529339239,"post_id":42688520,"comment_id":88827692,"body_markdown":"It didn&#39;t work for me, i hate to split it into 2 components and 2 different methods. I had to create another component (ClearCacheScheduler) with method using only Scheduled annotation, which then called clearCache() method annotated with CacheEvict of my service component.","body":"It didn&#39;t work for me, i hate to split it into 2 components and 2 different methods. I had to create another component (ClearCacheScheduler) with method using only Scheduled annotation, which then called clearCache() method annotated with CacheEvict of my service component."},{"owner":{"account_id":3341028,"reputation":1164,"user_id":2807311,"accept_rate":17,"display_name":"voliveira89"},"score":2,"creation_date":1541006363,"post_id":42688520,"comment_id":93074649,"body_markdown":"This don&#39;t work. Scheduled and CacheEvict have to be in different classes/methods.","body":"This don&#39;t work. Scheduled and CacheEvict have to be in different classes/methods."},{"owner":{"account_id":2192195,"reputation":23364,"user_id":1938889,"accept_rate":65,"display_name":"Drakes"},"score":14,"creation_date":1570962405,"post_id":42688520,"comment_id":103076662,"body_markdown":"Don&#39;t forget `@EnableScheduling` in the Application class.","body":"Don&#39;t forget <code>@EnableScheduling</code> in the Application class."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1582201381,"post_id":42688520,"comment_id":106700434,"body_markdown":"Any workarounds if Sonar argues on empty method: SonarLint: Add a nested comment explaining why this method is empty, throw an UnsupportedOperationException or complete the implementation.","body":"Any workarounds if Sonar argues on empty method: SonarLint: Add a nested comment explaining why this method is empty, throw an UnsupportedOperationException or complete the implementation."},{"owner":{"account_id":5748410,"reputation":907,"user_id":4538944,"display_name":"Oleksandr Bondarchuk"},"score":2,"creation_date":1582637994,"post_id":42688520,"comment_id":106840106,"body_markdown":"@Zon Just add a comment, for ex. &quot;//nothing to do&quot;","body":"@Zon Just add a comment, for ex. &quot;//nothing to do&quot;"},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1633278049,"post_id":42688520,"comment_id":122711683,"body_markdown":"Have checked at SpringBoot 2.5.5 - it&#39;s doesn&#39;t work! Take @fafl solution (https://stackoverflow.com/a/64071461/548473)","body":"Have checked at SpringBoot 2.5.5 - it&#39;s doesn&#39;t work! Take @fafl solution (<a href=\"https://stackoverflow.com/a/64071461/548473\">stackoverflow.com/a/64071461/548473</a>)"},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":2,"creation_date":1643828427,"post_id":42688520,"comment_id":125445611,"body_markdown":"@Zon log statement?","body":"@Zon log statement?"}],"tags":[],"owner":{"account_id":5748410,"reputation":907,"user_id":4538944,"display_name":"Oleksandr Bondarchuk"},"comment_count":9,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1644830746,"creation_date":1489041993,"answer_id":42688520,"question_id":42688020,"body_markdown":"Try to use @Scheduled\r\nExample:\r\n\r\n    @Scheduled(fixedRate = ONE_DAY)\r\n\t@CacheEvict(value = { CACHE_NAME })\r\n\tpublic void clearCache() {\t\r\n        log.debug(&quot;Cache &#39;{}&#39; cleared.&quot;, CACHE);\t\r\n\t}\r\n\r\nYou can also use cron expression with @Scheduled.\r\n","title":"Schedule Spring cache eviction?","body":"<p>Try to use @Scheduled\nExample:</p>\n<pre><code>@Scheduled(fixedRate = ONE_DAY)\n@CacheEvict(value = { CACHE_NAME })\npublic void clearCache() {  \n    log.debug(&quot;Cache '{}' cleared.&quot;, CACHE);    \n}\n</code></pre>\n<p>You can also use cron expression with @Scheduled.</p>\n"},{"comments":[{"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"score":0,"creation_date":1539697233,"post_id":51403298,"comment_id":92589768,"body_markdown":"Don&#39;t confuse everyone. `@Scheduled` and `@CacheEvict` work together. For inner-bean calls you can also use `applicationContext.getBean(MyClass.class).clearCache()`.","body":"Don&#39;t confuse everyone. <code>@Scheduled</code> and <code>@CacheEvict</code> work together. For inner-bean calls you can also use <code>applicationContext.getBean(MyClass.class).clearCache()</code>."},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":1,"creation_date":1539817408,"post_id":51403298,"comment_id":92643773,"body_markdown":"Well it seems it did not work for at least two people here. Which version of spring boot do you work with? (or spring)","body":"Well it seems it did not work for at least two people here. Which version of spring boot do you work with? (or spring)"},{"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"score":0,"creation_date":1539858088,"post_id":51403298,"comment_id":92657236,"body_markdown":"I use Spring Boot 2.0.5. I don&#39;t think that it&#39;s related to the version since `@Scheduled` and `@CacheEvict` are around for quite some time. If it&#39;s not working then there&#39;s usually some other side effect from another corner. You can try with a [very simple project](https://spring.io/guides/gs/spring-boot/) and add a method with the two annotations plus `@EnableScheduling` and `@EnableCaching`.","body":"I use Spring Boot 2.0.5. I don&#39;t think that it&#39;s related to the version since <code>@Scheduled</code> and <code>@CacheEvict</code> are around for quite some time. If it&#39;s not working then there&#39;s usually some other side effect from another corner. You can try with a <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">very simple project</a> and add a method with the two annotations plus <code>@EnableScheduling</code> and <code>@EnableCaching</code>."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1573655648,"post_id":51403298,"comment_id":103953035,"body_markdown":"for me original answer started to work when my configuration class stopped extending CachingConfigurerSupport and became a regular configuration class (I had the method in my @Configuration class)","body":"for me original answer started to work when my configuration class stopped extending CachingConfigurerSupport and became a regular configuration class (I had the method in my @Configuration class)"}],"tags":[],"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"comment_count":4,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1531920577,"creation_date":1531920577,"answer_id":51403298,"question_id":42688020,"body_markdown":"I know this question is old, but I found a better solution that worked for me. Maybe that will help others.\r\n\r\nSo, it is indeed possible to make a scheduled cache eviction. Here is what I did in my case.\r\n\r\nBoth annotations @Scheduled and @CacheEvict do not seem to work together.\r\nYou must thus split apart the scheduling method and the cache eviction method.\r\nBut since the whole mechanism is based on proxies, only external calls to public methods of your class will trigger the cache eviction. This because internal calls between to methods of the same class do not go through the Spring proxy.\r\n\r\nI managed to fixed it the same way as Celebes (see comments), but with an improvement to avoid two components.\r\n\r\n    @Component\r\n    class MyClass\r\n    {\r\n       \r\n        @Autowired\r\n        MyClass proxiedThis; // store your component inside its Spring proxy.\r\n        \r\n        // A cron expression to define every day at midnight\r\n        @Scheduled(cron =&quot;0 0 * * *&quot;)\r\n        public void cacheEvictionScheduler()\r\n        {\r\n            proxiedThis.clearCache();\r\n        }\r\n    \r\n        @CacheEvict(value = { CACHE_NAME })\r\n        public void clearCache()\r\n        {\r\n            // intentionally left blank. Or add some trace info.\r\n        }    \r\n    }\r\n","title":"Schedule Spring cache eviction?","body":"<p>I know this question is old, but I found a better solution that worked for me. Maybe that will help others.</p>\n\n<p>So, it is indeed possible to make a scheduled cache eviction. Here is what I did in my case.</p>\n\n<p>Both annotations @Scheduled and @CacheEvict do not seem to work together.\nYou must thus split apart the scheduling method and the cache eviction method.\nBut since the whole mechanism is based on proxies, only external calls to public methods of your class will trigger the cache eviction. This because internal calls between to methods of the same class do not go through the Spring proxy.</p>\n\n<p>I managed to fixed it the same way as Celebes (see comments), but with an improvement to avoid two components.</p>\n\n<pre><code>@Component\nclass MyClass\n{\n\n    @Autowired\n    MyClass proxiedThis; // store your component inside its Spring proxy.\n\n    // A cron expression to define every day at midnight\n    @Scheduled(cron =\"0 0 * * *\")\n    public void cacheEvictionScheduler()\n    {\n        proxiedThis.clearCache();\n    }\n\n    @CacheEvict(value = { CACHE_NAME })\n    public void clearCache()\n    {\n        // intentionally left blank. Or add some trace info.\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526747,"reputation":181,"user_id":9758356,"display_name":"Johannes Di"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1539329940,"creation_date":1539329940,"answer_id":52774606,"question_id":42688020,"body_markdown":"If you use @Cacheable on methods with parameters, you should NEVER forget the **allEntries=true** annotation property on the @CacheEvict, otherwise your call will only evict the key parameter you give to the clearCache() method, which is nothing =&gt; you will not evict anything from the cache.","title":"Schedule Spring cache eviction?","body":"<p>If you use @Cacheable on methods with parameters, you should NEVER forget the <strong>allEntries=true</strong> annotation property on the @CacheEvict, otherwise your call will only evict the key parameter you give to the clearCache() method, which is nothing => you will not evict anything from the cache.</p>\n"},{"comments":[{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1675693094,"post_id":64071461,"comment_id":132977997,"body_markdown":"But could you have here `clearCache` with argument, so &quot;foo&quot; won&#39;t be hardcoded?","body":"But could you have here <code>clearCache</code> with argument, so &quot;foo&quot; won&#39;t be hardcoded?"}],"tags":[],"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610970790,"creation_date":1601068968,"answer_id":64071461,"question_id":42688020,"body_markdown":"Maybe not the most elegant solution, but `@CacheEvict` was not working, so I directly went for the `CacheManager`.\r\n\r\nThis code clears a cache called `foo` via scheduler:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    class MyClass {\r\n    \r\n        @Autowired CacheManager cacheManager;\r\n\r\n        @Cacheable(value = &quot;foo&quot;)\r\n        public Int expensiveCalculation(String bar) {\r\n            ...\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 60 * 1000);\r\n        public void clearCache() {\r\n            cacheManager.getCache(&quot;foo&quot;).clear();\r\n        }\r\n    }","title":"Schedule Spring cache eviction?","body":"<p>Maybe not the most elegant solution, but <code>@CacheEvict</code> was not working, so I directly went for the <code>CacheManager</code>.</p>\n<p>This code clears a cache called <code>foo</code> via scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass {\n\n    @Autowired CacheManager cacheManager;\n\n    @Cacheable(value = &quot;foo&quot;)\n    public Int expensiveCalculation(String bar) {\n        ...\n    }\n\n    @Scheduled(fixedRate = 60 * 1000);\n    public void clearCache() {\n        cacheManager.getCache(&quot;foo&quot;).clear();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6533811,"reputation":99,"user_id":5054104,"display_name":"samit tiwary"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602237560,"creation_date":1602234720,"answer_id":64277056,"question_id":42688020,"body_markdown":"Please follow the below code.change cron expression accordingly. I have set it for 3 minutes\r\n    \r\n1. Create a class.\r\n    \r\n2. Use the below method inside the class.\r\n       \r\n    ```    \r\n    class A \r\n    {\r\n    @Autowired CacheManager cacheManager;\r\n    \r\n    @Scheduled(cron =&quot;0 */3 * ? * *&quot;)\r\n        public void cacheEvictionScheduler()\r\n        {\r\n        \t logger.info(&quot;inside scheduler start&quot;);\r\n            //clearCache();\r\n        \t evictAllCaches();\r\n            logger.info(&quot;inside scheduler end&quot;);\r\n        }\r\n    \r\n    public void evictAllCaches() {\r\n        \t logger.info(&quot;inside clearcache&quot;);\r\n            cacheManager.getCacheNames().stream()\r\n              .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n        }\r\n    }\r\n    ```\r\n","title":"Schedule Spring cache eviction?","body":"<p>Please follow the below code.change cron expression accordingly. I have set it for 3 minutes</p>\n<ol>\n<li><p>Create a class.</p>\n</li>\n<li><p>Use the below method inside the class.</p>\n<pre><code>class A \n{\n@Autowired CacheManager cacheManager;\n\n@Scheduled(cron =&quot;0 */3 * ? * *&quot;)\n    public void cacheEvictionScheduler()\n    {\n         logger.info(&quot;inside scheduler start&quot;);\n        //clearCache();\n         evictAllCaches();\n        logger.info(&quot;inside scheduler end&quot;);\n    }\n\npublic void evictAllCaches() {\n         logger.info(&quot;inside clearcache&quot;);\n        cacheManager.getCacheNames().stream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n    }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3489860,"reputation":2204,"user_id":2919822,"accept_rate":78,"display_name":"JavaDevSweden"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683643904,"creation_date":1683643904,"answer_id":76210646,"question_id":42688020,"body_markdown":"Use annotations @Scheduled with a cron expression and @CacheEvict with allEntries = true like this:\r\n\r\n    /*\r\n    * This clears the entire cache called &quot;myCache&quot; everyday, \r\n    * at 00.00 (am) in the time zone of the server.\r\n    */\r\n    @Scheduled(cron = &quot;0 0 0 * * ?&quot;)\r\n    @CacheEvict(value = &quot;myCache&quot;, allEntries = true)\r\n    public void clearMyCache() {}\r\n\r\nIf you want to add logic before clearing the cache you can do so in the method body:\r\n\r\n    /*\r\n    * This clears the entire cache called &quot;myCache&quot; everyday, \r\n    * at 00.00 (am) in the time zone of the server.\r\n    */\r\n    @Scheduled(cron = &quot;0 0 0 * * ?&quot;)\r\n    @CacheEvict(value = &quot;myCache&quot;, allEntries = true)\r\n    public void clearMyCache() {\r\n\r\n        // Add logic here\r\n        log.debug(&quot;Clearing myCache now&quot;);\r\n\r\n    }\r\n\r\nThe CacheEvict hapens after your code runs and only if it doesn&#39;t throw any exceptions. You can change that by adding &quot;beforeInvocation = true&quot; in which case it evicts the cache first, then runs your code.","title":"Schedule Spring cache eviction?","body":"<p>Use annotations @Scheduled with a cron expression and @CacheEvict with allEntries = true like this:</p>\n<pre><code>/*\n* This clears the entire cache called &quot;myCache&quot; everyday, \n* at 00.00 (am) in the time zone of the server.\n*/\n@Scheduled(cron = &quot;0 0 0 * * ?&quot;)\n@CacheEvict(value = &quot;myCache&quot;, allEntries = true)\npublic void clearMyCache() {}\n</code></pre>\n<p>If you want to add logic before clearing the cache you can do so in the method body:</p>\n<pre><code>/*\n* This clears the entire cache called &quot;myCache&quot; everyday, \n* at 00.00 (am) in the time zone of the server.\n*/\n@Scheduled(cron = &quot;0 0 0 * * ?&quot;)\n@CacheEvict(value = &quot;myCache&quot;, allEntries = true)\npublic void clearMyCache() {\n\n    // Add logic here\n    log.debug(&quot;Clearing myCache now&quot;);\n\n}\n</code></pre>\n<p>The CacheEvict hapens after your code runs and only if it doesn't throw any exceptions. You can change that by adding &quot;beforeInvocation = true&quot; in which case it evicts the cache first, then runs your code.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697189456,"creation_date":1697189456,"answer_id":77286613,"question_id":42688020,"body_markdown":"You can define a scheduled cache eviction and it can work on the cron expression.\r\n\r\nFor e.g. below code will evict the cache \r\n\r\n    @CacheEvict(value = &quot;movieList&quot;, allEntries = true)\r\n      @Scheduled(cron = &quot;@midnight&quot;, zone = &quot;UTC&quot;)\r\n      public void evictMoviesCache() {\r\n        // Nothing to do. Cache eviction schedule, you can optionally log here.\r\n      }\r\n\r\nAnother variation is\r\n\r\n       @CacheEvict(value = &quot;movieList&quot;, allEntries = true)\r\n       @Scheduled(fixedDelay = 12, timeUnit = TimeUnit.HOURS)\r\n          public void evictMoviesCache() {\r\n            // Nothing to do. Cache eviction schedule, you can optionally log here.\r\n          }","title":"Schedule Spring cache eviction?","body":"<p>You can define a scheduled cache eviction and it can work on the cron expression.</p>\n<p>For e.g. below code will evict the cache</p>\n<pre><code>@CacheEvict(value = &quot;movieList&quot;, allEntries = true)\n  @Scheduled(cron = &quot;@midnight&quot;, zone = &quot;UTC&quot;)\n  public void evictMoviesCache() {\n    // Nothing to do. Cache eviction schedule, you can optionally log here.\n  }\n</code></pre>\n<p>Another variation is</p>\n<pre><code>   @CacheEvict(value = &quot;movieList&quot;, allEntries = true)\n   @Scheduled(fixedDelay = 12, timeUnit = TimeUnit.HOURS)\n      public void evictMoviesCache() {\n        // Nothing to do. Cache eviction schedule, you can optionally log here.\n      }\n</code></pre>\n"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38364,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":42688520,"answer_count":8,"score":34,"last_activity_date":1697189456,"creation_date":1489039916,"question_id":42688020,"body_markdown":"Is it possible to schedule spring cache eviction to everyday at midnight?\r\n\r\nI&#39;ve read [Springs Cache Docs](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html&amp;ei=mQb4BLm6) and found nothing about scheduled cache eviction.\r\n\r\nI need to evict cache daily and recache it in case there were some changes outside my application.","title":"Schedule Spring cache eviction?","body":"<p>Is it possible to schedule spring cache eviction to everyday at midnight?</p>\n\n<p>I've read <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html&amp;ei=mQb4BLm6\" rel=\"noreferrer\">Springs Cache Docs</a> and found nothing about scheduled cache eviction.</p>\n\n<p>I need to evict cache daily and recache it in case there were some changes outside my application.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697190742,"post_id":77285424,"comment_id":136251715,"body_markdown":"Your `nonBlocking` task does not wait for anything. The code as posted does already have the behavior you want to achieve.","body":"Your <code>nonBlocking</code> task does not wait for anything. The code as posted does already have the behavior you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697186648,"creation_date":1697186648,"answer_id":77286322,"question_id":77285424,"body_markdown":"# Another executor service \r\n\r\nIf some tasks are holding up pressing tasks, create another executor service. \r\n\r\n    Executor executorPooled = Executors.newFixedThreadPool(2);\r\n    Executor executorPriority = Executors.newSingleThreadExecutor();\r\n\r\n","title":"CompletableFuture run task in a non-blocking way with limited threads in JAVA","body":"<h1>Another executor service</h1>\n<p>If some tasks are holding up pressing tasks, create another executor service.</p>\n<pre><code>Executor executorPooled = Executors.newFixedThreadPool(2);\nExecutor executorPriority = Executors.newSingleThreadExecutor();\n</code></pre>\n"}],"owner":{"account_id":19814828,"reputation":15,"user_id":14512786,"display_name":"aryakdangol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697188372,"creation_date":1697177262,"question_id":77285424,"body_markdown":"I have defined a pool of 2 threads like this: \r\n```java\r\nExecutor executor = Executors.newFixedThreadPool(2);\r\n```\r\nNow I have three tasks, two of which are blocking and one which is non-blocking.\r\n```java\r\nCompletableFuture&lt;Integer&gt; blocking1 = CompletableFuture.supplyAsync(callableTask1, executor);\r\nCompletableFuture&lt;Integer&gt;blocking2 = CompletableFuture.supplyAsync(callableTask2, executor);\r\n\r\nCompletableFuture&lt;Void&gt; nonBlocking = CompletableFuture.runAsync(() -&gt; {\r\n    System.out.println(&quot;nonBlocking task&#39;s thread:  &quot; + Thread.currentThread());\r\n    System.out.println(&quot;Non Blocking task&quot;);\r\n});\r\n```\r\nBoth `callableTask1` and `callableTask2` are blocking as it makes the thread wait. Currently, to print &quot;Non-Blocking task&quot; it is waiting for any of the blocking task to free up the thread. I want any thread to not wait for any of the task to finish and process `nonBlocking` task immediately.\r\n\r\nThe output should be:\r\n\r\n&quot;Non Blocking Task&quot; -&gt; first  \r\n&quot;callable Task1&quot; or &quot;callable Task2&quot; -&gt; second\r\n","title":"CompletableFuture run task in a non-blocking way with limited threads in JAVA","body":"<p>I have defined a pool of 2 threads like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Executor executor = Executors.newFixedThreadPool(2);\n</code></pre>\n<p>Now I have three tasks, two of which are blocking and one which is non-blocking.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; blocking1 = CompletableFuture.supplyAsync(callableTask1, executor);\nCompletableFuture&lt;Integer&gt;blocking2 = CompletableFuture.supplyAsync(callableTask2, executor);\n\nCompletableFuture&lt;Void&gt; nonBlocking = CompletableFuture.runAsync(() -&gt; {\n    System.out.println(&quot;nonBlocking task's thread:  &quot; + Thread.currentThread());\n    System.out.println(&quot;Non Blocking task&quot;);\n});\n</code></pre>\n<p>Both <code>callableTask1</code> and <code>callableTask2</code> are blocking as it makes the thread wait. Currently, to print &quot;Non-Blocking task&quot; it is waiting for any of the blocking task to free up the thread. I want any thread to not wait for any of the task to finish and process <code>nonBlocking</code> task immediately.</p>\n<p>The output should be:</p>\n<p>&quot;Non Blocking Task&quot; -&gt; first<br />\n&quot;callable Task1&quot; or &quot;callable Task2&quot; -&gt; second</p>\n"},{"tags":["java","junit","quarkus"],"answers":[{"comments":[{"owner":{"account_id":29662516,"reputation":3,"user_id":22733783,"display_name":"Jack Daniels"},"score":0,"creation_date":1697191130,"post_id":77286496,"comment_id":136251790,"body_markdown":"how does the new Mockitoconfig handle convertscopes? I am new to JUnit Mockito and just trying to update legacy code.","body":"how does the new Mockitoconfig handle convertscopes? I am new to JUnit Mockito and just trying to update legacy code."},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1697192195,"post_id":77286496,"comment_id":136251988,"body_markdown":"It&#39;s the same as before. The annotation got split into two, there are no other changes.","body":"It&#39;s the same as before. The annotation got split into two, there are no other changes."}],"tags":[],"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697188307,"creation_date":1697188307,"answer_id":77286496,"question_id":77286179,"body_markdown":"The previous `@InjectMock` annotation (`io.quarkus.test.junit.mockito.InjectMock`) is deprecated for removal, because it may be used on places where its configuration options (`convertScopes`, `returnsDeepMocks`) don&#39;t make sense. The new `@InjectMock` annotation (`io.quarkus.test.InjectMock`) doesn&#39;t have the configuration options.\r\n\r\nThe replacement is the `@MockitoConfig` annotation (`io.quarkus.test.junit.mockito.MockitoConfig`), which has the same configuration options. Use the new `@InjectMock` annotation together with `@MockitoConfig`.","title":"@InjectMock(deepMock=true) deprecation fix, How to use it after removal?","body":"<p>The previous <code>@InjectMock</code> annotation (<code>io.quarkus.test.junit.mockito.InjectMock</code>) is deprecated for removal, because it may be used on places where its configuration options (<code>convertScopes</code>, <code>returnsDeepMocks</code>) don't make sense. The new <code>@InjectMock</code> annotation (<code>io.quarkus.test.InjectMock</code>) doesn't have the configuration options.</p>\n<p>The replacement is the <code>@MockitoConfig</code> annotation (<code>io.quarkus.test.junit.mockito.MockitoConfig</code>), which has the same configuration options. Use the new <code>@InjectMock</code> annotation together with <code>@MockitoConfig</code>.</p>\n"}],"owner":{"account_id":29662516,"reputation":3,"user_id":22733783,"display_name":"Jack Daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77286496,"answer_count":1,"score":0,"last_activity_date":1697188307,"creation_date":1697185337,"question_id":77286179,"body_markdown":"I got a project that I am doing a Quarkus Update on. The project uses the DeepMock Option while doing JUnit Tests. Probleme is that this is marked for removal and making issues when trying to remove. \r\n\r\nSo far I haven&#39;t found any docs detailing how to replace DeepMock with oncoming JUnit and Mokito versions.\r\nDoes anyone have an Solution?\r\n\r\nI tried to just remove to option, leading to a failure of all effected JUnit-Tests","title":"@InjectMock(deepMock=true) deprecation fix, How to use it after removal?","body":"<p>I got a project that I am doing a Quarkus Update on. The project uses the DeepMock Option while doing JUnit Tests. Probleme is that this is marked for removal and making issues when trying to remove.</p>\n<p>So far I haven't found any docs detailing how to replace DeepMock with oncoming JUnit and Mokito versions.\nDoes anyone have an Solution?</p>\n<p>I tried to just remove to option, leading to a failure of all effected JUnit-Tests</p>\n"},{"tags":["java","android","sdk"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696852262,"post_id":77258535,"comment_id":136201764,"body_markdown":"If you are not using the dependency, just remove it (from your `build.gradle` file)","body":"If you are not using the dependency, just remove it (from your <code>build.gradle</code> file)"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696852328,"post_id":77258535,"comment_id":136201772,"body_markdown":"And for future reference, a compiler doesn&#39;t throw tantrums, it throws error messages. Usually those contain useful information.","body":"And for future reference, a compiler doesn&#39;t throw tantrums, it throws error messages. Usually those contain useful information."},{"owner":{"account_id":8022083,"reputation":187,"user_id":6050435,"accept_rate":62,"display_name":"Prajjwal Srivastav"},"score":0,"creation_date":1696853117,"post_id":77258535,"comment_id":136201915,"body_markdown":"Please post a screenshot or copy of your stack trace, project structure and other relevant information. It will help us to help you.","body":"Please post a screenshot or copy of your stack trace, project structure and other relevant information. It will help us to help you."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696855321,"post_id":77258535,"comment_id":136202354,"body_markdown":"No screenshots of text, put the text directly in your question.","body":"No screenshots of text, put the text directly in your question."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1696862056,"post_id":77258535,"comment_id":136203824,"body_markdown":"@PrajjwalSrivastav For more details why not to use screenshots in Stackoverflow please read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"@PrajjwalSrivastav For more details why not to use screenshots in Stackoverflow please read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1696924988,"post_id":77258535,"comment_id":136211491,"body_markdown":"Also, that&#39;s not the _entire_ error message.  You really do need the whole thing.","body":"Also, that&#39;s not the <i>entire</i> error message.  You really do need the whole thing."},{"owner":{"account_id":20433162,"reputation":51,"user_id":14991673,"display_name":"Reddi3n"},"score":0,"creation_date":1697026138,"post_id":77258535,"comment_id":136227175,"body_markdown":"Thank you for advices, I had to set only compileSdk to 34 setting both did not work.","body":"Thank you for advices, I had to set only compileSdk to 34 setting both did not work."},{"owner":{"account_id":1942859,"reputation":830,"user_id":1748628,"display_name":"Coder Roadie"},"score":0,"creation_date":1697898437,"post_id":77258535,"comment_id":136338659,"body_markdown":"This question was complete enough to answer. Why was it closed? I disagree with the idea that it needs debugging details. Obviously Android Studio is showing a new error.","body":"This question was complete enough to answer. Why was it closed? I disagree with the idea that it needs debugging details. Obviously Android Studio is showing a new error."},{"owner":{"account_id":1942859,"reputation":830,"user_id":1748628,"display_name":"Coder Roadie"},"score":0,"creation_date":1697898532,"post_id":77258535,"comment_id":136338671,"body_markdown":"The solution that worked for for me is to use material library 1.9.0 instead of 1.10.0:\nimplementation &#39;com.google.android.material:material:1.9.0&#39;\n found here: https://codeforfun.jp/android-studio-an-issue-was-found-when-checking-aar-metadata-error/","body":"The solution that worked for for me is to use material library 1.9.0 instead of 1.10.0: implementation &#39;com.google.android.material:material:1.9.0&#39;  found here: <a href=\"https://codeforfun.jp/android-studio-an-issue-was-found-when-checking-aar-metadata-error/\" rel=\"nofollow noreferrer\">codeforfun.jp/&hellip;</a>"}],"owner":{"account_id":20433162,"reputation":51,"user_id":14991673,"display_name":"Reddi3n"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1971,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1696924941,"answer_count":0,"score":2,"last_activity_date":1697187989,"creation_date":1696851563,"question_id":77258535,"body_markdown":"Someone help me with this please. I dont even use this dependency =&gt; androidx.activity:activity:1.8.0.\r\n\r\nI am new to Android SDK but this pretty much ruins my whole learning process. I dont even have this dependency in my build.gradle (app) file, wth?\r\n\r\nGoogle finds nothing on this matter. My compileSdk and targetSdk are set to 33 - still nothing, setting it to 34 it throws tantrum.\r\n\r\n\r\n\r\nI&#39;m desperate, I just added a button to my view...\r\n\r\n\r\nEDIT: Does not matter if I create a new project or rebuild the gradle, it still throws this. No matter what.\r\n\r\nError:\\\r\nAn issue was found when checking AAR metadata:\r\n\r\n  1.  Dependency &#39;androidx.activity:activity:1.8.0&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).","title":"Dependency &#39;androidx.activity:activity:1.8.0&#39; requires libraries and applications that depend on it","body":"<p>Someone help me with this please. I dont even use this dependency =&gt; androidx.activity:activity:1.8.0.</p>\n<p>I am new to Android SDK but this pretty much ruins my whole learning process. I dont even have this dependency in my build.gradle (app) file, wth?</p>\n<p>Google finds nothing on this matter. My compileSdk and targetSdk are set to 33 - still nothing, setting it to 34 it throws tantrum.</p>\n<p>I'm desperate, I just added a button to my view...</p>\n<p>EDIT: Does not matter if I create a new project or rebuild the gradle, it still throws this. No matter what.</p>\n<p>Error:<br />\nAn issue was found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.activity:activity:1.8.0' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n</ol>\n"},{"tags":["java","spring","kotlin","maven","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697187812,"creation_date":1697185931,"answer_id":77286242,"question_id":77283376,"body_markdown":"Well, the annotation-based programming model which included classes such as `StreamListener, Source, EnableBinding` etc. . . has long (~5 years) been deprecated and removed from the code base. \r\nWe have switched to a more robust functional model - https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages","title":"Unresolved reference: Source - org.springframework.cloud.stream.messaging.source","body":"<p>Well, the annotation-based programming model which included classes such as <code>StreamListener, Source, EnableBinding</code> etc. . . has long (~5 years) been deprecated and removed from the code base.\nWe have switched to a more robust functional model - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages</a></p>\n"}],"owner":{"account_id":12305625,"reputation":1,"user_id":8978761,"display_name":"Rysic Rychu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697187812,"creation_date":1697138854,"question_id":77283376,"body_markdown":"I am updating some project libraries because of vulnerabilities and after this updates I can&#39;t meke this import work:\r\n\r\n`import org.springframework.cloud.stream.messaging.Source\r\n`\r\n(&quot;Source&quot; is red in InteliJ)\r\n\r\nError message is: &quot;Unsolved reference: Source&quot;.\r\n\r\n\r\nI have red that it is part of this dependendy:\r\n\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt; org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt; spring-cloud-stream &lt;/artifactId&gt;\r\n &lt;version&gt;4.0.4\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut this is a Kotlin (I&#39;m not so familiar with Kotlin :-/) project, so I found I should use this?\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUnfortunately both of this dependencies do not fix this (when I do: mvn clean install -U).\r\n\r\nI&#39;ll be glad for any suggestions!","title":"Unresolved reference: Source - org.springframework.cloud.stream.messaging.source","body":"<p>I am updating some project libraries because of vulnerabilities and after this updates I can't meke this import work:</p>\n<p><code>import org.springframework.cloud.stream.messaging.Source </code>\n(&quot;Source&quot; is red in InteliJ)</p>\n<p>Error message is: &quot;Unsolved reference: Source&quot;.</p>\n<p>I have red that it is part of this dependendy:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt; org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt; spring-cloud-stream &lt;/artifactId&gt;\n &lt;version&gt;4.0.4\n&lt;/dependency&gt;\n</code></pre>\n<p>But this is a Kotlin (I'm not so familiar with Kotlin :-/) project, so I found I should use this?</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Unfortunately both of this dependencies do not fix this (when I do: mvn clean install -U).</p>\n<p>I'll be glad for any suggestions!</p>\n"},{"tags":["java","spring-security","openapi","user-roles","springdoc"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1686184661,"post_id":66489351,"comment_id":134765919,"body_markdown":"2 things: 1. Since it looks like you are using Swagger V3, **the correct URL** should be `http://localhost:8083/planning/swagger-ui/index.html`, **V2 will use** `/swagger-ui.html` if you are using default settings. 2. If the configUrl is not picked up automatically you can try setting the properties described in this answer https://stackoverflow.com/a/73928258/9520479","body":"2 things: 1. Since it looks like you are using Swagger V3, <b>the correct URL</b> should be <code>http:&#47;&#47;localhost:8083&#47;planning&#47;swagger-ui&#47;index.html</code>, <b>V2 will use</b> <code>&#47;swagger-ui.html</code> if you are using default settings. 2. If the configUrl is not picked up automatically you can try setting the properties described in this answer <a href=\"https://stackoverflow.com/a/73928258/9520479\">stackoverflow.com/a/73928258/9520479</a>"}],"answers":[{"comments":[{"owner":{"account_id":15930339,"reputation":81,"user_id":11494882,"display_name":"Phipsll"},"score":0,"creation_date":1615880563,"post_id":66638720,"comment_id":117821505,"body_markdown":"Thank you @user15400529 for answering and your tips but unfortunately it did not work.\n\n1. I added /planning/ to **SWAGGER_WHITELIST** and also to configure(HttpSecurity http) {http.authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;, **&quot;/planning/&quot;**, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll().} Still the 401 status code appears.\n\n2. I tried to adapt the springdoc.swagger-ui.configUrl property and set the value to /v3/api-docs/swagger-config. However, I think that the context-path (e.g. /planning in my case) is already used as prefix for all URL properties.","body":"Thank you @user15400529 for answering and your tips but unfortunately it did not work.  1. I added /planning/ to <b>SWAGGER_WHITELIST</b> and also to configure(HttpSecurity http) {http.authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;, <b>&quot;/planning/&quot;</b>, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll().} Still the 401 status code appears.  2. I tried to adapt the springdoc.swagger-ui.configUrl property and set the value to /v3/api-docs/swagger-config. However, I think that the context-path (e.g. /planning in my case) is already used as prefix for all URL properties."},{"owner":{"account_id":15930339,"reputation":81,"user_id":11494882,"display_name":"Phipsll"},"score":0,"creation_date":1615880595,"post_id":66638720,"comment_id":117821509,"body_markdown":"In both cases the same exception **Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config&#39; in servlet with name &#39;dispatcherServlet&#39;** appeared.\n\nDo you know any other approaches/configuration to solve that?","body":"In both cases the same exception <b>Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-&zwnj;&#8203;docs/swagger-config&#39; in servlet with name &#39;dispatcherServlet&#39;</b> appeared.  Do you know any other approaches/configuration to solve that?"}],"tags":[],"owner":{"account_id":20961104,"reputation":1,"user_id":15400529,"display_name":"user15400529"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615814135,"creation_date":1615814135,"answer_id":66638720,"question_id":66489351,"body_markdown":"As the log says, `Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=**/planning/v3/api-docs/swagger-config&#39;**`.\r\nIn your web security configuration you only give access to /v3/api-docs/**.\r\nTry to add /planning/** or modify the path.","title":"Enabling Swagger springdoc-openapi-ui (OpenAPI 3.0) with Spring Security - Cannot access swagger-ui.html (401)","body":"<p>As the log says, <code>Could not resolve view with name 'redirect:/swagger-ui/index.html?configUrl=**/planning/v3/api-docs/swagger-config'**</code>.\nIn your web security configuration you only give access to /v3/api-docs/<strong>.\nTry to add /planning/</strong> or modify the path.</p>\n"}],"owner":{"account_id":15930339,"reputation":81,"user_id":11494882,"display_name":"Phipsll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17666,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1697187700,"creation_date":1614933845,"question_id":66489351,"body_markdown":"# Swagger OpenAPI 3.0 is working with springdoc-openapi-ui and a custom OpenAPI Bean.\r\n\r\npom.xml\r\n```\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;Hoxton.SR10&lt;/version&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;1.5.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSwaggerConfig:\r\n[![Custom OpenAPI Bean][1]][1]\r\n\r\n# The problem with spring-security with the same configuration\r\n\r\nWe are facing a problem, when using springdoc-openapi-ui, springdoc-openapi-security together with spring-boot-starter-security and keycloak-spring-boot-starter.\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;12.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDummySecurityConfig (profile dev is used currently):\r\n```\r\n@Profile({&quot;test&quot;, &quot;dev&quot;})\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\n@EnableWebMvc\r\npublic class DummySecurityConfig extends WebSecurityConfigurerAdapter implements WebMvcConfigurer {\r\n\r\n    protected static final String[] ACTUATOR_WHITELIST = {\r\n        &quot;/actuator/**&quot;\r\n    };\r\n\r\n    protected static final String[] SWAGGER_WHITELIST = {\r\n        &quot;/v3/api-docs/**&quot;,\r\n        &quot;/swagger-ui/**&quot;,\r\n        &quot;/swagger-ui.html&quot;,\r\n    };\r\n\r\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\r\n    private String[] allowedOrigins;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .httpBasic(); //or anything else, e.g. .oauth2ResourceServer().jwt()\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(SWAGGER_WHITELIST)\r\n                .antMatchers(ACTUATOR_WHITELIST);\r\n    }\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(allowedOrigins);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        AuthenticationProvider authenticationProvider = new AuthenticationProvider() {\r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n                SimpleGrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_&quot; + authentication.getPrincipal().toString().toUpperCase());\r\n\r\n                UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(\r\n                        authentication.getPrincipal(), authentication.getCredentials(), Collections.singleton(authority));\r\n                token.setDetails(authentication);\r\n                return token;\r\n            }\r\n\r\n            @Override\r\n            public boolean supports(Class&lt;?&gt; aClass) {\r\n                return true;\r\n            }\r\n        };\r\n\r\n        return authenticationProvider;\r\n    }\r\n}\r\n```\r\n\r\nSecurityConfig (Not used in the examples but will be used in the future too):\r\n```\r\n@Profile({&quot;staging&quot;, &quot;devstaging&quot;})\r\n@KeycloakConfiguration\r\n@EnableGlobalMethodSecurity(\r\n    prePostEnabled = true,\r\n    securedEnabled = true,\r\n    jsr250Enabled = true)\r\n@EnableWebMvc\r\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter implements WebMvcConfigurer {\r\n\r\n    protected static final String[] ACTUATOR_WHITELIST = {\r\n        &quot;/actuator/**&quot;\r\n    };\r\n\r\n    protected static final String[] SWAGGER_WHITELIST = {\r\n        &quot;/v3/api-docs/**&quot;,\r\n        &quot;/swagger-ui/**&quot;,\r\n        &quot;/swagger-ui.html&quot;,\r\n    };\r\n\r\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\r\n    private String[] allowedOrigins;\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\r\n        grantedAuthorityMapper.setConvertToUpperCase(true);\r\n        grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\r\n\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\r\n        auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n\r\n    @Bean\r\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n        return new KeycloakSpringBootConfigResolver();\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n            .antMatchers(SWAGGER_WHITELIST)\r\n            .antMatchers(ACTUATOR_WHITELIST);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n            .csrf().disable()\r\n            .cors().and()\r\n            .authorizeRequests().anyRequest().authenticated();\r\n    }\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n            .allowedOrigins(allowedOrigins);\r\n    }\r\n}\r\n```\r\n\r\napplication-dev.yml:\r\n```\r\nserver:\r\n  port: 8083\r\n  servlet:\r\n    context-path: /planning\r\nkeycloak:\r\n  enabled: false\r\nspringdoc:\r\n  show-actuator: true\r\n```\r\n\r\nWe already tried to use following links to solve the problem:\r\n- [Spring security support](https://springdoc.org/#spring-security-support)\r\n- [Allow anonymous access to springdoc-openapi-ui with Spring Security](https://stackoverflow.com/questions/59898402/allow-anonymous-access-to-springdoc-openapi-ui-with-spring-security)\r\n- [Swagger UI redirecting to /swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config](https://stackoverflow.com/questions/62044228/swagger-ui-redirecting-to-swagger-ui-index-htmlconfigurl-v3-api-docs-swagger)\r\n- [F.A.Q](https://springdoc.org/faq.html)\r\n\r\n\r\n## Examples of opening the swagger-ui URLs (profile dev):\r\nhttp://localhost:8083/planning/swagger-ui.html (does not work):\r\n[![http://localhost:8083/planning/swagger-ui.html][2]][2]\r\n\r\nCode snippet of application:\r\n```\r\n2021-03-05 09:27:01,530 [http-nio-8083-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/planning] threw exception [Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config&#39; in servlet with name &#39;dispatcherServlet&#39;] with root cause\r\njavax.servlet.ServletException: Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config&#39; in servlet with name &#39;dispatcherServlet&#39;\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n```\r\n\r\nhttp://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config (works but is complicated):\r\n[![http://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config][3]][3]\r\n\r\nhttp://localhost:8083/planning/swagger-ui/index.html (Adding api-docs &quot;/planning/v3/api-docs&quot; manually works too):\r\n[![http://localhost:8083/planning/swagger-ui/index.html][4]][4]\r\n\r\n\r\nDo you have any ideas what else could be wrong configured or what we should change? We are at the end of our latin.\r\n\r\n  [1]: https://i.stack.imgur.com/sx3zc.png\r\n  [2]: https://i.stack.imgur.com/b1k6n.png\r\n  [3]: https://i.stack.imgur.com/73Hts.png\r\n  [4]: https://i.stack.imgur.com/q1AJS.png","title":"Enabling Swagger springdoc-openapi-ui (OpenAPI 3.0) with Spring Security - Cannot access swagger-ui.html (401)","body":"<h1>Swagger OpenAPI 3.0 is working with springdoc-openapi-ui and a custom OpenAPI Bean.</h1>\n<p>pom.xml</p>\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;Hoxton.SR10&lt;/version&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n  &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>SwaggerConfig:\n<a href=\"https://i.stack.imgur.com/sx3zc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sx3zc.png\" alt=\"Custom OpenAPI Bean\" /></a></p>\n<h1>The problem with spring-security with the same configuration</h1>\n<p>We are facing a problem, when using springdoc-openapi-ui, springdoc-openapi-security together with spring-boot-starter-security and keycloak-spring-boot-starter.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n      &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;12.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;version&gt;2.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>DummySecurityConfig (profile dev is used currently):</p>\n<pre><code>@Profile({&quot;test&quot;, &quot;dev&quot;})\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\n@EnableWebMvc\npublic class DummySecurityConfig extends WebSecurityConfigurerAdapter implements WebMvcConfigurer {\n\n    protected static final String[] ACTUATOR_WHITELIST = {\n        &quot;/actuator/**&quot;\n    };\n\n    protected static final String[] SWAGGER_WHITELIST = {\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/swagger-ui.html&quot;,\n    };\n\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\n    private String[] allowedOrigins;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n            .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .httpBasic(); //or anything else, e.g. .oauth2ResourceServer().jwt()\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(SWAGGER_WHITELIST)\n                .antMatchers(ACTUATOR_WHITELIST);\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(allowedOrigins);\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        AuthenticationProvider authenticationProvider = new AuthenticationProvider() {\n            @Override\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n                SimpleGrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_&quot; + authentication.getPrincipal().toString().toUpperCase());\n\n                UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(\n                        authentication.getPrincipal(), authentication.getCredentials(), Collections.singleton(authority));\n                token.setDetails(authentication);\n                return token;\n            }\n\n            @Override\n            public boolean supports(Class&lt;?&gt; aClass) {\n                return true;\n            }\n        };\n\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>SecurityConfig (Not used in the examples but will be used in the future too):</p>\n<pre><code>@Profile({&quot;staging&quot;, &quot;devstaging&quot;})\n@KeycloakConfiguration\n@EnableGlobalMethodSecurity(\n    prePostEnabled = true,\n    securedEnabled = true,\n    jsr250Enabled = true)\n@EnableWebMvc\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter implements WebMvcConfigurer {\n\n    protected static final String[] ACTUATOR_WHITELIST = {\n        &quot;/actuator/**&quot;\n    };\n\n    protected static final String[] SWAGGER_WHITELIST = {\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/swagger-ui.html&quot;,\n    };\n\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\n    private String[] allowedOrigins;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\n        SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\n        grantedAuthorityMapper.setConvertToUpperCase(true);\n        grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\n\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n\n    @Bean\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n            .antMatchers(SWAGGER_WHITELIST)\n            .antMatchers(ACTUATOR_WHITELIST);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n            .csrf().disable()\n            .cors().and()\n            .authorizeRequests().anyRequest().authenticated();\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(allowedOrigins);\n    }\n}\n</code></pre>\n<p>application-dev.yml:</p>\n<pre><code>server:\n  port: 8083\n  servlet:\n    context-path: /planning\nkeycloak:\n  enabled: false\nspringdoc:\n  show-actuator: true\n</code></pre>\n<p>We already tried to use following links to solve the problem:</p>\n<ul>\n<li><a href=\"https://springdoc.org/#spring-security-support\" rel=\"noreferrer\">Spring security support</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59898402/allow-anonymous-access-to-springdoc-openapi-ui-with-spring-security\">Allow anonymous access to springdoc-openapi-ui with Spring Security</a></li>\n<li><a href=\"https://stackoverflow.com/questions/62044228/swagger-ui-redirecting-to-swagger-ui-index-htmlconfigurl-v3-api-docs-swagger\">Swagger UI redirecting to /swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config</a></li>\n<li><a href=\"https://springdoc.org/faq.html\" rel=\"noreferrer\">F.A.Q</a></li>\n</ul>\n<h2>Examples of opening the swagger-ui URLs (profile dev):</h2>\n<p>http://localhost:8083/planning/swagger-ui.html (does not work):\n<a href=\"https://i.stack.imgur.com/b1k6n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b1k6n.png\" alt=\"http://localhost:8083/planning/swagger-ui.html\" /></a></p>\n<p>Code snippet of application:</p>\n<pre><code>2021-03-05 09:27:01,530 [http-nio-8083-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/planning] threw exception [Could not resolve view with name 'redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config' in servlet with name 'dispatcherServlet'] with root cause\njavax.servlet.ServletException: Could not resolve view with name 'redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config' in servlet with name 'dispatcherServlet'\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n</code></pre>\n<p>http://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config (works but is complicated):\n<a href=\"https://i.stack.imgur.com/73Hts.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/73Hts.png\" alt=\"http://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config\" /></a></p>\n<p>http://localhost:8083/planning/swagger-ui/index.html (Adding api-docs &quot;/planning/v3/api-docs&quot; manually works too):\n<a href=\"https://i.stack.imgur.com/q1AJS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/q1AJS.png\" alt=\"http://localhost:8083/planning/swagger-ui/index.html\" /></a></p>\n<p>Do you have any ideas what else could be wrong configured or what we should change? We are at the end of our latin.</p>\n"},{"tags":["java","android","kotlin","android-layout"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1694959470,"post_id":77105983,"comment_id":135957118,"body_markdown":"ScreenShot will help to understand your problem.","body":"ScreenShot will help to understand your problem."}],"answers":[{"tags":[],"owner":{"account_id":29372764,"reputation":1,"user_id":22504998,"display_name":"Dixit Gondaliya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697186716,"creation_date":1697186716,"answer_id":77286324,"question_id":77105983,"body_markdown":"Create a new XML drawable resource (e.g., background_with_states.xml) to define the background and text color states for your CardView. You can use a &lt;selector&gt; to specify different backgrounds and text colors based on the view&#39;s state (pressed, focused, etc.). Here&#39;s an example:\r\nxml\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_selected=&quot;true&quot;&gt;\r\n            &lt;layer-list&gt;\r\n                &lt;item android:id=&quot;@android:id/background&quot;&gt;\r\n                    &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                        &lt;corners android:radius=&quot;16dp&quot; /&gt;\r\n                        &lt;solid android:color=&quot;@color/blue_disabled&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n            &lt;/layer-list&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n            &lt;layer-list&gt;\r\n                &lt;item android:id=&quot;@android:id/background&quot;&gt;\r\n                    &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                        &lt;corners android:radius=&quot;16dp&quot; /&gt;\r\n                        &lt;solid android:color=&quot;@color/grey&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n            &lt;/layer-list&gt;\r\n        &lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nThis XML defines two states: one when the CardView is selected (e.g., clicked), and one for the default state.\r\n\r\nIn your layout XML, wrap your CardView with a FrameLayout or another layout that can contain multiple child views:\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardRoot&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginVertical=&quot;8dp&quot;\r\n            app:cardCornerRadius=&quot;16dp&quot;\r\n            app:contentPaddingLeft=&quot;15dp&quot;\r\n            app:contentPaddingRight=&quot;15dp&quot;\r\n            android:background=&quot;@drawable/background_with_states&quot;&gt;\r\n    \r\n            &lt;!-- Your CardView contents, including the TextView --&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/title&quot;\r\n                ... /&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;!-- Add your ShineView here as a child view of the FrameLayout --&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\nIn your adapter code, you can set the isSelected state of the CardView and TextView. When the CardView is selected, it will use the background and text color specified in the selector XML. You can use setSelected() on the CardView to change its state.\r\n\r\nTo add the ShineView, create a custom view or use a library like &quot;Shimmer&quot; to implement the shine animation effect. Place the ShineView as a child of the FrameLayout, and position it over the CardView to create the shine effect.","title":"How to add background and text color state with rounded corners to implement shine animation","body":"<p>Create a new XML drawable resource (e.g., background_with_states.xml) to define the background and text color states for your CardView. You can use a  to specify different backgrounds and text colors based on the view's state (pressed, focused, etc.). Here's an example:\nxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_selected=&quot;true&quot;&gt;\n        &lt;layer-list&gt;\n            &lt;item android:id=&quot;@android:id/background&quot;&gt;\n                &lt;shape android:shape=&quot;rectangle&quot;&gt;\n                    &lt;corners android:radius=&quot;16dp&quot; /&gt;\n                    &lt;solid android:color=&quot;@color/blue_disabled&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/layer-list&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;layer-list&gt;\n            &lt;item android:id=&quot;@android:id/background&quot;&gt;\n                &lt;shape android:shape=&quot;rectangle&quot;&gt;\n                    &lt;corners android:radius=&quot;16dp&quot; /&gt;\n                    &lt;solid android:color=&quot;@color/grey&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/layer-list&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>This XML defines two states: one when the CardView is selected (e.g., clicked), and one for the default state.</p>\n<p>In your layout XML, wrap your CardView with a FrameLayout or another layout that can contain multiple child views:</p>\n<pre><code>&lt;FrameLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardRoot&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginVertical=&quot;8dp&quot;\n        app:cardCornerRadius=&quot;16dp&quot;\n        app:contentPaddingLeft=&quot;15dp&quot;\n        app:contentPaddingRight=&quot;15dp&quot;\n        android:background=&quot;@drawable/background_with_states&quot;&gt;\n\n        &lt;!-- Your CardView contents, including the TextView --&gt;\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            ... /&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;!-- Add your ShineView here as a child view of the FrameLayout --&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>In your adapter code, you can set the isSelected state of the CardView and TextView. When the CardView is selected, it will use the background and text color specified in the selector XML. You can use setSelected() on the CardView to change its state.</p>\n<p>To add the ShineView, create a custom view or use a library like &quot;Shimmer&quot; to implement the shine animation effect. Place the ShineView as a child of the FrameLayout, and position it over the CardView to create the shine effect.</p>\n"}],"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697186716,"creation_date":1694702302,"question_id":77105983,"body_markdown":"I was using a CardView as :\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/cardRoot&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginVertical=&quot;8dp&quot;\r\n    card_view:cardCornerRadius=&quot;16dp&quot;\r\n    card_view:contentPaddingLeft=&quot;15dp&quot;\r\n    card_view:contentPaddingRight=&quot;15dp&quot;\r\n    &gt;\r\n&lt;Text...&gt;\r\n    /&gt;\r\n\r\n```\r\n\r\nAnd on my adapter I was doing this manually when clicking \r\n\r\n```\r\nprivate fun updateStyle(isSelected: Boolean) {\r\n            if (isSelected) {\r\n                binding.title.setTextColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.blue,\r\n                    ),\r\n                )\r\n                binding.cardRoot.setBackgroundColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.blue_disabled,\r\n                    ),\r\n                )\r\n            } else {\r\n                binding.title.setTextColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.dark_grey,\r\n                    ),\r\n                )\r\n                binding.cardRoot.setBackgroundColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.grey,\r\n                    ),\r\n                )\r\n            }\r\n        }\r\n```\r\n\r\nIt was working perfectly, but now I need to add a [`ShineAnimation`](https://www.geeksforgeeks.org/how-to-create-shine-effect-in-android/) and I need to create this `View` to animate it as it is, but when trying to add the corners to a `Button` or whatever `View` I add it overlaps with the background, so I&#39;ve tried the state like this [answer](https://stackoverflow.com/a/12446491/4385913) but I&#39;m not success, how could I make it work as it was with a different view (or if possible to remain the `CardView` even better) and add this `shine view`\r\n\r\n\r\n","title":"How to add background and text color state with rounded corners to implement shine animation","body":"<p>I was using a CardView as :</p>\n<pre><code>&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/cardRoot&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginVertical=&quot;8dp&quot;\n    card_view:cardCornerRadius=&quot;16dp&quot;\n    card_view:contentPaddingLeft=&quot;15dp&quot;\n    card_view:contentPaddingRight=&quot;15dp&quot;\n    &gt;\n&lt;Text...&gt;\n    /&gt;\n\n</code></pre>\n<p>And on my adapter I was doing this manually when clicking</p>\n<pre><code>private fun updateStyle(isSelected: Boolean) {\n            if (isSelected) {\n                binding.title.setTextColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.blue,\n                    ),\n                )\n                binding.cardRoot.setBackgroundColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.blue_disabled,\n                    ),\n                )\n            } else {\n                binding.title.setTextColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.dark_grey,\n                    ),\n                )\n                binding.cardRoot.setBackgroundColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.grey,\n                    ),\n                )\n            }\n        }\n</code></pre>\n<p>It was working perfectly, but now I need to add a <a href=\"https://www.geeksforgeeks.org/how-to-create-shine-effect-in-android/\" rel=\"nofollow noreferrer\"><code>ShineAnimation</code></a> and I need to create this <code>View</code> to animate it as it is, but when trying to add the corners to a <code>Button</code> or whatever <code>View</code> I add it overlaps with the background, so I've tried the state like this <a href=\"https://stackoverflow.com/a/12446491/4385913\">answer</a> but I'm not success, how could I make it work as it was with a different view (or if possible to remain the <code>CardView</code> even better) and add this <code>shine view</code></p>\n"},{"tags":["java","postgresql","jboss","wildfly"],"answers":[{"comments":[{"owner":{"account_id":9827059,"reputation":563,"user_id":7707798,"display_name":"Rafael"},"score":0,"creation_date":1635005715,"post_id":67023668,"comment_id":123181995,"body_markdown":"Thank you! I was suffering with that for a whole day","body":"Thank you! I was suffering with that for a whole day"},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":0,"creation_date":1664581825,"post_id":67023668,"comment_id":130512034,"body_markdown":"how do you replace those placeholders, for example, &lt;db&gt;?","body":"how do you replace those placeholders, for example, &lt;db&gt;?"},{"owner":{"account_id":1058505,"reputation":368,"user_id":1060650,"accept_rate":50,"display_name":"Wisteso"},"score":0,"creation_date":1664911649,"post_id":67023668,"comment_id":130577018,"body_markdown":"@VictorBello those placeholders aren&#39;t valid syntax.  I just put them in there for the sake of posting it to stackoverflow.  you&#39;d have to figure out something on your own if you want string substitution","body":"@VictorBello those placeholders aren&#39;t valid syntax.  I just put them in there for the sake of posting it to stackoverflow.  you&#39;d have to figure out something on your own if you want string substitution"},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":1,"creation_date":1665003080,"post_id":67023668,"comment_id":130600388,"body_markdown":"Thanks @Wisteso, Actually I found out. You can use ${env.NAME_VARIABLE} and replace it using enviroment variables...","body":"Thanks @Wisteso, Actually I found out. You can use ${env.NAME_VARIABLE} and replace it using enviroment variables..."}],"tags":[],"owner":{"account_id":1058505,"reputation":368,"user_id":1060650,"accept_rate":50,"display_name":"Wisteso"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617981854,"creation_date":1617980904,"answer_id":67023668,"question_id":66998791,"body_markdown":"Figured this out on my own with some experimentation. WildFly documentation on bootable jars is still really minimal and lacking lots of detail that required lots of guessing / experimenting.\r\n\r\nWhile there is an overlay that lets you specify DB info via environment variables, that&#39;s a bit hacky and doesn&#39;t allow you to define more than one datasource nor can you specify the JNDI name.  Instead, I used a CLI script which gets fed into the jar builder plugin.\r\n\r\n**datasource.cli**\r\n\r\n    data-source add --name=&lt;name&gt; --jndi-name=java:jboss/datasources/&lt;schema&gt; --driver-name=postgresql --connection-url=jdbc:postgresql://localhost:5432/&lt;db&gt; --user-name=&lt;user&gt; --password=&lt;pass&gt;\r\n\r\nMake sure to use your own values for placeholders \\&lt;name\\&gt;, \\&lt;schema\\&gt;, \\&lt;db\\&gt;, \\&lt;user\\&gt;, \\&lt;pass\\&gt; and swap out the hostname / port if needed.\r\n\r\n**pom.xml (snippet)**\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;cli-sessions&gt;\r\n\t\t\t&lt;cli-session&gt;\r\n\t\t\t\t&lt;script-files&gt;\r\n\t\t\t\t\t&lt;script&gt;scripts/datasource.cli&lt;/script&gt;\r\n\t\t\t\t&lt;/script-files&gt;\r\n\t\t\t\t&lt;resolve-expressions&gt;true&lt;/resolve-expressions&gt;\r\n\t\t\t&lt;/cli-session&gt;\r\n\t\t&lt;/cli-sessions&gt;\r\n\t\t&lt;feature-packs&gt;\r\n\t\t\t&lt;feature-pack&gt;\r\n\t\t\t\t&lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#23.0.0.Final&lt;/location&gt;\r\n\t\t\t&lt;/feature-pack&gt;\r\n\t\t\t&lt;feature-pack&gt;\r\n\t\t\t\t&lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.2.Final&lt;/version&gt;\r\n\t\t\t&lt;/feature-pack&gt;\r\n\t\t&lt;/feature-packs&gt;\r\n\t\t&lt;layers&gt;\r\n\t\t\t&lt;layer&gt;jaxrs-server&lt;/layer&gt;\r\n\t\t\t&lt;layer&gt;postgresql-driver&lt;/layer&gt;\r\n\t\t&lt;/layers&gt;\r\n\t&lt;/configuration&gt;\r\n\r\nIn the above XML config, items of note are\r\n\r\n 1. \\&lt;script\\&gt; value tells the builder where to find the CLI script that will do the datasource adding\r\n 2. \\&lt;feature-pack\\&gt; for the datasource pack. Though I didn&#39;t test if this was required...  maybe the driver layer is all that&#39;s needed.  Worth trying if you have time.\r\n 3. \\&lt;layer\\&gt; that specifies the postgresql-driver value. This is required and without it, the bootup will complain about missing a driver when the CLI script runs.\r\n","title":"How to define datasource properties for WildFly bootable JAR without openshift CLI?","body":"<p>Figured this out on my own with some experimentation. WildFly documentation on bootable jars is still really minimal and lacking lots of detail that required lots of guessing / experimenting.</p>\n<p>While there is an overlay that lets you specify DB info via environment variables, that's a bit hacky and doesn't allow you to define more than one datasource nor can you specify the JNDI name.  Instead, I used a CLI script which gets fed into the jar builder plugin.</p>\n<p><strong>datasource.cli</strong></p>\n<pre><code>data-source add --name=&lt;name&gt; --jndi-name=java:jboss/datasources/&lt;schema&gt; --driver-name=postgresql --connection-url=jdbc:postgresql://localhost:5432/&lt;db&gt; --user-name=&lt;user&gt; --password=&lt;pass&gt;\n</code></pre>\n<p>Make sure to use your own values for placeholders &lt;name&gt;, &lt;schema&gt;, &lt;db&gt;, &lt;user&gt;, &lt;pass&gt; and swap out the hostname / port if needed.</p>\n<p><strong>pom.xml (snippet)</strong></p>\n<pre><code>&lt;configuration&gt;\n    &lt;cli-sessions&gt;\n        &lt;cli-session&gt;\n            &lt;script-files&gt;\n                &lt;script&gt;scripts/datasource.cli&lt;/script&gt;\n            &lt;/script-files&gt;\n            &lt;resolve-expressions&gt;true&lt;/resolve-expressions&gt;\n        &lt;/cli-session&gt;\n    &lt;/cli-sessions&gt;\n    &lt;feature-packs&gt;\n        &lt;feature-pack&gt;\n            &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#23.0.0.Final&lt;/location&gt;\n        &lt;/feature-pack&gt;\n        &lt;feature-pack&gt;\n            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2.Final&lt;/version&gt;\n        &lt;/feature-pack&gt;\n    &lt;/feature-packs&gt;\n    &lt;layers&gt;\n        &lt;layer&gt;jaxrs-server&lt;/layer&gt;\n        &lt;layer&gt;postgresql-driver&lt;/layer&gt;\n    &lt;/layers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>In the above XML config, items of note are</p>\n<ol>\n<li>&lt;script&gt; value tells the builder where to find the CLI script that will do the datasource adding</li>\n<li>&lt;feature-pack&gt; for the datasource pack. Though I didn't test if this was required...  maybe the driver layer is all that's needed.  Worth trying if you have time.</li>\n<li>&lt;layer&gt; that specifies the postgresql-driver value. This is required and without it, the bootup will complain about missing a driver when the CLI script runs.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7366204,"reputation":46,"user_id":5607879,"display_name":"MarkusF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697186614,"creation_date":1697186614,"answer_id":77286319,"question_id":66998791,"body_markdown":"A bit late (and I&#39;m not allowed to comment rn), but JFTR: you can even use the proposed &quot;datasource&quot; `&lt;layer&gt;` as advertised in\r\n&lt;https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/tree/main&gt;\r\n\r\nSo you choose, for example, \r\n```lang-xml\r\n&lt;configuration&gt;\r\n\t&lt;featurePacks&gt;\r\n\t\t&lt;featurePack&gt;\r\n\t\t\t&lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)&lt;/location&gt;\r\n\t\t&lt;/featurePack&gt;\r\n\t\t&lt;feature-pack&gt;\r\n\t\t\t&lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${version.wildfly.datasources.galleon-pack}&lt;/version&gt;\r\n\t\t&lt;/feature-pack&gt;\r\n\t&lt;/featurePacks&gt;\r\n\t&lt;layers&gt;\r\n\t\t...\r\n\t\t&lt;layer&gt;postgresql-datasource&lt;/layer&gt;\r\n\t\t....\r\n\r\n```\r\n\r\nAnd start the resulting jar via \r\n```lang-bash\r\nPOSTGRESQL_USER=user POSTGRESQL_PASSWORD=password java -jar your-bootable.jar\r\n```\r\n\r\nThese two Properties are the bare minimum to set. The complete list of possible configuration properties is found in\r\n&lt;https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/blob/main/doc/postgresql/README.md&gt; (and the corresponding chapters for the chosen database `&lt;layer&gt;`).\r\n\r\nThis way you can dynamicaly change the databases without changing your build (a question, [Victor Bello](https://stackoverflow.com/questions/66998791/how-to-define-datasource-properties-for-wildfly-bootable-jar-without-openshift-c#comment130600388_67023668) asked in the above comments)\r\n\r\n\r\n**Drawback**\r\n\r\nThe only drawback of this path is, you can&#39;t have more than one datasource from the same layer. \r\nSo I chose your path and added two `datasource add ...`lines.\r\n\r\nThanks for this\r\n","title":"How to define datasource properties for WildFly bootable JAR without openshift CLI?","body":"<p>A bit late (and I'm not allowed to comment rn), but JFTR: you can even use the proposed &quot;datasource&quot; <code>&lt;layer&gt;</code> as advertised in\n<a href=\"https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/tree/main\" rel=\"nofollow noreferrer\">https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/tree/main</a></p>\n<p>So you choose, for example,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;featurePacks&gt;\n        &lt;featurePack&gt;\n            &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)&lt;/location&gt;\n        &lt;/featurePack&gt;\n        &lt;feature-pack&gt;\n            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\n            &lt;version&gt;${version.wildfly.datasources.galleon-pack}&lt;/version&gt;\n        &lt;/feature-pack&gt;\n    &lt;/featurePacks&gt;\n    &lt;layers&gt;\n        ...\n        &lt;layer&gt;postgresql-datasource&lt;/layer&gt;\n        ....\n\n</code></pre>\n<p>And start the resulting jar via</p>\n<pre class=\"lang-bash prettyprint-override\"><code>POSTGRESQL_USER=user POSTGRESQL_PASSWORD=password java -jar your-bootable.jar\n</code></pre>\n<p>These two Properties are the bare minimum to set. The complete list of possible configuration properties is found in\n<a href=\"https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/blob/main/doc/postgresql/README.md\" rel=\"nofollow noreferrer\">https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/blob/main/doc/postgresql/README.md</a> (and the corresponding chapters for the chosen database <code>&lt;layer&gt;</code>).</p>\n<p>This way you can dynamicaly change the databases without changing your build (a question, <a href=\"https://stackoverflow.com/questions/66998791/how-to-define-datasource-properties-for-wildfly-bootable-jar-without-openshift-c#comment130600388_67023668\">Victor Bello</a> asked in the above comments)</p>\n<p><strong>Drawback</strong></p>\n<p>The only drawback of this path is, you can't have more than one datasource from the same layer.\nSo I chose your path and added two <code>datasource add ...</code>lines.</p>\n<p>Thanks for this</p>\n"}],"owner":{"account_id":1058505,"reputation":368,"user_id":1060650,"accept_rate":50,"display_name":"Wisteso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67023668,"answer_count":2,"score":2,"last_activity_date":1697186614,"creation_date":1617865109,"question_id":66998791,"body_markdown":"So normally you could use the standalone.xml to do this, but the [wildfly bootable JAR][1] seems not to have a standalone.xml since it&#39;s all within a single JAR.\r\n\r\nThe examples that JBoss provides assume you&#39;ll only ever use OpenShift for some reason and uses some arcane OpenShift CLI command (below) that just somehow creates the right file in the right spot.  https://github.com/wildfly-extras/wildfly-jar-maven-plugin/tree/4.0.0.Final/examples/postgresql\r\n\r\n    oc new-app --name database-server \\\r\n      --env POSTGRESQL_USER=admin \\\r\n      --env POSTGRESQL_PASSWORD=admin \\\r\n      --env POSTGRESQL_DATABASE=sampledb \\\r\n      postgresql\r\n\r\nHowever, there is no config file created with that command (or they didnt check it in), and the documentation doesn&#39;t say anything about how to do the same for non-OpenShift projects.\r\n\r\nTrying to find any info on how to do configure a (postgres) data-source for a non-OpenShift deployment.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/bootablejar/","title":"How to define datasource properties for WildFly bootable JAR without openshift CLI?","body":"<p>So normally you could use the standalone.xml to do this, but the <a href=\"https://docs.wildfly.org/bootablejar/\" rel=\"nofollow noreferrer\">wildfly bootable JAR</a> seems not to have a standalone.xml since it's all within a single JAR.</p>\n<p>The examples that JBoss provides assume you'll only ever use OpenShift for some reason and uses some arcane OpenShift CLI command (below) that just somehow creates the right file in the right spot.  <a href=\"https://github.com/wildfly-extras/wildfly-jar-maven-plugin/tree/4.0.0.Final/examples/postgresql\" rel=\"nofollow noreferrer\">https://github.com/wildfly-extras/wildfly-jar-maven-plugin/tree/4.0.0.Final/examples/postgresql</a></p>\n<pre><code>oc new-app --name database-server \\\n  --env POSTGRESQL_USER=admin \\\n  --env POSTGRESQL_PASSWORD=admin \\\n  --env POSTGRESQL_DATABASE=sampledb \\\n  postgresql\n</code></pre>\n<p>However, there is no config file created with that command (or they didnt check it in), and the documentation doesn't say anything about how to do the same for non-OpenShift projects.</p>\n<p>Trying to find any info on how to do configure a (postgres) data-source for a non-OpenShift deployment.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1697182883,"post_id":77285195,"comment_id":136250274,"body_markdown":"Thanks for reply . IN pom.xml of the first app ( problematic ) , I have following dependencies","body":"Thanks for reply . IN pom.xml of the first app ( problematic ) , I have following dependencies"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697182968,"post_id":77285195,"comment_id":136250284,"body_markdown":"@lm. Please edit the question to add more details.","body":"@lm. Please edit the question to add more details."},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":1,"creation_date":1697183653,"post_id":77285195,"comment_id":136250394,"body_markdown":"editted - added part of pom.xml definition","body":"editted - added part of pom.xml definition"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697184272,"post_id":77285195,"comment_id":136250521,"body_markdown":"@lm. Can you share the codebase?","body":"@lm. Can you share the codebase?"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":1,"creation_date":1697184813,"post_id":77285195,"comment_id":136250620,"body_markdown":"added problematic code fragment","body":"added problematic code fragment"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697185694,"post_id":77285195,"comment_id":136250767,"body_markdown":"@lm. Can you add the pom of second app?","body":"@lm. Can you add the pom of second app?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697185733,"post_id":77285195,"comment_id":136250776,"body_markdown":"@lm. Remove the code and keep the exception part only.","body":"@lm. Remove the code and keep the exception part only."},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":1,"creation_date":1697186616,"post_id":77285195,"comment_id":136250937,"body_markdown":"added part of pom.xml from second app (working)","body":"added part of pom.xml from second app (working)"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697188149,"post_id":77285195,"comment_id":136251200,"body_markdown":"@lm. Can you do mvn clean install on the first project/","body":"@lm. Can you do mvn clean install on the first project/"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697188578,"post_id":77285195,"comment_id":136251276,"body_markdown":"@lm. You first pom is working. It&#39;s showing me that maven has picked netty-resolver-4.19.7.","body":"@lm. You first pom is working. It&#39;s showing me that maven has picked netty-resolver-4.19.7."},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1697196517,"post_id":77285195,"comment_id":136252716,"body_markdown":"After recheck - the issue occurs when first app imported as jar by other. I will try to reproduce with sample app the issue .","body":"After recheck - the issue occurs when first app imported as jar by other. I will try to reproduce with sample app the issue ."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697182774,"creation_date":1697173978,"answer_id":77285195,"question_id":77285107,"body_markdown":"It&#39;s clearly there in the logs that you have shared.\r\n\r\n`io.netty:netty-resolver-dns:jar:4.1.97.Final` is coming from `io.projectreactor.netty:reactor-netty-http:jar:1.0.35` in your second app.\r\n\r\nwhereas \r\n\r\n`io.netty:netty-resolver:jar:4.1.59.Final` is coming from `com.azure:azure-storage-blob:jar:12.23.0` in your first app\r\n\r\nBasically, the second app&#39;s omitted the use of `io.netty:netty-resolver:jar:4.1.59.Final` that was coming from `com.azure:azure-storage-blob:jar:12.23.0` instead it selected the one coming from `reactor-netty-http` because it was using the latest version of `netty-resolver-dns (4.1.97.Final)`.\r\n\r\nTo be short, newer/higher versions are given priority by Maven if multiple same dependencies are found.","title":"Different dependencies for azure-storage-blob in spring boot apps","body":"<p>It's clearly there in the logs that you have shared.</p>\n<p><code>io.netty:netty-resolver-dns:jar:4.1.97.Final</code> is coming from <code>io.projectreactor.netty:reactor-netty-http:jar:1.0.35</code> in your second app.</p>\n<p>whereas</p>\n<p><code>io.netty:netty-resolver:jar:4.1.59.Final</code> is coming from <code>com.azure:azure-storage-blob:jar:12.23.0</code> in your first app</p>\n<p>Basically, the second app's omitted the use of <code>io.netty:netty-resolver:jar:4.1.59.Final</code> that was coming from <code>com.azure:azure-storage-blob:jar:12.23.0</code> instead it selected the one coming from <code>reactor-netty-http</code> because it was using the latest version of <code>netty-resolver-dns (4.1.97.Final)</code>.</p>\n<p>To be short, newer/higher versions are given priority by Maven if multiple same dependencies are found.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697186589,"creation_date":1697172481,"question_id":77285107,"body_markdown":"I have two different **Spring Boot** projects using `same azure-storage-blob` dependency.\r\n\r\nWhen I run the maven commmand given below:\r\n\r\n    mvn dependency:tree\r\n \r\nI see two different dependencies for `azure-storage-blob`.\r\n\r\nFor First app: \r\n\r\n    +- com.azure:azure-storage-blob:jar:12.23.0:compile\r\n    |  |  |  +- com.azure:azure-core:jar:1.41.0:compile\r\n    |  |  |  |  \\- com.azure:azure-json:jar:1.0.1:compile\r\n    |  |  |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\r\n    |  |  |  |  +- io.netty:netty-codec-http2:jar:4.1.59.Final:compile\r\n    |  |  |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.59.Final:compile\r\n    |  |  |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.59.Final:compile\r\n    |  |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.36.Final:compile\r\n    |  |  |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.33:compile\r\n    |  |  |  |     +- io.netty:netty-resolver-dns:jar:4.1.59.Final:compile\r\n    |  |  |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.59.Final:compile\r\n    |  |  |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.59.Final:compile\r\n    |  |  |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.33:compile\r\n    |  |  |  +- com.azure:azure-storage-common:jar:12.22.0:compile\r\n    |  |  |  \\- com.azure:azure-storage-internal-avro:jar:12.8.0:compile\r\n    |  |  +- com.azure:azure-identity:jar:1.9.2:compile\r\n    |  |  |  +- com.microsoft.azure:msal4j:jar:1.13.8:compile\r\n    |  |  |  \\- com.microsoft.azure:msal4j-persistence-extension:jar:1.2.0:compile\r\n    |  |  +- io.netty:netty-resolver:jar:4.1.59.Final:compileenter code here\r\n\r\nFor Second app : \r\n\r\n    +- com.azure:azure-storage-blob:jar:12.23.0:compile\r\n    [INFO] |  +- com.azure:azure-core:jar:1.41.0:compile\r\n    [INFO] |  |  +- com.azure:azure-json:jar:1.0.1:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.5:compile\r\n    [INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.4.32:compile\r\n    [INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n    [INFO] |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\r\n    [INFO] |  |  +- io.netty:netty-handler:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-transport:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-buffer:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-codec:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-classes:jar:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-x86_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-aarch_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-x86_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-aarch_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-tcnative-boringssl-static:jar:windows-x86_64:2.0.61.Final:compile\r\n    [INFO] |  |  +- io.projectreactor.netty:reactor-netty-http:jar:1.0.35:compile\r\n    [INFO] |  |  |  +- io.netty:netty-resolver-dns:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.97.Final:compile\r\n\r\nAlthough both of the apps uses the same dependency from `azure-storage-blob` with version `12.23.0` but it can be seen from the output that azure-storage-blob has different dependencies of different versions.\r\n\r\n&gt; io.netty:netty-resolver:jar:4.1.97.Final\r\n\r\n in the second app and\r\n\r\n&gt; io.netty:netty-resolver:jar:4.1.59.Final\r\n\r\nin the first app\r\n\r\n\r\nWhat caused such a difference and how to find which dependency actually brought these different dependencies? \r\n\r\nThanks in advance.\r\n\r\nUPD:In pom.xml of the first app ( problematic ) there are following definitions : \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.23.0&lt;/version&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t&lt;exclusion&gt;\r\n    \t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\r\n    \t&lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Netty --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-handler-proxy&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTried to exclude netty-resolver dependency from azure-storage-blob dependency + added explicit import by version of netty-resolver , but still version 4.1.59 was imported . \r\nIs here also important order ? Thanks \r\n\r\n\r\n\r\nException : \r\n\r\n    java.lang.NoClassDefFoundError: reactor/netty/http/client/HttpClient\r\n    \r\n    \tat com.azure.core.http.netty.NettyAsyncHttpClientBuilder.build(NettyAsyncHttpClientBuilder.java:154)\r\n    \tat com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:56)\r\n    \tat com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:62)\r\n    \tat com.azure.core.implementation.http.HttpClientProviders.lambda$createInstance$0(HttpClientProviders.java:46)\r\n    \tat com.azure.core.implementation.util.Providers.create(Providers.java:114)\r\n    \tat com.azure.core.implementation.http.HttpClientProviders.createInstance(HttpClientProviders.java:46)\r\n    \tat com.azure.core.http.HttpClient.createDefault(HttpClient.java:61)\r\n    \tat com.azure.core.http.HttpClient.createDefault(HttpClient.java:51)\r\n    \tat com.azure.core.http.HttpPipelineBuilder.build(HttpPipelineBuilder.java:78)\r\n    \tat com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper\r\n\r\nUPD3: part of pom.xml - of second app - working : \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.23.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nAdditional difference : for first app  ( problematic ) was added Azure functionality to existing code . The second app ( Working) was generated by Spring Initializr and added azure imports","title":"Different dependencies for azure-storage-blob in spring boot apps","body":"<p>I have two different <strong>Spring Boot</strong> projects using <code>same azure-storage-blob</code> dependency.</p>\n<p>When I run the maven commmand given below:</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>I see two different dependencies for <code>azure-storage-blob</code>.</p>\n<p>For First app:</p>\n<pre><code>+- com.azure:azure-storage-blob:jar:12.23.0:compile\n|  |  |  +- com.azure:azure-core:jar:1.41.0:compile\n|  |  |  |  \\- com.azure:azure-json:jar:1.0.1:compile\n|  |  |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\n|  |  |  |  +- io.netty:netty-codec-http2:jar:4.1.59.Final:compile\n|  |  |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.59.Final:compile\n|  |  |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.59.Final:compile\n|  |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.36.Final:compile\n|  |  |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.33:compile\n|  |  |  |     +- io.netty:netty-resolver-dns:jar:4.1.59.Final:compile\n|  |  |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.59.Final:compile\n|  |  |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.59.Final:compile\n|  |  |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.33:compile\n|  |  |  +- com.azure:azure-storage-common:jar:12.22.0:compile\n|  |  |  \\- com.azure:azure-storage-internal-avro:jar:12.8.0:compile\n|  |  +- com.azure:azure-identity:jar:1.9.2:compile\n|  |  |  +- com.microsoft.azure:msal4j:jar:1.13.8:compile\n|  |  |  \\- com.microsoft.azure:msal4j-persistence-extension:jar:1.2.0:compile\n|  |  +- io.netty:netty-resolver:jar:4.1.59.Final:compileenter code here\n</code></pre>\n<p>For Second app :</p>\n<pre><code>+- com.azure:azure-storage-blob:jar:12.23.0:compile\n[INFO] |  +- com.azure:azure-core:jar:1.41.0:compile\n[INFO] |  |  +- com.azure:azure-json:jar:1.0.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.5:compile\n[INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.4.32:compile\n[INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.97.Final:compile\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-codec:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-classes:jar:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-x86_64:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-aarch_64:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-x86_64:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-aarch_64:2.0.61.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-tcnative-boringssl-static:jar:windows-x86_64:2.0.61.Final:compile\n[INFO] |  |  +- io.projectreactor.netty:reactor-netty-http:jar:1.0.35:compile\n[INFO] |  |  |  +- io.netty:netty-resolver-dns:jar:4.1.97.Final:compile\n[INFO] |  |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.97.Final:compile\n</code></pre>\n<p>Although both of the apps uses the same dependency from <code>azure-storage-blob</code> with version <code>12.23.0</code> but it can be seen from the output that azure-storage-blob has different dependencies of different versions.</p>\n<blockquote>\n<p>io.netty:netty-resolver:jar:4.1.97.Final</p>\n</blockquote>\n<p>in the second app and</p>\n<blockquote>\n<p>io.netty:netty-resolver:jar:4.1.59.Final</p>\n</blockquote>\n<p>in the first app</p>\n<p>What caused such a difference and how to find which dependency actually brought these different dependencies?</p>\n<p>Thanks in advance.</p>\n<p>UPD:In pom.xml of the first app ( problematic ) there are following definitions :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.23.0&lt;/version&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n    &lt;version&gt;1.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Netty --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-handler-proxy&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Tried to exclude netty-resolver dependency from azure-storage-blob dependency + added explicit import by version of netty-resolver , but still version 4.1.59 was imported .\nIs here also important order ? Thanks</p>\n<p>Exception :</p>\n<pre><code>java.lang.NoClassDefFoundError: reactor/netty/http/client/HttpClient\n\n    at com.azure.core.http.netty.NettyAsyncHttpClientBuilder.build(NettyAsyncHttpClientBuilder.java:154)\n    at com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:56)\n    at com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:62)\n    at com.azure.core.implementation.http.HttpClientProviders.lambda$createInstance$0(HttpClientProviders.java:46)\n    at com.azure.core.implementation.util.Providers.create(Providers.java:114)\n    at com.azure.core.implementation.http.HttpClientProviders.createInstance(HttpClientProviders.java:46)\n    at com.azure.core.http.HttpClient.createDefault(HttpClient.java:61)\n    at com.azure.core.http.HttpClient.createDefault(HttpClient.java:51)\n    at com.azure.core.http.HttpPipelineBuilder.build(HttpPipelineBuilder.java:78)\n    at com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper\n</code></pre>\n<p>UPD3: part of pom.xml - of second app - working :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\n    &lt;version&gt;6.15&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n    &lt;version&gt;1.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Additional difference : for first app  ( problematic ) was added Azure functionality to existing code . The second app ( Working) was generated by Spring Initializr and added azure imports</p>\n"},{"tags":["java","android","reflection","root","xposed"],"answers":[{"comments":[{"owner":{"account_id":4346982,"reputation":21,"user_id":11317083,"display_name":"itapi"},"score":0,"creation_date":1697726158,"post_id":77286310,"comment_id":136318412,"body_markdown":"Thank you very much sir.\nso if I undersand correctly,you cannot hook the framework class itself,eventhough every view (for example) class created,used the framework view super class,but only hook specific android packages...right?","body":"Thank you very much sir. so if I undersand correctly,you cannot hook the framework class itself,eventhough every view (for example) class created,used the framework view super class,but only hook specific android packages...right?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1697726666,"post_id":77286310,"comment_id":136318512,"body_markdown":"@itapi In the end you can only hook the app processes and by the packageName you can decide in your code if you want to execute your XPosed hook in the current app or not. As Xposed injects itself into the central Dalvik process which is the &quot;mother-process&quot;, all app-processes are forked from, Xposed by default is active in all app processes (and thus your hook would be active, too).","body":"@itapi In the end you can only hook the app processes and by the packageName you can decide in your code if you want to execute your XPosed hook in the current app or not. As Xposed injects itself into the central Dalvik process which is the &quot;mother-process&quot;, all app-processes are forked from, Xposed by default is active in all app processes (and thus your hook would be active, too)."}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697186505,"creation_date":1697186505,"answer_id":77286310,"question_id":77286210,"body_markdown":"Your main problem is that you are trying to limiting the hook the &quot;Android framework&quot; only which will fail as the Android framework is not a separate process but included in every app process, respectively the `TextView` elements are part of the app process they are shown in.\r\n\r\nAs far as I remember `handleLoadPackage` is called once per app process which allows you to decide if or if not you want to hook something in this specific app process. \r\n\r\nBut as you want to hook a certain UI element in any app, you should not apply a filter here. So in the end you should remove the filter (or only filter out apps that make problems with your hook) and then directly call `hookSetVisibility`.","title":"Xposed hooking every TextView in my device","body":"<p>Your main problem is that you are trying to limiting the hook the &quot;Android framework&quot; only which will fail as the Android framework is not a separate process but included in every app process, respectively the <code>TextView</code> elements are part of the app process they are shown in.</p>\n<p>As far as I remember <code>handleLoadPackage</code> is called once per app process which allows you to decide if or if not you want to hook something in this specific app process.</p>\n<p>But as you want to hook a certain UI element in any app, you should not apply a filter here. So in the end you should remove the filter (or only filter out apps that make problems with your hook) and then directly call <code>hookSetVisibility</code>.</p>\n"}],"owner":{"account_id":4346982,"reputation":21,"user_id":11317083,"display_name":"itapi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77286310,"answer_count":1,"score":0,"last_activity_date":1697186505,"creation_date":1697185602,"question_id":77286210,"body_markdown":"I&#39;m hooking the android framework itself,not a specific app,this is my code:\r\n\r\n     public void handleLoadPackage(XC_LoadPackage.LoadPackageParam lpparam) throws Throwable {\r\n            \r\n            if (lpparam == null||lpparam.packageName == null || lpparam.processName == null)\r\n                return;\r\n    \r\n            if (lpparam.packageName.equals(&quot;android&quot;)) {\r\n                XposedBridge.log(&quot;Hooked into Android framework.&quot;);\r\n    \r\n    \r\n                if (!sInitialized) {\r\n                    sInitialized = true;\r\n                    hookSetVisibility(lpparam);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        private void hookSetVisibility(XC_LoadPackage.LoadPackageParam lpparam) {\r\n    \r\n            final Class&lt;?&gt; mViewGroup = XposedHelpers.findClass(&quot;android.widget.TextView&quot;, lpparam.classLoader);\r\n            for (final Method method : mViewGroup.getDeclaredMethods()) {\r\n                if (true == Modifier.isAbstract(method.getModifiers())) {\r\n                    XposedBridge.log(&quot;skip abstract:&quot; + method.getName());\r\n                    continue;\r\n                }\r\n                XposedBridge.log(&quot;----&quot; + method.getName());\r\n                XposedBridge.hookMethod(method, methodHook);\r\n            }\r\n        }\r\n    \r\n        final StringBuilder sb = new StringBuilder();\r\n        XC_MethodHook methodHook = new XC_MethodHook() {\r\n            @Override\r\n            protected void beforeHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\r\n    \r\n                XposedBridge.log(&quot;before hook log&quot;);\r\n            }\r\n    \r\n            @Override\r\n            protected void afterHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\r\n                //param.setResult(false);\r\n                XposedBridge.log(&quot;after hook log&quot;);       \r\n            }\r\n        };\r\nThe module indeed prints nicely the all class method names as can seen in the [android framework][1],but the `BeforeHookedMethod` and the `afterHookMethod` never get called......\r\n\r\n\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/jb-mr0-release/core/java/android/widget/TextView.java","title":"Xposed hooking every TextView in my device","body":"<p>I'm hooking the android framework itself,not a specific app,this is my code:</p>\n<pre><code> public void handleLoadPackage(XC_LoadPackage.LoadPackageParam lpparam) throws Throwable {\n        \n        if (lpparam == null||lpparam.packageName == null || lpparam.processName == null)\n            return;\n\n        if (lpparam.packageName.equals(&quot;android&quot;)) {\n            XposedBridge.log(&quot;Hooked into Android framework.&quot;);\n\n\n            if (!sInitialized) {\n                sInitialized = true;\n                hookSetVisibility(lpparam);\n            }\n        }\n    }\n\n\n    private void hookSetVisibility(XC_LoadPackage.LoadPackageParam lpparam) {\n\n        final Class&lt;?&gt; mViewGroup = XposedHelpers.findClass(&quot;android.widget.TextView&quot;, lpparam.classLoader);\n        for (final Method method : mViewGroup.getDeclaredMethods()) {\n            if (true == Modifier.isAbstract(method.getModifiers())) {\n                XposedBridge.log(&quot;skip abstract:&quot; + method.getName());\n                continue;\n            }\n            XposedBridge.log(&quot;----&quot; + method.getName());\n            XposedBridge.hookMethod(method, methodHook);\n        }\n    }\n\n    final StringBuilder sb = new StringBuilder();\n    XC_MethodHook methodHook = new XC_MethodHook() {\n        @Override\n        protected void beforeHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\n\n            XposedBridge.log(&quot;before hook log&quot;);\n        }\n\n        @Override\n        protected void afterHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\n            //param.setResult(false);\n            XposedBridge.log(&quot;after hook log&quot;);       \n        }\n    };\n</code></pre>\n<p>The module indeed prints nicely the all class method names as can seen in the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/jb-mr0-release/core/java/android/widget/TextView.java\" rel=\"nofollow noreferrer\">android framework</a>,but the <code>BeforeHookedMethod</code> and the <code>afterHookMethod</code> never get called......</p>\n"},{"tags":["java","gwt","collections","guava"],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1364899084,"post_id":15760666,"comment_id":22402094,"body_markdown":"As I mentioned above, using Guava IS possible to acchieve this filter result by class.","body":"As I mentioned above, using Guava IS possible to acchieve this filter result by class."}],"tags":[],"owner":{"account_id":1159098,"reputation":1569,"user_id":1138989,"accept_rate":29,"display_name":"Abhijeet"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1364895168,"creation_date":1364895168,"answer_id":15760666,"question_id":15760022,"body_markdown":"As you are using generic type BASE..it will automatically filtered by BASE class for you.. But if you want specific according to subclasses of BASE class as you have mentioned in above example..it will not be possible..","title":"How to filter a List by class?","body":"<p>As you are using generic type BASE..it will automatically filtered by BASE class for you.. But if you want specific according to subclasses of BASE class as you have mentioned in above example..it will not be possible..</p>\n"},{"tags":[],"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1697186483,"creation_date":1364903249,"answer_id":15763317,"question_id":15760022,"body_markdown":"    Iterables#filter(Iterable&lt;?&gt; unfiltered, Class&lt;T&gt; type)\r\n\r\nand\r\n\r\n    Predicates#instanceOf(Class&lt;?&gt; clazz)\r\n\r\nare GWT incompatible, because `Class#isInstance(Object obj)` is unsupported in GWT, since it it defeats GWT compiler optimizations, and GWT tries to stay away from reflection.\r\n\r\n\r\nThe `instanceof` keyword is available, though. So the following would work:\r\n\r\n        Iterables.filter(list, new Predicate&lt;Base&gt;() {\r\n            @Override\r\n            public boolean apply(Base input) {\r\n                return input instanceof Bar;\r\n            }\r\n        });\r\n\r\nThat said, it might just be easier / cleaner to write (see the [Guava wiki caveats][1]):\r\n\r\n        List&lt;Bar&gt; bars = Lists.newArrayList();\r\n        for (Base base : list) {\r\n            if (base instanceof Bar) {\r\n                bars.add((Bar) base);\r\n            }\r\n        }\r\n\r\n\r\n\r\n[1]: https://github.com/google/guava/wiki/FunctionalExplained#caveats","title":"How to filter a List by class?","body":"<pre><code>Iterables#filter(Iterable&lt;?&gt; unfiltered, Class&lt;T&gt; type)\n</code></pre>\n<p>and</p>\n<pre><code>Predicates#instanceOf(Class&lt;?&gt; clazz)\n</code></pre>\n<p>are GWT incompatible, because <code>Class#isInstance(Object obj)</code> is unsupported in GWT, since it it defeats GWT compiler optimizations, and GWT tries to stay away from reflection.</p>\n<p>The <code>instanceof</code> keyword is available, though. So the following would work:</p>\n<pre><code>    Iterables.filter(list, new Predicate&lt;Base&gt;() {\n        @Override\n        public boolean apply(Base input) {\n            return input instanceof Bar;\n        }\n    });\n</code></pre>\n<p>That said, it might just be easier / cleaner to write (see the <a href=\"https://github.com/google/guava/wiki/FunctionalExplained#caveats\" rel=\"nofollow noreferrer\">Guava wiki caveats</a>):</p>\n<pre><code>    List&lt;Bar&gt; bars = Lists.newArrayList();\n    for (Base base : list) {\n        if (base instanceof Bar) {\n            bars.add((Bar) base);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15763317,"answer_count":2,"score":1,"last_activity_date":1697186483,"creation_date":1364893266,"question_id":15760022,"body_markdown":"I have a List of super types and want to filter all objects that are of a specific implementation class.\r\n\r\n    class Base;\r\n    class Bar extends Base;\r\n    class Foo extends Base;\r\n    \r\n    List&lt;Base&gt; list;\r\n\r\nAs I use GWT, Guava is only partially supported. Thus I cannot use the following, which would work otherwise in plain java:\r\n\r\n    Lists.newArrayList(Iterables.filter(list, Bar.class));\r\n\r\nHow could I replace this for compatibility with GWT?","title":"How to filter a List by class?","body":"<p>I have a List of super types and want to filter all objects that are of a specific implementation class.</p>\n\n<pre><code>class Base;\nclass Bar extends Base;\nclass Foo extends Base;\n\nList&lt;Base&gt; list;\n</code></pre>\n\n<p>As I use GWT, Guava is only partially supported. Thus I cannot use the following, which would work otherwise in plain java:</p>\n\n<pre><code>Lists.newArrayList(Iterables.filter(list, Bar.class));\n</code></pre>\n\n<p>How could I replace this for compatibility with GWT?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1697186228,"post_id":77284891,"comment_id":136250864,"body_markdown":"Keep in mind that the prefered solution (and considered good practice!) is to use DTOs and send only the required data to the frontend, not the entire entity.","body":"Keep in mind that the prefered solution (and considered good practice!) is to use DTOs and send only the required data to the frontend, not the entire entity."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1697213578,"post_id":77284891,"comment_id":136256196,"body_markdown":"Thanks @Chaosfire for sharing this useful info. I will update the code to use DTOs instead of entity class","body":"Thanks @Chaosfire for sharing this useful info. I will update the code to use DTOs instead of entity class"}],"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697167395,"creation_date":1697167395,"answer_id":77284891,"question_id":77284747,"body_markdown":"**Root-cause**: Serialization issue\r\n\r\n**Solution:**\r\n\r\nTo use `@JsonManagedReference`, `@JsonBackReference`\r\n\r\n - `@JsonManagedReference` is the forward part of reference, the one\r\n   that gets serialized normally.\r\n - `@JsonBackReference` is the back part\r\n   of reference; it’ll be omitted from serialization.\r\n\r\n\r\n*Reference:* https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n\r\n**Fix:**\r\n\r\n**Bookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonManagedReference;\r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class Bookings {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;bookingid&quot;)\r\n        private Long bookingId;\r\n    \r\n        @ManyToOne\r\n        @JsonManagedReference\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n    \r\n        @ManyToOne\r\n        @JsonManagedReference\r\n        @JoinColumn(name = &quot;userid&quot;)\r\n        private Customer user;\r\n    \r\n        @Transient\r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;SeatBookings&gt; seatBookings;\r\n    \r\n        @Column(name = &quot;bookingdate&quot;, nullable = false)\r\n        private LocalDate bookingDate;\r\n    \r\n        @Column(name = &quot;amount&quot;, nullable = false)\r\n        private int amount;\r\n    \r\n        @Column(name = &quot;created&quot;, nullable = false)\r\n        private LocalDateTime created;\r\n    \r\n        @Column(name = &quot;modified&quot;, nullable = false)\r\n        private LocalDateTime modified;\r\n    \r\n        public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\r\n            this.show = show;\r\n            this.user = user;\r\n            this.bookingDate = LocalDate.now();\r\n            this.amount = show.getTicketCost() * seatBookings.size();\r\n            this.seatBookings = seatBookings;\r\n            this.created = LocalDateTime.now();\r\n            this.modified = LocalDateTime.now();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Bookings{&quot; +\r\n                    &quot;bookingId=&quot; + bookingId +\r\n                    &quot;, show=&quot; + show +\r\n                    &quot;, user=&quot; + user +\r\n                    &quot;, seatBookings=&quot; + seatBookings +\r\n                    &quot;, bookingDate=&quot; + bookingDate +\r\n                    &quot;, amount=&quot; + amount +\r\n                    &quot;, created=&quot; + created +\r\n                    &quot;, modified=&quot; + modified +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**SeatBookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class SeatBookings {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;seatbookingid&quot;, nullable = false)\r\n        private Long seatBookingId;\r\n    \r\n        @ManyToOne\r\n        @JsonBackReference\r\n        @JoinColumn(name = &quot;bookingid&quot;)\r\n        private Bookings bookings;\r\n    \r\n        @ManyToOne\r\n        @JsonBackReference\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n    \r\n        @OneToOne\r\n        @JsonBackReference\r\n        @JoinColumn(name = &quot;seatid&quot;)\r\n        private TheatreSeat theatreSeat;\r\n    \r\n        public SeatBookings(TheatreSeat seat, Show show) {\r\n            this.theatreSeat = seat;\r\n            this.show = show;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;SeatBookings{&quot; +\r\n                    &quot;seatBookingId=&quot; + seatBookingId +\r\n                    &quot;, bookings=&quot; + bookings +\r\n                    &quot;, show=&quot; + show +\r\n                    &quot;, theatreSeat=&quot; + theatreSeat +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"returning Entity class in response body throws Infinite recursion (StackOverflowError)","body":"<p><strong>Root-cause</strong>: Serialization issue</p>\n<p><strong>Solution:</strong></p>\n<p>To use <code>@JsonManagedReference</code>, <code>@JsonBackReference</code></p>\n<ul>\n<li><code>@JsonManagedReference</code> is the forward part of reference, the one\nthat gets serialized normally.</li>\n<li><code>@JsonBackReference</code> is the back part\nof reference; it’ll be omitted from serialization.</li>\n</ul>\n<p><em>Reference:</em> <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n<p><strong>Fix:</strong></p>\n<p><strong>Bookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class Bookings {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;bookingid&quot;)\n    private Long bookingId;\n\n    @ManyToOne\n    @JsonManagedReference\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n\n    @ManyToOne\n    @JsonManagedReference\n    @JoinColumn(name = &quot;userid&quot;)\n    private Customer user;\n\n    @Transient\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\n    private List&lt;SeatBookings&gt; seatBookings;\n\n    @Column(name = &quot;bookingdate&quot;, nullable = false)\n    private LocalDate bookingDate;\n\n    @Column(name = &quot;amount&quot;, nullable = false)\n    private int amount;\n\n    @Column(name = &quot;created&quot;, nullable = false)\n    private LocalDateTime created;\n\n    @Column(name = &quot;modified&quot;, nullable = false)\n    private LocalDateTime modified;\n\n    public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\n        this.show = show;\n        this.user = user;\n        this.bookingDate = LocalDate.now();\n        this.amount = show.getTicketCost() * seatBookings.size();\n        this.seatBookings = seatBookings;\n        this.created = LocalDateTime.now();\n        this.modified = LocalDateTime.now();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Bookings{&quot; +\n                &quot;bookingId=&quot; + bookingId +\n                &quot;, show=&quot; + show +\n                &quot;, user=&quot; + user +\n                &quot;, seatBookings=&quot; + seatBookings +\n                &quot;, bookingDate=&quot; + bookingDate +\n                &quot;, amount=&quot; + amount +\n                &quot;, created=&quot; + created +\n                &quot;, modified=&quot; + modified +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>SeatBookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class SeatBookings {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;seatbookingid&quot;, nullable = false)\n    private Long seatBookingId;\n\n    @ManyToOne\n    @JsonBackReference\n    @JoinColumn(name = &quot;bookingid&quot;)\n    private Bookings bookings;\n\n    @ManyToOne\n    @JsonBackReference\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n\n    @OneToOne\n    @JsonBackReference\n    @JoinColumn(name = &quot;seatid&quot;)\n    private TheatreSeat theatreSeat;\n\n    public SeatBookings(TheatreSeat seat, Show show) {\n        this.theatreSeat = seat;\n        this.show = show;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SeatBookings{&quot; +\n                &quot;seatBookingId=&quot; + seatBookingId +\n                &quot;, bookings=&quot; + bookings +\n                &quot;, show=&quot; + show +\n                &quot;, theatreSeat=&quot; + theatreSeat +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77284891,"answer_count":1,"score":0,"last_activity_date":1697186296,"creation_date":1697164098,"question_id":77284747,"body_markdown":"**Summary**\r\n\r\nUsing Spring Boot version 3.1.4 and Java version 17, with H2 Embedded database and Spring Data JPA, trying an example implementation of *bookmyshow.com* API.\r\n\r\nGetting ```Infinite recursion - Stackoverflow error``` when hitting the POST endpoint (The controller endpoint is returning ```ResponseEntity&lt;Bookings&gt;``` entity as response).\r\n\r\n    Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n    \r\n    java.lang.StackOverflowError: null\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\r\n*- The entire stack trace is mentioned below*\r\n\r\nHowever, if the Controller endpoint is made to return ```ResponseEntity&lt;String&gt;```, there is no exception and it works fine. Why there is this exception when I try to return JPA entity class in response body? How to resolve this?\r\n\r\n**POST Request**\r\n\r\n    curl -X &#39;POST&#39; \\\r\n      &#39;https://localhost:8080/api/v1/booking/book-seats&#39; \\\r\n      -H &#39;accept: */*&#39; \\\r\n      -H &#39;Content-Type: application/json&#39; \\\r\n      -d &#39;{\r\n      &quot;theatreId&quot;: 1,\r\n      &quot;seatNumbers&quot;: [\r\n        &quot;1A&quot;\r\n      ],\r\n      &quot;showId&quot;: 1,\r\n      &quot;userId&quot;: 1\r\n    }&#39;\r\n\r\nThe entire code base can be cloned at https://github.com/vasant-techie/bookmyshow.git.\r\n\r\n\r\n**Details**\r\n\r\n**application.properties**\r\n\r\n    spring.profiles.active=dev\r\n\r\n**application-dev.properties**\r\n\r\n    debug=true\r\n    \r\n    management.endpoints.web.exposure.include=*\r\n    \r\n    #JPA Configuration\r\n    spring.sql.init.mode=always\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    \r\n    # H2 Configuration\r\n    spring.datasource.url=jdbc:h2:mem:bms\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=bms\r\n    spring.datasource.password=securebms\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    #spring.h2.console.settings.web-allow-others=true\r\n    \r\n    # https|ssl Configuration\r\n    server.ssl.enabled=true\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-store=classpath:certificate.p12\r\n    server.ssl.key-store-password=1234\r\n    \r\n    # Enable | Disable Security\r\n    security.basic.enabled=true\r\n    management.security.enabled=true\r\n\r\n\r\n**BookingController.java**\r\n\r\n    package com.bookmyshow.consumer.api.endpoints;\r\n    \r\n    import com.bookmyshow.consumer.api.dto.BookingDetails;\r\n    import com.bookmyshow.consumer.api.entity.Bookings;\r\n    import com.bookmyshow.consumer.api.service.BookingService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/booking&quot;)\r\n    public class BookingController {\r\n    \r\n        private final BookingService bookingService;\r\n    \r\n        @Autowired\r\n        public BookingController(BookingService bookingService) {\r\n            this.bookingService = bookingService;\r\n        }\r\n    \r\n        @RequestMapping(path = &quot;/book-seats&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;Bookings&gt; bookSeats(@RequestBody BookingDetails bookingDetails) {\r\n            Bookings bookings = bookingService.bookSeats(bookingDetails);\r\n            return ResponseEntity.status(201).body(bookings);\r\n        }\r\n    }\r\n\r\n**BookingService.java**\r\n\r\n    package com.bookmyshow.consumer.api.service;\r\n    \r\n    import com.bookmyshow.consumer.api.dto.BookingDetails;\r\n    import com.bookmyshow.consumer.api.entity.*;\r\n    import com.bookmyshow.consumer.api.repo.BookingRepository;\r\n    import com.bookmyshow.consumer.api.repo.SeatBookingsRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class BookingService {\r\n    \r\n        private final BookingRepository bookingRepository;\r\n        private final SeatBookingsRepository seatBookingsRepository;\r\n        private final ShowService showService;\r\n        private final UserService userService;\r\n        private final TheatreSeatService theatreSeatService;\r\n    \r\n        @Autowired\r\n        public BookingService(BookingRepository bookingRepository, SeatBookingsRepository seatBookingsRepository, ShowService showService, UserService userService, TheatreSeatService theatreSeatService) {\r\n            this.bookingRepository = bookingRepository;\r\n            this.seatBookingsRepository = seatBookingsRepository;\r\n            this.showService = showService;\r\n            this.userService = userService;\r\n            this.theatreSeatService = theatreSeatService;\r\n        }\r\n    \r\n        public Bookings bookSeats(BookingDetails bookingDetails) {\r\n            Show show = showService.findShowByShowId(bookingDetails.getShowId());\r\n            Customer user = userService.findByUserId(bookingDetails.getUserId());\r\n            List&lt;TheatreSeat&gt; theatreSeats = bookingDetails.getSeatNumbers().stream().map(theatreSeatService::findBySeatNo).toList();\r\n            List&lt;SeatBookings&gt; seatBookings = theatreSeats.stream().map(seat -&gt; new SeatBookings(seat, show)).toList();\r\n            Bookings bookings = new Bookings(show, user, seatBookings);\r\n            bookingRepository.save(bookings);\r\n            // Set the relationship with the booking for each seat booking\r\n            for (SeatBookings seatBooking : seatBookings) {\r\n                seatBooking.setBookings(bookings);\r\n            }\r\n    \r\n            // Save the seat bookings with the updated relationship\r\n            seatBookingsRepository.saveAll(seatBookings);\r\n    \r\n            return bookings;\r\n        }\r\n    \r\n    }\r\n\r\n**Bookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class Bookings {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;bookingid&quot;)\r\n        private Long bookingId;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;userid&quot;)\r\n        private Customer user;\r\n    \r\n        @Transient\r\n        @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;SeatBookings&gt; seatBookings;\r\n    \r\n        @Column(name = &quot;bookingdate&quot;, nullable = false)\r\n        private LocalDate bookingDate;\r\n    \r\n        @Column(name = &quot;amount&quot;, nullable = false)\r\n        private int amount;\r\n    \r\n        @Column(name = &quot;created&quot;, nullable = false)\r\n        private LocalDateTime created;\r\n    \r\n        @Column(name = &quot;modified&quot;, nullable = false)\r\n        private LocalDateTime modified;\r\n    \r\n        public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\r\n            this.show = show;\r\n            this.user = user;\r\n            this.bookingDate = LocalDate.now();\r\n            this.amount = show.getTicketCost() * seatBookings.size();\r\n            this.seatBookings = seatBookings;\r\n            this.created = LocalDateTime.now();\r\n            this.modified = LocalDateTime.now();\r\n        }\r\n    }\r\n\r\n**SeatBookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class SeatBookings {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;seatbookingid&quot;, nullable = false)\r\n        private Long seatBookingId;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;bookingid&quot;)\r\n        private Bookings bookings;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;seatid&quot;)\r\n        private TheatreSeat theatreSeat;\r\n    \r\n        public SeatBookings(TheatreSeat seat, Show show) {\r\n            this.theatreSeat = seat;\r\n            this.show = show;\r\n        }\r\n    }\r\n\r\n**BookingRepository.java**\r\n\r\n    package com.bookmyshow.consumer.api.repo;\r\n    \r\n    import com.bookmyshow.consumer.api.entity.Bookings;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface BookingRepository extends JpaRepository&lt;Bookings, Long&gt; {\r\n    }\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.1.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    }\r\n    \r\n    group = &#39;com.bookmyshow.consumer.api&#39;\r\n    version = &#39;0.1&#39;\r\n    \r\n    java {\r\n        sourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2022.0.4&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n        implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n**Stacktrace**\r\n\r\n    2023-10-13T07:10:05.932+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.bookmyshow.consumer.api.entity.Bookings@a432c98]\r\n    2023-10-13T07:10:05.941+05:30 DEBUG 1436 --- [nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.theatreid,t1_0.seatid,t1_0.created,t1_0.modified,t1_0.seatno,t1_0.status from bms.theatreseats t1_0 where t1_0.theatreid=?\r\n    2023-10-13T07:10:05.983+05:30  WARN 1436 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\r\n    \r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n    \tat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n    \tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n    ... \r\n    2023-10-13T07:10:05.989+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)\r\n    2023-10-13T07:10:05.992+05:30 ERROR 1436 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n    \r\n    java.lang.StackOverflowError: null\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]","title":"returning Entity class in response body throws Infinite recursion (StackOverflowError)","body":"<p><strong>Summary</strong></p>\n<p>Using Spring Boot version 3.1.4 and Java version 17, with H2 Embedded database and Spring Data JPA, trying an example implementation of <em>bookmyshow.com</em> API.</p>\n<p>Getting <code>Infinite recursion - Stackoverflow error</code> when hitting the POST endpoint (The controller endpoint is returning <code>ResponseEntity&lt;Bookings&gt;</code> entity as response).</p>\n<pre><code>Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n\njava.lang.StackOverflowError: null\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n</code></pre>\n<p><em>- The entire stack trace is mentioned below</em></p>\n<p>However, if the Controller endpoint is made to return <code>ResponseEntity&lt;String&gt;</code>, there is no exception and it works fine. Why there is this exception when I try to return JPA entity class in response body? How to resolve this?</p>\n<p><strong>POST Request</strong></p>\n<pre><code>curl -X 'POST' \\\n  'https://localhost:8080/api/v1/booking/book-seats' \\\n  -H 'accept: */*' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  &quot;theatreId&quot;: 1,\n  &quot;seatNumbers&quot;: [\n    &quot;1A&quot;\n  ],\n  &quot;showId&quot;: 1,\n  &quot;userId&quot;: 1\n}'\n</code></pre>\n<p>The entire code base can be cloned at <a href=\"https://github.com/vasant-techie/bookmyshow.git\" rel=\"nofollow noreferrer\">https://github.com/vasant-techie/bookmyshow.git</a>.</p>\n<p><strong>Details</strong></p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.profiles.active=dev\n</code></pre>\n<p><strong>application-dev.properties</strong></p>\n<pre><code>debug=true\n\nmanagement.endpoints.web.exposure.include=*\n\n#JPA Configuration\nspring.sql.init.mode=always\nspring.jpa.hibernate.ddl-auto=none\n\n# H2 Configuration\nspring.datasource.url=jdbc:h2:mem:bms\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=bms\nspring.datasource.password=securebms\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\n#spring.h2.console.settings.web-allow-others=true\n\n# https|ssl Configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:certificate.p12\nserver.ssl.key-store-password=1234\n\n# Enable | Disable Security\nsecurity.basic.enabled=true\nmanagement.security.enabled=true\n</code></pre>\n<p><strong>BookingController.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.endpoints;\n\nimport com.bookmyshow.consumer.api.dto.BookingDetails;\nimport com.bookmyshow.consumer.api.entity.Bookings;\nimport com.bookmyshow.consumer.api.service.BookingService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/booking&quot;)\npublic class BookingController {\n\n    private final BookingService bookingService;\n\n    @Autowired\n    public BookingController(BookingService bookingService) {\n        this.bookingService = bookingService;\n    }\n\n    @RequestMapping(path = &quot;/book-seats&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;Bookings&gt; bookSeats(@RequestBody BookingDetails bookingDetails) {\n        Bookings bookings = bookingService.bookSeats(bookingDetails);\n        return ResponseEntity.status(201).body(bookings);\n    }\n}\n</code></pre>\n<p><strong>BookingService.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.service;\n\nimport com.bookmyshow.consumer.api.dto.BookingDetails;\nimport com.bookmyshow.consumer.api.entity.*;\nimport com.bookmyshow.consumer.api.repo.BookingRepository;\nimport com.bookmyshow.consumer.api.repo.SeatBookingsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class BookingService {\n\n    private final BookingRepository bookingRepository;\n    private final SeatBookingsRepository seatBookingsRepository;\n    private final ShowService showService;\n    private final UserService userService;\n    private final TheatreSeatService theatreSeatService;\n\n    @Autowired\n    public BookingService(BookingRepository bookingRepository, SeatBookingsRepository seatBookingsRepository, ShowService showService, UserService userService, TheatreSeatService theatreSeatService) {\n        this.bookingRepository = bookingRepository;\n        this.seatBookingsRepository = seatBookingsRepository;\n        this.showService = showService;\n        this.userService = userService;\n        this.theatreSeatService = theatreSeatService;\n    }\n\n    public Bookings bookSeats(BookingDetails bookingDetails) {\n        Show show = showService.findShowByShowId(bookingDetails.getShowId());\n        Customer user = userService.findByUserId(bookingDetails.getUserId());\n        List&lt;TheatreSeat&gt; theatreSeats = bookingDetails.getSeatNumbers().stream().map(theatreSeatService::findBySeatNo).toList();\n        List&lt;SeatBookings&gt; seatBookings = theatreSeats.stream().map(seat -&gt; new SeatBookings(seat, show)).toList();\n        Bookings bookings = new Bookings(show, user, seatBookings);\n        bookingRepository.save(bookings);\n        // Set the relationship with the booking for each seat booking\n        for (SeatBookings seatBooking : seatBookings) {\n            seatBooking.setBookings(bookings);\n        }\n\n        // Save the seat bookings with the updated relationship\n        seatBookingsRepository.saveAll(seatBookings);\n\n        return bookings;\n    }\n\n}\n</code></pre>\n<p><strong>Bookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class Bookings {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;bookingid&quot;)\n    private Long bookingId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userid&quot;)\n    private Customer user;\n\n    @Transient\n    @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\n    private List&lt;SeatBookings&gt; seatBookings;\n\n    @Column(name = &quot;bookingdate&quot;, nullable = false)\n    private LocalDate bookingDate;\n\n    @Column(name = &quot;amount&quot;, nullable = false)\n    private int amount;\n\n    @Column(name = &quot;created&quot;, nullable = false)\n    private LocalDateTime created;\n\n    @Column(name = &quot;modified&quot;, nullable = false)\n    private LocalDateTime modified;\n\n    public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\n        this.show = show;\n        this.user = user;\n        this.bookingDate = LocalDate.now();\n        this.amount = show.getTicketCost() * seatBookings.size();\n        this.seatBookings = seatBookings;\n        this.created = LocalDateTime.now();\n        this.modified = LocalDateTime.now();\n    }\n}\n</code></pre>\n<p><strong>SeatBookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class SeatBookings {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;seatbookingid&quot;, nullable = false)\n    private Long seatBookingId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;bookingid&quot;)\n    private Bookings bookings;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n    @OneToOne\n    @JoinColumn(name = &quot;seatid&quot;)\n    private TheatreSeat theatreSeat;\n\n    public SeatBookings(TheatreSeat seat, Show show) {\n        this.theatreSeat = seat;\n        this.show = show;\n    }\n}\n</code></pre>\n<p><strong>BookingRepository.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.repo;\n\nimport com.bookmyshow.consumer.api.entity.Bookings;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface BookingRepository extends JpaRepository&lt;Bookings, Long&gt; {\n}\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.4'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.bookmyshow.consumer.api'\nversion = '0.1'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2022.0.4&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<pre><code>2023-10-13T07:10:05.932+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.bookmyshow.consumer.api.entity.Bookings@a432c98]\n2023-10-13T07:10:05.941+05:30 DEBUG 1436 --- [nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.theatreid,t1_0.seatid,t1_0.created,t1_0.modified,t1_0.seatno,t1_0.status from bms.theatreseats t1_0 where t1_0.theatreid=?\n2023-10-13T07:10:05.983+05:30  WARN 1436 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\n\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n    at org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n... \n2023-10-13T07:10:05.989+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)\n2023-10-13T07:10:05.992+05:30 ERROR 1436 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n\njava.lang.StackOverflowError: null\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697118513,"post_id":77280041,"comment_id":136241655,"body_markdown":"Your code shows an ActionListener, which cannot be passed as a TableModelListener (which you probably should use) or as a CellEditorListener (which you probably should not use).  As far as I know, there is no Swing class called TableCellListener.","body":"Your code shows an ActionListener, which cannot be passed as a TableModelListener (which you probably should use) or as a CellEditorListener (which you probably should not use).  As far as I know, there is no Swing class called TableCellListener."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697118775,"post_id":77280041,"comment_id":136241700,"body_markdown":"*it&#39;s giving errors on all lines with the key TableCellListener.* - which is not a standard JDK class. You need to download the class from [Table Cell Listener](https://tips4java.wordpress.com/2009/06/07/table-cell-listener/). However, in this case, you don&#39;t really need to use this class since the type of processing you are doing can be handled by the `TableModelListener` as demonstrated in: https://stackoverflow.com/a/3541876/131872","body":"<i>it&#39;s giving errors on all lines with the key TableCellListener.</i> - which is not a standard JDK class. You need to download the class from <a href=\"https://tips4java.wordpress.com/2009/06/07/table-cell-listener/\" rel=\"nofollow noreferrer\">Table Cell Listener</a>. However, in this case, you don&#39;t really need to use this class since the type of processing you are doing can be handled by the <code>TableModelListener</code> as demonstrated in: <a href=\"https://stackoverflow.com/a/3541876/131872\">stackoverflow.com/a/3541876/131872</a>"}],"answers":[{"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1697182691,"post_id":77280389,"comment_id":136250239,"body_markdown":"@Abra in `getValueAt` and in `setValueAt` where changes are notified for both the cell being modified (by the editor) and the &quot;Total&quot; cell.","body":"@Abra in <code>getValueAt</code> and in <code>setValueAt</code> where changes are notified for both the cell being modified (by the editor) and the &quot;Total&quot; cell."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697185560,"creation_date":1697112050,"answer_id":77280389,"question_id":77280041,"body_markdown":"You need to write a `TableModel`. As stated in [How to Use Tables][1], it is usually appropriate to extend [AbstractTableModel][2], for instance:\r\n\r\n    public class MyTableModel extends AbstractTableModel {\r\n        static class RowModel {\r\n            double firstValue;\r\n            double secondValue;\r\n    \r\n            public RowModel(double firstValue, double secondValue) {\r\n                this.firstValue = firstValue;\r\n                this.secondValue = secondValue;\r\n            }\r\n        };\r\n    \r\n        private final List&lt;RowModel&gt; rows = new ArrayList&lt;&gt;();\r\n    \r\n        public void addRow(double firstValue, double secondValue) {\r\n            int pos = rows.size();\r\n            rows.add(new RowModel(firstValue, secondValue));\r\n            fireTableRowsInserted(pos, pos);\r\n        }\r\n    \r\n        @Override\r\n        public int getRowCount() {\r\n            return rows.size();\r\n        }\r\n    \r\n        @Override\r\n        public int getColumnCount() {\r\n            return 3;\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            switch (columnIndex) {\r\n                case 0:\r\n                case 1:\r\n                case 2:\r\n                    return Double.class;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public String getColumnName(int column) {\r\n            switch (column) {\r\n                case 0:\r\n                    return &quot;First value&quot;;\r\n                case 1:\r\n                    return &quot;Second value&quot;;\r\n                case 2:\r\n                    return &quot;Total&quot;;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\r\n                RowModel row = rows.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return row.firstValue;\r\n                    case 1:\r\n                        return row.secondValue;\r\n                    case 2:\r\n                        return row.firstValue + row.secondValue;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCellEditable(int rowIndex, int columnIndex) {\r\n            return rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()\r\n                    &amp;&amp; columnIndex &gt;= 0 &amp;&amp; columnIndex &lt;= 1;\r\n        }\r\n    \r\n        @Override\r\n        public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\r\n            if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\r\n                RowModel row = rows.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        row.firstValue = toDouble(aValue);\r\n                        fireTableCellUpdated(rowIndex, columnIndex);\r\n                        fireTableCellUpdated(rowIndex, 2);\r\n                        break;\r\n                    case 1:\r\n                        row.secondValue = toDouble(aValue);\r\n                        fireTableCellUpdated(rowIndex, columnIndex);\r\n                        fireTableCellUpdated(rowIndex, 2);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private double toDouble(Object aValue) {\r\n            if (aValue instanceof Number) {\r\n                return ((Number)aValue).doubleValue();\r\n            } else if (aValue instanceof String) {\r\n                try {\r\n                    return Double.parseDouble((String)aValue);\r\n                } catch (NumberFormatException e) {\r\n                    // return 0;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\nThe `JTable` displays the values in the `TableModel` by calling the model&#39;s `getValueAt` method. As you can see, in the above code, that method receives the indexes of a cell in the table and, for the `total` column, it returns the sum of the other two columns.\r\n\r\nYou then create an instance of the model and attach it to the `JTable`:\r\n\r\n    MyTableModel model = new MyTableModel();\r\n    table.setModel(model);\r\n    model.addRow(0,0);\r\n    model.addRow(0,0);\r\n    model.addRow(0,0);\r\n\r\nUPDATE:\r\n\r\nTurns out that the part of `getValueAt` dealing with `rowIndex &lt; 0` is useless.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html","title":"How do I make my JTable cell listen for value changes?","body":"<p>You need to write a <code>TableModel</code>. As stated in <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>, it is usually appropriate to extend <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html\" rel=\"nofollow noreferrer\">AbstractTableModel</a>, for instance:</p>\n<pre><code>public class MyTableModel extends AbstractTableModel {\n    static class RowModel {\n        double firstValue;\n        double secondValue;\n\n        public RowModel(double firstValue, double secondValue) {\n            this.firstValue = firstValue;\n            this.secondValue = secondValue;\n        }\n    };\n\n    private final List&lt;RowModel&gt; rows = new ArrayList&lt;&gt;();\n\n    public void addRow(double firstValue, double secondValue) {\n        int pos = rows.size();\n        rows.add(new RowModel(firstValue, secondValue));\n        fireTableRowsInserted(pos, pos);\n    }\n\n    @Override\n    public int getRowCount() {\n        return rows.size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return 3;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        switch (columnIndex) {\n            case 0:\n            case 1:\n            case 2:\n                return Double.class;\n        }\n        return null;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        switch (column) {\n            case 0:\n                return &quot;First value&quot;;\n            case 1:\n                return &quot;Second value&quot;;\n            case 2:\n                return &quot;Total&quot;;\n        }\n        return null;\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\n            RowModel row = rows.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return row.firstValue;\n                case 1:\n                    return row.secondValue;\n                case 2:\n                    return row.firstValue + row.secondValue;\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public boolean isCellEditable(int rowIndex, int columnIndex) {\n        return rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()\n                &amp;&amp; columnIndex &gt;= 0 &amp;&amp; columnIndex &lt;= 1;\n    }\n\n    @Override\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\n        if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\n            RowModel row = rows.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    row.firstValue = toDouble(aValue);\n                    fireTableCellUpdated(rowIndex, columnIndex);\n                    fireTableCellUpdated(rowIndex, 2);\n                    break;\n                case 1:\n                    row.secondValue = toDouble(aValue);\n                    fireTableCellUpdated(rowIndex, columnIndex);\n                    fireTableCellUpdated(rowIndex, 2);\n                    break;\n            }\n        }\n    }\n\n    private double toDouble(Object aValue) {\n        if (aValue instanceof Number) {\n            return ((Number)aValue).doubleValue();\n        } else if (aValue instanceof String) {\n            try {\n                return Double.parseDouble((String)aValue);\n            } catch (NumberFormatException e) {\n                // return 0;\n            }\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>The <code>JTable</code> displays the values in the <code>TableModel</code> by calling the model's <code>getValueAt</code> method. As you can see, in the above code, that method receives the indexes of a cell in the table and, for the <code>total</code> column, it returns the sum of the other two columns.</p>\n<p>You then create an instance of the model and attach it to the <code>JTable</code>:</p>\n<pre><code>MyTableModel model = new MyTableModel();\ntable.setModel(model);\nmodel.addRow(0,0);\nmodel.addRow(0,0);\nmodel.addRow(0,0);\n</code></pre>\n<p>UPDATE:</p>\n<p>Turns out that the part of <code>getValueAt</code> dealing with <code>rowIndex &lt; 0</code> is useless.</p>\n"}],"owner":{"account_id":29008732,"reputation":9,"user_id":22220657,"display_name":"colts moe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697186038,"creation_date":1697109068,"question_id":77280041,"body_markdown":"I have a `JTable` with 3 columns, namely: `firstvalue`, `secvalue` and `total`. My table is editable, so at runtime my `firstvalue` and `secvalue` columns are initialized with value 0.0. Now the user has to type in a value in any of the 2 column cells and then `total` column in that same row has to display the sum of those 2 numbers without any button being clicked.\r\nI tried using `TableCellLister` but it&#39;s giving errors on all lines with the key _TableCellListener_.\r\nThis is my code:\r\n```java\r\nAction myaction = new AbstractAction()\r\n{\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        TablecellListener tblisten = (TableCellListener)e.getSource();\r\n        int row = tblisten.getRow();\r\n        int col = tblisten.getColumn();\r\n        Integer secondcol = 1;\r\n        Integer totalcol = 2;\r\n        int sum;\r\n        //get value\r\n        Integer fval = (Integer)table.getModel().getValueAt(row, col);\r\n        Integer sval = (Integer)table.getModel().getValueAt(row, scol);\r\n\r\n        //find the sum\r\n\r\n        //set value\r\n        table.setvalueAt(sum,row,totalcol);\r\n    }\r\n}\r\n```\r\nThanks in advance.","title":"How do I make my JTable cell listen for value changes?","body":"<p>I have a <code>JTable</code> with 3 columns, namely: <code>firstvalue</code>, <code>secvalue</code> and <code>total</code>. My table is editable, so at runtime my <code>firstvalue</code> and <code>secvalue</code> columns are initialized with value 0.0. Now the user has to type in a value in any of the 2 column cells and then <code>total</code> column in that same row has to display the sum of those 2 numbers without any button being clicked.\nI tried using <code>TableCellLister</code> but it's giving errors on all lines with the key <em>TableCellListener</em>.\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Action myaction = new AbstractAction()\n{\n    public void actionPerformed(ActionEvent e)\n    {\n        TablecellListener tblisten = (TableCellListener)e.getSource();\n        int row = tblisten.getRow();\n        int col = tblisten.getColumn();\n        Integer secondcol = 1;\n        Integer totalcol = 2;\n        int sum;\n        //get value\n        Integer fval = (Integer)table.getModel().getValueAt(row, col);\n        Integer sval = (Integer)table.getModel().getValueAt(row, scol);\n\n        //find the sum\n\n        //set value\n        table.setvalueAt(sum,row,totalcol);\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","tomcat","servletcontextlistener"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697113848,"post_id":77273517,"comment_id":136240536,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28625143,"reputation":1,"user_id":21917298,"display_name":"Charmi Chavda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697185656,"creation_date":1697030996,"question_id":77273517,"body_markdown":"I am getting memory leak error for transferManager thread for Amazons3Client.\r\n\r\n```\r\n WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [s3-transfer-manager-worker-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n```\r\nWe have a class which has Amazons3Client and TransferManager object defined as static and protected  and initialized it in static block.\r\n\r\n    public class Testing implements StoredFileStrategy{\r\n        protected static AmazonS3Client s3;\r\n        protected static TransferManager xferMgr;\r\n        static {\r\n            ClasspathPropertiesFileCredentialsProvider provider = new ClasspathPropertiesFileCredentialsProvider();\r\n            s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\r\n            s3.setRegion(Region.getRegion(getRegionName()));\r\n            xferMgr = new TransferManager(s3);\r\n        }\r\n       \r\n        public static void shutdownTransferManager(){\r\n            xferMgr.shutdownNow();\r\n        }\r\n    }\r\n\r\nThere is another class that has contextDestroyed method show as below:  \r\n\r\n    @WebListener\r\n    public class AppContextListener implements ServletContextListener \r\n    {\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n            //...some code    \r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n           try { \r\n                com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkedShutdown();         \r\n                com.amazonaws.http.IdleConnectionReaper.shutdown();\r\n                S3StoredFileStrategy.shutdownTransferManager();\r\n                // Thread.sleep(3000);\r\n            } catch (Throwable ex) {\r\n                ex.printStackTrace();\r\n                logger.error(Common.getExceptionMessage(ex));\r\n            }\r\n        }\r\nSo I made a method in that class that calls shutdown() on trasfermanager object. This object is called from contextDestroyed method. But still memoryLeak error on tomcat close is appearing.\r\n\r\nI debugged the code and then added a Thread.sleep() method for 3 second in contextDestroyed method after shutdown call. Then memory leak message disappears.\r\nSo If I uncomment the above code of thread.sleep() resources is shutting down properly and not giving error of memory leak.But I don&#39;t know Why this is working after calling sleep method. \r\nAnd how safe it is to call sleep method in contextDestroyed?\r\nI have multiple threads(Timer, JDBC, etc..) that is giving error of memory leak.\r\n\r\nWhen we stop tomcat all thread will get destroyed but this memory leak threads will not destroy? How should I check that? As jprofiler will only show threads till the time tomcat is running.\r\n\r\nAny help is appreciated. Thank you in advance.","title":"Amazons3Client TransferManager shutdown methof not working in contextDestroyed of jsp servlet project","body":"<p>I am getting memory leak error for transferManager thread for Amazons3Client.</p>\n<pre><code> WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [s3-transfer-manager-worker-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n</code></pre>\n<p>We have a class which has Amazons3Client and TransferManager object defined as static and protected  and initialized it in static block.</p>\n<pre><code>public class Testing implements StoredFileStrategy{\n    protected static AmazonS3Client s3;\n    protected static TransferManager xferMgr;\n    static {\n        ClasspathPropertiesFileCredentialsProvider provider = new ClasspathPropertiesFileCredentialsProvider();\n        s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\n        s3.setRegion(Region.getRegion(getRegionName()));\n        xferMgr = new TransferManager(s3);\n    }\n   \n    public static void shutdownTransferManager(){\n        xferMgr.shutdownNow();\n    }\n}\n</code></pre>\n<p>There is another class that has contextDestroyed method show as below:</p>\n<pre><code>@WebListener\npublic class AppContextListener implements ServletContextListener \n{\n    @Override\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        //...some code    \n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n       try { \n            com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkedShutdown();         \n            com.amazonaws.http.IdleConnectionReaper.shutdown();\n            S3StoredFileStrategy.shutdownTransferManager();\n            // Thread.sleep(3000);\n        } catch (Throwable ex) {\n            ex.printStackTrace();\n            logger.error(Common.getExceptionMessage(ex));\n        }\n    }\n</code></pre>\n<p>So I made a method in that class that calls shutdown() on trasfermanager object. This object is called from contextDestroyed method. But still memoryLeak error on tomcat close is appearing.</p>\n<p>I debugged the code and then added a Thread.sleep() method for 3 second in contextDestroyed method after shutdown call. Then memory leak message disappears.\nSo If I uncomment the above code of thread.sleep() resources is shutting down properly and not giving error of memory leak.But I don't know Why this is working after calling sleep method.\nAnd how safe it is to call sleep method in contextDestroyed?\nI have multiple threads(Timer, JDBC, etc..) that is giving error of memory leak.</p>\n<p>When we stop tomcat all thread will get destroyed but this memory leak threads will not destroy? How should I check that? As jprofiler will only show threads till the time tomcat is running.</p>\n<p>Any help is appreciated. Thank you in advance.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9790,"page":127,"page_size":100}
