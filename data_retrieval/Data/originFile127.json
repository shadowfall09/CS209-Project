{"items":[{"tags":["java","file-upload","multipartform-data","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1690340329,"post_id":76754417,"comment_id":135338332,"body_markdown":"What kind of error are you getting? Can you upgrade RESTEasy? That&#39;s a very old unsupported version.","body":"What kind of error are you getting? Can you upgrade RESTEasy? That&#39;s a very old unsupported version."}],"answers":[{"tags":[],"owner":{"account_id":14193401,"reputation":478,"user_id":10253346,"display_name":"Musa Baloyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697152104,"creation_date":1697152104,"answer_id":77284254,"question_id":76754417,"body_markdown":"Here&#39;s a fix for the above,\r\n\r\n`MultipartFormData formdata = new MultipartFormData();\r\nformData.addFormData(&quot;file&quot;, new ByteArrayInputStream(content.getBytes(), MediaType.MULTIPART_FORM_DATA_TYPE, fileName, true);\r\nEntity&lt;MultiPartFormDataOutput&gt; entity = Entity.entity(formData, MediaType.MULTIPART_FORM_DATA);\r\n`\r\n\r\nThen post with entity","title":"springboot RestApi file/image upload, consuming with RESTeasy","body":"<p>Here's a fix for the above,</p>\n<p><code>MultipartFormData formdata = new MultipartFormData(); formData.addFormData(&quot;file&quot;, new ByteArrayInputStream(content.getBytes(), MediaType.MULTIPART_FORM_DATA_TYPE, fileName, true); Entity&lt;MultiPartFormDataOutput&gt; entity = Entity.entity(formData, MediaType.MULTIPART_FORM_DATA); </code></p>\n<p>Then post with entity</p>\n"}],"owner":{"account_id":14193401,"reputation":478,"user_id":10253346,"display_name":"Musa Baloyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697152104,"creation_date":1690200951,"question_id":76754417,"body_markdown":"I am trying to consume a Springboot File upload api, that takes in a MultipartFile... via RESTeasy    with packages resteasy-client:3.9.1.final &amp;&amp; resteasy-multipart-provider:3.9.1.final.\r\n\r\nHowever i am failing to get the implementation right. Any Suggestions\r\n\r\n\r\n\r\nHere&#39;s an example of how the code looks like\r\n\r\n\r\n`WebTarget target = ClientBuilder.newClient().target(&quot;url&quot;);\r\nMultipartFormDataOutput formData = new MultipartFormDataOutput();\r\nbyte[] fileContent = request.getContent().getBytes[];\r\n\r\nformData.addFormData(&quot;image&quot;, new ByteArrayInputStream(fileContent), MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n  Entity&lt;MultipartFormDataOutput&gt; entity = Entity.entity(formData, \r\n  MediaType.MULTIPART_FORM_DATA);\r\n  Response response = target.request().post(entity);`","title":"springboot RestApi file/image upload, consuming with RESTeasy","body":"<p>I am trying to consume a Springboot File upload api, that takes in a MultipartFile... via RESTeasy    with packages resteasy-client:3.9.1.final &amp;&amp; resteasy-multipart-provider:3.9.1.final.</p>\n<p>However i am failing to get the implementation right. Any Suggestions</p>\n<p>Here's an example of how the code looks like</p>\n<p>`WebTarget target = ClientBuilder.newClient().target(&quot;url&quot;);\nMultipartFormDataOutput formData = new MultipartFormDataOutput();\nbyte[] fileContent = request.getContent().getBytes[];</p>\n<p>formData.addFormData(&quot;image&quot;, new ByteArrayInputStream(fileContent), MediaType.APPLICATION_OCTET_STREAM_TYPE);\nEntity entity = Entity.entity(formData,\nMediaType.MULTIPART_FORM_DATA);\nResponse response = target.request().post(entity);`</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"score":3,"creation_date":1341598578,"post_id":4278083,"comment_id":14976927,"body_markdown":"possible duplicate of [What&#39;s the difference between getRequestURI and getPathInfo methods in HttpServletRequest?](http://stackoverflow.com/questions/4931323/whats-the-difference-between-getrequesturi-and-getpathinfo-methods-in-httpservl)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4931323/whats-the-difference-between-getrequesturi-and-getpathinfo-methods-in-httpservl\">What&#39;s the difference between getRequestURI and getPathInfo methods in HttpServletRequest?</a>"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1290695418,"creation_date":1290695418,"answer_id":4278113,"question_id":4278083,"body_markdown":"A way to do this is to rest the servelet context path from request URI.\r\n\r\n    String p = request.getRequestURI();\r\n    String cp = getServletContext().getContextPath();\r\n    \r\n    if (p.startsWith(cp)) {\r\n      String.err.println(p.substring(cp.length());\r\n    }\r\n\r\nRead [here][1] .\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html#getContextPath%28%29","title":"How to get request URI without context path?","body":"<p>A way to do this is to rest the servelet context path from request URI.</p>\n\n<pre><code>String p = request.getRequestURI();\nString cp = getServletContext().getContextPath();\n\nif (p.startsWith(cp)) {\n  String.err.println(p.substring(cp.length());\n}\n</code></pre>\n\n<p>Read <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html#getContextPath%28%29\" rel=\"noreferrer\">here</a> .</p>\n"},{"tags":[],"owner":{"account_id":245008,"reputation":551,"user_id":518243,"display_name":"Colin"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1290695498,"creation_date":1290695498,"answer_id":4278131,"question_id":4278083,"body_markdown":"May be you can just use the split method to eliminate the &#39;/myapp&#39;\r\nfor example:\r\n\r\n    string[] uris=request.getRequestURI().split(&quot;/&quot;);\r\n    string uri=&quot;/&quot;+uri[1]+&quot;/&quot;+uris[2];\r\n","title":"How to get request URI without context path?","body":"<p>May be you can just use the split method to eliminate the '/myapp'\nfor example:</p>\n\n<pre><code>string[] uris=request.getRequestURI().split(\"/\");\nstring uri=\"/\"+uri[1]+\"/\"+uris[2];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23913,"reputation":5431,"user_id":60381,"display_name":"fforw"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1290695647,"creation_date":1290695647,"answer_id":4278159,"question_id":4278083,"body_markdown":"    request.getRequestURI().substring(request.getContextPath().length())","title":"How to get request URI without context path?","body":"<pre><code>request.getRequestURI().substring(request.getContextPath().length())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":4,"up_vote_count":182,"is_accepted":true,"score":178,"last_activity_date":1601463396,"creation_date":1290696449,"answer_id":4278284,"question_id":4278083,"body_markdown":"If you&#39;re inside a front contoller servlet which is mapped on a prefix pattern such as `/foo/*`, then you can just use [`HttpServletRequest#getPathInfo()`][1].\r\n\r\n    String pathInfo = request.getPathInfo();\r\n    // ...\r\n\r\nAssuming that the servlet in your example is mapped on `/secure/*`, then this will return `/users` which would be the information of sole interest inside a typical front controller servlet.\r\n\r\nIf the servlet is however mapped on a suffix pattern such as `*.foo` (your URL examples however does not indicate that this is the case), or when you&#39;re actually inside a filter (when the to-be-invoked servlet is not necessarily determined yet, so `getPathInfo()` could return `null`), then your best bet is to substring the request URI yourself based on the context path&#39;s length using the usual `String` method:\r\n\r\n    HttpServletRequest request = (HttpServletRequest) req;\r\n    String path = request.getRequestURI().substring(request.getContextPath().length());\r\n    // ...\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29","title":"How to get request URI without context path?","body":"<p>If you're inside a front contoller servlet which is mapped on a prefix pattern such as <code>/foo/*</code>, then you can just use <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29\" rel=\"noreferrer\"><code>HttpServletRequest#getPathInfo()</code></a>.</p>\n<pre><code>String pathInfo = request.getPathInfo();\n// ...\n</code></pre>\n<p>Assuming that the servlet in your example is mapped on <code>/secure/*</code>, then this will return <code>/users</code> which would be the information of sole interest inside a typical front controller servlet.</p>\n<p>If the servlet is however mapped on a suffix pattern such as <code>*.foo</code> (your URL examples however does not indicate that this is the case), or when you're actually inside a filter (when the to-be-invoked servlet is not necessarily determined yet, so <code>getPathInfo()</code> could return <code>null</code>), then your best bet is to substring the request URI yourself based on the context path's length using the usual <code>String</code> method:</p>\n<pre><code>HttpServletRequest request = (HttpServletRequest) req;\nString path = request.getRequestURI().substring(request.getContextPath().length());\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1297077775,"creation_date":1297077775,"answer_id":4920692,"question_id":4278083,"body_markdown":"getPathInfo() sometimes return null. In documentation [HttpServletRequest][1]\r\n\r\n&gt; This method returns null if there was no extra path information. \r\n\r\nI need get path to file without context path in Filter and getPathInfo() return me null. So I use another method: httpRequest.getServletPath()\r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\r\n    {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\r\n        String newPath = parsePathToFile(httpRequest.getServletPath());\r\n        ...\r\n\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29","title":"How to get request URI without context path?","body":"<p>getPathInfo() sometimes return null. In documentation <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29\" rel=\"noreferrer\">HttpServletRequest</a></p>\n\n<blockquote>\n  <p>This method returns null if there was no extra path information. </p>\n</blockquote>\n\n<p>I need get path to file without context path in Filter and getPathInfo() return me null. So I use another method: httpRequest.getServletPath()</p>\n\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\n{\n    HttpServletRequest httpRequest = (HttpServletRequest) request;\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\n\n    String newPath = parsePathToFile(httpRequest.getServletPath());\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91505,"reputation":2144,"user_id":251185,"display_name":"thetoolman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1318988337,"creation_date":1318988337,"answer_id":7815651,"question_id":4278083,"body_markdown":"If you use request.getPathInfo() inside a Filter, you always seem to get null (at least with jetty). \r\n\r\nThis terse invalid bug + response alludes to the issue I think:\r\n\r\n[https://issues.apache.org/bugzilla/show_bug.cgi?id=28323][1]\r\n\r\nI suspect it is related to the fact that filters run before the servlet gets the request.  It may be a container bug, or expected behaviour that I haven&#39;t been able to identify. \r\n\r\nThe contextPath is available though, so fforws solution works even in filters.  I don&#39;t like having to do it by hand, but the implementation is broken or \r\n\r\n\r\n\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=28323","title":"How to get request URI without context path?","body":"<p>If you use request.getPathInfo() inside a Filter, you always seem to get null (at least with jetty). </p>\n\n<p>This terse invalid bug + response alludes to the issue I think:</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=28323\" rel=\"noreferrer\">https://issues.apache.org/bugzilla/show_bug.cgi?id=28323</a></p>\n\n<p>I suspect it is related to the fact that filters run before the servlet gets the request.  It may be a container bug, or expected behaviour that I haven't been able to identify. </p>\n\n<p>The contextPath is available though, so fforws solution works even in filters.  I don't like having to do it by hand, but the implementation is broken or </p>\n"},{"tags":[],"owner":{"account_id":107251,"reputation":11844,"user_id":285288,"accept_rate":64,"display_name":"James"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1405085129,"creation_date":1405085129,"answer_id":24698873,"question_id":4278083,"body_markdown":"With Spring you can do:\r\n\r\n    String path = new UrlPathHelper().getPathWithinApplication(request);","title":"How to get request URI without context path?","body":"<p>With Spring you can do:</p>\n\n<pre><code>String path = new UrlPathHelper().getPathWithinApplication(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697151885,"creation_date":1697151885,"answer_id":77284245,"question_id":4278083,"body_markdown":"# Short Answer #\r\n\r\n```\r\nString requestUriWithinApp = req.getPathInfo() == null\r\n        ? req.getServletPath()\r\n        : req.getServletPath() + req.getPathInfo();\r\n```\r\n\r\n`ServletPath` gets the part of the URL that calls the servlet. And \r\n`PathInfo`returns any extra path information associated with the URL the client sent when it made this request. `PathInfo` may be null, depending on the URL used by the client.\r\n\r\nFor a more complete URI, you could also include the queryString. You could then use:\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\nsb.append(req.getServletPath());\r\nif (req.getPathInfo() != null) {\r\n    sb.append(req.getPathInfo());\r\n}\r\nif (req.getQueryString() != null) {\r\n    sb.append(&quot;?&quot;).append(req.getQueryString());\r\n}\r\n```\r\n\r\n\r\n# Additional info #\r\n\r\nThe formula of the requestURI is:\r\n\r\n&gt; requestURI = contextPath + servletPath + pathInfo\r\n\r\nIn your question you don&#39;t want to use the `contextPath`, so you need:\r\n\r\n&gt; servletPath + pathInfo\r\n\r\nFor example, if you have:\r\n\r\n* a webapp context at `/catalog` and\r\n* a `GardenServlet` for pattern `/garden/*` and \r\n* a request send by the client for `/catalog/lawn/index.html`\r\n* then the `pathInfo` is `/index.html`\r\n\r\nThis example is described in more detail in [Servlet Specification - 3.6 Request Path Elements][1].\r\n\r\nThe documentation of [Tuckey&#39;s UrlRewriteFilter][2] contains a more complete example of how the URL is composed in a ServletRequest.\r\n\r\n```\r\n    // http://hostname.com:80/mywebapp/servlet/MyServlet/a/b;c=123?d=789\r\n    public static String getUrl(HttpServletRequest req) {\r\n        String scheme = req.getScheme();             // http\r\n        String serverName = req.getServerName();     // hostname.com\r\n        int serverPort = req.getServerPort();        // 80\r\n        String contextPath = req.getContextPath();   // /mywebapp\r\n        String servletPath = req.getServletPath();   // /servlet/MyServlet\r\n        String pathInfo = req.getPathInfo();         // /a/b;c=123\r\n        String queryString = req.getQueryString();   // d=789\r\n\r\n        // Reconstruct original requesting URL\r\n        String url = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath + servletPath;\r\n        if (pathInfo != null) {\r\n            url += pathInfo;\r\n        }\r\n        if (queryString != null) {\r\n            url += &quot;?&quot; + queryString;\r\n        }\r\n        return url;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/6.0/jakarta-servlet-spec-6.0.html#request-uri-path-processing\r\n  [2]: https://github.com/paultuckey/urlrewritefilter/blob/main/src/doc/manual/5.0/introduction.html","title":"How to get request URI without context path?","body":"<h1>Short Answer</h1>\n<pre><code>String requestUriWithinApp = req.getPathInfo() == null\n        ? req.getServletPath()\n        : req.getServletPath() + req.getPathInfo();\n</code></pre>\n<p><code>ServletPath</code> gets the part of the URL that calls the servlet. And\n<code>PathInfo</code>returns any extra path information associated with the URL the client sent when it made this request. <code>PathInfo</code> may be null, depending on the URL used by the client.</p>\n<p>For a more complete URI, you could also include the queryString. You could then use:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(req.getServletPath());\nif (req.getPathInfo() != null) {\n    sb.append(req.getPathInfo());\n}\nif (req.getQueryString() != null) {\n    sb.append(&quot;?&quot;).append(req.getQueryString());\n}\n</code></pre>\n<h1>Additional info</h1>\n<p>The formula of the requestURI is:</p>\n<blockquote>\n<p>requestURI = contextPath + servletPath + pathInfo</p>\n</blockquote>\n<p>In your question you don't want to use the <code>contextPath</code>, so you need:</p>\n<blockquote>\n<p>servletPath + pathInfo</p>\n</blockquote>\n<p>For example, if you have:</p>\n<ul>\n<li>a webapp context at <code>/catalog</code> and</li>\n<li>a <code>GardenServlet</code> for pattern <code>/garden/*</code> and</li>\n<li>a request send by the client for <code>/catalog/lawn/index.html</code></li>\n<li>then the <code>pathInfo</code> is <code>/index.html</code></li>\n</ul>\n<p>This example is described in more detail in <a href=\"https://jakarta.ee/specifications/servlet/6.0/jakarta-servlet-spec-6.0.html#request-uri-path-processing\" rel=\"nofollow noreferrer\">Servlet Specification - 3.6 Request Path Elements</a>.</p>\n<p>The documentation of <a href=\"https://github.com/paultuckey/urlrewritefilter/blob/main/src/doc/manual/5.0/introduction.html\" rel=\"nofollow noreferrer\">Tuckey's UrlRewriteFilter</a> contains a more complete example of how the URL is composed in a ServletRequest.</p>\n<pre><code>    // http://hostname.com:80/mywebapp/servlet/MyServlet/a/b;c=123?d=789\n    public static String getUrl(HttpServletRequest req) {\n        String scheme = req.getScheme();             // http\n        String serverName = req.getServerName();     // hostname.com\n        int serverPort = req.getServerPort();        // 80\n        String contextPath = req.getContextPath();   // /mywebapp\n        String servletPath = req.getServletPath();   // /servlet/MyServlet\n        String pathInfo = req.getPathInfo();         // /a/b;c=123\n        String queryString = req.getQueryString();   // d=789\n\n        // Reconstruct original requesting URL\n        String url = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath + servletPath;\n        if (pathInfo != null) {\n            url += pathInfo;\n        }\n        if (queryString != null) {\n            url += &quot;?&quot; + queryString;\n        }\n        return url;\n    }\n</code></pre>\n"}],"owner":{"account_id":54312,"reputation":15263,"user_id":162461,"accept_rate":81,"display_name":"craftsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314083,"favorite_count":0,"down_vote_count":0,"up_vote_count":152,"accepted_answer_id":4278284,"answer_count":8,"score":152,"last_activity_date":1697151885,"creation_date":1290695188,"question_id":4278083,"body_markdown":"The Method [request.getRequestURI()][1] returns URI with context path. \r\n\r\nFor example, if the base URL of an application is `http://localhost:8080/myapp/` (i.e. the context path is **myapp**), and I call `request.getRequestURI()` for `http://localhost:8080/myapp/secure/users`, it will return `/myapp/secure/users`. \r\n\r\nIs there any way we can get only this part `/secure/users`, i.e. the URI without context path?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURI%28%29","title":"How to get request URI without context path?","body":"<p>The Method <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURI%28%29\" rel=\"noreferrer\">request.getRequestURI()</a> returns URI with context path. </p>\n\n<p>For example, if the base URL of an application is <code>http://localhost:8080/myapp/</code> (i.e. the context path is <strong>myapp</strong>), and I call <code>request.getRequestURI()</code> for <code>http://localhost:8080/myapp/secure/users</code>, it will return <code>/myapp/secure/users</code>. </p>\n\n<p>Is there any way we can get only this part <code>/secure/users</code>, i.e. the URI without context path?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697150368,"post_id":77284051,"comment_id":136247268,"body_markdown":"I’m guessing these 25,000 panels do not contain any input fields, since no human user could possibly deal with that many.  If that’s the case, and if everyone of these 25,000 panels is expected to have the same size, you can make this lightning-fast by making just one instance of a subclass of JPanel, with an overridden paintComponent method, instead of creating and adding so many child components.","body":"I’m guessing these 25,000 panels do not contain any input fields, since no human user could possibly deal with that many.  If that’s the case, and if everyone of these 25,000 panels is expected to have the same size, you can make this lightning-fast by making just one instance of a subclass of JPanel, with an overridden paintComponent method, instead of creating and adding so many child components."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697151385,"post_id":77284051,"comment_id":136247382,"body_markdown":"Don&#39;t create 25K components. Instead you should be using a JTable or JList to display the data. *I also looked at SwingWorker, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.* - so you use the &quot;doInBackground&quot; method to create the child components. Then you &quot;publish&quot; the component once you have finished creating it. This is exactly the reason for using a SwingWorker. That is to remove a long running task from the EDT.","body":"Don&#39;t create 25K components. Instead you should be using a JTable or JList to display the data. <i>I also looked at SwingWorker, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.</i> - so you use the &quot;doInBackground&quot; method to create the child components. Then you &quot;publish&quot; the component once you have finished creating it. This is exactly the reason for using a SwingWorker. That is to remove a long running task from the EDT."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697151460,"post_id":77284051,"comment_id":136247391,"body_markdown":"Leverage _flyweight_ rendering like the examples examined [here](https://stackoverflow.com/a/11179669/230513).","body":"Leverage <i>flyweight</i> rendering like the examples examined <a href=\"https://stackoverflow.com/a/11179669/230513\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697149218,"creation_date":1697149218,"answer_id":77284116,"question_id":77284051,"body_markdown":" - When you call `SwingUtilities.invokeLater(() -&gt;` that will run the code inside the EDT (Event Dispatch Thread) which is responsible for updating the UI.\r\n\r\n - So while that keeps running (your code running inside the EDT), no GUI will be updated.\r\n\r\n - So, you can construct GUI elements in normal threads (other that the EDT), as long as they&#39;re not displayed. BUT keep in mind to only access those elements from that one and same thread!\r\n\r\n - As soon as you&#39;re done and want to display it, let the EDT have it\r\n\r\n=&gt; So, utilize that, do the construction outside, and only put things into the EDT that are &quot;ready to go&quot;:\r\n\r\n\r\n    package stackoverflow.gui.edt.bigpanels;\r\n    \r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\t// preparation\r\n    \t\tfinal JFrame frame = new JFrame();\r\n    \t\tfinal Container contentPane = frame.getContentPane();\r\n    \t\tcontentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tfinal JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\r\n    \t\tcontentPane.add(loadingLabel);\r\n    \r\n    \t\t// start GUI\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t\t// adding big components and show progress\r\n    \t\tfor (int i = 1; i &lt;= 5; i++) {\r\n    \t\t\tfinal int showIndex = i;\r\n    \t\t\tfinal long time = System.currentTimeMillis();\r\n    \t\t\tfinal JPanel newBigLabel = getBigJPanel();\r\n    \t\t\tSystem.out.println(&quot;time &lt;i=&quot; + showIndex + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\r\n    \t\t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \t\t\t\tcontentPane.add(newBigLabel);\r\n    \t\t\t\tloadingLabel.setText(&quot;Loading &quot; + showIndex + &quot;/5&quot;);\r\n    \t\t\t\tcontentPane.revalidate();\r\n    \t\t\t\tcontentPane.repaint();\r\n    \t\t\t});\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static JPanel getBigJPanel() {\r\n    \t\tfinal JPanel panel = new JPanel();\r\n    \t\tpanel.setPreferredSize(new Dimension(300, 300));\r\n    \t\tfor (int i = 0; i &lt; 25_000; i++) {\r\n    \t\t\tpanel.add(new JPanel());\r\n    \t\t}\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }","title":"Updating Java-Swing GUI in-between adding very big components","body":"<ul>\n<li><p>When you call <code>SwingUtilities.invokeLater(() -&gt;</code> that will run the code inside the EDT (Event Dispatch Thread) which is responsible for updating the UI.</p>\n</li>\n<li><p>So while that keeps running (your code running inside the EDT), no GUI will be updated.</p>\n</li>\n<li><p>So, you can construct GUI elements in normal threads (other that the EDT), as long as they're not displayed. BUT keep in mind to only access those elements from that one and same thread!</p>\n</li>\n<li><p>As soon as you're done and want to display it, let the EDT have it</p>\n</li>\n</ul>\n<p>=&gt; So, utilize that, do the construction outside, and only put things into the EDT that are &quot;ready to go&quot;:</p>\n<pre><code>package stackoverflow.gui.edt.bigpanels;\n\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    public static void main(final String[] args) {\n        // preparation\n        final JFrame frame = new JFrame();\n        final Container contentPane = frame.getContentPane();\n        contentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\n        final JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\n        contentPane.add(loadingLabel);\n\n        // start GUI\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        // adding big components and show progress\n        for (int i = 1; i &lt;= 5; i++) {\n            final int showIndex = i;\n            final long time = System.currentTimeMillis();\n            final JPanel newBigLabel = getBigJPanel();\n            System.out.println(&quot;time &lt;i=&quot; + showIndex + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\n            SwingUtilities.invokeLater(() -&gt; {\n                contentPane.add(newBigLabel);\n                loadingLabel.setText(&quot;Loading &quot; + showIndex + &quot;/5&quot;);\n                contentPane.revalidate();\n                contentPane.repaint();\n            });\n        }\n    }\n\n    private static JPanel getBigJPanel() {\n        final JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(300, 300));\n        for (int i = 0; i &lt; 25_000; i++) {\n            panel.add(new JPanel());\n        }\n        return panel;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697151614,"creation_date":1697151614,"answer_id":77284233,"question_id":77284051,"body_markdown":"Swing is single threaded and not thread safe.  This means that you shouldn&#39;t be performing long running/blocking operations within the context of the event dispatching thread and you shouldn&#39;t be updating the UI or state the UI relies on from out side the context of the Event Dispatching Thread.\r\n\r\nSo, the problem is not know exactly why you&#39;re trying to do what you&#39;re doing.\r\n\r\nIf, for example, if you&#39;re trying to load data in the background, which you want to then display to the UI, an overall better solution would be to decouple your UI from your data/data management.\r\n\r\nThis means that you can load/process the data in a seperate thread(s), which allows the your UI to remain responsive.  The issue then becomes safely passing the data back to the Event Dispatching Thread context.  Again, multiple ways you might do this, but the simplest solution would be make use of a `SwingWorker`. \r\n\r\nThis would allow to &quot;do work&quot; in the background and provides capabilities to sync the updates back to the EDT.\r\n\r\nFor example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private JLabel progressLabel = new JLabel(&quot;...&quot;);\r\n            private JPanel containerPane = new JPanel(new GridBagLayout());\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                JPanel headerPane = new JPanel(new GridBagLayout());\r\n                add(headerPane, BorderLayout.NORTH);\r\n\r\n                add(new JScrollPane(containerPane));\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                headerPane.add(progressLabel, gbc);\r\n\r\n                JButton btn = new JButton(&quot;Make it so&quot;);\r\n                headerPane.add(btn, gbc);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        progressLabel.setText(&quot;...&quot;);\r\n                        containerPane.removeAll();\r\n                        btn.setEnabled(false);\r\n\r\n                        SwingWorker worker = new SwingWorker&lt;Object, Object&gt;() {\r\n                            @Override\r\n                            protected Object doInBackground() throws Exception {\r\n                                for (int index = 0; index &lt; 5; index++) {\r\n                                    // This is just simulation of work\r\n                                    // taking time to run\r\n                                    Thread.sleep(500);\r\n                                    setProgress(index);\r\n                                    publish(index);\r\n                                }\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            protected void process(List&lt;Object&gt; chunks) {\r\n                                containerPane.add(new BigPane());\r\n                                containerPane.revalidate();\r\n                                containerPane.repaint();\r\n                            }\r\n                        };\r\n                        worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                            @Override\r\n                            public void propertyChange(PropertyChangeEvent evt) {\r\n                                if (!(evt.getSource() instanceof SwingWorker)) {\r\n                                    return;\r\n                                }\r\n                                SwingWorker worker = (SwingWorker) evt.getSource();\r\n                                String propertyName = evt.getPropertyName();\r\n                                if (&quot;state&quot;.equals(propertyName) &amp;&amp; worker.isDone()) {\r\n                                    btn.setEnabled(true);\r\n                                } else if (&quot;progress&quot;.equals(propertyName)) {\r\n                                    progressLabel.setText(Integer.toString(worker.getProgress()));\r\n                                }\r\n                            }\r\n                        });\r\n                        worker.execute();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class BigPane extends JPanel {\r\n            public BigPane() {\r\n                setBackground(Color.RED);\r\n                setBorder(new LineBorder(Color.DARK_GRAY));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(100, 100);\r\n            }\r\n        }\r\n    }\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details\r\n\r\nIf, on the other hand, you just want to display some type of animation, I&#39;d probably just make use of a Swing `Timer` instead, for example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private JLabel progressLabel = new JLabel(&quot;...&quot;);\r\n            private JPanel containerPane = new JPanel(new GridBagLayout());\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                JPanel headerPane = new JPanel(new GridBagLayout());\r\n                add(headerPane, BorderLayout.NORTH);\r\n\r\n                add(new JScrollPane(containerPane));\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                headerPane.add(progressLabel, gbc);\r\n\r\n                JButton btn = new JButton(&quot;Make it so&quot;);\r\n                headerPane.add(btn, gbc);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        progressLabel.setText(&quot;...&quot;);\r\n                        containerPane.removeAll();\r\n                        btn.setEnabled(false);\r\n\r\n                        Timer timer = new Timer(500, new ActionListener() {\r\n                            private int count = -1;\r\n\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                count++;\r\n                                if (count == 4) {\r\n                                    btn.setEnabled(false);\r\n                                    ((Timer) (e.getSource())).stop();\r\n                                }\r\n                                progressLabel.setText(Integer.toString(count + 1));\r\n                                containerPane.add(new BigPane());\r\n                                containerPane.revalidate();\r\n                                containerPane.repaint();\r\n                            }\r\n                        });\r\n                        timer.setInitialDelay(500);\r\n                        timer.start();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class BigPane extends JPanel {\r\n            public BigPane() {\r\n                setBackground(Color.RED);\r\n                setBorder(new LineBorder(Color.DARK_GRAY));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(100, 100);\r\n            }\r\n        }\r\n    }\r\n\r\nTake a look at [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details","title":"Updating Java-Swing GUI in-between adding very big components","body":"<p>Swing is single threaded and not thread safe.  This means that you shouldn't be performing long running/blocking operations within the context of the event dispatching thread and you shouldn't be updating the UI or state the UI relies on from out side the context of the Event Dispatching Thread.</p>\n<p>So, the problem is not know exactly why you're trying to do what you're doing.</p>\n<p>If, for example, if you're trying to load data in the background, which you want to then display to the UI, an overall better solution would be to decouple your UI from your data/data management.</p>\n<p>This means that you can load/process the data in a seperate thread(s), which allows the your UI to remain responsive.  The issue then becomes safely passing the data back to the Event Dispatching Thread context.  Again, multiple ways you might do this, but the simplest solution would be make use of a <code>SwingWorker</code>.</p>\n<p>This would allow to &quot;do work&quot; in the background and provides capabilities to sync the updates back to the EDT.</p>\n<p>For example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingWorker;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private JLabel progressLabel = new JLabel(&quot;...&quot;);\n        private JPanel containerPane = new JPanel(new GridBagLayout());\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            JPanel headerPane = new JPanel(new GridBagLayout());\n            add(headerPane, BorderLayout.NORTH);\n\n            add(new JScrollPane(containerPane));\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            headerPane.add(progressLabel, gbc);\n\n            JButton btn = new JButton(&quot;Make it so&quot;);\n            headerPane.add(btn, gbc);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    progressLabel.setText(&quot;...&quot;);\n                    containerPane.removeAll();\n                    btn.setEnabled(false);\n\n                    SwingWorker worker = new SwingWorker&lt;Object, Object&gt;() {\n                        @Override\n                        protected Object doInBackground() throws Exception {\n                            for (int index = 0; index &lt; 5; index++) {\n                                // This is just simulation of work\n                                // taking time to run\n                                Thread.sleep(500);\n                                setProgress(index);\n                                publish(index);\n                            }\n                            return null;\n                        }\n\n                        @Override\n                        protected void process(List&lt;Object&gt; chunks) {\n                            containerPane.add(new BigPane());\n                            containerPane.revalidate();\n                            containerPane.repaint();\n                        }\n                    };\n                    worker.addPropertyChangeListener(new PropertyChangeListener() {\n                        @Override\n                        public void propertyChange(PropertyChangeEvent evt) {\n                            if (!(evt.getSource() instanceof SwingWorker)) {\n                                return;\n                            }\n                            SwingWorker worker = (SwingWorker) evt.getSource();\n                            String propertyName = evt.getPropertyName();\n                            if (&quot;state&quot;.equals(propertyName) &amp;&amp; worker.isDone()) {\n                                btn.setEnabled(true);\n                            } else if (&quot;progress&quot;.equals(propertyName)) {\n                                progressLabel.setText(Integer.toString(worker.getProgress()));\n                            }\n                        }\n                    });\n                    worker.execute();\n                }\n            });\n        }\n    }\n\n    public class BigPane extends JPanel {\n        public BigPane() {\n            setBackground(Color.RED);\n            setBorder(new LineBorder(Color.DARK_GRAY));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(100, 100);\n        }\n    }\n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details</p>\n<p>If, on the other hand, you just want to display some type of animation, I'd probably just make use of a Swing <code>Timer</code> instead, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.Timer;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private JLabel progressLabel = new JLabel(&quot;...&quot;);\n        private JPanel containerPane = new JPanel(new GridBagLayout());\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            JPanel headerPane = new JPanel(new GridBagLayout());\n            add(headerPane, BorderLayout.NORTH);\n\n            add(new JScrollPane(containerPane));\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            headerPane.add(progressLabel, gbc);\n\n            JButton btn = new JButton(&quot;Make it so&quot;);\n            headerPane.add(btn, gbc);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    progressLabel.setText(&quot;...&quot;);\n                    containerPane.removeAll();\n                    btn.setEnabled(false);\n\n                    Timer timer = new Timer(500, new ActionListener() {\n                        private int count = -1;\n\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            count++;\n                            if (count == 4) {\n                                btn.setEnabled(false);\n                                ((Timer) (e.getSource())).stop();\n                            }\n                            progressLabel.setText(Integer.toString(count + 1));\n                            containerPane.add(new BigPane());\n                            containerPane.revalidate();\n                            containerPane.repaint();\n                        }\n                    });\n                    timer.setInitialDelay(500);\n                    timer.start();\n                }\n            });\n        }\n    }\n\n    public class BigPane extends JPanel {\n        public BigPane() {\n            setBackground(Color.RED);\n            setBorder(new LineBorder(Color.DARK_GRAY));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(100, 100);\n        }\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details</p>\n"}],"owner":{"account_id":29659580,"reputation":1,"user_id":22731494,"display_name":"glasergl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697151614,"creation_date":1697148090,"question_id":77284051,"body_markdown":"I am facing the problem that I want to add several big components (each big component = 15k JPanel with each 10 JLabel) to a JFrame. After each big component has been added, I want to update a label that shows a counter of how many of these big components has already been added.\r\n\r\nHere is a small example which should illustrate the problem:\r\n\r\n```lang-java\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            // preparation\r\n            final JFrame frame = new JFrame();\r\n            final Container contentPane = frame.getContentPane();\r\n            contentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n            final JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\r\n            contentPane.add(loadingLabel);\r\n\r\n            // start GUI\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n\r\n            // adding big components and show progress\r\n            for (int i = 1; i &lt;= 5; i++) {\r\n                final long time = System.currentTimeMillis();\r\n                contentPane.add(getBigJPanel());\r\n                System.out.println(&quot;time &lt;i=&quot; + i + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\r\n                loadingLabel.setText(&quot;Loading &quot; + i + &quot;/5&quot;);\r\n                contentPane.revalidate();\r\n                contentPane.repaint();\r\n            }\r\n        });\r\n    }\r\n\r\n    private static JPanel getBigJPanel() {\r\n        final JPanel panel = new JPanel();\r\n        panel.setPreferredSize(new Dimension(300, 300));\r\n        for (int i = 0; i &lt; 25_000; i++) {\r\n            panel.add(new JPanel());\r\n        }\r\n        return panel;\r\n    }\r\n\r\n}\r\n```\r\nI have the label `loadingLabel` which should show the number of big components already added. It is added to a JFrame at the start and directly after that the UI should start and be visible. However, because right after `frame.setVisible(true)` the code starts to add the big components, the label is not painted. I assume that Swing tries to optimize the code and don&#39;t waste a `repaint` when new components are added directly after.\r\n\r\nFurthermore, after each big component has been added, I update the text of the label and call `revalidate();repaint();` which should update the GUI. Nevertheless, no progress is show. Only after every big component has been added, the last `loadingLabel` is shown (should be &quot;Loading 5/5&quot;).\r\n\r\nWhat I want is that the GUI shows each of the &quot;Loading i/5&quot;.\r\n\r\nP.S.: I added a time measurement to show how long it takes to create a big component and to add it to the content pane. On my PC it yields about 3000 ms each time. The problem is only relevant if it yields a high time. That means to try the problem on a powerful PC you might need to increase the `25_000` of `getBigJPanel()`.\r\n\r\nOne thing I tried was to somewhat rearrange the operations of the EDT by wrapping blocks of codes with `SwingUitilities.invokeLater(Runnable)`. On the one hand, it seems to work fine so far, however, on the other hand, it leaves a total mess, because it requires recursively calling the next iteration in a new `SwingUitilities.invokeLater(Runnable)`.\r\n\r\nInstead of the for loop:\r\n```lang-java\r\nSwingUtilities.invokeLater(() -&gt; {\r\n    loadingLabel.setText(&quot;Loading &quot; + 1 + &quot;/5&quot;);\r\n    contentPane.revalidate();\r\n    contentPane.repaint();\r\n    SwingUtilities.invokeLater(() -&gt; {\r\n        contentPane.add(getBigJPanel());\r\n        loadingLabel.setText(&quot;Loading &quot; + 2 + &quot;/5&quot;);\r\n        contentPane.repaint();\r\n        contentPane.revalidate();\r\n        contentPane.repaint();\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            contentPane.add(getBigJPanel());\r\n            loadingLabel.setText(&quot;Loading &quot; + 3 + &quot;/5&quot;);\r\n            etc.\r\n        });\r\n    });\r\n});\r\n```\r\n\r\nI also looked at `SwingWorker`, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.","title":"Updating Java-Swing GUI in-between adding very big components","body":"<p>I am facing the problem that I want to add several big components (each big component = 15k JPanel with each 10 JLabel) to a JFrame. After each big component has been added, I want to update a label that shows a counter of how many of these big components has already been added.</p>\n<p>Here is a small example which should illustrate the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            // preparation\n            final JFrame frame = new JFrame();\n            final Container contentPane = frame.getContentPane();\n            contentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\n            final JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\n            contentPane.add(loadingLabel);\n\n            // start GUI\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n\n            // adding big components and show progress\n            for (int i = 1; i &lt;= 5; i++) {\n                final long time = System.currentTimeMillis();\n                contentPane.add(getBigJPanel());\n                System.out.println(&quot;time &lt;i=&quot; + i + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\n                loadingLabel.setText(&quot;Loading &quot; + i + &quot;/5&quot;);\n                contentPane.revalidate();\n                contentPane.repaint();\n            }\n        });\n    }\n\n    private static JPanel getBigJPanel() {\n        final JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(300, 300));\n        for (int i = 0; i &lt; 25_000; i++) {\n            panel.add(new JPanel());\n        }\n        return panel;\n    }\n\n}\n</code></pre>\n<p>I have the label <code>loadingLabel</code> which should show the number of big components already added. It is added to a JFrame at the start and directly after that the UI should start and be visible. However, because right after <code>frame.setVisible(true)</code> the code starts to add the big components, the label is not painted. I assume that Swing tries to optimize the code and don't waste a <code>repaint</code> when new components are added directly after.</p>\n<p>Furthermore, after each big component has been added, I update the text of the label and call <code>revalidate();repaint();</code> which should update the GUI. Nevertheless, no progress is show. Only after every big component has been added, the last <code>loadingLabel</code> is shown (should be &quot;Loading 5/5&quot;).</p>\n<p>What I want is that the GUI shows each of the &quot;Loading i/5&quot;.</p>\n<p>P.S.: I added a time measurement to show how long it takes to create a big component and to add it to the content pane. On my PC it yields about 3000 ms each time. The problem is only relevant if it yields a high time. That means to try the problem on a powerful PC you might need to increase the <code>25_000</code> of <code>getBigJPanel()</code>.</p>\n<p>One thing I tried was to somewhat rearrange the operations of the EDT by wrapping blocks of codes with <code>SwingUitilities.invokeLater(Runnable)</code>. On the one hand, it seems to work fine so far, however, on the other hand, it leaves a total mess, because it requires recursively calling the next iteration in a new <code>SwingUitilities.invokeLater(Runnable)</code>.</p>\n<p>Instead of the for loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SwingUtilities.invokeLater(() -&gt; {\n    loadingLabel.setText(&quot;Loading &quot; + 1 + &quot;/5&quot;);\n    contentPane.revalidate();\n    contentPane.repaint();\n    SwingUtilities.invokeLater(() -&gt; {\n        contentPane.add(getBigJPanel());\n        loadingLabel.setText(&quot;Loading &quot; + 2 + &quot;/5&quot;);\n        contentPane.repaint();\n        contentPane.revalidate();\n        contentPane.repaint();\n        SwingUtilities.invokeLater(() -&gt; {\n            contentPane.add(getBigJPanel());\n            loadingLabel.setText(&quot;Loading &quot; + 3 + &quot;/5&quot;);\n            etc.\n        });\n    });\n});\n</code></pre>\n<p>I also looked at <code>SwingWorker</code>, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.</p>\n"},{"tags":["java","serialization","lambda","java-8"],"comments":[{"owner":{"account_id":74485,"reputation":1369,"user_id":214004,"accept_rate":75,"display_name":"David"},"score":18,"creation_date":1457602351,"post_id":22807912,"comment_id":59483884,"body_markdown":"While this is possible (see the selected answer), everyone should probably think twice about actually doing this. It is officially [&quot;strongly discouraged&quot;](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization) and can have [serious](http://stackoverflow.com/questions/25443655/possibility-to-explicit-remove-serialization-support-for-a-lambda) [security](https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo) [implications](https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream).","body":"While this is possible (see the selected answer), everyone should probably think twice about actually doing this. It is officially <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization\" rel=\"nofollow noreferrer\">&quot;strongly discouraged&quot;</a> and can have <a href=\"http://stackoverflow.com/questions/25443655/possibility-to-explicit-remove-serialization-support-for-a-lambda\">serious</a> <a href=\"https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo\" rel=\"nofollow noreferrer\">security</a> <a href=\"https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream\" rel=\"nofollow noreferrer\">implications</a>."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":297,"is_accepted":true,"score":297,"last_activity_date":1396433389,"creation_date":1396433389,"answer_id":22808112,"question_id":22807912,"body_markdown":"Java 8 introduces the possibility to [cast an object to an intersection of types by adding multiple bounds][1]. In the case of serialization, it is therefore possible to write:\r\n\r\n    Runnable r = (Runnable &amp; Serializable)() -&gt; System.out.println(&quot;Serializable!&quot;);\r\n\r\nAnd the lambda automagically becomes serializable.\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.16","title":"How to serialize a lambda?","body":"<p>Java 8 introduces the possibility to <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.16\">cast an object to an intersection of types by adding multiple bounds</a>. In the case of serialization, it is therefore possible to write:</p>\n\n<pre><code>Runnable r = (Runnable &amp; Serializable)() -&gt; System.out.println(\"Serializable!\");\n</code></pre>\n\n<p>And the lambda automagically becomes serializable.</p>\n"},{"tags":[],"owner":{"account_id":4432620,"reputation":1460,"user_id":3609400,"display_name":"Vicente Romero"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1400979661,"creation_date":1400979661,"answer_id":23851076,"question_id":22807912,"body_markdown":"The same construction can be used for method references. For example this code:\r\n\r\n    import java.io.Serializable;\r\n\r\n    public class Test {\r\n        static Object bar(String s) {\r\n            return &quot;make serializable&quot;;\r\n        }\r\n\r\n        void m () {\r\n            SAM s1 = (SAM &amp; Serializable) Test::bar;\r\n            SAM s2 = (SAM &amp; Serializable) t -&gt; &quot;make serializable&quot;;\r\n        }\r\n\r\n        interface SAM {\r\n            Object action(String s);\r\n        }\r\n    }\r\n\r\ndefines a lambda expression and a method reference with a serializable target type.","title":"How to serialize a lambda?","body":"<p>The same construction can be used for method references. For example this code:</p>\n\n<pre><code>import java.io.Serializable;\n\npublic class Test {\n    static Object bar(String s) {\n        return \"make serializable\";\n    }\n\n    void m () {\n        SAM s1 = (SAM &amp; Serializable) Test::bar;\n        SAM s2 = (SAM &amp; Serializable) t -&gt; \"make serializable\";\n    }\n\n    interface SAM {\n        Object action(String s);\n    }\n}\n</code></pre>\n\n<p>defines a lambda expression and a method reference with a serializable target type.</p>\n"},{"tags":[],"owner":{"account_id":1350880,"reputation":2554,"user_id":1290557,"accept_rate":60,"display_name":"ruediste"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602493534,"creation_date":1494158374,"answer_id":43831210,"question_id":22807912,"body_markdown":"If you are willing to switch to another serialization framework like [Kryo][1], you can get rid of the multiple bounds or the requirement that the implemented interface must implement `Serializable`. The approach is to \r\n\r\n 1. Modify the `InnerClassLambdaMetafactory` to always generate the code required for serialization\r\n 1. Directly call the `LambdaMetaFactory` during deserialization\r\n\r\nFor details and code see this [blog post][2]\r\n\r\n\r\n  [1]: https://github.com/EsotericSoftware/kryo\r\n  [2]: https://ruediste.github.io/java/kryo/2017/05/07/serializing-non-serializable-lambdas.html","title":"How to serialize a lambda?","body":"<p>If you are willing to switch to another serialization framework like <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo</a>, you can get rid of the multiple bounds or the requirement that the implemented interface must implement <code>Serializable</code>. The approach is to</p>\n<ol>\n<li>Modify the <code>InnerClassLambdaMetafactory</code> to always generate the code required for serialization</li>\n<li>Directly call the <code>LambdaMetaFactory</code> during deserialization</li>\n</ol>\n<p>For details and code see this <a href=\"https://ruediste.github.io/java/kryo/2017/05/07/serializing-non-serializable-lambdas.html\" rel=\"nofollow noreferrer\">blog post</a></p>\n"},{"tags":[],"owner":{"account_id":4126293,"reputation":405,"user_id":3767904,"display_name":"Pascal"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1502821674,"creation_date":1502821674,"answer_id":45699173,"question_id":22807912,"body_markdown":"Very ugly cast. I prefer to define a Serializable extension to the functional interface I&#39;m using\r\n\r\nFor example:\r\n\r\n    interface SerializableFunction&lt;T,R&gt; extends Function&lt;T,R&gt;, Serializable {}\r\n    interface SerializableConsumer&lt;T&gt; extends Consumer&lt;T&gt;, Serializable {}\r\n\r\nthen the method accepting the lambda can be defined as such :\r\n\r\n    private void someFunction(SerializableFunction&lt;String, Object&gt; function) {\r\n       ...\r\n    }\r\n\r\nand calling the function you can pass your lambda without any ugly cast:\r\n\r\n    someFunction(arg -&gt; doXYZ(arg));","title":"How to serialize a lambda?","body":"<p>Very ugly cast. I prefer to define a Serializable extension to the functional interface I'm using</p>\n\n<p>For example:</p>\n\n<pre><code>interface SerializableFunction&lt;T,R&gt; extends Function&lt;T,R&gt;, Serializable {}\ninterface SerializableConsumer&lt;T&gt; extends Consumer&lt;T&gt;, Serializable {}\n</code></pre>\n\n<p>then the method accepting the lambda can be defined as such :</p>\n\n<pre><code>private void someFunction(SerializableFunction&lt;String, Object&gt; function) {\n   ...\n}\n</code></pre>\n\n<p>and calling the function you can pass your lambda without any ugly cast:</p>\n\n<pre><code>someFunction(arg -&gt; doXYZ(arg));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16216212,"reputation":977,"user_id":11708983,"display_name":"Rafa&#235;l"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1563523986,"creation_date":1563523986,"answer_id":57108230,"question_id":22807912,"body_markdown":"**In case someone falls here while creating Beam/Dataflow code :**\r\n\r\nBeam has his own [SerializableFunction][1] Interface so no need for dummy interface or verbose casts.\r\n\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/transforms/SerializableFunction.html","title":"How to serialize a lambda?","body":"<p><strong>In case someone falls here while creating Beam/Dataflow code :</strong></p>\n\n<p>Beam has his own <a href=\"https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/transforms/SerializableFunction.html\" rel=\"noreferrer\">SerializableFunction</a> Interface so no need for dummy interface or verbose casts.</p>\n"},{"tags":[],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697151089,"creation_date":1697149305,"answer_id":77284119,"question_id":22807912,"body_markdown":"To add to other answers, you can create a serializable lambda by using the cast expression or by using a new interface that extends Serializable as shown in other answers. Notice that the resulting objects don&#39;t necessarily play nice with default methods of the functional interfaces (for example). The third solution, far from ideal because it does not ensure that the right hand side operand is serializable, does generate a serializable object.\r\n\r\n\t\r\n\t@Test\r\n\tpublic void testCasetExpression() {\r\n\t\tPredicate&lt;Integer&gt; p1 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\r\n\t\tPredicate&lt;Integer&gt; p2 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p3 = p1.and(p2);\r\n\t\tAssertions.assertFalse(p3 instanceof Serializable);\t// Notice false\r\n\t}\r\n\t\r\n\tinterface SerializablePredicateV1&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {}\r\n\r\n\t@Test\r\n\tpublic void testInterfaceV1() {\r\n\t\tPredicate&lt;Integer&gt; p1 = (SerializablePredicateV1)i -&gt; true;\r\n\t\tPredicate&lt;Integer&gt; p2 = (SerializablePredicateV1)i -&gt; true;\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p3 = p1.and(p2);\r\n\t\tAssertions.assertFalse(p3 instanceof Serializable);\t// Notice false\r\n\t}\r\n\t\r\n\tinterface SerializablePredicateV2&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {\r\n\t\t\r\n\t    @Override\r\n\t\tdefault SerializablePredicateV2&lt;T&gt; and(Predicate&lt;? super T&gt; other) {\r\n\t        Objects.requireNonNull(other);\r\n\t        return (t) -&gt; test(t) &amp;&amp; other.test(t);\r\n\t    }\r\n\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testInterfaceV2() {\r\n\t\tPredicate&lt;Integer&gt; p1 = (SerializablePredicateV2)i -&gt; true;\r\n\t\tPredicate&lt;Integer&gt; p2 = (SerializablePredicateV2)i -&gt; true;\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p3 = p1.and(p2);\r\n\t\tAssertions.assertTrue(p3 instanceof Serializable); // Notice true\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p4 = i -&gt; true; // Not serializable\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p5 = p1.and(p4);\r\n\t\t// true but will fail because p4 is not serializable\r\n\t\tAssertions.assertTrue(p5 instanceof Serializable); \t\r\n\t}\r\n\t\r\n    // Not a Predicate anymore :(\r\n\tinterface SerializablePredicateV3&lt;T&gt; extends Serializable {\r\n\r\n\t\tboolean test(T t);\r\n\r\n\t\tdefault SerializablePredicateV3&lt;T&gt; and(SerializablePredicateV3&lt;? super T&gt; other) {\r\n\t        Objects.requireNonNull(other);\r\n\t        return (t) -&gt; test(t) &amp;&amp; other.test(t);\r\n\t    }\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testInterfaceV3() {\r\n\t\tSerializablePredicateV3&lt;Integer&gt; p1 = (SerializablePredicateV3)i -&gt; true;\r\n\t\tSerializablePredicateV3&lt;Integer&gt; p2 = (SerializablePredicateV3)i -&gt; true;\r\n\t\t\r\n\t\tSerializablePredicateV3&lt;Integer&gt; p3 = p1.and(p2);\r\n\t}","title":"How to serialize a lambda?","body":"<p>To add to other answers, you can create a serializable lambda by using the cast expression or by using a new interface that extends Serializable as shown in other answers. Notice that the resulting objects don't necessarily play nice with default methods of the functional interfaces (for example). The third solution, far from ideal because it does not ensure that the right hand side operand is serializable, does generate a serializable object.</p>\n<pre><code>@Test\npublic void testCasetExpression() {\n    Predicate&lt;Integer&gt; p1 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\n    Predicate&lt;Integer&gt; p2 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\n    \n    Predicate&lt;Integer&gt; p3 = p1.and(p2);\n    Assertions.assertFalse(p3 instanceof Serializable); // Notice false\n}\n\ninterface SerializablePredicateV1&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {}\n\n@Test\npublic void testInterfaceV1() {\n    Predicate&lt;Integer&gt; p1 = (SerializablePredicateV1)i -&gt; true;\n    Predicate&lt;Integer&gt; p2 = (SerializablePredicateV1)i -&gt; true;\n    \n    Predicate&lt;Integer&gt; p3 = p1.and(p2);\n    Assertions.assertFalse(p3 instanceof Serializable); // Notice false\n}\n\ninterface SerializablePredicateV2&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {\n    \n    @Override\n    default SerializablePredicateV2&lt;T&gt; and(Predicate&lt;? super T&gt; other) {\n        Objects.requireNonNull(other);\n        return (t) -&gt; test(t) &amp;&amp; other.test(t);\n    }\n\n}\n\n@Test\npublic void testInterfaceV2() {\n    Predicate&lt;Integer&gt; p1 = (SerializablePredicateV2)i -&gt; true;\n    Predicate&lt;Integer&gt; p2 = (SerializablePredicateV2)i -&gt; true;\n    \n    Predicate&lt;Integer&gt; p3 = p1.and(p2);\n    Assertions.assertTrue(p3 instanceof Serializable); // Notice true\n    \n    Predicate&lt;Integer&gt; p4 = i -&gt; true; // Not serializable\n    \n    Predicate&lt;Integer&gt; p5 = p1.and(p4);\n    // true but will fail because p4 is not serializable\n    Assertions.assertTrue(p5 instanceof Serializable);  \n}\n\n// Not a Predicate anymore :(\ninterface SerializablePredicateV3&lt;T&gt; extends Serializable {\n\n    boolean test(T t);\n\n    default SerializablePredicateV3&lt;T&gt; and(SerializablePredicateV3&lt;? super T&gt; other) {\n        Objects.requireNonNull(other);\n        return (t) -&gt; test(t) &amp;&amp; other.test(t);\n    }\n}\n\n@Test\npublic void testInterfaceV3() {\n    SerializablePredicateV3&lt;Integer&gt; p1 = (SerializablePredicateV3)i -&gt; true;\n    SerializablePredicateV3&lt;Integer&gt; p2 = (SerializablePredicateV3)i -&gt; true;\n    \n    SerializablePredicateV3&lt;Integer&gt; p3 = p1.and(p2);\n}\n</code></pre>\n"}],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55842,"favorite_count":0,"down_vote_count":1,"up_vote_count":175,"accepted_answer_id":22808112,"answer_count":6,"score":174,"last_activity_date":1697151089,"creation_date":1396432928,"question_id":22807912,"body_markdown":"How can I elegantly serialize a lambda?\r\n\r\nFor example, the code below throws a `NotSerializableException`. How can I fix it without creating a `SerializableRunnable` &quot;dummy&quot; interface?\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        File file = Files.createTempFile(&quot;lambda&quot;, &quot;ser&quot;).toFile();\r\n        try (ObjectOutput oo = new ObjectOutputStream(new FileOutputStream(file))) {\r\n            Runnable r = () -&gt; System.out.println(&quot;Can I be serialized?&quot;);\r\n            oo.writeObject(r);\r\n        }\r\n\r\n        try (ObjectInput oi = new ObjectInputStream(new FileInputStream(file))) {\r\n            Runnable  r = (Runnable) oi.readObject();\r\n            r.run();\r\n        }\r\n    }\r\n","title":"How to serialize a lambda?","body":"<p>How can I elegantly serialize a lambda?</p>\n\n<p>For example, the code below throws a <code>NotSerializableException</code>. How can I fix it without creating a <code>SerializableRunnable</code> \"dummy\" interface?</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    File file = Files.createTempFile(\"lambda\", \"ser\").toFile();\n    try (ObjectOutput oo = new ObjectOutputStream(new FileOutputStream(file))) {\n        Runnable r = () -&gt; System.out.println(\"Can I be serialized?\");\n        oo.writeObject(r);\n    }\n\n    try (ObjectInput oi = new ObjectInputStream(new FileInputStream(file))) {\n        Runnable  r = (Runnable) oi.readObject();\n        r.run();\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","sql"],"answers":[{"tags":[],"owner":{"account_id":11458687,"reputation":324,"user_id":8398972,"display_name":"Divarrek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594217197,"creation_date":1594217197,"answer_id":62796678,"question_id":62796565,"body_markdown":"The default empty &quot;value&quot; may not be an empty string, but `null`, you may want to try adding this to your `WHERE` clause\r\n\r\n    AND c.year IS NOT NULL","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<p>The default empty &quot;value&quot; may not be an empty string, but <code>null</code>, you may want to try adding this to your <code>WHERE</code> clause</p>\n<pre><code>AND c.year IS NOT NULL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2551182,"reputation":23,"user_id":2214898,"display_name":"Mr. Richhariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594223289,"creation_date":1594223289,"answer_id":62798567,"question_id":62796565,"body_markdown":"you can check length greater than 0 after trimming that column and also check is not null.\r\n\r\nSimilar as below used sometime back \r\n    SELECT \r\n    DISTINCT email_id\r\n    FROM  FCSR_USER_MST\r\n    WHERE length(trim(email_id)) &gt;0 and email_id IS NOT NULL\r\n\r\n  \r\n[See this link][1]It would be helpful for you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28169612/mysql-distinct-values-without-empty-string-and-null.","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<p>you can check length greater than 0 after trimming that column and also check is not null.</p>\n<p>Similar as below used sometime back\nSELECT\nDISTINCT email_id\nFROM  FCSR_USER_MST\nWHERE length(trim(email_id)) &gt;0 and email_id IS NOT NULL</p>\n<p><a href=\"https://stackoverflow.com/questions/28169612/mysql-distinct-values-without-empty-string-and-null.\">See this link</a>It would be helpful for you</p>\n"},{"tags":[],"owner":{"account_id":22674125,"reputation":5,"user_id":16845468,"display_name":"DesarrolladorNoob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697150018,"creation_date":1697150018,"answer_id":77284153,"question_id":62796565,"body_markdown":"I would do it in the following way\r\n\r\n    SELECT \r\n        COUNT(DISTINCT pd.id) FILTER\r\n        notCurrent = (IIF(c.year != &#39;&#39;,ISNULL(c.year,&#39;1900&#39;),&#39;1900&#39;))\r\n    FROM yourtable pd\r\nso, when it&#39;s empty or it&#39;s null it also returns the value 1900.\r\n","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<p>I would do it in the following way</p>\n<pre><code>SELECT \n    COUNT(DISTINCT pd.id) FILTER\n    notCurrent = (IIF(c.year != '',ISNULL(c.year,'1900'),'1900'))\nFROM yourtable pd\n</code></pre>\n<p>so, when it's empty or it's null it also returns the value 1900.</p>\n"}],"owner":{"account_id":18366582,"reputation":61,"user_id":13377490,"display_name":"crytodactyl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697150018,"creation_date":1594216872,"question_id":62796565,"body_markdown":"    @Query(nativeQuery = true, value = &quot;SELECT &quot; +\r\n              &quot;COUNT(DISTINCT pd.id) FILTER (WHERE c.year NOT IN (&#39;2020&#39;, &#39;2021&#39;, &#39;&#39;)) AS \\&quot;notCurrent\\&quot;,  &quot; +\r\n\r\nThis query is for a filter called notCurrent. The problem is, when the filter is selected, it still shows blank values, even though I added &#39;&#39; in the query. What do I need to do so no blanks/null values display when this filter is selected?\r\n\r\nUI:\r\n\r\n```javascript\r\nexport function forceFilter(key, filterVal, table, dataType, title) {\r\n  var newTable = JSON.stringify(table);\r\n  newTable = JSON.parse(newTable);\r\n  var updated = false;\r\n  if (key != &quot;disclosure&quot; &amp;&amp; filterVal == &quot;Unknown&quot;) {\r\n    filterVal = &quot;&quot;;\r\n  } else if (filterVal == &quot;Not Current&quot;) {\r\n    filterVal = &quot;notCurrent&quot;;\r\n  }\r\n}\r\n```    ","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<pre><code>@Query(nativeQuery = true, value = &quot;SELECT &quot; +\n          &quot;COUNT(DISTINCT pd.id) FILTER (WHERE c.year NOT IN ('2020', '2021', '')) AS \\&quot;notCurrent\\&quot;,  &quot; +\n</code></pre>\n<p>This query is for a filter called notCurrent. The problem is, when the filter is selected, it still shows blank values, even though I added '' in the query. What do I need to do so no blanks/null values display when this filter is selected?</p>\n<p>UI:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export function forceFilter(key, filterVal, table, dataType, title) {\n  var newTable = JSON.stringify(table);\n  newTable = JSON.parse(newTable);\n  var updated = false;\n  if (key != &quot;disclosure&quot; &amp;&amp; filterVal == &quot;Unknown&quot;) {\n    filterVal = &quot;&quot;;\n  } else if (filterVal == &quot;Not Current&quot;) {\n    filterVal = &quot;notCurrent&quot;;\n  }\n}\n</code></pre>\n"},{"tags":["java","matlab","signals"],"answers":[{"tags":[],"owner":{"account_id":7844603,"reputation":21,"user_id":5930066,"display_name":"ImageLite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697149479,"creation_date":1697149412,"answer_id":77284125,"question_id":76962561,"body_markdown":"There can be different types of noise, for example - signal overflow, when almost all values have maximum or minimum levels. \r\nA high level of 50-60Hz in the signal spectrum can be induced by the electrical network. There may be a floating baseline, when the difference in average values per second is comparable to the amplitude of the peaks (wavelet transform can help here). \r\nFrequencies above 60 Hz are most likely noise (if you have 200-300 samples per second). High frequencies share of 20-50 Hz is most likely noise. \r\nNormal QRS complex provides two strong maximums of ~8-12Hz and 1-2Hz in the signal spectrum, the absence of such maximums may indicate pure noise (but may be also VF case). ","title":"Signal Processing noise detection","body":"<p>There can be different types of noise, for example - signal overflow, when almost all values have maximum or minimum levels.\nA high level of 50-60Hz in the signal spectrum can be induced by the electrical network. There may be a floating baseline, when the difference in average values per second is comparable to the amplitude of the peaks (wavelet transform can help here).\nFrequencies above 60 Hz are most likely noise (if you have 200-300 samples per second). High frequencies share of 20-50 Hz is most likely noise.\nNormal QRS complex provides two strong maximums of ~8-12Hz and 1-2Hz in the signal spectrum, the absence of such maximums may indicate pure noise (but may be also VF case).</p>\n"}],"owner":{"account_id":29284082,"reputation":1,"user_id":22436066,"display_name":"bayan bayrakdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697149479,"creation_date":1692802247,"question_id":76962561,"body_markdown":"Is there any alogrithm in Digital Signal Processing for detect noise in ECG signal with adaptive threshold, I made alogrithm but when it have a diseases detect as a noise \r\nAnyone give a general solution for this issue??? \r\n\r\nI did noise detection depend on wavelet transform ","title":"Signal Processing noise detection","body":"<p>Is there any alogrithm in Digital Signal Processing for detect noise in ECG signal with adaptive threshold, I made alogrithm but when it have a diseases detect as a noise\nAnyone give a general solution for this issue???</p>\n<p>I did noise detection depend on wavelet transform</p>\n"},{"tags":["java","collections","interface"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1395791284,"post_id":147468,"comment_id":34496125,"body_markdown":"See also http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","body":"See also <a href=\"http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\" title=\"what does it mean to program to an interface\">stackoverflow.com/questions/383947/&hellip;</a>"},{"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"score":0,"creation_date":1673699659,"post_id":147468,"comment_id":132558942,"body_markdown":"Hello, If you initialize your data structure as an ArrayList","body":"Hello, If you initialize your data structure as an ArrayList"}],"answers":[{"tags":[],"owner":{"account_id":9016,"reputation":16147,"user_id":16476,"accept_rate":63,"display_name":"AdamC"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1222661068,"creation_date":1222661068,"answer_id":147472,"question_id":147468,"body_markdown":"This is preferred because you decouple your code from the implementation of the list.  Using the interface lets you easily change the implementation, ArrayList in this case, to another list implementation without changing any of the rest of the code as long as it only uses methods defined in List.","title":"Why should the interface for a Java class be preferred?","body":"<p>This is preferred because you decouple your code from the implementation of the list.  Using the interface lets you easily change the implementation, ArrayList in this case, to another list implementation without changing any of the rest of the code as long as it only uses methods defined in List.</p>\n"},{"tags":[],"owner":{"account_id":8161,"reputation":12612,"user_id":14540,"accept_rate":91,"display_name":"kolrie"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1692962155,"creation_date":1222662012,"answer_id":147495,"question_id":147468,"body_markdown":"Using interfaces over concrete types is the key for good encapsulation and for loose coupling your code.\r\n\r\nIt&#39;s even a good idea to follow this practice when writing your own APIs. If you do, you&#39;ll find later that it&#39;s easier to add unit tests to your code (using Mocking techniques), and to change the underlying implementation if needed in the future.\r\n\r\nHere&#39;s a [good article][1] on the subject.\r\n\r\nHope it helps!\r\n\r\n\r\n  [1]: https://web.archive.org/web/20130816024910/http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html","title":"Why should the interface for a Java class be preferred?","body":"<p>Using interfaces over concrete types is the key for good encapsulation and for loose coupling your code.</p>\n<p>It's even a good idea to follow this practice when writing your own APIs. If you do, you'll find later that it's easier to add unit tests to your code (using Mocking techniques), and to change the underlying implementation if needed in the future.</p>\n<p>Here's a <a href=\"https://web.archive.org/web/20130816024910/http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html\" rel=\"nofollow noreferrer\">good article</a> on the subject.</p>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1352171465,"creation_date":1222662909,"answer_id":147521,"question_id":147468,"body_markdown":"ArrayList and LinkedList are two implementations of a List, which is an ordered collection of items. Logic-wise it doesn&#39;t matter if you use an ArrayList or a LinkedList, so you shouldn&#39;t constrain the type to be that.\r\n\r\nThis contrasts with say, Collection and List, which are different things (List implies sorting, Collection does not).\r\n\r\n","title":"Why should the interface for a Java class be preferred?","body":"<p>ArrayList and LinkedList are two implementations of a List, which is an ordered collection of items. Logic-wise it doesn't matter if you use an ArrayList or a LinkedList, so you shouldn't constrain the type to be that.</p>\n\n<p>This contrasts with say, Collection and List, which are different things (List implies sorting, Collection does not).</p>\n"},{"tags":[],"owner":{"account_id":11446,"reputation":1711,"user_id":22068,"display_name":"Rastislav Komara"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1320159003,"creation_date":1222696085,"answer_id":148712,"question_id":147468,"body_markdown":"In general for your line of code it does not make sense to bother with interfaces. But, if we are talking about APIs there is a really good reason. I got small class\r\n\r\n    class Counter {\r\n        static int sizeOf(List&lt;?&gt; items) {\r\n            return items.size();\r\n        }\r\n    }\r\n\r\nIn this case is usage of interface required. Because I want to count size of *every possible* implementation including my own custom. `class MyList extends AbstractList&lt;String&gt;...`. \r\n\r\n\r\n\r\n","title":"Why should the interface for a Java class be preferred?","body":"<p>In general for your line of code it does not make sense to bother with interfaces. But, if we are talking about APIs there is a really good reason. I got small class</p>\n\n<pre><code>class Counter {\n    static int sizeOf(List&lt;?&gt; items) {\n        return items.size();\n    }\n}\n</code></pre>\n\n<p>In this case is usage of interface required. Because I want to count size of <em>every possible</em> implementation including my own custom. <code>class MyList extends AbstractList&lt;String&gt;...</code>. </p>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320158956,"creation_date":1222735037,"answer_id":151322,"question_id":147468,"body_markdown":"Properties of your classes/interfaces should be exposed through interfaces because it gives your classes a contract of behavior to use, regardless of the implementation.\r\n\r\nHowever...\r\n\r\nIn local variable declarations, it makes little sense to do this:\r\n\r\n    public void someMethod() {\r\n    List theList = new ArrayList();\r\n    //do stuff with the list\r\n    }\r\n\r\nIf its a local variable, just use the type.  It is still implicitly upcastable to its appropriate interface, and your methods should hopefully accept the interface types for its arguments, but for local variables, it makes total sense to use the implementation type as a container, just in case you do need the implementation-specific functionality.","title":"Why should the interface for a Java class be preferred?","body":"<p>Properties of your classes/interfaces should be exposed through interfaces because it gives your classes a contract of behavior to use, regardless of the implementation.</p>\n\n<p>However...</p>\n\n<p>In local variable declarations, it makes little sense to do this:</p>\n\n<pre><code>public void someMethod() {\nList theList = new ArrayList();\n//do stuff with the list\n}\n</code></pre>\n\n<p>If its a local variable, just use the type.  It is still implicitly upcastable to its appropriate interface, and your methods should hopefully accept the interface types for its arguments, but for local variables, it makes total sense to use the implementation type as a container, just in case you do need the implementation-specific functionality.</p>\n"},{"tags":[],"owner":{"account_id":6730,"reputation":2769,"user_id":11442,"display_name":"Owen"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1320158967,"creation_date":1222736801,"answer_id":151378,"question_id":147468,"body_markdown":"In general I agree that decoupling interface from implementation is a good thing and will make your code easier to maintain.\r\n\r\nThere are, however, exceptions that you must consider. Accessing objects through interfaces adds an additional layer of indirection that will make your code slower. \r\n\r\nFor interest I ran an experiment that generated ten billion sequential accesses to a 1 million length ArrayList. On my 2.4Ghz MacBook, accessing the ArrayList through a List interface took 2.10 seconds on average, when declaring it of type ArrayList it took on average 1.67 seconds. \r\n\r\nIf you are working with large lists, deep inside an inner loop or frequently called function, then this is something to consider.","title":"Why should the interface for a Java class be preferred?","body":"<p>In general I agree that decoupling interface from implementation is a good thing and will make your code easier to maintain.</p>\n\n<p>There are, however, exceptions that you must consider. Accessing objects through interfaces adds an additional layer of indirection that will make your code slower. </p>\n\n<p>For interest I ran an experiment that generated ten billion sequential accesses to a 1 million length ArrayList. On my 2.4Ghz MacBook, accessing the ArrayList through a List interface took 2.10 seconds on average, when declaring it of type ArrayList it took on average 1.67 seconds. </p>\n\n<p>If you are working with large lists, deep inside an inner loop or frequently called function, then this is something to consider.</p>\n"},{"tags":[],"owner":{"account_id":9728,"reputation":15219,"user_id":18093,"display_name":"Diastrophism"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223075341,"creation_date":1223075341,"answer_id":169250,"question_id":147468,"body_markdown":"Even for local variables, using the interface over the concrete class helps. You may end up calling a method that is outside the interface and then it is difficult to change the implementation of the List if necessary.\r\nAlso, it is best to use the least specific class or interface in a declaration. If element order does not matter, use a Collection instead of a List. That gives your code the maximum flexibility.","title":"Why should the interface for a Java class be preferred?","body":"<p>Even for local variables, using the interface over the concrete class helps. You may end up calling a method that is outside the interface and then it is difficult to change the implementation of the List if necessary.\nAlso, it is best to use the least specific class or interface in a declaration. If element order does not matter, use a Collection instead of a List. That gives your code the maximum flexibility.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697148917,"creation_date":1482849345,"answer_id":41347099,"question_id":147468,"body_markdown":"&gt; Why should the latter with List be used instead of ArrayList?\r\n\r\nIt&#39;s a good practice : *Program to interface rather than implementation*\r\n\r\nBy replacing `ArrayList` with `List`, you can change `List` implementation in future as below depending on your business use case.\r\n\r\n    List&lt;Object&gt; list = new  LinkedList&lt;&gt;(); \r\n    /* Doubly-linked list implementation of the List and Deque interfaces. \r\n     Implements all optional list operations, and permits all elements (including null).*/\r\n\r\n\r\n OR\r\n\r\n    List&lt;Object&gt; list = new  CopyOnWriteArrayList&lt;&gt;(); \r\n    /* A thread-safe variant of ArrayList in which all mutative operations\r\n     (add, set, and so on) are implemented by making a fresh copy of the underlying array.*/\r\n\r\nOR\r\n\r\n    List&lt;Object&gt; list = new  Stack&lt;&gt;(); \r\n\r\n    /* The Stack class represents a last-in-first-out (LIFO) stack of objects.*/\r\n\r\nOR\r\n\r\nsome other `List` specific implementation. \r\n\r\n`List` interface defines contract and specific implementation of `List` can be changed. In this way, *interface and implementation are loosely coupled.* \r\n\r\nRelated SE question:\r\n\r\nhttps://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\r\n\r\n","title":"Why should the interface for a Java class be preferred?","body":"<blockquote>\n<p>Why should the latter with List be used instead of ArrayList?</p>\n</blockquote>\n<p>It's a good practice : <em>Program to interface rather than implementation</em></p>\n<p>By replacing <code>ArrayList</code> with <code>List</code>, you can change <code>List</code> implementation in future as below depending on your business use case.</p>\n<pre><code>List&lt;Object&gt; list = new  LinkedList&lt;&gt;(); \n/* Doubly-linked list implementation of the List and Deque interfaces. \n Implements all optional list operations, and permits all elements (including null).*/\n</code></pre>\n<p>OR</p>\n<pre><code>List&lt;Object&gt; list = new  CopyOnWriteArrayList&lt;&gt;(); \n/* A thread-safe variant of ArrayList in which all mutative operations\n (add, set, and so on) are implemented by making a fresh copy of the underlying array.*/\n</code></pre>\n<p>OR</p>\n<pre><code>List&lt;Object&gt; list = new  Stack&lt;&gt;(); \n\n/* The Stack class represents a last-in-first-out (LIFO) stack of objects.*/\n</code></pre>\n<p>OR</p>\n<p>some other <code>List</code> specific implementation.</p>\n<p><code>List</code> interface defines contract and specific implementation of <code>List</code> can be changed. In this way, <em>interface and implementation are loosely coupled.</em></p>\n<p>Related SE question:</p>\n<p><a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":1737013,"reputation":13,"user_id":5315969,"display_name":"sandeep garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571140672,"creation_date":1571140672,"answer_id":58394156,"question_id":147468,"body_markdown":"Interface is exposed to the end user. One class can implement multiple interface. User who have expose to specific interface have access to some specific behavior which are defined in that particular interface.\r\n\r\nOne interface also have multiple implementation. Based on the scenario system will work with different scenario (Implementation of the interface).\r\n\r\nlet me know if you need more explanation.","title":"Why should the interface for a Java class be preferred?","body":"<p>Interface is exposed to the end user. One class can implement multiple interface. User who have expose to specific interface have access to some specific behavior which are defined in that particular interface.</p>\n\n<p>One interface also have multiple implementation. Based on the scenario system will work with different scenario (Implementation of the interface).</p>\n\n<p>let me know if you need more explanation.</p>\n"},{"tags":[],"owner":{"account_id":4162561,"reputation":1412,"user_id":3412316,"accept_rate":20,"display_name":"Kiruahxh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597048372,"creation_date":1597048372,"answer_id":63336728,"question_id":147468,"body_markdown":"The interface often has better representation in the debugger view than the concrete class.","title":"Why should the interface for a Java class be preferred?","body":"<p>The interface often has better representation in the debugger view than the concrete class.</p>\n"}],"owner":{"account_id":11747,"reputation":7108,"user_id":22807,"display_name":"jnancheta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31622,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":147495,"answer_count":10,"score":81,"last_activity_date":1697148917,"creation_date":1222660975,"question_id":147468,"body_markdown":"[PMD][1] would report a violation for:\r\n\r\n    ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\nThe violation was &quot;Avoid using implementation types like &#39;ArrayList&#39;; use the interface instead&quot;.\r\n\r\nThe following line would correct the violation:\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\nWhy should the latter with `List` be used instead of `ArrayList`?\r\n\r\n\r\n  [1]: https://pmd.github.io/","title":"Why should the interface for a Java class be preferred?","body":"<p><a href=\"https://pmd.github.io/\" rel=\"noreferrer\">PMD</a> would report a violation for:</p>\n\n<pre><code>ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>The violation was \"Avoid using implementation types like 'ArrayList'; use the interface instead\".</p>\n\n<p>The following line would correct the violation:</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>Why should the latter with <code>List</code> be used instead of <code>ArrayList</code>?</p>\n"},{"tags":["java","python","scala","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":325703,"reputation":28509,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1585875847,"creation_date":1481611746,"answer_id":41115143,"question_id":41114875,"body_markdown":"The arithmetic functions allow you to perform arithmetic operation on columns containing dates. \r\n\r\nFor example, you can calculate the difference between two dates, add days to a date, or subtract days from a date. The built-in date arithmetic functions include `datediff`, `date_add`, **[`date_sub`][1]**, `add_months`, `last_day`,\r\n`next_day`, and `months_between`.\r\n\r\nOut of above what we need is \r\n\r\n&gt; date_sub(timestamp startdate, int days),  Purpose: Subtracts a specified number of days\r\n&gt; from a TIMESTAMP value. The first argument can be a string, which is\r\n&gt; automatically cast to TIMESTAMP if it uses the recognized format, as\r\n&gt; described in TIMESTAMP Data Type. Return type: Returns the date that is &gt; days days before start\r\n\r\n\r\nand we have \r\n\r\n&gt; current_timestamp() Purpose: Alias for the now() function. Return\r\n&gt; type: timestamp\r\n\r\n\r\nyou can do select \r\n\r\n    date_sub(CAST(current_timestamp() as DATE), 1)\r\n\r\nSee https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html#date_sub(org.apache.spark.sql.Column,%20int)","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>The arithmetic functions allow you to perform arithmetic operation on columns containing dates. </p>\n\n<p>For example, you can calculate the difference between two dates, add days to a date, or subtract days from a date. The built-in date arithmetic functions include <code>datediff</code>, <code>date_add</code>, <strong><a href=\"https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html#date_sub(org.apache.spark.sql.Column,%20int)\" rel=\"noreferrer\"><code>date_sub</code></a></strong>, <code>add_months</code>, <code>last_day</code>,\n<code>next_day</code>, and <code>months_between</code>.</p>\n\n<p>Out of above what we need is </p>\n\n<blockquote>\n  <p>date_sub(timestamp startdate, int days),  Purpose: Subtracts a specified number of days\n  from a TIMESTAMP value. The first argument can be a string, which is\n  automatically cast to TIMESTAMP if it uses the recognized format, as\n  described in TIMESTAMP Data Type. Return type: Returns the date that is > days days before start</p>\n</blockquote>\n\n<p>and we have </p>\n\n<blockquote>\n  <p>current_timestamp() Purpose: Alias for the now() function. Return\n  type: timestamp</p>\n</blockquote>\n\n<p>you can do select </p>\n\n<pre><code>date_sub(CAST(current_timestamp() as DATE), 1)\n</code></pre>\n\n<p>See <a href=\"https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html\" rel=\"noreferrer\">https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html</a></p>\n"},{"tags":[],"owner":{"account_id":6508766,"reputation":3484,"user_id":5036809,"accept_rate":76,"display_name":"Shivansh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1481611975,"creation_date":1481611975,"answer_id":41115185,"question_id":41114875,"body_markdown":"You can easily perform this task , there are many methods related to the date and what you can use here is `date_sub`\r\n\r\n**Example on Spark-REPL:**\r\n\r\n     scala&gt; spark.sql(&quot;select date_sub(current_timestamp(), 1)&quot;).show\r\n    +----------------------------------------------+\r\n    |date_sub(CAST(current_timestamp() AS DATE), 1)|\r\n    +----------------------------------------------+\r\n    |                                    2016-12-12|\r\n    +----------------------------------------------+\r\n\r\n\r\n","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>You can easily perform this task , there are many methods related to the date and what you can use here is <code>date_sub</code></p>\n\n<p><strong>Example on Spark-REPL:</strong></p>\n\n<pre><code> scala&gt; spark.sql(\"select date_sub(current_timestamp(), 1)\").show\n+----------------------------------------------+\n|date_sub(CAST(current_timestamp() AS DATE), 1)|\n+----------------------------------------------+\n|                                    2016-12-12|\n+----------------------------------------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069824,"reputation":351,"user_id":7277877,"display_name":"TAYFUN CANAKCI"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1498818653,"creation_date":1481622310,"answer_id":41117894,"question_id":41114875,"body_markdown":"You can try\r\n\r\n    date_add(current_date(), -1)\r\n\r\nI don&#39;t know spark either but I found it on google. \r\nYou can also use this [link][1] for reference\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>You can try</p>\n\n<pre><code>date_add(current_date(), -1)\n</code></pre>\n\n<p>I don't know spark either but I found it on google. \nYou can also use this <a href=\"https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html\" rel=\"noreferrer\">link</a> for reference</p>\n"},{"tags":[],"owner":{"account_id":357702,"reputation":33,"user_id":698030,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547152037,"creation_date":1543242006,"answer_id":53483109,"question_id":41114875,"body_markdown":"Yes, the `date_sub()` function is the right for the question, anyway, there&#39;s an error in the selected answer:\r\n\r\n&gt; Return type: timestamp\r\n\r\nThe return type should be `date` instead, date_sub() function will trim any `hh:mm:ss` part of the timestamp, and returns only a `date`.\r\n","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>Yes, the <code>date_sub()</code> function is the right for the question, anyway, there's an error in the selected answer:</p>\n\n<blockquote>\n  <p>Return type: timestamp</p>\n</blockquote>\n\n<p>The return type should be <code>date</code> instead, date_sub() function will trim any <code>hh:mm:ss</code> part of the timestamp, and returns only a <code>date</code>.</p>\n"},{"tags":[],"owner":{"account_id":516334,"reputation":4798,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1647958558,"creation_date":1647958558,"answer_id":71573569,"question_id":41114875,"body_markdown":"Spark SQL supports also the `INTERVAL` keyword. You can get the _yesterday&#39;s date_ with this query:\r\n\r\n    SELECT current_date - INTERVAL 1 day;\r\n\r\nFor more details have a look at [interval literals documentation](https://spark.apache.org/docs/3.2.1/sql-ref-literals.html#interval-literal). \r\nI tested the above with spark 3.x, but I am not sure since which release this syntax is supported. ","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>Spark SQL supports also the <code>INTERVAL</code> keyword. You can get the <em>yesterday's date</em> with this query:</p>\n<pre><code>SELECT current_date - INTERVAL 1 day;\n</code></pre>\n<p>For more details have a look at <a href=\"https://spark.apache.org/docs/3.2.1/sql-ref-literals.html#interval-literal\" rel=\"noreferrer\">interval literals documentation</a>.\nI tested the above with spark 3.x, but I am not sure since which release this syntax is supported.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663128782,"creation_date":1663128782,"answer_id":73711441,"question_id":41114875,"body_markdown":"```\r\nSELECT DATE_FORMAT(DATE_ADD(CURRENT_DATE(), -1), &#39;yyyy-MM-dd&#39;)\r\n```","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<pre><code>SELECT DATE_FORMAT(DATE_ADD(CURRENT_DATE(), -1), 'yyyy-MM-dd')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12249416,"reputation":1,"user_id":8940239,"display_name":"Elisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697148448,"creation_date":1697148448,"answer_id":77284077,"question_id":41114875,"body_markdown":"date_add and date_sub work best in databricks + python","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>date_add and date_sub work best in databricks + python</p>\n"}],"owner":{"account_id":7085698,"reputation":337,"user_id":5422574,"accept_rate":60,"display_name":"Vishan Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109265,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":41115143,"answer_count":7,"score":28,"last_activity_date":1697148448,"creation_date":1481610520,"question_id":41114875,"body_markdown":"How to get `current_date - 1` day in sparksql, same as `cur_date()-1` in mysql.","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>How to get <code>current_date - 1</code> day in sparksql, same as <code>cur_date()-1</code> in mysql.</p>\n"},{"tags":["java","sql-server","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1457068258,"post_id":35788419,"comment_id":59247556,"body_markdown":"Post the COMPLETE stack trace, including all the &quot;Caused By&quot; sections (formatted as code, indent 4 spaces)","body":"Post the COMPLETE stack trace, including all the &quot;Caused By&quot; sections (formatted as code, indent 4 spaces)"},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1457068999,"post_id":35788419,"comment_id":59247767,"body_markdown":"what we need here only Complete `StackTrace` no need to post your POM.xml","body":"what we need here only Complete <code>StackTrace</code> no need to post your POM.xml"},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1457070642,"post_id":35788419,"comment_id":59248296,"body_markdown":"please post your table Structure.. This might help us out ... !","body":"please post your table Structure.. This might help us out ... !"},{"owner":{"account_id":7972287,"reputation":11,"user_id":6016528,"display_name":"Rajan"},"score":0,"creation_date":1457112197,"post_id":35788419,"comment_id":59273918,"body_markdown":"Thank you guys, I have edited my full stack trace. I did not create any table in my database. I thought hibernate create by own when he found @Entity Tag.","body":"Thank you guys, I have edited my full stack trace. I did not create any table in my database. I thought hibernate create by own when he found @Entity Tag."}],"answers":[{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457070538,"creation_date":1457070105,"answer_id":35788811,"question_id":35788419,"body_markdown":"try to change this statement to make your code less in number of lines First.\r\n\r\n    &lt;context:annotation-config/&gt;\r\n        &lt;context:component-scan base-package=&quot;org.rajan.csci7795.service&quot; /&gt;\r\n        &lt;context:component-scan base-package=&quot;org.rajan.csci7795.model&quot; /&gt; \r\n\r\nwith\r\n\r\n    &lt;context:annotation-config/&gt;\r\n        &lt;context:component-scan base-package=&quot;org.rajan.csci7795&quot; /&gt;\r\n\r\n        \r\n&gt; Now There may be a problem with this statement\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       ...........\r\n       ...........\r\n       ...........\r\n       ...........\r\n         xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&gt;\r\n\r\nPlease **copy** this piece of with any other source might help you out.\r\n\r\n`ERROR: Invalid object name &#39;Employee&#39;.` Have you focused on this ?? \r\nYou have used `@Table(name = &quot;Employee&quot;)`. Please verify your table name First. is it `Employee` or Exists with any other `Name` ? \r\n\r\nyou may change you code of DTO Class `Employee`\r\n\r\n    @Table(name = &quot;Actual_Table_Name_Found_in_Database&quot;);","title":"org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>try to change this statement to make your code less in number of lines First.</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.service\" /&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.model\" /&gt; \n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>Now There may be a problem with this statement</p>\n</blockquote>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n   ...........\n   ...........\n   ...........\n   ...........\n     xmlns:context=\"http://www.springframework.org/schema/context\"&gt;\n</code></pre>\n\n<p>Please <strong>copy</strong> this piece of with any other source might help you out.</p>\n\n<p><code>ERROR: Invalid object name 'Employee'.</code> Have you focused on this ?? \nYou have used <code>@Table(name = \"Employee\")</code>. Please verify your table name First. is it <code>Employee</code> or Exists with any other <code>Name</code> ? </p>\n\n<p>you may change you code of DTO Class <code>Employee</code></p>\n\n<pre><code>@Table(name = \"Actual_Table_Name_Found_in_Database\");\n</code></pre>\n"}],"owner":{"account_id":7972287,"reputation":11,"user_id":6016528,"display_name":"Rajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8491,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697148265,"creation_date":1457068151,"question_id":35788419,"body_markdown":"I am new to Hibernate and Spring I am trying to save Employee Object into SQL server 2012 using Spring and Hibernate Configuration. But I am getting error! \r\n\r\n      Mar 04, 2016 11:16:57 AM org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\r\n    INFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@4629104a: startup date [Fri Mar 04 11:16:57 EST 2016]; root of context hierarchy\r\n    Mar 04, 2016 11:16:57 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [spring.xml]\r\n    Mar 04, 2016 11:16:57 AM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor &lt;init&gt;\r\n    INFO: JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    Mar 04, 2016 11:16:57 AM org.springframework.jdbc.datasource.DriverManagerDataSource setDriverClassName\r\n    INFO: Loaded JDBC driver: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.3.6.Final}\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    Mar 04, 2016 11:16:58 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    Mar 04, 2016 11:16:58 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\r\n    INFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\r\n    Mar 04, 2016 11:16:58 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n    Employee SignUp 1\r\n    e1\r\n    Employee SignUp 2\r\n    Employee SignUp 3\r\n    Employee SignUp 4\r\n    Mar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    WARN: SQL Error: 208, SQLState: S0002\r\n    Mar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    ERROR: Invalid object name &#39;Employee&#39;.\r\n    Mar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\r\n    INFO: HHH000010: On release of batch it still contained JDBC statements\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:211)\r\n    \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3581)\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\r\n    \tat org.rajan.csci7795.service.EmployeeService.signUpEmployee(EmployeeService.java:55)\r\n    \tat org.rajan.csci7795.model.EmployeeDB.main(EmployeeDB.java:18)\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name &#39;Employee&#39;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:390)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:340)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:308)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208)\r\n    \t... 14 more\r\n\r\n----------\r\n\r\nMy Employee Class\r\n\r\n   \r\n\r\n     package org.rajan.csci7795.model;\r\n    \r\n        import javax.persistence.Column;\r\n        import javax.persistence.Entity;\r\n       import javax.persistence.Id;\r\n       import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;Employee&quot;)\r\n    public class Employee {\r\n    \t@Id\r\n    \t@Column(name=&quot;E_id&quot;)\r\n    \tprivate String Employee_id;\r\n    \t@Column(name=&quot;Password&quot;)\r\n    \tprivate String Password;\r\n    \t@Column(name=&quot;First_Name&quot;)\r\n    \tprivate String first_name;\r\n    \t@Column(name=&quot;Last_Name&quot;)\r\n    \tprivate String last_name;\r\n    \t@Column(name=&quot;Email&quot;)\r\n    \tprivate String Email;\r\n    \t@Column(name=&quot;Phone&quot;)\r\n    \tprivate String phone;\r\n\t\r\n\t\r\n\tpublic String getEmployee_id() {\r\n\t\treturn Employee_id;\r\n\t}\r\n\tpublic void setEmployee_id(String employee_id) {\r\n\t\tEmployee_id = employee_id;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn Password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tPassword = password;\r\n\t}\r\n\tpublic String getFirst_name() {\r\n\t\treturn first_name;\r\n\t}\r\n\tpublic void setFirst_name(String first_name) {\r\n\t\tthis.first_name = first_name;\r\n\t}\r\n\tpublic String getLast_name() {\r\n\t\treturn last_name;\r\n\t}\r\n\tpublic void setLast_name(String last_name) {\r\n\t\tthis.last_name = last_name;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn Email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tEmail = email;\r\n\t}\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\tpublic void setPhone(String phone) {\r\n\t\tthis.phone = phone;\r\n\t}\r\n\t\r\n}\r\n\r\nMy EmployeeSample Class\r\n\r\n    package org.rajan.csci7795.model;\r\n    \r\n    import org.rajan.csci7795.service.EmployeeService;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n     \r\n    public class EmployeeSample {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) throws ClassNotFoundException {\r\n    \t\t\r\n    \t\t\r\n    \t ApplicationContext appContext = new ClassPathXmlApplicationContext(&quot;spring.xml&quot;);\r\n    \t EmployeeService src = appContext.getBean(&quot;employeeService&quot;,EmployeeService.class);  \r\n    \tsrc.signUpEmployee();\r\n    \t\t\r\n }\t\t\r\n}\r\n \r\nMy EmployeeService Class\r\n\r\n    package org.rajan.csci7795.service;\r\n    \r\n    \r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.rajan.csci7795.model.Employee;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Component\r\n    public class EmployeeService{\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\r\n    \tprivate String Employee_id;\r\n    \tprivate String Password;\r\n    \tprivate String first_name;\r\n    \tprivate String last_name;\r\n    \tprivate String Email;\r\n    \tprivate String phone;\r\n    \t\r\n    \tpublic void signUpEmployee()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Employee SignUp 1&quot;);\r\n    \t\tEmployee employee= new Employee();\r\n    \t\temployee.setEmployee_id(&quot;e1&quot;);\r\n    \t\temployee.setPassword(&quot;rajan&quot;);\r\n    \t\temployee.setFirst_name(&quot;Rajan&quot;);\r\n    \t\temployee.setLast_name(&quot;Patel&quot;);\r\n    \t\temployee.setEmail(&quot;rajan@ymail.com&quot;);\r\n    \t\temployee.setPhone(&quot;y016801218&quot;);\r\n    \t\tSystem.out.println(employee.getEmployee_id());\r\n    \t\tSystem.out.println(&quot;Employee SignUp 2&quot;);\r\n    \t\tsessionFactory=getSessionFactory();\r\n    \t\tSession session=sessionFactory.openSession();\r\n    \t\tsession.beginTransaction();\r\n    \t\tSystem.out.println(&quot;Employee SignUp 3&quot;);\r\n    \t\r\n    \t\tsession.save(employee);\r\n    \t\tSystem.out.println(&quot;Employee SignUp 4&quot;);\r\n    \t\tsession.getTransaction().commit();\r\n    \t\tSystem.out.println(&quot;Employee SignUp 5&quot;);\r\n    \t\tsession.flush();\r\n    \t\tsession.close();\r\n    \t\tSystem.out.println(&quot;Employee SignUp&quot;);\r\n    \t}\r\n    \r\n    \tpublic SessionFactory getSessionFactory() {\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    \r\n    \tpublic void setSessionFactory(SessionFactory sessionFactory) {\r\n    \t\tthis.sessionFactory = sessionFactory;\r\n    \t}\r\n    \t\r\n\r\n    }\r\n     \r\nSpring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \thttp://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n    \thttp://www.springframework.org/schema/context\r\n    \t http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot; \r\n    \t xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&gt;\r\n    \r\n    \t&lt;context:annotation-config/&gt;\r\n    \t&lt;context:component-scan base-package=&quot;org.rajan.csci7795.service&quot; /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;org.rajan.csci7795.model&quot; /&gt; \r\n    \t\r\n    \t\r\n    \t\r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /&gt;\r\n    \t&lt;property name=&quot;url&quot; value =&quot;jdbc:sqlserver://localhost:1433;databaseName=MyStoreDB;integratedSecurity=true;&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;org.rajan.csci7795.model&quot;/&gt;\r\n            &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;show_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;  \t\r\n\r\nprom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.rajan.csci7795&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mobileshop&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;mobileshop Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n     \t &lt;dependency&gt; \r\n     \t  &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\r\n      \t  &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\r\n      \t  &lt;version&gt;2.16&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n       &lt;dependency&gt; \r\n     \t  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      \t  &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n      \t  &lt;version&gt;2.16&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \r\n       &lt;!--  &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.3.ga&lt;/version&gt;\r\n    &lt;/dependency&gt; --&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.3.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.5.0-Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.31&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n     \t \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.8.RELEASE&lt;/version&gt;\t\t\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1.GA&lt;/version&gt;\r\n            &lt;/dependency&gt; --&gt;\r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n     &lt;/dependencies&gt;\r\n     \r\n     &lt;build&gt;\r\n        &lt;finalName&gt;mobileshop&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;inherited&gt;true&lt;/inherited&gt;\r\n        &lt;configuration&gt;\r\n        &lt;source&gt;1.7&lt;/source&gt;\r\n        &lt;target&gt;1.7&lt;/target&gt; \r\n        &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n          \r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nI did not create any table in my database. does hibernate create one automatic during mapping? \r\n \r\n\r\n","title":"org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>I am new to Hibernate and Spring I am trying to save Employee Object into SQL server 2012 using Spring and Hibernate Configuration. But I am getting error! </p>\n\n<pre><code>  Mar 04, 2016 11:16:57 AM org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@4629104a: startup date [Fri Mar 04 11:16:57 EST 2016]; root of context hierarchy\nMar 04, 2016 11:16:57 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [spring.xml]\nMar 04, 2016 11:16:57 AM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor &lt;init&gt;\nINFO: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\nMar 04, 2016 11:16:57 AM org.springframework.jdbc.datasource.DriverManagerDataSource setDriverClassName\nINFO: Loaded JDBC driver: com.microsoft.sqlserver.jdbc.SQLServerDriver\nMar 04, 2016 11:16:57 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\nMar 04, 2016 11:16:57 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.3.6.Final}\nMar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nMar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nMar 04, 2016 11:16:58 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\nMar 04, 2016 11:16:58 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\nINFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\nMar 04, 2016 11:16:58 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\nINFO: HHH000397: Using ASTQueryTranslatorFactory\nEmployee SignUp 1\ne1\nEmployee SignUp 2\nEmployee SignUp 3\nEmployee SignUp 4\nMar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 208, SQLState: S0002\nMar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Invalid object name 'Employee'.\nMar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\nINFO: HHH000010: On release of batch it still contained JDBC statements\nException in thread \"main\" org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:211)\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3581)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\n    at org.rajan.csci7795.service.EmployeeService.signUpEmployee(EmployeeService.java:55)\n    at org.rajan.csci7795.model.EmployeeDB.main(EmployeeDB.java:18)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'Employee'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:390)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:340)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:308)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208)\n    ... 14 more\n</code></pre>\n\n<hr>\n\n<p>My Employee Class</p>\n\n<pre><code> package org.rajan.csci7795.model;\n\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n   import javax.persistence.Id;\n   import javax.persistence.Table;\n\n@Entity\n@Table(name=\"Employee\")\npublic class Employee {\n    @Id\n    @Column(name=\"E_id\")\n    private String Employee_id;\n    @Column(name=\"Password\")\n    private String Password;\n    @Column(name=\"First_Name\")\n    private String first_name;\n    @Column(name=\"Last_Name\")\n    private String last_name;\n    @Column(name=\"Email\")\n    private String Email;\n    @Column(name=\"Phone\")\n    private String phone;\n\n\npublic String getEmployee_id() {\n    return Employee_id;\n}\npublic void setEmployee_id(String employee_id) {\n    Employee_id = employee_id;\n}\npublic String getPassword() {\n    return Password;\n}\npublic void setPassword(String password) {\n    Password = password;\n}\npublic String getFirst_name() {\n    return first_name;\n}\npublic void setFirst_name(String first_name) {\n    this.first_name = first_name;\n}\npublic String getLast_name() {\n    return last_name;\n}\npublic void setLast_name(String last_name) {\n    this.last_name = last_name;\n}\npublic String getEmail() {\n    return Email;\n}\npublic void setEmail(String email) {\n    Email = email;\n}\npublic String getPhone() {\n    return phone;\n}\npublic void setPhone(String phone) {\n    this.phone = phone;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My EmployeeSample Class</p>\n\n<pre><code>package org.rajan.csci7795.model;\n\nimport org.rajan.csci7795.service.EmployeeService;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n\npublic class EmployeeSample {\n\n\n    public static void main(String[] args) throws ClassNotFoundException {\n\n\n     ApplicationContext appContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n     EmployeeService src = appContext.getBean(\"employeeService\",EmployeeService.class);  \n    src.signUpEmployee();\n</code></pre>\n\n<p>}<br>\n}</p>\n\n<p>My EmployeeService Class</p>\n\n<pre><code>package org.rajan.csci7795.service;\n\n\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.rajan.csci7795.model.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\n@Component\npublic class EmployeeService{\n\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    private String Employee_id;\n    private String Password;\n    private String first_name;\n    private String last_name;\n    private String Email;\n    private String phone;\n\n    public void signUpEmployee()\n    {\n        System.out.println(\"Employee SignUp 1\");\n        Employee employee= new Employee();\n        employee.setEmployee_id(\"e1\");\n        employee.setPassword(\"rajan\");\n        employee.setFirst_name(\"Rajan\");\n        employee.setLast_name(\"Patel\");\n        employee.setEmail(\"rajan@ymail.com\");\n        employee.setPhone(\"y016801218\");\n        System.out.println(employee.getEmployee_id());\n        System.out.println(\"Employee SignUp 2\");\n        sessionFactory=getSessionFactory();\n        Session session=sessionFactory.openSession();\n        session.beginTransaction();\n        System.out.println(\"Employee SignUp 3\");\n\n        session.save(employee);\n        System.out.println(\"Employee SignUp 4\");\n        session.getTransaction().commit();\n        System.out.println(\"Employee SignUp 5\");\n        session.flush();\n        session.close();\n        System.out.println(\"Employee SignUp\");\n    }\n\n    public SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    public void setSessionFactory(SessionFactory sessionFactory) {\n        this.sessionFactory = sessionFactory;\n    }\n\n\n}\n</code></pre>\n\n<p>Spring.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n    http://www.springframework.org/schema/context\n     http://www.springframework.org/schema/context/spring-context-4.1.xsd\" \n     xmlns:context=\"http://www.springframework.org/schema/context\"&gt;\n\n    &lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.service\" /&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.model\" /&gt; \n\n\n\n    &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" /&gt;\n    &lt;property name=\"url\" value =\"jdbc:sqlserver://localhost:1433;databaseName=MyStoreDB;integratedSecurity=true;\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;property name=\"packagesToScan\" value=\"org.rajan.csci7795.model\"/&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/prop&gt;\n                &lt;prop key=\"show_sql\"&gt;false&lt;/prop&gt;\n                &lt;prop key=\"hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n                &lt;prop key=\"cache.provider_class\"&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;    \n</code></pre>\n\n<p>prom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.rajan.csci7795&lt;/groupId&gt;\n  &lt;artifactId&gt;mobileshop&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;mobileshop Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n     &lt;dependency&gt; \n      &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\n      &lt;version&gt;2.16&lt;/version&gt;\n  &lt;/dependency&gt;\n   &lt;dependency&gt; \n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n      &lt;version&gt;2.16&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n   &lt;!--  &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3.ga&lt;/version&gt;\n&lt;/dependency&gt; --&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.3.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n    &lt;version&gt;3.5.0-Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.31&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;4.0.8.RELEASE&lt;/version&gt;        \n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.GA&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n &lt;/dependencies&gt;\n\n &lt;build&gt;\n    &lt;finalName&gt;mobileshop&lt;/finalName&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;configuration&gt;\n    &lt;source&gt;1.7&lt;/source&gt;\n    &lt;target&gt;1.7&lt;/target&gt; \n    &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I did not create any table in my database. does hibernate create one automatic during mapping? </p>\n"},{"tags":["java","amazon-web-services","aws-lambda","drools"],"answers":[{"tags":[],"owner":{"account_id":6836734,"reputation":53,"user_id":5258392,"display_name":"ArjunPunnam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697148000,"creation_date":1697148000,"answer_id":77284045,"question_id":51553964,"body_markdown":"This is possible with Drools 8 and the executable model jar. You can package and build all your DRL files as a kjar and refer the artifact in your lambda&#39;s pom.xml.\r\nhttps://docs.jboss.org/drools/release/8.44.0.Final/drools-docs/drools/KIE/index.html#executable-model-con_packaging-deploying","title":"Sharing drools RuntimeEnvironment between AWS Lambda&#39;s","body":"<p>This is possible with Drools 8 and the executable model jar. You can package and build all your DRL files as a kjar and refer the artifact in your lambda's pom.xml.\n<a href=\"https://docs.jboss.org/drools/release/8.44.0.Final/drools-docs/drools/KIE/index.html#executable-model-con_packaging-deploying\" rel=\"nofollow noreferrer\">https://docs.jboss.org/drools/release/8.44.0.Final/drools-docs/drools/KIE/index.html#executable-model-con_packaging-deploying</a></p>\n"}],"owner":{"account_id":4804320,"reputation":452,"user_id":3879941,"display_name":"Aman J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697148000,"creation_date":1532680264,"question_id":51553964,"body_markdown":"I need to share the RuntimeEnvironment object of [Drools][1] (7.8) between different isolated java processes executing within AWS Lambda. The creation of the drools environment takes too much time as it has a large number of rules. This would in turn increase the Lambda execution time. Then main objective is to optimise this performance by avoiding the recreation of environment object, each time a lambda is executed.\r\n\r\nI tried keeping the Lambda warm, but it fails when there is a huge load, and concurrent executions are greeted with cold starts. In my case there is always a chance of 100&#39;s of concurrent executions, so keeping too many Lambda instances warm, may cause high utilization bills from AWS. So i would want to avoid such an approach.\r\n\r\nI also tried storing the KieBase within a Redis Cache(via [Amazon Elasticache][2]) using the [Redisson][3] plugin, so that the object can be created once and be shared among all Lambda Execution Instances. This approach also didn&#39;t prove to be fruitful, as Serializing the KieBase object results in stack-overflow errors.\r\n\r\nIs there a way to serialize/de-serialize the KieBase object, without causing StackOverflows or other performance issues, or any other way in which the object can be shared among different Lambda instances.\r\n\r\n\r\n  [1]: http://www.drools.org/\r\n  [2]: https://aws.amazon.com/elasticache/\r\n  [3]: https://redisson.org/","title":"Sharing drools RuntimeEnvironment between AWS Lambda&#39;s","body":"<p>I need to share the RuntimeEnvironment object of <a href=\"http://www.drools.org/\" rel=\"nofollow noreferrer\">Drools</a> (7.8) between different isolated java processes executing within AWS Lambda. The creation of the drools environment takes too much time as it has a large number of rules. This would in turn increase the Lambda execution time. Then main objective is to optimise this performance by avoiding the recreation of environment object, each time a lambda is executed.</p>\n\n<p>I tried keeping the Lambda warm, but it fails when there is a huge load, and concurrent executions are greeted with cold starts. In my case there is always a chance of 100's of concurrent executions, so keeping too many Lambda instances warm, may cause high utilization bills from AWS. So i would want to avoid such an approach.</p>\n\n<p>I also tried storing the KieBase within a Redis Cache(via <a href=\"https://aws.amazon.com/elasticache/\" rel=\"nofollow noreferrer\">Amazon Elasticache</a>) using the <a href=\"https://redisson.org/\" rel=\"nofollow noreferrer\">Redisson</a> plugin, so that the object can be created once and be shared among all Lambda Execution Instances. This approach also didn't prove to be fruitful, as Serializing the KieBase object results in stack-overflow errors.</p>\n\n<p>Is there a way to serialize/de-serialize the KieBase object, without causing StackOverflows or other performance issues, or any other way in which the object can be shared among different Lambda instances.</p>\n"},{"tags":["java","raspberry-pi3"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1697053394,"post_id":77275839,"comment_id":136232566,"body_markdown":"Does `/opt/java/libs/jinput-linux64.so` exist and does it have the right permissions?","body":"Does <code>&#47;opt&#47;java&#47;libs&#47;jinput-linux64.so</code> exist and does it have the right permissions?"},{"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"score":0,"creation_date":1697055206,"post_id":77275839,"comment_id":136232855,"body_markdown":"It seems it must be named  libjinput-linux64.so instead. However, now the shifter on the G25 Racing wheel is appearing as unknown.","body":"It seems it must be named  libjinput-linux64.so instead. However, now the shifter on the G25 Racing wheel is appearing as unknown."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1697059722,"post_id":77275839,"comment_id":136233478,"body_markdown":"Answer your question stating what you did to fix it. And for the new problem raise a new question.","body":"Answer your question stating what you did to fix it. And for the new problem raise a new question."}],"answers":[{"tags":[],"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697147575,"creation_date":1697147575,"answer_id":77284021,"question_id":77275839,"body_markdown":"Java says that it is looking for jinput-linux64.so, when you install it with apt, it gives you libjinput.so. However, the name of the file should be libjinput-linux64.so","title":"Java controller input on raspberry pi3b+","body":"<p>Java says that it is looking for jinput-linux64.so, when you install it with apt, it gives you libjinput.so. However, the name of the file should be libjinput-linux64.so</p>\n"}],"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77284021,"answer_count":1,"score":0,"last_activity_date":1697147575,"creation_date":1697051583,"question_id":77275839,"body_markdown":"\r\nI&#39;m trying to use jInput to get controller input. Works fine on Windows 10, but on Pi3B+ running Raspbian64, the program keeps looking for jinput-linux64.so. After installing the lib with apt and renaming libjinput.so to jinput-linux64.so, it keeps saying it is not found. How can I get the correct .so file?\r\n\r\nSome other posts suggest symbolic links, but this does not seems to work either.\r\n\r\nHere is the actual error:\r\n```\r\njava.lang.UnsatisfiedLinkError: no jinput-linux64 in java.library.path: /opt/java/libs/\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\r\n        at net.java.games.input.LinuxEnvironmentPlugin.lambda$loadLibrary$0(LinuxEnvironmentPlugin.java:67)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n        at net.java.games.input.LinuxEnvironmentPlugin.loadLibrary(LinuxEnvironmentPlugin.java:61)\r\n        at net.java.games.input.LinuxEnvironmentPlugin.&lt;clinit&gt;(LinuxEnvironmentPlugin.java:93)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:375)\r\n        at net.java.games.input.DefaultControllerEnvironment.getControllers(DefaultControllerEnvironment.java:133)\r\n        at InputsWheel.init(InputsWheel.java:19)\r\n        at InputsWheel.&lt;init&gt;(InputsWheel.java:13)\r\n        at Main.main(Main.java:5)\r\n```\r\n\r\n\r\nEdit: It seems the error can be solved by naming the symlink libjinput-linux64.so. However, instead of button names, it spits out unknown.","title":"Java controller input on raspberry pi3b+","body":"<p>I'm trying to use jInput to get controller input. Works fine on Windows 10, but on Pi3B+ running Raspbian64, the program keeps looking for jinput-linux64.so. After installing the lib with apt and renaming libjinput.so to jinput-linux64.so, it keeps saying it is not found. How can I get the correct .so file?</p>\n<p>Some other posts suggest symbolic links, but this does not seems to work either.</p>\n<p>Here is the actual error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no jinput-linux64 in java.library.path: /opt/java/libs/\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\n        at net.java.games.input.LinuxEnvironmentPlugin.lambda$loadLibrary$0(LinuxEnvironmentPlugin.java:67)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n        at net.java.games.input.LinuxEnvironmentPlugin.loadLibrary(LinuxEnvironmentPlugin.java:61)\n        at net.java.games.input.LinuxEnvironmentPlugin.&lt;clinit&gt;(LinuxEnvironmentPlugin.java:93)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:375)\n        at net.java.games.input.DefaultControllerEnvironment.getControllers(DefaultControllerEnvironment.java:133)\n        at InputsWheel.init(InputsWheel.java:19)\n        at InputsWheel.&lt;init&gt;(InputsWheel.java:13)\n        at Main.main(Main.java:5)\n</code></pre>\n<p>Edit: It seems the error can be solved by naming the symlink libjinput-linux64.so. However, instead of button names, it spits out unknown.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697195335,"post_id":77283975,"comment_id":136252505,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29659646,"reputation":1,"user_id":22731546,"display_name":"TankIndustry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697146771,"creation_date":1697146771,"question_id":77283975,"body_markdown":"Q1: ,  For the setTimeToLive method,( setTimeToLive(int ttl) ) what unit of time does the integer input parameter (ttl) represent? (milliseconds, seconds, ?))\r\n\r\nQ2: if a particular MulticastSocket object is used to perform a send  (localMulticastSocket.send(datagramPacketToSend)) can the same object be used to perform a receive (localMultiCastSocket.receive(datagramPacketToReceive)), immediately afterward? FYI, I am sending a particular message to a card reader device, using a MulticastSocket object, and wish to to attempt to receive a response back from that device, using the same MulticastSocket object, if possible\r\n\r\njust looking for some answers is all","title":"JAVA, MulticastSocket object questions :","body":"<p>Q1: ,  For the setTimeToLive method,( setTimeToLive(int ttl) ) what unit of time does the integer input parameter (ttl) represent? (milliseconds, seconds, ?))</p>\n<p>Q2: if a particular MulticastSocket object is used to perform a send  (localMulticastSocket.send(datagramPacketToSend)) can the same object be used to perform a receive (localMultiCastSocket.receive(datagramPacketToReceive)), immediately afterward? FYI, I am sending a particular message to a card reader device, using a MulticastSocket object, and wish to to attempt to receive a response back from that device, using the same MulticastSocket object, if possible</p>\n<p>just looking for some answers is all</p>\n"},{"tags":["java","lexical"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587995788,"creation_date":1587995788,"answer_id":61460564,"question_id":61460004,"body_markdown":"Apparently [ASCII SUB was traditionally used in some old operating systems to indicate the end of a file][1] or the end of a character stream (i.e. the user closing a terminal).\r\n\r\nIt is not something that you&#39;ll see in any recent system, however. It is probably a rule that Java inherited from its very first edition where it existed as a way to prevent pointless and preventable errors when compiling source that is written with that convention in mind.\r\n\r\nFor example, a text editor on one of those OSes might by default write that character to the end of a file and the Java compiler should compile the file just fine even in the presence of that character.\r\n\r\n**tl;dr** it&#39;s a legacy rule to support ancient operation systems and removing it today would unlikely to cause any major problems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Substitute_character","title":"Why ASCII SUB (\\u001a) is ignored in JAVA?","body":"<p>Apparently <a href=\"https://en.wikipedia.org/wiki/Substitute_character\" rel=\"nofollow noreferrer\">ASCII SUB was traditionally used in some old operating systems to indicate the end of a file</a> or the end of a character stream (i.e. the user closing a terminal).</p>\n\n<p>It is not something that you'll see in any recent system, however. It is probably a rule that Java inherited from its very first edition where it existed as a way to prevent pointless and preventable errors when compiling source that is written with that convention in mind.</p>\n\n<p>For example, a text editor on one of those OSes might by default write that character to the end of a file and the Java compiler should compile the file just fine even in the presence of that character.</p>\n\n<p><strong>tl;dr</strong> it's a legacy rule to support ancient operation systems and removing it today would unlikely to cause any major problems.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588061848,"creation_date":1587995811,"answer_id":61460570,"question_id":61460004,"body_markdown":"The Ctrl+Z control code is kinda special in Windows, which inherited it from DOS which inherited it from CP/M. Its legacy use was as an end-of-text marker, similar to how Ctrl+D is used in Unix.\r\n\r\nIt was included as a non-printable character in unicode to match the existing ASCII character 0x1A.\r\n\r\nMany text editors and program languages still support this convention, or can be configured to insert this character at the end of a file when editing. The standard specification for CSV files still recommends a trailing EOF character to be appended as the last character in the file. \r\n\r\nSee https://en.wikipedia.org/wiki/Substitute_character\r\n\r\nSince you&#39;ll never encounter this character in any other place, especially in an escaped input stream, where only printable ascii characters should occur, the character can be safely ignored everywhere. In practice it&#39;s only ignored if it&#39;s the last character in an escaped input stream. \r\n\r\nSo if you put a Ctrl-Z in the middle of your source code, e.g. as part of a variable name, you will get a compiler error.\r\nBut if you would write your code in some ancient text editor that puts a Ctrl-Z at the end of the file, the compiler will safely ignore it for you. ","title":"Why ASCII SUB (\\u001a) is ignored in JAVA?","body":"<p>The Ctrl+Z control code is kinda special in Windows, which inherited it from DOS which inherited it from CP/M. Its legacy use was as an end-of-text marker, similar to how Ctrl+D is used in Unix.</p>\n\n<p>It was included as a non-printable character in unicode to match the existing ASCII character 0x1A.</p>\n\n<p>Many text editors and program languages still support this convention, or can be configured to insert this character at the end of a file when editing. The standard specification for CSV files still recommends a trailing EOF character to be appended as the last character in the file. </p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/Substitute_character\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Substitute_character</a></p>\n\n<p>Since you'll never encounter this character in any other place, especially in an escaped input stream, where only printable ascii characters should occur, the character can be safely ignored everywhere. In practice it's only ignored if it's the last character in an escaped input stream. </p>\n\n<p>So if you put a Ctrl-Z in the middle of your source code, e.g. as part of a variable name, you will get a compiler error.\nBut if you would write your code in some ancient text editor that puts a Ctrl-Z at the end of the file, the compiler will safely ignore it for you. </p>\n"}],"owner":{"account_id":18360674,"reputation":89,"user_id":13372842,"display_name":"locobe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61460570,"answer_count":2,"score":1,"last_activity_date":1697146280,"creation_date":1587994096,"question_id":61460004,"body_markdown":"In the Java Spec, I read that\r\n\r\n&gt; As a special concession for compatibility with certain operating systems, the ASCII SUB character (\\u001a, or control-Z) is ignored if it is the last character in the escaped input stream. [Here][1]\r\n\r\nI don&#39;t understand what the SUB character is and why it should be removed/ignored **if it is the last character in the escaped input stream**\r\n\r\nCan anyone help me to understand? Thank you very much\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se13/html/jls-3.html#jls-Sub","title":"Why ASCII SUB (\\u001a) is ignored in JAVA?","body":"<p>In the Java Spec, I read that</p>\n<blockquote>\n<p>As a special concession for compatibility with certain operating systems, the ASCII SUB character (\\u001a, or control-Z) is ignored if it is the last character in the escaped input stream. <a href=\"https://docs.oracle.com/javase/specs/jls/se13/html/jls-3.html#jls-Sub\" rel=\"nofollow noreferrer\">Here</a></p>\n</blockquote>\n<p>I don't understand what the SUB character is and why it should be removed/ignored <strong>if it is the last character in the escaped input stream</strong></p>\n<p>Can anyone help me to understand? Thank you very much</p>\n"},{"tags":["java","android","kotlin","cocos2d-x"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":2,"creation_date":1625254549,"post_id":68230211,"comment_id":120588022,"body_markdown":"Do you have `classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;` in gradle project level, and `implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;` dependency ?","body":"Do you have <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code> in gradle project level, and <code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;</code> dependency ?"},{"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"score":0,"creation_date":1625336466,"post_id":68230211,"comment_id":120602941,"body_markdown":"No I don&#39;t. I added and it is complaining that kotlin_version variable is unknown.","body":"No I don&#39;t. I added and it is complaining that kotlin_version variable is unknown."}],"answers":[{"tags":[],"owner":{"account_id":19654616,"reputation":27,"user_id":14387534,"display_name":"Durgan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625258781,"creation_date":1625258478,"answer_id":68231066,"question_id":68230211,"body_markdown":"You can solve this provlem  by moving the java file under a java sources directory and then keeping the kotlin kt file under the kotlin sources. \r\n\r\nYour file structure might look more like this afterwards:\r\n\r\n```\r\nproj.android/\r\n├─ app/\r\n│  ├─ src/\r\n│  │  ├─ kotlin/\r\n│  │  │  ├─ org.cocos2dx.cpp/\r\n│  │  │  │  ├─ app.kt\r\n│  │  ├─ java/\r\n│  │  │  ├─ org.cocos2dx.cpp/\r\n│  │  │  │  ├─ AppActivity\r\n```\r\n\r\nIn multiprojects(using JPMS) i additionally had to add \r\n```\r\ncompileKotlin.destinationDir = compileJava.destinationDir\r\n```\r\nto my build.gradle.","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>You can solve this provlem  by moving the java file under a java sources directory and then keeping the kotlin kt file under the kotlin sources.</p>\n<p>Your file structure might look more like this afterwards:</p>\n<pre><code>proj.android/\n├─ app/\n│  ├─ src/\n│  │  ├─ kotlin/\n│  │  │  ├─ org.cocos2dx.cpp/\n│  │  │  │  ├─ app.kt\n│  │  ├─ java/\n│  │  │  ├─ org.cocos2dx.cpp/\n│  │  │  │  ├─ AppActivity\n</code></pre>\n<p>In multiprojects(using JPMS) i additionally had to add</p>\n<pre><code>compileKotlin.destinationDir = compileJava.destinationDir\n</code></pre>\n<p>to my build.gradle.</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1697146046,"creation_date":1625337062,"answer_id":68238993,"question_id":68230211,"body_markdown":"Your code looks fine; but you need to have the **project level build.gradle** class path:\r\n\r\n`classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;` \r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.5.0&quot;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:4.2.0&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd the Kotlin standard library dependencies in **build.gradle module level**:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; \r\n}\r\n```\r\n\r\nFinally, add the following to the **module-level build.gradle** at top-level of the file:\r\n```\r\napply plugin: &quot;kotlin-android&quot;\r\n```\r\n\r\n","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>Your code looks fine; but you need to have the <strong>project level build.gradle</strong> class path:</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code></p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.5.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.2.0&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n    }\n}\n</code></pre>\n<p>And the Kotlin standard library dependencies in <strong>build.gradle module level</strong>:</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; \n}\n</code></pre>\n<p>Finally, add the following to the <strong>module-level build.gradle</strong> at top-level of the file:</p>\n<pre><code>apply plugin: &quot;kotlin-android&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11479058,"reputation":1264,"user_id":8413748,"display_name":"Eishon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695619692,"creation_date":1625621239,"answer_id":68278991,"question_id":68230211,"body_markdown":"Try to use **@JVMStatic** in kotlin function.\r\n\r\n    @JvmStatic\r\n    fun getTime() { /*...*/ }\r\n\r\nfrom JAVA\r\n\r\n    public void test1() {\r\n       AppKt.getTime();\r\n    }\r\n\r\nThis should work.","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>Try to use <strong>@JVMStatic</strong> in kotlin function.</p>\n<pre><code>@JvmStatic\nfun getTime() { /*...*/ }\n</code></pre>\n<p>from JAVA</p>\n<pre><code>public void test1() {\n   AppKt.getTime();\n}\n</code></pre>\n<p>This should work.</p>\n"},{"tags":[],"owner":{"account_id":15057025,"reputation":189,"user_id":10867017,"display_name":"mujeeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673183022,"creation_date":1673183022,"answer_id":75047978,"question_id":68230211,"body_markdown":"Make sure your project and module level build.gradle files match the following: \r\n\r\n\r\n   \r\n\r\n     plugins {\r\n            id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n            id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n            id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n        }\r\n    \r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n            id &#39;kotlin-kapt&#39;\r\n        }\r\n\r\n\r\n","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>Make sure your project and module level build.gradle files match the following:</p>\n<pre><code> plugins {\n        id 'com.android.application' version '7.3.1' apply false\n        id 'com.android.library' version '7.3.1' apply false\n        id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n    }\n\n    plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n        id 'kotlin-kapt'\n    }\n</code></pre>\n"}],"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68238993,"answer_count":4,"score":2,"last_activity_date":1697146046,"creation_date":1625252677,"question_id":68230211,"body_markdown":"I am trying to call a function in Kotlin from Java.  \r\nDocumentation says that it is easy. I have follow this post without luck so far.\r\n\r\nhttps://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions\r\n\r\nWhen typing in Java, the IDE recognizes the class but when I compile it says\r\n*error: cannot find symbol*\r\n\r\nAny help is more than welcome.\r\n\r\napp.kt\r\n```\r\npackage org.cocos2dx.cpp\r\n\r\nfun getTime() { /*...*/ }\r\n```\r\n\r\nAppActivity.java\r\n```\r\n    public void test1() {\r\n        org.cocos2dx.cpp.AppKt.getTime();\r\n    }\r\n```\r\n\r\nProject structure\r\n```\r\n/proj.android\r\n   /app\r\n       /src\r\n          /org.cocos2dx.cpp\r\n              app.kt\r\n              AppActivity\r\n```\r\n\r\nproject level build.gradle\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.5.0&quot;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.7.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral() \r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nModule level build.gradle\r\n```\r\nimport org.gradle.internal.os.OperatingSystem\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\nandroid {\r\n    compileSdkVersion PROP_COMPILE_SDK_VERSION.toInteger()\r\n\r\n    defaultConfig {\r\n        applicationId &quot;demo.1&quot;\r\n        minSdkVersion PROP_MIN_SDK_VERSION\r\n        targetSdkVersion PROP_TARGET_SDK_VERSION\r\n        versionCode 43\r\n        versionName &quot;0.43&quot;\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                targets &#39;MyGame&#39;\r\n                arguments &quot;-DCMAKE_FIND_ROOT_PATH=&quot;, &quot;-DANDROID_STL=c++_static&quot;, &quot;-DANDROID_TOOLCHAIN=clang&quot;, &quot;-DANDROID_ARM_NEON=TRUE&quot;\r\n                cppFlags &quot;-frtti -fexceptions -fsigned-char&quot;\r\n            }\r\n        }\r\n\r\n        ndk {\r\n            abiFilters = []\r\n            abiFilters.addAll(PROP_APP_ABI.split(&#39;:&#39;).collect{it as String})\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    sourceSets.main {\r\n        java.srcDir &quot;src&quot;\r\n        res.srcDir &quot;res&quot;\r\n        manifest.srcFile &quot;AndroidManifest.xml&quot;\r\n        assets.srcDir &quot;../../Resources&quot;\r\n    }\r\n\r\n    externalNativeBuild {\r\n        cmake {\r\n            path &quot;../../CMakeLists.txt&quot;\r\n        }\r\n    }\r\n\r\n    signingConfigs {\r\n       release {\r\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\r\n                storeFile file(RELEASE_STORE_FILE)\r\n                storePassword RELEASE_STORE_PASSWORD\r\n                keyAlias RELEASE_KEY_ALIAS\r\n                keyPassword RELEASE_KEY_PASSWORD\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            debuggable false\r\n            jniDebuggable false\r\n            renderscriptDebuggable false\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n            renderscriptDebuggable true\r\n        }\r\n    }\r\n}\r\n\r\nandroid.applicationVariants.all { variant -&gt;\r\n    def project_root_folder = &quot;${projectDir}/../..&quot;\r\n    def dest_assets_folder = &quot;${projectDir}/assets&quot;\r\n\r\n    delete dest_assets_folder\r\n    def targetName = variant.name.capitalize()\r\n    def copyTaskName = &quot;copy${targetName}ResourcesToAssets&quot;\r\n    \r\n    tasks.register(copyTaskName) {\r\n        copy {\r\n            from &quot;${buildDir}/../../../Resources&quot;\r\n            into &quot;${buildDir}/intermediates/assets/${variant.dirName}&quot;\r\n            exclude &quot;**/*.gz&quot;\r\n        }\r\n    }\r\n    tasks.getByName(&quot;pre${targetName}Build&quot;).dependsOn copyTaskName\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation project(&#39;:libcocos2dx&#39;)\r\n    implementation &#39;androidx.core:core:1.0.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n}\r\n```\r\n\r\nError\r\n```\r\nerror: cannot find symbol\r\n        org.cocos2dx.cpp.AppKt.getTime();\r\n                        ^\r\n  symbol:   class AppKt\r\n  location: package org.cocos2dx.cpp\r\n```\r\n","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>I am trying to call a function in Kotlin from Java.<br />\nDocumentation says that it is easy. I have follow this post without luck so far.</p>\n<p><a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions</a></p>\n<p>When typing in Java, the IDE recognizes the class but when I compile it says\n<em>error: cannot find symbol</em></p>\n<p>Any help is more than welcome.</p>\n<p>app.kt</p>\n<pre><code>package org.cocos2dx.cpp\n\nfun getTime() { /*...*/ }\n</code></pre>\n<p>AppActivity.java</p>\n<pre><code>    public void test1() {\n        org.cocos2dx.cpp.AppKt.getTime();\n    }\n</code></pre>\n<p>Project structure</p>\n<pre><code>/proj.android\n   /app\n       /src\n          /org.cocos2dx.cpp\n              app.kt\n              AppActivity\n</code></pre>\n<p>project level build.gradle</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.5.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.8'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.7.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral() \n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>Module level build.gradle</p>\n<pre><code>import org.gradle.internal.os.OperatingSystem\n\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\n    compileSdkVersion PROP_COMPILE_SDK_VERSION.toInteger()\n\n    defaultConfig {\n        applicationId &quot;demo.1&quot;\n        minSdkVersion PROP_MIN_SDK_VERSION\n        targetSdkVersion PROP_TARGET_SDK_VERSION\n        versionCode 43\n        versionName &quot;0.43&quot;\n\n        externalNativeBuild {\n            cmake {\n                targets 'MyGame'\n                arguments &quot;-DCMAKE_FIND_ROOT_PATH=&quot;, &quot;-DANDROID_STL=c++_static&quot;, &quot;-DANDROID_TOOLCHAIN=clang&quot;, &quot;-DANDROID_ARM_NEON=TRUE&quot;\n                cppFlags &quot;-frtti -fexceptions -fsigned-char&quot;\n            }\n        }\n\n        ndk {\n            abiFilters = []\n            abiFilters.addAll(PROP_APP_ABI.split(':').collect{it as String})\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    sourceSets.main {\n        java.srcDir &quot;src&quot;\n        res.srcDir &quot;res&quot;\n        manifest.srcFile &quot;AndroidManifest.xml&quot;\n        assets.srcDir &quot;../../Resources&quot;\n    }\n\n    externalNativeBuild {\n        cmake {\n            path &quot;../../CMakeLists.txt&quot;\n        }\n    }\n\n    signingConfigs {\n       release {\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\n                storeFile file(RELEASE_STORE_FILE)\n                storePassword RELEASE_STORE_PASSWORD\n                keyAlias RELEASE_KEY_ALIAS\n                keyPassword RELEASE_KEY_PASSWORD\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            debuggable false\n            jniDebuggable false\n            renderscriptDebuggable false\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\n                signingConfig signingConfigs.release\n            }\n        }\n\n        debug {\n            debuggable true\n            jniDebuggable true\n            renderscriptDebuggable true\n        }\n    }\n}\n\nandroid.applicationVariants.all { variant -&gt;\n    def project_root_folder = &quot;${projectDir}/../..&quot;\n    def dest_assets_folder = &quot;${projectDir}/assets&quot;\n\n    delete dest_assets_folder\n    def targetName = variant.name.capitalize()\n    def copyTaskName = &quot;copy${targetName}ResourcesToAssets&quot;\n    \n    tasks.register(copyTaskName) {\n        copy {\n            from &quot;${buildDir}/../../../Resources&quot;\n            into &quot;${buildDir}/intermediates/assets/${variant.dirName}&quot;\n            exclude &quot;**/*.gz&quot;\n        }\n    }\n    tasks.getByName(&quot;pre${targetName}Build&quot;).dependsOn copyTaskName\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project(':libcocos2dx')\n    implementation 'androidx.core:core:1.0.0'\n    implementation platform('com.google.firebase:firebase-bom:28.1.0')\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n}\n</code></pre>\n<p>Error</p>\n<pre><code>error: cannot find symbol\n        org.cocos2dx.cpp.AppKt.getTime();\n                        ^\n  symbol:   class AppKt\n  location: package org.cocos2dx.cpp\n</code></pre>\n"},{"tags":["java","class","generics","parameter-passing","deserialization"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1418260824,"post_id":27413818,"comment_id":43271753,"body_markdown":"You need to show more code. What error did you get exactly?","body":"You need to show more code. What error did you get exactly?"},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418261075,"post_id":27413818,"comment_id":43271819,"body_markdown":"Error:() java: cannot find symbol. More code is in http://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java","body":"Error:() java: cannot find symbol. More code is in <a href=\"http://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java\" title=\"passing and using class in a method in java\">stackoverflow.com/questions/27413112/&hellip;</a>"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1418261474,"post_id":27413818,"comment_id":43271914,"body_markdown":"What&#39;s the type of `var`? What&#39;s the definition of that class?","body":"What&#39;s the type of <code>var</code>? What&#39;s the definition of that class?"},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418261738,"post_id":27413818,"comment_id":43272005,"body_markdown":"Added details in the question","body":"Added details in the question"},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1418261862,"post_id":27413818,"comment_id":43272033,"body_markdown":"Is it a compile or runtime error? You must post the actual error message and specify where do you get it (if it is in runtime, the stacktrace is useful).","body":"Is it a compile or runtime error? You must post the actual error message and specify where do you get it (if it is in runtime, the stacktrace is useful)."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1418261943,"post_id":27413818,"comment_id":43272059,"body_markdown":"What would happen if you called `methodB(String.class)`? `String` has no method `blah`.","body":"What would happen if you called <code>methodB(String.class)</code>? <code>String</code> has no method <code>blah</code>."},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418262122,"post_id":27413818,"comment_id":43272102,"body_markdown":"@DWilches It is a compiletime error. Running the program gives me `java cannot find symbol`. When I do `var.`, my IDE does not give me an option to chose any methods as it was when I was not using generics. When I anyhow use it, it gives me that error.","body":"@DWilches It is a compiletime error. Running the program gives me <code>java cannot find symbol</code>. When I do <code>var.</code>, my IDE does not give me an option to chose any methods as it was when I was not using generics. When I anyhow use it, it gives me that error."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":5,"creation_date":1418262191,"post_id":27413818,"comment_id":43272117,"body_markdown":"This has nothing to do with serialization.  It is a compiler error you are getting because your type parameter `T` is not restricted to a type having a `blah` method.  You must specify a proper type boundary.","body":"This has nothing to do with serialization.  It is a compiler error you are getting because your type parameter <code>T</code> is not restricted to a type having a <code>blah</code> method.  You must specify a proper type boundary."},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1418262236,"post_id":27413818,"comment_id":43272124,"body_markdown":"@Ava What is `convertValue` returning ? How is that returned class declared?","body":"@Ava What is <code>convertValue</code> returning ? How is that returned class declared?"},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418262293,"post_id":27413818,"comment_id":43272135,"body_markdown":"`var` is of type `T` and I am passing `ClassA.class` to `clazz`","body":"<code>var</code> is of type <code>T</code> and I am passing <code>ClassA.class</code> to <code>clazz</code>"}],"answers":[{"tags":[],"owner":{"account_id":2984244,"reputation":236,"user_id":2533521,"display_name":"user2533521"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418275911,"creation_date":1418275911,"answer_id":27415997,"question_id":27413818,"body_markdown":"\r\nI think you should use interfaces instead of generics, if you want to call the same &#39;blah&#39; function on a variety of classes (A,X,Y,Z) (each of which has the same function signature)..\r\n\r\nYour other option (if you cannot modify A, e.t.c) is to use reflection. read more about this in https://docs.oracle.com/javase/tutorial/reflect/","title":"Cannot access class methods via generics","body":"<p>I think you should use interfaces instead of generics, if you want to call the same 'blah' function on a variety of classes (A,X,Y,Z) (each of which has the same function signature)..</p>\n\n<p>Your other option (if you cannot modify A, e.t.c) is to use reflection. read more about this in <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/reflect/</a></p>\n"},{"tags":[],"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697144965,"creation_date":1418287839,"answer_id":27418726,"question_id":27413818,"body_markdown":"Thanks to https://stackoverflow.com/questions/18471701/passing-a-class-with-type-parameter-as-type-parameter-for-generic-method-in-java. Solved using [TypeToken][1]\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ReflectionExplained","title":"Cannot access class methods via generics","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/18471701/passing-a-class-with-type-parameter-as-type-parameter-for-generic-method-in-java\">Passing a class with type parameter as type parameter for generic method in Java</a>. Solved using <a href=\"https://github.com/google/guava/wiki/ReflectionExplained\" rel=\"nofollow noreferrer\">TypeToken</a></p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418350197,"creation_date":1418350197,"answer_id":27435756,"question_id":27413818,"body_markdown":"The line where you assign to `var` at runtime is absolutely irrelevant. The only thing that matters for compiling a call is the static (compile-time) type of `var`. Since `T` is unbounded (other than by `Object`), it is not known to support any methods, other than those provided by `Object`. Both pieces of code should fail to compile.","title":"Cannot access class methods via generics","body":"<p>The line where you assign to <code>var</code> at runtime is absolutely irrelevant. The only thing that matters for compiling a call is the static (compile-time) type of <code>var</code>. Since <code>T</code> is unbounded (other than by <code>Object</code>), it is not known to support any methods, other than those provided by <code>Object</code>. Both pieces of code should fail to compile.</p>\n"}],"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":27418726,"answer_count":3,"score":-1,"last_activity_date":1697144965,"creation_date":1418260664,"question_id":27413818,"body_markdown":"I changed my method to [generic][1] method. What is happening now is that I was deserializing the class inside the `methodB` and accessing its methods which I can not do anymore.\r\n\r\n    &lt;T&gt; void methodB(Class&lt;T&gt; clazz) {\r\n        T var;\r\n        HashMap&lt;String, T&gt; hash = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    void methodA () {\r\n      methodB(classA.class);\r\n    }\r\n\r\nInitially inside `methodB` with no generics,\r\n\r\n    var = mapper.convertValue(iter.next(), ClassA.class);\r\n    var.blah() //works fine\r\n\r\nAfter using generics,\r\n\r\n    var = mapper.convertValue(iter.next(), clazz);\r\n    var.blah() //cannot resolve the method.\r\n\r\nHow do I access `blah()` method of `classA`? \r\n\r\n  [1]: https://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java\r\n","title":"Cannot access class methods via generics","body":"<p>I changed my method to <a href=\"https://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java\">generic</a> method. What is happening now is that I was deserializing the class inside the <code>methodB</code> and accessing its methods which I can not do anymore.</p>\n\n<pre><code>&lt;T&gt; void methodB(Class&lt;T&gt; clazz) {\n    T var;\n    HashMap&lt;String, T&gt; hash = new HashMap&lt;&gt;();\n}\n\nvoid methodA () {\n  methodB(classA.class);\n}\n</code></pre>\n\n<p>Initially inside <code>methodB</code> with no generics,</p>\n\n<pre><code>var = mapper.convertValue(iter.next(), ClassA.class);\nvar.blah() //works fine\n</code></pre>\n\n<p>After using generics,</p>\n\n<pre><code>var = mapper.convertValue(iter.next(), clazz);\nvar.blah() //cannot resolve the method.\n</code></pre>\n\n<p>How do I access <code>blah()</code> method of <code>classA</code>? </p>\n"},{"tags":["java","multithreading","rabbitmq","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":13802804,"reputation":96,"user_id":9962449,"display_name":"Arnaud Cogolu&#232;gnes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529416835,"creation_date":1529416835,"answer_id":50930344,"question_id":50897747,"body_markdown":"The solution you suggest is OK. You can also have a look at Spring AMQP. It provides a thread-safe `RabbitTemplate` that uses channel pooling under the covers.","title":"Using RabbitMQ publisher in multiple threads","body":"<p>The solution you suggest is OK. You can also have a look at Spring AMQP. It provides a thread-safe <code>RabbitTemplate</code> that uses channel pooling under the covers.</p>\n"}],"owner":{"account_id":1536372,"reputation":1235,"user_id":1432310,"accept_rate":42,"display_name":"iddqd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697144815,"creation_date":1529247057,"question_id":50897747,"body_markdown":"I would like to create a RabbitMQ publisher that might be called from different threads.  \r\n Based on the RabbitMQ best practice i should not allow usages of the same channel in different threads so sharing this channel in multiple instances of the publisher will cause issues.   \r\nThe only solution i can think of is having a manager thread with an inner queue that implements an internal producer-consumer with a single consumer existing only in that thread.  \r\n Is there an easier way? would like to avoid synchronization as much as possible for obvious reasons, this solution does not allow that.","title":"Using RabbitMQ publisher in multiple threads","body":"<p>I would like to create a RabbitMQ publisher that might be called from different threads.<br>\n Based on the RabbitMQ best practice i should not allow usages of the same channel in different threads so sharing this channel in multiple instances of the publisher will cause issues.<br>\nThe only solution i can think of is having a manager thread with an inner queue that implements an internal producer-consumer with a single consumer existing only in that thread.<br>\n Is there an easier way? would like to avoid synchronization as much as possible for obvious reasons, this solution does not allow that.</p>\n"},{"tags":["java","spring-boot","error-handling","runtime-error","runtimeexception"],"answers":[{"tags":[],"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592659275,"creation_date":1592657597,"answer_id":62486053,"question_id":62483281,"body_markdown":"1. Add following property to pom.xml\r\n\r\n   \r\n        &lt;properties&gt;\r\n            &lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\r\n        &lt;/properties&gt;\r\n\r\n\r\n2. Add this build plugin if you don&#39;t have it in your pom\r\n\r\n  ```\r\n     &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n3. run ```mvn clean install```\r\n4. Run application using ```mvn springboot:run```\r\n\r\n\r\nCan you try below steps:\r\n\r\nRight click on your project. Select &quot;Run As&quot; -&gt; &quot;Maven build...&quot;. Then in &quot;Goals&quot; field, enter &quot;spring-boot:run&quot;. Apply &amp; Run.\r\n","title":"&quot;Spring Boot Project&quot; Error: Could not find or load main class fyp.fms.FleetManagementSystemApplication","body":"<ol>\n<li><p>Add following property to pom.xml</p>\n<pre><code> &lt;properties&gt;\n     &lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\n &lt;/properties&gt;\n</code></pre>\n</li>\n<li><p>Add this build plugin if you don't have it in your pom</p>\n</li>\n</ol>\n<pre><code>   &lt;build&gt;\n          &lt;plugins&gt;\n           &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                  &lt;executable&gt;true&lt;/executable&gt;\n              &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<ol start=\"3\">\n<li>run <code>mvn clean install</code></li>\n<li>Run application using <code>mvn springboot:run</code></li>\n</ol>\n<p>Can you try below steps:</p>\n<p>Right click on your project. Select &quot;Run As&quot; -&gt; &quot;Maven build...&quot;. Then in &quot;Goals&quot; field, enter &quot;spring-boot:run&quot;. Apply &amp; Run.</p>\n"}],"owner":{"account_id":12263752,"reputation":47,"user_id":8950791,"display_name":"Asmat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697144700,"creation_date":1592640707,"question_id":62483281,"body_markdown":"I have gone through all the articles available in and out stack over flow. But my problem is not resolved. I have a working java 8 which works fine on my all applications with in eclipse and also i have tried to run with cmd. it means class path, environment variable etc, all works fine. Now i want to create a Spring boot project, so when ever i run an spring boot project using both Run As Java Application &amp; Spring Boot App, It Gives This Error &quot;Error: Could not find or load main class package.classname&quot; Here is the Screen Shot: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ortJ1.png\r\n\r\n\r\n\r\nNote: I have tried almost every thing, like clean project, checking environment variables, updated eclipse etc. This problem is with only a spring boot application. All other Java applications works fine.\r\n\r\nHere is my pom.xml file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fyp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fms&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;FleetManagementSystem&lt;/name&gt;\r\n\t&lt;description&gt;Fleet Management System On Spring Boot. A Final Year Project.&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n","title":"&quot;Spring Boot Project&quot; Error: Could not find or load main class fyp.fms.FleetManagementSystemApplication","body":"<p>I have gone through all the articles available in and out stack over flow. But my problem is not resolved. I have a working java 8 which works fine on my all applications with in eclipse and also i have tried to run with cmd. it means class path, environment variable etc, all works fine. Now i want to create a Spring boot project, so when ever i run an spring boot project using both Run As Java Application &amp; Spring Boot App, It Gives This Error &quot;Error: Could not find or load main class package.classname&quot; Here is the Screen Shot: <a href=\"https://i.stack.imgur.com/ortJ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ortJ1.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: I have tried almost every thing, like clean project, checking environment variables, updated eclipse etc. This problem is with only a spring boot application. All other Java applications works fine.</p>\n<p>Here is my pom.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.1.RELEASE\n \n\nfyp\nfms\n0.0.1-SNAPSHOT\nFleetManagementSystem\nFleet Management System On Spring Boot. A Final Year Project.</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","logging","java.util.logging"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632109333,"post_id":2160471,"comment_id":122395333,"body_markdown":"Yes and it is documented. See `java.util.logging`.","body":"Yes and it is documented. See <code>java.util.logging</code>."}],"answers":[{"tags":[],"owner":{"account_id":71650,"reputation":4872,"user_id":207223,"display_name":"Alon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264750637,"creation_date":1264750321,"answer_id":2160532,"question_id":2160471,"body_markdown":"you can  configure your code to set  the level based on an envrioment variable :\r\n\r\n    String sLoglevel= System.getenv(&quot;LOGLEVEL&quot;);  \r\n    int ilevel = loglevel.parseInt(sLoglevel);\r\n    //set the log level based on retrieved value \r\n  \r\n\r\n\r\n","title":"Is there a command line option for setting the default log level in Java","body":"<p>you can  configure your code to set  the level based on an envrioment variable :</p>\n\n<pre><code>String sLoglevel= System.getenv(\"LOGLEVEL\");  \nint ilevel = loglevel.parseInt(sLoglevel);\n//set the log level based on retrieved value \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2151,"reputation":3523,"user_id":2965,"accept_rate":86,"display_name":"Laurent K"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1264752582,"creation_date":1264752582,"answer_id":2160652,"question_id":2160471,"body_markdown":"You can even pass your log Level as a user defined property.\r\n\r\n    -DmyProp.logLevel=FINE\r\n\r\nIn your code:\r\n\r\n    String logLevel = System.getProperties(&quot;myProp.logLevel&quot;);\r\n\r\nBut I have the idea that your are looking for a more &quot;built-in&quot; and automatically handled property, right? AFAIK, it doesn&#39;t exist, but maybe I&#39;m wrong.","title":"Is there a command line option for setting the default log level in Java","body":"<p>You can even pass your log Level as a user defined property.</p>\n\n<pre><code>-DmyProp.logLevel=FINE\n</code></pre>\n\n<p>In your code:</p>\n\n<pre><code>String logLevel = System.getProperties(\"myProp.logLevel\");\n</code></pre>\n\n<p>But I have the idea that your are looking for a more \"built-in\" and automatically handled property, right? AFAIK, it doesn't exist, but maybe I'm wrong.</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1697144605,"creation_date":1623376860,"answer_id":67930414,"question_id":2160471,"body_markdown":"tldr:\r\n-----\r\nfor java-9+ put this code at the beginning of your `main` method:  \r\n(see the bottom for java-8 and earlier)\r\n```java\r\nfinal var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\nif (cmdLineVal != null) {\r\n    LogManager.getLogManager().updateConfiguration(\r\n        (key) -&gt; (oldVal, newVal) -&gt;\r\n                key.equals(&quot;.level&quot;)\r\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\r\n                ? cmdLineVal : newVal\r\n    );\r\n}\r\n```\r\n\r\nexplanation and workaround if `main` cannot be modified:\r\n------------------------\r\nGenerally `java.util.logging` does not use system properties to configure itself (there are a few exceptions, like `java.util.logging.SimpleFormatter.format`). Instead, the global [LogManager](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html) singleton instance is responsible for configuring the logging subsystem and by default it loads properties from `${JAVA_HOME}/conf/logging.properties`. There are a few ways to tweak this behavior:\r\n* provide `java.util.logging.config.file` system property with a path to an alternative logging config properties file.\r\n* provide `java.util.logging.config.class` system property with a class name that completely overrides configuration process (usually by providing a custom `InputStream` with logging config properties to [readConfiguration(is)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream))).\r\n* use [LogManager.updateConfiguration(mapper)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.util.function.Function)) method (**java 9+**) to override selected properties only. Note that this method can only override existing properties, but cannot add new ones (for that, a way more cumbersome [updateConfiguration(inputStream, mapper)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.io.InputStream,java.util.function.Function)) would need to be used).\r\n\r\nSo in case of overriding the global root log-level, it&#39;s probably easiest to use `updateConfiguration(mapper)` somewhere at the beginning of your `main` method. `LogManager` uses `.level` property (level of the empty-string root logger) as a default for its child loggers not configured explicitly, so using the `java.util.logging.loglevel` system property from the OP, it would be like this:\r\n```java\r\nfinal var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\nif (cmdLineVal != null) {\r\n    LogManager.getLogManager().updateConfiguration(\r\n        (key) -&gt; (oldVal, newVal) -&gt;\r\n                key.equals(&quot;.level&quot;)\r\n                ? cmdLineVal : newVal\r\n    );\r\n}\r\n```\r\nNote that in case of the default logging config, the above is not sufficient for any `FINE` (or lower) log entries to be output on the console, as [ConsoleHandler](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/ConsoleHandler.html) by default outputs `INFO` and higher. To change this, you need to override also `java.util.logging.ConsoleHandler.level` logging config property. If you want to use the same system property for this again, then you need to modify the argument of `updateConfiguration` like the below:\r\n```java\r\nfinal var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\nif (cmdLineVal != null) {\r\n    LogManager.getLogManager().updateConfiguration(\r\n        (key) -&gt; (oldVal, newVal) -&gt;\r\n                key.equals(&quot;.level&quot;)\r\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\r\n                ? cmdLineVal : newVal\r\n    );\r\n}\r\n```\r\n\r\nIf you can&#39;t change the `main` method, then you can define the previously mentioned `java.util.logging.config.class` property to point to your class like this: `-Djava.util.logging.config.class=com.example.MyJulConfig`. This will delegate the task of logging configuration to the constructor of this class. In such constructor you can first read the config from a file the normal way (using [readConfiguration()](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration()) method) and then use the code from the previous snippet:\r\n```java\r\npublic MyJulConfig() throws IOException {\r\n    System.clearProperty(&quot;java.util.logging.config.class&quot;);\r\n    LogManager.getLogManager().readConfiguration();\r\n\r\n    // the same code as in the previous snippet:\r\n    final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\n    if (cmdLineVal != null) {\r\n        LogManager.getLogManager().updateConfiguration(\r\n            (key) -&gt; (oldVal, newVal) -&gt;\r\n                    key.equals(&quot;.level&quot;)\r\n                            || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\r\n                    ? cmdLineVal : newVal\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nAs a final note, I&#39;ve recently written a simple helper function to make any ad-hoc command-line changes to logging config easier: [overrideLogLevelsWithSystemProperties](https://github.com/morgwai/jul-utils/blob/v2.1/src/main/java/pl/morgwai/base/jul/JulConfigurator.java#L23-L61) (also supports adding new logging properties).  \r\nAs mentioned by @TWiStErRob in [the comment](https://stackoverflow.com/questions/2160471/is-there-a-command-line-option-for-setting-the-default-log-level-in-java/67930414#comment122392302_67930414), you don&#39;t even need to include the containing `jul-utils` as a dependency of your project: just add it to your classpath (available in [central](https://search.maven.org/artifact/pl.morgwai.base/jul-utils/)) when starting your app and define your desired system properties:\r\n```bash\r\njava -cp /path/to/jul-utils.jar:${CLASSPATH} \\\r\n-Djava.util.logging.config.class=pl.morgwai.base.jul.JulConfigurator \\\r\n-Djava.util.logging.overrideLevel=,java.util.logging.ConsoleHandler,com.third.party.talkative.lib \\\r\n-D.level=FINE \\\r\n-Djava.util.logging.ConsoleHandler.level=FINE \\\r\n-Dcom.third.party.talkative.lib.level=SEVERE \\\r\n${MY_JAVA_APP_MAINCLASS_AND_ARGUMENTS}\r\n```\r\n\r\noutline for java-8 and earlier:\r\n---------------\r\n1. parse the config file manually into a `Properties` using [load(is)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)) (see [here](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.logging/share/classes/java/util/logging/LogManager.java#L1382) how `LogManager` determines which file to read)\r\n1. replace values for `.level` and `java.util.logging.ConsoleHandler.level` using [setProperty(key, value)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#setProperty(java.lang.String,java.lang.String)) with the value obtained from the system property\r\n1. store the updated properties into a `ByteArrayOutputStream` using [store(os, null)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#store(java.io.Writer,java.lang.String))\r\n1. wrap [the underlying data](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ByteArrayOutputStream.html#toByteArray()) with a `ByteArrayInputStream` (see also [this discussion](https://stackoverflow.com/questions/5778658/how-do-i-convert-an-outputstream-to-an-inputstream)) and pass it to [readConfiguration(is)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream))\r\n\r\nas before, you can do it either in your `main` method or in a constructor of a class pointed by `java.util.logging.config.class` system property.","title":"Is there a command line option for setting the default log level in Java","body":"<h2>tldr:</h2>\n<p>for java-9+ put this code at the beginning of your <code>main</code> method:<br />\n(see the bottom for java-8 and earlier)</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\nif (cmdLineVal != null) {\n    LogManager.getLogManager().updateConfiguration(\n        (key) -&gt; (oldVal, newVal) -&gt;\n                key.equals(&quot;.level&quot;)\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\n                ? cmdLineVal : newVal\n    );\n}\n</code></pre>\n<h2>explanation and workaround if <code>main</code> cannot be modified:</h2>\n<p>Generally <code>java.util.logging</code> does not use system properties to configure itself (there are a few exceptions, like <code>java.util.logging.SimpleFormatter.format</code>). Instead, the global <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html\" rel=\"nofollow noreferrer\">LogManager</a> singleton instance is responsible for configuring the logging subsystem and by default it loads properties from <code>${JAVA_HOME}/conf/logging.properties</code>. There are a few ways to tweak this behavior:</p>\n<ul>\n<li>provide <code>java.util.logging.config.file</code> system property with a path to an alternative logging config properties file.</li>\n<li>provide <code>java.util.logging.config.class</code> system property with a class name that completely overrides configuration process (usually by providing a custom <code>InputStream</code> with logging config properties to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream)\" rel=\"nofollow noreferrer\">readConfiguration(is)</a>).</li>\n<li>use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.util.function.Function)\" rel=\"nofollow noreferrer\">LogManager.updateConfiguration(mapper)</a> method (<strong>java 9+</strong>) to override selected properties only. Note that this method can only override existing properties, but cannot add new ones (for that, a way more cumbersome <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.io.InputStream,java.util.function.Function)\" rel=\"nofollow noreferrer\">updateConfiguration(inputStream, mapper)</a> would need to be used).</li>\n</ul>\n<p>So in case of overriding the global root log-level, it's probably easiest to use <code>updateConfiguration(mapper)</code> somewhere at the beginning of your <code>main</code> method. <code>LogManager</code> uses <code>.level</code> property (level of the empty-string root logger) as a default for its child loggers not configured explicitly, so using the <code>java.util.logging.loglevel</code> system property from the OP, it would be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\nif (cmdLineVal != null) {\n    LogManager.getLogManager().updateConfiguration(\n        (key) -&gt; (oldVal, newVal) -&gt;\n                key.equals(&quot;.level&quot;)\n                ? cmdLineVal : newVal\n    );\n}\n</code></pre>\n<p>Note that in case of the default logging config, the above is not sufficient for any <code>FINE</code> (or lower) log entries to be output on the console, as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/ConsoleHandler.html\" rel=\"nofollow noreferrer\">ConsoleHandler</a> by default outputs <code>INFO</code> and higher. To change this, you need to override also <code>java.util.logging.ConsoleHandler.level</code> logging config property. If you want to use the same system property for this again, then you need to modify the argument of <code>updateConfiguration</code> like the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\nif (cmdLineVal != null) {\n    LogManager.getLogManager().updateConfiguration(\n        (key) -&gt; (oldVal, newVal) -&gt;\n                key.equals(&quot;.level&quot;)\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\n                ? cmdLineVal : newVal\n    );\n}\n</code></pre>\n<p>If you can't change the <code>main</code> method, then you can define the previously mentioned <code>java.util.logging.config.class</code> property to point to your class like this: <code>-Djava.util.logging.config.class=com.example.MyJulConfig</code>. This will delegate the task of logging configuration to the constructor of this class. In such constructor you can first read the config from a file the normal way (using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration()\" rel=\"nofollow noreferrer\">readConfiguration()</a> method) and then use the code from the previous snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MyJulConfig() throws IOException {\n    System.clearProperty(&quot;java.util.logging.config.class&quot;);\n    LogManager.getLogManager().readConfiguration();\n\n    // the same code as in the previous snippet:\n    final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\n    if (cmdLineVal != null) {\n        LogManager.getLogManager().updateConfiguration(\n            (key) -&gt; (oldVal, newVal) -&gt;\n                    key.equals(&quot;.level&quot;)\n                            || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\n                    ? cmdLineVal : newVal\n        );\n    }\n}\n</code></pre>\n<p>As a final note, I've recently written a simple helper function to make any ad-hoc command-line changes to logging config easier: <a href=\"https://github.com/morgwai/jul-utils/blob/v2.1/src/main/java/pl/morgwai/base/jul/JulConfigurator.java#L23-L61\" rel=\"nofollow noreferrer\">overrideLogLevelsWithSystemProperties</a> (also supports adding new logging properties).<br />\nAs mentioned by @TWiStErRob in <a href=\"https://stackoverflow.com/questions/2160471/is-there-a-command-line-option-for-setting-the-default-log-level-in-java/67930414#comment122392302_67930414\">the comment</a>, you don't even need to include the containing <code>jul-utils</code> as a dependency of your project: just add it to your classpath (available in <a href=\"https://search.maven.org/artifact/pl.morgwai.base/jul-utils/\" rel=\"nofollow noreferrer\">central</a>) when starting your app and define your desired system properties:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp /path/to/jul-utils.jar:${CLASSPATH} \\\n-Djava.util.logging.config.class=pl.morgwai.base.jul.JulConfigurator \\\n-Djava.util.logging.overrideLevel=,java.util.logging.ConsoleHandler,com.third.party.talkative.lib \\\n-D.level=FINE \\\n-Djava.util.logging.ConsoleHandler.level=FINE \\\n-Dcom.third.party.talkative.lib.level=SEVERE \\\n${MY_JAVA_APP_MAINCLASS_AND_ARGUMENTS}\n</code></pre>\n<h2>outline for java-8 and earlier:</h2>\n<ol>\n<li>parse the config file manually into a <code>Properties</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">load(is)</a> (see <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.logging/share/classes/java/util/logging/LogManager.java#L1382\" rel=\"nofollow noreferrer\">here</a> how <code>LogManager</code> determines which file to read)</li>\n<li>replace values for <code>.level</code> and <code>java.util.logging.ConsoleHandler.level</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#setProperty(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">setProperty(key, value)</a> with the value obtained from the system property</li>\n<li>store the updated properties into a <code>ByteArrayOutputStream</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#store(java.io.Writer,java.lang.String)\" rel=\"nofollow noreferrer\">store(os, null)</a></li>\n<li>wrap <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ByteArrayOutputStream.html#toByteArray()\" rel=\"nofollow noreferrer\">the underlying data</a> with a <code>ByteArrayInputStream</code> (see also <a href=\"https://stackoverflow.com/questions/5778658/how-do-i-convert-an-outputstream-to-an-inputstream\">this discussion</a>) and pass it to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream)\" rel=\"nofollow noreferrer\">readConfiguration(is)</a></li>\n</ol>\n<p>as before, you can do it either in your <code>main</code> method or in a constructor of a class pointed by <code>java.util.logging.config.class</code> system property.</p>\n"}],"owner":{"account_id":25148,"reputation":18628,"user_id":64421,"accept_rate":86,"display_name":"Ben McCann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16248,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":2160652,"answer_count":3,"score":20,"last_activity_date":1697144605,"creation_date":1264749370,"question_id":2160471,"body_markdown":"Can I do something along the lines of:\r\n\r\n    -Djava.util.logging.loglevel=FINE\r\n\r\n\r\nObviously that doesn&#39;t work, but you get the idea.  Is there anything like that?  Or am I forced to create a properties file?","title":"Is there a command line option for setting the default log level in Java","body":"<p>Can I do something along the lines of:</p>\n\n<pre><code>-Djava.util.logging.loglevel=FINE\n</code></pre>\n\n<p>Obviously that doesn't work, but you get the idea.  Is there anything like that?  Or am I forced to create a properties file?</p>\n"},{"tags":["java","rabbitmq","amqp"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697143894,"creation_date":1512659650,"answer_id":47698156,"question_id":47651709,"body_markdown":"Diagnosing TLS errors such as these with limited information is very difficult. You do not provide the following information which would be helpful:\r\n\r\n* RabbitMQ version\r\n* Erlang version\r\n* Operating system platform and version for both RabbitMQ server and client\r\n* Java version and Java client version\r\n\r\nThis line of code hints that you are running your client application on Windows:\r\n\r\n\r\n    KeyStore.getInstance(&quot;Windows-MY&quot;)\r\n\r\n\r\nIf you can provide the above information as well as a complete set of TLS/SSL certificates to reproduce the problem that would be ideal.\r\n\r\nThe RabbitMQ documentation also includes a [comprehensive TLS/SSL troubleshooting guide](http://www.rabbitmq.com/troubleshooting-ssl.html).","title":"Why my rabbitMQ client can&#39;t connect?","body":"<p>Diagnosing TLS errors such as these with limited information is very difficult. You do not provide the following information which would be helpful:</p>\n<ul>\n<li>RabbitMQ version</li>\n<li>Erlang version</li>\n<li>Operating system platform and version for both RabbitMQ server and client</li>\n<li>Java version and Java client version</li>\n</ul>\n<p>This line of code hints that you are running your client application on Windows:</p>\n<pre><code>KeyStore.getInstance(&quot;Windows-MY&quot;)\n</code></pre>\n<p>If you can provide the above information as well as a complete set of TLS/SSL certificates to reproduce the problem that would be ideal.</p>\n<p>The RabbitMQ documentation also includes a <a href=\"http://www.rabbitmq.com/troubleshooting-ssl.html\" rel=\"nofollow noreferrer\">comprehensive TLS/SSL troubleshooting guide</a>.</p>\n"}],"owner":{"account_id":9197821,"reputation":21,"user_id":9055671,"display_name":"Atevir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697143894,"creation_date":1512470824,"question_id":47651709,"body_markdown":"I&#39;m trying to create RabbitMQ connection with server using TLSv1.2, but I have java.net.SocketException: Connection reset or javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure (It looks like this exceptions are changing randomly).\r\n\r\nIt worked when I had TLSv1.0, but when server changed protocol it stopped working (even if I&#39;m using the same cipher, port etc).\r\n\r\nIs it possible to get this exceptions if vhost/other connection parameter is incorrect?\r\n\r\nBefore connection, I&#39;m setting:\r\n\r\n    System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\nHere is my configuration:\r\n\r\n    public ConnectionFactory get() throws IOException, KeyStoreException, NoSuchAlgorithmException,\r\n\t\t\tCertificateException, UnrecoverableKeyException, KeyManagementException, URISyntaxException {\r\n\t\tfinal ConnectionFactory cf = new ConnectionFactory();\r\n\r\n\t\tfinal SSLContext sslContext = getSSLContext();\r\n\t\t\r\n\t\tcf.useSslProtocol(sslContext);\r\n\r\n\t\tfinal ConnectionSettings connectionSettings = getConnectionSettings(sslContext.getSocketFactory());\r\n\r\n\t\tcf.setHost(connectionSettings.getHost());\r\n\t\tcf.setPort(connectionSettings.getPort());\r\n\t\tcf.setVirtualHost(connectionSettings.getVirtualHost());\r\n        //using cf.setUsername and cs.setPassword doesn&#39;t work\r\n\r\n\t\tcf.setSaslConfig(DefaultSaslConfig.EXTERNAL);\r\n\t\tcf.setAutomaticRecoveryEnabled(false);\r\n\t\tcf.setTopologyRecoveryEnabled(false);\r\n\r\n\t\treturn cf;\r\n\t}\r\n\r\nAnd getSSLContext() method:\r\n\r\n    private SSLContext getSSLContext(){\r\n        //SECURE_PROTOCOLE = &quot;TLSv1.2&quot;\r\n\t\tfinal SSLContext sslContext = SSLContext.getInstance(SECURE_PROTOCOLE);\r\n\r\n\t\tKeyStore keystore = KeyStore.getInstance(&quot;Windows-MY&quot;);\r\n\t\tkeystore.load(null, null); \r\n\r\n\t\tfinal KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\tkmf.init(keystore, null);\r\n\r\n\r\n\t\tTrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\r\n\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\t\t\t\t// Not implemented\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\t\t\t\t// Not implemented\r\n\t\t\t}\r\n\t\t} };\r\n\r\n\t\tsslContext.init(keyManagerWrapper(kmf),\r\n\t\t\t\ttrustAllCerts, new SecureRandom());\r\n\t    return sslContext;   \r\n        }\r\n\r\nException occurs when I&#39;m trying to create new connection:\r\n\r\n    this.connectionFactory = new ConnectionFactoryProvider().get();\r\n\tthis.connection = this.connectionFactory.newConnection();\r\n\r\n","title":"Why my rabbitMQ client can&#39;t connect?","body":"<p>I'm trying to create RabbitMQ connection with server using TLSv1.2, but I have java.net.SocketException: Connection reset or javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure (It looks like this exceptions are changing randomly).</p>\n\n<p>It worked when I had TLSv1.0, but when server changed protocol it stopped working (even if I'm using the same cipher, port etc).</p>\n\n<p>Is it possible to get this exceptions if vhost/other connection parameter is incorrect?</p>\n\n<p>Before connection, I'm setting:</p>\n\n<pre><code>System.setProperty(\"https.protocols\", \"TLSv1.2\");\n</code></pre>\n\n<p>Here is my configuration:</p>\n\n<pre><code>public ConnectionFactory get() throws IOException, KeyStoreException, NoSuchAlgorithmException,\n        CertificateException, UnrecoverableKeyException, KeyManagementException, URISyntaxException {\n    final ConnectionFactory cf = new ConnectionFactory();\n\n    final SSLContext sslContext = getSSLContext();\n\n    cf.useSslProtocol(sslContext);\n\n    final ConnectionSettings connectionSettings = getConnectionSettings(sslContext.getSocketFactory());\n\n    cf.setHost(connectionSettings.getHost());\n    cf.setPort(connectionSettings.getPort());\n    cf.setVirtualHost(connectionSettings.getVirtualHost());\n    //using cf.setUsername and cs.setPassword doesn't work\n\n    cf.setSaslConfig(DefaultSaslConfig.EXTERNAL);\n    cf.setAutomaticRecoveryEnabled(false);\n    cf.setTopologyRecoveryEnabled(false);\n\n    return cf;\n}\n</code></pre>\n\n<p>And getSSLContext() method:</p>\n\n<pre><code>private SSLContext getSSLContext(){\n    //SECURE_PROTOCOLE = \"TLSv1.2\"\n    final SSLContext sslContext = SSLContext.getInstance(SECURE_PROTOCOLE);\n\n    KeyStore keystore = KeyStore.getInstance(\"Windows-MY\");\n    keystore.load(null, null); \n\n    final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    kmf.init(keystore, null);\n\n\n    TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n\n        public X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        @Override\n        public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n            // Not implemented\n        }\n\n        @Override\n        public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n            // Not implemented\n        }\n    } };\n\n    sslContext.init(keyManagerWrapper(kmf),\n            trustAllCerts, new SecureRandom());\n    return sslContext;   \n    }\n</code></pre>\n\n<p>Exception occurs when I'm trying to create new connection:</p>\n\n<pre><code>this.connectionFactory = new ConnectionFactoryProvider().get();\nthis.connection = this.connectionFactory.newConnection();\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697143590,"creation_date":1521818636,"answer_id":49453138,"question_id":49403314,"body_markdown":"1. Yes\r\n\r\n2. Yes\r\n\r\n3. No, but your benchmarks and monitoring will definitively answer it. You do have benchmarks and monitoring, right?\r\n\r\n4. It isn&#39;t worth the hassle. The Spring AMQP library does have a node affinity feature if you really think it&#39;s worth it.","title":"How to create a connection to the node where queue is created in, RabbitMQ","body":"<ol>\n<li><p>Yes</p>\n</li>\n<li><p>Yes</p>\n</li>\n<li><p>No, but your benchmarks and monitoring will definitively answer it. You do have benchmarks and monitoring, right?</p>\n</li>\n<li><p>It isn't worth the hassle. The Spring AMQP library does have a node affinity feature if you really think it's worth it.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697143590,"creation_date":1521626651,"question_id":49403314,"body_markdown":"We will have a a clusters, say 3 nodes, now we will pass three addresses to create a connection:\r\n\r\n    factory.newConnection(consumerExecutor, addresses, clinetProviedName);// addresses has three elements\r\n\r\nQuestions:\r\n\r\n\r\n\r\n   \r\n    1 .Since a queue is created in only one node which is master say nodeA. So if I create a connection to nodeB, does RabbitMQ need to redirect every publish requests to the nodeA from nodeB? \r\n\r\n    2. Will the same things happen to consumers?\r\n\r\n    3. Does Redirect makes a big difference on performance when qps is high? We need tens of thousands qps to support our app.\r\n\r\n    4. If #1 is right, how can I connect to the exactly right node to reduce redirect.\r\n\r\n\r\n\r\n\r\n\r\n ","title":"How to create a connection to the node where queue is created in, RabbitMQ","body":"<p>We will have a a clusters, say 3 nodes, now we will pass three addresses to create a connection:</p>\n\n<pre><code>factory.newConnection(consumerExecutor, addresses, clinetProviedName);// addresses has three elements\n</code></pre>\n\n<p>Questions:</p>\n\n<pre><code>1 .Since a queue is created in only one node which is master say nodeA. So if I create a connection to nodeB, does RabbitMQ need to redirect every publish requests to the nodeA from nodeB? \n\n2. Will the same things happen to consumers?\n\n3. Does Redirect makes a big difference on performance when qps is high? We need tens of thousands qps to support our app.\n\n4. If #1 is right, how can I connect to the exactly right node to reduce redirect.\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":12434787,"reputation":708,"user_id":9055645,"accept_rate":100,"display_name":"Saad Ahmed"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1528103130,"creation_date":1528103130,"answer_id":50676963,"question_id":50676880,"body_markdown":"**Try this:**\r\n\r\n    let connection = null;\r\n        \r\n        connection = await amqp.connect(`amqp://${config.username}:${config.password}@${config.host}:${config.port}`);\r\n        \r\n        connection.close();","title":"Shutdown connection to RabbitMQ","body":"<p><strong>Try this:</strong></p>\n\n<pre><code>let connection = null;\n\n    connection = await amqp.connect(`amqp://${config.username}:${config.password}@${config.host}:${config.port}`);\n\n    connection.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697143210,"creation_date":1528206861,"answer_id":50701894,"question_id":50676880,"body_markdown":"When you say &quot;it doesn&#39;t stop&quot; have you confirmed that the `stop()` method is actually called? Is your code hanging on one of the `close()` methods?\r\n\r\nThe `channel` instance will have a [`basicCancel` method](https://www.rabbitmq.com/api-guide.html) that you could call to cancel the current consumer before closing the channel and connection. To be honest, closing the channel will cancel your consumer so I doubt this is the root cause of the issue.","title":"Shutdown connection to RabbitMQ","body":"<p>When you say &quot;it doesn't stop&quot; have you confirmed that the <code>stop()</code> method is actually called? Is your code hanging on one of the <code>close()</code> methods?</p>\n<p>The <code>channel</code> instance will have a <a href=\"https://www.rabbitmq.com/api-guide.html\" rel=\"nofollow noreferrer\"><code>basicCancel</code> method</a> that you could call to cancel the current consumer before closing the channel and connection. To be honest, closing the channel will cancel your consumer so I doubt this is the root cause of the issue.</p>\n"}],"owner":{"account_id":3828224,"reputation":6224,"user_id":3174559,"accept_rate":96,"display_name":"Jens Borrisholt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50701894,"answer_count":2,"score":0,"last_activity_date":1697143210,"creation_date":1528102855,"question_id":50676880,"body_markdown":"I have created a simple Console Application listening to messages on Rabbit MQ. Works fine. No problems there. But how do I close the connection. I&#39;ve been googleing arround a lot, but I didn&#39;t find any clear answers. The closest I got to an answer is this SO question: https://stackoverflow.com/questions/6699669/what-is-the-best-way-to-safely-end-a-java-application-with-running-rabbitmq-cons, but the answer omits the most important part: The code! \r\n\r\nHere is my code:\r\n\r\n    package com.company;\r\n    \r\n    import com.rabbitmq.client.*;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    interface ObjectRecievedListener {\r\n        void objectRecieved(Object obj);\r\n    }\r\n    \r\n    public class RabbitMQReceiver extends RabbitMQBase\r\n    {\r\n    \r\n        ArrayList&lt;DefaultConsumer&gt; consumers = new ArrayList&lt;&gt;();\r\n    \r\n        private List&lt;ObjectRecievedListener&gt; listeners = new ArrayList&lt;&gt;();\r\n        private final Connection connection;\r\n        private final Channel channel;\r\n    \r\n        public RabbitMQReceiver(RabbitMQProperties properties) throws IOException, TimeoutException {\r\n            ConnectionFactory factory = new ConnectionFactory();\r\n            factory.setHost(properties.getHost());\r\n            factory.setPassword(properties.getPassword());\r\n            factory.setUsername(properties.getLogin());\r\n    \r\n            connection = factory.newConnection();\r\n            channel = connection.createChannel();\r\n            channel.queueDeclare(properties.getInboundQueueName(), true, false, false, null);\r\n            channel.basicQos(1);\r\n    \r\n            final Consumer consumer = new DefaultConsumer(channel) {\r\n                @Override\r\n                public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n                    String message = new String(body, &quot;UTF-8&quot;);\r\n    \r\n    \r\n                    try {\r\n                        doWork(message);\r\n                    } finally {\r\n                        channel.basicAck(envelope.getDeliveryTag(), false);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            consumers.add((DefaultConsumer) consumer);\r\n    \r\n            boolean autoAck = false;\r\n            channel.basicConsume(properties.getInboundQueueName(), autoAck, consumer);\r\n        }\r\n    \r\n        public void addListener(ObjectRecievedListener listener) {\r\n            listeners.add(listener);\r\n        }\r\n    \r\n        public void stop() {\r\n            try {\r\n                channel.close();\r\n                connection.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    \r\n        private void doWork(String message) {\r\n            Object obj = getObjectFromXML(message);\r\n    \r\n            for (ObjectRecievedListener l : listeners)\r\n                l.objectRecieved(obj);\r\n            stop();\r\n        }\r\n    }\r\n\r\nBut it doesn&#39;t stop just because I called `stop()`\r\n\r\nSo in short: How do I close the connection to Rabbit MQ?","title":"Shutdown connection to RabbitMQ","body":"<p>I have created a simple Console Application listening to messages on Rabbit MQ. Works fine. No problems there. But how do I close the connection. I've been googleing arround a lot, but I didn't find any clear answers. The closest I got to an answer is this SO question: <a href=\"https://stackoverflow.com/questions/6699669/what-is-the-best-way-to-safely-end-a-java-application-with-running-rabbitmq-cons\">What is the best way to safely end a java application with running RabbitMQ consumers</a>, but the answer omits the most important part: The code! </p>\n\n<p>Here is my code:</p>\n\n<pre><code>package com.company;\n\nimport com.rabbitmq.client.*;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeoutException;\n\ninterface ObjectRecievedListener {\n    void objectRecieved(Object obj);\n}\n\npublic class RabbitMQReceiver extends RabbitMQBase\n{\n\n    ArrayList&lt;DefaultConsumer&gt; consumers = new ArrayList&lt;&gt;();\n\n    private List&lt;ObjectRecievedListener&gt; listeners = new ArrayList&lt;&gt;();\n    private final Connection connection;\n    private final Channel channel;\n\n    public RabbitMQReceiver(RabbitMQProperties properties) throws IOException, TimeoutException {\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(properties.getHost());\n        factory.setPassword(properties.getPassword());\n        factory.setUsername(properties.getLogin());\n\n        connection = factory.newConnection();\n        channel = connection.createChannel();\n        channel.queueDeclare(properties.getInboundQueueName(), true, false, false, null);\n        channel.basicQos(1);\n\n        final Consumer consumer = new DefaultConsumer(channel) {\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n                String message = new String(body, \"UTF-8\");\n\n\n                try {\n                    doWork(message);\n                } finally {\n                    channel.basicAck(envelope.getDeliveryTag(), false);\n                }\n            }\n        };\n\n        consumers.add((DefaultConsumer) consumer);\n\n        boolean autoAck = false;\n        channel.basicConsume(properties.getInboundQueueName(), autoAck, consumer);\n    }\n\n    public void addListener(ObjectRecievedListener listener) {\n        listeners.add(listener);\n    }\n\n    public void stop() {\n        try {\n            channel.close();\n            connection.close();\n        } catch (Exception e) {\n        }\n    }\n\n    private void doWork(String message) {\n        Object obj = getObjectFromXML(message);\n\n        for (ObjectRecievedListener l : listeners)\n            l.objectRecieved(obj);\n        stop();\n    }\n}\n</code></pre>\n\n<p>But it doesn't stop just because I called <code>stop()</code></p>\n\n<p>So in short: How do I close the connection to Rabbit MQ?</p>\n"},{"tags":["java","rabbitmq","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697143035,"creation_date":1528901964,"answer_id":50840427,"question_id":50830740,"body_markdown":"This is not a feature of RabbitMQ nor the Spring framework. You will have to implement failover yourself in your consumers. One option would be for the &quot;master&quot; consumer to publish heartbeat messages to a well-known queue that the failover consumer could read. If the failover consumer does not receive a certain number of heartbeat messages from this queue within a certain time period, it can do additional checks to see if the master consumer is alive, and, if not, take over that role.\r\n\r\nThis is just one suggestion - there are many ways to implement this.","title":"Rabbitmq allow only one concurrent consumer","body":"<p>This is not a feature of RabbitMQ nor the Spring framework. You will have to implement failover yourself in your consumers. One option would be for the &quot;master&quot; consumer to publish heartbeat messages to a well-known queue that the failover consumer could read. If the failover consumer does not receive a certain number of heartbeat messages from this queue within a certain time period, it can do additional checks to see if the master consumer is alive, and, if not, take over that role.</p>\n<p>This is just one suggestion - there are many ways to implement this.</p>\n"}],"owner":{"account_id":3500893,"reputation":266,"user_id":2927683,"accept_rate":50,"display_name":"hedha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697143035,"creation_date":1528872611,"question_id":50830740,"body_markdown":"Is there anyway to have a standby consumer that is only used if the primary consumer goes down?\r\n\r\nIf i have two instance of my same application and that application has listener which listen to &quot;queue1&quot; then the current behaviour is if one consumer is busy then another consumer take the data and read it. But i don&#39;t want that.\r\n\r\nI need only consumer1 can read the queue and consumer2 is in idle state till consumer1 goes down.\r\n\r\nI have tried exclusive also but that it doesn&#39;t fulfil my requirements.\r\n\r\nCan somebody help me on this. ","title":"Rabbitmq allow only one concurrent consumer","body":"<p>Is there anyway to have a standby consumer that is only used if the primary consumer goes down?</p>\n\n<p>If i have two instance of my same application and that application has listener which listen to \"queue1\" then the current behaviour is if one consumer is busy then another consumer take the data and read it. But i don't want that.</p>\n\n<p>I need only consumer1 can read the queue and consumer2 is in idle state till consumer1 goes down.</p>\n\n<p>I have tried exclusive also but that it doesn't fulfil my requirements.</p>\n\n<p>Can somebody help me on this. </p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697143002,"creation_date":1697143002,"answer_id":77283701,"question_id":77271597,"body_markdown":"I&#39;m afraid JAXB cannot do what you want it to do (at least not in a straight forward way). An @XmlRootElement or @XmlElement can have one namespace only (or none), and it is not possible to map &quot;the same&quot; elements from two or more namespaces to one and the same Java class. \r\n\r\nXML namespaces maps fairly well to Java packages, so your best bet is to have (almost) duplicate classes int two different packages, one for the &quot;01p00&quot; namespace and one for the &quot;010p01&quot; namespace.\r\n\r\nNothing prohibits the &quot;interesting&quot; classes to implement common interfaces, which would perhaps be one way to solve backwards compatibility in a convenient manner.\r\n\r\nIt might be possible to use XmlAdapters to map Root(1) and Root(2) classes to the same common Root class, so that unmarshalling works, but I cannot see how marshalling would work (turning Java classes into XML). ","title":"JAXB different namespaces for same element unmarshall","body":"<p>I'm afraid JAXB cannot do what you want it to do (at least not in a straight forward way). An @XmlRootElement or @XmlElement can have one namespace only (or none), and it is not possible to map &quot;the same&quot; elements from two or more namespaces to one and the same Java class.</p>\n<p>XML namespaces maps fairly well to Java packages, so your best bet is to have (almost) duplicate classes int two different packages, one for the &quot;01p00&quot; namespace and one for the &quot;010p01&quot; namespace.</p>\n<p>Nothing prohibits the &quot;interesting&quot; classes to implement common interfaces, which would perhaps be one way to solve backwards compatibility in a convenient manner.</p>\n<p>It might be possible to use XmlAdapters to map Root(1) and Root(2) classes to the same common Root class, so that unmarshalling works, but I cannot see how marshalling would work (turning Java classes into XML).</p>\n"}],"owner":{"account_id":3662711,"reputation":495,"user_id":3052078,"accept_rate":72,"display_name":"user3052078"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697143002,"creation_date":1697014722,"question_id":77271597,"body_markdown":"I have the following example of schema xml\r\n\r\n```xml\r\n&lt;a:tag xmlns:a=&quot;http://www.something.com/schema/01p00&quot; ... &gt;\r\n    &lt;a:root ... &gt;\r\n```\r\n\r\nI&#39;ve created the stub for this schema\r\n\r\n```java\r\n@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p00&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Root{\r\n...\r\n}\r\n```\r\n\r\nAnd know the schema has been updated, but the elements that are interesting me are the same. Now I have schema 2\r\n\r\n```xml\r\n&lt;b:tag xmlns:b=&quot;http://www.something.com/schema/01p01&quot; ... &gt;\r\n    &lt;b:root ... &gt;\r\n```\r\n\r\nIn order to work with new schema, I have to change classes to:\r\n\r\n```java\r\n@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p01&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Root{\r\n...\r\n}\r\n```\r\n\r\nBecause I need to be backwards compatible, I want to have only one `Root` class that should be capable to work with both namespaces.\r\n\r\nI&#39;ve tried to create `package-info.java` in order to use the right namespace for each prefix, but this is not working as expected.\r\n\r\n```java\r\n@javax.xml.bind.annotation.XmlSchema(\r\nnamespace = &quot;http://www.something.com/schema/01p00&quot;,\r\nxmlns = {\r\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;a&quot;, namespaceURI = &quot;http://www.something.com/schema/01p00&quot;),\r\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;b&quot;, namespaceURI = &quot;http://www.something.com/schema/01p01&quot;)\r\n},\r\nelementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\r\nattributeFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED\r\n)\r\npackage schema.package;\r\n```\r\n\r\nHow can I use the same `Root` class with these two different namespaces without duplicating all the classes?","title":"JAXB different namespaces for same element unmarshall","body":"<p>I have the following example of schema xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a:tag xmlns:a=&quot;http://www.something.com/schema/01p00&quot; ... &gt;\n    &lt;a:root ... &gt;\n</code></pre>\n<p>I've created the stub for this schema</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p00&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Root{\n...\n}\n</code></pre>\n<p>And know the schema has been updated, but the elements that are interesting me are the same. Now I have schema 2</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;b:tag xmlns:b=&quot;http://www.something.com/schema/01p01&quot; ... &gt;\n    &lt;b:root ... &gt;\n</code></pre>\n<p>In order to work with new schema, I have to change classes to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p01&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Root{\n...\n}\n</code></pre>\n<p>Because I need to be backwards compatible, I want to have only one <code>Root</code> class that should be capable to work with both namespaces.</p>\n<p>I've tried to create <code>package-info.java</code> in order to use the right namespace for each prefix, but this is not working as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.xml.bind.annotation.XmlSchema(\nnamespace = &quot;http://www.something.com/schema/01p00&quot;,\nxmlns = {\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;a&quot;, namespaceURI = &quot;http://www.something.com/schema/01p00&quot;),\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;b&quot;, namespaceURI = &quot;http://www.something.com/schema/01p01&quot;)\n},\nelementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\nattributeFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED\n)\npackage schema.package;\n</code></pre>\n<p>How can I use the same <code>Root</code> class with these two different namespaces without duplicating all the classes?</p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697142812,"creation_date":1529673807,"answer_id":50988966,"question_id":50967488,"body_markdown":"The documentation is correct, you must cancel a consumer from its own channel/connection.\r\n\r\nOther options include making your consumers aware of &quot;cancellation messages&quot; that will cause them to stop themselves, or using the API to [close an entire connection](https://cdn.rawgit.com/rabbitmq/rabbitmq-management/v3.7.6/priv/www/api/index.html), which will close all channels associated with it.","title":"Can you cancel a rabbitmq consumer remotely?","body":"<p>The documentation is correct, you must cancel a consumer from its own channel/connection.</p>\n<p>Other options include making your consumers aware of &quot;cancellation messages&quot; that will cause them to stop themselves, or using the API to <a href=\"https://cdn.rawgit.com/rabbitmq/rabbitmq-management/v3.7.6/priv/www/api/index.html\" rel=\"nofollow noreferrer\">close an entire connection</a>, which will close all channels associated with it.</p>\n"}],"owner":{"account_id":4260366,"reputation":877,"user_id":3484881,"display_name":"tporeba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4309,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50988966,"answer_count":1,"score":3,"last_activity_date":1697142812,"creation_date":1529580571,"question_id":50967488,"body_markdown":"I am reading the documentation about `Channel.basicCancel` operation in rabbitmq https://www.rabbitmq.com/consumer-cancel.html . The docs says that one of possible cancellation case is when consumer sends cancel signal on the same channel on which it is listening. \r\n\r\nIs this the only possibility? Can you cancel remote consumer running on different channel/connection/process?\r\n\r\nI am trying to send the cancel request from another another process. When I do it ends with an exception `java.io.IOException: Unknown consumerTag` just like such operation was restricted to cancelling local consumers (on own channel or connection).\r\n\r\n**UPDATE:**\r\n\r\nI noticed that this &quot;Unknown consumerTag&quot; exception is a result of initial validation inside com.rabbitmq.client.impl.ChannelN.basicCancel(String):\r\n\r\n     Consumer originalConsumer = (Consumer)this._consumers.get(consumerTag);\r\n     if (originalConsumer == null) {\r\n       throw new IOException(&quot;Unknown consumerTag&quot;);\r\n     }\r\n     ...\r\n\r\nBut still there might be some rpc call which does the trick...","title":"Can you cancel a rabbitmq consumer remotely?","body":"<p>I am reading the documentation about <code>Channel.basicCancel</code> operation in rabbitmq <a href=\"https://www.rabbitmq.com/consumer-cancel.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/consumer-cancel.html</a> . The docs says that one of possible cancellation case is when consumer sends cancel signal on the same channel on which it is listening. </p>\n\n<p>Is this the only possibility? Can you cancel remote consumer running on different channel/connection/process?</p>\n\n<p>I am trying to send the cancel request from another another process. When I do it ends with an exception <code>java.io.IOException: Unknown consumerTag</code> just like such operation was restricted to cancelling local consumers (on own channel or connection).</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I noticed that this \"Unknown consumerTag\" exception is a result of initial validation inside com.rabbitmq.client.impl.ChannelN.basicCancel(String):</p>\n\n<pre><code> Consumer originalConsumer = (Consumer)this._consumers.get(consumerTag);\n if (originalConsumer == null) {\n   throw new IOException(\"Unknown consumerTag\");\n }\n ...\n</code></pre>\n\n<p>But still there might be some rpc call which does the trick...</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1697108258,"post_id":77279307,"comment_id":136239501,"body_markdown":"There are quite a few concurrency issues in this code. I would guess that is where your errors are coming from (the `UnsupportedOperationException` _might_ be from something else). Also, your exception reporting is not ideal. Please see [this answer](https://stackoverflow.com/a/61928171/6395627) and [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/6395627), then [edit] your question to add the stack traces.","body":"There are quite a few concurrency issues in this code. I would guess that is where your errors are coming from (the <code>UnsupportedOperationException</code> <i>might</i> be from something else). Also, your exception reporting is not ideal. Please see <a href=\"https://stackoverflow.com/a/61928171/6395627\">this answer</a> and <a href=\"https://stackoverflow.com/q/3988788/6395627\">What is a stack trace, and how can I use it to debug my application errors?</a>, then <a href=\"https://stackoverflow.com/posts/77279307/edit\">edit</a> your question to add the stack traces."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1697108830,"post_id":77279307,"comment_id":136239596,"body_markdown":"Those concurrency issues include: (1) Using the `counter` field from multiple threads; (2) Accessing UI objects from a thread other than the _JavaFX Application Thread_; (3) If you run both generators simultaneously, you have two threads interacting with the `ObservableList`, which is not a thread-safe implementation in this case.","body":"Those concurrency issues include: (1) Using the <code>counter</code> field from multiple threads; (2) Accessing UI objects from a thread other than the <i>JavaFX Application Thread</i>; (3) If you run both generators simultaneously, you have two threads interacting with the <code>ObservableList</code>, which is not a thread-safe implementation in this case."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697110911,"post_id":77279307,"comment_id":136239978,"body_markdown":"Example updated with printStackTrace() and counter removed. Errors replaces with the stacktrace.","body":"Example updated with printStackTrace() and counter removed. Errors replaces with the stacktrace."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1697115739,"post_id":77279307,"comment_id":136240979,"body_markdown":"These are not performance issues, but threading issues. As stated in a previous comment, `ObservableList` is not designed to be used by multiple threads simultaneously. You can fix the problem in the example by replacing the threading code with JavaFX Animation code (e.g. a `Timeline`: see [this post](https://stackoverflow.com/a/60685975/2189127)). Whether or not that will work in your real application we cannot know.","body":"These are not performance issues, but threading issues. As stated in a previous comment, <code>ObservableList</code> is not designed to be used by multiple threads simultaneously. You can fix the problem in the example by replacing the threading code with JavaFX Animation code (e.g. a <code>Timeline</code>: see <a href=\"https://stackoverflow.com/a/60685975/2189127\">this post</a>). Whether or not that will work in your real application we cannot know."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697123294,"post_id":77279307,"comment_id":136242912,"body_markdown":"I have updated the topic title and posted an answer (if this is not the right ting to do then please let me know).","body":"I have updated the topic title and posted an answer (if this is not the right ting to do then please let me know)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1697125100,"post_id":77279307,"comment_id":136243304,"body_markdown":"It&#39;s not really clear what you&#39;re trying to do overall here. Your [previous question](https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array) said you wanted to have an array-like structure that was observable, so it could be used in the UI. But here you are not using the data in the UI, you are pushing it out to some hardware. It&#39;s not clear why you need to push it out so fast: data that is part of the UI really don&#39;t need to change more frequently that the UI is rendered (60 fps in JavaFX).","body":"It&#39;s not really clear what you&#39;re trying to do overall here. Your <a href=\"https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array\">previous question</a> said you wanted to have an array-like structure that was observable, so it could be used in the UI. But here you are not using the data in the UI, you are pushing it out to some hardware. It&#39;s not clear why you need to push it out so fast: data that is part of the UI really don&#39;t need to change more frequently that the UI is rendered (60 fps in JavaFX)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1697125281,"post_id":77279307,"comment_id":136243350,"body_markdown":"Maybe there is a set of data that are changing much more rapidly than the data displayed in the UI, but then that should probably be a different set of data. Maybe there needs to be some synchronization between two sets of data here? But it just looks like this is structured wrong. I would start by writing code that controls the hardware, and *then* write UI code that interacts with it. Those should basically be as independent and as decoupled as possible.","body":"Maybe there is a set of data that are changing much more rapidly than the data displayed in the UI, but then that should probably be a different set of data. Maybe there needs to be some synchronization between two sets of data here? But it just looks like this is structured wrong. I would start by writing code that controls the hardware, and <i>then</i> write UI code that interacts with it. Those should basically be as independent and as decoupled as possible."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697125955,"post_id":77279307,"comment_id":136243472,"body_markdown":"&quot;Maybe there needs to be some synchronization between two sets of data here?&quot; Yes, that is also my &quot;latest&quot; thought. And yes, the hardware needs the rapid updates, not the GUI, so you are right, they should be separate. What I initial wanted was to push the data fast to the hardware, and in the GUI show (when data was being changed) which data was being pushed.","body":"&quot;Maybe there needs to be some synchronization between two sets of data here?&quot; Yes, that is also my &quot;latest&quot; thought. And yes, the hardware needs the rapid updates, not the GUI, so you are right, they should be separate. What I initial wanted was to push the data fast to the hardware, and in the GUI show (when data was being changed) which data was being pushed."}],"answers":[{"tags":[],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697142438,"creation_date":1697122850,"answer_id":77281743,"question_id":77279307,"body_markdown":"Based on above comments I have come up with this to fix the issue with multiple threads using the ObservableList. Below is based on the TimeLine for updating the ObservableList instead of the ScheduledExecutorService. \r\n\r\n    package org.example;\r\n    \r\n    import javafx.animation.Animation;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class App extends Application {\r\n    \r\n        RadioButton radioButtonUseArray;\r\n        RadioButton radioButtonUseObservableList;\r\n        Timeline timeline1;\r\n        Timeline timeline2;\r\n    \r\n        private final byte[] dmxDataArray = new byte[512];\r\n        dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\r\n                public void onChanged(ListChangeListener.Change change) {\r\n    \r\n                    System.out.println(&quot;Data updated&quot;);\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            Button buttonStart = new Button(&quot;Start&quot;);\r\n            buttonStart.setPrefWidth(100);\r\n            buttonStart.setOnAction(event -&gt; {\r\n    \r\n                StartTimeline1();\r\n                StartTimeline2();\r\n    \r\n            });\r\n    \r\n            Button buttonStop = new Button(&quot;Stop&quot;);\r\n            buttonStop.setPrefWidth(100);\r\n            buttonStop.setOnAction(event -&gt; {\r\n    \r\n                StopTimeline1();\r\n                StopTimeLine2();\r\n    \r\n            });\r\n    \r\n            HBox hBoxWithStartStop1 = new HBox();\r\n            hBoxWithStartStop1.setAlignment(Pos.CENTER);\r\n            hBoxWithStartStop1.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\r\n            hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\r\n    \r\n            ToggleGroup toggleGroup = new ToggleGroup();\r\n    \r\n            radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\r\n            radioButtonUseArray.setToggleGroup(toggleGroup);\r\n            radioButtonUseArray.setSelected(true);\r\n    \r\n            radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\r\n            radioButtonUseObservableList.setToggleGroup(toggleGroup);\r\n    \r\n            HBox hBoxWithRadioButtons = new HBox();\r\n            hBoxWithRadioButtons.setAlignment(Pos.CENTER);\r\n            hBoxWithRadioButtons.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\r\n            hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\r\n    \r\n            VBox vBoxWithAllOptions = new VBox();\r\n            vBoxWithAllOptions.setSpacing(10);\r\n            vBoxWithAllOptions.setAlignment(Pos.CENTER);\r\n            vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\r\n    \r\n            var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.setOnCloseRequest(event -&gt; {\r\n    \r\n                StopTimeline1();\r\n                StopTimeLine2();\r\n    \r\n            });\r\n    \r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            launch();\r\n    \r\n        }\r\n    \r\n        public void StartTimeline1() {\r\n    \r\n            timeline1 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers1()));\r\n            timeline1.setCycleCount(Animation.INDEFINITE); // loop forever\r\n            timeline1.play();\r\n    \r\n        }\r\n    \r\n        public void StopTimeline1() {\r\n    \r\n            if (timeline1 != null) {\r\n    \r\n                timeline1.stop();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StartTimeline2() {\r\n    \r\n            timeline2 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers2()));\r\n            timeline2.setCycleCount(Animation.INDEFINITE); // loop forever\r\n            timeline2.play();\r\n    \r\n        }\r\n    \r\n        public void StopTimeLine2() {\r\n    \r\n            if (timeline2 != null) {\r\n    \r\n                timeline2.stop();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers1() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                dmxDataArray[1] = (byte) 1;\r\n                dmxDataArray[2] = (byte) 1;\r\n                dmxDataArray[3] = (byte) 1;\r\n                dmxDataArray[4] = (byte) 1;\r\n                System.out.println(&quot;Running using array 1&quot;);\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n                    System.out.println(&quot;Running using Observablelist 1&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers2() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArray[1] = (byte) 1;\r\n                    dmxDataArray[2] = (byte) 1;\r\n                    dmxDataArray[3] = (byte) 1;\r\n                    dmxDataArray[4] = (byte) 1;\r\n                    System.out.println(&quot;Running using array 2&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n                    System.out.println(&quot;Running using Observablelist 2&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"JavaFX multiple threads: array vs observableList","body":"<p>Based on above comments I have come up with this to fix the issue with multiple threads using the ObservableList. Below is based on the TimeLine for updating the ObservableList instead of the ScheduledExecutorService.</p>\n<pre><code>package org.example;\n\nimport javafx.animation.Animation;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.collections.ListChangeListener;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class App extends Application {\n\n    RadioButton radioButtonUseArray;\n    RadioButton radioButtonUseObservableList;\n    Timeline timeline1;\n    Timeline timeline2;\n\n    private final byte[] dmxDataArray = new byte[512];\n    dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\n\n    @Override\n    public void start(Stage stage) {\n\n        dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\n            public void onChanged(ListChangeListener.Change change) {\n\n                System.out.println(&quot;Data updated&quot;);\n\n            }\n\n        });\n\n        Button buttonStart = new Button(&quot;Start&quot;);\n        buttonStart.setPrefWidth(100);\n        buttonStart.setOnAction(event -&gt; {\n\n            StartTimeline1();\n            StartTimeline2();\n\n        });\n\n        Button buttonStop = new Button(&quot;Stop&quot;);\n        buttonStop.setPrefWidth(100);\n        buttonStop.setOnAction(event -&gt; {\n\n            StopTimeline1();\n            StopTimeLine2();\n\n        });\n\n        HBox hBoxWithStartStop1 = new HBox();\n        hBoxWithStartStop1.setAlignment(Pos.CENTER);\n        hBoxWithStartStop1.setSpacing(10);\n        HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\n        hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\n\n        ToggleGroup toggleGroup = new ToggleGroup();\n\n        radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\n        radioButtonUseArray.setToggleGroup(toggleGroup);\n        radioButtonUseArray.setSelected(true);\n\n        radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\n        radioButtonUseObservableList.setToggleGroup(toggleGroup);\n\n        HBox hBoxWithRadioButtons = new HBox();\n        hBoxWithRadioButtons.setAlignment(Pos.CENTER);\n        hBoxWithRadioButtons.setSpacing(10);\n        HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\n        hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\n\n        VBox vBoxWithAllOptions = new VBox();\n        vBoxWithAllOptions.setSpacing(10);\n        vBoxWithAllOptions.setAlignment(Pos.CENTER);\n        vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\n\n        var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\n        stage.setScene(scene);\n        stage.setOnCloseRequest(event -&gt; {\n\n            StopTimeline1();\n            StopTimeLine2();\n\n        });\n\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n\n        launch();\n\n    }\n\n    public void StartTimeline1() {\n\n        timeline1 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers1()));\n        timeline1.setCycleCount(Animation.INDEFINITE); // loop forever\n        timeline1.play();\n\n    }\n\n    public void StopTimeline1() {\n\n        if (timeline1 != null) {\n\n            timeline1.stop();\n\n        }\n\n    }\n\n    public void StartTimeline2() {\n\n        timeline2 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers2()));\n        timeline2.setCycleCount(Animation.INDEFINITE); // loop forever\n        timeline2.play();\n\n    }\n\n    public void StopTimeLine2() {\n\n        if (timeline2 != null) {\n\n            timeline2.stop();\n\n        }\n\n    }\n\n    public void SendDataToDataContainers1() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            dmxDataArray[1] = (byte) 1;\n            dmxDataArray[2] = (byte) 1;\n            dmxDataArray[3] = (byte) 1;\n            dmxDataArray[4] = (byte) 1;\n            System.out.println(&quot;Running using array 1&quot;);\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n                System.out.println(&quot;Running using Observablelist 1&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n    public void SendDataToDataContainers2() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            try {\n\n                dmxDataArray[1] = (byte) 1;\n                dmxDataArray[2] = (byte) 1;\n                dmxDataArray[3] = (byte) 1;\n                dmxDataArray[4] = (byte) 1;\n                System.out.println(&quot;Running using array 2&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n                System.out.println(&quot;Running using Observablelist 2&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697142438,"creation_date":1697102469,"question_id":77279307,"body_markdown":"Based on another stack overflow topic (https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array) kind people help me making a solution where I could add observability to an existing approach where I was using an array. I&#39;m budling a small app where I am controlling a &quot;moving head&quot; with pan &amp; tilt movement and are using executorServices (scheduleAtFixedRate) to send new values to my hardware (the movinghead). The problem is that I see some performance-issue (I think) when using the observablelist. I see no performance-issue when using the array.\r\n\r\nBelow is an example that can reproduce the issue and under the code is described what to do to generate the issue.\r\n\r\n    package org.example;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class App extends Application {\r\n    \r\n        RadioButton radioButtonUseArray;\r\n        RadioButton radioButtonUseObservableList;\r\n        ScheduledExecutorService executorService1;\r\n        ScheduledExecutorService executorService2;\r\n        int speed = 10;\r\n    \r\n        private final byte[] dmxDataArray = new byte[512];\r\n        dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\r\n                public void onChanged(ListChangeListener.Change change) {\r\n    \r\n                    System.out.println(&quot;Data updated&quot;);\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            Button buttonStart = new Button(&quot;Start&quot;);\r\n            buttonStart.setPrefWidth(100);\r\n            buttonStart.setOnAction(event -&gt; {\r\n    \r\n                StartGenerator1();\r\n                StartGenerator2();\r\n    \r\n            });\r\n    \r\n            Button buttonStop = new Button(&quot;Stop&quot;);\r\n            buttonStop.setPrefWidth(100);\r\n            buttonStop.setOnAction(event -&gt; {\r\n    \r\n                StopGenerator1();\r\n                StopGenerator2();\r\n    \r\n            });\r\n    \r\n            HBox hBoxWithStartStop1 = new HBox();\r\n            hBoxWithStartStop1.setAlignment(Pos.CENTER);\r\n            hBoxWithStartStop1.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\r\n            hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\r\n    \r\n            ToggleGroup toggleGroup = new ToggleGroup();\r\n    \r\n            radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\r\n            radioButtonUseArray.setToggleGroup(toggleGroup);\r\n            radioButtonUseArray.setSelected(true);\r\n    \r\n            radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\r\n            radioButtonUseObservableList.setToggleGroup(toggleGroup);\r\n    \r\n            HBox hBoxWithRadioButtons = new HBox();\r\n            hBoxWithRadioButtons.setAlignment(Pos.CENTER);\r\n            hBoxWithRadioButtons.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\r\n            hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\r\n    \r\n            VBox vBoxWithAllOptions = new VBox();\r\n            vBoxWithAllOptions.setSpacing(10);\r\n            vBoxWithAllOptions.setAlignment(Pos.CENTER);\r\n            vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\r\n    \r\n            var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.setOnCloseRequest(event -&gt; {\r\n    \r\n                StopGenerator1();\r\n                StopGenerator2();\r\n    \r\n            });\r\n    \r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        public void StartGenerator1() {\r\n    \r\n            if (this.executorService1 != null) {\r\n    \r\n                this.executorService1.shutdown();\r\n    \r\n            }\r\n    \r\n            try {\r\n    \r\n                this.executorService1 = Executors.newSingleThreadScheduledExecutor();\r\n                this.executorService1.scheduleAtFixedRate(this::SendDataToDataContainers1, 0L, speed, TimeUnit.MICROSECONDS);\r\n    \r\n            } catch (Exception r) {\r\n    \r\n               r.printStackTrace();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StopGenerator1() {\r\n    \r\n            if (this.executorService1 != null) {\r\n    \r\n                this.executorService1.shutdown();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StartGenerator2() {\r\n    \r\n            if (this.executorService2 != null) {\r\n    \r\n                this.executorService2.shutdown();\r\n    \r\n            }\r\n    \r\n            try {\r\n    \r\n                this.executorService2 = Executors.newSingleThreadScheduledExecutor();\r\n                this.executorService2.scheduleAtFixedRate(this::SendDataToDataContainers2, 0L, speed, TimeUnit.MICROSECONDS);\r\n    \r\n            } catch (Exception r) {\r\n    \r\n                r.printStackTrace();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StopGenerator2() {\r\n    \r\n            if (this.executorService2 != null) {\r\n    \r\n                this.executorService2.shutdown();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers1() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                dmxDataArray[1] = (byte) 1;\r\n                dmxDataArray[2] = (byte) 1;\r\n                dmxDataArray[3] = (byte) 1;\r\n                dmxDataArray[4] = (byte) 1;\r\n                System.out.println(&quot;Running using array&quot;);\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n                    System.out.println(&quot;Running using Observablelist&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers2() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArray[1] = (byte) 1;\r\n                    dmxDataArray[2] = (byte) 1;\r\n                    dmxDataArray[3] = (byte) 1;\r\n                    dmxDataArray[4] = (byte) 1;\r\n                    System.out.println(&quot;Running using array &quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n    \r\n                    System.out.println(&quot;Running using Observablelist&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThis is the dmxDataObservable class:\r\n\r\n    package org.example;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    \r\n    public class dmxDataObservable {\r\n    \r\n        private final ObservableList&lt;Byte&gt; bytes;\r\n    \r\n        public dmxDataObservable(byte[] bytes) {\r\n    \r\n            this.bytes = FXCollections.observableArrayList();\r\n    \r\n            for (byte b : bytes) {\r\n    \r\n                this.bytes.add(b);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void setByte(int index, byte b) {\r\n    \r\n            bytes.set(index, b);\r\n    \r\n        }\r\n    \r\n        public Byte getByte(int index) {\r\n            return bytes.get(index);\r\n        }\r\n    \r\n        public ObservableList&lt;Byte&gt; getBytes() {\r\n            // prevent things like getBytes().add() etc.\r\n            return FXCollections.unmodifiableObservableList(bytes);\r\n        }\r\n    \r\n        public byte[] getBytesAsArray() {\r\n            byte[] byteArray = new byte[bytes.size()];\r\n            for (int i = 0; i &lt; bytes.size(); i++) {\r\n                byteArray[i] = bytes.get(i);\r\n            }\r\n            return byteArray;\r\n        }\r\n    }\r\n\r\nIf I run the App and click &quot;Start&quot; the app will run and add data to the array. If I select &quot;Use Observablelist&quot; I will see below errors at some point:\r\n\r\n    java.lang.UnsupportedOperationException\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection.add(Collections.java:1091)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.nextRemove(ListChangeBuilder.java:204)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.nextSet(ListChangeBuilder.java:453)\r\n    \tat javafx.base/javafx.collections.ObservableListBase.nextSet(ObservableListBase.java:115)\r\n    \tat javafx.base/javafx.collections.ModifiableObservableListBase.set(ModifiableObservableListBase.java:162)\r\n    \tat org.example/org.example.dmxDataObservable.setByte(dmxDataObservable.java:24)\r\n    \tat org.example/org.example.App.SendDataToDataContainers1(App.java:181)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n    \tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\nIf I keep the app running and select &quot;Use array&quot; then the app is again working without errors.\r\n\r\nI know the call to the array and observablelist is very intensively but that is what I need to do in my App.\r\n\r\n\r\n\r\n\r\n","title":"JavaFX multiple threads: array vs observableList","body":"<p>Based on another stack overflow topic (<a href=\"https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array\">JavaFX MapProperty behave like an array</a>) kind people help me making a solution where I could add observability to an existing approach where I was using an array. I'm budling a small app where I am controlling a &quot;moving head&quot; with pan &amp; tilt movement and are using executorServices (scheduleAtFixedRate) to send new values to my hardware (the movinghead). The problem is that I see some performance-issue (I think) when using the observablelist. I see no performance-issue when using the array.</p>\n<p>Below is an example that can reproduce the issue and under the code is described what to do to generate the issue.</p>\n<pre><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.collections.ListChangeListener;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class App extends Application {\n\n    RadioButton radioButtonUseArray;\n    RadioButton radioButtonUseObservableList;\n    ScheduledExecutorService executorService1;\n    ScheduledExecutorService executorService2;\n    int speed = 10;\n\n    private final byte[] dmxDataArray = new byte[512];\n    dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\n\n    @Override\n    public void start(Stage stage) {\n\n        dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\n            public void onChanged(ListChangeListener.Change change) {\n\n                System.out.println(&quot;Data updated&quot;);\n\n            }\n\n        });\n\n        Button buttonStart = new Button(&quot;Start&quot;);\n        buttonStart.setPrefWidth(100);\n        buttonStart.setOnAction(event -&gt; {\n\n            StartGenerator1();\n            StartGenerator2();\n\n        });\n\n        Button buttonStop = new Button(&quot;Stop&quot;);\n        buttonStop.setPrefWidth(100);\n        buttonStop.setOnAction(event -&gt; {\n\n            StopGenerator1();\n            StopGenerator2();\n\n        });\n\n        HBox hBoxWithStartStop1 = new HBox();\n        hBoxWithStartStop1.setAlignment(Pos.CENTER);\n        hBoxWithStartStop1.setSpacing(10);\n        HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\n        hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\n\n        ToggleGroup toggleGroup = new ToggleGroup();\n\n        radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\n        radioButtonUseArray.setToggleGroup(toggleGroup);\n        radioButtonUseArray.setSelected(true);\n\n        radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\n        radioButtonUseObservableList.setToggleGroup(toggleGroup);\n\n        HBox hBoxWithRadioButtons = new HBox();\n        hBoxWithRadioButtons.setAlignment(Pos.CENTER);\n        hBoxWithRadioButtons.setSpacing(10);\n        HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\n        hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\n\n        VBox vBoxWithAllOptions = new VBox();\n        vBoxWithAllOptions.setSpacing(10);\n        vBoxWithAllOptions.setAlignment(Pos.CENTER);\n        vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\n\n        var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\n        stage.setScene(scene);\n        stage.setOnCloseRequest(event -&gt; {\n\n            StopGenerator1();\n            StopGenerator2();\n\n        });\n\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public void StartGenerator1() {\n\n        if (this.executorService1 != null) {\n\n            this.executorService1.shutdown();\n\n        }\n\n        try {\n\n            this.executorService1 = Executors.newSingleThreadScheduledExecutor();\n            this.executorService1.scheduleAtFixedRate(this::SendDataToDataContainers1, 0L, speed, TimeUnit.MICROSECONDS);\n\n        } catch (Exception r) {\n\n           r.printStackTrace();\n\n        }\n\n    }\n\n    public void StopGenerator1() {\n\n        if (this.executorService1 != null) {\n\n            this.executorService1.shutdown();\n\n        }\n\n    }\n\n    public void StartGenerator2() {\n\n        if (this.executorService2 != null) {\n\n            this.executorService2.shutdown();\n\n        }\n\n        try {\n\n            this.executorService2 = Executors.newSingleThreadScheduledExecutor();\n            this.executorService2.scheduleAtFixedRate(this::SendDataToDataContainers2, 0L, speed, TimeUnit.MICROSECONDS);\n\n        } catch (Exception r) {\n\n            r.printStackTrace();\n\n        }\n\n    }\n\n    public void StopGenerator2() {\n\n        if (this.executorService2 != null) {\n\n            this.executorService2.shutdown();\n\n        }\n\n    }\n\n    public void SendDataToDataContainers1() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            dmxDataArray[1] = (byte) 1;\n            dmxDataArray[2] = (byte) 1;\n            dmxDataArray[3] = (byte) 1;\n            dmxDataArray[4] = (byte) 1;\n            System.out.println(&quot;Running using array&quot;);\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n                System.out.println(&quot;Running using Observablelist&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n    public void SendDataToDataContainers2() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            try {\n\n                dmxDataArray[1] = (byte) 1;\n                dmxDataArray[2] = (byte) 1;\n                dmxDataArray[3] = (byte) 1;\n                dmxDataArray[4] = (byte) 1;\n                System.out.println(&quot;Running using array &quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n\n                System.out.println(&quot;Running using Observablelist&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>This is the dmxDataObservable class:</p>\n<pre><code>package org.example;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\npublic class dmxDataObservable {\n\n    private final ObservableList&lt;Byte&gt; bytes;\n\n    public dmxDataObservable(byte[] bytes) {\n\n        this.bytes = FXCollections.observableArrayList();\n\n        for (byte b : bytes) {\n\n            this.bytes.add(b);\n\n        }\n\n    }\n\n    public void setByte(int index, byte b) {\n\n        bytes.set(index, b);\n\n    }\n\n    public Byte getByte(int index) {\n        return bytes.get(index);\n    }\n\n    public ObservableList&lt;Byte&gt; getBytes() {\n        // prevent things like getBytes().add() etc.\n        return FXCollections.unmodifiableObservableList(bytes);\n    }\n\n    public byte[] getBytesAsArray() {\n        byte[] byteArray = new byte[bytes.size()];\n        for (int i = 0; i &lt; bytes.size(); i++) {\n            byteArray[i] = bytes.get(i);\n        }\n        return byteArray;\n    }\n}\n</code></pre>\n<p>If I run the App and click &quot;Start&quot; the app will run and add data to the array. If I select &quot;Use Observablelist&quot; I will see below errors at some point:</p>\n<pre><code>java.lang.UnsupportedOperationException\n    at java.base/java.util.Collections$UnmodifiableCollection.add(Collections.java:1091)\n    at javafx.base/javafx.collections.ListChangeBuilder.nextRemove(ListChangeBuilder.java:204)\n    at javafx.base/javafx.collections.ListChangeBuilder.nextSet(ListChangeBuilder.java:453)\n    at javafx.base/javafx.collections.ObservableListBase.nextSet(ObservableListBase.java:115)\n    at javafx.base/javafx.collections.ModifiableObservableListBase.set(ModifiableObservableListBase.java:162)\n    at org.example/org.example.dmxDataObservable.setByte(dmxDataObservable.java:24)\n    at org.example/org.example.App.SendDataToDataContainers1(App.java:181)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n</code></pre>\n<p>If I keep the app running and select &quot;Use array&quot; then the app is again working without errors.</p>\n<p>I know the call to the array and observablelist is very intensively but that is what I need to do in my App.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693205880,"creation_date":1693074762,"answer_id":76984320,"question_id":76984169,"body_markdown":"\r\n\r\nThis is maybe a bit cleaner but not that perfect, but you could use an object like this :\r\n\r\n    public static class Updater {\r\n      private final OrgEmployeeMap existing;\r\n      private final EmployeeInformation information;\r\n      private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\r\n\r\n      public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\r\n        this.existing = existing;\r\n        this.information = information;\r\n      }\r\n\r\n      /**\r\n       * @param fieldName the name of the field that is updated\r\n       * @param newValueGetter a function that retrieves the new value of the field from a {@link EmployeeInformation}\r\n       * @param oldValueGetter a function that retrieves the old value of the field from a {@link OrgEmployeeMap}\r\n       * @param oldValueSetter a consumer that sets the new value of the field to a {@link OrgEmployeeMap}\r\n       * @return this\r\n       * @param &lt;T&gt; the type of the value that is updated\r\n       */\r\n      public &lt;T&gt; Updater update(String fieldName,\r\n                                Function&lt;EmployeeInformation, T&gt; newValueGetter,\r\n                                Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\r\n                                BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\r\n          //retrieve the new value from the information \r\n          final var newValue = newValueGetter.apply(information);\r\n          //retrieve the old value from the existing employee \r\n          final var oldValue = oldValueGetter.apply(existing);\r\n          if (newValue == null || newValue.equals(oldValue)) {\r\n              //no update needed, just return this\r\n              return this;\r\n          }\r\n          //field is modified, add the fieldName to the set of updateFields\r\n          this.updatedFields.add(fieldName);\r\n          //set the new value with the provided setter\r\n          oldValueSetter.accept(existing, newValue);\r\n          return this;\r\n      }\r\n\r\n      public Set&lt;String&gt; getUpdatedFields() {\r\n        return updatedFields;\r\n      }\r\n    }\r\n\r\nYou can use it in your method like this:\r\n\r\n    private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\r\n        try {\r\n            EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\r\n            final var updater = new Updater(existingOrgEmployee, employeeInfo);\r\n\r\n            updater\r\n                .update(&quot;FirstName&quot;, EmployeeInformation::getEmployeeFirstName, OrgEmployeeMap::getFirstName, OrgEmployeeMap::setFirstName)\r\n                .update(&quot;LastName&quot;, EmployeeInformation::getEmployeeLastName, OrgEmployeeMap::getLastName, OrgEmployeeMap::setLastName)\r\n                .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\r\n                .update(&quot;Gender&quot;, EmployeeInformation::getGender, OrgEmployeeMap::getGender, OrgEmployeeMap::setGender)\r\n                .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\r\n\r\n            final var modifiedFields = updater.getUpdatedFields();\r\n            if (!modifiedFields.isEmpty()) {\r\n                log.info(&quot;Updated employee : &quot; + String.join(&quot;, &quot;, modifiedFields));\r\n            }\r\n\r\n            orgEmployeeMapRepository.save(existingOrgEmployee);\r\n\r\n            log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\r\n        } catch (JSONException e) {\r\n            log.error(&quot;error in processing the request error&quot;, e.getMessage());\r\n        } catch (Exception ex) {\r\n            log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\r\n        }\r\n    }\r\n\r\n**Some explanations:**\r\n\r\nTo update a field you need to perform the following operations :\r\n\r\n 1. Get the new value\r\n 2. Get the old value \r\n 3. If the new value is null or is equal to the old value -&gt; done\r\n 4. Update with the new value (and keep track of the name of the updated field)\r\n\r\nThese steps are always the same regardless of the type of the fields. What depends of the type are the &quot;Get&quot;s, the &quot;Set&quot; actions (there is technically also the &quot;is equal&quot; but since it is a method between values of the type, it is already taken care of). \r\n\r\nThese &quot;Get&quot; and &quot;Set&quot; actions are provided as parameters ([Function][2] for the &quot;Get&quot; and [BiConsumer][3] for the &quot;Set&quot;) of the method `update` that then needs to be a [generic method][1]. \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html","title":"How to log only those field which got update during Update API call in java?","body":"<p>This is maybe a bit cleaner but not that perfect, but you could use an object like this :</p>\n<pre><code>public static class Updater {\n  private final OrgEmployeeMap existing;\n  private final EmployeeInformation information;\n  private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\n\n  public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\n    this.existing = existing;\n    this.information = information;\n  }\n\n  /**\n   * @param fieldName the name of the field that is updated\n   * @param newValueGetter a function that retrieves the new value of the field from a {@link EmployeeInformation}\n   * @param oldValueGetter a function that retrieves the old value of the field from a {@link OrgEmployeeMap}\n   * @param oldValueSetter a consumer that sets the new value of the field to a {@link OrgEmployeeMap}\n   * @return this\n   * @param &lt;T&gt; the type of the value that is updated\n   */\n  public &lt;T&gt; Updater update(String fieldName,\n                            Function&lt;EmployeeInformation, T&gt; newValueGetter,\n                            Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\n                            BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\n      //retrieve the new value from the information \n      final var newValue = newValueGetter.apply(information);\n      //retrieve the old value from the existing employee \n      final var oldValue = oldValueGetter.apply(existing);\n      if (newValue == null || newValue.equals(oldValue)) {\n          //no update needed, just return this\n          return this;\n      }\n      //field is modified, add the fieldName to the set of updateFields\n      this.updatedFields.add(fieldName);\n      //set the new value with the provided setter\n      oldValueSetter.accept(existing, newValue);\n      return this;\n  }\n\n  public Set&lt;String&gt; getUpdatedFields() {\n    return updatedFields;\n  }\n}\n</code></pre>\n<p>You can use it in your method like this:</p>\n<pre><code>private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\n    try {\n        EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\n        final var updater = new Updater(existingOrgEmployee, employeeInfo);\n\n        updater\n            .update(&quot;FirstName&quot;, EmployeeInformation::getEmployeeFirstName, OrgEmployeeMap::getFirstName, OrgEmployeeMap::setFirstName)\n            .update(&quot;LastName&quot;, EmployeeInformation::getEmployeeLastName, OrgEmployeeMap::getLastName, OrgEmployeeMap::setLastName)\n            .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\n            .update(&quot;Gender&quot;, EmployeeInformation::getGender, OrgEmployeeMap::getGender, OrgEmployeeMap::setGender)\n            .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\n\n        final var modifiedFields = updater.getUpdatedFields();\n        if (!modifiedFields.isEmpty()) {\n            log.info(&quot;Updated employee : &quot; + String.join(&quot;, &quot;, modifiedFields));\n        }\n\n        orgEmployeeMapRepository.save(existingOrgEmployee);\n\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\n    } catch (JSONException e) {\n        log.error(&quot;error in processing the request error&quot;, e.getMessage());\n    } catch (Exception ex) {\n        log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\n    }\n}\n</code></pre>\n<p><strong>Some explanations:</strong></p>\n<p>To update a field you need to perform the following operations :</p>\n<ol>\n<li>Get the new value</li>\n<li>Get the old value</li>\n<li>If the new value is null or is equal to the old value -&gt; done</li>\n<li>Update with the new value (and keep track of the name of the updated field)</li>\n</ol>\n<p>These steps are always the same regardless of the type of the fields. What depends of the type are the &quot;Get&quot;s, the &quot;Set&quot; actions (there is technically also the &quot;is equal&quot; but since it is a method between values of the type, it is already taken care of).</p>\n<p>These &quot;Get&quot; and &quot;Set&quot; actions are provided as parameters (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> for the &quot;Get&quot; and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\">BiConsumer</a> for the &quot;Set&quot;) of the method <code>update</code> that then needs to be a <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">generic method</a>.</p>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76984320,"answer_count":1,"score":1,"last_activity_date":1697142354,"creation_date":1693072190,"question_id":76984169,"body_markdown":"I need to log only those fields which will be updated during the Update API call. Like if I have 10 columns in my Table but only three got updated in a API call, only those three fields should be logged.\r\n\r\nI tried like this but it is not covering all conditions and giving null value sometimes.\r\n\r\nHere I&#39;m checking if existing employee value is equals to coming payload&#39;s value before calling get and set function for update, but if any of the value will be null it is throwing error. \r\n\r\nTried Code\r\n```\r\n//existingOrgEmployee is DB mysql entry\r\n// and employeeInfo is coming Request from Api Payload\r\nif (employeeInfo.getEmployeeFirstName() != null) { \r\n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\r\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \r\n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\r\n                }\r\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\r\n            }\r\n```\r\n\r\nIn payload all the fields will be present but only those which are different or empty in db column will be changed, thats why I have applied if condition before set function\r\n\r\nThis is the update function within **Service Class** \r\n```\r\n private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\r\n        try {\r\n            EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\r\n\r\n            if (employeeInfo.getEmployeeFirstName() != null) {\r\n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\r\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \r\n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\r\n                }\r\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\r\n            }\r\n            if (employeeInfo.getEmployeeLastName() != null) {\r\n\r\n                existingOrgEmployee.setLastName(employeeInfo.getEmployeeLastName());\r\n            }\r\n            if (employeeInfo.getDOB() != null) {\r\n\r\n                existingOrgEmployee.setDob(employeeInfo.getDOB());\r\n            }\r\n            if (employeeInfo.getGender() != null) {\r\n\r\n                existingOrgEmployee.setGender(employee Info.getGender());\r\n            }\r\n            if (employeeInfo.getEmail() != null) {\r\n                if(!existingOrgEmployee.getEmail().equals(employeeInfo.getEmail())){\r\n                    log.info(&quot;Email Updated for Orgemployee  : &quot;+existingOrgEmployee.getEmail());\r\n                }\r\n                existingOrgEmployee.setEmail(employeeInfo.getEmail());\r\n            }\r\n\r\n            orgEmployeeMapRepository.save(existingOrgEmployee);\r\n\r\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\r\n        } catch (JSONException e) {\r\n            log.error(&quot;error in processing the request error&quot;, e.getMessage());\r\n        }catch (Exception ex) {\r\n            log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\r\n        }\r\n```\r\nAlso this is not optimized approach, How can I log updated fields? \r\n\r\n","title":"How to log only those field which got update during Update API call in java?","body":"<p>I need to log only those fields which will be updated during the Update API call. Like if I have 10 columns in my Table but only three got updated in a API call, only those three fields should be logged.</p>\n<p>I tried like this but it is not covering all conditions and giving null value sometimes.</p>\n<p>Here I'm checking if existing employee value is equals to coming payload's value before calling get and set function for update, but if any of the value will be null it is throwing error.</p>\n<p>Tried Code</p>\n<pre><code>//existingOrgEmployee is DB mysql entry\n// and employeeInfo is coming Request from Api Payload\nif (employeeInfo.getEmployeeFirstName() != null) { \n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\n                }\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\n            }\n</code></pre>\n<p>In payload all the fields will be present but only those which are different or empty in db column will be changed, thats why I have applied if condition before set function</p>\n<p>This is the update function within <strong>Service Class</strong></p>\n<pre><code> private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\n        try {\n            EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\n\n            if (employeeInfo.getEmployeeFirstName() != null) {\n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\n                }\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\n            }\n            if (employeeInfo.getEmployeeLastName() != null) {\n\n                existingOrgEmployee.setLastName(employeeInfo.getEmployeeLastName());\n            }\n            if (employeeInfo.getDOB() != null) {\n\n                existingOrgEmployee.setDob(employeeInfo.getDOB());\n            }\n            if (employeeInfo.getGender() != null) {\n\n                existingOrgEmployee.setGender(employee Info.getGender());\n            }\n            if (employeeInfo.getEmail() != null) {\n                if(!existingOrgEmployee.getEmail().equals(employeeInfo.getEmail())){\n                    log.info(&quot;Email Updated for Orgemployee  : &quot;+existingOrgEmployee.getEmail());\n                }\n                existingOrgEmployee.setEmail(employeeInfo.getEmail());\n            }\n\n            orgEmployeeMapRepository.save(existingOrgEmployee);\n\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\n        } catch (JSONException e) {\n            log.error(&quot;error in processing the request error&quot;, e.getMessage());\n        }catch (Exception ex) {\n            log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\n        }\n</code></pre>\n<p>Also this is not optimized approach, How can I log updated fields?</p>\n"},{"tags":["java","rabbitmq","message-queue"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697142238,"creation_date":1532293752,"answer_id":51469273,"question_id":51466438,"body_markdown":"Yes, every consumer needs its own channel. Your best option is to run each consumer in its own thread, with its own connection and channel. RabbitMQ will round-robin delivery of messages to consumers. Be sure to read about prefetch (QoS).\r\n","title":"RabbitMQ - multiple consumers single publisher","body":"<p>Yes, every consumer needs its own channel. Your best option is to run each consumer in its own thread, with its own connection and channel. RabbitMQ will round-robin delivery of messages to consumers. Be sure to read about prefetch (QoS).</p>\n"}],"owner":{"account_id":1536372,"reputation":1235,"user_id":1432310,"accept_rate":42,"display_name":"iddqd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697142238,"creation_date":1532272193,"question_id":51466438,"body_markdown":"When using RabbitMQ to handle heavy messages, i need to add more than one consumer for the same publisher and task. Most of the tutorials from RabbitMQ and across the web suggest to register multiple consumers for that task (Although most of them opens a new process for each consumer in a new shell, and mine would all go under the same application). Given that every consumer needs it&#39;s own channel (correct me if i&#39;m wrong here), that means that for X consumers we would have X channels open.  \r\nThe alternative that comes to mind is having one consumer that ships the messages to a Thread pool containing tasks that implement the heavy work from the messages, which is a little more clumsy but requires only one open channel.  \r\n Is there a preferable way to implement this out of these two options? Is there a third option?","title":"RabbitMQ - multiple consumers single publisher","body":"<p>When using RabbitMQ to handle heavy messages, i need to add more than one consumer for the same publisher and task. Most of the tutorials from RabbitMQ and across the web suggest to register multiple consumers for that task (Although most of them opens a new process for each consumer in a new shell, and mine would all go under the same application). Given that every consumer needs it's own channel (correct me if i'm wrong here), that means that for X consumers we would have X channels open.<br>\nThe alternative that comes to mind is having one consumer that ships the messages to a Thread pool containing tasks that implement the heavy work from the messages, which is a little more clumsy but requires only one open channel.<br>\n Is there a preferable way to implement this out of these two options? Is there a third option?</p>\n"},{"tags":["java","rabbitmq","messaging"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697142230,"creation_date":1532293914,"answer_id":51469295,"question_id":51462358,"body_markdown":"`basicGet` is rarely the correct solution. In Step 2, the client should be consuming from RabbitMQ. No notification that a message is ready is necessary. RabbitMQ will send the message to Client B as soon as it&#39;s in the queue. Step-3 and Step-4 become unnecessary.\r\n","title":"Can two consumers get same set of messages while retrieving messages using an Pull based Manner?","body":"<p><code>basicGet</code> is rarely the correct solution. In Step 2, the client should be consuming from RabbitMQ. No notification that a message is ready is necessary. RabbitMQ will send the message to Client B as soon as it's in the queue. Step-3 and Step-4 become unnecessary.</p>\n"}],"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697142230,"creation_date":1532237836,"question_id":51462358,"body_markdown":"So I have a one client-server based ecosystem where I am using RabbitMQ as a persistent Middleware.\r\n\r\nNow the flow of a single message goes like this.\r\n\r\n - Step-1: Client A sends a message to the server with the destination\r\n   being set to Client B in the metadata of that message.\r\n - Step-2: Server upon receiving a message pushes the message to the\r\n   RabbitMQ and sends Client B a notification that he has some messages\r\n   to fetch.\r\n - Step-3: Client B upon getting notified calls the fetch message API to\r\n   get messages from the server.\r\n - Step-4: On the server, after getting called from the Client B pulls\r\n   messages from the RabbitMQ using the pull-based approach\r\n   (`channel.basicGet(queueName, false)`) and hands over the list of\r\n   messages.\r\n\r\nNow in the above flow, there are few things that I have some doubt with. \r\n\r\nFirst of all, if my client receives two notifications and calls the pull message API twice, there might be a concurrency problem.\r\n\r\nSuppose I am not sending the message Acknowledgement while getting the message but I am sending afterwards, then can It be possible that the same message being sent to two pull API? If so is there any way to prevent this from happening?\r\n\r\n\r\n\r\nSample Code to Get Message From the MQ:\r\n    \r\n\r\n        long currentMessageCount = channel.messageCount(QUEUE_NAME);\r\n        while (currentMessageCount-- &gt; 0) {\r\n            GetResponse getResponse = channel.basicGet(QUEUE_NAME, false);\r\n            if (getResponse == null) {\r\n                break;\r\n            }\r\n            AMQP.BasicProperties props        = getResponse.getProps();\r\n            Envelope             envelope     = getResponse.getEnvelope();\r\n            int                  messageCount = getResponse.getMessageCount();\r\n            byte[]               body         = getResponse.getBody();\r\n            /*\r\n                Do some logic\r\n             */\r\n            channel.basicAck(envelope.getDeliveryTag(), false);\r\n        }\r\n\r\n\r\n\r\nTIA ","title":"Can two consumers get same set of messages while retrieving messages using an Pull based Manner?","body":"<p>So I have a one client-server based ecosystem where I am using RabbitMQ as a persistent Middleware.</p>\n\n<p>Now the flow of a single message goes like this.</p>\n\n<ul>\n<li>Step-1: Client A sends a message to the server with the destination\nbeing set to Client B in the metadata of that message.</li>\n<li>Step-2: Server upon receiving a message pushes the message to the\nRabbitMQ and sends Client B a notification that he has some messages\nto fetch.</li>\n<li>Step-3: Client B upon getting notified calls the fetch message API to\nget messages from the server.</li>\n<li>Step-4: On the server, after getting called from the Client B pulls\nmessages from the RabbitMQ using the pull-based approach\n(<code>channel.basicGet(queueName, false)</code>) and hands over the list of\nmessages.</li>\n</ul>\n\n<p>Now in the above flow, there are few things that I have some doubt with. </p>\n\n<p>First of all, if my client receives two notifications and calls the pull message API twice, there might be a concurrency problem.</p>\n\n<p>Suppose I am not sending the message Acknowledgement while getting the message but I am sending afterwards, then can It be possible that the same message being sent to two pull API? If so is there any way to prevent this from happening?</p>\n\n<p>Sample Code to Get Message From the MQ:</p>\n\n<pre><code>    long currentMessageCount = channel.messageCount(QUEUE_NAME);\n    while (currentMessageCount-- &gt; 0) {\n        GetResponse getResponse = channel.basicGet(QUEUE_NAME, false);\n        if (getResponse == null) {\n            break;\n        }\n        AMQP.BasicProperties props        = getResponse.getProps();\n        Envelope             envelope     = getResponse.getEnvelope();\n        int                  messageCount = getResponse.getMessageCount();\n        byte[]               body         = getResponse.getBody();\n        /*\n            Do some logic\n         */\n        channel.basicAck(envelope.getDeliveryTag(), false);\n    }\n</code></pre>\n\n<p>TIA </p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697142193,"creation_date":1533591460,"answer_id":51715985,"question_id":51706696,"body_markdown":"Yes you found a bug in the tutorial code. I have opened a pull request to fix it here and you can find the explanation of what&#39;s happening as well:\r\n\r\nhttps://github.com/rabbitmq/rabbitmq-tutorials/pull/174\r\n","title":"RabbitMQ doesn&#39;t choose a right consumer","body":"<p>Yes you found a bug in the tutorial code. I have opened a pull request to fix it here and you can find the explanation of what's happening as well:</p>\n<p><a href=\"https://github.com/rabbitmq/rabbitmq-tutorials/pull/174\" rel=\"nofollow noreferrer\">https://github.com/rabbitmq/rabbitmq-tutorials/pull/174</a></p>\n"},{"tags":[],"owner":{"account_id":13802804,"reputation":96,"user_id":9962449,"display_name":"Arnaud Cogolu&#232;gnes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534146568,"creation_date":1534146568,"answer_id":51817543,"question_id":51706696,"body_markdown":"This example is simplistic: it uses one queue for the reply. By sending a second request, you register a new consumer to the reply, but the consumer of the first request is still listening and actually _steals the response of the second request_. That&#39;s why the client seems to use the same correlation ID.\r\n\r\nWe [updated the client code](https://github.com/rabbitmq/rabbitmq-tutorials/pull/175/files) to use an exclusive, auto-delete queue for each request. This queue will be auto-deleted by the server because its only consumer is unsubscribed after the response has been received. This is a bit more involved but closer to a real-world scenario.\r\n\r\nNote the best way to deal with the reply queue with RabbitMQ is to use [direct reply-to](https://www.rabbitmq.com/direct-reply-to.html). This uses pseudo-queues which are lighter than real queues. We don&#39;t mention direct reply-to in the tutorial to keep it as simple as possible, but this is the preferred feature to use in production.","title":"RabbitMQ doesn&#39;t choose a right consumer","body":"<p>This example is simplistic: it uses one queue for the reply. By sending a second request, you register a new consumer to the reply, but the consumer of the first request is still listening and actually <em>steals the response of the second request</em>. That's why the client seems to use the same correlation ID.</p>\n\n<p>We <a href=\"https://github.com/rabbitmq/rabbitmq-tutorials/pull/175/files\" rel=\"nofollow noreferrer\">updated the client code</a> to use an exclusive, auto-delete queue for each request. This queue will be auto-deleted by the server because its only consumer is unsubscribed after the response has been received. This is a bit more involved but closer to a real-world scenario.</p>\n\n<p>Note the best way to deal with the reply queue with RabbitMQ is to use <a href=\"https://www.rabbitmq.com/direct-reply-to.html\" rel=\"nofollow noreferrer\">direct reply-to</a>. This uses pseudo-queues which are lighter than real queues. We don't mention direct reply-to in the tutorial to keep it as simple as possible, but this is the preferred feature to use in production.</p>\n"}],"owner":{"account_id":5049622,"reputation":942,"user_id":4054598,"accept_rate":57,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51715985,"answer_count":2,"score":0,"last_activity_date":1697142193,"creation_date":1533555251,"question_id":51706696,"body_markdown":"I took the example from here http://www.rabbitmq.com/tutorials/tutorial-six-java.html, added one more RPC call from `RPCClient` and added some logging into stdout. As a result, when the second call is executed, rabbitmq uses the consumer with wrong correlation id which is not expected behavior. Is it a bug or am I getting anything wrong?\r\n\r\nRPCServer:\r\n\r\n    package com.foo.rabbitmq;\r\n    \r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.Consumer;\r\n    import com.rabbitmq.client.DefaultConsumer;\r\n    import com.rabbitmq.client.AMQP;\r\n    import com.rabbitmq.client.Envelope;\r\n\r\n    import java.io.IOException;\r\n    import java.util.concurrent.TimeoutException;\r\n\r\n    public class RPCServer {\r\n\r\n      private static final String RPC_QUEUE_NAME = &quot;sap-consume&quot;;\r\n\r\n      private static int fib(int n) {\r\n        if (n ==0) return 0;\r\n        if (n == 1) return 1;\r\n        return fib(n-1) + fib(n-2);\r\n      }\r\n\r\n      public static void main(String[] argv) {\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setHost(&quot;localhost&quot;);\r\n        factory.setPort(5672);\r\n\r\n        Connection connection = null;\r\n        try {\r\n          connection      = factory.newConnection();\r\n          final Channel channel = connection.createChannel();\r\n\r\n          channel.queueDeclare(RPC_QUEUE_NAME, false, false, false, null);\r\n\r\n          channel.basicQos(1);\r\n\r\n          System.out.println(&quot; [x] Awaiting RPC requests&quot;);\r\n\r\n          Consumer consumer = new DefaultConsumer(channel) {\r\n            @Override\r\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n              AMQP.BasicProperties replyProps = new AMQP.BasicProperties\r\n                .Builder()\r\n                .correlationId(properties.getCorrelationId())\r\n                .build();\r\n\r\n              String response = &quot;&quot;;\r\n\r\n              try {\r\n                String message = new String(body,&quot;UTF-8&quot;);\r\n                int n = Integer.parseInt(message);\r\n\r\n                System.out.println(&quot; [.] fib(&quot; + message + &quot;)&quot;);\r\n                response += fib(n);\r\n              }\r\n              catch (RuntimeException e){\r\n                System.out.println(&quot; [.] &quot; + e.toString());\r\n              }\r\n              finally {\r\n                channel.basicPublish( &quot;&quot;, properties.getReplyTo(), replyProps, response.getBytes(&quot;UTF-8&quot;));\r\n                channel.basicAck(envelope.getDeliveryTag(), false);\r\n            // RabbitMq consumer worker thread notifies the RPC server owner thread\r\n                synchronized(this) {\r\n                  this.notify();\r\n                }\r\n              }\r\n            }\r\n          };\r\n\r\n          channel.basicConsume(RPC_QUEUE_NAME, false, consumer);\r\n          // Wait and be prepared to consume the message from RPC client.\r\n          while (true) {\r\n            synchronized(consumer) {\r\n              try {\r\n                consumer.wait();\r\n              } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n              }\r\n            }\r\n          }\r\n        } catch (IOException | TimeoutException e) {\r\n          e.printStackTrace();\r\n        }\r\n        finally {\r\n          if (connection != null)\r\n            try {\r\n              connection.close();\r\n            } catch (IOException _ignore) {}\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nRPCCLient:\r\n\r\n    package com.bar.rabbitmq;\r\n\r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.DefaultConsumer;\r\n    import com.rabbitmq.client.AMQP;\r\n    import com.rabbitmq.client.Envelope;\r\n\r\n    import java.io.IOException;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.TimeoutException;\r\n\r\n    public class RPCClient {\r\n\r\n      private Connection connection;\r\n      private Channel channel;\r\n      private String requestQueueName = &quot;sap-consume&quot;;\r\n      private String replyQueueName;\r\n\r\n      public RPCClient() throws IOException, TimeoutException {\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setHost(&quot;localhost&quot;);\r\n        factory.setPort(5672);\r\n\r\n        connection = factory.newConnection();\r\n        channel = connection.createChannel();\r\n\r\n        replyQueueName = channel.queueDeclare().getQueue();\r\n      }\r\n\r\n      public String call(String message) throws IOException, InterruptedException {\r\n        final String corrId = UUID.randomUUID().toString();\r\n\r\n        AMQP.BasicProperties props = new AMQP.BasicProperties\r\n          .Builder()\r\n          .correlationId(corrId)\r\n          .replyTo(replyQueueName)\r\n          .build();\r\n\r\n        channel.basicPublish(&quot;&quot;, requestQueueName, props, message.getBytes(&quot;UTF-8&quot;));\r\n\r\n        final BlockingQueue&lt;String&gt; response = new ArrayBlockingQueue&lt;String&gt;(1);\r\n\r\n        channel.basicConsume(replyQueueName, true, new DefaultConsumer(channel) {\r\n          @Override\r\n          public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n            if (properties.getCorrelationId().equals(corrId)) {\r\n              System.out.println(&quot;Correlation Id&quot; + properties.getCorrelationId() + &quot; corresponds to expected one.&quot;);\r\n              response.offer(new String(body, &quot;UTF-8&quot;));\r\n            } else {\r\n              System.out.println(&quot;Correlation Id&quot; + properties.getCorrelationId() + &quot; doesn&#39;t correspond to expected one &quot; + corrId);\r\n            }\r\n          }\r\n        });\r\n\r\n        return response.take();\r\n      }\r\n\r\n      public void close() throws IOException {\r\n        connection.close();\r\n      }\r\n\r\n      public static void main(String[] argv) {\r\n        RPCClient rpc = null;\r\n        String response = null;\r\n        try {\r\n          rpc = new RPCClient();\r\n\r\n          System.out.println(&quot; [x] Requesting fib(30)&quot;);\r\n          response = rpc.call(&quot;30&quot;);\r\n          System.out.println(&quot; [.] Got &#39;&quot; + response + &quot;&#39;&quot;);\r\n          System.out.println(&quot; [x] Requesting fib(40)&quot;);\r\n          response = rpc.call(&quot;40&quot;);\r\n          System.out.println(&quot; [.] Got &#39;&quot; + response + &quot;&#39;&quot;);\r\n        } catch (IOException | TimeoutException | InterruptedException e) {\r\n          e.printStackTrace();\r\n        } finally {\r\n          if (rpc != null) {\r\n            try {\r\n              rpc.close();\r\n            } catch (IOException _ignore) {\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n","title":"RabbitMQ doesn&#39;t choose a right consumer","body":"<p>I took the example from here <a href=\"http://www.rabbitmq.com/tutorials/tutorial-six-java.html\" rel=\"nofollow noreferrer\">http://www.rabbitmq.com/tutorials/tutorial-six-java.html</a>, added one more RPC call from <code>RPCClient</code> and added some logging into stdout. As a result, when the second call is executed, rabbitmq uses the consumer with wrong correlation id which is not expected behavior. Is it a bug or am I getting anything wrong?</p>\n\n<p>RPCServer:</p>\n\n<pre><code>package com.foo.rabbitmq;\n\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Consumer;\nimport com.rabbitmq.client.DefaultConsumer;\nimport com.rabbitmq.client.AMQP;\nimport com.rabbitmq.client.Envelope;\n\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\n\npublic class RPCServer {\n\n  private static final String RPC_QUEUE_NAME = \"sap-consume\";\n\n  private static int fib(int n) {\n    if (n ==0) return 0;\n    if (n == 1) return 1;\n    return fib(n-1) + fib(n-2);\n  }\n\n  public static void main(String[] argv) {\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"localhost\");\n    factory.setPort(5672);\n\n    Connection connection = null;\n    try {\n      connection      = factory.newConnection();\n      final Channel channel = connection.createChannel();\n\n      channel.queueDeclare(RPC_QUEUE_NAME, false, false, false, null);\n\n      channel.basicQos(1);\n\n      System.out.println(\" [x] Awaiting RPC requests\");\n\n      Consumer consumer = new DefaultConsumer(channel) {\n        @Override\n        public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n          AMQP.BasicProperties replyProps = new AMQP.BasicProperties\n            .Builder()\n            .correlationId(properties.getCorrelationId())\n            .build();\n\n          String response = \"\";\n\n          try {\n            String message = new String(body,\"UTF-8\");\n            int n = Integer.parseInt(message);\n\n            System.out.println(\" [.] fib(\" + message + \")\");\n            response += fib(n);\n          }\n          catch (RuntimeException e){\n            System.out.println(\" [.] \" + e.toString());\n          }\n          finally {\n            channel.basicPublish( \"\", properties.getReplyTo(), replyProps, response.getBytes(\"UTF-8\"));\n            channel.basicAck(envelope.getDeliveryTag(), false);\n        // RabbitMq consumer worker thread notifies the RPC server owner thread\n            synchronized(this) {\n              this.notify();\n            }\n          }\n        }\n      };\n\n      channel.basicConsume(RPC_QUEUE_NAME, false, consumer);\n      // Wait and be prepared to consume the message from RPC client.\n      while (true) {\n        synchronized(consumer) {\n          try {\n            consumer.wait();\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n          }\n        }\n      }\n    } catch (IOException | TimeoutException e) {\n      e.printStackTrace();\n    }\n    finally {\n      if (connection != null)\n        try {\n          connection.close();\n        } catch (IOException _ignore) {}\n    }\n  }\n}\n</code></pre>\n\n<p>RPCCLient:</p>\n\n<pre><code>package com.bar.rabbitmq;\n\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.DefaultConsumer;\nimport com.rabbitmq.client.AMQP;\nimport com.rabbitmq.client.Envelope;\n\nimport java.io.IOException;\nimport java.util.UUID;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.TimeoutException;\n\npublic class RPCClient {\n\n  private Connection connection;\n  private Channel channel;\n  private String requestQueueName = \"sap-consume\";\n  private String replyQueueName;\n\n  public RPCClient() throws IOException, TimeoutException {\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"localhost\");\n    factory.setPort(5672);\n\n    connection = factory.newConnection();\n    channel = connection.createChannel();\n\n    replyQueueName = channel.queueDeclare().getQueue();\n  }\n\n  public String call(String message) throws IOException, InterruptedException {\n    final String corrId = UUID.randomUUID().toString();\n\n    AMQP.BasicProperties props = new AMQP.BasicProperties\n      .Builder()\n      .correlationId(corrId)\n      .replyTo(replyQueueName)\n      .build();\n\n    channel.basicPublish(\"\", requestQueueName, props, message.getBytes(\"UTF-8\"));\n\n    final BlockingQueue&lt;String&gt; response = new ArrayBlockingQueue&lt;String&gt;(1);\n\n    channel.basicConsume(replyQueueName, true, new DefaultConsumer(channel) {\n      @Override\n      public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n        if (properties.getCorrelationId().equals(corrId)) {\n          System.out.println(\"Correlation Id\" + properties.getCorrelationId() + \" corresponds to expected one.\");\n          response.offer(new String(body, \"UTF-8\"));\n        } else {\n          System.out.println(\"Correlation Id\" + properties.getCorrelationId() + \" doesn't correspond to expected one \" + corrId);\n        }\n      }\n    });\n\n    return response.take();\n  }\n\n  public void close() throws IOException {\n    connection.close();\n  }\n\n  public static void main(String[] argv) {\n    RPCClient rpc = null;\n    String response = null;\n    try {\n      rpc = new RPCClient();\n\n      System.out.println(\" [x] Requesting fib(30)\");\n      response = rpc.call(\"30\");\n      System.out.println(\" [.] Got '\" + response + \"'\");\n      System.out.println(\" [x] Requesting fib(40)\");\n      response = rpc.call(\"40\");\n      System.out.println(\" [.] Got '\" + response + \"'\");\n    } catch (IOException | TimeoutException | InterruptedException e) {\n      e.printStackTrace();\n    } finally {\n      if (rpc != null) {\n        try {\n          rpc.close();\n        } catch (IOException _ignore) {\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1697135573,"post_id":77283015,"comment_id":136245222,"body_markdown":"`int` is a primitive type whereas `int[]` is not and you can&#39;t use primitive types as generic type arguments.","body":"<code>int</code> is a primitive type whereas <code>int[]</code> is not and you can&#39;t use primitive types as generic type arguments."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1697136202,"post_id":77283015,"comment_id":136245349,"body_markdown":"&quot;How do I solve...&quot; The largest number in an int array can be computed *without sorting* and in one iteration through the list.","body":"&quot;How do I solve...&quot; The largest number in an int array can be computed <i>without sorting</i> and in one iteration through the list."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1697137078,"post_id":77283015,"comment_id":136245465,"body_markdown":"Why are you converting them to strings and why do you return a string? Also, what do you intend to return if the array is zero length?","body":"Why are you converting them to strings and why do you return a string? Also, what do you intend to return if the array is zero length?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697137189,"post_id":77283015,"comment_id":136245480,"body_markdown":"`Arrays.stream(nums).max().orElse(Integer.MIN_VALUE)`","body":"<code>Arrays.stream(nums).max().orElse(Integer.MIN_VALUE)</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697137828,"post_id":77283015,"comment_id":136245580,"body_markdown":"or maybe `.max().orElseThrow(() -&gt; new ArithmeticException(&quot;no largest number&quot;))`","body":"or maybe <code>.max().orElseThrow(() -&gt; new ArithmeticException(&quot;no largest number&quot;))</code>"},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1697151189,"post_id":77283015,"comment_id":136247356,"body_markdown":"This is a stupid leetcode Q. Please do not let the strange comparator bother you","body":"This is a stupid leetcode Q. Please do not let the strange comparator bother you"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697141459,"creation_date":1697141459,"answer_id":77283583,"question_id":77283015,"body_markdown":"&gt; _&quot;... Because the comparator is operating on `Integer` and array is of type `int`. However, I can sort a 2D array if I had one and `Comparator&lt;int []&gt;` is acceptable to compiler but not `Comparator&lt;int&gt;`. Can someone help me understand why? ...&quot;_\r\n\r\nA _[generic type](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_ is optimized for _[Object](https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html)_ _data-types_, and not _[primitive](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ _data-types_.\r\n\r\n&gt; _&quot;... Secondly, how do I solve this and what is the ideal way to code this? ...&quot;_\r\n\r\nA simple solution is to just iterate _nums_ and return the maximum value.\r\n\r\n```java\r\nint m = nums[0];\r\nfor (int i = 1, n = nums.length; i &lt; n; i++)\r\n    if (nums[i] &gt; m) m = nums[i];\r\n```\r\n\r\nThe _sort_ method will work also.\r\n\r\n```java\r\nArrays.sort(nums);\r\nint m = nums[nums.length - 1];\r\n```\r\n\r\nIf you did want to use a _Comparator_, just parse the array first.\r\n\r\n```java\r\nInteger i = 0, nums2[] = new Integer[nums.length];\r\nfor (int e : nums) nums2[i++] = e;\r\n```","title":"Java boxing unboxing confusion and comparator","body":"<blockquote>\n<p><em>&quot;... Because the comparator is operating on <code>Integer</code> and array is of type <code>int</code>. However, I can sort a 2D array if I had one and <code>Comparator&lt;int []&gt;</code> is acceptable to compiler but not <code>Comparator&lt;int&gt;</code>. Can someone help me understand why? ...&quot;</em></p>\n</blockquote>\n<p>A <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generic type</a></em> is optimized for <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html\" rel=\"nofollow noreferrer\">Object</a></em> <em>data-types</em>, and not <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive</a></em> <em>data-types</em>.</p>\n<blockquote>\n<p><em>&quot;... Secondly, how do I solve this and what is the ideal way to code this? ...&quot;</em></p>\n</blockquote>\n<p>A simple solution is to just iterate <em>nums</em> and return the maximum value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = nums[0];\nfor (int i = 1, n = nums.length; i &lt; n; i++)\n    if (nums[i] &gt; m) m = nums[i];\n</code></pre>\n<p>The <em>sort</em> method will work also.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(nums);\nint m = nums[nums.length - 1];\n</code></pre>\n<p>If you did want to use a <em>Comparator</em>, just parse the array first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer i = 0, nums2[] = new Integer[nums.length];\nfor (int e : nums) nums2[i++] = e;\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697141459,"creation_date":1697135273,"question_id":77283015,"body_markdown":"This won&#39;t work:\r\n\r\n```java\r\npublic String largestNumber(int[] nums) {\r\n  Comparator&lt;Integer&gt; c = (i1,i2) -&gt; {\r\n    String s1 = String.valueOf(i1)+String.valueOf(i2);\r\n    String s2 = String.valueOf(i2)+String.valueOf(i1);\r\n    return s1.compareTo(s2);\r\n  };\r\n \r\n  Arrays.sort(nums,c);\r\n  return &quot;&quot;;\r\n}\r\n```\r\n\r\nBecause the comparator is operating on `Integer` and array is of type `int`. However, I can sort a 2D array if I had one and `Comparator&lt;int []&gt;` is acceptable to compiler but not `Comparator&lt;int&gt;`. Can someone help me understand why?\r\n\r\nSecondly, how do I solve this and what is the ideal way to code this?","title":"Java boxing unboxing confusion and comparator","body":"<p>This won't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String largestNumber(int[] nums) {\n  Comparator&lt;Integer&gt; c = (i1,i2) -&gt; {\n    String s1 = String.valueOf(i1)+String.valueOf(i2);\n    String s2 = String.valueOf(i2)+String.valueOf(i1);\n    return s1.compareTo(s2);\n  };\n \n  Arrays.sort(nums,c);\n  return &quot;&quot;;\n}\n</code></pre>\n<p>Because the comparator is operating on <code>Integer</code> and array is of type <code>int</code>. However, I can sort a 2D array if I had one and <code>Comparator&lt;int []&gt;</code> is acceptable to compiler but not <code>Comparator&lt;int&gt;</code>. Can someone help me understand why?</p>\n<p>Secondly, how do I solve this and what is the ideal way to code this?</p>\n"},{"tags":["java","rabbitmq","amqp","rabbitmq-exchange"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697141220,"creation_date":1547852106,"answer_id":54262461,"question_id":54261510,"body_markdown":"&gt; Is it normal to see those increasing consumer tags?\r\n\r\nNo, your code has an error. You need to either just use a long-running consumer or you have to cancel your consumer when you are done with it.\r\n\r\nI can&#39;t see any need to &quot;poll&quot; `receiveMessages` - just let it run on its own and it will add messages to your synchronized queue as you expect.\r\n","title":"RabbitMQ DefaultConsumer causing too many consumer tags","body":"<blockquote>\n<p>Is it normal to see those increasing consumer tags?</p>\n</blockquote>\n<p>No, your code has an error. You need to either just use a long-running consumer or you have to cancel your consumer when you are done with it.</p>\n<p>I can't see any need to &quot;poll&quot; <code>receiveMessages</code> - just let it run on its own and it will add messages to your synchronized queue as you expect.</p>\n"},{"tags":[],"owner":{"account_id":3638239,"reputation":122,"user_id":3033105,"display_name":"guru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547871526,"creation_date":1547871526,"answer_id":54264009,"question_id":54261510,"body_markdown":"I finally found a working solution.\r\nAs Luke Bakken highlighted there is no polling required. I just call `receiveMesssages()` only once now. Thereafter my consumer is receiving callbacks as the messages are published into the queue.\r\n\r\n     protected LinkedBlockingQueue&lt;Message&gt; messages = new LinkedBlockingQueue&lt;&gt;();\r\n     public void receiveMessages() {\r\n    \ttry {\r\n    \t\tMessage message = new Message();\r\n    \t\tDeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n    \t\t\tlong deliveryTag = delivery.getEnvelope().getDeliveryTag();\r\n    \t\t\tString response = new String(delivery.getBody(), &quot;UTF-8&quot;);\r\n    \t\t\tif (response != null) {\r\n    \t\t\t\tmessage.setId(NUID.nextGlobal());\r\n    \t\t\t\tmessage.setPayload(response);\r\n    \t\t\t\tmessage.setDeliveryTag(deliveryTag);\r\n    \t\t\t\tmessages.add(message);\r\n    \t\t\t\tlogger.info(&quot;Message received: &quot;, message.getPayload());\r\n    \t\t    };\r\n    \t\tchannel.basicConsume(queueName, false, deliverCallback, consumerTag -&gt; { });\r\n    \t} catch (Exception e) {\r\n    \t\tlogger.error(&quot;Exception while getting messages from Rabbit &quot;, e);\r\n    \t}\r\n    }\r\n\r\nThe rabbit console now shows only 1 consume tag entry under the bound queue.\r\n","title":"RabbitMQ DefaultConsumer causing too many consumer tags","body":"<p>I finally found a working solution.\nAs Luke Bakken highlighted there is no polling required. I just call <code>receiveMesssages()</code> only once now. Thereafter my consumer is receiving callbacks as the messages are published into the queue.</p>\n\n<pre><code> protected LinkedBlockingQueue&lt;Message&gt; messages = new LinkedBlockingQueue&lt;&gt;();\n public void receiveMessages() {\n    try {\n        Message message = new Message();\n        DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n            long deliveryTag = delivery.getEnvelope().getDeliveryTag();\n            String response = new String(delivery.getBody(), \"UTF-8\");\n            if (response != null) {\n                message.setId(NUID.nextGlobal());\n                message.setPayload(response);\n                message.setDeliveryTag(deliveryTag);\n                messages.add(message);\n                logger.info(\"Message received: \", message.getPayload());\n            };\n        channel.basicConsume(queueName, false, deliverCallback, consumerTag -&gt; { });\n    } catch (Exception e) {\n        logger.error(\"Exception while getting messages from Rabbit \", e);\n    }\n}\n</code></pre>\n\n<p>The rabbit console now shows only 1 consume tag entry under the bound queue.</p>\n"},{"tags":[],"owner":{"account_id":18904291,"reputation":1,"user_id":13791731,"display_name":"user13791731"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592834929,"creation_date":1592827114,"answer_id":62513911,"question_id":54261510,"body_markdown":"```java\r\npublic NotificationConsumerService(ConnectionFactory connectionFactory, String host, Logger logger) {\r\n    this.connectionFactory = connectionFactory;\r\n    this.host = host;\r\n    this.logger = logger;\r\n}\r\n\r\npublic void consumeSliceChangeNotification() {\r\n    connectionFactory.setHost(this.host);\r\n    try (Connection connection = connectionFactory.newConnection();\r\n         Channel channel = connection.createChannel()) {\r\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\r\n\r\n        DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n            String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\r\n            JSONObject obj = new JSONObject(message);\r\n            String namespace = obj.getString(&quot;namespace&quot;);\r\n            logger.info(&quot;The latest change notification on the &quot; + namespace +&quot; is available&quot;);\r\n        };\r\n\r\n        channel.basicConsume(QUEUE_NAME, true,deliverCallback, consumerTag -&gt; { } );\r\n    } \r\n    catch (IOException | TimeoutException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n```","title":"RabbitMQ DefaultConsumer causing too many consumer tags","body":"<pre class=\"lang-java prettyprint-override\"><code>public NotificationConsumerService(ConnectionFactory connectionFactory, String host, Logger logger) {\n    this.connectionFactory = connectionFactory;\n    this.host = host;\n    this.logger = logger;\n}\n\npublic void consumeSliceChangeNotification() {\n    connectionFactory.setHost(this.host);\n    try (Connection connection = connectionFactory.newConnection();\n         Channel channel = connection.createChannel()) {\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n\n        DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n            String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\n            JSONObject obj = new JSONObject(message);\n            String namespace = obj.getString(&quot;namespace&quot;);\n            logger.info(&quot;The latest change notification on the &quot; + namespace +&quot; is available&quot;);\n        };\n\n        channel.basicConsume(QUEUE_NAME, true,deliverCallback, consumerTag -&gt; { } );\n    } \n    catch (IOException | TimeoutException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3638239,"reputation":122,"user_id":3033105,"display_name":"guru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54264009,"answer_count":3,"score":0,"last_activity_date":1697141220,"creation_date":1547846094,"question_id":54261510,"body_markdown":"I have a RabbitMQ client application that listens to a specific queue. The client creates and instance of DefaultConsumer and implements the handleDelivery method. Here is the code\r\n\r\n        protected LinkedBlockingQueue&lt;Message&gt; messages = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n        public void receiveMessages() {\r\n            try {\r\n    //            channel.basicQos(pollCount);\r\n                Message message = new Message();\r\n                Consumer consumer = new DefaultConsumer(channel) {\r\n                    @Override\r\n                    public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body)\r\n                            throws IOException {\r\n                        long deliveryTag = envelope.getDeliveryTag();\r\n                        String response = new String(body, &quot;UTF-8&quot;);\r\n                        if (response != null) {\r\n                            message.setId(NUID.nextGlobal());\r\n                            message.setPayload(response);\r\n                            message.setDeliveryTag(deliveryTag);\r\n                            messages.add(message);\r\n                            logger.info(&quot;Message received: &quot;, message.getPayload());\r\n                        }\r\n                    }\r\n                };\r\n            \tlogger.debug(&quot;**********Channel status: &quot; + channel.isOpen());\r\n                channel.basicConsume(queueName, false, consumer);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Exception while getting messages from Rabbit &quot;, e);\r\n                \r\n            }\r\n        }\r\n\r\nThe method receiveMessages() is called frequently through a thread every 500ms and drains the messages into a different List for consumption. Due to this poll on receiveMessages() I observed that the consumer tags are continuously getting created and growing when viewed through rabbit console like in the picture. Is it normal to see those increasing consumer tags?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JeMuv.jpg","title":"RabbitMQ DefaultConsumer causing too many consumer tags","body":"<p>I have a RabbitMQ client application that listens to a specific queue. The client creates and instance of DefaultConsumer and implements the handleDelivery method. Here is the code</p>\n\n<pre><code>    protected LinkedBlockingQueue&lt;Message&gt; messages = new LinkedBlockingQueue&lt;&gt;();\n\n    public void receiveMessages() {\n        try {\n//            channel.basicQos(pollCount);\n            Message message = new Message();\n            Consumer consumer = new DefaultConsumer(channel) {\n                @Override\n                public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body)\n                        throws IOException {\n                    long deliveryTag = envelope.getDeliveryTag();\n                    String response = new String(body, \"UTF-8\");\n                    if (response != null) {\n                        message.setId(NUID.nextGlobal());\n                        message.setPayload(response);\n                        message.setDeliveryTag(deliveryTag);\n                        messages.add(message);\n                        logger.info(\"Message received: \", message.getPayload());\n                    }\n                }\n            };\n            logger.debug(\"**********Channel status: \" + channel.isOpen());\n            channel.basicConsume(queueName, false, consumer);\n        } catch (Exception e) {\n            logger.error(\"Exception while getting messages from Rabbit \", e);\n\n        }\n    }\n</code></pre>\n\n<p>The method receiveMessages() is called frequently through a thread every 500ms and drains the messages into a different List for consumption. Due to this poll on receiveMessages() I observed that the consumer tags are continuously getting created and growing when viewed through rabbit console like in the picture. Is it normal to see those increasing consumer tags?\n<a href=\"https://i.stack.imgur.com/JeMuv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JeMuv.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","validation","functional-programming","vavr"],"answers":[{"tags":[],"owner":{"account_id":13606858,"reputation":161,"user_id":9815739,"display_name":"fjavierm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697141097,"creation_date":1697141097,"answer_id":77283555,"question_id":77282495,"body_markdown":"The `Optional.empty()` seems like an ok idea, but I find the chaining of validation a bit confuse. In this case, maybe a typical series of conditional would be more readable. Something like:\r\n\r\n```\r\nvar result = checkBelongsToGroup(row);\r\n\r\nif (result.isEmpty()) {\r\n    result = checkParentToGroup(row);\r\n}\r\n\r\nif (result.isEmpty()) {\r\n    result = checkLocation(row);\r\n}\r\n\r\nif (!result.isEmpty()) {\r\n    // manage error\r\n}\r\n\r\n// success code\r\n```\r\n\r\nAnother option can be to use a library like Vavr, or implement something similar. The result would look like (or similar, I do not remember the exact syntax):\r\n\r\n```\r\nValidation&lt;ValidationResult, Void&gt; result = Validation.combine(\r\n    checkBelongsToGroup(row),\r\n    checkParentToGroup(row),\r\n    checkLocation(row)\r\n).ap((a, b, c) -&gt; null);\r\n\r\nif (result.isInvalid()) {\r\n    var failure = result.getError();\r\n    // manage error\r\n}\r\n\r\n// success code\r\n```\r\n\r\nA manual implementation, not tested, not much thinking, would maybe look like:\r\n```\r\nStream&lt;Function&lt;Row, ValidationResult&gt;&gt; validators = Stream.of(\r\n    this::checkBelongsToGroup,\r\n    this::checkParentToGroup,\r\n    this::checkLocation\r\n);\r\n\r\nValidationResult failure = validators\r\n    .map(validator -&gt; validator.apply(row))\r\n    .filter(Optional::isPresent)\r\n    .findFirst()\r\n    .orElseGet(Optional::empty);\r\n\r\nif (failure.isPresent()) {\r\n    // manage error\r\n}\r\n\r\n// success code","title":"Simplifying Validation rule sequence in Java","body":"<p>The <code>Optional.empty()</code> seems like an ok idea, but I find the chaining of validation a bit confuse. In this case, maybe a typical series of conditional would be more readable. Something like:</p>\n<pre><code>var result = checkBelongsToGroup(row);\n\nif (result.isEmpty()) {\n    result = checkParentToGroup(row);\n}\n\nif (result.isEmpty()) {\n    result = checkLocation(row);\n}\n\nif (!result.isEmpty()) {\n    // manage error\n}\n\n// success code\n</code></pre>\n<p>Another option can be to use a library like Vavr, or implement something similar. The result would look like (or similar, I do not remember the exact syntax):</p>\n<pre><code>Validation&lt;ValidationResult, Void&gt; result = Validation.combine(\n    checkBelongsToGroup(row),\n    checkParentToGroup(row),\n    checkLocation(row)\n).ap((a, b, c) -&gt; null);\n\nif (result.isInvalid()) {\n    var failure = result.getError();\n    // manage error\n}\n\n// success code\n</code></pre>\n<p>A manual implementation, not tested, not much thinking, would maybe look like:</p>\n<pre><code>Stream&lt;Function&lt;Row, ValidationResult&gt;&gt; validators = Stream.of(\n    this::checkBelongsToGroup,\n    this::checkParentToGroup,\n    this::checkLocation\n);\n\nValidationResult failure = validators\n    .map(validator -&gt; validator.apply(row))\n    .filter(Optional::isPresent)\n    .findFirst()\n    .orElseGet(Optional::empty);\n\nif (failure.isPresent()) {\n    // manage error\n}\n\n// success code\n</code></pre>\n"}],"owner":{"account_id":22288724,"reputation":15,"user_id":16515948,"display_name":"SAIKAT CHAKRABORTY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697141097,"creation_date":1697129691,"question_id":77282495,"body_markdown":"I have a list of validations on an object now these validation are quite expensive and involve an API call to another service. I need to short circuit the validation chain on the first time we receive a negative validation or a error/exception while calling the validation service. \r\nWhat I have currently, is each validation helper functions would return an Optional&lt;ValidationResult&gt;. This optional is empty when the validation is successful. If the validation failed either due to the response from the service called or an exception is thrown from the service, We just return that ValidationResult, at the end of the chain we return a Valid ValidationResult\r\n\r\nThis is the optional chaining here : \r\n\r\n```\r\nreturn checkBelongsToGroup(row)\r\n                .orElseGet(() -&gt; checkParentToGroup(row)\r\n                        .orElseGet(() -&gt; checkLocation(row)\r\n                                .orElseGet(() -&gt; builder()\r\n                                .outcome(ValidationResult\r\n                                        .Outcome.VALID).build())));\r\n\r\n\r\n\r\n```\r\nNow providing one of the validation functions to give a taste on how it looks:\r\n\r\n```\r\npublic Optional&lt;ValidationResult&gt; checkBelongsToGroup(final Row row) {\r\n        if (Strings.isNullOrEmpty(row.getPreviousId())) {\r\n            return Optional.empty(); //valid\r\n        }\r\n        return Try.of(() -&gt; serviceClient.getassociation(row))\r\n                .toEither()\r\n                .mapLeft(this::getThrowableError)\r\n// helper function to change exception to ValidationResult\r\n                .fold(validationError -&gt;  Optional.of(validationError), getAssociationOutput -&gt; {\r\n                    final Association association = getAssociationOutput.getAssociation();\r\n                    if (association != null &amp;&amp; association.isActive()) {\r\n                        return Optional.empty(); // Success case\r\n                    } else {\r\n                        return Optional.of(builder()\r\n                                .outcome(ValidationResult.Outcome.INVALID)\r\n                                .errorStringId(INVALID)\r\n                                .build()); // Validation failed.\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\nThe weird part here is that Optional.empty is being used to resemble success case which is semantically wrong. Is there a way to do this kind of chained shortcircuited validation that goes on till the first exception of validation failed. \r\nI was thinking of Validation library from vavr for this but need some help.\r\n","title":"Simplifying Validation rule sequence in Java","body":"<p>I have a list of validations on an object now these validation are quite expensive and involve an API call to another service. I need to short circuit the validation chain on the first time we receive a negative validation or a error/exception while calling the validation service.\nWhat I have currently, is each validation helper functions would return an Optional. This optional is empty when the validation is successful. If the validation failed either due to the response from the service called or an exception is thrown from the service, We just return that ValidationResult, at the end of the chain we return a Valid ValidationResult</p>\n<p>This is the optional chaining here :</p>\n<pre><code>return checkBelongsToGroup(row)\n                .orElseGet(() -&gt; checkParentToGroup(row)\n                        .orElseGet(() -&gt; checkLocation(row)\n                                .orElseGet(() -&gt; builder()\n                                .outcome(ValidationResult\n                                        .Outcome.VALID).build())));\n\n\n\n</code></pre>\n<p>Now providing one of the validation functions to give a taste on how it looks:</p>\n<pre><code>public Optional&lt;ValidationResult&gt; checkBelongsToGroup(final Row row) {\n        if (Strings.isNullOrEmpty(row.getPreviousId())) {\n            return Optional.empty(); //valid\n        }\n        return Try.of(() -&gt; serviceClient.getassociation(row))\n                .toEither()\n                .mapLeft(this::getThrowableError)\n// helper function to change exception to ValidationResult\n                .fold(validationError -&gt;  Optional.of(validationError), getAssociationOutput -&gt; {\n                    final Association association = getAssociationOutput.getAssociation();\n                    if (association != null &amp;&amp; association.isActive()) {\n                        return Optional.empty(); // Success case\n                    } else {\n                        return Optional.of(builder()\n                                .outcome(ValidationResult.Outcome.INVALID)\n                                .errorStringId(INVALID)\n                                .build()); // Validation failed.\n                    }\n                });\n\n    }\n\n\n</code></pre>\n<p>The weird part here is that Optional.empty is being used to resemble success case which is semantically wrong. Is there a way to do this kind of chained shortcircuited validation that goes on till the first exception of validation failed.\nI was thinking of Validation library from vavr for this but need some help.</p>\n"},{"tags":["java","rabbitmq","whitelist","truststore"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697140835,"creation_date":1552659144,"answer_id":55184526,"question_id":55179047,"body_markdown":"I&#39;m pretty much guessing based on the limited amount of information provided, but you probably don&#39;t have TLS configured to verify the client&#39;s certificate. You need to use the `verify_peer` RabbitMQ configuration option. We have comprehensive docs that I suggest that you read - https://www.rabbitmq.com/ssl.html, https://www.rabbitmq.com/troubleshooting-ssl.html\r\n\r\nAlso please note that the certificates that you whitelist are the CA certificate(s) used to sign the client certificates that your applications present, not the client certificates themselves.\r\n\r\nFinally, the best way to get help quickly is to provide a set of files that someone can use to run RabbitMQ and a test application to see the problem.\r\n","title":"RabbitMQ - Trust store lets all the connections through","body":"<p>I'm pretty much guessing based on the limited amount of information provided, but you probably don't have TLS configured to verify the client's certificate. You need to use the <code>verify_peer</code> RabbitMQ configuration option. We have comprehensive docs that I suggest that you read - <a href=\"https://www.rabbitmq.com/ssl.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/ssl.html</a>, <a href=\"https://www.rabbitmq.com/troubleshooting-ssl.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/troubleshooting-ssl.html</a></p>\n<p>Also please note that the certificates that you whitelist are the CA certificate(s) used to sign the client certificates that your applications present, not the client certificates themselves.</p>\n<p>Finally, the best way to get help quickly is to provide a set of files that someone can use to run RabbitMQ and a test application to see the problem.</p>\n"}],"owner":{"account_id":15535211,"reputation":21,"user_id":11207561,"display_name":"PFGX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1715,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697140835,"creation_date":1552641072,"question_id":55179047,"body_markdown":"I&#39;ve got an issue with RabbitMQ&#39;s Trust Store.\r\nI&#39;ve installed the plugin as shown on github, the plugin loads indeed, it even responds when I drop in the certificates to the whitelist folder (if I drop a bad cert.pem like private key I get an error response that the certificate isn&#39;t a certificate, if I drop a good one i get response like this: trust store: loading certificate &#39;cert.pem&#39;) - and that&#39;s great. \r\nBut, this is where the problems begin. the MQTT and AMQP connections i make with my Java client are passed through, even if there are no certificates present in the whitelist folder. If i understand correctly the idea of the whole plugin, they should be only passed through if there are certificates present in the whitelist folder, otherwise they shouldn&#39;t be.\r\n\r\nAnyone happened to struggle with the same thing?\r\n\r\nTech: RabbitMQ on docker, Java client using bouncycastle library for ssl\r\n\r\n// EDIT\r\nAddon: Rabbitmq.config file\r\n\r\n    [\r\n        { rabbit, [\r\n\t\t{ loopback_users, [ ] },\r\n\t\t{ssl_handshake_timeout, 100000},\r\n                { tcp_listeners, [ 5672 ] },\r\n                { ssl_listeners, [ 5671 ] },\r\n                { ssl_options, [\r\n                        { cacertfile, &quot;/etc/tls/cacert.pem&quot; },\r\n                        { certfile, &quot;/etc/tls/cert.pem&quot; },\r\n\t\t\t{ keyfile, &quot;/etc/tls/key.pem&quot; },\r\n\t\t\t{ verify, verify_peer },\r\n                        { fail_if_no_peer_cert, true },\r\n\t\t\t{ reuse_sessions, false}\r\n                ] },\r\n                { default_pass, &lt;&lt;&quot;guest&quot;&gt;&gt; },\r\n                { default_user, &lt;&lt;&quot;guest&quot;&gt;&gt; },\r\n                { default_vhost, &lt;&lt;&quot;/&quot;&gt;&gt; },\r\n                { hipe_compile, false }\r\n        ] },\r\n        { rabbitmq_management, [ { listener, [\r\n                { port, 15671 },\r\n                { ssl, true },\r\n                { ssl_opts, [\r\n                        { cacertfile, &quot;/etc/tls/cacert.pem&quot; },\r\n                        { certfile, &quot;/etc/tls/cert.pem&quot; },\r\n                        { fail_if_no_peer_cert, false },\r\n                        { keyfile, &quot;/etc/tls/key.pem&quot; },\r\n                        { verify, verify_peer }\r\n                ] }\r\n        ] } ] },\r\n        { rabbitmq_mqtt, [\r\n                { vhost, &lt;&lt;&quot;/&quot;&gt;&gt; },\r\n                { exchange, &lt;&lt;&quot;amq.topic&quot;&gt;&gt; },\r\n                { default_user, &lt;&lt;&quot;guest&quot;&gt;&gt; },\r\n                { default_pass, &lt;&lt;&quot;guest&quot;&gt;&gt; },\r\n                { tcp_listeners, [ 1883 ] },\r\n                { ssl_listeners, [ 8883 ] }\r\n        ] },\r\n\t\t{rabbitmq_trust_store, [\r\n\t\t\t {directory,        &quot;/etc/whitelist&quot;}, \r\n\t\t\t {refresh_interval, {seconds, 30}},\r\n\t\t\t {log_levels, [{connection, debug}, {channel, debug}, {federation, debug}]}\r\n\t\t]}\r\n    ].","title":"RabbitMQ - Trust store lets all the connections through","body":"<p>I've got an issue with RabbitMQ's Trust Store.\nI've installed the plugin as shown on github, the plugin loads indeed, it even responds when I drop in the certificates to the whitelist folder (if I drop a bad cert.pem like private key I get an error response that the certificate isn't a certificate, if I drop a good one i get response like this: trust store: loading certificate 'cert.pem') - and that's great. \nBut, this is where the problems begin. the MQTT and AMQP connections i make with my Java client are passed through, even if there are no certificates present in the whitelist folder. If i understand correctly the idea of the whole plugin, they should be only passed through if there are certificates present in the whitelist folder, otherwise they shouldn't be.</p>\n\n<p>Anyone happened to struggle with the same thing?</p>\n\n<p>Tech: RabbitMQ on docker, Java client using bouncycastle library for ssl</p>\n\n<p>// EDIT\nAddon: Rabbitmq.config file</p>\n\n<pre><code>[\n    { rabbit, [\n    { loopback_users, [ ] },\n    {ssl_handshake_timeout, 100000},\n            { tcp_listeners, [ 5672 ] },\n            { ssl_listeners, [ 5671 ] },\n            { ssl_options, [\n                    { cacertfile, \"/etc/tls/cacert.pem\" },\n                    { certfile, \"/etc/tls/cert.pem\" },\n        { keyfile, \"/etc/tls/key.pem\" },\n        { verify, verify_peer },\n                    { fail_if_no_peer_cert, true },\n        { reuse_sessions, false}\n            ] },\n            { default_pass, &lt;&lt;\"guest\"&gt;&gt; },\n            { default_user, &lt;&lt;\"guest\"&gt;&gt; },\n            { default_vhost, &lt;&lt;\"/\"&gt;&gt; },\n            { hipe_compile, false }\n    ] },\n    { rabbitmq_management, [ { listener, [\n            { port, 15671 },\n            { ssl, true },\n            { ssl_opts, [\n                    { cacertfile, \"/etc/tls/cacert.pem\" },\n                    { certfile, \"/etc/tls/cert.pem\" },\n                    { fail_if_no_peer_cert, false },\n                    { keyfile, \"/etc/tls/key.pem\" },\n                    { verify, verify_peer }\n            ] }\n    ] } ] },\n    { rabbitmq_mqtt, [\n            { vhost, &lt;&lt;\"/\"&gt;&gt; },\n            { exchange, &lt;&lt;\"amq.topic\"&gt;&gt; },\n            { default_user, &lt;&lt;\"guest\"&gt;&gt; },\n            { default_pass, &lt;&lt;\"guest\"&gt;&gt; },\n            { tcp_listeners, [ 1883 ] },\n            { ssl_listeners, [ 8883 ] }\n    ] },\n    {rabbitmq_trust_store, [\n         {directory,        \"/etc/whitelist\"}, \n         {refresh_interval, {seconds, 30}},\n         {log_levels, [{connection, debug}, {channel, debug}, {federation, debug}]}\n    ]}\n].\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697134424,"creation_date":1697133448,"answer_id":77282848,"question_id":77282811,"body_markdown":"You have to escape the colons in `::timestamp` because jpa will looking for a placeholder if  it sees a colon:\r\n\r\n    AND ((json_data -&gt;&gt; &#39;created&#39;)\\\\:\\\\:timestamp)\r\n\r\nor if you use text blocks\r\n\r\n    AND ((json_data -&gt;&gt; &#39;created&#39;)\\:\\:timestamp)","title":"Query Postgres JSONB column timestamp property between two timestamps using Spring Data JPA","body":"<p>You have to escape the colons in <code>::timestamp</code> because jpa will looking for a placeholder if  it sees a colon:</p>\n<pre><code>AND ((json_data -&gt;&gt; 'created')\\\\:\\\\:timestamp)\n</code></pre>\n<p>or if you use text blocks</p>\n<pre><code>AND ((json_data -&gt;&gt; 'created')\\:\\:timestamp)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101001,"reputation":119788,"user_id":271959,"display_name":"Frank Heikens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697140747,"creation_date":1697134701,"answer_id":77282958,"question_id":77282811,"body_markdown":"Use CAST() to cast:\r\n\r\n    Query = true,\r\n            value =\r\n                    &quot;&quot;&quot;\r\n                    SELECT id, text_code as textCode, json_data as jsonData\r\n                    FROM some_table\r\n                    WHERE text_code = :textCode\r\n                        AND CAST(json_data -&gt;&gt; &#39;created&#39; AS timestamp) BETWEEN CAST(:startDate AS timestamp) AND CAST(:endDate AS timestamp);&quot;&quot;&quot;)\r\n    List&lt;EntityData&gt; getBetween(\r\n            @Param(&quot;textCode&quot;) String textCode,\r\n            @Param(&quot;startDate&quot;) String startDate,\r\n            @Param(&quot;endDate&quot;) String endDate);\r\n\r\nSimple example that works perfectly fine:\r\n\r\n    SELECT  CAST(x-&gt;&gt;&#39;ts&#39; AS TIMESTAMP)\r\n    FROM ( SELECT  json_build_object(&#39;ts&#39;,&#39;2023-10-12 12:00&#39;)) AS t1(x);\r\n\r\nHowever, an empty string or any other non-valid timestamp will result in an error.","title":"Query Postgres JSONB column timestamp property between two timestamps using Spring Data JPA","body":"<p>Use CAST() to cast:</p>\n<pre><code>Query = true,\n        value =\n                &quot;&quot;&quot;\n                SELECT id, text_code as textCode, json_data as jsonData\n                FROM some_table\n                WHERE text_code = :textCode\n                    AND CAST(json_data -&gt;&gt; 'created' AS timestamp) BETWEEN CAST(:startDate AS timestamp) AND CAST(:endDate AS timestamp);&quot;&quot;&quot;)\nList&lt;EntityData&gt; getBetween(\n        @Param(&quot;textCode&quot;) String textCode,\n        @Param(&quot;startDate&quot;) String startDate,\n        @Param(&quot;endDate&quot;) String endDate);\n</code></pre>\n<p>Simple example that works perfectly fine:</p>\n<pre><code>SELECT  CAST(x-&gt;&gt;'ts' AS TIMESTAMP)\nFROM ( SELECT  json_build_object('ts','2023-10-12 12:00')) AS t1(x);\n</code></pre>\n<p>However, an empty string or any other non-valid timestamp will result in an error.</p>\n"}],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77282958,"answer_count":2,"score":0,"last_activity_date":1697140747,"creation_date":1697133130,"question_id":77282811,"body_markdown":"I have a jsonb column which has &#39;created&#39; property and stores timestamp string. I&#39;m able to query in query editor, but I can&#39;t perform the same using Spring Data JPA with nativeQuery as true. Here is what I&#39;m trying to do\r\n\r\nIn pgAdmin/Query Editor I get results:\r\n\r\n    select id, text_code, json_data from some_table where text_code = &#39;7845754645434878&#39; and ((json_data -&gt;&gt; &#39;created&#39;)::timestamp) \r\n\tbetween &#39;2023-10-10:00:00:00&#39; and &#39;2023-10-10:23:59:59&#39;\r\n\r\nUsing code:\r\n\r\n    @Query(\r\n            nativeQuery = true,\r\n            value =\r\n                    &quot;&quot;&quot;\r\n                    SELECT id, text_code as textCode, json_data as jsonData\r\n                    FROM some_table\r\n                    WHERE text_code = :textCode\r\n                        AND ((json_data -&gt;&gt; &#39;created&#39;)::timestamp) BETWEEN :startDate AND :endDate\r\n                   &quot;&quot;&quot;)\r\n    List&lt;EntityData&gt; getBetween(\r\n            @Param(&quot;textCode&quot;) String textCode,\r\n            @Param(&quot;startDate&quot;) String startDate,\r\n            @Param(&quot;endDate&quot;) String endDate);\r\n\r\nI get syntax error\r\n\r\n    ERROR: syntax error at or near &quot;:&quot;\r\n  \r\n\r\n    Position: 198] [n/a]; SQL [n/a]\r\n\r\nI think it is showing error at :timestamp, but I&#39;m not able to resolve this. Can you please help to get a workaround for this?\r\n\r\n**Update:**\r\n\r\nThe data I sent to startDate and endDate is &#39;2023-10-10:00:00:00&#39; and &#39;2023-10-10:23:59:59&#39; respectively.\r\n\r\nIf I do casting, I get\r\n\r\n    m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [ SELECT id, text_code as textCode, json_data as jsonData&lt;EOL&gt; FROM some_table&lt;EOL&gt; WHERE text_code = ?&lt;EOL&gt;     AND ((data_stream -&gt;&gt; &#39;created&#39;)::timestamp) BETWEEN ? AND ?&lt;EOL&gt;] [ERROR: operator does not exist: timestamp without time zone &gt;= character varying&lt;EOL&gt;  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.&lt;EOL&gt;  Position: 211] [n/a]; SQL [n/a]]","title":"Query Postgres JSONB column timestamp property between two timestamps using Spring Data JPA","body":"<p>I have a jsonb column which has 'created' property and stores timestamp string. I'm able to query in query editor, but I can't perform the same using Spring Data JPA with nativeQuery as true. Here is what I'm trying to do</p>\n<p>In pgAdmin/Query Editor I get results:</p>\n<pre><code>select id, text_code, json_data from some_table where text_code = '7845754645434878' and ((json_data -&gt;&gt; 'created')::timestamp) \nbetween '2023-10-10:00:00:00' and '2023-10-10:23:59:59'\n</code></pre>\n<p>Using code:</p>\n<pre><code>@Query(\n        nativeQuery = true,\n        value =\n                &quot;&quot;&quot;\n                SELECT id, text_code as textCode, json_data as jsonData\n                FROM some_table\n                WHERE text_code = :textCode\n                    AND ((json_data -&gt;&gt; 'created')::timestamp) BETWEEN :startDate AND :endDate\n               &quot;&quot;&quot;)\nList&lt;EntityData&gt; getBetween(\n        @Param(&quot;textCode&quot;) String textCode,\n        @Param(&quot;startDate&quot;) String startDate,\n        @Param(&quot;endDate&quot;) String endDate);\n</code></pre>\n<p>I get syntax error</p>\n<pre><code>ERROR: syntax error at or near &quot;:&quot;\n\n\nPosition: 198] [n/a]; SQL [n/a]\n</code></pre>\n<p>I think it is showing error at :timestamp, but I'm not able to resolve this. Can you please help to get a workaround for this?</p>\n<p><strong>Update:</strong></p>\n<p>The data I sent to startDate and endDate is '2023-10-10:00:00:00' and '2023-10-10:23:59:59' respectively.</p>\n<p>If I do casting, I get</p>\n<pre><code>m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [ SELECT id, text_code as textCode, json_data as jsonData&lt;EOL&gt; FROM some_table&lt;EOL&gt; WHERE text_code = ?&lt;EOL&gt;     AND ((data_stream -&gt;&gt; 'created')::timestamp) BETWEEN ? AND ?&lt;EOL&gt;] [ERROR: operator does not exist: timestamp without time zone &gt;= character varying&lt;EOL&gt;  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.&lt;EOL&gt;  Position: 211] [n/a]; SQL [n/a]]\n</code></pre>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":1038635,"reputation":481,"user_id":1045180,"display_name":"Krystian Lieber"},"score":1,"creation_date":1363292934,"post_id":15419485,"comment_id":21804675,"body_markdown":"I think that the JDBC driver is not in the classpath. \nWhat are you using to build your project?","body":"I think that the JDBC driver is not in the classpath.  What are you using to build your project?"},{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1363292935,"post_id":15419485,"comment_id":21804676,"body_markdown":"Look at one of the other hundred questions about this on this site. I just commented on another one just a minute ago.","body":"Look at one of the other hundred questions about this on this site. I just commented on another one just a minute ago."}],"answers":[{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363292955,"creation_date":1363292955,"answer_id":15419533,"question_id":15419485,"body_markdown":"You need to add the jar file containing the class `com.microsoft.sqlserver.jdbc.SQLServerDriver` to your war file&#39;s `WEB-INF/lib` folder.","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<p>You need to add the jar file containing the class <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code> to your war file's <code>WEB-INF/lib</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":1038635,"reputation":481,"user_id":1045180,"display_name":"Krystian Lieber"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363293237,"creation_date":1363293237,"answer_id":15419609,"question_id":15419485,"body_markdown":"Read [Tomcat Documentation about classpath][1] for clarification or just put the sqljdbc.jar in $CATALINA_HOME/lib to access it from all your applications.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<p>Read <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html\" rel=\"nofollow\">Tomcat Documentation about classpath</a> for clarification or just put the sqljdbc.jar in $CATALINA_HOME/lib to access it from all your applications.</p>\n"},{"tags":[],"owner":{"account_id":3821064,"reputation":21,"user_id":3169162,"display_name":"Govardhan Chary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389098218,"creation_date":1389098218,"answer_id":20971811,"question_id":15419485,"body_markdown":"Eventhough you have JAR(sqlserverjdbc.jar) in build path You need to add the jar file containing the class. com.microsoft.sqlserver.jdbc.SQLServerDriver to your war file&#39;s WEB-INF/lib folder.\r\n ","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<p>Eventhough you have JAR(sqlserverjdbc.jar) in build path You need to add the jar file containing the class. com.microsoft.sqlserver.jdbc.SQLServerDriver to your war file's WEB-INF/lib folder.</p>\n"},{"tags":[],"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400145470,"creation_date":1400145470,"answer_id":23674045,"question_id":15419485,"body_markdown":"&gt; May 15, 2014 3:09:43 PM org.apache.tomcat.jdbc.pool.ConnectionPool init\r\nSEVERE: Unable to create initial connections of pool.\r\njava.sql.SQLException: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n        at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:254)\r\n        at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:182)\r\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:701)\r\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:635)\r\n...\r\n\r\nIt is quite puzzling because my web application has **WEB-INF/lib/sqljdbc4.jar**.\r\n\r\nFrom the error message, somehow the jar file is required by Tomcat too.\r\n\r\nAfter I copy the jar file to **CATALINA_HOME/lib/sqljdbc4.jar**, the error is gone.","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<blockquote>\n  <p>May 15, 2014 3:09:43 PM org.apache.tomcat.jdbc.pool.ConnectionPool init\n  SEVERE: Unable to create initial connections of pool.\n  java.sql.SQLException: com.microsoft.sqlserver.jdbc.SQLServerDriver\n          at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:254)\n          at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:182)\n          at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:701)\n          at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:635)\n  ...</p>\n</blockquote>\n\n<p>It is quite puzzling because my web application has <strong>WEB-INF/lib/sqljdbc4.jar</strong>.</p>\n\n<p>From the error message, somehow the jar file is required by Tomcat too.</p>\n\n<p>After I copy the jar file to <strong>CATALINA_HOME/lib/sqljdbc4.jar</strong>, the error is gone.</p>\n"},{"tags":[],"owner":{"account_id":3011489,"reputation":1,"user_id":2554899,"display_name":"Tyrone Hed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425499290,"creation_date":1425499290,"answer_id":28863770,"question_id":15419485,"body_markdown":"Since you&#39;re running a web app, you need to have the MS SQL Server driver--or the driver for any DB--stored in two places. Inside the app that becomes your WAR and then you need a second copy that is stored in the App Server&#39;s LIB directory. So, if you&#39;re running on Tomcat then you would put it /opt/tomcat/lib or C:\\DEV\\tomcat7\\lib.","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<p>Since you're running a web app, you need to have the MS SQL Server driver--or the driver for any DB--stored in two places. Inside the app that becomes your WAR and then you need a second copy that is stored in the App Server's LIB directory. So, if you're running on Tomcat then you would put it /opt/tomcat/lib or C:\\DEV\\tomcat7\\lib.</p>\n"},{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697139894,"creation_date":1697139894,"answer_id":77283457,"question_id":15419485,"body_markdown":"I just had the same error running one of my java App from eclipse after uninstalled and re-installed tomcat.  I had to create a new Apache Tomcat Runtime from my Project. \r\n\r\nFrom Eclipse Properties &gt; Project Facets &gt; Runtimes as per the following screenshot:\r\n\r\n**Note:** Also, make sure you have a copy of the jdbc jar file into your tomcat library.\r\nFor example into: C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\lib\\mssql-jdbc-8.4.0.jre11.jar\r\n\r\n[![Project Facet New Runtime][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jXMzz.jpg\r\n\r\nEnjoy!","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<p>I just had the same error running one of my java App from eclipse after uninstalled and re-installed tomcat.  I had to create a new Apache Tomcat Runtime from my Project.</p>\n<p>From Eclipse Properties &gt; Project Facets &gt; Runtimes as per the following screenshot:</p>\n<p><strong>Note:</strong> Also, make sure you have a copy of the jdbc jar file into your tomcat library.\nFor example into: C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\lib\\mssql-jdbc-8.4.0.jre11.jar</p>\n<p><a href=\"https://i.stack.imgur.com/jXMzz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXMzz.jpg\" alt=\"Project Facet New Runtime\" /></a></p>\n<p>Enjoy!</p>\n"}],"owner":{"account_id":2494767,"reputation":79,"user_id":2171503,"display_name":"user2171503"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30114,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":6,"score":7,"last_activity_date":1697139894,"creation_date":1363292799,"question_id":15419485,"body_markdown":"    java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\nI got the above exception when i trying to deploying my Application into tomcat. but the weird thing is , i tried with a simple main method and it&#39;s works fine. Any help please ???\r\n\r\nI did the following:\r\n\r\n    Class.forName(&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;);\r\n    String connectionUrl = &quot;jdbc:microsoft:sqlserver://localhost:1433;&quot; + &quot;database=DBName;&quot; + &quot;user=UserName;&quot; + &quot;password=Password&quot;;\r\n    connection = DriverManager.getConnection(connectionUrl);","title":"java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver","body":"<pre><code>java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver\n</code></pre>\n\n<p>I got the above exception when i trying to deploying my Application into tomcat. but the weird thing is , i tried with a simple main method and it's works fine. Any help please ???</p>\n\n<p>I did the following:</p>\n\n<pre><code>Class.forName(\"com.microsoft.jdbc.sqlserver.SQLServerDriver\");\nString connectionUrl = \"jdbc:microsoft:sqlserver://localhost:1433;\" + \"database=DBName;\" + \"user=UserName;\" + \"password=Password\";\nconnection = DriverManager.getConnection(connectionUrl);\n</code></pre>\n"},{"tags":["java","spring","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":7445951,"reputation":1905,"user_id":5662105,"display_name":"peekay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557041990,"creation_date":1556930092,"answer_id":55978515,"question_id":55977102,"body_markdown":"It might also be worth investigating if an &quot;upstream&quot; producer can provide batches of messages instead of individual ones.\r\n","title":"How to consume 100 messages without ack, then do work and then acknowledge them?","body":"<p>It might also be worth investigating if an \"upstream\" producer can provide batches of messages instead of individual ones.</p>\n"},{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697139669,"creation_date":1556982417,"answer_id":55983849,"question_id":55977102,"body_markdown":"Don&#39;t use the &quot;pull&quot; API (`basic.get`), it is not nearly as efficient as consuming messages.\r\n\r\nSet prefetch (also known as QoS) to 300, then acknowledge the messages at once when you are done. I am not familiar with Spring but I&#39;m certain there are decorators or other ways to accomplish this.\r\n\r\nThis is all covered in the docs and tutorials - https://www.rabbitmq.com/consumer-prefetch.html\r\n","title":"How to consume 100 messages without ack, then do work and then acknowledge them?","body":"<p>Don't use the &quot;pull&quot; API (<code>basic.get</code>), it is not nearly as efficient as consuming messages.</p>\n<p>Set prefetch (also known as QoS) to 300, then acknowledge the messages at once when you are done. I am not familiar with Spring but I'm certain there are decorators or other ways to accomplish this.</p>\n<p>This is all covered in the docs and tutorials - <a href=\"https://www.rabbitmq.com/consumer-prefetch.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/consumer-prefetch.html</a></p>\n"}],"owner":{"account_id":1412542,"reputation":479,"user_id":1338866,"accept_rate":25,"display_name":"Ole Bille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1697139669,"creation_date":1556917469,"question_id":55977102,"body_markdown":"I&#39;m consuming messages from a rabbitmq with spring amqp. \r\nI&#39;m consuming one message at a time and its pretty slow cause I save it to DB. So opening and closing transactions every time.\r\n\r\n\r\nRight now I&#39;ve set up a consumer like this.\r\n\r\n    @RabbitListener(queues = &quot;queuename&quot;)\r\n    public void receive(Message message) {\r\n     someservice.saveToDb(message);\r\n    }\r\n\r\nBut this is really slow. I would like to consume a bunch of messages before I start saving them. Then I can open a transaction. Save 300 and then commit and load the next batch.\r\n\r\nWould something like this work?\r\n\r\n    class MessageChannelTag {\r\n      Message message;\r\n      Channel channel;\r\n      long tag;\r\n    }\r\n    \r\n    @Component\r\n    class ConsumerClass {\r\n    \r\n     List&lt;MessageChannelTag&gt; messagesToSave = new ArrayList&lt;&gt;();\r\n    \r\n     @RabbitListener(queues = &quot;queuename&quot;)\r\n     public void receive(Message message, Channel channel,  @Header(AmqpHeaders.DELIVERY_TAG) long tag)\r\n    \t\t\tthrows IOException {\r\n        messagesToSave.add(new MessageChannelTag(message, channel, tag));\r\n     }\r\n    \r\n     @Scheduled(fixedDelay=500)\r\n     public void saveMessagesToDb() {\r\n        List saveTheese = new ArrayList(messagesToSave);\r\n        messagesToSave.clear();\r\n        service.saveMessages(saveTheese);\r\n        for(MessageChannelTag messageChannelTag:messagesToSave) {\r\n        //In the service I could mark the rows if save succeded or not and\r\n        //then out here I could ack or nack.. \r\n            \r\n     messageChannelTag.getChannel().basicAck(messageChannelTag.getTag(), false);\r\n        }\r\n     }\r\n    }\r\n\r\nOr if there is a simpler solution let me know. I prefer fast, simple and robust =)","title":"How to consume 100 messages without ack, then do work and then acknowledge them?","body":"<p>I'm consuming messages from a rabbitmq with spring amqp. \nI'm consuming one message at a time and its pretty slow cause I save it to DB. So opening and closing transactions every time.</p>\n\n<p>Right now I've set up a consumer like this.</p>\n\n<pre><code>@RabbitListener(queues = \"queuename\")\npublic void receive(Message message) {\n someservice.saveToDb(message);\n}\n</code></pre>\n\n<p>But this is really slow. I would like to consume a bunch of messages before I start saving them. Then I can open a transaction. Save 300 and then commit and load the next batch.</p>\n\n<p>Would something like this work?</p>\n\n<pre><code>class MessageChannelTag {\n  Message message;\n  Channel channel;\n  long tag;\n}\n\n@Component\nclass ConsumerClass {\n\n List&lt;MessageChannelTag&gt; messagesToSave = new ArrayList&lt;&gt;();\n\n @RabbitListener(queues = \"queuename\")\n public void receive(Message message, Channel channel,  @Header(AmqpHeaders.DELIVERY_TAG) long tag)\n            throws IOException {\n    messagesToSave.add(new MessageChannelTag(message, channel, tag));\n }\n\n @Scheduled(fixedDelay=500)\n public void saveMessagesToDb() {\n    List saveTheese = new ArrayList(messagesToSave);\n    messagesToSave.clear();\n    service.saveMessages(saveTheese);\n    for(MessageChannelTag messageChannelTag:messagesToSave) {\n    //In the service I could mark the rows if save succeded or not and\n    //then out here I could ack or nack.. \n\n messageChannelTag.getChannel().basicAck(messageChannelTag.getTag(), false);\n    }\n }\n}\n</code></pre>\n\n<p>Or if there is a simpler solution let me know. I prefer fast, simple and robust =)</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697138952,"post_id":77283293,"comment_id":136245761,"body_markdown":"Does this answer your question? [Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;](https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;</a>"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1697141526,"post_id":77283293,"comment_id":136246122,"body_markdown":"Can you share the content of the jar file? Unzip it and post the contents here.","body":"Can you share the content of the jar file? Unzip it and post the contents here."}],"owner":{"account_id":26395085,"reputation":15,"user_id":20046377,"display_name":"Xpray 935"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697139211,"creation_date":1697138018,"question_id":77283293,"body_markdown":"I&#39;m new to Java, I made a simple code, with a .java file and a .form file and when I try to export to .jar, clicking on build, the file can&#39;t be executed.\r\n\r\nWhen I try to execute:\r\n\r\n```\r\nxpray@xpray:~/.m2/repository/com/couple/1.0$ java -jar couple-1.0\r\nError: Unable to access jarfile couple-1.0\r\nxpray@xpray:~/.m2/repository/com/couple/1.0$ java -jar couple-1.0.jar\r\nno main manifest attribute, in couple-1.0.jar\r\n```\r\n\r\nCan anyone help me? I&#39;m sorry if it&#39;s too basic.\r\n\r\nEdit: I know there are similar issues here, the problem is that I don&#39;t know anything about it, I have no idea how to edit the MANIFEST. MF, and in theory, wasn&#39;t it supposed to work after building NetBeans?\r\n","title":"Can&#39;t execute .jar file compiled by NetBeans","body":"<p>I'm new to Java, I made a simple code, with a .java file and a .form file and when I try to export to .jar, clicking on build, the file can't be executed.</p>\n<p>When I try to execute:</p>\n<pre><code>xpray@xpray:~/.m2/repository/com/couple/1.0$ java -jar couple-1.0\nError: Unable to access jarfile couple-1.0\nxpray@xpray:~/.m2/repository/com/couple/1.0$ java -jar couple-1.0.jar\nno main manifest attribute, in couple-1.0.jar\n</code></pre>\n<p>Can anyone help me? I'm sorry if it's too basic.</p>\n<p>Edit: I know there are similar issues here, the problem is that I don't know anything about it, I have no idea how to edit the MANIFEST. MF, and in theory, wasn't it supposed to work after building NetBeans?</p>\n"},{"tags":["java","encryption","ssh","sshj","javax.crypto"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696890451,"creation_date":1696890451,"answer_id":77262078,"question_id":77261585,"body_markdown":"No, it&#39;s nothing to do with your (authentication) key.\r\n\r\nThose ciphers have never been included in &#39;standard&#39; Sun/Oracle/OpenJDK Java providers, but they are in BouncyCastle which is [stated as a dependency for sshj](https://github.com/hierynomus/sshj#dependencies). This warning in sshj is poorly designed: even in the past limited-policy was not the only reason for failing to use a cipher, and you are correct that since 8u151 (or at worst 8u161) limited-policy is _never_ the issue -- note sshj did NOT complain about aes192 and aes256, which were the main ones affected by limited-policy. \r\n\r\nYou almost certainly don&#39;t need and can&#39;t even use these ciphers, depending on what you are connecting to -- and nowadays also probably not arcfour/RC4 and blowfish which SunJCE _does_ provide. You could just ignore (or not log) the warning(s), or use Bouncy as specified, or use an explicit configuration to limit the ciphers (and possibly other features) but that would be more work.","title":"java Cannot find any provider supporting Serpent/CTR/NoPadding","body":"<p>No, it's nothing to do with your (authentication) key.</p>\n<p>Those ciphers have never been included in 'standard' Sun/Oracle/OpenJDK Java providers, but they are in BouncyCastle which is <a href=\"https://github.com/hierynomus/sshj#dependencies\" rel=\"nofollow noreferrer\">stated as a dependency for sshj</a>. This warning in sshj is poorly designed: even in the past limited-policy was not the only reason for failing to use a cipher, and you are correct that since 8u151 (or at worst 8u161) limited-policy is <em>never</em> the issue -- note sshj did NOT complain about aes192 and aes256, which were the main ones affected by limited-policy.</p>\n<p>You almost certainly don't need and can't even use these ciphers, depending on what you are connecting to -- and nowadays also probably not arcfour/RC4 and blowfish which SunJCE <em>does</em> provide. You could just ignore (or not log) the warning(s), or use Bouncy as specified, or use an explicit configuration to limit the ciphers (and possibly other features) but that would be more work.</p>\n"},{"tags":[],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697138981,"creation_date":1697138981,"answer_id":77283389,"question_id":77261585,"body_markdown":"Issue was with new JDK 8 (jdk1.8.0_371). It has unlimited policy but they are not enabled. And if you dont copy unlimited policy to jre legacy location, \r\n\r\njdk1.8.0_371/jre/lib/security \r\n\r\nthen default its limited. \r\n\r\nSo have to add Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\r\n\r\nI think newer sshj versions have this by default\r\n\r\n\r\n","title":"java Cannot find any provider supporting Serpent/CTR/NoPadding","body":"<p>Issue was with new JDK 8 (jdk1.8.0_371). It has unlimited policy but they are not enabled. And if you dont copy unlimited policy to jre legacy location,</p>\n<p>jdk1.8.0_371/jre/lib/security</p>\n<p>then default its limited.</p>\n<p>So have to add Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);</p>\n<p>I think newer sshj versions have this by default</p>\n"}],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697138981,"creation_date":1696883019,"question_id":77261585,"body_markdown":"sshj logs\r\n\r\n    Cannot find any provider supporting CAST5/CTR/NoPadding\r\n    Cannot find any provider supporting IDEA/CTR/NoPadding\r\n    Cannot find any provider supporting Serpent/CBC/NoPadding\r\n    Cannot find any provider supporting Serpent/CTR/NoPadding\r\n    Cannot find any provider supporting Twofish/CBC/NoPadding\r\n    Cannot find any provider supporting Twofish/CTR/NoPadding\r\n    Disabling high-strength ciphers: cipher strengths apparently limited by JCE polic\r\n\r\nI have latest jdk1.8.0_371 - I assume this version has unlimited crypto by default ? \r\n\r\n*In Java versions 8u151 and higher, the JCE framework uses the unlimited strength policy files by default.* \r\n\r\nIt works on one VM and fails on another. \r\n\r\nI tried printing supported algo on both. Its same output \r\n\r\n        Set&lt;String&gt; algs = new TreeSet&lt;&gt;();\r\n        for (Provider provider : Security.getProviders()) {\r\n            provider.getServices().stream()\r\n                    .filter(s -&gt; &quot;Cipher&quot;.equals(s.getType()))\r\n                    .map(Provider.Service::getAlgorithm)\r\n                    .forEach(algs::add);\r\n        }\r\n        algs.forEach(System.out::println);\r\n\r\n\r\nHere is output. What am I missing ? is it issue with my key ? \r\n\r\n    AES\r\n    AESWrap\r\n    AESWrap_128\r\n    AESWrap_192\r\n    AESWrap_256\r\n    AES_128/CBC/NoPadding\r\n    AES_128/CFB/NoPadding\r\n    AES_128/ECB/NoPadding\r\n    AES_128/GCM/NoPadding\r\n    AES_128/OFB/NoPadding\r\n    AES_192/CBC/NoPadding\r\n    AES_192/CFB/NoPadding\r\n    AES_192/ECB/NoPadding\r\n    AES_192/GCM/NoPadding\r\n    AES_192/OFB/NoPadding\r\n    AES_256/CBC/NoPadding\r\n    AES_256/CFB/NoPadding\r\n    AES_256/ECB/NoPadding\r\n    AES_256/GCM/NoPadding\r\n    AES_256/OFB/NoPadding\r\n    ARCFOUR\r\n    Blowfish\r\n    DES\r\n    DESede\r\n    DESedeWrap\r\n    PBEWithHmacSHA1AndAES_128\r\n    PBEWithHmacSHA1AndAES_256\r\n    PBEWithHmacSHA224AndAES_128\r\n    PBEWithHmacSHA224AndAES_256\r\n    PBEWithHmacSHA256AndAES_128\r\n    PBEWithHmacSHA256AndAES_256\r\n    PBEWithHmacSHA384AndAES_128\r\n    PBEWithHmacSHA384AndAES_256\r\n    PBEWithHmacSHA512AndAES_128\r\n    PBEWithHmacSHA512AndAES_256\r\n    PBEWithMD5AndDES\r\n    PBEWithMD5AndTripleDES\r\n    PBEWithSHA1AndDESede\r\n    PBEWithSHA1AndRC2_128\r\n    PBEWithSHA1AndRC2_40\r\n    PBEWithSHA1AndRC4_128\r\n    PBEWithSHA1AndRC4_40\r\n    RC2\r\n    RSA\r\n\r\n","title":"java Cannot find any provider supporting Serpent/CTR/NoPadding","body":"<p>sshj logs</p>\n<pre><code>Cannot find any provider supporting CAST5/CTR/NoPadding\nCannot find any provider supporting IDEA/CTR/NoPadding\nCannot find any provider supporting Serpent/CBC/NoPadding\nCannot find any provider supporting Serpent/CTR/NoPadding\nCannot find any provider supporting Twofish/CBC/NoPadding\nCannot find any provider supporting Twofish/CTR/NoPadding\nDisabling high-strength ciphers: cipher strengths apparently limited by JCE polic\n</code></pre>\n<p>I have latest jdk1.8.0_371 - I assume this version has unlimited crypto by default ?</p>\n<p><em>In Java versions 8u151 and higher, the JCE framework uses the unlimited strength policy files by default.</em></p>\n<p>It works on one VM and fails on another.</p>\n<p>I tried printing supported algo on both. Its same output</p>\n<pre><code>    Set&lt;String&gt; algs = new TreeSet&lt;&gt;();\n    for (Provider provider : Security.getProviders()) {\n        provider.getServices().stream()\n                .filter(s -&gt; &quot;Cipher&quot;.equals(s.getType()))\n                .map(Provider.Service::getAlgorithm)\n                .forEach(algs::add);\n    }\n    algs.forEach(System.out::println);\n</code></pre>\n<p>Here is output. What am I missing ? is it issue with my key ?</p>\n<pre><code>AES\nAESWrap\nAESWrap_128\nAESWrap_192\nAESWrap_256\nAES_128/CBC/NoPadding\nAES_128/CFB/NoPadding\nAES_128/ECB/NoPadding\nAES_128/GCM/NoPadding\nAES_128/OFB/NoPadding\nAES_192/CBC/NoPadding\nAES_192/CFB/NoPadding\nAES_192/ECB/NoPadding\nAES_192/GCM/NoPadding\nAES_192/OFB/NoPadding\nAES_256/CBC/NoPadding\nAES_256/CFB/NoPadding\nAES_256/ECB/NoPadding\nAES_256/GCM/NoPadding\nAES_256/OFB/NoPadding\nARCFOUR\nBlowfish\nDES\nDESede\nDESedeWrap\nPBEWithHmacSHA1AndAES_128\nPBEWithHmacSHA1AndAES_256\nPBEWithHmacSHA224AndAES_128\nPBEWithHmacSHA224AndAES_256\nPBEWithHmacSHA256AndAES_128\nPBEWithHmacSHA256AndAES_256\nPBEWithHmacSHA384AndAES_128\nPBEWithHmacSHA384AndAES_256\nPBEWithHmacSHA512AndAES_128\nPBEWithHmacSHA512AndAES_256\nPBEWithMD5AndDES\nPBEWithMD5AndTripleDES\nPBEWithSHA1AndDESede\nPBEWithSHA1AndRC2_128\nPBEWithSHA1AndRC2_40\nPBEWithSHA1AndRC4_128\nPBEWithSHA1AndRC4_40\nRC2\nRSA\n</code></pre>\n"},{"tags":["java","spring","junit","spring-boot","mockito"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":9,"creation_date":1441054800,"post_id":32319640,"comment_id":52514763,"body_markdown":"What do you want to test exactly? If you want to test that work() does what it&#39;s supposed to do, you can test it like any other method of any other bean: you create an instance of the bean, call the method, and test that it does what it&#39;s supposed to do. If you want to test that the method is indeed invoked by Spring every second, there&#39;s no real point: Spring has tested that for you.","body":"What do you want to test exactly? If you want to test that work() does what it&#39;s supposed to do, you can test it like any other method of any other bean: you create an instance of the bean, call the method, and test that it does what it&#39;s supposed to do. If you want to test that the method is indeed invoked by Spring every second, there&#39;s no real point: Spring has tested that for you."},{"owner":{"account_id":6743454,"reputation":491,"user_id":5195869,"display_name":"S Puddin"},"score":0,"creation_date":1442414073,"post_id":32319640,"comment_id":53073953,"body_markdown":"I agree with you, trying to test the framework&#39;s functionality did not seem necessary to me but I was required to. I found a work around for that by adding a small log message and checking if the expected message was indeed logged for the expected time frame.","body":"I agree with you, trying to test the framework&#39;s functionality did not seem necessary to me but I was required to. I found a work around for that by adding a small log message and checking if the expected message was indeed logged for the expected time frame."},{"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"score":5,"creation_date":1510234213,"post_id":32319640,"comment_id":81354597,"body_markdown":"Another benefit of testing is to have a failing test if the `@EnableScheduling` annotation is removed.","body":"Another benefit of testing is to have a failing test if the <code>@EnableScheduling</code> annotation is removed."}],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1441054883,"creation_date":1441054883,"answer_id":32319907,"question_id":32319640,"body_markdown":"This is often hard. You may consider to load Spring context during the test and fake some bean from it to be able to verify scheduled invocation.\r\n\r\n[I have such example in my Github repo.][1] There is simple scheduled example tested with described approach.\r\n\r\n\r\n  [1]: https://github.com/lkrnac/book-eiws-code-samples/tree/master/01-async/0103-scheduled-job","title":"How to test Spring @Scheduled","body":"<p>This is often hard. You may consider to load Spring context during the test and fake some bean from it to be able to verify scheduled invocation.</p>\n\n<p><a href=\"https://github.com/lkrnac/book-eiws-code-samples/tree/master/01-async/0103-scheduled-job\" rel=\"nofollow\">I have such example in my Github repo.</a> There is simple scheduled example tested with described approach.</p>\n"},{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1524175986,"creation_date":1524175986,"answer_id":49930983,"question_id":32319640,"body_markdown":"If we assume that your job runs in such a small intervals that you really want your test to wait for job to be executed and you just want to test if job is invoked you can use following solution:\r\n\r\nAdd [Awaitility][1] to classpath:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nWrite test similar to:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class DemoApplicationTests {\r\n\r\n        @SpyBean\r\n        private MyTask myTask;\r\n\r\n        @Test\r\n        public void jobRuns() {\r\n            await().atMost(Duration.FIVE_SECONDS)\r\n                   .untilAsserted(() -&gt; verify(myTask, times(1)).work());\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/awaitility/awaitility","title":"How to test Spring @Scheduled","body":"<p>If we assume that your job runs in such a small intervals that you really want your test to wait for job to be executed and you just want to test if job is invoked you can use following solution:</p>\n\n<p>Add <a href=\"https://github.com/awaitility/awaitility\" rel=\"noreferrer\">Awaitility</a> to classpath:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Write test similar to:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class DemoApplicationTests {\n\n    @SpyBean\n    private MyTask myTask;\n\n    @Test\n    public void jobRuns() {\n        await().atMost(Duration.FIVE_SECONDS)\n               .untilAsserted(() -&gt; verify(myTask, times(1)).work());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536067379,"creation_date":1536067379,"answer_id":52167381,"question_id":32319640,"body_markdown":"this class stands for generating schedulers cron using springframework scheduling\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.scheduling.support.CronSequenceGenerator;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.AbstractJUnit4SpringContextTests;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n     \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class TrimestralReportSenderJobTest extends AbstractJUnit4SpringContextTests {\r\n    \r\n    \tprotected Logger LOG = Logger.getLogger(getClass());\r\n    \r\n    \tprivate static final String DATE_CURRENT_2018_01_01 = &quot;2018-01-01&quot;;\r\n    \tprivate static final String SCHEDULER_TWO_MIN_PERIOD = &quot;2 0/2 * * * *&quot;;\r\n    \tprivate static final String SCHEDULER_QUARTER_SEASON_PERIOD = &quot;0 0 20 1-7 1,4,7,10 FRI&quot;;\r\n    \r\n    \t@Test\r\n    \tpublic void cronSchedulerGenerator_0() {\r\n    \t\tcronSchedulerGenerator(SCHEDULER_QUARTER_SEASON_PERIOD, 100);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void cronSchedulerGenerator_1() {\r\n    \t\tcronSchedulerGenerator(SCHEDULER_TWO_MIN_PERIOD, 200);\r\n    \t}\r\n    \r\n    \tpublic void cronSchedulerGenerator(String paramScheduler, int index) {\r\n    \t\tCronSequenceGenerator cronGen = new CronSequenceGenerator(paramScheduler);\r\n    \t\tjava.util.Date date = java.sql.Date.valueOf(DATE_CURRENT_2018_01_01);\r\n    \r\n    \t\tfor (int i = 0; i &lt; index; i++) {\r\n    \t\t\tdate = cronGen.next(date);\r\n    \t\t\tLOG.info(new java.text.SimpleDateFormat(&quot;EEE, MMM d, yyyy &#39;at&#39; hh:mm:ss a&quot;).format(date));\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nhere is the output logging:\r\n\r\n    &lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 12:02:02 AM\r\n    &lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 03:02:02 AM\r\n    &lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 06:02:02 AM\r\n    &lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 09:02:02 AM\r\n    &lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 12:02:02 PM\r\n\r\n","title":"How to test Spring @Scheduled","body":"<p>this class stands for generating schedulers cron using springframework scheduling</p>\n\n<pre><code>import org.apache.log4j.Logger;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.scheduling.support.CronSequenceGenerator;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.AbstractJUnit4SpringContextTests;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class TrimestralReportSenderJobTest extends AbstractJUnit4SpringContextTests {\n\n    protected Logger LOG = Logger.getLogger(getClass());\n\n    private static final String DATE_CURRENT_2018_01_01 = \"2018-01-01\";\n    private static final String SCHEDULER_TWO_MIN_PERIOD = \"2 0/2 * * * *\";\n    private static final String SCHEDULER_QUARTER_SEASON_PERIOD = \"0 0 20 1-7 1,4,7,10 FRI\";\n\n    @Test\n    public void cronSchedulerGenerator_0() {\n        cronSchedulerGenerator(SCHEDULER_QUARTER_SEASON_PERIOD, 100);\n    }\n\n    @Test\n    public void cronSchedulerGenerator_1() {\n        cronSchedulerGenerator(SCHEDULER_TWO_MIN_PERIOD, 200);\n    }\n\n    public void cronSchedulerGenerator(String paramScheduler, int index) {\n        CronSequenceGenerator cronGen = new CronSequenceGenerator(paramScheduler);\n        java.util.Date date = java.sql.Date.valueOf(DATE_CURRENT_2018_01_01);\n\n        for (int i = 0; i &lt; index; i++) {\n            date = cronGen.next(date);\n            LOG.info(new java.text.SimpleDateFormat(\"EEE, MMM d, yyyy 'at' hh:mm:ss a\").format(date));\n        }\n\n    }\n}\n</code></pre>\n\n<p>here is the output logging:</p>\n\n<pre><code>&lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 12:02:02 AM\n&lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 03:02:02 AM\n&lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 06:02:02 AM\n&lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 09:02:02 AM\n&lt;com.medici.scheduler.jobs.TrimestralReportSenderJobTest&gt; - lun, gen 1, 2018 at 12:02:02 PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1607010915,"creation_date":1547753641,"answer_id":54243063,"question_id":32319640,"body_markdown":"My question is: &quot;what do you want to test?&quot;\r\n\r\nIf your answer is \r\n&quot;I want to know that Spring runs my scheduled task when I want it to&quot;,\r\nthen you are testing Spring,\r\nnot your code.\r\nThis is not something you need to unit test.\r\n\r\nIf your answer is &quot;I want to know that I configured my task correctly&quot;,\r\nthen write a test app with a frequently running task and verify that\r\nthe task runs when you expect it to run.\r\nThis is not a unit test,\r\nbut will show that you know how to configure your task correctly.\r\n\r\nIf the answer is &quot;I want to know that the task I wrote functions correctly&quot;,\r\nthen you need to unit test the task method.\r\nIn your example,\r\nyou want to unit test the `work()` method.\r\nDo this by writing a unit test that directly calls your task method (`work()`).\r\nFor example,\r\n\r\n    public class TestMyTask\r\n    {\r\n      @InjectMocks\r\n      private MyTask classToTest;\r\n\r\n      // Declare any mocks you need.\r\n      @Mock\r\n      private Blammy mockBlammy;\r\n\r\n      @Before\r\n      public void preTestSetup()\r\n      {\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        ... any other setup you need.\r\n      }\r\n\r\n      @Test\r\n      public void work_success()\r\n      {\r\n        ... setup for the test.\r\n\r\n\r\n        classToTest.work();\r\n\r\n\r\n        .. asserts to verify that the work method functioned correctly.\r\n      }","title":"How to test Spring @Scheduled","body":"<p>My question is: &quot;what do you want to test?&quot;</p>\n<p>If your answer is\n&quot;I want to know that Spring runs my scheduled task when I want it to&quot;,\nthen you are testing Spring,\nnot your code.\nThis is not something you need to unit test.</p>\n<p>If your answer is &quot;I want to know that I configured my task correctly&quot;,\nthen write a test app with a frequently running task and verify that\nthe task runs when you expect it to run.\nThis is not a unit test,\nbut will show that you know how to configure your task correctly.</p>\n<p>If the answer is &quot;I want to know that the task I wrote functions correctly&quot;,\nthen you need to unit test the task method.\nIn your example,\nyou want to unit test the <code>work()</code> method.\nDo this by writing a unit test that directly calls your task method (<code>work()</code>).\nFor example,</p>\n<pre><code>public class TestMyTask\n{\n  @InjectMocks\n  private MyTask classToTest;\n\n  // Declare any mocks you need.\n  @Mock\n  private Blammy mockBlammy;\n\n  @Before\n  public void preTestSetup()\n  {\n    MockitoAnnotations.initMocks(this);\n\n    ... any other setup you need.\n  }\n\n  @Test\n  public void work_success()\n  {\n    ... setup for the test.\n\n\n    classToTest.work();\n\n\n    .. asserts to verify that the work method functioned correctly.\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1606423522,"creation_date":1549049650,"answer_id":54486096,"question_id":32319640,"body_markdown":"We can use at least two approaches in order to test scheduled tasks with Spring:\r\n\r\n - Integration testing\r\n\r\nIf we use spring boot we gonna need the following dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWe could add a `count` to the `Task` and increment it inside the `work` method:\r\n\r\n     public class MyTask {\r\n       private final AtomicInteger count = new AtomicInteger(0);\r\n       \r\n       @Scheduled(fixedRate=1000)\r\n       public void work(){\r\n         this.count.incrementAndGet();\r\n       }\r\n\r\n       public int getInvocationCount() {\r\n        return this.count.get();\r\n       }\r\n     }\r\n\r\nThen check the `count`:\r\n\r\n    @SpringJUnitConfig(ScheduledConfig.class)\r\n    public class ScheduledIntegrationTest {\r\n     \r\n        @Autowired\r\n        MyTask task;\r\n    \r\n        @Test\r\n        public void givenSleepBy100ms_whenWork_thenInvocationCountIsGreaterThanZero() \r\n          throws InterruptedException {\r\n            Thread.sleep(2000L);\r\n    \r\n            assertThat(task.getInvocationCount()).isGreaterThan(0);\r\n        }\r\n    }\r\n\r\n - Another alternative is using Awaitility like mentions @maciej-walkowiak. \r\n\r\nIn that case, we need to add the Awaitility dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.6&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd use its DSL to check the number of invocations of the method `work`:\r\n\r\n    @SpringJUnitConfig(ScheduledConfig.class)\r\n    public class ScheduledAwaitilityIntegrationTest {\r\n    \r\n        @SpyBean \r\n        MyTask task;\r\n    \r\n        @Test\r\n        public void whenWaitOneSecond_thenWorkIsCalledAtLeastThreeTimes() {\r\n            await()\r\n              .atMost(Duration.FIVE_SECONDS)\r\n              .untilAsserted(() -&gt; verify(task, atLeast(3)).work());\r\n        }\r\n    }\r\n\r\nWe need take in count that although they are good **it’s better to focus on the unit testing of the logic inside the work method**.\r\n\r\nI put an example [here][1].\r\n\r\n\r\nAlso, if you need to test the CRON expressions like &quot;*/15 * 1-4 * * *&quot; you can use the [`CronSequenceGenerator`][2] class:\r\n\r\n\t@Test\r\n\tpublic void at50Seconds() {\r\n\t\tassertThat(new CronSequenceGenerator(&quot;*/15 * 1-4 * * *&quot;).next(new Date(2012, 6, 1, 9, 53, 50))).isEqualTo(new Date(2012, 6, 2, 1, 0));\r\n\t}\r\n\r\nYou can find more examples in the [official repository][3]. \r\n\r\n\r\n  [1]: https://github.com/earth001/spring-core-certification-exercises/commit/ab2fb963eb6f504f38a9845c4a5558f83275aca3\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/test/java/org/springframework/scheduling/support/CronSequenceGeneratorTests.java","title":"How to test Spring @Scheduled","body":"<p>We can use at least two approaches in order to test scheduled tasks with Spring:</p>\n<ul>\n<li>Integration testing</li>\n</ul>\n<p>If we use spring boot we gonna need the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We could add a <code>count</code> to the <code>Task</code> and increment it inside the <code>work</code> method:</p>\n<pre><code> public class MyTask {\n   private final AtomicInteger count = new AtomicInteger(0);\n   \n   @Scheduled(fixedRate=1000)\n   public void work(){\n     this.count.incrementAndGet();\n   }\n\n   public int getInvocationCount() {\n    return this.count.get();\n   }\n }\n</code></pre>\n<p>Then check the <code>count</code>:</p>\n<pre><code>@SpringJUnitConfig(ScheduledConfig.class)\npublic class ScheduledIntegrationTest {\n \n    @Autowired\n    MyTask task;\n\n    @Test\n    public void givenSleepBy100ms_whenWork_thenInvocationCountIsGreaterThanZero() \n      throws InterruptedException {\n        Thread.sleep(2000L);\n\n        assertThat(task.getInvocationCount()).isGreaterThan(0);\n    }\n}\n</code></pre>\n<ul>\n<li>Another alternative is using Awaitility like mentions @maciej-walkowiak.</li>\n</ul>\n<p>In that case, we need to add the Awaitility dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;version&gt;3.1.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And use its DSL to check the number of invocations of the method <code>work</code>:</p>\n<pre><code>@SpringJUnitConfig(ScheduledConfig.class)\npublic class ScheduledAwaitilityIntegrationTest {\n\n    @SpyBean \n    MyTask task;\n\n    @Test\n    public void whenWaitOneSecond_thenWorkIsCalledAtLeastThreeTimes() {\n        await()\n          .atMost(Duration.FIVE_SECONDS)\n          .untilAsserted(() -&gt; verify(task, atLeast(3)).work());\n    }\n}\n</code></pre>\n<p>We need take in count that although they are good <strong>it’s better to focus on the unit testing of the logic inside the work method</strong>.</p>\n<p>I put an example <a href=\"https://github.com/earth001/spring-core-certification-exercises/commit/ab2fb963eb6f504f38a9845c4a5558f83275aca3\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Also, if you need to test the CRON expressions like &quot;*/15 * 1-4 * * *&quot; you can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\" rel=\"nofollow noreferrer\"><code>CronSequenceGenerator</code></a> class:</p>\n<pre><code>@Test\npublic void at50Seconds() {\n    assertThat(new CronSequenceGenerator(&quot;*/15 * 1-4 * * *&quot;).next(new Date(2012, 6, 1, 9, 53, 50))).isEqualTo(new Date(2012, 6, 2, 1, 0));\n}\n</code></pre>\n<p>You can find more examples in the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/test/java/org/springframework/scheduling/support/CronSequenceGeneratorTests.java\" rel=\"nofollow noreferrer\">official repository</a>.</p>\n"},{"tags":[],"owner":{"account_id":2314766,"reputation":13150,"user_id":2032064,"accept_rate":100,"display_name":"Mifeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602605776,"creation_date":1602605776,"answer_id":64339153,"question_id":32319640,"body_markdown":"Answer from [@Maciej](https://stackoverflow.com/a/49930983/2032064) solves the problem, but doesn&#39;t tackle the hard part of testing @Scheduled with too long intervals (e.g. hours) as mentioned by @cristian-batista .\r\n\r\nIn order to test @Scheduled independently of the actual scheduling interval, we need to make it parametrizable from tests. Fortunately, Spring has added a `fixedRateString` parameter [for this purpose](https://stackoverflow.com/a/16463403/2032064). \r\n\r\nHere&#39;s a complete example:\r\n\r\n```\r\npublic class MyTask {\r\n     // Control rate with property `task.work.rate` and use 3600000 (1 hour) as a default:\r\n     @Scheduled(fixedRateString = &quot;${task.work.rate:3600000}&quot;)\r\n     public void work() {\r\n         // task execution logic\r\n     }\r\n }\r\n```\r\n\r\nTest with [awaitility](https://github.com/awaitility/awaitility):\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n// Override the scheduling rate to something really short:\r\n@TestPropertySource(properties = &quot;task.work.rate=100&quot;) \r\npublic class DemoApplicationTests {\r\n\r\n    @SpyBean\r\n    private MyTask myTask;\r\n\r\n    @Test\r\n    public void jobRuns() {\r\n        Awaitility.await().atMost(10, TimeUnit.SECONDS).untilAsserted(() -&gt;\r\n            verify(myTask, Mockito.atLeastOnce()).work()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to test Spring @Scheduled","body":"<p>Answer from <a href=\"https://stackoverflow.com/a/49930983/2032064\">@Maciej</a> solves the problem, but doesn't tackle the hard part of testing @Scheduled with too long intervals (e.g. hours) as mentioned by @cristian-batista .</p>\n<p>In order to test @Scheduled independently of the actual scheduling interval, we need to make it parametrizable from tests. Fortunately, Spring has added a <code>fixedRateString</code> parameter <a href=\"https://stackoverflow.com/a/16463403/2032064\">for this purpose</a>.</p>\n<p>Here's a complete example:</p>\n<pre><code>public class MyTask {\n     // Control rate with property `task.work.rate` and use 3600000 (1 hour) as a default:\n     @Scheduled(fixedRateString = &quot;${task.work.rate:3600000}&quot;)\n     public void work() {\n         // task execution logic\n     }\n }\n</code></pre>\n<p>Test with <a href=\"https://github.com/awaitility/awaitility\" rel=\"noreferrer\">awaitility</a>:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n// Override the scheduling rate to something really short:\n@TestPropertySource(properties = &quot;task.work.rate=100&quot;) \npublic class DemoApplicationTests {\n\n    @SpyBean\n    private MyTask myTask;\n\n    @Test\n    public void jobRuns() {\n        Awaitility.await().atMost(10, TimeUnit.SECONDS).untilAsserted(() -&gt;\n            verify(myTask, Mockito.atLeastOnce()).work()\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697138846,"creation_date":1691244389,"answer_id":76842019,"question_id":32319640,"body_markdown":"First, great answers and comments were posted here, but I&#39;d like to add some summary and one more additional approach you can use.\r\n\r\n *1. Why you might want to test that?* \r\n\r\nIt is true that there&#39;s no reason to test Spring&#39;s mechanisms. However, there&#39;s another side to it. In order for the entire scheduling mechanism to work, you need `@EnableScheduling` annotation on configuration level or and `@Scheduled` annotation + a cron expression. There are many places where it can go wrong. Imagine someone accidentally removes one of the annotations, or puts `@Scheduled` to a wrong method. Cron expression is verified by Spring from a technical point of view, but not from a business angle.\r\n\r\n *2. How you can test that?*\r\n\r\nWe don&#39;t need this test to be complex and test business logic inside it, the business logic it tested in other tests. We will focus on testing the fact of working scheduler.\r\n\r\n**Option 1. Spy Bean and waiting mechanism**\r\n\r\nAdd this dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n    &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n```\r\n package com.myco.tasks;\r\n\r\n public class MyTask {\r\n\r\n     @Scheduled(fixedRate = ${app.scheduler.rate})\r\n     public void work() {\r\n         // task execution logic\r\n     }\r\n }\r\n\r\n@SpringBootTest\r\npublic class SchedulerTest {\r\n\r\n    @SpyBean\r\n    private MyTask myTask;\r\n\r\n    @Test\r\n    public void jobRuns() {\r\n        Awaitility.await()\r\n                .atMost(Durations.FIVE_SECONDS)\r\n                .untilAsserted(() -&gt; Mockito.verify(myTask, Mockito.atLeast(1)).work());\r\n    }\r\n}\r\n```\r\n\r\n`Mockito` spies on the bean here, `Awaitility` makes the polling and sets the timeout. You can use simple `Thread.sleep()` here, but the test will just be slower and flaky, you either need to wait longer, or slowness can just make it fail accidentally.\r\n\r\n**Important note:** you have to use configurable values for the scheduling expressions, if your real config measured in hours or days, the test config should be measured in seconds.\r\n\r\n*Advantages:*\r\n- Simple to write\r\n- Tests actual bean calls\r\n\r\n*Disadvantages:*\r\n- Doesn&#39;t test actual expression, test configuration might be different from real configuration in case of scheduling big intervals.\r\n- Using very short interval might cause disruption in other Spring tests, there&#39;s a probability that scheduler might kick-in. Can be avoided by using a dedicated profile for this test. \r\n\r\n**Option 2. Task Scheduling holders**\r\n\r\n```\r\n package com.myco.tasks;\r\n\r\n public class MyTask {\r\n\r\n     @Scheduled(cron = &quot;${app.scheduler.cron}&quot;)\r\n     public void work() {\r\n         // task execution logic\r\n     }\r\n }\r\n\r\n@SpringBootTest\r\npublic class SchedulerTest {\r\n\r\n    @Value(&quot;${app.scheduler.cron}&quot;)\r\n    private String expectedCronExpression;\r\n\r\n    @Autowired\r\n    private ScheduledTaskHolder taskHolder;\r\n\r\n    @Test\r\n    public void cronTaskIsScheduled() {\r\n        CronTask cronTask = taskHolder.getScheduledTasks()\r\n                .stream()\r\n                .map(ScheduledTask::getTask)\r\n                .filter(CronTask.class::isInstance)\r\n                .map(CronTask.class::cast)\r\n                .filter(task -&gt; task.toString().contains(&quot;tasks.MyTask.work&quot;))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;No scheduled tasks&quot;));\r\n\r\n        assertEquals(cronExpression, cronTask.getExpression());\r\n    }\r\n}\r\n```\r\n\r\nInject the task holder and assert if there are scheduled tasks by asserting the expression and Class + method name. This example is given for `CronTask` but can easily be adapted for OP example using `FixedRateTask`.\r\n\r\n**Important note:** `ScheduledTaskHolder` is available since Spring 5.0.2, you can inject `ScheduledAnnotationBeanPostProcessor` directly if you&#39;re using Spring 3 or above.\r\n\r\n*Advantages:*\r\n- Can test the actual exact cron expression\r\n\r\n*Disadvantages:*\r\n- Doesn&#39;t test bean calls\r\n- Harder to refactor: class names, method names (and package, if you include that in your assertion) change should be adjusted manually.\r\n\r\nYou can combine both approaches if you&#39;re testing a very critical scheduler. I&#39;d recommend using different profiles for tests.\r\n\r\n","title":"How to test Spring @Scheduled","body":"<p>First, great answers and comments were posted here, but I'd like to add some summary and one more additional approach you can use.</p>\n<p><em>1. Why you might want to test that?</em></p>\n<p>It is true that there's no reason to test Spring's mechanisms. However, there's another side to it. In order for the entire scheduling mechanism to work, you need <code>@EnableScheduling</code> annotation on configuration level or and <code>@Scheduled</code> annotation + a cron expression. There are many places where it can go wrong. Imagine someone accidentally removes one of the annotations, or puts <code>@Scheduled</code> to a wrong method. Cron expression is verified by Spring from a technical point of view, but not from a business angle.</p>\n<p><em>2. How you can test that?</em></p>\n<p>We don't need this test to be complex and test business logic inside it, the business logic it tested in other tests. We will focus on testing the fact of working scheduler.</p>\n<p><strong>Option 1. Spy Bean and waiting mechanism</strong></p>\n<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;version&gt;${awaitility.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<pre><code> package com.myco.tasks;\n\n public class MyTask {\n\n     @Scheduled(fixedRate = ${app.scheduler.rate})\n     public void work() {\n         // task execution logic\n     }\n }\n\n@SpringBootTest\npublic class SchedulerTest {\n\n    @SpyBean\n    private MyTask myTask;\n\n    @Test\n    public void jobRuns() {\n        Awaitility.await()\n                .atMost(Durations.FIVE_SECONDS)\n                .untilAsserted(() -&gt; Mockito.verify(myTask, Mockito.atLeast(1)).work());\n    }\n}\n</code></pre>\n<p><code>Mockito</code> spies on the bean here, <code>Awaitility</code> makes the polling and sets the timeout. You can use simple <code>Thread.sleep()</code> here, but the test will just be slower and flaky, you either need to wait longer, or slowness can just make it fail accidentally.</p>\n<p><strong>Important note:</strong> you have to use configurable values for the scheduling expressions, if your real config measured in hours or days, the test config should be measured in seconds.</p>\n<p><em>Advantages:</em></p>\n<ul>\n<li>Simple to write</li>\n<li>Tests actual bean calls</li>\n</ul>\n<p><em>Disadvantages:</em></p>\n<ul>\n<li>Doesn't test actual expression, test configuration might be different from real configuration in case of scheduling big intervals.</li>\n<li>Using very short interval might cause disruption in other Spring tests, there's a probability that scheduler might kick-in. Can be avoided by using a dedicated profile for this test.</li>\n</ul>\n<p><strong>Option 2. Task Scheduling holders</strong></p>\n<pre><code> package com.myco.tasks;\n\n public class MyTask {\n\n     @Scheduled(cron = &quot;${app.scheduler.cron}&quot;)\n     public void work() {\n         // task execution logic\n     }\n }\n\n@SpringBootTest\npublic class SchedulerTest {\n\n    @Value(&quot;${app.scheduler.cron}&quot;)\n    private String expectedCronExpression;\n\n    @Autowired\n    private ScheduledTaskHolder taskHolder;\n\n    @Test\n    public void cronTaskIsScheduled() {\n        CronTask cronTask = taskHolder.getScheduledTasks()\n                .stream()\n                .map(ScheduledTask::getTask)\n                .filter(CronTask.class::isInstance)\n                .map(CronTask.class::cast)\n                .filter(task -&gt; task.toString().contains(&quot;tasks.MyTask.work&quot;))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;No scheduled tasks&quot;));\n\n        assertEquals(cronExpression, cronTask.getExpression());\n    }\n}\n</code></pre>\n<p>Inject the task holder and assert if there are scheduled tasks by asserting the expression and Class + method name. This example is given for <code>CronTask</code> but can easily be adapted for OP example using <code>FixedRateTask</code>.</p>\n<p><strong>Important note:</strong> <code>ScheduledTaskHolder</code> is available since Spring 5.0.2, you can inject <code>ScheduledAnnotationBeanPostProcessor</code> directly if you're using Spring 3 or above.</p>\n<p><em>Advantages:</em></p>\n<ul>\n<li>Can test the actual exact cron expression</li>\n</ul>\n<p><em>Disadvantages:</em></p>\n<ul>\n<li>Doesn't test bean calls</li>\n<li>Harder to refactor: class names, method names (and package, if you include that in your assertion) change should be adjusted manually.</li>\n</ul>\n<p>You can combine both approaches if you're testing a very critical scheduler. I'd recommend using different profiles for tests.</p>\n"}],"owner":{"account_id":6743454,"reputation":491,"user_id":5195869,"display_name":"S Puddin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74912,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":7,"score":49,"last_activity_date":1697138846,"creation_date":1441053684,"question_id":32319640,"body_markdown":"How do I test [`@Scheduled`][1] job tasks in my spring-boot application?\r\n\r\n     package com.myco.tasks;\r\n    \r\n     public class MyTask {\r\n         @Scheduled(fixedRate=1000)\r\n         public void work() {\r\n             // task execution logic\r\n         }\r\n     }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html","title":"How to test Spring @Scheduled","body":"<p>How do I test <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"noreferrer\"><code>@Scheduled</code></a> job tasks in my spring-boot application?</p>\n\n<pre><code> package com.myco.tasks;\n\n public class MyTask {\n     @Scheduled(fixedRate=1000)\n     public void work() {\n         // task execution logic\n     }\n }\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":101001,"reputation":119788,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1697135659,"post_id":77282993,"comment_id":136245246,"body_markdown":"Advice: Never ever use UPPER case in your database object names, like table and column names.","body":"Advice: Never ever use UPPER case in your database object names, like table and column names."},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1697161307,"post_id":77282993,"comment_id":136248176,"body_markdown":"A typo: `widgetid` vs. `widget_id`.","body":"A typo: <code>widgetid</code> vs. <code>widget_id</code>."}],"owner":{"account_id":28730252,"reputation":1,"user_id":22002364,"display_name":"JayaKumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697138360,"creation_date":1697135010,"question_id":77282993,"body_markdown":"i have five columns in table in postgres db \r\n\r\n\r\n\r\nSELECT &quot;widgetId&quot;, spaceurl, section, signingkey\r\n\tFROM gitbook.helpdocs;\r\n\r\nwhere &quot;widgetId&quot; is primarykey\r\n\r\nentity class:\r\n\r\n\r\n    @Id \r\n\t@Column(name = &quot;widgetId&quot;)\r\n\tString widgetId;\r\n\t\r\n\t@Column(name = &quot;spaceurl&quot;)\r\n\tString spaceurl;\r\n\t\r\n\t@Column(name = &quot;section&quot;)\r\n\tString section;\r\n\t\r\n\t@Column(name = &quot;signingkey&quot;)\r\n\tString signingkey;\r\n\r\n\r\nbut it is giving me error:\r\n\r\n ERROR: **column h1_0.widget_id does not exist**\r\n Hint: Perhaps you meant to reference the column &quot;h1_0.widgetId&quot;\r\n\r\nI am giving the correct column name but still getting this mismatch error\r\nI have tried with many options like addingg generation type and changing the case of the text. but\r\nnothing working","title":"Getting column does not exist error when trying to connect with Postgres database","body":"<p>i have five columns in table in postgres db</p>\n<p>SELECT &quot;widgetId&quot;, spaceurl, section, signingkey\nFROM gitbook.helpdocs;</p>\n<p>where &quot;widgetId&quot; is primarykey</p>\n<p>entity class:</p>\n<pre><code>@Id \n@Column(name = &quot;widgetId&quot;)\nString widgetId;\n\n@Column(name = &quot;spaceurl&quot;)\nString spaceurl;\n\n@Column(name = &quot;section&quot;)\nString section;\n\n@Column(name = &quot;signingkey&quot;)\nString signingkey;\n</code></pre>\n<p>but it is giving me error:</p>\n<p>ERROR: <strong>column h1_0.widget_id does not exist</strong>\nHint: Perhaps you meant to reference the column &quot;h1_0.widgetId&quot;</p>\n<p>I am giving the correct column name but still getting this mismatch error\nI have tried with many options like addingg generation type and changing the case of the text. but\nnothing working</p>\n"},{"tags":["java","snowflake-cloud-data-platform","apache-beam"],"owner":{"account_id":29658965,"reputation":1,"user_id":22731046,"display_name":"mybeam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697138286,"creation_date":1697137884,"question_id":77283276,"body_markdown":"As per the document on https://beam.apache.org/documentation/io/built-in/snowflake/#running-main-command-with-pipeline-options, I can only see DirectRunner and DataflowRunner, and I have tested the DirectRunner which is working fine. Just wonder if it supports Flink officially. Any comments are welcomed. Thanks.\r\n\r\n\r\nI tested DirectRunner which is working.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g1xgY.png","title":"Does SnowflakeIO Connector in Java support Flink?","body":"<p>As per the document on <a href=\"https://beam.apache.org/documentation/io/built-in/snowflake/#running-main-command-with-pipeline-options\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/io/built-in/snowflake/#running-main-command-with-pipeline-options</a>, I can only see DirectRunner and DataflowRunner, and I have tested the DirectRunner which is working fine. Just wonder if it supports Flink officially. Any comments are welcomed. Thanks.</p>\n<p>I tested DirectRunner which is working.</p>\n"},{"tags":["java","docker","docker-compose"],"owner":{"account_id":18322279,"reputation":13,"user_id":13342784,"display_name":"NoBug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697138278,"creation_date":1697136722,"question_id":77283157,"body_markdown":"I have have the following error when compose up the container.\r\n```\r\nmirror-maker  | 360 [main] ERROR org.apache.kafka.common.security.ssl.DefaultSslEngineFactory  - Modification time of key store could not be obtained: &quot;/etc/tmp/key\r\nstore.jks&quot;\r\nmirror-maker  | java.nio.file.NoSuchFileException: &quot;/etc/tmp/keystore.jks&quot;\r\n```\r\n\r\nI exec into the container and found the file does exit with permission 644.\r\n\r\n&gt; -rw-r--r--. 1 appuser appuser   3358 Sep 26 16:10 keystore.jks\r\n\r\n\r\nHere is how I firstly mount and access the volume in docker compose file.\r\n```\r\n    volumes:\r\n      - /home/ec2-user/kafka-mirror-maker/configs:/etc/tmp\r\nenvironment:\r\n    CONNECT_SSL_KEYSTORE_LOCATION=&quot;/etc/tmp/keystore.jks&quot;\r\n```\r\n\r\n\r\nI tested using docker run command which worked surprisely. \r\n\r\n    docker run -d -v /home/ec2-user/kafka-mirror-maker/configs:/etc/tmp \\\r\n    -e CONNECT_SSL_TRUSTSTORE_LOCATION=&quot;/etc/tmp/keystore.jks&quot; \\\r\n\r\n\r\nThen I tried to use named volume and it did not work either.\r\n```\r\n    volumes:\r\n      - configs:/etc/tmp\r\n\r\nvolumes:\r\n  configs:\r\n    driver: local\r\n    driver_opts:\r\n      type: none\r\n      o: bind\r\n      device: /home/ec2-user/kafka-mirror-maker/configs\r\n```\r\n\r\nThanks in advance!","title":"NosuchFileException found when compose up docker","body":"<p>I have have the following error when compose up the container.</p>\n<pre><code>mirror-maker  | 360 [main] ERROR org.apache.kafka.common.security.ssl.DefaultSslEngineFactory  - Modification time of key store could not be obtained: &quot;/etc/tmp/key\nstore.jks&quot;\nmirror-maker  | java.nio.file.NoSuchFileException: &quot;/etc/tmp/keystore.jks&quot;\n</code></pre>\n<p>I exec into the container and found the file does exit with permission 644.</p>\n<blockquote>\n<p>-rw-r--r--. 1 appuser appuser   3358 Sep 26 16:10 keystore.jks</p>\n</blockquote>\n<p>Here is how I firstly mount and access the volume in docker compose file.</p>\n<pre><code>    volumes:\n      - /home/ec2-user/kafka-mirror-maker/configs:/etc/tmp\nenvironment:\n    CONNECT_SSL_KEYSTORE_LOCATION=&quot;/etc/tmp/keystore.jks&quot;\n</code></pre>\n<p>I tested using docker run command which worked surprisely.</p>\n<pre><code>docker run -d -v /home/ec2-user/kafka-mirror-maker/configs:/etc/tmp \\\n-e CONNECT_SSL_TRUSTSTORE_LOCATION=&quot;/etc/tmp/keystore.jks&quot; \\\n</code></pre>\n<p>Then I tried to use named volume and it did not work either.</p>\n<pre><code>    volumes:\n      - configs:/etc/tmp\n\nvolumes:\n  configs:\n    driver: local\n    driver_opts:\n      type: none\n      o: bind\n      device: /home/ec2-user/kafka-mirror-maker/configs\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["python","java","rabbitmq","cluster-computing"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697138239,"creation_date":1581517870,"answer_id":60190649,"question_id":60174822,"body_markdown":"If the queue master node stops, your application will receive a &quot;connection lost&quot; exception. You then act upon this exception to connect to any other node in the cluster.\r\n\r\nYou don&#39;t need to know anything about a &quot;cluster manager&quot;. Just connect to another node.\r\n\r\nThe RabbitMQ Java client library supports automatic recovery for connections and topologies.","title":"Who is rabbitmq cluster manager? How can I get data from cluster?","body":"<p>If the queue master node stops, your application will receive a &quot;connection lost&quot; exception. You then act upon this exception to connect to any other node in the cluster.</p>\n<p>You don't need to know anything about a &quot;cluster manager&quot;. Just connect to another node.</p>\n<p>The RabbitMQ Java client library supports automatic recovery for connections and topologies.</p>\n"},{"tags":[],"owner":{"account_id":1818160,"reputation":26,"user_id":1652835,"display_name":"angelgarcan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634621619,"creation_date":1634621619,"answer_id":69625580,"question_id":60174822,"body_markdown":"There&#39;s not sth like *&quot;cluster manager&quot;*. The nodes in a RabbitMQ cluster use the Raft algorithm for distributed consensus and elect their leader (see http://thesecretlivesofdata.com/raft).\r\n\r\nOn the other hand, RabbitMQ Java Client API already could manage disconnections as in the scenario that you pose. New connections are recoverable by default (see https://www.rabbitmq.com/api-guide.html#connection-recovery).\r\n\r\nYou could use this snippet as an example to create connections to several nodes (each String in the `addressesStr` List should be like `node_ip:port`):\r\n\r\n```\r\n  public Connection crateConnection(final List&lt;String&gt; addressesStr)\r\n      throws IOException, TimeoutException {\r\n    final ConnectionFactory factory = new ConnectionFactory();\r\n    final List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\r\n\r\n    for (final String address : addressesStr) {\r\n      final String[] addr = address.split(&quot;:&quot;);\r\n      final String host = addr[0];\r\n      final var port = Integer.parseInt(addr[1]);\r\n      addresses.add(new Address(host, port));\r\n    }\r\n\r\n    return factory.newConnection(addresses);\r\n  }\r\n```","title":"Who is rabbitmq cluster manager? How can I get data from cluster?","body":"<p>There's not sth like <em>&quot;cluster manager&quot;</em>. The nodes in a RabbitMQ cluster use the Raft algorithm for distributed consensus and elect their leader (see <a href=\"http://thesecretlivesofdata.com/raft\" rel=\"nofollow noreferrer\">http://thesecretlivesofdata.com/raft</a>).</p>\n<p>On the other hand, RabbitMQ Java Client API already could manage disconnections as in the scenario that you pose. New connections are recoverable by default (see <a href=\"https://www.rabbitmq.com/api-guide.html#connection-recovery\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/api-guide.html#connection-recovery</a>).</p>\n<p>You could use this snippet as an example to create connections to several nodes (each String in the <code>addressesStr</code> List should be like <code>node_ip:port</code>):</p>\n<pre><code>  public Connection crateConnection(final List&lt;String&gt; addressesStr)\n      throws IOException, TimeoutException {\n    final ConnectionFactory factory = new ConnectionFactory();\n    final List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\n\n    for (final String address : addressesStr) {\n      final String[] addr = address.split(&quot;:&quot;);\n      final String host = addr[0];\n      final var port = Integer.parseInt(addr[1]);\n      addresses.add(new Address(host, port));\n    }\n\n    return factory.newConnection(addresses);\n  }\n</code></pre>\n"}],"owner":{"account_id":17229129,"reputation":386,"user_id":12474132,"display_name":"newUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697138239,"creation_date":1581443749,"question_id":60174822,"body_markdown":"I created rabbitmq cluster. There are three nodes one master two slaves. When master dies, who decides which slave is the new master. Who is cluster manager? And How can I get data from cluster. I can get message from every node from cluster but For example: I am getting data from master node, but when master node is dead, I need to connect to other node manually. But I want to connect to cluster and Whenever master dies, I could get message from another node?","title":"Who is rabbitmq cluster manager? How can I get data from cluster?","body":"<p>I created rabbitmq cluster. There are three nodes one master two slaves. When master dies, who decides which slave is the new master. Who is cluster manager? And How can I get data from cluster. I can get message from every node from cluster but For example: I am getting data from master node, but when master node is dead, I need to connect to other node manually. But I want to connect to cluster and Whenever master dies, I could get message from another node?</p>\n"},{"tags":["java","unit-testing","integration-testing","wiremock"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1632427819,"post_id":69301670,"comment_id":122496945,"body_markdown":"Have you looked at the documentation for how to have test fakes for gRPC services?","body":"Have you looked at the documentation for how to have test fakes for gRPC services?"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680047350,"post_id":69301670,"comment_id":133829568,"body_markdown":"FYI, Java gRPC has a `InProcessServerBuilder` useful for testing and mocks","body":"FYI, Java gRPC has a <code>InProcessServerBuilder</code> useful for testing and mocks"}],"answers":[{"tags":[],"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634227447,"creation_date":1634227447,"answer_id":69573887,"question_id":69301670,"body_markdown":"You could use [Wiremock-gRPC][1] or any of the other tools mentioned on the [Wikipedia comparison site][2] such as the [commercial tool Traffic Parrot that supports gRPC][3] or [Camouflage][4].\r\n\r\n\r\n  [1]: https://github.com/Adven27/grpc-wiremock\r\n  [2]: https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\r\n  [3]: https://trafficparrot.com/tutorials/mocking-and-simulating-grpc.html\r\n  [4]: https://github.com/testinggospels/camouflage/","title":"How to use WireMock to mock an upstream service with Protobuf (gRPC) response","body":"<p>You could use <a href=\"https://github.com/Adven27/grpc-wiremock\" rel=\"nofollow noreferrer\">Wiremock-gRPC</a> or any of the other tools mentioned on the <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"nofollow noreferrer\">Wikipedia comparison site</a> such as the <a href=\"https://trafficparrot.com/tutorials/mocking-and-simulating-grpc.html\" rel=\"nofollow noreferrer\">commercial tool Traffic Parrot that supports gRPC</a> or <a href=\"https://github.com/testinggospels/camouflage/\" rel=\"nofollow noreferrer\">Camouflage</a>.</p>\n"},{"tags":[],"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697138109,"creation_date":1697138109,"answer_id":77283307,"question_id":69301670,"body_markdown":"WireMock now has an official extension that supports gRPC mocking.\r\n\r\nIt works by converting protobuf messages to and from JSON so that WireMock&#39;s JSON matching can be used as normal.\r\n\r\nMatching and responses can be expressed directly as JSON, or Java classes generated by `protoc` can be used via the extension&#39;s DSL:\r\n\r\n```java\r\nmockGreetingService.stubFor(\r\n        method(&quot;greeting&quot;)\r\n            .withRequestMessage(equalToMessage(HelloRequest.newBuilder().setName(&quot;Tom&quot;)))\r\n            .willReturn(message(HelloResponse.newBuilder().setGreeting(&quot;Hi&quot;))));\r\n```","title":"How to use WireMock to mock an upstream service with Protobuf (gRPC) response","body":"<p>WireMock now has an official extension that supports gRPC mocking.</p>\n<p>It works by converting protobuf messages to and from JSON so that WireMock's JSON matching can be used as normal.</p>\n<p>Matching and responses can be expressed directly as JSON, or Java classes generated by <code>protoc</code> can be used via the extension's DSL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mockGreetingService.stubFor(\n        method(&quot;greeting&quot;)\n            .withRequestMessage(equalToMessage(HelloRequest.newBuilder().setName(&quot;Tom&quot;)))\n            .willReturn(message(HelloResponse.newBuilder().setGreeting(&quot;Hi&quot;))));\n</code></pre>\n"}],"owner":{"account_id":22644881,"reputation":51,"user_id":16820416,"display_name":"StyleBender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3939,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1697138109,"creation_date":1632406130,"question_id":69301670,"body_markdown":"I am writing integration tests for my Java Service. We are thinking of using WireMock to mock upstream services. However, one of our upstream returns a Protobuf (grpc) response and I can&#39;t seem to understand how to mock a gRPC response using WireMock.\r\nI tried to convert the response to byteArray and use that ,however, wiremock fails to deserialize it to Protobuf Java Object.\r\n\r\nWe have a limitation that we can only use 1 mock server since all our upstream requests are forwarded via a servicemesh sidecar running on a fixed port. \r\n\r\nThanks!","title":"How to use WireMock to mock an upstream service with Protobuf (gRPC) response","body":"<p>I am writing integration tests for my Java Service. We are thinking of using WireMock to mock upstream services. However, one of our upstream returns a Protobuf (grpc) response and I can't seem to understand how to mock a gRPC response using WireMock.\nI tried to convert the response to byteArray and use that ,however, wiremock fails to deserialize it to Protobuf Java Object.</p>\n<p>We have a limitation that we can only use 1 mock server since all our upstream requests are forwarded via a servicemesh sidecar running on a fixed port.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","docker","docker-compose","quarkus"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697034421,"post_id":77273854,"comment_id":136229045,"body_markdown":"if you will try to change url from `quarkus.oidc.auth-server-url=http://keycloak_dev:8080/realms/Test` to `quarkus.oidc.auth-server-url=http://keycloak_dev:9090/realms/Test` will it work ?","body":"if you will try to change url from <code>quarkus.oidc.auth-server-url=http:&#47;&#47;keycloak_dev:8080&#47;realms&zwnj;&#8203;&#47;Test</code> to <code>quarkus.oidc.auth-server-url=http:&#47;&#47;keycloak_dev:9090&#47;realms&zwnj;&#8203;&#47;Test</code> will it work ?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697035013,"post_id":77273854,"comment_id":136229180,"body_markdown":"&quot;Status code 404&quot; suggests that the connection from one container to the other is successful (the host name and port are correct) but the URL path is wrong.","body":"&quot;Status code 404&quot; suggests that the connection from one container to the other is successful (the host name and port are correct) but the URL path is wrong."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697035049,"post_id":77273854,"comment_id":136229194,"body_markdown":"@AndreiLisa Connections between containers don&#39;t use `ports:` at all.  If the Keycloak service inside its container is listening on port 8080 then that&#39;s the correct port for the cross-service URL, even if it&#39;s being published to the host on a different port.","body":"@AndreiLisa Connections between containers don&#39;t use <code>ports:</code> at all.  If the Keycloak service inside its container is listening on port 8080 then that&#39;s the correct port for the cross-service URL, even if it&#39;s being published to the host on a different port."},{"owner":{"account_id":29648595,"reputation":1,"user_id":22723067,"display_name":"youssuf khaled"},"score":0,"creation_date":1697037312,"post_id":77273854,"comment_id":136229674,"body_markdown":"@AndreiLisa no it didn&#39;t","body":"@AndreiLisa no it didn&#39;t"},{"owner":{"account_id":29648595,"reputation":1,"user_id":22723067,"display_name":"youssuf khaled"},"score":0,"creation_date":1697037444,"post_id":77273854,"comment_id":136229703,"body_markdown":"@DavidMaze what about the client problem I can make the same exact request with the same url in the command line with the curl and it works but i cant through my backend, you can see the log request done by the client and the one done by the curl","body":"@DavidMaze what about the client problem I can make the same exact request with the same url in the command line with the curl and it works but i cant through my backend, you can see the log request done by the client and the one done by the curl"}],"answers":[{"tags":[],"owner":{"account_id":29648595,"reputation":1,"user_id":22723067,"display_name":"youssuf khaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697137515,"creation_date":1697137212,"answer_id":77283208,"question_id":77273854,"body_markdown":"The solution to the issue is to change the service name in the Docker Compose file from `keycloak_dev` to `keycloackdev`, removing the underscore.\r\nI found it from this answer: https://stackoverflow.com/a/76991211/22723067","title":"I have two services, both running within a Docker Compose setup and connected to the same network, but they can&#39;t establish a connection","body":"<p>The solution to the issue is to change the service name in the Docker Compose file from <code>keycloak_dev</code> to <code>keycloackdev</code>, removing the underscore.\nI found it from this answer: <a href=\"https://stackoverflow.com/a/76991211/22723067\">https://stackoverflow.com/a/76991211/22723067</a></p>\n"}],"owner":{"account_id":29648595,"reputation":1,"user_id":22723067,"display_name":"youssuf khaled"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697137515,"creation_date":1697033438,"question_id":77273854,"body_markdown":"Connection refused when sending http request from container to another container in the same network\r\n```\r\n jakarta.ws.rs.ProcessingException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:80 \r\n```\r\n\r\nHere is the docker compose configurations:\r\n```\r\nservices:\r\n  keycloak_dev:\r\n    image: quay.io/keycloak/keycloak:latest\r\n    container_name: keycloak_dev\r\n    ports:\r\n      - &quot;9090:8080&quot;\r\n    environment:\r\n      - KEYCLOAK_ADMIN=test\r\n      - KEYCLOAK_ADMIN_PASSWORD=test\r\n\r\n    networks:\r\n      - network1\r\n    command: &quot;start-dev&quot;\r\n  backend:\r\n    image: test-app\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - keycloak_dev\r\n    networks:\r\n      - network1\r\nnetworks:\r\n  network1:\r\n    name: quarkus-network\r\n    driver: bridge\r\n```\r\nHere is my application.properties: \r\n```\r\nquarkus.oidc.auth-server-url=http://keycloak_dev:8080/realms/Test\r\nkeycloak-client/mp-rest/url=http://keycloak_dev:8080\r\n\r\n```\r\nHere is my KeycloakClient in the backen service:\r\n```\r\n@RegisterRestClient(configKey = &quot;keycloak-client&quot;)\r\n@RegisterProvider(RequestLoggingFilter.class)\r\npublic interface KeycloakClient {\r\n\r\n    @POST\r\n    @Path(&quot;/realms/{realm}/protocol/openid-connect/token&quot;)\r\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\r\n    AccessTokenResponse login(\r\n            @PathParam(&quot;realm&quot;) String realm,\r\n            MultivaluedMap&lt;String, String&gt; formParams\r\n    );\r\n```\r\n When I print the request from RequestLoggingFilter:\r\n```\r\n2023-10-11 12:40:09 test-service-backend-1  | Requesting POST http://keycloak_dev:8080/realms/Test/protocol/openid-connect/token\r\n2023-10-11 12:40:09 test-service-backend-1  | Content-Type: [application/x-www-form-urlencoded]\r\n2023-10-11 12:40:09 test-service-backend-1  | User-Agent: [Resteasy Reactive Client]\r\n2023-10-11 12:40:09 test-service-backend-1  | Request Entity: {password=[test], grant_type=[password], client_secret=[secret], client_id=[quarkus], username=[test]}\r\n```\r\nThe error of Keycloak Client\r\n```\r\njakarta.ws.rs.ProcessingException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:80 \r\n```\r\n\r\n\r\nThe error of oidc:\r\n```\r\n(vert.x-eventloop-thread-1) Discovery has failed, status code: 404\r\n2023-10-11 10:29:51 test-service-backend-1  | 2023-10-11 07:29:51,275 WARN  [io.qua.oid.com.run.OidcCommonUtils] (vert.x-eventloop-thread-1) OIDC Server is not available:: io.quarkus.oidc.common.runtime.OidcEndpointAccessException\r\n 2023-10-11 10:29:52,155 WARN  [io.qua.oid.run.OidcRecorder] (vert.x-eventloop-thread-1) OIDC server is not available at the &#39;http://keycloak_dev:8080/realms/Test&#39; URL. Please make sure it is correct.\r\n```\r\n\r\nMy trials:\r\n\r\n1. I tried changing the hostname keycloak_dev into localhost and it didn&#39;t work\r\n2. I tried to open the command line and make an HTTP request to the Keycloak server from the backend container shell and see if it resolves correctly: by these commands:\r\n     - docker exec -it test-service-backend-1 sh\r\n     - curl -i keycloak_dev:8080\r\nand the result was HTTP 200 OK, and I tried a POST to the keycloak server and it worked successfully with the expected response\r\n3. I tried a completely new service that only had a GET endpoint returning a String, and I replaced it with the Keycloak service to test if it could establish a connection with my backend service. However, it couldn&#39;t.\r\n\r\n\r\nHint: The backend is a quarkus service\r\n\r\n","title":"I have two services, both running within a Docker Compose setup and connected to the same network, but they can&#39;t establish a connection","body":"<p>Connection refused when sending http request from container to another container in the same network</p>\n<pre><code> jakarta.ws.rs.ProcessingException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:80 \n</code></pre>\n<p>Here is the docker compose configurations:</p>\n<pre><code>services:\n  keycloak_dev:\n    image: quay.io/keycloak/keycloak:latest\n    container_name: keycloak_dev\n    ports:\n      - &quot;9090:8080&quot;\n    environment:\n      - KEYCLOAK_ADMIN=test\n      - KEYCLOAK_ADMIN_PASSWORD=test\n\n    networks:\n      - network1\n    command: &quot;start-dev&quot;\n  backend:\n    image: test-app\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - keycloak_dev\n    networks:\n      - network1\nnetworks:\n  network1:\n    name: quarkus-network\n    driver: bridge\n</code></pre>\n<p>Here is my application.properties:</p>\n<pre><code>quarkus.oidc.auth-server-url=http://keycloak_dev:8080/realms/Test\nkeycloak-client/mp-rest/url=http://keycloak_dev:8080\n\n</code></pre>\n<p>Here is my KeycloakClient in the backen service:</p>\n<pre><code>@RegisterRestClient(configKey = &quot;keycloak-client&quot;)\n@RegisterProvider(RequestLoggingFilter.class)\npublic interface KeycloakClient {\n\n    @POST\n    @Path(&quot;/realms/{realm}/protocol/openid-connect/token&quot;)\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n    AccessTokenResponse login(\n            @PathParam(&quot;realm&quot;) String realm,\n            MultivaluedMap&lt;String, String&gt; formParams\n    );\n</code></pre>\n<p>When I print the request from RequestLoggingFilter:</p>\n<pre><code>2023-10-11 12:40:09 test-service-backend-1  | Requesting POST http://keycloak_dev:8080/realms/Test/protocol/openid-connect/token\n2023-10-11 12:40:09 test-service-backend-1  | Content-Type: [application/x-www-form-urlencoded]\n2023-10-11 12:40:09 test-service-backend-1  | User-Agent: [Resteasy Reactive Client]\n2023-10-11 12:40:09 test-service-backend-1  | Request Entity: {password=[test], grant_type=[password], client_secret=[secret], client_id=[quarkus], username=[test]}\n</code></pre>\n<p>The error of Keycloak Client</p>\n<pre><code>jakarta.ws.rs.ProcessingException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:80 \n</code></pre>\n<p>The error of oidc:</p>\n<pre><code>(vert.x-eventloop-thread-1) Discovery has failed, status code: 404\n2023-10-11 10:29:51 test-service-backend-1  | 2023-10-11 07:29:51,275 WARN  [io.qua.oid.com.run.OidcCommonUtils] (vert.x-eventloop-thread-1) OIDC Server is not available:: io.quarkus.oidc.common.runtime.OidcEndpointAccessException\n 2023-10-11 10:29:52,155 WARN  [io.qua.oid.run.OidcRecorder] (vert.x-eventloop-thread-1) OIDC server is not available at the 'http://keycloak_dev:8080/realms/Test' URL. Please make sure it is correct.\n</code></pre>\n<p>My trials:</p>\n<ol>\n<li>I tried changing the hostname keycloak_dev into localhost and it didn't work</li>\n<li>I tried to open the command line and make an HTTP request to the Keycloak server from the backend container shell and see if it resolves correctly: by these commands:\n<ul>\n<li>docker exec -it test-service-backend-1 sh</li>\n<li>curl -i keycloak_dev:8080\nand the result was HTTP 200 OK, and I tried a POST to the keycloak server and it worked successfully with the expected response</li>\n</ul>\n</li>\n<li>I tried a completely new service that only had a GET endpoint returning a String, and I replaced it with the Keycloak service to test if it could establish a connection with my backend service. However, it couldn't.</li>\n</ol>\n<p>Hint: The backend is a quarkus service</p>\n"},{"tags":["java","arrays","search","indexing"],"comments":[{"owner":{"account_id":280439,"reputation":48160,"user_id":576139,"accept_rate":100,"display_name":"Chris Eberle"},"score":16,"creation_date":1306720650,"post_id":6171663,"comment_id":7174753,"body_markdown":"Binary search will never work on an unsorted array.","body":"Binary search will never work on an unsorted array."},{"owner":{"account_id":761513,"reputation":981,"user_id":775629,"display_name":"Jeomark"},"score":0,"creation_date":1306720779,"post_id":6171663,"comment_id":7174760,"body_markdown":"Then can you suggest me something, how should i do it. Because if i sort the array, i loose track of indexes, and i need to know which index the value came from??","body":"Then can you suggest me something, how should i do it. Because if i sort the array, i loose track of indexes, and i need to know which index the value came from??"},{"owner":{"account_id":761513,"reputation":981,"user_id":775629,"display_name":"Jeomark"},"score":0,"creation_date":1306721437,"post_id":6171663,"comment_id":7174833,"body_markdown":"EDIT: i forgot to add, i need to find array index for double values as well.","body":"EDIT: i forgot to add, i need to find array index for double values as well."},{"owner":{"account_id":225030,"reputation":918,"user_id":485274,"accept_rate":73,"display_name":"Jamie Curtis"},"score":1,"creation_date":1306721505,"post_id":6171663,"comment_id":7174843,"body_markdown":"If you don&#39;t want to sort the array, just use a simple for loop to find the value.","body":"If you don&#39;t want to sort the array, just use a simple for loop to find the value."},{"owner":{"display_name":"user166390"},"score":2,"creation_date":1306721534,"post_id":6171663,"comment_id":7174848,"body_markdown":"It is generally good to read documentation of functions :) From `binarySearch`: &quot;Searches the specified array of ... for the specified value using the binary search algorithm. **The array must be sorted** (as by the sort(long[]) method) prior to making this call. *If it is not sorted, the results are undefined.* ...&quot;","body":"It is generally good to read documentation of functions :) From <code>binarySearch</code>: &quot;Searches the specified array of ... for the specified value using the binary search algorithm. <b>The array must be sorted</b> (as by the sort(long[]) method) prior to making this call. <i>If it is not sorted, the results are undefined.</i> ...&quot;"},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1385380208,"post_id":6171663,"comment_id":30104016,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/3384203/finding-an-element-in-an-array-in-java","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3384203/finding-an-element-in-an-array-in-java\" title=\"finding an element in an array in java\">stackoverflow.com/questions/3384203/&hellip;</a>"},{"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"score":0,"creation_date":1453958501,"post_id":6171663,"comment_id":57830889,"body_markdown":"You need to have the array sorted to apply binary search.","body":"You need to have the array sorted to apply binary search."}],"answers":[{"tags":[],"owner":{"account_id":4899,"reputation":103686,"user_id":7595,"accept_rate":70,"display_name":"Pablo Fernandez"},"down_vote_count":22,"up_vote_count":169,"is_accepted":false,"score":147,"last_activity_date":1458139429,"creation_date":1306720669,"answer_id":6171675,"question_id":6171663,"body_markdown":"\r\n\r\n    Integer[] array = {1,2,3,4,5,6};\r\n    \r\n    Arrays.asList(array).indexOf(4);\r\n\r\nNote that this solution is threadsafe because it creates a new object of type List&lt;Integer&gt;. \r\n\r\nAlso you don&#39;t want to invoke this in a loop or something like that since you would be creating a new object every time","title":"How to find the index of an element in an int array?","body":"<pre><code>Integer[] array = {1,2,3,4,5,6};\n\nArrays.asList(array).indexOf(4);\n</code></pre>\n\n<p>Note that this solution is threadsafe because it creates a new object of type List. </p>\n\n<p>Also you don't want to invoke this in a loop or something like that since you would be creating a new object every time</p>\n"},{"tags":[],"owner":{"account_id":324523,"reputation":13401,"user_id":645132,"accept_rate":91,"display_name":"agmcleod"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1639396797,"creation_date":1306720853,"answer_id":6171684,"question_id":6171663,"body_markdown":"You could convert it to a list, then use the indexOf method:\r\n\r\n    Arrays.asList(array).indexOf(1); \r\n\r\nhttp://download.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#asList(T...)\r\nhttp://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html#indexOf(java.lang.Object)","title":"How to find the index of an element in an int array?","body":"<p>You could convert it to a list, then use the indexOf method:</p>\n<pre><code>Arrays.asList(array).indexOf(1); \n</code></pre>\n<p><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#asList(T...)</a>\n<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html#indexOf(java.lang.Object)\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html#indexOf(java.lang.Object)</a></p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306734653,"creation_date":1306720911,"answer_id":6171688,"question_id":6171663,"body_markdown":"You need to sort values before using binary search. Otherwise, the manual way is to try all ints in your tab.\r\n\r\n    public int getIndexOf( int toSearch, int[] tab )\r\n    {\r\n      for( int i=0; i&lt; tab.length ; i ++ )\r\n        if( tab[ i ] == toSearch)\r\n         return i;\r\n\r\n      return -1;\r\n    }//met\r\n\r\nAn alternative method could be to map all index for each value in a map&lt;Integer, Integer&gt;. \r\n\r\n    tab[ index ] = value;\r\n    if( map.get( value) == null || map.get( value) &gt; index )\r\n        map.put( value, index );\r\n\r\nand then map.get(value) to get the index.\r\n\r\nRegards,\r\nSt&#233;phane\r\n\r\n@pst, thanks for your comments. Can you post an other alternative method ?","title":"How to find the index of an element in an int array?","body":"<p>You need to sort values before using binary search. Otherwise, the manual way is to try all ints in your tab.</p>\n\n<pre><code>public int getIndexOf( int toSearch, int[] tab )\n{\n  for( int i=0; i&lt; tab.length ; i ++ )\n    if( tab[ i ] == toSearch)\n     return i;\n\n  return -1;\n}//met\n</code></pre>\n\n<p>An alternative method could be to map all index for each value in a map. </p>\n\n<pre><code>tab[ index ] = value;\nif( map.get( value) == null || map.get( value) &gt; index )\n    map.put( value, index );\n</code></pre>\n\n<p>and then map.get(value) to get the index.</p>\n\n<p>Regards,\nStéphane</p>\n\n<p>@pst, thanks for your comments. Can you post an other alternative method ?</p>\n"},{"tags":[],"owner":{"account_id":225030,"reputation":918,"user_id":485274,"accept_rate":73,"display_name":"Jamie Curtis"},"down_vote_count":4,"up_vote_count":23,"is_accepted":false,"score":19,"last_activity_date":1306721673,"creation_date":1306720919,"answer_id":6171689,"question_id":6171663,"body_markdown":"A look at the [API][1] and it says you have to sort the array first \r\n\r\nSo:\r\n\r\n    Arrays.sort(array);\r\n    Arrays.binarySearch(array, value);\r\n\r\nIf you don&#39;t want to sort the array:\r\n\r\n    public int find(double[] array, double value) {\r\n        for(int i=0; i&lt;array.length; i++) \r\n             if(array[i] == value)\r\n                 return i;\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28int%5B%5D,%20int%29\r\n","title":"How to find the index of an element in an int array?","body":"<p>A look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28int%5B%5D,%20int%29\" rel=\"noreferrer\">API</a> and it says you have to sort the array first </p>\n\n<p>So:</p>\n\n<pre><code>Arrays.sort(array);\nArrays.binarySearch(array, value);\n</code></pre>\n\n<p>If you don't want to sort the array:</p>\n\n<pre><code>public int find(double[] array, double value) {\n    for(int i=0; i&lt;array.length; i++) \n         if(array[i] == value)\n             return i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1433209395,"creation_date":1350157576,"answer_id":12876378,"question_id":6171663,"body_markdown":"Another option if you are using Guava Collections is [Ints.indexOf][1]\r\n\r\n    // Perfect storm:\r\n    final int needle = 42;\r\n    final int[] haystack = [1, 2, 3, 42];\r\n\r\n    // Spoiler alert: index == 3\r\n    final int index = Ints.indexOf(haystack, needle);\r\n\r\nThis is a great choice when space, time and code reuse are at a premium. It is also very terse.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/primitives/Ints.html#indexOf%28int%5B%5D,%20int%29 &quot;Ints.indexOf&quot;","title":"How to find the index of an element in an int array?","body":"<p>Another option if you are using Guava Collections is <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/primitives/Ints.html#indexOf%28int%5B%5D,%20int%29\">Ints.indexOf</a></p>\n\n<pre><code>// Perfect storm:\nfinal int needle = 42;\nfinal int[] haystack = [1, 2, 3, 42];\n\n// Spoiler alert: index == 3\nfinal int index = Ints.indexOf(haystack, needle);\n</code></pre>\n\n<p>This is a great choice when space, time and code reuse are at a premium. It is also very terse.</p>\n"},{"tags":[],"owner":{"account_id":1951887,"reputation":172,"user_id":1755797,"accept_rate":57,"display_name":"Andre"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385407729,"creation_date":1367668018,"answer_id":16373934,"question_id":6171663,"body_markdown":"You can do it like this:\r\n\r\n     public class Test {\r\n\r\n\tpublic static int Tab[]  = {33,44,55,66,7,88,44,11,23,45,32,12,95};\r\n\tpublic static int search = 23;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlong stop = 0;\r\n\t\tlong time = 0;\r\n\t\tlong start = 0;\r\n\t\tstart = System.nanoTime();\r\n\t\tint index = getIndexOf(search,Tab);\r\n\t\tstop = System.nanoTime();\r\n\t\ttime = stop - start;\r\n\t\tSystem.out.println(&quot;equal to took in nano seconds =&quot;+time);\r\n\t\tSystem.out.println(&quot;Index  of searched value is: &quot;+index);\r\n\t\tSystem.out.println(&quot;De value of Tab with searched index is: &quot;+Tab[index]);\r\n\t\tSystem.out.println(&quot;==========================================================&quot;);\r\n\t\tstart = System.nanoTime();\r\n\t\tint Bindex = bitSearch(search,Tab);\r\n\t\tstop = System.nanoTime();\r\n\t\ttime = stop - start;\r\n\t\tSystem.out.println(&quot;Binary search took nano seconds =&quot;+time);\r\n\t\tSystem.out.println(&quot;Index  of searched value is: &quot;+Bindex);\r\n\t\tSystem.out.println(&quot;De value of Tab with searched index is: &quot;+Tab[Bindex]);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static int getIndexOf( int toSearch, int[] tab ){\r\n\t     int i = 0;\r\n\t     while(!(tab[i] == toSearch) )\r\n\t     {  i++; }\r\n\t       return i; // or return tab[i];\r\n\t   }\r\n\tpublic static int bitSearch(int toSearch, int[] tab){\r\n\t\tint i = 0;\r\n\t\tfor(;(toSearch^tab[i])!=0;i++){\r\n\t\t}\r\n\t\treturn i;\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nAdded a XOR :)","title":"How to find the index of an element in an int array?","body":"<p>You can do it like this:</p>\n\n<pre><code> public class Test {\n\npublic static int Tab[]  = {33,44,55,66,7,88,44,11,23,45,32,12,95};\npublic static int search = 23;\n\npublic static void main(String[] args) {\n    long stop = 0;\n    long time = 0;\n    long start = 0;\n    start = System.nanoTime();\n    int index = getIndexOf(search,Tab);\n    stop = System.nanoTime();\n    time = stop - start;\n    System.out.println(\"equal to took in nano seconds =\"+time);\n    System.out.println(\"Index  of searched value is: \"+index);\n    System.out.println(\"De value of Tab with searched index is: \"+Tab[index]);\n    System.out.println(\"==========================================================\");\n    start = System.nanoTime();\n    int Bindex = bitSearch(search,Tab);\n    stop = System.nanoTime();\n    time = stop - start;\n    System.out.println(\"Binary search took nano seconds =\"+time);\n    System.out.println(\"Index  of searched value is: \"+Bindex);\n    System.out.println(\"De value of Tab with searched index is: \"+Tab[Bindex]);\n}\n\n\n\npublic static int getIndexOf( int toSearch, int[] tab ){\n     int i = 0;\n     while(!(tab[i] == toSearch) )\n     {  i++; }\n       return i; // or return tab[i];\n   }\npublic static int bitSearch(int toSearch, int[] tab){\n    int i = 0;\n    for(;(toSearch^tab[i])!=0;i++){\n    }\n    return i;\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Added a XOR :)</p>\n"},{"tags":[],"owner":{"account_id":2610832,"reputation":6512,"user_id":2260963,"display_name":"Manmohan Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372946686,"creation_date":1372946686,"answer_id":17472360,"question_id":6171663,"body_markdown":"\r\n\t\r\n\r\n    /**\r\n    \t * Method to get the index of the given item from the list\r\n    \t * @param stringArray\r\n    \t * @param name\r\n    \t * @return index of the item if item exists else return -1\r\n    \t */\r\n    \tpublic static int getIndexOfItemInArray(String[] stringArray, String name) {\r\n    \t\tif (stringArray != null &amp;&amp; stringArray.length &gt; 0) {\r\n    \t\t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(stringArray));\r\n    \t\t\tint index = list.indexOf(name);\r\n    \t\t\tlist.clear();\r\n    \t\t\treturn index;\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}","title":"How to find the index of an element in an int array?","body":"<pre><code>/**\n     * Method to get the index of the given item from the list\n     * @param stringArray\n     * @param name\n     * @return index of the item if item exists else return -1\n     */\n    public static int getIndexOfItemInArray(String[] stringArray, String name) {\n        if (stringArray != null &amp;&amp; stringArray.length &gt; 0) {\n            ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(stringArray));\n            int index = list.indexOf(name);\n            list.clear();\n            return index;\n        }\n        return -1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6962250,"reputation":1073,"user_id":5341328,"accept_rate":100,"display_name":"Dalvinder Singh"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1697137514,"creation_date":1449647696,"answer_id":34173462,"question_id":6171663,"body_markdown":"Copy this method into your class \r\n\r\n     public int getArrayIndex(int[] arr,int value) {\r\n            int k = -1;\r\n            for(int i = 0;i &lt; arr.length; i++){\r\n                if(arr[i] == value){\r\n                    k = i;\r\n                    break;\r\n                }\r\n            }\r\n        return k;\r\n    }\r\nCall this method with pass two perameters Array and value and store its return value in a integer variable.\r\n\r\n    int indexNum = getArrayIndex(array,value);\r\nThank you","title":"How to find the index of an element in an int array?","body":"<p>Copy this method into your class</p>\n<pre><code> public int getArrayIndex(int[] arr,int value) {\n        int k = -1;\n        for(int i = 0;i &lt; arr.length; i++){\n            if(arr[i] == value){\n                k = i;\n                break;\n            }\n        }\n    return k;\n}\n</code></pre>\n<p>Call this method with pass two perameters Array and value and store its return value in a integer variable.</p>\n<pre><code>int indexNum = getArrayIndex(array,value);\n</code></pre>\n<p>Thank you</p>\n"},{"tags":[],"owner":{"account_id":472023,"reputation":3798,"user_id":880223,"display_name":"Gil SH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471437254,"creation_date":1471437254,"answer_id":38996807,"question_id":6171663,"body_markdown":"Simple:\r\n\r\n    public int getArrayIndex(int[] arr,int value) {\r\n        for(int i=0;i&lt;arr.length;i++)\r\n            if(arr[i]==value) return i;\r\n        return -1;\r\n    }\r\n\r\n","title":"How to find the index of an element in an int array?","body":"<p>Simple:</p>\n\n<pre><code>public int getArrayIndex(int[] arr,int value) {\n    for(int i=0;i&lt;arr.length;i++)\n        if(arr[i]==value) return i;\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12216941,"reputation":97,"user_id":8917070,"display_name":"madbeans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510282219,"creation_date":1510281027,"answer_id":47214777,"question_id":6171663,"body_markdown":"In the main method using for loops:\r\n-the third for loop in my example is the answer to this question.\r\n-in my example I made an array of 20 random integers, assigned a variable the smallest number, and stopped the loop when the location of the array reached the smallest value while counting the number of loops.\r\n\r\n    import java.util.Random;\r\n    public class scratch {\r\n        public static void main(String[] args){\r\n            Random rnd = new Random();\r\n            int randomIntegers[] = new int[20];\r\n            double smallest = randomIntegers[0];\r\n            int location = 0;\r\n            \r\n            for(int i = 0; i &lt; randomIntegers.length; i++){             // fills array with random integers\r\n                randomIntegers[i] = rnd.nextInt(99) + 1;\r\n                System.out.println(&quot; --&quot; + i + &quot;-- &quot; + randomIntegers[i]);\r\n            }\r\n            \r\n            for (int i = 0; i &lt; randomIntegers.length; i++){            // get the location of smallest number in the array \r\n                if(randomIntegers[i] &lt; smallest){\r\n                    smallest = randomIntegers[i];                 \r\n                }\r\n            }\r\n            \r\n            for (int i = 0; i &lt; randomIntegers.length; i++){                \r\n                if(randomIntegers[i] == smallest){                      //break the loop when array location value == &lt;smallest&gt;\r\n                    break;\r\n                }\r\n                location ++;\r\n            }\r\n            System.out.println(&quot;location: &quot; + location + &quot;\\nsmallest: &quot; + smallest);\r\n        }\r\n    }\r\n\r\nCode outputs all the numbers and their locations, and the location of the smallest number followed by the smallest number.","title":"How to find the index of an element in an int array?","body":"<p>In the main method using for loops:\n-the third for loop in my example is the answer to this question.\n-in my example I made an array of 20 random integers, assigned a variable the smallest number, and stopped the loop when the location of the array reached the smallest value while counting the number of loops.</p>\n\n<pre><code>import java.util.Random;\npublic class scratch {\n    public static void main(String[] args){\n        Random rnd = new Random();\n        int randomIntegers[] = new int[20];\n        double smallest = randomIntegers[0];\n        int location = 0;\n\n        for(int i = 0; i &lt; randomIntegers.length; i++){             // fills array with random integers\n            randomIntegers[i] = rnd.nextInt(99) + 1;\n            System.out.println(\" --\" + i + \"-- \" + randomIntegers[i]);\n        }\n\n        for (int i = 0; i &lt; randomIntegers.length; i++){            // get the location of smallest number in the array \n            if(randomIntegers[i] &lt; smallest){\n                smallest = randomIntegers[i];                 \n            }\n        }\n\n        for (int i = 0; i &lt; randomIntegers.length; i++){                \n            if(randomIntegers[i] == smallest){                      //break the loop when array location value == &lt;smallest&gt;\n                break;\n            }\n            location ++;\n        }\n        System.out.println(\"location: \" + location + \"\\nsmallest: \" + smallest);\n    }\n}\n</code></pre>\n\n<p>Code outputs all the numbers and their locations, and the location of the smallest number followed by the smallest number.</p>\n"},{"tags":[],"owner":{"account_id":8937752,"reputation":85,"user_id":6668010,"display_name":"Deep Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523634579,"creation_date":1523634579,"answer_id":49820858,"question_id":6171663,"body_markdown":"In case anyone is still looking for the answer-\r\n\r\n 1. You can use ArrayUtils.indexOf() from the [Apache Commons Library][1].\r\n\r\n 2. If you are using Java 8 you can also use the Strean API:\r\n\r\n        public static int indexOf(int[] array, int valueToFind) {\r\n            if (array == null) {\r\n                return -1;\r\n            }\r\n            return IntStream.range(0, array.length)\r\n                    .filter(i -&gt; valueToFind == array[i])\r\n                    .findFirst()\r\n                    .orElse(-1);\r\n        }\r\n\r\n    \r\n      [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#indexOf(int[],%20int)","title":"How to find the index of an element in an int array?","body":"<p>In case anyone is still looking for the answer-</p>\n\n<ol>\n<li><p>You can use ArrayUtils.indexOf() from the [Apache Commons Library][1].</p></li>\n<li><p>If you are using Java 8 you can also use the Strean API:</p>\n\n<pre><code>public static int indexOf(int[] array, int valueToFind) {\n    if (array == null) {\n        return -1;\n    }\n    return IntStream.range(0, array.length)\n            .filter(i -&gt; valueToFind == array[i])\n            .findFirst()\n            .orElse(-1);\n}\n</code></pre>\n\n<p>[1]: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#indexOf(int[],%20int)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#indexOf(int[],%20int)</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13625136,"reputation":1,"user_id":9828600,"display_name":"vani"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1526996567,"creation_date":1526992428,"answer_id":50467843,"question_id":6171663,"body_markdown":"    Integer[] array = {1, 2, 3, 4, 5, 6};\r\n    \r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        if (array[i] == 4) {\r\n            system.out.println(i);\r\n            break;\r\n        }\r\n    }","title":"How to find the index of an element in an int array?","body":"<pre><code>Integer[] array = {1, 2, 3, 4, 5, 6};\n\nfor (int i = 0; i &lt; array.length; i++) {\n    if (array[i] == 4) {\n        system.out.println(i);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1612597113,"creation_date":1537237294,"answer_id":52378010,"question_id":6171663,"body_markdown":"You can use modern Java to solve this problem. Please use the code below:\r\n\r\n    static int findIndexOf(int V, int[] arr) {\r\n        return IntStream.range(0, arr.length)\r\n                        .filter(i-&gt;arr[i]==V)\r\n                        .findFirst()\r\n                        .getAsInt();\r\n    }","title":"How to find the index of an element in an int array?","body":"<p>You can use modern Java to solve this problem. Please use the code below:</p>\n<pre><code>static int findIndexOf(int V, int[] arr) {\n    return IntStream.range(0, arr.length)\n                    .filter(i-&gt;arr[i]==V)\n                    .findFirst()\n                    .getAsInt();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1860439,"reputation":1,"user_id":1685113,"display_name":"Rahul9191"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540203255,"creation_date":1540203255,"answer_id":52926928,"question_id":6171663,"body_markdown":"\tstatic int[] getIndex(int[] data, int number) {\r\n\t\tint[] positions = new int[data.length];\r\n\t\tif (data.length &gt; 0) {\r\n\t\t\tint counter = 0;\r\n\t\t\tfor(int i =0; i &lt; data.length; i++) {\r\n\t\t\t\tif(data[i] == number){\r\n\t\t\t\t\tpositions[counter] = i;\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn positions;\r\n\t}","title":"How to find the index of an element in an int array?","body":"<pre><code>static int[] getIndex(int[] data, int number) {\n    int[] positions = new int[data.length];\n    if (data.length &gt; 0) {\n        int counter = 0;\n        for(int i =0; i &lt; data.length; i++) {\n            if(data[i] == number){\n                positions[counter] = i;\n                counter++;\n            }\n        }\n    }\n    return positions;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545236713,"creation_date":1545236713,"answer_id":53855335,"question_id":6171663,"body_markdown":"\t\tInteger[] arr = { 0, 1, 1, 2, 3, 5, 8, 13, 21 };\r\n\t\tList&lt;Integer&gt; arrlst = Arrays.asList(arr);\r\n\t\tSystem.out.println(arrlst.lastIndexOf(1));","title":"How to find the index of an element in an int array?","body":"<pre><code>    Integer[] arr = { 0, 1, 1, 2, 3, 5, 8, 13, 21 };\n    List&lt;Integer&gt; arrlst = Arrays.asList(arr);\n    System.out.println(arrlst.lastIndexOf(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2767646,"reputation":4657,"user_id":2382964,"accept_rate":67,"display_name":"Tushar Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570269804,"creation_date":1570269804,"answer_id":58247247,"question_id":6171663,"body_markdown":"**Binary search:** Binary search can also be used to find the index of the array element in an array. But the binary search can only be used if the array is sorted. Java provides us with an inbuilt function which can be found in the Arrays library of Java which will rreturn the index if the element is present, else it returns -1. The complexity will be O(log n).\r\nBelow is the implementation of Binary search.\r\n\r\n    public static int findIndex(int arr[], int t) { \r\n       int index = Arrays.binarySearch(arr, t); \r\n       return (index &lt; 0) ? -1 : index; \r\n    } ","title":"How to find the index of an element in an int array?","body":"<p><strong>Binary search:</strong> Binary search can also be used to find the index of the array element in an array. But the binary search can only be used if the array is sorted. Java provides us with an inbuilt function which can be found in the Arrays library of Java which will rreturn the index if the element is present, else it returns -1. The complexity will be O(log n).\nBelow is the implementation of Binary search.</p>\n\n<pre><code>public static int findIndex(int arr[], int t) { \n   int index = Arrays.binarySearch(arr, t); \n   return (index &lt; 0) ? -1 : index; \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16633788,"reputation":99,"user_id":12021012,"display_name":"ashwini chaudhari"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1576518272,"creation_date":1576518146,"answer_id":59361760,"question_id":6171663,"body_markdown":"    ArrayUtils.indexOf(array, value);\r\n    Ints.indexOf(array, value);\r\n    Arrays.asList(array).indexOf(value);","title":"How to find the index of an element in an int array?","body":"<pre><code>ArrayUtils.indexOf(array, value);\nInts.indexOf(array, value);\nArrays.asList(array).indexOf(value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18431278,"reputation":75,"user_id":13426335,"display_name":"Rafał Pawłowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592997198,"creation_date":1592997198,"answer_id":62553734,"question_id":6171663,"body_markdown":"The easiest way is to iterate. For example we want to find the minimum value of array and it&#39;s index:\r\n\r\n    public static Pair&lt;Integer, Integer&gt; getMinimumAndIndex(int[] array) {\r\n            int min = array[0];\r\n            int index = 0;\r\n            for (int i = 1; i &lt; array.length; i++) {\r\n                if (array[i] &lt; min) {\r\n                    min = array[i];\r\n                    index = i;\r\n                }\r\n    \r\n                return new Pair&lt;min, index&gt;;\r\n\r\nThis way you test all array values and if some of them is minimum you also know minimums index. \r\nIt can work the same with searching some value:\r\n\r\n    public static int indexOfNumber(int[] array) {\r\n            int index = 0;\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] == 77) {        // here you pass some value for example 77\r\n                    index = i;\r\n                }\r\n            }\r\n            return index;\r\n        }","title":"How to find the index of an element in an int array?","body":"<p>The easiest way is to iterate. For example we want to find the minimum value of array and it's index:</p>\n<pre><code>public static Pair&lt;Integer, Integer&gt; getMinimumAndIndex(int[] array) {\n        int min = array[0];\n        int index = 0;\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &lt; min) {\n                min = array[i];\n                index = i;\n            }\n\n            return new Pair&lt;min, index&gt;;\n</code></pre>\n<p>This way you test all array values and if some of them is minimum you also know minimums index.\nIt can work the same with searching some value:</p>\n<pre><code>public static int indexOfNumber(int[] array) {\n        int index = 0;\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == 77) {        // here you pass some value for example 77\n                index = i;\n            }\n        }\n        return index;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667061186,"creation_date":1664487482,"answer_id":73901889,"question_id":6171663,"body_markdown":"I see a lot of solutions here that are not working. The most upvoted solution used an array of **Integer**, instead of offering a solution to an **int** array. It is as simple as this:\r\n\r\n    Arrays.stream(yourArray).boxed().toList().indexOf(number)","title":"How to find the index of an element in an int array?","body":"<p>I see a lot of solutions here that are not working. The most upvoted solution used an array of <strong>Integer</strong>, instead of offering a solution to an <strong>int</strong> array. It is as simple as this:</p>\n<pre><code>Arrays.stream(yourArray).boxed().toList().indexOf(number)\n</code></pre>\n"}],"owner":{"account_id":761513,"reputation":981,"user_id":775629,"display_name":"Jeomark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618788,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"answer_count":19,"score":98,"last_activity_date":1697137514,"creation_date":1306720501,"question_id":6171663,"body_markdown":"How can I find an index of a certain value in a Java array of type `int`?\r\n\r\nI tried using `Arrays.binarySearch` on my unsorted array, it only sometimes gives the correct answer.","title":"How to find the index of an element in an int array?","body":"<p>How can I find an index of a certain value in a Java array of type <code>int</code>?</p>\n\n<p>I tried using <code>Arrays.binarySearch</code> on my unsorted array, it only sometimes gives the correct answer.</p>\n"},{"tags":["java","spring","tomcat","spring-boot"],"comments":[{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1507822134,"post_id":46713392,"comment_id":80373289,"body_markdown":"Hello can you paste your MainClass as well","body":"Hello can you paste your MainClass as well"},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1507823158,"post_id":46713392,"comment_id":80373968,"body_markdown":"`compile fileTree(dir:&quot;lib&quot;, include:&quot;*.jar&quot;)` what is this part for?","body":"<code>compile fileTree(dir:&quot;lib&quot;, include:&quot;*.jar&quot;)</code> what is this part for?"},{"owner":{"account_id":2000492,"reputation":785,"user_id":1791669,"accept_rate":27,"display_name":"Manisha "},"score":0,"creation_date":1507824423,"post_id":46713392,"comment_id":80374711,"body_markdown":"@11thdimension there are some external jar files in lib dir which i need to include in my project. Hence the dependency","body":"@11thdimension there are some external jar files in lib dir which i need to include in my project. Hence the dependency"},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507824860,"post_id":46713392,"comment_id":80374948,"body_markdown":"@Manisha are there multiple versions of `servlet-api.jar` on the application&#39;s runtime classpath?","body":"@Manisha are there multiple versions of <code>servlet-api.jar</code> on the application&#39;s runtime classpath?"},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1507825629,"post_id":46713392,"comment_id":80375398,"body_markdown":"Most likely there&#39;s some `servlet-api ` Jar in the external dependencies which is conflicting with tomcat&#39;s version of `servlet-api`","body":"Most likely there&#39;s some <code>servlet-api </code> Jar in the external dependencies which is conflicting with tomcat&#39;s version of <code>servlet-api</code>"},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1582100183,"post_id":46713392,"comment_id":106655991,"body_markdown":"If you are creating a war file, then you should have marked embedded tomcat as provided. I have written a blog on this sometime back. https://springhow.com/convert-spring-boot-jar-in-to-war/","body":"If you are creating a war file, then you should have marked embedded tomcat as provided. I have written a blog on this sometime back. <a href=\"https://springhow.com/convert-spring-boot-jar-in-to-war/\" rel=\"nofollow noreferrer\">springhow.com/convert-spring-boot-jar-in-to-war</a>"}],"answers":[{"tags":[],"owner":{"account_id":2293754,"reputation":226,"user_id":2015795,"accept_rate":59,"display_name":"Neero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507827231,"creation_date":1507827231,"answer_id":46715050,"question_id":46713392,"body_markdown":"Im not able to comment. So If you are using embedded tomcat you dont need the Tomcat dependency (spring-boot-starter-tomcat) as it is already inbuilt with &quot;spring-boot-starter-web&quot;. Try removing this dependency.","title":"Unable to start embedded tomcat Spring boot","body":"<p>Im not able to comment. So If you are using embedded tomcat you dont need the Tomcat dependency (spring-boot-starter-tomcat) as it is already inbuilt with \"spring-boot-starter-web\". Try removing this dependency.</p>\n"},{"tags":[],"owner":{"account_id":4700821,"reputation":3,"user_id":3804412,"display_name":"MaXi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509621490,"creation_date":1509621490,"answer_id":47074006,"question_id":46713392,"body_markdown":"I had the same problem, solved it by changing of ports.\r\n\r\nWhen I run application as Spring Application, I used normally ports 9000 and 9001 for management, but when I tried to run it on Tomcat, it failed with the same exception you posted. Changing both ports in application.properties to 8080 solved the problem.","title":"Unable to start embedded tomcat Spring boot","body":"<p>I had the same problem, solved it by changing of ports.</p>\n\n<p>When I run application as Spring Application, I used normally ports 9000 and 9001 for management, but when I tried to run it on Tomcat, it failed with the same exception you posted. Changing both ports in application.properties to 8080 solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558425490,"creation_date":1558425490,"answer_id":56233725,"question_id":46713392,"body_markdown":"In my case, I was running this command\r\n\r\n    mvn spring-boot:run -Dmaven.tomcat.port=8081 -Dspring.config.location=file:[Project Root Dir]\\src\\main\\resources -Dspring.profiles.active=dev -DskipTests &gt; log.log\r\n\r\nTurns out I just forgot to add the backslash at the end of\r\n\r\n    \\src\\main\\resources\r\n\r\nhence it can&#39;t find the configuration files.\r\n\r\nThe Fix for me is just that, so I now have the following code.\r\n\r\n    mvn spring-boot:run -Dmaven.tomcat.port=8081 -Dspring.config.location=file:[Project Root Dir]\\src\\main\\resources\\ -Dspring.profiles.active=dev -DskipTests &gt; log.log","title":"Unable to start embedded tomcat Spring boot","body":"<p>In my case, I was running this command</p>\n\n<pre><code>mvn spring-boot:run -Dmaven.tomcat.port=8081 -Dspring.config.location=file:[Project Root Dir]\\src\\main\\resources -Dspring.profiles.active=dev -DskipTests &gt; log.log\n</code></pre>\n\n<p>Turns out I just forgot to add the backslash at the end of</p>\n\n<pre><code>\\src\\main\\resources\n</code></pre>\n\n<p>hence it can't find the configuration files.</p>\n\n<p>The Fix for me is just that, so I now have the following code.</p>\n\n<pre><code>mvn spring-boot:run -Dmaven.tomcat.port=8081 -Dspring.config.location=file:[Project Root Dir]\\src\\main\\resources\\ -Dspring.profiles.active=dev -DskipTests &gt; log.log\n</code></pre>\n"}],"owner":{"account_id":2000492,"reputation":785,"user_id":1791669,"accept_rate":27,"display_name":"Manisha "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697137465,"creation_date":1507821866,"question_id":46713392,"body_markdown":"I&#39;m working on Spring Boot Gradle application. My app is throwing error when i try to run it as a war by doing booRun. The error says : Unable to start embedded tomcat.\r\nThe contents of build.gradle file :\r\n\r\n        group &#39;com.example&#39;\r\n        version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    \r\n    \r\n    bootRepackage {\r\n        mainClass = &#39;com.ex.MainClass&#39;\r\n    }\r\n    \r\n    \r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;propdeps&#39;\r\n    \r\n    war {\r\n        baseName = &#39;abc&#39;\r\n        archiveName &#39;abc.war&#39;\r\n    \r\n    }\r\n    \r\n    repositories{\r\n    //    mavenLocal()\r\n        mavenCentral()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n    \r\n            compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n            compile(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n            compile(&quot;io.springfox:springfox-swagger2:2.7.0&quot;)\r\n            compile(&quot;io.springfox:springfox-swagger-ui:2.7.0&quot;)\r\n            compile fileTree(dir:&quot;lib&quot;, include:&quot;*.jar&quot;)\r\n            compile(&#39;org.springframework.boot:spring-boot-starter-mail&#39;)\r\n            optional(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n            compile(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n            compile &quot;io.springfox:springfox-swagger2:2.7.0&quot;\r\n            compile &#39;io.springfox:springfox-swagger-ui:2.7.0&#39;\r\n            compile(&quot;org.springframework.boot:spring-boot-starter-amqp&quot;)\r\n        }\r\n    \r\n       compileJava.dependsOn(processResources)\r\n\r\nThe whole stack trace is given below :\r\n\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat com.ex.MainClass.main(MainClass.java:38) [main/:na]\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:123) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \t... 8 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardServer[-1]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:344) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \t... 13 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Tomcat]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \t... 17 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:947) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n    \t... 19 common frames omitted\r\n    \r\n    bootRun FAILED\r\n\r\nEDIT : Adding Main Class definition:\r\n\r\n    @SpringBootApplication\r\n    @EnableAsync\r\n    @EnableCaching\r\n    @EnableScheduling\r\n    public class MainClass extends SpringBootServletInitializer {\r\n    \r\n        public static final Logger logger = LoggerFactory.getLogger(MainClass.class);\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(MainClass.class);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainClass.class, args);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nCan anybody please tell me why my app fails to start on embedded tomcat?\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to start embedded tomcat Spring boot","body":"<p>I'm working on Spring Boot Gradle application. My app is throwing error when i try to run it as a war by doing booRun. The error says : Unable to start embedded tomcat.\nThe contents of build.gradle file :</p>\n\n<pre><code>    group 'com.example'\n    version '1.0-SNAPSHOT'\n\n\n\nbootRepackage {\n    mainClass = 'com.ex.MainClass'\n}\n\n\napply plugin: 'war'\napply plugin: 'propdeps'\n\nwar {\n    baseName = 'abc'\n    archiveName 'abc.war'\n\n}\n\nrepositories{\n//    mavenLocal()\n    mavenCentral()\n}\n\n\ndependencies {\n\n        compile(\"org.springframework.boot:spring-boot-starter-web\")\n        compile(\"org.springframework.boot:spring-boot-starter-data-jpa\")\n        compile(\"io.springfox:springfox-swagger2:2.7.0\")\n        compile(\"io.springfox:springfox-swagger-ui:2.7.0\")\n        compile fileTree(dir:\"lib\", include:\"*.jar\")\n        compile('org.springframework.boot:spring-boot-starter-mail')\n        optional(\"org.springframework.boot:spring-boot-configuration-processor\")\n        compile(\"org.springframework.boot:spring-boot-starter-tomcat\")\n        compile \"io.springfox:springfox-swagger2:2.7.0\"\n        compile 'io.springfox:springfox-swagger-ui:2.7.0'\n        compile(\"org.springframework.boot:spring-boot-starter-amqp\")\n    }\n\n   compileJava.dependsOn(processResources)\n</code></pre>\n\n<p>The whole stack trace is given below :</p>\n\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at com.ex.MainClass.main(MainClass.java:38) [main/:na]\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:123) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    ... 8 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardServer[-1]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:344) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    ... 13 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Tomcat]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    ... 15 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    ... 17 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:947) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    ... 19 common frames omitted\n\nbootRun FAILED\n</code></pre>\n\n<p>EDIT : Adding Main Class definition:</p>\n\n<pre><code>@SpringBootApplication\n@EnableAsync\n@EnableCaching\n@EnableScheduling\npublic class MainClass extends SpringBootServletInitializer {\n\n    public static final Logger logger = LoggerFactory.getLogger(MainClass.class);\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(MainClass.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainClass.class, args);\n\n    }\n}\n</code></pre>\n\n<p>Can anybody please tell me why my app fails to start on embedded tomcat?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","reactor-netty"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1697146615,"post_id":77282801,"comment_id":136246853,"body_markdown":"Why do you use a sink to process the data? I&#39;m not sure it&#39;s the cause of the unit test problem, but it&#39;s definitely a wrong way to use Reactor","body":"Why do you use a sink to process the data? I&#39;m not sure it&#39;s the cause of the unit test problem, but it&#39;s definitely a wrong way to use Reactor"},{"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"score":0,"creation_date":1697181950,"post_id":77282801,"comment_id":136250127,"body_markdown":"I have this `connectToWebSocketAndParseMessages ` called from multiple places and I tried to extract it to a class from where I could use this. Hence in an effort to make it generic, I introduced a `sink`. Could you please point out to me the correct way to read from a websocket ? Thanks","body":"I have this <code>connectToWebSocketAndParseMessages </code> called from multiple places and I tried to extract it to a class from where I could use this. Hence in an effort to make it generic, I introduced a <code>sink</code>. Could you please point out to me the correct way to read from a websocket ? Thanks"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1697226348,"post_id":77282801,"comment_id":136258308,"body_markdown":"Ah, sorry, I missed that. Now I see what you&#39;re trying to do.","body":"Ah, sorry, I missed that. Now I see what you&#39;re trying to do."}],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697137421,"creation_date":1697132902,"question_id":77282801,"body_markdown":"In my Java Spring boot application, I am using reactive libraries to connect and stream from a websocket. I have the following dependencies in my `pom.xml` file\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.8&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nMy production code to open a websocket connection looks like \r\n\r\n```\r\n@Autowired private ReactorNettyWebSocketClient client;\r\n\r\n public &lt;T&gt; Flux&lt;T&gt; connectToWebSocketAndParseMessages(\r\n      String websocketUrl, Function&lt;String, T&gt; deserializer) {\r\n    return Flux.create(\r\n        sink -&gt; {\r\n          try {\r\n            client\r\n                .execute(new URI(websocketUrl), getWebSocketHandler(deserializer, sink))\r\n                .retryWhen(getRetrySpec())\r\n                .subscribe(); // Subscribe to start the WebSocket connection\r\n          } catch (URISyntaxException e) {\r\n            sink.error(e);\r\n          }\r\n        });\r\n  }\r\n\r\n  @NotNull\r\n  private &lt;T&gt; WebSocketHandler getWebSocketHandler(\r\n      Function&lt;String, T&gt; deserializer, FluxSink&lt;T&gt; sink) {\r\n    return session -&gt; {\r\n      Flux&lt;WebSocketMessage&gt; messageFlux = session.receive();\r\n      return messageFlux\r\n          .map(\r\n              message -&gt; {\r\n                String messagePayload = message.getPayloadAsText();\r\n                try {\r\n                  T model = deserializer.apply(messagePayload);\r\n                  sink.next(model); // Emit the parsed model\r\n                } catch (Exception e) {\r\n                  sink.error(e); // Handle parsing errors by signaling an error\r\n                }\r\n                return messagePayload;\r\n              })\r\n          .then();\r\n    };\r\n  }\r\n```\r\n\r\nNow, I am trying to unit test the method `connectToWebSocketAndParseMessages` and for this, I mock the `ReactorNettyWebSocketClient` and the session created by the client. My test case looks like\r\n\r\n```\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;)\r\nclass WebSocketGatewayTest {\r\n\r\n  @Autowired private WebSocketGateway webSocketGateway;\r\n\r\n  @MockBean private ReactorNettyWebSocketClient mockClient;\r\n\r\n  @Test\r\n  public void testConnectToWebSocketAndParseMessages1() {\r\n    // Given\r\n    Function&lt;String, Integer&gt; deserializer = Integer::parseInt;\r\n    String websocketUrl = &quot;ws://example.com&quot;;\r\n    WebSocketSession session = mock(WebSocketSession.class);\r\n    WebSocketMessage message1 = mock(WebSocketMessage.class);\r\n    WebSocketMessage message2 = mock(WebSocketMessage.class);\r\n\r\n    when(mockClient.execute(any(URI.class), any()))\r\n        .thenReturn(Flux.just(session).then())\r\n        .thenAnswer(\r\n            invocation -&gt; {\r\n              WebSocketHandler handler = invocation.getArgument(1);\r\n              handler.handle(session); // Simulate WebSocket session handling\r\n              return Mono.empty();\r\n            });\r\n\r\n    when(session.receive()).thenReturn(Flux.just(message1, message2));\r\n    when(message1.getPayloadAsText()).thenReturn(&quot;42&quot;);\r\n    when(message2.getPayloadAsText()).thenReturn(&quot;100&quot;);\r\n\r\n    // When\r\n    Flux&lt;Integer&gt; result =\r\n        webSocketGateway.connectToWebSocketAndParseMessages(websocketUrl, deserializer);\r\n\r\n    // Then\r\n    StepVerifier.create(result).expectNext(42).expectNext(100).expectComplete().verify();\r\n  }\r\n// remaining tests\r\n```\r\n\r\nNow, once the test runs, it does not complete and keeps on waiting for the message to be received from the websocket. The mock `when(mockClient.execute(any(URI.class), any()))` somehow does not send any message to the websocket and this causes the test to not complete. \r\n\r\nAny ideas here as to how this test can be modified to test the behaviour of reactive websocket connection. Thanks","title":"Unable to send Flux messages to the mock ReactorNettyWebSocketClient","body":"<p>In my Java Spring boot application, I am using reactive libraries to connect and stream from a websocket. I have the following dependencies in my <code>pom.xml</code> file</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;version&gt;3.4.8&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My production code to open a websocket connection looks like</p>\n<pre><code>@Autowired private ReactorNettyWebSocketClient client;\n\n public &lt;T&gt; Flux&lt;T&gt; connectToWebSocketAndParseMessages(\n      String websocketUrl, Function&lt;String, T&gt; deserializer) {\n    return Flux.create(\n        sink -&gt; {\n          try {\n            client\n                .execute(new URI(websocketUrl), getWebSocketHandler(deserializer, sink))\n                .retryWhen(getRetrySpec())\n                .subscribe(); // Subscribe to start the WebSocket connection\n          } catch (URISyntaxException e) {\n            sink.error(e);\n          }\n        });\n  }\n\n  @NotNull\n  private &lt;T&gt; WebSocketHandler getWebSocketHandler(\n      Function&lt;String, T&gt; deserializer, FluxSink&lt;T&gt; sink) {\n    return session -&gt; {\n      Flux&lt;WebSocketMessage&gt; messageFlux = session.receive();\n      return messageFlux\n          .map(\n              message -&gt; {\n                String messagePayload = message.getPayloadAsText();\n                try {\n                  T model = deserializer.apply(messagePayload);\n                  sink.next(model); // Emit the parsed model\n                } catch (Exception e) {\n                  sink.error(e); // Handle parsing errors by signaling an error\n                }\n                return messagePayload;\n              })\n          .then();\n    };\n  }\n</code></pre>\n<p>Now, I am trying to unit test the method <code>connectToWebSocketAndParseMessages</code> and for this, I mock the <code>ReactorNettyWebSocketClient</code> and the session created by the client. My test case looks like</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;)\nclass WebSocketGatewayTest {\n\n  @Autowired private WebSocketGateway webSocketGateway;\n\n  @MockBean private ReactorNettyWebSocketClient mockClient;\n\n  @Test\n  public void testConnectToWebSocketAndParseMessages1() {\n    // Given\n    Function&lt;String, Integer&gt; deserializer = Integer::parseInt;\n    String websocketUrl = &quot;ws://example.com&quot;;\n    WebSocketSession session = mock(WebSocketSession.class);\n    WebSocketMessage message1 = mock(WebSocketMessage.class);\n    WebSocketMessage message2 = mock(WebSocketMessage.class);\n\n    when(mockClient.execute(any(URI.class), any()))\n        .thenReturn(Flux.just(session).then())\n        .thenAnswer(\n            invocation -&gt; {\n              WebSocketHandler handler = invocation.getArgument(1);\n              handler.handle(session); // Simulate WebSocket session handling\n              return Mono.empty();\n            });\n\n    when(session.receive()).thenReturn(Flux.just(message1, message2));\n    when(message1.getPayloadAsText()).thenReturn(&quot;42&quot;);\n    when(message2.getPayloadAsText()).thenReturn(&quot;100&quot;);\n\n    // When\n    Flux&lt;Integer&gt; result =\n        webSocketGateway.connectToWebSocketAndParseMessages(websocketUrl, deserializer);\n\n    // Then\n    StepVerifier.create(result).expectNext(42).expectNext(100).expectComplete().verify();\n  }\n// remaining tests\n</code></pre>\n<p>Now, once the test runs, it does not complete and keeps on waiting for the message to be received from the websocket. The mock <code>when(mockClient.execute(any(URI.class), any()))</code> somehow does not send any message to the websocket and this causes the test to not complete.</p>\n<p>Any ideas here as to how this test can be modified to test the behaviour of reactive websocket connection. Thanks</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1697181324,"post_id":77283158,"comment_id":136250036,"body_markdown":"Could you post your entire XML layout? This seems to only be a part of it. Also, [ConstraintLayout might help you](https://developer.android.com/develop/ui/views/layout/constraint-layout)","body":"Could you post your entire XML layout? This seems to only be a part of it. Also, <a href=\"https://developer.android.com/develop/ui/views/layout/constraint-layout\" rel=\"nofollow noreferrer\">ConstraintLayout might help you</a>"}],"owner":{"account_id":8616330,"reputation":25,"user_id":6453020,"display_name":"user6453020"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697136752,"creation_date":1697136752,"question_id":77283158,"body_markdown":"Please look image below i need to place a textview right of a checkbox.\r\nBut i want to be continue below checkbox when textview has two lines.\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;androidx.appcompat.widget.AppCompatCheckBox\r\n            android:focusable=&quot;false&quot;\r\n            android:focusableInTouchMode=&quot;false&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:id=&quot;@+id/txtExtrasCheckBox2&quot;\r\n            android:textSize=&quot;22sp&quot;/&gt;\r\n        \r\n    \r\n        &lt;androidx.appcompat.widget.AppCompatTextView\r\n            android:layout_marginLeft=&quot;35dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Εξτρα&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/txtExtrasName2&quot;\r\n            android:textSize=&quot;22sp&quot;/&gt;\r\n       \r\n    &lt;/RelativeLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cFSu7.png","title":"Add margin only in first line using xml","body":"<p>Please look image below i need to place a textview right of a checkbox.\nBut i want to be continue below checkbox when textview has two lines.</p>\n<pre><code>&lt;RelativeLayout\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatCheckBox\n        android:focusable=&quot;false&quot;\n        android:focusableInTouchMode=&quot;false&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:id=&quot;@+id/txtExtrasCheckBox2&quot;\n        android:textSize=&quot;22sp&quot;/&gt;\n    \n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:layout_marginLeft=&quot;35dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Εξτρα&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/txtExtrasName2&quot;\n        android:textSize=&quot;22sp&quot;/&gt;\n   \n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cFSu7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cFSu7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swagger"],"owner":{"account_id":10118761,"reputation":11,"user_id":7476497,"display_name":"Emerson Diego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697136286,"creation_date":1697115997,"question_id":77280870,"body_markdown":"I recently migrated a Jakarta EE project to Swagger 3 and added the following dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-jaxrs2-jakarta&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-annotations-jakarta&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI&#39;m facing two issues:\r\n\r\nLarge JSON Responses: When the JSON response from an endpoint is too large, Swagger UI shows the error &quot;Could not render responses_Responses, see the console.&quot; This issue was not present in previous versions. Has anyone encountered this and knows a fix?\r\n\r\nUnwanted &quot;job-id&quot; Endpoints: Alongside the documentation for my actual endpoints, Swagger is also generating documentation for some mysterious &quot;job-id&quot; endpoints (GET, POST, DELETE). I have no idea where these are coming from. Has anyone else experienced this?\r\n\r\nAny help would be greatly appreciated!","title":"Swagger 3: Issues with Large JSON Responses and Unwanted &quot;job-id&quot; Endpoints","body":"<p>I recently migrated a Jakarta EE project to Swagger 3 and added the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-jaxrs2-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;2.2.15&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-annotations-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;2.2.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm facing two issues:</p>\n<p>Large JSON Responses: When the JSON response from an endpoint is too large, Swagger UI shows the error &quot;Could not render responses_Responses, see the console.&quot; This issue was not present in previous versions. Has anyone encountered this and knows a fix?</p>\n<p>Unwanted &quot;job-id&quot; Endpoints: Alongside the documentation for my actual endpoints, Swagger is also generating documentation for some mysterious &quot;job-id&quot; endpoints (GET, POST, DELETE). I have no idea where these are coming from. Has anyone else experienced this?</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","android","custom-keyboard","ime"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1697349006,"post_id":77279389,"comment_id":136267208,"body_markdown":"What were the ways you have explored so far?","body":"What were the ways you have explored so far?"}],"owner":{"account_id":10963430,"reputation":11,"user_id":8055951,"display_name":"Hamid AK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697135472,"creation_date":1697103165,"question_id":77279389,"body_markdown":"I&#39;m building android keyboard application and I want to support modern emojis on the app.\r\nIs there is a library or a simple way to implement emojis with android [KeyboardView](https://developer.android.com/reference/android/inputmethodservice/KeyboardView)\r\n\r\nI&#39;ve tried some ways to implement modern emojis, but I did not find any library to do that","title":"Support modern emojis in a custom android keyboard","body":"<p>I'm building android keyboard application and I want to support modern emojis on the app.\nIs there is a library or a simple way to implement emojis with android <a href=\"https://developer.android.com/reference/android/inputmethodservice/KeyboardView\" rel=\"nofollow noreferrer\">KeyboardView</a></p>\n<p>I've tried some ways to implement modern emojis, but I did not find any library to do that</p>\n"},{"tags":["java","email","jakarta-mail"],"comments":[{"owner":{"account_id":73773,"reputation":11214,"user_id":212275,"display_name":"ZoogieZork"},"score":1,"creation_date":1414434064,"post_id":26594097,"comment_id":41803064,"body_markdown":"To be clear, have you followed the instructions in the link and generated an app-specific password?  i.e., are you getting the error even with an app-specific password?","body":"To be clear, have you followed the instructions in the link and generated an app-specific password?  i.e., are you getting the error even with an app-specific password?"},{"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":1,"creation_date":1414434086,"post_id":26594097,"comment_id":41803075,"body_markdown":"Did you read that page?","body":"Did you read that page?"},{"owner":{"account_id":431861,"reputation":430,"user_id":816203,"accept_rate":71,"display_name":"davidjmcclelland"},"score":0,"creation_date":1422735328,"post_id":26594097,"comment_id":44870314,"body_markdown":"On some systems the link to the helpful URL listed above gets munged. That is what led me here- so this is still a helpful question in that context.","body":"On some systems the link to the helpful URL listed above gets munged. That is what led me here- so this is still a helpful question in that context."}],"answers":[{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414434143,"creation_date":1414434143,"answer_id":26594244,"question_id":26594097,"body_markdown":"The error message and KB article seems to be quite correct: you need to use an application password for Google Mail server. You can create those throw-away passwords on the Account page of google.","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>The error message and KB article seems to be quite correct: you need to use an application password for Google Mail server. You can create those throw-away passwords on the Account page of google.</p>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414434204,"creation_date":1414434204,"answer_id":26594262,"question_id":26594097,"body_markdown":"You&#39;re probably trying to send mail through a gmail account in which you&#39;ve enabled 2-factor authentication. A 6-digit authentication token sent to your mobile device as an SMS message or generated through the Google Authenticator app is required to proceed. Alternatively, you can generate app-specific passwords through Google&#39;s web based ui and use that instead when accessing the mail account through your java code. The [link you included][1] in your question walks you through the process.\r\n\r\n\r\n  [1]: http://support.google.com/accounts/bin/answer.py?answer=185833","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>You're probably trying to send mail through a gmail account in which you've enabled 2-factor authentication. A 6-digit authentication token sent to your mobile device as an SMS message or generated through the Google Authenticator app is required to proceed. Alternatively, you can generate app-specific passwords through Google's web based ui and use that instead when accessing the mail account through your java code. The <a href=\"http://support.google.com/accounts/bin/answer.py?answer=185833\" rel=\"nofollow\">link you included</a> in your question walks you through the process.</p>\n"},{"tags":[],"owner":{"account_id":1273842,"reputation":3099,"user_id":1229509,"accept_rate":69,"display_name":"Saket"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1414434240,"creation_date":1414434240,"answer_id":26594268,"question_id":26594097,"body_markdown":"You have enabled [Two phase authentication](https://support.google.com/accounts/answer/180744) for your Google account and as a result applications will not be able to login to your Google account using the actual password. Google expects you to generate a application specific password for each application you use (and give it a name) and then use that password to login to your Google account from your application. This allows you to not give your password to third party application when you have 2-step authentication enabled.\r\n\r\nThe alternate way is for your application to support redirecting to a Google page to authenticate using username and password and code generated by the Google Authenticator app.\r\n\r\nThe [link](http://support.google.com/accounts/bin/answer.py?answer=185833) clearly explains what to do.","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>You have enabled <a href=\"https://support.google.com/accounts/answer/180744\">Two phase authentication</a> for your Google account and as a result applications will not be able to login to your Google account using the actual password. Google expects you to generate a application specific password for each application you use (and give it a name) and then use that password to login to your Google account from your application. This allows you to not give your password to third party application when you have 2-step authentication enabled.</p>\n\n<p>The alternate way is for your application to support redirecting to a Google page to authenticate using username and password and code generated by the Google Authenticator app.</p>\n\n<p>The <a href=\"http://support.google.com/accounts/bin/answer.py?answer=185833\">link</a> clearly explains what to do.</p>\n"},{"tags":[],"owner":{"account_id":17008218,"reputation":137,"user_id":12528063,"display_name":"LAKSHAY ARORA"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1612170614,"creation_date":1612170614,"answer_id":65989890,"question_id":26594097,"body_markdown":"Just create an App Password for your account and use that password.\r\n\r\nSteps to create password:\r\n\r\nGo to your account settings (https://myaccount.google.com/) --&gt;&gt; Security --&gt;&gt; Under signing in to Google --&gt;&gt; App Password --&gt;&gt; Enter your credentials to login to your account --&gt;&gt; Select &#39;App&#39; and &#39;Device&#39; --&gt;&gt; Generate.\r\n\r\nCopy and paste the password somewhere.\r\n\r\nYou can use this password instead of your account password.","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>Just create an App Password for your account and use that password.</p>\n<p>Steps to create password:</p>\n<p>Go to your account settings (<a href=\"https://myaccount.google.com/\" rel=\"noreferrer\">https://myaccount.google.com/</a>) --&gt;&gt; Security --&gt;&gt; Under signing in to Google --&gt;&gt; App Password --&gt;&gt; Enter your credentials to login to your account --&gt;&gt; Select 'App' and 'Device' --&gt;&gt; Generate.</p>\n<p>Copy and paste the password somewhere.</p>\n<p>You can use this password instead of your account password.</p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1695543167,"creation_date":1655042740,"answer_id":72592946,"question_id":26594097,"body_markdown":"**UPDATED TO 2023**\r\n___________\r\n1) [two steps verification][1]  - You Must this step to continue \r\n\r\n[![enter image description here][2]][2]\r\n \r\n2)login and add a phone number and verify with text messege \r\n\r\nthan will become after green&quot;V&quot; \r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n3)press on the &quot;**2-Step Verification**&quot; , \r\ngo down to the end of the list and \r\nclick on &quot;**App passwords**&quot; \r\n\r\n[![enter image description here][4]][4]\r\n\r\n4) then in &quot;Select App&quot; write the name of the app and press &quot;Create&quot;\r\n\r\n [![enter image description here][5]][5]\r\n\r\nwrite a description in the open page and press **genarate**\r\n\r\n5) in the open &quot;Genarated App Password copy the created password and use it in your smpt password as usual password(Check you dont copy spaces) \r\nthat it  \r\n[![enter image description here][6]][6]\r\n\r\n&gt; How to use it\r\nGo to the settings for your Google Account in the application or device you are trying to set up. Replace your password with the 16-character password shown above.\r\nJust like your normal password, this app password grants complete access to your Google Account. You won&#39;t need to remember it, so don&#39;t write it down or share it with anyone.\r\n\r\n  [1]: https://myaccount.google.com/u/0/security?hl=en-GB\r\n  [2]: https://i.stack.imgur.com/YAFfz.png\r\n  [3]: https://i.imgur.com/eny4MU7.png \r\n  [4]: https://i.imgur.com/rSDrCMZ.png\r\n  [5]: https://i.imgur.com/5CqEGJh.png\r\n  [6]: https://i.imgur.com/9UXoipL.png","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p><strong>UPDATED TO 2023</strong></p>\n<hr />\n<ol>\n<li><a href=\"https://myaccount.google.com/u/0/security?hl=en-GB\" rel=\"nofollow noreferrer\">two steps verification</a>  - You Must this step to continue</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/YAFfz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YAFfz.png\" alt=\"enter image description here\" /></a></p>\n<p>2)login and add a phone number and verify with text messege</p>\n<p>than will become after green&quot;V&quot;\n<a href=\"https://i.imgur.com/eny4MU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/eny4MU7.png\" alt=\"enter image description here\" /></a></p>\n<p>3)press on the &quot;<strong>2-Step Verification</strong>&quot; ,\ngo down to the end of the list and\nclick on &quot;<strong>App passwords</strong>&quot;</p>\n<p><a href=\"https://i.imgur.com/rSDrCMZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/rSDrCMZ.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>then in &quot;Select App&quot; write the name of the app and press &quot;Create&quot;</li>\n</ol>\n<p><a href=\"https://i.imgur.com/5CqEGJh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/5CqEGJh.png\" alt=\"enter image description here\" /></a></p>\n<p>write a description in the open page and press <strong>genarate</strong></p>\n<ol start=\"5\">\n<li>in the open &quot;Genarated App Password copy the created password and use it in your smpt password as usual password(Check you dont copy spaces)\nthat it<br />\n<a href=\"https://i.imgur.com/9UXoipL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/9UXoipL.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<blockquote>\n<p>How to use it\nGo to the settings for your Google Account in the application or device you are trying to set up. Replace your password with the 16-character password shown above.\nJust like your normal password, this app password grants complete access to your Google Account. You won't need to remember it, so don't write it down or share it with anyone.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687278943,"creation_date":1687278943,"answer_id":76516764,"question_id":26594097,"body_markdown":"If you are not able to find App Password..\r\n1. First turn on two step authentication.\r\n2. Go to Link https://myaccount.google.com/apppasswords and set up the app password.","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>If you are not able to find App Password..</p>\n<ol>\n<li>First turn on two step authentication.</li>\n<li>Go to Link <a href=\"https://myaccount.google.com/apppasswords\" rel=\"nofollow noreferrer\">https://myaccount.google.com/apppasswords</a> and set up the app password.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7126733,"reputation":1,"user_id":5449422,"display_name":"samir varude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697135443,"creation_date":1697135443,"answer_id":77283041,"question_id":26594097,"body_markdown":"Gmail Account -&gt; Security - &gt; 2 - Step Verification - &gt; App passwords (Bottom of Page) - Create App Password account (Provide any name) - Save - Password will generated.\r\n\r\nTake password and save it on Password field under &quot;Use SMTP Authentication&quot; section.\r\n\r\nThis is latest one and worked for me.","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>Gmail Account -&gt; Security - &gt; 2 - Step Verification - &gt; App passwords (Bottom of Page) - Create App Password account (Provide any name) - Save - Password will generated.</p>\n<p>Take password and save it on Password field under &quot;Use SMTP Authentication&quot; section.</p>\n<p>This is latest one and worked for me.</p>\n"}],"owner":{"account_id":5239392,"reputation":305,"user_id":4186971,"accept_rate":80,"display_name":"Sudhansu Sekhar Nayak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39022,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":26594268,"answer_count":7,"score":24,"last_activity_date":1697135443,"creation_date":1414433626,"question_id":26594097,"body_markdown":"I want to send mail using JavaMailAPI\r\n \r\nI have done some coding but it is not working throwing Exception:-\r\n \r\nMessage Sending Failedjavax.mail.AuthenticationFailedException: 534-5.7.9 Application-specific password required. \r\n    \r\n    package com.appreciationcard.service;\r\n\r\n    import java.util.Properties;\r\n\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    import com.appreciationcard.dao.DAOFactory;\r\n    import com.appreciationcard.forms.ComposeForm;\r\n\r\n    public class MailServiceImpl implements MailService {\r\n\r\n\tpublic boolean mailsent(ComposeForm composeForm) {\r\n\t\tString to = composeForm.getTo();\r\n\t\tString from = composeForm.getFrom();\r\n\t\tString cc = composeForm.getCc();\r\n\t\tString bcc = composeForm.getBcc();\r\n\t\tString subject = composeForm.getSubject();\r\n\t\tString messages = composeForm.getMessage();\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, true);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\tSystem.out.println(&quot;Properties&quot; + props);\r\n\t\tSession session = Session.getDefaultInstance(props,\r\n\t\t\t\tnew javax.mail.Authenticator() {\r\n\t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\t\treturn new PasswordAuthentication(\r\n\t\t\t\t\t\t\t\t&quot;tosudhansusekhar@gmail.com&quot;, &quot;xxxx&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\ttry {\r\n\t\t\tMimeMessage message = new MimeMessage(session);\r\n\t\t\tmessage.setFrom(new InternetAddress(&quot;dynamicmihir@gmail.com&quot;));\r\n\t\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(\r\n\t\t\t\t\tto));\r\n\t\t\tmessage.setSubject(subject);\r\n\t\t\tmessage.setText(messages);\r\n\t\t\tTransport.send(message);\r\n\t\t} catch (MessagingException mex) {\r\n\t\t\tSystem.out.println(&quot;Message Sending Failed&quot; + mex);\r\n\t\t\tmex.printStackTrace();\r\n\t\t} \r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nI am getting Exception on server console \r\n\r\nMessage Sending Failedjavax.mail.AuthenticationFailedException: 534-5.7.9 Application-specific password required.\r\n\r\nLearn more at 534 5.7.9 http://support.google.com/accounts/bin/answer.py?answer=185833 o5sm11464195pdr.50 - gsmtp\r\n\r\n**Will Any one Kindly Help me out to solve this problem.**","title":"JavaMail Exception javax.mail.AuthenticationFailedException 534-5.7.9 Application-specific password required","body":"<p>I want to send mail using JavaMailAPI</p>\n\n<p>I have done some coding but it is not working throwing Exception:-</p>\n\n<p>Message Sending Failedjavax.mail.AuthenticationFailedException: 534-5.7.9 Application-specific password required. </p>\n\n<pre><code>package com.appreciationcard.service;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\nimport com.appreciationcard.dao.DAOFactory;\nimport com.appreciationcard.forms.ComposeForm;\n\npublic class MailServiceImpl implements MailService {\n\npublic boolean mailsent(ComposeForm composeForm) {\n    String to = composeForm.getTo();\n    String from = composeForm.getFrom();\n    String cc = composeForm.getCc();\n    String bcc = composeForm.getBcc();\n    String subject = composeForm.getSubject();\n    String messages = composeForm.getMessage();\n    Properties props = new Properties();\n    props.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.starttls.enable\", true);\n    props.put(\"mail.smtp.port\", \"587\");\n    props.put(\"mail.transport.protocol\", \"smtp\");\n    props.put(\"mail.debug\", \"true\");\n    System.out.println(\"Properties\" + props);\n    Session session = Session.getDefaultInstance(props,\n            new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(\n                            \"tosudhansusekhar@gmail.com\", \"xxxx\");\n                }\n            });\n    try {\n        MimeMessage message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(\"dynamicmihir@gmail.com\"));\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(\n                to));\n        message.setSubject(subject);\n        message.setText(messages);\n        Transport.send(message);\n    } catch (MessagingException mex) {\n        System.out.println(\"Message Sending Failed\" + mex);\n        mex.printStackTrace();\n    } \n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I am getting Exception on server console </p>\n\n<p>Message Sending Failedjavax.mail.AuthenticationFailedException: 534-5.7.9 Application-specific password required.</p>\n\n<p>Learn more at 534 5.7.9 <a href=\"http://support.google.com/accounts/bin/answer.py?answer=185833\" rel=\"noreferrer\">http://support.google.com/accounts/bin/answer.py?answer=185833</a> o5sm11464195pdr.50 - gsmtp</p>\n\n<p><strong>Will Any one Kindly Help me out to solve this problem.</strong></p>\n"},{"tags":["java","bluetooth","bluecove"],"answers":[{"tags":[],"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697128701,"creation_date":1697128701,"answer_id":77282395,"question_id":77282130,"body_markdown":"According to the documentation, the [RemoteDevice](http://www.bluecove.org/bluecove/apidocs/javax/bluetooth/RemoteDevice.html) class does not have a `getUUIDs()` method. I assume that in your code the `device` is a single member of the `devices` array, otherwise there might still be an error in your code.","title":"bluetooth UUID search with Java / bluecove","body":"<p>According to the documentation, the <a href=\"http://www.bluecove.org/bluecove/apidocs/javax/bluetooth/RemoteDevice.html\" rel=\"nofollow noreferrer\">RemoteDevice</a> class does not have a <code>getUUIDs()</code> method. I assume that in your code the <code>device</code> is a single member of the <code>devices</code> array, otherwise there might still be an error in your code.</p>\n"},{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697134380,"creation_date":1697134380,"answer_id":77282925,"question_id":77282130,"body_markdown":"As already pointed out by others, there is no `getUUID()` method in [RemoteDevice](http://www.bluecove.org/bluecove/apidocs/javax/bluetooth/RemoteDevice.html) class. However, if you need the bluetooth address you can use the [`getBluetoothAddress()`](http://www.bluecove.org/bluecove/apidocs/javax/bluetooth/RemoteDevice.html#getBluetoothAddress()) method like this:\r\n```java\r\npackage org.example;\r\n\r\nimport javax.bluetooth.DiscoveryAgent;\r\nimport javax.bluetooth.LocalDevice;\r\nimport javax.bluetooth.RemoteDevice;\r\nimport java.io.IOException;\r\n\r\npublic class BlueTest {\r\n    public static void main(String[] args) throws IOException {\r\n        LocalDevice localDevice = LocalDevice.getLocalDevice();\r\n        DiscoveryAgent discoveryAgent = localDevice.getDiscoveryAgent();\r\n        RemoteDevice[] devices = discoveryAgent.retrieveDevices(DiscoveryAgent.PREKNOWN);\r\n        for (RemoteDevice device : devices) {\r\n            System.out.println(&quot;Address: &quot; + device.getBluetoothAddress());\r\n            System.out.println(&quot;Name: &quot; + device.getFriendlyName(false));\r\n        }\r\n    }\r\n}\r\n```\r\nHope this helps.","title":"bluetooth UUID search with Java / bluecove","body":"<p>As already pointed out by others, there is no <code>getUUID()</code> method in <a href=\"http://www.bluecove.org/bluecove/apidocs/javax/bluetooth/RemoteDevice.html\" rel=\"nofollow noreferrer\">RemoteDevice</a> class. However, if you need the bluetooth address you can use the <a href=\"http://www.bluecove.org/bluecove/apidocs/javax/bluetooth/RemoteDevice.html#getBluetoothAddress()\" rel=\"nofollow noreferrer\"><code>getBluetoothAddress()</code></a> method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport javax.bluetooth.DiscoveryAgent;\nimport javax.bluetooth.LocalDevice;\nimport javax.bluetooth.RemoteDevice;\nimport java.io.IOException;\n\npublic class BlueTest {\n    public static void main(String[] args) throws IOException {\n        LocalDevice localDevice = LocalDevice.getLocalDevice();\n        DiscoveryAgent discoveryAgent = localDevice.getDiscoveryAgent();\n        RemoteDevice[] devices = discoveryAgent.retrieveDevices(DiscoveryAgent.PREKNOWN);\n        for (RemoteDevice device : devices) {\n            System.out.println(&quot;Address: &quot; + device.getBluetoothAddress());\n            System.out.println(&quot;Name: &quot; + device.getFriendlyName(false));\n        }\n    }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":962024,"reputation":342,"user_id":986163,"accept_rate":33,"display_name":"George Violettas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697134380,"creation_date":1697126208,"question_id":77282130,"body_markdown":"In windows, I communicate fine with my bluetooth connected devices. I get the name and address of the device ok. But, the line\r\n\r\n    UUID[] uuids = device.getUUIDs();\r\n\r\n… produces this error:\r\n\r\n&gt;The method getUUIDs() is undefined for the type RemoteDevice\r\n\r\nCode sample\r\n    \r\n    import javax.bluetooth.DiscoveryAgent;\r\n    import javax.bluetooth.LocalDevice;\r\n    import javax.bluetooth.RemoteDevice;\r\n    import javax.bluetooth.UUID;\r\n    //...\r\n    LocalDevice localDevice = LocalDevice.getLocalDevice();\r\n    DiscoveryAgent discoveryAgent = localDevice.getDiscoveryAgent();\r\n    RemoteDevice[] devices = discoveryAgent.retrieveDevices(DiscoveryAgent.PREKNOWN);\r\n    UUID[] uuids = device.getUUIDs();\r\n\r\n\r\n","title":"bluetooth UUID search with Java / bluecove","body":"<p>In windows, I communicate fine with my bluetooth connected devices. I get the name and address of the device ok. But, the line</p>\n<pre><code>UUID[] uuids = device.getUUIDs();\n</code></pre>\n<p>… produces this error:</p>\n<blockquote>\n<p>The method getUUIDs() is undefined for the type RemoteDevice</p>\n</blockquote>\n<p>Code sample</p>\n<pre><code>import javax.bluetooth.DiscoveryAgent;\nimport javax.bluetooth.LocalDevice;\nimport javax.bluetooth.RemoteDevice;\nimport javax.bluetooth.UUID;\n//...\nLocalDevice localDevice = LocalDevice.getLocalDevice();\nDiscoveryAgent discoveryAgent = localDevice.getDiscoveryAgent();\nRemoteDevice[] devices = discoveryAgent.retrieveDevices(DiscoveryAgent.PREKNOWN);\nUUID[] uuids = device.getUUIDs();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697133690,"creation_date":1697133690,"answer_id":77282866,"question_id":77277208,"body_markdown":"No, it is not possible without some scheduled task to check the system state at some point. Even if such a feature (`IdleEvent` ?) would be implemented in the framework, it still would be based on the scheduler and some interval between active and non-active states.","title":"Create a flow with IntegrationFlow that&#39;s close after certain time if no messages are sends","body":"<p>No, it is not possible without some scheduled task to check the system state at some point. Even if such a feature (<code>IdleEvent</code> ?) would be implemented in the framework, it still would be based on the scheduler and some interval between active and non-active states.</p>\n"}],"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77282866,"answer_count":1,"score":0,"last_activity_date":1697133690,"creation_date":1697074596,"question_id":77277208,"body_markdown":"I&#39;m building a system that&#39;s create flows dynamically, but sometimes messages stop being received. So i wanna make a logic that stop the flow to receive messages or, if it is possible, destroy the flow after some time.\r\n\r\n    IntegrationFlows\r\n    .from(unicastReceivingChannelAdapter)\r\n    .&lt;byte[], String&gt;transform(String::new)\r\n    .handle(e -&gt; processMessage((String)e.getPayload()))\r\n     .get();\r\n\r\nThis is my flow until now. I register the flow using IntegrationFlowContext.register like below:\r\n\r\n    flowContext.registration(integrationFlow).register()\r\n\r\nAnd add in a ArrayList, to use in other parts of the system\r\n\r\n    aircraft.getUdpFlows().add(flowContext.registration(integrationFlow).register())\r\n\r\nIt&#39;s possible to make something like that without using some thread to verify after some time?","title":"Create a flow with IntegrationFlow that&#39;s close after certain time if no messages are sends","body":"<p>I'm building a system that's create flows dynamically, but sometimes messages stop being received. So i wanna make a logic that stop the flow to receive messages or, if it is possible, destroy the flow after some time.</p>\n<pre><code>IntegrationFlows\n.from(unicastReceivingChannelAdapter)\n.&lt;byte[], String&gt;transform(String::new)\n.handle(e -&gt; processMessage((String)e.getPayload()))\n .get();\n</code></pre>\n<p>This is my flow until now. I register the flow using IntegrationFlowContext.register like below:</p>\n<pre><code>flowContext.registration(integrationFlow).register()\n</code></pre>\n<p>And add in a ArrayList, to use in other parts of the system</p>\n<pre><code>aircraft.getUdpFlows().add(flowContext.registration(integrationFlow).register())\n</code></pre>\n<p>It's possible to make something like that without using some thread to verify after some time?</p>\n"},{"tags":["java","android","json","kotlin","moshi"],"comments":[{"owner":{"account_id":16841916,"reputation":66,"user_id":12177115,"display_name":"BeNYaMiN"},"score":3,"creation_date":1697088647,"post_id":77277187,"comment_id":136235846,"body_markdown":"Use it like this: `val mapAdapter = moshi.adapter(Blob::class.java)`.","body":"Use it like this: <code>val mapAdapter = moshi.adapter(Blob::class.java)</code>."},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1697135375,"post_id":77277187,"comment_id":136245184,"body_markdown":"Moshi does have some reified Kotlin extension methods. You might have to paste the import statement manually? `import com.squareup.moshi.adapter`","body":"Moshi does have some reified Kotlin extension methods. You might have to paste the import statement manually? <code>import com.squareup.moshi.adapter</code>"},{"owner":{"account_id":18820878,"reputation":185,"user_id":13726919,"display_name":"Pyr3z"},"score":1,"creation_date":1697234925,"post_id":77277187,"comment_id":136259308,"body_markdown":"@Eric Cochran  - That does work too, _IFF_ I also decorate the scope with `@OptIn(ExperimentalStdlibApi::class)`...  I only have a cursory understanding of Kotlin reification, so in this instance I think I&#39;ll leave the &quot;experimental&quot; APIs to the folks who are more familiar with this lang + env.","body":"@Eric Cochran  - That does work too, <i>IFF</i> I also decorate the scope with <code>@OptIn(ExperimentalStdlibApi::class)</code>...  I only have a cursory understanding of Kotlin reification, so in this instance I think I&#39;ll leave the &quot;experimental&quot; APIs to the folks who are more familiar with this lang + env."}],"answers":[{"tags":[],"owner":{"account_id":18820878,"reputation":185,"user_id":13726919,"display_name":"Pyr3z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697131849,"creation_date":1697131849,"answer_id":77282714,"question_id":77277187,"body_markdown":"Wow... thank you @BeNYaMiN!\r\n\r\n```kt\r\nval mapAdapter = moshi.adapter(Blob::class.java)\r\n```\r\n\r\nFinally works &#128513;","title":"Using Moshi in Kotlin (Android), Moshi.adapter() signatures seem to differ from the docs","body":"<p>Wow... thank you @BeNYaMiN!</p>\n<pre><code>val mapAdapter = moshi.adapter(Blob::class.java)\n</code></pre>\n<p>Finally works 😁</p>\n"}],"owner":{"account_id":18820878,"reputation":185,"user_id":13726919,"display_name":"Pyr3z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697132008,"creation_date":1697074118,"question_id":77277187,"body_markdown":"My build.gradle dependencies (for a non-main Android Studio module):\r\n```gradle\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.12.0&#39;\r\n    implementation &#39;com.squareup.moshi:moshi-kotlin:1.14.0&#39;\r\n    ksp &#39;com.squareup.moshi:moshi-kotlin-codegen:1.14.0&#39;\r\n\r\n    // (...)\r\n}\r\n```\r\n\r\nThis code doesn&#39;t work despite seeming to be functionally identical to the examples in the docs:\r\n```kt\r\nclass Blob (val string: String);\r\n\r\ninternal object JsonMan {\r\n    @NonNull\r\n    val moshi = Moshi.Builder()\r\n                     .addLast(KotlinJsonAdapterFactory())\r\n                     .build();\r\n\r\n    val mapAdapter = moshi.adapter&lt;Blob&gt;();\r\n                   //      ^^^^^^^ No matching overload found.\r\n}\r\n```\r\n\r\nThe specific Android Studio error message on hover is:\r\n&gt; None of the following functions can be called with the arguments supplied.\r\n\r\n_(removed some details for brevity)_\r\n\r\n- adapter(Class&lt;TypeVariable(T)!&gt;!)\r\n- adapter(Type!)\r\n- adapter(Type!, (MutableSet&lt;out Annotation!&gt;..Set&lt;Annotation!&gt;?))\r\n- adapter(Type!, (MutableSet&lt;out Annotation!&gt;..Set&lt;Annotation!&gt;?), String?)\r\n- adapter(Type!, Class&lt;out Annotation!&gt;!)\r\n- adapter(type: Type!, annotationType: Class&lt;out Annotation!&gt;!)\r\n- adapter(Type!, vararg Class&lt;out Annotation!&gt;!)\r\n- adapter(type: Type!, vararg annotationTypes: Class&lt;out Annotation!&gt;!)\r\n\r\n— basically, **no matching overload found**.\r\n\r\nThings I&#39;ve already tried:\r\n- passing `kotlin.reflect.typeOf&lt;Blob&gt;().javaClass`\r\n- a bunch of nutty rearrangings of the syntax\r\n\r\nI was really hoping that simply following the docs would Just Work ™ – I suppose that one&#39;s on me.\r\n\r\nI&#39;m brand new to Kotlin, so I think I&#39;m probably just ignorant of something that would be obvious to most Moshi-Kotlin users... Any help would be appreciated :)\r\n\r\n### Edit:\r\n\r\nThe comment by @BeNYaMiN did the trick.\r\n\r\nI am a bit salty though that the Kotlin syntax used throughout Moshi&#39;s docs aren&#39;t an actual signature you can use out of the box... I am still suspicious that there has to be _some_ way to get the &quot;official&quot; syntax to compile.  Or is it all because this is Android Kotlin?  If anyone knows, I would still appreciate your knowledge!","title":"Using Moshi in Kotlin (Android), Moshi.adapter() signatures seem to differ from the docs","body":"<p>My build.gradle dependencies (for a non-main Android Studio module):</p>\n<pre><code>dependencies {\n    implementation 'androidx.core:core-ktx:1.12.0'\n    implementation 'com.squareup.moshi:moshi-kotlin:1.14.0'\n    ksp 'com.squareup.moshi:moshi-kotlin-codegen:1.14.0'\n\n    // (...)\n}\n</code></pre>\n<p>This code doesn't work despite seeming to be functionally identical to the examples in the docs:</p>\n<pre><code>class Blob (val string: String);\n\ninternal object JsonMan {\n    @NonNull\n    val moshi = Moshi.Builder()\n                     .addLast(KotlinJsonAdapterFactory())\n                     .build();\n\n    val mapAdapter = moshi.adapter&lt;Blob&gt;();\n                   //      ^^^^^^^ No matching overload found.\n}\n</code></pre>\n<p>The specific Android Studio error message on hover is:</p>\n<blockquote>\n<p>None of the following functions can be called with the arguments supplied.</p>\n</blockquote>\n<p><em>(removed some details for brevity)</em></p>\n<ul>\n<li>adapter(Class&lt;TypeVariable(T)!&gt;!)</li>\n<li>adapter(Type!)</li>\n<li>adapter(Type!, (MutableSet&lt;out Annotation!&gt;..Set&lt;Annotation!&gt;?))</li>\n<li>adapter(Type!, (MutableSet&lt;out Annotation!&gt;..Set&lt;Annotation!&gt;?), String?)</li>\n<li>adapter(Type!, Class&lt;out Annotation!&gt;!)</li>\n<li>adapter(type: Type!, annotationType: Class&lt;out Annotation!&gt;!)</li>\n<li>adapter(Type!, vararg Class&lt;out Annotation!&gt;!)</li>\n<li>adapter(type: Type!, vararg annotationTypes: Class&lt;out Annotation!&gt;!)</li>\n</ul>\n<p>— basically, <strong>no matching overload found</strong>.</p>\n<p>Things I've already tried:</p>\n<ul>\n<li>passing <code>kotlin.reflect.typeOf&lt;Blob&gt;().javaClass</code></li>\n<li>a bunch of nutty rearrangings of the syntax</li>\n</ul>\n<p>I was really hoping that simply following the docs would Just Work ™ – I suppose that one's on me.</p>\n<p>I'm brand new to Kotlin, so I think I'm probably just ignorant of something that would be obvious to most Moshi-Kotlin users... Any help would be appreciated :)</p>\n<h3>Edit:</h3>\n<p>The comment by @BeNYaMiN did the trick.</p>\n<p>I am a bit salty though that the Kotlin syntax used throughout Moshi's docs aren't an actual signature you can use out of the box... I am still suspicious that there has to be <em>some</em> way to get the &quot;official&quot; syntax to compile.  Or is it all because this is Android Kotlin?  If anyone knows, I would still appreciate your knowledge!</p>\n"},{"tags":["java","android","android-studio","bluetooth"],"comments":[{"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"score":0,"creation_date":1697130498,"post_id":77282170,"comment_id":136244259,"body_markdown":"As far as I understand, you cannot even see the devices in the logs when searching with bluetooth, right?","body":"As far as I understand, you cannot even see the devices in the logs when searching with bluetooth, right?"},{"owner":{"account_id":28762514,"reputation":9,"user_id":22028097,"display_name":"SemirAdam"},"score":0,"creation_date":1697131060,"post_id":77282170,"comment_id":136244379,"body_markdown":"Yes, that&#39;s the problem. I&#39;m not very experienced in java and Bluetooth but as far as I know from the official documentation that&#39;s what I need to just display the name of the devices. First I must register a broadcastreceiver and later I can invoque the start discovery function.","body":"Yes, that&#39;s the problem. I&#39;m not very experienced in java and Bluetooth but as far as I know from the official documentation that&#39;s what I need to just display the name of the devices. First I must register a broadcastreceiver and later I can invoque the start discovery function."}],"answers":[{"tags":[],"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697131868,"creation_date":1697131868,"answer_id":77282716,"question_id":77282170,"body_markdown":"I changed the code and the permission method a bit, tested it on my phone and was able to view the bluetooth devices in the logs.\r\n\r\n```\r\n\r\nprivate ActivityResultLauncher&lt;Intent&gt; enableBluetoothLauncher;\r\n\r\n private static final String[] PERMISSIONS_LOCATION = {\r\n            Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.ACCESS_LOCATION_EXTRA_COMMANDS,\r\n            Manifest.permission.BLUETOOTH_SCAN,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.BLUETOOTH_PRIVILEGED\r\n    };\r\n\r\nprivate void checkPermissions(){\r\n        int permission2 = ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN);\r\n\r\n        if (permission2 != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    PERMISSIONS_LOCATION,\r\n                    1111 //YOUR REQUEST CODE\r\n            );\r\n        }\r\n    }\r\n\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        enableBluetoothLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // Bluetooth open call func again\r\n                        discover_devices();\r\n                    } else {\r\n                        // The user refused to activate Bluetooth.\r\n                    }\r\n                }\r\n        );\r\n\r\n        button = findViewById(R.id.clickButton);\r\n\r\n        //CLICK BUTTON TO START SCAN\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    discover_devices();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    private void discover_devices() {\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n            checkPermissions();\r\n            return;\r\n        }\r\n\r\n        myBluetoothAdapter= BluetoothAdapter.getDefaultAdapter();\r\n        if (myBluetoothAdapter == null) {\r\n            Toast.makeText(this, &quot;device doesn&#39;t support Bluetooth&quot;, Toast.LENGTH_LONG).show();\r\n        } else {\r\n            if (!myBluetoothAdapter.isEnabled()) {\r\n\r\n                Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                enableBluetoothLauncher.launch(enableBtIntent);\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n\r\n        Set&lt;BluetoothDevice&gt; pairedDevices = myBluetoothAdapter.getBondedDevices();\r\n        if (pairedDevices.size() &gt; 0) {\r\n            // There are paired devices. Get the name and address of each paired device.\r\n            for (BluetoothDevice device : pairedDevices) {\r\n\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n            }\r\n        }\r\n        myBluetoothAdapter.startDiscovery();\r\n\r\n        // Register for broadcasts when a device is discovered.\r\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n        registerReceiver(receiver, filter);\r\n    }\r\n\r\n    // Create a BroadcastReceiver for ACTION_FOUND.\r\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n                // Discovery has found a device. Get the BluetoothDevice\r\n                // object and its info from the Intent.\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    checkPermissions();\r\n                    return;\r\n                }\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n                System.out.println(&quot;Discovered: &quot; + deviceName);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n\r\n**AndroidManifest.xml:**\r\n```\r\n    &lt;!--BLUETOOTH PERMISSION--&gt;\r\n    &lt;!-- Request legacy Bluetooth permissions on older devices. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;!-- Needed only if your app looks for Bluetooth devices.\r\n             If your app doesn&#39;t use Bluetooth scan results to derive physical\r\n             location information, you can strongly assert that your app\r\n             doesn&#39;t derive physical location. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n    &lt;!-- Needed only if your app makes the device discoverable to Bluetooth\r\n      devices. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n    &lt;!-- Needed only if your app communicates with already-paired Bluetooth\r\n           devices. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;!--bibo01 : hardware option--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;false&quot;/&gt;\r\n```\r\n\r\n\r\n**And the log I observed when I did the scan:** \r\n\r\n[![Logs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vFLUF.png\r\n\r\nEverything worked fine for me hope it works for you.","title":"Code to discover Bluetooth devices in Java doesn&#39;t display anything","body":"<p>I changed the code and the permission method a bit, tested it on my phone and was able to view the bluetooth devices in the logs.</p>\n<pre><code>\nprivate ActivityResultLauncher&lt;Intent&gt; enableBluetoothLauncher;\n\n private static final String[] PERMISSIONS_LOCATION = {\n            Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.ACCESS_COARSE_LOCATION,\n            Manifest.permission.ACCESS_LOCATION_EXTRA_COMMANDS,\n            Manifest.permission.BLUETOOTH_SCAN,\n            Manifest.permission.BLUETOOTH_CONNECT,\n            Manifest.permission.BLUETOOTH_PRIVILEGED\n    };\n\nprivate void checkPermissions(){\n        int permission2 = ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN);\n\n        if (permission2 != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(\n                    this,\n                    PERMISSIONS_LOCATION,\n                    1111 //YOUR REQUEST CODE\n            );\n        }\n    }\n\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        enableBluetoothLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // Bluetooth open call func again\n                        discover_devices();\n                    } else {\n                        // The user refused to activate Bluetooth.\n                    }\n                }\n        );\n\n        button = findViewById(R.id.clickButton);\n\n        //CLICK BUTTON TO START SCAN\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                    discover_devices();\n            }\n        });\n\n    }\n\n\n    private void discover_devices() {\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            checkPermissions();\n            return;\n        }\n\n        myBluetoothAdapter= BluetoothAdapter.getDefaultAdapter();\n        if (myBluetoothAdapter == null) {\n            Toast.makeText(this, &quot;device doesn't support Bluetooth&quot;, Toast.LENGTH_LONG).show();\n        } else {\n            if (!myBluetoothAdapter.isEnabled()) {\n\n                Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                enableBluetoothLauncher.launch(enableBtIntent);\n\n            }\n        }\n\n\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n\n        Set&lt;BluetoothDevice&gt; pairedDevices = myBluetoothAdapter.getBondedDevices();\n        if (pairedDevices.size() &gt; 0) {\n            // There are paired devices. Get the name and address of each paired device.\n            for (BluetoothDevice device : pairedDevices) {\n\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress(); // MAC address\n            }\n        }\n        myBluetoothAdapter.startDiscovery();\n\n        // Register for broadcasts when a device is discovered.\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n        registerReceiver(receiver, filter);\n    }\n\n    // Create a BroadcastReceiver for ACTION_FOUND.\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n                // Discovery has found a device. Get the BluetoothDevice\n                // object and its info from the Intent.\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    checkPermissions();\n                    return;\n                }\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress(); // MAC address\n                System.out.println(&quot;Discovered: &quot; + deviceName);\n            }\n        }\n    };\n</code></pre>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>    &lt;!--BLUETOOTH PERMISSION--&gt;\n    &lt;!-- Request legacy Bluetooth permissions on older devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;!-- Needed only if your app looks for Bluetooth devices.\n             If your app doesn't use Bluetooth scan results to derive physical\n             location information, you can strongly assert that your app\n             doesn't derive physical location. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n    &lt;!-- Needed only if your app makes the device discoverable to Bluetooth\n      devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n    &lt;!-- Needed only if your app communicates with already-paired Bluetooth\n           devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;!--bibo01 : hardware option--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;false&quot;/&gt;\n</code></pre>\n<p><strong>And the log I observed when I did the scan:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vFLUF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vFLUF.png\" alt=\"Logs\" /></a></p>\n<p>Everything worked fine for me hope it works for you.</p>\n"}],"owner":{"account_id":28762514,"reputation":9,"user_id":22028097,"display_name":"SemirAdam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697131868,"creation_date":1697126532,"question_id":77282170,"body_markdown":"I&#39;m adding a piece of code to display bluetooth devices in Java.\r\n\r\nI included the part that enabled the blueooth permisions (this is working as expected).\r\n\r\nHowever, this piece of code seems not working to display the blueooth devices in the same page:\r\n\r\nI can&#39;t see any visible errors in logcat. Also, I didn&#39;t create any specific box in the layout to display anything but at least I should be able to see the devices in the logs.\r\n\r\n```\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate void btn() {\r\n     btn.setOnClickListener(v -&gt; {\r\n       discover_devices();\r\n       // Register for broadcasts when a device is discovered.\r\n       IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n       registerReceiver(receiver, filter);\r\n       myBluetoothAdapter.startDiscovery();\r\n     });\r\n}\r\n\r\n private void discover_devices() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        Set&lt;BluetoothDevice&gt; pairedDevices = myBluetoothAdapter.getBondedDevices();\r\n        if (pairedDevices.size() &gt; 0) {\r\n            // There are paired devices. Get the name and address of each paired device.\r\n            for (BluetoothDevice device : pairedDevices) {\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n            }\r\n        }\r\n    }\r\n\r\n    // Create a BroadcastReceiver for ACTION_FOUND.\r\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n                // Discovery has found a device. Get the BluetoothDevice\r\n                // object and its info from the Intent.\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    return;\r\n                }\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n                System.out.println(&quot;Discovered: &quot; + deviceName);\r\n                Log.d(&quot;PERMISSIONS&quot;, &quot;Discovered: &quot; + deviceName);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\nAny advice about this piece of code?\r\n\r\nAndroid studio seems to obligate to check about the permissions in the Bluetooth code but this par of code is only executed after enabling the Bluetooth permissions manually at the beginning of the program. ","title":"Code to discover Bluetooth devices in Java doesn&#39;t display anything","body":"<p>I'm adding a piece of code to display bluetooth devices in Java.</p>\n<p>I included the part that enabled the blueooth permisions (this is working as expected).</p>\n<p>However, this piece of code seems not working to display the blueooth devices in the same page:</p>\n<p>I can't see any visible errors in logcat. Also, I didn't create any specific box in the layout to display anything but at least I should be able to see the devices in the logs.</p>\n<pre><code>@SuppressLint(&quot;MissingPermission&quot;)\nprivate void btn() {\n     btn.setOnClickListener(v -&gt; {\n       discover_devices();\n       // Register for broadcasts when a device is discovered.\n       IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n       registerReceiver(receiver, filter);\n       myBluetoothAdapter.startDiscovery();\n     });\n}\n\n private void discover_devices() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        Set&lt;BluetoothDevice&gt; pairedDevices = myBluetoothAdapter.getBondedDevices();\n        if (pairedDevices.size() &gt; 0) {\n            // There are paired devices. Get the name and address of each paired device.\n            for (BluetoothDevice device : pairedDevices) {\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress(); // MAC address\n            }\n        }\n    }\n\n    // Create a BroadcastReceiver for ACTION_FOUND.\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n                // Discovery has found a device. Get the BluetoothDevice\n                // object and its info from the Intent.\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress(); // MAC address\n                System.out.println(&quot;Discovered: &quot; + deviceName);\n                Log.d(&quot;PERMISSIONS&quot;, &quot;Discovered: &quot; + deviceName);\n            }\n        }\n    };\n</code></pre>\n<p>Any advice about this piece of code?</p>\n<p>Android studio seems to obligate to check about the permissions in the Bluetooth code but this par of code is only executed after enabling the Bluetooth permissions manually at the beginning of the program.</p>\n"},{"tags":["java","android","base64","retrofit2"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1623337972,"post_id":67923796,"comment_id":120056805,"body_markdown":"What&#39;s the result of your debugging? E.g what does `image2String` return, is `img` the same as what was returned from the `image2String`, how many bytes does `imageByteArray`contain and how large is the jpg file on your disc?","body":"What&#39;s the result of your debugging? E.g what does <code>image2String</code> return, is <code>img</code> the same as what was returned from the <code>image2String</code>, how many bytes does <code>imageByteArray</code>contain and how large is the jpg file on your disc?"},{"owner":{"account_id":20664898,"reputation":155,"user_id":15172005,"display_name":"lLauriix"},"score":0,"creation_date":1623338735,"post_id":67923796,"comment_id":120057170,"body_markdown":"@jps I&#39;m sorry I just added all that new info into the main post.","body":"@jps I&#39;m sorry I just added all that new info into the main post."},{"owner":{"account_id":20664898,"reputation":155,"user_id":15172005,"display_name":"lLauriix"},"score":0,"creation_date":1623339856,"post_id":67923796,"comment_id":120057708,"body_markdown":"@jps I can see that the string its different but i dont know why, I decoded it with `java.util.Base64.getMimeDecoder().decode` just to avoid that possible error","body":"@jps I can see that the string its different but i dont know why, I decoded it with <code>java.util.Base64.getMimeDecoder().decode</code> just to avoid that possible error"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1623340109,"post_id":67923796,"comment_id":120057828,"body_markdown":"thanks for quickly updating the post. So you got indeed a valid base64 encoded jpg, the second string is Mime encoded (base64 with linebreaks after 76 characters), so the use of MimeDecoder seems correct. I can&#39;t test that code right now, but with all the details added, I hope someone can help. When you get rid of the `\\n`, the string can be decoded without problems on base64decode.org and you get the original image back. And 2.9k is also correct.","body":"thanks for quickly updating the post. So you got indeed a valid base64 encoded jpg, the second string is Mime encoded (base64 with linebreaks after 76 characters), so the use of MimeDecoder seems correct. I can&#39;t test that code right now, but with all the details added, I hope someone can help. When you get rid of the <code>\\n</code>, the string can be decoded without problems on base64decode.org and you get the original image back. And 2.9k is also correct."},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1623340701,"post_id":67923796,"comment_id":120058088,"body_markdown":"you&#39;re welcome. See also my comment under the answer.","body":"you&#39;re welcome. See also my comment under the answer."}],"answers":[{"tags":[],"owner":{"account_id":20664898,"reputation":155,"user_id":15172005,"display_name":"lLauriix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623543474,"creation_date":1623340500,"answer_id":67924626,"question_id":67923796,"body_markdown":"**EDIT: BETTER WAY**\r\n\r\n**INSTEAD OF EDITING THE STRING IN THE SERVER WE SHOULD ENCODE IN ANDROID THIS WAY**\r\n\r\n`Base64.encodeToString(bytes, Base64.NO_WRAP);`\r\n\r\n**AND GET IT IN THE SERVER THE USUAL WAY WITHOUT EDITING THE STRING**\r\n\r\n\r\n`java.util.Base64.getMimeDecoder().decode(yourByteArray);`\r\n\r\n**PREVIOUS WAY:**\r\n\r\nI just had to edit the String that i was getting in the server by removing the quotes surrounding it with `img.substring(1, img.length() - 1)` and the \\n with `img.replace(&quot;\\\\n&quot;, &quot;&quot;)`.\r\n\r\nThe result code in the server is like this: \r\n\r\n```\r\nString fixed = img.substring(1, img.length() - 1).replace(&quot;\\\\n&quot;, &quot;&quot;);\r\nbyte[] imageByteArray = java.util.Base64.getMimeDecoder().decode(fixed);\r\nFileOutputStream stream = new FileOutputStream(&quot;C:\\\\Users\\\\Lau\\\\Desktop\\\\Folder\\\\test.jpg&quot;);\r\nstream.write(imageByteArray);\r\nstream.close();\r\n```\r\n\r\n**Special thanks to @jps**","title":"Can&#39;t open Base64 encoded image sent from Android to my Intellij server","body":"<p><strong>EDIT: BETTER WAY</strong></p>\n<p><strong>INSTEAD OF EDITING THE STRING IN THE SERVER WE SHOULD ENCODE IN ANDROID THIS WAY</strong></p>\n<p><code>Base64.encodeToString(bytes, Base64.NO_WRAP);</code></p>\n<p><strong>AND GET IT IN THE SERVER THE USUAL WAY WITHOUT EDITING THE STRING</strong></p>\n<p><code>java.util.Base64.getMimeDecoder().decode(yourByteArray);</code></p>\n<p><strong>PREVIOUS WAY:</strong></p>\n<p>I just had to edit the String that i was getting in the server by removing the quotes surrounding it with <code>img.substring(1, img.length() - 1)</code> and the \\n with <code>img.replace(&quot;\\\\n&quot;, &quot;&quot;)</code>.</p>\n<p>The result code in the server is like this:</p>\n<pre><code>String fixed = img.substring(1, img.length() - 1).replace(&quot;\\\\n&quot;, &quot;&quot;);\nbyte[] imageByteArray = java.util.Base64.getMimeDecoder().decode(fixed);\nFileOutputStream stream = new FileOutputStream(&quot;C:\\\\Users\\\\Lau\\\\Desktop\\\\Folder\\\\test.jpg&quot;);\nstream.write(imageByteArray);\nstream.close();\n</code></pre>\n<p><strong>Special thanks to @jps</strong></p>\n"}],"owner":{"account_id":20664898,"reputation":155,"user_id":15172005,"display_name":"lLauriix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67924626,"answer_count":1,"score":0,"last_activity_date":1697131617,"creation_date":1623337273,"question_id":67923796,"body_markdown":"I can&#39;t see my image once I&#39;ve saved it. \r\n\r\n**Image to Base64 method in my Android project**\r\n\r\n```\r\npublic String image2String(ImageView im) {\r\n        Bitmap bitmap = ((BitmapDrawable) im.getDrawable()).getBitmap();\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 90, baos);\r\n        byte[] bytes = baos.toByteArray();\r\n        return Base64.encodeToString(bytes, Base64.DEFAULT);\r\n    }\r\n```\r\n\r\n**Server side method in Intellij for writting in folder**\r\n\r\n```\r\ntry {\r\n            byte[] imageByteArray = java.util.Base64.getMimeDecoder().decode(img);\r\n            FileOutputStream stream = new FileOutputStream(&quot;C:\\\\Users\\\\Lau\\\\Desktop\\\\Folder\\\\test.jpg&quot;);\r\n            stream.write(imageByteArray);\r\n            stream.close();\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n```\r\n\r\nThere is no exception thrown but I can&#39;t open the file in the folder.\r\n\r\n[Window overview][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I6OrS.png\r\n\r\n\r\n`image2String` returns the following value: \r\n```\r\n/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdC\r\nIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAA\r\nAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlk\r\nZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAA\r\nAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAA\r\nAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAA\r\nAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3Bh\r\ncmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADT\r\nLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAw\r\nADEANv/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhAR\r\nExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQU\r\nFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/AABEIALQAeQMBIgACEQEDEQH/xAAeAAEAAgID\r\nAQEBAAAAAAAAAAAABQgBBgIEBwkDCv/EAFEQAAEBBQMFCAoOCAcAAAAAAAABAgMEBREGITEHFXGT\r\n0QgSQVFTVJGxExciMjM3YXSB8BQYNTZEcnN1g5KhssHDIyVCRVJVgtIkQ1ZiZJTh/8QAHAEAAQUB\r\nAQEAAAAAAAAAAAAAAAEEBQYHAgMI/8QALREAAgEDAAYLAQEBAAAAAAAAAAECAwQRBQYWITEyEhMU\r\nFTM0QVFSYnFhJEL/2gAMAwEAAhEDEQA/APqQAD1HAAAAExI+c+Cd6SQI6ceBZ8jRX9OeRqfgjIZc\r\nSEn3hXWhSbXEhJ/37rjop89VeUZV+RkSACMIb1AAA6AAAAAAA9bFaA6sxVpmCiGmVVFR20qKmKXH\r\n1wWU7FVM3nmSzeN52+1imFmsavwt/rFF3Cb/AGPTl4biPnC0cM6amgLNY1PhT70vFOLcxinqUaiH\r\njdOBWlK7p54saj/hxUl0I5ZsytJxkJPVq+daFOj7Lfco2n9SnBt629VFbaaapxrU+c51lJYIqpcR\r\nqRaRwAA0GeF7gAAGAAAAAAMhuPW1wOpM13suifkmuo7Z0ZutJfEfJtdR9bt4WSzRWXg8zVahEWqL\r\nfvUxvpQwaplXbadZOJ+8YaaYeMw6qy0yqoqLVBg75L/klVY59Ta6pSt3FjwGN8nGnSUUzvH3/wCO\r\nidc1tM54j+fROua2kVpGfb7advjGfU4no9zj0ekXrRU406QrSJwp0lEs7zDn0TrmtplJvHp8Oidc\r\n1tM02UaWOmMO5fsXsRU406TNU8hRPPUw59E65raYzzMOfxWua2hsp9xO5n8i9tK/+CnxugonniP5\r\n9E65raYzzH8EdFJ9M1tF2U+513N9i9tF4/sHT0FEs8zDn8VrmtozzMOfxWua2irVResw7l+5e2vr\r\nQdPQUSzzMOfxWua2jPMw5/Fa5raLsovmHci+Z9Q0inKpXsrFFw7pDozd+6al8QiPGFXsbV2+TiPN\r\n6JVcKmPXA2qfKzzp8yBqWVvxaWh82XrQ201LK14trQ+bL1oVuXEtUeBTQACHQAAAAAAAAAAAAAAA\r\nAF+mk7pTiZ6OMwU+nrn11Tq+hx3FGpXTlNLANSyt+LS0Pmy9aG2mo5XLsmtofNl60LdF9ZHJd6fK\r\nU2XEwZXEwdHQAAAAAAAAAAAAAAAAF+AAfP8AaY6+L/qM3oeIv0Go5XfFpaHzZetDbjUcrfi3tB5s\r\nvWhvVHHVmiU+QpsuJgftKD1TWN56v0AAFW8TKy0AALgAAAwLuAADAZQAAYDKL8AGaKfOkJunUUvY\r\nzCMnCafsYNWyqQz2Lydz104dtPXrUMqMsMJvlaWqYIhtVFMcPB68ZdY61VoRS6KJ/vmoo8pRlLMT\r\npb8zzC//AIrzYc0srOlSuaI9NMM3sLyLfVVxX1wPyirnSUJC01lq3NaNNxxkZXen6tCi6iitxSJL\r\nJTpf3TG/9dvYfhEWfmUIrPZ4CIc1W7sjppmvShdVFWp5nllXesQC8NGvwLyq7WWykS16uEt0EVvz\r\ndE8i3j/CozbE8i39VTf1xReBTNVPLtLG+3tz8UaAktiuReU+KplJZFL/AJLf1VN9AdpYm3138EaH\r\nmuL5FvoU5Zoi+Sa6DfPXExd5RO0sNvrv4o0TM8XyTQzPF8k0b3dUXcQdpYu3138EWJXKfZTfKqz+\r\nCZ/2q8SqGO2hZOvu/A6xCoKXJTgBgb4lre+Rb7tnWT/1BA6xDPbNspvfd+B1iFQBSpyclvu2dZRf\r\n3/A+h4flFZTrKtOkRmfQa/SFRUREwOSYaCV0W8XMP0i9J+Vn+Fq0ylWYv/XcHrDRspto5VaFzCLL\r\n5g4ildqqNdiarSp4YTVnFXfvdBsLlmKMZlNtYJyl9b1TgpgYAODzAAAXAAACAAABpQMrUwVnZyhn\r\nizeek2wAA2at/dh0gAD3oaDo281Uj6EXpOT7JMEzZzwj3QQxM2c79v0E9ndgxt8cE5wVNHt9lksz\r\nk1j3EHPYxYV8+ddlYRGGmqpVU4EXiN4RaImHpKW7uhre21kDN+9zffrGx1QpqpNJk9oWyhfXCpVO\r\nB7b7bTJ4mE1aX6Fv+04rut8n/wDMm1+ib/tPnymC3KhnHhJbsNM0zZK1/p9A13XNgP5g3qmth3HG\r\n6hsTEu2W3cW8aZW+vY2th876qhucj7mWub6VReHyjavbQpxyiMv9XLa2pqUcl4fbMWOrdEPF/oXY\r\nfr7Y+yfKvPqrsKUMtKjaXVvuUkd+1/ERjjgr0tFUFjBeZrFNBgy1dQxXyjneX5YAFLkpfxj7RMsU\r\nAA5lvW8i9JeUmCZs54R7oIYmbOL+ke6BrwMezh5JwpZu6PfxIfm/8xsuniqlLN3R7+JD83/mNkja\r\neIi36rr/AGplZUwATAFgZvO8G5SRP1W49P4mmm6SW6VONFftGV1yFf0x4SO8z36EpTykWz3yaSTI\r\nJ4KNI+r7zci2ieNK0k6laIt9F7JX7p1Y/cmWhgIGIiW51LGmXLtp4qMo8qqIlbu58hbZaEdaJKyG\r\nYpxwzz7qkLG8qNpGmzsaMU2kfOyIdq5iHrppe6YaVjfM4NUPz+w7EyumMV5HrfWp10vJyLyslZku\r\niwAAfAitJeVn+Al7PLR880EQS9nvDN6BuY9LiieXEpZu6PfxIfm/8xsuomK6Cle7o9/Eh+b/AMxs\r\nkLTxEXDVfzqKypgAmALAzdwbpJvcpx8X8VNLNzk/uW40fiMLrkK/pjwkd5O/TSShFp36aSUIRlIk\r\nf0FnQtF3Nn5kqY+x3n3VAKxT5ka9Pgz55TNlM6RXyzXWp06dygBZ1ylMqcw/YOD54rthVSlapiAd\r\nETpHysz9EwZJWz6d28bqtaJdwAHk+VmRz9SfKX7uZlGrayTg3svup8dsAc2XOiy6seegVgS/yaDL\r\nKXYqAWZcDfHxMm8WeYRqWOKgEde+GVzTfgr9JNh0zv00kj7EY42ukAr7KDU4n//Z\r\n```\r\nWhile the string that I receive on the server is like this:\r\n\r\n```\r\n&quot;/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdC\\nIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAA\\nAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlk\\nZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAA\\nAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAA\\nAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAA\\nAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3Bh\\ncmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADT\\nLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAw\\nADEANv/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhAR\\nExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQU\\nFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/AABEIALQAeQMBIgACEQEDEQH/xAAeAAEAAgID\\nAQEBAAAAAAAAAAAABQgBBgIEBwkDCv/EAFEQAAEBBQMFCAoOCAcAAAAAAAABAgMEBREGITEHFXGT\\n0QgSQVFTVJGxExciMjM3YXSB8BQYNTZEcnN1g5KhssHDIyVCRVJVgtIkQ1ZiZJTh/8QAHAEAAQUB\\nAQEAAAAAAAAAAAAAAAEEBQYHAgMI/8QALREAAgEDAAYLAQEBAAAAAAAAAAECAwQRBQYWITEyEhMU\\nFTM0QVFSYnFhJEL/2gAMAwEAAhEDEQA/APqQAD1HAAAAExI+c+Cd6SQI6ceBZ8jRX9OeRqfgjIZc\\nSEn3hXWhSbXEhJ/37rjop89VeUZV+RkSACMIb1AAA6AAAAAAA9bFaA6sxVpmCiGmVVFR20qKmKXH\\n1wWU7FVM3nmSzeN52+1imFmsavwt/rFF3Cb/AGPTl4biPnC0cM6amgLNY1PhT70vFOLcxinqUaiH\\njdOBWlK7p54saj/hxUl0I5ZsytJxkJPVq+daFOj7Lfco2n9SnBt629VFbaaapxrU+c51lJYIqpcR\\nqRaRwAA0GeF7gAAGAAAAAAMhuPW1wOpM13suifkmuo7Z0ZutJfEfJtdR9bt4WSzRWXg8zVahEWqL\\nfvUxvpQwaplXbadZOJ+8YaaYeMw6qy0yqoqLVBg75L/klVY59Ta6pSt3FjwGN8nGnSUUzvH3/wCO\\nidc1tM54j+fROua2kVpGfb7advjGfU4no9zj0ekXrRU406QrSJwp0lEs7zDn0TrmtplJvHp8Oidc\\n1tM02UaWOmMO5fsXsRU406TNU8hRPPUw59E65raYzzMOfxWua2hsp9xO5n8i9tK/+CnxugonniP5\\n9E65raYzzH8EdFJ9M1tF2U+513N9i9tF4/sHT0FEs8zDn8VrmtozzMOfxWua2irVResw7l+5e2vr\\nQdPQUSzzMOfxWua2jPMw5/Fa5raLsovmHci+Z9Q0inKpXsrFFw7pDozd+6al8QiPGFXsbV2+TiPN\\n6JVcKmPXA2qfKzzp8yBqWVvxaWh82XrQ201LK14trQ+bL1oVuXEtUeBTQACHQAAAAAAAAAAAAAAA\\nAF+mk7pTiZ6OMwU+nrn11Tq+hx3FGpXTlNLANSyt+LS0Pmy9aG2mo5XLsmtofNl60LdF9ZHJd6fK\\nU2XEwZXEwdHQAAAAAAAAAAAAAAAAF+AAfP8AaY6+L/qM3oeIv0Go5XfFpaHzZetDbjUcrfi3tB5s\\nvWhvVHHVmiU+QpsuJgftKD1TWN56v0AAFW8TKy0AALgAAAwLuAADAZQAAYDKL8AGaKfOkJunUUvY\\nzCMnCafsYNWyqQz2Lydz104dtPXrUMqMsMJvlaWqYIhtVFMcPB68ZdY61VoRS6KJ/vmoo8pRlLMT\\npb8zzC//AIrzYc0srOlSuaI9NMM3sLyLfVVxX1wPyirnSUJC01lq3NaNNxxkZXen6tCi6iitxSJL\\nJTpf3TG/9dvYfhEWfmUIrPZ4CIc1W7sjppmvShdVFWp5nllXesQC8NGvwLyq7WWykS16uEt0EVvz\\ndE8i3j/CozbE8i39VTf1xReBTNVPLtLG+3tz8UaAktiuReU+KplJZFL/AJLf1VN9AdpYm3138EaH\\nmuL5FvoU5Zoi+Sa6DfPXExd5RO0sNvrv4o0TM8XyTQzPF8k0b3dUXcQdpYu3138EWJXKfZTfKqz+\\nCZ/2q8SqGO2hZOvu/A6xCoKXJTgBgb4lre+Rb7tnWT/1BA6xDPbNspvfd+B1iFQBSpyclvu2dZRf\\n3/A+h4flFZTrKtOkRmfQa/SFRUREwOSYaCV0W8XMP0i9J+Vn+Fq0ylWYv/XcHrDRspto5VaFzCLL\\n5g4ildqqNdiarSp4YTVnFXfvdBsLlmKMZlNtYJyl9b1TgpgYAODzAAAXAAACAAABpQMrUwVnZyhn\\nizeek2wAA2at/dh0gAD3oaDo281Uj6EXpOT7JMEzZzwj3QQxM2c79v0E9ndgxt8cE5wVNHt9lksz\\nk1j3EHPYxYV8+ddlYRGGmqpVU4EXiN4RaImHpKW7uhre21kDN+9zffrGx1QpqpNJk9oWyhfXCpVO\\nB7b7bTJ4mE1aX6Fv+04rut8n/wDMm1+ib/tPnymC3KhnHhJbsNM0zZK1/p9A13XNgP5g3qmth3HG\\n6hsTEu2W3cW8aZW+vY2th876qhucj7mWub6VReHyjavbQpxyiMv9XLa2pqUcl4fbMWOrdEPF/oXY\\nfr7Y+yfKvPqrsKUMtKjaXVvuUkd+1/ERjjgr0tFUFjBeZrFNBgy1dQxXyjneX5YAFLkpfxj7RMsU\\nAA5lvW8i9JeUmCZs54R7oIYmbOL+ke6BrwMezh5JwpZu6PfxIfm/8xsuniqlLN3R7+JD83/mNkja\\neIi36rr/AGplZUwATAFgZvO8G5SRP1W49P4mmm6SW6VONFftGV1yFf0x4SO8z36EpTykWz3yaSTI\\nJ4KNI+r7zci2ieNK0k6laIt9F7JX7p1Y/cmWhgIGIiW51LGmXLtp4qMo8qqIlbu58hbZaEdaJKyG\\nYpxwzz7qkLG8qNpGmzsaMU2kfOyIdq5iHrppe6YaVjfM4NUPz+w7EyumMV5HrfWp10vJyLyslZku\\niwAAfAitJeVn+Al7PLR880EQS9nvDN6BuY9LiieXEpZu6PfxIfm/8xsuomK6Cle7o9/Eh+b/AMxs\\nkLTxEXDVfzqKypgAmALAzdwbpJvcpx8X8VNLNzk/uW40fiMLrkK/pjwkd5O/TSShFp36aSUIRlIk\\nf0FnQtF3Nn5kqY+x3n3VAKxT5ka9Pgz55TNlM6RXyzXWp06dygBZ1ylMqcw/YOD54rthVSlapiAd\\nETpHysz9EwZJWz6d28bqtaJdwAHk+VmRz9SfKX7uZlGrayTg3svup8dsAc2XOiy6seegVgS/yaDL\\nKXYqAWZcDfHxMm8WeYRqWOKgEde+GVzTfgr9JNh0zv00kj7EY42ukAr7KDU4n//Z\\n&quot;\r\n```\r\n\r\nIn the server `imageByteArray` has a lenght of 2994 bytes and the file on my folder is 2,92 KB (2.994 bytes).\r\n\r\n","title":"Can&#39;t open Base64 encoded image sent from Android to my Intellij server","body":"<p>I can't see my image once I've saved it.</p>\n<p><strong>Image to Base64 method in my Android project</strong></p>\n<pre><code>public String image2String(ImageView im) {\n        Bitmap bitmap = ((BitmapDrawable) im.getDrawable()).getBitmap();\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 90, baos);\n        byte[] bytes = baos.toByteArray();\n        return Base64.encodeToString(bytes, Base64.DEFAULT);\n    }\n</code></pre>\n<p><strong>Server side method in Intellij for writting in folder</strong></p>\n<pre><code>try {\n            byte[] imageByteArray = java.util.Base64.getMimeDecoder().decode(img);\n            FileOutputStream stream = new FileOutputStream(&quot;C:\\\\Users\\\\Lau\\\\Desktop\\\\Folder\\\\test.jpg&quot;);\n            stream.write(imageByteArray);\n            stream.close();\n        } catch (Exception e) {\n            return false;\n        }\n</code></pre>\n<p>There is no exception thrown but I can't open the file in the folder.</p>\n<p><a href=\"https://i.stack.imgur.com/I6OrS.png\" rel=\"nofollow noreferrer\">Window overview</a></p>\n<p><code>image2String</code> returns the following value:</p>\n<pre><code>/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdC\nIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAA\nAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlk\nZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAA\nAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAA\nAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAA\nAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3Bh\ncmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADT\nLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAw\nADEANv/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhAR\nExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQU\nFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/AABEIALQAeQMBIgACEQEDEQH/xAAeAAEAAgID\nAQEBAAAAAAAAAAAABQgBBgIEBwkDCv/EAFEQAAEBBQMFCAoOCAcAAAAAAAABAgMEBREGITEHFXGT\n0QgSQVFTVJGxExciMjM3YXSB8BQYNTZEcnN1g5KhssHDIyVCRVJVgtIkQ1ZiZJTh/8QAHAEAAQUB\nAQEAAAAAAAAAAAAAAAEEBQYHAgMI/8QALREAAgEDAAYLAQEBAAAAAAAAAAECAwQRBQYWITEyEhMU\nFTM0QVFSYnFhJEL/2gAMAwEAAhEDEQA/APqQAD1HAAAAExI+c+Cd6SQI6ceBZ8jRX9OeRqfgjIZc\nSEn3hXWhSbXEhJ/37rjop89VeUZV+RkSACMIb1AAA6AAAAAAA9bFaA6sxVpmCiGmVVFR20qKmKXH\n1wWU7FVM3nmSzeN52+1imFmsavwt/rFF3Cb/AGPTl4biPnC0cM6amgLNY1PhT70vFOLcxinqUaiH\njdOBWlK7p54saj/hxUl0I5ZsytJxkJPVq+daFOj7Lfco2n9SnBt629VFbaaapxrU+c51lJYIqpcR\nqRaRwAA0GeF7gAAGAAAAAAMhuPW1wOpM13suifkmuo7Z0ZutJfEfJtdR9bt4WSzRWXg8zVahEWqL\nfvUxvpQwaplXbadZOJ+8YaaYeMw6qy0yqoqLVBg75L/klVY59Ta6pSt3FjwGN8nGnSUUzvH3/wCO\nidc1tM54j+fROua2kVpGfb7advjGfU4no9zj0ekXrRU406QrSJwp0lEs7zDn0TrmtplJvHp8Oidc\n1tM02UaWOmMO5fsXsRU406TNU8hRPPUw59E65raYzzMOfxWua2hsp9xO5n8i9tK/+CnxugonniP5\n9E65raYzzH8EdFJ9M1tF2U+513N9i9tF4/sHT0FEs8zDn8VrmtozzMOfxWua2irVResw7l+5e2vr\nQdPQUSzzMOfxWua2jPMw5/Fa5raLsovmHci+Z9Q0inKpXsrFFw7pDozd+6al8QiPGFXsbV2+TiPN\n6JVcKmPXA2qfKzzp8yBqWVvxaWh82XrQ201LK14trQ+bL1oVuXEtUeBTQACHQAAAAAAAAAAAAAAA\nAF+mk7pTiZ6OMwU+nrn11Tq+hx3FGpXTlNLANSyt+LS0Pmy9aG2mo5XLsmtofNl60LdF9ZHJd6fK\nU2XEwZXEwdHQAAAAAAAAAAAAAAAAF+AAfP8AaY6+L/qM3oeIv0Go5XfFpaHzZetDbjUcrfi3tB5s\nvWhvVHHVmiU+QpsuJgftKD1TWN56v0AAFW8TKy0AALgAAAwLuAADAZQAAYDKL8AGaKfOkJunUUvY\nzCMnCafsYNWyqQz2Lydz104dtPXrUMqMsMJvlaWqYIhtVFMcPB68ZdY61VoRS6KJ/vmoo8pRlLMT\npb8zzC//AIrzYc0srOlSuaI9NMM3sLyLfVVxX1wPyirnSUJC01lq3NaNNxxkZXen6tCi6iitxSJL\nJTpf3TG/9dvYfhEWfmUIrPZ4CIc1W7sjppmvShdVFWp5nllXesQC8NGvwLyq7WWykS16uEt0EVvz\ndE8i3j/CozbE8i39VTf1xReBTNVPLtLG+3tz8UaAktiuReU+KplJZFL/AJLf1VN9AdpYm3138EaH\nmuL5FvoU5Zoi+Sa6DfPXExd5RO0sNvrv4o0TM8XyTQzPF8k0b3dUXcQdpYu3138EWJXKfZTfKqz+\nCZ/2q8SqGO2hZOvu/A6xCoKXJTgBgb4lre+Rb7tnWT/1BA6xDPbNspvfd+B1iFQBSpyclvu2dZRf\n3/A+h4flFZTrKtOkRmfQa/SFRUREwOSYaCV0W8XMP0i9J+Vn+Fq0ylWYv/XcHrDRspto5VaFzCLL\n5g4ildqqNdiarSp4YTVnFXfvdBsLlmKMZlNtYJyl9b1TgpgYAODzAAAXAAACAAABpQMrUwVnZyhn\nizeek2wAA2at/dh0gAD3oaDo281Uj6EXpOT7JMEzZzwj3QQxM2c79v0E9ndgxt8cE5wVNHt9lksz\nk1j3EHPYxYV8+ddlYRGGmqpVU4EXiN4RaImHpKW7uhre21kDN+9zffrGx1QpqpNJk9oWyhfXCpVO\nB7b7bTJ4mE1aX6Fv+04rut8n/wDMm1+ib/tPnymC3KhnHhJbsNM0zZK1/p9A13XNgP5g3qmth3HG\n6hsTEu2W3cW8aZW+vY2th876qhucj7mWub6VReHyjavbQpxyiMv9XLa2pqUcl4fbMWOrdEPF/oXY\nfr7Y+yfKvPqrsKUMtKjaXVvuUkd+1/ERjjgr0tFUFjBeZrFNBgy1dQxXyjneX5YAFLkpfxj7RMsU\nAA5lvW8i9JeUmCZs54R7oIYmbOL+ke6BrwMezh5JwpZu6PfxIfm/8xsuniqlLN3R7+JD83/mNkja\neIi36rr/AGplZUwATAFgZvO8G5SRP1W49P4mmm6SW6VONFftGV1yFf0x4SO8z36EpTykWz3yaSTI\nJ4KNI+r7zci2ieNK0k6laIt9F7JX7p1Y/cmWhgIGIiW51LGmXLtp4qMo8qqIlbu58hbZaEdaJKyG\nYpxwzz7qkLG8qNpGmzsaMU2kfOyIdq5iHrppe6YaVjfM4NUPz+w7EyumMV5HrfWp10vJyLyslZku\niwAAfAitJeVn+Al7PLR880EQS9nvDN6BuY9LiieXEpZu6PfxIfm/8xsuomK6Cle7o9/Eh+b/AMxs\nkLTxEXDVfzqKypgAmALAzdwbpJvcpx8X8VNLNzk/uW40fiMLrkK/pjwkd5O/TSShFp36aSUIRlIk\nf0FnQtF3Nn5kqY+x3n3VAKxT5ka9Pgz55TNlM6RXyzXWp06dygBZ1ylMqcw/YOD54rthVSlapiAd\nETpHysz9EwZJWz6d28bqtaJdwAHk+VmRz9SfKX7uZlGrayTg3svup8dsAc2XOiy6seegVgS/yaDL\nKXYqAWZcDfHxMm8WeYRqWOKgEde+GVzTfgr9JNh0zv00kj7EY42ukAr7KDU4n//Z\n</code></pre>\n<p>While the string that I receive on the server is like this:</p>\n<pre><code>&quot;/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdC\\nIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAA\\nAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlk\\nZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAA\\nAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAA\\nAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAA\\nAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3Bh\\ncmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADT\\nLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAw\\nADEANv/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhAR\\nExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQU\\nFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/AABEIALQAeQMBIgACEQEDEQH/xAAeAAEAAgID\\nAQEBAAAAAAAAAAAABQgBBgIEBwkDCv/EAFEQAAEBBQMFCAoOCAcAAAAAAAABAgMEBREGITEHFXGT\\n0QgSQVFTVJGxExciMjM3YXSB8BQYNTZEcnN1g5KhssHDIyVCRVJVgtIkQ1ZiZJTh/8QAHAEAAQUB\\nAQEAAAAAAAAAAAAAAAEEBQYHAgMI/8QALREAAgEDAAYLAQEBAAAAAAAAAAECAwQRBQYWITEyEhMU\\nFTM0QVFSYnFhJEL/2gAMAwEAAhEDEQA/APqQAD1HAAAAExI+c+Cd6SQI6ceBZ8jRX9OeRqfgjIZc\\nSEn3hXWhSbXEhJ/37rjop89VeUZV+RkSACMIb1AAA6AAAAAAA9bFaA6sxVpmCiGmVVFR20qKmKXH\\n1wWU7FVM3nmSzeN52+1imFmsavwt/rFF3Cb/AGPTl4biPnC0cM6amgLNY1PhT70vFOLcxinqUaiH\\njdOBWlK7p54saj/hxUl0I5ZsytJxkJPVq+daFOj7Lfco2n9SnBt629VFbaaapxrU+c51lJYIqpcR\\nqRaRwAA0GeF7gAAGAAAAAAMhuPW1wOpM13suifkmuo7Z0ZutJfEfJtdR9bt4WSzRWXg8zVahEWqL\\nfvUxvpQwaplXbadZOJ+8YaaYeMw6qy0yqoqLVBg75L/klVY59Ta6pSt3FjwGN8nGnSUUzvH3/wCO\\nidc1tM54j+fROua2kVpGfb7advjGfU4no9zj0ekXrRU406QrSJwp0lEs7zDn0TrmtplJvHp8Oidc\\n1tM02UaWOmMO5fsXsRU406TNU8hRPPUw59E65raYzzMOfxWua2hsp9xO5n8i9tK/+CnxugonniP5\\n9E65raYzzH8EdFJ9M1tF2U+513N9i9tF4/sHT0FEs8zDn8VrmtozzMOfxWua2irVResw7l+5e2vr\\nQdPQUSzzMOfxWua2jPMw5/Fa5raLsovmHci+Z9Q0inKpXsrFFw7pDozd+6al8QiPGFXsbV2+TiPN\\n6JVcKmPXA2qfKzzp8yBqWVvxaWh82XrQ201LK14trQ+bL1oVuXEtUeBTQACHQAAAAAAAAAAAAAAA\\nAF+mk7pTiZ6OMwU+nrn11Tq+hx3FGpXTlNLANSyt+LS0Pmy9aG2mo5XLsmtofNl60LdF9ZHJd6fK\\nU2XEwZXEwdHQAAAAAAAAAAAAAAAAF+AAfP8AaY6+L/qM3oeIv0Go5XfFpaHzZetDbjUcrfi3tB5s\\nvWhvVHHVmiU+QpsuJgftKD1TWN56v0AAFW8TKy0AALgAAAwLuAADAZQAAYDKL8AGaKfOkJunUUvY\\nzCMnCafsYNWyqQz2Lydz104dtPXrUMqMsMJvlaWqYIhtVFMcPB68ZdY61VoRS6KJ/vmoo8pRlLMT\\npb8zzC//AIrzYc0srOlSuaI9NMM3sLyLfVVxX1wPyirnSUJC01lq3NaNNxxkZXen6tCi6iitxSJL\\nJTpf3TG/9dvYfhEWfmUIrPZ4CIc1W7sjppmvShdVFWp5nllXesQC8NGvwLyq7WWykS16uEt0EVvz\\ndE8i3j/CozbE8i39VTf1xReBTNVPLtLG+3tz8UaAktiuReU+KplJZFL/AJLf1VN9AdpYm3138EaH\\nmuL5FvoU5Zoi+Sa6DfPXExd5RO0sNvrv4o0TM8XyTQzPF8k0b3dUXcQdpYu3138EWJXKfZTfKqz+\\nCZ/2q8SqGO2hZOvu/A6xCoKXJTgBgb4lre+Rb7tnWT/1BA6xDPbNspvfd+B1iFQBSpyclvu2dZRf\\n3/A+h4flFZTrKtOkRmfQa/SFRUREwOSYaCV0W8XMP0i9J+Vn+Fq0ylWYv/XcHrDRspto5VaFzCLL\\n5g4ildqqNdiarSp4YTVnFXfvdBsLlmKMZlNtYJyl9b1TgpgYAODzAAAXAAACAAABpQMrUwVnZyhn\\nizeek2wAA2at/dh0gAD3oaDo281Uj6EXpOT7JMEzZzwj3QQxM2c79v0E9ndgxt8cE5wVNHt9lksz\\nk1j3EHPYxYV8+ddlYRGGmqpVU4EXiN4RaImHpKW7uhre21kDN+9zffrGx1QpqpNJk9oWyhfXCpVO\\nB7b7bTJ4mE1aX6Fv+04rut8n/wDMm1+ib/tPnymC3KhnHhJbsNM0zZK1/p9A13XNgP5g3qmth3HG\\n6hsTEu2W3cW8aZW+vY2th876qhucj7mWub6VReHyjavbQpxyiMv9XLa2pqUcl4fbMWOrdEPF/oXY\\nfr7Y+yfKvPqrsKUMtKjaXVvuUkd+1/ERjjgr0tFUFjBeZrFNBgy1dQxXyjneX5YAFLkpfxj7RMsU\\nAA5lvW8i9JeUmCZs54R7oIYmbOL+ke6BrwMezh5JwpZu6PfxIfm/8xsuniqlLN3R7+JD83/mNkja\\neIi36rr/AGplZUwATAFgZvO8G5SRP1W49P4mmm6SW6VONFftGV1yFf0x4SO8z36EpTykWz3yaSTI\\nJ4KNI+r7zci2ieNK0k6laIt9F7JX7p1Y/cmWhgIGIiW51LGmXLtp4qMo8qqIlbu58hbZaEdaJKyG\\nYpxwzz7qkLG8qNpGmzsaMU2kfOyIdq5iHrppe6YaVjfM4NUPz+w7EyumMV5HrfWp10vJyLyslZku\\niwAAfAitJeVn+Al7PLR880EQS9nvDN6BuY9LiieXEpZu6PfxIfm/8xsuomK6Cle7o9/Eh+b/AMxs\\nkLTxEXDVfzqKypgAmALAzdwbpJvcpx8X8VNLNzk/uW40fiMLrkK/pjwkd5O/TSShFp36aSUIRlIk\\nf0FnQtF3Nn5kqY+x3n3VAKxT5ka9Pgz55TNlM6RXyzXWp06dygBZ1ylMqcw/YOD54rthVSlapiAd\\nETpHysz9EwZJWz6d28bqtaJdwAHk+VmRz9SfKX7uZlGrayTg3svup8dsAc2XOiy6seegVgS/yaDL\\nKXYqAWZcDfHxMm8WeYRqWOKgEde+GVzTfgr9JNh0zv00kj7EY42ukAr7KDU4n//Z\\n&quot;\n</code></pre>\n<p>In the server <code>imageByteArray</code> has a lenght of 2994 bytes and the file on my folder is 2,92 KB (2.994 bytes).</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697115510,"creation_date":1697114898,"answer_id":77280721,"question_id":77280683,"body_markdown":"The top line in the stacktrace states that: **&quot;lateinit property binding has not been initialized&quot;**. \r\nInside the SplashActivity, in the onCreate method, there is no assignment for the binding variable.\r\n\r\nYou could see in the [documentation][1], that you need to use the inflate method to initialize the binding variable.\r\n\r\n\r\n    class SplashActivity : AppCompatActivity() {\r\n    \r\n        private lateinit var binding: ActivitySplashBinding\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivitySplashBinding.inflate(layoutInflater)\r\n            val view = binding.root\r\n            setContentView(view)\r\n       }\r\n    }\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding\r\n\r\n**Also notice that in your original code you are calling setContentView twice.**\r\n","title":"UninitializedPropertyAccessException","body":"<p>The top line in the stacktrace states that: <strong>&quot;lateinit property binding has not been initialized&quot;</strong>.\nInside the SplashActivity, in the onCreate method, there is no assignment for the binding variable.</p>\n<p>You could see in the <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">documentation</a>, that you need to use the inflate method to initialize the binding variable.</p>\n<pre><code>class SplashActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivitySplashBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivitySplashBinding.inflate(layoutInflater)\n        val view = binding.root\n        setContentView(view)\n   }\n}\n</code></pre>\n<p><strong>Also notice that in your original code you are calling setContentView twice.</strong></p>\n"}],"owner":{"account_id":29654094,"reputation":3,"user_id":22727230,"display_name":"Gurasis Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":77280721,"answer_count":1,"score":-4,"last_activity_date":1697131531,"creation_date":1697114588,"question_id":77280683,"body_markdown":"```none\r\nFATAL EXCEPTION: main\r\nProcess: com.example.organizeme, PID: 6281\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.organizeme/com.example.organizeme.SplashActivity}: kotlin.UninitializedPropertyAccessException: lateinit property binding has not been initialized\r\n\t  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n\t  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n\t  at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n\t  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n   \t  at android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t  at android.os.Looper.loop(Looper.java:154)\r\n\t  at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n\t  at java.lang.reflect.Method.invoke(Native Method)\r\n\t  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n\t  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n  Caused by: kotlin.UninitializedPropertyAccessException: lateinit property binding has not been initialized\r\n\t  at com.example.organizeme.SplashActivity.onCreate(SplashActivity.kt:31)\r\n\t  at android.app.Activity.performCreate(Activity.java:6662)\r\n\t  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n\t  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n\t  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)&#160;\r\n\t  at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n\t  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)&#160;\r\n\t  at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n\t  at android.os.Looper.loop(Looper.java:154)&#160;\r\n\t  at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n\t  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\t  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)&#160; \r\n\t  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n```\r\n\r\nI tried searching online for resolving the errors, but couldn&#39;t get a clear or concise solution to the errors\r\n\r\n***SplashActivity.kt***\r\n```kotlin\r\npackage com.example.organizeme\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.graphics.Typeface\r\nimport android.os.Build\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.view.WindowInsets\r\nimport android.view.WindowManager\r\nimport com.example.organizeme.databinding.ActivitySplashBinding\r\n\r\n@SuppressLint(&quot;CustomSplashScreen&quot;)\r\nclass SplashActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivitySplashBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_splash)\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            window.insetsController?.hide(WindowInsets.Type.statusBars())\r\n        } else {\r\n            @Suppress(&quot;DEPRECATION&quot;)\r\n            window.setFlags(\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN\r\n            )\r\n        }\r\n\r\n        val view = binding.root\r\n\r\n        setContentView(view)\r\n\r\n        val typeFace : Typeface = Typeface.createFromAsset(assets, &quot;carbon bl.otf&quot;)\r\n        binding.tvAppName.typeface = typeFace\r\n    }\r\n}\r\n```\r\n***activity_splash.xml***\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!--suppress XmlUnusedNamespaceDeclaration --&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:background=&quot;@drawable/splash_screen&quot;\r\n    tools:context=&quot;.SplashActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvAppName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        android:textColor=&quot;@android:color/white&quot;\r\n        android:textSize=&quot;@dimen/splash_screen_title_text_size&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n***AndroidManifest.xml***\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.OrganizeMe&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:screenOrientation=&quot;fullSensor&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/title_activity_splash&quot;\r\n            android:theme=&quot;@style/Theme.OrganizeMe&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n","title":"UninitializedPropertyAccessException","body":"<pre class=\"lang-none prettyprint-override\"><code>FATAL EXCEPTION: main\nProcess: com.example.organizeme, PID: 6281\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.organizeme/com.example.organizeme.SplashActivity}: kotlin.UninitializedPropertyAccessException: lateinit property binding has not been initialized\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n      at android.os.Handler.dispatchMessage(Handler.java:102)\n      at android.os.Looper.loop(Looper.java:154)\n      at android.app.ActivityThread.main(ActivityThread.java:6077)\n      at java.lang.reflect.Method.invoke(Native Method)\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n  Caused by: kotlin.UninitializedPropertyAccessException: lateinit property binding has not been initialized\n      at com.example.organizeme.SplashActivity.onCreate(SplashActivity.kt:31)\n      at android.app.Activity.performCreate(Activity.java:6662)\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707) \n      at android.app.ActivityThread.-wrap12(ActivityThread.java) \n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460) \n      at android.os.Handler.dispatchMessage(Handler.java:102) \n      at android.os.Looper.loop(Looper.java:154) \n      at android.app.ActivityThread.main(ActivityThread.java:6077) \n      at java.lang.reflect.Method.invoke(Native Method) \n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)  \n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n<p>I tried searching online for resolving the errors, but couldn't get a clear or concise solution to the errors</p>\n<p><em><strong>SplashActivity.kt</strong></em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.organizeme\n\nimport android.annotation.SuppressLint\nimport android.graphics.Typeface\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.WindowInsets\nimport android.view.WindowManager\nimport com.example.organizeme.databinding.ActivitySplashBinding\n\n@SuppressLint(&quot;CustomSplashScreen&quot;)\nclass SplashActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivitySplashBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_splash)\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            window.insetsController?.hide(WindowInsets.Type.statusBars())\n        } else {\n            @Suppress(&quot;DEPRECATION&quot;)\n            window.setFlags(\n                WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN\n            )\n        }\n\n        val view = binding.root\n\n        setContentView(view)\n\n        val typeFace : Typeface = Typeface.createFromAsset(assets, &quot;carbon bl.otf&quot;)\n        binding.tvAppName.typeface = typeFace\n    }\n}\n</code></pre>\n<p><em><strong>activity_splash.xml</strong></em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!--suppress XmlUnusedNamespaceDeclaration --&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:background=&quot;@drawable/splash_screen&quot;\n    tools:context=&quot;.SplashActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvAppName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/app_name&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:textSize=&quot;@dimen/splash_screen_title_text_size&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><em><strong>AndroidManifest.xml</strong></em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.OrganizeMe&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.SplashActivity&quot;\n            android:screenOrientation=&quot;fullSensor&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/title_activity_splash&quot;\n            android:theme=&quot;@style/Theme.OrganizeMe&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","mybatis","spring-mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1697135210,"post_id":77282654,"comment_id":136245143,"body_markdown":"When `value` is `NULL`, the condition must be `${key} IS NULL`. See this [Q&amp;A](https://stackoverflow.com/q/9581745/1261766) for why.","body":"When <code>value</code> is <code>NULL</code>, the condition must be <code>${key} IS NULL</code>. See this <a href=\"https://stackoverflow.com/q/9581745/1261766\">Q&amp;A</a> for why."}],"owner":{"account_id":19163226,"reputation":3,"user_id":13998552,"display_name":"Lilia Baluk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697131468,"creation_date":1697131332,"question_id":77282654,"body_markdown":"When conditions map contains a null value, record is not deleted.\r\n\r\nmap -&gt; NAME:&quot;Alise&quot; - record deleted\r\n\r\nmap -&gt; NAME:null    - record not deleted\r\n\r\n```\r\n@Delete(&quot;&lt;script&gt;&quot; +\r\n        &quot;DELETE FROM ${dataDestinationName}&quot; +\r\n        &quot; WHERE&quot; +\r\n        &quot;&lt;foreach collection=\\&quot;conditions.entrySet()\\&quot; item=\\&quot;value\\&quot; index=\\&quot;key\\&quot; separator=\\&quot;AND\\&quot;&gt;&quot; +\r\n        &quot;${key}=#{value}&quot; +\r\n        &quot;&lt;/foreach&gt;&quot; +\r\n        &quot;&lt;/script&gt;&quot;)\r\n    void deleteData(@Param(&quot;dataDestinationName&quot;) String dataDestinationName,\r\n                    @Param(&quot;conditions&quot;) HashMap&lt;String, Object&gt; conditions);\r\n```\r\n\r\nI would like to record be deleted in both cases.","title":"Cannot delete a record using Mybatis","body":"<p>When conditions map contains a null value, record is not deleted.</p>\n<p>map -&gt; NAME:&quot;Alise&quot; - record deleted</p>\n<p>map -&gt; NAME:null    - record not deleted</p>\n<pre><code>@Delete(&quot;&lt;script&gt;&quot; +\n        &quot;DELETE FROM ${dataDestinationName}&quot; +\n        &quot; WHERE&quot; +\n        &quot;&lt;foreach collection=\\&quot;conditions.entrySet()\\&quot; item=\\&quot;value\\&quot; index=\\&quot;key\\&quot; separator=\\&quot;AND\\&quot;&gt;&quot; +\n        &quot;${key}=#{value}&quot; +\n        &quot;&lt;/foreach&gt;&quot; +\n        &quot;&lt;/script&gt;&quot;)\n    void deleteData(@Param(&quot;dataDestinationName&quot;) String dataDestinationName,\n                    @Param(&quot;conditions&quot;) HashMap&lt;String, Object&gt; conditions);\n</code></pre>\n<p>I would like to record be deleted in both cases.</p>\n"},{"tags":["java","amazon-web-services","aws-sdk"],"comments":[{"owner":{"account_id":22397,"reputation":417270,"user_id":55159,"accept_rate":79,"display_name":"Quassnoi"},"score":0,"creation_date":1697127443,"post_id":77281791,"comment_id":136243756,"body_markdown":"Somehow, the system property `aws.accessKeyId` is blank by the time Athena client tries to read it. What happens if you set a breakpoint on `submitAthenaQuery` and look at the system properties at that point?","body":"Somehow, the system property <code>aws.accessKeyId</code> is blank by the time Athena client tries to read it. What happens if you set a breakpoint on <code>submitAthenaQuery</code> and look at the system properties at that point?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1697129431,"post_id":77281791,"comment_id":136244077,"body_markdown":"Are you using the V2 RdsDataClient object that queries Amazon Aurora Serverless data ?","body":"Are you using the V2 RdsDataClient object that queries Amazon Aurora Serverless data ?"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697130651,"creation_date":1697129834,"answer_id":77282508,"question_id":77281791,"body_markdown":"You seem to be using AWS Java SDK V2 but you referenced a 3rd party example that uses V1. \r\n\r\nThe issue you are seeing is your client cannot find your cred keys. Make sure that you specify your creds as specified in the **Java V2 Developer Guide** here: \r\n\r\n[Default credentials provider chain][1]\r\n\r\nNow for your question about using a VPN. That can certainly impact connecting to Aurora database as it can impact your IP address when setting up Inbound Rules. I have come across that many times in the past. If you set your inbound Rules using your IP withot VPN and then connect to VPN, you IP changes. \r\n\r\nFor information about setting up security group inbound rules, see [Controlling Access with Security Groups][2].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\r\n  [2]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html","title":"Unable to connect to AWS Athena from AWS Java SDK, but AWS CLI connection works","body":"<p>You seem to be using AWS Java SDK V2 but you referenced a 3rd party example that uses V1.</p>\n<p>The issue you are seeing is your client cannot find your cred keys. Make sure that you specify your creds as specified in the <strong>Java V2 Developer Guide</strong> here:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">Default credentials provider chain</a></p>\n<p>Now for your question about using a VPN. That can certainly impact connecting to Aurora database as it can impact your IP address when setting up Inbound Rules. I have come across that many times in the past. If you set your inbound Rules using your IP withot VPN and then connect to VPN, you IP changes.</p>\n<p>For information about setting up security group inbound rules, see <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html\" rel=\"nofollow noreferrer\">Controlling Access with Security Groups</a>.</p>\n"}],"owner":{"account_id":544337,"reputation":1995,"user_id":913749,"accept_rate":64,"display_name":"adbdkb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77282508,"answer_count":1,"score":0,"last_activity_date":1697130651,"creation_date":1697123167,"question_id":77281791,"body_markdown":"I am trying to access Athena tables from Java using AWS Java SDK.  \r\n\r\nI am connected to the corporate VPN and also am behind proxy ( I don&#39;t know, if it makes difference, hence mentioned both )\r\n\r\nI am able to connect to Athena from AWS CLI from the same set-up.\r\n\r\nI am using the [example from here][1] to create a simple java test app.\r\n\r\nI have added below properties in the code \r\n\r\n    public static void main(String[] args) {\r\n        String AWS_ACCESS_KEY = &quot;acces_key_value&quot;;\r\n        String AWS_SECRET_KEY = &quot;secret_key_value&quot;;\r\n        String AWS_SESSION_TOKEN = &quot;session_token_value&quot;;\r\n\r\n        System.setProperty(&quot;aws.accessKeyId&quot;, AWS_ACCESS_KEY);\r\n        System.setProperty(&quot;aws.secretKey&quot;, AWS_SECRET_KEY);\r\n        System.setProperty(&quot;aws.sessionToken&quot;, AWS_SESSION_TOKEN);\r\n        SpringApplication.run(App.class, args);\r\n    }\r\n\r\nWhen I run the app, I get the below error\r\n\r\n    Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)\r\n\r\nThis is the full stack trace\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\t\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:782) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\t\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:763) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\t\tat com.contactsunny.poc.SpringBootAmazonAthenaPOC.App.main(App.java:48) ~[classes/:na]\r\n\tCaused by: software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).\r\n\t\tat software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111) ~[sdk-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.auth.credentials.internal.SystemSettingsCredentialsProvider.resolveCredentials(SystemSettingsCredentialsProvider.java:58) ~[auth-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.core.internal.util.MetricUtils.measureDuration(MetricUtils.java:54) ~[sdk-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.awscore.internal.authcontext.AwsCredentialsAuthorizationStrategy.resolveCredentials(AwsCredentialsAuthorizationStrategy.java:100) ~[aws-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.awscore.internal.authcontext.AwsCredentialsAuthorizationStrategy.addCredentialsToExecutionAttributes(AwsCredentialsAuthorizationStrategy.java:77) ~[aws-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.awscore.internal.AwsExecutionContextBuilder.invokeInterceptorsAndCreateExecutionContext(AwsExecutionContextBuilder.java:125) ~[aws-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.invokeInterceptorsAndCreateExecutionContext(AwsSyncClientHandler.java:69) ~[aws-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:78) ~[sdk-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179) ~[sdk-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76) ~[sdk-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45) ~[sdk-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56) ~[aws-core-2.20.162.jar:na]\r\n\t\tat software.amazon.awssdk.services.athena.DefaultAthenaClient.startQueryExecution(DefaultAthenaClient.java:3330) ~[athena-2.20.162.jar:na]\r\n\t\tat com.contactsunny.poc.SpringBootAmazonAthenaPOC.App.submitAthenaQuery(App.java:81) ~[classes/:na]\r\n\t\tat com.contactsunny.poc.SpringBootAmazonAthenaPOC.App.run(App.java:57) ~[classes/:na]\r\n\t\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:779) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\t\t... 5 common frames omitted\r\n\r\n\r\nWhat else do I need do to get the Java SDK app to connect to Athena to work?\r\n\r\n\r\n\r\n  [1]: https://contactsunny.medium.com/how-to-query-athena-from-a-spring-boot-application-93a93c013c85","title":"Unable to connect to AWS Athena from AWS Java SDK, but AWS CLI connection works","body":"<p>I am trying to access Athena tables from Java using AWS Java SDK.</p>\n<p>I am connected to the corporate VPN and also am behind proxy ( I don't know, if it makes difference, hence mentioned both )</p>\n<p>I am able to connect to Athena from AWS CLI from the same set-up.</p>\n<p>I am using the <a href=\"https://contactsunny.medium.com/how-to-query-athena-from-a-spring-boot-application-93a93c013c85\" rel=\"nofollow noreferrer\">example from here</a> to create a simple java test app.</p>\n<p>I have added below properties in the code</p>\n<pre><code>public static void main(String[] args) {\n    String AWS_ACCESS_KEY = &quot;acces_key_value&quot;;\n    String AWS_SECRET_KEY = &quot;secret_key_value&quot;;\n    String AWS_SESSION_TOKEN = &quot;session_token_value&quot;;\n\n    System.setProperty(&quot;aws.accessKeyId&quot;, AWS_ACCESS_KEY);\n    System.setProperty(&quot;aws.secretKey&quot;, AWS_SECRET_KEY);\n    System.setProperty(&quot;aws.sessionToken&quot;, AWS_SESSION_TOKEN);\n    SpringApplication.run(App.class, args);\n}\n</code></pre>\n<p>When I run the app, I get the below error</p>\n<pre><code>Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)\n</code></pre>\n<p>This is the full stack trace</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:782) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:763) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at com.contactsunny.poc.SpringBootAmazonAthenaPOC.App.main(App.java:48) ~[classes/:na]\nCaused by: software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).\n    at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111) ~[sdk-core-2.20.162.jar:na]\n    at software.amazon.awssdk.auth.credentials.internal.SystemSettingsCredentialsProvider.resolveCredentials(SystemSettingsCredentialsProvider.java:58) ~[auth-2.20.162.jar:na]\n    at software.amazon.awssdk.core.internal.util.MetricUtils.measureDuration(MetricUtils.java:54) ~[sdk-core-2.20.162.jar:na]\n    at software.amazon.awssdk.awscore.internal.authcontext.AwsCredentialsAuthorizationStrategy.resolveCredentials(AwsCredentialsAuthorizationStrategy.java:100) ~[aws-core-2.20.162.jar:na]\n    at software.amazon.awssdk.awscore.internal.authcontext.AwsCredentialsAuthorizationStrategy.addCredentialsToExecutionAttributes(AwsCredentialsAuthorizationStrategy.java:77) ~[aws-core-2.20.162.jar:na]\n    at software.amazon.awssdk.awscore.internal.AwsExecutionContextBuilder.invokeInterceptorsAndCreateExecutionContext(AwsExecutionContextBuilder.java:125) ~[aws-core-2.20.162.jar:na]\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.invokeInterceptorsAndCreateExecutionContext(AwsSyncClientHandler.java:69) ~[aws-core-2.20.162.jar:na]\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:78) ~[sdk-core-2.20.162.jar:na]\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179) ~[sdk-core-2.20.162.jar:na]\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76) ~[sdk-core-2.20.162.jar:na]\n    at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45) ~[sdk-core-2.20.162.jar:na]\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56) ~[aws-core-2.20.162.jar:na]\n    at software.amazon.awssdk.services.athena.DefaultAthenaClient.startQueryExecution(DefaultAthenaClient.java:3330) ~[athena-2.20.162.jar:na]\n    at com.contactsunny.poc.SpringBootAmazonAthenaPOC.App.submitAthenaQuery(App.java:81) ~[classes/:na]\n    at com.contactsunny.poc.SpringBootAmazonAthenaPOC.App.run(App.java:57) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:779) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    ... 5 common frames omitted\n</code></pre>\n<p>What else do I need do to get the Java SDK app to connect to Athena to work?</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1590472166,"post_id":62015316,"comment_id":109683683,"body_markdown":"Does this answer your question? [Efficient method to generate UUID String in JAVA (UUID.randomUUID().toString() without the dashes)](https://stackoverflow.com/questions/3804591/efficient-method-to-generate-uuid-string-in-java-uuid-randomuuid-tostring-w)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3804591/efficient-method-to-generate-uuid-string-in-java-uuid-randomuuid-tostring-w\">Efficient method to generate UUID String in JAVA (UUID.randomUUID().toString() without the dashes)</a>"},{"owner":{"account_id":16289939,"reputation":49,"user_id":11763658,"display_name":"mahi chauhan"},"score":0,"creation_date":1590640713,"post_id":62015316,"comment_id":109757152,"body_markdown":"I want to generate a HttpSession session id each time a user login into the website so that I can use that session id in getting more details about the user.","body":"I want to generate a HttpSession session id each time a user login into the website so that I can use that session id in getting more details about the user."}],"answers":[{"tags":[],"owner":{"account_id":17369722,"reputation":26,"user_id":12584112,"display_name":"chunlong wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590473789,"creation_date":1590473789,"answer_id":62015791,"question_id":62015316,"body_markdown":"    public static String getToken() {\r\n    \t\treturn  String.valueOf(System.currentTimeMillis()).substring(8, 13) + UUID.randomUUID().toString().substring(1,10);\r\n    \t}\r\nor\r\n\r\n    public static String getUUID() {\r\n    \t\treturn UUID.randomUUID().toString();\r\n    \t}","title":"How to generate a session id each time a user login into the website?","body":"<pre><code>public static String getToken() {\n        return  String.valueOf(System.currentTimeMillis()).substring(8, 13) + UUID.randomUUID().toString().substring(1,10);\n    }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public static String getUUID() {\n        return UUID.randomUUID().toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13853044,"reputation":33,"user_id":10000517,"display_name":"Jonatas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697130316,"creation_date":1697130316,"answer_id":77282557,"question_id":62015316,"body_markdown":"Normally the server that is going to run your application can handle this. If you&#39;re either using Spring Boot or if you are running your application on a Tomcat server, you can use Tomcat&#39;s embedded session id generator. The class is org.apache.catalina.util.StandardSessionIdGenerator.","title":"How to generate a session id each time a user login into the website?","body":"<p>Normally the server that is going to run your application can handle this. If you're either using Spring Boot or if you are running your application on a Tomcat server, you can use Tomcat's embedded session id generator. The class is org.apache.catalina.util.StandardSessionIdGenerator.</p>\n"}],"owner":{"account_id":16289939,"reputation":49,"user_id":11763658,"display_name":"mahi chauhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4012,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1697130316,"creation_date":1590471425,"question_id":62015316,"body_markdown":"\r\n```\r\n\r\n    &lt;form action=&quot;&lt;%=request.getContextPath()%&gt;/login&quot; method=&quot;post&quot;&gt;\r\n        Email: &lt;input type=&quot;email&quot; name=&quot;email&quot;&gt;\r\n        Password : &lt;input type=&quot;password&quot; name=&quot;psw&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; value=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n```\r\nI have this login form.After submitting the values, it goes to the controller where the user authentication takes place and after authentication it moves to the home page.I want to generate a session id every time a user login so that, that user id can be used to get other information of the user(i.e some details like mobile no,address etc according to the need) that were filled during the registration.\r\nI am doing all this using jsp and mvc.\r\nThanks in advance.","title":"How to generate a session id each time a user login into the website?","body":"<pre><code>\n    &lt;form action=\"&lt;%=request.getContextPath()%&gt;/login\" method=\"post\"&gt;\n        Email: &lt;input type=\"email\" name=\"email\"&gt;\n        Password : &lt;input type=\"password\" name=\"psw\"&gt;\n        &lt;button type=\"submit\" value=\"submit\"&gt;Submit&lt;/button&gt;\n    &lt;/form&gt;\n\n</code></pre>\n\n<p>I have this login form.After submitting the values, it goes to the controller where the user authentication takes place and after authentication it moves to the home page.I want to generate a session id every time a user login so that, that user id can be used to get other information of the user(i.e some details like mobile no,address etc according to the need) that were filled during the registration.\nI am doing all this using jsp and mvc.\nThanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1642594170,"post_id":70770266,"comment_id":125110889,"body_markdown":"Does that stack trace come with a `Caused by`? There&#39;s a good chance the actual error is on the `Caused by` part.","body":"Does that stack trace come with a <code>Caused by</code>? There&#39;s a good chance the actual error is on the <code>Caused by</code> part."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":1,"creation_date":1642594934,"post_id":70770266,"comment_id":125111207,"body_markdown":"Produce full stacktrace in your question","body":"Produce full stacktrace in your question"}],"answers":[{"tags":[],"owner":{"account_id":23977205,"reputation":136,"user_id":17965148,"display_name":"Optimizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642607100,"creation_date":1642607100,"answer_id":70773547,"question_id":70770266,"body_markdown":"I think you may have incompatible version of hibernate-core on the classpath. you can try to update pom.xml or build.gradle to use compatible version. Use spring boot&#39;s dependency management rather than specifying the version yourself.\r\nYou can delete the existing jar and then rebuild your application.\r\n","title":"Failed to introspect Class [org.springframework.boot.autoconfigure.orm.jpa..HibernateJpaConfiguration","body":"<p>I think you may have incompatible version of hibernate-core on the classpath. you can try to update pom.xml or build.gradle to use compatible version. Use spring boot's dependency management rather than specifying the version yourself.\nYou can delete the existing jar and then rebuild your application.</p>\n"}],"owner":{"account_id":14358177,"reputation":21,"user_id":10371390,"display_name":"Jaspreet Matharu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697130240,"creation_date":1642593841,"question_id":70770266,"body_markdown":"I have changed my springboot version from 2.5.0 to 2.6.2 and when I run my backend I am getting the following error:\r\n\r\n```java\r\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2626b418]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.14.jar:5.3.14]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:862) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:850) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:837) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:778) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\r\n```","title":"Failed to introspect Class [org.springframework.boot.autoconfigure.orm.jpa..HibernateJpaConfiguration","body":"<p>I have changed my springboot version from 2.5.0 to 2.6.2 and when I run my backend I am getting the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2626b418]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.14.jar:5.3.14]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:862) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:850) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:837) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:778) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\n</code></pre>\n"},{"tags":["java","spring-boot","threadpool","java-21","virtual-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1697130642,"post_id":77282538,"comment_id":136244296,"body_markdown":"As far as I can see, there is no pool in your example, as you’re using a `TaskExecutorAdapter` wrapping a `newVirtualThreadPerTaskExecutor()`. You’re not using a `ThreadPoolTaskExecutor` or such alike. In other words, it looks do me as if you already solved your task.","body":"As far as I can see, there is no pool in your example, as you’re using a <code>TaskExecutorAdapter</code> wrapping a <code>newVirtualThreadPerTaskExecutor()</code>. You’re not using a <code>ThreadPoolTaskExecutor</code> or such alike. In other words, it looks do me as if you already solved your task."},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1697130997,"post_id":77282538,"comment_id":136244366,"body_markdown":"So, the `newVirtualThreadPerTaskExecutor` is not a traditional thread pool, is that correct?","body":"So, the <code>newVirtualThreadPerTaskExecutor</code> is not a traditional thread pool, is that correct?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697131123,"post_id":77282538,"comment_id":136244395,"body_markdown":"Exactly. As the name suggests and [the documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()) says, it creates a new virtual thread for every task.","body":"Exactly. As the name suggests and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\">the documentation</a> says, it creates a new virtual thread for every task."},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1697131231,"post_id":77282538,"comment_id":136244416,"body_markdown":"Thank you very much for your response. By the way, do you think this virtual thread approach provides a significant performance boost for handling high-concurrency asynchronous tasks?","body":"Thank you very much for your response. By the way, do you think this virtual thread approach provides a significant performance boost for handling high-concurrency asynchronous tasks?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1697131765,"post_id":77282538,"comment_id":136244543,"body_markdown":"This heavily depends on your starting point. Depending on how you handled concurrency before, they may not add to performance but allow you to write far more maintainable code *or* allow higher concurrency and in turn, higher performance. But it may require replacing some older “best practice” code by new “best practice” code in your application. There’s no general statement possible.","body":"This heavily depends on your starting point. Depending on how you handled concurrency before, they may not add to performance but allow you to write far more maintainable code <i>or</i> allow higher concurrency and in turn, higher performance. But it may require replacing some older “best practice” code by new “best practice” code in your application. There’s no general statement possible."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697356567,"post_id":77282538,"comment_id":136267667,"body_markdown":"You could also wait until Spring Boot 3.2 releases in November with full virtual thread support and set `spring.threads.virtual.enabled=true` in your `application.properties`","body":"You could also wait until Spring Boot 3.2 releases in November with full virtual thread support and set <code>spring.threads.virtual.enabled=true</code> in your <code>application.properties</code>"}],"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697130166,"creation_date":1697130166,"question_id":77282538,"body_markdown":"Java 21 has officially supported the feature of virtual threads, and I am very excited to use this feature in Spring Boot\r\n\r\nI&#39;ve come across a statement: &quot;We should not treat virtual threads the same way as platform threads by using pools to constrain them because they are very lightweight resources that can be discarded once they are used up.&quot;\r\n\r\n\r\nIs there any other way to make Spring Boot&#39;s @Async annotation use virtual threads to handle asynchronous tasks without needing to register a virtual thread pool like the following?\r\n\r\n```java\r\n\r\n@EnableAsync\r\n@Configuration\r\npublic class AsyncThreadConfiguration {\r\n\r\n    @Bean\r\n    public AsyncTaskExecutor asyncTaskExecutor() {\r\n        return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\r\n    }\r\n\r\n    @Bean\r\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\r\n        return protocolHandler -&gt; protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\r\n    }\r\n}\r\n\r\n```\r\n\r\nI look forward to a simple configuration approach that allows the @Async annotation to use virtual threads to execute asynchronous tasks without the need for a thread pool.","title":"How to use non-pooling virtual threads to execute asynchronous tasks in Spring Boot?","body":"<p>Java 21 has officially supported the feature of virtual threads, and I am very excited to use this feature in Spring Boot</p>\n<p>I've come across a statement: &quot;We should not treat virtual threads the same way as platform threads by using pools to constrain them because they are very lightweight resources that can be discarded once they are used up.&quot;</p>\n<p>Is there any other way to make Spring Boot's @Async annotation use virtual threads to handle asynchronous tasks without needing to register a virtual thread pool like the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableAsync\n@Configuration\npublic class AsyncThreadConfiguration {\n\n    @Bean\n    public AsyncTaskExecutor asyncTaskExecutor() {\n        return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\n    }\n\n    @Bean\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\n        return protocolHandler -&gt; protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\n    }\n}\n\n</code></pre>\n<p>I look forward to a simple configuration approach that allows the @Async annotation to use virtual threads to execute asynchronous tasks without the need for a thread pool.</p>\n"},{"tags":["java","testing","junit","junit5"],"owner":{"account_id":29436390,"reputation":1,"user_id":22555150,"display_name":"Question Asker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697123034,"answer_count":0,"score":0,"last_activity_date":1697129948,"creation_date":1697121987,"question_id":77281633,"body_markdown":"I am attempting to create JUnit tests that can verify what has been printed to the console, for a console-based Java program. \r\n\r\nAs a very simple example:\r\n\r\nIf I had the following function and called it, how would I verify the output to console with JUnit?\r\n\r\n```\r\nvoid printMessage(String mess){\r\n    System.out.println(&quot;Blah blah blah&quot;);\r\n}\r\n```\r\n\r\nI have attempted using StringWriter and PrintWriter to pass byte streams, however, ideally I would not want to have to pass extra parameters to my functions to enable the tests to pass when I would not require the parameters for the function itself to operate.","title":"How to test what has been outputted to the console","body":"<p>I am attempting to create JUnit tests that can verify what has been printed to the console, for a console-based Java program.</p>\n<p>As a very simple example:</p>\n<p>If I had the following function and called it, how would I verify the output to console with JUnit?</p>\n<pre><code>void printMessage(String mess){\n    System.out.println(&quot;Blah blah blah&quot;);\n}\n</code></pre>\n<p>I have attempted using StringWriter and PrintWriter to pass byte streams, however, ideally I would not want to have to pass extra parameters to my functions to enable the tests to pass when I would not require the parameters for the function itself to operate.</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697129916,"post_id":77281646,"comment_id":136244156,"body_markdown":"Please provide a [mre] and the full exception stacktrace.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full exception stacktrace."},{"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"score":0,"creation_date":1697133658,"post_id":77281646,"comment_id":136244889,"body_markdown":"Solved it: The classes property are not allowed to be private !","body":"Solved it: The classes property are not allowed to be private !"}],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697129899,"creation_date":1697122088,"question_id":77281646,"body_markdown":"I want to persist entities with Hibernate. I got a problem there: when trying to persist an entity, I get the error \r\n\r\n&gt; Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\r\n\r\nHere is my hibernate.cfg.xml, version 6.0:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n     &quot;https://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- Database connection settings --&gt;\r\n\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;databaseName=PurchaseDatabase;encrypt=true;trustServerCertificate=true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;admin&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Other Hibernate settings --&gt;\r\n\r\n\r\n        &lt;!-- Mapping files --&gt;\r\n        &lt;mapping class=&quot;com.example.purchasedatabase.ErwerbsDatenEinheit&quot;\r\n                 resource=&quot;ErwerbsDatenEinheit.hbm.xml&quot; /&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\nAnd my corresponding *.hbm.xml file:\r\n\r\n ```xml\r\n &lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n &lt;!DOCTYPE hibernate-mapping PUBLIC \r\n      &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\r\n      &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt; \r\n\r\n  &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.example.purchasedatabase.ErwerbsDatenEinheit&quot;                                                                                                                                                                                                                                                                      \r\n    table=&quot;ErwerbsDatenEinheiten&quot;&gt;\r\n      \r\n      &lt;meta attribute = &quot;class-description&quot;&gt;\r\n         This class contains the details on the purchases we carry out.\r\n      &lt;/meta&gt;\r\n      \r\n      &lt;id name = &quot;ID&quot; type = &quot;int&quot; column = &quot;ID&quot;&gt;\r\n         &lt;generator class=&quot;native&quot;/&gt;\r\n      &lt;/id&gt;\r\n      \r\n      &lt;property name = &quot;Rechnungsnummer&quot; column = &quot;Rechnungsnummer&quot; type = &quot;text&quot;/&gt;\r\n      &lt;property name = &quot;Name&quot; column = &quot;Name&quot; type = &quot;text&quot;/&gt;\r\n      &lt;property name = &quot;Hersteller&quot; column = &quot;Hersteller&quot; type = &quot;text&quot;/&gt;\r\n      &lt;property name = &quot;DatumKauf&quot; column = &quot;DatumKauf&quot; type = &quot;text&quot;/&gt;\r\n      &lt;property name = &quot;Menge&quot; column = &quot;Menge&quot; type = &quot;Double&quot;/&gt;\r\n      &lt;property name = &quot;Kosten&quot; column = &quot;Kosten&quot; type = &quot;Double&quot;/&gt;\r\n      &lt;property name = &quot;DatumAnkunft&quot; column = &quot;DatumAnkunft&quot; type = &quot;text&quot;/&gt;\r\n      &lt;property name = &quot;Bemerkung&quot; column = &quot;Bemerkung&quot; type = &quot;text&quot;/&gt;\r\n      &lt;property name = &quot;Deaktiviert&quot; column = &quot;Deaktiviert&quot; type = &quot;Boolean&quot;/&gt;\r\n      \r\n    &lt;/class&gt;\r\n  &lt;/hibernate-mapping&gt;\r\n```\r\n\r\nAnd my actual class that should be mapped:\r\n\r\n```java\r\npackage com.example.purchasedatabase;\r\n\r\n//import org.hibernate.annotations.Entity;\r\n//import org.hibernate.annotations.Table;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;ErwerbsDatenEinheiten&quot;)\r\npublic class ErwerbsDatenEinheit {\r\n\r\n    @Id\r\n    private int ID;\r\n\r\n    @Column\r\n    private String DatumKauf;\r\n\r\n    @Column\r\n    private String Rechnungsnummer;\r\n\r\n    @Column\r\n    private String Hersteller;\r\n\r\n    @Column\r\n    private String Name;\r\n\r\n    @Column\r\n    private double Kosten;\r\n\r\n    @Column\r\n    private double Menge;\r\n\r\n    @Column\r\n    private String DatumAnkunft;\r\n\r\n    @Column\r\n    private String Bemerkung;\r\n\r\n    @Column\r\n    private boolean Deaktiviert;\r\n\r\n\r\n    public ErwerbsDatenEinheit(){\r\n        this.ID = 0;\r\n        this.DatumKauf = &quot;&quot;;\r\n        this.Rechnungsnummer = &quot;&quot;;\r\n        this.Hersteller = &quot;&quot;;\r\n        this.Name = &quot;&quot;;\r\n        this.Kosten = 0;\r\n        this.Menge = 0;\r\n        this.DatumAnkunft = &quot;&quot;;\r\n        this.Bemerkung = &quot;&quot;;\r\n        this.Deaktiviert = false;\r\n    }\r\n\r\n\r\n    public int getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(int ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getDatumKauf() {\r\n        return DatumKauf;\r\n    }\r\n\r\n    public void setDatumKauf(String datumKauf) {\r\n        DatumKauf = datumKauf;\r\n    }\r\n\r\n    public String getRechnungsnummer() {\r\n        return Rechnungsnummer;\r\n    }\r\n\r\n    public void setRechnungsnummer(String rechnungsnummer) {\r\n        Rechnungsnummer = rechnungsnummer;\r\n    }\r\n\r\n    public String getHersteller() {\r\n        return Hersteller;\r\n    }\r\n\r\n    public void setHersteller(String hersteller) {\r\n        Hersteller = hersteller;\r\n    }\r\n\r\n    public String getName() {\r\n        return Name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        Name = name;\r\n    }\r\n\r\n    public double getKosten() {\r\n        return Kosten;\r\n    }\r\n\r\n    public void setKosten(double kosten) {\r\n        Kosten = kosten;\r\n    }\r\n\r\n    public double getMenge() {\r\n        return Menge;\r\n    }\r\n\r\n    public void setMenge(double menge) {\r\n        Menge = menge;\r\n    }\r\n\r\n    public String getDatumAnkunft() {\r\n        return DatumAnkunft;\r\n    }\r\n\r\n    public void setDatumAnkunft(String datumAnkunft) {\r\n        DatumAnkunft = datumAnkunft;\r\n    }\r\n\r\n    public String getBemerkung() {\r\n        return Bemerkung;\r\n    }\r\n\r\n\r\n    public void setBemerkung(String bemerkung) {\r\n        Bemerkung = bemerkung;\r\n    }\r\n\r\n    public boolean isDeaktiviert() {\r\n        return Deaktiviert;\r\n    }\r\n\r\n    public void setDeaktiviert(boolean deaktiviert) {\r\n        Deaktiviert = deaktiviert;\r\n    }\r\n}\r\n```\r\n\r\nThe hibernate.cfg.xml gets recognized in a Configuration object.\r\n\r\n","title":"Java Hibernate error persisting entity, why is that?","body":"<p>I want to persist entities with Hibernate. I got a problem there: when trying to persist an entity, I get the error</p>\n<blockquote>\n<p>Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister</p>\n</blockquote>\n<p>Here is my hibernate.cfg.xml, version 6.0:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n     &quot;https://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Database connection settings --&gt;\n\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;databaseName=PurchaseDatabase;encrypt=true;trustServerCertificate=true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Other Hibernate settings --&gt;\n\n\n        &lt;!-- Mapping files --&gt;\n        &lt;mapping class=&quot;com.example.purchasedatabase.ErwerbsDatenEinheit&quot;\n                 resource=&quot;ErwerbsDatenEinheit.hbm.xml&quot; /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>And my corresponding *.hbm.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \n     &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\n     &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt; \n\n &lt;hibernate-mapping&gt;\n   &lt;class name=&quot;com.example.purchasedatabase.ErwerbsDatenEinheit&quot;                                                                                                                                                                                                                                                                      \n   table=&quot;ErwerbsDatenEinheiten&quot;&gt;\n     \n     &lt;meta attribute = &quot;class-description&quot;&gt;\n        This class contains the details on the purchases we carry out.\n     &lt;/meta&gt;\n     \n     &lt;id name = &quot;ID&quot; type = &quot;int&quot; column = &quot;ID&quot;&gt;\n        &lt;generator class=&quot;native&quot;/&gt;\n     &lt;/id&gt;\n     \n     &lt;property name = &quot;Rechnungsnummer&quot; column = &quot;Rechnungsnummer&quot; type = &quot;text&quot;/&gt;\n     &lt;property name = &quot;Name&quot; column = &quot;Name&quot; type = &quot;text&quot;/&gt;\n     &lt;property name = &quot;Hersteller&quot; column = &quot;Hersteller&quot; type = &quot;text&quot;/&gt;\n     &lt;property name = &quot;DatumKauf&quot; column = &quot;DatumKauf&quot; type = &quot;text&quot;/&gt;\n     &lt;property name = &quot;Menge&quot; column = &quot;Menge&quot; type = &quot;Double&quot;/&gt;\n     &lt;property name = &quot;Kosten&quot; column = &quot;Kosten&quot; type = &quot;Double&quot;/&gt;\n     &lt;property name = &quot;DatumAnkunft&quot; column = &quot;DatumAnkunft&quot; type = &quot;text&quot;/&gt;\n     &lt;property name = &quot;Bemerkung&quot; column = &quot;Bemerkung&quot; type = &quot;text&quot;/&gt;\n     &lt;property name = &quot;Deaktiviert&quot; column = &quot;Deaktiviert&quot; type = &quot;Boolean&quot;/&gt;\n     \n   &lt;/class&gt;\n &lt;/hibernate-mapping&gt;\n</code></pre>\n<p>And my actual class that should be mapped:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.purchasedatabase;\n\n//import org.hibernate.annotations.Entity;\n//import org.hibernate.annotations.Table;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n\n@Entity\n@Table(name = &quot;ErwerbsDatenEinheiten&quot;)\npublic class ErwerbsDatenEinheit {\n\n    @Id\n    private int ID;\n\n    @Column\n    private String DatumKauf;\n\n    @Column\n    private String Rechnungsnummer;\n\n    @Column\n    private String Hersteller;\n\n    @Column\n    private String Name;\n\n    @Column\n    private double Kosten;\n\n    @Column\n    private double Menge;\n\n    @Column\n    private String DatumAnkunft;\n\n    @Column\n    private String Bemerkung;\n\n    @Column\n    private boolean Deaktiviert;\n\n\n    public ErwerbsDatenEinheit(){\n        this.ID = 0;\n        this.DatumKauf = &quot;&quot;;\n        this.Rechnungsnummer = &quot;&quot;;\n        this.Hersteller = &quot;&quot;;\n        this.Name = &quot;&quot;;\n        this.Kosten = 0;\n        this.Menge = 0;\n        this.DatumAnkunft = &quot;&quot;;\n        this.Bemerkung = &quot;&quot;;\n        this.Deaktiviert = false;\n    }\n\n\n    public int getID() {\n        return ID;\n    }\n\n    public void setID(int ID) {\n        this.ID = ID;\n    }\n\n    public String getDatumKauf() {\n        return DatumKauf;\n    }\n\n    public void setDatumKauf(String datumKauf) {\n        DatumKauf = datumKauf;\n    }\n\n    public String getRechnungsnummer() {\n        return Rechnungsnummer;\n    }\n\n    public void setRechnungsnummer(String rechnungsnummer) {\n        Rechnungsnummer = rechnungsnummer;\n    }\n\n    public String getHersteller() {\n        return Hersteller;\n    }\n\n    public void setHersteller(String hersteller) {\n        Hersteller = hersteller;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n    public double getKosten() {\n        return Kosten;\n    }\n\n    public void setKosten(double kosten) {\n        Kosten = kosten;\n    }\n\n    public double getMenge() {\n        return Menge;\n    }\n\n    public void setMenge(double menge) {\n        Menge = menge;\n    }\n\n    public String getDatumAnkunft() {\n        return DatumAnkunft;\n    }\n\n    public void setDatumAnkunft(String datumAnkunft) {\n        DatumAnkunft = datumAnkunft;\n    }\n\n    public String getBemerkung() {\n        return Bemerkung;\n    }\n\n\n    public void setBemerkung(String bemerkung) {\n        Bemerkung = bemerkung;\n    }\n\n    public boolean isDeaktiviert() {\n        return Deaktiviert;\n    }\n\n    public void setDeaktiviert(boolean deaktiviert) {\n        Deaktiviert = deaktiviert;\n    }\n}\n</code></pre>\n<p>The hibernate.cfg.xml gets recognized in a Configuration object.</p>\n"},{"tags":["python","java","numpy","djl"],"answers":[{"tags":[],"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697129804,"creation_date":1697129804,"answer_id":77282505,"question_id":77275300,"body_markdown":"Thanks to the great help in the DJL Slack I found the following solution: \r\n\r\nAs of now (v0.23.0) it is possible via a workaround: \r\n\r\nThe method `ai.djl.ndarray.NDSerializer.decodeNumpy` provides this functionality. As it is package private, you need to either call it via reflection or create a new class like this as a workaround: \r\n\r\n```Java\r\n// this is important - we create our own class in the same package \r\npackage ai.djl.ndarray;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class NDSerializerSpy {\r\n    public static NDArray decodeNumpy(final NDManager manager, final InputStream is)\r\n    throws IOException {\r\n        return NDSerializer.decodeNumpy(manager, is);\r\n    }\r\n}\r\n```\r\n\r\nHowever, in the next release, DJL will officially support this via the `NDArray.decode`, `NDManager.decode` and `NDList.decode` methods. These methods will autodetect the underlying format and allow for a variety of formats.\r\n","title":"How to load a numpy file (.npy) in DJL?","body":"<p>Thanks to the great help in the DJL Slack I found the following solution:</p>\n<p>As of now (v0.23.0) it is possible via a workaround:</p>\n<p>The method <code>ai.djl.ndarray.NDSerializer.decodeNumpy</code> provides this functionality. As it is package private, you need to either call it via reflection or create a new class like this as a workaround:</p>\n<pre><code>// this is important - we create our own class in the same package \npackage ai.djl.ndarray;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class NDSerializerSpy {\n    public static NDArray decodeNumpy(final NDManager manager, final InputStream is)\n    throws IOException {\n        return NDSerializer.decodeNumpy(manager, is);\n    }\n}\n</code></pre>\n<p>However, in the next release, DJL will officially support this via the <code>NDArray.decode</code>, <code>NDManager.decode</code> and <code>NDList.decode</code> methods. These methods will autodetect the underlying format and allow for a variety of formats.</p>\n"}],"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697129804,"creation_date":1697046324,"question_id":77275300,"body_markdown":"I have traced a model in PyTorch and loaded it in successfully in DJL. Now I want to make sure pre/postprocessing works correctly in my JAVA server. I have written the result of the pre- and postprocessing into numpy files (`.npy`), e.g. with ```np.save(&#39;preprocessed.npy&#39;, some_tensor.detach().numpy())```\r\n\r\nHow can I load the `.npy` file in JAVA/DJL into an `NDArray` to test the input/output of my traced model?\r\n\r\nA solution using purely DJL would be preferred, but additional helper libraries are also a possibility.","title":"How to load a numpy file (.npy) in DJL?","body":"<p>I have traced a model in PyTorch and loaded it in successfully in DJL. Now I want to make sure pre/postprocessing works correctly in my JAVA server. I have written the result of the pre- and postprocessing into numpy files (<code>.npy</code>), e.g. with <code>np.save('preprocessed.npy', some_tensor.detach().numpy())</code></p>\n<p>How can I load the <code>.npy</code> file in JAVA/DJL into an <code>NDArray</code> to test the input/output of my traced model?</p>\n<p>A solution using purely DJL would be preferred, but additional helper libraries are also a possibility.</p>\n"},{"tags":["java","list","collections","comparator","comparable"],"comments":[{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1564510434,"post_id":57277475,"comment_id":101052108,"body_markdown":"Updated the question","body":"Updated the question"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1564510553,"post_id":57277475,"comment_id":101052162,"body_markdown":"Does it matter if result will be `A, a, b` instead of `a, A, b`? Should uppercase always be before its corresponding lowercase (like A before a, B before b)?","body":"Does it matter if result will be <code>A, a, b</code> instead of <code>a, A, b</code>? Should uppercase always be before its corresponding lowercase (like A before a, B before b)?"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1564510642,"post_id":57277475,"comment_id":101052207,"body_markdown":"Yes, upper case should be first like A, a, B, b","body":"Yes, upper case should be first like A, a, B, b"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1564510661,"post_id":57277475,"comment_id":101052217,"body_markdown":"Your current comparator compares lexicographically, see [Wikipedia](https://en.wikipedia.org/wiki/Lexicographical_order), so it obviously is not what you want. You need a more sophisticated approach for your comparator. For example, first compare based on ignoring the case (for example by lowercasing everything). And if two elements are equal according to that, compare them lexicographically (since that orders uppercase before lowoercase). If done right, the comparator can be probably 1 to 3 lines and also be created using the new modern methods.","body":"Your current comparator compares lexicographically, see <a href=\"https://en.wikipedia.org/wiki/Lexicographical_order\" rel=\"nofollow noreferrer\">Wikipedia</a>, so it obviously is not what you want. You need a more sophisticated approach for your comparator. For example, first compare based on ignoring the case (for example by lowercasing everything). And if two elements are equal according to that, compare them lexicographically (since that orders uppercase before lowoercase). If done right, the comparator can be probably 1 to 3 lines and also be created using the new modern methods."}],"answers":[{"tags":[],"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564511567,"creation_date":1564511567,"answer_id":57278063,"question_id":57277475,"body_markdown":"Like @Zabuza mentioned in a comment, the ordering you want is *almost* case-insensitive alphabetical, but not quite, since you want upper &amp; lowercase characters to be grouped together when they&#39;re the same letter.\r\n\r\nYou can accomplish this by adding simply lower-casing the first names and comparing them, with a separate check to revert to a pure lexicographical ordering if the lower-cased check shows a match:\r\n\r\ne.g.\r\n\r\n\tpublic class FirstNameSorter implements Comparator&lt;Employee&gt; {\r\n\t\t@Override\r\n\t\tpublic int compare(Employee o1, Employee o2) {\r\n\t\t\tint precheck = o1.getFirstName().toLowerCase().compareTo(o2.getFirstName().toLowerCase());\r\n\t\t\treturn precheck != 0 ? precheck : o1.getFirstName().compareTo(o2.getFirstName());\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"sort results in ascending return in the form A, a, B, b... in Java","body":"<p>Like @Zabuza mentioned in a comment, the ordering you want is <em>almost</em> case-insensitive alphabetical, but not quite, since you want upper &amp; lowercase characters to be grouped together when they're the same letter.</p>\n\n<p>You can accomplish this by adding simply lower-casing the first names and comparing them, with a separate check to revert to a pure lexicographical ordering if the lower-cased check shows a match:</p>\n\n<p>e.g.</p>\n\n<pre><code>public class FirstNameSorter implements Comparator&lt;Employee&gt; {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        int precheck = o1.getFirstName().toLowerCase().compareTo(o2.getFirstName().toLowerCase());\n        return precheck != 0 ? precheck : o1.getFirstName().compareTo(o2.getFirstName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564513130,"creation_date":1564512525,"answer_id":57278280,"question_id":57277475,"body_markdown":"Maybe this works for you:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; list = Arrays.asList(&quot;A&quot;, &quot;D&quot;, &quot;a&quot;, &quot;b&quot;, &quot;B&quot;, &quot;T&quot;);\r\n            list.sort(comparator());\r\n            System.out.println(list);\r\n        }\r\n    \r\n        private static Comparator&lt;? super String&gt; comparator() {\r\n            return (Comparator&lt;String&gt;) (leftString, rightString) -&gt; {\r\n                if (leftString.length() == rightString.length()) {\r\n                    for (int index = 0; index &lt; leftString.length(); index++) {\r\n                        final String leftChar = leftString.substring(index, index + 1);\r\n                        final String rightChar = rightString.substring(index, index + 1);\r\n                        if (!leftChar.equals(rightChar)) {\r\n                            if (leftChar.toUpperCase().equals(rightChar.toUpperCase())) {\r\n                                if (leftChar.equals(leftChar.toLowerCase()) &amp;&amp; \r\n                                        rightChar.equals(rightChar.toUpperCase())) {\r\n                                    return 1;\r\n                                } else {\r\n                                    return -1;\r\n                                }\r\n                            } else {\r\n                                return leftChar.toUpperCase()\r\n                                        .compareTo(rightChar.toUpperCase());\r\n                            }\r\n                        }\r\n                    }\r\n                    return 0;\r\n                } else {\r\n                    return (leftString.length() &gt; rightString.length()) ? -1 : +1;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    [A, a, B, b, D, T]","title":"sort results in ascending return in the form A, a, B, b... in Java","body":"<p>Maybe this works for you:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = Arrays.asList(\"A\", \"D\", \"a\", \"b\", \"B\", \"T\");\n        list.sort(comparator());\n        System.out.println(list);\n    }\n\n    private static Comparator&lt;? super String&gt; comparator() {\n        return (Comparator&lt;String&gt;) (leftString, rightString) -&gt; {\n            if (leftString.length() == rightString.length()) {\n                for (int index = 0; index &lt; leftString.length(); index++) {\n                    final String leftChar = leftString.substring(index, index + 1);\n                    final String rightChar = rightString.substring(index, index + 1);\n                    if (!leftChar.equals(rightChar)) {\n                        if (leftChar.toUpperCase().equals(rightChar.toUpperCase())) {\n                            if (leftChar.equals(leftChar.toLowerCase()) &amp;&amp; \n                                    rightChar.equals(rightChar.toUpperCase())) {\n                                return 1;\n                            } else {\n                                return -1;\n                            }\n                        } else {\n                            return leftChar.toUpperCase()\n                                    .compareTo(rightChar.toUpperCase());\n                        }\n                    }\n                }\n                return 0;\n            } else {\n                return (leftString.length() &gt; rightString.length()) ? -1 : +1;\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[A, a, B, b, D, T]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564577593,"creation_date":1564513237,"answer_id":57278437,"question_id":57277475,"body_markdown":"## **Update** (bugFix):\n\n**Problem**:  \nOriginal solution using only `caseInsensitiveThenNaturalOrder` would order `a` and `Aa` as `[a, Aa]` instead of expected `[Aa, a]`.  \n\n**Cause**:  \n`String.CASE_INSENSITIVE_ORDER` only considers as equal strings with same length like `a` and `A` OR `aA` and `Aa`, which is condition for later provided by `thenComparing` comparator representing lexical order to work. But since `a` and `Aa` have different length they will not be additionally sorted by that lexical order which would place `Aa` before `a`. \n\n**Solution**:  \nTo fix this problem we can create Comparator which will manually iterate over &quot;common&quot; indexes of two strings and compare their corresponding characters using created earlier `caseInsensitiveThenNaturalOrde` (from original answer below). By comparing single characters we are sure that these will have same length which should solve the problem and let us apply order `A &lt; a &lt; B &lt; b &lt; C &lt; c &lt; ...`:\n\n\n    Comparator&lt;String&gt; myComparator = (s1, s2) -&gt; {\n        for (int i = 0; i &lt; Math.min(s1.length(), s2.length()); i++) {\n            int compare = caseInsensitiveThenNaturalOrder \n                    .compare(s1.substring(i, i + 1), s2.substring(i, i + 1));\n            if (compare != 0) return compare;\n        }\n        return Integer.compare(s1.length(), s2.length());\n    };\n\n    //DEMO:\n    String[] arr = {&quot;a&quot;,&quot;A&quot;,&quot;aA&quot;,&quot;Aa&quot;,&quot;a&quot;,&quot;aA&quot;,&quot;bb&quot;,&quot;b&quot;,&quot;Bb&quot;,&quot;bB&quot;,&quot;aB&quot;};\n    Arrays.sort(arr, myComparator);\n    System.out.println(Arrays.toString(arr));\n\n    //Output:\n    //[A, Aa, a, a, aA, aA, aB, Bb, b, bB, bb]\n\n------\n\n# Original answer\n\nFor English only characters you can use Comparator \n\n    Comparator&lt;String&gt; caseInsensitiveThenNaturalOrder = String\n                .CASE_INSENSITIVE_ORDER\n                .thenComparing(Comparator.naturalOrder());\n\nwhich first sorts words regardless of their case like `b,c,a,A` -&gt; `a,A,b,c`. `.thenComparing` provides way to order elements considered as equal like `a` and `A` in a way where `A` will be placed before `a` (which is natural ordering of string elements)\n\n---\n\nBut if names can hold non-English characters (like in Polish `Ą,ą` which should be placed between `A,a` and `B,b`) we can&#39;t use `String.CASE_INSENSITIVE_ORDER` because it would place non-English characters after English ones. For case like this we need solution described at [Sort List of Strings with Localization](https://stackoverflow.com/q/12889760) like\n\n    Collator coll = Collator.getInstance(new Locale(&quot;pl&quot;, &quot;PL&quot;)); //set locale of supported characters\n    coll.setStrength(Collator.PRIMARY);\n    Comparator&lt;Object&gt; caseInsensitiveThenNaturalOrder = coll\n            .thenComparing((o1, o2) -&gt; o1.toString().compareTo(o2.toString()));\n\nDemo (with support of Polish characters):\n\n    String[] arr = {&quot;cC&quot;,&quot;Cc&quot;,&quot;cc&quot;,&quot;CC&quot;, &quot;ab&quot;,&quot;aB&quot;,&quot;Ab&quot;,&quot;AB&quot;, &quot;ą&quot;, &quot;Ą&quot;};\n    Arrays.sort(arr, caseInsensitiveThenNaturalOrder);\n    System.out.println(Arrays.toString(arr));\n\nOutput: `[AB, Ab, aB, ab, Ą, ą, CC, Cc, cC, cc]`\n\nIf you want to sort collection of `Employee` instances based on property accessed via `getFirstName` you can use `caseInsensitiveThenNaturalOrder` Comparator like\n    \n    Collections.sort(employees, Comparator.comparing(Employee::getFirstName, caseInsensitiveThenNaturalOrder));\n\nwhich can also be written as\n\n    employees.sort(Comparator.comparing(Employee::getFirstName, caseInsensitiveThenNaturalOrder));\n","title":"sort results in ascending return in the form A, a, B, b... in Java","body":"<h2><strong>Update</strong> (bugFix):</h2>\n<p><strong>Problem</strong>:<br />\nOriginal solution using only <code>caseInsensitiveThenNaturalOrder</code> would order <code>a</code> and <code>Aa</code> as <code>[a, Aa]</code> instead of expected <code>[Aa, a]</code>.</p>\n<p><strong>Cause</strong>:<br />\n<code>String.CASE_INSENSITIVE_ORDER</code> only considers as equal strings with same length like <code>a</code> and <code>A</code> OR <code>aA</code> and <code>Aa</code>, which is condition for later provided by <code>thenComparing</code> comparator representing lexical order to work. But since <code>a</code> and <code>Aa</code> have different length they will not be additionally sorted by that lexical order which would place <code>Aa</code> before <code>a</code>.</p>\n<p><strong>Solution</strong>:<br />\nTo fix this problem we can create Comparator which will manually iterate over &quot;common&quot; indexes of two strings and compare their corresponding characters using created earlier <code>caseInsensitiveThenNaturalOrde</code> (from original answer below). By comparing single characters we are sure that these will have same length which should solve the problem and let us apply order <code>A &lt; a &lt; B &lt; b &lt; C &lt; c &lt; ...</code>:</p>\n<pre><code>Comparator&lt;String&gt; myComparator = (s1, s2) -&gt; {\n    for (int i = 0; i &lt; Math.min(s1.length(), s2.length()); i++) {\n        int compare = caseInsensitiveThenNaturalOrder \n                .compare(s1.substring(i, i + 1), s2.substring(i, i + 1));\n        if (compare != 0) return compare;\n    }\n    return Integer.compare(s1.length(), s2.length());\n};\n\n//DEMO:\nString[] arr = {&quot;a&quot;,&quot;A&quot;,&quot;aA&quot;,&quot;Aa&quot;,&quot;a&quot;,&quot;aA&quot;,&quot;bb&quot;,&quot;b&quot;,&quot;Bb&quot;,&quot;bB&quot;,&quot;aB&quot;};\nArrays.sort(arr, myComparator);\nSystem.out.println(Arrays.toString(arr));\n\n//Output:\n//[A, Aa, a, a, aA, aA, aB, Bb, b, bB, bb]\n</code></pre>\n<hr />\n<h1>Original answer</h1>\n<p>For English only characters you can use Comparator</p>\n<pre><code>Comparator&lt;String&gt; caseInsensitiveThenNaturalOrder = String\n            .CASE_INSENSITIVE_ORDER\n            .thenComparing(Comparator.naturalOrder());\n</code></pre>\n<p>which first sorts words regardless of their case like <code>b,c,a,A</code> -&gt; <code>a,A,b,c</code>. <code>.thenComparing</code> provides way to order elements considered as equal like <code>a</code> and <code>A</code> in a way where <code>A</code> will be placed before <code>a</code> (which is natural ordering of string elements)</p>\n<hr />\n<p>But if names can hold non-English characters (like in Polish <code>Ą,ą</code> which should be placed between <code>A,a</code> and <code>B,b</code>) we can't use <code>String.CASE_INSENSITIVE_ORDER</code> because it would place non-English characters after English ones. For case like this we need solution described at <a href=\"https://stackoverflow.com/q/12889760\">Sort List of Strings with Localization</a> like</p>\n<pre><code>Collator coll = Collator.getInstance(new Locale(&quot;pl&quot;, &quot;PL&quot;)); //set locale of supported characters\ncoll.setStrength(Collator.PRIMARY);\nComparator&lt;Object&gt; caseInsensitiveThenNaturalOrder = coll\n        .thenComparing((o1, o2) -&gt; o1.toString().compareTo(o2.toString()));\n</code></pre>\n<p>Demo (with support of Polish characters):</p>\n<pre><code>String[] arr = {&quot;cC&quot;,&quot;Cc&quot;,&quot;cc&quot;,&quot;CC&quot;, &quot;ab&quot;,&quot;aB&quot;,&quot;Ab&quot;,&quot;AB&quot;, &quot;ą&quot;, &quot;Ą&quot;};\nArrays.sort(arr, caseInsensitiveThenNaturalOrder);\nSystem.out.println(Arrays.toString(arr));\n</code></pre>\n<p>Output: <code>[AB, Ab, aB, ab, Ą, ą, CC, Cc, cC, cc]</code></p>\n<p>If you want to sort collection of <code>Employee</code> instances based on property accessed via <code>getFirstName</code> you can use <code>caseInsensitiveThenNaturalOrder</code> Comparator like</p>\n<pre><code>Collections.sort(employees, Comparator.comparing(Employee::getFirstName, caseInsensitiveThenNaturalOrder));\n</code></pre>\n<p>which can also be written as</p>\n<pre><code>employees.sort(Comparator.comparing(Employee::getFirstName, caseInsensitiveThenNaturalOrder));\n</code></pre>\n"}],"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1697129257,"creation_date":1564509428,"question_id":57277475,"body_markdown":"I want to sort the List&lt;Employee&gt; on name property\r\n\r\nAnd the sort should be in ascending like A, a, B, b ... in java\r\n\r\nIt would be great if someone helps me in this.\r\n\r\nFor example\r\n\r\n    package corejava.compare;\r\n \r\n    import java.util.Comparator;\r\n \r\n    public class FirstNameSorter implements Comparator&lt;Employee&gt;{\r\n \r\n         @Override\r\n         public int compare(Employee o1, Employee o2) {\r\n             return o1.getFirstName().compareTo(o2.getFirstName());\r\n         }\r\n    }\r\nAnd I have used this  comparator as below:\r\n\r\n    Employee e1 = new Employee(1, &quot;aTestName&quot;, &quot;dLastName&quot;, 34);\r\n    Employee e2 = new Employee(2, &quot;A&quot;, &quot;pLastName&quot;, 30);\r\n    Employee e3 = new Employee(3, &quot;T&quot;, &quot;sLastName&quot;, 31);\r\n    Employee e4 = new Employee(4, &quot;D&quot;, &quot;zLastName&quot;, 25);\r\n    Employee e5 = new Employee(5, &quot;b&quot;, &quot;zLastName&quot;, 25);\r\n \r\n    List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n    employees.add(e2);\r\n    employees.add(e3);\r\n    employees.add(e1);\r\n    employees.add(e4);\r\n    employees.add(e5);\r\n    \r\n    Collections.sort(employees, new FirstNameSorter());\r\n \r\n    // Sorted by firstName\r\n    System.out.println(employees);\r\n\r\nthen I got the following output:\r\n\r\n    A\r\n    D\r\n    T\r\n    b\r\nBut, I want the following output:\r\n\r\n    A\r\n    b\r\n    D\r\n    T","title":"sort results in ascending return in the form A, a, B, b... in Java","body":"<p>I want to sort the List on name property</p>\n\n<p>And the sort should be in ascending like A, a, B, b ... in java</p>\n\n<p>It would be great if someone helps me in this.</p>\n\n<p>For example</p>\n\n<pre><code>package corejava.compare;\n\nimport java.util.Comparator;\n\npublic class FirstNameSorter implements Comparator&lt;Employee&gt;{\n\n     @Override\n     public int compare(Employee o1, Employee o2) {\n         return o1.getFirstName().compareTo(o2.getFirstName());\n     }\n}\n</code></pre>\n\n<p>And I have used this  comparator as below:</p>\n\n<pre><code>Employee e1 = new Employee(1, \"aTestName\", \"dLastName\", 34);\nEmployee e2 = new Employee(2, \"A\", \"pLastName\", 30);\nEmployee e3 = new Employee(3, \"T\", \"sLastName\", 31);\nEmployee e4 = new Employee(4, \"D\", \"zLastName\", 25);\nEmployee e5 = new Employee(5, \"b\", \"zLastName\", 25);\n\nList&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\nemployees.add(e2);\nemployees.add(e3);\nemployees.add(e1);\nemployees.add(e4);\nemployees.add(e5);\n\nCollections.sort(employees, new FirstNameSorter());\n\n// Sorted by firstName\nSystem.out.println(employees);\n</code></pre>\n\n<p>then I got the following output:</p>\n\n<pre><code>A\nD\nT\nb\n</code></pre>\n\n<p>But, I want the following output:</p>\n\n<pre><code>A\nb\nD\nT\n</code></pre>\n"},{"tags":["python","java","c++","computer-science"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697125550,"post_id":77282057,"comment_id":136243401,"body_markdown":"Generally speaking, the variable now simply contains 4, not 3+1.","body":"Generally speaking, the variable now simply contains 4, not 3+1."},{"owner":{"account_id":9067781,"reputation":30720,"user_id":6752050,"display_name":"273K"},"score":7,"creation_date":1697125761,"post_id":77282057,"comment_id":136243436,"body_markdown":"Pick one language, they are very different. If you have a generic question then ask it on https://cs.stackexchange.com","body":"Pick one language, they are very different. If you have a generic question then ask it on <a href=\"https://cs.stackexchange.com\">cs.stackexchange.com</a>"},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":2,"creation_date":1697125916,"post_id":77282057,"comment_id":136243463,"body_markdown":"Generally scalar variables don&#39;t point to literals, they&#39;re just locations in memory that contain a value, changing the variable changes the value in memory, there&#39;s no change of pointers","body":"Generally scalar variables don&#39;t point to literals, they&#39;re just locations in memory that contain a value, changing the variable changes the value in memory, there&#39;s no change of pointers"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":2,"creation_date":1697125971,"post_id":77282057,"comment_id":136243474,"body_markdown":"&quot;Literal&quot; usually refers to some syntax for hardcoding a value into the code built into the language you&#39;re using. Languages usually have integral, floating point and string literals. It&#39;s left up for the compiler to figure out how to exactly store data at runtime, but you can be almost certain that the data is just stored as is in memory(register/RAM) and no pointers to shared storage are used. (These pointers would take up more memory than the data itself and degrade performance on access because of the indirection.)","body":"&quot;Literal&quot; usually refers to some syntax for hardcoding a value into the code built into the language you&#39;re using. Languages usually have integral, floating point and string literals. It&#39;s left up for the compiler to figure out how to exactly store data at runtime, but you can be almost certain that the data is just stored as is in memory(register/RAM) and no pointers to shared storage are used. (These pointers would take up more memory than the data itself and degrade performance on access because of the indirection.)"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1697126159,"post_id":77282057,"comment_id":136243504,"body_markdown":"Referring to java specifically: Note that there is a difference between `java.lang.Integer` and `int`. There are no literals of type `java.lang.Integer`, but there may be a literal converted to one in your code. Primitive types work a bit different than objects in java...","body":"Referring to java specifically: Note that there is a difference between <code>java.lang.Integer</code> and <code>int</code>. There are no literals of type <code>java.lang.Integer</code>, but there may be a literal converted to one in your code. Primitive types work a bit different than objects in java..."},{"owner":{"account_id":11533617,"reputation":3879,"user_id":8451814,"display_name":"Woodford"},"score":0,"creation_date":1697128348,"post_id":77282057,"comment_id":136243918,"body_markdown":"Does this answer your question? [What does the word &quot;literal&quot; mean?](https://stackoverflow.com/questions/485119/what-does-the-word-literal-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/485119/what-does-the-word-literal-mean\">What does the word &quot;literal&quot; mean?</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1697129337,"post_id":77282057,"comment_id":136244065,"body_markdown":"Doing `x++` doesn&#39;t assign a new literal, it assigns a new _value_. The term literal only refers to occurrences of _literal_ values in the source code, that is a the characters `123` are a literal for the value `123`, while the characters `&quot;a string&quot;` are a literal for a string with the value `a string`, and `5.0` is a literal for a double (64-bit floating point) value, while `5.0f` is a literal for a float (32-bit floating point) value, etc.","body":"Doing <code>x++</code> doesn&#39;t assign a new literal, it assigns a new <i>value</i>. The term literal only refers to occurrences of <i>literal</i> values in the source code, that is a the characters <code>123</code> are a literal for the value <code>123</code>, while the characters <code>&quot;a string&quot;</code> are a literal for a string with the value <code>a string</code>, and <code>5.0</code> is a literal for a double (64-bit floating point) value, while <code>5.0f</code> is a literal for a float (32-bit floating point) value, etc."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1697126892,"creation_date":1697126892,"answer_id":77282211,"question_id":77282057,"body_markdown":"x isn&#39;t a pointer.\r\n\r\nThe JVM spec just says what happens; _how_ it happens is intentionally not specified. So, this answer merely explains how it works on all JVMs I&#39;m aware of. Almost as good. It should certainly clarify matters:\r\n\r\n```\r\nclass Example {\r\n  int x = 3;\r\n\r\n  void foo() {\r\n    x++;\r\n  }\r\n}\r\n```\r\n\r\nHere, any time `new Example()` is executed, some block of memory is reserved for this instance. An instance of an object is simply a block of  memory that holds its basic properties (including that this is an object of type `Example`) and room to store the value of _every_ non-static field. In this case, `int x` - that&#39;s a non-static field.\r\n\r\nPrimitives are special data types: It&#39;s a hard coded list: int, long, short, byte, double, float, boolean, and char. That&#39;s it. That&#39;s the whole list, you can&#39;t add any new types. They are &#39;special&#39; - any value of a primitive type is just the value. __not a pointer__.\r\n\r\nThus, `int x = 3` means that any attempt to make a new Example instance (`new Example()`) will, as mentioned, reserve some space in memory to store the value of the `x` field, and that value is _directly_ 3. It&#39;s not &#39;a pointer to a 3 object&#39;. It&#39;s just.. 3. It&#39;ll take at least 32-bits (as `int` is 32 bits), it might effectively take 64 (CPUs pretty much require that objects are nicely aligned: That they start on a value that is divisible by 64, on 64-bit CPUs).\r\n\r\n`x++` simply finds that memory position with the bit sequence 0000....0000011 (`0011` is binary for &#39;3&#39;), and increments it, turning that into 0000....0000100.\r\n\r\nIn contrast, let&#39;s try with an object - anything that isn&#39;t on that list of primitives is an object, and all such values _are_ pointers. (In java speak, &#39;references&#39;). So, in this very slightly changed code:\r\n\r\n```\r\nclass Example {\r\n  Integer x = 3;\r\n\r\n  void foo() {\r\n    x++;\r\n  }\r\n}\r\n```\r\n\r\nSomething very very different is going on. For starters, auto-boxing: That is syntax sugar and is compiled as if you wrote:\r\n\r\n```\r\nclass Example {\r\n  Integer x = Integer.valueOf(3);\r\n\r\n  void foo() {\r\n    x = Integer.valueOf(x.intValue() + 1);\r\n  }\r\n}\r\n```\r\n\r\nWhy? Because the JLS says so - that&#39;s what happens when you try to `x++` where `x` is a non-primitive type, _but_, is autoboxable to an `int`.\r\n\r\nSo, what happens here? Who knows? Who cares - the code of `valueOf` does what it does. It acts as the spec says it acts, it&#39;s generally not useful to ask _how_. But, if you&#39;re interested:\r\n\r\n`Integer` (the class), upon loading (which it always will, as its such a core class) creates a &#39;cache&#39;, and makes 1 Integer object for each value between -128 and +127. `Integer.valueOf` will return you the value from the cache if possible (i.e. the argument you pass to it is between -128 and +127) otherwise it creates a new Integer object. Given that 3 and 4 fit, you get something like this:\r\n\r\n```\r\npackage java.lang;\r\n\r\npublic class Integer {\r\n  private static final Integer[] cache = new Integer[255];\r\n\r\n  static {\r\n    for (int i = 0; i &lt; 256; i++) {\r\n      cache[i] = new Integer(i - 128);\r\n    }\r\n  }\r\n\r\n  public static Integer valueOf(int v) {\r\n    if (v &gt;= -128 &amp;&amp; v &lt;= 127) return cache[v + 128];\r\n    return new Integer(v);\r\n  }\r\n\r\n  private final int value;\r\n\r\n  public Integer(int v) {\r\n    this.value = v;\r\n  }\r\n\r\n  public int intValue() {\r\n    return v;\r\n  }\r\n}\r\n```\r\n\r\n`x + 1` in java works because the spec says so. It doesn&#39;t have some lookup table that says &#39;3 + 1 is 4&#39;, the concept of adding is baked into CPUs. Forget about pointers and such, computers are binary so numbers can only exist strictly in terms of zeroes and ones. Hence, even -1 is tricky (there&#39;s no &#39;-&#39;. Just zeroes and ones!). However, just because a number is stored in binary doesn&#39;t mean that adding is somehow impossible.\r\n\r\nGiven, say, 5 and 9:\r\n\r\n* 5 = 00000101 in binary\r\n* 9 = 00001001 in binary\r\n\r\nto add them, you do the same thing you&#39;d do when adding 2 decimal numbers. Add each element and make sure to carry any excess. So:\r\n\r\n* the final digits are 1 and 1. Add those together: That&#39;s 0, carry the 1. We have: `???????0`\r\n* The next two digits are 0 and 0. But we did have that carry, so, that&#39;s a 1. So far, we&#39;re at `??????10`.\r\n* The 3rd digit from the left is 1 and 0. Add em up, that&#39;s a 1. We&#39;re at `?????110`.\r\n\r\n... and so on. Arriving at `00001110`. There is no need for lookup tables to do this. Just a repeated application of this trivial table:\r\n\r\n|carry-in|digit1|digit2|output|carry\r\n|----|----|----|----|----|\r\n|0|0|0|0|0\r\n|0|1|0|1|0\r\n|0|0|1|1|0\r\n|0|1|1|0|1\r\n|1|0|0|1|0\r\n|1|1|0|0|1\r\n|1|0|1|0|1\r\n|1|1|1|1|1\r\n\r\nThat logic (that &#39;table&#39; + the logic to repeatedly apply it to every digit) is baked into the silicon of your CPU.\r\n\r\n","title":"The definition of the literal","body":"<p>x isn't a pointer.</p>\n<p>The JVM spec just says what happens; <em>how</em> it happens is intentionally not specified. So, this answer merely explains how it works on all JVMs I'm aware of. Almost as good. It should certainly clarify matters:</p>\n<pre><code>class Example {\n  int x = 3;\n\n  void foo() {\n    x++;\n  }\n}\n</code></pre>\n<p>Here, any time <code>new Example()</code> is executed, some block of memory is reserved for this instance. An instance of an object is simply a block of  memory that holds its basic properties (including that this is an object of type <code>Example</code>) and room to store the value of <em>every</em> non-static field. In this case, <code>int x</code> - that's a non-static field.</p>\n<p>Primitives are special data types: It's a hard coded list: int, long, short, byte, double, float, boolean, and char. That's it. That's the whole list, you can't add any new types. They are 'special' - any value of a primitive type is just the value. <strong>not a pointer</strong>.</p>\n<p>Thus, <code>int x = 3</code> means that any attempt to make a new Example instance (<code>new Example()</code>) will, as mentioned, reserve some space in memory to store the value of the <code>x</code> field, and that value is <em>directly</em> 3. It's not 'a pointer to a 3 object'. It's just.. 3. It'll take at least 32-bits (as <code>int</code> is 32 bits), it might effectively take 64 (CPUs pretty much require that objects are nicely aligned: That they start on a value that is divisible by 64, on 64-bit CPUs).</p>\n<p><code>x++</code> simply finds that memory position with the bit sequence 0000....0000011 (<code>0011</code> is binary for '3'), and increments it, turning that into 0000....0000100.</p>\n<p>In contrast, let's try with an object - anything that isn't on that list of primitives is an object, and all such values <em>are</em> pointers. (In java speak, 'references'). So, in this very slightly changed code:</p>\n<pre><code>class Example {\n  Integer x = 3;\n\n  void foo() {\n    x++;\n  }\n}\n</code></pre>\n<p>Something very very different is going on. For starters, auto-boxing: That is syntax sugar and is compiled as if you wrote:</p>\n<pre><code>class Example {\n  Integer x = Integer.valueOf(3);\n\n  void foo() {\n    x = Integer.valueOf(x.intValue() + 1);\n  }\n}\n</code></pre>\n<p>Why? Because the JLS says so - that's what happens when you try to <code>x++</code> where <code>x</code> is a non-primitive type, <em>but</em>, is autoboxable to an <code>int</code>.</p>\n<p>So, what happens here? Who knows? Who cares - the code of <code>valueOf</code> does what it does. It acts as the spec says it acts, it's generally not useful to ask <em>how</em>. But, if you're interested:</p>\n<p><code>Integer</code> (the class), upon loading (which it always will, as its such a core class) creates a 'cache', and makes 1 Integer object for each value between -128 and +127. <code>Integer.valueOf</code> will return you the value from the cache if possible (i.e. the argument you pass to it is between -128 and +127) otherwise it creates a new Integer object. Given that 3 and 4 fit, you get something like this:</p>\n<pre><code>package java.lang;\n\npublic class Integer {\n  private static final Integer[] cache = new Integer[255];\n\n  static {\n    for (int i = 0; i &lt; 256; i++) {\n      cache[i] = new Integer(i - 128);\n    }\n  }\n\n  public static Integer valueOf(int v) {\n    if (v &gt;= -128 &amp;&amp; v &lt;= 127) return cache[v + 128];\n    return new Integer(v);\n  }\n\n  private final int value;\n\n  public Integer(int v) {\n    this.value = v;\n  }\n\n  public int intValue() {\n    return v;\n  }\n}\n</code></pre>\n<p><code>x + 1</code> in java works because the spec says so. It doesn't have some lookup table that says '3 + 1 is 4', the concept of adding is baked into CPUs. Forget about pointers and such, computers are binary so numbers can only exist strictly in terms of zeroes and ones. Hence, even -1 is tricky (there's no '-'. Just zeroes and ones!). However, just because a number is stored in binary doesn't mean that adding is somehow impossible.</p>\n<p>Given, say, 5 and 9:</p>\n<ul>\n<li>5 = 00000101 in binary</li>\n<li>9 = 00001001 in binary</li>\n</ul>\n<p>to add them, you do the same thing you'd do when adding 2 decimal numbers. Add each element and make sure to carry any excess. So:</p>\n<ul>\n<li>the final digits are 1 and 1. Add those together: That's 0, carry the 1. We have: <code>???????0</code></li>\n<li>The next two digits are 0 and 0. But we did have that carry, so, that's a 1. So far, we're at <code>??????10</code>.</li>\n<li>The 3rd digit from the left is 1 and 0. Add em up, that's a 1. We're at <code>?????110</code>.</li>\n</ul>\n<p>... and so on. Arriving at <code>00001110</code>. There is no need for lookup tables to do this. Just a repeated application of this trivial table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>carry-in</th>\n<th>digit1</th>\n<th>digit2</th>\n<th>output</th>\n<th>carry</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>That logic (that 'table' + the logic to repeatedly apply it to every digit) is baked into the silicon of your CPU.</p>\n"}],"owner":{"account_id":29421839,"reputation":1,"user_id":22543424,"display_name":"Timur Tynychbekov"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":9,"up_vote_count":0,"closed_date":1697128348,"accepted_answer_id":77282211,"answer_count":1,"score":-9,"last_activity_date":1697129168,"creation_date":1697125448,"question_id":77282057,"body_markdown":"When we do some operation on a variable, we just change pointer to another literal? I am a bit confused understanding the exact meaning of the term &#39;literal&#39;.\r\n\r\nSuppose we have int x = 3; // 3 is literal and immutable , x is variable\r\n\r\nDoing operation for ex: x++\r\n\r\nAnd now x == 4; so our var x is just pointing to a new literal. Does the computer just remember that 3 + 1 is 4?\r\n","title":"The definition of the literal","body":"<p>When we do some operation on a variable, we just change pointer to another literal? I am a bit confused understanding the exact meaning of the term 'literal'.</p>\n<p>Suppose we have int x = 3; // 3 is literal and immutable , x is variable</p>\n<p>Doing operation for ex: x++</p>\n<p>And now x == 4; so our var x is just pointing to a new literal. Does the computer just remember that 3 + 1 is 4?</p>\n"},{"tags":["java","dependencies","coupling"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1697106920,"post_id":77279811,"comment_id":136239188,"body_markdown":"The examples doesn&#39;t illustrate coupling for object creation, but rather for object usage. In the second example, the internal state and implementation is hidden from the users of the class. How the `Box` class implements the `getVolume()` function is unknown from the outside, and it doesn&#39;t actually matter at all for the users of the class. If the implementation of the `getVolume` function, or how it stores the volume (the `volume` member variable) changes, that doesn&#39;t matter for the users.","body":"The examples doesn&#39;t illustrate coupling for object creation, but rather for object usage. In the second example, the internal state and implementation is hidden from the users of the class. How the <code>Box</code> class implements the <code>getVolume()</code> function is unknown from the outside, and it doesn&#39;t actually matter at all for the users of the class. If the implementation of the <code>getVolume</code> function, or how it stores the volume (the <code>volume</code> member variable) changes, that doesn&#39;t matter for the users."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697108793,"post_id":77279811,"comment_id":136239590,"body_markdown":"There is a lot of poor quality stuff on Geeks-for-Geeks.  That example is actually an example of strong versus weak encapsulation, IMO.","body":"There is a lot of poor quality stuff on Geeks-for-Geeks.  That example is actually an example of strong versus weak encapsulation, IMO."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1697114960,"post_id":77279811,"comment_id":136240788,"body_markdown":"@StephenC where can I find a good example of loosely coupled and tightly coupled? Thank you!","body":"@StephenC where can I find a good example of loosely coupled and tightly coupled? Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":1799526,"reputation":413,"user_id":1638190,"accept_rate":43,"display_name":"kjerins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697107098,"creation_date":1697107098,"answer_id":77279858,"question_id":77279811,"body_markdown":"Objects have an API - their public-facing parts that anyone can use. If you add some new mandatory thing to the API, or remove some parts, then calling code will most likely have to be updated too. But not all changes to a class have to change the API. For example, consider what happens if you want to store the individual dimensions in your `Box` class, not the volume (you probably don&#39;t want to store both, because that&#39;s unnecessary duplication - if one of the dimensions changes, you will have to recalculate the volume anyway). In the tight coupling scenario, there&#39;s no way to keep `Main` unchanged after that change. In the loose coupling scenario, you&#39;re adding new `private` fields for the dimensions and changing the implementation of `getVolume()`, but `Main` doesn&#39;t care about that and doesn&#39;t change.","title":"Why you don&#39;t need to change the Java class in loosely coupling?","body":"<p>Objects have an API - their public-facing parts that anyone can use. If you add some new mandatory thing to the API, or remove some parts, then calling code will most likely have to be updated too. But not all changes to a class have to change the API. For example, consider what happens if you want to store the individual dimensions in your <code>Box</code> class, not the volume (you probably don't want to store both, because that's unnecessary duplication - if one of the dimensions changes, you will have to recalculate the volume anyway). In the tight coupling scenario, there's no way to keep <code>Main</code> unchanged after that change. In the loose coupling scenario, you're adding new <code>private</code> fields for the dimensions and changing the implementation of <code>getVolume()</code>, but <code>Main</code> doesn't care about that and doesn't change.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697129124,"creation_date":1697121951,"answer_id":77281630,"question_id":77279811,"body_markdown":"The problem with examples of tight (strong) versus weak (loose) coupling is that they tend to conflate the concepts of coupling and data abstraction.  These are related concepts ... but they are not the same thing.\r\n\r\nIn the example you found&lt;sup&gt;1&lt;/sup&gt;, the most important problem with the &quot;tight coupling&quot; case is that the `Box.volume` field is declared as `public`.  This *allows* other code to directly use that field, and it means that the other code can depend on the name and type (and implied semantics) of the field.\r\n\r\nBy contrast, the &quot;loose coupling&quot; case declares that field as `private`, which removes the possibility of other code depending on the actual field.  Of course, we have replaced it with a getter method (`int getVolume()`), and there will still be coupling between the two classes.  But we have removed the possibility of coupling between the actual (now private) field and the classes that consume the volume.  And for the sake of argument, we could change the `Box` class to store the box dimensions and compute the volume on the fly; e.g.\r\n\r\n    class Box { \r\n         private int length, width, height; \r\n         Box (int length, int width, int height) { \r\n             // check the arguments are &gt;= 0 and set the fields  \r\n         }\r\n         public int getVolume() {  \r\n             return length * width * height;    \r\n         } \r\n    }\r\n\r\nBut how does this relate to data abstraction?  Well in the version above with private fields, some other class can&#39;t assign values to the fields directly.  But if they were public, other classes could change the box dimensions ... and even assign nonsense values to them, resulting in (say) the `getVolume` returning a negative volume.\r\n\r\n-----------------------\r\n\r\nNote that in an example like this it is not possible remove all coupling.  And whenever you have *any* coupling at all, that means that *some* changes to a class will inevitably require changes to others.\r\n\r\nYour counter-example seems to be arguing that since adding a 4th parameter (dimension?) to `Box` will entail changing `Volume`.  That is true.  But it does not mean that the &quot;loose coupling&quot; example is invalid.  The proposition was that the &quot;loose&quot; version was less coupled than the &quot;tight&quot; version.  It was NOT that there was no coupling at all.\r\n\r\nAnd indeed, if you add the 4th parameter to `Box` in your &quot;tight&quot; version in the obvious way, the same changes will need to be made to `Volume`.  For &gt;that&lt; change, our reduction in coupling by hiding of the `volume` field is neutral.  But it is not neutral for the change embodied in my version above!\r\n\r\n-----------------------\r\n\r\nTo sum it up, coupling is a matter of degree.  Coupling between modules (classes, whatever) cannot be removed entirely ... if they need to work together.  What you really need to focus on is coupling that makes it harder to understand and maintain a code base; e.g. coupling that is unnecessary, unexpected or hidden from the programmer in some way. \r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - I commented that the example you found is a poor one.  In fact, the real problem is in the explanation that you quoted.  That explanation is simply incorrect.  I don&#39;t recommend Geeks-for-Geeks as a source of information.&lt;/sup&gt;","title":"Why you don&#39;t need to change the Java class in loosely coupling?","body":"<p>The problem with examples of tight (strong) versus weak (loose) coupling is that they tend to conflate the concepts of coupling and data abstraction.  These are related concepts ... but they are not the same thing.</p>\n<p>In the example you found<sup>1</sup>, the most important problem with the &quot;tight coupling&quot; case is that the <code>Box.volume</code> field is declared as <code>public</code>.  This <em>allows</em> other code to directly use that field, and it means that the other code can depend on the name and type (and implied semantics) of the field.</p>\n<p>By contrast, the &quot;loose coupling&quot; case declares that field as <code>private</code>, which removes the possibility of other code depending on the actual field.  Of course, we have replaced it with a getter method (<code>int getVolume()</code>), and there will still be coupling between the two classes.  But we have removed the possibility of coupling between the actual (now private) field and the classes that consume the volume.  And for the sake of argument, we could change the <code>Box</code> class to store the box dimensions and compute the volume on the fly; e.g.</p>\n<pre><code>class Box { \n     private int length, width, height; \n     Box (int length, int width, int height) { \n         // check the arguments are &gt;= 0 and set the fields  \n     }\n     public int getVolume() {  \n         return length * width * height;    \n     } \n}\n</code></pre>\n<p>But how does this relate to data abstraction?  Well in the version above with private fields, some other class can't assign values to the fields directly.  But if they were public, other classes could change the box dimensions ... and even assign nonsense values to them, resulting in (say) the <code>getVolume</code> returning a negative volume.</p>\n<hr />\n<p>Note that in an example like this it is not possible remove all coupling.  And whenever you have <em>any</em> coupling at all, that means that <em>some</em> changes to a class will inevitably require changes to others.</p>\n<p>Your counter-example seems to be arguing that since adding a 4th parameter (dimension?) to <code>Box</code> will entail changing <code>Volume</code>.  That is true.  But it does not mean that the &quot;loose coupling&quot; example is invalid.  The proposition was that the &quot;loose&quot; version was less coupled than the &quot;tight&quot; version.  It was NOT that there was no coupling at all.</p>\n<p>And indeed, if you add the 4th parameter to <code>Box</code> in your &quot;tight&quot; version in the obvious way, the same changes will need to be made to <code>Volume</code>.  For &gt;that&lt; change, our reduction in coupling by hiding of the <code>volume</code> field is neutral.  But it is not neutral for the change embodied in my version above!</p>\n<hr />\n<p>To sum it up, coupling is a matter of degree.  Coupling between modules (classes, whatever) cannot be removed entirely ... if they need to work together.  What you really need to focus on is coupling that makes it harder to understand and maintain a code base; e.g. coupling that is unnecessary, unexpected or hidden from the programmer in some way.</p>\n<hr />\n<p><sup>1 - I commented that the example you found is a poor one.  In fact, the real problem is in the explanation that you quoted.  That explanation is simply incorrect.  I don't recommend Geeks-for-Geeks as a source of information.</sup></p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77281630,"answer_count":2,"score":0,"last_activity_date":1697129124,"creation_date":1697106606,"question_id":77279811,"body_markdown":"I&#39;m a Java developer and I try to understand the coupling in Java, tightly coupling vs loosely coupling. There are a lot of information and the definition is simple: Coupling – the degree of dependency between the components. If more dependency is there it’s considered tightly coupling, if less dependency is there it’s considered loosely coupling. \r\n\r\nBut when I look at the example I don&#39;t understand it. For ex this website https://www.geeksforgeeks.org/coupling-in-java/\r\n\r\n**tight coupling example** \r\n\r\n    class Volume  \r\n    { \r\n         public static void main(String args[])  \r\n         { \r\n             Box b = new Box(5,5,5); \r\n             System.out.println(b.volume); \r\n         } \r\n    } \r\n    class Box  \r\n    { \r\n         public int volume; \r\n         Box(int length, int width, int height)  \r\n         { \r\n             this.volume = length * width * height; \r\n         } \r\n    } \r\n\r\n&quot;Explanation:In the above example, there is a strong inter-dependency between both the classes. If there is any change in Box class then they reflects in the result of Class Volume.&quot;\r\n\r\n**loose coupling example** \r\n\r\n    class Volume  \r\n    { \r\n         public static void main(String args[])  \r\n         { \r\n             Box b = new Box(5,5,5); \r\n             System.out.println(b.getVolume()); \r\n         } \r\n    } \r\n    final class Box  \r\n    { \r\n         private int volume; \r\n         Box(int length, int width, int height)  \r\n         { \r\n             this.volume = length * width * height; \r\n         } \r\n         public int getVolume()  \r\n         {  \r\n             return volume;  \r\n               \r\n         } \r\n    } \r\n\r\n&quot;Explanation : In the loosely coupling program, there is no dependency between both the classes. If we change anything in the Box classes then we don&#39;t have to change anything in Volume class.&quot;\r\n\r\nBut this is not true, if we change the class Box for ex we add another parameter in the constructor like here:\r\n\r\n     Box(int length, int width, int height, int b)  \r\n     { \r\n         this.volume = length * width * height + b; \r\n     } \r\n\r\nThen we need to change the class Volume otherwise there will be compilation errors:\r\n\r\n         Box b = new Box(5,5,5,3); \r\n\r\nSo, these changes should be done for both examples tightly coupling and also loosely coupling. What are they referring when they are saying you don&#39;t need to change something in the Volume class? Any feedback will be appreciated!\r\n\r\n\r\n","title":"Why you don&#39;t need to change the Java class in loosely coupling?","body":"<p>I'm a Java developer and I try to understand the coupling in Java, tightly coupling vs loosely coupling. There are a lot of information and the definition is simple: Coupling – the degree of dependency between the components. If more dependency is there it’s considered tightly coupling, if less dependency is there it’s considered loosely coupling.</p>\n<p>But when I look at the example I don't understand it. For ex this website <a href=\"https://www.geeksforgeeks.org/coupling-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/coupling-in-java/</a></p>\n<p><strong>tight coupling example</strong></p>\n<pre><code>class Volume  \n{ \n     public static void main(String args[])  \n     { \n         Box b = new Box(5,5,5); \n         System.out.println(b.volume); \n     } \n} \nclass Box  \n{ \n     public int volume; \n     Box(int length, int width, int height)  \n     { \n         this.volume = length * width * height; \n     } \n} \n</code></pre>\n<p>&quot;Explanation:In the above example, there is a strong inter-dependency between both the classes. If there is any change in Box class then they reflects in the result of Class Volume.&quot;</p>\n<p><strong>loose coupling example</strong></p>\n<pre><code>class Volume  \n{ \n     public static void main(String args[])  \n     { \n         Box b = new Box(5,5,5); \n         System.out.println(b.getVolume()); \n     } \n} \nfinal class Box  \n{ \n     private int volume; \n     Box(int length, int width, int height)  \n     { \n         this.volume = length * width * height; \n     } \n     public int getVolume()  \n     {  \n         return volume;  \n           \n     } \n} \n</code></pre>\n<p>&quot;Explanation : In the loosely coupling program, there is no dependency between both the classes. If we change anything in the Box classes then we don't have to change anything in Volume class.&quot;</p>\n<p>But this is not true, if we change the class Box for ex we add another parameter in the constructor like here:</p>\n<pre><code> Box(int length, int width, int height, int b)  \n { \n     this.volume = length * width * height + b; \n } \n</code></pre>\n<p>Then we need to change the class Volume otherwise there will be compilation errors:</p>\n<pre><code>     Box b = new Box(5,5,5,3); \n</code></pre>\n<p>So, these changes should be done for both examples tightly coupling and also loosely coupling. What are they referring when they are saying you don't need to change something in the Volume class? Any feedback will be appreciated!</p>\n"},{"tags":["java","function","url","input","aws-lambda"],"owner":{"account_id":10167591,"reputation":21,"user_id":7508952,"display_name":"Radek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697128838,"creation_date":1697101685,"question_id":77279218,"body_markdown":"I want to write a simple Lambda function handler in Java which would act as a simple API (based on the input event object it&#39;s going to decide what http method was called (GET/POST/...) and prepare a proper response).\r\nI would like to utilize the &quot;function URL&quot; option which I can set in the Lambda function configuration to make it possible to call the function handler&#39;s endpoint directly (from a browser or Postman).\r\nThe problem is I don&#39;t know what type of data my Java function handler should receive in such case.\r\n\r\nThe following piece of code works fine if the input parameter was an APIGatewayProxyRequestEvent object (which I would receive if the request was sent through API gateway or if I provide an &quot;API gateway API Proxy&quot; event template JSON which comes in various AWS examples).\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; {\r\n    \r\n        public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent input, final Context context) {\r\n    \r\n            LambdaLogger logger = context.getLogger();\r\n            logger.log(&quot;aws lambda function invoked&quot;);\r\n    \r\n            logger.log(&quot;input: &quot; + input.getBody());\r\n            logger.log(&quot;log: httpMethod = &quot; + input.getHttpMethod());       // RETURNS null !!!!\r\n            logger.log(&quot;log: path = &quot; + input.getPath());                   // RETURNS null !!!!\r\n            logger.log(&quot;log: queryStringParameters = &quot; + input.getQueryStringParameters());\r\n    \t\t\r\n    \t\t...\r\n\r\nThe problem is that if I deploy such a function handler (with an APIGatewayProxyRequestEvent object as the input parameter) and then try to trigger this function handler by sending a simple request from Postman to the lambda function&#39;s URL, the request data get transformed into an APIGatewayProxyRequestEvent object after all but it&#39;s not populated correctly - the httpMethod or path are both null even though they were correctly set in Postman.\r\nI therefore assume I need to change the input APIGatewayProxyRequestEvent parameter to be of another type, I just don&#39;t know which type it should be and I haven&#39;t been able to find an answer so far.\r\n\r\nI would think it must be quite easy to get a simple request from Postman/curl/browser/... and receive it in the Java function handler with all the request details (including http method or path) so I just must be missing something (most likely the correct input type of the event object)...\r\n\r\nI&#39;ll be grateful for any piece of advice.\r\n\r\n","title":"What is the input parameter type in an AWS Lambda function handler written in Java when using function URL to trigger the Lambda function?","body":"<p>I want to write a simple Lambda function handler in Java which would act as a simple API (based on the input event object it's going to decide what http method was called (GET/POST/...) and prepare a proper response).\nI would like to utilize the &quot;function URL&quot; option which I can set in the Lambda function configuration to make it possible to call the function handler's endpoint directly (from a browser or Postman).\nThe problem is I don't know what type of data my Java function handler should receive in such case.</p>\n<p>The following piece of code works fine if the input parameter was an APIGatewayProxyRequestEvent object (which I would receive if the request was sent through API gateway or if I provide an &quot;API gateway API Proxy&quot; event template JSON which comes in various AWS examples).</p>\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; {\n\n    public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent input, final Context context) {\n\n        LambdaLogger logger = context.getLogger();\n        logger.log(&quot;aws lambda function invoked&quot;);\n\n        logger.log(&quot;input: &quot; + input.getBody());\n        logger.log(&quot;log: httpMethod = &quot; + input.getHttpMethod());       // RETURNS null !!!!\n        logger.log(&quot;log: path = &quot; + input.getPath());                   // RETURNS null !!!!\n        logger.log(&quot;log: queryStringParameters = &quot; + input.getQueryStringParameters());\n        \n        ...\n</code></pre>\n<p>The problem is that if I deploy such a function handler (with an APIGatewayProxyRequestEvent object as the input parameter) and then try to trigger this function handler by sending a simple request from Postman to the lambda function's URL, the request data get transformed into an APIGatewayProxyRequestEvent object after all but it's not populated correctly - the httpMethod or path are both null even though they were correctly set in Postman.\nI therefore assume I need to change the input APIGatewayProxyRequestEvent parameter to be of another type, I just don't know which type it should be and I haven't been able to find an answer so far.</p>\n<p>I would think it must be quite easy to get a simple request from Postman/curl/browser/... and receive it in the Java function handler with all the request details (including http method or path) so I just must be missing something (most likely the correct input type of the event object)...</p>\n<p>I'll be grateful for any piece of advice.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697194968,"post_id":77282358,"comment_id":136252448,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":3502195,"reputation":3,"user_id":4799977,"display_name":"Florian Schweitzer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697128356,"creation_date":1697128356,"question_id":77282358,"body_markdown":"Our software employs Apache POI to open Excel workbooks as templates, copy them and fill them with content.\r\nI&#39;ve recently come across the first Excel workbook that employed Sensitivity Labels. \r\n\r\nOur implementation failed to manipulate these since they (at a first glance) don&#39;t seem to be in OOXML format anymore.\r\nI couldn&#39;t match any of the crypto strategies POI offers to these labels.\r\n\r\nI was hoping to still use POI alone to manipulate these and get around employing JNI-libraries to unlock the templates and resign them.\r\n\r\nDoes POI support these? It appears some python libs seem to be able to work with them.\r\nCan anyone point me in the direction or a solution? \r\nAre these labels known by a different technical name?\r\n\r\n","title":"How can Apache POI open/manipulate Excel files that employ sensitivity labels","body":"<p>Our software employs Apache POI to open Excel workbooks as templates, copy them and fill them with content.\nI've recently come across the first Excel workbook that employed Sensitivity Labels.</p>\n<p>Our implementation failed to manipulate these since they (at a first glance) don't seem to be in OOXML format anymore.\nI couldn't match any of the crypto strategies POI offers to these labels.</p>\n<p>I was hoping to still use POI alone to manipulate these and get around employing JNI-libraries to unlock the templates and resign them.</p>\n<p>Does POI support these? It appears some python libs seem to be able to work with them.\nCan anyone point me in the direction or a solution?\nAre these labels known by a different technical name?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697188542,"post_id":77279404,"comment_id":136251266,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29637920,"reputation":1,"user_id":22714715,"display_name":"Sagar Mane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697128036,"creation_date":1697103263,"question_id":77279404,"body_markdown":"getting this error in 1st line of pom.xml\r\n\r\n&gt; Exception java.lang.ExceptionInInitializerError [in thread &quot;Worker-xx: Updating Maven Project&quot;]\r\n\r\nCant understand what is wrong. \r\n\r\nI have tried the following steps -&gt; &#39;Preferences &gt; Maven &gt; Annotation Processing &gt; Do not automatically configure/execute annotation processing from pom.xml&#39; but this did not work for me. what else can be done?","title":"Exception java.lang.ExceptionInInitializerError [in thread &quot;Worker-xx: Updating Maven Project&quot;","body":"<p>getting this error in 1st line of pom.xml</p>\n<blockquote>\n<p>Exception java.lang.ExceptionInInitializerError [in thread &quot;Worker-xx: Updating Maven Project&quot;]</p>\n</blockquote>\n<p>Cant understand what is wrong.</p>\n<p>I have tried the following steps -&gt; 'Preferences &gt; Maven &gt; Annotation Processing &gt; Do not automatically configure/execute annotation processing from pom.xml' but this did not work for me. what else can be done?</p>\n"},{"tags":["java","spring","mockito"],"answers":[{"tags":[],"owner":{"account_id":10392325,"reputation":30,"user_id":7663172,"display_name":"mansi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1554457166,"creation_date":1554457166,"answer_id":55532454,"question_id":55531932,"body_markdown":"    UnfinishedStubbingException means you are not mocking properly\r\n    this is not the right way of mocking a method... Mockito.doReturn(jobList).when(serviceSpy).fetchJob();\r\n    You can try below...\r\n    Examples of correct stubbing:\r\n        when(mock.isOk()).thenReturn(true);\r\n        when(mock.isOk()).thenThrow(exception);\r\n        doThrow(exception).when(mock).someVoidMethod();","title":"Mockito SpyBean throws an UnfinishedStubbingException","body":"<pre><code>UnfinishedStubbingException means you are not mocking properly\nthis is not the right way of mocking a method... Mockito.doReturn(jobList).when(serviceSpy).fetchJob();\nYou can try below...\nExamples of correct stubbing:\n    when(mock.isOk()).thenReturn(true);\n    when(mock.isOk()).thenThrow(exception);\n    doThrow(exception).when(mock).someVoidMethod();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11671423,"reputation":7825,"user_id":8546367,"display_name":"reka18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697127458,"creation_date":1697127458,"answer_id":77282265,"question_id":55531932,"body_markdown":"Looks like spying async methods breaks Mockito. I removed the async from the method as an experiment and immediately Mockito no longer threw those exceptions.","title":"Mockito SpyBean throws an UnfinishedStubbingException","body":"<p>Looks like spying async methods breaks Mockito. I removed the async from the method as an experiment and immediately Mockito no longer threw those exceptions.</p>\n"}],"owner":{"account_id":7399016,"reputation":348,"user_id":5630034,"display_name":"red9350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697127458,"creation_date":1554455483,"question_id":55531932,"body_markdown":"I&#39;m trying to partially mock a service using Mockito&#39;s Spy, overriding a method to make it return consistent data for testing, but said spy throws an UnfinishedStubbingException for no apparent reason.\r\n\r\nThis is my test class:\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class ApplicationIT {\r\n\r\n    private CompletableFuture&lt;JobList&gt; jobList;\r\n\r\n    @SpyBean\r\n    private Service serviceSpy;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        initMocks(this);\r\n\r\n        jobList = new CompletableFuture&lt;&gt;();\r\n        jobList.complete(jobList.newBuilder()\r\n                .addAllJobs(jobTestData.getTestJob().getJobs()).build()); \r\n \r\n        Mockito.doReturn(jobList).when(serviceSpy).fetchJob();  \r\n        Mockito.doNothing().when(serviceSpy).reportSuccess(Mockito.any());\r\n    }\r\n\r\n    @Test\r\n    public void fetchJobCallTest() {\r\n        Mockito.verify(serviceSpy, timeout(60000).atLeastOnce()).fetchJob();\r\n    }\r\n\r\n    @Test\r\n    public void reportSuccessCallTest() {       \r\n        Mockito.verify(serviceSpy, timeout(60000).atLeastOnce()).reportSuccess(Mockito.any());\r\n    }\r\n}\r\n```\r\n\r\nBoth tests fail with a ```org.mockito.exceptions.misusing.UnfinishedStubbingException``` pointing to ```Mockito.doReturn(jobList).when(serviceSpy).fetchJob();``` at  ```Mockito.doNothing().when(serviceSpy).reportSuccess(Mockito.any());```","title":"Mockito SpyBean throws an UnfinishedStubbingException","body":"<p>I'm trying to partially mock a service using Mockito's Spy, overriding a method to make it return consistent data for testing, but said spy throws an UnfinishedStubbingException for no apparent reason.</p>\n\n<p>This is my test class:</p>\n\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class ApplicationIT {\n\n    private CompletableFuture&lt;JobList&gt; jobList;\n\n    @SpyBean\n    private Service serviceSpy;\n\n    @Before\n    public void setUp() {\n        initMocks(this);\n\n        jobList = new CompletableFuture&lt;&gt;();\n        jobList.complete(jobList.newBuilder()\n                .addAllJobs(jobTestData.getTestJob().getJobs()).build()); \n\n        Mockito.doReturn(jobList).when(serviceSpy).fetchJob();  \n        Mockito.doNothing().when(serviceSpy).reportSuccess(Mockito.any());\n    }\n\n    @Test\n    public void fetchJobCallTest() {\n        Mockito.verify(serviceSpy, timeout(60000).atLeastOnce()).fetchJob();\n    }\n\n    @Test\n    public void reportSuccessCallTest() {       \n        Mockito.verify(serviceSpy, timeout(60000).atLeastOnce()).reportSuccess(Mockito.any());\n    }\n}\n</code></pre>\n\n<p>Both tests fail with a <code>org.mockito.exceptions.misusing.UnfinishedStubbingException</code> pointing to <code>Mockito.doReturn(jobList).when(serviceSpy).fetchJob();</code> at  <code>Mockito.doNothing().when(serviceSpy).reportSuccess(Mockito.any());</code></p>\n"},{"tags":["java","gradle"],"owner":{"account_id":24374764,"reputation":33,"user_id":18307259,"display_name":"muntazir halim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697127358,"creation_date":1697127358,"question_id":77282252,"body_markdown":"I updated Flutter SDK to version 3.13 and encountered an issue. I created a new project, and when trying to run it, it takes an unusually long time, approximately an hour, and the application doesn&#39;t build. \r\n\r\nWhen I run &quot;flutter doctor,&quot; it reports everything as normal. \r\n\r\nHere are the versions I&#39;m using:\r\n- Flutter 3.13\r\n- Java 20\r\n- Gradle 7.5\r\nI also tried using Gradle 8.3, but the issue persists. \r\n\r\nI&#39;m facing the problem where it doesn&#39;t build the application even after running the command:\r\n&quot;Launching lib\\main.dart on SM A705FN in debug mode...&quot;\r\n\r\nCan you provide any assistance with this issue?\r\n\r\n\r\n","title":"Launching lib\\main.dart on SM A705FN in debug mode","body":"<p>I updated Flutter SDK to version 3.13 and encountered an issue. I created a new project, and when trying to run it, it takes an unusually long time, approximately an hour, and the application doesn't build.</p>\n<p>When I run &quot;flutter doctor,&quot; it reports everything as normal.</p>\n<p>Here are the versions I'm using:</p>\n<ul>\n<li>Flutter 3.13</li>\n<li>Java 20</li>\n<li>Gradle 7.5\nI also tried using Gradle 8.3, but the issue persists.</li>\n</ul>\n<p>I'm facing the problem where it doesn't build the application even after running the command:\n&quot;Launching lib\\main.dart on SM A705FN in debug mode...&quot;</p>\n<p>Can you provide any assistance with this issue?</p>\n"},{"tags":["java","multithreading","concurrency","sleep","java-17"],"answers":[{"tags":[],"owner":{"account_id":2800812,"reputation":1340,"user_id":2409095,"display_name":"Dhrubajyoti Gogoi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1697126092,"creation_date":1697126092,"answer_id":77282112,"question_id":77282030,"body_markdown":"You main thread is not waiting for other threads to complete the task. Since you added a delay, the problem becomes more apparent.\r\n\r\nCheck [Thread#join()](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#join()) and https://stackoverflow.com/questions/1252190/how-to-wait-for-a-number-of-threads-to-complete","title":"Multithreading, concurrency and sleep not working as expected","body":"<p>You main thread is not waiting for other threads to complete the task. Since you added a delay, the problem becomes more apparent.</p>\n<p>Check <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#join()\" rel=\"noreferrer\">Thread#join()</a> and <a href=\"https://stackoverflow.com/questions/1252190/how-to-wait-for-a-number-of-threads-to-complete\">How to wait for a number of threads to complete?</a></p>\n"}],"owner":{"account_id":7229617,"reputation":485,"user_id":5516979,"accept_rate":93,"display_name":"deko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77282112,"answer_count":1,"score":2,"last_activity_date":1697127013,"creation_date":1697125175,"question_id":77282030,"body_markdown":"I have a very simple scenario. The following method tries to get access to a lock, waits for 1 second and eventually releases the lock.\r\n\r\n    private final Lock lock = new ReentrantLock();\r\n\r\n    public void lockAndWait() {\r\n    \r\n        logger.info(&quot;I {} am here&quot;, Thread.currentThread().getName());\r\n    \r\n        lock.lock();\r\n    \r\n        try {\r\n    \r\n            logger.info(&quot;I {} got the lock&quot;, Thread.currentThread().getName());\r\n    \r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m running the following test:\r\n\r\n    @Test\r\n    public void lockTest() {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            new Thread(() -&gt; lockAndWait()).start();\r\n        }\r\n    }\r\n\r\nAnd I&#39;m getting the following log output:\r\n\r\n    12-10-2023 17:11:04 [Thread-2       ] INFO   I Thread-2 am here\r\n    12-10-2023 17:11:04 [Thread-1       ] INFO   I Thread-1 am here\r\n    12-10-2023 17:11:04 [Thread-6       ] INFO   I Thread-6 am here\r\n    12-10-2023 17:11:04 [Thread-4       ] INFO   I Thread-4 am here\r\n    12-10-2023 17:11:04 [Thread-8       ] INFO   I Thread-8 am here\r\n    12-10-2023 17:11:04 [Thread-7       ] INFO   I Thread-7 am here\r\n    12-10-2023 17:11:04 [Thread-5       ] INFO   I Thread-5 am here\r\n    12-10-2023 17:11:04 [Thread-2       ] INFO   I Thread-2 got the lock\r\n    12-10-2023 17:11:04 [Thread-3       ] INFO   I Thread-3 am here\r\n    12-10-2023 17:11:04 [Thread-10      ] INFO   I Thread-10 am here\r\n    12-10-2023 17:11:04 [Thread-9       ] INFO   I Thread-9 am here\r\n\r\nI don&#39;t understand why only one thread, in this case Thread-2, is getting access to the lock. I was expecting the rest of the threads to be waiting on the `lock.lock();` statement and once Thread-2 released the lock, one of them would get it until all threads did. If I remove the `Thread.sleep(1000);` line, what I expect happens, but I don&#39;t understand why.\r\n\r\nWhat am I missing?\r\n\r\n**SOLUTION**\r\n\r\nBased on what Dhrubajyoti Gogoi has answered, I&#39;ve modified my test method and now is working as expected.\r\n\r\n    @Test\r\n    public void policyUsageTest() throws InterruptedException {\r\n\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Thread thread = new Thread(() -&gt; lockAndWait());\r\n            thread.start();\r\n            threads.add(thread);\r\n        }\r\n\r\n        for (Thread thread : threads) {\r\n            thread.join();\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    12-10-2023 18:08:14 [Thread-1       ] INFO   I Thread-1 am here\r\n    12-10-2023 18:08:14 [Thread-5       ] INFO   I Thread-5 am here\r\n    12-10-2023 18:08:14 [Thread-2       ] INFO   I Thread-2 am here\r\n    12-10-2023 18:08:14 [Thread-9       ] INFO   I Thread-9 am here\r\n    12-10-2023 18:08:14 [Thread-4       ] INFO   I Thread-4 am here\r\n    12-10-2023 18:08:14 [Thread-7       ] INFO   I Thread-7 am here\r\n    12-10-2023 18:08:14 [Thread-3       ] INFO   I Thread-3 am here\r\n    12-10-2023 18:08:14 [Thread-8       ] INFO   I Thread-8 am here\r\n    12-10-2023 18:08:14 [Thread-10      ] INFO   I Thread-10 am here\r\n    12-10-2023 18:08:14 [Thread-6       ] INFO   I Thread-6 am here\r\n    12-10-2023 18:08:14 [Thread-1       ] INFO   I Thread-1 got the lock\r\n    12-10-2023 18:08:15 [Thread-2       ] INFO   I Thread-2 got the lock\r\n    12-10-2023 18:08:16 [Thread-9       ] INFO   I Thread-9 got the lock\r\n    12-10-2023 18:08:17 [Thread-5       ] INFO   I Thread-5 got the lock\r\n    12-10-2023 18:08:18 [Thread-4       ] INFO   I Thread-4 got the lock\r\n    12-10-2023 18:08:19 [Thread-3       ] INFO   I Thread-3 got the lock\r\n    12-10-2023 18:08:20 [Thread-7       ] INFO   I Thread-7 got the lock\r\n    12-10-2023 18:08:21 [Thread-8       ] INFO   I Thread-8 got the lock\r\n    12-10-2023 18:08:22 [Thread-10      ] INFO   I Thread-10 got the lock\r\n    12-10-2023 18:08:23 [Thread-6       ] INFO   I Thread-6 got the lock","title":"Multithreading, concurrency and sleep not working as expected","body":"<p>I have a very simple scenario. The following method tries to get access to a lock, waits for 1 second and eventually releases the lock.</p>\n<pre><code>private final Lock lock = new ReentrantLock();\n\npublic void lockAndWait() {\n\n    logger.info(&quot;I {} am here&quot;, Thread.currentThread().getName());\n\n    lock.lock();\n\n    try {\n\n        logger.info(&quot;I {} got the lock&quot;, Thread.currentThread().getName());\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n<p>I'm running the following test:</p>\n<pre><code>@Test\npublic void lockTest() {\n    for (int i = 0; i &lt; 10; i++) {\n        new Thread(() -&gt; lockAndWait()).start();\n    }\n}\n</code></pre>\n<p>And I'm getting the following log output:</p>\n<pre><code>12-10-2023 17:11:04 [Thread-2       ] INFO   I Thread-2 am here\n12-10-2023 17:11:04 [Thread-1       ] INFO   I Thread-1 am here\n12-10-2023 17:11:04 [Thread-6       ] INFO   I Thread-6 am here\n12-10-2023 17:11:04 [Thread-4       ] INFO   I Thread-4 am here\n12-10-2023 17:11:04 [Thread-8       ] INFO   I Thread-8 am here\n12-10-2023 17:11:04 [Thread-7       ] INFO   I Thread-7 am here\n12-10-2023 17:11:04 [Thread-5       ] INFO   I Thread-5 am here\n12-10-2023 17:11:04 [Thread-2       ] INFO   I Thread-2 got the lock\n12-10-2023 17:11:04 [Thread-3       ] INFO   I Thread-3 am here\n12-10-2023 17:11:04 [Thread-10      ] INFO   I Thread-10 am here\n12-10-2023 17:11:04 [Thread-9       ] INFO   I Thread-9 am here\n</code></pre>\n<p>I don't understand why only one thread, in this case Thread-2, is getting access to the lock. I was expecting the rest of the threads to be waiting on the <code>lock.lock();</code> statement and once Thread-2 released the lock, one of them would get it until all threads did. If I remove the <code>Thread.sleep(1000);</code> line, what I expect happens, but I don't understand why.</p>\n<p>What am I missing?</p>\n<p><strong>SOLUTION</strong></p>\n<p>Based on what Dhrubajyoti Gogoi has answered, I've modified my test method and now is working as expected.</p>\n<pre><code>@Test\npublic void policyUsageTest() throws InterruptedException {\n\n    List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; i++) {\n        Thread thread = new Thread(() -&gt; lockAndWait());\n        thread.start();\n        threads.add(thread);\n    }\n\n    for (Thread thread : threads) {\n        thread.join();\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>12-10-2023 18:08:14 [Thread-1       ] INFO   I Thread-1 am here\n12-10-2023 18:08:14 [Thread-5       ] INFO   I Thread-5 am here\n12-10-2023 18:08:14 [Thread-2       ] INFO   I Thread-2 am here\n12-10-2023 18:08:14 [Thread-9       ] INFO   I Thread-9 am here\n12-10-2023 18:08:14 [Thread-4       ] INFO   I Thread-4 am here\n12-10-2023 18:08:14 [Thread-7       ] INFO   I Thread-7 am here\n12-10-2023 18:08:14 [Thread-3       ] INFO   I Thread-3 am here\n12-10-2023 18:08:14 [Thread-8       ] INFO   I Thread-8 am here\n12-10-2023 18:08:14 [Thread-10      ] INFO   I Thread-10 am here\n12-10-2023 18:08:14 [Thread-6       ] INFO   I Thread-6 am here\n12-10-2023 18:08:14 [Thread-1       ] INFO   I Thread-1 got the lock\n12-10-2023 18:08:15 [Thread-2       ] INFO   I Thread-2 got the lock\n12-10-2023 18:08:16 [Thread-9       ] INFO   I Thread-9 got the lock\n12-10-2023 18:08:17 [Thread-5       ] INFO   I Thread-5 got the lock\n12-10-2023 18:08:18 [Thread-4       ] INFO   I Thread-4 got the lock\n12-10-2023 18:08:19 [Thread-3       ] INFO   I Thread-3 got the lock\n12-10-2023 18:08:20 [Thread-7       ] INFO   I Thread-7 got the lock\n12-10-2023 18:08:21 [Thread-8       ] INFO   I Thread-8 got the lock\n12-10-2023 18:08:22 [Thread-10      ] INFO   I Thread-10 got the lock\n12-10-2023 18:08:23 [Thread-6       ] INFO   I Thread-6 got the lock\n</code></pre>\n"},{"tags":["java","wildfly","cdi"],"answers":[{"tags":[],"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697126972,"creation_date":1697126972,"answer_id":77282221,"question_id":77281343,"body_markdown":"CDI Extensions (Portable extensions in this case) are meant to operate on CDI-discovered types and beans and add/remove/modify CDI-related data.\r\nFurthermore, (meta)data changed this way are only &quot;visible&quot; to CDI, there are no bytecode changes or anything like that. This means that even if such change goes through, introspecting the original class via Java reflections will not show them.\r\n\r\nIf you are therefore trying to add arbitrary annotation to arbitrary class, CDI is not the right tool and you should instead look into some framework manipulating bytecode such as JavaAssist or ByteBuddy or [other alternatives (older question but still relevant in its listings)][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9167436/dynamic-java-bytecode-manipulation-framework-comparison","title":"Adding class annotations using CDI","body":"<p>CDI Extensions (Portable extensions in this case) are meant to operate on CDI-discovered types and beans and add/remove/modify CDI-related data.\nFurthermore, (meta)data changed this way are only &quot;visible&quot; to CDI, there are no bytecode changes or anything like that. This means that even if such change goes through, introspecting the original class via Java reflections will not show them.</p>\n<p>If you are therefore trying to add arbitrary annotation to arbitrary class, CDI is not the right tool and you should instead look into some framework manipulating bytecode such as JavaAssist or ByteBuddy or <a href=\"https://stackoverflow.com/questions/9167436/dynamic-java-bytecode-manipulation-framework-comparison\">other alternatives (older question but still relevant in its listings)</a>.</p>\n"}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77282221,"answer_count":1,"score":0,"last_activity_date":1697126972,"creation_date":1697119750,"question_id":77281343,"body_markdown":"I&#39;m trying to use CDI extension event ProcessAnnotatedType to add a new annatioion to the interface of annotated type. Something like that:\r\n\r\n    &lt; T &gt; void processAnnotatedType( @Observes ProcessAnnotatedType&lt; T &gt; pat)\r\n        {\r\n            AnnotatedType&lt; T &gt; annotatedType = pat.getAnnotatedType();\r\n            Arrays.stream( annotatedType.getJavaClass()\r\n                    .getInterfaces() )\r\n                .forEach( aClass -&gt; {\r\n                    // add annotation to interfaces\r\n                } );\r\n    \r\n        }\r\n\r\nIt is easy to add annotation to provided by AnnotatedType abstraction layer between CDI and actual Java class annotation using builder like here:\r\n\r\n    AnnotatedTypeBuilder&lt; T &gt; builder =\r\n                new AnnotatedTypeBuilder&lt; T &gt;().readFromType( annotatedType );\r\n            builder.addToClass( schema );\r\n\r\nBut how to add such annotation somewhere else? Like to interfaces in my case? I was trying to add using Javaassit but get exception in runtime:\r\n\r\n    2023-10-12T13:25:30.324589648Z Caused by: `org.jboss.weld.exceptions.IllegalArgumentException: WELD-001301: Annotation QualifierInstance {....}} is not a qualifier`\r\n\r\n\r\n\r\n","title":"Adding class annotations using CDI","body":"<p>I'm trying to use CDI extension event ProcessAnnotatedType to add a new annatioion to the interface of annotated type. Something like that:</p>\n<pre><code>&lt; T &gt; void processAnnotatedType( @Observes ProcessAnnotatedType&lt; T &gt; pat)\n    {\n        AnnotatedType&lt; T &gt; annotatedType = pat.getAnnotatedType();\n        Arrays.stream( annotatedType.getJavaClass()\n                .getInterfaces() )\n            .forEach( aClass -&gt; {\n                // add annotation to interfaces\n            } );\n\n    }\n</code></pre>\n<p>It is easy to add annotation to provided by AnnotatedType abstraction layer between CDI and actual Java class annotation using builder like here:</p>\n<pre><code>AnnotatedTypeBuilder&lt; T &gt; builder =\n            new AnnotatedTypeBuilder&lt; T &gt;().readFromType( annotatedType );\n        builder.addToClass( schema );\n</code></pre>\n<p>But how to add such annotation somewhere else? Like to interfaces in my case? I was trying to add using Javaassit but get exception in runtime:</p>\n<pre><code>2023-10-12T13:25:30.324589648Z Caused by: `org.jboss.weld.exceptions.IllegalArgumentException: WELD-001301: Annotation QualifierInstance {....}} is not a qualifier`\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-mapping"],"comments":[{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1430832468,"post_id":30053647,"comment_id":48223188,"body_markdown":"Use a @ManyTo*-like relationship: if you have a primary key, then you have a new entity.","body":"Use a @ManyTo*-like relationship: if you have a primary key, then you have a new entity."},{"owner":{"account_id":53085,"reputation":171,"user_id":158685,"accept_rate":100,"display_name":"plcstpierre"},"score":1,"creation_date":1430833222,"post_id":30053647,"comment_id":48223754,"body_markdown":"It is kind of annoying to create a new entity only for a set of int.","body":"It is kind of annoying to create a new entity only for a set of int."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1515159025,"creation_date":1430893244,"answer_id":30069012,"question_id":30053647,"body_markdown":"`@ElementCollection` cannot take a primary key, because an `Embeddable` types cannot have an identifier.\r\n\r\nYou can [add an `@OrderColumn`][1] to optimize the generates SQL statements.\r\n\r\nIf you need a primary key, then you should turn the `@ElementCollection` into a `@OneToMany` association.\r\n\r\n\r\n  [1]: http://vladmihalcea.com/how-to-optimize-hibernate-elementcollection-statements/","title":"How to specify a Primary Key on @ElementCollection","body":"<p><code>@ElementCollection</code> cannot take a primary key, because an <code>Embeddable</code> types cannot have an identifier.</p>\n\n<p>You can <a href=\"http://vladmihalcea.com/how-to-optimize-hibernate-elementcollection-statements/\" rel=\"nofollow noreferrer\">add an <code>@OrderColumn</code></a> to optimize the generates SQL statements.</p>\n\n<p>If you need a primary key, then you should turn the <code>@ElementCollection</code> into a <code>@OneToMany</code> association.</p>\n"},{"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1527603798,"creation_date":1448043259,"answer_id":33833399,"question_id":30053647,"body_markdown":"If you use a Set and make the element Column be not null, then hibernate will make a primary key with the join column and element column.\r\n\r\nExample:\r\n\r\n    @Column(name = &quot;STRINGS&quot;, nullable = false)\r\n    @ElementCollection\r\n    private Set&lt;String&gt; strings;","title":"How to specify a Primary Key on @ElementCollection","body":"<p>If you use a Set and make the element Column be not null, then hibernate will make a primary key with the join column and element column.</p>\n\n<p>Example:</p>\n\n<pre><code>@Column(name = \"STRINGS\", nullable = false)\n@ElementCollection\nprivate Set&lt;String&gt; strings;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853929,"reputation":6195,"user_id":1679903,"accept_rate":88,"display_name":"kinjelom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626855848,"creation_date":1626855848,"answer_id":68466263,"question_id":30053647,"body_markdown":"Tested on Spring Boot / Data JPA 2.5.2, hibernate-core 5.4.32:\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n@Data\r\n@NoArgsConstructor\r\npublic class User implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER, targetClass = Role.class)\r\n    @Enumerated(EnumType.STRING)\r\n    @CollectionTable(\r\n        name = &quot;user_role&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;)\r\n    )\r\n    @Column(name = &quot;role&quot;, nullable = false)\r\n    private Set&lt;Role&gt; roles; // public enum Role {ADMIN,USER}\r\n}\r\n```\r\nproduces MySQL table:\r\n```\r\nCREATE TABLE `user_role` (\r\n  `user_id` bigint(20) NOT NULL,\r\n  `role` varchar(255) COLLATE utf8_unicode_ci NOT NULL,\r\n  PRIMARY KEY (`user_id`,`role`),\r\n  CONSTRAINT `FK_random_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)\r\n)\r\n```","title":"How to specify a Primary Key on @ElementCollection","body":"<p>Tested on Spring Boot / Data JPA 2.5.2, hibernate-core 5.4.32:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@Data\n@NoArgsConstructor\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ElementCollection(fetch = FetchType.EAGER, targetClass = Role.class)\n    @Enumerated(EnumType.STRING)\n    @CollectionTable(\n        name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;)\n    )\n    @Column(name = &quot;role&quot;, nullable = false)\n    private Set&lt;Role&gt; roles; // public enum Role {ADMIN,USER}\n}\n</code></pre>\n<p>produces MySQL table:</p>\n<pre><code>CREATE TABLE `user_role` (\n  `user_id` bigint(20) NOT NULL,\n  `role` varchar(255) COLLATE utf8_unicode_ci NOT NULL,\n  PRIMARY KEY (`user_id`,`role`),\n  CONSTRAINT `FK_random_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697126310,"creation_date":1697126310,"answer_id":77282142,"question_id":30053647,"body_markdown":"This example is from a book java persistence with spring data and hibernate,\r\ndose not work for a Set, but works for java.util.Collection.Collection or List\r\n\r\n@org.hibernate.annotations.GenericGenerator(name = &quot;sequence_gen&quot;, strategy = &quot;sequence&quot;)\r\n    @org.hibernate.annotations.CollectionId(column = @Column(name = &quot;NAME_ID&quot;), type = @Type( type = &quot;long&quot;), generator = &quot;sequence_gen&quot; )\r\n    @CollectionTable(schema = &quot;&quot;, name = &quot;NAMES&quot;, joinColumns = @JoinColumn(name = &quot;ROOT_ID&quot;))\r\n    @ElementCollection\r\n    private List&lt;String&gt; names = new ArrayList&lt;&gt;();","title":"How to specify a Primary Key on @ElementCollection","body":"<p>This example is from a book java persistence with spring data and hibernate,\ndose not work for a Set, but works for java.util.Collection.Collection or List</p>\n<p>@org.hibernate.annotations.GenericGenerator(name = &quot;sequence_gen&quot;, strategy = &quot;sequence&quot;)\n@org.hibernate.annotations.CollectionId(column = @Column(name = &quot;NAME_ID&quot;), type = @Type( type = &quot;long&quot;), generator = &quot;sequence_gen&quot; )\n@CollectionTable(schema = &quot;&quot;, name = &quot;NAMES&quot;, joinColumns = @JoinColumn(name = &quot;ROOT_ID&quot;))\n@ElementCollection\nprivate List names = new ArrayList&lt;&gt;();</p>\n"}],"owner":{"account_id":53085,"reputation":171,"user_id":158685,"accept_rate":100,"display_name":"plcstpierre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11705,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":33833399,"answer_count":4,"score":11,"last_activity_date":1697126310,"creation_date":1430830590,"question_id":30053647,"body_markdown":"So, there is that behavior with innodb that can cause problem if some tables lack of primary key.\r\n\r\nSo with Hibernate, I am looking for a key to specifies a primary key on a @ElementCollection table with a Set as the underling data structure.\r\n\r\nI found a way to have a primary key with a map, but it is kind of weird because I do not need a map.\r\n\r\nI also found an answer related to @Embeddable, but I do not need that kind of complexities. I am using a Set&lt;Byte&gt; or Set&lt;Integer&gt; as the data structure in my entities.\r\n\r\nAny idea how to achieve that?","title":"How to specify a Primary Key on @ElementCollection","body":"<p>So, there is that behavior with innodb that can cause problem if some tables lack of primary key.</p>\n\n<p>So with Hibernate, I am looking for a key to specifies a primary key on a @ElementCollection table with a Set as the underling data structure.</p>\n\n<p>I found a way to have a primary key with a map, but it is kind of weird because I do not need a map.</p>\n\n<p>I also found an answer related to @Embeddable, but I do not need that kind of complexities. I am using a Set or Set as the data structure in my entities.</p>\n\n<p>Any idea how to achieve that?</p>\n"},{"tags":["python","java","jython","vtk"],"owner":{"account_id":27307181,"reputation":1,"user_id":20822947,"display_name":"anicet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697126308,"creation_date":1697126308,"question_id":77282141,"body_markdown":"I use jython and I&#39;d like to add the vtk library so that I can run my python code (code that uses vtk modules) on eclipse.\r\n\r\nI installed jypthon and then I typed the command jython -m pip install vtk and I got an error ImportError: No module named _winreg","title":"is it possible to add the vtk library to jython 2.7.3 ?(non-native python libraries)","body":"<p>I use jython and I'd like to add the vtk library so that I can run my python code (code that uses vtk modules) on eclipse.</p>\n<p>I installed jypthon and then I typed the command jython -m pip install vtk and I got an error ImportError: No module named _winreg</p>\n"},{"tags":["java","spring-boot","events","groovy","spock"],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697126263,"creation_date":1697118084,"question_id":77281134,"body_markdown":"I have a spring boot RestController, which calls a Service, which fires a custom ApplicationEvent.\r\n\r\nWhen testing the service, the test is green - the fired event is correctly recognized.\r\n\r\nHowever, when I&#39;m adding a test that tests both controller and service via the HTTP interface, the test is red - the fired event isn&#39;t recognized. When debugging, I can see that SomeService.foo() *is* called. Then why does the test fail?\r\n\r\nI&#39;m aware that the structure of theses tests might not be ideal. This is a reduced example, the real application already has lots of these &quot;let&#39;s test all the layers together&quot; tests and I kind of have to stick to this structure for now.\r\n\r\nVersions: spring-boot 3.1.4, Spock 2.4-M1-groovy-4.0\r\n\r\nThese are controller, service and event:\r\n```java\r\npackage org.example;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\n@AllArgsConstructor\r\npublic class SomeController {\r\n    private final SomeService service;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void foo() {\r\n        service.foo();\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.ApplicationEventPublisher;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class SomeService {\r\n    private final ApplicationEventPublisher publisher;\r\n\r\n    public void foo() {\r\n        publisher.publishEvent(new SomeEvent(this));\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example;\r\n\r\nimport org.springframework.context.ApplicationEvent;\r\n\r\npublic class SomeEvent extends ApplicationEvent {\r\n    public SomeEvent(Object source) {\r\n        super(source);\r\n    }\r\n}\r\n```\r\nAnd these are the spock tests:\r\n```java\r\npackage org.example\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.boot.test.web.client.TestRestTemplate\r\nimport org.springframework.boot.test.web.server.LocalServerPort\r\nimport org.springframework.http.HttpStatus\r\nimport org.springframework.http.ResponseEntity\r\nimport org.springframework.test.context.event.ApplicationEvents\r\nimport org.springframework.test.context.event.RecordApplicationEvents\r\nimport spock.lang.Specification\r\n\r\n@RecordApplicationEvents\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\nclass SomeControllerTest extends Specification {\r\n    @Autowired\r\n    ApplicationEvents events;\r\n\r\n    @LocalServerPort\r\n    int port\r\n\r\n    TestRestTemplate restTemplate = new TestRestTemplate()\r\n\r\n    def &quot;calling / fires an event&quot;() {\r\n        given:\r\n        String url = sprintf(&quot;http://localhost:${port}/&quot;)\r\n\r\n        when:\r\n        ResponseEntity&lt;Void&gt; response = restTemplate.postForEntity(url, null, Void.class)\r\n\r\n        then:\r\n        response.statusCode == HttpStatus.OK\r\n\r\n        and:\r\n        events.stream(SomeEvent.class).count() == 1\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.test.context.event.ApplicationEvents\r\nimport org.springframework.test.context.event.RecordApplicationEvents\r\nimport spock.lang.Specification\r\n\r\n@RecordApplicationEvents\r\n@SpringBootTest\r\nclass SomeServiceTest extends Specification {\r\n    @Autowired\r\n    ApplicationEvents events;\r\n\r\n    @Autowired\r\n    SomeService uut;\r\n\r\n    def &quot;some service fires some event&quot;() {\r\n        when:\r\n        uut.foo()\r\n\r\n        then:\r\n        events.stream(SomeEvent.class).count() == 1\r\n    }\r\n}\r\n```\r\nThis is the test failure:\r\n```\r\nCondition not satisfied:\r\n\r\nevents.stream(SomeEvent.class).count() == 1\r\n|      |                |      |       |\r\n|      |                |      0       false\r\n|      |                class org.example.SomeEvent\r\n|      &lt;java.util.stream.ReferencePipeline$3@644e6a8e val$mapper=inaccessible this$0=inaccessible sourceStage=inaccessible previousStage=inaccessible sourceOrOpFlags=inaccessible nextStage=inaccessible depth=inaccessible combinedFlags=inaccessible sourceSpliterator=inaccessible sourceSupplier=inaccessible linkedOrConsumed=inaccessible sourceAnyStateful=inaccessible sourceCloseAction=inaccessible parallel=inaccessible&gt;\r\nCurrent ApplicationEvents\r\n\r\n\tat org.example.SomeControllerTest.calling / fires an event(SomeControllerTest.groovy:35)\r\n```","title":"ApplicationEvents claims my event wasn&#39;t fired, when called via TestRestTemplate","body":"<p>I have a spring boot RestController, which calls a Service, which fires a custom ApplicationEvent.</p>\n<p>When testing the service, the test is green - the fired event is correctly recognized.</p>\n<p>However, when I'm adding a test that tests both controller and service via the HTTP interface, the test is red - the fired event isn't recognized. When debugging, I can see that SomeService.foo() <em>is</em> called. Then why does the test fail?</p>\n<p>I'm aware that the structure of theses tests might not be ideal. This is a reduced example, the real application already has lots of these &quot;let's test all the layers together&quot; tests and I kind of have to stick to this structure for now.</p>\n<p>Versions: spring-boot 3.1.4, Spock 2.4-M1-groovy-4.0</p>\n<p>These are controller, service and event:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/&quot;)\n@AllArgsConstructor\npublic class SomeController {\n    private final SomeService service;\n\n    @PostMapping(&quot;/&quot;)\n    public void foo() {\n        service.foo();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.ApplicationEventPublisher;\nimport org.springframework.stereotype.Service;\n\n@Service\n@AllArgsConstructor\npublic class SomeService {\n    private final ApplicationEventPublisher publisher;\n\n    public void foo() {\n        publisher.publishEvent(new SomeEvent(this));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.springframework.context.ApplicationEvent;\n\npublic class SomeEvent extends ApplicationEvent {\n    public SomeEvent(Object source) {\n        super(source);\n    }\n}\n</code></pre>\n<p>And these are the spock tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.boot.test.web.client.TestRestTemplate\nimport org.springframework.boot.test.web.server.LocalServerPort\nimport org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.test.context.event.ApplicationEvents\nimport org.springframework.test.context.event.RecordApplicationEvents\nimport spock.lang.Specification\n\n@RecordApplicationEvents\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass SomeControllerTest extends Specification {\n    @Autowired\n    ApplicationEvents events;\n\n    @LocalServerPort\n    int port\n\n    TestRestTemplate restTemplate = new TestRestTemplate()\n\n    def &quot;calling / fires an event&quot;() {\n        given:\n        String url = sprintf(&quot;http://localhost:${port}/&quot;)\n\n        when:\n        ResponseEntity&lt;Void&gt; response = restTemplate.postForEntity(url, null, Void.class)\n\n        then:\n        response.statusCode == HttpStatus.OK\n\n        and:\n        events.stream(SomeEvent.class).count() == 1\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.event.ApplicationEvents\nimport org.springframework.test.context.event.RecordApplicationEvents\nimport spock.lang.Specification\n\n@RecordApplicationEvents\n@SpringBootTest\nclass SomeServiceTest extends Specification {\n    @Autowired\n    ApplicationEvents events;\n\n    @Autowired\n    SomeService uut;\n\n    def &quot;some service fires some event&quot;() {\n        when:\n        uut.foo()\n\n        then:\n        events.stream(SomeEvent.class).count() == 1\n    }\n}\n</code></pre>\n<p>This is the test failure:</p>\n<pre><code>Condition not satisfied:\n\nevents.stream(SomeEvent.class).count() == 1\n|      |                |      |       |\n|      |                |      0       false\n|      |                class org.example.SomeEvent\n|      &lt;java.util.stream.ReferencePipeline$3@644e6a8e val$mapper=inaccessible this$0=inaccessible sourceStage=inaccessible previousStage=inaccessible sourceOrOpFlags=inaccessible nextStage=inaccessible depth=inaccessible combinedFlags=inaccessible sourceSpliterator=inaccessible sourceSupplier=inaccessible linkedOrConsumed=inaccessible sourceAnyStateful=inaccessible sourceCloseAction=inaccessible parallel=inaccessible&gt;\nCurrent ApplicationEvents\n\n    at org.example.SomeControllerTest.calling / fires an event(SomeControllerTest.groovy:35)\n</code></pre>\n"},{"tags":["java","data-binding","record"],"answers":[{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697126007,"creation_date":1697107529,"answer_id":77279899,"question_id":77279898,"body_markdown":"Although I couldn&#39;t find a common library that could do this in a one-liner, there is a way to configure `BeanUtils` to achieve this with the help of [jackson-databind](https://github.com/FasterXML/jackson-databind):\r\n\r\n```java\r\n//add support for Java records to Apache BeanUtils\r\nvar utils = BeanUtilsBean.getInstance().getPropertyUtils();\r\nutils.addBeanIntrospector(context -&gt; {\r\n  var clazz = context.getTargetClass();\r\n  var recordFieldNames = JDK14Util.getRecordFieldNames(clazz); //helper method from jackson-databind\r\n  if (recordFieldNames == null) {\r\n    return;\r\n  }\r\n  for (String name : recordFieldNames) {\r\n    try {\r\n      var getter = clazz.getDeclaredMethod(name);\r\n      context.addPropertyDescriptor(new PropertyDescriptor(name, getter, null));\r\n    } catch (NoSuchMethodException ignored) {\r\n      //accessor method of record field not found (should not happen)\r\n    }\r\n  }\r\n});\r\n\r\nvar p = new Person(new Address(&quot;Malgudi&quot;));\r\n\r\nutils.getNestedProperty(p, &quot;address.city&quot;); // ✅ Malgudi","title":"Extract nested record fields using reflection","body":"<p>Although I couldn't find a common library that could do this in a one-liner, there is a way to configure <code>BeanUtils</code> to achieve this with the help of <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">jackson-databind</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//add support for Java records to Apache BeanUtils\nvar utils = BeanUtilsBean.getInstance().getPropertyUtils();\nutils.addBeanIntrospector(context -&gt; {\n  var clazz = context.getTargetClass();\n  var recordFieldNames = JDK14Util.getRecordFieldNames(clazz); //helper method from jackson-databind\n  if (recordFieldNames == null) {\n    return;\n  }\n  for (String name : recordFieldNames) {\n    try {\n      var getter = clazz.getDeclaredMethod(name);\n      context.addPropertyDescriptor(new PropertyDescriptor(name, getter, null));\n    } catch (NoSuchMethodException ignored) {\n      //accessor method of record field not found (should not happen)\n    }\n  }\n});\n\nvar p = new Person(new Address(&quot;Malgudi&quot;));\n\nutils.getNestedProperty(p, &quot;address.city&quot;); // ✅ Malgudi\n</code></pre>\n"}],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697126007,"creation_date":1697107529,"question_id":77279898,"body_markdown":"[commons-beanutils](https://commons.apache.org/proper/commons-beanutils/) can retrieve nested values from beans:\r\n\r\n```java\r\npublic class Person {\r\n  Address address;\r\n  public Address getAddress() { return address; }\r\n}\r\npublic class Address {\r\n  String city;\r\n  public String getCity() { return city; }\r\n}\r\n\r\nvar p = new Person();\r\np.address = new Address();\r\np.address.city = &quot;Malgudi&quot;;\r\n\r\nBeanUtils.getNestedProperty(p, &quot;address.city&quot;); // ✅ Malgudi\r\n```\r\n\r\nHow can this be achieved in a similarly compact way when the data types are records?\r\n\r\n`BeanUtils` apparently does not support records:\r\n\r\n```java\r\npublic record Person(Address address) {}\r\npublic record Address(String city) {}\r\n\r\nvar p = new Person(new Address(&quot;Malgudi&quot;));\r\n\r\nBeanUtils.getNestedProperty(p, &quot;address.city&quot;); // ❌ Unknown property &#39;address&#39;\r\n```","title":"Extract nested record fields using reflection","body":"<p><a href=\"https://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">commons-beanutils</a> can retrieve nested values from beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n  Address address;\n  public Address getAddress() { return address; }\n}\npublic class Address {\n  String city;\n  public String getCity() { return city; }\n}\n\nvar p = new Person();\np.address = new Address();\np.address.city = &quot;Malgudi&quot;;\n\nBeanUtils.getNestedProperty(p, &quot;address.city&quot;); // ✅ Malgudi\n</code></pre>\n<p>How can this be achieved in a similarly compact way when the data types are records?</p>\n<p><code>BeanUtils</code> apparently does not support records:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Person(Address address) {}\npublic record Address(String city) {}\n\nvar p = new Person(new Address(&quot;Malgudi&quot;));\n\nBeanUtils.getNestedProperty(p, &quot;address.city&quot;); // ❌ Unknown property 'address'\n</code></pre>\n"},{"tags":["java","android","performance"],"answers":[{"tags":[],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697125613,"creation_date":1682111402,"answer_id":76076722,"question_id":51956641,"body_markdown":"I believe you can create a white drawable, then use a tint color on top of that.","title":"Performances - Better change the color of drawable or change drawable?","body":"<p>I believe you can create a white drawable, then use a tint color on top of that.</p>\n"}],"owner":{"account_id":7023701,"reputation":85,"user_id":5381986,"display_name":"Leonardo Emili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697125613,"creation_date":1534885207,"question_id":51956641,"body_markdown":"I got a big list of elements to display. In each row I got some text in a TextView and an ImageView with a drawable set as background. Since I need to change the drawable (same shape but in a different color) for a lot of them and for other I want to keep the default drawable what I&#39;m wondering is: in order to perform it the most efficient as possible this what&#39;s the best way to do it?\r\n\r\nThanks in advance.","title":"Performances - Better change the color of drawable or change drawable?","body":"<p>I got a big list of elements to display. In each row I got some text in a TextView and an ImageView with a drawable set as background. Since I need to change the drawable (same shape but in a different color) for a lot of them and for other I want to keep the default drawable what I'm wondering is: in order to perform it the most efficient as possible this what's the best way to do it?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1697105203,"post_id":77279626,"comment_id":136238896,"body_markdown":"the first step would be to actually add a button","body":"the first step would be to actually add a button"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1697105932,"post_id":77279626,"comment_id":136239007,"body_markdown":"Use an appropriate `LayoutManager` in a panel to place objects inside it. Default is `FlowLayout` which is very basic.","body":"Use an appropriate <code>LayoutManager</code> in a panel to place objects inside it. Default is <code>FlowLayout</code> which is very basic."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1697106815,"post_id":77279626,"comment_id":136239168,"body_markdown":"There a number of ways you might do this, one of the better ways would be make a custom component capable of painting an image into itself, independent of any other components, for [example](https://stackoverflow.com/questions/22162398/how-to-set-a-background-picture-in-jpanel/22162430#22162430)","body":"There a number of ways you might do this, one of the better ways would be make a custom component capable of painting an image into itself, independent of any other components, for <a href=\"https://stackoverflow.com/questions/22162398/how-to-set-a-background-picture-in-jpanel/22162430#22162430\">example</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1697106911,"post_id":77279626,"comment_id":136239187,"body_markdown":"If you&#39;re really interested in doing these kind of things, I might suggest taking a closer look at JavaFX instead","body":"If you&#39;re really interested in doing these kind of things, I might suggest taking a closer look at JavaFX instead"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1697112731,"post_id":77279626,"comment_id":136240318,"body_markdown":"You might want to read this [Connect 4 explanation](https://github.com/ggleblanc2/connect-four#readme) to see all of the steps involved in creating a game.","body":"You might want to read this <a href=\"https://github.com/ggleblanc2/connect-four#readme\" rel=\"nofollow noreferrer\">Connect 4 explanation</a> to see all of the steps involved in creating a game."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697119266,"post_id":77279626,"comment_id":136241829,"body_markdown":"1) use a GridBagLayout on your background panel. 2) add the button to the background panel. By default the GridBagLayout will center the button.","body":"1) use a GridBagLayout on your background panel. 2) add the button to the background panel. By default the GridBagLayout will center the button."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697125315,"creation_date":1697125315,"answer_id":77282048,"question_id":77279626,"body_markdown":"You are on the right track by having a JLayeredPane field.  But your code currently isn’t using it.\r\n\r\nYou’ll want to give that JLayeredPane an [OverlayLayout](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/OverlayLayout.html).  Most other layouts don’t define their behavior when components overlap each other.\r\n\r\nPlace both the background component and the button in that JLayeredPane, then add only the JLayeredPane to your frame:\r\n\r\n    backgroundPanel.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n    backgroundPanel.setAlignmentY(Component.CENTER_ALIGNMENT);\r\n    play.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n    play.setAlignmentY(Component.CENTER_ALIGNMENT);\r\n\r\n    buttonPanel = new JLayeredPane();\r\n    buttonPanel.setLayout(new OverlayLayout(buttonPanel));\r\n\r\n    buttonPanel.setLayer(backgroundPanel, JLayeredPane.DEFAULT_LAYER);\r\n    buttonPanel.setLayer(play, JLayeredPane.PALETTE_LAYER);\r\n\r\n    buttonPanel.add(backgroundPanel);\r\n    buttonPanel.add(play);\r\n\r\n    // ...\r\n\r\n    frame.getContentPane().add(buttonPanel);\r\n","title":"Creating a game interface with java Swing/AWT","body":"<p>You are on the right track by having a JLayeredPane field.  But your code currently isn’t using it.</p>\n<p>You’ll want to give that JLayeredPane an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/OverlayLayout.html\" rel=\"nofollow noreferrer\">OverlayLayout</a>.  Most other layouts don’t define their behavior when components overlap each other.</p>\n<p>Place both the background component and the button in that JLayeredPane, then add only the JLayeredPane to your frame:</p>\n<pre><code>backgroundPanel.setAlignmentX(Component.CENTER_ALIGNMENT);\nbackgroundPanel.setAlignmentY(Component.CENTER_ALIGNMENT);\nplay.setAlignmentX(Component.CENTER_ALIGNMENT);\nplay.setAlignmentY(Component.CENTER_ALIGNMENT);\n\nbuttonPanel = new JLayeredPane();\nbuttonPanel.setLayout(new OverlayLayout(buttonPanel));\n\nbuttonPanel.setLayer(backgroundPanel, JLayeredPane.DEFAULT_LAYER);\nbuttonPanel.setLayer(play, JLayeredPane.PALETTE_LAYER);\n\nbuttonPanel.add(backgroundPanel);\nbuttonPanel.add(play);\n\n// ...\n\nframe.getContentPane().add(buttonPanel);\n</code></pre>\n"}],"owner":{"account_id":19534654,"reputation":41,"user_id":20582754,"display_name":"Asterix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697125315,"creation_date":1697105041,"question_id":77279626,"body_markdown":"I started coding a few weeks ago and I am currently trying to create a Java GUI for a game using Swing and AWT. I have created the code below. \r\n\r\n    public class UI {\r\n        JFrame frame = new JFrame();\r\n        JPanel backgroundPanel;\r\n        JLayeredPane buttonPanel;\r\n        JButton play = new JButton(&quot;Play!&quot;);\r\n        JLabel background;\r\n    \r\n        public UI() {\r\n\r\n            backgroundPanel = new JPanel(new BorderLayout());\r\n            ImageIcon imgBackground = new ImageIcon(this.getClass().getResource(&quot;/img/connect4_4.png&quot;));\r\n            background = new JLabel(&quot;&quot;, imgBackground, JLabel.CENTER);\r\n            backgroundPanel.add(background, BorderLayout.CENTER);\r\n            backgroundPanel.add(play, BorderLayout.NORTH);\r\n            frame.add(backgroundPanel);\r\n    \r\n            frame.setTitle(&quot;Connect 4&quot;);\r\n            frame.setSize(450, 450);\r\n            frame.setVisible(true);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n     \r\n    }\r\n\r\nWith this code I create a panel with a background image and a play button at the top of the screen. However, what I would like to do is center the play button to the center of the image, and that it doesn&#39;t take the full screen size but just a fix size (perhaps 50x50 pixels). How can I do this?\r\n\r\n","title":"Creating a game interface with java Swing/AWT","body":"<p>I started coding a few weeks ago and I am currently trying to create a Java GUI for a game using Swing and AWT. I have created the code below.</p>\n<pre><code>public class UI {\n    JFrame frame = new JFrame();\n    JPanel backgroundPanel;\n    JLayeredPane buttonPanel;\n    JButton play = new JButton(&quot;Play!&quot;);\n    JLabel background;\n\n    public UI() {\n\n        backgroundPanel = new JPanel(new BorderLayout());\n        ImageIcon imgBackground = new ImageIcon(this.getClass().getResource(&quot;/img/connect4_4.png&quot;));\n        background = new JLabel(&quot;&quot;, imgBackground, JLabel.CENTER);\n        backgroundPanel.add(background, BorderLayout.CENTER);\n        backgroundPanel.add(play, BorderLayout.NORTH);\n        frame.add(backgroundPanel);\n\n        frame.setTitle(&quot;Connect 4&quot;);\n        frame.setSize(450, 450);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n \n}\n</code></pre>\n<p>With this code I create a panel with a background image and a play button at the top of the screen. However, what I would like to do is center the play button to the center of the image, and that it doesn't take the full screen size but just a fix size (perhaps 50x50 pixels). How can I do this?</p>\n"},{"tags":["java","c","jna"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1697031011,"post_id":77273445,"comment_id":136228231,"body_markdown":"`prev_size (next_chunk (p)))` possibly error in linked list. How do you know next_chunk is valid?","body":"<code>prev_size (next_chunk (p)))</code> possibly error in linked list. How do you know next_chunk is valid?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697035276,"post_id":77273445,"comment_id":136229235,"body_markdown":"Do you have a complete stacktrace before the libc.so call? Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Do you have a complete stacktrace before the libc.so call? Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":33772,"reputation":484,"user_id":94841,"accept_rate":67,"display_name":"al."},"score":0,"creation_date":1697103520,"post_id":77273445,"comment_id":136238551,"body_markdown":"@aled I don&#39;t get a stacktrace from Java at all. and the backtrace that I got from gdb goes back to jvm, and not to my code. I&#39;ve updated my post with a minimal example, unfortunately, I don&#39;t get the problem with the example.","body":"@aled I don&#39;t get a stacktrace from Java at all. and the backtrace that I got from gdb goes back to jvm, and not to my code. I&#39;ve updated my post with a minimal example, unfortunately, I don&#39;t get the problem with the example."},{"owner":{"account_id":33772,"reputation":484,"user_id":94841,"accept_rate":67,"display_name":"al."},"score":0,"creation_date":1697103642,"post_id":77273445,"comment_id":136238577,"body_markdown":"@stark I don&#39;t have a linked list in my code and I&#39;m not sure if next_chunk is valid. I guess p points to some invalid memory.","body":"@stark I don&#39;t have a linked list in my code and I&#39;m not sure if next_chunk is valid. I guess p points to some invalid memory."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697113098,"post_id":77273445,"comment_id":136240391,"body_markdown":"@al. I mean from the native stacktrace you got a single for libc.so. When the JVM can it generates a full native/Java stacktrace. Did you got an hs_err_PID.log file with more details?","body":"@al. I mean from the native stacktrace you got a single for libc.so. When the JVM can it generates a full native/Java stacktrace. Did you got an hs_err_PID.log file with more details?"},{"owner":{"account_id":33772,"reputation":484,"user_id":94841,"accept_rate":67,"display_name":"al."},"score":0,"creation_date":1697116197,"post_id":77273445,"comment_id":136241097,"body_markdown":"no, no stacktrace in the logs. the snippet is all I got from the logs.","body":"no, no stacktrace in the logs. the snippet is all I got from the logs."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697125220,"creation_date":1697044114,"answer_id":77275066,"question_id":77273445,"body_markdown":"Without seeing your Java implementation it&#39;s difficult to precisely identify the cause, but the error from the native side makes it clear you&#39;re dealing with native memory that you do not own:\r\n```\r\nThread 2 &quot;Test worker&quot; received signal SIGSEGV, Segmentation fault.\r\n0x00007fe3948420ef in unlink_chunk (p=p@entry=0x7fe38caedbe0, av=0x7fe38c000030) at malloc.c:1604\r\n1604      if (chunksize (p) != prev_size (next_chunk (p)))                                                                                                                                                                    \r\n```\r\nThat points to this code:\r\n```c\r\n* Take a chunk off a bin list.  */\r\nstatic void\r\nunlink_chunk (mstate av, mchunkptr p)\r\n{\r\n  if (chunksize (p) != prev_size (next_chunk (p)))\r\n    malloc_printerr (&quot;corrupted size vs. prev_size&quot;);\r\n```\r\nThose macros eventually call `(p)-&gt;mchunk_size` and `(p)-&gt;mchunk_prev_size`; but it&#39;s likely that the Java process does not own the memory associated with `p`, thus the crash.  Possibly you&#39;ve already freed it, or possibly `p` came from some group of bytes it wasn&#39;t supposed to.\r\n\r\nDebugging this requires following the Java/JNA-side and native-side allocation of the memory associated with the native function calls.  If you allocate on the Java side, you have to free on the Java side; if you allocate on the native side, you use the appropriate native API to free that allocation.  You may be doing both.\r\n\r\nA common issue with JNA is that the object containing the memory allocation may be come unreachable at some point, and eligible for garbage collection; the native memory is freed as part of that process.  Make sure you retain a strong reference to any Java objects associated with that memory allocation (`Structure` or `Memory`, etc.). \r\n\r\nAnother potential candidate is stack corruption where you&#39;re sending a pointer address from a set of bytes you didn&#39;t mean to; this can occur with incorrect type mappings in your native function calls.  This could be the culprit here where the call freeing the memory works on its own, but running other tests with it may corrupt the stack.\r\n\r\nWith your updated code, another potential problem is the Structure array.  When you instantiated the `ExampleStructsContainer` object, it had a native memory allocation for the structure array which was contiguous.  However, you instantiated the individual array elements separately yourself, so the Java-side objects did not have the same native memory as the structure.  Combined with the missing fields you indicated in your self-answer, this could also have been a contributing factor.\r\n\r\n","title":"What possible reasons could there be for a JVM crash in an application with JNA?","body":"<p>Without seeing your Java implementation it's difficult to precisely identify the cause, but the error from the native side makes it clear you're dealing with native memory that you do not own:</p>\n<pre><code>Thread 2 &quot;Test worker&quot; received signal SIGSEGV, Segmentation fault.\n0x00007fe3948420ef in unlink_chunk (p=p@entry=0x7fe38caedbe0, av=0x7fe38c000030) at malloc.c:1604\n1604      if (chunksize (p) != prev_size (next_chunk (p)))                                                                                                                                                                    \n</code></pre>\n<p>That points to this code:</p>\n<pre class=\"lang-c prettyprint-override\"><code>* Take a chunk off a bin list.  */\nstatic void\nunlink_chunk (mstate av, mchunkptr p)\n{\n  if (chunksize (p) != prev_size (next_chunk (p)))\n    malloc_printerr (&quot;corrupted size vs. prev_size&quot;);\n</code></pre>\n<p>Those macros eventually call <code>(p)-&gt;mchunk_size</code> and <code>(p)-&gt;mchunk_prev_size</code>; but it's likely that the Java process does not own the memory associated with <code>p</code>, thus the crash.  Possibly you've already freed it, or possibly <code>p</code> came from some group of bytes it wasn't supposed to.</p>\n<p>Debugging this requires following the Java/JNA-side and native-side allocation of the memory associated with the native function calls.  If you allocate on the Java side, you have to free on the Java side; if you allocate on the native side, you use the appropriate native API to free that allocation.  You may be doing both.</p>\n<p>A common issue with JNA is that the object containing the memory allocation may be come unreachable at some point, and eligible for garbage collection; the native memory is freed as part of that process.  Make sure you retain a strong reference to any Java objects associated with that memory allocation (<code>Structure</code> or <code>Memory</code>, etc.).</p>\n<p>Another potential candidate is stack corruption where you're sending a pointer address from a set of bytes you didn't mean to; this can occur with incorrect type mappings in your native function calls.  This could be the culprit here where the call freeing the memory works on its own, but running other tests with it may corrupt the stack.</p>\n<p>With your updated code, another potential problem is the Structure array.  When you instantiated the <code>ExampleStructsContainer</code> object, it had a native memory allocation for the structure array which was contiguous.  However, you instantiated the individual array elements separately yourself, so the Java-side objects did not have the same native memory as the structure.  Combined with the missing fields you indicated in your self-answer, this could also have been a contributing factor.</p>\n"},{"tags":[],"owner":{"account_id":33772,"reputation":484,"user_id":94841,"accept_rate":67,"display_name":"al."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697116440,"creation_date":1697116440,"answer_id":77280929,"question_id":77273445,"body_markdown":"I was able to overcome the issue, found some missing fields in the result struct mapping. These fields however were initialized in the C code. My explanation is that the memory for these fields could not be freed, or reallocated because it wasn&#39;t owned by JNA.","title":"What possible reasons could there be for a JVM crash in an application with JNA?","body":"<p>I was able to overcome the issue, found some missing fields in the result struct mapping. These fields however were initialized in the C code. My explanation is that the memory for these fields could not be freed, or reallocated because it wasn't owned by JNA.</p>\n"}],"owner":{"account_id":33772,"reputation":484,"user_id":94841,"accept_rate":67,"display_name":"al."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697125220,"creation_date":1697030494,"question_id":77273445,"body_markdown":"I&#39;m looking for possible reasons for a strange issue with JNA. I have a Java application which uses bunch of shared libraries, all self made, programmed by me and my colleague. We are using JNA 5.x to expose the C functions from the SOs to java. (Java 11.20 on Linux). We use Gradle 7.4 to build the Java code, the C code is compiled into SOs with cmake. \r\n\r\nThe issue is that JVM crashes, when I build the project with Gradle and execute all the tests in sequence. This started to happen, after I&#39;ve included a unit test that tests a function from one of the libraries. I get the following error:\r\n\r\n```none\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007fa08abac0ef, pid=129694, tid=129697\r\n#\r\n# JRE version: OpenJDK Runtime Environment (Red_Hat-11.0.20.0.8-1.fc38) (11.0.20+8) (build 11.0.20+8)\r\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-11.0.20.0.8-1.fc38) (11.0.20+8, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libc.so.6+0x990ef]\r\n```\r\n\r\nSo it must be something within this library or the way I call that particular function from it. What makes the issue hard for me is that when I execute just the one unit test, it is green. No JVM problem, and the results come out as expected.\r\n\r\nGDB gives me no real clues either, or at least I can&#39;t interpret them. When I debug the gradle process, I can see that the function call was successful in the sense that there are correct results in the return value, but after the return of the function is executed I get a problem in libc.\r\n\r\n```none\r\nThread 2 &quot;Test worker&quot; received signal SIGSEGV, Segmentation fault.\r\n0x00007fe3948420ef in unlink_chunk (p=p@entry=0x7fe38caedbe0, av=0x7fe38c000030) at malloc.c:1604\r\n1604      if (chunksize (p) != prev_size (next_chunk (p)))                                                                                                                                                                    \r\n(gdb) c\r\nContinuing.\r\n\r\nThread 2 &quot;Test worker&quot; received signal SIGILL, Illegal instruction.\r\nfutex_wait (private=0, expected=2, futex_word=0x7fe38c000030) at ../sysdeps/nptl/futex-internal.h:146\r\nDownloading source file /usr/src/debug/glibc-2.37-10.fc38.x86_64/nptl/../sysdeps/nptl/futex-internal.h\r\n146       int err = lll_futex_timed_wait (futex_word, expected, NULL, private);                                                                                                                                               \r\n(gdb) n\r\n0x00007fe394317d10 in crash_handler(int, siginfo_t*, void*) () from /usr/lib/jvm/java-11-openjdk-11.0.20.0.8-1.fc38.x86_64/lib/server/libjvm.so\r\n(gdb) n\r\nSingle stepping until exit from function _ZL13crash_handleriP9siginfo_tPv,\r\nwhich has no line number information.\r\n\r\nThread 20 &quot;VM Periodic Tas&quot; received signal SIGABRT, Aborted.\r\n[Switching to Thread 0x7fe365fff6c0 (LWP 131363)]\r\n__pthread_kill_implementation (threadid=&lt;optimized out&gt;, signo=signo@entry=6, no_tid=no_tid@entry=0) at pthread_kill.c:44\r\n44            return INTERNAL_SYSCALL_ERROR_P (ret) ? INTERNAL_SYSCALL_ERRNO (ret) : 0;                                                                                                                                       \r\n(gdb) n\r\nCouldn&#39;t get registers: No such process.\r\n(gdb) [Thread 0x7fe36476d6c0 (LWP 131400) exited]\r\n```\r\n\r\nAny ideas where to look and how to proceed in order to find what the reason for the issue is are much appreciated.\r\n\r\n\r\nUPDATE: I&#39;ve created a simple example based on my real structures and I don&#39;t have the issue.  Here&#39;s the example:\r\n\r\nC code:\r\n\r\n    enum ENUM_TYPE {\r\n        SIMPLE, COMPLEX\r\n    };\r\n    \r\n    typedef struct {\r\n        enum ENUM_TYPE ttype;\r\n        int justANumber;\r\n        double justADouble;\r\n    } exampleStruct;\r\n    \r\n    typedef struct {\r\n        double funnyDouble;\r\n        exampleStruct twoExamples[2];\r\n    } exampleStructsContainer;\r\n    \r\n    typedef struct {\r\n        exampleStructsContainer firstContainer;\r\n        exampleStructsContainer secondContainer;\r\n    } manyContainers;\r\n    \r\n    typedef struct {\r\n        int value;\r\n        double timesTwo;\r\n    } result;\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &quot;struct-struct-array.h&quot;\r\n    #include &lt;stdbool.h&gt;\r\n\r\n\r\n    result valueOutOfContainer(manyContainers containers, bool additionalContainer) {\r\n        result r;\r\n        r.value = -1;\r\n    \r\n        if (additionalContainer) {\r\n            exampleStructsContainer containerNumberTwo = containers.secondContainer;\r\n            printf(&quot;Funny double in container number two: %f\\n&quot;, containerNumberTwo.funnyDouble);\r\n            exampleStruct e = containerNumberTwo.twoExamples[1];\r\n            printf(&quot;What&#39;s in the double: %f\\n&quot;, e.justADouble);\r\n            r.value = e.justANumber + 1;\r\n            r.timesTwo = e.justADouble * 2; \r\n        }\r\n        return r;\r\n    }\r\n\r\n\r\nJava Code:\r\n\r\n    @Setter\r\n    public class ExampleStruct extends Structure implements Structure.ByValue {\r\n    \r\n        public int ttype;\r\n        public int justANumber;\r\n        public double justADouble;\r\n    \r\n        @Override\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            return Arrays.asList(&quot;ttype&quot;, &quot;justANumber&quot;, &quot;justADouble&quot;);\r\n        }\r\n    }\r\n\r\n    @Setter\r\n    public class ExampleStructsContainer extends Structure implements Structure.ByValue {\r\n    \r\n        public double funnyDouble;\r\n        public ExampleStruct[] twoExamples = new ExampleStruct[2];\r\n    \r\n        @Override\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            return Arrays.asList(&quot;funnyDouble&quot;, &quot;twoExamples&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    @Setter\r\n    public class ManyContainers extends Structure implements Structure.ByValue {\r\n    \r\n        public ExampleStructsContainer firstContainer;\r\n        public ExampleStructsContainer secondContainer;\r\n    \r\n        @Override\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            return Arrays.asList(&quot;firstContainer&quot;, &quot;secondContainer&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n    @Getter\r\n    public class Result extends Structure implements Structure.ByValue {\r\n    \r\n        public int value;\r\n        public double timesTwo;\r\n    \r\n        @Override\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            return Arrays.asList(&quot;value&quot;, &quot;timesTwo&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public interface ExampleService {\r\n    \r\n        Result test(ManyContainers manyContainers);\r\n    }\r\n\r\n    public class ExampleServiceImpl implements ExampleService {\r\n    \r\n        private ExampleNativeService exampleNativeService = ExampleNativeService.INSTANCE;\r\n        @Override\r\n        public Result test(ManyContainers manyContainers) {\r\n            return exampleNativeService.valueOutOfContainer(manyContainers, true);\r\n        }\r\n    }\r\n\r\n\r\n    public class ExampleServiceImplTest {\r\n    \r\n        @Test\r\n        void testShouldReturnCorrectResult()  {\r\n            final var myContainers = new ManyContainers();\r\n            myContainers.setFirstContainer(container(example(0, 21, 0.123), example(1, 22, 0.123)));\r\n            myContainers.setSecondContainer(container(example(0, 42, 0.123), example(1, 1335, 3.14)));\r\n            final var exampleService = new ExampleServiceImpl();\r\n            final var r = exampleService.test(myContainers);\r\n            assertThat(r.getValue()).isEqualTo(1336);\r\n            assertThat(r.getTimesTwo()).isEqualTo(6.28);\r\n        }\r\n    \r\n        private ExampleStructsContainer container(ExampleStruct e1, ExampleStruct e2) {\r\n            final var exampleList = new ArrayList&lt;ExampleStruct&gt;();\r\n            exampleList.add(e1);\r\n            exampleList.add(e2);\r\n            final var eContainer = new ExampleStructsContainer();\r\n            eContainer.setTwoExamples(exampleList.toArray(ExampleStruct[]::new));\r\n            eContainer.setFunnyDouble(4.3);\r\n            return eContainer;\r\n        }\r\n    \r\n        private ExampleStruct example(int t, int num, double d) {\r\n            final var e = new ExampleStruct();\r\n            e.setTtype(t);\r\n            e.setJustANumber(num);\r\n            e.setJustADouble(d);\r\n            return e;\r\n        }\r\n    \r\n    }\r\n\r\nI think that that means, the problem is somewhere in my original code.\r\n","title":"What possible reasons could there be for a JVM crash in an application with JNA?","body":"<p>I'm looking for possible reasons for a strange issue with JNA. I have a Java application which uses bunch of shared libraries, all self made, programmed by me and my colleague. We are using JNA 5.x to expose the C functions from the SOs to java. (Java 11.20 on Linux). We use Gradle 7.4 to build the Java code, the C code is compiled into SOs with cmake.</p>\n<p>The issue is that JVM crashes, when I build the project with Gradle and execute all the tests in sequence. This started to happen, after I've included a unit test that tests a function from one of the libraries. I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fa08abac0ef, pid=129694, tid=129697\n#\n# JRE version: OpenJDK Runtime Environment (Red_Hat-11.0.20.0.8-1.fc38) (11.0.20+8) (build 11.0.20+8)\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-11.0.20.0.8-1.fc38) (11.0.20+8, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libc.so.6+0x990ef]\n</code></pre>\n<p>So it must be something within this library or the way I call that particular function from it. What makes the issue hard for me is that when I execute just the one unit test, it is green. No JVM problem, and the results come out as expected.</p>\n<p>GDB gives me no real clues either, or at least I can't interpret them. When I debug the gradle process, I can see that the function call was successful in the sense that there are correct results in the return value, but after the return of the function is executed I get a problem in libc.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread 2 &quot;Test worker&quot; received signal SIGSEGV, Segmentation fault.\n0x00007fe3948420ef in unlink_chunk (p=p@entry=0x7fe38caedbe0, av=0x7fe38c000030) at malloc.c:1604\n1604      if (chunksize (p) != prev_size (next_chunk (p)))                                                                                                                                                                    \n(gdb) c\nContinuing.\n\nThread 2 &quot;Test worker&quot; received signal SIGILL, Illegal instruction.\nfutex_wait (private=0, expected=2, futex_word=0x7fe38c000030) at ../sysdeps/nptl/futex-internal.h:146\nDownloading source file /usr/src/debug/glibc-2.37-10.fc38.x86_64/nptl/../sysdeps/nptl/futex-internal.h\n146       int err = lll_futex_timed_wait (futex_word, expected, NULL, private);                                                                                                                                               \n(gdb) n\n0x00007fe394317d10 in crash_handler(int, siginfo_t*, void*) () from /usr/lib/jvm/java-11-openjdk-11.0.20.0.8-1.fc38.x86_64/lib/server/libjvm.so\n(gdb) n\nSingle stepping until exit from function _ZL13crash_handleriP9siginfo_tPv,\nwhich has no line number information.\n\nThread 20 &quot;VM Periodic Tas&quot; received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fe365fff6c0 (LWP 131363)]\n__pthread_kill_implementation (threadid=&lt;optimized out&gt;, signo=signo@entry=6, no_tid=no_tid@entry=0) at pthread_kill.c:44\n44            return INTERNAL_SYSCALL_ERROR_P (ret) ? INTERNAL_SYSCALL_ERRNO (ret) : 0;                                                                                                                                       \n(gdb) n\nCouldn't get registers: No such process.\n(gdb) [Thread 0x7fe36476d6c0 (LWP 131400) exited]\n</code></pre>\n<p>Any ideas where to look and how to proceed in order to find what the reason for the issue is are much appreciated.</p>\n<p>UPDATE: I've created a simple example based on my real structures and I don't have the issue.  Here's the example:</p>\n<p>C code:</p>\n<pre><code>enum ENUM_TYPE {\n    SIMPLE, COMPLEX\n};\n\ntypedef struct {\n    enum ENUM_TYPE ttype;\n    int justANumber;\n    double justADouble;\n} exampleStruct;\n\ntypedef struct {\n    double funnyDouble;\n    exampleStruct twoExamples[2];\n} exampleStructsContainer;\n\ntypedef struct {\n    exampleStructsContainer firstContainer;\n    exampleStructsContainer secondContainer;\n} manyContainers;\n\ntypedef struct {\n    int value;\n    double timesTwo;\n} result;\n\n#include &lt;stdio.h&gt;\n#include &quot;struct-struct-array.h&quot;\n#include &lt;stdbool.h&gt;\n\n\nresult valueOutOfContainer(manyContainers containers, bool additionalContainer) {\n    result r;\n    r.value = -1;\n\n    if (additionalContainer) {\n        exampleStructsContainer containerNumberTwo = containers.secondContainer;\n        printf(&quot;Funny double in container number two: %f\\n&quot;, containerNumberTwo.funnyDouble);\n        exampleStruct e = containerNumberTwo.twoExamples[1];\n        printf(&quot;What's in the double: %f\\n&quot;, e.justADouble);\n        r.value = e.justANumber + 1;\n        r.timesTwo = e.justADouble * 2; \n    }\n    return r;\n}\n</code></pre>\n<p>Java Code:</p>\n<pre><code>@Setter\npublic class ExampleStruct extends Structure implements Structure.ByValue {\n\n    public int ttype;\n    public int justANumber;\n    public double justADouble;\n\n    @Override\n    protected List&lt;String&gt; getFieldOrder() {\n        return Arrays.asList(&quot;ttype&quot;, &quot;justANumber&quot;, &quot;justADouble&quot;);\n    }\n}\n\n@Setter\npublic class ExampleStructsContainer extends Structure implements Structure.ByValue {\n\n    public double funnyDouble;\n    public ExampleStruct[] twoExamples = new ExampleStruct[2];\n\n    @Override\n    protected List&lt;String&gt; getFieldOrder() {\n        return Arrays.asList(&quot;funnyDouble&quot;, &quot;twoExamples&quot;);\n    }\n\n}\n\n\n@Setter\npublic class ManyContainers extends Structure implements Structure.ByValue {\n\n    public ExampleStructsContainer firstContainer;\n    public ExampleStructsContainer secondContainer;\n\n    @Override\n    protected List&lt;String&gt; getFieldOrder() {\n        return Arrays.asList(&quot;firstContainer&quot;, &quot;secondContainer&quot;);\n    }\n\n}\n\n\n\n@Getter\npublic class Result extends Structure implements Structure.ByValue {\n\n    public int value;\n    public double timesTwo;\n\n    @Override\n    protected List&lt;String&gt; getFieldOrder() {\n        return Arrays.asList(&quot;value&quot;, &quot;timesTwo&quot;);\n    }\n}\n\n\npublic interface ExampleService {\n\n    Result test(ManyContainers manyContainers);\n}\n\npublic class ExampleServiceImpl implements ExampleService {\n\n    private ExampleNativeService exampleNativeService = ExampleNativeService.INSTANCE;\n    @Override\n    public Result test(ManyContainers manyContainers) {\n        return exampleNativeService.valueOutOfContainer(manyContainers, true);\n    }\n}\n\n\npublic class ExampleServiceImplTest {\n\n    @Test\n    void testShouldReturnCorrectResult()  {\n        final var myContainers = new ManyContainers();\n        myContainers.setFirstContainer(container(example(0, 21, 0.123), example(1, 22, 0.123)));\n        myContainers.setSecondContainer(container(example(0, 42, 0.123), example(1, 1335, 3.14)));\n        final var exampleService = new ExampleServiceImpl();\n        final var r = exampleService.test(myContainers);\n        assertThat(r.getValue()).isEqualTo(1336);\n        assertThat(r.getTimesTwo()).isEqualTo(6.28);\n    }\n\n    private ExampleStructsContainer container(ExampleStruct e1, ExampleStruct e2) {\n        final var exampleList = new ArrayList&lt;ExampleStruct&gt;();\n        exampleList.add(e1);\n        exampleList.add(e2);\n        final var eContainer = new ExampleStructsContainer();\n        eContainer.setTwoExamples(exampleList.toArray(ExampleStruct[]::new));\n        eContainer.setFunnyDouble(4.3);\n        return eContainer;\n    }\n\n    private ExampleStruct example(int t, int num, double d) {\n        final var e = new ExampleStruct();\n        e.setTtype(t);\n        e.setJustANumber(num);\n        e.setJustADouble(d);\n        return e;\n    }\n\n}\n</code></pre>\n<p>I think that that means, the problem is somewhere in my original code.</p>\n"},{"tags":["java","android","google-cloud-platform","google-signin","google-one-tap"],"comments":[{"owner":{"account_id":5505460,"reputation":449,"user_id":4373421,"display_name":"Cheolho Jeon"},"score":0,"creation_date":1697132206,"post_id":77282027,"comment_id":136244611,"body_markdown":"It would be better if we could narrow down the scope of the problem. For now, it seems that there are 2 changes from &quot;when it worked&quot;. 1. You deleted the whole project and started over, 2. You changed the button to an ImageButton. My suggestion is, if you can change the button back to a normal `Button`, can you try that and determine if the `Button` is the real source of the trouble?","body":"It would be better if we could narrow down the scope of the problem. For now, it seems that there are 2 changes from &quot;when it worked&quot;. 1. You deleted the whole project and started over, 2. You changed the button to an ImageButton. My suggestion is, if you can change the button back to a normal <code>Button</code>, can you try that and determine if the <code>Button</code> is the real source of the trouble?"},{"owner":{"account_id":5505460,"reputation":449,"user_id":4373421,"display_name":"Cheolho Jeon"},"score":0,"creation_date":1697132441,"post_id":77282027,"comment_id":136244660,"body_markdown":"A. If the `ImageButton` was the source of the problem: I would just use the `Button` class with a drawable background, or just an ImageView with onPressed state (using state selectors). It&#39;s not elegant, but it looks like a imageButton and behaves like a imageButton so ..","body":"A. If the <code>ImageButton</code> was the source of the problem: I would just use the <code>Button</code> class with a drawable background, or just an ImageView with onPressed state (using state selectors). It&#39;s not elegant, but it looks like a imageButton and behaves like a imageButton so .."},{"owner":{"account_id":5505460,"reputation":449,"user_id":4373421,"display_name":"Cheolho Jeon"},"score":0,"creation_date":1697132505,"post_id":77282027,"comment_id":136244672,"body_markdown":"B. If the `ImageButton` was not the source of the problem: look at the config of your project and find the real culprit, and focus on that. You may be looking for an answer to a non-existing problem.","body":"B. If the <code>ImageButton</code> was not the source of the problem: look at the config of your project and find the real culprit, and focus on that. You may be looking for an answer to a non-existing problem."},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1697181588,"post_id":77282027,"comment_id":136250075,"body_markdown":"It seems you set your button&#39;s onClickListener within the ActivityResultLauncher? Maybe try setting the on click listener right after you declare the button through `findViewById()`. ImageButton should work and should _not_ be the issue, we also use an ImageButton in our app for Google SSO. You can easily debug this by setting a breakpoint in the button&#39;s onClickListener and seeing if it gets called. If not, it&#39;s probably the issue mentioned before of declaring the onClickListener in the wrong place","body":"It seems you set your button&#39;s onClickListener within the ActivityResultLauncher? Maybe try setting the on click listener right after you declare the button through <code>findViewById()</code>. ImageButton should work and should <i>not</i> be the issue, we also use an ImageButton in our app for Google SSO. You can easily debug this by setting a breakpoint in the button&#39;s onClickListener and seeing if it gets called. If not, it&#39;s probably the issue mentioned before of declaring the onClickListener in the wrong place"},{"owner":{"account_id":29657644,"reputation":1,"user_id":22730039,"display_name":"A Virk"},"score":0,"creation_date":1699470838,"post_id":77282027,"comment_id":136537106,"body_markdown":"Hi guys, if you even read it anymore. Finally, i might have find the problem. Everytime when i edit .xml file afterwards, i found that google one tap didnt anymore recognize buttons when clicked. Now it has worked one week... Odd.","body":"Hi guys, if you even read it anymore. Finally, i might have find the problem. Everytime when i edit .xml file afterwards, i found that google one tap didnt anymore recognize buttons when clicked. Now it has worked one week... Odd."},{"owner":{"account_id":29657644,"reputation":1,"user_id":22730039,"display_name":"A Virk"},"score":0,"creation_date":1699534067,"post_id":77282027,"comment_id":136545731,"body_markdown":"And its gone again. This time i dont even touch the project, it goes off workin itself. What could be the answer?","body":"And its gone again. This time i dont even touch the project, it goes off workin itself. What could be the answer?"}],"owner":{"account_id":29657644,"reputation":1,"user_id":22730039,"display_name":"A Virk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697125167,"creation_date":1697125167,"question_id":77282027,"body_markdown":"Problem is that last week Google Sign-in button worked, but i deleted whole project and started all over again.\r\n\r\nOnly thing in code what i changed was that i used \\&lt;ImageButton\\&gt; instead of \\&lt;Button\\&gt;. Can that be the reason or is there something else? When i debug project with my own device via USB, it doesn&#39;t even make &quot;click&quot; noise when ImageButton is clicked.\r\n\r\nManifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;false&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Askola&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.feature.homepage.MainActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.feature.auth.LoginActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nlogin_activity.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/wine&quot;\r\n    tools:context=&quot;.feature.auth.LoginActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/askolaimg&quot;\r\n        android:contentDescription=&quot;@string/app_name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/askolanega&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/loginBtn&quot;\r\n        android:layout_width=&quot;273dp&quot;\r\n        android:layout_height=&quot;73dp&quot;\r\n        android:backgroundTint=&quot;@color/wine&quot;\r\n        android:contentDescription=&quot;@string/btnTxt&quot;\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        android:src=&quot;@drawable/google_sign&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/askolaimg&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.556&quot; /&gt;\r\n\r\n```\r\n\r\nLoginActivity.java\r\n\r\n```\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    SignInClient oneTapClient;\r\n    BeginSignInRequest signInRequest;\r\n    ImageButton button;\r\n\r\n    private static final int REQ_ONE_TAP = 2;  // Can be any integer unique to the Activity.\r\n    private boolean showOneTapUI = true;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        button = findViewById(R.id.loginBtn);\r\n        oneTapClient = Identity.getSignInClient(this);\r\n        signInRequest = BeginSignInRequest.builder()\r\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\r\n                        .setSupported(true)\r\n                        // Your server&#39;s client ID, not your Android client ID.\r\n                        .setServerClientId(getString(R.string.web_client_id))\r\n                        // Only show accounts previously used to sign in.\r\n                        .setFilterByAuthorizedAccounts(true)\r\n                        .build())\r\n                // Automatically sign in when exactly one credential is retrieved.\r\n                .build();\r\n        ActivityResultLauncher&lt;IntentSenderRequest&gt; activityResultLauncher =\r\n                registerForActivityResult(new ActivityResultContracts.StartIntentSenderForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                            @Override\r\n                            public void onActivityResult(ActivityResult result) {\r\n                                if (result.getResultCode() == Activity.RESULT_OK){\r\n                                    try {\r\n                                        SignInCredential credential = oneTapClient.getSignInCredentialFromIntent(result.getData());\r\n                                        String idToken = credential.getGoogleIdToken();\r\n                                        if (idToken !=  null) {\r\n                                            String email = credential.getId();\r\n                                            Toast.makeText(getApplicationContext(), &quot;Email: &quot;+email, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    } catch (ApiException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                        button.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View view) {\r\n\r\n                                oneTapClient.beginSignIn(signInRequest)\r\n                                        .addOnSuccessListener(LoginActivity.this, new OnSuccessListener&lt;BeginSignInResult&gt;() {\r\n                                            @Override\r\n                                            public void onSuccess(BeginSignInResult result) {\r\n                                                IntentSenderRequest intentSenderRequest =\r\n                                                        new IntentSenderRequest.Builder(result.getPendingIntent().getIntentSender()).build();\r\n                                                activityResultLauncher.launch(intentSenderRequest);\r\n                                            }\r\n                                        })\r\n                                        .addOnFailureListener(LoginActivity.this, new OnFailureListener() {\r\n                                            @Override\r\n                                            public void onFailure(@NonNull Exception e) {\r\n                                                // No Google Accounts found. Just continue presenting the signed-out UI.\r\n                                                Log.d(&quot;TAG&quot;, e.getLocalizedMessage());\r\n                                            }\r\n                                        });\r\n                            }\r\n                        });\r\n    }\r\n}\r\n```\r\n\r\nTried to set intent filters .LAUNCHER and .DEFAULT, android.intent.action.(different commands). Thank you, appreciate already!","title":"Google sign-in not working (is image button reason?)","body":"<p>Problem is that last week Google Sign-in button worked, but i deleted whole project and started all over again.</p>\n<p>Only thing in code what i changed was that i used &lt;ImageButton&gt; instead of &lt;Button&gt;. Can that be the reason or is there something else? When i debug project with my own device via USB, it doesn't even make &quot;click&quot; noise when ImageButton is clicked.</p>\n<p>Manifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;false&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Askola&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.feature.homepage.MainActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.feature.auth.LoginActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>login_activity.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/wine&quot;\n    tools:context=&quot;.feature.auth.LoginActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/askolaimg&quot;\n        android:contentDescription=&quot;@string/app_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/askolanega&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;ImageButton\n        android:id=&quot;@+id/loginBtn&quot;\n        android:layout_width=&quot;273dp&quot;\n        android:layout_height=&quot;73dp&quot;\n        android:backgroundTint=&quot;@color/wine&quot;\n        android:contentDescription=&quot;@string/btnTxt&quot;\n        android:scaleType=&quot;fitCenter&quot;\n        android:src=&quot;@drawable/google_sign&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/askolaimg&quot;\n        app:layout_constraintVertical_bias=&quot;0.556&quot; /&gt;\n\n</code></pre>\n<p>LoginActivity.java</p>\n<pre><code>public class LoginActivity extends AppCompatActivity {\n\n    SignInClient oneTapClient;\n    BeginSignInRequest signInRequest;\n    ImageButton button;\n\n    private static final int REQ_ONE_TAP = 2;  // Can be any integer unique to the Activity.\n    private boolean showOneTapUI = true;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        button = findViewById(R.id.loginBtn);\n        oneTapClient = Identity.getSignInClient(this);\n        signInRequest = BeginSignInRequest.builder()\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\n                        .setSupported(true)\n                        // Your server's client ID, not your Android client ID.\n                        .setServerClientId(getString(R.string.web_client_id))\n                        // Only show accounts previously used to sign in.\n                        .setFilterByAuthorizedAccounts(true)\n                        .build())\n                // Automatically sign in when exactly one credential is retrieved.\n                .build();\n        ActivityResultLauncher&lt;IntentSenderRequest&gt; activityResultLauncher =\n                registerForActivityResult(new ActivityResultContracts.StartIntentSenderForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n                            @Override\n                            public void onActivityResult(ActivityResult result) {\n                                if (result.getResultCode() == Activity.RESULT_OK){\n                                    try {\n                                        SignInCredential credential = oneTapClient.getSignInCredentialFromIntent(result.getData());\n                                        String idToken = credential.getGoogleIdToken();\n                                        if (idToken !=  null) {\n                                            String email = credential.getId();\n                                            Toast.makeText(getApplicationContext(), &quot;Email: &quot;+email, Toast.LENGTH_SHORT).show();\n                                        }\n                                    } catch (ApiException e) {\n                                        e.printStackTrace();\n                                    }\n                                }\n                            }\n                        });\n                        button.setOnClickListener(new View.OnClickListener() {\n                            @Override\n                            public void onClick(View view) {\n\n                                oneTapClient.beginSignIn(signInRequest)\n                                        .addOnSuccessListener(LoginActivity.this, new OnSuccessListener&lt;BeginSignInResult&gt;() {\n                                            @Override\n                                            public void onSuccess(BeginSignInResult result) {\n                                                IntentSenderRequest intentSenderRequest =\n                                                        new IntentSenderRequest.Builder(result.getPendingIntent().getIntentSender()).build();\n                                                activityResultLauncher.launch(intentSenderRequest);\n                                            }\n                                        })\n                                        .addOnFailureListener(LoginActivity.this, new OnFailureListener() {\n                                            @Override\n                                            public void onFailure(@NonNull Exception e) {\n                                                // No Google Accounts found. Just continue presenting the signed-out UI.\n                                                Log.d(&quot;TAG&quot;, e.getLocalizedMessage());\n                                            }\n                                        });\n                            }\n                        });\n    }\n}\n</code></pre>\n<p>Tried to set intent filters .LAUNCHER and .DEFAULT, android.intent.action.(different commands). Thank you, appreciate already!</p>\n"},{"tags":["java","guice","embedded-jetty","vaadin-flow","vaadin24"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1697116555,"post_id":77271753,"comment_id":136241176,"body_markdown":"I&#39;ve been meaning to update https://github.com/oliveryasuna/vaadin-jetty-guice to Vaadin 24. I&#39;ll let you know.","body":"I&#39;ve been meaning to update <a href=\"https://github.com/oliveryasuna/vaadin-jetty-guice\" rel=\"nofollow noreferrer\">github.com/oliveryasuna/vaadin-jetty-guice</a> to Vaadin 24. I&#39;ll let you know."}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697124595,"creation_date":1697118063,"answer_id":77281132,"question_id":77271753,"body_markdown":"There is a lot of code/configuration necessary to accomplish this, and it is not suited for a post here. However, I published an example a few months ago for Vaadin 23: https://github.com/oliveryasuna/vaadin-jetty-guice. I have been meaning to update it for Vaadin 24, so I just did. It is also published in the Vaadin Directory: https://vaadin.com/directory/component/embedded-jetty--guice-example.","title":"Vaadin 24 with Embedded Jetty and Google Guice","body":"<p>There is a lot of code/configuration necessary to accomplish this, and it is not suited for a post here. However, I published an example a few months ago for Vaadin 23: <a href=\"https://github.com/oliveryasuna/vaadin-jetty-guice\" rel=\"nofollow noreferrer\">https://github.com/oliveryasuna/vaadin-jetty-guice</a>. I have been meaning to update it for Vaadin 24, so I just did. It is also published in the Vaadin Directory: <a href=\"https://vaadin.com/directory/component/embedded-jetty--guice-example\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/embedded-jetty--guice-example</a>.</p>\n"}],"owner":{"account_id":18125064,"reputation":13,"user_id":13180659,"display_name":"Sergey Stepin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77281132,"answer_count":1,"score":1,"last_activity_date":1697124595,"creation_date":1697016068,"question_id":77271753,"body_markdown":"I need to use Vaadin framework in an application that already uses Google Guice as DI together with an embedded Jetty as webserver. The main issue is that Vaadin components must use some services bound by Google Guice.\r\n\r\n\r\n\r\nFor that Jetty is configured with WebAppContext:\r\n```\r\nprotected void configureServletHandler(final Server server, final ServletContextHandler handler, final Map&lt;String, Servlet&gt; servlets, final StatisticsHandler statisticsHandler) {\r\n\t\tstatisticsHandler.setHandler(handler);\r\n\t\tserver.setHandler(statisticsHandler);\r\n\r\n\t\ttry {\r\n\t\t\tfinal WebAppContext context = createWebAppContext(servlets);\r\n\t\t\thandler.setHandler(context);\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(&quot;Cannot create WebAppContext: &quot;, e);\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tlogger.info(&quot;WebAppContext is created&quot;);\r\n\r\n\t\thandler.addFilter(GuiceFilter.class, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\r\n\t\thandler.addFilter(CrossOriginFilter.class, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\r\n\t}\r\n\r\n\t\r\nprivate static WebAppContext createWebAppContext(final Map&lt;String, Servlet&gt; servlets) throws IOException {\r\n\r\n\t\tfinal WebAppContext context = new WebAppContext();\r\n\r\n\t\tcontext.setBaseResource(Resource.newResource(&quot;../../webapp/&quot;));\r\n\r\n\t\tfor (final var e : servlets.entrySet()) {\r\n\t\t\tcontext.addServlet(new ServletHolder(e.getValue()), e.getKey());\r\n\t\t}\r\n\r\n\t\t// this will properly scan the classpath for all @WebListeners,\r\n\t\t// including the most important\r\n\t\t// com.vaadin.flow.server.startup.ServletContextListeners.\r\n\t\t// See also https://mvysny.github.io/vaadin-lookup-vs-instantiator/\r\n\t\tcontext.setAttribute(\r\n\t\t\t\t&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;,\r\n\t\t\t\t&quot;.*\\\\.jar|.*/classes/.*&quot;);\r\n\t\tcontext.setConfigurationDiscovered(true);\r\n\t\tcontext.getServletContext().setExtendedListenerTypes(true);\r\n\r\n\t\treturn context;\r\n\t}\t\r\n```\r\n\r\nI tried to adhere an approach describe in Vaadin documentation, customising vaadin Instatiator: \r\nhttps://vaadin.com/docs/latest/advanced/custom-instantiators\r\n\r\nFor the servlet customisation com.vaadin.cdi.util.BeanManagerProvider is used: \r\n```\r\n@WebServlet(urlPatterns = &quot;/*&quot;, asyncSupported = true)\r\npublic class CustomServlet extends VaadinServlet {\r\n\r\n  @Override\r\n  protected VaadinServletService createServletService(DeploymentConfiguration deploymentConfiguration) throws ServiceException {\r\n      BeanManager beanManager = BeanManagerProvider.getInstance().getBeanManager();\r\n      CustomVaadinServletService service = new CustomVaadinServletService(this, deploymentConfiguration, beanManager);\r\n      service.init();\r\n      return service;\r\n  }\r\n}\r\n```\r\n\r\nBut it fails with Exception:\r\n```\r\nCaused by: java.lang.IllegalStateException: No com.vaadin.cdi.util.BeanManagerProvider in place! Please ensure that you configured the CDI implementation of your choice properly. If your setup is correct, please clear all caches and compiled artifacts.\r\n\tat com.vaadin.cdi.util.BeanManagerProvider.getInstance(BeanManagerProvider.java:165) ~[vaadin-cdi-15.0.1.jar:?]\r\n\tat net.bigpoint.batman.core.http.servlet.acp.AcpServlet.createServletService(AcpServlet.java:154) ~[batman-core-1.3.0-SNAPSHOT.jar:?]\r\n\tat com.vaadin.flow.server.VaadinServlet.createServletService(VaadinServlet.java:336) ~[flow-server-24.1.13.jar:24.1.13]\r\n\tat com.vaadin.flow.server.VaadinServlet.init(VaadinServlet.java:132) ~[flow-server-24.1.13.jar:24.1.13]\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633) ~[jetty-servlet-11.0.16.jar:11.0.16]\r\n```\r\n\r\nIt seems that before I can use  BeanManagerProvider it must be somehow initialized or provided by Jetty, but I could not found how.\r\n\r\nThe main question: How to combine Vaadin 24 with Guice?\r\n\r\nA sub-question is: If use CustomInstantiator, CustomVaadinServletService and CustomServlet as described in Vaadin doc (see the link above), how to use BeanManagerProvider with Jetty?\r\n","title":"Vaadin 24 with Embedded Jetty and Google Guice","body":"<p>I need to use Vaadin framework in an application that already uses Google Guice as DI together with an embedded Jetty as webserver. The main issue is that Vaadin components must use some services bound by Google Guice.</p>\n<p>For that Jetty is configured with WebAppContext:</p>\n<pre><code>protected void configureServletHandler(final Server server, final ServletContextHandler handler, final Map&lt;String, Servlet&gt; servlets, final StatisticsHandler statisticsHandler) {\n        statisticsHandler.setHandler(handler);\n        server.setHandler(statisticsHandler);\n\n        try {\n            final WebAppContext context = createWebAppContext(servlets);\n            handler.setHandler(context);\n        } catch (IOException e) {\n            logger.error(&quot;Cannot create WebAppContext: &quot;, e);\n            throw new RuntimeException(e);\n        }\n        logger.info(&quot;WebAppContext is created&quot;);\n\n        handler.addFilter(GuiceFilter.class, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\n        handler.addFilter(CrossOriginFilter.class, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\n    }\n\n    \nprivate static WebAppContext createWebAppContext(final Map&lt;String, Servlet&gt; servlets) throws IOException {\n\n        final WebAppContext context = new WebAppContext();\n\n        context.setBaseResource(Resource.newResource(&quot;../../webapp/&quot;));\n\n        for (final var e : servlets.entrySet()) {\n            context.addServlet(new ServletHolder(e.getValue()), e.getKey());\n        }\n\n        // this will properly scan the classpath for all @WebListeners,\n        // including the most important\n        // com.vaadin.flow.server.startup.ServletContextListeners.\n        // See also https://mvysny.github.io/vaadin-lookup-vs-instantiator/\n        context.setAttribute(\n                &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;,\n                &quot;.*\\\\.jar|.*/classes/.*&quot;);\n        context.setConfigurationDiscovered(true);\n        context.getServletContext().setExtendedListenerTypes(true);\n\n        return context;\n    }   \n</code></pre>\n<p>I tried to adhere an approach describe in Vaadin documentation, customising vaadin Instatiator:\n<a href=\"https://vaadin.com/docs/latest/advanced/custom-instantiators\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/advanced/custom-instantiators</a></p>\n<p>For the servlet customisation com.vaadin.cdi.util.BeanManagerProvider is used:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/*&quot;, asyncSupported = true)\npublic class CustomServlet extends VaadinServlet {\n\n  @Override\n  protected VaadinServletService createServletService(DeploymentConfiguration deploymentConfiguration) throws ServiceException {\n      BeanManager beanManager = BeanManagerProvider.getInstance().getBeanManager();\n      CustomVaadinServletService service = new CustomVaadinServletService(this, deploymentConfiguration, beanManager);\n      service.init();\n      return service;\n  }\n}\n</code></pre>\n<p>But it fails with Exception:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: No com.vaadin.cdi.util.BeanManagerProvider in place! Please ensure that you configured the CDI implementation of your choice properly. If your setup is correct, please clear all caches and compiled artifacts.\n    at com.vaadin.cdi.util.BeanManagerProvider.getInstance(BeanManagerProvider.java:165) ~[vaadin-cdi-15.0.1.jar:?]\n    at net.bigpoint.batman.core.http.servlet.acp.AcpServlet.createServletService(AcpServlet.java:154) ~[batman-core-1.3.0-SNAPSHOT.jar:?]\n    at com.vaadin.flow.server.VaadinServlet.createServletService(VaadinServlet.java:336) ~[flow-server-24.1.13.jar:24.1.13]\n    at com.vaadin.flow.server.VaadinServlet.init(VaadinServlet.java:132) ~[flow-server-24.1.13.jar:24.1.13]\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633) ~[jetty-servlet-11.0.16.jar:11.0.16]\n</code></pre>\n<p>It seems that before I can use  BeanManagerProvider it must be somehow initialized or provided by Jetty, but I could not found how.</p>\n<p>The main question: How to combine Vaadin 24 with Guice?</p>\n<p>A sub-question is: If use CustomInstantiator, CustomVaadinServletService and CustomServlet as described in Vaadin doc (see the link above), how to use BeanManagerProvider with Jetty?</p>\n"},{"tags":["java","android","pdf","androidpdfviewer"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633195989,"post_id":69418734,"comment_id":122697272,"body_markdown":"The user can set your app as default while choosing your app from many. It is not to your app.","body":"The user can set your app as default while choosing your app from many. It is not to your app."},{"owner":{"account_id":21665075,"reputation":421,"user_id":15983611,"display_name":"Syed Irfan Hussaini"},"score":0,"creation_date":1633196042,"post_id":69418734,"comment_id":122697279,"body_markdown":"how can i add my app in default app list for opening pdfs","body":"how can i add my app in default app list for opening pdfs"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1633196132,"post_id":69418734,"comment_id":122697294,"body_markdown":"In manifest file add an `&lt;intent-filter&gt;` to the activity that should display the pdf.","body":"In manifest file add an <code>&lt;intent-filter&gt;</code> to the activity that should display the pdf."},{"owner":{"account_id":21665075,"reputation":421,"user_id":15983611,"display_name":"Syed Irfan Hussaini"},"score":0,"creation_date":1633196234,"post_id":69418734,"comment_id":122697315,"body_markdown":"i don&#39;t know about intent-filter can you please show me how? Please I request you Please","body":"i don&#39;t know about intent-filter can you please show me how? Please I request you Please"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633196848,"post_id":69418734,"comment_id":122697437,"body_markdown":"https://developer.android.com/guide/components/intents-filters#java","body":"<a href=\"https://developer.android.com/guide/components/intents-filters#java\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/intents-filters#java</a>"}],"answers":[{"tags":[],"owner":{"account_id":23268453,"reputation":1,"user_id":17353610,"display_name":"Dahbi Oussama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697122640,"creation_date":1697122556,"answer_id":77281713,"question_id":69418734,"body_markdown":"Try to use this code in you **Manifest.xml** :\r\n\r\n    &lt;activity  android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.MULTIWINDOW_LAUNCHER&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;file&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;application/pdf&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\.pdf&quot; /&gt;\r\n                &lt;data android:host=&quot;*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\nand in your **MainActivity.java** :\r\n\r\n     Intent intent = getIntent();\r\n    Uri uri;\r\n\r\n    pdfView = findViewById(R.id.pdfViewer);\r\n    \r\n    if (Intent.ACTION_VIEW.equals(intent.getAction())) {\r\n        uri = intent.getData();\r\n        pdfView.fromUri(uri).load();\r\n    }\r\n    \r\n    if (Intent.ACTION_SEND.equals(intent.getAction())) {\r\n       uri = intent.getParcelableExtra(Intent.EXTRA_STREAM);\r\n       pdfView.fromUri(uri).load();\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"How to set app default for opening pdf in Android","body":"<p>Try to use this code in you <strong>Manifest.xml</strong> :</p>\n<pre><code>&lt;activity  android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.MULTIWINDOW_LAUNCHER&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;data android:scheme=&quot;file&quot; /&gt;\n            &lt;data android:mimeType=&quot;application/pdf&quot; /&gt;\n            &lt;data android:pathPattern=&quot;.*\\\\.pdf&quot; /&gt;\n            &lt;data android:host=&quot;*&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<p>and in your <strong>MainActivity.java</strong> :</p>\n<pre><code> Intent intent = getIntent();\nUri uri;\n\npdfView = findViewById(R.id.pdfViewer);\n\nif (Intent.ACTION_VIEW.equals(intent.getAction())) {\n    uri = intent.getData();\n    pdfView.fromUri(uri).load();\n}\n\nif (Intent.ACTION_SEND.equals(intent.getAction())) {\n   uri = intent.getParcelableExtra(Intent.EXTRA_STREAM);\n   pdfView.fromUri(uri).load();\n}\n</code></pre>\n"}],"owner":{"account_id":21665075,"reputation":421,"user_id":15983611,"display_name":"Syed Irfan Hussaini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697122640,"creation_date":1633195803,"question_id":69418734,"body_markdown":"I have build an PDF Reader and i want to open my app to open PDF&#39;s from any where on device\r\n\r\nLike:-\r\n\r\nWhatsapp or File Manager\r\n\r\nI want to set my app default for opening PDF&#39;s \r\n\r\nHelp me please I&#39;m searching it for past 3 hours","title":"How to set app default for opening pdf in Android","body":"<p>I have build an PDF Reader and i want to open my app to open PDF's from any where on device</p>\n<p>Like:-</p>\n<p>Whatsapp or File Manager</p>\n<p>I want to set my app default for opening PDF's</p>\n<p>Help me please I'm searching it for past 3 hours</p>\n"},{"tags":["java","winapi","jna"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697180390,"post_id":77277162,"comment_id":136249896,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697122637,"creation_date":1697088686,"answer_id":77277920,"question_id":77277162,"body_markdown":"The documentation for [`SetMonitorColorTemperature`][1] says:\r\n&gt; `[in] hMonitor`\r\n&gt;\r\n&gt; Handle to a physical monitor. To get the monitor handle, call [`GetPhysicalMonitorsFromHMONITOR`][2] or [`GetPhysicalMonitorsFromIDirect3DDevice9`][3].\r\n\r\nFurther, it identifies the type of that handle as `HANDLE`.\r\n\r\nIn your code you&#39;ve called [MonitorFromPoint][4] which returns a `HMONITOR`, but you&#39;re simply changing the type of that pointer with your call to `HANDLE hMonitorHandle = new HANDLE(new Pointer(hMonitor));`.\r\n\r\nInstead, you need to use that `HMONITOR` as one of the arguments to `GetPhysicalMonitorsFromHMONITOR` to match it up to a physical monitor.  You&#39;ll get a pointer to a [`PHYSICAL_MONITOR`][5] structure, whose `HANDLE` is what you need to send to `SetMonitorColorTemperature`.  You can see an example of this in the JNA [MonitorInfoDemo][6] class.\r\n\r\nA readability suggestion.  Having `ByValue` in your code without it being obvious it&#39;s a `POINT` is confusing.  And while it won&#39;t change the end result, you might consider using the constructor for `POINT` that takes the parameters instead of assigning them later.  I&#39;d suggest:\r\n```java\r\nPOINT.ByValue pt = new POINT.ByValue(0, 0); \r\n```\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/highlevelmonitorconfigurationapi/nf-highlevelmonitorconfigurationapi-setmonitorcolortemperature\r\n  [2]: https://learn.microsoft.com/en-us/windows/desktop/api/physicalmonitorenumerationapi/nf-physicalmonitorenumerationapi-getphysicalmonitorsfromhmonitor\r\n  [3]: https://learn.microsoft.com/en-us/windows/desktop/api/physicalmonitorenumerationapi/nf-physicalmonitorenumerationapi-getphysicalmonitorsfromidirect3ddevice9\r\n  [4]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-monitorfrompoint\r\n  [5]: https://learn.microsoft.com/en-us/windows/win32/api/physicalmonitorenumerationapi/ns-physicalmonitorenumerationapi-physical_monitor\r\n  [6]: https://github.com/java-native-access/jna/blob/master/contrib/monitordemo/src/com/sun/jna/contrib/demo/MonitorInfoDemo.java#L100","title":"Change the color temperature of monitor using java JNA Win32API","body":"<p>The documentation for <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/highlevelmonitorconfigurationapi/nf-highlevelmonitorconfigurationapi-setmonitorcolortemperature\" rel=\"nofollow noreferrer\"><code>SetMonitorColorTemperature</code></a> says:</p>\n<blockquote>\n<p><code>[in] hMonitor</code></p>\n<p>Handle to a physical monitor. To get the monitor handle, call <a href=\"https://learn.microsoft.com/en-us/windows/desktop/api/physicalmonitorenumerationapi/nf-physicalmonitorenumerationapi-getphysicalmonitorsfromhmonitor\" rel=\"nofollow noreferrer\"><code>GetPhysicalMonitorsFromHMONITOR</code></a> or <a href=\"https://learn.microsoft.com/en-us/windows/desktop/api/physicalmonitorenumerationapi/nf-physicalmonitorenumerationapi-getphysicalmonitorsfromidirect3ddevice9\" rel=\"nofollow noreferrer\"><code>GetPhysicalMonitorsFromIDirect3DDevice9</code></a>.</p>\n</blockquote>\n<p>Further, it identifies the type of that handle as <code>HANDLE</code>.</p>\n<p>In your code you've called <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-monitorfrompoint\" rel=\"nofollow noreferrer\">MonitorFromPoint</a> which returns a <code>HMONITOR</code>, but you're simply changing the type of that pointer with your call to <code>HANDLE hMonitorHandle = new HANDLE(new Pointer(hMonitor));</code>.</p>\n<p>Instead, you need to use that <code>HMONITOR</code> as one of the arguments to <code>GetPhysicalMonitorsFromHMONITOR</code> to match it up to a physical monitor.  You'll get a pointer to a <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/physicalmonitorenumerationapi/ns-physicalmonitorenumerationapi-physical_monitor\" rel=\"nofollow noreferrer\"><code>PHYSICAL_MONITOR</code></a> structure, whose <code>HANDLE</code> is what you need to send to <code>SetMonitorColorTemperature</code>.  You can see an example of this in the JNA <a href=\"https://github.com/java-native-access/jna/blob/master/contrib/monitordemo/src/com/sun/jna/contrib/demo/MonitorInfoDemo.java#L100\" rel=\"nofollow noreferrer\">MonitorInfoDemo</a> class.</p>\n<p>A readability suggestion.  Having <code>ByValue</code> in your code without it being obvious it's a <code>POINT</code> is confusing.  And while it won't change the end result, you might consider using the constructor for <code>POINT</code> that takes the parameters instead of assigning them later.  I'd suggest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>POINT.ByValue pt = new POINT.ByValue(0, 0); \n</code></pre>\n"}],"owner":{"account_id":29644576,"reputation":1,"user_id":22719893,"display_name":"Yoshixi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697122637,"creation_date":1697073603,"question_id":77277162,"body_markdown":"I would like to create a software similar to redshift for linux that gradually shifts the screen color temperature to more red tint. I would like to use java native access and win32 api functions to do this. \r\n\r\n\r\nCurrently Ive tried changing the windows register&#39;s correlating to \r\n&quot;Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\CloudStore\\Store\\DefaultAccount\\Current\\default$windows.data.bluelightreduction.bluelightreductionstate\\windows.data.bluelightreduction.bluelightreductionstate&quot; without much effect. \r\n \r\nIve also tinkered with [Dxva2](https://github.com/java-native-access/jna/blob/237206727cab3cdfd0285ed57035ab3b64179ed4/contrib/platform/src/com/sun/jna/platform/win32/Dxva2.java#L230) SetMonitorColorTemperature() function, but cannot find how I am supposed to get the HANDLE parameter.\r\n\r\nbelow is my code:\r\n\r\n```\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.platform.win32.User32;\r\nimport com.sun.jna.platform.win32.WinReg;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Platform;\r\nimport com.sun.jna.platform.win32.WinDef.BOOL;\r\nimport com.sun.jna.platform.win32.WinDef.HDC;\r\nimport com.sun.jna.platform.win32.WinUser.HMONITOR;\r\nimport com.sun.jna.platform.win32.Dxva2;\r\nimport com.sun.jna.platform.win32.WinUser;\r\nimport com.sun.jna.platform.win32.HighLevelMonitorConfigurationAPI.MC_COLOR_TEMPERATURE;\r\nimport com.sun.jna.platform.win32.WinNT.HANDLE;\r\nimport com.sun.jna.platform.win32.WinNT.HANDLEByReference;\r\nimport com.sun.jna.platform.win32.WinDef.POINT.ByValue;\r\nimport com.sun.jna.platform.win32.PhysicalMonitorEnumerationAPI.PHYSICAL_MONITOR;\r\nimport com.sun.jna.Pointer;\r\n\r\nclass ChangeColorTemp {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;helo&quot;);\r\n        ByValue pt = new ByValue(); \r\n        pt.x = 0;\r\n        pt.y = 0;\r\n        int dwFlags = User32.MONITOR_DEFAULTTONEAREST;\r\n        HMONITOR hMonitor = User32.INSTANCE.MonitorFromPoint(pt, dwFlags);\r\n        HANDLE hMonitorHandle = new HANDLE(new Pointer(hMonitor));\r\n        \r\n        Dxva2.INSTANCE.SetMonitorColorTemperature(hMonitorHandle, MC_COLOR_TEMPERATURE.MC_COLOR_TEMPERATURE_4000K);\r\n        \r\n    }\r\n}\r\n```\r\nI would like to know if I am going about this the right way, just to get used to Win32API. \r\nMany thanks.","title":"Change the color temperature of monitor using java JNA Win32API","body":"<p>I would like to create a software similar to redshift for linux that gradually shifts the screen color temperature to more red tint. I would like to use java native access and win32 api functions to do this.</p>\n<p>Currently Ive tried changing the windows register's correlating to\n&quot;Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\CloudStore\\Store\\DefaultAccount\\Current\\default$windows.data.bluelightreduction.bluelightreductionstate\\windows.data.bluelightreduction.bluelightreductionstate&quot; without much effect.</p>\n<p>Ive also tinkered with <a href=\"https://github.com/java-native-access/jna/blob/237206727cab3cdfd0285ed57035ab3b64179ed4/contrib/platform/src/com/sun/jna/platform/win32/Dxva2.java#L230\" rel=\"nofollow noreferrer\">Dxva2</a> SetMonitorColorTemperature() function, but cannot find how I am supposed to get the HANDLE parameter.</p>\n<p>below is my code:</p>\n<pre><code>import com.sun.jna.Library;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinReg;\nimport com.sun.jna.Native;\nimport com.sun.jna.Platform;\nimport com.sun.jna.platform.win32.WinDef.BOOL;\nimport com.sun.jna.platform.win32.WinDef.HDC;\nimport com.sun.jna.platform.win32.WinUser.HMONITOR;\nimport com.sun.jna.platform.win32.Dxva2;\nimport com.sun.jna.platform.win32.WinUser;\nimport com.sun.jna.platform.win32.HighLevelMonitorConfigurationAPI.MC_COLOR_TEMPERATURE;\nimport com.sun.jna.platform.win32.WinNT.HANDLE;\nimport com.sun.jna.platform.win32.WinNT.HANDLEByReference;\nimport com.sun.jna.platform.win32.WinDef.POINT.ByValue;\nimport com.sun.jna.platform.win32.PhysicalMonitorEnumerationAPI.PHYSICAL_MONITOR;\nimport com.sun.jna.Pointer;\n\nclass ChangeColorTemp {\n    public static void main(String[] args) {\n        System.out.println(&quot;helo&quot;);\n        ByValue pt = new ByValue(); \n        pt.x = 0;\n        pt.y = 0;\n        int dwFlags = User32.MONITOR_DEFAULTTONEAREST;\n        HMONITOR hMonitor = User32.INSTANCE.MonitorFromPoint(pt, dwFlags);\n        HANDLE hMonitorHandle = new HANDLE(new Pointer(hMonitor));\n        \n        Dxva2.INSTANCE.SetMonitorColorTemperature(hMonitorHandle, MC_COLOR_TEMPERATURE.MC_COLOR_TEMPERATURE_4000K);\n        \n    }\n}\n</code></pre>\n<p>I would like to know if I am going about this the right way, just to get used to Win32API.\nMany thanks.</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1233122,"reputation":3934,"user_id":1197297,"accept_rate":67,"display_name":"StvnBrkdll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480637841,"creation_date":1480633396,"answer_id":40922013,"question_id":40921758,"body_markdown":"You currently to have this annotation in the `User` and `Group` classes:\r\n\r\n    @ManyToMany(cascade=CascadeType.ALL)\r\n\r\nThe [Hibernate docs][1] indicate that this will cause cascading of the following operations: `save, delete, update, evict, lock, replicate, merge, persist`\r\n\r\nSo it makes sense that when you delete the `Group` instance, the delete cascades to the `User` instances.\r\n\r\nConsider changing the annotation to something like:\r\n\r\n    @ManyToMany(cascade=CascadeType.SAVE_UPDATE)\r\n\r\nOr whatever is appropriate for your application.\r\n\r\nOptionally, you can remove the `User` instances from the `Group` prior to deleting the `Group`.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/metamodel/binding/CascadeType.html","title":"JPA- ManyToMany relation the delete operation removes all entities from secondary table","body":"<p>You currently to have this annotation in the <code>User</code> and <code>Group</code> classes:</p>\n\n<pre><code>@ManyToMany(cascade=CascadeType.ALL)\n</code></pre>\n\n<p>The <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/metamodel/binding/CascadeType.html\" rel=\"nofollow noreferrer\">Hibernate docs</a> indicate that this will cause cascading of the following operations: <code>save, delete, update, evict, lock, replicate, merge, persist</code></p>\n\n<p>So it makes sense that when you delete the <code>Group</code> instance, the delete cascades to the <code>User</code> instances.</p>\n\n<p>Consider changing the annotation to something like:</p>\n\n<pre><code>@ManyToMany(cascade=CascadeType.SAVE_UPDATE)\n</code></pre>\n\n<p>Or whatever is appropriate for your application.</p>\n\n<p>Optionally, you can remove the <code>User</code> instances from the <code>Group</code> prior to deleting the <code>Group</code>.</p>\n"}],"owner":{"account_id":7151947,"reputation":773,"user_id":5465648,"accept_rate":22,"display_name":"Yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697121937,"creation_date":1480632230,"question_id":40921758,"body_markdown":"I am using Spring data JPA and postgres database.\r\nI have two entities namely group and user. \r\nI have created repository using Spring&#39;s CrudRepository inteface. \r\n\r\n    @Entity\r\n    public class Group { \r\n    @ManyToMany(cascade=CascadeType.ALL)\r\n    @JoinTable(\r\n    \t\tname=&quot;group_user_bridge&quot;, \r\n    \t\tjoinColumns=@JoinColumn(name=&quot;joinTbl_groupid&quot;, referencedColumnName=&quot;groupid&quot;), \r\n    \t\tinverseJoinColumns=@JoinColumn(name=&quot;joinTbl_agentid&quot;, referencedColumnName=&quot;userid&quot;)\r\n    \t\t)\r\n    private Set&lt;User&gt; users;\r\n    ....\r\n    }\r\n\r\n\r\nclass User\r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n\t@ManyToMany(mappedBy=&quot;users&quot;,cascade=CascadeType.ALL,fetch=FetchType.EAGER)\r\n\tprivate List&lt;Group&gt; groups;\r\n    .....\r\n     }\r\n\r\nRepository.save : Works fine. \r\n\r\n      @Test\r\n      public void addGroup(){\r\n    \t\tGroup hg = new Group();\r\n    \r\n    \t\tUser h1 = new User();\r\n    \t\tUser h2 = new User();\r\n    \t\tsome setters for user entity object\r\n    \r\n    \t\thg.setName(&quot;testGroup&quot;);\r\n            ... some setters for groups\r\n    \r\n    \t\tHashSet&lt;User&gt; groupMembers = new HashSet&lt;User&gt;();\r\n    \t\tgroupMembers.add(h2);\r\n    \t\tgroupMembers.add(h1);\r\n    \t\thg.setGroupMembers(groupMembers);\r\n    \t\t\r\n    \t\thg = groupRepository.save(hg);\r\n\r\n\r\nQuestion\r\n\r\nWhen I delete the group using groupRepository.delete(groupEntity), it deletes the group, the association of group **and users** from join table.  \r\nbut it also deletes the users from user table. In fact the **users records should not get deleted**. \r\n\r\n**How to prevent user deletion here?**\r\n\r\nI am using @SQLDelete annotation for soft deleting the group and user records. but I am not able to achieve the same for the join table records. **The records in the join table gets hard deleted from the  table which I want to prevent.**\r\n\r\n**How can we prevent hard delete of the join table records?**\r\n\r\n\r\n\r\n\r\n","title":"JPA- ManyToMany relation the delete operation removes all entities from secondary table","body":"<p>I am using Spring data JPA and postgres database.\nI have two entities namely group and user. \nI have created repository using Spring's CrudRepository inteface. </p>\n\n<pre><code>@Entity\npublic class Group { \n@ManyToMany(cascade=CascadeType.ALL)\n@JoinTable(\n        name=\"group_user_bridge\", \n        joinColumns=@JoinColumn(name=\"joinTbl_groupid\", referencedColumnName=\"groupid\"), \n        inverseJoinColumns=@JoinColumn(name=\"joinTbl_agentid\", referencedColumnName=\"userid\")\n        )\nprivate Set&lt;User&gt; users;\n....\n}\n</code></pre>\n\n<p>class User</p>\n\n<pre><code>@Entity\npublic class User {\n\n@ManyToMany(mappedBy=\"users\",cascade=CascadeType.ALL,fetch=FetchType.EAGER)\nprivate List&lt;Group&gt; groups;\n.....\n }\n</code></pre>\n\n<p>Repository.save : Works fine. </p>\n\n<pre><code>  @Test\n  public void addGroup(){\n        Group hg = new Group();\n\n        User h1 = new User();\n        User h2 = new User();\n        some setters for user entity object\n\n        hg.setName(\"testGroup\");\n        ... some setters for groups\n\n        HashSet&lt;User&gt; groupMembers = new HashSet&lt;User&gt;();\n        groupMembers.add(h2);\n        groupMembers.add(h1);\n        hg.setGroupMembers(groupMembers);\n\n        hg = groupRepository.save(hg);\n</code></pre>\n\n<p>Question</p>\n\n<p>When I delete the group using groupRepository.delete(groupEntity), it deletes the group, the association of group <strong>and users</strong> from join table.<br>\nbut it also deletes the users from user table. In fact the <strong>users records should not get deleted</strong>. </p>\n\n<p><strong>How to prevent user deletion here?</strong></p>\n\n<p>I am using @SQLDelete annotation for soft deleting the group and user records. but I am not able to achieve the same for the join table records. <strong>The records in the join table gets hard deleted from the  table which I want to prevent.</strong></p>\n\n<p><strong>How can we prevent hard delete of the join table records?</strong></p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":14102497,"reputation":23,"user_id":10187517,"display_name":"Mahbub shaun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697121912,"creation_date":1697121912,"answer_id":77281624,"question_id":77280063,"body_markdown":"Right click the project --&gt; Select Propertise --&gt; Select JAVA BUILD PATH --&gt; Select &#39;Order &amp; Export&#39; tab --&gt; Select &#39;JRE System library&#39; then &#39;Apply&#39;. After all of that try to run the class[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zeaf9.png","title":"JAR Selenium files not recognized and test class not running on eclipse","body":"<p>Right click the project --&gt; Select Propertise --&gt; Select JAVA BUILD PATH --&gt; Select 'Order &amp; Export' tab --&gt; Select 'JRE System library' then 'Apply'. After all of that try to run the class<a href=\"https://i.stack.imgur.com/Zeaf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zeaf9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29655838,"reputation":1,"user_id":22728622,"display_name":"proxyninoxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697121912,"creation_date":1697109226,"question_id":77280063,"body_markdown":"I already downloaded the selenium folder for java and changed the build path of my project by adding the JAR files but the test is not running:\r\n\r\nThis is my code:\r\n````\r\npackage seleniumTest;\r\n\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class Test1 {\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Documents\\\\browserdrivers\\\\chromedriver.exe&quot;);\r\n        ChromeDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.google.com&quot;);\r\n    }\r\n}\r\n````\r\nand this is the error that I am getting:\r\n````\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams\r\n\tat org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.parseLogOutput(DriverService.java:472)\r\n\tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService$Builder.loadSystemProperties(ChromeDriverService.java:257)\r\n\tat org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\r\n\tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:137)\r\n\tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:51)\r\n\tat seleniumTest/seleniumTest.Test1.main(Test1.java:8)\r\nCaused by: java.lang.ClassNotFoundException: com.google.common.io.ByteStreams\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 6 more\r\n````\r\n\r\n\r\nThrough this code google chrome should have opened","title":"JAR Selenium files not recognized and test class not running on eclipse","body":"<p>I already downloaded the selenium folder for java and changed the build path of my project by adding the JAR files but the test is not running:</p>\n<p>This is my code:</p>\n<pre><code>package seleniumTest;\n\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Test1 {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Documents\\\\browserdrivers\\\\chromedriver.exe&quot;);\n        ChromeDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com&quot;);\n    }\n}\n</code></pre>\n<p>and this is the error that I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams\n    at org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.parseLogOutput(DriverService.java:472)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService$Builder.loadSystemProperties(ChromeDriverService.java:257)\n    at org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:137)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:51)\n    at seleniumTest/seleniumTest.Test1.main(Test1.java:8)\nCaused by: java.lang.ClassNotFoundException: com.google.common.io.ByteStreams\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 6 more\n</code></pre>\n<p>Through this code google chrome should have opened</p>\n"},{"tags":["java","image","file","io"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1697122375,"post_id":77281595,"comment_id":136242620,"body_markdown":"At a certain point you can compress stuff any further, unless you reduce quality. And even then there are lower limits.","body":"At a certain point you can compress stuff any further, unless you reduce quality. And even then there are lower limits."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1697122475,"post_id":77281595,"comment_id":136242657,"body_markdown":"it is funny that this code even properly exits as I would expect it to never leave the loop when the image is not &quot;compressible&quot; anymore.","body":"it is funny that this code even properly exits as I would expect it to never leave the loop when the image is not &quot;compressible&quot; anymore."}],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697121675,"creation_date":1697121675,"question_id":77281595,"body_markdown":"I need to compress an image to 100 kB so that I can upload it to Active Directory. I wrote this code, but it does not work with all image sizes. At some iteration of the loop, it simply leaves the same image size.\r\n\r\n    private static byte[] compressImage(byte[] originalImage) throws IOException {\r\n        ByteArrayInputStream originalImageStream = new ByteArrayInputStream(originalImage);\r\n        ByteArrayOutputStream compressedImageStream = new ByteArrayOutputStream();\r\n\r\n        Thumbnails.of(originalImageStream)\r\n                .scale(1)\r\n                .outputQuality(COMPRESSION_QUALITY)\r\n                .toOutputStream(compressedImageStream);\r\n\r\n        byte[] compressedImageBytes = compressedImageStream.toByteArray();\r\n        if (compressedImageBytes.length &lt;= MAX_SIZE_IN_BYTES) {\r\n            return compressedImageBytes;\r\n        }\r\n        return compressImage(compressedImageBytes);\r\n    }\r\n\r\nI tried to write in pure Java, the same problem arose","title":"Compress image to 100 KB","body":"<p>I need to compress an image to 100 kB so that I can upload it to Active Directory. I wrote this code, but it does not work with all image sizes. At some iteration of the loop, it simply leaves the same image size.</p>\n<pre><code>private static byte[] compressImage(byte[] originalImage) throws IOException {\n    ByteArrayInputStream originalImageStream = new ByteArrayInputStream(originalImage);\n    ByteArrayOutputStream compressedImageStream = new ByteArrayOutputStream();\n\n    Thumbnails.of(originalImageStream)\n            .scale(1)\n            .outputQuality(COMPRESSION_QUALITY)\n            .toOutputStream(compressedImageStream);\n\n    byte[] compressedImageBytes = compressedImageStream.toByteArray();\n    if (compressedImageBytes.length &lt;= MAX_SIZE_IN_BYTES) {\n        return compressedImageBytes;\n    }\n    return compressImage(compressedImageBytes);\n}\n</code></pre>\n<p>I tried to write in pure Java, the same problem arose</p>\n"},{"tags":["java","xml","applet"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274008329,"creation_date":1274008329,"answer_id":2843481,"question_id":2843134,"body_markdown":"If all you are doing is calling `DocumentBuilderFactory.newInstance();` then this should not cause an error. The posts you link to are not relevant.\r\n\r\n`javax.xml.parsers.FactoryConfigurationError: Provider &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; not found`\r\n\r\nThis suggests some weird configuration error/bug. The provider should (I think) be the factory class name of the JAXP implementation. Check that you aren&#39;t doing something strange like setting the `javax.xml.parsers.DocumentBuilderFactory` system property or have an invalid `META-INF/services/javax.xml.parsers.DocumentBuilderFactory` file on your Applet classpath.","title":"Create xml document in java applet","body":"<p>If all you are doing is calling <code>DocumentBuilderFactory.newInstance();</code> then this should not cause an error. The posts you link to are not relevant.</p>\n\n<p><code>javax.xml.parsers.FactoryConfigurationError: Provider &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt; not found</code></p>\n\n<p>This suggests some weird configuration error/bug. The provider should (I think) be the factory class name of the JAXP implementation. Check that you aren't doing something strange like setting the <code>javax.xml.parsers.DocumentBuilderFactory</code> system property or have an invalid <code>META-INF/services/javax.xml.parsers.DocumentBuilderFactory</code> file on your Applet classpath.</p>\n"},{"tags":[],"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697121525,"creation_date":1686079819,"answer_id":76417859,"question_id":2843134,"body_markdown":"        JAVA FX SERVER\r\n        \r\n        THREAD   \r\n        \r\n        public class ServerThread extends Thread {\r\n            // Server related fields.\r\n            private ObjectOutputStream oos;\r\n            private ObjectInputStream ois;\r\n            private ServerSocket server;\r\n            private Socket connection;\r\n            private int counter = 1;\r\n            private Displayer&lt;String&gt; displayer;\r\n            private Runnable onConnected;\r\n            private Runnable onDisconnected;\r\n        \r\n            public ServerThread(Displayer&lt;String&gt; displayer, Runnable onConnected, Runnable onDisconnected) {\r\n                this.displayer = displayer;\r\n                this.onConnected = onConnected;\r\n                this.onDisconnected = onDisconnected;\r\n            }\r\n        \r\n            protected void display(String message) {\r\n                if(displayer == null) return;\r\n        \r\n                displayer.display(message);\r\n            }\r\n        \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    // Step 1: Create a ServerSocket.\r\n                    server = new ServerSocket(5001, 100);\r\n                    display(&quot;Started server: &quot; + InetAddress.getLocalHost().getHostAddress());\r\n        \r\n                    while (true) {\r\n                        // Step 2: Wait for a connection.\r\n                        waitForConnection();\r\n        \r\n                        // Step 3: Get input and output streams.\r\n                        getStreams();\r\n        \r\n                        // Step 4: Process connection.\r\n                        readMessages();\r\n        \r\n                        // Step 5: Close connection.\r\n                        closeConnection();\r\n        \r\n                        ++counter;\r\n                    }\r\n                } catch (\r\n                        EOFException eofException) {\r\n                    display(&quot;Client terminated connection&quot;);\r\n        \r\n                } catch (IOException ioException) {\r\n                    ioException.printStackTrace();\r\n                }\r\n            }\r\n        \r\n            // Send message to client\r\n            public void sendMessage(String message) {\r\n                try {\r\n                    message = &quot;SERVER&gt;&gt;&gt; &quot; + message;\r\n        \r\n                    // Send String OBJECT to client.\r\n                    oos.writeObject(message);\r\n                    // Flush to ensure that data is pushed through stream to client.\r\n                    oos.flush();\r\n        \r\n                    display(message);\r\n        \r\n                } catch (IOException ioException) {\r\n                    display(&quot;Error writing object. &quot; + ioException.getMessage());\r\n                }\r\n            }\r\n        \r\n            // Wait for connection to arrive, then display connection info\r\n            private void waitForConnection() throws IOException {\r\n                display(&quot;Waiting for connection...&quot;);\r\n        \r\n                connection = server.accept();\r\n        \r\n                display(&quot;Connection #&quot; + counter + &quot; received from: &quot;\r\n                        + connection.getInetAddress().getHostName());\r\n            }\r\n        \r\n            // Get streams to send and receive data\r\n            private void getStreams() throws IOException {\r\n                oos = new ObjectOutputStream(connection.getOutputStream());\r\n                oos.flush();\r\n        \r\n                ois = new ObjectInputStream(connection.getInputStream());\r\n        \r\n                display(&quot;Got I/O streams.&quot;);\r\n            }\r\n        \r\n            // Process connection with client\r\n            private void readMessages() throws IOException {\r\n                // Send initial message to client.\r\n                String message = &quot;Connection successful. Client #&quot; + counter;\r\n                sendMessage(message);\r\n        \r\n                // Connected\r\n                if(onConnected != null) onConnected.run();\r\n        \r\n                do {\r\n                    try {\r\n                        message = (String) ois.readObject();\r\n                        display(message);\r\n        \r\n                    } catch (ClassNotFoundException classNotFoundException) {\r\n                        display(&quot;Unknown object type received.&quot;);\r\n                    }\r\n        \r\n                } while (!message.equals(&quot;CLIENT&gt;&gt;&gt; TERMINATE&quot;));\r\n            }\r\n        \r\n            // close streams and socket\r\n            private void closeConnection() throws IOException {\r\n                display(&quot;User terminated connection.&quot;);\r\n                oos.close();\r\n                ois.close();\r\n                connection.close();\r\n        \r\n                if(onDisconnected != null) onDisconnected.run();\r\n            }\r\n        }\r\n        MAIN JAVAFX\r\n        \r\n        public class Server2JFX extends Application {\r\n            // Cached references to controls.\r\n            private TextField txtMessage;\r\n            private ObservableList&lt;String&gt; messages\r\n                    = FXCollections.observableArrayList(new ArrayList&lt;String&gt;());\r\n        \r\n            // Thread on which server runs.\r\n            private ServerThread serverThread;\r\n        \r\n            private Scene createScene() {\r\n                // Main container.\r\n                BorderPane bp = new BorderPane();\r\n        \r\n                // The area where the user will enter messages to be\r\n                // sent from the server to the client.\r\n                txtMessage = new TextField();\r\n                // Event handler used to send message to client.\r\n                txtMessage.setOnKeyPressed(event -&gt; {\r\n                    // If not the enter key, do nothing.\r\n                    if(event.getCode() != KeyCode.ENTER) return;\r\n        \r\n                    // Send message to client.\r\n                    String message = txtMessage.getText();\r\n                    new Thread(() -&gt; serverThread.sendMessage(message)).start();\r\n        \r\n                    // Clear text field.\r\n                    txtMessage.setText(&quot;&quot;);\r\n                });\r\n        \r\n                // Area to store messages received.\r\n                ListView&lt;String&gt; lbxMessages = new ListView&lt;&gt;();\r\n                lbxMessages.setItems(messages);\r\n        \r\n                // Add controls to container.\r\n                bp.setTop(txtMessage);\r\n                bp.setCenter(lbxMessages);\r\n        \r\n                // Return a new scene graph.\r\n                return new Scene(bp);\r\n            }\r\n        \r\n            @Override\r\n            public void start(Stage primaryStage) throws Exception {\r\n                // Create scene.\r\n                Scene scene = createScene();\r\n        \r\n                // Set stage details.\r\n                primaryStage.setTitle(&quot;Server 2 (JavaFX front-end)&quot;);\r\n                primaryStage.setWidth(300);\r\n                primaryStage.setMinHeight(500);\r\n                primaryStage.setScene(scene);\r\n        \r\n                // Show stage.\r\n                primaryStage.show();\r\n        \r\n                // Create the server thread.\r\n                serverThread = new ServerThread(\r\n                        message -&gt; Platform.runLater(() -&gt; messages.add(message)), // How to display message.\r\n                        () -&gt; Platform.runLater(() -&gt; txtMessage.setEditable(true)), // What to do when connected (run on UI thread).\r\n                        () -&gt; Platform.runLater(() -&gt; txtMessage.setEditable(false)) // What to do when connected (run on UI thread).\r\n                );\r\n                // Start running the server.\r\n                serverThread.start();\r\n            }\r\n        \r\n            public static void main(String[] args) {\r\n                launch(args);\r\n            }\r\n        }\r\n    \r\n    package nmu.wrpv302.l08;\r\n    \r\n    @FunctionalInterface\r\n    public interface Displayer&lt;T&gt; {\r\n        void display(T value);\r\n    }\r\n\r\n","title":"Create xml document in java applet","body":"<pre><code>    JAVA FX SERVER\n    \n    THREAD   \n    \n    public class ServerThread extends Thread {\n        // Server related fields.\n        private ObjectOutputStream oos;\n        private ObjectInputStream ois;\n        private ServerSocket server;\n        private Socket connection;\n        private int counter = 1;\n        private Displayer&lt;String&gt; displayer;\n        private Runnable onConnected;\n        private Runnable onDisconnected;\n    \n        public ServerThread(Displayer&lt;String&gt; displayer, Runnable onConnected, Runnable onDisconnected) {\n            this.displayer = displayer;\n            this.onConnected = onConnected;\n            this.onDisconnected = onDisconnected;\n        }\n    \n        protected void display(String message) {\n            if(displayer == null) return;\n    \n            displayer.display(message);\n        }\n    \n        @Override\n        public void run() {\n            try {\n                // Step 1: Create a ServerSocket.\n                server = new ServerSocket(5001, 100);\n                display(&quot;Started server: &quot; + InetAddress.getLocalHost().getHostAddress());\n    \n                while (true) {\n                    // Step 2: Wait for a connection.\n                    waitForConnection();\n    \n                    // Step 3: Get input and output streams.\n                    getStreams();\n    \n                    // Step 4: Process connection.\n                    readMessages();\n    \n                    // Step 5: Close connection.\n                    closeConnection();\n    \n                    ++counter;\n                }\n            } catch (\n                    EOFException eofException) {\n                display(&quot;Client terminated connection&quot;);\n    \n            } catch (IOException ioException) {\n                ioException.printStackTrace();\n            }\n        }\n    \n        // Send message to client\n        public void sendMessage(String message) {\n            try {\n                message = &quot;SERVER&gt;&gt;&gt; &quot; + message;\n    \n                // Send String OBJECT to client.\n                oos.writeObject(message);\n                // Flush to ensure that data is pushed through stream to client.\n                oos.flush();\n    \n                display(message);\n    \n            } catch (IOException ioException) {\n                display(&quot;Error writing object. &quot; + ioException.getMessage());\n            }\n        }\n    \n        // Wait for connection to arrive, then display connection info\n        private void waitForConnection() throws IOException {\n            display(&quot;Waiting for connection...&quot;);\n    \n            connection = server.accept();\n    \n            display(&quot;Connection #&quot; + counter + &quot; received from: &quot;\n                    + connection.getInetAddress().getHostName());\n        }\n    \n        // Get streams to send and receive data\n        private void getStreams() throws IOException {\n            oos = new ObjectOutputStream(connection.getOutputStream());\n            oos.flush();\n    \n            ois = new ObjectInputStream(connection.getInputStream());\n    \n            display(&quot;Got I/O streams.&quot;);\n        }\n    \n        // Process connection with client\n        private void readMessages() throws IOException {\n            // Send initial message to client.\n            String message = &quot;Connection successful. Client #&quot; + counter;\n            sendMessage(message);\n    \n            // Connected\n            if(onConnected != null) onConnected.run();\n    \n            do {\n                try {\n                    message = (String) ois.readObject();\n                    display(message);\n    \n                } catch (ClassNotFoundException classNotFoundException) {\n                    display(&quot;Unknown object type received.&quot;);\n                }\n    \n            } while (!message.equals(&quot;CLIENT&gt;&gt;&gt; TERMINATE&quot;));\n        }\n    \n        // close streams and socket\n        private void closeConnection() throws IOException {\n            display(&quot;User terminated connection.&quot;);\n            oos.close();\n            ois.close();\n            connection.close();\n    \n            if(onDisconnected != null) onDisconnected.run();\n        }\n    }\n    MAIN JAVAFX\n    \n    public class Server2JFX extends Application {\n        // Cached references to controls.\n        private TextField txtMessage;\n        private ObservableList&lt;String&gt; messages\n                = FXCollections.observableArrayList(new ArrayList&lt;String&gt;());\n    \n        // Thread on which server runs.\n        private ServerThread serverThread;\n    \n        private Scene createScene() {\n            // Main container.\n            BorderPane bp = new BorderPane();\n    \n            // The area where the user will enter messages to be\n            // sent from the server to the client.\n            txtMessage = new TextField();\n            // Event handler used to send message to client.\n            txtMessage.setOnKeyPressed(event -&gt; {\n                // If not the enter key, do nothing.\n                if(event.getCode() != KeyCode.ENTER) return;\n    \n                // Send message to client.\n                String message = txtMessage.getText();\n                new Thread(() -&gt; serverThread.sendMessage(message)).start();\n    \n                // Clear text field.\n                txtMessage.setText(&quot;&quot;);\n            });\n    \n            // Area to store messages received.\n            ListView&lt;String&gt; lbxMessages = new ListView&lt;&gt;();\n            lbxMessages.setItems(messages);\n    \n            // Add controls to container.\n            bp.setTop(txtMessage);\n            bp.setCenter(lbxMessages);\n    \n            // Return a new scene graph.\n            return new Scene(bp);\n        }\n    \n        @Override\n        public void start(Stage primaryStage) throws Exception {\n            // Create scene.\n            Scene scene = createScene();\n    \n            // Set stage details.\n            primaryStage.setTitle(&quot;Server 2 (JavaFX front-end)&quot;);\n            primaryStage.setWidth(300);\n            primaryStage.setMinHeight(500);\n            primaryStage.setScene(scene);\n    \n            // Show stage.\n            primaryStage.show();\n    \n            // Create the server thread.\n            serverThread = new ServerThread(\n                    message -&gt; Platform.runLater(() -&gt; messages.add(message)), // How to display message.\n                    () -&gt; Platform.runLater(() -&gt; txtMessage.setEditable(true)), // What to do when connected (run on UI thread).\n                    () -&gt; Platform.runLater(() -&gt; txtMessage.setEditable(false)) // What to do when connected (run on UI thread).\n            );\n            // Start running the server.\n            serverThread.start();\n        }\n    \n        public static void main(String[] args) {\n            launch(args);\n        }\n    }\n\npackage nmu.wrpv302.l08;\n\n@FunctionalInterface\npublic interface Displayer&lt;T&gt; {\n    void display(T value);\n}\n</code></pre>\n"}],"owner":{"account_id":33669,"reputation":3529,"user_id":94411,"accept_rate":75,"display_name":"zproxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697121525,"creation_date":1274000731,"question_id":2843134,"body_markdown":"If I try to create a new xml document in a java applet by this code:\r\n\r\nhttp://java.sun.com/j2se/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#newInstance()\r\n\r\n    DocumentBuilderFactory.newInstance();\r\n\r\nI will get this error:\r\n\r\n\r\n    Java Plug-in 1.6.0_19\r\n    Using JRE version 1.6.0_19-b04 Java HotSpot(TM) Client VM\r\n        \r\n    javax.xml.parsers.FactoryConfigurationError: Provider &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; not found\r\n        \tat javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\r\n\r\nI do not care about DTD&#39;s. \r\n\r\n1. Why is it looking for it?\r\n2. How am I supposed to **create a xml document in java applets**?\r\n3. How can I make it work?\r\n\r\nThe enclosing html document looks like this:\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Loading...&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n[Can some comment this thread][1]?\r\n\r\n&gt; The problem was with the entity resolver, which points to \r\n&gt; the w3c.org web site. The access to the reference DTDs on \r\n&gt; this site has been restricted for application use. The \r\n&gt; solution was to implement my own entity resolver.\r\n\r\nRelated:\r\n\r\n1. http://forums.sun.com/thread.jspa?threadID=515055\r\n2. https://stackoverflow.com/questions/1016286/org-apache-xerces-jaxp-saxparserfactoryimpl-not-found-when-importing-gears-api-in\r\n3. http://java.itags.org/java-desktop/4839/\r\n\r\n\r\n  [1]: http://forums.sun.com/thread.jspa?threadID=5428124","title":"Create xml document in java applet","body":"<p>If I try to create a new xml document in a java applet by this code:</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#newInstance()\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#newInstance()</a></p>\n\n<pre><code>DocumentBuilderFactory.newInstance();\n</code></pre>\n\n<p>I will get this error:</p>\n\n<pre><code>Java Plug-in 1.6.0_19\nUsing JRE version 1.6.0_19-b04 Java HotSpot(TM) Client VM\n\njavax.xml.parsers.FactoryConfigurationError: Provider &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt; not found\n        at javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\n</code></pre>\n\n<p>I do not care about DTD's. </p>\n\n<ol>\n<li>Why is it looking for it?</li>\n<li>How am I supposed to <strong>create a xml document in java applets</strong>?</li>\n<li>How can I make it work?</li>\n</ol>\n\n<p>The enclosing html document looks like this:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Loading...&lt;/title&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p><a href=\"http://forums.sun.com/thread.jspa?threadID=5428124\" rel=\"nofollow noreferrer\">Can some comment this thread</a>?</p>\n\n<blockquote>\n  <p>The problem was with the entity resolver, which points to \n  the w3c.org web site. The access to the reference DTDs on \n  this site has been restricted for application use. The \n  solution was to implement my own entity resolver.</p>\n</blockquote>\n\n<p>Related:</p>\n\n<ol>\n<li><a href=\"http://forums.sun.com/thread.jspa?threadID=515055\" rel=\"nofollow noreferrer\">http://forums.sun.com/thread.jspa?threadID=515055</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1016286/org-apache-xerces-jaxp-saxparserfactoryimpl-not-found-when-importing-gears-api-in\">org.apache.xerces.jaxp.SAXParserFactoryImpl not found when importing Gears API in GWT</a></li>\n<li><a href=\"http://java.itags.org/java-desktop/4839/\" rel=\"nofollow noreferrer\">http://java.itags.org/java-desktop/4839/</a></li>\n</ol>\n"},{"tags":["java","intellij-idea","gradle","integration-testing"],"comments":[{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":3,"creation_date":1486374615,"post_id":42064377,"comment_id":71300969,"body_markdown":"How did you regenerate your IDEA files after making changes? This should work (and I&#39;ve tested it locally) - try running `$ ./gradlew cleanIdea idea`","body":"How did you regenerate your IDEA files after making changes? This should work (and I&#39;ve tested it locally) - try running <code>$ .&#47;gradlew cleanIdea idea</code>"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1486375318,"post_id":42064377,"comment_id":71301420,"body_markdown":"I&#39;d rather have a solution where Gradle does not generate my Idea config, since there are also non-Gradle projects in the same repo.","body":"I&#39;d rather have a solution where Gradle does not generate my Idea config, since there are also non-Gradle projects in the same repo."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1486480614,"post_id":42064377,"comment_id":71357132,"body_markdown":"@tddmonkey Your solution does generate the correct `.iml` files, but IntelliJ isn&#39;t using them. Do you know how I get it to do that? The Java project is a subfolder of another, and that one is the main project with a `.idea` folder for config.","body":"@tddmonkey Your solution does generate the correct <code>.iml</code> files, but IntelliJ isn&#39;t using them. Do you know how I get it to do that? The Java project is a subfolder of another, and that one is the main project with a <code>.idea</code> folder for config."},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":0,"creation_date":1486481315,"post_id":42064377,"comment_id":71357660,"body_markdown":"How are you opening it? I generally do `$ ./gradlew cleanIdea idea; open &lt;name_of_project&gt;.ipr`","body":"How are you opening it? I generally do <code>$ .&#47;gradlew cleanIdea idea; open &lt;name_of_project&gt;.ipr</code>"}],"answers":[{"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1554907511,"creation_date":1503301978,"answer_id":45791867,"question_id":42064377,"body_markdown":"You would need to make sure test source  is the only source for this package then\r\n\r\n    idea {\r\n        module {\r\n            sourceDirs -= file(&#39;src/integrationTest/java&#39;)\r\n            testSourceDirs += file(&#39;src/integrationTest/java&#39;)\r\n        }\r\n    }\r\n\r\nand then you would need to `gradle cleanIdea idea` to recreate the IntelliJ files.\r\n\r\n**be sure that you&#39;re not using IDE gradle integration when using idea plugin from gradle, custom changes to iml files will most likely clash with the IDE if the integration is on**\r\n\r\n    sourceSets {\r\n        integrationTest {\r\n            java {\r\n                compileClasspath += main.output + test.output\r\n                runtimeClasspath += main.output + test.output\r\n                srcDir &quot;$projectDir/src/integrationTest/java&quot;\r\n            }\r\n            resources.srcDir &quot;$projectDir/src/integrationTest/resources&quot;\r\n        }\r\n    }\r\n\r\n**EDIT: Gradle 4.7 Idea plugin correctly marks sources now.**\r\n\r\n","title":"Mark Gradle source folder as test source in IntelliJ","body":"<p>You would need to make sure test source  is the only source for this package then</p>\n\n<pre><code>idea {\n    module {\n        sourceDirs -= file('src/integrationTest/java')\n        testSourceDirs += file('src/integrationTest/java')\n    }\n}\n</code></pre>\n\n<p>and then you would need to <code>gradle cleanIdea idea</code> to recreate the IntelliJ files.</p>\n\n<p><strong>be sure that you're not using IDE gradle integration when using idea plugin from gradle, custom changes to iml files will most likely clash with the IDE if the integration is on</strong></p>\n\n<pre><code>sourceSets {\n    integrationTest {\n        java {\n            compileClasspath += main.output + test.output\n            runtimeClasspath += main.output + test.output\n            srcDir \"$projectDir/src/integrationTest/java\"\n        }\n        resources.srcDir \"$projectDir/src/integrationTest/resources\"\n    }\n}\n</code></pre>\n\n<p><strong>EDIT: Gradle 4.7 Idea plugin correctly marks sources now.</strong></p>\n"},{"tags":[],"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1521040884,"creation_date":1521040884,"answer_id":49281550,"question_id":42064377,"body_markdown":"From JetBrains issue:\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-151925#comment=27-2355076\r\n\r\n    apply plugin: &#39;java&#39;\r\n    sourceSets {\r\n      integrationTest\r\n    }\r\n    apply plugin: &#39;idea&#39;\r\n    idea {\r\n      module {\r\n        testSourceDirs += project.sourceSets.integrationTest.java.srcDirs\r\n        testSourceDirs += project.sourceSets.integrationTest.resources.srcDirs\r\n      }\r\n    }","title":"Mark Gradle source folder as test source in IntelliJ","body":"<p>From JetBrains issue:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-151925#comment=27-2355076\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-151925#comment=27-2355076</a></p>\n\n<pre><code>apply plugin: 'java'\nsourceSets {\n  integrationTest\n}\napply plugin: 'idea'\nidea {\n  module {\n    testSourceDirs += project.sourceSets.integrationTest.java.srcDirs\n    testSourceDirs += project.sourceSets.integrationTest.resources.srcDirs\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39078,"reputation":2247,"user_id":112637,"accept_rate":70,"display_name":"Ar3s"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644579684,"creation_date":1644510001,"answer_id":71068601,"question_id":42064377,"body_markdown":"I know this is old but facing the same problem I found buried somewhere in [this jetbrains ticket][1] something hinting that your test `sourceSet` should be declared in gradle like so :\r\n\r\n    sourceSets {\r\n        integrationTest {\r\n            test{ //&lt;- note this, this is what flags it right for intelliJ to process it correctly\r\n                java {\r\n                    compileClasspath += main.output + test.output\r\n                    runtimeClasspath += main.output + test.output\r\n                    srcDir file(&#39;src/integrationTest/java&#39;)\r\n                    // note that you&#39;ll need to specify the outputDir for it to work\r\n                    // I don&#39;t fully get the reasons for this (but I rarely do when it comes to gradle anyway)\r\n                    outputDir = file(&quot;build/classes/java/integrationTest&quot;)\r\n                }\r\n                resources {\r\n                    srcDir file(&#39;src/integrationTest/resources&#39;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nDoing so made intelliJ instantly recognize my integration-test folder like the test-source it is ...\r\n\r\n[Small rant] I could not find trace of the appropriate corresponding gradle doc and as often I find info on how it works from retro-engineering or scarce hints in this case trial/error+ IntelliJ youtrack ticket (which says a lot on how poorly gradle is documented in my view ...)\r\n\r\n\r\nNote that I am on\r\n - Intellij : IntelliJ IDEA 2021.3.2 *(Ultimate Edition)* Build #IU-213.6777.52\r\n - Gradle : 6.7.1\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-165647","title":"Mark Gradle source folder as test source in IntelliJ","body":"<p>I know this is old but facing the same problem I found buried somewhere in <a href=\"https://youtrack.jetbrains.com/issue/IDEA-165647\" rel=\"nofollow noreferrer\">this jetbrains ticket</a> something hinting that your test <code>sourceSet</code> should be declared in gradle like so :</p>\n<pre><code>sourceSets {\n    integrationTest {\n        test{ //&lt;- note this, this is what flags it right for intelliJ to process it correctly\n            java {\n                compileClasspath += main.output + test.output\n                runtimeClasspath += main.output + test.output\n                srcDir file('src/integrationTest/java')\n                // note that you'll need to specify the outputDir for it to work\n                // I don't fully get the reasons for this (but I rarely do when it comes to gradle anyway)\n                outputDir = file(&quot;build/classes/java/integrationTest&quot;)\n            }\n            resources {\n                srcDir file('src/integrationTest/resources')\n            }\n        }\n    }\n}\n</code></pre>\n<p>Doing so made intelliJ instantly recognize my integration-test folder like the test-source it is ...</p>\n<p>[Small rant] I could not find trace of the appropriate corresponding gradle doc and as often I find info on how it works from retro-engineering or scarce hints in this case trial/error+ IntelliJ youtrack ticket (which says a lot on how poorly gradle is documented in my view ...)</p>\n<p>Note that I am on</p>\n<ul>\n<li>Intellij : IntelliJ IDEA 2021.3.2 <em>(Ultimate Edition)</em> Build #IU-213.6777.52</li>\n<li>Gradle : 6.7.1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6830764,"reputation":467,"user_id":5254851,"accept_rate":50,"display_name":"Radosław Panuszewski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697121355,"creation_date":1697120944,"answer_id":77281494,"question_id":42064377,"body_markdown":"With Gradle 7.4+ and Kotlin DSL you can do it like that:\r\n\r\n```kotlin\r\nplugins {\r\n    `idea`\r\n}\r\n\r\nidea {\r\n    module {\r\n        testSources.from(sourceSets.integration.get().allSource.srcDirs)\r\n    }\r\n}\r\n```\r\n\r\nThe above example assumes that you use the [coditory/gradle-integration-test-plugin](https://github.com/coditory/gradle-integration-test-plugin) (which registers the `integration` source set):\r\n```kotlin\r\nplugins {\r\n    id(&quot;com.coditory.integration-test&quot;) version &quot;1.4.5&quot;\r\n}\r\n```\r\nBut should also work if you register your integration test source set in any other way. You may only need to change `sourceSets.integration` to `sourceSets.yourNameOfTheSourceSet`.","title":"Mark Gradle source folder as test source in IntelliJ","body":"<p>With Gradle 7.4+ and Kotlin DSL you can do it like that:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    `idea`\n}\n\nidea {\n    module {\n        testSources.from(sourceSets.integration.get().allSource.srcDirs)\n    }\n}\n</code></pre>\n<p>The above example assumes that you use the <a href=\"https://github.com/coditory/gradle-integration-test-plugin\" rel=\"nofollow noreferrer\">coditory/gradle-integration-test-plugin</a> (which registers the <code>integration</code> source set):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;com.coditory.integration-test&quot;) version &quot;1.4.5&quot;\n}\n</code></pre>\n<p>But should also work if you register your integration test source set in any other way. You may only need to change <code>sourceSets.integration</code> to <code>sourceSets.yourNameOfTheSourceSet</code>.</p>\n"}],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17471,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":4,"score":25,"last_activity_date":1697121355,"creation_date":1486373519,"question_id":42064377,"body_markdown":"I have an integration test source folder set up in gradle like so:\r\n\r\n    subprojects {\r\n    \tapply plugin: &#39;java&#39;\r\n    \tapply plugin: &#39;idea&#39;\r\n    \r\n    \tsourceCompatibility = 1.8\r\n    \r\n    \tconfigurations {\r\n    \t\tintegrationTestCompile.extendsFrom testCompile\r\n    \t\tintegrationTestCompileOnly.extendsFrom integrationTestCompile\r\n    \t\tintegrationTestCompileOnly.extendsFrom testCompileOnly\r\n    \t\tintegrationTestRuntime.extendsFrom testRuntime\r\n    \t}\r\n    \r\n    \tsourceSets {\r\n    \t\tintegrationTest {\r\n    \t\t\tjava {\r\n    \t\t\t\tcompileClasspath += main.output + test.output\r\n    \t\t\t\truntimeClasspath += main.output + test.output\r\n    \t\t\t\tsrcDir file(&#39;src/integrationTest/java&#39;)\r\n    \t\t\t}\r\n    \t\t\tresources.srcDir file(&#39;src/integrationTest/resources&#39;)\r\n    \t\t}\r\n    \t}\r\n\r\n    \ttask integrationTest(type:Test) {\r\n    \t\ttestClassesDir = sourceSets.integrationTest.output.classesDir\r\n    \t\tclasspath = sourceSets.integrationTest.runtimeClasspath\r\n    \t\toutputs.upToDateWhen { false }\r\n    \t}\r\n    }\r\n\r\nFor executing the tests, this works perfectly well, but it causes problems with IntelliJ&#39;s inspections, which may change behavior for test code. IntelliJ does not recognize the source folder as test source.\r\n\r\nI tried adding them as such (inside `subprojects`):\r\n\r\n\r\n\tidea {\r\n\t\tmodule {\r\n\t\t\ttestSourceDirs += file(&#39;src/integrationTest/java&#39;)\r\n\t\t}\r\n\t}\r\n\r\nbut that did not help at all. I also tried manually marking them as test source (context menu -&gt; mark directory as -&gt; test sources root), but IntelliJ quickly overrides that back to normal source root.\r\n\r\nHow do I configure this correctly in Gradle?\r\n\r\nI&#39;m using IntelliJ 2016.1.3 and Gradle 2.14.1 on Ubuntu 16.04","title":"Mark Gradle source folder as test source in IntelliJ","body":"<p>I have an integration test source folder set up in gradle like so:</p>\n\n<pre><code>subprojects {\n    apply plugin: 'java'\n    apply plugin: 'idea'\n\n    sourceCompatibility = 1.8\n\n    configurations {\n        integrationTestCompile.extendsFrom testCompile\n        integrationTestCompileOnly.extendsFrom integrationTestCompile\n        integrationTestCompileOnly.extendsFrom testCompileOnly\n        integrationTestRuntime.extendsFrom testRuntime\n    }\n\n    sourceSets {\n        integrationTest {\n            java {\n                compileClasspath += main.output + test.output\n                runtimeClasspath += main.output + test.output\n                srcDir file('src/integrationTest/java')\n            }\n            resources.srcDir file('src/integrationTest/resources')\n        }\n    }\n\n    task integrationTest(type:Test) {\n        testClassesDir = sourceSets.integrationTest.output.classesDir\n        classpath = sourceSets.integrationTest.runtimeClasspath\n        outputs.upToDateWhen { false }\n    }\n}\n</code></pre>\n\n<p>For executing the tests, this works perfectly well, but it causes problems with IntelliJ's inspections, which may change behavior for test code. IntelliJ does not recognize the source folder as test source.</p>\n\n<p>I tried adding them as such (inside <code>subprojects</code>):</p>\n\n<pre><code>idea {\n    module {\n        testSourceDirs += file('src/integrationTest/java')\n    }\n}\n</code></pre>\n\n<p>but that did not help at all. I also tried manually marking them as test source (context menu -> mark directory as -> test sources root), but IntelliJ quickly overrides that back to normal source root.</p>\n\n<p>How do I configure this correctly in Gradle?</p>\n\n<p>I'm using IntelliJ 2016.1.3 and Gradle 2.14.1 on Ubuntu 16.04</p>\n"},{"tags":["java","xml","dom","memory"],"comments":[{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1313492538,"post_id":7077068,"comment_id":8469118,"body_markdown":"possible duplicate of [How to transform huge xml files in java?](http://stackoverflow.com/questions/2773733/how-to-transform-huge-xml-files-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2773733/how-to-transform-huge-xml-files-in-java\">How to transform huge xml files in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1313492348,"creation_date":1313492348,"answer_id":7077116,"question_id":7077068,"body_markdown":"It does load the entire file and constructs a tree structure in memory. Thus, every single tag, attribute and any nested tags (no matter how many levels of nesting) will be loaded. It is just that the constructed tree grows bigger the larger the XML file you have.","title":"How does file loading in DOM work?","body":"<p>It does load the entire file and constructs a tree structure in memory. Thus, every single tag, attribute and any nested tags (no matter how many levels of nesting) will be loaded. It is just that the constructed tree grows bigger the larger the XML file you have.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313492359,"creation_date":1313492359,"answer_id":7077120,"question_id":7077068,"body_markdown":"Yes, DOM reads the whole document, parses it, and places it in memory. ","title":"How does file loading in DOM work?","body":"<p>Yes, DOM reads the whole document, parses it, and places it in memory. </p>\n"},{"tags":[],"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313492564,"creation_date":1313492564,"answer_id":7077171,"question_id":7077068,"body_markdown":"If you&#39;re parsing using DOM, you do something similar to this:\r\n\r\n     DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n     Document doc = builder.parse(file);\r\n\r\n(inside a try/catch)\r\n\r\nThe moment the parse is executed, the `Document doc` variable will contain the entire document represented as a DOM  hierarchy.","title":"How does file loading in DOM work?","body":"<p>If you're parsing using DOM, you do something similar to this:</p>\n\n<pre><code> DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n Document doc = builder.parse(file);\n</code></pre>\n\n<p>(inside a try/catch)</p>\n\n<p>The moment the parse is executed, the <code>Document doc</code> variable will contain the entire document represented as a DOM  hierarchy.</p>\n"},{"tags":[],"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697121233,"creation_date":1686064135,"answer_id":76416032,"question_id":7077068,"body_markdown":"    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    File fin = new File(&quot;items.xml&quot;); //getxml\r\n    Document doc = builder.parse(fin); //parse into document/root element\r\n    XPathFactory xpFactory = XPathFactory.newInstance();\r\n    XPath path = xpFactory.newXPath(); //Xpath object used to query &quot;doc&quot;\r\n\r\nFor example:\r\n\r\n    String result = path.evaluate(&quot;/items/item[1]/quantity&quot;, doc);\r\n    System.out.println(&quot;quantity of product[1] = &quot; + result);\r\n\r\n\r\n    package za.nmu.wrpv.example02androidclient;\r\n    //\r\n    NETWORK\r\npackage za.nmu.wrpv.example02androidclient;\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void onConnectClicked(View view) {\r\n            // Get server address.\r\n            EditText edtServerAddress = findViewById(R.id.edtServerAddress);\r\n            String address = edtServerAddress.getText().toString();\r\n    \r\n            // Start other communication activity, passing server address.\r\n            Intent intent = new Intent(this, CommunicationActivity.class);\r\n            intent.putExtra(&quot;Server Address&quot;, address);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n      \r\n\r\n  \r\n    public class CommunicationActivity extends AppCompatActivity {\r\n        private ArrayAdapter&lt;String&gt; adapter;\r\n        private String serverAddress;\r\n        private CommunicationThread communicationThread = null;\r\n        private ListView lstMessages;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_communication);\r\n    \r\n            // Add event handler for when user presses enter key.\r\n            EditText edtMessage = findViewById(R.id.edtMessage);\r\n            edtMessage.setOnKeyListener((view, i, keyEvent) -&gt; {\r\n                // If not busy communicating, do nothing.\r\n                if(communicationThread == null) return false;\r\n    \r\n                // Did not press the enter key, do nothing.\r\n                if ((keyEvent.getKeyCode() != KeyEvent.KEYCODE_ENTER)\r\n                        || (keyEvent.getAction() != KeyEvent.ACTION_DOWN)) return false;\r\n    \r\n                // Busy communicating with server and pressed enter key, so send message.\r\n                String message = edtMessage.getText().toString();\r\n    \r\n                // Call method to send message on output stream to server. CANNOT be done\r\n                // on the UI thread.\r\n                new Thread(() -&gt; communicationThread.sendMessage(message)).start();\r\n    \r\n                // Clear the edit text.\r\n                edtMessage.setText(&quot;&quot;);\r\n    \r\n                // Done, so indicate processed event.\r\n                return true;\r\n            });\r\n    \r\n            // RecyclerView is the more &quot;current&quot; way of doing it, but the set up code\r\n            // is a LOT longer - so not really worth the effort for this example.\r\n            lstMessages = findViewById(R.id.lstMessages);\r\n            adapter = new ArrayAdapter&lt;String&gt;(this,\r\n                    android.R.layout.simple_list_item_activated_1,\r\n                    android.R.id.text1,\r\n                    new ArrayList&lt;String&gt;());\r\n            lstMessages.setAdapter(adapter);\r\n    \r\n            // Check whether have permission to use the internet.\r\n            boolean hasPermission =\r\n                    checkSelfPermission(Manifest.permission.INTERNET) ==\r\n                            PackageManager.PERMISSION_GRANTED;\r\n    \r\n            // Get server address from intent.\r\n            try {\r\n                serverAddress = getIntent().getExtras().getString(&quot;Server Address&quot;);\r\n            } catch (Exception e) {\r\n                serverAddress = &quot;Undefined&quot;;\r\n            }\r\n    \r\n            // Display initial settings.\r\n            addMessage(&quot;Internet Permission = &quot; + hasPermission\r\n                    + &quot;\\nServer Address = &quot; + serverAddress);\r\n    \r\n            // Open connection.\r\n            openConnection();\r\n        }\r\n    \r\n        private void openConnection() {\r\n            communicationThread = new CommunicationThread(\r\n                    serverAddress, // Address to connect too\r\n                    value -&gt; runOnUiThread(() -&gt; addMessage(value)), // How to display messages.\r\n                    () -&gt; runOnUiThread(() -&gt; finish())); // What to do when connection closed.\r\n            communicationThread.start();\r\n        }\r\n    \r\n        public void addMessage(String message) {\r\n            adapter.add(message);\r\n            lstMessages.setSelection(adapter.getCount() - 1);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n    \r\n            if (communicationThread == null) return;\r\n    \r\n            // Send message to server to let it know that the connection is to be\r\n            // terminated.\r\n            new Thread(() -&gt; communicationThread.sendMessage(&quot;TERMINATE&quot;)).start();\r\n        }\r\n    }\r\n\r\n    public class CommunicationThread extends Thread {\r\n        // Server IP address.\r\n        private String serverAddress;\r\n        // Displayer function to display messages on...\r\n        private Displayer&lt;String&gt; displayer;\r\n        // Code to call when communication is completed...\r\n        private Runnable onCompleted;\r\n    \r\n        // Network communication fields\r\n        private Socket conn = null;\r\n        private ObjectOutputStream oos = null;\r\n        private ObjectInputStream ois = null;\r\n    \r\n        public CommunicationThread(String serverAddress, Displayer&lt;String&gt; displayer, Runnable onCompleted) {\r\n            super(serverAddress);\r\n            this.serverAddress = serverAddress;\r\n            this.displayer = displayer;\r\n            this.onCompleted = onCompleted;\r\n        }\r\n    \r\n        // Called by another thread to send a message.\r\n        public void sendMessage(String message) {\r\n            try {\r\n                oos.writeObject(&quot;CLIENT&gt;&gt;&gt; &quot; + message);\r\n                oos.flush();\r\n                display(&quot;CLIENT&gt;&gt;&gt;&quot; + message);\r\n            } catch (IOException ioException) {\r\n                display(&quot;ERROR: Error writing object&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Connect to server.\r\n                conn = new Socket(serverAddress, 5001);\r\n                display(&quot;Connecting to: &quot; + conn.getInetAddress().getHostName());\r\n    \r\n                // Get and initialise streams.\r\n                oos = new ObjectOutputStream(conn.getOutputStream());\r\n                oos.flush();\r\n                ois = new ObjectInputStream(conn.getInputStream());\r\n                display(&quot;Got I/O streams&quot;);\r\n    \r\n                // Read messages from server until told to terminate.\r\n                String message = &quot;&quot;;\r\n    \r\n                do {\r\n                    message = (String) ois.readObject();\r\n                    display(message);\r\n                } while (!message.equals(&quot;SERVER&gt;&gt;&gt; TERMINATE&quot;));\r\n    \r\n            } catch (Exception e) {\r\n                display(&quot;ERROR: &quot; + e.getMessage());\r\n    \r\n            } finally {\r\n                // Close connection.\r\n                close();\r\n    \r\n                display(&quot;Disconnected...&quot;);\r\n            }\r\n        }\r\n    \r\n        private void display(String message) {\r\n            // If not displayer provided, do nothing.\r\n            if(displayer == null) return;\r\n    \r\n            // Otherwise, display it.\r\n            displayer.display(message);\r\n        }\r\n    \r\n        private void close() {\r\n            try {\r\n                conn.close();\r\n    \r\n                // Was an onCompleted runnable provided? If so, run it.\r\n                if(onCompleted != null) onCompleted.run();\r\n    \r\n            } catch (Exception e) {\r\n                display(&quot;ERROR: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }","title":"How does file loading in DOM work?","body":"<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\nFile fin = new File(&quot;items.xml&quot;); //getxml\nDocument doc = builder.parse(fin); //parse into document/root element\nXPathFactory xpFactory = XPathFactory.newInstance();\nXPath path = xpFactory.newXPath(); //Xpath object used to query &quot;doc&quot;\n</code></pre>\n<p>For example:</p>\n<pre><code>String result = path.evaluate(&quot;/items/item[1]/quantity&quot;, doc);\nSystem.out.println(&quot;quantity of product[1] = &quot; + result);\n\n\npackage za.nmu.wrpv.example02androidclient;\n//\nNETWORK\n</code></pre>\n<p>package za.nmu.wrpv.example02androidclient;</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void onConnectClicked(View view) {\n        // Get server address.\n        EditText edtServerAddress = findViewById(R.id.edtServerAddress);\n        String address = edtServerAddress.getText().toString();\n\n        // Start other communication activity, passing server address.\n        Intent intent = new Intent(this, CommunicationActivity.class);\n        intent.putExtra(&quot;Server Address&quot;, address);\n        startActivity(intent);\n    }\n}\n  \n\n\npublic class CommunicationActivity extends AppCompatActivity {\n    private ArrayAdapter&lt;String&gt; adapter;\n    private String serverAddress;\n    private CommunicationThread communicationThread = null;\n    private ListView lstMessages;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_communication);\n\n        // Add event handler for when user presses enter key.\n        EditText edtMessage = findViewById(R.id.edtMessage);\n        edtMessage.setOnKeyListener((view, i, keyEvent) -&gt; {\n            // If not busy communicating, do nothing.\n            if(communicationThread == null) return false;\n\n            // Did not press the enter key, do nothing.\n            if ((keyEvent.getKeyCode() != KeyEvent.KEYCODE_ENTER)\n                    || (keyEvent.getAction() != KeyEvent.ACTION_DOWN)) return false;\n\n            // Busy communicating with server and pressed enter key, so send message.\n            String message = edtMessage.getText().toString();\n\n            // Call method to send message on output stream to server. CANNOT be done\n            // on the UI thread.\n            new Thread(() -&gt; communicationThread.sendMessage(message)).start();\n\n            // Clear the edit text.\n            edtMessage.setText(&quot;&quot;);\n\n            // Done, so indicate processed event.\n            return true;\n        });\n\n        // RecyclerView is the more &quot;current&quot; way of doing it, but the set up code\n        // is a LOT longer - so not really worth the effort for this example.\n        lstMessages = findViewById(R.id.lstMessages);\n        adapter = new ArrayAdapter&lt;String&gt;(this,\n                android.R.layout.simple_list_item_activated_1,\n                android.R.id.text1,\n                new ArrayList&lt;String&gt;());\n        lstMessages.setAdapter(adapter);\n\n        // Check whether have permission to use the internet.\n        boolean hasPermission =\n                checkSelfPermission(Manifest.permission.INTERNET) ==\n                        PackageManager.PERMISSION_GRANTED;\n\n        // Get server address from intent.\n        try {\n            serverAddress = getIntent().getExtras().getString(&quot;Server Address&quot;);\n        } catch (Exception e) {\n            serverAddress = &quot;Undefined&quot;;\n        }\n\n        // Display initial settings.\n        addMessage(&quot;Internet Permission = &quot; + hasPermission\n                + &quot;\\nServer Address = &quot; + serverAddress);\n\n        // Open connection.\n        openConnection();\n    }\n\n    private void openConnection() {\n        communicationThread = new CommunicationThread(\n                serverAddress, // Address to connect too\n                value -&gt; runOnUiThread(() -&gt; addMessage(value)), // How to display messages.\n                () -&gt; runOnUiThread(() -&gt; finish())); // What to do when connection closed.\n        communicationThread.start();\n    }\n\n    public void addMessage(String message) {\n        adapter.add(message);\n        lstMessages.setSelection(adapter.getCount() - 1);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n\n        if (communicationThread == null) return;\n\n        // Send message to server to let it know that the connection is to be\n        // terminated.\n        new Thread(() -&gt; communicationThread.sendMessage(&quot;TERMINATE&quot;)).start();\n    }\n}\n\npublic class CommunicationThread extends Thread {\n    // Server IP address.\n    private String serverAddress;\n    // Displayer function to display messages on...\n    private Displayer&lt;String&gt; displayer;\n    // Code to call when communication is completed...\n    private Runnable onCompleted;\n\n    // Network communication fields\n    private Socket conn = null;\n    private ObjectOutputStream oos = null;\n    private ObjectInputStream ois = null;\n\n    public CommunicationThread(String serverAddress, Displayer&lt;String&gt; displayer, Runnable onCompleted) {\n        super(serverAddress);\n        this.serverAddress = serverAddress;\n        this.displayer = displayer;\n        this.onCompleted = onCompleted;\n    }\n\n    // Called by another thread to send a message.\n    public void sendMessage(String message) {\n        try {\n            oos.writeObject(&quot;CLIENT&gt;&gt;&gt; &quot; + message);\n            oos.flush();\n            display(&quot;CLIENT&gt;&gt;&gt;&quot; + message);\n        } catch (IOException ioException) {\n            display(&quot;ERROR: Error writing object&quot;);\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            // Connect to server.\n            conn = new Socket(serverAddress, 5001);\n            display(&quot;Connecting to: &quot; + conn.getInetAddress().getHostName());\n\n            // Get and initialise streams.\n            oos = new ObjectOutputStream(conn.getOutputStream());\n            oos.flush();\n            ois = new ObjectInputStream(conn.getInputStream());\n            display(&quot;Got I/O streams&quot;);\n\n            // Read messages from server until told to terminate.\n            String message = &quot;&quot;;\n\n            do {\n                message = (String) ois.readObject();\n                display(message);\n            } while (!message.equals(&quot;SERVER&gt;&gt;&gt; TERMINATE&quot;));\n\n        } catch (Exception e) {\n            display(&quot;ERROR: &quot; + e.getMessage());\n\n        } finally {\n            // Close connection.\n            close();\n\n            display(&quot;Disconnected...&quot;);\n        }\n    }\n\n    private void display(String message) {\n        // If not displayer provided, do nothing.\n        if(displayer == null) return;\n\n        // Otherwise, display it.\n        displayer.display(message);\n    }\n\n    private void close() {\n        try {\n            conn.close();\n\n            // Was an onCompleted runnable provided? If so, run it.\n            if(onCompleted != null) onCompleted.run();\n\n        } catch (Exception e) {\n            display(&quot;ERROR: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":772679,"reputation":55,"user_id":896509,"display_name":"Stephen Butler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7077116,"answer_count":4,"score":2,"last_activity_date":1697121233,"creation_date":1313492136,"question_id":7077068,"body_markdown":"I&#39;ve been looking at loading XML files with Java and I just can&#39;t seem to decipher a certain part of it.\r\nI understand that SAX is a streaming mechanism, but when talking about DOM, various sites talk about the model &quot;loading in the full file&quot; or &quot;loading in the all tags&quot;, supported by the recommendation to use SAX with large XML files.\r\n\r\nTo what degree does DOM actually load the full file? The second I access the root node, does it allocate program memory for every single byte of the file? Does it only load tags until the lowest level when it loads text contents?\r\n\r\nI&#39;m going to be working with large files, but random access would be useful and editing is a requirement, so I believe DOM is the best choice for me.\r\n\r\nThanks a lot.","title":"How does file loading in DOM work?","body":"<p>I've been looking at loading XML files with Java and I just can't seem to decipher a certain part of it.\nI understand that SAX is a streaming mechanism, but when talking about DOM, various sites talk about the model \"loading in the full file\" or \"loading in the all tags\", supported by the recommendation to use SAX with large XML files.</p>\n\n<p>To what degree does DOM actually load the full file? The second I access the root node, does it allocate program memory for every single byte of the file? Does it only load tags until the lowest level when it loads text contents?</p>\n\n<p>I'm going to be working with large files, but random access would be useful and editing is a requirement, so I believe DOM is the best choice for me.</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1697123600,"post_id":77281510,"comment_id":136242983,"body_markdown":"By default, the shortcut for autocomplete is Ctrl+Space, not Tab.","body":"By default, the shortcut for autocomplete is Ctrl+Space, not Tab."}],"owner":{"account_id":18226112,"reputation":21,"user_id":13265877,"display_name":"Abhishek Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697121061,"creation_date":1697121061,"question_id":77281510,"body_markdown":"My system is MacOS Ventura 13.2.1 (22D68) and eclipse version is : 2023-09 (4.29.0). \r\n\r\nsysout tab doesn&#39;t autocomplete to `System.out.print()` or `System.out.print()`. Also the suggestion code doesn&#39;t autocomplete many a times. Is there any extension in Eclipse Marketplace to smoothen these things?","title":"eclipse IDE autocomplete extensions","body":"<p>My system is MacOS Ventura 13.2.1 (22D68) and eclipse version is : 2023-09 (4.29.0).</p>\n<p>sysout tab doesn't autocomplete to <code>System.out.print()</code> or <code>System.out.print()</code>. Also the suggestion code doesn't autocomplete many a times. Is there any extension in Eclipse Marketplace to smoothen these things?</p>\n"},{"tags":["java","wcf","client","axis"],"answers":[{"tags":[],"owner":{"account_id":48546,"reputation":990,"user_id":144290,"accept_rate":75,"display_name":"devson"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1697120840,"creation_date":1279782946,"answer_id":3306573,"question_id":3299075,"body_markdown":"BasicHttpBinding or webHttpBinidng (REST services) are the only option to interact with non-microsoft technologies.\r\nBasicHttpBinding is only binding which supports the Basic Profile 1.1 for interoperability. \r\n\r\nPlease go through below links and see if they can help you out to understand basic and ws bidning.\r\n\r\nhttp://www.devproconnections.com/article/net-framework2/choosing-the-right-web-service-binding.aspx\r\n\r\n[Link](https://web.archive.org/web/20161223065644/http://geekswithblogs.net/claeyskurt/archive/2008/04/22/121508.aspx)","title":"How to create java client using AXis 1.4 for consuming WCF service using wsHttpBinding","body":"<p>BasicHttpBinding or webHttpBinidng (REST services) are the only option to interact with non-microsoft technologies.\nBasicHttpBinding is only binding which supports the Basic Profile 1.1 for interoperability.</p>\n<p>Please go through below links and see if they can help you out to understand basic and ws bidning.</p>\n<p><a href=\"http://www.devproconnections.com/article/net-framework2/choosing-the-right-web-service-binding.aspx\" rel=\"nofollow noreferrer\">http://www.devproconnections.com/article/net-framework2/choosing-the-right-web-service-binding.aspx</a></p>\n<p><a href=\"https://web.archive.org/web/20161223065644/http://geekswithblogs.net/claeyskurt/archive/2008/04/22/121508.aspx\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":[],"owner":{"account_id":3869387,"reputation":41,"user_id":3205043,"display_name":"vincent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395687874,"creation_date":1394188774,"answer_id":22247791,"question_id":3299075,"body_markdown":"When you use Axis to generate proxy for a WCF service, it generates the  stub that automatically sets the `MustUnderstand` header for `http://www.w3.org/2005/08/addressing`\r\n\r\nThe code below  resets the MustUnderstand flag back to false. for the method being invoked. I had a similar issue today and was able to resolve using the code that&#39;s posted here\r\n\r\n    //maybe someother service stub,i show you a case\r\n        CommentWcfServiceLocator locator =new CommentWcfServiceLocator();\r\n        WSHttpBinding_ICommentServiceStub stub;\r\n        try {\t\t\r\n        //get a stub and set service url\r\n        stub = (WSHttpBinding_ICommentServiceStub)   locator.getWSHttpBinding_ICommentService(new         java.net.URL(&quot;http://www.google.com/CommentWcfService.svc&quot;));\r\n    \r\n        // the key is here , importantest!!! follow this\r\n        // set action, action path,you can find in your java code\r\n        SOAPHeaderElement action = new SOAPHeaderElement(new QName(&quot;wsa:Action&quot;),     &quot;http://tempuri.org/ICommentService/GetCommentSummaryByHotelId&quot;);\r\n        SOAPHeaderElement to = new SOAPHeaderElement(new QName(&quot;wsa:To&quot;),\r\n        stub._getProperty(javax.xml.rpc.Stub.ENDPOINT_ADDRESS_PROPERTY));\r\n    \t\taction.setActor(null);\r\n    \t\taction.setNamespaceURI(&quot;http://www.w3.org/2005/08/addressing&quot;);\r\n    \t\tto.setActor(null);\r\n    \t\tto.setNamespaceURI(&quot;http://www.w3.org/2005/08/addressing&quot;);\r\n    \t\t // set header\r\n                    stub.setHeader(action);\r\n    \t\tstub.setHeader(to);\r\n                    // must set this property\r\n    \t\tstub._setProperty(Call.CHECK_MUST_UNDERSTAND, Boolean.FALSE);\r\n    \t\t\tstub.getCommentSummaryByHotelId(&quot;&quot;,&quot;02201158&quot;, 0);\r\n    \t} \r\n    catch(Exception EX){}\r\n\r\nI found the [this post][1] on MustUnderstand veru helpful. \r\n\r\n\r\n  [1]: http://wso2.com/library/tutorials/understand-famous-did-not-understand-mustunderstand-header-s-error/","title":"How to create java client using AXis 1.4 for consuming WCF service using wsHttpBinding","body":"<p>When you use Axis to generate proxy for a WCF service, it generates the  stub that automatically sets the <code>MustUnderstand</code> header for <code>http://www.w3.org/2005/08/addressing</code></p>\n\n<p>The code below  resets the MustUnderstand flag back to false. for the method being invoked. I had a similar issue today and was able to resolve using the code that's posted here</p>\n\n<pre><code>//maybe someother service stub,i show you a case\n    CommentWcfServiceLocator locator =new CommentWcfServiceLocator();\n    WSHttpBinding_ICommentServiceStub stub;\n    try {       \n    //get a stub and set service url\n    stub = (WSHttpBinding_ICommentServiceStub)   locator.getWSHttpBinding_ICommentService(new         java.net.URL(\"http://www.google.com/CommentWcfService.svc\"));\n\n    // the key is here , importantest!!! follow this\n    // set action, action path,you can find in your java code\n    SOAPHeaderElement action = new SOAPHeaderElement(new QName(\"wsa:Action\"),     \"http://tempuri.org/ICommentService/GetCommentSummaryByHotelId\");\n    SOAPHeaderElement to = new SOAPHeaderElement(new QName(\"wsa:To\"),\n    stub._getProperty(javax.xml.rpc.Stub.ENDPOINT_ADDRESS_PROPERTY));\n        action.setActor(null);\n        action.setNamespaceURI(\"http://www.w3.org/2005/08/addressing\");\n        to.setActor(null);\n        to.setNamespaceURI(\"http://www.w3.org/2005/08/addressing\");\n         // set header\n                stub.setHeader(action);\n        stub.setHeader(to);\n                // must set this property\n        stub._setProperty(Call.CHECK_MUST_UNDERSTAND, Boolean.FALSE);\n            stub.getCommentSummaryByHotelId(\"\",\"02201158\", 0);\n    } \ncatch(Exception EX){}\n</code></pre>\n\n<p>I found the <a href=\"http://wso2.com/library/tutorials/understand-famous-did-not-understand-mustunderstand-header-s-error/\" rel=\"nofollow\">this post</a> on MustUnderstand veru helpful. </p>\n"}],"owner":{"account_id":633423,"reputation":31,"user_id":397924,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7318,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697120840,"creation_date":1279714756,"question_id":3299075,"body_markdown":"I have created a java client for consuming WCF service using axis 1.4. If I use basicHttpBinding than everything works fine, but if I use wsHttpBinding than I am getting following error:-\r\n\r\n    Did not understand &quot;MustUnderstand&quot; header(s):{http://www.w3.org/2005/08/addressing}Action\r\n    AxisFault\r\n     faultCode: {http://www.w3.org/2003/05/soap-envelope}MustUnderstand\r\n     faultSubcode: \r\n     faultString: Did not understand &amp;quot;MustUnderstand&amp;quot; header(s):{http://www.w3.org/2005/08/addressing}Action\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}stackTrace:\r\n    \tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:96)\r\n    \tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n    \tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat org.tempuri.WSHttpBinding_IService1Stub.getData(WSHttpBinding_IService1Stub.java:171)\r\n    \tat Mytes.main(Mytes.java:14)\r\n    \r\n    \t{http://xml.apache.org/axis/}hostname:2207A-H7-SITA\r\n    \r\n    Did not understand &quot;MustUnderstand&quot; header(s):{http://www.w3.org/2005/08/addressing}Action\r\n    \tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:96)\r\n    \tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n    \tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat org.tempuri.WSHttpBinding_IService1Stub.getData(WSHttpBinding_IService1Stub.java:171)\r\n    \tat Mytes.main(Mytes.java:14)\r\n\r\nPls let me know how can I resolve this error. Thanks.\r\n","title":"How to create java client using AXis 1.4 for consuming WCF service using wsHttpBinding","body":"<p>I have created a java client for consuming WCF service using axis 1.4. If I use basicHttpBinding than everything works fine, but if I use wsHttpBinding than I am getting following error:-</p>\n\n<pre><code>Did not understand \"MustUnderstand\" header(s):{http://www.w3.org/2005/08/addressing}Action\nAxisFault\n faultCode: {http://www.w3.org/2003/05/soap-envelope}MustUnderstand\n faultSubcode: \n faultString: Did not understand &amp;quot;MustUnderstand&amp;quot; header(s):{http://www.w3.org/2005/08/addressing}Action\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}stackTrace:\n    at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:96)\n    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\n    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n    at org.apache.axis.client.Call.invoke(Call.java:2767)\n    at org.apache.axis.client.Call.invoke(Call.java:2443)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at org.tempuri.WSHttpBinding_IService1Stub.getData(WSHttpBinding_IService1Stub.java:171)\n    at Mytes.main(Mytes.java:14)\n\n    {http://xml.apache.org/axis/}hostname:2207A-H7-SITA\n\nDid not understand \"MustUnderstand\" header(s):{http://www.w3.org/2005/08/addressing}Action\n    at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:96)\n    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\n    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n    at org.apache.axis.client.Call.invoke(Call.java:2767)\n    at org.apache.axis.client.Call.invoke(Call.java:2443)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at org.tempuri.WSHttpBinding_IService1Stub.getData(WSHttpBinding_IService1Stub.java:171)\n    at Mytes.main(Mytes.java:14)\n</code></pre>\n\n<p>Pls let me know how can I resolve this error. Thanks.</p>\n"},{"tags":["java","spring","exception","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1488229067,"creation_date":1264083557,"answer_id":2109828,"question_id":2109476,"body_markdown":"Spring 3 provides two ways of handling this - `HandlerExceptionResolver` in your beans.xml, or `@ExceptionHandler` in your controller. They both do the same thing - they turn the exception into a view to render.\r\n\r\nBoth are documented [here][1].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-exceptionhandlers","title":"How to handle DataIntegrityViolationException in Spring?","body":"<p>Spring 3 provides two ways of handling this - <code>HandlerExceptionResolver</code> in your beans.xml, or <code>@ExceptionHandler</code> in your controller. They both do the same thing - they turn the exception into a view to render.</p>\n\n<p>Both are documented <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-exceptionhandlers\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1264902017,"creation_date":1264090897,"answer_id":2110836,"question_id":2109476,"body_markdown":"The problem with showing user-friendly messages in the case of constraint violation is that the constraint name is lost when Hibernate&#39;s `ConstraintViolationException` is being translated into Spring&#39;s `DataIntegrityViolationException`.\r\n\r\nHowever, you can customize this translation logic. If you use `LocalSessionFactoryBean` to access Hibernate, you can supply it with a custom `SQLExceptionTranslator` (see `LocalSessionFactoryBean.jdbcExceptionTranslator`). This exception translator can translate a `ConstraintViolationException` into your own exception class, preserving the constraint name.","title":"How to handle DataIntegrityViolationException in Spring?","body":"<p>The problem with showing user-friendly messages in the case of constraint violation is that the constraint name is lost when Hibernate's <code>ConstraintViolationException</code> is being translated into Spring's <code>DataIntegrityViolationException</code>.</p>\n\n<p>However, you can customize this translation logic. If you use <code>LocalSessionFactoryBean</code> to access Hibernate, you can supply it with a custom <code>SQLExceptionTranslator</code> (see <code>LocalSessionFactoryBean.jdbcExceptionTranslator</code>). This exception translator can translate a <code>ConstraintViolationException</code> into your own exception class, preserving the constraint name.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1697120566,"creation_date":1487871215,"answer_id":42422568,"question_id":2109476,"body_markdown":"I treat `DataIntegrityViolationException` in &lt;a href=&quot;https://github.com/gkislin/topjava/blob/master/src/main/java/ru/javawebinar/topjava/web/ExceptionInfoHandler.java&quot;&gt;`ExceptionInfoHandler`&lt;/a&gt;, finding DB constraints occurrences in root cause message and convert it into i18n message via `constraintCodeMap`:\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionInfoHandler {\r\n\r\n      @Autowired\r\n      private final MessageSourceAccessor messageSourceAccessor;\r\n\r\n      private static Map&lt;String, String&gt; CONSTRAINS_I18N_MAP = Map.of(\r\n          &quot;users_unique_email_idx&quot;, EXCEPTION_DUPLICATE_EMAIL,\r\n          &quot;meals_unique_user_datetime_idx&quot;, EXCEPTION_DUPLICATE_DATETIME);\r\n\r\n      @ResponseStatus(value = HttpStatus.CONFLICT)  // 409\r\n      @ExceptionHandler(DataIntegrityViolationException.class)\r\n      public ErrorInfo conflict(HttpServletRequest req, DataIntegrityViolationException e) {\r\n        String rootMsg = ValidationUtil.getRootCause(e).getMessage();\r\n        if (rootMsg != null) {\r\n            String lowerCaseMsg = rootMsg.toLowerCase();\r\n            for (Map.Entry&lt;String, String&gt; entry : CONSTRAINS_I18N_MAP.entrySet()) {\r\n                if (lowerCaseMsg.contains(entry.getKey())) {\r\n                    return logAndGetErrorInfo(req, e, VALIDATION_ERROR, messageSourceAccessor.getMessage(entry.getValue()));\r\n                }\r\n            }\r\n        }\r\n        return logAndGetErrorInfo(req, e, DATA_ERROR);\r\n      }\r\n\r\n      //  https://stackoverflow.com/a/65442410/548473\r\n      @NonNull\r\n      private static Throwable getRootCause(@NonNull Throwable t) {\r\n        Throwable rootCause = NestedExceptionUtils.getRootCause(t);\r\n        return rootCause != null ? rootCause : t;\r\n      }\r\n      ...\r\n    }\r\n\r\nCan be simulated in my &lt;a href=&quot;http://topjava.herokuapp.com&quot;&gt;Java Enterprise training application&lt;/a&gt; by adding/editing user with duplicate mail or meal with duplicate dateTime.\r\n\r\n**UPDATE**:\r\n\r\nOther solution: use [Controller Based Exception Handling](https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#controller-based-exception-handling):\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/ajax/admin/users&quot;)\r\n    public class AdminAjaxController {\r\n\r\n        @ExceptionHandler(DataIntegrityViolationException.class)\r\n        public ResponseEntity&lt;ErrorInfo&gt; duplicateEmailException(HttpServletRequest req, DataIntegrityViolationException e) {\r\n            return exceptionInfoHandler.getErrorInfoResponseEntity(req, e, EXCEPTION_DUPLICATE_EMAIL, HttpStatus.CONFLICT);\r\n        }\r\n","title":"How to handle DataIntegrityViolationException in Spring?","body":"<p>I treat <code>DataIntegrityViolationException</code> in <a href=\"https://github.com/gkislin/topjava/blob/master/src/main/java/ru/javawebinar/topjava/web/ExceptionInfoHandler.java\" rel=\"nofollow noreferrer\"><code>ExceptionInfoHandler</code></a>, finding DB constraints occurrences in root cause message and convert it into i18n message via <code>constraintCodeMap</code>:</p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionInfoHandler {\n\n  @Autowired\n  private final MessageSourceAccessor messageSourceAccessor;\n\n  private static Map&lt;String, String&gt; CONSTRAINS_I18N_MAP = Map.of(\n      &quot;users_unique_email_idx&quot;, EXCEPTION_DUPLICATE_EMAIL,\n      &quot;meals_unique_user_datetime_idx&quot;, EXCEPTION_DUPLICATE_DATETIME);\n\n  @ResponseStatus(value = HttpStatus.CONFLICT)  // 409\n  @ExceptionHandler(DataIntegrityViolationException.class)\n  public ErrorInfo conflict(HttpServletRequest req, DataIntegrityViolationException e) {\n    String rootMsg = ValidationUtil.getRootCause(e).getMessage();\n    if (rootMsg != null) {\n        String lowerCaseMsg = rootMsg.toLowerCase();\n        for (Map.Entry&lt;String, String&gt; entry : CONSTRAINS_I18N_MAP.entrySet()) {\n            if (lowerCaseMsg.contains(entry.getKey())) {\n                return logAndGetErrorInfo(req, e, VALIDATION_ERROR, messageSourceAccessor.getMessage(entry.getValue()));\n            }\n        }\n    }\n    return logAndGetErrorInfo(req, e, DATA_ERROR);\n  }\n\n  //  https://stackoverflow.com/a/65442410/548473\n  @NonNull\n  private static Throwable getRootCause(@NonNull Throwable t) {\n    Throwable rootCause = NestedExceptionUtils.getRootCause(t);\n    return rootCause != null ? rootCause : t;\n  }\n  ...\n}\n</code></pre>\n<p>Can be simulated in my <a href=\"http://topjava.herokuapp.com\" rel=\"nofollow noreferrer\">Java Enterprise training application</a> by adding/editing user with duplicate mail or meal with duplicate dateTime.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>Other solution: use <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#controller-based-exception-handling\" rel=\"nofollow noreferrer\">Controller Based Exception Handling</a>:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/ajax/admin/users&quot;)\npublic class AdminAjaxController {\n\n    @ExceptionHandler(DataIntegrityViolationException.class)\n    public ResponseEntity&lt;ErrorInfo&gt; duplicateEmailException(HttpServletRequest req, DataIntegrityViolationException e) {\n        return exceptionInfoHandler.getErrorInfoResponseEntity(req, e, EXCEPTION_DUPLICATE_EMAIL, HttpStatus.CONFLICT);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573128390,"creation_date":1573128390,"answer_id":58748439,"question_id":2109476,"body_markdown":"**1. In your request body class check for not null or not empty like this**\r\n\r\n\r\n    public class CustomerRegisterRequestDto {\r\n        @NotEmpty(message = &quot;first name is empty&quot;)\r\n        @NotNull(message = Constants.EntityValidators.FIRST_NAME_NULL)\r\n        private String first_name;\r\n        //other fields\r\n        //getters and setters\r\n    }\r\n\r\n    \r\n\r\n\r\n**2. Then in your service check for this**\r\n\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n        Set&lt;ConstraintViolation&lt;CustomerRegisterRequestDto&gt;&gt; violations = validator.validate(userDto);\r\n        if (!violations.isEmpty()) {\r\n            //something is wrong in request parameters\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            for (ConstraintViolation&lt;CustomerRegisterRequestDto&gt; violation : violations) {\r\n                details.add(violation.getMessage());\r\n            }\r\n            ErrorResponse error = new ErrorResponse(Constants.ErrorResponse.REQUEST_PARAM_ERROR, details);\r\n            return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n**3. [Here][1] is your ErrorResponse class**\r\n\r\n\r\n  [1]: https://github.com/lokeshgupta1981/SpringExamples/blob/db5ca189f93de972d592f3864bd9e8fff8a19149/unit-testing/src/main/java/com/howtodoinjava/rest/exception/ErrorResponse.java\r\n","title":"How to handle DataIntegrityViolationException in Spring?","body":"<p><strong>1. In your request body class check for not null or not empty like this</strong></p>\n\n<pre><code>public class CustomerRegisterRequestDto {\n    @NotEmpty(message = \"first name is empty\")\n    @NotNull(message = Constants.EntityValidators.FIRST_NAME_NULL)\n    private String first_name;\n    //other fields\n    //getters and setters\n}\n</code></pre>\n\n<p><strong>2. Then in your service check for this</strong></p>\n\n<pre><code>ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;CustomerRegisterRequestDto&gt;&gt; violations = validator.validate(userDto);\n    if (!violations.isEmpty()) {\n        //something is wrong in request parameters\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        for (ConstraintViolation&lt;CustomerRegisterRequestDto&gt; violation : violations) {\n            details.add(violation.getMessage());\n        }\n        ErrorResponse error = new ErrorResponse(Constants.ErrorResponse.REQUEST_PARAM_ERROR, details);\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n\n<p><strong>3. <a href=\"https://github.com/lokeshgupta1981/SpringExamples/blob/db5ca189f93de972d592f3864bd9e8fff8a19149/unit-testing/src/main/java/com/howtodoinjava/rest/exception/ErrorResponse.java\" rel=\"nofollow noreferrer\">Here</a> is your ErrorResponse class</strong></p>\n"}],"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36911,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":2110836,"answer_count":4,"score":25,"last_activity_date":1697120566,"creation_date":1264080347,"question_id":2109476,"body_markdown":"I need to show custom messages in my Spring 3.0 application. I have a database with Hibernate and there are several constraints. I have doubts in how `DataIntegrityViolationException` should be handled in a good way. I wonder if there is a way to map the exception with a message set in a properties file, as it is possible in Constraints validation. Could I handle it automatically in any way or I have to catch this exception in each controller?\r\n","title":"How to handle DataIntegrityViolationException in Spring?","body":"<p>I need to show custom messages in my Spring 3.0 application. I have a database with Hibernate and there are several constraints. I have doubts in how <code>DataIntegrityViolationException</code> should be handled in a good way. I wonder if there is a way to map the exception with a message set in a properties file, as it is possible in Constraints validation. Could I handle it automatically in any way or I have to catch this exception in each controller?</p>\n"},{"tags":["java","ssl","rabbitmq","tls1.2"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697120524,"creation_date":1669740348,"answer_id":74617436,"question_id":74611390,"body_markdown":"`unknown ca` means that RabbitMQ/Erlang does not have the expected CA certificate available.\r\n\r\nPlease ensure that the CA that signed your client certificate is availabe to RabbitMQ and that RabbitMQ is configured to use it.\r\n\r\nhttps://www.rabbitmq.com/ssl.html#enabling-tls\r\n\r\nhttps://www.rabbitmq.com/troubleshooting-ssl.html\r\n","title":"Connection reset during TLS certificate verify (java + rabbit mq)","body":"<p><code>unknown ca</code> means that RabbitMQ/Erlang does not have the expected CA certificate available.</p>\n<p>Please ensure that the CA that signed your client certificate is availabe to RabbitMQ and that RabbitMQ is configured to use it.</p>\n<p><a href=\"https://www.rabbitmq.com/ssl.html#enabling-tls\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/ssl.html#enabling-tls</a></p>\n<p><a href=\"https://www.rabbitmq.com/troubleshooting-ssl.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/troubleshooting-ssl.html</a></p>\n"}],"owner":{"account_id":2232649,"reputation":455,"user_id":1969863,"accept_rate":64,"display_name":"athabaska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697120524,"creation_date":1669712150,"question_id":74611390,"body_markdown":"I am developing a java client to consume from rabbitmq (using amqp-client lib). All works fine until I start using ssl protocol. In java log I see \r\n&gt;java.net.SocketException: Connection reset\r\n\r\nAnd in rabbitmq logs there is only \r\n&gt;SSL: certify: ssl_handshake.erl:1490:Fatal error: unknown ca\r\n\r\nI have checked ceriticates, all seem fine. Then I enabled ssl debug in java. Looking at ssl logs it seems that actually server and client are interacting fine. I see that trusted certificate is found, clienthello and serverhello finish correctly, but at certificate verification step the connection is reset:\r\n\r\n    *** CertificateVerify\r\n    Signature Algorithm SHA512withRSA\r\n    [write] MD5 and SHA1 hashes:  len = 264\r\n    0000: 0F 00 01 04 06 01 01 00   60 E9 E3 AE 11 C5 34 76  ........`.....4v\r\n    ...\r\n    0100: A2 41 B2 48 5D DA BE 27                            .A.H]..&#39;\r\n    Thread-0, WRITE: TLSv1.2 Handshake, length = 264\r\n    Thread-0, waiting for close_notify or alert: state 1\r\n    Thread-0, Exception while waiting for close java.net.SocketException: Connection reset\r\n    Thread-0, handling exception: java.net.SocketException: Connection reset\r\n    %% Invalidated:  [Session-1, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256]\r\n    Thread-0, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\r\n    Thread-0, WRITE: TLSv1.2 Alert, length = 2\r\n    Thread-0, Exception sending alert: java.net.SocketException: Connection reset by peer: socket write error\r\n    Thread-0, called closeSocket()\r\n    Thread-0, called close()\r\n    Thread-0, called closeInternal(true)\r\n    java.net.SocketException: Connection reset\r\n\r\nI am not even sure how to interpret this, out of my depth here. The guides on debugging ssl/tls connections I&#39;ve found are not covering this part.\r\n\r\n-----------UPDATE-----------\r\n\r\nA bit more staring in logs, I noticed that in certificate chains of both server and client Signature Algorithm is SHA256withRSA, while for CertificateVerify message Signature Algorithm is SHA512withRSA. Can it be the reason?","title":"Connection reset during TLS certificate verify (java + rabbit mq)","body":"<p>I am developing a java client to consume from rabbitmq (using amqp-client lib). All works fine until I start using ssl protocol. In java log I see</p>\n<blockquote>\n<p>java.net.SocketException: Connection reset</p>\n</blockquote>\n<p>And in rabbitmq logs there is only</p>\n<blockquote>\n<p>SSL: certify: ssl_handshake.erl:1490:Fatal error: unknown ca</p>\n</blockquote>\n<p>I have checked ceriticates, all seem fine. Then I enabled ssl debug in java. Looking at ssl logs it seems that actually server and client are interacting fine. I see that trusted certificate is found, clienthello and serverhello finish correctly, but at certificate verification step the connection is reset:</p>\n<pre><code>*** CertificateVerify\nSignature Algorithm SHA512withRSA\n[write] MD5 and SHA1 hashes:  len = 264\n0000: 0F 00 01 04 06 01 01 00   60 E9 E3 AE 11 C5 34 76  ........`.....4v\n...\n0100: A2 41 B2 48 5D DA BE 27                            .A.H]..'\nThread-0, WRITE: TLSv1.2 Handshake, length = 264\nThread-0, waiting for close_notify or alert: state 1\nThread-0, Exception while waiting for close java.net.SocketException: Connection reset\nThread-0, handling exception: java.net.SocketException: Connection reset\n%% Invalidated:  [Session-1, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256]\nThread-0, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\nThread-0, WRITE: TLSv1.2 Alert, length = 2\nThread-0, Exception sending alert: java.net.SocketException: Connection reset by peer: socket write error\nThread-0, called closeSocket()\nThread-0, called close()\nThread-0, called closeInternal(true)\njava.net.SocketException: Connection reset\n</code></pre>\n<p>I am not even sure how to interpret this, out of my depth here. The guides on debugging ssl/tls connections I've found are not covering this part.</p>\n<p>-----------UPDATE-----------</p>\n<p>A bit more staring in logs, I noticed that in certificate chains of both server and client Signature Algorithm is SHA256withRSA, while for CertificateVerify message Signature Algorithm is SHA512withRSA. Can it be the reason?</p>\n"},{"tags":["java","docker","rabbitmq"],"comments":[{"owner":{"account_id":4640113,"reputation":2872,"user_id":3760216,"accept_rate":36,"display_name":"Sachith Muhandiram"},"score":0,"creation_date":1670555662,"post_id":74738515,"comment_id":131906833,"body_markdown":"Did you follow the steps given https://registry.hub.docker.com/_/rabbitmq/ ? setting users/passwords, management plugins etc?","body":"Did you follow the steps given <a href=\"https://registry.hub.docker.com/_/rabbitmq/\" rel=\"nofollow noreferrer\">registry.hub.docker.com/_/rabbitmq</a> ? setting users/passwords, management plugins etc?"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":1,"creation_date":1670555855,"post_id":74738515,"comment_id":131906859,"body_markdown":"@\nSachith Muhandiram Yes, it works with guest/guest on 5672 and 15672 and it works with changed 15673 but doesn&#39;t work with changed 5673. I don&#39;t touch anything except ports mapping","body":"@ Sachith Muhandiram Yes, it works with guest/guest on 5672 and 15672 and it works with changed 15673 but doesn&#39;t work with changed 5673. I don&#39;t touch anything except ports mapping"}],"answers":[{"tags":[],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670556511,"creation_date":1670556511,"answer_id":74738636,"question_id":74738515,"body_markdown":"\r\nI changed the code to this and it works. Thanks, RabbitMQ for so obvious code!\r\n\r\n    \r\n\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setPort(5673);\r\n        factory.setHost(&quot;localhost&quot;);\r\n        factory.setUsername(&quot;guest&quot;);\r\n        factory.setPassword(&quot;guest&quot;);\r\n        Connection connection = factory.newConnection();\r\n        Channel channel = connection.createChannel();","title":"RabbitMQ in Docker throws exception when I try to connect from java with custom port","body":"<p>I changed the code to this and it works. Thanks, RabbitMQ for so obvious code!</p>\n<pre><code>    ConnectionFactory factory = new ConnectionFactory();\n    factory.setPort(5673);\n    factory.setHost(&quot;localhost&quot;);\n    factory.setUsername(&quot;guest&quot;);\n    factory.setPassword(&quot;guest&quot;);\n    Connection connection = factory.newConnection();\n    Channel channel = connection.createChannel();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697120421,"creation_date":1670776217,"answer_id":74762547,"question_id":74738515,"body_markdown":"You are using an HTTP URI - `http://localhost:5673`\r\n\r\nYou should be using an AMQP URI - `amqp://localhost:5673`\r\n\r\nI&#39;m kind of surprised the first one worked at all, without a parsing error. My guess is that since the scheme (`http`) was not correct, the client used the default of `localhost:5672`.\r\n\r\nAMQP URIs are documented here - https://www.rabbitmq.com/uri-spec.html\r\n","title":"RabbitMQ in Docker throws exception when I try to connect from java with custom port","body":"<p>You are using an HTTP URI - <code>http://localhost:5673</code></p>\n<p>You should be using an AMQP URI - <code>amqp://localhost:5673</code></p>\n<p>I'm kind of surprised the first one worked at all, without a parsing error. My guess is that since the scheme (<code>http</code>) was not correct, the client used the default of <code>localhost:5672</code>.</p>\n<p>AMQP URIs are documented here - <a href=\"https://www.rabbitmq.com/uri-spec.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/uri-spec.html</a></p>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697120421,"creation_date":1670555056,"question_id":74738515,"body_markdown":"I run RabbitMQ in docker using this command:\r\n\r\n    docker run --rm -it --hostname my-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management\r\n\r\nIt works and I can connect to RabitMq from java: \r\n\r\n    ConnectionFactory factory = new ConnectionFactory();\r\n    factory.setUsername(&quot;guest&quot;);\r\n    factory.setPassword(&quot;guest&quot;);\r\n    Connection connection = factory.newConnection(&quot;http://localhost:5672&quot;);\r\n\r\nBut I need to change port and I do this:\r\n\r\n    docker run --rm -it --hostname my-rabbit -p 15673:15672 -p 5673:5672 rabbitmq:3-management\r\n\r\nWhen I open http://localhost:15673/ - it works. I see the admin console. But when I try to connect \r\n\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setUsername(&quot;guest&quot;);\r\n        factory.setPassword(&quot;guest&quot;);\r\n        Connection connection = factory.newConnection(&quot;http://localhost:5673&quot;);\r\n\r\nI get an exception:\r\n\r\n    Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n    \tat java.net.Socket.connect(Socket.java:606)\r\n    \tat com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:59)\r\n    \tat com.rabbitmq.client.impl.recovery.RecoveryAwareAMQConnectionFactory.newConnection(RecoveryAwareAMQConnectionFactory.java:63)\r\n    \tat com.rabbitmq.client.impl.recovery.AutorecoveringConnection.init(AutorecoveringConnection.java:160)\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1216)\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1310)\r\n    \tat com.project.Main.main(Main.java:14)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nEDIT: When I use port 5672 without changes I see this (maybe it can help)\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/53NcN.png\r\n  [2]: https://i.stack.imgur.com/BNukx.png","title":"RabbitMQ in Docker throws exception when I try to connect from java with custom port","body":"<p>I run RabbitMQ in docker using this command:</p>\n<pre><code>docker run --rm -it --hostname my-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management\n</code></pre>\n<p>It works and I can connect to RabitMq from java:</p>\n<pre><code>ConnectionFactory factory = new ConnectionFactory();\nfactory.setUsername(&quot;guest&quot;);\nfactory.setPassword(&quot;guest&quot;);\nConnection connection = factory.newConnection(&quot;http://localhost:5672&quot;);\n</code></pre>\n<p>But I need to change port and I do this:</p>\n<pre><code>docker run --rm -it --hostname my-rabbit -p 15673:15672 -p 5673:5672 rabbitmq:3-management\n</code></pre>\n<p>When I open http://localhost:15673/ - it works. I see the admin console. But when I try to connect</p>\n<pre><code>    ConnectionFactory factory = new ConnectionFactory();\n    factory.setUsername(&quot;guest&quot;);\n    factory.setPassword(&quot;guest&quot;);\n    Connection connection = factory.newConnection(&quot;http://localhost:5673&quot;);\n</code></pre>\n<p>I get an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\n    at java.net.Socket.connect(Socket.java:606)\n    at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:59)\n    at com.rabbitmq.client.impl.recovery.RecoveryAwareAMQConnectionFactory.newConnection(RecoveryAwareAMQConnectionFactory.java:63)\n    at com.rabbitmq.client.impl.recovery.AutorecoveringConnection.init(AutorecoveringConnection.java:160)\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1216)\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1310)\n    at com.project.Main.main(Main.java:14)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/53NcN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53NcN.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: When I use port 5672 without changes I see this (maybe it can help)\n<a href=\"https://i.stack.imgur.com/BNukx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BNukx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1697135960,"post_id":77281426,"comment_id":136245300,"body_markdown":"You can use Computable Future and Push 5 tasks each second using a Thread sleep in the main Thread.","body":"You can use Computable Future and Push 5 tasks each second using a Thread sleep in the main Thread."},{"owner":{"account_id":13606858,"reputation":161,"user_id":9815739,"display_name":"fjavierm"},"score":1,"creation_date":1697141582,"post_id":77281426,"comment_id":136246138,"body_markdown":"Maybe, take a look to the `RateLimiter` object in the Guava library.","body":"Maybe, take a look to the <code>RateLimiter</code> object in the Guava library."}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697120389,"creation_date":1697120389,"question_id":77281426,"body_markdown":"I have this code\r\n\r\n      int concurrentCalls = 5;\r\n        ScheduledExecutorService executorService = Executors.newScheduledThreadPool(concurrentCalls);\r\n        AtomicLong time = new AtomicLong(0);\r\n\r\n        try {\r\n            for (Incident incidentOrChangeReq : listIncidentsOrChangeRequests) {\r\n                enforceRateLimit();\r\n\r\n                semaphore.acquire();\r\n                executorService.submit(() -&gt; {\r\n                    Object listDetailsObject = new Object();\r\n                    try {\r\n                        final StopWatch outageDetailsTime = new StopWatch();\r\n                        outageDetailsTime.start();\r\n\r\n                        listDetailsObject = integrationClient.getOutageDetails(accountId, incidentOrChangeReq.getNumber());\r\n\r\n                        outageDetailsTime.stop();\r\n\r\n                        time.addAndGet(outageDetailsTime.getTotalTimeMillis());\r\n                        log.error(&quot;outage details time: &quot; + outageDetailsTime.getTotalTimeMillis());\r\n\r\n                        final StopWatch setJsonTime = new StopWatch();\r\n                        setJsonTime.start();\r\n                        String detailsListJSON = ow.writeValueAsString(listDetailsObject);\r\n                        JSONObject jsonObject1 = new JSONObject(detailsListJSON);\r\n\r\n                        setValues(typeOfExport, jsonObject1, mapper, incidentOrChangeReq);\r\n                        setJsonTime.stop();\r\n                    } catch (Exception e) {\r\n                        log.error(e.getMessage());\r\n                    } finally {\r\n                        semaphore.release(); // Release the permit\r\n                    }\r\n                });\r\n            }\r\n        } catch (InterruptedException e) {\r\n            log.error(&quot;InterruptedException caught: &quot; + e.getMessage());\r\n            Thread.currentThread().interrupt();\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage());\r\n        }\r\n\r\nWhat i want to achive is to call max 5 request per second, that is this part of code\r\n\r\n      listDetailsObject = integrationClient.getOutageDetails(accountId, incidentOrChangeReq.getNumber());\r\n\r\nand if sum of those 5 request is smaller than 1second to wait for that difference and than continue to next 5 request and so on.. Any suggestion?\r\n","title":"Handle max 5 request per second?","body":"<p>I have this code</p>\n<pre><code>  int concurrentCalls = 5;\n    ScheduledExecutorService executorService = Executors.newScheduledThreadPool(concurrentCalls);\n    AtomicLong time = new AtomicLong(0);\n\n    try {\n        for (Incident incidentOrChangeReq : listIncidentsOrChangeRequests) {\n            enforceRateLimit();\n\n            semaphore.acquire();\n            executorService.submit(() -&gt; {\n                Object listDetailsObject = new Object();\n                try {\n                    final StopWatch outageDetailsTime = new StopWatch();\n                    outageDetailsTime.start();\n\n                    listDetailsObject = integrationClient.getOutageDetails(accountId, incidentOrChangeReq.getNumber());\n\n                    outageDetailsTime.stop();\n\n                    time.addAndGet(outageDetailsTime.getTotalTimeMillis());\n                    log.error(&quot;outage details time: &quot; + outageDetailsTime.getTotalTimeMillis());\n\n                    final StopWatch setJsonTime = new StopWatch();\n                    setJsonTime.start();\n                    String detailsListJSON = ow.writeValueAsString(listDetailsObject);\n                    JSONObject jsonObject1 = new JSONObject(detailsListJSON);\n\n                    setValues(typeOfExport, jsonObject1, mapper, incidentOrChangeReq);\n                    setJsonTime.stop();\n                } catch (Exception e) {\n                    log.error(e.getMessage());\n                } finally {\n                    semaphore.release(); // Release the permit\n                }\n            });\n        }\n    } catch (InterruptedException e) {\n        log.error(&quot;InterruptedException caught: &quot; + e.getMessage());\n        Thread.currentThread().interrupt();\n    } catch (Exception e) {\n        log.error(e.getMessage());\n    }\n</code></pre>\n<p>What i want to achive is to call max 5 request per second, that is this part of code</p>\n<pre><code>  listDetailsObject = integrationClient.getOutageDetails(accountId, incidentOrChangeReq.getNumber());\n</code></pre>\n<p>and if sum of those 5 request is smaller than 1second to wait for that difference and than continue to next 5 request and so on.. Any suggestion?</p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697120320,"creation_date":1675959746,"answer_id":75401503,"question_id":75378109,"body_markdown":"No, there is not at this time. You should configure the default to be greater than the longest expected job duration. Please note that if you are using quorum queues this may cause disk usage growth because the log files can&#39;t be compacted while messages are outstanding.\r\n\r\nWe may make this timeout configurable in a more granular way, so please keep an eye on future RabbitMQ releases for that.\r\n\r\n","title":"Anyway to set RMQ Consumer delivery timeout on per-message level?","body":"<p>No, there is not at this time. You should configure the default to be greater than the longest expected job duration. Please note that if you are using quorum queues this may cause disk usage growth because the log files can't be compacted while messages are outstanding.</p>\n<p>We may make this timeout configurable in a more granular way, so please keep an eye on future RabbitMQ releases for that.</p>\n"}],"owner":{"account_id":8269449,"reputation":67,"user_id":6217646,"display_name":"Wayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697120320,"creation_date":1675798101,"question_id":75378109,"body_markdown":"We have a use case that holds active jobs in a RabbitMQ job queue.   The Clients, when they are free, pull jobs from this queue.   Pretty normal.   But in our case, we do not ACK the jobs.   We allow them to stay in the Unacked state so if the Client dies, the job goes to a pre-defined DeadLetter queue.   We then have a process that pulls messages from dead-letter, and decides to either requeue message back to original job-queue, or discard.    \r\n\r\nThis has worked well for a long time.    Now, we have upgraded to a newer version of RMQ, and found that we get disconnects with PRECONDITION_FAILED, because the default ack timeout of 30 minutes has expired.\r\n\r\nBeyond removing this from the server, does anyone know a way to configure this on a per-message level?\r\n\r\nWhile some might say just ACK the job, and use a handler to return to DEADLETTER if needed.    Well, sorry, that will not work for us.\r\n\r\nSo, any thoughts?\r\n\r\n","title":"Anyway to set RMQ Consumer delivery timeout on per-message level?","body":"<p>We have a use case that holds active jobs in a RabbitMQ job queue.   The Clients, when they are free, pull jobs from this queue.   Pretty normal.   But in our case, we do not ACK the jobs.   We allow them to stay in the Unacked state so if the Client dies, the job goes to a pre-defined DeadLetter queue.   We then have a process that pulls messages from dead-letter, and decides to either requeue message back to original job-queue, or discard.</p>\n<p>This has worked well for a long time.    Now, we have upgraded to a newer version of RMQ, and found that we get disconnects with PRECONDITION_FAILED, because the default ack timeout of 30 minutes has expired.</p>\n<p>Beyond removing this from the server, does anyone know a way to configure this on a per-message level?</p>\n<p>While some might say just ACK the job, and use a handler to return to DEADLETTER if needed.    Well, sorry, that will not work for us.</p>\n<p>So, any thoughts?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9890,"page":127,"page_size":100}
