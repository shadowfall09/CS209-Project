{"items":[{"tags":["java","mongodb","arraylist","bson"],"comments":[{"owner":{"account_id":11846198,"reputation":354,"user_id":8960195,"display_name":"NoisyBoy"},"score":0,"creation_date":1654086609,"post_id":72410865,"comment_id":128007511,"body_markdown":"Found the easiest effort saving way to convert mongo query to Java compatible code using Mongo Compass. Follow below steps:\n```\n1. Inside Mongo Compass, go to Aggrgations tab.\n2.  Click on &quot;New Pipeline From Text&quot;\n3. Paste your array of match,group, project, etc. NOTE: proper spacing of each element is very important for mongo compass to read your array.\n4. Click on Click New &amp; import process is completed.\n5. Now next to save button there is export button, try that and select your output code language. Export the code which can be now directly consumed.\n```","body":"Found the easiest effort saving way to convert mongo query to Java compatible code using Mongo Compass. Follow below steps: ``` 1. Inside Mongo Compass, go to Aggrgations tab. 2.  Click on &quot;New Pipeline From Text&quot; 3. Paste your array of match,group, project, etc. NOTE: proper spacing of each element is very important for mongo compass to read your array. 4. Click on Click New &amp; import process is completed. 5. Now next to save button there is export button, try that and select your output code language. Export the code which can be now directly consumed. ```"},{"owner":{"account_id":11846198,"reputation":354,"user_id":8960195,"display_name":"NoisyBoy"},"score":0,"creation_date":1654086674,"post_id":72410865,"comment_id":128007539,"body_markdown":"6. I converted it to Java which gave me response something like \n Document{{sub=Del, location=[Document{{pre=ABC, from=1, to=2}}, Document{{pre=ADB, from=2, to=3}}]}}\n\n7. ArrayList&lt;Document&gt; locnDocuments = mongoCollection.aggregate(query).into(new ArrayList&lt;&gt;());\n        ObjectMapper mapper = new ObjectMapper();\n        return locDocuments.stream().map(document -&gt; {\n            try {\n                return mapper.readValue(document.toJson(), StructuresLocationModel.class);\n            } catch (JsonProcessingException e) {...}\n        }).collect(Collectors.toList());","body":"6. I converted it to Java which gave me response something like   Document{{sub=Del, location=[Document{{pre=ABC, from=1, to=2}}, Document{{pre=ADB, from=2, to=3}}]}}  7. ArrayList&lt;Document&gt; locnDocuments = mongoCollection.aggregate(query).into(new ArrayList&lt;&gt;());         ObjectMapper mapper = new ObjectMapper();         return locDocuments.stream().map(document -&gt; {             try {                 return mapper.readValue(document.toJson(), StructuresLocationModel.class);             } catch (JsonProcessingException e) {...}         }).collect(Collectors.toList());"}],"owner":{"account_id":11846198,"reputation":354,"user_id":8960195,"display_name":"NoisyBoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654086074,"creation_date":1653684078,"question_id":72410865,"body_markdown":"I need help in converting below mongo query to an ArrayList&lt;Bson&gt; so that I can execute the query in spring boot app. Having tough time to convert it in java using Aggregate classe&#39;s match, group, etc. method.\r\n\r\nprivate List&lt;MyModel&gt; aggregateInspectionWorkOrders(ArrayList&lt;Bson&gt; operations) {\r\n        MongoCollection&lt;MyModel&gt; mongoCollection = db().getCollection(Constants.DB.MyTable, InspectionWorkOrder.class);\r\n        return mongoCollection.aggregate(operations).into(new ArrayList&lt;&gt;());\r\n   }\r\n\r\n```\r\ndb.mytable.aggregate([\r\n    {\r\n$match: {\r\n    $and: [\r\n                    {\r\n                        deleted: { $eq: false }\r\n                    },\r\n                    {\r\n                        status: {\r\n                                    $in: [&#39;O&#39;, &#39;IP&#39;]\r\n                        }\r\n                    }\r\n                ]\r\n        }\r\n    },\r\n    {\r\n    $group: {\r\n            _id: {\r\n                    sub: &#39;$sub&#39;,\r\n\t\t\t\t\tpre: &#39;$pre&#39;\r\n                },\r\n\t\t   location: { $addToSet:  { mile: &#39;$mp&#39;}}\r\n         }\r\n    },\r\n\t{\r\n    $group: {\r\n            _id: {\r\n                    sub: &#39;$_id.sub&#39;\r\n                },\r\n\t\t\tlocation: {\r\n\t\t\t\t$addToSet: {\r\n\t\t\t\t\t\t\tpre: &#39;$_id.pre&#39;,\r\n\t\t\t\t\t\t\t from: {\r\n\t\t\t\t\t\t\t\t$min: &#39;$location.mp&#39;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tto: {\r\n\t\t\t\t\t\t\t\t$max: &#39;$location.mp&#39;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n           \r\n         }\r\n    },\r\n    {\r\n    $project: {\r\n            _id: 0,\r\n            sub: &#39;$_id.sub&#39;,\r\n            location: &#39;$location&#39;\r\n            }\r\n    }\r\n]).pretty()\r\n```","title":"Convert mongo Query to Java ArrayList&lt;Bson&gt;","body":"<p>I need help in converting below mongo query to an ArrayList so that I can execute the query in spring boot app. Having tough time to convert it in java using Aggregate classe's match, group, etc. method.</p>\n<p>private List aggregateInspectionWorkOrders(ArrayList operations) {\nMongoCollection mongoCollection = db().getCollection(Constants.DB.MyTable, InspectionWorkOrder.class);\nreturn mongoCollection.aggregate(operations).into(new ArrayList&lt;&gt;());\n}</p>\n<pre><code>db.mytable.aggregate([\n    {\n$match: {\n    $and: [\n                    {\n                        deleted: { $eq: false }\n                    },\n                    {\n                        status: {\n                                    $in: ['O', 'IP']\n                        }\n                    }\n                ]\n        }\n    },\n    {\n    $group: {\n            _id: {\n                    sub: '$sub',\n                    pre: '$pre'\n                },\n           location: { $addToSet:  { mile: '$mp'}}\n         }\n    },\n    {\n    $group: {\n            _id: {\n                    sub: '$_id.sub'\n                },\n            location: {\n                $addToSet: {\n                            pre: '$_id.pre',\n                             from: {\n                                $min: '$location.mp'\n                            },\n                            to: {\n                                $max: '$location.mp'\n                            }\n                }\n            }\n           \n         }\n    },\n    {\n    $project: {\n            _id: 0,\n            sub: '$_id.sub',\n            location: '$location'\n            }\n    }\n]).pretty()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654075278,"post_id":72459324,"comment_id":128003350,"body_markdown":"Remove the `spring-plugin-core` dependency.","body":"Remove the <code>spring-plugin-core</code> dependency."},{"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"score":0,"creation_date":1654075487,"post_id":72459324,"comment_id":128003424,"body_markdown":"this also didn&#39;t worked to me :(","body":"this also didn&#39;t worked to me :("},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654075682,"post_id":72459324,"comment_id":128003496,"body_markdown":"Make sure you are also using a compatible swagger version (as that will pull in Spring stuff as well).","body":"Make sure you are also using a compatible swagger version (as that will pull in Spring stuff as well)."},{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":0,"creation_date":1654078186,"post_id":72459324,"comment_id":128004525,"body_markdown":"Can you execute `mvn dependency:tree` and include the output to the question?","body":"Can you execute <code>mvn dependency:tree</code> and include the output to the question?"}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654085860,"creation_date":1654085860,"answer_id":72461777,"question_id":72459324,"body_markdown":"As you are using Spring-Boot, I suggest using the `springfox-boot-starter` dependency with the latest version in your project.\r\n\r\nDelete `springfox-swagger2` and `springfox-swagger-ui` from your dependencies and add this:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"SpringBoot/Swagger: Correct the classpath of your application so that it contains compatible versions","body":"<p>As you are using Spring-Boot, I suggest using the <code>springfox-boot-starter</code> dependency with the latest version in your project.</p>\n<p>Delete <code>springfox-swagger2</code> and <code>springfox-swagger-ui</code> from your dependencies and add this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654085860,"creation_date":1654075073,"question_id":72459324,"body_markdown":"i am getting the following error after i start my spring boot application including swagger:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.hateoas.server.core.DelegatingLinkRelationProvider and org.springframework.plugin.core.PluginRegistry\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;de.coerdevelopment&lt;/groupId&gt;\r\n    &lt;artifactId&gt;higherlower&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;HigherLowerServer&lt;/name&gt;\r\n    &lt;description&gt;HigherLowerServer&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nSome suggestions how to fix it?","title":"SpringBoot/Swagger: Correct the classpath of your application so that it contains compatible versions","body":"<p>i am getting the following error after i start my spring boot application including swagger:</p>\n<p>Correct the classpath of your application so that it contains compatible versions of the classes org.springframework.hateoas.server.core.DelegatingLinkRelationProvider and org.springframework.plugin.core.PluginRegistry</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;de.coerdevelopment&lt;/groupId&gt;\n&lt;artifactId&gt;higherlower&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;HigherLowerServer&lt;/name&gt;\n&lt;description&gt;HigherLowerServer&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Some suggestions how to fix it?</p>\n"},{"tags":["java","firebase","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654071583,"post_id":72458397,"comment_id":128002100,"body_markdown":"Have you tried to use `implementation &#39;com.google.firebase:firebase-database` instead of `implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;`? Besides that, what is the location of your database?","body":"Have you tried to use <code>implementation &#39;com.google.firebase:firebase-database</code> instead of <code>implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;</code>? Besides that, what is the location of your database?"},{"owner":{"account_id":19449206,"reputation":29,"user_id":14226029,"display_name":"SelimSezer"},"score":0,"creation_date":1654073230,"post_id":72458397,"comment_id":128002648,"body_markdown":"Yes I tried but I did not understand your question","body":"Yes I tried but I did not understand your question"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654073811,"post_id":72458397,"comment_id":128002845,"body_markdown":"Where is your database located? Europe, Asia, United States?","body":"Where is your database located? Europe, Asia, United States?"}],"answers":[{"tags":[],"owner":{"account_id":24027122,"reputation":1,"user_id":18008605,"display_name":"Aaditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654085837,"creation_date":1654071361,"answer_id":72458473,"question_id":72458397,"body_markdown":"You should be using `.getReference(&quot;/message&quot;)` instead of `.getReference(&quot;message&quot;)`.\r\n","title":"Unable to write data to Firebase realtime database","body":"<p>You should be using <code>.getReference(&quot;/message&quot;)</code> instead of <code>.getReference(&quot;message&quot;)</code>.</p>\n"}],"owner":{"account_id":19449206,"reputation":29,"user_id":14226029,"display_name":"SelimSezer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654085837,"creation_date":1654070972,"question_id":72458397,"body_markdown":"I&#39;m working on firebase but couldn&#39;t connect to realtime database. I am getting the following errors. When I press the connect to firebase button from the tools menu, it says you are already connected. Below are all classes\r\nMain class\r\n\r\n    package com.example.mall_parking_app;\r\n    \r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    public class System {\r\n        member member;\r\n        parkDirection parkDirection;\r\n        shoppingCenter shoppingCenter;\r\n    \r\n        public static void main(String[]args) {\r\n            // Write a message to the database\r\n            FirebaseDatabase database;\r\n            database = FirebaseDatabase.getInstance();\r\n            DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n            myRef.setValue(&quot;Hello, World!&quot;);\r\nBuild Grandle:app\r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            configurations.all {\r\n                resolutionStrategy { force &#39;androidx.core:core:1.6.0&#39; }\r\n            }\r\n            applicationId &quot;com.example.mall_parking_app&quot;\r\n            minSdk 30\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildToolsVersion &#39;30.0.3&#39;\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:20.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-config:21.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-dynamic-links:21.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:23.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.0.2&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n    dependencies {\r\n        // Import the BoM for the Firebase platform\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:29.3.0&#39;)\r\n    \r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        // Declare the dependency for the Realtime Database library\r\n        // When using the BoM, you don&#39;t specify versions in Firebase library dependencies\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n    }\r\n    dependencies {\r\n        implementation &#39;com.google.zxing:core:3.4.1&#39;\r\n        implementation &#39;com.google.zxing:javase:3.4.1&#39;\r\n    }\r\n    dependencies {\r\n        implementation &#39;com.google.firebase:firebase-appcheck-debug:16.0.0&#39;\r\n    }\r\n\r\nErrors when I run\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/firebase/database/FirebaseDatabase\r\n    \tat com.example.mall_parking_app.System.main(System.java:15)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.firebase.database.FirebaseDatabase\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 1 more\r\n    \r\nRealtime Database rules\r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n        &quot;.read&quot;: true,\r\n        &quot;.write&quot;: true\r\n      }\r\n    }\r\nHow i can solved this?","title":"Unable to write data to Firebase realtime database","body":"<p>I'm working on firebase but couldn't connect to realtime database. I am getting the following errors. When I press the connect to firebase button from the tools menu, it says you are already connected. Below are all classes\nMain class</p>\n<pre><code>package com.example.mall_parking_app;\n\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class System {\n    member member;\n    parkDirection parkDirection;\n    shoppingCenter shoppingCenter;\n\n    public static void main(String[]args) {\n        // Write a message to the database\n        FirebaseDatabase database;\n        database = FirebaseDatabase.getInstance();\n        DatabaseReference myRef = database.getReference(&quot;message&quot;);\n        myRef.setValue(&quot;Hello, World!&quot;);\n</code></pre>\n<p>Build Grandle:app</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        configurations.all {\n            resolutionStrategy { force 'androidx.core:core:1.6.0' }\n        }\n        applicationId &quot;com.example.mall_parking_app&quot;\n        minSdk 30\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildToolsVersion '30.0.3'\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n    implementation 'com.google.firebase:firebase-storage:20.0.1'\n    implementation 'com.google.firebase:firebase-config:21.0.2'\n    implementation 'com.google.firebase:firebase-dynamic-links:21.0.1'\n    implementation 'com.google.firebase:firebase-messaging:23.0.2'\n    implementation 'com.google.firebase:firebase-auth:21.0.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\ndependencies {\n    // Import the BoM for the Firebase platform\n    implementation platform('com.google.firebase:firebase-bom:29.3.0')\n\n    implementation 'com.google.firebase:firebase-analytics'\n    // Declare the dependency for the Realtime Database library\n    // When using the BoM, you don't specify versions in Firebase library dependencies\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n}\ndependencies {\n    implementation 'com.google.zxing:core:3.4.1'\n    implementation 'com.google.zxing:javase:3.4.1'\n}\ndependencies {\n    implementation 'com.google.firebase:firebase-appcheck-debug:16.0.0'\n}\n</code></pre>\n<p>Errors when I run</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/firebase/database/FirebaseDatabase\n    at com.example.mall_parking_app.System.main(System.java:15)\nCaused by: java.lang.ClassNotFoundException: com.google.firebase.database.FirebaseDatabase\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 1 more\n</code></pre>\n<p>Realtime Database rules</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>How i can solved this?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data","spring-data-rest"],"comments":[{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1572956473,"post_id":58711154,"comment_id":103716085,"body_markdown":"What are you grouping by and can you give us a snippet of the Class you&#39;re querying.","body":"What are you grouping by and can you give us a snippet of the Class you&#39;re querying."},{"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"score":0,"creation_date":1572957576,"post_id":58711154,"comment_id":103716595,"body_markdown":"@locus2k It should be possible to group by different fields which are grabbed from a request http param (e.g. orderBy = field1, field2, field3). That&#39;s actually how it works for filter (I have a http param filter = field1, field2.... which I parse) which is used to create where clauses for a sql query (a static string in the question is used just for an example). And the Class I&#39;m trying to query is quite simple: it just contains a number of fields and it doesn&#39;t have any relationships with other models.","body":"@locus2k It should be possible to group by different fields which are grabbed from a request http param (e.g. orderBy = field1, field2, field3). That&#39;s actually how it works for filter (I have a http param filter = field1, field2.... which I parse) which is used to create where clauses for a sql query (a static string in the question is used just for an example). And the Class I&#39;m trying to query is quite simple: it just contains a number of fields and it doesn&#39;t have any relationships with other models."},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1572957975,"post_id":58711154,"comment_id":103716770,"body_markdown":"i ask because it looks like RSQL only applies to the `WHERE` clause for filtering, not for grouping. Spring can do `groupBy` but you have to write the query for it which requires to know the field to query","body":"i ask because it looks like RSQL only applies to the <code>WHERE</code> clause for filtering, not for grouping. Spring can do <code>groupBy</code> but you have to write the query for it which requires to know the field to query"},{"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"score":0,"creation_date":1572958563,"post_id":58711154,"comment_id":103717068,"body_markdown":"@locus2k Yes, I understand that RSQL only applies to the `WHERE`. The question is how to add group by to the result specification which is already generated by the library. What kind of query are you talking exactly about?","body":"@locus2k Yes, I understand that RSQL only applies to the <code>WHERE</code>. The question is how to add group by to the result specification which is already generated by the library. What kind of query are you talking exactly about?"},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1572958891,"post_id":58711154,"comment_id":103717267,"body_markdown":"You can add a jqpl query to do a count normally like `SELECT Count(m.id), m.type from MyClass M WHERE m.foo = ?1 GroupBy m.type&#39; to your spring query repository but that would require knowing the fields.","body":"You can add a jqpl query to do a count normally like `SELECT Count(m.id), m.type from MyClass M WHERE m.foo = ?1 GroupBy m.type&#39; to your spring query repository but that would require knowing the fields."},{"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"score":0,"creation_date":1572959029,"post_id":58711154,"comment_id":103717338,"body_markdown":"@locus2k That&#39;s the point. I don&#39;t know these fields during compilation. I retrieve them on runtime.","body":"@locus2k That&#39;s the point. I don&#39;t know these fields during compilation. I retrieve them on runtime."},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":1,"creation_date":1572959378,"post_id":58711154,"comment_id":103717512,"body_markdown":"I see now. Might check out https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/ to see if it provides how to do what you want.","body":"I see now. Might check out <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a> to see if it provides how to do what you want."}],"answers":[{"tags":[],"owner":{"account_id":2084899,"reputation":3328,"user_id":1856087,"display_name":"Selindek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572979201,"creation_date":1572979201,"answer_id":58717552,"question_id":58711154,"body_markdown":"You can create your own `GroupBySpecification` class which adds a a groupBy expression to an other specification:\r\n\r\n    public class GroupBySpecification implements Specification {\r\n      Specification original;\r\n      Parameters parameters; // whatever data needed for calculating groupBy expression\r\n\r\n      public GroupBySpecification(Specification original, Parameters parameters){\r\n          this.original = original;\r\n          this.parameters = parameters;\r\n      }\r\n      public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n\r\n          Expression&lt;?&gt; expression = ...; // whatever logic needed to be used on parameters...\r\n          criteriaBuilder.groupBy(expression);\r\n          return original.toPredicate(root, query, criteriabuilder);\r\n      }\r\n   }\r\n\r\nThen you can use it like this:\r\n\r\n    String filter = &quot;createdDate &gt; 2019-09-04T11:52:59.449&quot;;\r\n    return repository.findAll(new GroupBySpecification(toSpecification(filter),parameters),\r\n       pageable).getContent();  \r\n\r\n\r\nif you need __count__ then call the appropriate repository method:\r\n\r\n    repository.count(new GroupBySpecification(toSpecification(filter),parameters));  \r\n","title":"Is it possible to add count(*) and groupBy to Spring Data Jpa Specification?","body":"<p>You can create your own <code>GroupBySpecification</code> class which adds a a groupBy expression to an other specification:</p>\n\n<pre><code>public class GroupBySpecification implements Specification {\n  Specification original;\n  Parameters parameters; // whatever data needed for calculating groupBy expression\n\n  public GroupBySpecification(Specification original, Parameters parameters){\n      this.original = original;\n      this.parameters = parameters;\n  }\n  public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n\n      Expression&lt;?&gt; expression = ...; // whatever logic needed to be used on parameters...\n      criteriaBuilder.groupBy(expression);\n      return original.toPredicate(root, query, criteriabuilder);\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>String filter = \"createdDate &gt; 2019-09-04T11:52:59.449\";\nreturn repository.findAll(new GroupBySpecification(toSpecification(filter),parameters),\n   pageable).getContent();  \n</code></pre>\n\n<p>if you need <strong>count</strong> then call the appropriate repository method:</p>\n\n<pre><code>repository.count(new GroupBySpecification(toSpecification(filter),parameters));  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4685306,"reputation":126,"user_id":3792861,"display_name":"StackUser2204"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654085749,"creation_date":1654085749,"answer_id":72461746,"question_id":58711154,"body_markdown":"This cannot be done. Specifications are supposed to an abstraction only on the WHERE clause. It&#39;s similar to QueryDSLPredicateExecutor. The better approach here might be to use queryDSL or criteriaAPI to create the dynamic query you want to create. You can use a combination of the two to work it out.\r\n\r\nCheck - https://github.com/spring-projects/spring-data-jpa/issues/2361#issuecomment-986922491","title":"Is it possible to add count(*) and groupBy to Spring Data Jpa Specification?","body":"<p>This cannot be done. Specifications are supposed to an abstraction only on the WHERE clause. It's similar to QueryDSLPredicateExecutor. The better approach here might be to use queryDSL or criteriaAPI to create the dynamic query you want to create. You can use a combination of the two to work it out.</p>\n<p>Check - <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2361#issuecomment-986922491\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2361#issuecomment-986922491</a></p>\n"}],"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11633,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1654085749,"creation_date":1572956091,"question_id":58711154,"body_markdown":"I&#39;m writing an app using Spring Boot and Spring Data Jpa.\r\n\r\nI have a method which uses RSQL (I use [this][1] library) and Specification to make a filter call with where clauses to the db.\r\n\r\nMy repository:\r\n```java\r\npublic interface BaseRepository&lt;M extends BaseModel&gt; extends JpaRepository&lt;M, Long&gt;, JpaSpecificationExecutor&lt;M&gt;{\r\n\r\n}\r\n```\r\n\r\nIn the service I make a call to the repository:\r\n```java\r\nString filter = &quot;createdDate &gt; 2019-09-04T11:52:59.449&quot;;\r\nreturn repository.findAll(toSpecification(filter), pageable).getContent();\t\r\n```\r\n\r\nSo I use the library above to generate a Specification and pass it to the repository.\r\n\r\nNow I need to group a result by some fields. \r\n\r\nThe question how to add **count** and **groupBy** to a specification? Or maybe I need to create a predicate where I define this **count** and **groupBy** (somehow) and make a specification out of this? What is a better way to do it?\r\n\r\n**UPDATE #0**\r\n\r\nI&#39;ve managed to add a group by section to the result sql query. I create a new specification object where I define all the group by parameters and then combine this specification with the original one.\r\n\r\n```java\r\nString filter = &quot;createdDate &gt; 2019-09-04T11:52:59.449&quot;;\r\n\r\nSpecification&lt;M&gt; groupBySpec = new Specification&lt;M&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Predicate toPredicate(Root&lt;M&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n\t\t\t\t\r\n\t\t\t\tList&lt;Expression&lt;?&gt;&gt; groupByParams = new ArrayList&lt;&gt;();\r\n\t\t\t\t\r\n\t\t\t\tgroupByParams.add(root.get(&quot;param1&quot;));\r\n\t\t\t\tgroupByParams.add(root.get(&quot;param2&quot;));\r\n\t\r\n\t\t\t\tquery.groupBy(groupByParams);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\treturn query.getGroupRestriction();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\nreturn repository.findAll(groupBySpec.and(toSpecification(filter)), pageable).getContent();\t\t\r\n```\r\n\r\nThe thing is it always selects all the columns but I need to select only those which are in the group by section.\r\n\r\nAs a result I get a sql exception: `ERROR: column &quot;columnName&quot; must appear in the GROUP BY clause or be used in an aggregate function`.\r\n\r\nI&#39;ve tried to use multiselect like this `criteriaQuery.multiselect(root.get(&quot;column1&quot;), root.get(&quot;column2&quot;)).distinct(true).getGroupRestriction();` but it selects all the columns anyway.\r\n\r\nIt works if I use `@Query(&quot;query&quot;)` where I define which columns to select but I need it to work using Criteria Api/Specification.\r\n\r\n\r\n\r\n  [1]: https://github.com/perplexhub/rsql-jpa-specification","title":"Is it possible to add count(*) and groupBy to Spring Data Jpa Specification?","body":"<p>I'm writing an app using Spring Boot and Spring Data Jpa.</p>\n\n<p>I have a method which uses RSQL (I use <a href=\"https://github.com/perplexhub/rsql-jpa-specification\" rel=\"nofollow noreferrer\">this</a> library) and Specification to make a filter call with where clauses to the db.</p>\n\n<p>My repository:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface BaseRepository&lt;M extends BaseModel&gt; extends JpaRepository&lt;M, Long&gt;, JpaSpecificationExecutor&lt;M&gt;{\n\n}\n</code></pre>\n\n<p>In the service I make a call to the repository:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String filter = \"createdDate &gt; 2019-09-04T11:52:59.449\";\nreturn repository.findAll(toSpecification(filter), pageable).getContent();  \n</code></pre>\n\n<p>So I use the library above to generate a Specification and pass it to the repository.</p>\n\n<p>Now I need to group a result by some fields. </p>\n\n<p>The question how to add <strong>count</strong> and <strong>groupBy</strong> to a specification? Or maybe I need to create a predicate where I define this <strong>count</strong> and <strong>groupBy</strong> (somehow) and make a specification out of this? What is a better way to do it?</p>\n\n<p><strong>UPDATE #0</strong></p>\n\n<p>I've managed to add a group by section to the result sql query. I create a new specification object where I define all the group by parameters and then combine this specification with the original one.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String filter = \"createdDate &gt; 2019-09-04T11:52:59.449\";\n\nSpecification&lt;M&gt; groupBySpec = new Specification&lt;M&gt;() {\n\n            @Override\n            public Predicate toPredicate(Root&lt;M&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n\n                List&lt;Expression&lt;?&gt;&gt; groupByParams = new ArrayList&lt;&gt;();\n\n                groupByParams.add(root.get(\"param1\"));\n                groupByParams.add(root.get(\"param2\"));\n\n                query.groupBy(groupByParams);\n\n                return query.getGroupRestriction();\n            }\n        };\n\n\nreturn repository.findAll(groupBySpec.and(toSpecification(filter)), pageable).getContent();     \n</code></pre>\n\n<p>The thing is it always selects all the columns but I need to select only those which are in the group by section.</p>\n\n<p>As a result I get a sql exception: <code>ERROR: column \"columnName\" must appear in the GROUP BY clause or be used in an aggregate function</code>.</p>\n\n<p>I've tried to use multiselect like this <code>criteriaQuery.multiselect(root.get(\"column1\"), root.get(\"column2\")).distinct(true).getGroupRestriction();</code> but it selects all the columns anyway.</p>\n\n<p>It works if I use <code>@Query(\"query\")</code> where I define which columns to select but I need it to work using Criteria Api/Specification.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1654086363,"post_id":72461741,"comment_id":128007416,"body_markdown":"To test your code you can `throw new IllegalArgumentException()` in `action1` and see what you get. Then `throw new IOException()` and again see what you get.","body":"To test your code you can <code>throw new IllegalArgumentException()</code> in <code>action1</code> and see what you get. Then <code>throw new IOException()</code> and again see what you get."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1654097263,"post_id":72461741,"comment_id":128011662,"body_markdown":"It all depends on your exact use case, but each `CompletableFuture` should return a specific type `&lt;String&gt;` and `&lt;Integer&gt;` respectively.  Once the `join` completes (success or failure) you should be looking back at each completable futures `get()` and handling the individual exception.  This way you have finer control over the `Map` and the specific request that caused the error.","body":"It all depends on your exact use case, but each <code>CompletableFuture</code> should return a specific type <code>&lt;String&gt;</code> and <code>&lt;Integer&gt;</code> respectively.  Once the <code>join</code> completes (success or failure) you should be looking back at each completable futures <code>get()</code> and handling the individual exception.  This way you have finer control over the <code>Map</code> and the specific request that caused the error."}],"owner":{"account_id":17840072,"reputation":107,"user_id":12958132,"display_name":"woxihuanxiayua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654085723,"creation_date":1654085723,"question_id":72461741,"body_markdown":"I want to put the results of two asynchronous calls into a map, and throw the exception only when an ```IOExcetion``` occurs. I&#39;m not sure if this is the correct way to use ```CompletableFuture```\r\n:\r\n\r\n```\r\n   public Map&lt;String, Object&gt; action() throws IOException {\r\n        Map&lt;String, Object&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n        CompletableFuture&lt;Void&gt; voidCompletableFuture = CompletableFuture.runAsync(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    String s = action1();\r\n                    map.put(&quot;key1&quot;, s);\r\n                } catch (IOException e) {\r\n                    throw new CompletionException(e);\r\n                }\r\n            }\r\n        });\r\n        CompletableFuture&lt;Void&gt; voidCompletableFuture2 = CompletableFuture.runAsync(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Integer integer = action2();\r\n                    map.put(&quot;key2&quot;, integer);\r\n                } catch (IOException e) {\r\n                    throw new CompletionException(e);\r\n                }\r\n            }\r\n        });\r\n        try {\r\n            CompletableFuture.allOf(voidCompletableFuture, voidCompletableFuture2).join();\r\n        } catch (CompletionException e) {\r\n            Throwable cause = e.getCause();\r\n            if (cause instanceof IOException) {\r\n                throw (IOException) cause;\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\n    public String action1() throws IOException {\r\n        return &quot;a&quot;;\r\n    }\r\n    public Integer action2() throws IOException {\r\n        return 2;\r\n    }\r\n```\r\nIs there a more concise way?","title":"Combining two asynchronous calls using CompletableFuture","body":"<p>I want to put the results of two asynchronous calls into a map, and throw the exception only when an <code>IOExcetion</code> occurs. I'm not sure if this is the correct way to use <code>CompletableFuture</code>\n:</p>\n<pre><code>   public Map&lt;String, Object&gt; action() throws IOException {\n        Map&lt;String, Object&gt; map = new ConcurrentHashMap&lt;&gt;();\n        CompletableFuture&lt;Void&gt; voidCompletableFuture = CompletableFuture.runAsync(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    String s = action1();\n                    map.put(&quot;key1&quot;, s);\n                } catch (IOException e) {\n                    throw new CompletionException(e);\n                }\n            }\n        });\n        CompletableFuture&lt;Void&gt; voidCompletableFuture2 = CompletableFuture.runAsync(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Integer integer = action2();\n                    map.put(&quot;key2&quot;, integer);\n                } catch (IOException e) {\n                    throw new CompletionException(e);\n                }\n            }\n        });\n        try {\n            CompletableFuture.allOf(voidCompletableFuture, voidCompletableFuture2).join();\n        } catch (CompletionException e) {\n            Throwable cause = e.getCause();\n            if (cause instanceof IOException) {\n                throw (IOException) cause;\n            }\n        }\n        return map;\n    }\n\n    public String action1() throws IOException {\n        return &quot;a&quot;;\n    }\n    public Integer action2() throws IOException {\n        return 2;\n    }\n</code></pre>\n<p>Is there a more concise way?</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1654079921,"post_id":72460360,"comment_id":128005126,"body_markdown":"You call `csvConverter.saveDataInFile();` before Spring is initialized (by `SpringApplication.run(GhTestApplication.class, args);`","body":"You call <code>csvConverter.saveDataInFile();</code> before Spring is initialized (by <code>SpringApplication.run(GhTestApplication.class, args);</code>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1654080221,"post_id":72460360,"comment_id":128005233,"body_markdown":"`static` and `@Autowired` doesn&#39;t make sense. Generally you should *never* use these two together","body":"<code>static</code> and <code>@Autowired</code> doesn&#39;t make sense. Generally you should <i>never</i> use these two together"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654080243,"post_id":72460360,"comment_id":128005239,"body_markdown":"As an aside, if you want to make this a commandline application, see [here](https://www.baeldung.com/spring-boot-console-app) for an example using the `CommandLineRunner` interface.","body":"As an aside, if you want to make this a commandline application, see <a href=\"https://www.baeldung.com/spring-boot-console-app\" rel=\"nofollow noreferrer\">here</a> for an example using the <code>CommandLineRunner</code> interface."},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1654082588,"post_id":72460360,"comment_id":128006066,"body_markdown":"You can have your method call as part of PostConstruct phase rather than in Main ``@PostConstruct\n    private void postConstruct() {}``, have a look at example at https://www.baeldung.com/spring-postconstruct-predestroy","body":"You can have your method call as part of PostConstruct phase rather than in Main <code>@PostConstruct     private void postConstruct() {}</code>, have a look at example at <a href=\"https://www.baeldung.com/spring-postconstruct-predestroy\" rel=\"nofollow noreferrer\">baeldung.com/spring-postconstruct-predestroy</a>"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654081624,"answer_count":0,"score":0,"last_activity_date":1654085358,"creation_date":1654079675,"question_id":72460360,"body_markdown":"I&#39;ve chcecked many tasks about that topic and there are two ways: my knowledge about SpringBoot is too poor or the first option + my problem is a little bit different than another. \r\n\r\nMy problem is : \r\nFirstly : my @Autowired gives me null (in every place).  \r\nSomeone told me in comment that I should use CommandLineRunner - but it still doesn&#39;t work - now my method isn&#39;t called - nothting happens. \r\nWhen I tried to change @Autowired to new in main method then i had null pointer ex on Autowired GHService\r\n\r\nMy code :\r\n\r\n \r\n\r\n    @SpringBootApplication\r\n    public class GhTestApplication implements CommandLineRunner{\r\n    \r\n        @Autowired\r\n        public CsvConverter csvConverter;\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(GhTestApplication.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            csvConverter.saveDataInFile();\r\n        }\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class GHService {\r\n    \r\n        @Value(&quot;${ghUrl}&quot;)\r\n        private String ghUrl;\r\n    \r\n        @Value(&quot;${ghMaxRegionSearchCar}&quot;)\r\n        int maxRegionSearchCar;\r\n    \r\n        @Value(&quot;${ghMaxRegionSearchTruck}&quot;)\r\n        int maxRegionSearchTruck;\r\n    \r\n        @Value(&quot;${ghMaxRegionSearchDefault}&quot;)\r\n        int maxRegionSearchDefault;\r\n    \r\n        @Value(&quot;${isMaxRegionPerClient}&quot;)\r\n        boolean isMaxRegionPerClient;\r\n    \r\n        @Value(&quot;${clientsForAreaSettings}&quot;)\r\n        String[] clientsForAreaSettings;\r\n    \r\n        private OkHttpClient okHttpClient = new OkHttpClient();\r\n    \r\n        public String getPath(List&lt;String&gt; points) {\r\n    \r\n            String vehicle = &quot;car&quot;;\r\n            String instructions = &quot;true&quot;;\r\n            String calc_points = &quot;true&quot;;\r\n            String details = &quot;&quot;;\r\n            String avoid = &quot;&quot;;\r\n            String points_encoded = &quot;false&quot;;\r\n            String locale = &quot;&quot;;\r\n            String maxRegSearch = &quot;&quot;;\r\n            Object clientId = &quot;test&quot;;\r\n            String url = createUrl(points, instructions, vehicle.replace(&quot;-&quot;, &quot;_&quot;), calc_points, details, avoid, points_encoded, locale, maxRegSearch, clientId);\r\n    \r\n            Request request = new Request.Builder().url(url).build();\r\n            String responseGh = &quot;&quot;;\r\n    \r\n            try {\r\n                Response response = this.okHttpClient.newCall(request).execute();\r\n                responseGh = response.body().string();\r\n    \r\n            } catch (Exception e) {\r\n                return responseGh;\r\n            }\r\n            return responseGh;\r\n        }\r\n\r\n\r\n\r\n\r\n   \r\n\r\n\r\n \r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:/application.properties&quot;)\r\n    @ComponentScan(&quot;com.example&quot;)\r\n    public class AppConfig {\r\n    \r\n    }\r\n\r\n\r\n    @Service\r\n    public class CsvConverter {\r\n    \r\n        @Autowired\r\n        private GHService ghService;\r\n    \r\n        public List&lt;TestDataImport&gt; getPointsFromFile () throws IOException {\r\n            //do propertek\r\n            InputStream fileInputStream = new FileInputStream(&quot;C:\\\\Users\\\\test2.csv&quot;);\r\n            return getImportedGRAData(fileInputStream);\r\n        }\r\n    \r\n        public String convertToCSV(String[] data) {\r\n            return String.join(&quot;;&quot;, data);\r\n        }\r\n}\r\n\r\n\r\n","title":"SpringBoot console application doesn&#39;t work correctly","body":"<p>I've chcecked many tasks about that topic and there are two ways: my knowledge about SpringBoot is too poor or the first option + my problem is a little bit different than another.</p>\n<p>My problem is :\nFirstly : my @Autowired gives me null (in every place).<br />\nSomeone told me in comment that I should use CommandLineRunner - but it still doesn't work - now my method isn't called - nothting happens.\nWhen I tried to change @Autowired to new in main method then i had null pointer ex on Autowired GHService</p>\n<p>My code :</p>\n<pre><code>@SpringBootApplication\npublic class GhTestApplication implements CommandLineRunner{\n\n    @Autowired\n    public CsvConverter csvConverter;\n\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(GhTestApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        csvConverter.saveDataInFile();\n    }\n\n}\n\n@Service\npublic class GHService {\n\n    @Value(&quot;${ghUrl}&quot;)\n    private String ghUrl;\n\n    @Value(&quot;${ghMaxRegionSearchCar}&quot;)\n    int maxRegionSearchCar;\n\n    @Value(&quot;${ghMaxRegionSearchTruck}&quot;)\n    int maxRegionSearchTruck;\n\n    @Value(&quot;${ghMaxRegionSearchDefault}&quot;)\n    int maxRegionSearchDefault;\n\n    @Value(&quot;${isMaxRegionPerClient}&quot;)\n    boolean isMaxRegionPerClient;\n\n    @Value(&quot;${clientsForAreaSettings}&quot;)\n    String[] clientsForAreaSettings;\n\n    private OkHttpClient okHttpClient = new OkHttpClient();\n\n    public String getPath(List&lt;String&gt; points) {\n\n        String vehicle = &quot;car&quot;;\n        String instructions = &quot;true&quot;;\n        String calc_points = &quot;true&quot;;\n        String details = &quot;&quot;;\n        String avoid = &quot;&quot;;\n        String points_encoded = &quot;false&quot;;\n        String locale = &quot;&quot;;\n        String maxRegSearch = &quot;&quot;;\n        Object clientId = &quot;test&quot;;\n        String url = createUrl(points, instructions, vehicle.replace(&quot;-&quot;, &quot;_&quot;), calc_points, details, avoid, points_encoded, locale, maxRegSearch, clientId);\n\n        Request request = new Request.Builder().url(url).build();\n        String responseGh = &quot;&quot;;\n\n        try {\n            Response response = this.okHttpClient.newCall(request).execute();\n            responseGh = response.body().string();\n\n        } catch (Exception e) {\n            return responseGh;\n        }\n        return responseGh;\n    }\n\n\n\n\n\n\n\n\n\n@Configuration\n@PropertySource(&quot;classpath:/application.properties&quot;)\n@ComponentScan(&quot;com.example&quot;)\npublic class AppConfig {\n\n}\n\n\n@Service\npublic class CsvConverter {\n\n    @Autowired\n    private GHService ghService;\n\n    public List&lt;TestDataImport&gt; getPointsFromFile () throws IOException {\n        //do propertek\n        InputStream fileInputStream = new FileInputStream(&quot;C:\\\\Users\\\\test2.csv&quot;);\n        return getImportedGRAData(fileInputStream);\n    }\n\n    public String convertToCSV(String[] data) {\n        return String.join(&quot;;&quot;, data);\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","mariadb","apple-m1","mariadb4j"],"comments":[{"owner":{"account_id":911707,"reputation":93,"user_id":945394,"display_name":"DevCat"},"score":0,"creation_date":1636830015,"post_id":69896059,"comment_id":123663796,"body_markdown":"I copied libcrypto and libssl 1.0.0.dylib from my old x64 mac and moved them to the /usr/local/opt/openssl/lib/ folder. That worked, however now I get another error: ```&#39;/private/var/folders/tp/0_v20fj94sq38nsl2ynbjx6c0000gn/T/MariaDB4j/base/libproviders.dylib&#39; (no such file), &#39;/usr/local/lib/libproviders.dylib&#39; (no such file), &#39;/usr/lib/libproviders.dylib&#39; (no such file)```","body":"I copied libcrypto and libssl 1.0.0.dylib from my old x64 mac and moved them to the /usr/local/opt/openssl/lib/ folder. That worked, however now I get another error: <code>&#39;&#47;private&#47;var&#47;folders&#47;tp&#47;0_v20fj94sq38nsl2ynbjx6c0000gn&#47;T&#47;Ma&zwnj;&#8203;riaDB4j&#47;base&#47;libprov&zwnj;&#8203;iders.dylib&#39; (no such file), &#39;&#47;usr&#47;local&#47;lib&#47;libproviders.dylib&#39; (no such file), &#39;&#47;usr&#47;lib&#47;libproviders.dylib&#39; (no such file)</code>"},{"owner":{"account_id":911707,"reputation":93,"user_id":945394,"display_name":"DevCat"},"score":0,"creation_date":1636957155,"post_id":69896059,"comment_id":123686834,"body_markdown":"I was able to run all my tests using `testcontainers` with the latest MariaDB container available at Docker Hub (10.7.1) which is supported by ARM processors. I followed this guide: https://nirajsonawane.github.io/2019/12/25/Testcontainers-With-Spring-Boot-For-Integration-Testing/","body":"I was able to run all my tests using <code>testcontainers</code> with the latest MariaDB container available at Docker Hub (10.7.1) which is supported by ARM processors. I followed this guide: <a href=\"https://nirajsonawane.github.io/2019/12/25/Testcontainers-With-Spring-Boot-For-Integration-Testing/\" rel=\"nofollow noreferrer\">nirajsonawane.github.io/2019/12/25/&hellip;</a>"},{"owner":{"account_id":552576,"reputation":3879,"user_id":917748,"accept_rate":54,"display_name":"Mathias"},"score":1,"creation_date":1636959092,"post_id":69896059,"comment_id":123687219,"body_markdown":"Hey there good to hear you got it working. I did too, by instead pointing to a local mariadb install for my tests and skipping mariadb4j.  Will look into testcontainers, so that I won&#39;t have to rely on a mariadb install being present.","body":"Hey there good to hear you got it working. I did too, by instead pointing to a local mariadb install for my tests and skipping mariadb4j.  Will look into testcontainers, so that I won&#39;t have to rely on a mariadb install being present."}],"answers":[{"tags":[],"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638146179,"creation_date":1638146179,"answer_id":70148680,"question_id":69896059,"body_markdown":"I&#39;m the author of MariaDB4j, and can confirm that currently this is not possible / won&#39;t &quot;just work&quot;. The reason is that what MariaDB4j does is simply package platform specific MariaDB binaries into JARs, and then natively `exec`utes the `mysqld`. And nobody has contributed the MariaDB binaries for M1 to MariaDB4j... but contributions to the project are very welcome! ;-) https://github.com/vorburger/MariaDB4j/issues/497 tracks this FR.","title":"Is it possible to get MariaDB4J to work on an M1 Mac?","body":"<p>I'm the author of MariaDB4j, and can confirm that currently this is not possible / won't &quot;just work&quot;. The reason is that what MariaDB4j does is simply package platform specific MariaDB binaries into JARs, and then natively <code>exec</code>utes the <code>mysqld</code>. And nobody has contributed the MariaDB binaries for M1 to MariaDB4j... but contributions to the project are very welcome! ;-) <a href=\"https://github.com/vorburger/MariaDB4j/issues/497\" rel=\"nofollow noreferrer\">https://github.com/vorburger/MariaDB4j/issues/497</a> tracks this FR.</p>\n"},{"tags":[],"owner":{"account_id":911707,"reputation":93,"user_id":945394,"display_name":"DevCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638830158,"creation_date":1638750759,"answer_id":70239780,"question_id":69896059,"body_markdown":"If anyone&#39;s interested I was able to build the latest MariaDB4j from source with support for Apple Silicon (M1) processors.\r\n\r\nSteps:\r\n\r\n1. Clone the MariaDB4j GitHub repo and switch to the master branch.\r\n\r\n2. Build MariaDB from source with ARM-64 support: \r\n`arch -arm64 brew install mariadb@10.2 --build-from-source`\r\n\r\n3. Go to folder `/opt/homebrew/Cellar/mariadb@10.2/10.2.41` and copy all the required binaries from the `bin` and `script` subfolders to `MariaDB4j/DBs/mariaDB4j-db-mac64-10.2.11/src/main/resources/ch/vorburger/mariadb4j/mariadb-10.2.11/osx/bin`.\r\n\r\n4. In a terminal go to `MariaDB4j/DBs/mariaDB4j-db-mac64-10.2.11` and do a `mvn install`. This will replace the maven dependency with the Mac x86 binaries with one that contains the ARM-64 binaries.\r\n\r\nThat&#39;s it, now your tests will run in your M1 :)\r\n\r\nNote: if your project is not using the latest MariaDB4j version then first switch to the tag that matches your MariaDB4j dependency version.","title":"Is it possible to get MariaDB4J to work on an M1 Mac?","body":"<p>If anyone's interested I was able to build the latest MariaDB4j from source with support for Apple Silicon (M1) processors.</p>\n<p>Steps:</p>\n<ol>\n<li><p>Clone the MariaDB4j GitHub repo and switch to the master branch.</p>\n</li>\n<li><p>Build MariaDB from source with ARM-64 support:\n<code>arch -arm64 brew install mariadb@10.2 --build-from-source</code></p>\n</li>\n<li><p>Go to folder <code>/opt/homebrew/Cellar/mariadb@10.2/10.2.41</code> and copy all the required binaries from the <code>bin</code> and <code>script</code> subfolders to <code>MariaDB4j/DBs/mariaDB4j-db-mac64-10.2.11/src/main/resources/ch/vorburger/mariadb4j/mariadb-10.2.11/osx/bin</code>.</p>\n</li>\n<li><p>In a terminal go to <code>MariaDB4j/DBs/mariaDB4j-db-mac64-10.2.11</code> and do a <code>mvn install</code>. This will replace the maven dependency with the Mac x86 binaries with one that contains the ARM-64 binaries.</p>\n</li>\n</ol>\n<p>That's it, now your tests will run in your M1 :)</p>\n<p>Note: if your project is not using the latest MariaDB4j version then first switch to the tag that matches your MariaDB4j dependency version.</p>\n"}],"owner":{"account_id":552576,"reputation":3879,"user_id":917748,"accept_rate":54,"display_name":"Mathias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1733,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70148680,"answer_count":2,"score":5,"last_activity_date":1654085314,"creation_date":1636451597,"question_id":69896059,"body_markdown":"I&#39;m trying to get MariaDB4J working on my new M1 MacBook Pro, and I&#39;m not doing so great. \r\n\r\nI am running the Arm versions of both libssl@1.1 and mariadb 10.6.4, both installed with Homebrew.\r\n\r\nFirst I had issues with libssl not finding libssl, it had to have 1.0, so i installed symlinks from the 1.0 path the library expects to the homebrew 1.1 destination. According to various issue threads on the mariadb GitHub page this should work.\r\n\r\nSo, it indeed resulted in that libssl was found, but now I get another issue in the logs:\r\n\r\n&quot;Reason: tried: &#39;/usr/local/opt/openssl/lib/libssl.1.0.0.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;arm64&#39;, need &#39;x86_64&#39;))&quot;\r\n\r\nSo, I guess that something/mariadb4j expects the x86 version of libssl but I have arm? I&#39;m not sure how to sort this out, so hoping that someone got this to work on M1. Pointers appreciated.\r\n","title":"Is it possible to get MariaDB4J to work on an M1 Mac?","body":"<p>I'm trying to get MariaDB4J working on my new M1 MacBook Pro, and I'm not doing so great.</p>\n<p>I am running the Arm versions of both libssl@1.1 and mariadb 10.6.4, both installed with Homebrew.</p>\n<p>First I had issues with libssl not finding libssl, it had to have 1.0, so i installed symlinks from the 1.0 path the library expects to the homebrew 1.1 destination. According to various issue threads on the mariadb GitHub page this should work.</p>\n<p>So, it indeed resulted in that libssl was found, but now I get another issue in the logs:</p>\n<p>&quot;Reason: tried: '/usr/local/opt/openssl/lib/libssl.1.0.0.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64'))&quot;</p>\n<p>So, I guess that something/mariadb4j expects the x86 version of libssl but I have arm? I'm not sure how to sort this out, so hoping that someone got this to work on M1. Pointers appreciated.</p>\n"},{"tags":["java","maven","intellij-idea","emacs","execution"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1654086221,"post_id":72461637,"comment_id":128007380,"body_markdown":"You could use `profiles` for this.","body":"You could use <code>profiles</code> for this."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1654087679,"post_id":72461637,"comment_id":128007949,"body_markdown":"What is the purpose of more than one main class? Why not have one main class that calls all the other classes? You could distinguish them by command line parameters.","body":"What is the purpose of more than one main class? Why not have one main class that calls all the other classes? You could distinguish them by command line parameters."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654104497,"post_id":72461637,"comment_id":128014230,"body_markdown":"Note that there are better IDEs for java and maven than emacs. Generally you need all the help you can get","body":"Note that there are better IDEs for java and maven than emacs. Generally you need all the help you can get"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654114473,"post_id":72461637,"comment_id":128017410,"body_markdown":"I strongly recommend to start using IntellIJ and learn how to use it...it will boost your productivity ... and no that&#39;s not possible with Emacs nor Vim etc.","body":"I strongly recommend to start using IntellIJ and learn how to use it...it will boost your productivity ... and no that&#39;s not possible with Emacs nor Vim etc."},{"owner":{"account_id":20660232,"reputation":51,"user_id":15168357,"display_name":"mazi"},"score":0,"creation_date":1654158335,"post_id":72461637,"comment_id":128026139,"body_markdown":"Look here: https://stackoverflow.com/questions/51504549/run-multiple-classes-using-maven","body":"Look here: <a href=\"https://stackoverflow.com/questions/51504549/run-multiple-classes-using-maven\" title=\"run multiple classes using maven\">stackoverflow.com/questions/51504549/&hellip;</a>"},{"owner":{"account_id":19279952,"reputation":297,"user_id":17789881,"display_name":"Alessandro Bertulli"},"score":0,"creation_date":1654169007,"post_id":72461637,"comment_id":128029632,"body_markdown":"@RobAudenaerde you mean Spring profiles? I could, but I never used Spring and if possible I want to keep everything as simple as possible.\n@JFabianMeier Akka is targeted at multi process applications, that&#39;s why I need multiple `main`s. Writing a dispatcher is a possibility, but I wanted to know what was the mechanism used by IntelliJ\n@mazi thanks! So I suppose that&#39;s still the preferred way. Kudos!\nTo the others: yes, I know that IntelliJ is still the state of the art for Java development (and I like it!). I wanted to know what was its mechanism to replicate it in Emacs","body":"@RobAudenaerde you mean Spring profiles? I could, but I never used Spring and if possible I want to keep everything as simple as possible. @JFabianMeier Akka is targeted at multi process applications, that&#39;s why I need multiple <code>main</code>s. Writing a dispatcher is a possibility, but I wanted to know what was the mechanism used by IntelliJ @mazi thanks! So I suppose that&#39;s still the preferred way. Kudos! To the others: yes, I know that IntelliJ is still the state of the art for Java development (and I like it!). I wanted to know what was its mechanism to replicate it in Emacs"},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1654181385,"post_id":72461637,"comment_id":128034575,"body_markdown":"No I mean maven profiles https://maven.apache.org/guides/introduction/introduction-to-profiles.html","body":"No I mean maven profiles <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"owner":{"account_id":19279952,"reputation":297,"user_id":17789881,"display_name":"Alessandro Bertulli"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654085307,"creation_date":1654085307,"question_id":72461637,"body_markdown":"Pretty much the title question. I have found several other questions on SO, but they&#39;re a bit old and I don&#39;t know if there&#39;s a new solution worth mentioning.\r\n\r\nSo I am working with the [tutorials][1] for the Java Akka library. I have copied the project and opened it with Emacs. Right now, the main class to be run is specified in the `pom.xml`:\r\n\r\n``` xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.6.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;executable&gt;java&lt;/executable&gt;\r\n    &lt;arguments&gt;\r\n      &lt;argument&gt;-classpath&lt;/argument&gt;\r\n      &lt;classpath /&gt;\r\n      &lt;argument&gt;com.example.AkkaQuickstart&lt;/argument&gt; &lt;!-- HERE --&gt;\r\n    &lt;/arguments&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut **what if I wanted to have two or more main classes, and run them separately as in IntelliJ**? Now, this is not as much an Emacs question as a Maven one, but suggestions are welcome.\r\n\r\n- Should I specify the main class from command line? Using `exec:java` or `exec:exec`? What parts of `pom.xml` should I comment out?\r\n- Should I use a workaround like in [this question][2]?\r\n- By the way, since I want something similar to IntelliJ, do you know how IntelliJ actually does this?\r\n\r\nThanks for your time and help!\r\n\r\n\r\n  [1]: https://developer.lightbend.com/guides/akka-quickstart-java/\r\n  [2]: https://stackoverflow.com/questions/60815166/maven-run-different-classes-without-configuration","title":"How to run different Java classes with Maven?","body":"<p>Pretty much the title question. I have found several other questions on SO, but they're a bit old and I don't know if there's a new solution worth mentioning.</p>\n<p>So I am working with the <a href=\"https://developer.lightbend.com/guides/akka-quickstart-java/\" rel=\"nofollow noreferrer\">tutorials</a> for the Java Akka library. I have copied the project and opened it with Emacs. Right now, the main class to be run is specified in the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.6.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;executable&gt;java&lt;/executable&gt;\n    &lt;arguments&gt;\n      &lt;argument&gt;-classpath&lt;/argument&gt;\n      &lt;classpath /&gt;\n      &lt;argument&gt;com.example.AkkaQuickstart&lt;/argument&gt; &lt;!-- HERE --&gt;\n    &lt;/arguments&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But <strong>what if I wanted to have two or more main classes, and run them separately as in IntelliJ</strong>? Now, this is not as much an Emacs question as a Maven one, but suggestions are welcome.</p>\n<ul>\n<li>Should I specify the main class from command line? Using <code>exec:java</code> or <code>exec:exec</code>? What parts of <code>pom.xml</code> should I comment out?</li>\n<li>Should I use a workaround like in <a href=\"https://stackoverflow.com/questions/60815166/maven-run-different-classes-without-configuration\">this question</a>?</li>\n<li>By the way, since I want something similar to IntelliJ, do you know how IntelliJ actually does this?</li>\n</ul>\n<p>Thanks for your time and help!</p>\n"},{"tags":["java","kettle","hl7","hapi"],"answers":[{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461837680,"creation_date":1461837680,"answer_id":36911291,"question_id":36911037,"body_markdown":"You should use [HL7 Parser][1] for proper/accurate parsing of any HL7 formatted message.\r\n\r\nWith the help of HAPI you can either parse your message as Stream\r\n\r\n    // Open an InputStream to read from the file\r\n      \t\tFile file = new File(&quot;hl7_messages.txt&quot;);\r\n      \t\tInputStream is = new FileInputStream(file);\r\n      \t\t\r\n      \t\t// It&#39;s generally a good idea to buffer file IO\r\n      \t\tis = new BufferedInputStream(is);\r\n      \t\t\r\n      \t\t// The following class is a HAPI utility that will iterate over\r\n      \t\t// the messages which appear over an InputStream\r\n      \t\tHl7InputStreamMessageIterator iter = new Hl7InputStreamMessageIterator(is);\r\n      \t\t\r\n      \t\twhile (iter.hasNext()) {\r\n      \t\t\t\r\n      \t\t\tMessage next = iter.next();\r\n      \t\t\t\r\n      \t\t\t// Do something with the message\r\n      \t\t\t\r\n      \t\t}\r\n\r\nOr you can read it as String\r\n\r\n    File file = new File(&quot;hl7_messages.txt&quot;);\r\n      \t\tis = new FileInputStream(file);\r\n      \t\tis = new BufferedInputStream(is);\r\n      \t\tHl7InputStreamMessageStringIterator iter2 = new Hl7InputStreamMessageStringIterator(is); \r\n      \t\t\r\n      \t\twhile (iter2.hasNext()) {\r\n      \t\t\t\r\n      \t\t\tString next = iter2.next();\r\n      \t\t\t\r\n      \t\t\t// Do something with the message\r\n      \t\t\t\r\n      \t\t}\r\n\r\nHope this helps you in right direction.\r\n\r\n  [1]: http://hl7api.sourceforge.net/","title":"Iterate over repeated specific HL7 segment in Pentaho Data Integration KETTLE","body":"<p>You should use <a href=\"http://hl7api.sourceforge.net/\" rel=\"nofollow\">HL7 Parser</a> for proper/accurate parsing of any HL7 formatted message.</p>\n\n<p>With the help of HAPI you can either parse your message as Stream</p>\n\n<pre><code>// Open an InputStream to read from the file\n        File file = new File(\"hl7_messages.txt\");\n        InputStream is = new FileInputStream(file);\n\n        // It's generally a good idea to buffer file IO\n        is = new BufferedInputStream(is);\n\n        // The following class is a HAPI utility that will iterate over\n        // the messages which appear over an InputStream\n        Hl7InputStreamMessageIterator iter = new Hl7InputStreamMessageIterator(is);\n\n        while (iter.hasNext()) {\n\n            Message next = iter.next();\n\n            // Do something with the message\n\n        }\n</code></pre>\n\n<p>Or you can read it as String</p>\n\n<pre><code>File file = new File(\"hl7_messages.txt\");\n        is = new FileInputStream(file);\n        is = new BufferedInputStream(is);\n        Hl7InputStreamMessageStringIterator iter2 = new Hl7InputStreamMessageStringIterator(is); \n\n        while (iter2.hasNext()) {\n\n            String next = iter2.next();\n\n            // Do something with the message\n\n        }\n</code></pre>\n\n<p>Hope this helps you in right direction.</p>\n"}],"owner":{"account_id":8232580,"reputation":2283,"user_id":6192834,"accept_rate":23,"display_name":"Mostav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654084996,"creation_date":1461836978,"question_id":36911037,"body_markdown":"I want to get a specific segment hl7, by name of segment for example,\r\n\r\n1. I am using Pipeparser class but i still don&#39;t know how to get each segment by structure name (`MSH,PID,OBX,...`).\r\n\r\n2. Sometimes I have a repeated segments like DG1 or PV1 or OBX(see attached lines) how can I get data fileds from each row segment in Pentaho kettle (do i need java code in kettle, if there is such solution, help please).\r\n\r\n&lt;!-- --&gt;\r\n\r\n    OBX|1|TX|PTH_SITE1^Site A|1|left||||||F|||||||\r\n    OBX|2|TX|PTH_SPEC1^Specimen A||C-FNA^Fine Needle Aspiration||||||F|||||||\r\n\r\nor\r\n\r\n    DG1|1|I10C|G30.0|Alzheimer&#39;s disease with early onset|20160406|W|||||||||\r\n    DG1|2|I10C|E87.70|Fluid overload, unspecified|20160406|W|||||||||","title":"Iterate over repeated specific HL7 segment in Pentaho Data Integration KETTLE","body":"<p>I want to get a specific segment hl7, by name of segment for example,</p>\n<ol>\n<li><p>I am using Pipeparser class but i still don't know how to get each segment by structure name (<code>MSH,PID,OBX,...</code>).</p>\n</li>\n<li><p>Sometimes I have a repeated segments like DG1 or PV1 or OBX(see attached lines) how can I get data fileds from each row segment in Pentaho kettle (do i need java code in kettle, if there is such solution, help please).</p>\n</li>\n</ol>\n\n<pre><code>OBX|1|TX|PTH_SITE1^Site A|1|left||||||F|||||||\nOBX|2|TX|PTH_SPEC1^Specimen A||C-FNA^Fine Needle Aspiration||||||F|||||||\n</code></pre>\n<p>or</p>\n<pre><code>DG1|1|I10C|G30.0|Alzheimer's disease with early onset|20160406|W|||||||||\nDG1|2|I10C|E87.70|Fluid overload, unspecified|20160406|W|||||||||\n</code></pre>\n"},{"tags":["java","android","validation","numbers","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339608743,"creation_date":1339608743,"answer_id":11020270,"question_id":11020235,"body_markdown":"Parse the value to Integer or Float and do your validation.\r\n\r\n    Integer.parseInt(a.getText())","title":"How to validate a number entered in the edittext? - android","body":"<p>Parse the value to Integer or Float and do your validation.</p>\n\n<pre><code>Integer.parseInt(a.getText())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":342464,"reputation":583,"user_id":673636,"accept_rate":0,"display_name":"thomasg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1339608784,"creation_date":1339608784,"answer_id":11020280,"question_id":11020235,"body_markdown":"You can do something like that:\r\n\r\n    final int value = Integer.valueOf(a.getText().toString());  \r\n    if (value &lt; 15 || value &gt; 25) {  \r\n        // do what you want  \r\n    }","title":"How to validate a number entered in the edittext? - android","body":"<p>You can do something like that:</p>\n\n<pre><code>final int value = Integer.valueOf(a.getText().toString());  \nif (value &lt; 15 || value &gt; 25) {  \n    // do what you want  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339608881,"creation_date":1339608881,"answer_id":11020303,"question_id":11020235,"body_markdown":"If you know that the value entered is a number you can first parse it using either:   \r\n`int val = Integer.parseInt(a.getText());`  \r\nor if it is a float:   \r\n`float val = Float.parseFloat(a.getText());`.\r\n  \r\nThen you can just do a comparison: `if( val &lt; min || val &gt; max ) //show message`;","title":"How to validate a number entered in the edittext? - android","body":"<p>If you know that the value entered is a number you can first parse it using either:<br>\n<code>int val = Integer.parseInt(a.getText());</code><br>\nor if it is a float:<br>\n<code>float val = Float.parseFloat(a.getText());</code>.</p>\n\n<p>Then you can just do a comparison: <code>if( val &lt; min || val &gt; max ) //show message</code>;</p>\n"},{"tags":[],"owner":{"account_id":8137615,"reputation":221,"user_id":6128794,"display_name":"Abhijeet Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524486121,"creation_date":1524486121,"answer_id":49980983,"question_id":11020235,"body_markdown":"You can use this method to check decimal number is valid or not valid: \r\n\r\n\r\n    public boolean isValidDecimalNumber(EditText editText) {\r\n            return !TextUtils.isEmpty(editText.getText().toString().trim()) &amp;&amp; !editText.getText().toString().trim().equalsIgnoreCase(&quot;.&quot;);\r\n        }","title":"How to validate a number entered in the edittext? - android","body":"<p>You can use this method to check decimal number is valid or not valid: </p>\n\n<pre><code>public boolean isValidDecimalNumber(EditText editText) {\n        return !TextUtils.isEmpty(editText.getText().toString().trim()) &amp;&amp; !editText.getText().toString().trim().equalsIgnoreCase(\".\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10360796,"reputation":169,"user_id":7641341,"display_name":"user7641341"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654084527,"creation_date":1654084527,"answer_id":72461453,"question_id":11020235,"body_markdown":"You can do something like that:\r\n\r\nFirst check Edittext is null\r\nSecond check Edittext is value grater than 0\r\n\r\n    String amount1 = edtAmount1.getText().toString().trim();\r\n                if( amount1.length() == 0 || Double.valueOf(amount1)&lt;1){\r\n                    Toast.makeText(StudentfeepayActivity.this,&quot;Enter fee amount&quot;,Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }","title":"How to validate a number entered in the edittext? - android","body":"<p>You can do something like that:</p>\n<p>First check Edittext is null\nSecond check Edittext is value grater than 0</p>\n<pre><code>String amount1 = edtAmount1.getText().toString().trim();\n            if( amount1.length() == 0 || Double.valueOf(amount1)&lt;1){\n                Toast.makeText(StudentfeepayActivity.this,&quot;Enter fee amount&quot;,Toast.LENGTH_LONG).show();\n                return;\n            }\n</code></pre>\n"}],"owner":{"account_id":1554163,"reputation":3912,"user_id":1445807,"accept_rate":90,"display_name":"kumareloaded"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11020280,"answer_count":5,"score":2,"last_activity_date":1654084527,"creation_date":1339608607,"question_id":11020235,"body_markdown":"well am able to validate an edittext when its empty using the below code\r\n\r\n    EditText a = (EditText) findViewById(R.id.edittext1); \r\n    \r\n    if ((a.getText().toString().equals(&quot;&quot;))\r\n    {\r\n    \tToast.makeText(getApplicationContext(), &quot;value is empty&quot;, 0).show();\r\n    }\t\r\n\r\nthe _edittext_ input type is set as number.\r\n\r\nnow i want to validate the number entered.\r\n\r\nfor example the range of number to be entered should be between 15 to 25.\r\n\r\nif the number is below 15 or above 25 it should show **Out of Range**\r\n\r\nhelp me out! :)        ","title":"How to validate a number entered in the edittext? - android","body":"<p>well am able to validate an edittext when its empty using the below code</p>\n\n<pre><code>EditText a = (EditText) findViewById(R.id.edittext1); \n\nif ((a.getText().toString().equals(\"\"))\n{\n    Toast.makeText(getApplicationContext(), \"value is empty\", 0).show();\n}   \n</code></pre>\n\n<p>the <em>edittext</em> input type is set as number.</p>\n\n<p>now i want to validate the number entered.</p>\n\n<p>for example the range of number to be entered should be between 15 to 25.</p>\n\n<p>if the number is below 15 or above 25 it should show <strong>Out of Range</strong></p>\n\n<p>help me out! :)        </p>\n"},{"tags":["java","rest","jmeter","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654084511,"creation_date":1654084511,"answer_id":72461448,"question_id":72461163,"body_markdown":"Before &quot;reading&quot; something you need to &quot;create&quot; something, don&#39;t you? And if you &quot;delete&quot; something you won&#39;t be able to &quot;update&quot; it. \r\n\r\nSo you should create 4 [HTTP Request][1] samplers:\r\n\r\n 1. Create\r\n 2. Read\r\n 3. Update\r\n 4. Delete\r\n\r\neach JMeter thread (virtual user) will run them sequentially. But if you [add more than one thread][2] in the [Thread Group][3] there will be **concurrency**, i.e. first user will be creating one item, second will be updating another item, third user will be reading yet another item, etc. \r\n\r\nJust in case, it&#39;s possible to make all these actions with 1 user at the same time using [Parallel Controller][4] but you won&#39;t get successful results. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [2]: https://jmeter.apache.org/usermanual/build-web-test-plan.html#adding_users\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\r\n  [4]: https://www.blazemeter.com/blog/how-to-use-the-parallel-controller-in-jmeter/","title":"How to write performance tests on rest CRUD API using jmeter?","body":"<p>Before &quot;reading&quot; something you need to &quot;create&quot; something, don't you? And if you &quot;delete&quot; something you won't be able to &quot;update&quot; it.</p>\n<p>So you should create 4 <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> samplers:</p>\n<ol>\n<li>Create</li>\n<li>Read</li>\n<li>Update</li>\n<li>Delete</li>\n</ol>\n<p>each JMeter thread (virtual user) will run them sequentially. But if you <a href=\"https://jmeter.apache.org/usermanual/build-web-test-plan.html#adding_users\" rel=\"nofollow noreferrer\">add more than one thread</a> in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Group</a> there will be <strong>concurrency</strong>, i.e. first user will be creating one item, second will be updating another item, third user will be reading yet another item, etc.</p>\n<p>Just in case, it's possible to make all these actions with 1 user at the same time using <a href=\"https://www.blazemeter.com/blog/how-to-use-the-parallel-controller-in-jmeter/\" rel=\"nofollow noreferrer\">Parallel Controller</a> but you won't get successful results.</p>\n"}],"owner":{"account_id":4152649,"reputation":4697,"user_id":3404637,"accept_rate":56,"display_name":"smali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654084511,"creation_date":1654083254,"question_id":72461163,"body_markdown":"I want to test all the CRUD APIs using JMeter, like CREATE, READ, UPDATE &amp; DELETE in Jmeter\r\n\r\nI have used an autoincrement variable and used the same in all the operations but I wanted to know the correct way.\r\n\r\nThe challenge here is it executing all the APIs parallelly instead of the first CREAT then READ, UPDATE &amp; Delete\r\n\r\nHow can we write nested or ordered tests in Jmeter?","title":"How to write performance tests on rest CRUD API using jmeter?","body":"<p>I want to test all the CRUD APIs using JMeter, like CREATE, READ, UPDATE &amp; DELETE in Jmeter</p>\n<p>I have used an autoincrement variable and used the same in all the operations but I wanted to know the correct way.</p>\n<p>The challenge here is it executing all the APIs parallelly instead of the first CREAT then READ, UPDATE &amp; Delete</p>\n<p>How can we write nested or ordered tests in Jmeter?</p>\n"},{"tags":["java","spring-boot","exception","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"score":0,"creation_date":1653924124,"post_id":72434339,"comment_id":127964472,"body_markdown":"Could you please provide us with handleMyException() body?","body":"Could you please provide us with handleMyException() body?"},{"owner":{"account_id":24010655,"reputation":23,"user_id":17994290,"display_name":"Mel"},"score":1,"creation_date":1653928721,"post_id":72434339,"comment_id":127965934,"body_markdown":"`public Throwable handleMyException(WebClientResponseException e) \n{\n     log.error(…);\n     throw new MyCustomisedException(\n           format( “Some Exception Message”,\n                        getRawStatusCode), e);\n}`","body":"<code>public Throwable handleMyException(WebClientResponseException e)  {      log.error(…);      throw new MyCustomisedException(            format( “Some Exception Message”,                         getRawStatusCode), e); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653939688,"creation_date":1653939688,"answer_id":72439297,"question_id":72434339,"body_markdown":"What you might be missing is the following: if you&#39;re stopping abruptly the server while it&#39;s writing the response to the client, this indeed causes an I/O-like exception when the client is reading the response.\r\n\r\nBut this doesn&#39;t change the fact that the server already wrote and sent the HTTP status and response headers to the client. It&#39;s not the client&#39;s job to decide what the HTTP response should look like. The server indeed responded with HTTP 200 OK but something bad happened while writing the response body.","title":"WebClientResponseException returns with 200 HTTP Status Code when the server is stopped manually","body":"<p>What you might be missing is the following: if you're stopping abruptly the server while it's writing the response to the client, this indeed causes an I/O-like exception when the client is reading the response.</p>\n<p>But this doesn't change the fact that the server already wrote and sent the HTTP status and response headers to the client. It's not the client's job to decide what the HTTP response should look like. The server indeed responded with HTTP 200 OK but something bad happened while writing the response body.</p>\n"}],"owner":{"account_id":24010655,"reputation":23,"user_id":17994290,"display_name":"Mel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654084451,"creation_date":1653913645,"question_id":72434339,"body_markdown":"Currently, I am trying to get messages from the Server-side via WebClient by using Flux.  I want to check if I can handle exceptions for non-2xx HTTP Status cases. During receiving messages I stop the server. \r\nIn such a scenario, I expect to get 500 status codes with my customised exception but it returns the 200 status code with my customised exception. \r\n\r\nBelow you can find the output logs (Bold parts are important)\r\n\r\n\r\n&gt; \r\n\r\n    **org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET&#160;serverUri; nested exception is reactor.netty.http.client.PrematureCloseException: Connection prematurely closed DURING response\r\n    \tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:229) ~[spring-webflux-5.3.18.jar:5.3.18]**\r\n    \tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:207) ~[spring-webflux-5.3.18.jar:5.3.18]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.onError(Operators.java:1863) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:140) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:334) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:144) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:172) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:143) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onError(FluxConcatMap.java:263) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxBufferPredicate$BufferPredicateSubscriber.onError(FluxBufferPredicate.java:346) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onError(FluxPeekFuseable.java:553) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:334) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:321) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:686) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onError(FluxFlattenIterable.java:257) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\r\n    \tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:465) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:260) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:453) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:488) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat reactor.netty.http.client.HttpClientOperations.onInboundClose(HttpClientOperations.java:298) ~[reactor-netty-http-1.0.17.jar:1.0.17]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelInactive(ChannelOperationsHandler.java:73) ~[reactor-netty-core-1.0.17.jar:1.0.17]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.handler.codec.http.HttpContentDecoder.channelInactive(HttpContentDecoder.java:235) ~[netty-codec-http-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392) ~[netty-codec-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:357) ~[netty-codec-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:326) ~[netty-codec-http-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: reactor.netty.http.client.PrematureCloseException: Connection prematurely closed DURING response\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Body from GET&#160;&lt;serverUri&gt;&#160;[DefaultClientResponse]\r\n    \t*__checkpoint ⇢ Body from GET&#160;&lt;serverUri&gt;&#160;[DefaultClientResponse]\r\n    Original Stack Trace: 2022-05-30 11:06:33.864 ERROR 14499 --- [ctor-http-nio-2] c.m.c.s.service.MyServiceClass&#160;&#160;&#160;&#160;&#160; : Error receiving message.\r\n    **com.myProject.MyCustomisedException: The server responded with error [200] when attempting to sending response**\r\n    \tat com.myProject.MyExceptionHandler……\r\n\r\n\r\n\r\nHere&#39;s the Client-Side code:\r\n\r\n\r\n``` \r\nwebClient\r\n        .get()\r\n        .uri(serverUri)\r\n        .header(headerName, headerValue)\r\n        .retrieve()\r\n        .bodyToFlux(MyType)\r\n        .onErrorMap(\r\n            WebClientResponseException.class, handleMyException());\r\n\r\n\r\n\r\nmessageStream.subscribe(m -&gt; \r\n{\r\n…\r\nexecutorService.execute\r\n( **operations with callback function** )\r\n…\r\n}\r\n); \r\n```\r\n\r\nWhat am I missing in such a scenario?","title":"WebClientResponseException returns with 200 HTTP Status Code when the server is stopped manually","body":"<p>Currently, I am trying to get messages from the Server-side via WebClient by using Flux.  I want to check if I can handle exceptions for non-2xx HTTP Status cases. During receiving messages I stop the server.\nIn such a scenario, I expect to get 500 status codes with my customised exception but it returns the 200 status code with my customised exception.</p>\n<p>Below you can find the output logs (Bold parts are important)</p>\n<blockquote>\n</blockquote>\n<pre><code>**org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET serverUri; nested exception is reactor.netty.http.client.PrematureCloseException: Connection prematurely closed DURING response\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:229) ~[spring-webflux-5.3.18.jar:5.3.18]**\n    at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:207) ~[spring-webflux-5.3.18.jar:5.3.18]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.Operators$MonoSubscriber.onError(Operators.java:1863) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:140) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:334) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:144) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:172) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:143) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onError(FluxConcatMap.java:263) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxBufferPredicate$BufferPredicateSubscriber.onError(FluxBufferPredicate.java:346) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onError(FluxPeekFuseable.java:553) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:334) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:321) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:686) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onError(FluxFlattenIterable.java:257) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.16.jar:3.4.16]\n    at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:465) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:260) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:453) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:488) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at reactor.netty.http.client.HttpClientOperations.onInboundClose(HttpClientOperations.java:298) ~[reactor-netty-http-1.0.17.jar:1.0.17]\n    at reactor.netty.channel.ChannelOperationsHandler.channelInactive(ChannelOperationsHandler.java:73) ~[reactor-netty-core-1.0.17.jar:1.0.17]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.handler.codec.http.HttpContentDecoder.channelInactive(HttpContentDecoder.java:235) ~[netty-codec-http-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392) ~[netty-codec-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:357) ~[netty-codec-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:326) ~[netty-codec-http-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500) ~[netty-transport-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: reactor.netty.http.client.PrematureCloseException: Connection prematurely closed DURING response\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n    *__checkpoint ⇢ Body from GET &lt;serverUri&gt; [DefaultClientResponse]\n    *__checkpoint ⇢ Body from GET &lt;serverUri&gt; [DefaultClientResponse]\nOriginal Stack Trace: 2022-05-30 11:06:33.864 ERROR 14499 --- [ctor-http-nio-2] c.m.c.s.service.MyServiceClass      : Error receiving message.\n**com.myProject.MyCustomisedException: The server responded with error [200] when attempting to sending response**\n    at com.myProject.MyExceptionHandler……\n</code></pre>\n<p>Here's the Client-Side code:</p>\n<pre><code>webClient\n        .get()\n        .uri(serverUri)\n        .header(headerName, headerValue)\n        .retrieve()\n        .bodyToFlux(MyType)\n        .onErrorMap(\n            WebClientResponseException.class, handleMyException());\n\n\n\nmessageStream.subscribe(m -&gt; \n{\n…\nexecutorService.execute\n( **operations with callback function** )\n…\n}\n); \n</code></pre>\n<p>What am I missing in such a scenario?</p>\n"},{"tags":["java","android","docker","gitlab"],"comments":[{"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"score":1,"creation_date":1657004093,"post_id":72461422,"comment_id":128699791,"body_markdown":"I had my phone and my virtual device both connected. so i disconnected my phone and this error was gone.","body":"I had my phone and my virtual device both connected. so i disconnected my phone and this error was gone."}],"owner":{"account_id":23663513,"reputation":21,"user_id":17691289,"display_name":"Chaimae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2057,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654084390,"creation_date":1654084390,"question_id":72461422,"body_markdown":"\r\n\r\n\r\ni am using gitlab ci to test my apk and to do that i needed a virtual device so i can test my instrumented test to take screenshots with fastlane commande but when i try to run ./gradlew connectedAndroidTest in gitlab using this pipeline \r\n \r\n\r\n \r\n\r\n       image: mingc/android-build-box:latest\r\n    \r\n    stages:\r\n      - ui-test\r\n      - build\r\n      - test\r\n    \r\n    variables:\r\n      LC_ALL: &quot;en_US.UTF-8&quot;\r\n      LANG: &quot;en_US.UTF-8&quot;\r\n    \r\n    \r\n    before_script:\r\n      - chmod +x ./gradlew\r\n      - gem install fastlane\r\n      - export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\r\n    build:\r\n     \r\n      stage: build\r\n      script:\r\n        -  fastlane  build\r\n      artifacts:\r\n        paths:\r\n          - &quot;app/build/outputs/&quot;\r\n      tags:\r\n        - docker\r\n    ui-test:\r\n      stage: ui-test\r\n      script:\r\n        - export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\r\n        # Add missing folder to the PATH, to use sdkmanager\r\n        - export ADB_INSTALL_TIMEOUT=30\r\n        - export USE_SDK_WRAPPER=True\r\n        # Insall and run emulator\r\n        - sdkmanager &quot;platform-tools&quot; &quot;platforms;android-27&quot; &quot;emulator&quot;\r\n    \r\n        - sdkmanager &quot;system-images;android-27;google_apis;arm64-v8a&quot;\r\n        - adb devices\r\n        # Create an ARM-based emulator AVD with 250 MB SD car\r\n        - echo &quot;no&quot; | avdmanager create avd -n Android_7.0_API_24 -k &quot;system-images;android-27;google_apis;arm64-v8a&quot; -c 250M --force\r\n    \r\n        # Check the image is properly created and available to run\r\n        - emulator -list-avds\r\n        - emulator -avd  Android_7.0_API_24 -no-audio -no-window -gpu off &amp;\r\n        - adb wait-for-device devices\r\n        - echo &quot;Emulator is ready&quot;\r\n        - adb devices\r\n        - export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\r\n        - ./gradlew connectedAndroidTest\r\n        - fastlane  screenshots\r\n    \r\n      tags:\r\n        - docker\r\n    test:\r\n      stage: test\r\n      script:\r\n        - fastlane  test\r\n      tags:\r\n        - docker\r\n                \r\n\r\nI got this error even if this test got no error while i run it in android studio\r\n\r\n    [PropertyFetcher]: ShellCommandUnresponsiveException getting properties for device emulator-5554\r\n    java.lang.Throwable: ShellCommandUnresponsiveException getting properties for device emulator-5554\r\n    \tat com.android.ddmlib.PropertyFetcher.handleException(PropertyFetcher.java:248)\r\n    \tat com.android.ddmlib.PropertyFetcher.access$500(PropertyFetcher.java:30)\r\n    \tat com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:211)\r\n    Caused by: com.android.ddmlib.ShellCommandUnresponsiveException\r\n    \tat com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:689)\r\n    \tat com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:468)\r\n    \tat com.android.ddmlib.internal.DeviceImpl.executeShellCommand(DeviceImpl.java:705)\r\n    \tat com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:207)\r\n    [PropertyFetcher]: ShellCommandUnresponsiveException getting properties for device emulator-5554\r\n    java.lang.Throwable: ShellCommandUnresponsiveException getting properties for device emulator-5554\r\n    \tat com.android.ddmlib.PropertyFetcher.handleException(PropertyFetcher.java:248)\r\n    \tat com.android.ddmlib.PropertyFetcher.access$500(PropertyFetcher.java:30)\r\n    \tat com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:211)\r\n    Caused by: com.android.ddmlib.ShellCommandUnresponsiveException\r\n    \tat com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:689)\r\n    \tat com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:468)\r\n    \tat com.android.ddmlib.internal.DeviceImpl.executeShellCommand(DeviceImpl.java:705)\r\n    \tat com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:207)\r\n    &gt; Task :app:connectedDebugAndroidTest\r\n    Skipping device &#39;Android_7.0_API_24(AVD)&#39; for &#39;app:&#39;: Unknown API Level\r\n     &gt; : No compatible devices connected.[TestRunner] FAILED \r\n    Found 1 connected device(s), 0 of which were compatible.\r\n    &gt; Task :app:connectedDebugAndroidTest FAILED\r\n    FAILURE: Build failed with an exception.\r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    See https://docs.gradle.org/7.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n    61 actionable tasks: 61 executed\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:connectedDebugAndroidTest&#39;.\r\n    &gt; There were failing tests. See the report at: file:///builds/chaimae.bousaid/myapplication/app/build/reports/androidTests/connected/index.html\r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    * Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6m 24s\r\n    Cleaning up project directory and file based variables\r\n    00:32\r\n    ERROR: Job failed: exit code 1\r\n\r\n\r\ndoes any one have any idea to solve it i have been solving this error for a mounth \r\n","title":"Execution failed for task &#39;:app:connectedDebugAndroidTest&#39;. Gitlab CI","body":"<p>i am using gitlab ci to test my apk and to do that i needed a virtual device so i can test my instrumented test to take screenshots with fastlane commande but when i try to run ./gradlew connectedAndroidTest in gitlab using this pipeline</p>\n<pre><code>   image: mingc/android-build-box:latest\n\nstages:\n  - ui-test\n  - build\n  - test\n\nvariables:\n  LC_ALL: &quot;en_US.UTF-8&quot;\n  LANG: &quot;en_US.UTF-8&quot;\n\n\nbefore_script:\n  - chmod +x ./gradlew\n  - gem install fastlane\n  - export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\nbuild:\n \n  stage: build\n  script:\n    -  fastlane  build\n  artifacts:\n    paths:\n      - &quot;app/build/outputs/&quot;\n  tags:\n    - docker\nui-test:\n  stage: ui-test\n  script:\n    - export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\n    # Add missing folder to the PATH, to use sdkmanager\n    - export ADB_INSTALL_TIMEOUT=30\n    - export USE_SDK_WRAPPER=True\n    # Insall and run emulator\n    - sdkmanager &quot;platform-tools&quot; &quot;platforms;android-27&quot; &quot;emulator&quot;\n\n    - sdkmanager &quot;system-images;android-27;google_apis;arm64-v8a&quot;\n    - adb devices\n    # Create an ARM-based emulator AVD with 250 MB SD car\n    - echo &quot;no&quot; | avdmanager create avd -n Android_7.0_API_24 -k &quot;system-images;android-27;google_apis;arm64-v8a&quot; -c 250M --force\n\n    # Check the image is properly created and available to run\n    - emulator -list-avds\n    - emulator -avd  Android_7.0_API_24 -no-audio -no-window -gpu off &amp;\n    - adb wait-for-device devices\n    - echo &quot;Emulator is ready&quot;\n    - adb devices\n    - export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\n    - ./gradlew connectedAndroidTest\n    - fastlane  screenshots\n\n  tags:\n    - docker\ntest:\n  stage: test\n  script:\n    - fastlane  test\n  tags:\n    - docker\n            \n</code></pre>\n<p>I got this error even if this test got no error while i run it in android studio</p>\n<pre><code>[PropertyFetcher]: ShellCommandUnresponsiveException getting properties for device emulator-5554\njava.lang.Throwable: ShellCommandUnresponsiveException getting properties for device emulator-5554\n    at com.android.ddmlib.PropertyFetcher.handleException(PropertyFetcher.java:248)\n    at com.android.ddmlib.PropertyFetcher.access$500(PropertyFetcher.java:30)\n    at com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:211)\nCaused by: com.android.ddmlib.ShellCommandUnresponsiveException\n    at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:689)\n    at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:468)\n    at com.android.ddmlib.internal.DeviceImpl.executeShellCommand(DeviceImpl.java:705)\n    at com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:207)\n[PropertyFetcher]: ShellCommandUnresponsiveException getting properties for device emulator-5554\njava.lang.Throwable: ShellCommandUnresponsiveException getting properties for device emulator-5554\n    at com.android.ddmlib.PropertyFetcher.handleException(PropertyFetcher.java:248)\n    at com.android.ddmlib.PropertyFetcher.access$500(PropertyFetcher.java:30)\n    at com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:211)\nCaused by: com.android.ddmlib.ShellCommandUnresponsiveException\n    at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:689)\n    at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:468)\n    at com.android.ddmlib.internal.DeviceImpl.executeShellCommand(DeviceImpl.java:705)\n    at com.android.ddmlib.PropertyFetcher$1.run(PropertyFetcher.java:207)\n&gt; Task :app:connectedDebugAndroidTest\nSkipping device 'Android_7.0_API_24(AVD)' for 'app:': Unknown API Level\n &gt; : No compatible devices connected.[TestRunner] FAILED \nFound 1 connected device(s), 0 of which were compatible.\n&gt; Task :app:connectedDebugAndroidTest FAILED\nFAILURE: Build failed with an exception.\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\nSee https://docs.gradle.org/7.2/userguide/command_line_interface.html#sec:command_line_warnings\n61 actionable tasks: 61 executed\n* What went wrong:\nExecution failed for task ':app:connectedDebugAndroidTest'.\n&gt; There were failing tests. See the report at: file:///builds/chaimae.bousaid/myapplication/app/build/reports/androidTests/connected/index.html\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 6m 24s\nCleaning up project directory and file based variables\n00:32\nERROR: Job failed: exit code 1\n</code></pre>\n<p>does any one have any idea to solve it i have been solving this error for a mounth</p>\n"},{"tags":["java","linux","tomcat","catalina","library-path"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1653997056,"post_id":72447005,"comment_id":127982108,"body_markdown":"I think `java.library.path` is sometimes not set, so why not included it explicitly in your OPTS? `-Djava.library.path=$LD_LIBRARY_PATH:/your/extra/libraries`","body":"I think <code>java.library.path</code> is sometimes not set, so why not included it explicitly in your OPTS? <code>-Djava.library.path=$LD_LIBRARY_PATH:&#47;your&#47;extra&#47;libraries</code>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1653997250,"post_id":72447005,"comment_id":127982197,"body_markdown":"I wonder if you only set it without `export`?","body":"I wonder if you only set it without <code>export</code>?"},{"owner":{"account_id":13575161,"reputation":31,"user_id":9792716,"display_name":"Krayer"},"score":0,"creation_date":1653997481,"post_id":72447005,"comment_id":127982290,"body_markdown":"Thanks!\n\n@g00se: could be, where ? In catalina.sh ?","body":"Thanks!  @g00se: could be, where ? In catalina.sh ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653997559,"post_id":72447005,"comment_id":127982329,"body_markdown":"Could be TOMCAT_OPTS but check for your version, as Tomcat has the habit of changing all the time","body":"Could be TOMCAT_OPTS but check for your version, as Tomcat has the habit of changing all the time"},{"owner":{"account_id":13575161,"reputation":31,"user_id":9792716,"display_name":"Krayer"},"score":0,"creation_date":1653997563,"post_id":72447005,"comment_id":127982332,"body_markdown":"Like:\n\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.library.path=$LD_LIBRARY_PATH&quot;\n\n??","body":"Like:  JAVA_OPTS=&quot;$JAVA_OPTS -Djava.library.path=$LD_LIBRARY_PATH&quot;  ??"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653997899,"post_id":72447005,"comment_id":127982454,"body_markdown":"JAVA_OPTS could still be a thing, but as I said, check for your version","body":"JAVA_OPTS could still be a thing, but as I said, check for your version"},{"owner":{"account_id":13575161,"reputation":31,"user_id":9792716,"display_name":"Krayer"},"score":0,"creation_date":1654000980,"post_id":72447005,"comment_id":127983691,"body_markdown":"I&#39;m using /opt/apache-tomee-plus-9.0.0-M3 , so as i understand it&#39;s CATALINA_OPTS, but not sure how to add it...\n\nwhen i run:\n java -XshowSettings:properties\nfrom commandline, eveything looks fine, and the paths are included, \n\nBut when is start Catalina, it&#39;s not considered, it seems to default and exclude my libs ?","body":"I&#39;m using /opt/apache-tomee-plus-9.0.0-M3 , so as i understand it&#39;s CATALINA_OPTS, but not sure how to add it...  when i run:  java -XshowSettings:properties from commandline, eveything looks fine, and the paths are included,   But when is start Catalina, it&#39;s not considered, it seems to default and exclude my libs ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654078094,"post_id":72447005,"comment_id":128004487,"body_markdown":"*eveything looks fine* Can you post that output in code tags please? (JUst the bit that includes `java.library.path`)","body":"<i>eveything looks fine</i> Can you post that output in code tags please? (JUst the bit that includes <code>java.library.path</code>)"},{"owner":{"account_id":13575161,"reputation":31,"user_id":9792716,"display_name":"Krayer"},"score":0,"creation_date":1654081045,"post_id":72447005,"comment_id":128005559,"body_markdown":"Yes! I have added the output, at the end of original question, above","body":"Yes! I have added the output, at the end of original question, above"}],"owner":{"account_id":13575161,"reputation":31,"user_id":9792716,"display_name":"Krayer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654084102,"creation_date":1653996590,"question_id":72447005,"body_markdown":"I&#39;m running apache tomcat on a Linux machine hosted on google cloud, standard machine without anything fancy.\r\n\r\nThe machine host&#39;s back_end Java API business application which requires certain binary .so files to link to when running. \r\n\r\nThe required libraries are added to $LD_LIBRARRY_PATH\r\n\r\nBut when i run tomcat, java.library.path does not include this, and i get the error:\r\n\r\n&gt; 31-May-2022 11:20:16.378 INFO [main]\r\n&gt; jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke The Apache\r\n&gt; Tomcat Native library which allows using OpenSSL was not found on the\r\n&gt; java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-li\r\n&gt; nux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]\r\n\r\nIm out of ideas, how do i setjava.library.path includes $LD_LIBRARY_PATH when java runs ? \r\n\r\nKrgds.\r\n\r\n\r\nMORE INFO:\r\n\r\nrunning from commandline: \r\n\r\n`java -XshowSettings:properties`\r\n\r\ngives:\r\n\r\n      java.library.path = $LD_LIBRARY_PATH\r\n        /opt/ibm/ILOG/CPLEX_Studio129/cplex/bin/x86-64_linux\r\n        /opt/ibm/ILOG/CPLEX_Studio129/cplex/lib\r\n        /usr/java/packages/lib\r\n        /usr/lib/x86_64-linux-gnu/jni\r\n        /lib/x86_64-linux-gnu\r\n        /usr/lib/x86_64-linux-gnu\r\n        /usr/lib/jni\r\n        /lib\r\n        /usr/lib\r\n\r\nBut when tomcat/catalina, runs it tels:\r\n\r\n    was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-li\r\n    nux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]","title":"java.library.path not set as LD_LIBRARY_PATH","body":"<p>I'm running apache tomcat on a Linux machine hosted on google cloud, standard machine without anything fancy.</p>\n<p>The machine host's back_end Java API business application which requires certain binary .so files to link to when running.</p>\n<p>The required libraries are added to $LD_LIBRARRY_PATH</p>\n<p>But when i run tomcat, java.library.path does not include this, and i get the error:</p>\n<blockquote>\n<p>31-May-2022 11:20:16.378 INFO [main]\njdk.internal.reflect.DelegatingMethodAccessorImpl.invoke The Apache\nTomcat Native library which allows using OpenSSL was not found on the\njava.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-li\nnux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]</p>\n</blockquote>\n<p>Im out of ideas, how do i setjava.library.path includes $LD_LIBRARY_PATH when java runs ?</p>\n<p>Krgds.</p>\n<p>MORE INFO:</p>\n<p>running from commandline:</p>\n<p><code>java -XshowSettings:properties</code></p>\n<p>gives:</p>\n<pre><code>  java.library.path = $LD_LIBRARY_PATH\n    /opt/ibm/ILOG/CPLEX_Studio129/cplex/bin/x86-64_linux\n    /opt/ibm/ILOG/CPLEX_Studio129/cplex/lib\n    /usr/java/packages/lib\n    /usr/lib/x86_64-linux-gnu/jni\n    /lib/x86_64-linux-gnu\n    /usr/lib/x86_64-linux-gnu\n    /usr/lib/jni\n    /lib\n    /usr/lib\n</code></pre>\n<p>But when tomcat/catalina, runs it tels:</p>\n<pre><code>was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-li\nnux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]\n</code></pre>\n"},{"tags":["java","excel","vba","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1654087309,"post_id":72461343,"comment_id":128007816,"body_markdown":"Different amounts of memory allocated to the JVM?","body":"Different amounts of memory allocated to the JVM?"}],"owner":{"account_id":25445748,"reputation":11,"user_id":19247975,"display_name":"Kali2137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654084037,"creation_date":1654084037,"question_id":72461343,"body_markdown":"The application sends data to Excel. On a computer with Java 1.8, it takes 5 minutes to load this data. on Java 11, data is read in a second. What could be the reason?\r\nI tried apache poi 4.1.2 and 5.2.2 without any sucess\r\n\r\ncode that sends data to excel and then runs the script in vba :\r\n\r\n\t\t\t\t\t\t// Creating file object of existing excel file\r\n\t\t\t\t\t\tFile xlsxFile1 = new File(&quot;.\\\\HUB.xlsm&quot;);\t         \r\n\t\t\t\t\t\t//New records to update in excel file\r\n\t\t\t\t\t\tString telefonbezstafki = sraka.telefon.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n\t\t\t\t\t\tObject[][] nowedane ={{sraka.name.replaceAll(&quot;-&quot;,&quot; &quot;)},\r\n\t\t\t\t\t\t\t\t{sraka.2name.replaceAll(&quot;-&quot;,&quot; &quot;)},\r\n\t\t\t\t\t\t\t\t{phonebezstafki },\r\n\t\t\t\t\t\t\t\t{sraka.mail},\r\n\t\t\t\t\t\t\t\t{Konto_Stars}};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//Creating input stream\r\n\t\t\t\t\t\t\tFileInputStream inputStream1 = new FileInputStream(xlsxFile1);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;stworzenie xlm&quot; );\r\n\t\t\t\t\t\t\t//Creating workbook from input stream\r\n\t\t\t\t\t\t\tWorkbook workbook = WorkbookFactory.create(inputStream1);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Workbook workbook =WorkbookFactory.create(inputStream1);&quot; );\r\n\t\t\t\t\t\t\t//Reading first sheet of excel file\r\n\t\t\t\t\t\t\tSheet sheet = workbook.getSheetAt(0);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Sheet sheet = workbook.getSheetAt(0);&quot; );\r\n\t\t\t\t\t\t\t//Getting the count of existing records\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint rowCount = sheet.getLastRowNum();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;int rowCount = sheet.getLastRowNum();&quot; );\r\n\r\n\t\t\t\t\t\t\t//Iterating new data to update\r\n\t\t\t\t\t\t\tfor (Object[] student : nowedane) {\r\n\r\n\t\t\t\t\t\t\t\t//Creating new row from the next row count\r\n\t\t\t\t\t\t\t\tRow row = sheet.createRow(++rowCount);\r\n\r\n\t\t\t\t\t\t\t\tint columnCount = 0;\r\n\r\n\t\t\t\t\t\t\t\t//Iterating student informations\r\n\t\t\t\t\t\t\t\tfor (Object info : student) {\r\n\r\n\t\t\t\t\t\t\t\t\t//Creating new cell and setting the value\r\n\t\t\t\t\t\t\t\t\tCell cell = row.createCell(columnCount++);\r\n\t\t\t\t\t\t\t\t\tif (info instanceof String) {\r\n\t\t\t\t\t\t\t\t\t\tcell.setCellValue((String) info);\r\n\t\t\t\t\t\t\t\t\t} else if (info instanceof Integer) {\r\n\t\t\t\t\t\t\t\t\t\tcell.setCellValue((Integer) info);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//Close input stream\r\n\t\t\t\t\t\t\tinputStream1.close();\r\n\r\n\t\t\t\t\t\t\t//Crating output stream and writing the updated workbook\r\n\t\t\t\t\t\t\tFileOutputStream os = new FileOutputStream(xlsxFile1);\r\n\t\t\t\t\t\t\tworkbook.write(os);\r\n\r\n\t\t\t\t\t\t\t//Close the workbook and output stream\r\n\t\t\t\t\t\t\tworkbook.close();\r\n\t\t\t\t\t\t\tos.close();\r\n\r\n\t\t\t\t\t\t","title":"Apache POI 4.1.2 Working much slower on java 1.8 then java 11","body":"<p>The application sends data to Excel. On a computer with Java 1.8, it takes 5 minutes to load this data. on Java 11, data is read in a second. What could be the reason?\nI tried apache poi 4.1.2 and 5.2.2 without any sucess</p>\n<p>code that sends data to excel and then runs the script in vba :</p>\n<pre><code>                    // Creating file object of existing excel file\n                    File xlsxFile1 = new File(&quot;.\\\\HUB.xlsm&quot;);            \n                    //New records to update in excel file\n                    String telefonbezstafki = sraka.telefon.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\n                    Object[][] nowedane ={{sraka.name.replaceAll(&quot;-&quot;,&quot; &quot;)},\n                            {sraka.2name.replaceAll(&quot;-&quot;,&quot; &quot;)},\n                            {phonebezstafki },\n                            {sraka.mail},\n                            {Konto_Stars}};\n                    \n                        //Creating input stream\n                        FileInputStream inputStream1 = new FileInputStream(xlsxFile1);\n                        System.out.println(&quot;stworzenie xlm&quot; );\n                        //Creating workbook from input stream\n                        Workbook workbook = WorkbookFactory.create(inputStream1);\n                        System.out.println(&quot;Workbook workbook =WorkbookFactory.create(inputStream1);&quot; );\n                        //Reading first sheet of excel file\n                        Sheet sheet = workbook.getSheetAt(0);\n                        System.out.println(&quot;Sheet sheet = workbook.getSheetAt(0);&quot; );\n                        //Getting the count of existing records\n                    \n                        int rowCount = sheet.getLastRowNum();\n                        System.out.println(&quot;int rowCount = sheet.getLastRowNum();&quot; );\n\n                        //Iterating new data to update\n                        for (Object[] student : nowedane) {\n\n                            //Creating new row from the next row count\n                            Row row = sheet.createRow(++rowCount);\n\n                            int columnCount = 0;\n\n                            //Iterating student informations\n                            for (Object info : student) {\n\n                                //Creating new cell and setting the value\n                                Cell cell = row.createCell(columnCount++);\n                                if (info instanceof String) {\n                                    cell.setCellValue((String) info);\n                                } else if (info instanceof Integer) {\n                                    cell.setCellValue((Integer) info);\n                                }\n                            }\n                        }\n                        //Close input stream\n                        inputStream1.close();\n\n                        //Crating output stream and writing the updated workbook\n                        FileOutputStream os = new FileOutputStream(xlsxFile1);\n                        workbook.write(os);\n\n                        //Close the workbook and output stream\n                        workbook.close();\n                        os.close();\n\n                    \n</code></pre>\n"},{"tags":["java","spring","option-type","resttemplate"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1654082083,"post_id":72460797,"comment_id":128005901,"body_markdown":"You can use getForEntity and on ResponseEntity you can verify the status code and get the body. You can use hasBody method from ResponseEntity to verify if body exists.","body":"You can use getForEntity and on ResponseEntity you can verify the status code and get the body. You can use hasBody method from ResponseEntity to verify if body exists."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654082119,"post_id":72460797,"comment_id":128005910,"body_markdown":"You don&#39;t. As when it is empty you will get a NOT_FOUND (404) else you get a 200. So what the return type on the server is doesn&#39;t mean has to be the return value on the client!.","body":"You don&#39;t. As when it is empty you will get a NOT_FOUND (404) else you get a 200. So what the return type on the server is doesn&#39;t mean has to be the return value on the client!."}],"answers":[{"tags":[],"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654084002,"creation_date":1654084002,"answer_id":72461334,"question_id":72460797,"body_markdown":"You need to build your own RestTemplate class extending the existing `RestTemplate` class which provides a method returning an optional of the expected response type.\r\n\r\nFollowing I&#39;ve provided a small example showing a way you could implement it:\r\n\r\n    public class FooRestTemplate extends RestTemplate {\r\n        public &lt;T&gt; Optional&lt;T&gt; getForObjectAsOptional(final URI url, Class&lt;T&gt; responseType) throws RestClientException {\r\n            try {\r\n                return Optional.ofNullable(super.getForObject(url, responseType));\r\n            } catch (HttpClientErrorException ex) {\r\n                logger.error(&quot;Error: &quot;, ex);\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    }\r\n\r\nThis is just a simple example.\r\nYou could also extend the catch block. For example return `Optional.empty()` only  if the status code equals 404 not found:\r\n\r\n    public class FooOptionalEmptyNotFoundRestTemplate extends RestTemplate {\r\n        public &lt;T&gt; Optional&lt;T&gt; getForObjectAsOptional(final URI url, Class&lt;T&gt; responseType) throws RestClientException {\r\n            try {\r\n                return Optional.ofNullable(super.getForObject(url, responseType));\r\n            } catch (HttpClientErrorException ex) {                \r\n                if(ex.getStatusCode().equals(HttpStatus.NOT_FOUND)) {\r\n                    return Optional.empty();\r\n                }\r\n                \r\n                logger.error(&quot;Error: &quot;, ex);\r\n                throw ex;\r\n            }\r\n        }\r\n    }","title":"How to get an Optional type as a response from RestTemplate","body":"<p>You need to build your own RestTemplate class extending the existing <code>RestTemplate</code> class which provides a method returning an optional of the expected response type.</p>\n<p>Following I've provided a small example showing a way you could implement it:</p>\n<pre><code>public class FooRestTemplate extends RestTemplate {\n    public &lt;T&gt; Optional&lt;T&gt; getForObjectAsOptional(final URI url, Class&lt;T&gt; responseType) throws RestClientException {\n        try {\n            return Optional.ofNullable(super.getForObject(url, responseType));\n        } catch (HttpClientErrorException ex) {\n            logger.error(&quot;Error: &quot;, ex);\n            return Optional.empty();\n        }\n    }\n}\n</code></pre>\n<p>This is just a simple example.\nYou could also extend the catch block. For example return <code>Optional.empty()</code> only  if the status code equals 404 not found:</p>\n<pre><code>public class FooOptionalEmptyNotFoundRestTemplate extends RestTemplate {\n    public &lt;T&gt; Optional&lt;T&gt; getForObjectAsOptional(final URI url, Class&lt;T&gt; responseType) throws RestClientException {\n        try {\n            return Optional.ofNullable(super.getForObject(url, responseType));\n        } catch (HttpClientErrorException ex) {                \n            if(ex.getStatusCode().equals(HttpStatus.NOT_FOUND)) {\n                return Optional.empty();\n            }\n            \n            logger.error(&quot;Error: &quot;, ex);\n            throw ex;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654084002,"creation_date":1654081719,"question_id":72460797,"body_markdown":"I have two spring applications running. One makes a call to an api in the other app using RestTemplate. The return type of this api is `Optional&lt;User&gt;`. The calling app uses the below method to make the call:\r\n\r\n    restTemplate.getForObject(path, Optional.class)\r\n\r\nWhile debugging, I see that the api is returning the object properly, but somehow my calling app is getting a null response body. \r\nSo, I tried updating the return type of the api to `User` and the calling code to : `restTemplate.getForObject(path, User.class)` and it works fine. \r\n\r\nI need to know how to get an Optional response type using RestTemplate. I&#39;m, not sure what is it that I&#39;m doing wrong.","title":"How to get an Optional type as a response from RestTemplate","body":"<p>I have two spring applications running. One makes a call to an api in the other app using RestTemplate. The return type of this api is <code>Optional&lt;User&gt;</code>. The calling app uses the below method to make the call:</p>\n<pre><code>restTemplate.getForObject(path, Optional.class)\n</code></pre>\n<p>While debugging, I see that the api is returning the object properly, but somehow my calling app is getting a null response body.\nSo, I tried updating the return type of the api to <code>User</code> and the calling code to : <code>restTemplate.getForObject(path, User.class)</code> and it works fine.</p>\n<p>I need to know how to get an Optional response type using RestTemplate. I'm, not sure what is it that I'm doing wrong.</p>\n"},{"tags":["java","kubernetes","vert.x"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1654091384,"post_id":72461267,"comment_id":128009275,"body_markdown":"Can you make sure the container creates the desired number of event loops? That would help understand if the problem is with environment detection or number of connections opened by the proxy","body":"Can you make sure the container creates the desired number of event loops? That would help understand if the problem is with environment detection or number of connections opened by the proxy"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1654098333,"post_id":72461267,"comment_id":128012098,"body_markdown":"The event-loops are created as I can see in the logs that I share. What else can I check?","body":"The event-loops are created as I can see in the logs that I share. What else can I check?"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1654112407,"post_id":72461267,"comment_id":128016791,"body_markdown":"You could run a jshell command in your container to check how many cores are seen by the JVM (see https://stackoverflow.com/questions/40833215/docker-java-number-of-available-cpu-cores#comment118874773_53223113)","body":"You could run a jshell command in your container to check how many cores are seen by the JVM (see <a href=\"https://stackoverflow.com/questions/40833215/docker-java-number-of-available-cpu-cores#comment118874773_53223113\" title=\"docker java number of available cpu cores%23comment118874773_53223113\">stackoverflow.com/questions/40833215/&hellip;</a>)"},{"owner":{"account_id":19117404,"reputation":220,"user_id":13962023,"display_name":"shaki"},"score":0,"creation_date":1656512261,"post_id":72461267,"comment_id":128591594,"body_markdown":"I&#39;m facing the same kind of issue. I have no problem running my vert.x application locally and I can see it running with up to 20 threads, but in k8s (k3s specifically) it&#39;s only using 2 threads, even though it should have more than enough resources to use more","body":"I&#39;m facing the same kind of issue. I have no problem running my vert.x application locally and I can see it running with up to 20 threads, but in k8s (k3s specifically) it&#39;s only using 2 threads, even though it should have more than enough resources to use more"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654083733,"creation_date":1654083733,"question_id":72461267,"body_markdown":"I&#39;m facing a very weird behavior, trying to scale up vertically, running multiple Verticles\r\n\r\nWhen I deploy in my local machine I can see the multiple Verticles and event-loop threads are created\r\n\r\n\r\n    [] | 2022-06-01 13:29:10.533 [vert.x-eventloop-thread-2] INFO  Async-flow-http-proxy running......\r\n    [] | 2022-06-01 13:29:10.534 [vert.x-eventloop-thread-4] INFO  Async-flow-http-proxy running......\r\n    [] | 2022-06-01 13:29:10.534 [vert.x-eventloop-thread-3] INFO  Async-flow-http-proxy running......\r\n    [] | 2022-06-01 13:29:10.535 [vert.x-eventloop-thread-1] INFO  Async-flow-http-proxy running......\r\n    [] | 2022-06-01 13:29:10.535 [vert.x-eventloop-thread-4] INFO  Async-flow-http-proxy running......\r\n    [] | 2022-06-01 13:29:10.536 [vert.x-eventloop-thread-7] INFO  Async-flow-http-proxy running......\r\n    [] | 2022-06-01 13:29:10.536 [vert.x-eventloop-thread-7] INFO  Async-flow-http-proxy running......\r\n\r\n\r\nThen when I run some queries I can see that all event-loops are used in round-robin fashion.\r\n\r\n    [] | 2022-06-01 13:29:11.126 [vert.x-eventloop-thread-2] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\r\n    [] | 2022-06-01 13:29:11.127 [vert.x-eventloop-thread-4] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\r\n    [] | 2022-06-01 13:29:11.127 [vert.x-eventloop-thread-6] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\r\n    [] | 2022-06-01 13:29:11.126 [vert.x-eventloop-thread-0] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\r\n\r\nBut, when I deploy in `Kubernetes`, and run the container with `Java 11`, and `cpu &#39;10&#39;`. I can still see that the multiple event-loops are created, but when I run request, only `two` of them are working, so then with big traffic I start struggling with only two event-loops\r\n\r\n\r\n    [] | 2022-06-01 13:29:11.126 [vert.x-eventloop-thread-2] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\r\n    [] | 2022-06-01 13:29:11.127 [vert.x-eventloop-thread-4] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\r\n\r\n","title":"Vertx in Kubernetes only work with two cpu","body":"<p>I'm facing a very weird behavior, trying to scale up vertically, running multiple Verticles</p>\n<p>When I deploy in my local machine I can see the multiple Verticles and event-loop threads are created</p>\n<pre><code>[] | 2022-06-01 13:29:10.533 [vert.x-eventloop-thread-2] INFO  Async-flow-http-proxy running......\n[] | 2022-06-01 13:29:10.534 [vert.x-eventloop-thread-4] INFO  Async-flow-http-proxy running......\n[] | 2022-06-01 13:29:10.534 [vert.x-eventloop-thread-3] INFO  Async-flow-http-proxy running......\n[] | 2022-06-01 13:29:10.535 [vert.x-eventloop-thread-1] INFO  Async-flow-http-proxy running......\n[] | 2022-06-01 13:29:10.535 [vert.x-eventloop-thread-4] INFO  Async-flow-http-proxy running......\n[] | 2022-06-01 13:29:10.536 [vert.x-eventloop-thread-7] INFO  Async-flow-http-proxy running......\n[] | 2022-06-01 13:29:10.536 [vert.x-eventloop-thread-7] INFO  Async-flow-http-proxy running......\n</code></pre>\n<p>Then when I run some queries I can see that all event-loops are used in round-robin fashion.</p>\n<pre><code>[] | 2022-06-01 13:29:11.126 [vert.x-eventloop-thread-2] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\n[] | 2022-06-01 13:29:11.127 [vert.x-eventloop-thread-4] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\n[] | 2022-06-01 13:29:11.127 [vert.x-eventloop-thread-6] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\n[] | 2022-06-01 13:29:11.126 [vert.x-eventloop-thread-0] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\n</code></pre>\n<p>But, when I deploy in <code>Kubernetes</code>, and run the container with <code>Java 11</code>, and <code>cpu '10'</code>. I can still see that the multiple event-loops are created, but when I run request, only <code>two</code> of them are working, so then with big traffic I start struggling with only two event-loops</p>\n<pre><code>[] | 2022-06-01 13:29:11.126 [vert.x-eventloop-thread-2] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\n[] | 2022-06-01 13:29:11.127 [vert.x-eventloop-thread-4] INFO  AsyncFlowHttpProxy - Calling next service localhost on port 8091\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":20677520,"reputation":81,"user_id":15181791,"display_name":"tniessen"},"score":0,"creation_date":1654085834,"post_id":72461243,"comment_id":128007242,"body_markdown":"Why is none of the four quick fixes in your screenshot sufficient?","body":"Why is none of the four quick fixes in your screenshot sufficient?"},{"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"score":0,"creation_date":1654086268,"post_id":72461243,"comment_id":128007390,"body_markdown":"1st: By convention java class names start with a capital letter. \n2nd: The compiler tells ou &quot;book.java:56: error: cannot find symbol comboBox(kombo);&quot; So either you create kombo before calling comboBox(kombo) or you create kombo before creating an instance of Book and pass kombo as parameter to the constructor.","body":"1st: By convention java class names start with a capital letter.  2nd: The compiler tells ou &quot;book.java:56: error: cannot find symbol comboBox(kombo);&quot; So either you create kombo before calling comboBox(kombo) or you create kombo before creating an instance of Book and pass kombo as parameter to the constructor."},{"owner":{"account_id":12639523,"reputation":15,"user_id":9187562,"display_name":"Joeismynickname"},"score":0,"creation_date":1654089220,"post_id":72461243,"comment_id":128008465,"body_markdown":"@J&#246;rg i tried placing the private void comboBox after the gui codes and i still got the error &gt;&gt; error images https://postimg.cc/5jBpZXYg","body":"@J&#246;rg i tried placing the private void comboBox after the gui codes and i still got the error &gt;&gt; error images <a href=\"https://postimg.cc/5jBpZXYg\" rel=\"nofollow noreferrer\">postimg.cc/5jBpZXYg</a>"},{"owner":{"account_id":12639523,"reputation":15,"user_id":9187562,"display_name":"Joeismynickname"},"score":0,"creation_date":1654090314,"post_id":72461243,"comment_id":128008905,"body_markdown":"@tniessen i did the quick fixes but no output from db","body":"@tniessen i did the quick fixes but no output from db"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654092884,"post_id":72461243,"comment_id":128009899,"body_markdown":"You&#39;re trying to run your code while it&#39;s not even compilable. That&#39;s not going to help you. Fix your compilation problems before attempting to run","body":"You&#39;re trying to run your code while it&#39;s not even compilable. That&#39;s not going to help you. Fix your compilation problems before attempting to run"}],"owner":{"account_id":12639523,"reputation":15,"user_id":9187562,"display_name":"Joeismynickname"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654083607,"creation_date":1654083607,"question_id":72461243,"body_markdown":"Im bulding a GUI using eclipse plugin WindowsBuilder, im trying to pass a variable &quot;comboBox kombo&quot; from the initialize() method. I cant call the method to run my passed variable. The method supposed to get the data from my database to the comboBox.\r\nBelow i have attached my coding, any help will be appreciated ,Thank you!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/So1sQ.png\r\n  [2]: https://i.stack.imgur.com/R9PX8.png\r\n\r\n    import java.awt.EventQueue;\r\n    \r\n    import javax.swing.JFrame;\r\n    import java.awt.Panel;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.Color;\r\n    import java.awt.Label;\r\n    import java.awt.Font;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JOptionPane;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    \r\n    import javax.swing.JTextField;\r\n    \r\n    public class book extends JFrame {\r\n    \t Connection con = null;\r\n    \t    PreparedStatement pst = null;\r\n    \t    ResultSet rs = null;\r\n    \r\n    \r\n    \tprivate JFrame mdetail;\r\n    \r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tbook window = new book();\r\n    \t\t\t\t\twindow.mdetail.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the application.\r\n    \t */\r\n    \tpublic book() {\r\n    \t\tinitialize();\r\n    \t\tcomboBox(kombo);\r\n    \t}\r\n    \t\r\n    \tprivate void comboBox(JComboBox kombo) {\r\n    \t\t try\r\n    \t        {\r\n    \t            con= DriverManager.getConnection(&quot;jdbc:mysql://localhost/oop_project&quot;, &quot;root&quot;,&quot;&quot;);\r\n    \t            String sql = &quot;select movieName from movie &quot;;\r\n    \t            pst = con.prepareStatement(sql);\r\n    \t            rs = pst.executeQuery();\r\n    \t            while(rs.next())\r\n    \t            {\r\n    \t                String name = rs.getString(&quot;movieName&quot;);\r\n    \t                kombo.addItem(name);\r\n    \t            }\r\n    \t            \r\n    \t        }catch(Exception ex)\r\n    \t        {\r\n    \t            JOptionPane.showMessageDialog(null, ex);\r\n    \t        }\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    \t/**\r\n    \t * Initialize the contents of the frame.\r\n    \t */\r\n    \tprivate void initialize() {\r\n    \t\tmdetail = new JFrame();\r\n    \t\tmdetail.setTitle(&quot;Book Ticket&quot;);\r\n    \t\tmdetail.setBounds(100, 100, 450, 336);\r\n    \t\tmdetail.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tmdetail.getContentPane().setLayout(null);\r\n    \t\t\r\n    \t\tLabel label = new Label(&quot;Movie Details&quot;);\r\n    \t\tlabel.setForeground(Color.BLACK);\r\n    \t\tlabel.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 21));\r\n    \t\tlabel.setBounds(135, 10, 184, 54);\r\n    \t\tmdetail.getContentPane().add(label);\r\n    \t\t\r\n    \t\tJComboBox kombo = new JComboBox();\r\n    \t\tkombo.setBounds(155, 70, 226, 22);\r\n    \t\tmdetail.getContentPane().add(kombo);\r\n    \t\t\r\n    \t\tLabel label_1 = new Label(&quot;Select Movie&quot;);\r\n    \t\tlabel_1.setBounds(74, 70, 75, 22);\r\n    \t\tmdetail.getContentPane().add(label_1);\r\n    \t\t\r\n    \t\tLabel label_1_1 = new Label(&quot;Select Date&quot;);\r\n    \t\tlabel_1_1.setBounds(74, 103, 75, 22);\r\n    \t\tmdetail.getContentPane().add(label_1_1);\r\n    \t\t\r\n    \t\tJComboBox comboBox_1 = new JComboBox();\r\n    \t\tcomboBox_1.setModel(new DefaultComboBoxModel(new String[] {&quot;11-12-2022&quot;, &quot;12-12-2022&quot;, &quot;13-12-2022&quot;}));\r\n    \t\tcomboBox_1.setBounds(155, 103, 226, 22);\r\n    \t\tmdetail.getContentPane().add(comboBox_1);\r\n    \t\t\r\n    \t\tLabel label_1_1_1 = new Label(&quot;Select Time&quot;);\r\n    \t\tlabel_1_1_1.setBounds(74, 136, 75, 22);\r\n    \t\tmdetail.getContentPane().add(label_1_1_1);\r\n    \t\t\r\n    \t\tJComboBox comboBox_1_1 = new JComboBox();\r\n    \t\tcomboBox_1_1.setModel(new DefaultComboBoxModel(new String[] {&quot;7.00am&quot;, &quot;10.00am&quot;, &quot;1.00pm&quot;, &quot;5.00pm&quot;, &quot;8.00pm&quot;}));\r\n    \t\tcomboBox_1_1.setBounds(155, 136, 226, 22);\r\n    \t\tmdetail.getContentPane().add(comboBox_1_1);\r\n    \t\t\r\n    \t\tLabel label_1_1_2 = new Label(&quot;Select Seat&quot;);\r\n    \t\tlabel_1_1_2.setBounds(74, 169, 75, 22);\r\n    \t\tmdetail.getContentPane().add(label_1_1_2);\r\n    \t\t\r\n    \t\tJComboBox comboBox_1_2 = new JComboBox();\r\n    \t\tcomboBox_1_2.setModel(new DefaultComboBoxModel(new String[] {&quot;A(01)&quot;, &quot;B(02)&quot;, &quot;B(03)&quot;}));\r\n    \t\tcomboBox_1_2.setBounds(155, 169, 226, 22);\r\n    \t\tmdetail.getContentPane().add(comboBox_1_2);\r\n    \t\t\r\n    \t\tJButton btnNewButton = new JButton(&quot;SUBMIT&quot;);\r\n    \t\tbtnNewButton.setBounds(155, 241, 89, 23);\r\n    \t\tmdetail.getContentPane().add(btnNewButton);\r\n    \t\t\r\n    \t\tJLabel lblNewLabel = new JLabel(&quot;View Seat Position&quot;);\r\n    \t\tlblNewLabel.addMouseListener(new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\tseatposition.main(null);\r\n    \t\t\t\tmdetail.setVisible(false);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tlblNewLabel.setBounds(282, 245, 112, 14);\r\n    \t\tmdetail.getContentPane().add(lblNewLabel);\r\n    \t\t\r\n    \t\tLabel label_1_2 = new Label(&quot;Welcome \\&quot;user\\&quot;&quot;);\r\n    \t\tlabel_1_2.setBounds(10, 10, 89, 22);\r\n    \t\tmdetail.getContentPane().add(label_1_2);\r\n    \t\t\r\n    \t\tLabel label_1_1_2_1_1 = new Label(&quot;Number of ticket&quot;);\r\n    \t\tlabel_1_1_2_1_1.setBounds(53, 202, 101, 22);\r\n    \t\tmdetail.getContentPane().add(label_1_1_2_1_1);\r\n    \t\t\r\n    \t\tJComboBox comboBox_1_2_1 = new JComboBox();\r\n    \t\tcomboBox_1_2_1.setBounds(155, 202, 226, 22);\r\n    \t\tmdetail.getContentPane().add(comboBox_1_2_1);\r\n    \t\t\r\n    \t\tJMenuBar menuBar = new JMenuBar();\r\n    \t\tmdetail.setJMenuBar(menuBar);\r\n    \t\t\r\n    \t\tJMenu mnNewMenu = new JMenu(&quot;Option&quot;);\r\n    \t\tmenuBar.add(mnNewMenu);\r\n    \t\t\r\n    \t\tJMenuItem mntmNewMenuItem = new JMenuItem(&quot;Logout&quot;);\r\n    \t\tmnNewMenu.add(mntmNewMenuItem);\r\n    \t\t\r\n    \t\tJMenuItem exitmenu = new JMenuItem(&quot;Exit&quot;);\r\n    \t\texitmenu.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tint exit = JOptionPane.showConfirmDialog(null, &quot;Are you sure you want to exit&quot;, &quot;Exit&quot;, JOptionPane.YES_NO_OPTION);\r\n    \t\t\t\tif(exit==JOptionPane.YES_OPTION) {\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\tmdetail.setVisible(true);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tmnNewMenu.add(exitmenu);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Java GUI Swing Passing Parameter From Another Class","body":"<p>Im bulding a GUI using eclipse plugin WindowsBuilder, im trying to pass a variable &quot;comboBox kombo&quot; from the initialize() method. I cant call the method to run my passed variable. The method supposed to get the data from my database to the comboBox.\nBelow i have attached my coding, any help will be appreciated ,Thank you!</p>\n<p><a href=\"https://i.stack.imgur.com/So1sQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/So1sQ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/R9PX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9PX8.png\" alt=\"error\" /></a></p>\n<pre><code>import java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport java.awt.Panel;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.Color;\nimport java.awt.Label;\nimport java.awt.Font;\nimport javax.swing.JComboBox;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuItem;\nimport javax.swing.JOptionPane;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nimport javax.swing.JTextField;\n\npublic class book extends JFrame {\n     Connection con = null;\n        PreparedStatement pst = null;\n        ResultSet rs = null;\n\n\n    private JFrame mdetail;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    book window = new book();\n                    window.mdetail.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public book() {\n        initialize();\n        comboBox(kombo);\n    }\n    \n    private void comboBox(JComboBox kombo) {\n         try\n            {\n                con= DriverManager.getConnection(&quot;jdbc:mysql://localhost/oop_project&quot;, &quot;root&quot;,&quot;&quot;);\n                String sql = &quot;select movieName from movie &quot;;\n                pst = con.prepareStatement(sql);\n                rs = pst.executeQuery();\n                while(rs.next())\n                {\n                    String name = rs.getString(&quot;movieName&quot;);\n                    kombo.addItem(name);\n                }\n                \n            }catch(Exception ex)\n            {\n                JOptionPane.showMessageDialog(null, ex);\n            }\n    }\n    \n    \n    \n    \n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        mdetail = new JFrame();\n        mdetail.setTitle(&quot;Book Ticket&quot;);\n        mdetail.setBounds(100, 100, 450, 336);\n        mdetail.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mdetail.getContentPane().setLayout(null);\n        \n        Label label = new Label(&quot;Movie Details&quot;);\n        label.setForeground(Color.BLACK);\n        label.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 21));\n        label.setBounds(135, 10, 184, 54);\n        mdetail.getContentPane().add(label);\n        \n        JComboBox kombo = new JComboBox();\n        kombo.setBounds(155, 70, 226, 22);\n        mdetail.getContentPane().add(kombo);\n        \n        Label label_1 = new Label(&quot;Select Movie&quot;);\n        label_1.setBounds(74, 70, 75, 22);\n        mdetail.getContentPane().add(label_1);\n        \n        Label label_1_1 = new Label(&quot;Select Date&quot;);\n        label_1_1.setBounds(74, 103, 75, 22);\n        mdetail.getContentPane().add(label_1_1);\n        \n        JComboBox comboBox_1 = new JComboBox();\n        comboBox_1.setModel(new DefaultComboBoxModel(new String[] {&quot;11-12-2022&quot;, &quot;12-12-2022&quot;, &quot;13-12-2022&quot;}));\n        comboBox_1.setBounds(155, 103, 226, 22);\n        mdetail.getContentPane().add(comboBox_1);\n        \n        Label label_1_1_1 = new Label(&quot;Select Time&quot;);\n        label_1_1_1.setBounds(74, 136, 75, 22);\n        mdetail.getContentPane().add(label_1_1_1);\n        \n        JComboBox comboBox_1_1 = new JComboBox();\n        comboBox_1_1.setModel(new DefaultComboBoxModel(new String[] {&quot;7.00am&quot;, &quot;10.00am&quot;, &quot;1.00pm&quot;, &quot;5.00pm&quot;, &quot;8.00pm&quot;}));\n        comboBox_1_1.setBounds(155, 136, 226, 22);\n        mdetail.getContentPane().add(comboBox_1_1);\n        \n        Label label_1_1_2 = new Label(&quot;Select Seat&quot;);\n        label_1_1_2.setBounds(74, 169, 75, 22);\n        mdetail.getContentPane().add(label_1_1_2);\n        \n        JComboBox comboBox_1_2 = new JComboBox();\n        comboBox_1_2.setModel(new DefaultComboBoxModel(new String[] {&quot;A(01)&quot;, &quot;B(02)&quot;, &quot;B(03)&quot;}));\n        comboBox_1_2.setBounds(155, 169, 226, 22);\n        mdetail.getContentPane().add(comboBox_1_2);\n        \n        JButton btnNewButton = new JButton(&quot;SUBMIT&quot;);\n        btnNewButton.setBounds(155, 241, 89, 23);\n        mdetail.getContentPane().add(btnNewButton);\n        \n        JLabel lblNewLabel = new JLabel(&quot;View Seat Position&quot;);\n        lblNewLabel.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                seatposition.main(null);\n                mdetail.setVisible(false);\n            }\n        });\n        lblNewLabel.setBounds(282, 245, 112, 14);\n        mdetail.getContentPane().add(lblNewLabel);\n        \n        Label label_1_2 = new Label(&quot;Welcome \\&quot;user\\&quot;&quot;);\n        label_1_2.setBounds(10, 10, 89, 22);\n        mdetail.getContentPane().add(label_1_2);\n        \n        Label label_1_1_2_1_1 = new Label(&quot;Number of ticket&quot;);\n        label_1_1_2_1_1.setBounds(53, 202, 101, 22);\n        mdetail.getContentPane().add(label_1_1_2_1_1);\n        \n        JComboBox comboBox_1_2_1 = new JComboBox();\n        comboBox_1_2_1.setBounds(155, 202, 226, 22);\n        mdetail.getContentPane().add(comboBox_1_2_1);\n        \n        JMenuBar menuBar = new JMenuBar();\n        mdetail.setJMenuBar(menuBar);\n        \n        JMenu mnNewMenu = new JMenu(&quot;Option&quot;);\n        menuBar.add(mnNewMenu);\n        \n        JMenuItem mntmNewMenuItem = new JMenuItem(&quot;Logout&quot;);\n        mnNewMenu.add(mntmNewMenuItem);\n        \n        JMenuItem exitmenu = new JMenuItem(&quot;Exit&quot;);\n        exitmenu.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                int exit = JOptionPane.showConfirmDialog(null, &quot;Are you sure you want to exit&quot;, &quot;Exit&quot;, JOptionPane.YES_NO_OPTION);\n                if(exit==JOptionPane.YES_OPTION) {\n                    System.exit(0);\n                }else {\n                    mdetail.setVisible(true);\n                }\n                \n            }\n        });\n        mnNewMenu.add(exitmenu);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":2,"creation_date":1654087742,"post_id":72461217,"comment_id":128007971,"body_markdown":"Try SELECT * FROM BOOKINGS INNER JOIN ASSIGN ON BOOKINGS.BOOKINGID = ASSING.ASSIGNID INNER JOIN ROOM ON ASSIGN.ROOMID = ROOM.ROOMID","body":"Try SELECT * FROM BOOKINGS INNER JOIN ASSIGN ON BOOKINGS.BOOKINGID = ASSING.ASSIGNID INNER JOIN ROOM ON ASSIGN.ROOMID = ROOM.ROOMID"},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1654088392,"post_id":72461217,"comment_id":128008241,"body_markdown":"You can do it with one query using joins (comment above) and it is the way to go. However, if you are not familiar with that concept, you can also make two different queries that you execute one after the other. The first one is a simple `SELECT` from the table `Assign`, which returns the `roomID` for a specific `bookingID`.  (Your DB model is designed to have multiple `roomID` per booking. Possibly, you have to handle that case too.) Afterwards, you use the `roomID` in the second query, which is exactly the first query in your code.","body":"You can do it with one query using joins (comment above) and it is the way to go. However, if you are not familiar with that concept, you can also make two different queries that you execute one after the other. The first one is a simple <code>SELECT</code> from the table <code>Assign</code>, which returns the <code>roomID</code> for a specific <code>bookingID</code>.  (Your DB model is designed to have multiple <code>roomID</code> per booking. Possibly, you have to handle that case too.) Afterwards, you use the <code>roomID</code> in the second query, which is exactly the first query in your code."}],"owner":{"account_id":23469169,"reputation":23,"user_id":18421896,"display_name":"xprtgmr456"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654083493,"creation_date":1654083493,"question_id":72461217,"body_markdown":"I am trying to find the cost of a room by taking in the BookingID, but to do this I need to find the Room ID which matches the Booking ID, I am quite confused about getting this to work. i know I will have to structure my DB differently to get this to work but I&#39;m not sure how to do this . Any suggestions will be deeply appreciated as this is a homework assignment.\r\n\r\nHere is my  Java code where I am trying to collect information from DB to carry out calculations:\r\n ```\r\npublic void calculateInvoice( int inputID )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.err.println( this.getClass().getName()+ &quot;:: DB connected := &quot; + dbSession.isConnected() ) ;\r\n\r\n\t\t\tsql = &quot;SELECT RoomCost&quot;\r\n\t\t\t\t\t+ &quot; FROM Room&quot;\r\n\t\t\t\t\t+ &quot; WHERE RoomID = &quot; + inputID ;\r\n\r\n\t\t\tsql = &quot;SELECT DATEDIFF(Check_Out , Check_In) AS DaysBooked&quot;\r\n\t\t\t    + &quot; WHERE RoomID = &quot; + inputID ;\r\n\t\t\t\t\t+ &quot; FROM Assign &quot; ;\r\n\r\n\t\t\tsqlStatement = dbSession.getConnection().createStatement() ;\r\n\t\t\tresultSet = sqlStatement.executeQuery( sql ) ;\r\n\t\t\tresultSet.next() ;\r\n\r\n\t\t\tint iDaysBooked = resultSet.getInt( &quot;DaysBooked&quot; ) ;\r\n      \r\n\t\t\tSystem.out.println(&quot;Days stayed&quot; + iDaysBooked);\r\n\r\n\t\t\tresultSet.close() ;\r\n\t\t}\r\n\t\tcatch( SQLException se )\r\n\t\t{\r\n\t\t\tSystem.err.println( this.getClass().getName() + &quot;:: SQL error:: &quot; + se ) ;\r\n\t\t\tse.printStackTrace() ;\r\n\t\t}\r\n\t\tcatch ( Exception e )\r\n\t\t{\r\n\t\t\tSystem.err.println( this.getClass().getName() + &quot;:: Error:: &quot; + e ) ;\r\n\t\t\te.printStackTrace() ;\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t}\r\n\t\treturn ;\r\n\t}\r\n ```\r\n\r\n\r\nDB code:\r\n```\r\nDROP TABLE IF EXISTS   Assign ;\r\nDROP TABLE IF EXISTS   Bookings ;\r\nDROP TABLE IF EXISTS   Customer ;\r\nDROP TABLE IF EXISTS   Room ;\r\n\r\n\r\n-- Create Customers Table\r\n\r\nCREATE TABLE myWork.Customer \r\n(\r\n        CustomerID      INT             NOT NULL       UNIQUE     AUTO_INCREMENT ,\r\n        Surname         CHAR( 30 )      NOT NULL ,\r\n        FirstName       CHAR( 30 )      NOT NULL ,\r\n        Title           CHAR( 10 ) ,\r\n        DOB             DATE            NOT NULL , \r\n        HouseNumber     CHAR( 4 )       NOT NULL ,\r\n        StreetName      CHAR( 30 )      NOT NULL ,\r\n        Town            CHAR( 30 ) ,\r\n        PostCode        CHAR( 9 )       NOT NULL ,\r\n        Telephone       INT             NOT NULL ,\r\n        PRIMARY KEY ( CustomerID )\r\n) ;\r\n\r\n-- Create Bookings Table\r\n\r\nCREATE TABLE myWork.Bookings\r\n(\r\n        BookingID       INT              NOT NULL       UNIQUE    AUTO_INCREMENT ,\r\n        CustomerID      INT              NOT NULL ,\r\n        AdultsBooked    INT              NOT NULL ,\r\n        ChildrenBooked  INT              NOT NULL ,\r\n        Check_In        DATE  ,\r\n        Check_Out       DATE  ,\r\n        DaysBooked      INT   ,\r\n        PRIMARY KEY ( BookingID ) ,\r\n        FOREIGN KEY ( CustomerID ) REFERENCES myWork.Customer( CustomerID )\r\n) ;\r\n\r\n-- Create Rooms Table\r\n\r\nCREATE TABLE myWork.Room\r\n(\r\n        RoomID           INT              NOT NULL       UNIQUE    AUTO_INCREMENT ,\r\n        RoomNumber       INT              NOT NULL ,\r\n        Occupancy        INT              NOT NULL ,\r\n        RoomType         CHAR(15)         NOT NULL ,\r\n        Shower           CHAR(1)          NOT NULL ,\r\n        Jacuzzi          CHAR(1)          NOT NULL ,\r\n        SeaView          CHAR(1)          NOT NULL ,\r\n        HoneyMoon        CHAR(1)          NOT NULL ,\r\n        FamilyRoom       CHAR(1)          NOT NULL ,\r\n        RoomFloor        INT              NOT NULL ,\r\n        RoomCost         INT              NOT NULL ,\r\n        StatusCleaned    CHAR(1)          NOT NULL ,\r\n        StatusAvailable  CHAR(1)          NOT NULL ,\r\n        PRIMARY KEY ( RoomID )\r\n) ;\r\n\r\nCREATE TABLE myWork.Assign\r\n(\r\n        AssignID        INT              NOT NULL       UNIQUE    AUTO_INCREMENT ,\r\n        RoomID          INT              NOT NULL ,\r\n        BookingID       INT              NOT NULL ,\r\n        PRIMARY KEY (AssignID ) , \r\n        FOREIGN KEY (BookingID ) REFERENCES myWork.Bookings( BookingID ) ,\r\n        FOREIGN KEY (RoomID ) REFERENCES myWork.Room( RoomID )\r\n\r\n) ;\r\n\r\n\r\nSELECT * FROM Customer ;\r\nSELECT * FROM Bookings ;\r\nSELECT * FROM Room ;\r\nSELECT * FROM Assign ;\r\n```\r\n\r\n ","title":"SQL/JAVA Hotel Cost calculation System","body":"<p>I am trying to find the cost of a room by taking in the BookingID, but to do this I need to find the Room ID which matches the Booking ID, I am quite confused about getting this to work. i know I will have to structure my DB differently to get this to work but I'm not sure how to do this . Any suggestions will be deeply appreciated as this is a homework assignment.</p>\n<p>Here is my  Java code where I am trying to collect information from DB to carry out calculations:</p>\n<pre><code>public void calculateInvoice( int inputID )\n   {\n       try\n       {\n           System.err.println( this.getClass().getName()+ &quot;:: DB connected := &quot; + dbSession.isConnected() ) ;\n\n           sql = &quot;SELECT RoomCost&quot;\n                   + &quot; FROM Room&quot;\n                   + &quot; WHERE RoomID = &quot; + inputID ;\n\n           sql = &quot;SELECT DATEDIFF(Check_Out , Check_In) AS DaysBooked&quot;\n               + &quot; WHERE RoomID = &quot; + inputID ;\n                   + &quot; FROM Assign &quot; ;\n\n           sqlStatement = dbSession.getConnection().createStatement() ;\n           resultSet = sqlStatement.executeQuery( sql ) ;\n           resultSet.next() ;\n\n           int iDaysBooked = resultSet.getInt( &quot;DaysBooked&quot; ) ;\n     \n           System.out.println(&quot;Days stayed&quot; + iDaysBooked);\n\n           resultSet.close() ;\n       }\n       catch( SQLException se )\n       {\n           System.err.println( this.getClass().getName() + &quot;:: SQL error:: &quot; + se ) ;\n           se.printStackTrace() ;\n       }\n       catch ( Exception e )\n       {\n           System.err.println( this.getClass().getName() + &quot;:: Error:: &quot; + e ) ;\n           e.printStackTrace() ;\n       }\n       finally\n       {\n       }\n       return ;\n   }\n</code></pre>\n<p>DB code:</p>\n<pre><code>DROP TABLE IF EXISTS   Assign ;\nDROP TABLE IF EXISTS   Bookings ;\nDROP TABLE IF EXISTS   Customer ;\nDROP TABLE IF EXISTS   Room ;\n\n\n-- Create Customers Table\n\nCREATE TABLE myWork.Customer \n(\n        CustomerID      INT             NOT NULL       UNIQUE     AUTO_INCREMENT ,\n        Surname         CHAR( 30 )      NOT NULL ,\n        FirstName       CHAR( 30 )      NOT NULL ,\n        Title           CHAR( 10 ) ,\n        DOB             DATE            NOT NULL , \n        HouseNumber     CHAR( 4 )       NOT NULL ,\n        StreetName      CHAR( 30 )      NOT NULL ,\n        Town            CHAR( 30 ) ,\n        PostCode        CHAR( 9 )       NOT NULL ,\n        Telephone       INT             NOT NULL ,\n        PRIMARY KEY ( CustomerID )\n) ;\n\n-- Create Bookings Table\n\nCREATE TABLE myWork.Bookings\n(\n        BookingID       INT              NOT NULL       UNIQUE    AUTO_INCREMENT ,\n        CustomerID      INT              NOT NULL ,\n        AdultsBooked    INT              NOT NULL ,\n        ChildrenBooked  INT              NOT NULL ,\n        Check_In        DATE  ,\n        Check_Out       DATE  ,\n        DaysBooked      INT   ,\n        PRIMARY KEY ( BookingID ) ,\n        FOREIGN KEY ( CustomerID ) REFERENCES myWork.Customer( CustomerID )\n) ;\n\n-- Create Rooms Table\n\nCREATE TABLE myWork.Room\n(\n        RoomID           INT              NOT NULL       UNIQUE    AUTO_INCREMENT ,\n        RoomNumber       INT              NOT NULL ,\n        Occupancy        INT              NOT NULL ,\n        RoomType         CHAR(15)         NOT NULL ,\n        Shower           CHAR(1)          NOT NULL ,\n        Jacuzzi          CHAR(1)          NOT NULL ,\n        SeaView          CHAR(1)          NOT NULL ,\n        HoneyMoon        CHAR(1)          NOT NULL ,\n        FamilyRoom       CHAR(1)          NOT NULL ,\n        RoomFloor        INT              NOT NULL ,\n        RoomCost         INT              NOT NULL ,\n        StatusCleaned    CHAR(1)          NOT NULL ,\n        StatusAvailable  CHAR(1)          NOT NULL ,\n        PRIMARY KEY ( RoomID )\n) ;\n\nCREATE TABLE myWork.Assign\n(\n        AssignID        INT              NOT NULL       UNIQUE    AUTO_INCREMENT ,\n        RoomID          INT              NOT NULL ,\n        BookingID       INT              NOT NULL ,\n        PRIMARY KEY (AssignID ) , \n        FOREIGN KEY (BookingID ) REFERENCES myWork.Bookings( BookingID ) ,\n        FOREIGN KEY (RoomID ) REFERENCES myWork.Room( RoomID )\n\n) ;\n\n\nSELECT * FROM Customer ;\nSELECT * FROM Bookings ;\nSELECT * FROM Room ;\nSELECT * FROM Assign ;\n</code></pre>\n"},{"tags":["java","htmlunit","browser-automation"],"comments":[{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1604398389,"post_id":64660701,"comment_id":114329317,"body_markdown":"Did you try Selenium? I know it has a ability to render a website like a normal user. This problem you are facing is somewhat similar to how search engine robots can&#39;t parse Vue or Angular sites: there simply isn&#39;t anything to see unless you parse the JavaScript (which happens in a client).","body":"Did you try Selenium? I know it has a ability to render a website like a normal user. This problem you are facing is somewhat similar to how search engine robots can&#39;t parse Vue or Angular sites: there simply isn&#39;t anything to see unless you parse the JavaScript (which happens in a client)."},{"owner":{"account_id":9573371,"reputation":95,"user_id":7110355,"display_name":"yingxuan"},"score":0,"creation_date":1604398562,"post_id":64660701,"comment_id":114329398,"body_markdown":"yeah the problem is the existing code is all using HtmlUnit so I would need to redo the whole project if I change to Selenium. So wanted to find if there&#39;s any solutions first T.T","body":"yeah the problem is the existing code is all using HtmlUnit so I would need to redo the whole project if I change to Selenium. So wanted to find if there&#39;s any solutions first T.T"},{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1604399633,"post_id":64660701,"comment_id":114329922,"body_markdown":"I guess you tried `webClient.setAjaxController(new NicelyResynchronizingAjaxController());` already? https://htmlunit.sourceforge.io/faq.html#AJAXDoesNotWork. **Edit:** Also check out this https://github.com/mpoehler/htmlunit-angular-test/blob/master/src/test/java/eu/tuxoo/integrationtest/AngularApp1Test.java, not sure why you use `getEnclosedPage()` and what it is doing compared to `webClient.getPage`.","body":"I guess you tried <code>webClient.setAjaxController(new NicelyResynchronizingAjaxController());</code> already? <a href=\"https://htmlunit.sourceforge.io/faq.html#AJAXDoesNotWork\" rel=\"nofollow noreferrer\">htmlunit.sourceforge.io/faq.html#AJAXDoesNotWork</a>. <b>Edit:</b> Also check out this <a href=\"https://github.com/mpoehler/htmlunit-angular-test/blob/master/src/test/java/eu/tuxoo/integrationtest/AngularApp1Test.java\" rel=\"nofollow noreferrer\">github.com/mpoehler/htmlunit-angular-test/blob/master/src/te&zwnj;&#8203;st/&hellip;</a>, not sure why you use <code>getEnclosedPage()</code> and what it is doing compared to <code>webClient.getPage</code>."},{"owner":{"account_id":9573371,"reputation":95,"user_id":7110355,"display_name":"yingxuan"},"score":0,"creation_date":1604400768,"post_id":64660701,"comment_id":114330435,"body_markdown":"Thanks for the suggestions. I have tried `webClient.setAjaxController(new NicelyResynchronizingAjaxController());` but it still doesn&#39;t work. I use `getEnclosedPage()` because this page was navigated to by clicking a link, not from a URL. But after you said, I have tried `webClient.getPage(url);` to get to that page directly but it still doesn&#39;t work.","body":"Thanks for the suggestions. I have tried <code>webClient.setAjaxController(new NicelyResynchronizingAjaxController());</code> but it still doesn&#39;t work. I use <code>getEnclosedPage()</code> because this page was navigated to by clicking a link, not from a URL. But after you said, I have tried <code>webClient.getPage(url);</code> to get to that page directly but it still doesn&#39;t work."},{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1604402150,"post_id":64660701,"comment_id":114331023,"body_markdown":"Than it will not work until the open issues in HtmlUnit for Vue.JS are resolved. If it is possible I suggest switching to Selenium, or write a package to add Selenium to your current codebase. Using the Chrome driver seems to be the only working solution at this time.","body":"Than it will not work until the open issues in HtmlUnit for Vue.JS are resolved. If it is possible I suggest switching to Selenium, or write a package to add Selenium to your current codebase. Using the Chrome driver seems to be the only working solution at this time."},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1604586974,"post_id":64660701,"comment_id":114396494,"body_markdown":"Theres more likely than not another HTTP request being made to the back end you&#39;d need to replicate to get the relevant content you&#39;re after. If you can share the URL I can take a look and provide some help. I&#39;m usually able to pick apart a website fairly quickly","body":"Theres more likely than not another HTTP request being made to the back end you&#39;d need to replicate to get the relevant content you&#39;re after. If you can share the URL I can take a look and provide some help. I&#39;m usually able to pick apart a website fairly quickly"},{"owner":{"account_id":9573371,"reputation":95,"user_id":7110355,"display_name":"yingxuan"},"score":0,"creation_date":1604628003,"post_id":64660701,"comment_id":114412099,"body_markdown":"@RobEvans thanks for your help but I am unable to share the URL because it is my company&#39;s internal website","body":"@RobEvans thanks for your help but I am unable to share the URL because it is my company&#39;s internal website"}],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604651707,"creation_date":1604651707,"answer_id":64711242,"question_id":64660701,"body_markdown":"Since you mentioned in the comments above that you can&#39;t share the URL (and it likely isn&#39;t publicly accessible anyway) I&#39;ve done a bit of a write up here that may help you https://stackoverflow.com/questions/64669456/parsing-web-javascript-content-to-string-using-android","title":"HtmlUnit unable to find element","body":"<p>Since you mentioned in the comments above that you can't share the URL (and it likely isn't publicly accessible anyway) I've done a bit of a write up here that may help you <a href=\"https://stackoverflow.com/questions/64669456/parsing-web-javascript-content-to-string-using-android\">Parsing web javascript content to string using android</a></p>\n"}],"owner":{"account_id":9573371,"reputation":95,"user_id":7110355,"display_name":"yingxuan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654083208,"creation_date":1604398094,"question_id":64660701,"body_markdown":"I am using HtmlUnit to spy a webpage, but it seems like it is unable to get the elements in the main content. I suspect it is because the page is rendered using Vue.js.\r\n\r\nThis is the page I am spying, I want to get the contents inside \\&lt;div id=&quot;app&quot;&gt;\r\n[![webpage HTML][1]][1]\r\n\r\nThis is the output when I print the page using page.asXml(). The \\&lt;div id=&quot;app&quot;&gt; is empty.\r\n[![HtmlUnit page.asXml()][2]][2]\r\n\r\nThis is the WebClient code I am using, I have enabled JavaScript.\r\n\r\n```\r\nimport com.gargoylesoftware.htmlunit.WebClient;\r\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n\r\nWebClient webClient = new WebClient();\r\nwebClient.getOptions().setUseInsecureSSL(true);\r\nwebClient.getOptions().setJavaScriptEnabled(true);\r\nwebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\t\t\r\nwebClient.getOptions().setThrowExceptionOnScriptError(false);\r\nwebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\nwebClient.setJavaScriptErrorListener(new SilenceJavaScriptErrorListner());\r\nwebClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n```\r\n\r\nThis is the code inside a function where I wait for a certain element inside \\&lt;div id=&quot;app&quot;&gt; to exist before returning. I have used method waitForBackgroundJavaScript() also.\r\n```\r\nHtmlPage page = (HtmlPage) webClient.getCurrentWindow().getEnclosedPage();\r\nwebClient.waitForBackgroundJavaScript(10000);\r\n\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    page = (HtmlPage) webClient.getCurrentWindow().getEnclosedPage();\r\n\twebClient.waitForBackgroundJavaScript(10000);\r\n\tlog.info(&quot;Current page \\n&quot; + page.asXml());\r\n\t\t\t\t\r\n\tList&lt;Object&gt; quoteNumberOptionList = page.getByXPath(&quot;someXPath&quot;);\r\n\t\t\t\t\r\n\tif (quoteNumberOptionList.size() &gt; 0) {\r\n\t    break;\r\n\t}\r\n\t\t\t\t\r\n\tThread.sleep(5000);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8HZQq.png\r\n  [2]: https://i.stack.imgur.com/KE68p.png","title":"HtmlUnit unable to find element","body":"<p>I am using HtmlUnit to spy a webpage, but it seems like it is unable to get the elements in the main content. I suspect it is because the page is rendered using Vue.js.</p>\n<p>This is the page I am spying, I want to get the contents inside &lt;div id=&quot;app&quot;&gt;\n<a href=\"https://i.stack.imgur.com/8HZQq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8HZQq.png\" alt=\"webpage HTML\" /></a></p>\n<p>This is the output when I print the page using page.asXml(). The &lt;div id=&quot;app&quot;&gt; is empty.\n<a href=\"https://i.stack.imgur.com/KE68p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KE68p.png\" alt=\"HtmlUnit page.asXml()\" /></a></p>\n<p>This is the WebClient code I am using, I have enabled JavaScript.</p>\n<pre><code>import com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\nWebClient webClient = new WebClient();\nwebClient.getOptions().setUseInsecureSSL(true);\nwebClient.getOptions().setJavaScriptEnabled(true);\nwebClient.setAjaxController(new NicelyResynchronizingAjaxController());\n        \nwebClient.getOptions().setThrowExceptionOnScriptError(false);\nwebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\nwebClient.setJavaScriptErrorListener(new SilenceJavaScriptErrorListner());\nwebClient.setCssErrorHandler(new SilentCssErrorHandler());\n</code></pre>\n<p>This is the code inside a function where I wait for a certain element inside &lt;div id=&quot;app&quot;&gt; to exist before returning. I have used method waitForBackgroundJavaScript() also.</p>\n<pre><code>HtmlPage page = (HtmlPage) webClient.getCurrentWindow().getEnclosedPage();\nwebClient.waitForBackgroundJavaScript(10000);\n\nfor (int i = 0; i &lt; 10; i++) {\n    page = (HtmlPage) webClient.getCurrentWindow().getEnclosedPage();\n    webClient.waitForBackgroundJavaScript(10000);\n    log.info(&quot;Current page \\n&quot; + page.asXml());\n                \n    List&lt;Object&gt; quoteNumberOptionList = page.getByXPath(&quot;someXPath&quot;);\n                \n    if (quoteNumberOptionList.size() &gt; 0) {\n        break;\n    }\n                \n    Thread.sleep(5000);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","querydsl"],"answers":[{"tags":[],"owner":{"account_id":1295199,"reputation":110,"user_id":1246436,"display_name":"Shekhavat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654083051,"creation_date":1654083051,"answer_id":72461108,"question_id":72353999,"body_markdown":"use class `com.querydsl.core.types.PredicateOperation` (in case of more than one query conditions)\r\n\r\nuse class `com.querydsl.core.types.dsl.BooleanOperation` (in case of single query condition).\r\n\r\n[here][1] is the similar question.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49146185/get-parameters-out-from-querydsl-predicate-object","title":"How can extract params from querydsl Spring Boot?","body":"<p>use class <code>com.querydsl.core.types.PredicateOperation</code> (in case of more than one query conditions)</p>\n<p>use class <code>com.querydsl.core.types.dsl.BooleanOperation</code> (in case of single query condition).</p>\n<p><a href=\"https://stackoverflow.com/questions/49146185/get-parameters-out-from-querydsl-predicate-object\">here</a> is the similar question.</p>\n"}],"owner":{"account_id":25291699,"reputation":1,"user_id":19117653,"display_name":"Fares Belaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72461108,"answer_count":1,"score":0,"last_activity_date":1654083051,"creation_date":1653334852,"question_id":72353999,"body_markdown":"As we know that Querydsl get Peageable and Predicate as parameters but how can I extract the params from this querydsl? because I must get the Id that I passed in postman so that I can use it.\r\n\r\nThat&#39;s my controller :\r\n\r\n    @GetMapping\r\n        ResponseEntity&lt;Page&lt;MedicalDataDto&gt;&gt; getMedicalData(Pageable pageable, @QuerydslPredicate(root = MedicalData.class) Predicate predicate){\r\n            return ResponseEntity.ok(medicalDataService.getMedicalData(pageable,predicate));\r\n        }","title":"How can extract params from querydsl Spring Boot?","body":"<p>As we know that Querydsl get Peageable and Predicate as parameters but how can I extract the params from this querydsl? because I must get the Id that I passed in postman so that I can use it.</p>\n<p>That's my controller :</p>\n<pre><code>@GetMapping\n    ResponseEntity&lt;Page&lt;MedicalDataDto&gt;&gt; getMedicalData(Pageable pageable, @QuerydslPredicate(root = MedicalData.class) Predicate predicate){\n        return ResponseEntity.ok(medicalDataService.getMedicalData(pageable,predicate));\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","lombok"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1654082025,"post_id":72460835,"comment_id":128005879,"body_markdown":"Maybe share the source of the test class in question?","body":"Maybe share the source of the test class in question?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1654082787,"post_id":72460835,"comment_id":128006113,"body_markdown":"Does UserPreferenceDao or UserPreferenceDao use Lombok annotations? Then their source code would be interesting aswell.","body":"Does UserPreferenceDao or UserPreferenceDao use Lombok annotations? Then their source code would be interesting aswell."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1654083015,"post_id":72460835,"comment_id":128006183,"body_markdown":"Another interesting piece of information would be to know which version of Lombok you used before which it still worked. And did you try to go back? Does it still pass? Maybe you introduced another change unnoticedly?","body":"Another interesting piece of information would be to know which version of Lombok you used before which it still worked. And did you try to go back? Does it still pass? Maybe you introduced another change unnoticedly?"},{"owner":{"account_id":8270734,"reputation":59,"user_id":6834184,"display_name":"locus"},"score":0,"creation_date":1654083669,"post_id":72460835,"comment_id":128006405,"body_markdown":"@ValerijDobler UserPreferenceDao uses jdbi annotations, I&#39;m not sure if they depend on lombok.\nPrior to the change, the lombok version was 1.16.4 and the Maven build complained about lombok.","body":"@ValerijDobler UserPreferenceDao uses jdbi annotations, I&#39;m not sure if they depend on lombok. Prior to the change, the lombok version was 1.16.4 and the Maven build complained about lombok."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1654091497,"post_id":72460835,"comment_id":128009322,"body_markdown":"Maybe go back and fix those complains then, if they are in your source or update involved dependencies? Deprecations are hints for possible future incompatibilities.","body":"Maybe go back and fix those complains then, if they are in your source or update involved dependencies? Deprecations are hints for possible future incompatibilities."},{"owner":{"account_id":8270734,"reputation":59,"user_id":6834184,"display_name":"locus"},"score":0,"creation_date":1654178320,"post_id":72460835,"comment_id":128033294,"body_markdown":"We decided not to update the dependencies. The Maven built was failing due to upgrade of the Maven version on CircleCI.\nOnce we rolled back the version the issue was fixed.\nThank you for your help!","body":"We decided not to update the dependencies. The Maven built was failing due to upgrade of the Maven version on CircleCI. Once we rolled back the version the issue was fixed. Thank you for your help!"}],"owner":{"account_id":8270734,"reputation":59,"user_id":6834184,"display_name":"locus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654082993,"creation_date":1654081888,"question_id":72460835,"body_markdown":"I have a Java project for which I updated the `org.projectlombok` version to `1.18.22`.\r\nHowever, my tests started failing with the following error:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.mockito.internal.creation.cglib.ClassImposterizer$3\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n    \tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:254)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\r\n    \tat org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n    \tat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n    \tat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n\r\nThe mockito version I use is `1.10.19`\r\n\r\nThis is part of the test: \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class UserPreferenceResourceTest {\r\n    \r\n        private static final String SAMPLE_USER_ID = &quot;userId&quot;;\r\n        private UserInsightsResource userInsightsResource;\r\n    \r\n        @Mock\r\n        private UserPreferenceDao userPreferenceDao;\r\n    \r\n        @Mock\r\n        private UserEngagementDao userEngagementDao;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            ...\r\n        }\r\n    \r\n        @Test\r\n        public void shouldReturn200IfAllOkay() {\r\n            when(userPreferenceDao.findPrefrenceByUser(SAMPLE_USER_ID)).thenReturn(...);\r\n            when(userEngagementDao.findEngagementByUser(SAMPLE_USER_ID)).thenReturn(...}\r\n            \r\n\r\nIs there a chance that the annotations are failing\r\n\r\nAny suggestions how to fix this are welcome.\r\n\r\nThank you in advance.\r\n\r\n","title":"Unit tests failing after updating lombok version","body":"<p>I have a Java project for which I updated the <code>org.projectlombok</code> version to <code>1.18.22</code>.\nHowever, my tests started failing with the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.mockito.internal.creation.cglib.ClassImposterizer$3\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:254)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\n</code></pre>\n<p>The mockito version I use is <code>1.10.19</code></p>\n<p>This is part of the test:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class UserPreferenceResourceTest {\n\n    private static final String SAMPLE_USER_ID = &quot;userId&quot;;\n    private UserInsightsResource userInsightsResource;\n\n    @Mock\n    private UserPreferenceDao userPreferenceDao;\n\n    @Mock\n    private UserEngagementDao userEngagementDao;\n\n    @Before\n    public void setUp() throws Exception {\n        ...\n    }\n\n    @Test\n    public void shouldReturn200IfAllOkay() {\n        when(userPreferenceDao.findPrefrenceByUser(SAMPLE_USER_ID)).thenReturn(...);\n        when(userEngagementDao.findEngagementByUser(SAMPLE_USER_ID)).thenReturn(...}\n        \n</code></pre>\n<p>Is there a chance that the annotations are failing</p>\n<p>Any suggestions how to fix this are welcome.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring","entity","unique-constraint"],"comments":[{"owner":{"account_id":95134,"reputation":691,"user_id":259281,"accept_rate":27,"display_name":"pavithraCS"},"score":0,"creation_date":1654066412,"post_id":72457311,"comment_id":128000308,"body_markdown":"Does your Table has a record with 1@mail.com? Email should be unique for each record as defined here.","body":"Does your Table has a record with 1@mail.com? Email should be unique for each record as defined here."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654066514,"post_id":72457311,"comment_id":128000344,"body_markdown":"Look at the values in the error message. That row is being inserted by some other bit of code.","body":"Look at the values in the error message. That row is being inserted by some other bit of code."},{"owner":{"account_id":4019864,"reputation":17,"user_id":3310622,"accept_rate":0,"display_name":"Tobias"},"score":0,"creation_date":1654069610,"post_id":72457311,"comment_id":128001416,"body_markdown":"In the full stacktrace the corresponding line should be:\n\n        at tech.richtfest.api.UserController.createUser(UserController.java:35) ~[classes/:na]\n\nBut this seems to be this endpoint, no?","body":"In the full stacktrace the corresponding line should be:          at tech.richtfest.api.UserController.createUser(UserController.&zwnj;&#8203;java:35) ~[classes/:na]  But this seems to be this endpoint, no?"}],"answers":[{"tags":[],"owner":{"account_id":15453896,"reputation":1,"user_id":11148602,"display_name":"Theo Mezier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654066268,"creation_date":1654066268,"answer_id":72457469,"question_id":72457311,"body_markdown":"There is something in your code who try to insert [1, &#39;1@mail.com&#39;, &#39;Tobias&#39;, &#39;333a4548-5fd6-463e-8d33-657c5174c5a4&#39;, &#39;Dobberphul&#39;] and it already exist.\r\nThis is what your error say","title":"Java Spring Entity insert throws &quot;JdbcSQLIntegrityConstraintViolationException&quot;","body":"<p>There is something in your code who try to insert [1, '1@mail.com', 'Tobias', '333a4548-5fd6-463e-8d33-657c5174c5a4', 'Dobberphul'] and it already exist.\nThis is what your error say</p>\n"},{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654076576,"creation_date":1654076576,"answer_id":72459679,"question_id":72457311,"body_markdown":"looks like ```\r\nselect next value for hibernate_sequence ```\r\nnot triggered. in your case its always 1 is getting.\r\n","title":"Java Spring Entity insert throws &quot;JdbcSQLIntegrityConstraintViolationException&quot;","body":"<p>looks like <code>select next value for hibernate_sequence</code>\nnot triggered. in your case its always 1 is getting.</p>\n"},{"tags":[],"owner":{"account_id":4019864,"reputation":17,"user_id":3310622,"accept_rate":0,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654082756,"creation_date":1654082756,"answer_id":72461028,"question_id":72457311,"body_markdown":"Thanks for your help.\r\n\r\nI found the answer:\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\ndoes the right job.","title":"Java Spring Entity insert throws &quot;JdbcSQLIntegrityConstraintViolationException&quot;","body":"<p>Thanks for your help.</p>\n<p>I found the answer:</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n<p>does the right job.</p>\n"}],"owner":{"account_id":4019864,"reputation":17,"user_id":3310622,"accept_rate":0,"display_name":"Tobias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1654082756,"creation_date":1654064783,"question_id":72457311,"body_markdown":"I think its a very simple problem. But I dont see it. Can someone please help me?\r\nI have an entity &quot;User&quot;:\r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String firstname;\r\n        private String lastname;\r\n        @Column(unique=true)\r\n        private String email;\r\n        @Column(columnDefinition = &quot;varchar(63) default null&quot;, unique = true, nullable = true)\r\n        private String keycloakUserSubject;\r\n        \r\n        @OneToMany(mappedBy = &quot;user&quot;)\r\n        private Set&lt;UserProjectRoleOfUserInProject_Assignation&gt; userProjectRoleOfUserInProject_Assignation = new HashSet&lt;&gt;();\r\n    \r\n    //getter and setter...\r\n    }\r\n\r\nAnd I have an endpoint &quot;UserController&quot; that tries to insert a new User:\r\n\r\n    @Service\r\n    public class UserController implements UsersApiDelegate {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        private UserMapper userMapper;\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;Void&gt; createUser(Optional&lt;String&gt; acceptLanguage) {\r\n            User user = new User();\r\n            user.setId(5L); // I usually tried without this line (cause it is generated) --&gt; same error)\r\n            user.setLastname(&quot;st&quot;);\r\n            user.setFirstname(&quot;te&quot;);\r\n            user.setEmail(RandomStringUtils.random(10, true, false)+&quot;@mail.com&quot;);\r\n            System.out.println(user);\r\n            userRepository.saveAndFlush(user);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n        }\r\n    \r\n    //...\r\n    }\r\n\r\nIts corresponding userRepository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        List&lt;User&gt; findAll();\r\n        Optional&lt;User&gt; findByKeycloakUserSubject(String keycloakUserSubject);\r\n    }\r\n\r\nCalling that endpoint I get this error:\r\n\r\n    User [email=rOaryOjCtG@mail.com, firstname=te, id=5, keycloakUserSubject=null, lastname=st, userProjectRoleOfUserInProject_Assignation=[]]\r\n    2022-06-01 08:23:47.937  WARN 16560 --- [nio-8000-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505\r\n    2022-06-01 08:23:47.938 ERROR 16560 --- [nio-8000-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Eindeutiger Index oder Prim&#245;rschl&#179;ssel verletzt: &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, &#39;1@mail.com&#39;, &#39;Tobias&#39;, &#39;333a4548-5fd6-463e-8d33-657c5174c5a4&#39;, &#39;Dobberphul&#39;]&quot;\r\n    Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, &#39;1@mail.com&#39;, &#39;Tobias&#39;, &#39;333a4548-5fd6-463e-8d33-657c5174c5a4&#39;, &#39;Dobberphul&#39;]&quot;; SQL statement:\r\n    insert into user (email, firstname, keycloak_user_subject, lastname, id) values (?, ?, ?, ?, ?) [23505-200]2022-06-01 08:23:47.953 ERROR 16560 --- [nio-8000-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, &#39;1@mail.com&#39;, &#39;Tobias&#39;, &#39;333a4548-5fd6-463e-8d33-657c5174c5a4&#39;, &#39;Dobberphul&#39;]&quot;; SQL statement:\r\n    insert into user (email, firstname, keycloak_user_subject, lastname, id) values (?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Eindeutiger Index oder Prim&#245;rschl&#179;ssel verletzt: \r\n    &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, &#39;1@mail.com&#39;, &#39;Tobias&#39;, &#39;333a4548-5fd6-463e-8d33-657c5174c5a4&#39;, &#39;Dobberphul&#39;]&quot;\r\n    Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, &#39;1@mail.com&#39;, &#39;Tobias&#39;, &#39;333a4548-5fd6-463e-8d33-657c5174c5a4&#39;, &#39;Dobberphul&#39;]&quot;; SQL statement:\r\n    insert into user (email, firstname, keycloak_user_subject, lastname, id) values (?, ?, ?, ?, ?)\r\n\r\n\r\nI think I get blind sometimes...\r\nThanks a lot.","title":"Java Spring Entity insert throws &quot;JdbcSQLIntegrityConstraintViolationException&quot;","body":"<p>I think its a very simple problem. But I dont see it. Can someone please help me?\nI have an entity &quot;User&quot;:</p>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String firstname;\n    private String lastname;\n    @Column(unique=true)\n    private String email;\n    @Column(columnDefinition = &quot;varchar(63) default null&quot;, unique = true, nullable = true)\n    private String keycloakUserSubject;\n    \n    @OneToMany(mappedBy = &quot;user&quot;)\n    private Set&lt;UserProjectRoleOfUserInProject_Assignation&gt; userProjectRoleOfUserInProject_Assignation = new HashSet&lt;&gt;();\n\n//getter and setter...\n}\n</code></pre>\n<p>And I have an endpoint &quot;UserController&quot; that tries to insert a new User:</p>\n<pre><code>@Service\npublic class UserController implements UsersApiDelegate {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    public ResponseEntity&lt;Void&gt; createUser(Optional&lt;String&gt; acceptLanguage) {\n        User user = new User();\n        user.setId(5L); // I usually tried without this line (cause it is generated) --&gt; same error)\n        user.setLastname(&quot;st&quot;);\n        user.setFirstname(&quot;te&quot;);\n        user.setEmail(RandomStringUtils.random(10, true, false)+&quot;@mail.com&quot;);\n        System.out.println(user);\n        userRepository.saveAndFlush(user);\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n    }\n\n//...\n}\n</code></pre>\n<p>Its corresponding userRepository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    List&lt;User&gt; findAll();\n    Optional&lt;User&gt; findByKeycloakUserSubject(String keycloakUserSubject);\n}\n</code></pre>\n<p>Calling that endpoint I get this error:</p>\n<pre><code>User [email=rOaryOjCtG@mail.com, firstname=te, id=5, keycloakUserSubject=null, lastname=st, userProjectRoleOfUserInProject_Assignation=[]]\n2022-06-01 08:23:47.937  WARN 16560 --- [nio-8000-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505\n2022-06-01 08:23:47.938 ERROR 16560 --- [nio-8000-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Eindeutiger Index oder Primõrschl³ssel verletzt: &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, '1@mail.com', 'Tobias', '333a4548-5fd6-463e-8d33-657c5174c5a4', 'Dobberphul']&quot;\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, '1@mail.com', 'Tobias', '333a4548-5fd6-463e-8d33-657c5174c5a4', 'Dobberphul']&quot;; SQL statement:\ninsert into user (email, firstname, keycloak_user_subject, lastname, id) values (?, ?, ?, ?, ?) [23505-200]2022-06-01 08:23:47.953 ERROR 16560 --- [nio-8000-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, '1@mail.com', 'Tobias', '333a4548-5fd6-463e-8d33-657c5174c5a4', 'Dobberphul']&quot;; SQL statement:\ninsert into user (email, firstname, keycloak_user_subject, lastname, id) values (?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Eindeutiger Index oder Primõrschl³ssel verletzt: \n&quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, '1@mail.com', 'Tobias', '333a4548-5fd6-463e-8d33-657c5174c5a4', 'Dobberphul']&quot;\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.USER(ID) [1, '1@mail.com', 'Tobias', '333a4548-5fd6-463e-8d33-657c5174c5a4', 'Dobberphul']&quot;; SQL statement:\ninsert into user (email, firstname, keycloak_user_subject, lastname, id) values (?, ?, ?, ?, ?)\n</code></pre>\n<p>I think I get blind sometimes...\nThanks a lot.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1654082354,"post_id":72460903,"comment_id":128005984,"body_markdown":"[`BufferedImage`](https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html) does not override equals, so two instances are only equal if they are the same instance.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html\" rel=\"nofollow noreferrer\"><code>BufferedImage</code></a> does not override equals, so two instances are only equal if they are the same instance."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654082387,"creation_date":1654082387,"answer_id":72460960,"question_id":72460903,"body_markdown":"Hence the BufferedImage doesn&#39;t override the hashCode and equals methods from the Object class, you will get duplicates in the set.\r\n\r\nI personally never worked with BufferedImage instances, but I&#39;d create a wrapper class, which contains the BufferedImage and it lazily calculates a hashCode and equals according to the data in the BufferedImage and use it for duplicate elimination.","title":"Identical buffered images in a set","body":"<p>Hence the BufferedImage doesn't override the hashCode and equals methods from the Object class, you will get duplicates in the set.</p>\n<p>I personally never worked with BufferedImage instances, but I'd create a wrapper class, which contains the BufferedImage and it lazily calculates a hashCode and equals according to the data in the BufferedImage and use it for duplicate elimination.</p>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72460960,"answer_count":1,"score":0,"last_activity_date":1654082438,"creation_date":1654082149,"question_id":72460903,"body_markdown":"Should the following set contain duplicates?\r\n\r\n    HashSet&lt;BufferedImage&gt; digitsIncaptcha = new HashSet&lt;&gt;();\r\n    digitsIncaptcha.add(digit);\r\n\r\nWhile adding images to the set I expect that there will not be identical images there, but they are. When I save to disk the content of `digitsIncaptcha` there are identical occurenses, i.e. the same size, the same dimentions and the same pixel by pixel color.","title":"Identical buffered images in a set","body":"<p>Should the following set contain duplicates?</p>\n<pre><code>HashSet&lt;BufferedImage&gt; digitsIncaptcha = new HashSet&lt;&gt;();\ndigitsIncaptcha.add(digit);\n</code></pre>\n<p>While adding images to the set I expect that there will not be identical images there, but they are. When I save to disk the content of <code>digitsIncaptcha</code> there are identical occurenses, i.e. the same size, the same dimentions and the same pixel by pixel color.</p>\n"},{"tags":["java","string","reflection","annotations"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1654073486,"post_id":72458870,"comment_id":128002740,"body_markdown":"`a.toString()` is calling toString on the `Annotation` object returned by `m.getAnnotation(Annos.class);`. The `toString` in your `main` method is calling `A2::toString`.","body":"<code>a.toString()</code> is calling toString on the <code>Annotation</code> object returned by <code>m.getAnnotation(Annos.class);</code>. The <code>toString</code> in your <code>main</code> method is calling <code>A2::toString</code>."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654082263,"creation_date":1654073713,"answer_id":72458993,"question_id":72458870,"body_markdown":"The solution is to change\r\n\r\n    Method m = c.getMethod(&quot;retob&quot;);\r\n\r\nto \r\n\r\n    Method m = c.getDeclaredMethod(&quot;retob&quot;);\r\n\r\nThis is needed because your `retob` method is not public.\r\n\r\nFrom [the documentation of getMethod](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Class.html#getMethod(java.lang.String,java.lang.Class...)):\r\n\r\n&gt; [The class&#39;s] declared public instance and static methods as returned by getDeclaredMethods() and filtered to include only public methods that match given name and parameterTypes\r\n\r\nThis means that `getMethod` uses `getDeclaredMethod` but then ignores the method if it&#39;s not `public`. Using `getDeclaredMethod` directly solves that problem.\r\n\r\n\r\nAbout your question regarding the toString:\r\n\r\n`return a==null?&quot;EMPTY&quot;:a.toString();` still works because `a` is `null`. That&#39;s why `&quot;EMPTY&quot;` is returned.","title":"Why do the following code prints the stack trace and why is a.toString() in the return statement not giving an error or exception?","body":"<p>The solution is to change</p>\n<pre><code>Method m = c.getMethod(&quot;retob&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>Method m = c.getDeclaredMethod(&quot;retob&quot;);\n</code></pre>\n<p>This is needed because your <code>retob</code> method is not public.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Class.html#getMethod(java.lang.String,java.lang.Class...)\" rel=\"nofollow noreferrer\">the documentation of getMethod</a>:</p>\n<blockquote>\n<p>[The class's] declared public instance and static methods as returned by getDeclaredMethods() and filtered to include only public methods that match given name and parameterTypes</p>\n</blockquote>\n<p>This means that <code>getMethod</code> uses <code>getDeclaredMethod</code> but then ignores the method if it's not <code>public</code>. Using <code>getDeclaredMethod</code> directly solves that problem.</p>\n<p>About your question regarding the toString:</p>\n<p><code>return a==null?&quot;EMPTY&quot;:a.toString();</code> still works because <code>a</code> is <code>null</code>. That's why <code>&quot;EMPTY&quot;</code> is returned.</p>\n"}],"owner":{"account_id":12779071,"reputation":318,"user_id":14105067,"display_name":"imraklr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72458993,"answer_count":1,"score":0,"last_activity_date":1654082263,"creation_date":1654073180,"question_id":72458870,"body_markdown":"Following is the complete code -\r\n\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.*;\r\n    \r\n    class A2&lt;T&gt; {\r\n        T ob;\r\n        A2(T ob) {\r\n            this.ob = ob;\r\n        }\r\n        @Annos(str=&quot;T example&quot;)\r\n        T retob() {\r\n            return ob;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            Annotation a = null;\r\n            try {\r\n                Class&lt;?&gt; c = this.getClass();\r\n                Method m = c.getMethod(&quot;retob&quot;);\r\n                a = m.getAnnotation(Annos.class);\r\n            }catch(NoSuchMethodException NSMe) {\r\n                NSMe.printStackTrace();\r\n            }\r\n            return a==null?&quot;EMPTY&quot;:a.toString();\r\n        }\r\n        public static void main(String args[]) {\r\n            System.out.println(new A2&lt;Integer&gt;(2).toString());\r\n        }\r\n    }\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface Annos {\r\n        String str();\r\n    }\r\n\r\nIf I have override the ```toString()``` method then how can ```a.toString()``` in the return statement as well as in the main method work?\r\n\r\nHere is the output -\r\n```\r\njava.lang.NoSuchMethodException: A2.retob()\r\n        at java.base/java.lang.Class.getMethod(Class.java:2227)\r\n        at A2.toString(A2.java:20)\r\n        at A2.main(A2.java:28)\r\nEMPTY\r\n```\r\n\r\nWhy is it not able to get the method ```retob```?","title":"Why do the following code prints the stack trace and why is a.toString() in the return statement not giving an error or exception?","body":"<p>Following is the complete code -</p>\n<pre><code>import java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.*;\n\nclass A2&lt;T&gt; {\n    T ob;\n    A2(T ob) {\n        this.ob = ob;\n    }\n    @Annos(str=&quot;T example&quot;)\n    T retob() {\n        return ob;\n    }\n    @Override\n    public String toString() {\n        Annotation a = null;\n        try {\n            Class&lt;?&gt; c = this.getClass();\n            Method m = c.getMethod(&quot;retob&quot;);\n            a = m.getAnnotation(Annos.class);\n        }catch(NoSuchMethodException NSMe) {\n            NSMe.printStackTrace();\n        }\n        return a==null?&quot;EMPTY&quot;:a.toString();\n    }\n    public static void main(String args[]) {\n        System.out.println(new A2&lt;Integer&gt;(2).toString());\n    }\n}\n\n@Retention(RetentionPolicy.RUNTIME)\n@interface Annos {\n    String str();\n}\n</code></pre>\n<p>If I have override the <code>toString()</code> method then how can <code>a.toString()</code> in the return statement as well as in the main method work?</p>\n<p>Here is the output -</p>\n<pre><code>java.lang.NoSuchMethodException: A2.retob()\n        at java.base/java.lang.Class.getMethod(Class.java:2227)\n        at A2.toString(A2.java:20)\n        at A2.main(A2.java:28)\nEMPTY\n</code></pre>\n<p>Why is it not able to get the method <code>retob</code>?</p>\n"},{"tags":["java","android","crash"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1654080178,"post_id":72460408,"comment_id":128005212,"body_markdown":"Please include the full stack trace - the one line does not reveal anything.","body":"Please include the full stack trace - the one line does not reveal anything."},{"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"score":0,"creation_date":1654080293,"post_id":72460408,"comment_id":128005263,"body_markdown":"and include the xml file","body":"and include the xml file"}],"answers":[{"tags":[],"owner":{"account_id":12473188,"reputation":179,"user_id":9080527,"display_name":"Nursultan Almakhanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654080100,"creation_date":1654080100,"answer_id":72460449,"question_id":72460408,"body_markdown":"I think your button R.id.homeBtn is not LinearLayout, can you show your xml file?\r\n\r\nIf your buttons are Button classes, try this\r\n\r\n```\r\nprivate void bottomNavigation() {\r\n    Button homeBtn = findViewById(R.id.homeBtn);\r\n    Button cartBtn = findViewById(R.id.cartBtn);\r\n\r\n    homeBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            startActivity(new Intent(CartActivity.this, MainActivity.class));\r\n        }\r\n    });\r\n\r\n    cartBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            startActivity(new Intent(CartActivity.this, MainActivity.class));\r\n        }\r\n    });\r\n} \r\n```","title":"setOnClickListener button doesn&#39;t work Android studio","body":"<p>I think your button R.id.homeBtn is not LinearLayout, can you show your xml file?</p>\n<p>If your buttons are Button classes, try this</p>\n<pre><code>private void bottomNavigation() {\n    Button homeBtn = findViewById(R.id.homeBtn);\n    Button cartBtn = findViewById(R.id.cartBtn);\n\n    homeBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(CartActivity.this, MainActivity.class));\n        }\n    });\n\n    cartBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(CartActivity.this, MainActivity.class));\n        }\n    });\n} \n</code></pre>\n"}],"owner":{"account_id":25445191,"reputation":11,"user_id":19247483,"display_name":"Mihaela"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1654081977,"creation_date":1654079932,"question_id":72460408,"body_markdown":"I&#39;m new in java and I have tried to make a food app in android studio. I have a bar in app and when I click on cart my app is crashing.\r\n\r\nHere is my MainActivity\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private RecyclerView.Adapter adapter, adapter2;\r\n    private RecyclerView recyclerViewCategotyList, recyclerViewPopularList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerViewCategoty();\r\n        recyclerViewPopular();\r\n        bottomNavigation();\r\n    }\r\n\r\n    private void bottomNavigation() {\r\n        LinearLayout homeBtn=findViewById(R.id.homeBtn);\r\n        LinearLayout cartBtn=findViewById(R.id.cartBtn);\r\n\r\n        homeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(MainActivity.this,MainActivity.class));\r\n            }\r\n        });\r\n\r\n        cartBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               startActivity(new Intent(MainActivity.this,CartActivity.class));\r\n            }\r\n        });\r\n    } \r\n\r\nAnd I have this error: at com.example.food.Activity.MainActivity$2.onClick(MainActivity.java:48)\r\n\r\nThis is CartActivity\r\n\r\n    public class CartActivity extends AppCompatActivity {\r\n    private RecyclerView.Adapter adapter;\r\n    private RecyclerView recyclerViewList;\r\n    private ManagementCart managementCart;\r\n    private TextView totalFeeTxt, taxTxt, deliveryTxt, totalTxt, emptyTxt;\r\n    private double tax;\r\n    private ScrollView scrollView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n\r\n        managementCart = new ManagementCart(this);\r\n\r\n        initView();\r\n        initList();\r\n        bottomNavigation();\r\n        calculateCard();\r\n    }\r\n\r\n    private void bottomNavigation() {\r\n        LinearLayout homeBtn = findViewById(R.id.homeBtn);\r\n        LinearLayout cartBtn = findViewById(R.id.cartBtn);\r\n\r\n        homeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(CartActivity.this, MainActivity.class));\r\n            }\r\n        });\r\n\r\n        cartBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(CartActivity.this, MainActivity.class));\r\n            }\r\n        });\r\n    } \r\n\r\nI don&#39;t know what&#39;s wrong and why my setOnClickListener doesn&#39;t work.\r\n\r\nThank you.","title":"setOnClickListener button doesn&#39;t work Android studio","body":"<p>I'm new in java and I have tried to make a food app in android studio. I have a bar in app and when I click on cart my app is crashing.</p>\n<p>Here is my MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate RecyclerView.Adapter adapter, adapter2;\nprivate RecyclerView recyclerViewCategotyList, recyclerViewPopularList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    recyclerViewCategoty();\n    recyclerViewPopular();\n    bottomNavigation();\n}\n\nprivate void bottomNavigation() {\n    LinearLayout homeBtn=findViewById(R.id.homeBtn);\n    LinearLayout cartBtn=findViewById(R.id.cartBtn);\n\n    homeBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(MainActivity.this,MainActivity.class));\n        }\n    });\n\n    cartBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           startActivity(new Intent(MainActivity.this,CartActivity.class));\n        }\n    });\n} \n</code></pre>\n<p>And I have this error: at com.example.food.Activity.MainActivity$2.onClick(MainActivity.java:48)</p>\n<p>This is CartActivity</p>\n<pre><code>public class CartActivity extends AppCompatActivity {\nprivate RecyclerView.Adapter adapter;\nprivate RecyclerView recyclerViewList;\nprivate ManagementCart managementCart;\nprivate TextView totalFeeTxt, taxTxt, deliveryTxt, totalTxt, emptyTxt;\nprivate double tax;\nprivate ScrollView scrollView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cart);\n\n    managementCart = new ManagementCart(this);\n\n    initView();\n    initList();\n    bottomNavigation();\n    calculateCard();\n}\n\nprivate void bottomNavigation() {\n    LinearLayout homeBtn = findViewById(R.id.homeBtn);\n    LinearLayout cartBtn = findViewById(R.id.cartBtn);\n\n    homeBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(CartActivity.this, MainActivity.class));\n        }\n    });\n\n    cartBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(CartActivity.this, MainActivity.class));\n        }\n    });\n} \n</code></pre>\n<p>I don't know what's wrong and why my setOnClickListener doesn't work.</p>\n<p>Thank you.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1631714629,"post_id":69194588,"comment_id":122297523,"body_markdown":"`s = s.replaceAll(&quot;\\\\s+(\\\\p{Punct})&quot;, &quot;$1&quot;);`","body":"<code>s = s.replaceAll(&quot;\\\\s+(\\\\p{Punct})&quot;, &quot;$1&quot;);</code>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1631714682,"post_id":69194588,"comment_id":122297551,"body_markdown":"Did you make any attempts? If do, please post them and explain why they don&#39;t do what you want","body":"Did you make any attempts? If do, please post them and explain why they don&#39;t do what you want"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1631714750,"post_id":69194588,"comment_id":122297585,"body_markdown":"If you want to rather _not_ insert a space in the first place rather deleting them afterwards, you&#39;ll need to know the &quot;following word&quot; while iterating to decide whether a space should be added, so I&#39;d rather use a good old `for (i &lt; n)` loop so that you have access to `i+1`. Be careful with `ArrayIndexOutOfBoundsException` though.","body":"If you want to rather <i>not</i> insert a space in the first place rather deleting them afterwards, you&#39;ll need to know the &quot;following word&quot; while iterating to decide whether a space should be added, so I&#39;d rather use a good old <code>for (i &lt; n)</code> loop so that you have access to <code>i+1</code>. Be careful with <code>ArrayIndexOutOfBoundsException</code> though."}],"answers":[{"tags":[],"owner":{"account_id":9276404,"reputation":613,"user_id":6888950,"display_name":"Francisco Valle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1631714742,"creation_date":1631714742,"answer_id":69194698,"question_id":69194588,"body_markdown":"As you are concatenating the chars with an space, you can make a replacement on the string variable to remove the spaces you dont want\r\n\r\n    concatenatedString = concatenatedString.replaceAll(&quot; ,&quot;, &quot;,&quot;)\r\n           .replaceAll(&quot; \\\\.&quot;, &quot;.&quot;);\r\n\r\n","title":"Remove spaces before a punctuation mark in a string","body":"<p>As you are concatenating the chars with an space, you can make a replacement on the string variable to remove the spaces you dont want</p>\n<pre><code>concatenatedString = concatenatedString.replaceAll(&quot; ,&quot;, &quot;,&quot;)\n       .replaceAll(&quot; \\\\.&quot;, &quot;.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631714755,"creation_date":1631714755,"answer_id":69194700,"question_id":69194588,"body_markdown":"By programming it. Why is `quick` and `brown` eligible for separation with a space, but `fox` and `,` isn&#39;t? Java obviously doesn&#39;t know. You&#39;d have to tell it. You can use `str.charAt(0)` to get the first character, `str.charAt(str.length() -1)` for the last, you can use `Character.isLetterOrDigit` to check if it&#39;s the kind of character where you&#39;d want a space (e.g. _NOT_ a colon or a space or a comma or an exclamation mark or any other such).\r\n\r\nUse these tools inside your `for (String word : words)` loop. Determine if the start of the string you&#39;re about to add is a &#39;non letter/digit&#39; and if so, _do not_ add that space. Otherwise add it.\r\n","title":"Remove spaces before a punctuation mark in a string","body":"<p>By programming it. Why is <code>quick</code> and <code>brown</code> eligible for separation with a space, but <code>fox</code> and <code>,</code> isn't? Java obviously doesn't know. You'd have to tell it. You can use <code>str.charAt(0)</code> to get the first character, <code>str.charAt(str.length() -1)</code> for the last, you can use <code>Character.isLetterOrDigit</code> to check if it's the kind of character where you'd want a space (e.g. <em>NOT</em> a colon or a space or a comma or an exclamation mark or any other such).</p>\n<p>Use these tools inside your <code>for (String word : words)</code> loop. Determine if the start of the string you're about to add is a 'non letter/digit' and if so, <em>do not</em> add that space. Otherwise add it.</p>\n"},{"tags":[],"owner":{"account_id":2229483,"reputation":1131,"user_id":2762508,"display_name":"jaynabonne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632140432,"creation_date":1632140432,"answer_id":69254330,"question_id":69194588,"body_markdown":"I would flip your logic so that you prepend a space if the word being added needs one before it. You will have to handle the initial word not needing one (you could either check if concatenatedString is empty, or simply start out concatenatedString as the first word and skip to the second).\r\n\r\nAs it is now, you have two problems:\r\n1) The word you have to check is the next word, not the current word, and\r\n2) you&#39;re ending up with a trailing space on the string, which is there even if it doesn&#39;t show up in the print.\r\n\r\nIf you switch to prepending spaces on adding a new word, it makes it much easier to check. Then only add a space before the word if it&#39;s a word that needs a space.","title":"Remove spaces before a punctuation mark in a string","body":"<p>I would flip your logic so that you prepend a space if the word being added needs one before it. You will have to handle the initial word not needing one (you could either check if concatenatedString is empty, or simply start out concatenatedString as the first word and skip to the second).</p>\n<p>As it is now, you have two problems:</p>\n<ol>\n<li>The word you have to check is the next word, not the current word, and</li>\n<li>you're ending up with a trailing space on the string, which is there even if it doesn't show up in the print.</li>\n</ol>\n<p>If you switch to prepending spaces on adding a new word, it makes it much easier to check. Then only add a space before the word if it's a word that needs a space.</p>\n"},{"tags":[],"owner":{"account_id":10217461,"reputation":1,"user_id":7542695,"display_name":"John Warren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654081620,"creation_date":1654081620,"answer_id":72460778,"question_id":69194588,"body_markdown":"As an exercise, I thought I&#39;d give this a shot.    Taking the code you provided as a template, I used the strategy of optionally prepending a space depending on the contents of the current string, as suggested by jaynabonne in a posting above.\r\n\r\n```public class RemoveSpace {\r\n    final private static String optionalPrefixOf(String word)\r\n    {\r\n        if (Character.isLetterOrDigit(word.charAt(0)))\r\n            return &quot; &quot;;\r\n        else\r\n            return &quot;&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] words = {&quot;The&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;, &quot;,&quot;, &quot;jumps&quot;, &quot;over&quot;, &quot;the&quot;, &quot;lazy&quot;, &quot;dog&quot;, &quot;.&quot;};\r\n        String concatenatedString = &quot;&quot;;\r\n\r\n        for (String word : words) {\r\n            if (concatenatedString.isEmpty()) {\r\n                concatenatedString = word;\r\n            }\r\n            else {\r\n                concatenatedString += optionalPrefixOf(word) + word;\r\n            }\r\n        }\r\n\r\n        System.out.println(concatenatedString);\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Remove spaces before a punctuation mark in a string","body":"<p>As an exercise, I thought I'd give this a shot.    Taking the code you provided as a template, I used the strategy of optionally prepending a space depending on the contents of the current string, as suggested by jaynabonne in a posting above.</p>\n<pre><code>    final private static String optionalPrefixOf(String word)\n    {\n        if (Character.isLetterOrDigit(word.charAt(0)))\n            return &quot; &quot;;\n        else\n            return &quot;&quot;;\n    }\n\n    public static void main(String[] args) {\n        String[] words = {&quot;The&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;, &quot;,&quot;, &quot;jumps&quot;, &quot;over&quot;, &quot;the&quot;, &quot;lazy&quot;, &quot;dog&quot;, &quot;.&quot;};\n        String concatenatedString = &quot;&quot;;\n\n        for (String word : words) {\n            if (concatenatedString.isEmpty()) {\n                concatenatedString = word;\n            }\n            else {\n                concatenatedString += optionalPrefixOf(word) + word;\n            }\n        }\n\n        System.out.println(concatenatedString);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19132296,"reputation":1,"user_id":13973911,"display_name":"Alex Darius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1654081620,"creation_date":1631714280,"question_id":69194588,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] words = {&quot;The&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;, &quot;,&quot;, &quot;jumps&quot;, &quot;over&quot;, &quot;the&quot;, &quot;lazy&quot;, &quot;dog&quot;, &quot;.&quot;};\r\n            String concatenatedString = &quot;&quot;;\r\n\r\n            for (String word : words) {\r\n                concatenatedString += word + &quot; &quot;;\r\n        }\r\n        \r\n            System.out.println(concatenatedString);\r\n    }\r\n}\r\n\r\n\r\nI am trying to concatenate all the words from a string array in a single string, and the output I get is like this : &quot;The quick brown fox , jumps over the lazy dog .&quot;\r\n\r\nI would want the spaces before punctuation marks to be removed so the output could look like this : &quot;The quick brown fox, jumps over the lazy dog.&quot;\r\nAny idea how could I do that?","title":"Remove spaces before a punctuation mark in a string","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        String[] words = {&quot;The&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;, &quot;,&quot;, &quot;jumps&quot;, &quot;over&quot;, &quot;the&quot;, &quot;lazy&quot;, &quot;dog&quot;, &quot;.&quot;};\n        String concatenatedString = &quot;&quot;;\n\n        for (String word : words) {\n            concatenatedString += word + &quot; &quot;;\n    }\n    \n        System.out.println(concatenatedString);\n}\n</code></pre>\n<p>}</p>\n<p>I am trying to concatenate all the words from a string array in a single string, and the output I get is like this : &quot;The quick brown fox , jumps over the lazy dog .&quot;</p>\n<p>I would want the spaces before punctuation marks to be removed so the output could look like this : &quot;The quick brown fox, jumps over the lazy dog.&quot;\nAny idea how could I do that?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1654079742,"post_id":72460336,"comment_id":128005058,"body_markdown":"According to the [JavaDocs of [`Duration.parse(String)`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-), this method requires a specific `String` format which is not met in your example: *The formats accepted are based on the ISO-8601 duration format PnDTnHnMn.nS with days considered to be exactly 24 hours.* That means you either have to switch the format (if possible) or extract the numbers for hours, minutes, seconds, use the hours to create the `Duration.ofHours(int)` and add the minutes and seconds later on.","body":"According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">JavaDocs of [<code>Duration.parse(String)</code></a>, this method requires a specific <code>String</code> format which is not met in your example: <i>The formats accepted are based on the ISO-8601 duration format PnDTnHnMn.nS with days considered to be exactly 24 hours.</i> That means you either have to switch the format (if possible) or extract the numbers for hours, minutes, seconds, use the hours to create the <code>Duration.ofHours(int)</code> and add the minutes and seconds later on."}],"answers":[{"tags":[],"owner":{"account_id":2824501,"reputation":449,"user_id":2427414,"accept_rate":0,"display_name":"Zamir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654081535,"creation_date":1654081535,"answer_id":72460762,"question_id":72460336,"body_markdown":"According to the [documentation][1]  `parse` methods accept a sequence of characters in `ISO-8601`. Therefore if you want to provide `54:30:15` argument to the `parse` method it should be written like this: `PT54H30M15S`.  \r\nI would suggest writing an additional method to parse it in `ISO-8601` unless you cannot change your incoming data from an excel file.\r\n\r\n    String[] durationArray = durationString.split(&quot;:&quot;);\r\n    String durationFormatted = String.format(&quot;PT%sH%sM%sS&quot;, (Object[]) duration);\r\n    Duration duration = Duration.parse(durationFormatted);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-","title":"Mapping Duration of format hh:mm:ss attribute in JPA Entity","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">documentation</a>  <code>parse</code> methods accept a sequence of characters in <code>ISO-8601</code>. Therefore if you want to provide <code>54:30:15</code> argument to the <code>parse</code> method it should be written like this: <code>PT54H30M15S</code>.<br />\nI would suggest writing an additional method to parse it in <code>ISO-8601</code> unless you cannot change your incoming data from an excel file.</p>\n<pre><code>String[] durationArray = durationString.split(&quot;:&quot;);\nString durationFormatted = String.format(&quot;PT%sH%sM%sS&quot;, (Object[]) duration);\nDuration duration = Duration.parse(durationFormatted);\n</code></pre>\n"}],"owner":{"account_id":2883871,"reputation":5,"user_id":2474170,"display_name":"Hammed Taofeek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654081535,"creation_date":1654079548,"question_id":72460336,"body_markdown":"I have an excel file for driver score which include driving duration specified like 54:30:15 of format hh:mm:ss. h for hour, m for minute, seconds. I have the following JPA entity\r\n\r\n    public class DriverScorecard {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;driver_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    \tprivate Driver driver;\r\n    \t@Column(name = &quot;month&quot;, nullable = false)\r\n    \tprivate Integer month;\r\n    \t@Column(name = &quot;year&quot;, nullable = false)\r\n    \tprivate Integer year;\r\n    \tprivate Double distance;\r\n    \tprivate Double maxSpeed;\r\n    \tprivate Integer harshBreakingPenalty;\r\n    \tprivate Integer harshBreakingOccurency;\r\n    \tprivate Double harshBreakingScore;\r\n    \tprivate Integer harshAccelerationPenalty;\r\n    \tprivate Integer harshAccelerationOccurency;\r\n    \tprivate Double harshAccelerationScore;\r\n    \tprivate Integer overSpeedingPenalty;\r\n    \tprivate Duration overSpeedingDuration;\r\n    \tprivate Double overSpeedingScore;\r\n    \tprivate Integer HOSPenalty;\r\n    \tprivate Duration HOSDuration;\r\n    \tprivate Double HOSScore;\r\n    \tprivate Double totalScore;\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;status_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    \tprivate ScorecardStatus status;\r\n    \t@CreationTimestamp\r\n    \t@Builder.Default\r\n    \tprivate ZonedDateTime createdAt = ZonedDateTime.now();\r\n    }\r\n\r\n I got the value from excel like \r\n \r\n\r\n    String durationString = &quot;54:30:15&quot;;\r\n\r\n and used java.time.Duration api. \r\n I used the \r\n\r\n    Duration duration = Duration.parse(durationString);\r\n\r\n But got an error java.time.format.DateTimeParseException: Text cannot be parsed to a Duration\r\n at java.base/java.time.Duration.parse(Duration.java:419).\r\nAny suggestion on a possible solution is welcome","title":"Mapping Duration of format hh:mm:ss attribute in JPA Entity","body":"<p>I have an excel file for driver score which include driving duration specified like 54:30:15 of format hh:mm:ss. h for hour, m for minute, seconds. I have the following JPA entity</p>\n<pre><code>public class DriverScorecard {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;driver_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Driver driver;\n    @Column(name = &quot;month&quot;, nullable = false)\n    private Integer month;\n    @Column(name = &quot;year&quot;, nullable = false)\n    private Integer year;\n    private Double distance;\n    private Double maxSpeed;\n    private Integer harshBreakingPenalty;\n    private Integer harshBreakingOccurency;\n    private Double harshBreakingScore;\n    private Integer harshAccelerationPenalty;\n    private Integer harshAccelerationOccurency;\n    private Double harshAccelerationScore;\n    private Integer overSpeedingPenalty;\n    private Duration overSpeedingDuration;\n    private Double overSpeedingScore;\n    private Integer HOSPenalty;\n    private Duration HOSDuration;\n    private Double HOSScore;\n    private Double totalScore;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;status_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ScorecardStatus status;\n    @CreationTimestamp\n    @Builder.Default\n    private ZonedDateTime createdAt = ZonedDateTime.now();\n}\n</code></pre>\n<p>I got the value from excel like</p>\n<pre><code>String durationString = &quot;54:30:15&quot;;\n</code></pre>\n<p>and used java.time.Duration api.\nI used the</p>\n<pre><code>Duration duration = Duration.parse(durationString);\n</code></pre>\n<p>But got an error java.time.format.DateTimeParseException: Text cannot be parsed to a Duration\nat java.base/java.time.Duration.parse(Duration.java:419).\nAny suggestion on a possible solution is welcome</p>\n"},{"tags":["java","git","github"],"comments":[{"owner":{"account_id":5069241,"reputation":3848,"user_id":4068476,"display_name":"Jay"},"score":0,"creation_date":1654077432,"post_id":72459627,"comment_id":128004211,"body_markdown":"Do you see your &quot;lost&quot; commit in `git log --all` or `git reflog`?","body":"Do you see your &quot;lost&quot; commit in <code>git log --all</code> or <code>git reflog</code>?"},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1654077650,"post_id":72459627,"comment_id":128004291,"body_markdown":"If you run `git push` *without* `--force` or similar, you should never lose any commits. You may have some trouble *finding* the commits (how do you find one specific pine tree for your Christmas tree, when you go out to a forest or lot full of pine trees all of which *could be* your Christmas tree? They all look alike! Which one will you choose? How?) but they should all be *there*.","body":"If you run <code>git push</code> <i>without</i> <code>--force</code> or similar, you should never lose any commits. You may have some trouble <i>finding</i> the commits (how do you find one specific pine tree for your Christmas tree, when you go out to a forest or lot full of pine trees all of which <i>could be</i> your Christmas tree? They all look alike! Which one will you choose? How?) but they should all be <i>there</i>."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1654077724,"post_id":72459627,"comment_id":128004322,"body_markdown":"Meanwhile, some set of exact command line commands that produce the error (i.e., a [mre]) would help people figure out where things went wrong. I realize this may be very hard to come by for something like what you&#39;ve just described.","body":"Meanwhile, some set of exact command line commands that produce the error (i.e., a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) would help people figure out where things went wrong. I realize this may be very hard to come by for something like what you&#39;ve just described."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654077828,"post_id":72459627,"comment_id":128004356,"body_markdown":"&quot;How to avoid it in the future&quot; - don&#39;t make a copy, clone the repository, possibly make a new branch, commit often and push (to your work branch) at least daily. Then you will never lose much work. As for finding the files, what does &quot;git branch -a&quot; tell you?","body":"&quot;How to avoid it in the future&quot; - don&#39;t make a copy, clone the repository, possibly make a new branch, commit often and push (to your work branch) at least daily. Then you will never lose much work. As for finding the files, what does &quot;git branch -a&quot; tell you?"},{"owner":{"account_id":16610209,"reputation":17,"user_id":12003470,"display_name":"locipro"},"score":0,"creation_date":1654080313,"post_id":72459627,"comment_id":128005273,"body_markdown":"@Jay Nope. I don&#39;t see any of the lost commits there.\n@ torek I know, I searched everywhere but couldn&#39;t find anything.\n@ ewramner &quot;git branch -a&quot; gives me 2 local branches, main and master, and the 3 remote branches i have.\nI suspect my commit got pushed to another branch or there was some confusion between the two. I will try to search through them now.","body":"@Jay Nope. I don&#39;t see any of the lost commits there. @ torek I know, I searched everywhere but couldn&#39;t find anything. @ ewramner &quot;git branch -a&quot; gives me 2 local branches, main and master, and the 3 remote branches i have. I suspect my commit got pushed to another branch or there was some confusion between the two. I will try to search through them now."},{"owner":{"account_id":16610209,"reputation":17,"user_id":12003470,"display_name":"locipro"},"score":2,"creation_date":1654081352,"post_id":72459627,"comment_id":128005660,"body_markdown":"@ewramner Hey man. It seems that &quot;master&quot; branch was created and my files were pushed to it. I have fixed everything and you have saved me hours of work. Thank you :)","body":"@ewramner Hey man. It seems that &quot;master&quot; branch was created and my files were pushed to it. I have fixed everything and you have saved me hours of work. Thank you :)"}],"answers":[{"tags":[],"owner":{"account_id":16610209,"reputation":17,"user_id":12003470,"display_name":"locipro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654081404,"creation_date":1654081404,"answer_id":72460735,"question_id":72459627,"body_markdown":"For some reason, There was a hidden local branch that didn&#39;t want to show up. If you have this issue try `git branch -a` or try checking your IDE&#39;s timeline (if you have that.)","title":"Trying to push to github reverted hours of progress","body":"<p>For some reason, There was a hidden local branch that didn't want to show up. If you have this issue try <code>git branch -a</code> or try checking your IDE's timeline (if you have that.)</p>\n"}],"owner":{"account_id":16610209,"reputation":17,"user_id":12003470,"display_name":"locipro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654081404,"creation_date":1654076338,"question_id":72459627,"body_markdown":"I am making a Minecraft mod with java and recently, Minecraft had a new update, so I had to update my mod accordingly.\r\nI started from scratch making a new mod folder, and copied and fixed everything. Now that I have everything working, I thought I&#39;d push my new mod to a new branch in my github repository. \r\nI Initialized git in my VScode project, and I committed all changes.\r\nThen added my github repository and tried to push to main.\r\nI checked github and there were no changes. I looked back to my project and realized that *my files were replaced with the old files from my github repo.* \r\nI did not pull, or try to merge, I just tried to push my files to my repository, and that caused days of work to be deleted from my PC. \r\n\r\nNow, Why did this happen, How can I avoid it in the future, and is there anyway to revert what github did?","title":"Trying to push to github reverted hours of progress","body":"<p>I am making a Minecraft mod with java and recently, Minecraft had a new update, so I had to update my mod accordingly.\nI started from scratch making a new mod folder, and copied and fixed everything. Now that I have everything working, I thought I'd push my new mod to a new branch in my github repository.\nI Initialized git in my VScode project, and I committed all changes.\nThen added my github repository and tried to push to main.\nI checked github and there were no changes. I looked back to my project and realized that <em>my files were replaced with the old files from my github repo.</em>\nI did not pull, or try to merge, I just tried to push my files to my repository, and that caused days of work to be deleted from my PC.</p>\n<p>Now, Why did this happen, How can I avoid it in the future, and is there anyway to revert what github did?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9444879,"reputation":1502,"user_id":7024019,"display_name":"Crusha K. Rool"},"score":0,"creation_date":1654077355,"post_id":72459780,"comment_id":128004181,"body_markdown":"Your do-while-loop is using the unmodified input parameter for its check, while in reality you probably want to check the char at the current i position. But you might want to look into regular expressions for an easier way to extract the desired text from the input.","body":"Your do-while-loop is using the unmodified input parameter for its check, while in reality you probably want to check the char at the current i position. But you might want to look into regular expressions for an easier way to extract the desired text from the input."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654078060,"post_id":72459780,"comment_id":128004462,"body_markdown":"Do you want to extract only numbers, regardless of where they are located, or do you want to extract whatever is enclosed in brackets - `(extraction target)`.","body":"Do you want to extract only numbers, regardless of where they are located, or do you want to extract whatever is enclosed in brackets - <code>(extraction target)</code>."},{"owner":{"account_id":4824120,"reputation":748,"user_id":3893990,"display_name":"Han"},"score":0,"creation_date":1654078632,"post_id":72459780,"comment_id":128004702,"body_markdown":"Well to answer what happened, &quot;string.equals(&quot;(&quot;)&quot; is equal to &quot;Awaiting Research(5056)&quot;.equals(&quot;(&quot;); which is false and hence it run once. If you figure to use while(string.charAt(i)); you&#39;ll notice that i runs into a length issue due to direct mutation of variable. You might need more debugging to solve this programmatically if you want to try out to understand more, but it&#39;ll be fun. If possible get some tools that can do &quot;DEBUG&quot;, and you can understand your code line by line.","body":"Well to answer what happened, &quot;string.equals(&quot;(&quot;)&quot; is equal to &quot;Awaiting Research(5056)&quot;.equals(&quot;(&quot;); which is false and hence it run once. If you figure to use while(string.charAt(i)); you&#39;ll notice that i runs into a length issue due to direct mutation of variable. You might need more debugging to solve this programmatically if you want to try out to understand more, but it&#39;ll be fun. If possible get some tools that can do &quot;DEBUG&quot;, and you can understand your code line by line."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654079332,"creation_date":1654077468,"answer_id":72459884,"question_id":72459780,"body_markdown":"You don&#39;t need loops (in your code), you can use `String.substring(int, int)` in combination with `String.indexOf(char)`:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString input = &quot;Awaiting Research(5056)&quot;;\r\n\t// find the braces and use their indexes to get the content\r\n\tString output = input.substring(\r\n\t\t\t\t\t\tinput.indexOf(&#39;(&#39;) + 1, // index is exclusive, so add 1\r\n\t\t\t\t\t\tinput.indexOf(&#39;)&#39;)\r\n\t\t\t\t\t);\r\n\t// print the result\r\n\tSystem.out.println(output);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\n5056\r\n```\r\n\r\n## Hint:\r\nOnly use this if you are **sure** the input will always contain a `(` and a `)` with `indexOf(&#39;(&#39;) &lt; indexOf(&#39;)&#39;)` or handle `IndexOutOfBoundsException`s, which will occur on most `String`s not matching the braces constraint. ","title":"Delete some part of the string in beginning and some at last in java","body":"<p>You don't need loops (in your code), you can use <code>String.substring(int, int)</code> in combination with <code>String.indexOf(char)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example input\n    String input = &quot;Awaiting Research(5056)&quot;;\n    // find the braces and use their indexes to get the content\n    String output = input.substring(\n                        input.indexOf('(') + 1, // index is exclusive, so add 1\n                        input.indexOf(')')\n                    );\n    // print the result\n    System.out.println(output);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>5056\n</code></pre>\n<h2>Hint:</h2>\n<p>Only use this if you are <strong>sure</strong> the input will always contain a <code>(</code> and a <code>)</code> with <code>indexOf('(') &lt; indexOf(')')</code> or handle <code>IndexOutOfBoundsException</code>s, which will occur on most <code>String</code>s not matching the braces constraint.</p>\n"},{"tags":[],"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654077471,"creation_date":1654077471,"answer_id":72459886,"question_id":72459780,"body_markdown":"Using a regexp to extract what you need is a better option : \r\n\r\n    String test = &quot;Awaiting Research(5056)&quot;;\r\n    Pattern p = Pattern.compile(&quot;([0-9]+)&quot;);\r\n    Matcher m = p.matcher(test);\r\n    if (m.find()) {\r\n        System.out.println(m.group());\r\n    }","title":"Delete some part of the string in beginning and some at last in java","body":"<p>Using a regexp to extract what you need is a better option :</p>\n<pre><code>String test = &quot;Awaiting Research(5056)&quot;;\nPattern p = Pattern.compile(&quot;([0-9]+)&quot;);\nMatcher m = p.matcher(test);\nif (m.find()) {\n    System.out.println(m.group());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654077473,"creation_date":1654077473,"answer_id":72459887,"question_id":72459780,"body_markdown":"For your case, battery use regular expression to extract your interested part.\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;(?&lt;=\\\\().*(?=\\\\))&quot;);\r\nMatcher matcher = pattern.matcher(&quot;Awaiting Research(5056)&quot;);\r\nif(matcher.find())\r\n{\r\n    return matcher.group();\r\n}\r\n```","title":"Delete some part of the string in beginning and some at last in java","body":"<p>For your case, battery use regular expression to extract your interested part.</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;(?&lt;=\\\\().*(?=\\\\))&quot;);\nMatcher matcher = pattern.matcher(&quot;Awaiting Research(5056)&quot;);\nif(matcher.find())\n{\n    return matcher.group();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22227887,"reputation":158,"user_id":16464565,"display_name":"J2R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654077603,"creation_date":1654077603,"answer_id":72459918,"question_id":72459780,"body_markdown":"If your goal is just to look one numeric value of the string, try split the string with regex for the respective numeric value and then you&#39;ll have the number separated from the string\r\ne.g:\r\n```\r\n Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n Matcher matcher = pattern.matcher(&quot;somestringwithnumberlike123&quot;);\r\n \r\n if(matcher.find()) {\r\n     System.out.println(matcher.group());\r\n }\r\n```","title":"Delete some part of the string in beginning and some at last in java","body":"<p>If your goal is just to look one numeric value of the string, try split the string with regex for the respective numeric value and then you'll have the number separated from the string\ne.g:</p>\n<pre><code> Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\n Matcher matcher = pattern.matcher(&quot;somestringwithnumberlike123&quot;);\n \n if(matcher.find()) {\n     System.out.println(matcher.group());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25444921,"reputation":1,"user_id":19247260,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654081375,"creation_date":1654081375,"answer_id":72460727,"question_id":72459780,"body_markdown":"It is much easier to solve the problem e.g. using the `String.indexOf(..)` and `String.substring(from,to)`. But if, for some reason you want to stick to your approach, here are some hints:\r\n\r\nYour code does what is does because:\r\n- `string.equals(&quot;(&quot;)` is only true if the given string is exacly &quot;(&quot;\r\n- the `do {code} while (condition)`-loop executes code once if condition is not true -&gt; think about using the `while (condition) {code}` loop instead\r\n- if you change the condition to check for the character at i, your code would remove the first, third, fifth and so on: After first execution i is 1 and char at i is now the third char of the original string (because the first has been removed already) -&gt; think about always checking and removing charAt 0.\r\n","title":"Delete some part of the string in beginning and some at last in java","body":"<p>It is much easier to solve the problem e.g. using the <code>String.indexOf(..)</code> and <code>String.substring(from,to)</code>. But if, for some reason you want to stick to your approach, here are some hints:</p>\n<p>Your code does what is does because:</p>\n<ul>\n<li><code>string.equals(&quot;(&quot;)</code> is only true if the given string is exacly &quot;(&quot;</li>\n<li>the <code>do {code} while (condition)</code>-loop executes code once if condition is not true -&gt; think about using the <code>while (condition) {code}</code> loop instead</li>\n<li>if you change the condition to check for the character at i, your code would remove the first, third, fifth and so on: After first execution i is 1 and char at i is now the third char of the original string (because the first has been removed already) -&gt; think about always checking and removing charAt 0.</li>\n</ul>\n"}],"owner":{"account_id":24109599,"reputation":85,"user_id":18080361,"display_name":"Pratik P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72459884,"answer_count":5,"score":-1,"last_activity_date":1654081375,"creation_date":1654076992,"question_id":72459780,"body_markdown":"I want a dynamic code which will trim of some part of the String at the beginning and some part at last. I am able to trim the last part but not able to trim the initial part of the String to a specific point completely. Only the first character is deleted in the output.\r\n```\r\npublic static String removeTextAndLastBracketFromString(String string) {\r\n  StringBuilder str = new StringBuilder(string);\r\n  int i=0;\r\n  do {\r\n    str.deleteCharAt(i);\r\n    i++;\r\n  } while(string.equals(&quot;(&quot;));\r\n  str.deleteCharAt(string.length() - 2);\r\n  return str.toString();\r\n}\r\n```\r\nThis is my code. When I pass `Awaiting Research(5056)` as an argument, the output given is `waiting Research(5056`. I want to trim the initial part of such string till ( and I want only the digits as my output. My expected output here is - `5056`. Please help. ","title":"Delete some part of the string in beginning and some at last in java","body":"<p>I want a dynamic code which will trim of some part of the String at the beginning and some part at last. I am able to trim the last part but not able to trim the initial part of the String to a specific point completely. Only the first character is deleted in the output.</p>\n<pre><code>public static String removeTextAndLastBracketFromString(String string) {\n  StringBuilder str = new StringBuilder(string);\n  int i=0;\n  do {\n    str.deleteCharAt(i);\n    i++;\n  } while(string.equals(&quot;(&quot;));\n  str.deleteCharAt(string.length() - 2);\n  return str.toString();\n}\n</code></pre>\n<p>This is my code. When I pass <code>Awaiting Research(5056)</code> as an argument, the output given is <code>waiting Research(5056</code>. I want to trim the initial part of such string till ( and I want only the digits as my output. My expected output here is - <code>5056</code>. Please help.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1654057002,"post_id":72456344,"comment_id":127998498,"body_markdown":"I suggest you run your program locally and add some debug System.println statements (or use the debugger) and try to figure it out.","body":"I suggest you run your program locally and add some debug System.println statements (or use the debugger) and try to figure it out."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1654057173,"post_id":72456344,"comment_id":127998530,"body_markdown":"(but as a hint: what about when you get a new largest block, but you aren&#39;t at the end of the block yet?)","body":"(but as a hint: what about when you get a new largest block, but you aren&#39;t at the end of the block yet?)"},{"owner":{"account_id":6574059,"reputation":173,"user_id":9281475,"accept_rate":0,"display_name":"user184868"},"score":0,"creation_date":1654057393,"post_id":72456344,"comment_id":127998582,"body_markdown":"you must set currentBlock = 0;  if chars are unequal and not like that","body":"you must set currentBlock = 0;  if chars are unequal and not like that"}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654056966,"creation_date":1654056966,"answer_id":72456393,"question_id":72456344,"body_markdown":"You&#39;re not correctly resetting your `currentBlock` count. You need to reset the `currentBlock` to `1` if the following character is different from the current one. If not, you need to continue increasing `currentBlock`:\r\n\r\n    public int maxBlock(String str) {\r\n      int maxBlock = 0;\r\n      int currentBlock = 1;\r\n      \r\n      if (str.length() &lt; 1) {\r\n        return maxBlock;\r\n      } else {\r\n        maxBlock = 1;\r\n      }\r\n      \r\n      for (int i = 0; i &lt; str.length() - 1; i++) {\r\n        if (str.charAt(i) ==  str.charAt(i+1)) {\r\n          currentBlock++;\r\n          if (currentBlock &gt; maxBlock) {\r\n            maxBlock = currentBlock;\r\n          }\r\n        } else {\r\n          currentBlock = 1;\r\n        }\r\n      }\r\n      \r\n      return maxBlock;\r\n    }\r\n\r\n","title":"Codingbat challenge: maxBlock","body":"<p>You're not correctly resetting your <code>currentBlock</code> count. You need to reset the <code>currentBlock</code> to <code>1</code> if the following character is different from the current one. If not, you need to continue increasing <code>currentBlock</code>:</p>\n<pre><code>public int maxBlock(String str) {\n  int maxBlock = 0;\n  int currentBlock = 1;\n  \n  if (str.length() &lt; 1) {\n    return maxBlock;\n  } else {\n    maxBlock = 1;\n  }\n  \n  for (int i = 0; i &lt; str.length() - 1; i++) {\n    if (str.charAt(i) ==  str.charAt(i+1)) {\n      currentBlock++;\n      if (currentBlock &gt; maxBlock) {\n        maxBlock = currentBlock;\n      }\n    } else {\n      currentBlock = 1;\n    }\n  }\n  \n  return maxBlock;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654072400,"creation_date":1654066996,"answer_id":72457592,"question_id":72456344,"body_markdown":"This code is generated by [GitHub Copilot][1] plugin for IntelliJ, you need just type `int maxBlock` then GitHub Copilot generates rest of the code:\r\n\r\n    private int maxBlock(String s) {\r\n        if (s == null || s.length() == 0) return 0;\r\n        int maxBlocks = 0;\r\n        int currentBlocks = 0;\r\n        char currentChar = s.charAt(0);\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (s.charAt(i) == currentChar) {\r\n                currentBlocks++;\r\n            } else {\r\n                currentBlocks = 1;\r\n                currentChar = s.charAt(i);\r\n            }\r\n            maxBlocks = Math.max(maxBlocks, currentBlocks);\r\n        }\r\n        return maxBlocks;\r\n    }\r\n\r\n\r\nI only added `if (s == null || s.length() == 0) return 0;` to generated code.\r\n\r\n\r\n  [1]: https://copilot.github.com/","title":"Codingbat challenge: maxBlock","body":"<p>This code is generated by <a href=\"https://copilot.github.com/\" rel=\"nofollow noreferrer\">GitHub Copilot</a> plugin for IntelliJ, you need just type <code>int maxBlock</code> then GitHub Copilot generates rest of the code:</p>\n<pre><code>private int maxBlock(String s) {\n    if (s == null || s.length() == 0) return 0;\n    int maxBlocks = 0;\n    int currentBlocks = 0;\n    char currentChar = s.charAt(0);\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (s.charAt(i) == currentChar) {\n            currentBlocks++;\n        } else {\n            currentBlocks = 1;\n            currentChar = s.charAt(i);\n        }\n        maxBlocks = Math.max(maxBlocks, currentBlocks);\n    }\n    return maxBlocks;\n}\n</code></pre>\n<p>I only added <code>if (s == null || s.length() == 0) return 0;</code> to generated code.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654080878,"creation_date":1654070444,"answer_id":72458305,"question_id":72456344,"body_markdown":"Although I think @Robby Cornelissen and @Eskandar Abedini&#39;s solutions are definitely more viable than mine and closer to the original code, I would like to chip in to offer a different approach by using regex and a bit of coding logic.\r\n\r\nThe following regex looks for a match where a character reappears 0 or more times. This could be employed with the `results()` method of the `Matcher` class to extract the longest match found.\r\n\r\nHere is a link to test the regex\r\n\r\nhttps://regex101.com/r/OcMoQ9/1\r\n\r\n&lt;h4&gt;Code Implementation&lt;/h4&gt;\r\n\r\n```\r\nList&lt;String&gt; testCase = List.of(&quot;hoopla&quot;, &quot;abbCCCddBBBxx&quot;, &quot;&quot;, &quot;xyz&quot;, &quot;xxyz&quot;, &quot;xyzz&quot;, &quot;abbbcbbbxbbbx&quot;, &quot;XXBBBbbxx&quot;, &quot;XXBBBbbxxXXXX&quot;, &quot;XX2222BBBbbXX2222&quot;);\r\nPattern pattern = Pattern.compile(&quot;(.)(\\\\1*)&quot;);\r\nMatcher matcher;\r\n\r\nfor (String s : testCase) {\r\n    matcher = pattern.matcher(s);\r\n    System.out.printf(&quot;%s =&gt; %d%n&quot;, s, matcher\r\n            .results()\r\n            .map(match -&gt; match.group().length())\r\n            .max(Comparator.comparing(Integer::intValue))\r\n            .orElse(0));\r\n}\r\n\r\n//Or even simpliefied like so as @Holger has pointed out in the comments\r\nfor (String s : testCase) {\r\n    matcher = pattern.matcher(s);\r\n    System.out.printf(&quot;%s =&gt; %d%n&quot;, s, matcher\r\n            .results()\r\n            .mapToInt(match -&gt; match.group().length())\r\n            .max()\r\n            .orElse(0));\r\n}\r\n```\r\n\r\n&lt;h4&gt;Link to Test the code&lt;/h4&gt;\r\n\r\nhttps://www.jdoodle.com/iembed/v0/rH7\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\nhoopla =&gt; 2\r\nabbCCCddBBBxx =&gt; 3\r\n =&gt; 0\r\nxyz =&gt; 1\r\nxxyz =&gt; 2\r\nxyzz =&gt; 2\r\nabbbcbbbxbbbx =&gt; 3\r\nXXBBBbbxx =&gt; 3\r\nXXBBBbbxxXXXX =&gt; 4\r\nXX2222BBBbbXX2222 =&gt; 4\r\n```","title":"Codingbat challenge: maxBlock","body":"<p>Although I think @Robby Cornelissen and @Eskandar Abedini's solutions are definitely more viable than mine and closer to the original code, I would like to chip in to offer a different approach by using regex and a bit of coding logic.</p>\n<p>The following regex looks for a match where a character reappears 0 or more times. This could be employed with the <code>results()</code> method of the <code>Matcher</code> class to extract the longest match found.</p>\n<p>Here is a link to test the regex</p>\n<p><a href=\"https://regex101.com/r/OcMoQ9/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/OcMoQ9/1</a></p>\n<h4>Code Implementation</h4>\n<pre><code>List&lt;String&gt; testCase = List.of(&quot;hoopla&quot;, &quot;abbCCCddBBBxx&quot;, &quot;&quot;, &quot;xyz&quot;, &quot;xxyz&quot;, &quot;xyzz&quot;, &quot;abbbcbbbxbbbx&quot;, &quot;XXBBBbbxx&quot;, &quot;XXBBBbbxxXXXX&quot;, &quot;XX2222BBBbbXX2222&quot;);\nPattern pattern = Pattern.compile(&quot;(.)(\\\\1*)&quot;);\nMatcher matcher;\n\nfor (String s : testCase) {\n    matcher = pattern.matcher(s);\n    System.out.printf(&quot;%s =&gt; %d%n&quot;, s, matcher\n            .results()\n            .map(match -&gt; match.group().length())\n            .max(Comparator.comparing(Integer::intValue))\n            .orElse(0));\n}\n\n//Or even simpliefied like so as @Holger has pointed out in the comments\nfor (String s : testCase) {\n    matcher = pattern.matcher(s);\n    System.out.printf(&quot;%s =&gt; %d%n&quot;, s, matcher\n            .results()\n            .mapToInt(match -&gt; match.group().length())\n            .max()\n            .orElse(0));\n}\n</code></pre>\n<h4>Link to Test the code</h4>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/rH7\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/rH7</a></p>\n<h4>Output</h4>\n<pre><code>hoopla =&gt; 2\nabbCCCddBBBxx =&gt; 3\n =&gt; 0\nxyz =&gt; 1\nxxyz =&gt; 2\nxyzz =&gt; 2\nabbbcbbbxbbbx =&gt; 3\nXXBBBbbxx =&gt; 3\nXXBBBbbxxXXXX =&gt; 4\nXX2222BBBbbXX2222 =&gt; 4\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72456393,"answer_count":3,"score":0,"last_activity_date":1654080878,"creation_date":1654056305,"question_id":72456344,"body_markdown":"Given the task [maxBlock][1] from CodingBat:\r\n\r\nGiven a string, return the length of the largest “block” in the string. A block is a run of adjacent chars that are the same.\r\n\r\n\r\n    maxBlock(&quot;hoopla&quot;) → 2\r\n    maxBlock(&quot;abbCCCddBBBxx&quot;) → 3\r\n    maxBlock(&quot;&quot;) → 0\r\n\r\nMy solution passes all the tests except one:\r\n\r\n    public int maxBlock(String str) {\r\n      int maxBlock = 0;\r\n      int currentBlock = 1;\r\n      \r\n      if (str.length() &lt; 1) {\r\n        return maxBlock;\r\n      } else {\r\n        maxBlock = 1;\r\n      }\r\n      \r\n      for (int i = 0; i &lt; str.length() - 1; i++) {\r\n        if (str.charAt(i) ==  str.charAt(i+1)) {\r\n          currentBlock++;\r\n          if (currentBlock &gt; maxBlock) {\r\n            maxBlock = currentBlock;\r\n            currentBlock = 0;\r\n          }\r\n        }\r\n      }\r\n      \r\n      return maxBlock;\r\n    }\r\n\r\nWhat is the problem here? How could I fix it?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://codingbat.com/prob/p179479\r\n  [2]: https://i.stack.imgur.com/Xa3oF.png","title":"Codingbat challenge: maxBlock","body":"<p>Given the task <a href=\"https://codingbat.com/prob/p179479\" rel=\"nofollow noreferrer\">maxBlock</a> from CodingBat:</p>\n<p>Given a string, return the length of the largest “block” in the string. A block is a run of adjacent chars that are the same.</p>\n<pre><code>maxBlock(&quot;hoopla&quot;) → 2\nmaxBlock(&quot;abbCCCddBBBxx&quot;) → 3\nmaxBlock(&quot;&quot;) → 0\n</code></pre>\n<p>My solution passes all the tests except one:</p>\n<pre><code>public int maxBlock(String str) {\n  int maxBlock = 0;\n  int currentBlock = 1;\n  \n  if (str.length() &lt; 1) {\n    return maxBlock;\n  } else {\n    maxBlock = 1;\n  }\n  \n  for (int i = 0; i &lt; str.length() - 1; i++) {\n    if (str.charAt(i) ==  str.charAt(i+1)) {\n      currentBlock++;\n      if (currentBlock &gt; maxBlock) {\n        maxBlock = currentBlock;\n        currentBlock = 0;\n      }\n    }\n  }\n  \n  return maxBlock;\n}\n</code></pre>\n<p>What is the problem here? How could I fix it?\n<a href=\"https://i.stack.imgur.com/Xa3oF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xa3oF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-edittext","android-textwatcher"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":2,"creation_date":1654011309,"post_id":72450284,"comment_id":127988334,"body_markdown":"What do you want to happen if the user has entered text into one `EditText` but changes their mind and wants to use the other? How do you &#39;unlock&#39; it?","body":"What do you want to happen if the user has entered text into one <code>EditText</code> but changes their mind and wants to use the other? How do you &#39;unlock&#39; it?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1654018655,"post_id":72450284,"comment_id":127990829,"body_markdown":"Use [OnKeyUp and OnKeyDown](https://developer.android.com/training/keyboard-input/commands#:~:text=%2Dscreen%20keyboard) to determine whether the other `EditText` shoud be enabled or disabled.","body":"Use <a href=\"https://developer.android.com/training/keyboard-input/commands#:~:text=%2Dscreen%20keyboard\" rel=\"nofollow noreferrer\">OnKeyUp and OnKeyDown</a> to determine whether the other <code>EditText</code> shoud be enabled or disabled."},{"owner":{"account_id":25438027,"reputation":1,"user_id":19241456,"display_name":"MKE SIRIES II"},"score":0,"creation_date":1654048173,"post_id":72450284,"comment_id":127997345,"body_markdown":"@AliasCartellano - Appreciate ur help, but it will work if we disable editext?","body":"@AliasCartellano - Appreciate ur help, but it will work if we disable editext?"},{"owner":{"account_id":25438027,"reputation":1,"user_id":19241456,"display_name":"MKE SIRIES II"},"score":0,"creation_date":1654048218,"post_id":72450284,"comment_id":127997354,"body_markdown":"@codebod - there are two editextexts and we need only one is the core logic.","body":"@codebod - there are two editextexts and we need only one is the core logic."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1654076115,"post_id":72450284,"comment_id":128003660,"body_markdown":"I understand that the contents of only one `EditText` is needed for subsequent processing. I&#39;m trying to understand the user experience you are trying to achieve.","body":"I understand that the contents of only one <code>EditText</code> is needed for subsequent processing. I&#39;m trying to understand the user experience you are trying to achieve."},{"owner":{"account_id":25438027,"reputation":1,"user_id":19241456,"display_name":"MKE SIRIES II"},"score":0,"creation_date":1654078830,"post_id":72450284,"comment_id":128004764,"body_markdown":"@codebod - In image i have posted there are two edittexts... when user enter edittext then second should be greyout(visible) and when we tap second editext it should be again back to normal and first editext will be greyout. Hope you got me now","body":"@codebod - In image i have posted there are two edittexts... when user enter edittext then second should be greyout(visible) and when we tap second editext it should be again back to normal and first editext will be greyout. Hope you got me now"}],"answers":[{"tags":[],"owner":{"account_id":25438027,"reputation":1,"user_id":19241456,"display_name":"MKE SIRIES II"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654080717,"creation_date":1654080685,"answer_id":72460582,"question_id":72450284,"body_markdown":"I found the solution like this,\r\n\r\n      et_dup_to_cup.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                @Override\r\n                public void onFocusChange(View view, boolean hasFocus) {\r\n                    if (hasFocus) {\r\n                        et_cup_to_dup.setText(&quot;&quot;);\r\n                        et_dup_to_cup.setAlpha(1);\r\n                        et_cup_to_dup.setAlpha(0.25f);\r\n                       \r\n                    }\r\n                }\r\n            });\r\n    \r\n            et_cup_to_dup.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                @Override\r\n                public void onFocusChange(View view, boolean hasFocus) {\r\n                    if (hasFocus) {\r\n                        et_dup_to_cup.setText(&quot;&quot;);\r\n                        et_cup_to_dup.setAlpha(1);\r\n                        et_dup_to_cup.setAlpha(0.25f);\r\n                       \r\n                    }\r\n                }\r\n            });","title":"How to disable one edittext when we start typing other editext in android?","body":"<p>I found the solution like this,</p>\n<pre><code>  et_dup_to_cup.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n            @Override\n            public void onFocusChange(View view, boolean hasFocus) {\n                if (hasFocus) {\n                    et_cup_to_dup.setText(&quot;&quot;);\n                    et_dup_to_cup.setAlpha(1);\n                    et_cup_to_dup.setAlpha(0.25f);\n                   \n                }\n            }\n        });\n\n        et_cup_to_dup.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n            @Override\n            public void onFocusChange(View view, boolean hasFocus) {\n                if (hasFocus) {\n                    et_dup_to_cup.setText(&quot;&quot;);\n                    et_cup_to_dup.setAlpha(1);\n                    et_dup_to_cup.setAlpha(0.25f);\n                   \n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":25438027,"reputation":1,"user_id":19241456,"display_name":"MKE SIRIES II"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654080717,"creation_date":1654009916,"question_id":72450284,"body_markdown":"I have a form with two editext and condition is only one should be enable when we enter value to any of edittext e.g\r\nWe have 2 edittexts ...Edittext1 and Editext2\r\ncase 1: When we type edittext1 then editext2 should be disable and greyout.\r\nCase 2 :  when we type editext2 the editext1 should be disable and greyout.\r\n[enter image description here][1]\r\n\r\nI had tried using textwatcher but couldn&#39;t find the logic.\r\n\r\n\r\n    TextWatcher cupToDup = new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n            String cupTOdup = et_cup_to_dup.getText().toString().trim();\r\n            et_dup_to_cup.setFocusable(false);\r\n            //et_dup_to_cup.setText(&quot; &quot;);\r\n            et_dup_to_cup.setEnabled(false);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n\r\n        }\r\n    };\r\n\r\n    TextWatcher dupTocup = new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            String dupTocup = et_dup_to_cup.getText().toString().trim();\r\n            et_cup_to_dup.setFocusable(false);\r\n            //et_cup_to_dup.setText(&quot; &quot;);\r\n            et_cup_to_dup.setEnabled(false);\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n\r\n        }\r\n    };\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eHc9d.png","title":"How to disable one edittext when we start typing other editext in android?","body":"<p>I have a form with two editext and condition is only one should be enable when we enter value to any of edittext e.g\nWe have 2 edittexts ...Edittext1 and Editext2\ncase 1: When we type edittext1 then editext2 should be disable and greyout.\nCase 2 :  when we type editext2 the editext1 should be disable and greyout.\n<a href=\"https://i.stack.imgur.com/eHc9d.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I had tried using textwatcher but couldn't find the logic.</p>\n<pre><code>TextWatcher cupToDup = new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n        String cupTOdup = et_cup_to_dup.getText().toString().trim();\n        et_dup_to_cup.setFocusable(false);\n        //et_dup_to_cup.setText(&quot; &quot;);\n        et_dup_to_cup.setEnabled(false);\n\n    }\n\n    @Override\n    public void afterTextChanged(Editable s) {\n\n    }\n};\n\nTextWatcher dupTocup = new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        String dupTocup = et_dup_to_cup.getText().toString().trim();\n        et_cup_to_dup.setFocusable(false);\n        //et_cup_to_dup.setText(&quot; &quot;);\n        et_cup_to_dup.setEnabled(false);\n    }\n\n    @Override\n    public void afterTextChanged(Editable s) {\n\n    }\n};\n</code></pre>\n"},{"tags":["java","file-handling"],"comments":[{"owner":{"account_id":1484930,"reputation":5542,"user_id":1393400,"accept_rate":88,"display_name":"Xpleria"},"score":2,"creation_date":1508398181,"post_id":46824668,"comment_id":80596870,"body_markdown":"You need to be precise with your question. Where exactly is the problem, what exactly is the problem.","body":"You need to be precise with your question. Where exactly is the problem, what exactly is the problem."},{"owner":{"account_id":11351607,"reputation":11,"user_id":8322376,"display_name":"Sayian Fatim"},"score":0,"creation_date":1508398704,"post_id":46824668,"comment_id":80597171,"body_markdown":"O.k the problem is when I try to delete the data by using specific ID, it deletes my file. The file is removed not the specific data.","body":"O.k the problem is when I try to delete the data by using specific ID, it deletes my file. The file is removed not the specific data."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1508399187,"post_id":46824668,"comment_id":80597481,"body_markdown":"You are only showing **parts** of your code here. Lazily formatted code by the way. You want us to spend our time to help you - so you make that as easy as possible. Starting with taking the 1 minute it takes to properly format your input (instead of dumping zillions of useless empty lines on us).","body":"You are only showing <b>parts</b> of your code here. Lazily formatted code by the way. You want us to spend our time to help you - so you make that as easy as possible. Starting with taking the 1 minute it takes to properly format your input (instead of dumping zillions of useless empty lines on us)."},{"owner":{"account_id":11351607,"reputation":11,"user_id":8322376,"display_name":"Sayian Fatim"},"score":0,"creation_date":1508682615,"post_id":46824668,"comment_id":80697403,"body_markdown":"@GhostCat How about you do not help others at all. Because your comment was rude. So called programmer. lol","body":"@GhostCat How about you do not help others at all. Because your comment was rude. So called programmer. lol"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1508742052,"post_id":46824668,"comment_id":80714353,"body_markdown":"So far your question didn&#39;t receive much positive feedback, did it? I gave you feedback why that is. Instead of seeing that as a chance to *learn* something so that your input might receives better reception you decided to go defensive. You don&#39;t like being told that your input looks lazily formatted? Well, then improve that part. Again: you want **us** to spend **our** time to help you. You see, that **preview** window exists for a reason! How would you think about a coworker that comes by and drops such input on you? You probably wouldn&#39;t like that. But I am rude - for telling you the truth?","body":"So far your question didn&#39;t receive much positive feedback, did it? I gave you feedback why that is. Instead of seeing that as a chance to <i>learn</i> something so that your input might receives better reception you decided to go defensive. You don&#39;t like being told that your input looks lazily formatted? Well, then improve that part. Again: you want <b>us</b> to spend <b>our</b> time to help you. You see, that <b>preview</b> window exists for a reason! How would you think about a coworker that comes by and drops such input on you? You probably wouldn&#39;t like that. But I am rude - for telling you the truth?"}],"answers":[{"tags":[],"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508400420,"creation_date":1508398209,"answer_id":46824709,"question_id":46824668,"body_markdown":"You should use two different file names, one for reading and one for writing.","title":"Delete a specific record from File in Java","body":"<p>You should use two different file names, one for reading and one for writing.</p>\n"},{"tags":[],"owner":{"account_id":4654770,"reputation":339,"user_id":7445342,"accept_rate":80,"display_name":"SiGe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654080612,"creation_date":1508399681,"answer_id":46825112,"question_id":46824668,"body_markdown":"You should create a temporary file in which you write the data. After that, you can delete the original file, then rename the temporary file to the original.","title":"Delete a specific record from File in Java","body":"<p>You should create a temporary file in which you write the data. After that, you can delete the original file, then rename the temporary file to the original.</p>\n"}],"owner":{"account_id":11351607,"reputation":11,"user_id":8322376,"display_name":"Sayian Fatim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1654080612,"creation_date":1508398048,"question_id":46824668,"body_markdown":"I am trying to delete specific record from File, but every time I run it deletes the whole file. Can anyone please tell where the bug is?\r\n\r\nI have added temp db and also the methods are correct. There is some what problem with the logic of the loop. Kindly help me. Thank you!\r\n\r\n\r\n   \r\n\r\n     public void DeleteRecordByID() throws IOException {\r\n            \t\tScanner strInput =  new Scanner(System.in);\r\n            \t\tString ID, record;\r\n        \t\t\r\n        \t\tFile tempDB = new File(&quot;employees.txt&quot;);\r\n        \t\tFile db = new File(&quot;employees.txt&quot;);\r\n        \t\t\r\n        \t\tBufferedReader br = new BufferedReader( new FileReader( db ) );\r\n        \t\tBufferedWriter bw = new BufferedWriter( new FileWriter( tempDB ) );\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;\\t\\t Delete Employee Record\\n&quot;);\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Enter the Employee ID: &quot;);\r\n        \t\tID =  strInput.nextLine();\r\n        \t\t\r\n        \t\twhile( ( record = br.readLine() ) != null ) {\r\n        \t\t\tif( record.contains(ID) ) \r\n        \t\t\t\tcontinue;\r\n    \r\n        \t\t\tbw.write(record);\r\n        \t\t\tbw.flush();\r\n        \t\t\tbw.newLine();\r\n        \t\t}\r\n        \t\t\r\n        \t\tbr.close();\r\n        \t\tbw.close();\r\n                db.delete();\r\n                tempDB.renameTo(db);\r\n        }\r\n","title":"Delete a specific record from File in Java","body":"<p>I am trying to delete specific record from File, but every time I run it deletes the whole file. Can anyone please tell where the bug is?</p>\n\n<p>I have added temp db and also the methods are correct. There is some what problem with the logic of the loop. Kindly help me. Thank you!</p>\n\n<pre><code> public void DeleteRecordByID() throws IOException {\n                Scanner strInput =  new Scanner(System.in);\n                String ID, record;\n\n            File tempDB = new File(\"employees.txt\");\n            File db = new File(\"employees.txt\");\n\n            BufferedReader br = new BufferedReader( new FileReader( db ) );\n            BufferedWriter bw = new BufferedWriter( new FileWriter( tempDB ) );\n\n            System.out.println(\"\\t\\t Delete Employee Record\\n\");\n\n            System.out.println(\"Enter the Employee ID: \");\n            ID =  strInput.nextLine();\n\n            while( ( record = br.readLine() ) != null ) {\n                if( record.contains(ID) ) \n                    continue;\n\n                bw.write(record);\n                bw.flush();\n                bw.newLine();\n            }\n\n            br.close();\n            bw.close();\n            db.delete();\n            tempDB.renameTo(db);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","error-handling","stomp","spring-websocket"],"comments":[{"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"score":0,"creation_date":1556036795,"post_id":55733709,"comment_id":98297913,"body_markdown":"You mean a MutableMessage with a payload?","body":"You mean a MutableMessage with a payload?"},{"owner":{"account_id":5611542,"reputation":409,"user_id":4444092,"accept_rate":25,"display_name":"Tsyklop"},"score":0,"creation_date":1556119886,"post_id":55733709,"comment_id":98331961,"body_markdown":"@FrancescRecio yes.","body":"@FrancescRecio yes."}],"answers":[{"tags":[],"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556120948,"creation_date":1556120948,"answer_id":55834022,"question_id":55733709,"body_markdown":"You can construct a MutableMessage with payload and headers:\r\n\r\n    new MutableMessage&lt;String&gt;(&quot;payload&quot;, headers);\r\n\r\nLook the constructor inside class MutableMessage&lt;T&gt;:\r\n\r\n    public MutableMessage(T payload, Map&lt;String, Object&gt; headers) {\r\n\t\tAssert.notNull(payload, &quot;payload must not be null&quot;);\r\n\t\tthis.payload = payload;\r\n\r\n\t\tthis.headers = new MutableMessageHeaders(headers);\r\n\r\n\t\tif (headers != null) {\r\n\t\t\tthis.headers.put(MessageHeaders.ID, headers.get(MessageHeaders.ID));\r\n\t\t\tthis.headers.put(MessageHeaders.TIMESTAMP, headers.get(MessageHeaders.TIMESTAMP));\r\n\t\t}\r\n\t}","title":"Customize error message in stomp websocket spring boot 2","body":"<p>You can construct a MutableMessage with payload and headers:</p>\n\n<pre><code>new MutableMessage&lt;String&gt;(\"payload\", headers);\n</code></pre>\n\n<p>Look the constructor inside class MutableMessage:</p>\n\n<pre><code>public MutableMessage(T payload, Map&lt;String, Object&gt; headers) {\n    Assert.notNull(payload, \"payload must not be null\");\n    this.payload = payload;\n\n    this.headers = new MutableMessageHeaders(headers);\n\n    if (headers != null) {\n        this.headers.put(MessageHeaders.ID, headers.get(MessageHeaders.ID));\n        this.headers.put(MessageHeaders.TIMESTAMP, headers.get(MessageHeaders.TIMESTAMP));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2598109,"reputation":335,"user_id":2251275,"display_name":"Alexander Biryukov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604610718,"creation_date":1604610718,"answer_id":64705356,"question_id":55733709,"body_markdown":"There is a dedicated setter in STOMP registry:\r\n\r\n```kotlin\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\nclass WebSocketConfiguration : WebSocketMessageBrokerConfigurer {\r\n\r\n    override fun configureMessageBroker(registry: MessageBrokerRegistry) {\r\n        // ...\r\n    }\r\n\r\n    override fun registerStompEndpoints(registry: StompEndpointRegistry) {\r\n        registry.addEndpoint(&quot;/ws&quot;)\r\n\r\n        // Handle exceptions in interceptors and Spring library itself.\r\n        // Will terminate a connection and send ERROR frame to the client.\r\n        registry.setErrorHandler(object : StompSubProtocolErrorHandler() {\r\n            override fun handleInternal(\r\n                errorHeaderAccessor: StompHeaderAccessor,\r\n                errorPayload: ByteArray,\r\n                cause: Throwable?,\r\n                clientHeaderAccessor: StompHeaderAccessor?\r\n            ): Message&lt;ByteArray&gt; {\r\n                errorHeaderAccessor.message = null\r\n                val message = &quot;...&quot;\r\n                return MessageBuilder.createMessage(message.toByteArray(), errorHeaderAccessor.messageHeaders)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n```","title":"Customize error message in stomp websocket spring boot 2","body":"<p>There is a dedicated setter in STOMP registry:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\nclass WebSocketConfiguration : WebSocketMessageBrokerConfigurer {\n\n    override fun configureMessageBroker(registry: MessageBrokerRegistry) {\n        // ...\n    }\n\n    override fun registerStompEndpoints(registry: StompEndpointRegistry) {\n        registry.addEndpoint(&quot;/ws&quot;)\n\n        // Handle exceptions in interceptors and Spring library itself.\n        // Will terminate a connection and send ERROR frame to the client.\n        registry.setErrorHandler(object : StompSubProtocolErrorHandler() {\n            override fun handleInternal(\n                errorHeaderAccessor: StompHeaderAccessor,\n                errorPayload: ByteArray,\n                cause: Throwable?,\n                clientHeaderAccessor: StompHeaderAccessor?\n            ): Message&lt;ByteArray&gt; {\n                errorHeaderAccessor.message = null\n                val message = &quot;...&quot;\n                return MessageBuilder.createMessage(message.toByteArray(), errorHeaderAccessor.messageHeaders)\n            }\n        })\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":5611542,"reputation":409,"user_id":4444092,"accept_rate":25,"display_name":"Tsyklop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654080542,"creation_date":1555524953,"question_id":55733709,"body_markdown":"I use Spring Boot 2 WebSocket + SockJS + STOMP.\r\n\r\nI have JWT authorization when client is connecting in `ChannelInterceptor` in `preSend` method.\r\n\r\n    @Component\r\n    public class WebSocketChannelInterceptor implements ChannelInterceptor {\r\n    \r\n        private final TokenUtils tokenUtils;\r\n    \r\n        private final AuthenticationManager websocketAuthenticationManager;\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(WebSocketChannelInterceptor.class);\r\n    \r\n        public WebSocketChannelInterceptor(TokenUtils tokenUtils, AuthenticationManager websocketAuthenticationManager) {\r\n            this.tokenUtils = tokenUtils;\r\n            this.websocketAuthenticationManager = websocketAuthenticationManager;\r\n        }\r\n    \r\n        @Override\r\n        public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n    \r\n            LOGGER.info(&quot;WEBSOCKETCHANNELINTERCEPTOR -&gt; &quot;+message.toString());\r\n    \r\n            StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n    \r\n            if (accessor != null &amp;&amp; StompCommand.CONNECT.equals(accessor.getCommand())) {\r\n                List&lt;String&gt; headers = accessor.getNativeHeader(AUTHORIZATION);\r\n                accessor.setUser(websocketAuthenticationManager.authenticate(new JWTTokenAuthentication(tokenUtils.resolveToken(headers != null ? headers.get(0) : null))));\r\n            }\r\n    \r\n            return message;\r\n        }\r\n    \r\n        @Override\r\n        public boolean preReceive(MessageChannel channel) {\r\n            LOGGER.info(&quot;preReceive&quot;);\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nAuthenticationManager:\r\n\r\n    @Component(&quot;websocketAuthenticationManager&quot;)\r\n    @AllArgsConstructor\r\n    public class WebsocketAuthenticationManager implements AuthenticationManager {\r\n    \r\n        private final TokenUtils tokenUtils;\r\n        \r\n        private final ClientRepository clientRepository;\r\n    \r\n        private final OperatorRepository operatorRepository;\r\n    \r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n    \r\n            JWTTokenAuthentication jwtTokenAuthentication = (JWTTokenAuthentication) authentication;\r\n    \r\n            String token = jwtTokenAuthentication.getToken();\r\n    \r\n            if(tokenUtils.validateToken(token)) {\r\n    \r\n                RoleType role = RoleType.get(tokenUtils.get(&quot;role&quot;, token));\r\n    \r\n                if(role == null) {\r\n                    throw throwBadCredentialsException(&quot;Unknown role&quot;);\r\n                }\r\n    \r\n                switch (role) {\r\n                    case OPERATOR:\r\n    \r\n                        Optional&lt;OperatorEntity&gt; operator = operatorRepository.findByLogin(tokenUtils.get(&quot;login&quot;, token));\r\n    \r\n                        if(operator.isPresent()) {\r\n                            return new WebsocketOperatorDetails(token, OperatorDetails.builder().role(role.toString()).operator(operator.get()).build());\r\n                        } else {\r\n                            throw throwBadCredentialsException(&quot;Operator not found&quot;);\r\n                        }\r\n    \r\n                    case CLIENT:\r\n    \r\n                        Optional&lt;ClientEntity&gt; client = clientRepository.findByHash(tokenUtils.get(&quot;hash&quot;, token));\r\n    \r\n                        if(client.isPresent()) {\r\n                            return new WebsocketClientDetails(token, ClientDetails.builder().role(role.toString()).client(client.get()).build());\r\n                        } else {\r\n                            throw throwBadCredentialsException(&quot;Client not found&quot;);\r\n                        }\r\n                    case OWNER:\r\n                        throw throwBadCredentialsException(&quot;Access denied&quot;);\r\n                    default:\r\n                        throw throwBadCredentialsException(&quot;Unknown role&quot;);\r\n                }\r\n    \r\n            } else {\r\n                throw throwBadCredentialsException(&quot;Invalid token&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        private MessagingException throwBadCredentialsException(String message) {\r\n    \r\n            Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n    \r\n            headers.put(&quot;status&quot;, StatusType.UNAUTHORIZED);\r\n            headers.put(&quot;message&quot;, message);\r\n    \r\n            return new MessagingException(new MutableMessage&lt;&gt;(new MessageHeaders(headers)));\r\n        }\r\n    \r\n    }\r\n\r\nIn AuthenticationManager i trowing error if somthing wrong. \r\n\r\nOn client side i get next content:\r\n\r\n    {  \r\n       &quot;command&quot;:&quot;ERROR&quot;,\r\n       &quot;headers&quot;:{  \r\n          &quot;content-length&quot;:&quot;0&quot;,\r\n          &quot;message&quot;:&quot;Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]; nested exception is org.springframework.security.authentication.AuthenticationCredentialsNotFoundException\\\\c Invalid token&quot;\r\n       },\r\n       &quot;_binaryBody&quot;:{  \r\n    \r\n       },\r\n       &quot;isBinaryBody&quot;:true,\r\n       &quot;escapeHeaderValues&quot;:false,\r\n       &quot;skipContentLengthHeader&quot;:false,\r\n       &quot;_body&quot;:&quot;&quot;\r\n    }\r\n\r\nHow change the code to send error message with payload?\r\n\r\nThanks.","title":"Customize error message in stomp websocket spring boot 2","body":"<p>I use Spring Boot 2 WebSocket + SockJS + STOMP.</p>\n\n<p>I have JWT authorization when client is connecting in <code>ChannelInterceptor</code> in <code>preSend</code> method.</p>\n\n<pre><code>@Component\npublic class WebSocketChannelInterceptor implements ChannelInterceptor {\n\n    private final TokenUtils tokenUtils;\n\n    private final AuthenticationManager websocketAuthenticationManager;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(WebSocketChannelInterceptor.class);\n\n    public WebSocketChannelInterceptor(TokenUtils tokenUtils, AuthenticationManager websocketAuthenticationManager) {\n        this.tokenUtils = tokenUtils;\n        this.websocketAuthenticationManager = websocketAuthenticationManager;\n    }\n\n    @Override\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n        LOGGER.info(\"WEBSOCKETCHANNELINTERCEPTOR -&gt; \"+message.toString());\n\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n\n        if (accessor != null &amp;&amp; StompCommand.CONNECT.equals(accessor.getCommand())) {\n            List&lt;String&gt; headers = accessor.getNativeHeader(AUTHORIZATION);\n            accessor.setUser(websocketAuthenticationManager.authenticate(new JWTTokenAuthentication(tokenUtils.resolveToken(headers != null ? headers.get(0) : null))));\n        }\n\n        return message;\n    }\n\n    @Override\n    public boolean preReceive(MessageChannel channel) {\n        LOGGER.info(\"preReceive\");\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>AuthenticationManager:</p>\n\n<pre><code>@Component(\"websocketAuthenticationManager\")\n@AllArgsConstructor\npublic class WebsocketAuthenticationManager implements AuthenticationManager {\n\n    private final TokenUtils tokenUtils;\n\n    private final ClientRepository clientRepository;\n\n    private final OperatorRepository operatorRepository;\n\n    @Override\n    @Transactional(readOnly = true)\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        JWTTokenAuthentication jwtTokenAuthentication = (JWTTokenAuthentication) authentication;\n\n        String token = jwtTokenAuthentication.getToken();\n\n        if(tokenUtils.validateToken(token)) {\n\n            RoleType role = RoleType.get(tokenUtils.get(\"role\", token));\n\n            if(role == null) {\n                throw throwBadCredentialsException(\"Unknown role\");\n            }\n\n            switch (role) {\n                case OPERATOR:\n\n                    Optional&lt;OperatorEntity&gt; operator = operatorRepository.findByLogin(tokenUtils.get(\"login\", token));\n\n                    if(operator.isPresent()) {\n                        return new WebsocketOperatorDetails(token, OperatorDetails.builder().role(role.toString()).operator(operator.get()).build());\n                    } else {\n                        throw throwBadCredentialsException(\"Operator not found\");\n                    }\n\n                case CLIENT:\n\n                    Optional&lt;ClientEntity&gt; client = clientRepository.findByHash(tokenUtils.get(\"hash\", token));\n\n                    if(client.isPresent()) {\n                        return new WebsocketClientDetails(token, ClientDetails.builder().role(role.toString()).client(client.get()).build());\n                    } else {\n                        throw throwBadCredentialsException(\"Client not found\");\n                    }\n                case OWNER:\n                    throw throwBadCredentialsException(\"Access denied\");\n                default:\n                    throw throwBadCredentialsException(\"Unknown role\");\n            }\n\n        } else {\n            throw throwBadCredentialsException(\"Invalid token\");\n        }\n\n    }\n\n    private MessagingException throwBadCredentialsException(String message) {\n\n        Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n\n        headers.put(\"status\", StatusType.UNAUTHORIZED);\n        headers.put(\"message\", message);\n\n        return new MessagingException(new MutableMessage&lt;&gt;(new MessageHeaders(headers)));\n    }\n\n}\n</code></pre>\n\n<p>In AuthenticationManager i trowing error if somthing wrong. </p>\n\n<p>On client side i get next content:</p>\n\n<pre><code>{  \n   \"command\":\"ERROR\",\n   \"headers\":{  \n      \"content-length\":\"0\",\n      \"message\":\"Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]; nested exception is org.springframework.security.authentication.AuthenticationCredentialsNotFoundException\\\\c Invalid token\"\n   },\n   \"_binaryBody\":{  \n\n   },\n   \"isBinaryBody\":true,\n   \"escapeHeaderValues\":false,\n   \"skipContentLengthHeader\":false,\n   \"_body\":\"\"\n}\n</code></pre>\n\n<p>How change the code to send error message with payload?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":11305087,"reputation":131,"user_id":8289949,"display_name":"Rodolfo Martins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504702073,"creation_date":1504700885,"answer_id":46075260,"question_id":46074630,"body_markdown":"You don&#39;t need to close the `EntityManager` connection. It will be managed by Spring. So you need to remove the line:\r\n    \r\n    em.close()","title":"Properly close EntityManager in Spring","body":"<p>You don't need to close the <code>EntityManager</code> connection. It will be managed by Spring. So you need to remove the line:</p>\n\n<pre><code>em.close()\n</code></pre>\n"}],"owner":{"account_id":4654770,"reputation":339,"user_id":7445342,"accept_rate":80,"display_name":"SiGe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654080223,"creation_date":1504699099,"question_id":46074630,"body_markdown":"I have a REST API with Spring managed EntityManager.\r\nWhen I try to close it with\r\n\r\n    @Autowired\r\n    EntityManager em.\r\n    \r\n    em.close();\r\nI receive *IllegalStateException* which is normal because the Spring doc. says so.\r\n\r\n**My question is:** which is the correct way to terminate a REST application created with Spring Boot? Should I be &#39;disturbed&#39; by this exception?\r\n\r\nI googled it a lot but didn&#39;t find clear information.\r\n\r\n**EDIT:**\r\nwhat is disturbing is the fact, that if I shut down my application (e.g. in Tomcat) I receive the same *IllegalStateException*.","title":"Properly close EntityManager in Spring","body":"<p>I have a REST API with Spring managed EntityManager.\nWhen I try to close it with</p>\n<pre><code>@Autowired\nEntityManager em.\n\nem.close();\n</code></pre>\n<p>I receive <em>IllegalStateException</em> which is normal because the Spring doc. says so.</p>\n<p><strong>My question is:</strong> which is the correct way to terminate a REST application created with Spring Boot? Should I be 'disturbed' by this exception?</p>\n<p>I googled it a lot but didn't find clear information.</p>\n<p><strong>EDIT:</strong>\nwhat is disturbing is the fact, that if I shut down my application (e.g. in Tomcat) I receive the same <em>IllegalStateException</em>.</p>\n"},{"tags":["java","sftp","jsch","apache-commons-vfs"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561537985,"creation_date":1561537985,"answer_id":56768537,"question_id":56767556,"body_markdown":"You are using FTP in WinSCP, not SFTP. These are two completely incompatible protocols.\r\n\r\nOr possibly the encrypted variant of FTP, the FTPS (FTP over TLS/SSL) – what might lead you to the confusion with SFTP.\r\n\r\nReplace the `sftp://` in your URL with `ftp://` or `ftps://`.  \r\nSee https://commons.apache.org/proper/commons-vfs/filesystems.html#FTP","title":"org.apache.commons.vfs.FileSystemException: Could not connect to SFTP server at &quot;sftp://username:***@114.XX.XX.XX/&quot; on port 21","body":"<p>You are using FTP in WinSCP, not SFTP. These are two completely incompatible protocols.</p>\n\n<p>Or possibly the encrypted variant of FTP, the FTPS (FTP over TLS/SSL) – what might lead you to the confusion with SFTP.</p>\n\n<p>Replace the <code>sftp://</code> in your URL with <code>ftp://</code> or <code>ftps://</code>.<br>\nSee <a href=\"https://commons.apache.org/proper/commons-vfs/filesystems.html#FTP\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-vfs/filesystems.html#FTP</a></p>\n"}],"owner":{"account_id":1667130,"reputation":33,"user_id":1534318,"display_name":"Karthick.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56768537,"answer_count":1,"score":1,"last_activity_date":1654079746,"creation_date":1561534467,"question_id":56767556,"body_markdown":"I could access SFTP from WinSCP using the below credentials\r\n\r\n - serverAddress=114.XX.XX.XX   \r\n - userId=orafusion   \r\n - password=OraP!ss!123 \r\n - remoteDirectory=TestData/ \r\n - Port=21\r\n\r\nLib used:\r\n\r\n - commons-vfs2-2.0.jar\r\n - jsch-0.1.50.jar\r\n\r\n\r\nI get the below error when try to connect programmatically using Java. When I browsed google for the error, all I could get was special character ! is used in password. Therefore use `UriParser.encode(sftpuri)` that will resolve the problem but unfortunately it didn&#39;t help.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    org.apache.commons.vfs.FileSystemException: Could not connect to SFTP server at &quot;sftp://orafusion:***@114.XX.XX.XX/&quot;.\r\n    \tat org.apache.commons.vfs.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:99)\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.getFileSystem(AbstractOriginatingFileProvider.java:103)\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:82)\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:66)\r\n    \tat org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)\r\n    \tat org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)\r\n    \tat com.gfi.oracle.penalty.view.bean.GetMyFiles.startFTP(GetMyFiles.java:76)\r\n    \tat com.gfi.oracle.penalty.view.bean.GetMyFiles.main(GetMyFiles.java:38)\r\n    \r\n    Caused by: org.apache.commons.vfs.FileSystemException: Could not connect to SFTP server at &quot;114.XX.XX.XX&quot;.\r\n    \tat org.apache.commons.vfs.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:214)\r\n    \tat org.apache.commons.vfs.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:90)\r\n    \t... 7 more\r\n    \r\n    Caused by: com.jcraft.jsch.JSchException: Session.connect: java.net.SocketTimeoutException: Read timed out\r\n    \tat com.jcraft.jsch.Session.connect(Session.java:495)\r\n    \tat com.jcraft.jsch.Session.connect(Session.java:150)\r\n    \tat org.apache.commons.vfs.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:210)\r\n    \t... 8 more\r\n\r\nBelow is the code I&#39;m using for downloading file from SFTP.\r\n\r\nBlog reference: https://www.mysamplecode.com/2013/06/sftp-apache-commons-file-download.html\r\n\r\nOutput for `UriParser.encode(sftpUri)`. I could infer that the PORT is not appended here\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    sftp://orafusion:OraP!ss!123@114.XX.XX.XX/TestData/TestFile.txt\r\n\r\nI get error at the below line of code\r\n\r\n    FileObject remoteFile = manager.resolveFile(UriParser.encode(sftpUri), opts);\r\n\r\n--------\r\n\r\n    props = new Properties();\r\n    StandardFileSystemManager manager = new StandardFileSystemManager();\r\n\r\n    props.load(new FileInputStream(&quot;D:\\\\common.properties&quot;)); // + propertiesFilename));\r\n    String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\r\n    String userId = props.getProperty(&quot;userId&quot;).trim();\r\n    String password = props.getProperty(&quot;password&quot;).trim();\r\n    String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\r\n    String localDirectory = props.getProperty(&quot;localDirectory&quot;).trim();\r\n\r\n    //Initializes the file manager\r\n    manager.init();\r\n\r\n    //Setup our SFTP configuration\r\n    FileSystemOptions opts = new FileSystemOptions();\r\n    SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(opts, &quot;no&quot;);\r\n    SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\r\n    SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\r\n\r\n    //Create the SFTP URI using the host name, userid, password,  remote path and file name\r\n    String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; +\r\n         remoteDirectory + fileToDownload;\r\n\r\n    // Create local file object\r\n    String filepath = localDirectory + fileToDownload;\r\n    File file = new File(filepath);\r\n    FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n\r\n    System.out.println(&quot;sftp uri : &quot; + UriParser.encode(sftpUri));\r\n    // Create remote file object\r\n    FileObject remoteFile = manager.resolveFile(UriParser.encode(sftpUri), opts);\r\n\r\n    // Copy local file to sftp serverF\r\n    localFile.copyFrom(remoteFile, Selectors.SELECT_SELF);\r\n    System.out.println(&quot;File download successful&quot;);\r\n   \r\n\r\n","title":"org.apache.commons.vfs.FileSystemException: Could not connect to SFTP server at &quot;sftp://username:***@114.XX.XX.XX/&quot; on port 21","body":"<p>I could access SFTP from WinSCP using the below credentials</p>\n\n<ul>\n<li>serverAddress=114.XX.XX.XX   </li>\n<li>userId=orafusion   </li>\n<li>password=OraP!ss!123 </li>\n<li>remoteDirectory=TestData/ </li>\n<li>Port=21</li>\n</ul>\n\n<p>Lib used:</p>\n\n<ul>\n<li>commons-vfs2-2.0.jar</li>\n<li>jsch-0.1.50.jar</li>\n</ul>\n\n<p>I get the below error when try to connect programmatically using Java. When I browsed google for the error, all I could get was special character ! is used in password. Therefore use <code>UriParser.encode(sftpuri)</code> that will resolve the problem but unfortunately it didn't help.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.commons.vfs.FileSystemException: Could not connect to SFTP server at \"sftp://orafusion:***@114.XX.XX.XX/\".\n    at org.apache.commons.vfs.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:99)\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.getFileSystem(AbstractOriginatingFileProvider.java:103)\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:82)\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:66)\n    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)\n    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)\n    at com.gfi.oracle.penalty.view.bean.GetMyFiles.startFTP(GetMyFiles.java:76)\n    at com.gfi.oracle.penalty.view.bean.GetMyFiles.main(GetMyFiles.java:38)\n\nCaused by: org.apache.commons.vfs.FileSystemException: Could not connect to SFTP server at \"114.XX.XX.XX\".\n    at org.apache.commons.vfs.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:214)\n    at org.apache.commons.vfs.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:90)\n    ... 7 more\n\nCaused by: com.jcraft.jsch.JSchException: Session.connect: java.net.SocketTimeoutException: Read timed out\n    at com.jcraft.jsch.Session.connect(Session.java:495)\n    at com.jcraft.jsch.Session.connect(Session.java:150)\n    at org.apache.commons.vfs.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:210)\n    ... 8 more\n</code></pre>\n\n<p>Below is the code I'm using for downloading file from SFTP.</p>\n\n<p>Blog reference: <a href=\"https://www.mysamplecode.com/2013/06/sftp-apache-commons-file-download.html\" rel=\"nofollow noreferrer\">https://www.mysamplecode.com/2013/06/sftp-apache-commons-file-download.html</a></p>\n\n<p>Output for <code>UriParser.encode(sftpUri)</code>. I could infer that the PORT is not appended here</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sftp://orafusion:OraP!ss!123@114.XX.XX.XX/TestData/TestFile.txt\n</code></pre>\n\n<p>I get error at the below line of code</p>\n\n<pre><code>FileObject remoteFile = manager.resolveFile(UriParser.encode(sftpUri), opts);\n</code></pre>\n\n<hr>\n\n<pre><code>props = new Properties();\nStandardFileSystemManager manager = new StandardFileSystemManager();\n\nprops.load(new FileInputStream(\"D:\\\\common.properties\")); // + propertiesFilename));\nString serverAddress = props.getProperty(\"serverAddress\").trim();\nString userId = props.getProperty(\"userId\").trim();\nString password = props.getProperty(\"password\").trim();\nString remoteDirectory = props.getProperty(\"remoteDirectory\").trim();\nString localDirectory = props.getProperty(\"localDirectory\").trim();\n\n//Initializes the file manager\nmanager.init();\n\n//Setup our SFTP configuration\nFileSystemOptions opts = new FileSystemOptions();\nSftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(opts, \"no\");\nSftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\nSftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\n\n//Create the SFTP URI using the host name, userid, password,  remote path and file name\nString sftpUri = \"sftp://\" + userId + \":\" + password +  \"@\" + serverAddress + \"/\" +\n     remoteDirectory + fileToDownload;\n\n// Create local file object\nString filepath = localDirectory + fileToDownload;\nFile file = new File(filepath);\nFileObject localFile = manager.resolveFile(file.getAbsolutePath());\n\nSystem.out.println(\"sftp uri : \" + UriParser.encode(sftpUri));\n// Create remote file object\nFileObject remoteFile = manager.resolveFile(UriParser.encode(sftpUri), opts);\n\n// Copy local file to sftp serverF\nlocalFile.copyFrom(remoteFile, Selectors.SELECT_SELF);\nSystem.out.println(\"File download successful\");\n</code></pre>\n"},{"tags":["java","servlets","httpsession"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1277204263,"creation_date":1277204263,"answer_id":3092408,"question_id":3092363,"body_markdown":"No, the API does not permit this.\r\n\r\nI&#39;d say more, but that&#39;s about all there is to it.","title":"How can I load Java HttpSession from JSESSIONID?","body":"<p>No, the API does not permit this.</p>\n\n<p>I'd say more, but that's about all there is to it.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1654078857,"creation_date":1277204951,"answer_id":3092495,"question_id":3092363,"body_markdown":"You&#39;ll basically need to manually collect them all in a [`Map`][1] using a [`HttpSessionListener`][2] yourself.\r\n\r\n```java\r\n@WebListener\r\npublic class HttpSessionCollector implements HttpSessionListener {\r\n    private static final Map&lt;String, HttpSession&gt; SESSIONS = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void sessionCreated(HttpSessionEvent event) {\r\n        HttpSession session = event.getSession();\r\n        SESSIONS.put(session.getId(), session);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void sessionDestroyed(HttpSessionEvent event) {\r\n        SESSIONS.remove(event.getSession().getId());\r\n    }\r\n\r\n    public static HttpSession find(String sessionId) {\r\n        return SESSIONS.get(sessionId);\r\n    }\r\n}\r\n```\r\n\r\nThen, anywhere you want just do `HttpSessionCollector.find(sessionId)` to get the `HttpSession` in question.\r\n\r\n---\r\n\r\nThat said, this is a **huge** smell. There are certainly better ways to solve the *actual* functional requirement than this ;) As I commented in your [follow-up question][3]:\r\n\r\n&gt; This is the 2nd time that you asked a question which in real world should never be practiced. Honestly said, this all smells. What is it, the problem for which you think that getting the `HttpSession`  associated with JSESSONID in server side and getting the JSESSIONID value in client side is &quot;the&quot; solution? Elaborate about this in a new question, you&#39;ll get answers how to do it the right way. \r\n\r\nTake it serious. We&#39;re not teasing you, we&#39;re just trying to help you in the right direction to avoid that your project/webapp will break due to security holes and bad practices and/or that you will get fired.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\r\n  [2]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpsessionlistener\r\n  [3]: https://stackoverflow.com/questions/3092917/how-can-i-get-the-tomcat-jsessionid-on-the-client-side\r\n","title":"How can I load Java HttpSession from JSESSIONID?","body":"<p>You'll basically need to manually collect them all in a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> using a <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpsessionlistener\" rel=\"nofollow noreferrer\"><code>HttpSessionListener</code></a> yourself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebListener\npublic class HttpSessionCollector implements HttpSessionListener {\n    private static final Map&lt;String, HttpSession&gt; SESSIONS = new ConcurrentHashMap&lt;&gt;();\n\n    @Override\n    public void sessionCreated(HttpSessionEvent event) {\n        HttpSession session = event.getSession();\n        SESSIONS.put(session.getId(), session);\n    }\n\n\n    @Override\n    public void sessionDestroyed(HttpSessionEvent event) {\n        SESSIONS.remove(event.getSession().getId());\n    }\n\n    public static HttpSession find(String sessionId) {\n        return SESSIONS.get(sessionId);\n    }\n}\n</code></pre>\n<p>Then, anywhere you want just do <code>HttpSessionCollector.find(sessionId)</code> to get the <code>HttpSession</code> in question.</p>\n<hr />\n<p>That said, this is a <strong>huge</strong> smell. There are certainly better ways to solve the <em>actual</em> functional requirement than this ;) As I commented in your <a href=\"https://stackoverflow.com/questions/3092917/how-can-i-get-the-tomcat-jsessionid-on-the-client-side\">follow-up question</a>:</p>\n<blockquote>\n<p>This is the 2nd time that you asked a question which in real world should never be practiced. Honestly said, this all smells. What is it, the problem for which you think that getting the <code>HttpSession</code>  associated with JSESSONID in server side and getting the JSESSIONID value in client side is &quot;the&quot; solution? Elaborate about this in a new question, you'll get answers how to do it the right way.</p>\n</blockquote>\n<p>Take it serious. We're not teasing you, we're just trying to help you in the right direction to avoid that your project/webapp will break due to security holes and bad practices and/or that you will get fired.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590057954,"creation_date":1277266428,"answer_id":3098890,"question_id":3092363,"body_markdown":"You can do it as per BalusC&#39;s answer, but the existence of such a facility is a *prima facie* security breach between different users. You shouldn&#39;t be building things like this into your application.","title":"How can I load Java HttpSession from JSESSIONID?","body":"<p>You can do it as per BalusC's answer, but the existence of such a facility is a <em>prima facie</em> security breach between different users. You shouldn't be building things like this into your application.</p>\n"}],"owner":{"account_id":67082,"reputation":12759,"user_id":196480,"accept_rate":81,"display_name":"Tushar Ahirrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35858,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":3092495,"answer_count":3,"score":18,"last_activity_date":1654078857,"creation_date":1277203930,"question_id":3092363,"body_markdown":"I want to get Java `HttpSession` by JSESSIONID. Is it possible? If yes, how?","title":"How can I load Java HttpSession from JSESSIONID?","body":"<p>I want to get Java <code>HttpSession</code> by JSESSIONID. Is it possible? If yes, how?</p>\n"},{"tags":["java","android","arraylist","parcelable"],"comments":[{"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"score":0,"creation_date":1654078687,"post_id":21852718,"comment_id":128717593,"body_markdown":"In this case I have used Global static variables and the problems gone. You can get idea from [this SO Post](https://stackoverflow.com/a/13226397/7608371).","body":"In this case I have used Global static variables and the problems gone. You can get idea from <a href=\"https://stackoverflow.com/a/13226397/7608371\">this SO Post</a>."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1392724082,"creation_date":1392724082,"answer_id":21852820,"question_id":21852718,"body_markdown":"Given `byte[] AlbumArt`, you are probably exceeding the 1MB IPC limit.\r\n\r\n&gt; Any ideas as on how to overcome this solution and pass the ArrayList&lt;Songs&gt; in an Intent.\r\n\r\nI&#39;d start by getting rid of `AlbumArt`. Images should be in an image cache, one designed to make sure that you do not run out of heap space by having a maximum size and getting rid of least-recently-used entries (or moving them to a second-tier disk cache). As a side benefit, moving the `byte[]` out of the `Parcelable` will probably clear up your problem.\r\n","title":"Android - Parcel Custom Type - FAILED BINDER TRANSACTION","body":"<p>Given <code>byte[] AlbumArt</code>, you are probably exceeding the 1MB IPC limit.</p>\n\n<blockquote>\n  <p>Any ideas as on how to overcome this solution and pass the ArrayList in an Intent.</p>\n</blockquote>\n\n<p>I'd start by getting rid of <code>AlbumArt</code>. Images should be in an image cache, one designed to make sure that you do not run out of heap space by having a maximum size and getting rid of least-recently-used entries (or moving them to a second-tier disk cache). As a side benefit, moving the <code>byte[]</code> out of the <code>Parcelable</code> will probably clear up your problem.</p>\n"}],"owner":{"account_id":3634913,"reputation":3555,"user_id":3030243,"accept_rate":40,"display_name":"PsyGik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21852820,"answer_count":1,"score":3,"last_activity_date":1654078687,"creation_date":1392723791,"question_id":21852718,"body_markdown":"I&#39;m developing a Media Player Application where I&#39;m using `ArrayList` to store the list of songs, and want to use that same list between a `Service` and other `Activities`. I&#39;ve written a custom type Songs implementing `Parcelable` Interface. This is how I did it:\r\n\r\n   \r\n\r\n         String ID, Title, Artist, Album, Genre, Duration, Path;\r\n        \tbyte[] AlbumArt;\r\n            \r\n        //constructors go here\r\n            //getters and setters go here    \r\n                \r\n    public Songs(Parcel in) {\r\n    \t\treadFromParcel(in);\r\n    \t}\r\n                @Override\r\n                    \tpublic void writeToParcel(Parcel dest, int flags) {\r\n                    \t\t// TODO Auto-generated method stub\r\n                    \t\tdest.writeString(this.ID);\r\n                    \t\tdest.writeString(this.Title);\r\n                    \t\tdest.writeString(this.Artist);\r\n                    \t\tdest.writeString(this.Album);\r\n                    \t\tdest.writeString(this.Genre);\r\n                    \t\tdest.writeString(this.Duration);\r\n                    \t\tdest.writeByteArray(this.AlbumArt);\r\n                    \t\tdest.writeString(this.Path);\r\n                    \t}\r\n                    \r\n                    \tprivate void readFromParcel(Parcel in) {\r\n                    \t\tthis.ID = in.readString();\r\n                    \t\tthis.Title = in.readString();\r\n                    \t\tthis.Artist = in.readString();\r\n                    \t\tthis.Album = in.readString();\r\n                    \t\tthis.Genre = in.readString();\r\n                    \t\tthis.Duration = in.readString();\r\n                    \t\tin.readByteArray(this.AlbumArt);\r\n                    \t\tthis.Path = in.readString();\r\n                    \t}\r\n                    \r\n                    \tpublic static final Parcelable.Creator&lt;Songs&gt; CREATOR = new Parcelable.Creator&lt;Songs&gt;() {\r\n                    \r\n                    \t\t@Override\r\n                    \t\tpublic Songs createFromParcel(Parcel source) {\r\n                    \t\t\t// TODO Auto-generated method stub\r\n                    \t\t\treturn new Songs(source); // using parcelable constructor\r\n                    \t\t}\r\n                    \r\n                    \t\t@Override\r\n                    \t\tpublic Songs[] newArray(int size) {\r\n                    \t\t\t// TODO Auto-generated method stub\r\n                    \t\t\treturn new Songs[size];\r\n                    \t\t}\r\n                    \t};\r\n\r\nNow the Problem is I&#39;m getting `FAILED BINDER TRANSACTION` when I try to pass the `Arraylist&lt;Songs&gt;` in an Intent. As a workaround I&#39;m using static variables. Any ideas as on how to overcome this solution and pass the `ArrayList&lt;Songs&gt;` in an Intent.","title":"Android - Parcel Custom Type - FAILED BINDER TRANSACTION","body":"<p>I'm developing a Media Player Application where I'm using <code>ArrayList</code> to store the list of songs, and want to use that same list between a <code>Service</code> and other <code>Activities</code>. I've written a custom type Songs implementing <code>Parcelable</code> Interface. This is how I did it:</p>\n\n<pre><code>     String ID, Title, Artist, Album, Genre, Duration, Path;\n        byte[] AlbumArt;\n\n    //constructors go here\n        //getters and setters go here    \n\npublic Songs(Parcel in) {\n        readFromParcel(in);\n    }\n            @Override\n                    public void writeToParcel(Parcel dest, int flags) {\n                        // TODO Auto-generated method stub\n                        dest.writeString(this.ID);\n                        dest.writeString(this.Title);\n                        dest.writeString(this.Artist);\n                        dest.writeString(this.Album);\n                        dest.writeString(this.Genre);\n                        dest.writeString(this.Duration);\n                        dest.writeByteArray(this.AlbumArt);\n                        dest.writeString(this.Path);\n                    }\n\n                    private void readFromParcel(Parcel in) {\n                        this.ID = in.readString();\n                        this.Title = in.readString();\n                        this.Artist = in.readString();\n                        this.Album = in.readString();\n                        this.Genre = in.readString();\n                        this.Duration = in.readString();\n                        in.readByteArray(this.AlbumArt);\n                        this.Path = in.readString();\n                    }\n\n                    public static final Parcelable.Creator&lt;Songs&gt; CREATOR = new Parcelable.Creator&lt;Songs&gt;() {\n\n                        @Override\n                        public Songs createFromParcel(Parcel source) {\n                            // TODO Auto-generated method stub\n                            return new Songs(source); // using parcelable constructor\n                        }\n\n                        @Override\n                        public Songs[] newArray(int size) {\n                            // TODO Auto-generated method stub\n                            return new Songs[size];\n                        }\n                    };\n</code></pre>\n\n<p>Now the Problem is I'm getting <code>FAILED BINDER TRANSACTION</code> when I try to pass the <code>Arraylist&lt;Songs&gt;</code> in an Intent. As a workaround I'm using static variables. Any ideas as on how to overcome this solution and pass the <code>ArrayList&lt;Songs&gt;</code> in an Intent.</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654076182,"post_id":72459443,"comment_id":128003694,"body_markdown":"Try setting the icon with [this ctor](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JOptionPane.html#%3Cinit%3E(java.lang.Object,int,int,javax.swing.Icon))","body":"Try setting the icon with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JOptionPane.html#%3Cinit%3E(java.lang.Object,int,int,javax.swing.Icon)\" rel=\"nofollow noreferrer\">this ctor</a>"},{"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"score":0,"creation_date":1654076204,"post_id":72459443,"comment_id":128003709,"body_markdown":"Try `p1ImageLabel.setIcon(p1Image);`","body":"Try <code>p1ImageLabel.setIcon(p1Image);</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654076372,"post_id":72459443,"comment_id":128003786,"body_markdown":"I think in my suggestion and that of @majusebetter you need the reference to the *instance* of the option pane","body":"I think in my suggestion and that of @majusebetter you need the reference to the <i>instance</i> of the option pane"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654076632,"post_id":72459443,"comment_id":128003919,"body_markdown":"Generally, it’s not enough to create something, you also have to *use* it. The `JOptionPane` doesn’t know that you have created a label. Then, get used to consulting the documentation. There is [a `showInputDialog` variant accepting an `Icon`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component,java.lang.Object,java.lang.String,int,javax.swing.Icon,java.lang.Object%5B%5D,java.lang.Object))","body":"Generally, it’s not enough to create something, you also have to <i>use</i> it. The <code>JOptionPane</code> doesn’t know that you have created a label. Then, get used to consulting the documentation. There is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component,java.lang.Object,java.lang.String,int,javax.swing.Icon,java.lang.Object%5B%5D,java.lang.Object)\" rel=\"nofollow noreferrer\">a <code>showInputDialog</code> variant accepting an <code>Icon</code></a>"},{"owner":{"account_id":22984064,"reputation":13,"user_id":17110525,"display_name":"M.Ismail"},"score":0,"creation_date":1654091658,"post_id":72459443,"comment_id":128009388,"body_markdown":"Is using JTextField a better a option and an easier one to do with that kind of stuff?","body":"Is using JTextField a better a option and an easier one to do with that kind of stuff?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1654093882,"post_id":72459443,"comment_id":128010308,"body_markdown":"Add an image where? To replace the &quot;?&quot; icon? To the OK button? To the text field? Beside the existing &quot;Enter player name&quot; label? Be specific when asking a question. Maybe you want a little more control over the components visible in the option pane? Check out: https://stackoverflow.com/questions/17617390/how-to-set-manage-the-layout-of-joptionpane/17617861#17617861 for an example that allows you to provide your own custom panel.","body":"Add an image where? To replace the &quot;?&quot; icon? To the OK button? To the text field? Beside the existing &quot;Enter player name&quot; label? Be specific when asking a question. Maybe you want a little more control over the components visible in the option pane? Check out: <a href=\"https://stackoverflow.com/questions/17617390/how-to-set-manage-the-layout-of-joptionpane/17617861#17617861\" title=\"how to set manage the layout of joptionpane\">stackoverflow.com/questions/17617390/&hellip;</a> for an example that allows you to provide your own custom panel."}],"answers":[{"tags":[],"owner":{"account_id":95134,"reputation":691,"user_id":259281,"accept_rate":27,"display_name":"pavithraCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654078361,"creation_date":1654078361,"answer_id":72460081,"question_id":72459443,"body_markdown":"There is a method available which takes icon as an input, you can try it.\r\nlink:\r\n\r\n[https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20javax.swing.Icon,%20java.lang.Object\\[\\],%20java.lang.Object)][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20javax.swing.Icon,%20java.lang.Object[],%20java.lang.Object)","title":"How to add an Image to a JOptionPane.showInputDialog()?","body":"<p>There is a method available which takes icon as an input, you can try it.\nlink:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20javax.swing.Icon,%20java.lang.Object%5B%5D,%20java.lang.Object)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20javax.swing.Icon,%20java.lang.Object[],%20java.lang.Object)</a></p>\n"}],"owner":{"account_id":22984064,"reputation":13,"user_id":17110525,"display_name":"M.Ismail"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654078361,"creation_date":1654075609,"question_id":72459443,"body_markdown":"[![`I want to add an image I have in the place of the question mark`][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WXb1R.png\r\nHow do I do it? I tried to do it via a Label and it won&#39;t add it. And I think there is an easier way to do it than doing a JLabel.\r\n\r\nHere&#39;s the code for this bit: \r\n```java\r\n\r\n    public void popUpUserEntry(){\r\n     firstnameInput = new JFrame(); //It has been declared as an instance\r\n     ImageIcon p1Image = new ImageIcon(&quot;p1.png&quot;);\r\n     JLabel p1ImageLabel = new JLabel();\r\n     p1ImageLabel.add(p1Image);\r\n     String firstName = JOptionPane.showInputDialog(firstnameInput, &quot;Enter 1st Player&#39;s \r\n     name: &quot;);\r\n     p1Name = (firstName); //Instance that stores first player&#39;s name\r\n     firstnameInput.dispose();\r\n     }\r\n\r\n```\r\n","title":"How to add an Image to a JOptionPane.showInputDialog()?","body":"<p><a href=\"https://i.stack.imgur.com/WXb1R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WXb1R.png\" alt=\"I want to add an image I have in the place of the question mark\" /></a></p>\n<p>How do I do it? I tried to do it via a Label and it won't add it. And I think there is an easier way to do it than doing a JLabel.</p>\n<p>Here's the code for this bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public void popUpUserEntry(){\n     firstnameInput = new JFrame(); //It has been declared as an instance\n     ImageIcon p1Image = new ImageIcon(&quot;p1.png&quot;);\n     JLabel p1ImageLabel = new JLabel();\n     p1ImageLabel.add(p1Image);\n     String firstName = JOptionPane.showInputDialog(firstnameInput, &quot;Enter 1st Player's \n     name: &quot;);\n     p1Name = (firstName); //Instance that stores first player's name\n     firstnameInput.dispose();\n     }\n\n</code></pre>\n"},{"tags":["java","switch-expression"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1639641886,"post_id":70375639,"comment_id":124402184,"body_markdown":"Java 8 doesn&#39;t support switch expressions.","body":"Java 8 doesn&#39;t support switch expressions."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1639642013,"post_id":70375639,"comment_id":124402232,"body_markdown":"You could replace that with chain of conditional expressions. It will lokk similar","body":"You could replace that with chain of conditional expressions. It will lokk similar"},{"owner":{"account_id":19137130,"reputation":3,"user_id":13977904,"display_name":"Satelita"},"score":0,"creation_date":1639642040,"post_id":70375639,"comment_id":124402238,"body_markdown":"ok thank you for your answear. J  have diferent version in my laptop, and diferent version on my work PC.","body":"ok thank you for your answear. J  have diferent version in my laptop, and diferent version on my work PC."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654078031,"creation_date":1639642070,"answer_id":70375708,"question_id":70375639,"body_markdown":"Switch expressions were introduced in Java 12 as a preview feature and formally made available in Java 13 ([JEP 354][1]). Given you&#39;re using Java 8, you cannot use switch expressions.\r\n\r\nYou either need to upgrade to a more recent Java version (e.g. Java 17), or use a switch *statement*.\r\n\r\nThat is:\r\n\r\n```\r\npublic void checkIfGameIsOver(){\r\n    for (int a = 0; a &lt; 8; a++) {\r\n        String line;\r\n        switch (a) {\r\n        case 0:\r\n            line = button1.getText() + button2.getText() + button3.getText();\r\n            break;\r\n        case 1:\r\n            line = button4.getText() + button5.getText() + button6.getText();\r\n            break;\r\n        case 2:\r\n            line = button7.getText() + button8.getText() + button9.getText();\r\n            break;\r\n        case 3:\r\n            line = button1.getText() + button5.getText() + button9.getText();\r\n            break;\r\n        case 4:\r\n            line = button3.getText() + button5.getText() + button7.getText();\r\n            break;\r\n        case 5:\r\n            line = button1.getText() + button4.getText() + button7.getText();\r\n            break;\r\n        case 6:\r\n            line = button2.getText() + button5.getText() + button8.getText();\r\n            break;\r\n        case 7:\r\n            line = button3.getText() + button6.getText() + button9.getText();\r\n            break;\r\n        default:\r\n            line = null;\r\n        };\r\n```\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/354","title":"problem with &quot;String line = switch (a) in java loop. Cant implement cases","body":"<p>Switch expressions were introduced in Java 12 as a preview feature and formally made available in Java 13 (<a href=\"https://openjdk.java.net/jeps/354\" rel=\"nofollow noreferrer\">JEP 354</a>). Given you're using Java 8, you cannot use switch expressions.</p>\n<p>You either need to upgrade to a more recent Java version (e.g. Java 17), or use a switch <em>statement</em>.</p>\n<p>That is:</p>\n<pre><code>public void checkIfGameIsOver(){\n    for (int a = 0; a &lt; 8; a++) {\n        String line;\n        switch (a) {\n        case 0:\n            line = button1.getText() + button2.getText() + button3.getText();\n            break;\n        case 1:\n            line = button4.getText() + button5.getText() + button6.getText();\n            break;\n        case 2:\n            line = button7.getText() + button8.getText() + button9.getText();\n            break;\n        case 3:\n            line = button1.getText() + button5.getText() + button9.getText();\n            break;\n        case 4:\n            line = button3.getText() + button5.getText() + button7.getText();\n            break;\n        case 5:\n            line = button1.getText() + button4.getText() + button7.getText();\n            break;\n        case 6:\n            line = button2.getText() + button5.getText() + button8.getText();\n            break;\n        case 7:\n            line = button3.getText() + button6.getText() + button9.getText();\n            break;\n        default:\n            line = null;\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639642988,"creation_date":1639642326,"answer_id":70375742,"question_id":70375639,"body_markdown":"It is not supported in Java 8. However, you can replace that with conditional expressions that are supported in Java8 which will look very similar.\r\n\r\n    public void checkIfGameIsOver(){\r\n        for (int a = 0; a &lt; 8; a++) {\r\n            String line = a==0 ? button1.getText() + button2.getText() + button3.getText() :\r\n                a==1 ? button4.getText() + button5.getText() + button6.getText():\r\n                a==2 ? button7.getText() + button8.getText() + button9.getText():\r\n                a==3 ? button1.getText() + button5.getText() + button9.getText():\r\n                a==4 ? button3.getText() + button5.getText() + button7.getText():\r\n                a==5 ? button1.getText() + button4.getText() + button7.getText():\r\n                a==6 ? button2.getText() + button5.getText() + button8.getText():\r\n                a==7 ? button3.getText() + button6.getText() + button9.getText():\r\n                null;\r\n            };\r\n\r\nWith the disclaimer that `a==7` is optional as it is always true on last iteration \r\n\r\nso it could be \r\n\r\n\r\n    public void checkIfGameIsOver(){\r\n        for (int a = 0; a &lt; 8; a++) {\r\n            String line = a==0 ? button1.getText() + button2.getText() + button3.getText() :\r\n                a==1 ? button4.getText() + button5.getText() + button6.getText():\r\n                a==2 ? button7.getText() + button8.getText() + button9.getText():\r\n                a==3 ? button1.getText() + button5.getText() + button9.getText():\r\n                a==4 ? button3.getText() + button5.getText() + button7.getText():\r\n                a==5 ? button1.getText() + button4.getText() + button7.getText():\r\n                a==6 ? button2.getText() + button5.getText() + button8.getText():\r\n                button3.getText() + button6.getText() + button9.getText();\r\n            };","title":"problem with &quot;String line = switch (a) in java loop. Cant implement cases","body":"<p>It is not supported in Java 8. However, you can replace that with conditional expressions that are supported in Java8 which will look very similar.</p>\n<pre><code>public void checkIfGameIsOver(){\n    for (int a = 0; a &lt; 8; a++) {\n        String line = a==0 ? button1.getText() + button2.getText() + button3.getText() :\n            a==1 ? button4.getText() + button5.getText() + button6.getText():\n            a==2 ? button7.getText() + button8.getText() + button9.getText():\n            a==3 ? button1.getText() + button5.getText() + button9.getText():\n            a==4 ? button3.getText() + button5.getText() + button7.getText():\n            a==5 ? button1.getText() + button4.getText() + button7.getText():\n            a==6 ? button2.getText() + button5.getText() + button8.getText():\n            a==7 ? button3.getText() + button6.getText() + button9.getText():\n            null;\n        };\n</code></pre>\n<p>With the disclaimer that <code>a==7</code> is optional as it is always true on last iteration</p>\n<p>so it could be</p>\n<pre><code>public void checkIfGameIsOver(){\n    for (int a = 0; a &lt; 8; a++) {\n        String line = a==0 ? button1.getText() + button2.getText() + button3.getText() :\n            a==1 ? button4.getText() + button5.getText() + button6.getText():\n            a==2 ? button7.getText() + button8.getText() + button9.getText():\n            a==3 ? button1.getText() + button5.getText() + button9.getText():\n            a==4 ? button3.getText() + button5.getText() + button7.getText():\n            a==5 ? button1.getText() + button4.getText() + button7.getText():\n            a==6 ? button2.getText() + button5.getText() + button8.getText():\n            button3.getText() + button6.getText() + button9.getText();\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639642384,"creation_date":1639642384,"answer_id":70375756,"question_id":70375639,"body_markdown":"### First solution:\r\n\r\nDeclare `String line` first and then just set the value with the switch expression.\r\n\r\n`case 0 -&gt; line = /*getText*/`\r\n\r\n### Second solution:\r\nAre you using any jdk with a smaller version than 13? Then that is the issue, due to switch **expressions** only being added in Java 13 and above\r\n\r\n### Side note\r\nIf you want to use `String line` outside of your for loop, you&#39;d have to declare the variable outside of the for loop &lt;br /&gt;","title":"problem with &quot;String line = switch (a) in java loop. Cant implement cases","body":"<h3>First solution:</h3>\n<p>Declare <code>String line</code> first and then just set the value with the switch expression.</p>\n<p><code>case 0 -&gt; line = /*getText*/</code></p>\n<h3>Second solution:</h3>\n<p>Are you using any jdk with a smaller version than 13? Then that is the issue, due to switch <strong>expressions</strong> only being added in Java 13 and above</p>\n<h3>Side note</h3>\n<p>If you want to use <code>String line</code> outside of your for loop, you'd have to declare the variable outside of the for loop <br /></p>\n"}],"owner":{"account_id":19137130,"reputation":3,"user_id":13977904,"display_name":"Satelita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70375708,"answer_count":3,"score":0,"last_activity_date":1654078031,"creation_date":1639641668,"question_id":70375639,"body_markdown":"I made a program of tic-tac-toe. There is a problem on the line `String line = switch(a)` (*&quot;illegal start of expression&quot;*). \r\n\r\nIt is a window application of this game.\r\n\r\nI have no idea how to fix this.\r\n\r\n```\r\npublic void checkIfGameIsOver(){\r\n    for (int a = 0; a &lt; 8; a++) {\r\n        String line = switch (a) {\r\n            case 0 -&gt; button1.getText() + button2.getText() + button3.getText();\r\n            case 1 -&gt; button4.getText() + button5.getText() + button6.getText();\r\n            case 2 -&gt; button7.getText() + button8.getText() + button9.getText();\r\n            case 3 -&gt; button1.getText() + button5.getText() + button9.getText();\r\n            case 4 -&gt; button3.getText() + button5.getText() + button7.getText();\r\n            case 5 -&gt; button1.getText() + button4.getText() + button7.getText();\r\n            case 6 -&gt; button2.getText() + button5.getText() + button8.getText();\r\n            case 7 -&gt; button3.getText() + button6.getText() + button9.getText();\r\n            default -&gt; null;\r\n        };\r\n```\r\n\r\nI&#39;m using Java version 1.8.0_231.","title":"problem with &quot;String line = switch (a) in java loop. Cant implement cases","body":"<p>I made a program of tic-tac-toe. There is a problem on the line <code>String line = switch(a)</code> (<em>&quot;illegal start of expression&quot;</em>).</p>\n<p>It is a window application of this game.</p>\n<p>I have no idea how to fix this.</p>\n<pre><code>public void checkIfGameIsOver(){\n    for (int a = 0; a &lt; 8; a++) {\n        String line = switch (a) {\n            case 0 -&gt; button1.getText() + button2.getText() + button3.getText();\n            case 1 -&gt; button4.getText() + button5.getText() + button6.getText();\n            case 2 -&gt; button7.getText() + button8.getText() + button9.getText();\n            case 3 -&gt; button1.getText() + button5.getText() + button9.getText();\n            case 4 -&gt; button3.getText() + button5.getText() + button7.getText();\n            case 5 -&gt; button1.getText() + button4.getText() + button7.getText();\n            case 6 -&gt; button2.getText() + button5.getText() + button8.getText();\n            case 7 -&gt; button3.getText() + button6.getText() + button9.getText();\n            default -&gt; null;\n        };\n</code></pre>\n<p>I'm using Java version 1.8.0_231.</p>\n"},{"tags":["java","filewriter","json-simple"],"answers":[{"tags":[],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654074866,"creation_date":1654074866,"answer_id":72459286,"question_id":72459158,"body_markdown":"Maybe [this][1] answer helps you to solve your issue. It could be possible that your JVM does not have enough (free) memory. Another solution could be to split a large JSON object into many smaller ones.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error","title":"Java heap space error when save json file","body":"<p>Maybe <a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error\">this</a> answer helps you to solve your issue. It could be possible that your JVM does not have enough (free) memory. Another solution could be to split a large JSON object into many smaller ones.</p>\n"},{"tags":[],"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654077482,"creation_date":1654077482,"answer_id":72459888,"question_id":72459158,"body_markdown":"By using `toString()` you&#39;re creating a string object first, before writing it to the `FileWriter`, which consumes a lot of memory for large objects. You should use `JSONObject.writeJSONString(Writer)` to reduce the memory footprint:\r\n\r\n    final JSONObject obj = ...\r\n\t\t\r\n\ttry (final Writer writer = new FileWriter(new File(&quot;output&quot;))) {\r\n\t\tobj.writeJSONString(writer);\r\n\t}\r\n\tcatch (IOException e) {\r\n\t\t// handle exception\r\n\t}\r\n","title":"Java heap space error when save json file","body":"<p>By using <code>toString()</code> you're creating a string object first, before writing it to the <code>FileWriter</code>, which consumes a lot of memory for large objects. You should use <code>JSONObject.writeJSONString(Writer)</code> to reduce the memory footprint:</p>\n<pre><code>final JSONObject obj = ...\n    \ntry (final Writer writer = new FileWriter(new File(&quot;output&quot;))) {\n    obj.writeJSONString(writer);\n}\ncatch (IOException e) {\n    // handle exception\n}\n</code></pre>\n"}],"owner":{"account_id":2081880,"reputation":499,"user_id":1853720,"accept_rate":83,"display_name":"alessio1985"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72459888,"answer_count":2,"score":1,"last_activity_date":1654077482,"creation_date":1654074330,"question_id":72459158,"body_markdown":"I get this error: &quot;OutOfMemoryError: Java heap space&quot;, when save a big jsonObject on file with FileWriter  \r\n\r\n\r\nMy code:\r\n\r\n    FileWriter  file2 = new FileWriter(&quot;C:\\\\Users\\\\....\\\\test.json&quot;);\r\n    file2.write(jsonObject.toString());\r\n    file2.close();\r\n\r\nMy pom\r\n\r\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nWould greatly appreciate your help and thanks in advance.\r\n","title":"Java heap space error when save json file","body":"<p>I get this error: &quot;OutOfMemoryError: Java heap space&quot;, when save a big jsonObject on file with FileWriter</p>\n<p>My code:</p>\n<pre><code>FileWriter  file2 = new FileWriter(&quot;C:\\\\Users\\\\....\\\\test.json&quot;);\nfile2.write(jsonObject.toString());\nfile2.close();\n</code></pre>\n<p>My pom</p>\n<pre><code>&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n&lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Would greatly appreciate your help and thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1485687854,"post_id":41919833,"comment_id":71021270,"body_markdown":"Please use a view instead and connect the queries using `union`.","body":"Please use a view instead and connect the queries using <code>union</code>."},{"owner":{"account_id":3315539,"reputation":1769,"user_id":2788009,"accept_rate":44,"display_name":"Bill Goldberg"},"score":1,"creation_date":1485692054,"post_id":41919833,"comment_id":71022343,"body_markdown":"@PeterRader: I cannot touch the procedure as it is maintained by some other vendors.","body":"@PeterRader: I cannot touch the procedure as it is maintained by some other vendors."},{"owner":{"account_id":1844723,"reputation":849,"user_id":1673332,"accept_rate":0,"display_name":"ManiTeja"},"score":0,"creation_date":1576690468,"post_id":41919833,"comment_id":104983855,"body_markdown":"Hi did you got the solution fof multiset result","body":"Hi did you got the solution fof multiset result"}],"answers":[{"tags":[],"owner":{"account_id":23286604,"reputation":1,"user_id":17369346,"display_name":"priyansh490"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654077350,"creation_date":1654076986,"answer_id":72459776,"question_id":41919833,"body_markdown":" - I believe we cannot use hibernate where the stored procedure is returning multiple resultsets. Instead of hibernate, you should use JDBC.","title":"Hibernate calling procedure having mutliple result set","body":"<ul>\n<li>I believe we cannot use hibernate where the stored procedure is returning multiple resultsets. Instead of hibernate, you should use JDBC.</li>\n</ul>\n"}],"owner":{"account_id":3315539,"reputation":1769,"user_id":2788009,"accept_rate":44,"display_name":"Bill Goldberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654077350,"creation_date":1485685504,"question_id":41919833,"body_markdown":"In my spring boot application I am connecting to mysql using hibernate. I have a database procedure which returns multiple result set.\r\n\r\n``` DELIMITER //\r\n CREATE PROCEDURE get_customer_meta()\r\n   BEGIN\r\n   SELECT area_code,description  FROM area;\r\n   SELECT category_code,description  FROM category;\r\n   END //\r\n DELIMITER ;```\r\n\r\nAs per [hibernate documentation](https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html#sp_query) which says \r\n\r\n```You cannot use stored procedures with Hibernate unless you follow some procedure/function rules. If they do not follow those rules they are not usable with Hibernate. If you still want to use these procedures you have to execute them via session.connection().```\r\n\r\n**As my requirement is something like this, (Multiple result set ) How can I achieve this with hibernate ?. How can I execute them via session.connection() as described in docs ?** \r\n\r\nI have already tried using storedProcedureQuery but I get error ```java.sql.SQLException: Column &#39;area_code&#39; not found.``` On this line in below code ```List&lt;Object[]&gt; secondList = query.getResultList();```.\r\n\r\n\r\n\t@Repository\r\n\tpublic class CustomerMetaDao {\r\n\r\n\t\t@PersistenceContext\r\n\t\tprivate EntityManager entityManager;\r\n\t\r\n\t\tpublic CustomerMetaModel getCustomerMetaData() {\r\n\t\t\tStoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;get_customer_meta&quot;);\r\n\t\t\tList&lt;Object[]&gt; objList = query.getResultList();\r\n\t\t\tSystem.out.println(objList.get(0)[0]);\r\n\t\t\tSystem.out.println(objList.get(0)[1]);\r\n\t\t\tif (query.hasMoreResults()) {\r\n\t\t\t\tList&lt;Object[]&gt; secondList = query.getResultList();\r\n\t\t\t\tSystem.out.println(secondList.get(0)[0]);\r\n\t\t\t\tSystem.out.println(secondList.get(0)[1]);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n","title":"Hibernate calling procedure having mutliple result set","body":"<p>In my spring boot application I am connecting to mysql using hibernate. I have a database procedure which returns multiple result set.</p>\n\n<p><code>DELIMITER //\n CREATE PROCEDURE get_customer_meta()\n   BEGIN\n   SELECT area_code,description  FROM area;\n   SELECT category_code,description  FROM category;\n   END //\n DELIMITER ;</code></p>\n\n<p>As per <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html#sp_query\" rel=\"nofollow noreferrer\">hibernate documentation</a> which says </p>\n\n<p><code>You cannot use stored procedures with Hibernate unless you follow some procedure/function rules. If they do not follow those rules they are not usable with Hibernate. If you still want to use these procedures you have to execute them via session.connection().</code></p>\n\n<p><strong>As my requirement is something like this, (Multiple result set ) How can I achieve this with hibernate ?. How can I execute them via session.connection() as described in docs ?</strong> </p>\n\n<p>I have already tried using storedProcedureQuery but I get error <code>java.sql.SQLException: Column 'area_code' not found.</code> On this line in below code <code>List&lt;Object[]&gt; secondList = query.getResultList();</code>.</p>\n\n<pre><code>@Repository\npublic class CustomerMetaDao {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public CustomerMetaModel getCustomerMetaData() {\n        StoredProcedureQuery query = entityManager.createStoredProcedureQuery(\"get_customer_meta\");\n        List&lt;Object[]&gt; objList = query.getResultList();\n        System.out.println(objList.get(0)[0]);\n        System.out.println(objList.get(0)[1]);\n        if (query.hasMoreResults()) {\n            List&lt;Object[]&gt; secondList = query.getResultList();\n            System.out.println(secondList.get(0)[0]);\n            System.out.println(secondList.get(0)[1]);\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":4,"creation_date":1553589343,"post_id":55352800,"comment_id":97429492,"body_markdown":"`flag=1`, see [C++ demo](https://ideone.com/6sGV7J)","body":"<code>flag=1</code>, see <a href=\"https://ideone.com/6sGV7J\" rel=\"nofollow noreferrer\">C++ demo</a>"},{"owner":{"account_id":8780352,"reputation":2112,"user_id":6564148,"display_name":"George"},"score":0,"creation_date":1553589389,"post_id":55352800,"comment_id":97429522,"body_markdown":"Please create a [mcve].","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3164126,"reputation":20864,"user_id":2674506,"display_name":"vahancho"},"score":1,"creation_date":1553589416,"post_id":55352800,"comment_id":97429535,"body_markdown":"`\\\\s` means &#39;s&#39; character. Did you mean that or a whitespace character?","body":"<code>\\\\s</code> means &#39;s&#39; character. Did you mean that or a whitespace character?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":4,"creation_date":1553589429,"post_id":55352800,"comment_id":97429538,"body_markdown":"Also, see [Is gcc 4.8 or earlier buggy about regular expressions?](http://stackoverflow.com/a/12665408/3832970) What is your GCC version? Or, what library are you using? Are you on  Mac?","body":"Also, see <a href=\"http://stackoverflow.com/a/12665408/3832970\">Is gcc 4.8 or earlier buggy about regular expressions?</a> What is your GCC version? Or, what library are you using? Are you on  Mac?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1553589443,"post_id":55352800,"comment_id":97429549,"body_markdown":"Side note: instead of the loop why not just `num = m.groupCount();`?","body":"Side note: instead of the loop why not just <code>num = m.groupCount();</code>?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1553589822,"post_id":55352800,"comment_id":97429724,"body_markdown":"Actually, all you need in Java is `System.out.println(m.find());` or `if (m.find()) num = 1;` since you are just checking for a match.","body":"Actually, all you need in Java is <code>System.out.println(m.find());</code> or <code>if (m.find()) num = 1;</code> since you are just checking for a match."},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":1,"creation_date":1553589881,"post_id":55352800,"comment_id":97429755,"body_markdown":"@Thomas: Precisely `num += m.groupCount();` in case while executes multiple times.","body":"@Thomas: Precisely <code>num += m.groupCount();</code> in case while executes multiple times."},{"owner":{"account_id":7405211,"reputation":77,"user_id":5634325,"display_name":"xxking"},"score":0,"creation_date":1553590204,"post_id":55352800,"comment_id":97429895,"body_markdown":"look follow image link https://note.youdao.com/ynoteshare1/index.html?id=280280d3af2cfd8f6030c92942d44695&amp;type=note\n\nhttp://note.youdao.com/noteshare?id=4c8f320678417df5ea6bf04594882493","body":"look follow image link <a href=\"https://note.youdao.com/ynoteshare1/index.html?id=280280d3af2cfd8f6030c92942d44695&amp;type=note\" rel=\"nofollow noreferrer\">note.youdao.com/ynoteshare1/&hellip;</a>  <a href=\"http://note.youdao.com/noteshare?id=4c8f320678417df5ea6bf04594882493\" rel=\"nofollow noreferrer\">note.youdao.com/noteshare?id=4c8f320678417df5ea6bf0459488249&zwnj;&#8203;3</a>"},{"owner":{"account_id":5902225,"reputation":16187,"user_id":4645334,"accept_rate":87,"display_name":"Thomas Sablik"},"score":0,"creation_date":1553590256,"post_id":55352800,"comment_id":97429919,"body_markdown":"Why don&#39;t you say us the compiler version? It&#39;s probably the reason for your problem. Your links are blocked for me.","body":"Why don&#39;t you say us the compiler version? It&#39;s probably the reason for your problem. Your links are blocked for me."},{"owner":{"account_id":7405211,"reputation":77,"user_id":5634325,"display_name":"xxking"},"score":0,"creation_date":1553590612,"post_id":55352800,"comment_id":97430090,"body_markdown":"g++ -vApple LLVM version 10.0.0 (clang-1000.10.44.4)","body":"g++ -vApple LLVM version 10.0.0 (clang-1000.10.44.4)"},{"owner":{"account_id":7405211,"reputation":77,"user_id":5634325,"display_name":"xxking"},"score":0,"creation_date":1553591777,"post_id":55352800,"comment_id":97430703,"body_markdown":"how make it working in MAC OS,pls ?","body":"how make it working in MAC OS,pls ?"},{"owner":{"account_id":1378972,"reputation":25142,"user_id":1312382,"display_name":"Aconcagua"},"score":0,"creation_date":1553609113,"post_id":55352800,"comment_id":97442008,"body_markdown":"Offtopic: `\\\\s` and `\\\\S` are [complementary](https://en.cppreference.com/w/cpp/regex/ecmascript) – so why not replace `[\\\\s\\\\S]` with just `.`?","body":"Offtopic: <code>\\\\s</code> and <code>\\\\S</code> are <a href=\"https://en.cppreference.com/w/cpp/regex/ecmascript\" rel=\"nofollow noreferrer\">complementary</a> – so why not replace <code>[\\\\s\\\\S]</code> with just <code>.</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6429676,"reputation":2611,"user_id":4983398,"display_name":"Gardener"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654077294,"creation_date":1553594652,"answer_id":55354377,"question_id":55352800,"body_markdown":"You are correct.  Your example does not work on Mac OS.  I run into the same problem if I run it on a Mac.\r\n\r\nYour final comment asked &quot;how make it working in MAC OS,pls&quot;, which I am guessing is asking for the code to make this work on a Mac rather than asking why two regex implementations produce different results.  That is a much easier solution:\r\n\r\nThis works on my mac:\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;regex&gt;\r\n    #include &lt;string&gt;\r\n    using namespace std;\r\n    \r\n    int main() {\r\n    //  std::regex reg(&quot;[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)&quot;);\r\n      std::regex reg(&quot;[\\\\s\\\\S]*abc.*:(\\\\S+)&quot;);\r\n      std::string src = &quot;    abc-def gg, :OK&quot;;\r\n      std::smatch match;\r\n      bool flag = std::regex_search(src, match, reg);\r\n      std::cout &lt;&lt; flag;\r\n      return 0;\r\n    }\r\n\r\nThe same expression that works on regex101.com, does not work on the Mac (llvm).  It seems that the [\\\\s\\\\S] does not work well using Mac&#39;s regex library, but that can be solved by replacing the [\\\\s\\\\S] with `.*`.\r\n\r\nIn response to a further query to isolate the &#39;OK&#39; portion of the string, that is done using groups.  The group[0] is always the entire match.  group[1] is the next portion appears between parentheses `(...)`\r\n\r\nThis code illustrates how to extract the two groups.\r\n\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;regex&gt;\r\n    #include &lt;string&gt;\r\n    using namespace std;\r\n    \r\n    std::string GetMatch() {\r\n      //  std::regex reg(&quot;[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)&quot;);\r\n      std::regex reg(&quot;[\\\\s\\\\S]*abc.*:(\\\\S+)&quot;);\r\n      std::string src = &quot;    abc-def gg, :OK&quot;;\r\n      std::smatch matches;\r\n      bool flag = std::regex_search(src, matches, reg);\r\n      std::cout &lt;&lt; flag;\r\n    \r\n      for(size_t i=0; i&lt;matches.size(); ++i) {\r\n        cout &lt;&lt; &quot;MATCH: &quot; &lt;&lt; matches[i] &lt;&lt; endl;\r\n      }\r\n    \r\n      return matches[1];\r\n    }\r\n    \r\n    int main() {\r\n      std::string result = GetMatch();\r\n    \r\n    //  match\r\n      cout &lt;&lt; &quot;The result is &quot; &lt;&lt; result &lt;&lt; endl;\r\n      return 0;\r\n    }","title":"Why does regex work well in java, but does not work in c++?","body":"<p>You are correct.  Your example does not work on Mac OS.  I run into the same problem if I run it on a Mac.</p>\n<p>Your final comment asked &quot;how make it working in MAC OS,pls&quot;, which I am guessing is asking for the code to make this work on a Mac rather than asking why two regex implementations produce different results.  That is a much easier solution:</p>\n<p>This works on my mac:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;regex&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main() {\n//  std::regex reg(&quot;[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)&quot;);\n  std::regex reg(&quot;[\\\\s\\\\S]*abc.*:(\\\\S+)&quot;);\n  std::string src = &quot;    abc-def gg, :OK&quot;;\n  std::smatch match;\n  bool flag = std::regex_search(src, match, reg);\n  std::cout &lt;&lt; flag;\n  return 0;\n}\n</code></pre>\n<p>The same expression that works on regex101.com, does not work on the Mac (llvm).  It seems that the [\\s\\S] does not work well using Mac's regex library, but that can be solved by replacing the [\\s\\S] with <code>.*</code>.</p>\n<p>In response to a further query to isolate the 'OK' portion of the string, that is done using groups.  The group[0] is always the entire match.  group[1] is the next portion appears between parentheses <code>(...)</code></p>\n<p>This code illustrates how to extract the two groups.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;regex&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nstd::string GetMatch() {\n  //  std::regex reg(&quot;[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)&quot;);\n  std::regex reg(&quot;[\\\\s\\\\S]*abc.*:(\\\\S+)&quot;);\n  std::string src = &quot;    abc-def gg, :OK&quot;;\n  std::smatch matches;\n  bool flag = std::regex_search(src, matches, reg);\n  std::cout &lt;&lt; flag;\n\n  for(size_t i=0; i&lt;matches.size(); ++i) {\n    cout &lt;&lt; &quot;MATCH: &quot; &lt;&lt; matches[i] &lt;&lt; endl;\n  }\n\n  return matches[1];\n}\n\nint main() {\n  std::string result = GetMatch();\n\n//  match\n  cout &lt;&lt; &quot;The result is &quot; &lt;&lt; result &lt;&lt; endl;\n  return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":7405211,"reputation":77,"user_id":5634325,"display_name":"xxking"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":55354377,"answer_count":1,"score":-5,"last_activity_date":1654077294,"creation_date":1553589213,"question_id":55352800,"body_markdown":"using c++\r\n```  \r\n    std::regex reg(&quot;[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)&quot;);\r\n    std::string src = &quot;    abc-def gg, :OK&quot;;\r\n    std::smatch match;\r\n    bool flag = std::regex_search(src, match, reg);\r\n    // flag is false \r\n```\r\n\r\nusing java\r\n```\r\n        Pattern p = Pattern.compile(&quot;[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)&quot;);\r\n        String src = &quot;    abc-def gg, :OK&quot;;\r\n        Matcher m = p.matcher(src);\r\n        int num = 0;\r\n        while (m.find()) {\r\n            for (int i = 1; i &lt;= m.groupCount(); i++) {\r\n                num++;\r\n            }\r\n        }\r\n        System.out.println(num);  num is 1 ,work well\r\n```\r\n\r\n  In the above two code examples, The C++ code does not output the correct result, but the java code creates the correct result. Why is this happening, where is the problem?","title":"Why does regex work well in java, but does not work in c++?","body":"<p>using c++</p>\n\n<pre><code>    std::regex reg(\"[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)\");\n    std::string src = \"    abc-def gg, :OK\";\n    std::smatch match;\n    bool flag = std::regex_search(src, match, reg);\n    // flag is false \n</code></pre>\n\n<p>using java</p>\n\n<pre><code>        Pattern p = Pattern.compile(\"[\\\\s\\\\S]*abc[\\\\s\\\\S]*:(\\\\S+)\");\n        String src = \"    abc-def gg, :OK\";\n        Matcher m = p.matcher(src);\n        int num = 0;\n        while (m.find()) {\n            for (int i = 1; i &lt;= m.groupCount(); i++) {\n                num++;\n            }\n        }\n        System.out.println(num);  num is 1 ,work well\n</code></pre>\n\n<p>In the above two code examples, The C++ code does not output the correct result, but the java code creates the correct result. Why is this happening, where is the problem?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654075882,"post_id":72459478,"comment_id":128003562,"body_markdown":"Please add your controller code... Do you use `@ModelAttribute` or `@RequestBody`.","body":"Please add your controller code... Do you use <code>@ModelAttribute</code> or <code>@RequestBody</code>."},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1654075931,"post_id":72459478,"comment_id":128003579,"body_markdown":"I use @RequestBody","body":"I use @RequestBody"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654076011,"post_id":72459478,"comment_id":128003613,"body_markdown":"Then trying to configure databinding is the wrong option as that isn&#39;t used. That is only used when binding form-data/request parameters to an object. Your is using serialization with Jackson (the default) and you should configure that with a Jackson Serializer on the fields you want to process.","body":"Then trying to configure databinding is the wrong option as that isn&#39;t used. That is only used when binding form-data/request parameters to an object. Your is using serialization with Jackson (the default) and you should configure that with a Jackson Serializer on the fields you want to process."},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1654076320,"post_id":72459478,"comment_id":128003755,"body_markdown":"So property editors, formatters, converters work only with @ModelAttribute but not with RequestBody ? Do i need to use to configure custom jackson serializer for RequestBody. Can you please help me with some reference","body":"So property editors, formatters, converters work only with @ModelAttribute but not with RequestBody ? Do i need to use to configure custom jackson serializer for RequestBody. Can you please help me with some reference"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654076714,"post_id":72459478,"comment_id":128003952,"body_markdown":"You can use `@JsonSerializer` and specify a specific one for the field you want to convert to Upper case. A search on the internet will probably provide a ready to go implementation.","body":"You can use <code>@JsonSerializer</code> and specify a specific one for the field you want to convert to Upper case. A search on the internet will probably provide a ready to go implementation."},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1654076988,"post_id":72459478,"comment_id":128004055,"body_markdown":"I think we need deserializer but not serializer, correct me if i am wrong","body":"I think we need deserializer but not serializer, correct me if i am wrong"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654077549,"post_id":72459478,"comment_id":128004258,"body_markdown":"Deserializer indeed (even after 30 years as a developer I keep mixing them up :) ).","body":"Deserializer indeed (even after 30 years as a developer I keep mixing them up :) )."}],"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654076524,"creation_date":1654075754,"question_id":72459478,"body_markdown":"```java\r\npublic class UserDto {\r\n    private List&lt;PreferenceDto&gt; preferences;\r\n}\r\n\r\npublic class PreferenceDto {\r\n    private String attributeCode;\r\n    private Object attributeValue;\r\n    private String productCode;\r\n    private Float productVersion;\r\n}\r\n```\r\n\r\n**option-1**\r\n```java\r\n@InitBinder\r\npublic void initBinder(WebDataBinder binder) {\r\n     \r\n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\r\n        binder.registerCustomEditor(List.class, stringTrimmerAndUpperCasePropertyEditor);\r\n       \r\n    }\r\n```\r\n\r\n**option-2**\r\n\r\n```java\r\npublic void initBinder(WebDataBinder binder) {\r\n     \r\n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\r\n        binder.registerCustomEditor(Object.class, stringTrimmerAndUpperCasePropertyEditor);\r\n       \r\n    }\r\n```\r\n\r\n\r\n**option-3**\r\n\r\n```java\r\npublic void initBinder(WebDataBinder binder) {\r\n     \r\n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\r\n        binder.registerCustomEditor(String.class, stringTrimmerAndUpperCasePropertyEditor);\r\n       \r\n    }\r\n```\r\n\r\n**option-4**\r\n```java\r\npublic void initBinder(WebDataBinder binder) {\r\n     \r\n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\r\n        binder.registerCustomEditor(PreferenceDto.class, stringTrimmerAndUpperCasePropertyEditor);\r\n       \r\n    }\r\n```\r\n\r\nNone of the above is calling the editor.\r\n\r\nHere is the editor:\r\n```\r\npublic class StringTrimmerAndUpperCasePropertyEditor extends PropertyEditorSupport {\r\n\r\n    @Override\r\n    public void setAsText(@Nullable String text) {\r\n        System.out.println(&quot;setAsText: &quot;+ text);\r\n        setValue(text.trim().toUpperCase());\r\n    }\r\n}\r\n```\r\n\r\nHere is the controller\r\n```\r\n@PostMapping\r\n    public void createUserAttributes(@Valid @RequestBody UserDto userDto) {\r\n       \r\n        System.out.println(userDto);\r\n    }\r\n```\r\n\r\nMy requirement is, I need to format the strings before passing to the list of `PreferenceDto`. I have tried many options and checked all the different blogs, but none has answered my query. Can someone please help me with solution or atleast refer me the blog or documentation which includes property editors with list.","title":"How to use Property Editor or Formatter for list in Spring Boot","body":"<pre class=\"lang-java prettyprint-override\"><code>public class UserDto {\n    private List&lt;PreferenceDto&gt; preferences;\n}\n\npublic class PreferenceDto {\n    private String attributeCode;\n    private Object attributeValue;\n    private String productCode;\n    private Float productVersion;\n}\n</code></pre>\n<p><strong>option-1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@InitBinder\npublic void initBinder(WebDataBinder binder) {\n     \n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\n        binder.registerCustomEditor(List.class, stringTrimmerAndUpperCasePropertyEditor);\n       \n    }\n</code></pre>\n<p><strong>option-2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void initBinder(WebDataBinder binder) {\n     \n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\n        binder.registerCustomEditor(Object.class, stringTrimmerAndUpperCasePropertyEditor);\n       \n    }\n</code></pre>\n<p><strong>option-3</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void initBinder(WebDataBinder binder) {\n     \n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\n        binder.registerCustomEditor(String.class, stringTrimmerAndUpperCasePropertyEditor);\n       \n    }\n</code></pre>\n<p><strong>option-4</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void initBinder(WebDataBinder binder) {\n     \n        StringTrimmerAndUpperCasePropertyEditor stringTrimmerAndUpperCasePropertyEditor = new StringTrimmerAndUpperCasePropertyEditor();\n        binder.registerCustomEditor(PreferenceDto.class, stringTrimmerAndUpperCasePropertyEditor);\n       \n    }\n</code></pre>\n<p>None of the above is calling the editor.</p>\n<p>Here is the editor:</p>\n<pre><code>public class StringTrimmerAndUpperCasePropertyEditor extends PropertyEditorSupport {\n\n    @Override\n    public void setAsText(@Nullable String text) {\n        System.out.println(&quot;setAsText: &quot;+ text);\n        setValue(text.trim().toUpperCase());\n    }\n}\n</code></pre>\n<p>Here is the controller</p>\n<pre><code>@PostMapping\n    public void createUserAttributes(@Valid @RequestBody UserDto userDto) {\n       \n        System.out.println(userDto);\n    }\n</code></pre>\n<p>My requirement is, I need to format the strings before passing to the list of <code>PreferenceDto</code>. I have tried many options and checked all the different blogs, but none has answered my query. Can someone please help me with solution or atleast refer me the blog or documentation which includes property editors with list.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":1,"creation_date":1654009691,"post_id":72449965,"comment_id":127987662,"body_markdown":"This doesn&#39;t look like something you would put in a `buildSrc` project. Are you sure you are not mixing them up?","body":"This doesn&#39;t look like something you would put in a <code>buildSrc</code> project. Are you sure you are not mixing them up?"}],"owner":{"account_id":25334626,"reputation":11,"user_id":19153959,"display_name":"gonzo33"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654076397,"creation_date":1654008548,"question_id":72449965,"body_markdown":"I am trying to build my Java project. Right now I am getting only this message: `Task :buildSrc:compileJava NO-SOURCE`\r\nDo I need to modify sourceSets in `build.gradle` to make it run? What do I have to change? Thanks!\r\nA piece of my `build.gradle` file:\r\n    \r\n    sourceSets {\r\n        //needed to run in intellij\r\n        local {\r\n    \r\n        }\r\n    \r\n        main {\r\n            resources {\r\n                srcDir &quot;src/main/markets&quot;\r\n            }\r\n        }\r\n    \r\n        coreTest {\r\n            java {\r\n                srcDir file(&#39;src/test-core/java&#39;)\r\n            }\r\n            resources.srcDir file(&#39;src/test-core/resources&#39;)\r\n        }\r\n    \r\n        componentTest {\r\n            java {\r\n                srcDir file(&#39;src/test-component/java&#39;)\r\n            }\r\n            resources.srcDir file(&#39;src/test-component/resources&#39;)\r\n        }\r\n    \r\n        integrationTest {\r\n            java {\r\n                srcDir file(&#39;src/test-integration/java&#39;)\r\n            }\r\n            resources.srcDir file(&#39;src/test-integration/resources&#39;)\r\n        }\r\n    \r\n        //needed to run in intellij\r\n        util {\r\n        }\r\n    }\r\n\r\n   \r\n","title":"SourceSets in build.gradle - &gt; Task :buildSrc:compileJava NO-SOURCE","body":"<p>I am trying to build my Java project. Right now I am getting only this message: <code>Task :buildSrc:compileJava NO-SOURCE</code>\nDo I need to modify sourceSets in <code>build.gradle</code> to make it run? What do I have to change? Thanks!\nA piece of my <code>build.gradle</code> file:</p>\n<pre><code>sourceSets {\n    //needed to run in intellij\n    local {\n\n    }\n\n    main {\n        resources {\n            srcDir &quot;src/main/markets&quot;\n        }\n    }\n\n    coreTest {\n        java {\n            srcDir file('src/test-core/java')\n        }\n        resources.srcDir file('src/test-core/resources')\n    }\n\n    componentTest {\n        java {\n            srcDir file('src/test-component/java')\n        }\n        resources.srcDir file('src/test-component/resources')\n    }\n\n    integrationTest {\n        java {\n            srcDir file('src/test-integration/java')\n        }\n        resources.srcDir file('src/test-integration/resources')\n    }\n\n    //needed to run in intellij\n    util {\n    }\n}\n</code></pre>\n"},{"tags":["java","android","textview","gmail","imageview"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652980764,"creation_date":1652980764,"answer_id":72308671,"question_id":72308484,"body_markdown":"TRY this \r\nChange color as per your requirement. \r\n\r\nyou will add colors programmatically.\r\n\r\nand text add pragmatically using this [link][1] \r\n \r\nTextview -\r\n\r\n    &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:background=&quot;@drawable/ic_baseline_circle_24&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:text=&quot;M&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;12sp&quot;\r\n            android:textStyle=&quot;normal&quot; /&gt;\r\n\r\n\r\nadd in res/drawable/ic_baseline_circle_24.xml\r\n\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:width=&quot;24dp&quot;\r\n        android:height=&quot;24dp&quot;\r\n        android:tint=&quot;#41B582&quot;\r\n        android:viewportWidth=&quot;24&quot;\r\n        android:viewportHeight=&quot;24&quot;&gt;\r\n        &lt;path\r\n            android:fillColor=&quot;@android:color/white&quot;\r\n            android:pathData=&quot;M12,2C6.47,2 2,6.47 2,12s4.47,10 10,10 10,-4.47 10,-10S17.53,2 12,2z&quot; /&gt;\r\n    &lt;/vector&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8000826/is-it-possible-to-get-only-the-first-character-of-a-string","title":"How to set text to the imageview like gmail inbox?","body":"<p>TRY this\nChange color as per your requirement.</p>\n<p>you will add colors programmatically.</p>\n<p>and text add pragmatically using this <a href=\"https://stackoverflow.com/questions/8000826/is-it-possible-to-get-only-the-first-character-of-a-string\">link</a></p>\n<p>Textview -</p>\n<pre><code>&lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:background=&quot;@drawable/ic_baseline_circle_24&quot;\n        android:gravity=&quot;center&quot;\n        android:maxLength=&quot;1&quot;\n        android:padding=&quot;10dp&quot;\n        android:text=&quot;M&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:textSize=&quot;12sp&quot;\n        android:textStyle=&quot;normal&quot; /&gt;\n</code></pre>\n<p>add in res/drawable/ic_baseline_circle_24.xml</p>\n<pre><code>&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:width=&quot;24dp&quot;\n    android:height=&quot;24dp&quot;\n    android:tint=&quot;#41B582&quot;\n    android:viewportWidth=&quot;24&quot;\n    android:viewportHeight=&quot;24&quot;&gt;\n    &lt;path\n        android:fillColor=&quot;@android:color/white&quot;\n        android:pathData=&quot;M12,2C6.47,2 2,6.47 2,12s4.47,10 10,10 10,-4.47 10,-10S17.53,2 12,2z&quot; /&gt;\n&lt;/vector&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20822782,"reputation":68,"user_id":15293962,"display_name":"block king"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654076091,"creation_date":1652982453,"answer_id":72309012,"question_id":72308484,"body_markdown":"You can&#39;t directly set a text to image view but you can use the **Relative layout** and **Text-View** to do so.\r\nlet&#39;s see how.\r\n\r\n\r\n**This is the result:-**\r\n\r\n\r\n[![this is the result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BbuS7.png\r\n\r\n\r\n**This is the code**\r\n\r\nhere is the code for your xml layout file\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardCornerRadius=&quot;100dp&quot;\r\n        app:cardBackgroundColor=&quot;@color/transparent&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/img&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:src=&quot;@null&quot;\r\n                android:background=&quot;@color/grey&quot;\r\n                /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/person_name_first_letter_txt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;K or whatever your person name is&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;80dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n\r\nhere is the array of colors for picking a random color in colors.xml\r\n\r\n    &lt;array name=&quot;random_color_array&quot;&gt;\r\n        &lt;item&gt;#37BFA8&lt;/item&gt;\r\n        &lt;item&gt;#F50057&lt;/item&gt;\r\n        &lt;item&gt;#3D5AFE&lt;/item&gt;\r\n        &lt;item&gt;#FF3D00&lt;/item&gt;\r\n        &lt;!-- add more colors according to your need--&gt;\r\n    &lt;/array&gt;\r\n    \r\n\r\nNow here is the code for the activity in java\r\n\r\n    TextView name_text = findViewById(R.id.person_name_first_letter_txt);\r\n    ImageView background_image = findViewById(R.id.img);\r\n    String user_name = &quot;John Doe&quot;;\r\n\r\n    String[] colorsTxt = getApplicationContext().getResources().getStringArray(R.array.allcolors);\r\n    List&lt;Integer&gt; colors = new ArrayList&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; colorsTxt.length; i++) {\r\n      int newColor = Color.parseColor(colorsTxt[i]);\r\n      colors.add(newColor);\r\n    }\r\n         \r\n    Random random = new Random();\r\n    int color = colors[random.nextInt(colors.length)]; \r\n      \r\n    background_image.setBackgroundColor(getResources().getColor(color));\r\n    name_text.setText(user_name);","title":"How to set text to the imageview like gmail inbox?","body":"<p>You can't directly set a text to image view but you can use the <strong>Relative layout</strong> and <strong>Text-View</strong> to do so.\nlet's see how.</p>\n<p><strong>This is the result:-</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BbuS7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BbuS7.png\" alt=\"this is the result\" /></a></p>\n<p><strong>This is the code</strong></p>\n<p>here is the code for your xml layout file</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:cardCornerRadius=&quot;100dp&quot;\n    app:cardBackgroundColor=&quot;@color/transparent&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;150dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/img&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:src=&quot;@null&quot;\n            android:background=&quot;@color/grey&quot;\n            /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/person_name_first_letter_txt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;K or whatever your person name is&quot;\n            android:maxLength=&quot;1&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;80dp&quot;\n            android:gravity=&quot;center&quot;\n            /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>here is the array of colors for picking a random color in colors.xml</p>\n<pre><code>&lt;array name=&quot;random_color_array&quot;&gt;\n    &lt;item&gt;#37BFA8&lt;/item&gt;\n    &lt;item&gt;#F50057&lt;/item&gt;\n    &lt;item&gt;#3D5AFE&lt;/item&gt;\n    &lt;item&gt;#FF3D00&lt;/item&gt;\n    &lt;!-- add more colors according to your need--&gt;\n&lt;/array&gt;\n</code></pre>\n<p>Now here is the code for the activity in java</p>\n<pre><code>TextView name_text = findViewById(R.id.person_name_first_letter_txt);\nImageView background_image = findViewById(R.id.img);\nString user_name = &quot;John Doe&quot;;\n\nString[] colorsTxt = getApplicationContext().getResources().getStringArray(R.array.allcolors);\nList&lt;Integer&gt; colors = new ArrayList&lt;Integer&gt;();\nfor (int i = 0; i &lt; colorsTxt.length; i++) {\n  int newColor = Color.parseColor(colorsTxt[i]);\n  colors.add(newColor);\n}\n     \nRandom random = new Random();\nint color = colors[random.nextInt(colors.length)]; \n  \nbackground_image.setBackgroundColor(getResources().getColor(color));\nname_text.setText(user_name);\n</code></pre>\n"}],"owner":{"account_id":24669612,"reputation":35,"user_id":18564769,"display_name":"Shweta S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72309012,"answer_count":2,"score":-2,"last_activity_date":1654076091,"creation_date":1652979752,"question_id":72308484,"body_markdown":"I want to design [![enter image description here][1]][1]                  \r\n        like this. how to set first charecter to that circle and should circle be in random color.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYSCJ.png","title":"How to set text to the imageview like gmail inbox?","body":"<p>I want to design <a href=\"https://i.stack.imgur.com/bYSCJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bYSCJ.png\" alt=\"enter image description here\" /></a><br />\nlike this. how to set first charecter to that circle and should circle be in random color.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1654066771,"post_id":72457053,"comment_id":128000443,"body_markdown":"Does this answer your question? [How can I determine whether I am in a transaction in Spring?](https://stackoverflow.com/questions/45629935/how-can-i-determine-whether-i-am-in-a-transaction-in-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45629935/how-can-i-determine-whether-i-am-in-a-transaction-in-spring\">How can I determine whether I am in a transaction in Spring?</a>"},{"owner":{"account_id":25443044,"reputation":13,"user_id":19245598,"display_name":"riomo"},"score":0,"creation_date":1654067651,"post_id":72457053,"comment_id":128000700,"body_markdown":"I would expect some technical explanation on why / why not this piece of could would run in a transaction","body":"I would expect some technical explanation on why / why not this piece of could would run in a transaction"}],"answers":[{"tags":[],"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654076011,"creation_date":1654076011,"answer_id":72459549,"question_id":72457053,"body_markdown":"It will work, whether you call the method of another object from a public or private method inside yours is an implementation detail. From callee&#39;s point of view, it&#39;s the same, it is not even aware of the caller&#39;s context.\r\n\r\nSpring AOP uses [the Proxy pattern][1] to handle those scenarios. It means you are not directly receiving a `MyService` bean, but a `MyServiceSpringCreatedProxy` (not the actual name, check in debug mode and you&#39;ll see), which is actually handling transactions around methods.\r\n\r\nSo as long as the call passes through the Spring&#39;s proxy, the `@Transactional` will be accounted for as expected. Bear in mind that it doesn&#39;t mean a new transaction is open, it depends if another already exists and your configuration.\r\n\r\nHowever, any self call (to a public or a private method) would not pass through the proxy and then `@Transactional` would not be working.\r\n\r\n```java\r\n@Service\r\npublic class MyService {\r\n\r\n   // can be private, public or whatever\r\n    public void callRelatedStuff() {\r\n       //self call, no transactional work done\r\n       writeToDb();\r\n    }\r\n\r\n    @Transactional\r\n    public void writeToDb() {\r\n        // do db related stuff\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Proxy_pattern","title":"Java: calling public transactional method from a private method","body":"<p>It will work, whether you call the method of another object from a public or private method inside yours is an implementation detail. From callee's point of view, it's the same, it is not even aware of the caller's context.</p>\n<p>Spring AOP uses <a href=\"https://en.wikipedia.org/wiki/Proxy_pattern\" rel=\"nofollow noreferrer\">the Proxy pattern</a> to handle those scenarios. It means you are not directly receiving a <code>MyService</code> bean, but a <code>MyServiceSpringCreatedProxy</code> (not the actual name, check in debug mode and you'll see), which is actually handling transactions around methods.</p>\n<p>So as long as the call passes through the Spring's proxy, the <code>@Transactional</code> will be accounted for as expected. Bear in mind that it doesn't mean a new transaction is open, it depends if another already exists and your configuration.</p>\n<p>However, any self call (to a public or a private method) would not pass through the proxy and then <code>@Transactional</code> would not be working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n\n   // can be private, public or whatever\n    public void callRelatedStuff() {\n       //self call, no transactional work done\n       writeToDb();\n    }\n\n    @Transactional\n    public void writeToDb() {\n        // do db related stuff\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25443044,"reputation":13,"user_id":19245598,"display_name":"riomo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72459549,"answer_count":1,"score":1,"last_activity_date":1654076011,"creation_date":1654063130,"question_id":72457053,"body_markdown":"I have two classes\r\n\r\n    public class MyTest {\r\n        @Autowired\r\n        private MyService myService;\r\n    \r\n        private void test() {\r\n            myService.writeToDb();\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    public class MyService {\r\n        @Transactional\r\n        public void writeToDb() {\r\n            // do db related stuff\r\n        }\r\n    }\r\n\r\nI want to know if calling a method test() (which is a **private** method) from MyTest class would create a transaction.\r\n\r\nP.S\r\n\r\nI&#39;m using Spring Boot. And Java 17.","title":"Java: calling public transactional method from a private method","body":"<p>I have two classes</p>\n<pre><code>public class MyTest {\n    @Autowired\n    private MyService myService;\n\n    private void test() {\n        myService.writeToDb();\n    }\n}\n\n@Service\npublic class MyService {\n    @Transactional\n    public void writeToDb() {\n        // do db related stuff\n    }\n}\n</code></pre>\n<p>I want to know if calling a method test() (which is a <strong>private</strong> method) from MyTest class would create a transaction.</p>\n<p>P.S</p>\n<p>I'm using Spring Boot. And Java 17.</p>\n"},{"tags":["java","jquery","jsp","struts2","dropzone.js"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1411995887,"creation_date":1411861335,"answer_id":26080212,"question_id":26057743,"body_markdown":"##Problem\r\n\r\nWhen you use \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot; multiple /&gt; \r\n\r\nthe files will all be sent with `name=&quot;file&quot;`, eg: \r\n\r\n&gt;     Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;foo.jpg&quot;\r\n&gt;     Content-Type: image/jpeg\r\n&gt;     ...........\r\n&gt;     . ...\r\n&gt;     .......\r\n&gt;     Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;bar.jpg&quot;\r\n&gt;     Content-Type: image/jpeg\r\n&gt;     ....\r\n&gt;     .\r\n&gt;     ..\r\n&gt;     .......\r\n\r\nand this is the right parameter Struts2 FileUpload Interceptor is expecting to receive, to work with a `List&lt;File&gt;` and the related `List&lt;String&gt;` for *fileName* and *contentType*.\r\n\r\nWhen you use [dropzone.js][1], instead, the filename will be altered to handle the multiple input client-side, by appending `[]` to it:\r\n\r\n&gt; `paramName`: The name of the file param that gets transferred.\r\n&gt; Defaults to file. **NOTE**: **If you have the option `uploadMultiple`\r\n&gt; set to true, then Dropzone will append `[]` to the name.**\r\n\r\neg. \r\n\r\n&gt;     Content-Disposition: form-data; name=&quot;file[0]&quot;; filename=&quot;foo.jpg&quot;\r\n&gt;     Content-Type: image/jpeg\r\n&gt;     ...........\r\n&gt;     . ...\r\n&gt;     .......\r\n&gt;     Content-Disposition: form-data; name=&quot;file[1]&quot;; filename=&quot;bar.jpg&quot;\r\n&gt;     Content-Type: image/jpeg\r\n&gt;     ....\r\n&gt;     .\r\n&gt;     ..\r\n&gt;     .......\r\n\r\n\r\nStruts2 doesn&#39;t like it at all.\r\n\r\n##Solution\r\n\r\nInstead of messing with custom Interceptors and Converters, do a simple adjustment on the `dropzone.js` library you use for your Struts2 projects:\r\n\r\n1. Rename your `dropzone.js` to `dropzone-struts2.js`;\r\n2. Open the file and search `&quot;[&quot; + n + &quot;]&quot;` (line 866 in latest version)\r\n4. Change this line \r\n\r\n        return &quot;&quot; + this.options.paramName + (this.options.uploadMultiple ? &quot;[&quot; + n + &quot;]&quot; : &quot;&quot;);\r\n\r\n to this one\r\n\r\n        return &quot;&quot; + this.options.paramName; //+ (this.options.uploadMultiple ? &quot;[&quot; + n + &quot;]&quot; : &quot;&quot;);\r\n\r\nNow it is Struts2 compliant, and will work with multiple uploads.\r\n\r\n\r\n  [1]: http://www.dropzonejs.com/#toc_6","title":"Upload multiple files in Struts2 with Dropzone.js","body":"<h2>Problem</h2>\n\n<p>When you use </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;input type=\"file\" name=\"file\" multiple /&gt; \n</code></pre>\n\n<p>the files will all be sent with <code>name=\"file\"</code>, eg: </p>\n\n<blockquote>\n<pre><code>Content-Disposition: form-data; name=\"file\"; filename=\"foo.jpg\"\nContent-Type: image/jpeg\n...........\n. ...\n.......\nContent-Disposition: form-data; name=\"file\"; filename=\"bar.jpg\"\nContent-Type: image/jpeg\n....\n.\n..\n.......\n</code></pre>\n</blockquote>\n\n<p>and this is the right parameter Struts2 FileUpload Interceptor is expecting to receive, to work with a <code>List&lt;File&gt;</code> and the related <code>List&lt;String&gt;</code> for <em>fileName</em> and <em>contentType</em>.</p>\n\n<p>When you use <a href=\"http://www.dropzonejs.com/#toc_6\" rel=\"nofollow\">dropzone.js</a>, instead, the filename will be altered to handle the multiple input client-side, by appending <code>[]</code> to it:</p>\n\n<blockquote>\n  <p><code>paramName</code>: The name of the file param that gets transferred.\n  Defaults to file. <strong>NOTE</strong>: <strong>If you have the option <code>uploadMultiple</code>\n  set to true, then Dropzone will append <code>[]</code> to the name.</strong></p>\n</blockquote>\n\n<p>eg. </p>\n\n<blockquote>\n<pre><code>Content-Disposition: form-data; name=\"file[0]\"; filename=\"foo.jpg\"\nContent-Type: image/jpeg\n...........\n. ...\n.......\nContent-Disposition: form-data; name=\"file[1]\"; filename=\"bar.jpg\"\nContent-Type: image/jpeg\n....\n.\n..\n.......\n</code></pre>\n</blockquote>\n\n<p>Struts2 doesn't like it at all.</p>\n\n<h2>Solution</h2>\n\n<p>Instead of messing with custom Interceptors and Converters, do a simple adjustment on the <code>dropzone.js</code> library you use for your Struts2 projects:</p>\n\n<ol>\n<li>Rename your <code>dropzone.js</code> to <code>dropzone-struts2.js</code>;</li>\n<li>Open the file and search <code>\"[\" + n + \"]\"</code> (line 866 in latest version)</li>\n<li><p>Change this line </p>\n\n<pre><code>return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n</code></pre>\n\n<p>to this one</p>\n\n<pre><code>return \"\" + this.options.paramName; //+ (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n</code></pre></li>\n</ol>\n\n<p>Now it is Struts2 compliant, and will work with multiple uploads.</p>\n"},{"tags":[],"owner":{"account_id":82177,"reputation":156,"user_id":231260,"display_name":"Ultraspider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654075844,"creation_date":1654075844,"answer_id":72459509,"question_id":26057743,"body_markdown":"The accepted answer explanation is right but there&#39;s a simpler way to handle that than modifying the original source code.\r\n\r\nAccording to the following comment from the _getParamName function :\r\n\r\n&gt; // @options.paramName can be a function taking one parameter rather\r\n&gt; than a string.\r\n\r\nso you can override the default behavior by simply setting the option paramName to:\r\n\r\n    paramName: (index) =&gt; &#39;file&#39;,\r\n\r\nsimply ignoring the index and returning &#39;file&#39; for every file, &#39;file&#39; being the param name you want to send to the server.","title":"Upload multiple files in Struts2 with Dropzone.js","body":"<p>The accepted answer explanation is right but there's a simpler way to handle that than modifying the original source code.</p>\n<p>According to the following comment from the _getParamName function :</p>\n<blockquote>\n<p>// @options.paramName can be a function taking one parameter rather\nthan a string.</p>\n</blockquote>\n<p>so you can override the default behavior by simply setting the option paramName to:</p>\n<pre><code>paramName: (index) =&gt; 'file',\n</code></pre>\n<p>simply ignoring the index and returning 'file' for every file, 'file' being the param name you want to send to the server.</p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3954,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26080212,"answer_count":2,"score":4,"last_activity_date":1654075844,"creation_date":1411728292,"question_id":26057743,"body_markdown":"I am using DropZone.js\r\n\r\nMy configuration is\r\n\r\n    Dropzone.options.myAwesomeDropzone = {\r\n                            url: &#39;UploadImages&#39;,\r\n                            previewsContainer: &quot;.dropzone-previews&quot;,\r\n                            uploadMultiple: true,\r\n                            parallelUploads: 5,\r\n                            maxFiles: 20,\r\n                            addRemoveLinks: true,\r\n                            init: function() {\r\n                                this.on(&quot;success&quot;, function(file, response) {\r\n                                    $(&#39;.dz-progress&#39;).hide();\r\n                                    console.log(response);\r\n                                    console.log(file);\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n\r\n\r\nThis code is working perfectly with my local host.\r\nI am uploading files to `UploadImages` url.\r\nI have entered one message in that url method that is working properly.\r\n\r\nMy problem is I am not getting which name should i use to get the content in server.\r\nLike what is name of imageFile variable, imageName variable, imageContent Type that should i access in my server side implementation.\r\n\r\n\r\n**Edit :**\r\nServer side implementation of [DropZone][1]\r\n\r\nDropzone does not provide the server side implementation of handling the files, but the way files are uploaded is identical to simple file upload forms like this:\r\n\r\n    &lt;form action=&quot;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n      &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\n I got it includes \r\n\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt; \r\n\r\nautomatically in form\r\nso we can access it using `file`\r\n\r\nIf \r\n\r\n    &lt;input name=&quot;file&quot; type=&quot;file&quot; multiple /&gt;\r\n\r\nthen we can access it using `file[]`\r\nin server side I tried\r\n\r\n \r\n\r\n   \r\n\r\n      public class ImageAction extends ActionSupport {\r\n             private List&lt;File&gt; file;\r\n             private List&lt;String&gt; fileContentType;\r\n             private List&lt;String&gt; fileFileName;\r\n        \r\n             System.out.println(&quot;Inside Image upload &quot;);\r\n            System.out.print(&quot;\\n\\n---------------------------------------\\n&quot;);\r\n            int i = 0;\r\n            for (File f : file) {\r\n                System.out.print(&quot;\\nFile [&quot; + i + &quot;] &quot;);\r\n                System.out.print(&quot; length: &quot; + f.length());\r\n                System.out.print(&quot; name:&quot; + getFileFileName().get(i));\r\n                System.out.print(&quot; contentType: &quot; + getFileContentType().get(i));\r\n\r\n                i++;\r\n            }\r\n            System.out.println(&quot;\\n---------------------------------------\\n&quot;);\r\n           }\r\n           //getter setter  \r\n           }\r\n\r\n\r\nIt is printing Inside Image upload.\r\n\r\n\r\nHow to make access fields of file  on Action class.\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n\r\n  [1]: http://www.dropzonejs.com/","title":"Upload multiple files in Struts2 with Dropzone.js","body":"<p>I am using DropZone.js</p>\n\n<p>My configuration is</p>\n\n<pre><code>Dropzone.options.myAwesomeDropzone = {\n                        url: 'UploadImages',\n                        previewsContainer: \".dropzone-previews\",\n                        uploadMultiple: true,\n                        parallelUploads: 5,\n                        maxFiles: 20,\n                        addRemoveLinks: true,\n                        init: function() {\n                            this.on(\"success\", function(file, response) {\n                                $('.dz-progress').hide();\n                                console.log(response);\n                                console.log(file);\n                            });\n                        }\n                    }\n                });\n</code></pre>\n\n<p>This code is working perfectly with my local host.\nI am uploading files to <code>UploadImages</code> url.\nI have entered one message in that url method that is working properly.</p>\n\n<p>My problem is I am not getting which name should i use to get the content in server.\nLike what is name of imageFile variable, imageName variable, imageContent Type that should i access in my server side implementation.</p>\n\n<p><strong>Edit :</strong>\nServer side implementation of <a href=\"http://www.dropzonejs.com/\" rel=\"nofollow\">DropZone</a></p>\n\n<p>Dropzone does not provide the server side implementation of handling the files, but the way files are uploaded is identical to simple file upload forms like this:</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n  &lt;input type=\"file\" name=\"file\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I got it includes </p>\n\n<pre><code>&lt;input type=\"file\" name=\"file\" /&gt; \n</code></pre>\n\n<p>automatically in form\nso we can access it using <code>file</code></p>\n\n<p>If </p>\n\n<pre><code>&lt;input name=\"file\" type=\"file\" multiple /&gt;\n</code></pre>\n\n<p>then we can access it using <code>file[]</code>\nin server side I tried</p>\n\n<pre><code>  public class ImageAction extends ActionSupport {\n         private List&lt;File&gt; file;\n         private List&lt;String&gt; fileContentType;\n         private List&lt;String&gt; fileFileName;\n\n         System.out.println(\"Inside Image upload \");\n        System.out.print(\"\\n\\n---------------------------------------\\n\");\n        int i = 0;\n        for (File f : file) {\n            System.out.print(\"\\nFile [\" + i + \"] \");\n            System.out.print(\" length: \" + f.length());\n            System.out.print(\" name:\" + getFileFileName().get(i));\n            System.out.print(\" contentType: \" + getFileContentType().get(i));\n\n            i++;\n        }\n        System.out.println(\"\\n---------------------------------------\\n\");\n       }\n       //getter setter  \n       }\n</code></pre>\n\n<p>It is printing Inside Image upload.</p>\n\n<p>How to make access fields of file  on Action class.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654075186,"post_id":72459261,"comment_id":128003313,"body_markdown":"From the error I can say that your `myadapter` class does not extend the `RecyclerView.Adapter` class. You must extend your adapter class from `RecyclerView.Adapter` to be able to use with the `RecyclerView`.","body":"From the error I can say that your <code>myadapter</code> class does not extend the <code>RecyclerView.Adapter</code> class. You must extend your adapter class from <code>RecyclerView.Adapter</code> to be able to use with the <code>RecyclerView</code>."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1654075258,"post_id":72459261,"comment_id":128003341,"body_markdown":"The [official guide](https://developer.android.com/guide/topics/ui/layout/recyclerview) shows you how to create a recycler view adapter","body":"The <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">official guide</a> shows you how to create a recycler view adapter"},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1654075323,"post_id":72459261,"comment_id":128003364,"body_markdown":"myAdapter is just an example, I wanna know which (ArrayAdapter or smth else) I have to use instead of ```myAdapter```","body":"myAdapter is just an example, I wanna know which (ArrayAdapter or smth else) I have to use instead of <code>myAdapter</code>"},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1654075352,"post_id":72459261,"comment_id":128003375,"body_markdown":"@RickyMo I have to create new class?","body":"@RickyMo I have to create new class?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1654075468,"post_id":72459261,"comment_id":128003413,"body_markdown":"You can create a new class extend the `RecyclerView.Adapater` or make use of `ArrayAdapter`, use whatever suit your needs.","body":"You can create a new class extend the <code>RecyclerView.Adapater</code> or make use of <code>ArrayAdapter</code>, use whatever suit your needs."},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1654075534,"post_id":72459261,"comment_id":128003445,"body_markdown":"@RickyMo I think it will be easier to make ArrayAdapter, I will try right now.","body":"@RickyMo I think it will be easier to make ArrayAdapter, I will try right now."},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1654075849,"post_id":72459261,"comment_id":128003552,"body_markdown":"@RickyMo I tried it, but I still have problems, I updated the question, help me please.","body":"@RickyMo I tried it, but I still have problems, I updated the question, help me please."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1654076281,"post_id":72459261,"comment_id":128003744,"body_markdown":"Sorry I mixed up. `ArrayAdapter` is for `ListView` but not `RecyclerView`. You have to create a new class extending `RecyclerView.Adapter` according to the guide.","body":"Sorry I mixed up. <code>ArrayAdapter</code> is for <code>ListView</code> but not <code>RecyclerView</code>. You have to create a new class extending <code>RecyclerView.Adapter</code> according to the guide."},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1654076344,"post_id":72459261,"comment_id":128003773,"body_markdown":"@RickyMo can you help me with it? i&#39;m a newbie((\nWrite this class as an answer","body":"@RickyMo can you help me with it? i&#39;m a newbie(( Write this class as an answer"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1654076395,"post_id":72459261,"comment_id":128003804,"body_markdown":"You can find many tutorial online on how to implement recycler view","body":"You can find many tutorial online on how to implement recycler view"}],"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654075817,"creation_date":1654074759,"question_id":72459261,"body_markdown":"Here is xml activity file\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;309dp&quot;\r\n        android:layout_height=&quot;677dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;164dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.72&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\nHere is Adapter Creator:\r\n```\r\nadapter = new myAdapter(dataholder);\r\n        mRecyclerview.setAdapter(adapter);\r\n````\r\nHere I get new adapter.\r\n```\r\nArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\r\nmyAdapter adapter;\r\n````\r\nAnd here I get this error, idk what does it mean.\r\n```\r\n&#39;setAdapter(androidx.recyclerview.widget.RecyclerView.Adapter)&#39; in &#39;androidx.recyclerview.widget.RecyclerView&#39; cannot be applied to &#39;(myAdapter)&#39;\r\n```\r\nHere is Model Class, I need it to create new Reminder and put it in RecyclerView.\r\n```\r\npackage com.example.kanlane.reminder;\r\n\r\npublic class Model {\r\n    String title, date, time;\r\n\r\n    public Model() {\r\n    }\r\n\r\n    public Model(String title, String date, String time) {\r\n        this.title = title;\r\n        this.date = date;\r\n        this.time = time;\r\n    }\r\n\r\n    public String getTitle() {\r\n\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n\r\n        this.date = date;\r\n    }\r\n\r\n    public String getTime() {\r\n\r\n        return time;\r\n    }\r\n\r\n    public void setTime(String time) {\r\n\r\n        this.time = time;\r\n    }\r\n}\r\n```\r\nI don&#39;t know what this error means, help me please.\r\n\r\n\r\n----------\r\n\r\n\r\nI tried to use this:\r\n```\r\nArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\r\n    ArrayAdapter adapter;\r\n```\r\nAnd this:\r\n```\r\nadapter = new ArrayAdapter(dataholder);\r\n        mRecyclerview.setAdapter(adapter);\r\n```\r\nBut I get this error:\r\n```\r\nCannot resolve constructor &#39;ArrayAdapter(java.util.ArrayList&lt;com.example.kanlane.reminder.Model&gt;)\r\n```\r\nAnd this:\r\n```\r\n&#39;setAdapter(androidx.recyclerview.widget.RecyclerView.Adapter)&#39; in &#39;androidx.recyclerview.widget.RecyclerView&#39; cannot be applied to &#39;(android.widget.ArrayAdapter)\r\n```","title":"What kind of adapter have I to use here? Java Android Studio","body":"<p>Here is xml activity file</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;309dp&quot;\n        android:layout_height=&quot;677dp&quot;\n        tools:layout_editor_absoluteY=&quot;164dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.72&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Here is Adapter Creator:</p>\n<pre><code>adapter = new myAdapter(dataholder);\n        mRecyclerview.setAdapter(adapter);\n</code></pre>\n<p>Here I get new adapter.</p>\n<pre><code>ArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\nmyAdapter adapter;\n</code></pre>\n<p>And here I get this error, idk what does it mean.</p>\n<pre><code>'setAdapter(androidx.recyclerview.widget.RecyclerView.Adapter)' in 'androidx.recyclerview.widget.RecyclerView' cannot be applied to '(myAdapter)'\n</code></pre>\n<p>Here is Model Class, I need it to create new Reminder and put it in RecyclerView.</p>\n<pre><code>package com.example.kanlane.reminder;\n\npublic class Model {\n    String title, date, time;\n\n    public Model() {\n    }\n\n    public Model(String title, String date, String time) {\n        this.title = title;\n        this.date = date;\n        this.time = time;\n    }\n\n    public String getTitle() {\n\n        return title;\n    }\n\n    public void setTitle(String title) {\n\n        this.title = title;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n\n        this.date = date;\n    }\n\n    public String getTime() {\n\n        return time;\n    }\n\n    public void setTime(String time) {\n\n        this.time = time;\n    }\n}\n</code></pre>\n<p>I don't know what this error means, help me please.</p>\n<hr />\n<p>I tried to use this:</p>\n<pre><code>ArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\n    ArrayAdapter adapter;\n</code></pre>\n<p>And this:</p>\n<pre><code>adapter = new ArrayAdapter(dataholder);\n        mRecyclerview.setAdapter(adapter);\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>Cannot resolve constructor 'ArrayAdapter(java.util.ArrayList&lt;com.example.kanlane.reminder.Model&gt;)\n</code></pre>\n<p>And this:</p>\n<pre><code>'setAdapter(androidx.recyclerview.widget.RecyclerView.Adapter)' in 'androidx.recyclerview.widget.RecyclerView' cannot be applied to '(android.widget.ArrayAdapter)\n</code></pre>\n"},{"tags":["java","unit-testing","automated-tests","cucumber","karate"],"owner":{"account_id":25444610,"reputation":11,"user_id":19246976,"display_name":"Sriya Mareddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654083426,"answer_count":0,"score":1,"last_activity_date":1654075608,"creation_date":1654075608,"question_id":72459441,"body_markdown":"While working on a application upon using Karate framework, I need to setup header for authorization before calling any HTTP request on a url. And I don&#39;t want to write about header in every Scenario in the feature file. What I want is before running any Scenario I want to setup the header and I don&#39;t want to write about it in the feature file.\r\nI have tried and searched for a lot of ways but every solution needs me to write header in the Scenario in the feature file which I don&#39;t want.\r\nCan you help we with this?","title":"How to setup header for HTTP requests outside of Karate Feature File and not write anything about it in the feature file?","body":"<p>While working on a application upon using Karate framework, I need to setup header for authorization before calling any HTTP request on a url. And I don't want to write about header in every Scenario in the feature file. What I want is before running any Scenario I want to setup the header and I don't want to write about it in the feature file.\nI have tried and searched for a lot of ways but every solution needs me to write header in the Scenario in the feature file which I don't want.\nCan you help we with this?</p>\n"},{"tags":["java","sonarqube","java-17","java-record"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1654088045,"post_id":72459248,"comment_id":128008091,"body_markdown":"Did you specify the Java version in the Sonar configuration to be at least Java 16?","body":"Did you specify the Java version in the Sonar configuration to be at least Java 16?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1654095623,"post_id":72459248,"comment_id":128011015,"body_markdown":"@ThiagoHenriqueHupner Yes, we use the latest version, beside, we don&#39;t have any problem with other features of java-17","body":"@ThiagoHenriqueHupner Yes, we use the latest version, beside, we don&#39;t have any problem with other features of java-17"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1654211813,"post_id":72459248,"comment_id":128043677,"body_markdown":"It appears this bug was fixed, see [SONARJAVA-3799](https://jira.sonarsource.com/browse/SONARJAVA-3799). I am not very familiar with SonarQube, but to me it sounds like SonarJava (plugin) version is not the same as SonarQube version. You might be able to fix this by updating the SonarJava plugin.","body":"It appears this bug was fixed, see <a href=\"https://jira.sonarsource.com/browse/SONARJAVA-3799\" rel=\"nofollow noreferrer\">SONARJAVA-3799</a>. I am not very familiar with SonarQube, but to me it sounds like SonarJava (plugin) version is not the same as SonarQube version. You might be able to fix this by updating the SonarJava plugin."}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1357,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1654074689,"creation_date":1654074689,"question_id":72459248,"body_markdown":"We use record like this:\r\n\r\n    package com.package.name;\r\n    \r\n    import java.util.List;\r\n    \r\n    public record RecodName(String type, List&lt;String&gt; data) {}\r\n\r\nBut we get a Code smell that says:\r\n\r\n    Remove this unused import &#39;java.util.List&#39;.Why is this an issue?\r\n\r\nSonar Version 8.9.8\r\n\r\nIs there any way to avoid this?\r\nIs this a bug?","title":"Sonar &quot;Remove this unused import &#39;java.util.List&#39;&quot; with record","body":"<p>We use record like this:</p>\n<pre><code>package com.package.name;\n\nimport java.util.List;\n\npublic record RecodName(String type, List&lt;String&gt; data) {}\n</code></pre>\n<p>But we get a Code smell that says:</p>\n<pre><code>Remove this unused import 'java.util.List'.Why is this an issue?\n</code></pre>\n<p>Sonar Version 8.9.8</p>\n<p>Is there any way to avoid this?\nIs this a bug?</p>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1654061346,"post_id":72456757,"comment_id":127999229,"body_markdown":"_What I need to do in order to get fully synchronized combo box_ You need to add a [listener](https://docs.oracle.com/javase/tutorial/uiswing/events/index.html) to the [provinces] [combo box](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html)","body":"<i>What I need to do in order to get fully synchronized combo box</i> You need to add a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/index.html\" rel=\"nofollow noreferrer\">listener</a> to the [provinces] <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">combo box</a>"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1654062618,"post_id":72456757,"comment_id":127999494,"body_markdown":"And db access should be in a separate thread from updating the combo boxes - they should only be updated on the event thread.","body":"And db access should be in a separate thread from updating the combo boxes - they should only be updated on the event thread."}],"answers":[{"tags":[],"owner":{"account_id":95134,"reputation":691,"user_id":259281,"accept_rate":27,"display_name":"pavithraCS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654074191,"creation_date":1654064781,"answer_id":72457310,"question_id":72456757,"body_markdown":"If you want to load values dynamically to district combobox based on the value of provinces combo box, you need to use listeners. Example is mentioned below. Better to move loading values from DB to separate class and used the loaded values in your application.\r\n\r\nUpdated code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ItemEvent;\r\n    \r\n    public class SyncronizedComboboxExample extends JPanel\r\n    {\r\n      String[] provinces= {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;};\r\n      String[] districtsForA = {&quot;l&quot;,&quot;m&quot;,&quot;n&quot;};\r\n      String[] districtsForB = {&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\r\n      String[] districtsForC = {&quot;p&quot;,&quot;q&quot;,&quot;r&quot;};\r\n    \r\n      public SyncronizedComboboxExample() {\r\n    \r\n        JComboBox provincesComboBox = new JComboBox(provinces);\r\n    \r\n        final DefaultComboBoxModel model = new DefaultComboBoxModel(districtsForA);\r\n        JComboBox districtsComboBox = new JComboBox(model);\r\n    \r\n        provincesComboBox.addItemListener(e -&gt; {\r\n          if(e.getStateChange() == ItemEvent.SELECTED){\r\n            DefaultComboBoxModel comboBoxModel;\r\n    \r\n              if(provincesComboBox.getSelectedItem().equals(&quot;A&quot;)){\r\n                comboBoxModel = new DefaultComboBoxModel(districtsForA);\r\n                districtsComboBox.setModel(comboBoxModel);\r\n              }\r\n              if(provincesComboBox.getSelectedItem().equals(&quot;B&quot;)){\r\n                comboBoxModel = new DefaultComboBoxModel(districtsForB);\r\n                districtsComboBox.setModel(comboBoxModel);\r\n              }\r\n              if(provincesComboBox.getSelectedItem().equals(&quot;C&quot;)){\r\n                comboBoxModel = new DefaultComboBoxModel(districtsForC);\r\n                districtsComboBox.setModel(comboBoxModel);\r\n              }\r\n    \r\n          }\r\n        });\r\n    \r\n        add(provincesComboBox, BorderLayout.PAGE_START);\r\n        add(districtsComboBox, BorderLayout.AFTER_LAST_LINE);\r\n        setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\r\n      }\r\n    \r\n      private static void createAndShowGUI() {\r\n        //Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;CustomComboBoxDemo&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        //Create and set up the content pane.\r\n        JComponent newContentPane = new SyncronizedComboboxExample();\r\n        newContentPane.setOpaque(true); //content panes must be opaque\r\n        frame.setContentPane(newContentPane);\r\n    \r\n        //Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        javax.swing.SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\r\n      }\r\n    \r\n    }\r\n\r\n\r\n","title":"Synchronized Combo Box Java Swing","body":"<p>If you want to load values dynamically to district combobox based on the value of provinces combo box, you need to use listeners. Example is mentioned below. Better to move loading values from DB to separate class and used the loaded values in your application.</p>\n<p>Updated code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ItemEvent;\n\npublic class SyncronizedComboboxExample extends JPanel\n{\n  String[] provinces= {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;};\n  String[] districtsForA = {&quot;l&quot;,&quot;m&quot;,&quot;n&quot;};\n  String[] districtsForB = {&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\n  String[] districtsForC = {&quot;p&quot;,&quot;q&quot;,&quot;r&quot;};\n\n  public SyncronizedComboboxExample() {\n\n    JComboBox provincesComboBox = new JComboBox(provinces);\n\n    final DefaultComboBoxModel model = new DefaultComboBoxModel(districtsForA);\n    JComboBox districtsComboBox = new JComboBox(model);\n\n    provincesComboBox.addItemListener(e -&gt; {\n      if(e.getStateChange() == ItemEvent.SELECTED){\n        DefaultComboBoxModel comboBoxModel;\n\n          if(provincesComboBox.getSelectedItem().equals(&quot;A&quot;)){\n            comboBoxModel = new DefaultComboBoxModel(districtsForA);\n            districtsComboBox.setModel(comboBoxModel);\n          }\n          if(provincesComboBox.getSelectedItem().equals(&quot;B&quot;)){\n            comboBoxModel = new DefaultComboBoxModel(districtsForB);\n            districtsComboBox.setModel(comboBoxModel);\n          }\n          if(provincesComboBox.getSelectedItem().equals(&quot;C&quot;)){\n            comboBoxModel = new DefaultComboBoxModel(districtsForC);\n            districtsComboBox.setModel(comboBoxModel);\n          }\n\n      }\n    });\n\n    add(provincesComboBox, BorderLayout.PAGE_START);\n    add(districtsComboBox, BorderLayout.AFTER_LAST_LINE);\n    setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\n  }\n\n  private static void createAndShowGUI() {\n    //Create and set up the window.\n    JFrame frame = new JFrame(&quot;CustomComboBoxDemo&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    //Create and set up the content pane.\n    JComponent newContentPane = new SyncronizedComboboxExample();\n    newContentPane.setOpaque(true); //content panes must be opaque\n    frame.setContentPane(newContentPane);\n\n    //Display the window.\n    frame.pack();\n    frame.setVisible(true);\n  }\n\n  public static void main(String[] args) {\n    javax.swing.SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17724803,"reputation":73,"user_id":12868854,"display_name":"Dio Brando"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654074191,"creation_date":1654060928,"question_id":72456757,"body_markdown":"I want to create synchronized combo box in Java _Swing_. When I choose one of the provinces, the kabupaten (district) combo box will contain all the districts of the selected province. But there&#39;s a problem. The district combo box only selects first entry of province combo box and doesn&#39;t change when I select another entry in province combo box. What I need to do in order to get fully synchronized combo box? TIA.\r\n\r\n    public void getProvince() {\r\n        DBConnection dBConnection = new DBConnection();\r\n        dBConnection.connection();\r\n        Statement statement = null;\r\n        try {\r\n            statement = dBConnection.con.createStatement();\r\n            String sql = &quot;SELECT * FROM provinsi&quot;;\r\n            ResultSet rs = statement.executeQuery(sql);\r\n            while (rs.next()) {\r\n                String provinceName = rs.getString(&quot;nama&quot;);\r\n                String provinceId = rs.getString(&quot;id&quot;);\r\n                provinsiCombo.addItem(provinceId);\r\n            }\r\n            dBConnection.con.close();\r\n        } catch (SQLException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Gagal Terhubung&quot;);\r\n        }\r\n    }\r\n\r\n    public void getKabupaten() {\r\n        DBConnection dBConnection = new DBConnection();\r\n        dBConnection.connection();\r\n        Statement statement = null;\r\n        try {\r\n            statement = dBConnection.con.createStatement();\r\n            String sql = &quot;SELECT * FROM kabupaten WHERE id_prov = &#39;&quot;\r\n                    + provinsiCombo.getSelectedItem()\r\n                    + &quot;&#39;&quot;;\r\n            ResultSet rs = statement.executeQuery(sql);\r\n            while (rs.next()) {\r\n                String kabupaten = rs.getString(&quot;nama&quot;);\r\n                kabupatenCombo.addItem(kabupaten);\r\n            }\r\n            dBConnection.con.close();\r\n        } catch (SQLException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Gagal Terhubung&quot;);\r\n        }\r\n    }\r\n","title":"Synchronized Combo Box Java Swing","body":"<p>I want to create synchronized combo box in Java <em>Swing</em>. When I choose one of the provinces, the kabupaten (district) combo box will contain all the districts of the selected province. But there's a problem. The district combo box only selects first entry of province combo box and doesn't change when I select another entry in province combo box. What I need to do in order to get fully synchronized combo box? TIA.</p>\n<pre><code>public void getProvince() {\n    DBConnection dBConnection = new DBConnection();\n    dBConnection.connection();\n    Statement statement = null;\n    try {\n        statement = dBConnection.con.createStatement();\n        String sql = &quot;SELECT * FROM provinsi&quot;;\n        ResultSet rs = statement.executeQuery(sql);\n        while (rs.next()) {\n            String provinceName = rs.getString(&quot;nama&quot;);\n            String provinceId = rs.getString(&quot;id&quot;);\n            provinsiCombo.addItem(provinceId);\n        }\n        dBConnection.con.close();\n    } catch (SQLException e) {\n        JOptionPane.showMessageDialog(null, &quot;Gagal Terhubung&quot;);\n    }\n}\n\npublic void getKabupaten() {\n    DBConnection dBConnection = new DBConnection();\n    dBConnection.connection();\n    Statement statement = null;\n    try {\n        statement = dBConnection.con.createStatement();\n        String sql = &quot;SELECT * FROM kabupaten WHERE id_prov = '&quot;\n                + provinsiCombo.getSelectedItem()\n                + &quot;'&quot;;\n        ResultSet rs = statement.executeQuery(sql);\n        while (rs.next()) {\n            String kabupaten = rs.getString(&quot;nama&quot;);\n            kabupatenCombo.addItem(kabupaten);\n        }\n        dBConnection.con.close();\n    } catch (SQLException e) {\n        JOptionPane.showMessageDialog(null, &quot;Gagal Terhubung&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","for-loop","arraylist","pairing"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653900509,"post_id":72431489,"comment_id":127955658,"body_markdown":"Well, the result of creating every single pair of 2 lists with length N and M will result in N*M `Pair` objects. This will be problematic for big numbers of N an M, what numbers are we talking about here? You can assign more maximum memory to your JVM, but after all it&#39;s limited by your machine&#39;s hardware.","body":"Well, the result of creating every single pair of 2 lists with length N and M will result in N*M <code>Pair</code> objects. This will be problematic for big numbers of N an M, what numbers are we talking about here? You can assign more maximum memory to your JVM, but after all it&#39;s limited by your machine&#39;s hardware."},{"owner":{"account_id":23324598,"reputation":1,"user_id":17401964,"display_name":"JuliaN"},"score":0,"creation_date":1653903372,"post_id":72431489,"comment_id":127956690,"body_markdown":"@f1sh, 7200 for N and 7200 for M","body":"@f1sh, 7200 for N and 7200 for M"}],"answers":[{"tags":[],"owner":{"account_id":25424392,"reputation":69,"user_id":19229766,"display_name":"TwoOfTwelve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653900579,"creation_date":1653900579,"answer_id":72431589,"question_id":72431489,"body_markdown":"Since you already know how long your resulting list will be, you can initialize the `ArrayList` with the size. It should be `country.size() * statusList.size`. That way you avoid reallocating the list constantly.","title":"How to join two different lists into a single Pair without nested loops and to avoid OutOfMemory Error?","body":"<p>Since you already know how long your resulting list will be, you can initialize the <code>ArrayList</code> with the size. It should be <code>country.size() * statusList.size</code>. That way you avoid reallocating the list constantly.</p>\n"}],"owner":{"account_id":23324598,"reputation":1,"user_id":17401964,"display_name":"JuliaN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654073923,"creation_date":1653900120,"question_id":72431489,"body_markdown":"Given: 2 Lists of String. Required: List&lt;Pair&lt;String, String&gt;&gt; countryStatus.\r\n\r\n\r\nFollowing the answer from @geco17 with two for loops I am getting into OutOfMemoryError: Java Heap Space due to the amount of data.\r\n\r\nIs there any other way to do so and avoid OutOfMemory Error?\r\n\r\nhttps://stackoverflow.com/questions/49209216/pairs-two-different-list-into-a-single-map\r\n\r\n            for (String country : countrylist) {\r\n                for (String status : statusList) {\r\n                    nodesCountryStatus.add(new Pair(country, status));\r\n                }\r\n            }\r\n\r\n**UPDATE**: As a possible way to avoid this problem but to solve the task I had not straightforward I did the following - concatinating two lists by each element in sequence https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip. I was to have the output in csv thus commas appropriate:\r\n\r\n `if (countries.size() == statuses.size()) {\r\ncountryStatusAsExtracted = Streams.zip(countries.stream(), statuses.stream(), (a, b) -&gt; (a + &quot;,&quot; + b))\r\n                        .collect(Collectors.toList());}`","title":"How to join two different lists into a single Pair without nested loops and to avoid OutOfMemory Error?","body":"<p>Given: 2 Lists of String. Required: List&lt;Pair&lt;String, String&gt;&gt; countryStatus.</p>\n<p>Following the answer from @geco17 with two for loops I am getting into OutOfMemoryError: Java Heap Space due to the amount of data.</p>\n<p>Is there any other way to do so and avoid OutOfMemory Error?</p>\n<p><a href=\"https://stackoverflow.com/questions/49209216/pairs-two-different-list-into-a-single-map\">Pairs two different list into a single map</a></p>\n<pre><code>        for (String country : countrylist) {\n            for (String status : statusList) {\n                nodesCountryStatus.add(new Pair(country, status));\n            }\n        }\n</code></pre>\n<p><strong>UPDATE</strong>: As a possible way to avoid this problem but to solve the task I had not straightforward I did the following - concatinating two lists by each element in sequence <a href=\"https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\">Zipping streams using JDK8 with lambda (java.util.stream.Streams.zip)</a>. I was to have the output in csv thus commas appropriate:</p>\n<p><code>if (countries.size() == statuses.size()) { countryStatusAsExtracted = Streams.zip(countries.stream(), statuses.stream(), (a, b) -&gt; (a + &quot;,&quot; + b)) .collect(Collectors.toList());}</code></p>\n"},{"tags":["java","android","flutter","kotlin","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":25436686,"reputation":21,"user_id":19240298,"display_name":"AJMAL MAMBA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654000622,"creation_date":1654000622,"answer_id":72447945,"question_id":72377305,"body_markdown":"check your android-&gt; build.gradle file\r\n\r\n dependencies {\r\n        \r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;. // &lt;- check this line\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n    }","title":"Error : Flutter - Missing &#39;package&#39; key attribute on element package at [com.google.android.gms:play-services-maps:18.0.2] AndroidManifest.xml:33:9-64","body":"<p>check your android-&gt; build.gradle file</p>\n<p>dependencies {</p>\n<pre><code>    classpath 'com.android.tools.build:gradle:4.1.0'. // &lt;- check this line\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    classpath 'com.google.gms:google-services:4.3.5'\n}\n</code></pre>\n"}],"owner":{"account_id":10804042,"reputation":31,"user_id":7946938,"display_name":"Kunjal Chaudhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2256,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654073849,"creation_date":1653480237,"question_id":72377305,"body_markdown":"I am getting an error while build appbundle in Flutter\r\n\r\nError:\r\n\r\n    Building without sound null safety\r\nFor more information see https://dart.dev/null-safety/unsound-null-safety\r\n\r\n    [com.google.android.gms:play-services-maps:18.0.2] C:\\Users\\theGODFATHER\\.gradle\\caches\\transforms-2\\files-2.1\\6f829f42d3699bf76afaf5ddb99cba4b\\play-services-maps-18.0.2\\AndroidManifest.xml:33:9-64\r\n     Error:\r\n            Missing &#39;package&#39; key attribute on element package at [com.google.android.gms:play-services-maps:18.0.2] AndroidManifest.xml:33:9-64\r\n    \r\n    [com.google.android.gms:play-services-maps:18.0.2] C:\\Users\\theGODFATHER\\.gradle\\caches\\transforms-2\\files-2.1\\6f829f42d3699bf76afaf5ddb99cba4b\\play-services-maps-18.0.2\\AndroidManifest.xml\r\n     Error:\r\n            Validation failed, exiting\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:processReleaseManifest&#39;.\r\n    &gt; Manifest merger failed with multiple errors, see logs\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dZOoH.png","title":"Error : Flutter - Missing &#39;package&#39; key attribute on element package at [com.google.android.gms:play-services-maps:18.0.2] AndroidManifest.xml:33:9-64","body":"<p>I am getting an error while build appbundle in Flutter</p>\n<p>Error:</p>\n<pre><code>Building without sound null safety\n</code></pre>\n<p>For more information see <a href=\"https://dart.dev/null-safety/unsound-null-safety\" rel=\"nofollow noreferrer\">https://dart.dev/null-safety/unsound-null-safety</a></p>\n<pre><code>[com.google.android.gms:play-services-maps:18.0.2] C:\\Users\\theGODFATHER\\.gradle\\caches\\transforms-2\\files-2.1\\6f829f42d3699bf76afaf5ddb99cba4b\\play-services-maps-18.0.2\\AndroidManifest.xml:33:9-64\n Error:\n        Missing 'package' key attribute on element package at [com.google.android.gms:play-services-maps:18.0.2] AndroidManifest.xml:33:9-64\n\n[com.google.android.gms:play-services-maps:18.0.2] C:\\Users\\theGODFATHER\\.gradle\\caches\\transforms-2\\files-2.1\\6f829f42d3699bf76afaf5ddb99cba4b\\play-services-maps-18.0.2\\AndroidManifest.xml\n Error:\n        Validation failed, exiting\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processReleaseManifest'.\n&gt; Manifest merger failed with multiple errors, see logs\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"tags":["java","telegram-bot"],"comments":[{"owner":{"account_id":16012120,"reputation":91,"user_id":11555915,"display_name":"Samreach"},"score":0,"creation_date":1654597934,"post_id":72459013,"comment_id":128123286,"body_markdown":"The problem already solve before a line of code (System.out.println(update.getMessage().getText());) just remove it.     Why it&#39;s error. because update.getMessage().getText() is null, it cannot display the result. skip to error exception. So the if (update.getCallbackQuery()) cannot be called. I hope that anyone will not confuse written like me.","body":"The problem already solve before a line of code (System.out.println(update.getMessage().getText());) just remove it.     Why it&#39;s error. because update.getMessage().getText() is null, it cannot display the result. skip to error exception. So the if (update.getCallbackQuery()) cannot be called. I hope that anyone will not confuse written like me."}],"owner":{"account_id":16012120,"reputation":91,"user_id":11555915,"display_name":"Samreach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654073796,"creation_date":1654073796,"question_id":72459013,"body_markdown":"Currently I faced issued on handling callBackQuery on TelegramBot which I cannot catch event and reply the message as I want.\r\nYou can comment my codes and help share me document solution resources.\r\n\r\n    public static void main(String[] args){\r\n            try {\r\n                TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n                telegramBotsApi.registerBot(new Bot());\r\n    \r\n            } catch (TelegramApiException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\nand Bot.java\r\n\r\n    public class Bot extends TelegramLongPollingBot {\r\n        @Override\r\n        public void onUpdateReceived(Update update) {\r\n            System.out.println(update.getMessage().getText());\r\n    \r\n            if(update.hasMessage()){\r\n                if (update.getMessage().hasText()) {\r\n                    if (update.getMessage().getText().equals(&quot;Hello&quot;)){\r\n                        try {\r\n                            execute(sendInlineKeyBoardMessage(update.getMessage().getChatId()));\r\n                        } catch (TelegramApiException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            } else if (update.hasCallbackQuery()) {\r\n                try {\r\n                    SendMessage sendMessage = new SendMessage();\r\n                    sendMessage.setText(&quot;You click and return : &quot; + update.getCallbackQuery().getData());\r\n                    sendMessage.setChatId(String.valueOf(update.getCallbackQuery().getMessage().getChatId()));\r\n                    execute(sendMessage);\r\n                } catch (TelegramApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String getBotUsername() {\r\n            return &quot;bot&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String getBotToken() {\r\n            return &quot;1234568...&quot;;\r\n        }\r\n    \r\n        public static SendMessage sendInlineKeyBoardMessage(long chatId){\r\n            InlineKeyboardMarkup inlineKeyboardMarkup = new InlineKeyboardMarkup();\r\n            InlineKeyboardButton inlineKeyboardButton1 = new InlineKeyboardButton();\r\n            inlineKeyboardButton1.setText(&quot;Report Sale&quot;);\r\n            inlineKeyboardButton1.setCallbackData(&quot;sale&quot;);\r\n            List&lt;InlineKeyboardButton&gt; keyboardButtonsRow1 = new ArrayList&lt;&gt;();\r\n            keyboardButtonsRow1.add(inlineKeyboardButton1);\r\n            List&lt;List&lt;InlineKeyboardButton&gt;&gt; rowList = new ArrayList&lt;&gt;();\r\n            rowList.add(keyboardButtonsRow1);\r\n            inlineKeyboardMarkup.setKeyboard(rowList);\r\n            SendMessage sendMessage = new SendMessage();\r\n            sendMessage.setChatId(String.valueOf(chatId));\r\n            sendMessage.setText(&quot;Show button sale: &quot;);\r\n            sendMessage.setReplyMarkup(inlineKeyboardMarkup);\r\n            return sendMessage;\r\n        }\r\n    }\r\n\r\nI want to welcome by Message and Show option inlineKeyboardButton. Then user click on the Button, we will handle clicked button and reply with a message or a photo.\r\n\r\nI already read this.\r\nhttps://github.com/rubenlagus/TelegramBots/wiki/FAQ#how_to_use_custom_keyboards\r\n\r\nBut I cannot handle when they click on that&#39;s button by Getting getCallbackQuery.data() to compare as command to send new message or send a photo.\r\n\r\nI hope someone can guide me to solve that issue.\r\nThanks you.\r\n","title":"Java Handle click button inlineKeyboardButton telegram bot library","body":"<p>Currently I faced issued on handling callBackQuery on TelegramBot which I cannot catch event and reply the message as I want.\nYou can comment my codes and help share me document solution resources.</p>\n<pre><code>public static void main(String[] args){\n        try {\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n            telegramBotsApi.registerBot(new Bot());\n\n        } catch (TelegramApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>and Bot.java</p>\n<pre><code>public class Bot extends TelegramLongPollingBot {\n    @Override\n    public void onUpdateReceived(Update update) {\n        System.out.println(update.getMessage().getText());\n\n        if(update.hasMessage()){\n            if (update.getMessage().hasText()) {\n                if (update.getMessage().getText().equals(&quot;Hello&quot;)){\n                    try {\n                        execute(sendInlineKeyBoardMessage(update.getMessage().getChatId()));\n                    } catch (TelegramApiException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        } else if (update.hasCallbackQuery()) {\n            try {\n                SendMessage sendMessage = new SendMessage();\n                sendMessage.setText(&quot;You click and return : &quot; + update.getCallbackQuery().getData());\n                sendMessage.setChatId(String.valueOf(update.getCallbackQuery().getMessage().getChatId()));\n                execute(sendMessage);\n            } catch (TelegramApiException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public String getBotUsername() {\n        return &quot;bot&quot;;\n    }\n\n    @Override\n    public String getBotToken() {\n        return &quot;1234568...&quot;;\n    }\n\n    public static SendMessage sendInlineKeyBoardMessage(long chatId){\n        InlineKeyboardMarkup inlineKeyboardMarkup = new InlineKeyboardMarkup();\n        InlineKeyboardButton inlineKeyboardButton1 = new InlineKeyboardButton();\n        inlineKeyboardButton1.setText(&quot;Report Sale&quot;);\n        inlineKeyboardButton1.setCallbackData(&quot;sale&quot;);\n        List&lt;InlineKeyboardButton&gt; keyboardButtonsRow1 = new ArrayList&lt;&gt;();\n        keyboardButtonsRow1.add(inlineKeyboardButton1);\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; rowList = new ArrayList&lt;&gt;();\n        rowList.add(keyboardButtonsRow1);\n        inlineKeyboardMarkup.setKeyboard(rowList);\n        SendMessage sendMessage = new SendMessage();\n        sendMessage.setChatId(String.valueOf(chatId));\n        sendMessage.setText(&quot;Show button sale: &quot;);\n        sendMessage.setReplyMarkup(inlineKeyboardMarkup);\n        return sendMessage;\n    }\n}\n</code></pre>\n<p>I want to welcome by Message and Show option inlineKeyboardButton. Then user click on the Button, we will handle clicked button and reply with a message or a photo.</p>\n<p>I already read this.\n<a href=\"https://github.com/rubenlagus/TelegramBots/wiki/FAQ#how_to_use_custom_keyboards\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots/wiki/FAQ#how_to_use_custom_keyboards</a></p>\n<p>But I cannot handle when they click on that's button by Getting getCallbackQuery.data() to compare as command to send new message or send a photo.</p>\n<p>I hope someone can guide me to solve that issue.\nThanks you.</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"comments":[{"owner":{"account_id":2421483,"reputation":533,"user_id":2538530,"accept_rate":67,"display_name":"leonardseymore"},"score":0,"creation_date":1653990711,"post_id":72445346,"comment_id":127979722,"body_markdown":"Looks like it might be a typo u.id = r.id?","body":"Looks like it might be a typo u.id = r.id?"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654073790,"creation_date":1653991089,"answer_id":72445760,"question_id":72445346,"body_markdown":"```\r\n@Query(&quot;select distinct(u.id) from User u INNER JOIN u.roles r ON r.name IN (&#39;ADMIN&#39;, &#39;USER_HANDLER&#39;)&quot;)\r\nList&lt;Long&gt; findSubAdmins();\r\n```","title":"JPA Left Join with multiple conditions not giving correct results","body":"<pre><code>@Query(&quot;select distinct(u.id) from User u INNER JOIN u.roles r ON r.name IN ('ADMIN', 'USER_HANDLER')&quot;)\nList&lt;Long&gt; findSubAdmins();\n</code></pre>\n"}],"owner":{"account_id":21091366,"reputation":31,"user_id":15503193,"display_name":"MAYANK DEVRANI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654073790,"creation_date":1653989343,"question_id":72445346,"body_markdown":"I&#39;m trying to write to a Query in JPA,and Query is working fine but result is not correct.\r\n\r\nMapping in User.java\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(\tname = &quot;user_roles&quot;, \r\n    \t\t\t\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n    \t\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    \tprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\nEntity Role.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;roles&quot;)\r\n    public class Role {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Enumerated(EnumType.STRING)\r\n    \t@Column(length = 20)\r\n    \tprivate ERole name;\r\n    }\r\n\r\nEnum file\r\n\r\n    public enum ERole {\r\n    \tUSER,\r\n        GUEST,\r\n        ADMIN,\r\n        USER_HANDLER,\r\n        TOURNAMENT_HANDLER,\r\n        CHALLENGE_HANDLER,\r\n        CHAMPIONSHIP_HANDLER\r\n    }\r\n\r\nand Join Query in UserRepository.java\r\n\r\n    @Query(&quot;select u.userId from User u LEFT JOIN Role r ON u.id = r.id AND r.name = &#39;ADMIN&#39; OR r.name = &#39;USER_HANDLER&#39;&quot;)\r\n    List&lt;Long&gt; findSubAdmins();\r\n\r\nResult: I&#39;m printing size of List in console\r\nExpected - 5\r\nGetting - 8 (8 is the total no. of record in join table)","title":"JPA Left Join with multiple conditions not giving correct results","body":"<p>I'm trying to write to a Query in JPA,and Query is working fine but result is not correct.</p>\n<p>Mapping in User.java</p>\n<pre><code>@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable( name = &quot;user_roles&quot;, \n                joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n<p>Entity Role.java</p>\n<pre><code>@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private ERole name;\n}\n</code></pre>\n<p>Enum file</p>\n<pre><code>public enum ERole {\n    USER,\n    GUEST,\n    ADMIN,\n    USER_HANDLER,\n    TOURNAMENT_HANDLER,\n    CHALLENGE_HANDLER,\n    CHAMPIONSHIP_HANDLER\n}\n</code></pre>\n<p>and Join Query in UserRepository.java</p>\n<pre><code>@Query(&quot;select u.userId from User u LEFT JOIN Role r ON u.id = r.id AND r.name = 'ADMIN' OR r.name = 'USER_HANDLER'&quot;)\nList&lt;Long&gt; findSubAdmins();\n</code></pre>\n<p>Result: I'm printing size of List in console\nExpected - 5\nGetting - 8 (8 is the total no. of record in join table)</p>\n"},{"tags":["java","spring","spring-boot","junit","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654073626,"creation_date":1654073626,"answer_id":72458969,"question_id":72457091,"body_markdown":"Replace this line of code :\r\n\r\n     when(restTemplate.exchange(\r\n            ArgumentMatchers.anyString(),\r\n            ArgumentMatchers.any(HttpMethod.class),\r\n            ArgumentMatchers.any(),\r\n            ArgumentMatchers.&lt;Class&lt;List&lt;AdminGroupDTO&gt;&gt;&gt;any()))\r\n            .thenReturn(responseEntity);\r\n\r\nWith this :\r\n\r\n       \r\n\r\n    when(restTemplate.exchange(\r\n                ArgumentMatchers.anyString(),\r\n                ArgumentMatchers.any(HttpMethod.class),\r\n                ArgumentMatchers.any(),\r\n                ArgumentMatchers.eq(new ParameterizedTypeReference&lt;List&lt;AdminGroupDTO&gt;&gt;() {}))\r\n        )\r\n                .thenReturn(responseEntity);\r\n\r\nAnd excepption should dissapear.\r\n\r\nFor futher details you can check [this][1] post.\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29670463/match-generics-with-mockito","title":"RestTemplate Junit: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;response&quot; is null","body":"<p>Replace this line of code :</p>\n<pre><code> when(restTemplate.exchange(\n        ArgumentMatchers.anyString(),\n        ArgumentMatchers.any(HttpMethod.class),\n        ArgumentMatchers.any(),\n        ArgumentMatchers.&lt;Class&lt;List&lt;AdminGroupDTO&gt;&gt;&gt;any()))\n        .thenReturn(responseEntity);\n</code></pre>\n<p>With this :</p>\n<pre><code>when(restTemplate.exchange(\n            ArgumentMatchers.anyString(),\n            ArgumentMatchers.any(HttpMethod.class),\n            ArgumentMatchers.any(),\n            ArgumentMatchers.eq(new ParameterizedTypeReference&lt;List&lt;AdminGroupDTO&gt;&gt;() {}))\n    )\n            .thenReturn(responseEntity);\n</code></pre>\n<p>And excepption should dissapear.</p>\n<p>For futher details you can check <a href=\"https://stackoverflow.com/questions/29670463/match-generics-with-mockito\">this</a> post.</p>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3735,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72458969,"answer_count":1,"score":2,"last_activity_date":1654073626,"creation_date":1654063379,"question_id":72457091,"body_markdown":"I have a spring boot application that makes an API hit of other internal projects using the rest template which works fine and I am writing unit test cases for it but test case if failing due to **Unexpected exception thrown: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;response&quot; is null**\r\n\r\n**Service**\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class DynamoDBServiceImpl implements DynamoDBService {\r\n    \r\n      private final RestTemplate restTemplate;\r\n      private final HttpHeaders httpHeaders;\r\n      private final String jwtHeader;\r\n      private final String apiKeyHeader;\r\n      private final String dynamodbSysApiKey;\r\n      private final String fetchAdminGroupUrl;\r\n    \r\n      public DynamoDBServiceImpl(\r\n          RestTemplate restTemplate,\r\n          HttpHeaders httpHeaders,\r\n          @Value(&quot;${header-name.jwt}&quot;) String jwtHeader,\r\n          @Value(&quot;${header-name.api-key}&quot;) String apiKeyHeader,\r\n          @Value(&quot;${dynamodb-sys-api-key}&quot;) String dynamodbSysApiKey,\r\n          @Value(&quot;${dynamodb-fetch-admin-group-url}&quot;) String fetchAdminGroupUrl) {\r\n        this.restTemplate = restTemplate;\r\n        this.httpHeaders = httpHeaders;\r\n        this.jwtHeader = jwtHeader;\r\n        this.apiKeyHeader = apiKeyHeader;\r\n        this.dynamodbSysApiKey = dynamodbSysApiKey;\r\n        this.fetchAdminGroupUrl = fetchAdminGroupUrl;\r\n      }\r\n    \r\n      @Override\r\n      public List&lt;AdminGroupDTO&gt; getAllAdminGroups() {\r\n        log.debug(&quot;Request to get admin group details with url : {}&quot;, fetchAdminGroupUrl);\r\n        httpHeaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        httpHeaders.setBearerAuth(CommonUtils.getHeaderFromCurrentHttpRequest(jwtHeader));\r\n        httpHeaders.set(apiKeyHeader, dynamodbSysApiKey);\r\n    \r\n        HttpEntity&lt;AdminGroupDTO&gt; request = new HttpEntity&lt;&gt;(httpHeaders);\r\n        ResponseEntity&lt;List&lt;AdminGroupDTO&gt;&gt; response =\r\n            restTemplate.exchange(fetchAdminGroupUrl, HttpMethod.GET, request, new ParameterizedTypeReference&lt;List&lt;AdminGroupDTO&gt;&gt;() {});\r\n        return response.getBody();\r\n      }\r\n    \r\n    }\r\n\r\n**Test**\r\n\r\n    @SpringBootTest(classes = Application.class)\r\n    public class DynamoDBServiceTest {\r\n    \r\n      private final RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\r\n      private final HttpHeaders httpHeaders = new HttpHeaders();\r\n      private final DynamoDBServiceImpl dynamoDBService =\r\n          new DynamoDBServiceImpl(\r\n              restTemplate, httpHeaders, &quot;Authorization&quot; , &quot;Api-Key&quot;, &quot;fake&quot;, &quot;https://fake.com&quot;);\r\n    \r\n      @Test\r\n      void testGetAllAdminGroups() {\r\n        List&lt;AdminGroupDTO&gt; adminGroupDTOList = new ArrayList&lt;&gt;();\r\n        AdminGroupDTO adminGroupDTO = new AdminGroupDTO();\r\n        adminGroupDTO.setAdminGroupId(1L);\r\n        adminGroupDTO.setAdminGroupName(&quot;fake&quot;);\r\n        adminGroupDTO.setCountryName(&quot;fake&quot;);\r\n        adminGroupDTOList.add(adminGroupDTO);\r\n    \r\n        ResponseEntity&lt;List&lt;AdminGroupDTO&gt;&gt; responseEntity = new ResponseEntity&lt;&gt;(adminGroupDTOList, HttpStatus.OK);\r\n        when(restTemplate.exchange(\r\n            ArgumentMatchers.anyString(),\r\n            ArgumentMatchers.any(HttpMethod.class),\r\n            ArgumentMatchers.any(),\r\n            ArgumentMatchers.&lt;Class&lt;List&lt;AdminGroupDTO&gt;&gt;&gt;any()))\r\n            .thenReturn(responseEntity);\r\n    \r\n        assertDoesNotThrow(dynamoDBService::getAllAdminGroups);\r\n      }\r\n    \r\n    }","title":"RestTemplate Junit: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;response&quot; is null","body":"<p>I have a spring boot application that makes an API hit of other internal projects using the rest template which works fine and I am writing unit test cases for it but test case if failing due to <strong>Unexpected exception thrown: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;response&quot; is null</strong></p>\n<p><strong>Service</strong></p>\n<pre><code>@Service\n@Slf4j\npublic class DynamoDBServiceImpl implements DynamoDBService {\n\n  private final RestTemplate restTemplate;\n  private final HttpHeaders httpHeaders;\n  private final String jwtHeader;\n  private final String apiKeyHeader;\n  private final String dynamodbSysApiKey;\n  private final String fetchAdminGroupUrl;\n\n  public DynamoDBServiceImpl(\n      RestTemplate restTemplate,\n      HttpHeaders httpHeaders,\n      @Value(&quot;${header-name.jwt}&quot;) String jwtHeader,\n      @Value(&quot;${header-name.api-key}&quot;) String apiKeyHeader,\n      @Value(&quot;${dynamodb-sys-api-key}&quot;) String dynamodbSysApiKey,\n      @Value(&quot;${dynamodb-fetch-admin-group-url}&quot;) String fetchAdminGroupUrl) {\n    this.restTemplate = restTemplate;\n    this.httpHeaders = httpHeaders;\n    this.jwtHeader = jwtHeader;\n    this.apiKeyHeader = apiKeyHeader;\n    this.dynamodbSysApiKey = dynamodbSysApiKey;\n    this.fetchAdminGroupUrl = fetchAdminGroupUrl;\n  }\n\n  @Override\n  public List&lt;AdminGroupDTO&gt; getAllAdminGroups() {\n    log.debug(&quot;Request to get admin group details with url : {}&quot;, fetchAdminGroupUrl);\n    httpHeaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    httpHeaders.setBearerAuth(CommonUtils.getHeaderFromCurrentHttpRequest(jwtHeader));\n    httpHeaders.set(apiKeyHeader, dynamodbSysApiKey);\n\n    HttpEntity&lt;AdminGroupDTO&gt; request = new HttpEntity&lt;&gt;(httpHeaders);\n    ResponseEntity&lt;List&lt;AdminGroupDTO&gt;&gt; response =\n        restTemplate.exchange(fetchAdminGroupUrl, HttpMethod.GET, request, new ParameterizedTypeReference&lt;List&lt;AdminGroupDTO&gt;&gt;() {});\n    return response.getBody();\n  }\n\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@SpringBootTest(classes = Application.class)\npublic class DynamoDBServiceTest {\n\n  private final RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\n  private final HttpHeaders httpHeaders = new HttpHeaders();\n  private final DynamoDBServiceImpl dynamoDBService =\n      new DynamoDBServiceImpl(\n          restTemplate, httpHeaders, &quot;Authorization&quot; , &quot;Api-Key&quot;, &quot;fake&quot;, &quot;https://fake.com&quot;);\n\n  @Test\n  void testGetAllAdminGroups() {\n    List&lt;AdminGroupDTO&gt; adminGroupDTOList = new ArrayList&lt;&gt;();\n    AdminGroupDTO adminGroupDTO = new AdminGroupDTO();\n    adminGroupDTO.setAdminGroupId(1L);\n    adminGroupDTO.setAdminGroupName(&quot;fake&quot;);\n    adminGroupDTO.setCountryName(&quot;fake&quot;);\n    adminGroupDTOList.add(adminGroupDTO);\n\n    ResponseEntity&lt;List&lt;AdminGroupDTO&gt;&gt; responseEntity = new ResponseEntity&lt;&gt;(adminGroupDTOList, HttpStatus.OK);\n    when(restTemplate.exchange(\n        ArgumentMatchers.anyString(),\n        ArgumentMatchers.any(HttpMethod.class),\n        ArgumentMatchers.any(),\n        ArgumentMatchers.&lt;Class&lt;List&lt;AdminGroupDTO&gt;&gt;&gt;any()))\n        .thenReturn(responseEntity);\n\n    assertDoesNotThrow(dynamoDBService::getAllAdminGroups);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","exception","functional-programming","serversocket","functional-interface"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":1,"creation_date":1653995904,"post_id":72446809,"comment_id":127981650,"body_markdown":"Wrap it in an `UncheckedIOException` in `handleReceivedMessage` and remove the `throws IOException`?","body":"Wrap it in an <code>UncheckedIOException</code> in <code>handleReceivedMessage</code> and remove the <code>throws IOException</code>?"},{"owner":{"account_id":23692349,"reputation":11,"user_id":17716553,"display_name":"Bilal Laaroussi"},"score":0,"creation_date":1653996180,"post_id":72446809,"comment_id":127981768,"body_markdown":"What do you exactly mean with wrapping a function with an exception? (I&#39;m pretty new to Java)","body":"What do you exactly mean with wrapping a function with an exception? (I&#39;m pretty new to Java)"},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1653998419,"post_id":72446809,"comment_id":127982644,"body_markdown":"Can you provide info about the Server class, at least about its constructor?","body":"Can you provide info about the Server class, at least about its constructor?"}],"answers":[{"tags":[],"owner":{"account_id":20317457,"reputation":21,"user_id":14903008,"display_name":"Lara Landis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654073307,"creation_date":1653996206,"answer_id":72446913,"question_id":72446809,"body_markdown":"Without knowing more, I&#39;d try using a try/catch statement specifically to catch the exception being thrown as Olivier is suggesting. If may I ask, why aren&#39;t you using try/catch for error checking? \r\n","title":"Java handling exceptions functional programming","body":"<p>Without knowing more, I'd try using a try/catch statement specifically to catch the exception being thrown as Olivier is suggesting. If may I ask, why aren't you using try/catch for error checking?</p>\n"}],"owner":{"account_id":23692349,"reputation":11,"user_id":17716553,"display_name":"Bilal Laaroussi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654012645,"answer_count":1,"score":1,"last_activity_date":1654073307,"creation_date":1653995787,"question_id":72446809,"body_markdown":"I have this piece of code:\r\n\r\n\r\n    private void handleReceivedMessage(String m) throws IOException {\r\n        switch(m) {\r\n            case &quot;ping&quot;:\r\n                // code block\r\n                ping();\r\n                break;\r\n            default:\r\n                System.out.println(&quot;message not understood&quot;);\r\n        }\r\n\r\n    }\r\n    public DataServer(int port) throws IOException {\r\n            server = new Server(port, this::handleReceivedMessage);\r\n            server.acceptClient();\r\n    }\r\n\r\n\r\nnow I get the error at the line this::handleReceivedMessage: \r\nUnhandled exception: java.io.IOException\r\n\r\nHow do I solve this? It&#39;s clear that the handleReceivedMessage functions does throw an IOException","title":"Java handling exceptions functional programming","body":"<p>I have this piece of code:</p>\n<pre><code>private void handleReceivedMessage(String m) throws IOException {\n    switch(m) {\n        case &quot;ping&quot;:\n            // code block\n            ping();\n            break;\n        default:\n            System.out.println(&quot;message not understood&quot;);\n    }\n\n}\npublic DataServer(int port) throws IOException {\n        server = new Server(port, this::handleReceivedMessage);\n        server.acceptClient();\n}\n</code></pre>\n<p>now I get the error at the line this::handleReceivedMessage:\nUnhandled exception: java.io.IOException</p>\n<p>How do I solve this? It's clear that the handleReceivedMessage functions does throw an IOException</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1653899947,"post_id":72430389,"comment_id":127955447,"body_markdown":"If you want to selext all attributes named `Country` then I would expect `//@Country`, for all attributes named `Status` I would expect `//Status`, and you can of course form the union `//@Country | //@Status`. You haven&#39;t shown the input sample structure and sample data and your text and code are presenting different expressions (`//[@Country] | //[@Status]` versus `//*[@Country] | //*[@Status]`).","body":"If you want to selext all attributes named <code>Country</code> then I would expect <code>&#47;&#47;@Country</code>, for all attributes named <code>Status</code> I would expect <code>&#47;&#47;Status</code>, and you can of course form the union <code>&#47;&#47;@Country | &#47;&#47;@Status</code>. You haven&#39;t shown the input sample structure and sample data and your text and code are presenting different expressions (<code>&#47;&#47;[@Country] | &#47;&#47;[@Status]</code> versus <code>&#47;&#47;*[@Country] | &#47;&#47;*[@Status]</code>)."},{"owner":{"account_id":23324598,"reputation":1,"user_id":17401964,"display_name":"JuliaN"},"score":0,"creation_date":1653903001,"post_id":72430389,"comment_id":127956544,"body_markdown":"@MartinHonnen thank you for your comment. I have updated my question: added xml and the note that the code with * is correct while * is not displayed correctly in the text for some reason, I have * in all my queries before *[@Country] and *[@Status]","body":"@MartinHonnen thank you for your comment. I have updated my question: added xml and the note that the code with * is correct while * is not displayed correctly in the text for some reason, I have * in all my queries before *[@Country] and *[@Status]"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1653903967,"post_id":72430389,"comment_id":127956929,"body_markdown":"If you want the elements you can of course use e.g. `//*[@Country | @Status]` but given the input sample those attributes are present on different elements so your code iterating the elements returned from XPath but trying to read both attributes for the same elements might fall over with an exception. So it is still not clear which result data you want.","body":"If you want the elements you can of course use e.g. <code>&#47;&#47;*[@Country | @Status]</code> but given the input sample those attributes are present on different elements so your code iterating the elements returned from XPath but trying to read both attributes for the same elements might fall over with an exception. So it is still not clear which result data you want."},{"owner":{"account_id":23324598,"reputation":1,"user_id":17401964,"display_name":"JuliaN"},"score":0,"creation_date":1653904654,"post_id":72430389,"comment_id":127957179,"body_markdown":"@MartinHonnen, thank you, you are right, this is exactly what happens. My code sees only attributes similar to Country but not for Status. Finally, I need to create a table with 3 columns (all countries possible, all statuses possible in that countries, #companies in that countries with that status). For that I decided to extract all countries and statuses with one request and to calculate the 3rd column after that.","body":"@MartinHonnen, thank you, you are right, this is exactly what happens. My code sees only attributes similar to Country but not for Status. Finally, I need to create a table with 3 columns (all countries possible, all statuses possible in that countries, #companies in that countries with that status). For that I decided to extract all countries and statuses with one request and to calculate the 3rd column after that."}],"owner":{"account_id":23324598,"reputation":1,"user_id":17401964,"display_name":"JuliaN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654073157,"creation_date":1653894616,"question_id":72430389,"body_markdown":"I need to join two XPath queries that refer to different nodes to get all possible combinations of countries and their statuses from the xml. \r\n\r\nIs there any method to extract several attributes from different elements not separately?\r\n\r\nWhat have I tried?\r\n\r\nA note: I have * before [@Country] and [@Status] in all my queries so the code below with * works. For some reason * is not displayed correctly within the text below.\r\n\r\n1. Just for a check I separated the code below to two different XPath &quot;//*[@Country]&quot; and &quot;//[@Status]&quot; and duplicating code =&gt; the correct data is exported for each query so I can get two lists of data for countries (7000 entries) and statuses (7000 entries) however I need to extract this data using one request.\r\n2. Changing &quot;//*[@Country] | //*[@Status]&quot;) to (&quot;//*[@Country] and //*[@Status]&quot;) does not work -&gt; XPathExpressionException appears: Can not convert #BOOLEAN to a NodeList!\r\n\r\nIf try using the code below, countryStatusNodes.getLength() has 14000 while it should have had 7000 entries.\r\n\r\nSo it seems that the mistake is still in (&quot;//[@Country] | //[@Status]&quot;.\r\n\r\n            XPathExpression countryStatusExpr = XPathFactory.newInstance().newXPath().compile(&quot;//*[@Country] | //*[@Status]&quot;);\r\n            Object countryStatusResult = countryStatusExpr.evaluate(document, XPathConstants.NODESET);\r\n            NodeList countryStatusNodes = (NodeList) countryStatusResult;\r\n            for (int i = 0; i &lt; countryStatusNodes.getLength(); i++) {\r\n                NamedNodeMap attr = countryStatusNodes.item(i).getAttributes();\r\n                Node country = attr.getNamedItem(&quot;Country&quot;);\r\n                Node status = attr.getNamedItem(&quot;Status&quot;);\r\n                nodes.add(country.getNodeValue() + &quot;,&quot; + status.getNodeValue());\r\n            }\r\n\r\nxml:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;Document&gt;\r\n      &lt;Info&gt;\r\n        &lt;Name FullName=&quot;..&quot; ShortName=&quot;...&quot; /&gt;\r\n      &lt;/Info&gt;\r\n      &lt;Location&gt;\r\n        &lt;Adress Code=&quot;..&quot; Country=&quot;..&quot; FullAdress=&quot;...&quot; IncorporationDate=&quot;...&quot; /&gt;\r\n      &lt;/Location&gt;\r\n      &lt;Registration&gt;\r\n        &lt;License Status=&quot;..&quot; LicenseDate=&quot;..&quot; /&gt;\r\n      &lt;/Registration&gt;\r\n    &lt;/Document&gt;\r\n\r\n&lt;!-- end snippet --&gt;","title":"How to parse XML and extract 2 different attributes from different elements with one request?","body":"<p>I need to join two XPath queries that refer to different nodes to get all possible combinations of countries and their statuses from the xml.</p>\n<p>Is there any method to extract several attributes from different elements not separately?</p>\n<p>What have I tried?</p>\n<p>A note: I have * before [@Country] and [@Status] in all my queries so the code below with * works. For some reason * is not displayed correctly within the text below.</p>\n<ol>\n<li>Just for a check I separated the code below to two different XPath &quot;//*[@Country]&quot; and &quot;//[@Status]&quot; and duplicating code =&gt; the correct data is exported for each query so I can get two lists of data for countries (7000 entries) and statuses (7000 entries) however I need to extract this data using one request.</li>\n<li>Changing &quot;//<em>[@Country] | //</em>[@Status]&quot;) to (&quot;//<em>[@Country] and //</em>[@Status]&quot;) does not work -&gt; XPathExpressionException appears: Can not convert #BOOLEAN to a NodeList!</li>\n</ol>\n<p>If try using the code below, countryStatusNodes.getLength() has 14000 while it should have had 7000 entries.</p>\n<p>So it seems that the mistake is still in (&quot;//[@Country] | //[@Status]&quot;.</p>\n<pre><code>        XPathExpression countryStatusExpr = XPathFactory.newInstance().newXPath().compile(&quot;//*[@Country] | //*[@Status]&quot;);\n        Object countryStatusResult = countryStatusExpr.evaluate(document, XPathConstants.NODESET);\n        NodeList countryStatusNodes = (NodeList) countryStatusResult;\n        for (int i = 0; i &lt; countryStatusNodes.getLength(); i++) {\n            NamedNodeMap attr = countryStatusNodes.item(i).getAttributes();\n            Node country = attr.getNamedItem(&quot;Country&quot;);\n            Node status = attr.getNamedItem(&quot;Status&quot;);\n            nodes.add(country.getNodeValue() + &quot;,&quot; + status.getNodeValue());\n        }\n</code></pre>\n<p>xml:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;Document&gt;\n  &lt;Info&gt;\n    &lt;Name FullName=\"..\" ShortName=\"...\" /&gt;\n  &lt;/Info&gt;\n  &lt;Location&gt;\n    &lt;Adress Code=\"..\" Country=\"..\" FullAdress=\"...\" IncorporationDate=\"...\" /&gt;\n  &lt;/Location&gt;\n  &lt;Registration&gt;\n    &lt;License Status=\"..\" LicenseDate=\"..\" /&gt;\n  &lt;/Registration&gt;\n&lt;/Document&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","multithreading","xslt","pdf-generation","apache-fop"],"answers":[{"tags":[],"owner":{"account_id":88675,"reputation":1,"user_id":5578615,"display_name":"Domingos Loureiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654073070,"creation_date":1654073070,"answer_id":72458844,"question_id":67079434,"body_markdown":"no, It&#39;s not thread-safe\r\n\r\nhttps://issues.apache.org/jira/browse/FOP-2970\r\n\r\nin version 2.7 the problem is still there.\r\n\r\nI have also tested with spring-boot + spring-batch and the problem persists","title":"Is Apache FOP thread-safe for different documents","body":"<p>no, It's not thread-safe</p>\n<p><a href=\"https://issues.apache.org/jira/browse/FOP-2970\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FOP-2970</a></p>\n<p>in version 2.7 the problem is still there.</p>\n<p>I have also tested with spring-boot + spring-batch and the problem persists</p>\n"}],"owner":{"account_id":21241181,"reputation":21,"user_id":15624622,"display_name":"mpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654073070,"creation_date":1618333859,"question_id":67079434,"body_markdown":"I am deveveloping a Spring Boot - application which should convert XML to PDF by using XSLT.\r\nI would like to use Apache FOP, but it states in its own documentation (https://xmlgraphics.apache.org/fop/2.6/embedding.html)\r\n\r\n&gt; Apache FOP may currently not be completely thread safe. The code has not been fully tested for multi-threading issues, yet. \r\n\r\n Unfortunately the docs don&#39;t tell what exactly is not tested yet. Is it possible to convert several independent XMLs into several independent PDFs in paralell (with multiple CPU cores)?\r\n\r\n    private URI convertToPDF(byte[] body, byte[] xsl, String pdfFileName) throws Exception {\r\n        File pdfFile = new File(saveDirectory, pdfFileName);\r\n        FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\r\n        // Setup output\r\n        try(BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(pdfFile));) {\r\n            // Construct fop with desired output format\r\n            Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, out);\r\n\r\n            // Setup XSLT\r\n            TransformerFactory factory = TransformerFactory.newInstance();\r\n            Transformer transformer = factory.newTransformer(new StreamSource(new ByteArrayInputStream(xsl)));\r\n\r\n            // Setup input for XSLT transformation\r\n            Source src = new StreamSource(new ByteArrayInputStream(body));\r\n\r\n            // Resulting SAX events (the generated FO) must be piped through to FOP\r\n            Result res = new SAXResult(fop.getDefaultHandler());\r\n\r\n            // Start XSLT transformation and FOP processing\r\n            transformer.transform(src, res);\r\n            \r\n            return pdfFile.toURI();\r\n        }\r\n    }\r\n\r\n        Configuration\r\n        public class ConverterConfig {\r\n            @Bean\r\n            public FopFactory fopFactory() {\r\n              return FopFactory.newInstance(new File(&quot;.&quot;).toURI());\r\n            }\r\n        }","title":"Is Apache FOP thread-safe for different documents","body":"<p>I am deveveloping a Spring Boot - application which should convert XML to PDF by using XSLT.\nI would like to use Apache FOP, but it states in its own documentation (<a href=\"https://xmlgraphics.apache.org/fop/2.6/embedding.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.6/embedding.html</a>)</p>\n<blockquote>\n<p>Apache FOP may currently not be completely thread safe. The code has not been fully tested for multi-threading issues, yet.</p>\n</blockquote>\n<p>Unfortunately the docs don't tell what exactly is not tested yet. Is it possible to convert several independent XMLs into several independent PDFs in paralell (with multiple CPU cores)?</p>\n<pre><code>private URI convertToPDF(byte[] body, byte[] xsl, String pdfFileName) throws Exception {\n    File pdfFile = new File(saveDirectory, pdfFileName);\n    FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\n    // Setup output\n    try(BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(pdfFile));) {\n        // Construct fop with desired output format\n        Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, out);\n\n        // Setup XSLT\n        TransformerFactory factory = TransformerFactory.newInstance();\n        Transformer transformer = factory.newTransformer(new StreamSource(new ByteArrayInputStream(xsl)));\n\n        // Setup input for XSLT transformation\n        Source src = new StreamSource(new ByteArrayInputStream(body));\n\n        // Resulting SAX events (the generated FO) must be piped through to FOP\n        Result res = new SAXResult(fop.getDefaultHandler());\n\n        // Start XSLT transformation and FOP processing\n        transformer.transform(src, res);\n        \n        return pdfFile.toURI();\n    }\n}\n\n    Configuration\n    public class ConverterConfig {\n        @Bean\n        public FopFactory fopFactory() {\n          return FopFactory.newInstance(new File(&quot;.&quot;).toURI());\n        }\n    }\n</code></pre>\n"},{"tags":["java","bots","telegram"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1641389599,"post_id":70593707,"comment_id":124791616,"body_markdown":"don&#39;t use int, use long instead","body":"don&#39;t use int, use long instead"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641389763,"post_id":70593707,"comment_id":124791683,"body_markdown":"@Stultuske I suspect that the `int` is defined in a class in the library, so changing it is a mess.","body":"@Stultuske I suspect that the <code>int</code> is defined in a class in the library, so changing it is a mess."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641389969,"post_id":70593707,"comment_id":124791768,"body_markdown":"3.6.1 seems to be from 2018, so you might want to update anyways. Your current code is trying to convert a number to an `int`, which is probably defined in some jackson-annotated class in the telegrambots library. As Stultuske mentioned, this needs to be changed to a long, which might be out of your control.","body":"3.6.1 seems to be from 2018, so you might want to update anyways. Your current code is trying to convert a number to an <code>int</code>, which is probably defined in some jackson-annotated class in the telegrambots library. As Stultuske mentioned, this needs to be changed to a long, which might be out of your control."},{"owner":{"account_id":23835264,"reputation":3,"user_id":17841070,"display_name":"Fabio "},"score":0,"creation_date":1641390473,"post_id":70593707,"comment_id":124792003,"body_markdown":"Yes, unfortunately that&#39;s out of my control. I Think that variable is defined on BeanDeserializer.java,but I don&#39;t have access to that file. So I would like to update my 3.6.1 version, but if I do it, many import stop to work and I dont understand how to solve it.","body":"Yes, unfortunately that&#39;s out of my control. I Think that variable is defined on BeanDeserializer.java,but I don&#39;t have access to that file. So I would like to update my 3.6.1 version, but if I do it, many import stop to work and I dont understand how to solve it."}],"answers":[{"tags":[],"owner":{"account_id":16012120,"reputation":91,"user_id":11555915,"display_name":"Samreach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654073057,"creation_date":1654073057,"answer_id":72458842,"question_id":70593707,"body_markdown":"I also faced that issued. But I&#39;m not sure you&#39;re using rubenlagus telegram bot library or not. If you use may it&#39;s old version of telegram bot. Just update to latest telegram bot.\r\n[https://github.com/rubenlagus/TelegramBots/issues/1017#issuecomment-1143168283][1]\r\n\r\nThere are some change on version from lower version. Read more on [https://github.com/rubenlagus/TelegramBots/wiki/How-To-Update][2]\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots/issues/1017#issuecomment-1143168283\r\n  [2]: https://github.com/rubenlagus/TelegramBots/wiki/How-To-Update","title":"Java Telegram Bot: Numeric value out of range of int","body":"<p>I also faced that issued. But I'm not sure you're using rubenlagus telegram bot library or not. If you use may it's old version of telegram bot. Just update to latest telegram bot.\n<a href=\"https://github.com/rubenlagus/TelegramBots/issues/1017#issuecomment-1143168283\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots/issues/1017#issuecomment-1143168283</a></p>\n<p>There are some change on version from lower version. Read more on <a href=\"https://github.com/rubenlagus/TelegramBots/wiki/How-To-Update\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots/wiki/How-To-Update</a></p>\n"}],"owner":{"account_id":23835264,"reputation":3,"user_id":17841070,"display_name":"Fabio "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72458842,"answer_count":1,"score":0,"last_activity_date":1654073057,"creation_date":1641389424,"question_id":70593707,"body_markdown":"A few years ago, I created two bots, using telegrambots-3.6.1-jar-with-dependencies.\r\n\r\nMy bots extend the class `TelegramLongPollingBot`.\r\n\r\nBoth of them, now, suffer the very same problem.\r\nEvery time that a user with user_ID&gt;2147483647 joins the group, the bots stop working for several days, reporting continuously the following error:\r\n\r\n\r\n```\r\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Numeric value (5042963863) out of range of int\r\n at [Source: {&quot;ok&quot;:true,&quot;result&quot;:[{&quot;update_id&quot;:412942830,\r\n&quot;message&quot;:{&quot;message_id&quot;:306587,&quot;from&quot;:{&quot;id&quot;:5042963863,&quot;is_bot&quot;\r\n```\r\n\r\nI&#39;ve tried to use a newer version of libraries (telegrambots-5.1.1-jar-with-dependencies), but in this case, I get many compilation errors, because of missing types (many `import`s don&#39;t work anymore).\r\n\r\nI&#39;ve also tried to use Webhook, but I can&#39;t find a complete example that explains how to use the Webhook variable after having set it.\r\nThis wouldn&#39;t solve the &#39;out of range error&#39;, but at least the bot would still remain active (while now with PollingBot, the bot remains in error-state for many days: even after having shut it down and turned it on again, the bot doesn&#39;t work).\r\n\r\n\r\n\r\n","title":"Java Telegram Bot: Numeric value out of range of int","body":"<p>A few years ago, I created two bots, using telegrambots-3.6.1-jar-with-dependencies.</p>\n<p>My bots extend the class <code>TelegramLongPollingBot</code>.</p>\n<p>Both of them, now, suffer the very same problem.\nEvery time that a user with user_ID&gt;2147483647 joins the group, the bots stop working for several days, reporting continuously the following error:</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.JsonMappingException: Numeric value (5042963863) out of range of int\n at [Source: {&quot;ok&quot;:true,&quot;result&quot;:[{&quot;update_id&quot;:412942830,\n&quot;message&quot;:{&quot;message_id&quot;:306587,&quot;from&quot;:{&quot;id&quot;:5042963863,&quot;is_bot&quot;\n</code></pre>\n<p>I've tried to use a newer version of libraries (telegrambots-5.1.1-jar-with-dependencies), but in this case, I get many compilation errors, because of missing types (many <code>import</code>s don't work anymore).</p>\n<p>I've also tried to use Webhook, but I can't find a complete example that explains how to use the Webhook variable after having set it.\nThis wouldn't solve the 'out of range error', but at least the bot would still remain active (while now with PollingBot, the bot remains in error-state for many days: even after having shut it down and turned it on again, the bot doesn't work).</p>\n"},{"tags":["java","json","curl"],"answers":[{"tags":[],"owner":{"account_id":14815450,"reputation":81,"user_id":15110659,"display_name":"mdre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654071974,"creation_date":1654071974,"answer_id":72458595,"question_id":72458527,"body_markdown":"A basic search reveals: https://www.baeldung.com/httpurlconnection-post#8-read-the-response-from-input-stream\r\n\r\n```\r\ntry(BufferedReader br = new BufferedReader(\r\n  new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\r\n    StringBuilder response = new StringBuilder();\r\n    String responseLine = null;\r\n    while ((responseLine = br.readLine()) != null) {\r\n        response.append(responseLine.trim());\r\n    }\r\n    System.out.println(response.toString());\r\n}\r\n```\r\n\r\n\r\nIf the response is in JSON format, use any third-party JSON parsers such as Jackson library, Gson, or org.json to parse the response.","title":"Get Json / Resonse body from Curl Post Request in Java","body":"<p>A basic search reveals: <a href=\"https://www.baeldung.com/httpurlconnection-post#8-read-the-response-from-input-stream\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpurlconnection-post#8-read-the-response-from-input-stream</a></p>\n<pre><code>try(BufferedReader br = new BufferedReader(\n  new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\n    StringBuilder response = new StringBuilder();\n    String responseLine = null;\n    while ((responseLine = br.readLine()) != null) {\n        response.append(responseLine.trim());\n    }\n    System.out.println(response.toString());\n}\n</code></pre>\n<p>If the response is in JSON format, use any third-party JSON parsers such as Jackson library, Gson, or org.json to parse the response.</p>\n"},{"tags":[],"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654072874,"creation_date":1654072874,"answer_id":72458805,"question_id":72458527,"body_markdown":"You can get `errorStream` or `inputStream` based on the `response code` you receive and get the response from it. Below example creates a `BufferedReader` from the stream\r\n\r\n    BufferedReader br = null;\r\n    if (100 &lt;= httpURLConnection.getResponseCode() &amp;&amp; httpURLConnection.getResponseCode() &lt;= 399) {\r\n        br = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));\r\n    } else {\r\n        br = new BufferedReader(new InputStreamReader(httpURLConnection.getErrorStream()));\r\n    }\r\n\r\nYou can then read from the `br` and store data based on your requirement. Below will store data into `StringBuilder`\r\n\r\n    StringBuilder data = new StringBuilder();\r\n        String dataLine = null;\r\n        while ((dataLine = br.readLine()) != null) {\r\n            data.append(dataLine.trim());\r\n        }\r\n        System.out.println(data.toString());\r\n\r\n\r\nInstead of printing as `String`  you can also convert it into `JSON` by using `JSON` libraries. You may follow [this guide][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-bufferedreader-to-jsonobject","title":"Get Json / Resonse body from Curl Post Request in Java","body":"<p>You can get <code>errorStream</code> or <code>inputStream</code> based on the <code>response code</code> you receive and get the response from it. Below example creates a <code>BufferedReader</code> from the stream</p>\n<pre><code>BufferedReader br = null;\nif (100 &lt;= httpURLConnection.getResponseCode() &amp;&amp; httpURLConnection.getResponseCode() &lt;= 399) {\n    br = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));\n} else {\n    br = new BufferedReader(new InputStreamReader(httpURLConnection.getErrorStream()));\n}\n</code></pre>\n<p>You can then read from the <code>br</code> and store data based on your requirement. Below will store data into <code>StringBuilder</code></p>\n<pre><code>StringBuilder data = new StringBuilder();\n    String dataLine = null;\n    while ((dataLine = br.readLine()) != null) {\n        data.append(dataLine.trim());\n    }\n    System.out.println(data.toString());\n</code></pre>\n<p>Instead of printing as <code>String</code>  you can also convert it into <code>JSON</code> by using <code>JSON</code> libraries. You may follow <a href=\"https://www.baeldung.com/java-bufferedreader-to-jsonobject\" rel=\"nofollow noreferrer\">this guide</a></p>\n"},{"tags":[],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654073018,"creation_date":1654073018,"answer_id":72458832,"question_id":72458527,"body_markdown":"In addition to the answer by @mdre\r\n\r\nI use the [org.json][1] library to convert responses into JSON Objects. The following method does exactly this:\r\n```java\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\n\tpublic static JSONObject convertResponseToJSONObject(String responseString) {\r\n\t\ttry {\r\n\t\t\tJSONObject jsonObj = new JSONObject(responseString);\r\n\t\t\treturn jsonObj;\r\n\t\t} catch (JSONException e) {\r\n\t\t\tSystem.err.println(\r\n\t\t\t\t&quot;It is not possible to create a JSONObject from the input string, returning null. Exception:&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\nNote that the response only represents a JSON object if it starts with a `{`. If it starts with a `[` the response represents a JSON array.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.json/json","title":"Get Json / Resonse body from Curl Post Request in Java","body":"<p>In addition to the answer by @mdre</p>\n<p>I use the <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">org.json</a> library to convert responses into JSON Objects. The following method does exactly this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONException;\nimport org.json.JSONObject;\n\n    public static JSONObject convertResponseToJSONObject(String responseString) {\n        try {\n            JSONObject jsonObj = new JSONObject(responseString);\n            return jsonObj;\n        } catch (JSONException e) {\n            System.err.println(\n                &quot;It is not possible to create a JSONObject from the input string, returning null. Exception:&quot;);\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>Note that the response only represents a JSON object if it starts with a <code>{</code>. If it starts with a <code>[</code> the response represents a JSON array.</p>\n"}],"owner":{"account_id":17484901,"reputation":90,"user_id":12678146,"display_name":"Aman Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72458595,"answer_count":3,"score":0,"last_activity_date":1654073018,"creation_date":1654071616,"question_id":72458527,"body_markdown":"This is the method I have written which sends a POST request to send an Email. \r\nI am able to send the email and get the Response Code 200 Ok. \r\nBut I don&#39;t know how to get the JSON Response and convert it into an Object. \r\nCan someone please tell me how to do this? \r\n\r\n```\r\npublic void sendEmail() {\r\n        try {\r\n            URL url = new URL(&quot;https://mandrillapp.com/api/1.0/messages/send&quot;);\r\n\r\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n            httpURLConnection.setRequestMethod(&quot;POST&quot;);\r\n            httpURLConnection.setDoOutput(true);\r\n            httpURLConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n            String data =\r\n                    &quot;{\\&quot;key\\&quot;: \\&quot;&quot; + mailchimpApiKey + &quot;\\&quot;, &quot; +\r\n                            &quot;\\&quot;message\\&quot;: {&quot; +\r\n                            &quot;\\&quot;from_email\\&quot;: \\&quot;from@gmail.com\\&quot;, &quot; +\r\n                            &quot;\\&quot;subject\\&quot;: \\&quot;Hello World\\&quot;, &quot; +\r\n                            &quot;\\&quot;text\\&quot;: \\&quot;Welcome to Mailchimp Transactional!\\&quot;, &quot; +\r\n                            &quot;\\&quot;to\\&quot;: [{ \\&quot;email\\&quot;: \\&quot;to@gmail.com\\&quot;, \\&quot;type\\&quot;: \\&quot;to\\&quot; }]}}&quot;;\r\n\r\n            byte[] out = data.getBytes(StandardCharsets.UTF_8);\r\n\r\n            OutputStream stream = httpURLConnection.getOutputStream();\r\n            stream.write(out);\r\n\r\n            System.out.println(httpURLConnection.getResponseCode() + &quot; &quot; + httpURLConnection.getResponseMessage());\r\n\r\n            httpURLConnection.disconnect();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```","title":"Get Json / Resonse body from Curl Post Request in Java","body":"<p>This is the method I have written which sends a POST request to send an Email.\nI am able to send the email and get the Response Code 200 Ok.\nBut I don't know how to get the JSON Response and convert it into an Object.\nCan someone please tell me how to do this?</p>\n<pre><code>public void sendEmail() {\n        try {\n            URL url = new URL(&quot;https://mandrillapp.com/api/1.0/messages/send&quot;);\n\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n            httpURLConnection.setRequestMethod(&quot;POST&quot;);\n            httpURLConnection.setDoOutput(true);\n            httpURLConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n            String data =\n                    &quot;{\\&quot;key\\&quot;: \\&quot;&quot; + mailchimpApiKey + &quot;\\&quot;, &quot; +\n                            &quot;\\&quot;message\\&quot;: {&quot; +\n                            &quot;\\&quot;from_email\\&quot;: \\&quot;from@gmail.com\\&quot;, &quot; +\n                            &quot;\\&quot;subject\\&quot;: \\&quot;Hello World\\&quot;, &quot; +\n                            &quot;\\&quot;text\\&quot;: \\&quot;Welcome to Mailchimp Transactional!\\&quot;, &quot; +\n                            &quot;\\&quot;to\\&quot;: [{ \\&quot;email\\&quot;: \\&quot;to@gmail.com\\&quot;, \\&quot;type\\&quot;: \\&quot;to\\&quot; }]}}&quot;;\n\n            byte[] out = data.getBytes(StandardCharsets.UTF_8);\n\n            OutputStream stream = httpURLConnection.getOutputStream();\n            stream.write(out);\n\n            System.out.println(httpURLConnection.getResponseCode() + &quot; &quot; + httpURLConnection.getResponseMessage());\n\n            httpURLConnection.disconnect();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654068550,"post_id":72453800,"comment_id":128001036,"body_markdown":"Aren&#39;t you entering into an infinite loop?","body":"Aren&#39;t you entering into an infinite loop?"}],"answers":[{"tags":[],"owner":{"account_id":24027122,"reputation":1,"user_id":18008605,"display_name":"Aaditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654072809,"creation_date":1654059075,"answer_id":72456567,"question_id":72453800,"body_markdown":"As firebase overwrites the previous data you have entered. \r\n\r\nYou can use a `.push()` function like this before your `setValue`.\r\n \r\n\r\n    DatabaseReference database = FirebaseDatabase.getInstance().getReference(&quot;EmployeeInfo&quot;);\r\n\r\nThen,\r\n\r\n    database.push().setValue(employeeObject);\r\n\r\nThe `.push()` method creates a child with a unique key in your database.\r\n\r\nTry checking firebase docs for more info\r\n[Save Data on Firebase][3]\r\n, [Read and Write on firebase][1]\r\n\r\nThe key is like this [Firebase RTDB][2]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/android/read-and-write?utm_source=studio\r\n  [2]: https://i.stack.imgur.com/QJH4G.png\r\n  [3]: https://firebase.google.com/docs/database/admin/save-data#getting-the-unique-key-generated-by-push\r\n","title":"Android firebase real-time database only shows last submit","body":"<p>As firebase overwrites the previous data you have entered.</p>\n<p>You can use a <code>.push()</code> function like this before your <code>setValue</code>.</p>\n<pre><code>DatabaseReference database = FirebaseDatabase.getInstance().getReference(&quot;EmployeeInfo&quot;);\n</code></pre>\n<p>Then,</p>\n<pre><code>database.push().setValue(employeeObject);\n</code></pre>\n<p>The <code>.push()</code> method creates a child with a unique key in your database.</p>\n<p>Try checking firebase docs for more info\n<a href=\"https://firebase.google.com/docs/database/admin/save-data#getting-the-unique-key-generated-by-push\" rel=\"nofollow noreferrer\">Save Data on Firebase</a>\n, <a href=\"https://firebase.google.com/docs/database/android/read-and-write?utm_source=studio\" rel=\"nofollow noreferrer\">Read and Write on firebase</a></p>\n<p>The key is like this <a href=\"https://i.stack.imgur.com/QJH4G.png\" rel=\"nofollow noreferrer\">Firebase RTDB</a></p>\n"}],"owner":{"account_id":23574819,"reputation":21,"user_id":17614603,"display_name":"Jakub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654072809,"creation_date":1654028995,"question_id":72453800,"body_markdown":"I&#39;ve been following a tutorial on how to save data to the Firebase Realtime Database in Android.\r\n\r\nWith the tutorial i have managed to get this data to save etc however it only shows the last submitted item.\r\n\r\nMainActivity code:\r\n\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        // creating variables for\r\n        // EditText and buttons.\r\n        private EditText employeeNameEdt, employeePhoneEdt, employeeAddressEdt;\r\n        private Button sendDatabtn;\r\n    \r\n        // creating a variable for our\r\n        // Firebase Database.\r\n        FirebaseDatabase firebaseDatabase;\r\n    \r\n        // creating a variable for our Database\r\n        // Reference for Firebase.\r\n        DatabaseReference databaseReference;\r\n    \r\n        // creating a variable for\r\n        // our object class\r\n        EmployeeInfo employeeInfo;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // initializing our edittext and button\r\n            employeeNameEdt = findViewById(R.id.idEdtEmployeeName);\r\n            employeePhoneEdt = findViewById(R.id.idEdtEmployeePhoneNumber);\r\n            employeeAddressEdt = findViewById(R.id.idEdtEmployeeAddress);\r\n    \r\n            // below line is used to get the\r\n            // instance of our FIrebase database.\r\n            firebaseDatabase = FirebaseDatabase.getInstance();\r\n    \r\n            // below line is used to get reference for our database.\r\n            databaseReference = firebaseDatabase.getReference(&quot;EmployeeInfo&quot;);\r\n    \r\n            // initializing our object\r\n            // class variable.\r\n            employeeInfo = new EmployeeInfo();\r\n    \r\n            sendDatabtn = findViewById(R.id.idBtnSendData);\r\n    \r\n            // adding on click listener for our button.\r\n            sendDatabtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    // getting text from our edittext fields.\r\n                    String name = employeeNameEdt.getText().toString();\r\n                    String phone = employeePhoneEdt.getText().toString();\r\n                    String address = employeeAddressEdt.getText().toString();\r\n    \r\n                    // below line is for checking weather the\r\n                    // edittext fields are empty or not.\r\n                    if (TextUtils.isEmpty(name) &amp;&amp; TextUtils.isEmpty(phone) &amp;&amp; TextUtils.isEmpty(address)) {\r\n                        // if the text fields are empty\r\n                        // then show the below message.\r\n                        Toast.makeText(MainActivity.this, &quot;Please add some data.&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        // else call the method to add\r\n                        // data to our database.\r\n                        addDatatoFirebase(name, phone, address);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void addDatatoFirebase(String name, String phone, String address) {\r\n            // below 3 lines of code is used to set\r\n            // data in our object class.\r\n            employeeInfo.setEmployeeName(name);\r\n            employeeInfo.setEmployeeContactNumber(phone);\r\n            employeeInfo.setEmployeeAddress(address);\r\n    \r\n            // we are use add value event listener method\r\n            // which is called with database reference.\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    // inside the method of on Data change we are setting\r\n                    // our object class to our database reference.\r\n                    // data base reference will sends data to firebase.\r\n                    databaseReference.setValue(employeeInfo);\r\n    \r\n                    // after adding this data we are showing toast message.\r\n                    Toast.makeText(MainActivity.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    // if the data is not added or it is cancelled then\r\n                    // we are displaying a failure toast message.\r\n                    Toast.makeText(MainActivity.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nEmployeeInfo code:\r\n\r\n    public class EmployeeInfo {\r\n    \r\n        // string variable for\r\n        // storing employee name.\r\n        private String employeeName;\r\n    \r\n        // string variable for storing\r\n        // employee contact number\r\n        private String employeeContactNumber;\r\n    \r\n        // string variable for storing\r\n        // employee address.\r\n        private String employeeAddress;\r\n    \r\n        // an empty constructor is\r\n        // required when using\r\n        // Firebase Realtime Database.\r\n        public EmployeeInfo() {\r\n    \r\n        }\r\n    \r\n        // created getter and setter methods\r\n        // for all our variables.\r\n        public String getEmployeeName() {\r\n            return employeeName;\r\n        }\r\n    \r\n        public void setEmployeeName(String employeeName) {\r\n            this.employeeName = employeeName;\r\n        }\r\n    \r\n        public String getEmployeeContactNumber() {\r\n            return employeeContactNumber;\r\n        }\r\n    \r\n        public void setEmployeeContactNumber(String employeeContactNumber) {\r\n            this.employeeContactNumber = employeeContactNumber;\r\n        }\r\n    \r\n        public String getEmployeeAddress() {\r\n            return employeeAddress;\r\n        }\r\n    \r\n        public void setEmployeeAddress(String employeeAddress) {\r\n            this.employeeAddress = employeeAddress;\r\n        }\r\n    }\r\n\r\nHas anyone ever encountered this in Firebase. I have been looking for other tutorials which had ended up exactly like this so I&#39;m not sure whether it is something in the code that is wrong or with my Firebase database.\r\n\r\n\r\n","title":"Android firebase real-time database only shows last submit","body":"<p>I've been following a tutorial on how to save data to the Firebase Realtime Database in Android.</p>\n<p>With the tutorial i have managed to get this data to save etc however it only shows the last submitted item.</p>\n<p>MainActivity code:</p>\n<pre><code>import android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class MainActivity extends AppCompatActivity {\n\n    // creating variables for\n    // EditText and buttons.\n    private EditText employeeNameEdt, employeePhoneEdt, employeeAddressEdt;\n    private Button sendDatabtn;\n\n    // creating a variable for our\n    // Firebase Database.\n    FirebaseDatabase firebaseDatabase;\n\n    // creating a variable for our Database\n    // Reference for Firebase.\n    DatabaseReference databaseReference;\n\n    // creating a variable for\n    // our object class\n    EmployeeInfo employeeInfo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // initializing our edittext and button\n        employeeNameEdt = findViewById(R.id.idEdtEmployeeName);\n        employeePhoneEdt = findViewById(R.id.idEdtEmployeePhoneNumber);\n        employeeAddressEdt = findViewById(R.id.idEdtEmployeeAddress);\n\n        // below line is used to get the\n        // instance of our FIrebase database.\n        firebaseDatabase = FirebaseDatabase.getInstance();\n\n        // below line is used to get reference for our database.\n        databaseReference = firebaseDatabase.getReference(&quot;EmployeeInfo&quot;);\n\n        // initializing our object\n        // class variable.\n        employeeInfo = new EmployeeInfo();\n\n        sendDatabtn = findViewById(R.id.idBtnSendData);\n\n        // adding on click listener for our button.\n        sendDatabtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // getting text from our edittext fields.\n                String name = employeeNameEdt.getText().toString();\n                String phone = employeePhoneEdt.getText().toString();\n                String address = employeeAddressEdt.getText().toString();\n\n                // below line is for checking weather the\n                // edittext fields are empty or not.\n                if (TextUtils.isEmpty(name) &amp;&amp; TextUtils.isEmpty(phone) &amp;&amp; TextUtils.isEmpty(address)) {\n                    // if the text fields are empty\n                    // then show the below message.\n                    Toast.makeText(MainActivity.this, &quot;Please add some data.&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    // else call the method to add\n                    // data to our database.\n                    addDatatoFirebase(name, phone, address);\n                }\n            }\n        });\n    }\n\n    private void addDatatoFirebase(String name, String phone, String address) {\n        // below 3 lines of code is used to set\n        // data in our object class.\n        employeeInfo.setEmployeeName(name);\n        employeeInfo.setEmployeeContactNumber(phone);\n        employeeInfo.setEmployeeAddress(address);\n\n        // we are use add value event listener method\n        // which is called with database reference.\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                // inside the method of on Data change we are setting\n                // our object class to our database reference.\n                // data base reference will sends data to firebase.\n                databaseReference.setValue(employeeInfo);\n\n                // after adding this data we are showing toast message.\n                Toast.makeText(MainActivity.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // if the data is not added or it is cancelled then\n                // we are displaying a failure toast message.\n                Toast.makeText(MainActivity.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>EmployeeInfo code:</p>\n<pre><code>public class EmployeeInfo {\n\n    // string variable for\n    // storing employee name.\n    private String employeeName;\n\n    // string variable for storing\n    // employee contact number\n    private String employeeContactNumber;\n\n    // string variable for storing\n    // employee address.\n    private String employeeAddress;\n\n    // an empty constructor is\n    // required when using\n    // Firebase Realtime Database.\n    public EmployeeInfo() {\n\n    }\n\n    // created getter and setter methods\n    // for all our variables.\n    public String getEmployeeName() {\n        return employeeName;\n    }\n\n    public void setEmployeeName(String employeeName) {\n        this.employeeName = employeeName;\n    }\n\n    public String getEmployeeContactNumber() {\n        return employeeContactNumber;\n    }\n\n    public void setEmployeeContactNumber(String employeeContactNumber) {\n        this.employeeContactNumber = employeeContactNumber;\n    }\n\n    public String getEmployeeAddress() {\n        return employeeAddress;\n    }\n\n    public void setEmployeeAddress(String employeeAddress) {\n        this.employeeAddress = employeeAddress;\n    }\n}\n</code></pre>\n<p>Has anyone ever encountered this in Firebase. I have been looking for other tutorials which had ended up exactly like this so I'm not sure whether it is something in the code that is wrong or with my Firebase database.</p>\n"},{"tags":["java","eclipse","ubuntu","java-17"],"comments":[{"owner":{"account_id":23463429,"reputation":1,"user_id":17517999,"display_name":"cat angent"},"score":0,"creation_date":1637957545,"post_id":70099201,"comment_id":123969202,"body_markdown":"try [this](https://stackoverflow.com/questions/19981634/errors-running-builder-java-builder). it helped me with the same error","body":"try <a href=\"https://stackoverflow.com/questions/19981634/errors-running-builder-java-builder\">this</a>. it helped me with the same error"}],"answers":[{"tags":[],"owner":{"account_id":6485823,"reputation":763,"user_id":5044644,"display_name":"ElectronWill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642167953,"creation_date":1642167367,"answer_id":70711401,"question_id":70099201,"body_markdown":"It seems that old Eclipse versions have a [bug][1] where they incorrectly parse java version information. Java 16 is &quot;G&quot;, java 17 is &quot;H&quot; and they try to parse this as an hexadecimal character (0-9 A-F) so it fails.\r\n\r\nTry launching eclipse with java 8 or, better, updating Eclipse to the last version (i.e. download Eclipse from their website directly).\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=564922","title":"I tried creating a new project in eclipse in Ubuntu 20.04 but it gives me this error Errors occurred during the build","body":"<p>It seems that old Eclipse versions have a <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=564922\" rel=\"nofollow noreferrer\">bug</a> where they incorrectly parse java version information. Java 16 is &quot;G&quot;, java 17 is &quot;H&quot; and they try to parse this as an hexadecimal character (0-9 A-F) so it fails.</p>\n<p>Try launching eclipse with java 8 or, better, updating Eclipse to the last version (i.e. download Eclipse from their website directly).</p>\n"}],"owner":{"account_id":21694312,"reputation":21,"user_id":16008484,"display_name":"Umar Gafia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654072757,"creation_date":1637769559,"question_id":70099201,"body_markdown":"Errors occurred during the build.\r\nErrors running builder &#39;Java Builder&#39; on project &#39;egg&#39;.\r\nFor input string: &quot;H&quot; under radix 16:\r\n\r\n[![Eclipse error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4KWUj.png","title":"I tried creating a new project in eclipse in Ubuntu 20.04 but it gives me this error Errors occurred during the build","body":"<p>Errors occurred during the build.\nErrors running builder 'Java Builder' on project 'egg'.\nFor input string: &quot;H&quot; under radix 16:</p>\n<p><a href=\"https://i.stack.imgur.com/4KWUj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4KWUj.png\" alt=\"Eclipse error\" /></a></p>\n"},{"tags":["java","eclipse","unicode","utf-8","supplementary"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1652343266,"post_id":72212106,"comment_id":127584669,"body_markdown":"Maybe a glyph &#39;hole&#39; in the font?","body":"Maybe a glyph &#39;hole&#39; in the font?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1652348556,"post_id":72212106,"comment_id":127586567,"body_markdown":"It is not just a square, there is a small &#39;.&#39; as well. It looks like it is showing the two parts of the pair separately for some reason. Note that the Charset setting is not relevant to this.","body":"It is not just a square, there is a small &#39;.&#39; as well. It looks like it is showing the two parts of the pair separately for some reason. Note that the Charset setting is not relevant to this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652348760,"post_id":72212106,"comment_id":127586634,"body_markdown":"Even the [Unicode website](https://util.unicode.org/UnicodeJsps/character.jsp?a=20BB7&amp;B1=Show) has no representation for this, so probably not a bug","body":"Even the <a href=\"https://util.unicode.org/UnicodeJsps/character.jsp?a=20BB7&amp;B1=Show\" rel=\"nofollow noreferrer\">Unicode website</a> has no representation for this, so probably not a bug"},{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1652368221,"post_id":72212106,"comment_id":127594130,"body_markdown":"@g00se You mentioned Unicode website has no representation for this, but the link you provided is showing a representation, may i know why you said so?","body":"@g00se You mentioned Unicode website has no representation for this, but the link you provided is showing a representation, may i know why you said so?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652368825,"post_id":72212106,"comment_id":127594380,"body_markdown":"Our browsers must be working differently. The box where the glyph should be is empty on my machine","body":"Our browsers must be working differently. The box where the glyph should be is empty on my machine"},{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1652417790,"post_id":72212106,"comment_id":127605849,"body_markdown":"@g00se So now that we agree our browsers must be working differently. What if the a code which does encoding and encoding works well on one webserver and not in another webserver. It is a possible issue isn&#39;t it?","body":"@g00se So now that we agree our browsers must be working differently. What if the a code which does encoding and encoding works well on one webserver and not in another webserver. It is a possible issue isn&#39;t it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652431750,"post_id":72212106,"comment_id":127609530,"body_markdown":"Yes, browsers could be a problem, but is that relevant to what your debugger is showing? I would guess that the font in the debugger doesn&#39;t have the glyph. You could perhaps somehow change the debugger&#39;s font to something that does, e.g. the font &#39;Code2002&#39;","body":"Yes, browsers could be a problem, but is that relevant to what your debugger is showing? I would guess that the font in the debugger doesn&#39;t have the glyph. You could perhaps somehow change the debugger&#39;s font to something that does, e.g. the font &#39;Code2002&#39;"}],"answers":[{"tags":[],"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654000724,"creation_date":1654000724,"answer_id":72447959,"question_id":72212106,"body_markdown":"Looks like this is a bug in Eclipse IDE, Variables window. \r\n\r\nI have added a detail formatter to get the unicode entities for the text &quot;&#134071;野家xyz&quot;. Then decoded the returned unicode entities to unicode text using an online tool. Here&#39;s the outputs I got.\r\n\r\n**Detail Formatter Code** \r\n\r\n    String unicodeStr = &quot;&quot;;\r\n    for (int i = 0; i &lt; this.length(); i++)\r\n        unicodeStr +=  &quot;\\\\u&quot; + Integer.toHexString(this.charAt(i) | 0x10000).substring(1);\r\n    return unicodeStr;\r\n\r\n**Detail Formatter Output**\r\n\r\n    \\ud842\\udfb7\\u91ce\\u5bb6\\u0078\\u0079\\u007a\r\n\r\n**Screenshots**\r\n\r\n[![Detail Formatter Output][1]][1]\r\n[![Unicode Converter Output][2]][2]\r\n\r\nI used [this online unicode converter][3] to check the result.\r\n\r\nLooks like the data in the variable still corresponds to the correct text, but the IDE can&#39;t render it. So I think this should be a bug in Eclipse.\r\n\r\n  [1]: https://i.stack.imgur.com/AH1a0.png\r\n  [2]: https://i.stack.imgur.com/oYPvf.png\r\n  [3]: https://www.online-toolz.com/tools/text-unicode-entities-convertor.php","title":"Eclipse debugger showing cjk character wrongly - Java","body":"<p>Looks like this is a bug in Eclipse IDE, Variables window.</p>\n<p>I have added a detail formatter to get the unicode entities for the text &quot;𠮷野家xyz&quot;. Then decoded the returned unicode entities to unicode text using an online tool. Here's the outputs I got.</p>\n<p><strong>Detail Formatter Code</strong></p>\n<pre><code>String unicodeStr = &quot;&quot;;\nfor (int i = 0; i &lt; this.length(); i++)\n    unicodeStr +=  &quot;\\\\u&quot; + Integer.toHexString(this.charAt(i) | 0x10000).substring(1);\nreturn unicodeStr;\n</code></pre>\n<p><strong>Detail Formatter Output</strong></p>\n<pre><code>\\ud842\\udfb7\\u91ce\\u5bb6\\u0078\\u0079\\u007a\n</code></pre>\n<p><strong>Screenshots</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AH1a0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AH1a0.png\" alt=\"Detail Formatter Output\" /></a>\n<a href=\"https://i.stack.imgur.com/oYPvf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYPvf.png\" alt=\"Unicode Converter Output\" /></a></p>\n<p>I used <a href=\"https://www.online-toolz.com/tools/text-unicode-entities-convertor.php\" rel=\"nofollow noreferrer\">this online unicode converter</a> to check the result.</p>\n<p>Looks like the data in the variable still corresponds to the correct text, but the IDE can't render it. So I think this should be a bug in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":13446286,"reputation":2876,"user_id":9702142,"display_name":"Till Brychcy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654072167,"creation_date":1654063595,"answer_id":72457132,"question_id":72212106,"body_markdown":"The character &quot;&#134071;&quot; is what Unicode calls a [supplementary character][1] with codepoint [U+20BB7][2] and its UTF-8 encoding is F0 A0 AE B7.\r\n\r\n\r\nSupport for such characters has only been added to Java in Version [1.5][3] by [JSR 204][4], but the code in Eclipse&#39;s jdt.debug that reads Strings in UTF-8 format is older than that.\r\n\r\nIf you look at the implementation of [org.eclipse.jdi.internal.jdwp.JdwpString.read(DataInputStream)][5], you can see that is was never updated to handle supplementary characters (which have four byte sequences starting with 0xF*).\r\n\r\nIt just checks that the upper nibble of the first byte is &gt;= 14 (0xE), effectively interpreting the character&#39;s UTF-8 sequence as E0 A0 AE B7 which corresponds to the sequence U+082E U+00B7. [U+082E][6] is not a valid unicode character which is why the rectangle is drawn for it.\r\n\r\nIf you want to report this issue, the bug tracker for this Eclipse component is [here][7].\r\n\r\n\r\n  [1]: http://www.unicode.org/glossary/#supplementary_character\r\n  [2]: https://www.unicode.org/cgi-bin/GetUnihanData.pl?codepoint=20BB7\r\n  [3]: https://docs.oracle.com/javase/1.5.0/docs/relnotes/features.html\r\n  [4]: https://jcp.org/en/jsr/detail?id=204\r\n  [5]: https://github.com/eclipse-jdt/eclipse.jdt.debug/blob/0c8c6d9fa30cda3c83741613f6ea4c541c037973/org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/jdwp/JdwpString.java\r\n  [6]: https://www.fileformat.info/info/unicode/char/082e/index.htm\r\n  [7]: https://github.com/eclipse-jdt/eclipse.jdt.debug/issues","title":"Eclipse debugger showing cjk character wrongly - Java","body":"<p>The character &quot;𠮷&quot; is what Unicode calls a <a href=\"http://www.unicode.org/glossary/#supplementary_character\" rel=\"nofollow noreferrer\">supplementary character</a> with codepoint <a href=\"https://www.unicode.org/cgi-bin/GetUnihanData.pl?codepoint=20BB7\" rel=\"nofollow noreferrer\">U+20BB7</a> and its UTF-8 encoding is F0 A0 AE B7.</p>\n<p>Support for such characters has only been added to Java in Version <a href=\"https://docs.oracle.com/javase/1.5.0/docs/relnotes/features.html\" rel=\"nofollow noreferrer\">1.5</a> by <a href=\"https://jcp.org/en/jsr/detail?id=204\" rel=\"nofollow noreferrer\">JSR 204</a>, but the code in Eclipse's jdt.debug that reads Strings in UTF-8 format is older than that.</p>\n<p>If you look at the implementation of <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.debug/blob/0c8c6d9fa30cda3c83741613f6ea4c541c037973/org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/jdwp/JdwpString.java\" rel=\"nofollow noreferrer\">org.eclipse.jdi.internal.jdwp.JdwpString.read(DataInputStream)</a>, you can see that is was never updated to handle supplementary characters (which have four byte sequences starting with 0xF*).</p>\n<p>It just checks that the upper nibble of the first byte is &gt;= 14 (0xE), effectively interpreting the character's UTF-8 sequence as E0 A0 AE B7 which corresponds to the sequence U+082E U+00B7. <a href=\"https://www.fileformat.info/info/unicode/char/082e/index.htm\" rel=\"nofollow noreferrer\">U+082E</a> is not a valid unicode character which is why the rectangle is drawn for it.</p>\n<p>If you want to report this issue, the bug tracker for this Eclipse component is <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.debug/issues\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5219706,"reputation":21,"user_id":4173547,"display_name":"Sreejith Veluvil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654072167,"creation_date":1652342990,"question_id":72212106,"body_markdown":"I am working on a bug where a CJK character is displayed wrongly. \r\nI am testing using a simple programme in Eclipse and while debugging &#39;Variables&#39; section of debugger displays one CJK character wrongly. See the screenshot below. \r\nI just assigned &quot;&#134071;野家xyz&quot; value to a variable and eclipse debugger is displaying it wrongly. Character &#39;&#134071;&#39;, which is a surrogate pair, is replaced with a square. But when I printed it using sysout, it is displayed correctly. Default charset used is &#39;UTF-8&#39; as you can see from the first line printed in the console. Can someone help me to understand why eclipse is showing it wrongly ?   \r\n\r\nEclipse showing CJK character wrongly:\r\n[![Eclipse showing CJK character wrongly][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EMMCL.png","title":"Eclipse debugger showing cjk character wrongly - Java","body":"<p>I am working on a bug where a CJK character is displayed wrongly.\nI am testing using a simple programme in Eclipse and while debugging 'Variables' section of debugger displays one CJK character wrongly. See the screenshot below.\nI just assigned &quot;𠮷野家xyz&quot; value to a variable and eclipse debugger is displaying it wrongly. Character '𠮷', which is a surrogate pair, is replaced with a square. But when I printed it using sysout, it is displayed correctly. Default charset used is 'UTF-8' as you can see from the first line printed in the console. Can someone help me to understand why eclipse is showing it wrongly ?</p>\n<p>Eclipse showing CJK character wrongly:\n<a href=\"https://i.stack.imgur.com/EMMCL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMMCL.png\" alt=\"Eclipse showing CJK character wrongly\" /></a></p>\n"},{"tags":["java","spring","cxf"],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654002071,"creation_date":1654002071,"answer_id":72448278,"question_id":72448107,"body_markdown":"I just download the jar from maven central\r\n\r\n    https://mvnrepository.com/artifact/org.apache.cxf/cxf-rt-frontend-jaxrs/2.6.1\r\nAnd from what I see in the packages it has ProviderFactory in that exact place, are you positive that you have this jar as a dependency and if you do have you pulled dependencies if you are using maven or any other building tool?","title":"CXF jar conflict with spring jar version.?","body":"<p>I just download the jar from maven central</p>\n<pre><code>https://mvnrepository.com/artifact/org.apache.cxf/cxf-rt-frontend-jaxrs/2.6.1\n</code></pre>\n<p>And from what I see in the packages it has ProviderFactory in that exact place, are you positive that you have this jar as a dependency and if you do have you pulled dependencies if you are using maven or any other building tool?</p>\n"},{"tags":[],"owner":{"account_id":3448867,"reputation":31,"user_id":2888962,"display_name":"user2888962"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654071917,"creation_date":1654071917,"answer_id":72458583,"question_id":72448107,"body_markdown":"Maybe you can try spring version 4.3.30 with cxf version 3.2.14.\r\n\r\nAccording to the mvn repository pages below, cxf version 3.2.14 is compatible with spring boot version 1.5.22 (spring version 4.3.25).\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.cxf/cxf-spring-boot-starter-jaxws/3.2.14\r\nhttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot/1.5.22.RELEASE","title":"CXF jar conflict with spring jar version.?","body":"<p>Maybe you can try spring version 4.3.30 with cxf version 3.2.14.</p>\n<p>According to the mvn repository pages below, cxf version 3.2.14 is compatible with spring boot version 1.5.22 (spring version 4.3.25).</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.cxf/cxf-spring-boot-starter-jaxws/3.2.14\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.cxf/cxf-spring-boot-starter-jaxws/3.2.14</a>\n<a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot/1.5.22.RELEASE\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot/1.5.22.RELEASE</a></p>\n"}],"owner":{"account_id":8798084,"reputation":380,"user_id":6575328,"display_name":"madhusudhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654071917,"creation_date":1654001367,"question_id":72448107,"body_markdown":"Previously I was used spring 4.1.6 version and  cxf relation jar version is 2.6.1.\r\nNow I have change spring version to 4.3.30 which is not compatible with cxf version 2.6.1 jars.\r\n\r\nBecause of this I am getting error like **java.lang.NoClassDefFoundError: Could not initialize class org.apache.cxf.jaxrs.provider.ProviderFactory**\r\n\r\nWhat is exact cxf version for spring 4.3.30 version?\r\n\r\n ","title":"CXF jar conflict with spring jar version.?","body":"<p>Previously I was used spring 4.1.6 version and  cxf relation jar version is 2.6.1.\nNow I have change spring version to 4.3.30 which is not compatible with cxf version 2.6.1 jars.</p>\n<p>Because of this I am getting error like <strong>java.lang.NoClassDefFoundError: Could not initialize class org.apache.cxf.jaxrs.provider.ProviderFactory</strong></p>\n<p>What is exact cxf version for spring 4.3.30 version?</p>\n"},{"tags":["java","rest","salesforce"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654102783,"post_id":72458556,"comment_id":128013666,"body_markdown":"Can we please get a [mcve]?","body":"Can we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":25112405,"reputation":1,"user_id":18961878,"display_name":"Akhil Umap"},"score":0,"creation_date":1654146165,"post_id":72458556,"comment_id":128022725,"body_markdown":"I cannot upload the whole code due to restrictions i breifed into the summary about the objective","body":"I cannot upload the whole code due to restrictions i breifed into the summary about the objective"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654179831,"post_id":72458556,"comment_id":128033943,"body_markdown":"That&#39;s why I asked for a *minimal* but still complete example that shows the problem. You have much better chances to get a good answer if people can just copy &amp; paste your code, run it, and see the problem. Then they can fix it, try again on their end, and finally post an answer.","body":"That&#39;s why I asked for a <i>minimal</i> but still complete example that shows the problem. You have much better chances to get a good answer if people can just copy &amp; paste your code, run it, and see the problem. Then they can fix it, try again on their end, and finally post an answer."}],"owner":{"account_id":25112405,"reputation":1,"user_id":18961878,"display_name":"Akhil Umap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654071764,"creation_date":1654071764,"question_id":72458556,"body_markdown":"**JAVA Code- I have coded the following code using rest API to connect with salesforce, following code is from the URL to get Schema or fields of AccountTeamMember(a standard object) object which  after establishing connection with salesforce org through RESTAPI**\r\n\r\n \r\n                String schemaUrl = instanceurl + &quot;/services/data/v54.0/sobjects/AccountTeamMember/describe&quot;;\r\n                log.info(&quot;schemeaUrl &quot; + schemaUrl);\r\n                String responseString = &quot;emptyschema&quot;;\r\n\r\n              Header printHeader = new BasicHeader(&quot;X-PrettyPrint&quot;, &quot;1&quot;);\r\n                \r\n                Header oAuthHeader = new BasicHeader(&quot;Authorization&quot;, &quot;OAuth &quot; + accesstoken);\r\n                \r\n                HttpGet schemaHttpGet = new HttpGet(schemaUrl);\r\n                \r\n                schemaHttpGet.addHeader(oAuthHeader);\r\n                \r\n                schemaHttpGet.addHeader(printHeader);\r\n             \r\n                int count = 0;\r\n\r\n                response = httpClient.execute(schemaHttpGet);\r\n                log.info(&quot;after executing HTTPGet : &quot; + response);\r\n                int iStatusCode = response.getStatusLine().getStatusCode();\r\n                log.info(&quot;iStatusCode : &quot; + iStatusCode);\r\n                if (iStatusCode == 200) {\r\n\r\n          \r\n                    HttpEntity httpEntity = response.getEntity();\r\n                    log.warn(&quot;httpEntity : &quot; + httpEntity);\r\n                    if (httpEntity != null) {\r\n\r\n                        log.info(&quot;before responseString &quot; + responseString);\r\n                        responseString = EntityUtils.toString(httpEntity);\r\n                        log.info(&quot;after responseString &quot; + responseString);\r\n\r\n\r\n**** here after running this code i got all fields of AccountTeamMember(a standard object associated with account object) in Json format if I keep AccountTeams enable, through RestAPI I am able to get all fields as json object and if disable then 404 satus code \r\n\r\nso here is My question Is there any other way to know AccountTeams is enabled for Account object other than this 404 status code and manually login to salesforce org? **** \r\n\r\n\r\n","title":"How to know AccountTeam in salesforce is enabled or disabled through any API with core java code?","body":"<p><strong>JAVA Code- I have coded the following code using rest API to connect with salesforce, following code is from the URL to get Schema or fields of AccountTeamMember(a standard object) object which  after establishing connection with salesforce org through RESTAPI</strong></p>\n<pre><code>            String schemaUrl = instanceurl + &quot;/services/data/v54.0/sobjects/AccountTeamMember/describe&quot;;\n            log.info(&quot;schemeaUrl &quot; + schemaUrl);\n            String responseString = &quot;emptyschema&quot;;\n\n          Header printHeader = new BasicHeader(&quot;X-PrettyPrint&quot;, &quot;1&quot;);\n            \n            Header oAuthHeader = new BasicHeader(&quot;Authorization&quot;, &quot;OAuth &quot; + accesstoken);\n            \n            HttpGet schemaHttpGet = new HttpGet(schemaUrl);\n            \n            schemaHttpGet.addHeader(oAuthHeader);\n            \n            schemaHttpGet.addHeader(printHeader);\n         \n            int count = 0;\n\n            response = httpClient.execute(schemaHttpGet);\n            log.info(&quot;after executing HTTPGet : &quot; + response);\n            int iStatusCode = response.getStatusLine().getStatusCode();\n            log.info(&quot;iStatusCode : &quot; + iStatusCode);\n            if (iStatusCode == 200) {\n\n      \n                HttpEntity httpEntity = response.getEntity();\n                log.warn(&quot;httpEntity : &quot; + httpEntity);\n                if (httpEntity != null) {\n\n                    log.info(&quot;before responseString &quot; + responseString);\n                    responseString = EntityUtils.toString(httpEntity);\n                    log.info(&quot;after responseString &quot; + responseString);\n</code></pre>\n<p>**** here after running this code i got all fields of AccountTeamMember(a standard object associated with account object) in Json format if I keep AccountTeams enable, through RestAPI I am able to get all fields as json object and if disable then 404 satus code</p>\n<p>so here is My question Is there any other way to know AccountTeams is enabled for Account object other than this 404 status code and manually login to salesforce org? ****</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654009297,"post_id":72449982,"comment_id":127987498,"body_markdown":"You are not closing the stream. I dont see you using exists(). I dont see code for onCreate().","body":"You are not closing the stream. I dont see you using exists(). I dont see code for onCreate()."},{"owner":{"account_id":13183788,"reputation":95,"user_id":9522456,"display_name":"Winston Lycan"},"score":0,"creation_date":1654009603,"post_id":72449982,"comment_id":127987625,"body_markdown":"I close the stream on IOStream class when the writing is finished.  There is onCreate() on MainActivity? And if I put file.exists() in, the problem will be the same. Normally, if I call IOStream from MainActivity, it will work, but when I try to call it in Something, it stops working.","body":"I close the stream on IOStream class when the writing is finished.  There is onCreate() on MainActivity? And if I put file.exists() in, the problem will be the same. Normally, if I call IOStream from MainActivity, it will work, but when I try to call it in Something, it stops working."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654009892,"post_id":72449982,"comment_id":127987755,"body_markdown":"You have no Toast in catch block to inform the user.","body":"You have no Toast in catch block to inform the user."},{"owner":{"account_id":13183788,"reputation":95,"user_id":9522456,"display_name":"Winston Lycan"},"score":0,"creation_date":1654010094,"post_id":72449982,"comment_id":127987853,"body_markdown":"Why do I need Toast? I am trying to write to external storage.","body":"Why do I need Toast? I am trying to write to external storage."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1654010842,"post_id":72449982,"comment_id":127988133,"body_markdown":"You cannot overwrite or delete a file created in `Documents` by another app directly using the filesystem.","body":"You cannot overwrite or delete a file created in <code>Documents</code> by another app directly using the filesystem."},{"owner":{"account_id":13183788,"reputation":95,"user_id":9522456,"display_name":"Winston Lycan"},"score":0,"creation_date":1654011046,"post_id":72449982,"comment_id":127988224,"body_markdown":"There is no file in Documents when I run the app. Also, if I call IOStream from MainActivity, I can still read/write/create/delete file. It just refuses to work when I call from Something class.","body":"There is no file in Documents when I run the app. Also, if I call IOStream from MainActivity, I can still read/write/create/delete file. It just refuses to work when I call from Something class."}],"owner":{"account_id":13183788,"reputation":95,"user_id":9522456,"display_name":"Winston Lycan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654071590,"creation_date":1654008633,"question_id":72449982,"body_markdown":"Except for MainActivity, I have Something class to do some stuff and IOStream class to do the write/read external files. However, FileOutputStream does not work when I call from Something class, even though it works when I calls it from MainActivity.\r\n\r\nThis is my MainActivity\r\n\r\n    package com.spr.rw;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Something someting = new Something(this);\r\n        }\r\n    }\r\n\r\nThis is my Something (I will use this later on for Firebase functions)\r\n\r\n    package com.spr.rw;\r\n    \r\n    import android.content.Context;\r\n    \r\n    public class Something {\r\n        public Something(Context context){\r\n            IOStream writeTool = new IOStream(context, &quot;20220531&quot;);\r\n            writeTool.writeToFile(&quot;placeholder&quot;);\r\n        }\r\n    }\r\n\r\nThis is my IOStream\r\n\r\n    package com.spr.rw;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Environment;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class IOStream {\r\n        private Context context;\r\n        int today;\r\n    \r\n        private File file;\r\n        private File location;\r\n    \r\n        public IOStream(Context context, String today) {\r\n            this.context = context;\r\n            File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\n            this.file = new File(folder, &quot;spr-backup-&quot; + today + &quot;.txt&quot;);\r\n        }\r\n    \r\n        // Writing data\r\n        public void writeToFile(String data) {\r\n            FileOutputStream fileOutputStream = null;\r\n            try {\r\n                fileOutputStream = new FileOutputStream(file,true);\r\n                fileOutputStream.write(data.getBytes());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (fileOutputStream != null) {\r\n                    try {\r\n                        fileOutputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Reading data\r\n        private String readFromFile(Context context) {\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nMy manifest, which I have put in the permission\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.spr.rw&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.RW&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nThis is the error logs. No file is created but it says File exists?\r\n\r\n    W/System.err: java.io.FileNotFoundException: /storage/emulated/0/Documents/spr-backup-20220531.txt: open failed: EEXIST (File exists)\r\n    W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\r\n    W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\n    W/System.err:     at com.spr.rw.IOStream.writeToFile(IOStream.java:27)\r\n    W/System.err:     at com.spr.rw.Something.&lt;init&gt;(Something.java:8)\r\n    W/System.err:     at com.spr.rw.MainActivity.onCreate(MainActivity.java:19)\r\n    W/System.err:     at android.app.Activity.performCreate(Activity.java:8198)\r\n    W/System.err:     at android.app.Activity.performCreate(Activity.java:8182)\r\n    W/System.err:     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n    W/System.err:     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3765)\r\n    W/System.err:     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3968)\r\n    W/System.err:     at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n    W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n    W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n    W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    W/System.err:     at android.os.Looper.loop(Looper.java:246)\r\n    W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8512)\r\n    W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n    W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n    W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n    W/System.err: Caused by: android.system.ErrnoException: open failed: EEXIST (File exists)\r\n    W/System.err:     at libcore.io.Linux.open(Native Method)\r\n    W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n    W/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n    W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n    W/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8373)\r\n    W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\r\n    W/System.err: \t... 19 more\r\n\r\nI tried many ways, but it still has this same bug.\r\n\r\n---------------------\r\nI tried to check if file exists when IOStream is created, but it still face the same bug.\r\n\r\n    public IOStream(Context context, String today) {\r\n        this.context = context;\r\n        File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\n        this.file = new File(folder, &quot;spr-backup-&quot; + today + &quot;.txt&quot;);\r\n        if (!file.exists()) {\r\n            try {\r\n                file.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI read on Stackoverflow about Android 11 permission, so I add extra permission in Manifest, but it does not work either.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n","title":"Cannot write to External Storage on Android 11","body":"<p>Except for MainActivity, I have Something class to do some stuff and IOStream class to do the write/read external files. However, FileOutputStream does not work when I call from Something class, even though it works when I calls it from MainActivity.</p>\n<p>This is my MainActivity</p>\n<pre><code>package com.spr.rw;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.Environment;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Something someting = new Something(this);\n    }\n}\n</code></pre>\n<p>This is my Something (I will use this later on for Firebase functions)</p>\n<pre><code>package com.spr.rw;\n\nimport android.content.Context;\n\npublic class Something {\n    public Something(Context context){\n        IOStream writeTool = new IOStream(context, &quot;20220531&quot;);\n        writeTool.writeToFile(&quot;placeholder&quot;);\n    }\n}\n</code></pre>\n<p>This is my IOStream</p>\n<pre><code>package com.spr.rw;\n\nimport android.content.Context;\nimport android.os.Environment;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class IOStream {\n    private Context context;\n    int today;\n\n    private File file;\n    private File location;\n\n    public IOStream(Context context, String today) {\n        this.context = context;\n        File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\n        this.file = new File(folder, &quot;spr-backup-&quot; + today + &quot;.txt&quot;);\n    }\n\n    // Writing data\n    public void writeToFile(String data) {\n        FileOutputStream fileOutputStream = null;\n        try {\n            fileOutputStream = new FileOutputStream(file,true);\n            fileOutputStream.write(data.getBytes());\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (fileOutputStream != null) {\n                try {\n                    fileOutputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    // Reading data\n    private String readFromFile(Context context) {\n        return &quot;&quot;;\n    }\n\n}\n</code></pre>\n<p>My manifest, which I have put in the permission</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.spr.rw&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.RW&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>This is the error logs. No file is created but it says File exists?</p>\n<pre><code>W/System.err: java.io.FileNotFoundException: /storage/emulated/0/Documents/spr-backup-20220531.txt: open failed: EEXIST (File exists)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\nW/System.err:     at com.spr.rw.IOStream.writeToFile(IOStream.java:27)\nW/System.err:     at com.spr.rw.Something.&lt;init&gt;(Something.java:8)\nW/System.err:     at com.spr.rw.MainActivity.onCreate(MainActivity.java:19)\nW/System.err:     at android.app.Activity.performCreate(Activity.java:8198)\nW/System.err:     at android.app.Activity.performCreate(Activity.java:8182)\nW/System.err:     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\nW/System.err:     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3765)\nW/System.err:     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3968)\nW/System.err:     at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nW/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nW/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nW/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\nW/System.err:     at android.os.Looper.loop(Looper.java:246)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8512)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\nW/System.err: Caused by: android.system.ErrnoException: open failed: EEXIST (File exists)\nW/System.err:     at libcore.io.Linux.open(Native Method)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8373)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\nW/System.err:   ... 19 more\n</code></pre>\n<p>I tried many ways, but it still has this same bug.</p>\n<hr />\n<p>I tried to check if file exists when IOStream is created, but it still face the same bug.</p>\n<pre><code>public IOStream(Context context, String today) {\n    this.context = context;\n    File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\n    this.file = new File(folder, &quot;spr-backup-&quot; + today + &quot;.txt&quot;);\n    if (!file.exists()) {\n        try {\n            file.createNewFile();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I read on Stackoverflow about Android 11 permission, so I add extra permission in Manifest, but it does not work either.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","flyway"],"comments":[{"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1577276987,"post_id":55772574,"comment_id":105133822,"body_markdown":"Not sure but try this : https://stackoverflow.com/a/59478383/9437031","body":"Not sure but try this : <a href=\"https://stackoverflow.com/a/59478383/9437031\">stackoverflow.com/a/59478383/9437031</a>"},{"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1579933000,"post_id":55772574,"comment_id":105939915,"body_markdown":"Check my this answer hopefully it becomes helpful, https://stackoverflow.com/a/59478383/9437031","body":"Check my this answer hopefully it becomes helpful, <a href=\"https://stackoverflow.com/a/59478383/9437031\">stackoverflow.com/a/59478383/9437031</a>"},{"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"score":0,"creation_date":1609757799,"post_id":55772574,"comment_id":115913097,"body_markdown":"This helped me out : https://stackoverflow.com/a/65561481/6150881","body":"This helped me out : <a href=\"https://stackoverflow.com/a/65561481/6150881\">stackoverflow.com/a/65561481/6150881</a>"}],"answers":[{"tags":[],"owner":{"account_id":15783048,"reputation":616,"user_id":11388788,"display_name":"Tore Brandtz&#230;g"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1555789376,"creation_date":1555789376,"answer_id":55777115,"question_id":55772574,"body_markdown":"Make sure that you have not accidentally created a folder with the name db.migration, as opposed to the folders db/migration.  \r\nIntellij will show both as db.migration in the project files view, when you have the option &quot;Compact Middle Packages&quot; enabled.","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>Make sure that you have not accidentally created a folder with the name db.migration, as opposed to the folders db/migration.<br>\nIntellij will show both as db.migration in the project files view, when you have the option \"Compact Middle Packages\" enabled.</p>\n"},{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1569842027,"creation_date":1569842027,"answer_id":58166767,"question_id":55772574,"body_markdown":"Try to use in Spring Boot `application.properties`:\r\n```\r\nspring.flyway.check-location = false\r\n```\r\nIt switches off Flyway migration scripts presents check.\r\n\r\nAlso see a set of default Flyway variables for Spring Boot\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>Try to use in Spring Boot <code>application.properties</code>:</p>\n\n<pre><code>spring.flyway.check-location = false\n</code></pre>\n\n<p>It switches off Flyway migration scripts presents check.</p>\n\n<p>Also see a set of default Flyway variables for Spring Boot</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":14699788,"reputation":1019,"user_id":10616141,"display_name":"kris"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1569855419,"creation_date":1569846049,"answer_id":58167803,"question_id":55772574,"body_markdown":"Mostly it happen because of copy paste. Make sure that you copy the script after creating folder structure like below\r\n\r\n    resources/\r\n            db/\r\n              migration/\r\n                _init.sql\r\n\r\nIntelliJ shows both db.migration and db/migration to same as db.migration. \r\nYou can actual structure by clicking on top right gear sign and tick of flatten package. Hope this helps.\r\n\r\n\r\n","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>Mostly it happen because of copy paste. Make sure that you copy the script after creating folder structure like below</p>\n\n<pre><code>resources/\n        db/\n          migration/\n            _init.sql\n</code></pre>\n\n<p>IntelliJ shows both db.migration and db/migration to same as db.migration. \nYou can actual structure by clicking on top right gear sign and tick of flatten package. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":20254374,"reputation":41,"user_id":14854554,"display_name":"Baiba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1608368832,"creation_date":1608368832,"answer_id":65368243,"question_id":55772574,"body_markdown":"I got the same problem and for me helped creating new empty file in migration folder :\r\n\r\nfor example - init.sql\r\n\r\n\r\n\r\n","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>I got the same problem and for me helped creating new empty file in migration folder :</p>\n<p>for example - init.sql</p>\n"},{"tags":[],"owner":{"account_id":6452830,"reputation":3,"user_id":4999227,"display_name":"Nguyễn Thị B&#236;nh An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621232730,"creation_date":1621200967,"answer_id":67561763,"question_id":55772574,"body_markdown":"I already created db.migration folders exactly but still got this error, however I added this and it seemed like it worked \r\n`spring.flyway.check-location = false`","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>I already created db.migration folders exactly but still got this error, however I added this and it seemed like it worked\n<code>spring.flyway.check-location = false</code></p>\n"},{"tags":[],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653900474,"creation_date":1653900474,"answer_id":72431565,"question_id":55772574,"body_markdown":"For me the name of the scheme `V1_1_schema.sql` was wrong.\r\nChanging it to `V1_1__schema.sql` solved the location issue. \r\n\r\nSeems like Flyway requires double underscore `__` in name prefix.","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>For me the name of the scheme <code>V1_1_schema.sql</code> was wrong.\nChanging it to <code>V1_1__schema.sql</code> solved the location issue.</p>\n<p>Seems like Flyway requires double underscore <code>__</code> in name prefix.</p>\n"},{"tags":[],"owner":{"account_id":25444043,"reputation":11,"user_id":19246476,"display_name":"Mikael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654071363,"creation_date":1654071363,"answer_id":72458474,"question_id":55772574,"body_markdown":"I solved this problem like this: first we create a &quot;db folder&quot; in &quot;resources&quot;, then we create any file in the &quot;db folder&quot;, then we create a &quot;migration&quot; subdirectory and already in it we create our migration file","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>I solved this problem like this: first we create a &quot;db folder&quot; in &quot;resources&quot;, then we create any file in the &quot;db folder&quot;, then we create a &quot;migration&quot; subdirectory and already in it we create our migration file</p>\n"}],"owner":{"account_id":15434309,"reputation":371,"user_id":11134826,"display_name":"William He"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30986,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":7,"score":21,"last_activity_date":1654071363,"creation_date":1555756055,"question_id":55772574,"body_markdown":"I created an new project with springboot2.2.0.M2 / Flyway 5.2.4 / Java8.\r\nAfter try to start my project i got :  \r\n\r\n```\r\n .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.4.RELEASE)\r\n\r\n2019-04-22 13:36:54.574  INFO 17268 --- [  restartedMain] com.example.demo214.Demo214Application   : Starting Demo214Application on xx-MacBook-Pro.local with PID 17268\r\n2019-04-22 13:36:54.577  INFO 17268 --- [  restartedMain] com.example.demo214.Demo214Application   : The following profiles are active: dev\r\n2019-04-22 13:36:54.665  INFO 17268 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2019-04-22 13:36:54.665  INFO 17268 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2019-04-22 13:36:55.731  WARN 17268 --- [  restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in &#39;[com.example.demo214]&#39; package. Please check your configuration.\r\n2019-04-22 13:36:55.939  INFO 17268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2019-04-22 13:36:55.943  INFO 17268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n2019-04-22 13:36:55.983  INFO 17268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.\r\n2019-04-22 13:36:56.412  INFO 17268 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$631e07b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2019-04-22 13:36:56.875  INFO 17268 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2019-04-22 13:36:56.901  INFO 17268 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2019-04-22 13:36:56.902  INFO 17268 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]\r\n2019-04-22 13:36:57.103  INFO 17268 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2019-04-22 13:36:57.103  INFO 17268 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2438 ms\r\n2019-04-22 13:36:57.257  INFO 17268 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource\r\n2019-04-22 13:36:57.413  INFO 17268 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited\r\n2019-04-22 13:36:58.008  INFO 17268 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n _ _   |_  _ _|_. ___ _ |    _ \r\n| | |\\/|_)(_| | |_\\  |_)||_|_\\ \r\n     /               |         \r\n                        3.1.0 \r\nMon Apr 22 13:36:58 CST 2019 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n2019-04-22 13:36:59.143  WARN 17268 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flyway&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method &#39;flyway&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\r\n2019-04-22 13:36:59.144  INFO 17268 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2019-04-22 13:36:59.170  INFO 17268 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed\r\n2019-04-22 13:36:59.172  INFO 17268 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2019-04-22 13:36:59.184  INFO 17268 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-04-22 13:36:59.197 ERROR 17268 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flyway&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method &#39;flyway&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat com.example.demo214.Demo214Application.main(Demo214Application.java:10) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method &#39;flyway&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\t... 26 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\r\n\tat org.springframework.util.Assert.state(Assert.java:94) ~[spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.checkLocationExists(FlywayAutoConfiguration.java:194) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:153) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$e31bd555.CGLIB$flyway$0(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$e31bd555$$FastClassBySpringCGLIB$$169da02e.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$e31bd555.flyway(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\t... 27 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\nI have a init sql under db/migration with name: `V1.0.0__init.sql` (just one line in it: `use mydb;`)\r\n\r\nmy flyway configuration in yml (ignore other datasource):\r\n```\r\nspring:\r\n  flyway:\r\n    baseline-on-migrate: true\r\n    locations: classpath:db/migration\r\n```\r\n\r\n\r\nI tried to debug it, found the `FlywayAutoConfiguratioin.hasAtLeastOneLocation()` always return false, it means not found the location (but the `location` looks like right in debugger), see the following screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VvON0.jpg\r\n\r\nappreciate any kind help :)","title":"Flyway: Cannot find migrations location in: [classpath:db/migration]","body":"<p>I created an new project with springboot2.2.0.M2 / Flyway 5.2.4 / Java8.\nAfter try to start my project i got :  </p>\n\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.4.RELEASE)\n\n2019-04-22 13:36:54.574  INFO 17268 --- [  restartedMain] com.example.demo214.Demo214Application   : Starting Demo214Application on xx-MacBook-Pro.local with PID 17268\n2019-04-22 13:36:54.577  INFO 17268 --- [  restartedMain] com.example.demo214.Demo214Application   : The following profiles are active: dev\n2019-04-22 13:36:54.665  INFO 17268 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2019-04-22 13:36:54.665  INFO 17268 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2019-04-22 13:36:55.731  WARN 17268 --- [  restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.example.demo214]' package. Please check your configuration.\n2019-04-22 13:36:55.939  INFO 17268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2019-04-22 13:36:55.943  INFO 17268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-04-22 13:36:55.983  INFO 17268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.\n2019-04-22 13:36:56.412  INFO 17268 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$631e07b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2019-04-22 13:36:56.875  INFO 17268 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-04-22 13:36:56.901  INFO 17268 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-04-22 13:36:56.902  INFO 17268 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]\n2019-04-22 13:36:57.103  INFO 17268 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-04-22 13:36:57.103  INFO 17268 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2438 ms\n2019-04-22 13:36:57.257  INFO 17268 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource\n2019-04-22 13:36:57.413  INFO 17268 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited\n2019-04-22 13:36:58.008  INFO 17268 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n _ _   |_  _ _|_. ___ _ |    _ \n| | |\\/|_)(_| | |_\\  |_)||_|_\\ \n     /               |         \n                        3.1.0 \nMon Apr 22 13:36:58 CST 2019 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2019-04-22 13:36:59.143  WARN 17268 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\n2019-04-22 13:36:59.144  INFO 17268 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2019-04-22 13:36:59.170  INFO 17268 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed\n2019-04-22 13:36:59.172  INFO 17268 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2019-04-22 13:36:59.184  INFO 17268 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-04-22 13:36:59.197 ERROR 17268 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at com.example.demo214.Demo214Application.main(Demo214Application.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.4.RELEASE.jar:2.1.4.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    ... 26 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot find migrations location in: [classpath:db/migration] (please add migrations or check your Flyway configuration)\n    at org.springframework.util.Assert.state(Assert.java:94) ~[spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.checkLocationExists(FlywayAutoConfiguration.java:194) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:153) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$e31bd555.CGLIB$flyway$0(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$e31bd555$$FastClassBySpringCGLIB$$169da02e.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$e31bd555.flyway(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    ... 27 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I have a init sql under db/migration with name: <code>V1.0.0__init.sql</code> (just one line in it: <code>use mydb;</code>)</p>\n\n<p>my flyway configuration in yml (ignore other datasource):</p>\n\n<pre><code>spring:\n  flyway:\n    baseline-on-migrate: true\n    locations: classpath:db/migration\n</code></pre>\n\n<p>I tried to debug it, found the <code>FlywayAutoConfiguratioin.hasAtLeastOneLocation()</code> always return false, it means not found the location (but the <code>location</code> looks like right in debugger), see the following screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VvON0.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VvON0.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>appreciate any kind help :)</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1654056669,"post_id":72456238,"comment_id":127998455,"body_markdown":"First question is already answered in your own code. For second question,\nWhat error do you face if you remove `static` keyword from `Specie` ?","body":"First question is already answered in your own code. For second question, What error do you face if you remove <code>static</code> keyword from <code>Specie</code> ?"},{"owner":{"account_id":25442269,"reputation":21,"user_id":19244955,"display_name":"john.young.a0001"},"score":0,"creation_date":1654056834,"post_id":72456238,"comment_id":127998474,"body_markdown":"@SyedAqeelAshiq the first question is definitely not anwered since I am getting a list of objects with an array inside it. I want a list of objects with a list of another object.","body":"@SyedAqeelAshiq the first question is definitely not anwered since I am getting a list of objects with an array inside it. I want a list of objects with a list of another object."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1654056992,"post_id":72456238,"comment_id":127998496,"body_markdown":"And what about second question. What error do you face if you remove `static` keyword from `Specie`?","body":"And what about second question. What error do you face if you remove <code>static</code> keyword from <code>Specie</code>?"}],"answers":[{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654071187,"creation_date":1654071187,"answer_id":72458444,"question_id":72456238,"body_markdown":"How about this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n  \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n  \r\n    public class Animal {\r\n      private String name;\r\n      private List&lt;Specie&gt; species;\r\n    \r\n      @JsonCreator\r\n      public Animal(@JsonProperty(&quot;name&quot;) String name,\r\n          @JsonProperty(&quot;species&quot;) List&lt;Specie&gt; pets) {\r\n        this.name = name;\r\n        this.species = pets;\r\n      }\r\n  \r\n      @Override\r\n      public String toString() {\r\n        return &quot;\\n//Animal\\n&quot;\r\n            + &quot;{&quot; +\r\n            &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n            &quot;, species=&quot; + species +\r\n            &#39;}&#39;;\r\n      }\r\n    }\r\n  \r\n    class Specie {\r\n      @JsonProperty(&quot;name&quot;)\r\n      private String name;\r\n  \r\n      @JsonProperty(&quot;class&quot;)\r\n      private String _class;\r\n  \r\n      @Override\r\n      public String toString() {\r\n        return &quot;\\n//Specie\\n{&quot; +\r\n            &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n            &quot;, _class=&#39;&quot; + _class + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n      }\r\n    }\r\n  \r\n    class Main {\r\n      public static void main(String[] args) throws IOException {\r\n        String myJSON = &quot;[\\n&quot;\r\n            + &quot;    {\\&quot;name\\&quot;:\\&quot;Arthropod\\&quot;\\n&quot;\r\n            + &quot;        ,\\&quot;species\\&quot;:[\\n&quot;\r\n            + &quot;            {\\&quot;name\\&quot;:\\&quot;spider\\&quot;,\\&quot;class\\&quot;:\\&quot;Arachnida\\&quot;}\\n&quot;\r\n            + &quot;            ,{\\&quot;name\\&quot;:\\&quot;butterfly\\&quot;,\\&quot;class\\&quot;:\\&quot;Insecta\\&quot;}\\n&quot;\r\n            + &quot;            ]\\n&quot;\r\n            + &quot;    }\\n&quot;\r\n            + &quot;    ,{\\&quot;name\\&quot;:\\&quot;Mammal\\&quot;\\n&quot;\r\n            + &quot;        ,\\&quot;species\\&quot;:[\\n&quot;\r\n            + &quot;            {\\&quot;name\\&quot;:\\&quot;monkey\\&quot;,\\&quot;class\\&quot;:\\&quot;Primates\\&quot;}\\n&quot;\r\n            + &quot;            , {\\&quot;name\\&quot;:\\&quot;kangaroo\\&quot;,\\&quot;class\\&quot;:\\&quot;Diprotodontia\\&quot;}\\n&quot;\r\n            + &quot;        ]\\n&quot;\r\n            + &quot;    }\\n&quot;\r\n            + &quot;]&quot;;\r\n        List&lt;Animal&gt; animals = new ObjectMapper().readValue(myJSON, new TypeReference&lt;List&lt;Animal&gt;&gt;(){});\r\n        System.out.println(animals);\r\n      }\r\n    }","title":"Java/jackson object mapping: how to convert a nested JSON array to a list of objects (might be best explain with an example)","body":"<p>How about this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class Animal {\n  private String name;\n  private List&lt;Specie&gt; species;\n\n  @JsonCreator\n  public Animal(@JsonProperty(&quot;name&quot;) String name,\n      @JsonProperty(&quot;species&quot;) List&lt;Specie&gt; pets) {\n    this.name = name;\n    this.species = pets;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;\\n//Animal\\n&quot;\n        + &quot;{&quot; +\n        &quot;name='&quot; + name + '\\'' +\n        &quot;, species=&quot; + species +\n        '}';\n  }\n}\n\nclass Specie {\n  @JsonProperty(&quot;name&quot;)\n  private String name;\n\n  @JsonProperty(&quot;class&quot;)\n  private String _class;\n\n  @Override\n  public String toString() {\n    return &quot;\\n//Specie\\n{&quot; +\n        &quot;name='&quot; + name + '\\'' +\n        &quot;, _class='&quot; + _class + '\\'' +\n        '}';\n  }\n}\n\nclass Main {\n  public static void main(String[] args) throws IOException {\n    String myJSON = &quot;[\\n&quot;\n        + &quot;    {\\&quot;name\\&quot;:\\&quot;Arthropod\\&quot;\\n&quot;\n        + &quot;        ,\\&quot;species\\&quot;:[\\n&quot;\n        + &quot;            {\\&quot;name\\&quot;:\\&quot;spider\\&quot;,\\&quot;class\\&quot;:\\&quot;Arachnida\\&quot;}\\n&quot;\n        + &quot;            ,{\\&quot;name\\&quot;:\\&quot;butterfly\\&quot;,\\&quot;class\\&quot;:\\&quot;Insecta\\&quot;}\\n&quot;\n        + &quot;            ]\\n&quot;\n        + &quot;    }\\n&quot;\n        + &quot;    ,{\\&quot;name\\&quot;:\\&quot;Mammal\\&quot;\\n&quot;\n        + &quot;        ,\\&quot;species\\&quot;:[\\n&quot;\n        + &quot;            {\\&quot;name\\&quot;:\\&quot;monkey\\&quot;,\\&quot;class\\&quot;:\\&quot;Primates\\&quot;}\\n&quot;\n        + &quot;            , {\\&quot;name\\&quot;:\\&quot;kangaroo\\&quot;,\\&quot;class\\&quot;:\\&quot;Diprotodontia\\&quot;}\\n&quot;\n        + &quot;        ]\\n&quot;\n        + &quot;    }\\n&quot;\n        + &quot;]&quot;;\n    List&lt;Animal&gt; animals = new ObjectMapper().readValue(myJSON, new TypeReference&lt;List&lt;Animal&gt;&gt;(){});\n    System.out.println(animals);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25442269,"reputation":21,"user_id":19244955,"display_name":"john.young.a0001"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1996,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1654071187,"creation_date":1654055129,"question_id":72456238,"body_markdown":"2 questions:\r\n- how can I have a list of objects inside another list of objects? (in my example JSON, this would be list of Animal objects with a list of Specie objects inside it)\r\n- how can I remove the static declaration in the inner class and have stuff still working ok?\r\n\r\nusing the code below, I can have a list of Animal objects with a Specie array inside it.\r\n\r\n----\r\n\r\nsample JSON:\r\n\r\n    [\r\n        {&quot;name&quot;:&quot;Arthropod&quot;\r\n            ,&quot;species&quot;:[\r\n                {&quot;name&quot;:&quot;spider&quot;,&quot;class&quot;:&quot;Arachnida&quot;}\r\n                ,{&quot;name&quot;:&quot;butterfly&quot;,&quot;class&quot;:&quot;Insecta&quot;}\r\n                ]\r\n        }\r\n        ,{&quot;name&quot;:&quot;Mammal&quot;\r\n            ,&quot;species&quot;:[\r\n                {&quot;name&quot;:&quot;monkey&quot;,&quot;class&quot;:&quot;Primates&quot;}\r\n                , {&quot;name&quot;:&quot;kangaroo&quot;,&quot;class&quot;:&quot;Diprotodontia&quot;}\r\n            ]\r\n        }\r\n    ]\r\n\r\nmy code:\r\n\r\n    public class Animal\r\n        private String name\r\n        private Specie[] species;\r\n        \r\n        @JsonCreator\r\n        public Animal(\r\n            @JsonProperty(&quot;name&quot;) String name\r\n            , @JsonProperty(&quot;specifies&quot;) Specie[] pets) {\r\n            this.name = name;\r\n            this.pets = pets;\r\n        };\r\n\r\n        static class Specie {\r\n            private String name;\r\n            private String class;\r\n        }\r\n        \r\n\r\n    List&lt;Animal&gt; animals = new ObjectMapper().readValue(myJSON, new TypeReference&lt;List&lt;Animal&gt;&gt;(){});","title":"Java/jackson object mapping: how to convert a nested JSON array to a list of objects (might be best explain with an example)","body":"<p>2 questions:</p>\n<ul>\n<li>how can I have a list of objects inside another list of objects? (in my example JSON, this would be list of Animal objects with a list of Specie objects inside it)</li>\n<li>how can I remove the static declaration in the inner class and have stuff still working ok?</li>\n</ul>\n<p>using the code below, I can have a list of Animal objects with a Specie array inside it.</p>\n<hr />\n<p>sample JSON:</p>\n<pre><code>[\n    {&quot;name&quot;:&quot;Arthropod&quot;\n        ,&quot;species&quot;:[\n            {&quot;name&quot;:&quot;spider&quot;,&quot;class&quot;:&quot;Arachnida&quot;}\n            ,{&quot;name&quot;:&quot;butterfly&quot;,&quot;class&quot;:&quot;Insecta&quot;}\n            ]\n    }\n    ,{&quot;name&quot;:&quot;Mammal&quot;\n        ,&quot;species&quot;:[\n            {&quot;name&quot;:&quot;monkey&quot;,&quot;class&quot;:&quot;Primates&quot;}\n            , {&quot;name&quot;:&quot;kangaroo&quot;,&quot;class&quot;:&quot;Diprotodontia&quot;}\n        ]\n    }\n]\n</code></pre>\n<p>my code:</p>\n<pre><code>public class Animal\n    private String name\n    private Specie[] species;\n    \n    @JsonCreator\n    public Animal(\n        @JsonProperty(&quot;name&quot;) String name\n        , @JsonProperty(&quot;specifies&quot;) Specie[] pets) {\n        this.name = name;\n        this.pets = pets;\n    };\n\n    static class Specie {\n        private String name;\n        private String class;\n    }\n    \n\nList&lt;Animal&gt; animals = new ObjectMapper().readValue(myJSON, new TypeReference&lt;List&lt;Animal&gt;&gt;(){});\n</code></pre>\n"},{"tags":["java","json","jackson","json-deserialization","jackson-databind"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":5,"creation_date":1654060631,"post_id":72456629,"comment_id":127999103,"body_markdown":"Your JSON is invalid. The inner `&quot;` should be escaped.","body":"Your JSON is invalid. The inner <code>&quot;</code> should be escaped."}],"answers":[{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654070922,"creation_date":1654070922,"answer_id":72458392,"question_id":72456629,"body_markdown":"As the comment says, your JSON is invalid. You need to escape the quotes inside the JSON string:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n    {&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=\\&quot;1\\&quot;&gt;&lt;/p&gt;&quot;}\r\n\r\nAdditionally if you use that JSON inside a Java string literal you have to escape the quotes and the backslashes again:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    objectMapper.readValue(&quot;{\\&quot;data\\&quot;:\\&quot;&lt;p&gt;&lt;br data-mce-bogus=\\\\\\&quot;1\\\\\\&quot;&gt;&lt;/p&gt;\\&quot;}&quot;, Map.class );\r\n\r\n","title":"How to deserialize json with html using jackson","body":"<p>As the comment says, your JSON is invalid. You need to escape the quotes inside the JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=\\&quot;1\\&quot;&gt;&lt;/p&gt;&quot;}\n</code></pre>\n<p>Additionally if you use that JSON inside a Java string literal you have to escape the quotes and the backslashes again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.readValue(&quot;{\\&quot;data\\&quot;:\\&quot;&lt;p&gt;&lt;br data-mce-bogus=\\\\\\&quot;1\\\\\\&quot;&gt;&lt;/p&gt;\\&quot;}&quot;, Map.class );\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655923791,"answer_count":1,"score":-1,"last_activity_date":1654070922,"creation_date":1654059653,"question_id":72456629,"body_markdown":"I&#39;m having below json\r\n\r\n```\r\n\r\n{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt;&quot;}\r\n\r\n```\r\n\r\nTrying to deserialize this ```Map&lt;String,String&gt;```\r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\nobjectMapper.readValue(&quot;{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt;&quot;}&quot;, Map.class );\r\n\r\n```\r\n\r\nabove code giving the exception\r\n\r\n```\r\n\r\ncom.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;1&#39; (code 49)): was expecting comma to separate Object entries\r\n at [Source: (String)&quot;{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt;&quot;}&quot;; line: 1, column: 30]\r\n\r\n```\r\n\r\nI will get many number of keys like ```data```. That&#39;s the reason trying to deserialize it as Map&lt;String, String&gt;.\r\n\r\nWant to deserialize, key as ```data``` and value as ```&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt; ```\r\n\r\nIs there any way to deserialize it as Map&lt;String, String&gt; using jackson?\r\n\r\nNote: Jackson version using ``` 2.13.x ```\r\n","title":"How to deserialize json with html using jackson","body":"<p>I'm having below json</p>\n<pre><code>\n{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt;&quot;}\n\n</code></pre>\n<p>Trying to deserialize this <code>Map&lt;String,String&gt;</code></p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nobjectMapper.readValue(&quot;{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt;&quot;}&quot;, Map.class );\n\n</code></pre>\n<p>above code giving the exception</p>\n<pre><code>\ncom.fasterxml.jackson.core.JsonParseException: Unexpected character ('1' (code 49)): was expecting comma to separate Object entries\n at [Source: (String)&quot;{&quot;data&quot;:&quot;&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt;&quot;}&quot;; line: 1, column: 30]\n\n</code></pre>\n<p>I will get many number of keys like <code>data</code>. That's the reason trying to deserialize it as Map&lt;String, String&gt;.</p>\n<p>Want to deserialize, key as <code>data</code> and value as <code>&lt;p&gt;&lt;br data-mce-bogus=&quot;1&quot;&gt;&lt;/p&gt; </code></p>\n<p>Is there any way to deserialize it as Map&lt;String, String&gt; using jackson?</p>\n<p>Note: Jackson version using <code>2.13.x</code></p>\n"},{"tags":["java","gradle","gradle-plugin","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":25440494,"reputation":16,"user_id":19243522,"display_name":"MZielinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654070750,"creation_date":1654032228,"answer_id":72454270,"question_id":72449425,"body_markdown":"@Lamminski, I guess, I was able to reproduce your issue. \r\n\r\nFirst issue is with &#39;com.github.mzielinski:spring-cloud-contract-oa3:3.1.2.0&#39; in buildSrc. Please, move it into testImplementation. Then you should be able to see generated contracts in /tmp/sccoa3___.yml files\r\n\r\nGenerally, spring-cloud-contract-oa3 converts open-api into yaml contracts in /tmp directory and then such files are used for generating contract DSLs with YmlContract class from SSC.\r\n\r\nAdditionally, I noticed also using my example from https://github.com/mzielinski/spring-cloud-contract-oa3/blob/develop/src/test/resources/openapi/verify_oa3.yml and your build.gradle file, that scc has a problem to convert properly contracts generated from this file in two places (to tests):\r\n * message: &#39;Provided path in request is: {{{ jsonpath this &quot;$.path&quot; }}}.&#39;\r\n * body: path: &#39;/etc/passwd&#39;\r\n\r\nIn SPOCK for example generated test has such code\r\n```\r\nassertThatJson(parsedJson).field(&quot;[&#39;request&#39;]&quot;).isEqualTo(&quot;{&quot;path&quot;:&quot;/etc/passwd&quot;}&quot;)\r\n```\r\n\r\nThere is invalid escaping. Generated contract has\r\n```\r\n  body:\r\n    path: &quot;/etc/passwd&quot;\r\n```\r\nso looks OK. \r\n\r\nI am using sscoa3 in production and I did not have such issue yet, but I will try to fix YamlContract in SSC to convert it in proper way.\r\n\r\nYou are able to see stacktrace from YmlContract also by running gradle build with --debug flag. ","title":"Unable to generate contract tests when using spring-cloud-contract-oa3 and spring cloud contract gradle plugin","body":"<p>@Lamminski, I guess, I was able to reproduce your issue.</p>\n<p>First issue is with 'com.github.mzielinski:spring-cloud-contract-oa3:3.1.2.0' in buildSrc. Please, move it into testImplementation. Then you should be able to see generated contracts in /tmp/sccoa3___.yml files</p>\n<p>Generally, spring-cloud-contract-oa3 converts open-api into yaml contracts in /tmp directory and then such files are used for generating contract DSLs with YmlContract class from SSC.</p>\n<p>Additionally, I noticed also using my example from <a href=\"https://github.com/mzielinski/spring-cloud-contract-oa3/blob/develop/src/test/resources/openapi/verify_oa3.yml\" rel=\"nofollow noreferrer\">https://github.com/mzielinski/spring-cloud-contract-oa3/blob/develop/src/test/resources/openapi/verify_oa3.yml</a> and your build.gradle file, that scc has a problem to convert properly contracts generated from this file in two places (to tests):</p>\n<ul>\n<li>message: 'Provided path in request is: {{{ jsonpath this &quot;$.path&quot; }}}.'</li>\n<li>body: path: '/etc/passwd'</li>\n</ul>\n<p>In SPOCK for example generated test has such code</p>\n<pre><code>assertThatJson(parsedJson).field(&quot;['request']&quot;).isEqualTo(&quot;{&quot;path&quot;:&quot;/etc/passwd&quot;}&quot;)\n</code></pre>\n<p>There is invalid escaping. Generated contract has</p>\n<pre><code>  body:\n    path: &quot;/etc/passwd&quot;\n</code></pre>\n<p>so looks OK.</p>\n<p>I am using sscoa3 in production and I did not have such issue yet, but I will try to fix YamlContract in SSC to convert it in proper way.</p>\n<p>You are able to see stacktrace from YmlContract also by running gradle build with --debug flag.</p>\n"}],"owner":{"account_id":4777551,"reputation":23,"user_id":3860255,"display_name":"Lamminski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72454270,"answer_count":1,"score":0,"last_activity_date":1654070750,"creation_date":1654006410,"question_id":72449425,"body_markdown":"When when I specify the contract in an OA3 yml file and then build the project the build passes but it doesn&#39;t generate the contract tests . If I replace the OA3 yml contract file with a groovy equivalent then the build passes and it generates and runs the contract tests.\r\n\r\nI have the following setup:\r\n- com.github.mzielinski:spring-cloud-contract-oa3:3.1.2.0&#39;\r\n- &#39;org.springframework.cloud:spring-cloud-contract-gradle-plugin:3.1.2&#39;\r\n- &#39;org.springframework.cloud:spring-cloud-dependencies:2021.0.3&#39;\r\n- gradle 7.3.2\r\n- java 8\r\n\r\n\r\nmy build.gradle looks like:\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;org.springframework.cloud:spring-cloud-contract-gradle-plugin:3.1.2&#39;\r\n            classpath &#39;com.github.mzielinski:spring-cloud-contract-oa3:3.1.2.0&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.8&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;war&#39;\r\n        id &#39;java-library&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &#39;com.adarshr.test-logger&#39; version &#39;3.0.0&#39;\r\n        id &quot;org.unbroken-dome.test-sets&quot; version &quot;4.0.0&quot;\r\n        id &#39;groovy&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;spring-cloud-contract&#39;\r\n    \r\n    testSets {\r\n        contractTest\r\n    }\r\n    \r\n    \r\n    ext {\r\n        springBootStarterVersion = &#39;2.6.8&#39;\r\n        springCloudVersion = &#39;2021.0.3&#39;\r\n        projectLombokVersion = &#39;1.18.24&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        \r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    \r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n    \r\n        testImplementation unitTesting\r\n    \r\n        testImplementation &#39;org.springframework.cloud:spring-cloud-starter-contract-verifier&#39;\r\n        \r\n        compileOnly &quot;org.projectlombok:lombok:${projectLombokVersion}&quot;\r\n        annotationProcessor &quot;org.projectlombok:lombok:${projectLombokVersion}&quot;\r\n        testAnnotationProcessor &quot;org.projectlombok:lombok:${projectLombokVersion}&quot;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    contractTest {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    contracts {\r\n        testFramework = org.springframework.cloud.contract.verifier.config.TestFramework.JUNIT5\r\n        baseClassForTests = &#39;com.my.project.contract.BaseContractTest&#39;\r\n        testMode = &#39;MockMvc&#39;\r\n        contractsPath = &#39;src/contractTest/resources/contracts&#39;\r\n    }\r\n    \r\n    }\r\n\r\n","title":"Unable to generate contract tests when using spring-cloud-contract-oa3 and spring cloud contract gradle plugin","body":"<p>When when I specify the contract in an OA3 yml file and then build the project the build passes but it doesn't generate the contract tests . If I replace the OA3 yml contract file with a groovy equivalent then the build passes and it generates and runs the contract tests.</p>\n<p>I have the following setup:</p>\n<ul>\n<li>com.github.mzielinski:spring-cloud-contract-oa3:3.1.2.0'</li>\n<li>'org.springframework.cloud:spring-cloud-contract-gradle-plugin:3.1.2'</li>\n<li>'org.springframework.cloud:spring-cloud-dependencies:2021.0.3'</li>\n<li>gradle 7.3.2</li>\n<li>java 8</li>\n</ul>\n<p>my build.gradle looks like:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath 'org.springframework.cloud:spring-cloud-contract-gradle-plugin:3.1.2'\n        classpath 'com.github.mzielinski:spring-cloud-contract-oa3:3.1.2.0'\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.6.8'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'war'\n    id 'java-library'\n    id 'maven-publish'\n    id 'com.adarshr.test-logger' version '3.0.0'\n    id &quot;org.unbroken-dome.test-sets&quot; version &quot;4.0.0&quot;\n    id 'groovy'\n}\n\napply plugin: 'spring-cloud-contract'\n\ntestSets {\n    contractTest\n}\n\n\next {\n    springBootStarterVersion = '2.6.8'\n    springCloudVersion = '2021.0.3'\n    projectLombokVersion = '1.18.24'\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ndependencies {\n    \n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n\n    testImplementation unitTesting\n\n    testImplementation 'org.springframework.cloud:spring-cloud-starter-contract-verifier'\n    \n    compileOnly &quot;org.projectlombok:lombok:${projectLombokVersion}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:${projectLombokVersion}&quot;\n    testAnnotationProcessor &quot;org.projectlombok:lombok:${projectLombokVersion}&quot;\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ncontractTest {\n    useJUnitPlatform()\n}\n\ncontracts {\n    testFramework = org.springframework.cloud.contract.verifier.config.TestFramework.JUNIT5\n    baseClassForTests = 'com.my.project.contract.BaseContractTest'\n    testMode = 'MockMvc'\n    contractsPath = 'src/contractTest/resources/contracts'\n}\n\n}\n</code></pre>\n"},{"tags":["java","linux","jenkins","continuous-integration","ubuntu-14.04"],"comments":[{"owner":{"account_id":1670803,"reputation":611,"user_id":1537298,"accept_rate":100,"display_name":"NeoP5"},"score":0,"creation_date":1415875792,"post_id":26906972,"comment_id":42364417,"body_markdown":"have you checked if Maven is installed for the current os user used by jenkins and that is on the path? seems maven is not available.","body":"have you checked if Maven is installed for the current os user used by jenkins and that is on the path? seems maven is not available."},{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1415885166,"post_id":26906972,"comment_id":42369506,"body_markdown":"What&#39;s also possible:  _&quot;/var/lib/jenkins/workspace/videovixx&quot;): error=2, No such file or directory_","body":"What&#39;s also possible:  <i>&quot;/var/lib/jenkins/workspace/videovixx&quot;): error=2, No such file or directory</i>"}],"answers":[{"tags":[],"owner":{"account_id":1906095,"reputation":27167,"user_id":1720943,"accept_rate":81,"display_name":"Slav"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1560432726,"creation_date":1415891017,"answer_id":26911953,"question_id":26906972,"body_markdown":"There are multiple things here.\r\n\r\nYou either didn&#39;t select Maven version in Job configuration.\r\nOr you didn&#39;t configure Jenkins to install a Maven version.\r\nOr you expected to use locally installed Maven on the Slave, but it&#39;s not configured for `jenkins` user.\r\n\r\nSince I don&#39;t know what you&#39;ve configured (or didn&#39;t configure) and what you expected to use, I can&#39;t answer directly, but I can explain how it works.\r\n\r\nIf you want to use locally installed Maven on master/slave\r\n---\r\n\r\n- You must have Maven locally installed\r\n- You must be able to launch it with `jenkins` user  \r\n1. Execute `sudo jenkins`, and then execute `mvn` on your Slave to verify that `jenkins` user can run `mvn`\r\n2. If that fails, you need to properly install/configure Maven\r\n- In Job configuration, for Maven Version, you **must** select `Default`. This is the setting that uses the version that&#39;s installed locally on the node\r\n\r\nIf you want to have Jenkins install Maven for you\r\n-----\r\n\r\n- You must go to Jenkins Global Tool Configuration, and configure a Maven version with automatic installer (from the web).\r\n- In Job configuration, for Maven Version, you must select **that** particular version that you&#39;ve just configured.","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>There are multiple things here.</p>\n\n<p>You either didn't select Maven version in Job configuration.\nOr you didn't configure Jenkins to install a Maven version.\nOr you expected to use locally installed Maven on the Slave, but it's not configured for <code>jenkins</code> user.</p>\n\n<p>Since I don't know what you've configured (or didn't configure) and what you expected to use, I can't answer directly, but I can explain how it works.</p>\n\n<h2>If you want to use locally installed Maven on master/slave</h2>\n\n<ul>\n<li>You must have Maven locally installed</li>\n<li>You must be able to launch it with <code>jenkins</code> user  \n\n<ol>\n<li>Execute <code>sudo jenkins</code>, and then execute <code>mvn</code> on your Slave to verify that <code>jenkins</code> user can run <code>mvn</code></li>\n<li>If that fails, you need to properly install/configure Maven</li>\n</ol></li>\n<li>In Job configuration, for Maven Version, you <strong>must</strong> select <code>Default</code>. This is the setting that uses the version that's installed locally on the node</li>\n</ul>\n\n<h2>If you want to have Jenkins install Maven for you</h2>\n\n<ul>\n<li>You must go to Jenkins Global Tool Configuration, and configure a Maven version with automatic installer (from the web).</li>\n<li>In Job configuration, for Maven Version, you must select <strong>that</strong> particular version that you've just configured.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1495747435,"creation_date":1495747435,"answer_id":44190069,"question_id":26906972,"body_markdown":"If you are just looking for simplest solution then you should go to global jenkins configuration\r\n\r\n    http://localhost:32773/configureTools/\r\n\r\nAnd configure maven like that\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen you have to go to your project. Inside settings you have build. Chose maven which you have created a minute ago.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eGgi0.png\r\n  [2]: https://i.stack.imgur.com/hIWWd.jpg","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>If you are just looking for simplest solution then you should go to global jenkins configuration</p>\n\n<pre><code>http://localhost:32773/configureTools/\n</code></pre>\n\n<p>And configure maven like that</p>\n\n<p><a href=\"https://i.stack.imgur.com/eGgi0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eGgi0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then you have to go to your project. Inside settings you have build. Chose maven which you have created a minute ago.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hIWWd.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hIWWd.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7938451,"reputation":652,"user_id":5993488,"display_name":"Radhakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511262830,"creation_date":1511262830,"answer_id":47411718,"question_id":26906972,"body_markdown":"After configured Maven in globally\r\nCreated **Build a maven2/3 project** job instead of B**uild a free-style software project** and post build sonar works fine!","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>After configured Maven in globally\nCreated <strong>Build a maven2/3 project</strong> job instead of B<strong>uild a free-style software project</strong> and post build sonar works fine!</p>\n"},{"tags":[],"owner":{"account_id":3169753,"reputation":764,"user_id":2679033,"display_name":"Rajitha Bhanuka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574835215,"creation_date":1574835215,"answer_id":59064096,"question_id":26906972,"body_markdown":"I had the same problem I added maven in my global tool configuration but not worked. the reason is my instance is a [enter image description here][1]newly created one. I installed maven after that it worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WOBVm.png","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>I had the same problem I added maven in my global tool configuration but not worked. the reason is my instance is a <a href=\"https://i.stack.imgur.com/WOBVm.png\" rel=\"nofollow noreferrer\">enter image description here</a>newly created one. I installed maven after that it worked.</p>\n"},{"tags":[],"owner":{"account_id":4354066,"reputation":1065,"user_id":3553312,"accept_rate":0,"display_name":"K M Dilshan Udara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590929323,"creation_date":1590929323,"answer_id":62116469,"question_id":26906972,"body_markdown":"I had the same problem and i installed maven in Jenkins Server and issue was fixed.\r\n\r\n    sudo yum install maven","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>I had the same problem and i installed maven in Jenkins Server and issue was fixed.</p>\n\n<pre><code>sudo yum install maven\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12052515,"reputation":831,"user_id":8814904,"display_name":"Bharath Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602232630,"creation_date":1602232630,"answer_id":64276614,"question_id":26906972,"body_markdown":"I had the same problem on colab and i installed mav in Jenkins Server and issue was fixed.\r\n\r\n    !sudo apt install maven\r\n\r\n    import imagej;\r\n    ij = imagej.init(); \r\n    print(ij.getVersion())","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>I had the same problem on colab and i installed mav in Jenkins Server and issue was fixed.</p>\n<pre><code>!sudo apt install maven\n\nimport imagej;\nij = imagej.init(); \nprint(ij.getVersion())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624897500,"creation_date":1624897500,"answer_id":68166887,"question_id":26906972,"body_markdown":"I had the same problem, but my solution turned out to be very specific. I post it anyway, someone may have the same problem.\r\n\r\nI had installed a new JDK before this happened. Even though Maven declared it uses the right Java version (as displayed from `mvn -version`), there seemed a problem with the installation either not being fully completed or Maven not having registered the new version correctly. I really don&#39;t know, but after trying to figure out for two hours, I decided to restart Ubuntu, and after that, the problem was gone. ","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>I had the same problem, but my solution turned out to be very specific. I post it anyway, someone may have the same problem.</p>\n<p>I had installed a new JDK before this happened. Even though Maven declared it uses the right Java version (as displayed from <code>mvn -version</code>), there seemed a problem with the installation either not being fully completed or Maven not having registered the new version correctly. I really don't know, but after trying to figure out for two hours, I decided to restart Ubuntu, and after that, the problem was gone.</p>\n"},{"tags":[],"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654070601,"creation_date":1654070601,"answer_id":72458337,"question_id":26906972,"body_markdown":"If you are using slave node to run the job and get same error while running job then chances are there that you have not configured tools location in your slave node configuration in Jenkins.\r\n\r\nUnder Dashboard -&gt; Nodes -&gt; **Slave name**\r\n\r\nIn Node Properties section -&gt; Check Tool Locations check box and add maven as tool with actual installation path on slave machine(see attached image).\r\n[![enter image description here][1]][1]\r\nRerun your job once it is configured and error should go away.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IIfE1.png","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>If you are using slave node to run the job and get same error while running job then chances are there that you have not configured tools location in your slave node configuration in Jenkins.</p>\n<p>Under Dashboard -&gt; Nodes -&gt; <strong>Slave name</strong></p>\n<p>In Node Properties section -&gt; Check Tool Locations check box and add maven as tool with actual installation path on slave machine(see attached image).\n<a href=\"https://i.stack.imgur.com/IIfE1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIfE1.png\" alt=\"enter image description here\" /></a>\nRerun your job once it is configured and error should go away.</p>\n"}],"owner":{"account_id":1687005,"reputation":2986,"user_id":1550073,"accept_rate":66,"display_name":"Mario Dennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92123,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":26911953,"answer_count":8,"score":40,"last_activity_date":1654070601,"creation_date":1415875407,"question_id":26906972,"body_markdown":"I&#39;m doing a build on my Ubuntu 14.04 LTS but I&#39;m getting the following:\r\n\r\n    Started by user anonymous\r\n    Building in workspace /var/lib/jenkins/workspace/videovixx\r\n     &gt; /usr/bin/git rev-parse --is-inside-work-tree # timeout=10\r\n    Fetching changes from the remote Git repository\r\n     &gt; /usr/bin/git config remote.origin.url https://bitbucket.org/mdennis10/videovixx.git #     timeout=10\r\n    Fetching upstream changes from https://bitbucket.org/mdennis10/videovixx.git\r\n     &gt; /usr/bin/git --version # timeout=10\r\n    using .gitcredentials to set credentials\r\n     &gt; /usr/bin/git config --local credential.helper store --    file=/tmp/git6236060328558794078.credentials # timeout=10\r\n     &gt; /usr/bin/git fetch --tags --progress https://bitbucket.org/mdennis10/videovixx.git   +refs/heads/*:refs/remotes/origin/*\r\n     &gt; /usr/bin/git config --local --remove-section credential # timeout=10\r\n     &gt; /usr/bin/git rev-parse refs/remotes/origin/master^{commit} # timeout=10\r\n     &gt; /usr/bin/git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10\r\n    Checking out Revision f5c53e95d33c1e15abd7519346c18ec6bc0c81d7      (refs/remotes/origin/master)\r\n     &gt; /usr/bin/git config core.sparsecheckout # timeout=10\r\n     &gt; /usr/bin/git checkout -f f5c53e95d33c1e15abd7519346c18ec6bc0c81d7\r\n     &gt; /usr/bin/git rev-list f5c53e95d33c1e15abd7519346c18ec6bc0c81d7 # timeout=10\r\n    [videovixx] $ mvn install package\r\n    FATAL: command execution failed\r\n    java.io.IOException: Cannot run program &quot;mvn&quot; (in directory    &quot;/var/lib/jenkins/workspace/videovixx&quot;): error=2, No such file or directory\r\n\t\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1047)\r\n\t\tat hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:244)\r\n\t\tat hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:216)\r\n\t\tat hudson.Launcher$LocalLauncher.launch(Launcher.java:802)\r\n\t\tat hudson.Launcher$ProcStarter.start(Launcher.java:380)\r\n\t\tat hudson.Launcher$ProcStarter.join(Launcher.java:387)\r\n\t\tat hudson.tasks.Maven.perform(Maven.java:328)\r\n\t\tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n\t\tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:770)\r\n\t\tat hudson.model.Build$BuildExecution.build(Build.java:199)\r\n\t\tat hudson.model.Build$BuildExecution.doRun(Build.java:160)\r\n\t\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:533)\r\n\t\tat hudson.model.Run.execute(Run.java:1745)\r\n\t\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n\t\tat hudson.model.ResourceController.execute(ResourceController.java:89)\r\n\t\tat hudson.model.Executor.run(Executor.java:240)\r\n    Caused by: java.io.IOException: error=2, No such file or directory\r\n\t\tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n\t\tat java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:186)\r\n\t\tat java.lang.ProcessImpl.start(ProcessImpl.java:130)\r\n\t\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1028)\r\n\t\t... 15 more\r\n    Build step &#39;Invoke top-level Maven targets&#39; marked build as failure\r\n    Archiving artifacts\r\n    Recording test results\r\n    Finished: FAILURE\r\n\r\nI&#39;m assuming that this caused by some linux security feature that stops the /var/lib/jenkins/workspace/videovixx from being created without the correct permissions\r\nwhich I might not have. Is this the problem and how do I solve it?","title":"Cannot run program &quot;mvn&quot; error=2, No such file or directory","body":"<p>I'm doing a build on my Ubuntu 14.04 LTS but I'm getting the following:</p>\n\n<pre><code>Started by user anonymous\nBuilding in workspace /var/lib/jenkins/workspace/videovixx\n &gt; /usr/bin/git rev-parse --is-inside-work-tree # timeout=10\nFetching changes from the remote Git repository\n &gt; /usr/bin/git config remote.origin.url https://bitbucket.org/mdennis10/videovixx.git #     timeout=10\nFetching upstream changes from https://bitbucket.org/mdennis10/videovixx.git\n &gt; /usr/bin/git --version # timeout=10\nusing .gitcredentials to set credentials\n &gt; /usr/bin/git config --local credential.helper store --    file=/tmp/git6236060328558794078.credentials # timeout=10\n &gt; /usr/bin/git fetch --tags --progress https://bitbucket.org/mdennis10/videovixx.git   +refs/heads/*:refs/remotes/origin/*\n &gt; /usr/bin/git config --local --remove-section credential # timeout=10\n &gt; /usr/bin/git rev-parse refs/remotes/origin/master^{commit} # timeout=10\n &gt; /usr/bin/git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10\nChecking out Revision f5c53e95d33c1e15abd7519346c18ec6bc0c81d7      (refs/remotes/origin/master)\n &gt; /usr/bin/git config core.sparsecheckout # timeout=10\n &gt; /usr/bin/git checkout -f f5c53e95d33c1e15abd7519346c18ec6bc0c81d7\n &gt; /usr/bin/git rev-list f5c53e95d33c1e15abd7519346c18ec6bc0c81d7 # timeout=10\n[videovixx] $ mvn install package\nFATAL: command execution failed\njava.io.IOException: Cannot run program \"mvn\" (in directory    \"/var/lib/jenkins/workspace/videovixx\"): error=2, No such file or directory\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1047)\n    at hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:244)\n    at hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:216)\n    at hudson.Launcher$LocalLauncher.launch(Launcher.java:802)\n    at hudson.Launcher$ProcStarter.start(Launcher.java:380)\n    at hudson.Launcher$ProcStarter.join(Launcher.java:387)\n    at hudson.tasks.Maven.perform(Maven.java:328)\n    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:770)\n    at hudson.model.Build$BuildExecution.build(Build.java:199)\n    at hudson.model.Build$BuildExecution.doRun(Build.java:160)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:533)\n    at hudson.model.Run.execute(Run.java:1745)\n    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\n    at hudson.model.ResourceController.execute(ResourceController.java:89)\n    at hudson.model.Executor.run(Executor.java:240)\nCaused by: java.io.IOException: error=2, No such file or directory\n    at java.lang.UNIXProcess.forkAndExec(Native Method)\n    at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:186)\n    at java.lang.ProcessImpl.start(ProcessImpl.java:130)\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1028)\n    ... 15 more\nBuild step 'Invoke top-level Maven targets' marked build as failure\nArchiving artifacts\nRecording test results\nFinished: FAILURE\n</code></pre>\n\n<p>I'm assuming that this caused by some linux security feature that stops the /var/lib/jenkins/workspace/videovixx from being created without the correct permissions\nwhich I might not have. Is this the problem and how do I solve it?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2824501,"reputation":449,"user_id":2427414,"accept_rate":0,"display_name":"Zamir"},"score":1,"creation_date":1654028072,"post_id":72453242,"comment_id":127993686,"body_markdown":"Can you create a new user after dockerizing?","body":"Can you create a new user after dockerizing?"},{"owner":{"account_id":23471540,"reputation":35,"user_id":17524975,"display_name":"Albert Hofmann"},"score":0,"creation_date":1654055710,"post_id":72453242,"comment_id":127998314,"body_markdown":"@Zamir My registration page and registration form works, its redirect me to another page with success message, but probably it only seems like works and data not saved in db. Idk how to check postgresql data in docker container, I tried several solutions for that but its doesnt worked for me","body":"@Zamir My registration page and registration form works, its redirect me to another page with success message, but probably it only seems like works and data not saved in db. Idk how to check postgresql data in docker container, I tried several solutions for that but its doesnt worked for me"},{"owner":{"account_id":23471540,"reputation":35,"user_id":17524975,"display_name":"Albert Hofmann"},"score":0,"creation_date":1654067291,"post_id":72453242,"comment_id":128000596,"body_markdown":"@Zamir I just asked another person to test my app and he said that my login system worked properly on his computer. So this problem relevant only to me","body":"@Zamir I just asked another person to test my app and he said that my login system worked properly on his computer. So this problem relevant only to me"}],"answers":[{"tags":[],"owner":{"account_id":23471540,"reputation":35,"user_id":17524975,"display_name":"Albert Hofmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654070573,"creation_date":1654070573,"answer_id":72458334,"question_id":72453242,"body_markdown":"Problem was solved. i just made git push with .gitignore, clone this repo, run &quot;./mvnw clean package&quot;, delete docker container, images and then run &quot;docker-compose up&quot;","title":"Authentication error &quot;bad credentials&quot; only in docker container","body":"<p>Problem was solved. i just made git push with .gitignore, clone this repo, run &quot;./mvnw clean package&quot;, delete docker container, images and then run &quot;docker-compose up&quot;</p>\n"}],"owner":{"account_id":23471540,"reputation":35,"user_id":17524975,"display_name":"Albert Hofmann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654070573,"creation_date":1654025357,"question_id":72453242,"body_markdown":"I have standart formlogin and it works, my app saves user data into db in register page and checks data and authenticate user in login page. But when I use docker I get &quot;Bad credentials&quot; error in login page even if I wrote proper login and password. Here&#39;s my code:\r\n\r\napplication.properties:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    \r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=&lt;password&gt;\r\n    \r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.database=postgresql\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\r\n    \r\n    spring.main.allow-circular-references=true\r\n    \r\n    management.endpoints.web.exposure.include=*\r\n    management.trace.http.include=RESPONSE_HEADERS, PRINCIPAL\r\n\r\ndocker-compose:\r\n\r\n    version: &#39;3.4&#39;\r\n    \r\n    services:\r\n      app:\r\n        image: app\r\n        build:\r\n          context: .\r\n          dockerfile: ./Dockerfile\r\n        ports:\r\n          - 8080:8080\r\n        container_name: app\r\n        depends_on:\r\n          - db\r\n        environment:\r\n          - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/postgres\r\n          - SPRING_DATASOURCE_USERNAME=postgres\r\n          - SPRING_DATASOURCE_PASSWORD=&lt;password&gt;\r\n          - SPRING_JPA_HIBERNATE_DDL_AUTO=create\r\n          - spring.datasource.driver-class-name=org.postgresql.Driver\r\n          - spring.jpa.database=postgresql\r\n          - spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\r\n    \r\n      db:\r\n        image: &#39;postgres:13.1-alpine&#39;\r\n        container_name: db\r\n        volumes:\r\n                - sample_db:/var/lib/postgresql/data\r\n        environment:\r\n          - POSTGRES_USER=postgres\r\n          - POSTGRES_PASSWORD=&lt;password&gt;\r\n          - POSTGRES_DB=postgres\r\n          - PGDATA=/var/lib/postgresql/data/pgdata\r\n        ports:\r\n          - 5432:5432\r\n    volumes:\r\n      sample_db: {}\r\n        \r\n\r\ncontroller:\r\n\r\n      @GetMapping(&quot;/register&quot;)\r\n    public String showRegistrationForm(Model model) {\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;signup&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/process_register&quot;)\r\n    public String processRegister(User user) {\r\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n        String encodedPassword = passwordEncoder.encode(user.getPassword());\r\n        user.setPassword(encodedPassword);\r\n        userRepository.save(user);\r\n        return &quot;register_success&quot;;\r\n    }\r\n\r\n\r\ntemplate:\r\n\r\n    &lt;form th:action=&quot;@{/process_register}&quot; th:object=&quot;${user}&quot;\r\n                method=&quot;post&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\r\n            &lt;div class=&quot;m-3&quot;&gt;\r\n                &lt;div class=&quot;form-group row&quot;&gt;\r\n                    &lt;label class=&quot;col-4 col-form-label&quot;&gt;E-mail: &lt;/label&gt;\r\n                    &lt;div class=&quot;col-8&quot;&gt;\r\n                        &lt;input type=&quot;email&quot; th:field=&quot;*{email}&quot; class=&quot;form-control&quot; required /&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                 \r\n                &lt;div class=&quot;form-group row&quot;&gt;\r\n                    &lt;label class=&quot;col-4 col-form-label&quot;&gt;Password: &lt;/label&gt;\r\n                    &lt;div class=&quot;col-8&quot;&gt;\r\n                        &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot; class=&quot;form-control&quot;\r\n                                required minlength=&quot;6&quot; maxlength=&quot;10&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                 \r\n                &lt;div&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Sign Up&lt;/button&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;/form&gt;\r\n\r\nUser:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n         \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n         \r\n        @Column(nullable = false, unique = true, length = 45)\r\n        private String email;\r\n         \r\n        @Column(nullable = false, length = 64)\r\n        private String password;\r\n    \r\n        User() {}\r\n    \r\n        public User(Long id, String email, String password) {\r\n            this.id = id;\r\n            this.email = email;\r\n            this.password = password;\r\n        }","title":"Authentication error &quot;bad credentials&quot; only in docker container","body":"<p>I have standart formlogin and it works, my app saves user data into db in register page and checks data and authenticate user in login page. But when I use docker I get &quot;Bad credentials&quot; error in login page even if I wrote proper login and password. Here's my code:</p>\n<p>application.properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=&lt;password&gt;\n\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.database=postgresql\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\n\nspring.main.allow-circular-references=true\n\nmanagement.endpoints.web.exposure.include=*\nmanagement.trace.http.include=RESPONSE_HEADERS, PRINCIPAL\n</code></pre>\n<p>docker-compose:</p>\n<pre><code>version: '3.4'\n\nservices:\n  app:\n    image: app\n    build:\n      context: .\n      dockerfile: ./Dockerfile\n    ports:\n      - 8080:8080\n    container_name: app\n    depends_on:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/postgres\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=&lt;password&gt;\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=create\n      - spring.datasource.driver-class-name=org.postgresql.Driver\n      - spring.jpa.database=postgresql\n      - spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\n\n  db:\n    image: 'postgres:13.1-alpine'\n    container_name: db\n    volumes:\n            - sample_db:/var/lib/postgresql/data\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=&lt;password&gt;\n      - POSTGRES_DB=postgres\n      - PGDATA=/var/lib/postgresql/data/pgdata\n    ports:\n      - 5432:5432\nvolumes:\n  sample_db: {}\n    \n</code></pre>\n<p>controller:</p>\n<pre><code>  @GetMapping(&quot;/register&quot;)\npublic String showRegistrationForm(Model model) {\n    model.addAttribute(&quot;user&quot;, new User());\n    return &quot;signup&quot;;\n}\n\n@PostMapping(&quot;/process_register&quot;)\npublic String processRegister(User user) {\n    BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n    String encodedPassword = passwordEncoder.encode(user.getPassword());\n    user.setPassword(encodedPassword);\n    userRepository.save(user);\n    return &quot;register_success&quot;;\n}\n</code></pre>\n<p>template:</p>\n<pre><code>&lt;form th:action=&quot;@{/process_register}&quot; th:object=&quot;${user}&quot;\n            method=&quot;post&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\n        &lt;div class=&quot;m-3&quot;&gt;\n            &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label class=&quot;col-4 col-form-label&quot;&gt;E-mail: &lt;/label&gt;\n                &lt;div class=&quot;col-8&quot;&gt;\n                    &lt;input type=&quot;email&quot; th:field=&quot;*{email}&quot; class=&quot;form-control&quot; required /&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n             \n            &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label class=&quot;col-4 col-form-label&quot;&gt;Password: &lt;/label&gt;\n                &lt;div class=&quot;col-8&quot;&gt;\n                    &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot; class=&quot;form-control&quot;\n                            required minlength=&quot;6&quot; maxlength=&quot;10&quot;/&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n             \n            &lt;div&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Sign Up&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>User:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n     \n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n     \n    @Column(nullable = false, unique = true, length = 45)\n    private String email;\n     \n    @Column(nullable = false, length = 64)\n    private String password;\n\n    User() {}\n\n    public User(Long id, String email, String password) {\n        this.id = id;\n        this.email = email;\n        this.password = password;\n    }\n</code></pre>\n"},{"tags":["java","spring","forms","components","vaadin"],"comments":[{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":2,"creation_date":1654054636,"post_id":72455015,"comment_id":127998168,"body_markdown":"Please also show how the `ComboBoxs` class is implemented.","body":"Please also show how the <code>ComboBoxs</code> class is implemented."},{"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"score":0,"creation_date":1654062647,"post_id":72455015,"comment_id":127999503,"body_markdown":"Sure, I have already added it.","body":"Sure, I have already added it."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1654063202,"post_id":72455015,"comment_id":127999646,"body_markdown":"Looks to that you should keep hold of the created combo-box and then use `getValues()` on it. I am not sure, that the purpose of reading the text from the divs there is.  Also I&#39;m suspicious about the `@Route` on the `ComboBoxs`?","body":"Looks to that you should keep hold of the created combo-box and then use <code>getValues()</code> on it. I am not sure, that the purpose of reading the text from the divs there is.  Also I&#39;m suspicious about the <code>@Route</code> on the <code>ComboBoxs</code>?"},{"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"score":0,"creation_date":1654065062,"post_id":72455015,"comment_id":128000092,"body_markdown":"Hello. I try to get the selected value in the ComboBox, but I&#39;m not able to access the getValue() method from the component. Maybe is not being initialized in the right way.","body":"Hello. I try to get the selected value in the ComboBox, but I&#39;m not able to access the getValue() method from the component. Maybe is not being initialized in the right way."},{"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"score":0,"creation_date":1654065097,"post_id":72455015,"comment_id":128000108,"body_markdown":"The Route annotation is something from Vaadim, but I can remove it from the code and still having the same issue.","body":"The Route annotation is something from Vaadim, but I can remove it from the code and still having the same issue."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1654069802,"post_id":72455015,"comment_id":128001481,"body_markdown":"@cfrick Yes, correct. Classes with `@Route` should not be instantiated by new operator.","body":"@cfrick Yes, correct. Classes with <code>@Route</code> should not be instantiated by new operator."}],"answers":[{"tags":[],"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654070514,"creation_date":1654069923,"answer_id":72458182,"question_id":72455015,"body_markdown":"Your `FieldGetter` is looking at the wrong place. Those Divs have no texts set  (which might be what you assumed would happen by `comboBox.setValue(customValue)`).\r\n\r\nGenerally, your code is a bit convoluted. You don&#39;t need all those Divs and abstractions.\r\n\r\nTry\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n    private final List&lt;String&gt; visualizationList = new ArrayList&lt;&gt;(Arrays.asList(&quot;FAST&quot;, &quot;REAL TIME&quot;));\r\n\r\n    public HelloWorldView() {\r\n        ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(&quot;Visualisation&quot;);\r\n        comboBox.setAllowCustomValue(true);\r\n        comboBox.addCustomValueSetListener(e -&gt; {\r\n            String customValue = e.getDetail();\r\n            visualizationList.add(customValue);\r\n            comboBox.setItems(visualizationList);\r\n            comboBox.setValue(customValue);\r\n        });\r\n        add(comboBox);\r\n        comboBox.setItems(visualizationList);\r\n\r\n        Button printValues = new Button(&quot;Print&quot;);\r\n        printValues.addClickListener(e -&gt; {\r\n            System.out.println(Arrays.toString(visualizationList.toArray(new String[0])));\r\n            System.out.println(&quot;Value is now:&quot;+ comboBox.getValue() );\r\n        });\r\n        comboBox.addValueChangeListener(e-&gt; System.out.println(&quot;Value changed from &quot;  + e.getOldValue() + &quot; to &quot; + e.getValue()));\r\n        add(printValues);        }       }\r\n\r\n\r\nStart, the program (I used the starter from start.vaadin.com), select &quot;FAST&quot;, then delete &quot;FAST&quot;, enter &quot;Slow&quot; and hit &lt;return/enter&gt;. Then click the print button.\r\n\r\nThe output will look like this:\r\n\r\nValue changed from null to FAST&lt;br&gt;\r\nValue changed from FAST to null&lt;br&gt;\r\nValue changed from null to Slow&lt;br&gt;\r\n[FAST, REAL TIME, Slow]&lt;br&gt;\r\nValue is now:Slow&lt;br&gt;\r\n\r\nHope this helps!\r\n","title":"Vaadin returning the component values","body":"<p>Your <code>FieldGetter</code> is looking at the wrong place. Those Divs have no texts set  (which might be what you assumed would happen by <code>comboBox.setValue(customValue)</code>).</p>\n<p>Generally, your code is a bit convoluted. You don't need all those Divs and abstractions.</p>\n<p>Try</p>\n<pre><code>public class HelloWorldView extends HorizontalLayout {\n\nprivate final List&lt;String&gt; visualizationList = new ArrayList&lt;&gt;(Arrays.asList(&quot;FAST&quot;, &quot;REAL TIME&quot;));\n\npublic HelloWorldView() {\n    ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(&quot;Visualisation&quot;);\n    comboBox.setAllowCustomValue(true);\n    comboBox.addCustomValueSetListener(e -&gt; {\n        String customValue = e.getDetail();\n        visualizationList.add(customValue);\n        comboBox.setItems(visualizationList);\n        comboBox.setValue(customValue);\n    });\n    add(comboBox);\n    comboBox.setItems(visualizationList);\n\n    Button printValues = new Button(&quot;Print&quot;);\n    printValues.addClickListener(e -&gt; {\n        System.out.println(Arrays.toString(visualizationList.toArray(new String[0])));\n        System.out.println(&quot;Value is now:&quot;+ comboBox.getValue() );\n    });\n    comboBox.addValueChangeListener(e-&gt; System.out.println(&quot;Value changed from &quot;  + e.getOldValue() + &quot; to &quot; + e.getValue()));\n    add(printValues);        }       }\n</code></pre>\n<p>Start, the program (I used the starter from start.vaadin.com), select &quot;FAST&quot;, then delete &quot;FAST&quot;, enter &quot;Slow&quot; and hit &lt;return/enter&gt;. Then click the print button.</p>\n<p>The output will look like this:</p>\n<p>Value changed from null to FAST<br>\nValue changed from FAST to null<br>\nValue changed from null to Slow<br>\n[FAST, REAL TIME, Slow]<br>\nValue is now:Slow<br></p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72458182,"answer_count":1,"score":0,"last_activity_date":1654070514,"creation_date":1654039424,"question_id":72455015,"body_markdown":"I am working in a form in Vaadin, and I want to retrieve all the values selected in the components, but they are always empty.\r\n\r\nThis is the class were the components are defined and stored in a ArrayLIst to send to another classes and methods of the project.\r\n\r\n    public class MainView extends Div {\r\n    \r\n        ProjectConfiguration configuration = new ProjectConfiguration();\r\n    \r\n        private final List&lt;String&gt; visualizationList = new ArrayList&lt;&gt;(Arrays.asList(&quot;FAST&quot;, &quot;REAL TIME&quot;));\r\n        private final List&lt;String&gt; resolutionList = new ArrayList&lt;&gt;(Arrays.asList(&quot;320 x 200&quot;, &quot;640 x 400&quot;));\r\n        private final List&lt;String&gt; audioRate = new ArrayList&lt;&gt;(Arrays.asList(&quot;44100&quot;, &quot;48000&quot;));\r\n    \r\n        public void ShowForm() {\r\n    \r\n            ComboBoxs comboResolution = new ComboBoxs(resolutionList,&quot;Video resolution&quot;,&quot;Select a resolution for the exported video&quot;);\r\n            ComboBoxs comboVideoVisualization = new ComboBoxs(visualizationList,&quot;Export visualization&quot;, &quot;Select the visualization of the video export&quot;);\r\n            ComboBoxs comboAudioRate = new ComboBoxs(audioRate,&quot;Audio rate&quot;, &quot;Select the audio rate for the video export&quot;);\r\n            CheckStats checkStats = new CheckStats();\r\n            ArrayList&lt;Div&gt; fieldValues = new ArrayList&lt;Div&gt;();\r\n            fieldValues.add(comboResolution);\r\n            fieldValues.add(comboVideoVisualization);\r\n            fieldValues.add(comboAudioRate);\r\n            fieldValues.add(checkStats);\r\n            SubmitButton submitButton = new SubmitButton(configuration, fieldValues);\r\n        }\r\n    }\r\nAnd this Submit button is writting this configuration into a global POJO class.\r\n\r\n    public class SubmitButton extends Div {\r\n\r\n    public SubmitButton(ProjectConfiguration configuration, ArrayList&lt;Div&gt; fields) {\r\n        Button submitButton = new Button(&quot;Create video&quot;);\r\n\r\n        submitButton.addClickListener(clickEvent -&gt; {\r\n            submitConfiguration(configuration, fields);\r\n        });\r\n        add(submitButton);\r\n    }\r\n    private void submitConfiguration(ProjectConfiguration configuration, ArrayList&lt;Div&gt; fields) {\r\n        new FieldGetter(configuration, fields);\r\n    }\r\n    }\r\n\r\nAnd this same instance, if I send it to a new method outside to this class I always get an empty value.\r\n\r\n    public class FieldGetter {\r\n    \r\n        public FieldGetter(ProjectConfiguration configuration, ArrayList&lt;Div&gt; fields, String exportFileName) {\r\n            log.info(&quot;Text 1 &quot; + fields.get(0).getText());\r\n            log.info(&quot;Text 2 &quot; + fields.get(1).getText());\r\n            log.info(&quot;Text 3 &quot; + fields.get(2).getText());\r\n            log.info(&quot;Text 4 &quot; + fields.get(3).getText());\r\n    }}\r\n\r\nAll these components have information. All ComboBox is selected, and the Stats is clicked.\r\nWhat I&#39;m doing wrong? Which method I need to use to get the selection.\r\nThank you very much.\r\n\r\n***\r\nI&#39;m adding the ComboBoxs class implemented, as requested.\r\n\r\n    @Route(&quot;combo&quot;)\r\n    public class ComboBoxs extends Div {\r\n    \r\n        public ComboBoxs(List&lt;String&gt; arrayList, String label, String helperText) {\r\n            ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(label);\r\n            comboBox.setAllowCustomValue(true);\r\n            comboBox.addCustomValueSetListener(e -&gt; {\r\n                String customValue = e.getDetail();\r\n                arrayList.add(customValue);\r\n                comboBox.setItems(arrayList);\r\n                comboBox.setValue(customValue);\r\n            });\r\n            add(comboBox);\r\n            comboBox.setItems(arrayList);\r\n            comboBox.setHelperText(helperText);\r\n        }\r\n    }","title":"Vaadin returning the component values","body":"<p>I am working in a form in Vaadin, and I want to retrieve all the values selected in the components, but they are always empty.</p>\n<p>This is the class were the components are defined and stored in a ArrayLIst to send to another classes and methods of the project.</p>\n<pre><code>public class MainView extends Div {\n\n    ProjectConfiguration configuration = new ProjectConfiguration();\n\n    private final List&lt;String&gt; visualizationList = new ArrayList&lt;&gt;(Arrays.asList(&quot;FAST&quot;, &quot;REAL TIME&quot;));\n    private final List&lt;String&gt; resolutionList = new ArrayList&lt;&gt;(Arrays.asList(&quot;320 x 200&quot;, &quot;640 x 400&quot;));\n    private final List&lt;String&gt; audioRate = new ArrayList&lt;&gt;(Arrays.asList(&quot;44100&quot;, &quot;48000&quot;));\n\n    public void ShowForm() {\n\n        ComboBoxs comboResolution = new ComboBoxs(resolutionList,&quot;Video resolution&quot;,&quot;Select a resolution for the exported video&quot;);\n        ComboBoxs comboVideoVisualization = new ComboBoxs(visualizationList,&quot;Export visualization&quot;, &quot;Select the visualization of the video export&quot;);\n        ComboBoxs comboAudioRate = new ComboBoxs(audioRate,&quot;Audio rate&quot;, &quot;Select the audio rate for the video export&quot;);\n        CheckStats checkStats = new CheckStats();\n        ArrayList&lt;Div&gt; fieldValues = new ArrayList&lt;Div&gt;();\n        fieldValues.add(comboResolution);\n        fieldValues.add(comboVideoVisualization);\n        fieldValues.add(comboAudioRate);\n        fieldValues.add(checkStats);\n        SubmitButton submitButton = new SubmitButton(configuration, fieldValues);\n    }\n}\n</code></pre>\n<p>And this Submit button is writting this configuration into a global POJO class.</p>\n<pre><code>public class SubmitButton extends Div {\n\npublic SubmitButton(ProjectConfiguration configuration, ArrayList&lt;Div&gt; fields) {\n    Button submitButton = new Button(&quot;Create video&quot;);\n\n    submitButton.addClickListener(clickEvent -&gt; {\n        submitConfiguration(configuration, fields);\n    });\n    add(submitButton);\n}\nprivate void submitConfiguration(ProjectConfiguration configuration, ArrayList&lt;Div&gt; fields) {\n    new FieldGetter(configuration, fields);\n}\n}\n</code></pre>\n<p>And this same instance, if I send it to a new method outside to this class I always get an empty value.</p>\n<pre><code>public class FieldGetter {\n\n    public FieldGetter(ProjectConfiguration configuration, ArrayList&lt;Div&gt; fields, String exportFileName) {\n        log.info(&quot;Text 1 &quot; + fields.get(0).getText());\n        log.info(&quot;Text 2 &quot; + fields.get(1).getText());\n        log.info(&quot;Text 3 &quot; + fields.get(2).getText());\n        log.info(&quot;Text 4 &quot; + fields.get(3).getText());\n}}\n</code></pre>\n<p>All these components have information. All ComboBox is selected, and the Stats is clicked.\nWhat I'm doing wrong? Which method I need to use to get the selection.\nThank you very much.</p>\n<hr />\n<p>I'm adding the ComboBoxs class implemented, as requested.</p>\n<pre><code>@Route(&quot;combo&quot;)\npublic class ComboBoxs extends Div {\n\n    public ComboBoxs(List&lt;String&gt; arrayList, String label, String helperText) {\n        ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;(label);\n        comboBox.setAllowCustomValue(true);\n        comboBox.addCustomValueSetListener(e -&gt; {\n            String customValue = e.getDetail();\n            arrayList.add(customValue);\n            comboBox.setItems(arrayList);\n            comboBox.setValue(customValue);\n        });\n        add(comboBox);\n        comboBox.setItems(arrayList);\n        comboBox.setHelperText(helperText);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","pojo"],"answers":[{"tags":[],"owner":{"account_id":1555070,"reputation":607,"user_id":1446455,"display_name":"GrumpyWelshGit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654070364,"creation_date":1654039397,"answer_id":72455013,"question_id":72454140,"body_markdown":"Geesh, don&#39;t recognise this format! If you want to use Jackson you could pre-process you data to wrap the values... perhaps a regex to catpure the groups and wrap the values in quotes something like `(name|type):\\s(.+)` =&gt; `$1: &quot;$2&quot;`\r\n\r\n&gt; I was wondering if pojo class would work?\r\n\r\nSure, you could make that work with a simple parser; plenty of room for improvement, but something like this would do it:\r\n\r\n        Record record = null;\r\n        var records = new LinkedList&lt;&gt;();\r\n        // I&#39;m using a reader as example, but just provide lines any way you like\r\n        while ((line = reader.readLine()) != null) {\r\n            line = line.trim();\r\n            // may need to skip empty lines if you have them in your file...\r\n            if (line.equals(&quot;{&quot;)) {\r\n                record = new Record();\r\n                records.add(record);\r\n            } else {\r\n                // may need substrings if your data contains &quot;:&quot;\r\n                var tokens = line.split(&quot;:&quot;);\r\n                var field = tokens[0];\r\n                var value = tokens[1];\r\n                if (field.equals(&quot;name&quot;)) {\r\n                    // perhaps shuffle the format to something nicer here..\r\n                    record.setName(value);\r\n                }\r\n                /// same for game and type fields...\r\n            }\r\n        }\r\n\r\n","title":"How can I parse invalid JSON to Java Object using Pojo Class","body":"<p>Geesh, don't recognise this format! If you want to use Jackson you could pre-process you data to wrap the values... perhaps a regex to catpure the groups and wrap the values in quotes something like <code>(name|type):\\s(.+)</code> =&gt; <code>$1: &quot;$2&quot;</code></p>\n<blockquote>\n<p>I was wondering if pojo class would work?</p>\n</blockquote>\n<p>Sure, you could make that work with a simple parser; plenty of room for improvement, but something like this would do it:</p>\n<pre><code>    Record record = null;\n    var records = new LinkedList&lt;&gt;();\n    // I'm using a reader as example, but just provide lines any way you like\n    while ((line = reader.readLine()) != null) {\n        line = line.trim();\n        // may need to skip empty lines if you have them in your file...\n        if (line.equals(&quot;{&quot;)) {\n            record = new Record();\n            records.add(record);\n        } else {\n            // may need substrings if your data contains &quot;:&quot;\n            var tokens = line.split(&quot;:&quot;);\n            var field = tokens[0];\n            var value = tokens[1];\n            if (field.equals(&quot;name&quot;)) {\n                // perhaps shuffle the format to something nicer here..\n                record.setName(value);\n            }\n            /// same for game and type fields...\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25440035,"reputation":37,"user_id":19243142,"display_name":"gcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654070364,"creation_date":1654031250,"question_id":72454140,"body_markdown":"I&#39;m not sure what format this object is in but can I parse the following invalid JSON object to Java class Pojo? I tried doing it using Jackson but since it&#39;s invalid, I was wondering if pojo class would work?\r\n\r\n    { \r\n        name: (sindey, crosby)\r\n        game: &quot;Hockey&quot;\r\n        type: athlete\r\n    }\r\nThe file would have multiple objects of this format","title":"How can I parse invalid JSON to Java Object using Pojo Class","body":"<p>I'm not sure what format this object is in but can I parse the following invalid JSON object to Java class Pojo? I tried doing it using Jackson but since it's invalid, I was wondering if pojo class would work?</p>\n<pre><code>{ \n    name: (sindey, crosby)\n    game: &quot;Hockey&quot;\n    type: athlete\n}\n</code></pre>\n<p>The file would have multiple objects of this format</p>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"score":0,"creation_date":1654040094,"post_id":72454356,"comment_id":127996267,"body_markdown":"How are you running/starting your code? This should not happen as vertx uses server-sharing https://vertx.io/docs/vertx-core/java/#_server_sharing","body":"How are you running/starting your code? This should not happen as vertx uses server-sharing <a href=\"https://vertx.io/docs/vertx-core/java/#_server_sharing\" rel=\"nofollow noreferrer\">vertx.io/docs/vertx-core/java/#_server_sharing</a>"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1654042519,"post_id":72454356,"comment_id":127996601,"body_markdown":"I manage to deploy multiple verticle but only two are used, any idea why?","body":"I manage to deploy multiple verticle but only two are used, any idea why?"}],"answers":[{"tags":[],"owner":{"account_id":6410611,"reputation":41,"user_id":13292230,"display_name":"kartikone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654055589,"creation_date":1654045680,"answer_id":72455481,"question_id":72454356,"body_markdown":"An instance of a verticle defaults to having an event loop pool with number of threads = 2 * number of cores on the machine. For argument&#39;s sake, let us assume that there are `x` physical cores with hyperthreading; this means that there are `2x` virtual cores. \r\n\r\nThis does not mean that a single instance of the verticle will immediately create the maximum number of threads, that will correspondingly utilize all of the virtual cores, which with hyperthreading would cause all `x` physical cores to be utilized (this is managed by the OS). This would be closer to multithreading behaviour as opposed to reactive, event-driven behaviour of a framework like Vert.x.\r\n\r\nIn Vert.x, the number of threads actually created are dynamically managed by the framework. [Here][1] is a nice analysis of the same. Adherence to the design principles of Vert.x such as writing non-blocking code, utilizing worker pools would be the way to optimize performance. Specifically for number of instances, I found [this][2] that suggests starting with one instance per physical core and scaling up to test.\r\n\r\nHere is the complete code I used to test your example, where I was able to deploy the verticle with multiple instances.\r\n\r\n```\r\npublic class TestVerticle extends AbstractVerticle {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(TestVerticle.class);\r\n\r\n    private static Vertx vertx;\r\n\r\n    public static void main(String[] args) {\r\n        VertxOptions options = new VertxOptions().setWorkerPoolSize(100);\r\n        DeploymentOptions deploymentOptions = new DeploymentOptions().setInstances(20);\r\n        vertx = Vertx.vertx(options);\r\n        vertx.deployVerticle(TestVerticle.class, deploymentOptions);\r\n    }\r\n\r\n    @Override\r\n    public void start(Promise&lt;Void&gt; startPromise) {\r\n        LOGGER.info(&quot;Preparing Async Flow Http proxy server....&quot;);\r\n        Router router = Router.router(vertx);\r\n        router.route().handler(BodyHandler.create());\r\n        router.route(GET, &quot;/ready&quot;).respond(ctx -&gt; Future.succeededFuture());\r\n        router.route(GET, &quot;/health&quot;).respond(ctx -&gt; Future.succeededFuture());\r\n        router.route(GET, &quot;/request&quot;).respond(ctx -&gt; Future.succeededFuture(new JsonObject().put(&quot;hello&quot;, &quot;world&quot;)));\r\n\r\n        HttpServer server = vertx.createHttpServer();\r\n        server.requestHandler(router).listen(8080, http -&gt; {\r\n            if (http.succeeded()) {\r\n                LOGGER.info(&quot;Async-flow-http-proxy running......&quot;);\r\n                startPromise.complete();\r\n            } else {\r\n                startPromise.fail(http.cause());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://alexey-soshin.medium.com/understanding-vert-x-event-loop-46373115fb3e\r\n  [2]: https://groups.google.com/g/vertx/c/eTWG_NI2SZw","title":"Vertx run multiple event loops","body":"<p>An instance of a verticle defaults to having an event loop pool with number of threads = 2 * number of cores on the machine. For argument's sake, let us assume that there are <code>x</code> physical cores with hyperthreading; this means that there are <code>2x</code> virtual cores.</p>\n<p>This does not mean that a single instance of the verticle will immediately create the maximum number of threads, that will correspondingly utilize all of the virtual cores, which with hyperthreading would cause all <code>x</code> physical cores to be utilized (this is managed by the OS). This would be closer to multithreading behaviour as opposed to reactive, event-driven behaviour of a framework like Vert.x.</p>\n<p>In Vert.x, the number of threads actually created are dynamically managed by the framework. <a href=\"https://alexey-soshin.medium.com/understanding-vert-x-event-loop-46373115fb3e\" rel=\"nofollow noreferrer\">Here</a> is a nice analysis of the same. Adherence to the design principles of Vert.x such as writing non-blocking code, utilizing worker pools would be the way to optimize performance. Specifically for number of instances, I found <a href=\"https://groups.google.com/g/vertx/c/eTWG_NI2SZw\" rel=\"nofollow noreferrer\">this</a> that suggests starting with one instance per physical core and scaling up to test.</p>\n<p>Here is the complete code I used to test your example, where I was able to deploy the verticle with multiple instances.</p>\n<pre><code>public class TestVerticle extends AbstractVerticle {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(TestVerticle.class);\n\n    private static Vertx vertx;\n\n    public static void main(String[] args) {\n        VertxOptions options = new VertxOptions().setWorkerPoolSize(100);\n        DeploymentOptions deploymentOptions = new DeploymentOptions().setInstances(20);\n        vertx = Vertx.vertx(options);\n        vertx.deployVerticle(TestVerticle.class, deploymentOptions);\n    }\n\n    @Override\n    public void start(Promise&lt;Void&gt; startPromise) {\n        LOGGER.info(&quot;Preparing Async Flow Http proxy server....&quot;);\n        Router router = Router.router(vertx);\n        router.route().handler(BodyHandler.create());\n        router.route(GET, &quot;/ready&quot;).respond(ctx -&gt; Future.succeededFuture());\n        router.route(GET, &quot;/health&quot;).respond(ctx -&gt; Future.succeededFuture());\n        router.route(GET, &quot;/request&quot;).respond(ctx -&gt; Future.succeededFuture(new JsonObject().put(&quot;hello&quot;, &quot;world&quot;)));\n\n        HttpServer server = vertx.createHttpServer();\n        server.requestHandler(router).listen(8080, http -&gt; {\n            if (http.succeeded()) {\n                LOGGER.info(&quot;Async-flow-http-proxy running......&quot;);\n                startPromise.complete();\n            } else {\n                startPromise.fail(http.cause());\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654070172,"creation_date":1654032961,"question_id":72454356,"body_markdown":"I have a situation where I need to scale up vertically, so I end up with a Virtual machine with `20 cores` and `5GB`.\r\n\r\nThe problem is that when I make a very big load of data, I cannot see the CPU used more than just one core. And what I would expect is see running the `20 cores` in `parallel`.\r\n\r\nI&#39;ve tried to create my `Vertx` with a Worker of `100` threads.\r\n\r\n\tVertxOptions options = new VertxOptions().setWorkerPoolSize(100);\r\n\tthis.asyncFlowVertx = Vertx.vertx(options);\r\n\r\nBut still my service is not using all cores.\r\n\r\nWhat else can I configure to allow my server run more request in parallel?\r\n\r\n\r\nHaving this code how can I deploy multiple Verticle without bindaddress exceptions\r\n\r\n    @Override\r\n    public void start(Promise&lt;Void&gt; startPromise) {\r\n    \tlogger.info(&quot;Preparing Async Flow Http proxy server....&quot;);\r\n    \tRouter router = Router.router(asyncFlowVertx);\r\n    \trouter.route().handler(BodyHandler.create());\r\n    \trouter.route(GET, &quot;/ready&quot;).respond(ctx -&gt; Future.succeededFuture());\r\n    \trouter.route(GET, &quot;/health&quot;).respond(ctx -&gt; Future.succeededFuture());\r\n    \trouter.route(POST, &quot;/request&quot;).respond(this::processRequest);\r\n    \trouter.route(POST, &quot;/response&quot;).respond(this::processResponse);\r\n    \r\n    \tserver = asyncFlowVertx.createHttpServer();\r\n    \tserver.requestHandler(router).listen(port, http -&gt; {\r\n    \t\tif (http.succeeded()) {\r\n    \t\t\tlogger.info(&quot;Async-flow-http-proxy running......&quot;);\r\n    \t\t\tstartPromise.complete();\r\n    \t\t} else {\r\n    \t\t\tstartPromise.fail(http.cause());\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\n\r\nIf I try \r\n\r\n    DeploymentOptions options = new DeploymentOptions().setInstances(20);\r\n    vertx.deployVerticle(&quot;com.bla.MyVerticle&quot;, options);\r\n\r\nI get bind address exception\r\n\r\n**SOLUTION**\r\n\r\nI manage to deploy multiple verticles, but even deploying 20, I can only see in my logs run two event loops threads\r\n\r\n    var vertx = Vertx.vertx();\r\n    Router router = Router.router(vertx);\r\n    IntStream.range(0,20).forEach(i -&gt; {\r\n    \tlogger.info(&quot;Creating Vertx Verticle {}&quot;, i);\r\n    \tvertx.deployVerticle(new AsyncFlowHttpProxy(router));\r\n    });\r\n\r\n\r\nMy Verticle need some dependencies in the constructor, and If I try to create multiple Verticle like this\r\n\r\n    VertxOptions options = new VertxOptions();\r\n    \toptions.setWorkerPoolSize(100);\r\n    \tvar vertx = Vertx.vertx(options);\r\n    \tRouter router = Router.router(vertx);\r\n    \tDeploymentOptions deploymentOptions = new DeploymentOptions().setInstances(20);\r\n    \tvertx.deployVerticle(new AsyncFlowHttpProxy(port, nextServicePort, nextServiceName, router), deploymentOptions);\r\n\r\n\r\nI got this error\r\n\r\n    java.lang.IllegalArgumentException: Can&#39;t specify &gt; 1 instances for already created verticle\r\n\r\n\r\n\r\nAny idea why?\r\n\r\nRegards\r\n\r\n","title":"Vertx run multiple event loops","body":"<p>I have a situation where I need to scale up vertically, so I end up with a Virtual machine with <code>20 cores</code> and <code>5GB</code>.</p>\n<p>The problem is that when I make a very big load of data, I cannot see the CPU used more than just one core. And what I would expect is see running the <code>20 cores</code> in <code>parallel</code>.</p>\n<p>I've tried to create my <code>Vertx</code> with a Worker of <code>100</code> threads.</p>\n<pre><code>VertxOptions options = new VertxOptions().setWorkerPoolSize(100);\nthis.asyncFlowVertx = Vertx.vertx(options);\n</code></pre>\n<p>But still my service is not using all cores.</p>\n<p>What else can I configure to allow my server run more request in parallel?</p>\n<p>Having this code how can I deploy multiple Verticle without bindaddress exceptions</p>\n<pre><code>@Override\npublic void start(Promise&lt;Void&gt; startPromise) {\n    logger.info(&quot;Preparing Async Flow Http proxy server....&quot;);\n    Router router = Router.router(asyncFlowVertx);\n    router.route().handler(BodyHandler.create());\n    router.route(GET, &quot;/ready&quot;).respond(ctx -&gt; Future.succeededFuture());\n    router.route(GET, &quot;/health&quot;).respond(ctx -&gt; Future.succeededFuture());\n    router.route(POST, &quot;/request&quot;).respond(this::processRequest);\n    router.route(POST, &quot;/response&quot;).respond(this::processResponse);\n\n    server = asyncFlowVertx.createHttpServer();\n    server.requestHandler(router).listen(port, http -&gt; {\n        if (http.succeeded()) {\n            logger.info(&quot;Async-flow-http-proxy running......&quot;);\n            startPromise.complete();\n        } else {\n            startPromise.fail(http.cause());\n        }\n    });\n}\n</code></pre>\n<p>If I try</p>\n<pre><code>DeploymentOptions options = new DeploymentOptions().setInstances(20);\nvertx.deployVerticle(&quot;com.bla.MyVerticle&quot;, options);\n</code></pre>\n<p>I get bind address exception</p>\n<p><strong>SOLUTION</strong></p>\n<p>I manage to deploy multiple verticles, but even deploying 20, I can only see in my logs run two event loops threads</p>\n<pre><code>var vertx = Vertx.vertx();\nRouter router = Router.router(vertx);\nIntStream.range(0,20).forEach(i -&gt; {\n    logger.info(&quot;Creating Vertx Verticle {}&quot;, i);\n    vertx.deployVerticle(new AsyncFlowHttpProxy(router));\n});\n</code></pre>\n<p>My Verticle need some dependencies in the constructor, and If I try to create multiple Verticle like this</p>\n<pre><code>VertxOptions options = new VertxOptions();\n    options.setWorkerPoolSize(100);\n    var vertx = Vertx.vertx(options);\n    Router router = Router.router(vertx);\n    DeploymentOptions deploymentOptions = new DeploymentOptions().setInstances(20);\n    vertx.deployVerticle(new AsyncFlowHttpProxy(port, nextServicePort, nextServiceName, router), deploymentOptions);\n</code></pre>\n<p>I got this error</p>\n<pre><code>java.lang.IllegalArgumentException: Can't specify &gt; 1 instances for already created verticle\n</code></pre>\n<p>Any idea why?</p>\n<p>Regards</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654070090,"creation_date":1654070090,"answer_id":72458218,"question_id":72457834,"body_markdown":"[setText()](https://developer.android.com/reference/android/widget/TextView#setText(java.lang.CharSequence)) takes a `CharSequence` as parameter, not a `char`. Use `substring` instead of `chartAt`.\r\n```\r\nString str = editText.getText().toString();\r\nString first = str.substring(0,1);\r\ntextView.setText(first);\r\n```","title":"how do you print the characters of a string in android studio code on textview","body":"<p><a href=\"https://developer.android.com/reference/android/widget/TextView#setText(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">setText()</a> takes a <code>CharSequence</code> as parameter, not a <code>char</code>. Use <code>substring</code> instead of <code>chartAt</code>.</p>\n<pre><code>String str = editText.getText().toString();\nString first = str.substring(0,1);\ntextView.setText(first);\n</code></pre>\n"}],"owner":{"account_id":19744673,"reputation":1,"user_id":14457403,"display_name":"shivitch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654070090,"creation_date":1654068264,"question_id":72457834,"body_markdown":"```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView textView;\r\n    private EditText editText;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        editText = findViewById(R.id.editText);\r\n\r\n\r\n    }\r\n    public void display(View view)\r\n    {\r\n        String str=editText.getText().toString();\r\n        char first=str.charAt(0);\r\n\r\n        textView.setText(first);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n/*this code is to take input into a editText and then print characters of that string on the textView but i am not able to achieve that even thought the code doesn&#39;t show any errors on android studio code */\r\n\r\n// whenever i press the button which is connected to the display function it just crashes the app*/","title":"how do you print the characters of a string in android studio code on textview","body":"<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView textView;\n    private EditText editText;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        editText = findViewById(R.id.editText);\n\n\n    }\n    public void display(View view)\n    {\n        String str=editText.getText().toString();\n        char first=str.charAt(0);\n\n        textView.setText(first);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  }\n\n}\n</code></pre>\n<p>/*this code is to take input into a editText and then print characters of that string on the textView but i am not able to achieve that even thought the code doesn't show any errors on android studio code */</p>\n<p>// whenever i press the button which is connected to the display function it just crashes the app*/</p>\n"},{"tags":["java","inner-classes","instrumentation","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654069575,"creation_date":1654069575,"answer_id":72458108,"question_id":72453059,"body_markdown":"Instrumenting inner classes is tricky. Java classes contain so-called *inner class attributes* that describe Java class properties that compiled Java classes cannot represent. For example, a compiled Java class cannot be *private*, but you would still want to see this modifier for the inner class when using reflection.\r\n\r\nYou can consider to make your new class a top-level class by using `topLevelType()` in the DSL. You should also consider `noNestMate()` to avoid clashes there.","title":"How to instrument/rebase inner classes with Byte Buddy?","body":"<p>Instrumenting inner classes is tricky. Java classes contain so-called <em>inner class attributes</em> that describe Java class properties that compiled Java classes cannot represent. For example, a compiled Java class cannot be <em>private</em>, but you would still want to see this modifier for the inner class when using reflection.</p>\n<p>You can consider to make your new class a top-level class by using <code>topLevelType()</code> in the DSL. You should also consider <code>noNestMate()</code> to avoid clashes there.</p>\n"}],"owner":{"account_id":2551539,"reputation":56,"user_id":2215203,"display_name":"Tomasz Kosiński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654069575,"creation_date":1654024450,"question_id":72453059,"body_markdown":"Goal\r\n----\r\n\r\nI would like to create a plug-in wrapper to embed a Java code that will let me enable/disable methods annotated with JUnit5 Before* and After* annotations at runtime as well as handle in similar manner JUnit5 extensions (the ExtendWith annotation).\r\n\r\nI chose ByteBuddy as primary instrumentation library.\r\n\r\nI created a github repo here: https://github.com/azewiusz/bytebuddy_examples where I describe the idea in more detail. \r\n\r\nQuestion\r\n--------\r\n\r\nThe problem is that I cannot get instrumentation working for inner classes.\r\nI keep getting two exceptions:\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Failed to invoke proxy for\r\n&gt; public abstract java.lang.reflect.AnnotatedElement\r\n&gt; net.bytebuddy.description.method.MethodDescription$InDefinedShape$AbstractBase$Executable.getAnnotatedReceiverType(java.lang.Object)\r\n\r\npreceded by\r\n\r\n&gt; Caused by: java.lang.IncompatibleClassChangeError\r\n&gt; tests.TestSetWithInnerClasses and\r\n&gt; tests.TestSetWithInnerClasses$HelperTestFilteredOutExtendWithInnerClass\r\n&gt; disagree on InnerClasses attribute\r\n\r\nA test class that reproduces is here:\r\nhttps://github.com/azewiusz/bytebuddy_examples/blob/master/src/test/java/tests/CoreInstrumentationTest.java\r\n\r\n-&gt; Look there for test2\r\n\r\nIt fails at this transformation:\r\n```java\r\nfinal Class strippedOffExtendWithAnnotation = filterOutJUnit5ExtendWithAnnotation(\r\ntestClass, classLoader );\r\n\r\nClass beforeAll = stagedTypeTransform( strippedOffExtendWithAnnotation,\r\n                new ByteBuddy().rebase( strippedOffExtendWithAnnotation,\r\n                                ClassFileLocator.ForClassLoader.of( classLoader ) )\r\n                        .name( testClass.getName() + &quot;BeforeAll&quot; )\r\n                        .method( ElementMatchers\r\n                        .isAnnotatedWith( BeforeAll.class ) )\r\n                        .intercept( MethodDelegation.to( InterceptorForBeforeAllAnnotation.class ) ).make() );\r\n```\r\n\r\n\r\n\r\nI found following that seem to refer to similar problem:\r\n\r\n - https://stackoverflow.com/questions/34560790/how-to-access-type-annotations-on-a-receiver-types-parameters\r\n - https://github.com/raphw/byte-buddy/issues/83\r\n - https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7003595 (seems\r\n   to be partially related)\r\n\r\nBut haven&#39;t found yet an exact solution.","title":"How to instrument/rebase inner classes with Byte Buddy?","body":"<h2>Goal</h2>\n<p>I would like to create a plug-in wrapper to embed a Java code that will let me enable/disable methods annotated with JUnit5 Before* and After* annotations at runtime as well as handle in similar manner JUnit5 extensions (the ExtendWith annotation).</p>\n<p>I chose ByteBuddy as primary instrumentation library.</p>\n<p>I created a github repo here: <a href=\"https://github.com/azewiusz/bytebuddy_examples\" rel=\"nofollow noreferrer\">https://github.com/azewiusz/bytebuddy_examples</a> where I describe the idea in more detail.</p>\n<h2>Question</h2>\n<p>The problem is that I cannot get instrumentation working for inner classes.\nI keep getting two exceptions:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Failed to invoke proxy for\npublic abstract java.lang.reflect.AnnotatedElement\nnet.bytebuddy.description.method.MethodDescription$InDefinedShape$AbstractBase$Executable.getAnnotatedReceiverType(java.lang.Object)</p>\n</blockquote>\n<p>preceded by</p>\n<blockquote>\n<p>Caused by: java.lang.IncompatibleClassChangeError\ntests.TestSetWithInnerClasses and\ntests.TestSetWithInnerClasses$HelperTestFilteredOutExtendWithInnerClass\ndisagree on InnerClasses attribute</p>\n</blockquote>\n<p>A test class that reproduces is here:\n<a href=\"https://github.com/azewiusz/bytebuddy_examples/blob/master/src/test/java/tests/CoreInstrumentationTest.java\" rel=\"nofollow noreferrer\">https://github.com/azewiusz/bytebuddy_examples/blob/master/src/test/java/tests/CoreInstrumentationTest.java</a></p>\n<p>-&gt; Look there for test2</p>\n<p>It fails at this transformation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Class strippedOffExtendWithAnnotation = filterOutJUnit5ExtendWithAnnotation(\ntestClass, classLoader );\n\nClass beforeAll = stagedTypeTransform( strippedOffExtendWithAnnotation,\n                new ByteBuddy().rebase( strippedOffExtendWithAnnotation,\n                                ClassFileLocator.ForClassLoader.of( classLoader ) )\n                        .name( testClass.getName() + &quot;BeforeAll&quot; )\n                        .method( ElementMatchers\n                        .isAnnotatedWith( BeforeAll.class ) )\n                        .intercept( MethodDelegation.to( InterceptorForBeforeAllAnnotation.class ) ).make() );\n</code></pre>\n<p>I found following that seem to refer to similar problem:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34560790/how-to-access-type-annotations-on-a-receiver-types-parameters\">How to access type annotations on a receiver type&#39;s parameters</a></li>\n<li><a href=\"https://github.com/raphw/byte-buddy/issues/83\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/issues/83</a></li>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7003595\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7003595</a> (seems\nto be partially related)</li>\n</ul>\n<p>But haven't found yet an exact solution.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1328442194,"post_id":9148899,"comment_id":11503169,"body_markdown":"If the main thread must wait for the handler thread to finish before returning from the method, why use a handler thread in the first place?","body":"If the main thread must wait for the handler thread to finish before returning from the method, why use a handler thread in the first place?"},{"owner":{"account_id":1024487,"reputation":3556,"user_id":1034102,"accept_rate":83,"display_name":"litterbugkid"},"score":2,"creation_date":1328443166,"post_id":9148899,"comment_id":11503314,"body_markdown":"@JBNizet I didnt include the complexity of what the Thread actually does. It&#39;s getting gps coordinates so yes I do need a Thread.","body":"@JBNizet I didnt include the complexity of what the Thread actually does. It&#39;s getting gps coordinates so yes I do need a Thread."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1328457896,"post_id":9148899,"comment_id":11505767,"body_markdown":"Regardless of the complexity of the thread, if the thread that laustarts it immediately waits for its result after starting it, there is no point in starting a different thread: the starting thread will be blocked as if it did the work itself.","body":"Regardless of the complexity of the thread, if the thread that laustarts it immediately waits for its result after starting it, there is no point in starting a different thread: the starting thread will be blocked as if it did the work itself."},{"owner":{"account_id":1024487,"reputation":3556,"user_id":1034102,"accept_rate":83,"display_name":"litterbugkid"},"score":0,"creation_date":1328470860,"post_id":9148899,"comment_id":11508395,"body_markdown":"@JBNizet I&#39;m not too sure what you mean.. would you mind explaining it in a different way?","body":"@JBNizet I&#39;m not too sure what you mean.. would you mind explaining it in a different way?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1328471788,"post_id":9148899,"comment_id":11508640,"body_markdown":"A thread is used to be able to execute something in the background, and be able to do something else while the background thread executes. If you start a thread, and then block immediately until the thread stops, you could do the task done by the thread yourself, and it wouldn&#39;t make any difference, except it would be much simpler.","body":"A thread is used to be able to execute something in the background, and be able to do something else while the background thread executes. If you start a thread, and then block immediately until the thread stops, you could do the task done by the thread yourself, and it wouldn&#39;t make any difference, except it would be much simpler."},{"owner":{"account_id":1024487,"reputation":3556,"user_id":1034102,"accept_rate":83,"display_name":"litterbugkid"},"score":0,"creation_date":1328479834,"post_id":9148899,"comment_id":11510549,"body_markdown":"@JBNizet I&#39;m not blocking immediately though. I&#39;m trying to log gps trails using gps satellities. So I need to use Threads so it continually gets location data, and sleeps while a location hasn&#39;t been found. It does this in the background.","body":"@JBNizet I&#39;m not blocking immediately though. I&#39;m trying to log gps trails using gps satellities. So I need to use Threads so it continually gets location data, and sleeps while a location hasn&#39;t been found. It does this in the background."},{"owner":{"account_id":894800,"reputation":1400,"user_id":932324,"accept_rate":94,"display_name":"OrhanC1"},"score":0,"creation_date":1401376417,"post_id":9148899,"comment_id":36867866,"body_markdown":"@Neeta - It sounds like you need callbacks. Callbacks are for when you want to run some code based on an asynchronous event.","body":"@Neeta - It sounds like you need callbacks. Callbacks are for when you want to run some code based on an asynchronous event."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1446054156,"post_id":9148899,"comment_id":54587340,"body_markdown":"Possible duplicate of [How can a Thread return a value after finishing its job?](http://stackoverflow.com/questions/3141158/how-can-a-thread-return-a-value-after-finishing-its-job)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3141158/how-can-a-thread-return-a-value-after-finishing-its-job\">How can a Thread return a value after finishing its job?</a>"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1554370493,"creation_date":1328442321,"answer_id":9148954,"question_id":9148899,"body_markdown":"Usually you would do it something like this\r\n\r\n\r\n     public class Foo implements Runnable {\r\n         private volatile int value;\r\n\r\n         @Override\r\n         public void run() {\r\n            value = 2;\r\n         }\r\n\r\n         public int getValue() {\r\n             return value;\r\n         }\r\n     }\r\n\r\nThen you can create the thread and retrieve the value (given that the value has been set)\r\n\r\n    Foo foo = new Foo();\r\n    Thread thread = new Thread(foo);\r\n    thread.start();\r\n    thread.join();\r\n    int value = foo.getValue();\r\n\r\n---\r\n\r\n`tl;dr` a thread cannot return a value (at least not without a callback mechanism). You should reference a thread like an ordinary class and ask for the value. ","title":"Returning value from Thread","body":"<p>Usually you would do it something like this</p>\n\n<pre><code> public class Foo implements Runnable {\n     private volatile int value;\n\n     @Override\n     public void run() {\n        value = 2;\n     }\n\n     public int getValue() {\n         return value;\n     }\n }\n</code></pre>\n\n<p>Then you can create the thread and retrieve the value (given that the value has been set)</p>\n\n<pre><code>Foo foo = new Foo();\nThread thread = new Thread(foo);\nthread.start();\nthread.join();\nint value = foo.getValue();\n</code></pre>\n\n<hr>\n\n<p><code>tl;dr</code> a thread cannot return a value (at least not without a callback mechanism). You should reference a thread like an ordinary class and ask for the value. </p>\n"},{"tags":[],"owner":{"account_id":1223308,"reputation":1843,"user_id":1189488,"accept_rate":100,"display_name":"Detheroc"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1507563816,"creation_date":1328442396,"answer_id":9148964,"question_id":9148899,"body_markdown":"What you are looking for is probably the `Callable&lt;V&gt;` interface in place of `Runnable`, and retrieving the value with a `Future&lt;V&gt;` object, which also lets you wait until the value has been computed. You can achieve this with an `ExecutorService`, which you can get from `Executors.newSingleThreadExecutor()` .\r\n\r\n    public void test() {\r\n        int x;\r\n        ExecutorService es = Executors.newSingleThreadExecutor();\r\n        Future&lt;Integer&gt; result = es.submit(new Callable&lt;Integer&gt;() {\r\n            public Integer call() throws Exception {\r\n                // the other thread\r\n                return 2;\r\n            }\r\n        });\r\n        try {\r\n            x = result.get();\r\n        } catch (Exception e) {\r\n            // failed\r\n        }\r\n        es.shutdown();\r\n    }","title":"Returning value from Thread","body":"<p>What you are looking for is probably the <code>Callable&lt;V&gt;</code> interface in place of <code>Runnable</code>, and retrieving the value with a <code>Future&lt;V&gt;</code> object, which also lets you wait until the value has been computed. You can achieve this with an <code>ExecutorService</code>, which you can get from <code>Executors.newSingleThreadExecutor()</code> .</p>\n\n<pre><code>public void test() {\n    int x;\n    ExecutorService es = Executors.newSingleThreadExecutor();\n    Future&lt;Integer&gt; result = es.submit(new Callable&lt;Integer&gt;() {\n        public Integer call() throws Exception {\n            // the other thread\n            return 2;\n        }\n    });\n    try {\n        x = result.get();\n    } catch (Exception e) {\n        // failed\n    }\n    es.shutdown();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1446053449,"creation_date":1328442691,"answer_id":9148992,"question_id":9148899,"body_markdown":"You can use a local final variable array. The variable needs to be of non-primitive type, so you can use an array. You also need to synchronize the two threads, for example using a [CountDownLatch][1]:\r\n\r\n    public void test()\r\n    {   \r\n        final CountDownLatch latch = new CountDownLatch(1);\r\n        final int[] value = new int[1];\r\n        Thread uiThread = new HandlerThread(&quot;UIHandler&quot;){\r\n            @Override\r\n            public void run(){\r\n                value[0] = 2;\r\n                latch.countDown(); // Release await() in the test thread.\r\n            }\r\n        };\r\n        uiThread.start();\r\n        latch.await(); // Wait for countDown() in the UI thread. Or could uiThread.join();\r\n        // value[0] holds 2 at this point.\r\n    }\r\n\r\nYou can also use an [`Executor`][2] and a [`Callable`][3] like this:\r\n\r\n    public void test() throws InterruptedException, ExecutionException\r\n    {   \r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        Callable&lt;Integer&gt; callable = new Callable&lt;Integer&gt;() {\r\n            @Override\r\n            public Integer call() {\r\n                return 2;\r\n            }\r\n        };\r\n        Future&lt;Integer&gt; future = executor.submit(callable);\r\n        // future.get() returns 2 or raises an exception if the thread dies, so safer\r\n        executor.shutdown();\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html","title":"Returning value from Thread","body":"<p>You can use a local final variable array. The variable needs to be of non-primitive type, so you can use an array. You also need to synchronize the two threads, for example using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\">CountDownLatch</a>:</p>\n\n<pre><code>public void test()\n{   \n    final CountDownLatch latch = new CountDownLatch(1);\n    final int[] value = new int[1];\n    Thread uiThread = new HandlerThread(\"UIHandler\"){\n        @Override\n        public void run(){\n            value[0] = 2;\n            latch.countDown(); // Release await() in the test thread.\n        }\n    };\n    uiThread.start();\n    latch.await(); // Wait for countDown() in the UI thread. Or could uiThread.join();\n    // value[0] holds 2 at this point.\n}\n</code></pre>\n\n<p>You can also use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html\"><code>Executor</code></a> and a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\"><code>Callable</code></a> like this:</p>\n\n<pre><code>public void test() throws InterruptedException, ExecutionException\n{   \n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Callable&lt;Integer&gt; callable = new Callable&lt;Integer&gt;() {\n        @Override\n        public Integer call() {\n            return 2;\n        }\n    };\n    Future&lt;Integer&gt; future = executor.submit(callable);\n    // future.get() returns 2 or raises an exception if the thread dies, so safer\n    executor.shutdown();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328442848,"creation_date":1328442848,"answer_id":9149019,"question_id":9148899,"body_markdown":"If you want the value from the calling method, then it should wait for the thread to finish, which makes using threads a bit pointless.\r\n\r\nTo directly answer you question, the value can be stored in any mutable object both the calling method and the thread both have a reference to. You could use the outer `this`, but that isn&#39;t going to be particularly useful other than for trivial examples.\r\n\r\nA little note on the code in the question: Extending `Thread` is usually poor style. Indeed extending classes unnecessarily is a bad idea. I notice you `run` method is synchronised for some reason. Now as the object in this case is the `Thread` you may interfere with whatever `Thread` uses its lock for (in the reference implementation, something to do with `join`, IIRC).","title":"Returning value from Thread","body":"<p>If you want the value from the calling method, then it should wait for the thread to finish, which makes using threads a bit pointless.</p>\n\n<p>To directly answer you question, the value can be stored in any mutable object both the calling method and the thread both have a reference to. You could use the outer <code>this</code>, but that isn't going to be particularly useful other than for trivial examples.</p>\n\n<p>A little note on the code in the question: Extending <code>Thread</code> is usually poor style. Indeed extending classes unnecessarily is a bad idea. I notice you <code>run</code> method is synchronised for some reason. Now as the object in this case is the <code>Thread</code> you may interfere with whatever <code>Thread</code> uses its lock for (in the reference implementation, something to do with <code>join</code>, IIRC).</p>\n"},{"tags":[],"owner":{"account_id":1428310,"reputation":11794,"user_id":1351298,"accept_rate":79,"display_name":"Electric Coffee"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1402754742,"creation_date":1388265101,"answer_id":20819425,"question_id":9148899,"body_markdown":"How about this solution?\r\n\r\nIt doesn&#39;t use the Thread class, but it IS concurrent, and in a way it does exactly what you request\r\n\r\n    ExecutorService pool = Executors.newFixedThreadPool(2); // creates a pool of threads for the Future to draw from\r\n\r\n    Future&lt;Integer&gt; value = pool.submit(new Callable&lt;Integer&gt;() {\r\n        @Override\r\n        public Integer call() {return 2;}\r\n    });\r\n\r\nNow all you do is say `value.get()` whenever you need to grab your returned value, the thread is started the very second you give `value` a value so you don&#39;t ever have to say `threadName.start()` on it.\r\n\r\nWhat a `Future` is, is a _promise_ to the program, you promise the program that you&#39;ll get it the value it needs sometime in the near future\r\n\r\nIf you call `.get()` on it before it&#39;s done, the thread that&#39;s calling it will simply just wait until it&#39;s done","title":"Returning value from Thread","body":"<p>How about this solution?</p>\n\n<p>It doesn't use the Thread class, but it IS concurrent, and in a way it does exactly what you request</p>\n\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool(2); // creates a pool of threads for the Future to draw from\n\nFuture&lt;Integer&gt; value = pool.submit(new Callable&lt;Integer&gt;() {\n    @Override\n    public Integer call() {return 2;}\n});\n</code></pre>\n\n<p>Now all you do is say <code>value.get()</code> whenever you need to grab your returned value, the thread is started the very second you give <code>value</code> a value so you don't ever have to say <code>threadName.start()</code> on it.</p>\n\n<p>What a <code>Future</code> is, is a <em>promise</em> to the program, you promise the program that you'll get it the value it needs sometime in the near future</p>\n\n<p>If you call <code>.get()</code> on it before it's done, the thread that's calling it will simply just wait until it's done</p>\n"},{"tags":[],"owner":{"account_id":4258989,"reputation":738,"user_id":3483824,"display_name":"bitsabhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439057635,"creation_date":1439057635,"answer_id":31897062,"question_id":9148899,"body_markdown":"Using Future described in above answers does the job, but a bit less significantly as f.get(), blocks the thread until it gets the result, which violates concurrency. \r\n\r\nBest solution is to use Guava&#39;s ListenableFuture. An example : \r\n\r\n        ListenableFuture&lt;Void&gt; future = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(1, new NamedThreadFactory).submit(new Callable&lt;Void&gt;()\r\n        {\r\n            @Override\r\n            public Void call() throws Exception\r\n            {\r\n                someBackgroundTask();\r\n            }\r\n        });\r\n        Futures.addCallback(future, new FutureCallback&lt;Long&gt;()\r\n        {\r\n            @Override\r\n            public void onSuccess(Long result)\r\n            {\r\n                doSomething();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable t)\r\n            {\r\n\r\n            }\r\n        };","title":"Returning value from Thread","body":"<p>Using Future described in above answers does the job, but a bit less significantly as f.get(), blocks the thread until it gets the result, which violates concurrency. </p>\n\n<p>Best solution is to use Guava's ListenableFuture. An example : </p>\n\n<pre><code>    ListenableFuture&lt;Void&gt; future = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(1, new NamedThreadFactory).submit(new Callable&lt;Void&gt;()\n    {\n        @Override\n        public Void call() throws Exception\n        {\n            someBackgroundTask();\n        }\n    });\n    Futures.addCallback(future, new FutureCallback&lt;Long&gt;()\n    {\n        @Override\n        public void onSuccess(Long result)\n        {\n            doSomething();\n        }\n\n        @Override\n        public void onFailure(Throwable t)\n        {\n\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504002372,"creation_date":1504002372,"answer_id":45936709,"question_id":9148899,"body_markdown":"With small modifications to your code, you can achieve it in a more generic way.\r\n\r\n  \r\n\r\n     final Handler responseHandler = new Handler(Looper.getMainLooper()){\r\n                @Override\r\n                public void handleMessage(Message msg) {\r\n                    //txtView.setText((String) msg.obj);\r\n                    Toast.makeText(MainActivity.this,\r\n                            &quot;Result from UIHandlerThread:&quot;+(int)msg.obj,\r\n                            Toast.LENGTH_LONG)\r\n                            .show();\r\n                }\r\n            };\r\n    \r\n            HandlerThread handlerThread = new HandlerThread(&quot;UIHandlerThread&quot;){\r\n                public void run(){\r\n                    Integer a = 2;\r\n                    Message msg = new Message();\r\n                    msg.obj = a;\r\n                    responseHandler.sendMessage(msg);\r\n                    System.out.println(a);\r\n                }\r\n            };\r\n            handlerThread.start();\r\n\r\nSolution :\r\n\r\n1. Create a `Handler` in UI Thread,which is called as `responseHandler`\r\n2. Initialize this `Handler` from `Looper` of UI Thread. \r\n3. In `HandlerThread`, post message on this `responseHandler`\r\n4. `handleMessgae` shows a `Toast` with value received from message. This Message object is generic and you can send different type of attributes.\r\n\r\nWith this approach, you can send multiple values to UI thread at different point of times. You can run (post) many `Runnable` objects on this `HandlerThread` and each `Runnable` can set value in `Message` object, which can be received by UI Thread. ","title":"Returning value from Thread","body":"<p>With small modifications to your code, you can achieve it in a more generic way.</p>\n\n<pre><code> final Handler responseHandler = new Handler(Looper.getMainLooper()){\n            @Override\n            public void handleMessage(Message msg) {\n                //txtView.setText((String) msg.obj);\n                Toast.makeText(MainActivity.this,\n                        \"Result from UIHandlerThread:\"+(int)msg.obj,\n                        Toast.LENGTH_LONG)\n                        .show();\n            }\n        };\n\n        HandlerThread handlerThread = new HandlerThread(\"UIHandlerThread\"){\n            public void run(){\n                Integer a = 2;\n                Message msg = new Message();\n                msg.obj = a;\n                responseHandler.sendMessage(msg);\n                System.out.println(a);\n            }\n        };\n        handlerThread.start();\n</code></pre>\n\n<p>Solution :</p>\n\n<ol>\n<li>Create a <code>Handler</code> in UI Thread,which is called as <code>responseHandler</code></li>\n<li>Initialize this <code>Handler</code> from <code>Looper</code> of UI Thread. </li>\n<li>In <code>HandlerThread</code>, post message on this <code>responseHandler</code></li>\n<li><code>handleMessgae</code> shows a <code>Toast</code> with value received from message. This Message object is generic and you can send different type of attributes.</li>\n</ol>\n\n<p>With this approach, you can send multiple values to UI thread at different point of times. You can run (post) many <code>Runnable</code> objects on this <code>HandlerThread</code> and each <code>Runnable</code> can set value in <code>Message</code> object, which can be received by UI Thread. </p>\n"},{"tags":[],"owner":{"account_id":12119886,"reputation":366,"user_id":8851882,"display_name":"Vinto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601023076,"creation_date":1519380790,"answer_id":48945478,"question_id":9148899,"body_markdown":"From Java 8 onwards we have `CompletableFuture`. \r\nOn your case, you may use the method `supplyAsync` to get the result after execution.\r\n\r\nPlease find some reference [here][1]. \r\n\r\n        CompletableFuture&lt;Integer&gt; completableFuture\r\n        &#160;&#160;= CompletableFuture.supplyAsync(() -&gt; yourMethod());\r\n\r\n       completableFuture.get() //gives you the value\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-completablefuture#Processing","title":"Returning value from Thread","body":"<p>From Java 8 onwards we have <code>CompletableFuture</code>.\nOn your case, you may use the method <code>supplyAsync</code> to get the result after execution.</p>\n<p>Please find some reference <a href=\"https://www.baeldung.com/java-completablefuture#Processing\" rel=\"noreferrer\">here</a>.</p>\n<pre><code>    CompletableFuture&lt;Integer&gt; completableFuture\n      = CompletableFuture.supplyAsync(() -&gt; yourMethod());\n\n   completableFuture.get() //gives you the value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192936,"reputation":848,"user_id":434361,"accept_rate":60,"display_name":"Joel Chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617457769,"creation_date":1617367837,"answer_id":66919607,"question_id":9148899,"body_markdown":"Here is a cleaner approach, you just need a bit change to your existing code. The goal is to get the result from the the Thread. It doesn&#39;t really have to be `return` a result. Instead, using a callback style to take that result and do further processing. \r\n\r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    String str = args[0];\r\n    int count = 0;\r\n\r\n    Thread t = new Thread(() -&gt;\r\n      someFuncToRun(str, count, (value) -&gt; {\r\n        System.out.println(value);\r\n        return value;\r\n      }));\r\n\r\n    t.start();\r\n  }\r\n  // Here I even run a recursive method because run things in the \r\n  // a thread sometime is to delegate those heavy lifting elsewhere\r\n  public static String someFuncToRun(String str, int ctn, Callback&lt;String&gt; p) {\r\n    ++ctn;\r\n    if (ctn == 10) {\r\n      System.out.println(&quot;End here&quot;);\r\n      return p.cb(str);\r\n    }\r\n    System.out.println(ctn + &quot; times&quot;);\r\n    return someFuncToRun(str + &quot; +1&quot;, ctn, p);\r\n  }\r\n}\r\n\r\n// The key is here, this allow you to pass a lambda callback to your method \r\n// update: use generic to allow passing different type of data\r\n// you could event make it &lt;T,S&gt; so input one type return another type  \r\ninterface Callback&lt;T&gt; {\r\n    public T cb(T a);\r\n}\r\n\r\n```","title":"Returning value from Thread","body":"<p>Here is a cleaner approach, you just need a bit change to your existing code. The goal is to get the result from the the Thread. It doesn't really have to be <code>return</code> a result. Instead, using a callback style to take that result and do further processing.</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) {\n    String str = args[0];\n    int count = 0;\n\n    Thread t = new Thread(() -&gt;\n      someFuncToRun(str, count, (value) -&gt; {\n        System.out.println(value);\n        return value;\n      }));\n\n    t.start();\n  }\n  // Here I even run a recursive method because run things in the \n  // a thread sometime is to delegate those heavy lifting elsewhere\n  public static String someFuncToRun(String str, int ctn, Callback&lt;String&gt; p) {\n    ++ctn;\n    if (ctn == 10) {\n      System.out.println(&quot;End here&quot;);\n      return p.cb(str);\n    }\n    System.out.println(ctn + &quot; times&quot;);\n    return someFuncToRun(str + &quot; +1&quot;, ctn, p);\n  }\n}\n\n// The key is here, this allow you to pass a lambda callback to your method \n// update: use generic to allow passing different type of data\n// you could event make it &lt;T,S&gt; so input one type return another type  \ninterface Callback&lt;T&gt; {\n    public T cb(T a);\n}\n\n</code></pre>\n"}],"owner":{"account_id":1024487,"reputation":3556,"user_id":1034102,"accept_rate":83,"display_name":"litterbugkid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289623,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":9148954,"answer_count":9,"score":121,"last_activity_date":1654069528,"creation_date":1328441767,"question_id":9148899,"body_markdown":"I have a method with a `HandlerThread`. A value gets changed inside the `Thread` and I&#39;d like to return it to the `test()` method. Is there a way to do this?\r\n \r\n    public void test()\r\n    {\t\r\n    \tThread uiThread = new HandlerThread(&quot;UIHandler&quot;){\r\n    \t\tpublic synchronized void run(){\r\n    \t\t\tint value; \r\n                value = 2; //To be returned to test()\r\n            }\r\n        };\r\n        uiThread.start();\r\n    }\r\n    \t\t\r\n     ","title":"Returning value from Thread","body":"<p>I have a method with a <code>HandlerThread</code>. A value gets changed inside the <code>Thread</code> and I'd like to return it to the <code>test()</code> method. Is there a way to do this?</p>\n\n<pre><code>public void test()\n{   \n    Thread uiThread = new HandlerThread(\"UIHandler\"){\n        public synchronized void run(){\n            int value; \n            value = 2; //To be returned to test()\n        }\n    };\n    uiThread.start();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1654069064,"post_id":72457964,"comment_id":128001223,"body_markdown":"Either change your method return type to BCryptPasswordEncoder or Add PasswordEncoder as you final variable type.","body":"Either change your method return type to BCryptPasswordEncoder or Add PasswordEncoder as you final variable type."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654074546,"post_id":72457964,"comment_id":128003120,"body_markdown":"Don&#39;t inject specific types, inject the interface. Change `BCryptPasswordEncoder` to `PasswordEncoder` in your configuration.","body":"Don&#39;t inject specific types, inject the interface. Change <code>BCryptPasswordEncoder</code> to <code>PasswordEncoder</code> in your configuration."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654069322,"creation_date":1654069322,"answer_id":72458064,"question_id":72457964,"body_markdown":"In your main class, the return type is wrong (or you need to change the class in your security config).\r\n\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        ...\r\n        private final BCryptPasswordEncoder bcpe;\r\n        ...\r\n    }\r\n\r\nRequires `BCryptPasswordEncoder`. However\r\n\r\n    public class JavaSpringBootApplication {\r\n        @Bean\r\n        PasswordEncoder passwordEncoder(){ // NEEDED TO ALLOW PASSWORD ENCODER INSIDE SECURITY\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nreturn `PasswordEncoder`. \r\n\r\nSo, either change return type of your bean to `BCryptPasswordEncoder` or autowire `PasswordEncoder` in your config.","title":"SecurityConfiguration required bean of type BCryptPasswordEncoder","body":"<p>In your main class, the return type is wrong (or you need to change the class in your security config).</p>\n<pre><code>public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    ...\n    private final BCryptPasswordEncoder bcpe;\n    ...\n}\n</code></pre>\n<p>Requires <code>BCryptPasswordEncoder</code>. However</p>\n<pre><code>public class JavaSpringBootApplication {\n    @Bean\n    PasswordEncoder passwordEncoder(){ // NEEDED TO ALLOW PASSWORD ENCODER INSIDE SECURITY\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>return <code>PasswordEncoder</code>.</p>\n<p>So, either change return type of your bean to <code>BCryptPasswordEncoder</code> or autowire <code>PasswordEncoder</code> in your config.</p>\n"}],"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72458064,"answer_count":1,"score":0,"last_activity_date":1654069322,"creation_date":1654068849,"question_id":72457964,"body_markdown":"I tried looking at a couple similar questions however, seems they use different methods/class structures\r\n\r\nI&#39;m also using Lombok (not sure if this is an issue)\r\n\r\nHere is the error:\r\n```\r\nParameter 1 of constructor in com.example.javaspringboot.Security.SecurityConfiguration required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found.\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; in your configuration.\r\n```\r\n\r\nThe class it references is the following:\r\n```\r\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final UserDetailsService uds; // VERIFY LOGIN ATTEMPTS\r\n    private final BCryptPasswordEncoder bcpe; // ENCODING PASSWORDS\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(uds).passwordEncoder(bcpe);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n//        super.configure(http); //USES COOKIES LOOK MORE INTO THIS\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().anyRequest().permitAll();\r\n        http.addFilter(new CustomAuthenticationFilter(authenticationManagerBean()));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception{ // NO IDEA \r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe only other class it is being used is in the main application class, as shown:\r\n```\r\n\r\n@SpringBootApplication\r\npublic class JavaSpringBootApplication {\r\n    // this runs on init\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JavaSpringBootApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder(){ // NEEDED TO ALLOW PASSWORD ENCODER INSIDE SECURITY\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s a little confusing considering the class it specifies already has @Bean outlined.\r\n\r\nAny suggestions are appreciated.","title":"SecurityConfiguration required bean of type BCryptPasswordEncoder","body":"<p>I tried looking at a couple similar questions however, seems they use different methods/class structures</p>\n<p>I'm also using Lombok (not sure if this is an issue)</p>\n<p>Here is the error:</p>\n<pre><code>Parameter 1 of constructor in com.example.javaspringboot.Security.SecurityConfiguration required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' in your configuration.\n</code></pre>\n<p>The class it references is the following:</p>\n<pre><code>@Configuration @EnableWebSecurity @RequiredArgsConstructor\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private final UserDetailsService uds; // VERIFY LOGIN ATTEMPTS\n    private final BCryptPasswordEncoder bcpe; // ENCODING PASSWORDS\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(uds).passwordEncoder(bcpe);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n//        super.configure(http); //USES COOKIES LOOK MORE INTO THIS\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(new CustomAuthenticationFilter(authenticationManagerBean()));\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception{ // NO IDEA \n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n<p>The only other class it is being used is in the main application class, as shown:</p>\n<pre><code>\n@SpringBootApplication\npublic class JavaSpringBootApplication {\n    // this runs on init\n    public static void main(String[] args) {\n        SpringApplication.run(JavaSpringBootApplication.class, args);\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder(){ // NEEDED TO ALLOW PASSWORD ENCODER INSIDE SECURITY\n        return new BCryptPasswordEncoder();\n    }\n        };\n    }\n}\n</code></pre>\n<p>It's a little confusing considering the class it specifies already has @Bean outlined.</p>\n<p>Any suggestions are appreciated.</p>\n"},{"tags":["java","tensorflow","machine-learning","tensorflow2.0","tensor"],"answers":[{"tags":[],"owner":{"account_id":7703559,"reputation":163,"user_id":5835208,"display_name":"J.Kent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654068137,"creation_date":1654068033,"answer_id":72457783,"question_id":72456670,"body_markdown":"Your question is *very, very* general, but I&#39;ll try to offer some insight: \r\n\r\n&gt; Firstly, if I have a bunch of parameters and each set of parameters is assigned an output is it possible to train a model to predict an output given similar parameters? \r\n\r\nTaking a set of parameters **(known as the feature set X)** and making predictions of another set of parameters **(known as the output set Y)** is the primary purpose of machine learning. Exactly *how* to do this requires many steps, how to do it well takes a lot of experience... However if you are asking if it is possible in principle, that depends on the specific feature set X, and output set Y. \r\n\r\n&gt;I am able to get hundreds of thousands samples (if needed) in order to train it so is this possible?\r\n\r\nThe trick to machine learning is the data must be of a sufficient **quantity *and* quality**. This takes domain specific knowledge to know. \r\n\r\nAre you able to provide any specifics about your data to help us understand? ","title":"Predictive model using TensorFlow","body":"<p>Your question is <em>very, very</em> general, but I'll try to offer some insight:</p>\n<blockquote>\n<p>Firstly, if I have a bunch of parameters and each set of parameters is assigned an output is it possible to train a model to predict an output given similar parameters?</p>\n</blockquote>\n<p>Taking a set of parameters <strong>(known as the feature set X)</strong> and making predictions of another set of parameters <strong>(known as the output set Y)</strong> is the primary purpose of machine learning. Exactly <em>how</em> to do this requires many steps, how to do it well takes a lot of experience... However if you are asking if it is possible in principle, that depends on the specific feature set X, and output set Y.</p>\n<blockquote>\n<p>I am able to get hundreds of thousands samples (if needed) in order to train it so is this possible?</p>\n</blockquote>\n<p>The trick to machine learning is the data must be of a sufficient <strong>quantity <em>and</em> quality</strong>. This takes domain specific knowledge to know.</p>\n<p>Are you able to provide any specifics about your data to help us understand?</p>\n"}],"owner":{"display_name":"user17364069"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654068940,"creation_date":1654060107,"question_id":72456670,"body_markdown":"My goal is to generate a predictive model using tensor flow in Java but I first want to ensure that my goal is achievable. Firstly, if I have a bunch of parameters and each set of parameters is assigned an output is it possible to train a model to predict an output given similar parameters? I am able to get hundreds of thousands samples (if needed) in order to train it so is this possible? \r\n\r\nSecondly, after the model is trained how fast can it actually generate results?\r\n\r\nLastly, assuming everything up until this point checks out what is the best method in Java’s tensor flow to train a model with data that has multiple parameters associated with an outcome? Also in the result a given piece of data satisfies two results both can be returned as options ordered from most likely to least.\r\n\r\nAlso just to clarify I am not asking someone to make this for me I am just trying to make sure that a solution exists and is quick (if it’s slow I could just go back to brute forcing which I am trying to move away from since is kinda slow and resource intensive). Also, if you have any pointers on getting started tackling this I would greatly appreciate it!","title":"Predictive model using TensorFlow","body":"<p>My goal is to generate a predictive model using tensor flow in Java but I first want to ensure that my goal is achievable. Firstly, if I have a bunch of parameters and each set of parameters is assigned an output is it possible to train a model to predict an output given similar parameters? I am able to get hundreds of thousands samples (if needed) in order to train it so is this possible?</p>\n<p>Secondly, after the model is trained how fast can it actually generate results?</p>\n<p>Lastly, assuming everything up until this point checks out what is the best method in Java’s tensor flow to train a model with data that has multiple parameters associated with an outcome? Also in the result a given piece of data satisfies two results both can be returned as options ordered from most likely to least.</p>\n<p>Also just to clarify I am not asking someone to make this for me I am just trying to make sure that a solution exists and is quick (if it’s slow I could just go back to brute forcing which I am trying to move away from since is kinda slow and resource intensive). Also, if you have any pointers on getting started tackling this I would greatly appreciate it!</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":64336,"reputation":12440,"user_id":189974,"accept_rate":96,"display_name":"Abhijeet Kashnia"},"score":0,"creation_date":1271942282,"post_id":2684630,"comment_id":2712151,"body_markdown":"Ok, how about any java mocking framework in general... Is this possible with any other framework, or should I just create a dumb stub to mimic the behavior I want?","body":"Ok, how about any java mocking framework in general... Is this possible with any other framework, or should I just create a dumb stub to mimic the behavior I want?"}],"answers":[{"tags":[],"owner":{"account_id":104546,"reputation":18870,"user_id":279452,"display_name":"Steve"},"down_vote_count":7,"up_vote_count":1381,"is_accepted":true,"score":1374,"last_activity_date":1654068793,"creation_date":1272264697,"answer_id":2711553,"question_id":2684630,"body_markdown":"## Since Mockito 1.9.5+ and Java 8+\r\nYou can use a lambda expression, like:\r\n\r\n    when(myMock.myFunction(anyString())).thenAnswer(i -&gt; i.getArguments()[0]);\r\n\r\n&gt;Where `i` is an instance of `InvocationOnMock`.\r\n\r\n## For older versions\r\n\r\nYou can create an Answer in Mockito. Let&#39;s assume, we have an interface named MyInterface with a method myFunction.\r\n\r\n```java\r\npublic interface MyInterface {\r\n    public String myFunction(String abc);\r\n}\r\n```\r\n\r\nHere is the test method with a Mockito answer:\r\n```java\r\npublic void testMyFunction() throws Exception {\r\n    MyInterface mock = mock(MyInterface.class);\r\n    when(mock.myFunction(anyString())).thenAnswer(new Answer&lt;String&gt;() {\r\n    @Override\r\n    public String answer(InvocationOnMock invocation) throws Throwable {\r\n        Object[] args = invocation.getArguments();\r\n        return (String) args[0];\r\n    }\r\n    });\r\n\r\n    assertEquals(&quot;someString&quot;,mock.myFunction(&quot;someString&quot;));\r\n    assertEquals(&quot;anotherString&quot;,mock.myFunction(&quot;anotherString&quot;));\r\n}\r\n```\r\n","title":"Making a mocked method return an argument that was passed to it","body":"<h2>Since Mockito 1.9.5+ and Java 8+</h2>\n<p>You can use a lambda expression, like:</p>\n<pre><code>when(myMock.myFunction(anyString())).thenAnswer(i -&gt; i.getArguments()[0]);\n</code></pre>\n<blockquote>\n<p>Where <code>i</code> is an instance of <code>InvocationOnMock</code>.</p>\n</blockquote>\n<h2>For older versions</h2>\n<p>You can create an Answer in Mockito. Let's assume, we have an interface named MyInterface with a method myFunction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyInterface {\n    public String myFunction(String abc);\n}\n</code></pre>\n<p>Here is the test method with a Mockito answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void testMyFunction() throws Exception {\n    MyInterface mock = mock(MyInterface.class);\n    when(mock.myFunction(anyString())).thenAnswer(new Answer&lt;String&gt;() {\n    @Override\n    public String answer(InvocationOnMock invocation) throws Throwable {\n        Object[] args = invocation.getArguments();\n        return (String) args[0];\n    }\n    });\n\n    assertEquals(&quot;someString&quot;,mock.myFunction(&quot;someString&quot;));\n    assertEquals(&quot;anotherString&quot;,mock.myFunction(&quot;anotherString&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148476,"reputation":2154,"user_id":360274,"accept_rate":95,"display_name":"martin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1291042573,"creation_date":1291041938,"answer_id":4304793,"question_id":2684630,"body_markdown":"I use something similar (basically it&#39;s the same approach). Sometimes it&#39;s useful to have a mock object return pre-defined output for certain inputs. That goes like this:\r\n\r\n    private Hashtable&lt;InputObject,  OutputObject&gt; table = new Hashtable&lt;InputObject, OutputObject&gt;();\r\n    table.put(input1, ouput1);\r\n    table.put(input2, ouput2);\r\n\r\n    ...\r\n\r\n    when(mockObject.method(any(InputObject.class))).thenAnswer(\r\n           new Answer&lt;OutputObject&gt;()\r\n           {\r\n               @Override\r\n               public OutputObject answer(final InvocationOnMock invocation) throws Throwable\r\n               {\r\n                   InputObject input = (InputObject) invocation.getArguments()[0];\r\n                   if (table.containsKey(input))\r\n                   {\r\n                       return table.get(input);\r\n                   }\r\n                   else\r\n                   {\r\n                       return null; // alternatively, you could throw an exception\r\n                   }\r\n               }\r\n           }\r\n           );","title":"Making a mocked method return an argument that was passed to it","body":"<p>I use something similar (basically it's the same approach). Sometimes it's useful to have a mock object return pre-defined output for certain inputs. That goes like this:</p>\n\n<pre><code>private Hashtable&lt;InputObject,  OutputObject&gt; table = new Hashtable&lt;InputObject, OutputObject&gt;();\ntable.put(input1, ouput1);\ntable.put(input2, ouput2);\n\n...\n\nwhen(mockObject.method(any(InputObject.class))).thenAnswer(\n       new Answer&lt;OutputObject&gt;()\n       {\n           @Override\n           public OutputObject answer(final InvocationOnMock invocation) throws Throwable\n           {\n               InputObject input = (InputObject) invocation.getArguments()[0];\n               if (table.containsKey(input))\n               {\n                   return table.get(input);\n               }\n               else\n               {\n                   return null; // alternatively, you could throw an exception\n               }\n           }\n       }\n       );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18163,"reputation":1371,"user_id":41362,"display_name":"migu"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1311074403,"creation_date":1311074097,"answer_id":6746257,"question_id":2684630,"body_markdown":"I had a very similar problem. The goal was to mock a service that persists Objects and can return them by their name. The service looks like this:\r\n\r\n    public class RoomService {\r\n        public Room findByName(String roomName) {...}\r\n        public void persist(Room room) {...}\r\n    }\r\n\r\nThe service mock uses a map to store the Room instances.\r\n\r\n    RoomService roomService = mock(RoomService.class);\r\n    final Map&lt;String, Room&gt; roomMap = new HashMap&lt;String, Room&gt;();\r\n\r\n    // mock for method persist\r\n    doAnswer(new Answer&lt;Void&gt;() {\r\n        @Override\r\n        public Void answer(InvocationOnMock invocation) throws Throwable {\r\n            Object[] arguments = invocation.getArguments();\r\n            if (arguments != null &amp;&amp; arguments.length &gt; 0 &amp;&amp; arguments[0] != null) {\r\n                Room room = (Room) arguments[0];\r\n                roomMap.put(room.getName(), room);\r\n            }\r\n            return null;\r\n        }\r\n    }).when(roomService).persist(any(Room.class));\r\n\r\n    // mock for method findByName\r\n    when(roomService.findByName(anyString())).thenAnswer(new Answer&lt;Room&gt;() {\r\n        @Override\r\n        public Room answer(InvocationOnMock invocation) throws Throwable {\r\n            Object[] arguments = invocation.getArguments();\r\n            if (arguments != null &amp;&amp; arguments.length &gt; 0 &amp;&amp; arguments[0] != null) {\r\n                String key = (String) arguments[0];\r\n                if (roomMap.containsKey(key)) {\r\n                    return roomMap.get(key);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    });\r\n\r\nWe can now run our tests on this mock. For example:\r\n\r\n    String name = &quot;room&quot;;\r\n    Room room = new Room(name);\r\n    roomService.persist(room);\r\n    assertThat(roomService.findByName(name), equalTo(room));\r\n    assertNull(roomService.findByName(&quot;none&quot;));\r\n","title":"Making a mocked method return an argument that was passed to it","body":"<p>I had a very similar problem. The goal was to mock a service that persists Objects and can return them by their name. The service looks like this:</p>\n\n<pre><code>public class RoomService {\n    public Room findByName(String roomName) {...}\n    public void persist(Room room) {...}\n}\n</code></pre>\n\n<p>The service mock uses a map to store the Room instances.</p>\n\n<pre><code>RoomService roomService = mock(RoomService.class);\nfinal Map&lt;String, Room&gt; roomMap = new HashMap&lt;String, Room&gt;();\n\n// mock for method persist\ndoAnswer(new Answer&lt;Void&gt;() {\n    @Override\n    public Void answer(InvocationOnMock invocation) throws Throwable {\n        Object[] arguments = invocation.getArguments();\n        if (arguments != null &amp;&amp; arguments.length &gt; 0 &amp;&amp; arguments[0] != null) {\n            Room room = (Room) arguments[0];\n            roomMap.put(room.getName(), room);\n        }\n        return null;\n    }\n}).when(roomService).persist(any(Room.class));\n\n// mock for method findByName\nwhen(roomService.findByName(anyString())).thenAnswer(new Answer&lt;Room&gt;() {\n    @Override\n    public Room answer(InvocationOnMock invocation) throws Throwable {\n        Object[] arguments = invocation.getArguments();\n        if (arguments != null &amp;&amp; arguments.length &gt; 0 &amp;&amp; arguments[0] != null) {\n            String key = (String) arguments[0];\n            if (roomMap.containsKey(key)) {\n                return roomMap.get(key);\n            }\n        }\n        return null;\n    }\n});\n</code></pre>\n\n<p>We can now run our tests on this mock. For example:</p>\n\n<pre><code>String name = \"room\";\nRoom room = new Room(name);\nroomService.persist(room);\nassertThat(roomService.findByName(name), equalTo(room));\nassertNull(roomService.findByName(\"none\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":1,"up_vote_count":681,"is_accepted":false,"score":680,"last_activity_date":1546987307,"creation_date":1344320272,"answer_id":11840286,"question_id":2684630,"body_markdown":"If you have Mockito 1.9.5 or higher, there is a new static method that can make the `Answer` object for you.  You need to write something like\r\n\r\n    import static org.mockito.Mockito.when;\r\n    import static org.mockito.AdditionalAnswers.returnsFirstArg;\r\n\r\n    when(myMock.myFunction(anyString())).then(returnsFirstArg());\r\n\r\nor alternatively\r\n\r\n    doAnswer(returnsFirstArg()).when(myMock).myFunction(anyString());\r\n\r\nNote that the `returnsFirstArg()` method is static in the `AdditionalAnswers` class, which is new to Mockito 1.9.5; so you&#39;ll need the right static import.","title":"Making a mocked method return an argument that was passed to it","body":"<p>If you have Mockito 1.9.5 or higher, there is a new static method that can make the <code>Answer</code> object for you.  You need to write something like</p>\n\n<pre><code>import static org.mockito.Mockito.when;\nimport static org.mockito.AdditionalAnswers.returnsFirstArg;\n\nwhen(myMock.myFunction(anyString())).then(returnsFirstArg());\n</code></pre>\n\n<p>or alternatively</p>\n\n<pre><code>doAnswer(returnsFirstArg()).when(myMock).myFunction(anyString());\n</code></pre>\n\n<p>Note that the <code>returnsFirstArg()</code> method is static in the <code>AdditionalAnswers</code> class, which is new to Mockito 1.9.5; so you'll need the right static import.</p>\n"},{"tags":[],"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1423080635,"creation_date":1423080635,"answer_id":28330532,"question_id":2684630,"body_markdown":"With Java 8 it is possible to create a one-line answer even with older version of Mockito:\r\n\r\n    when(myMock.myFunction(anyString()).then(i -&gt; i.getArgumentAt(0, String.class));\r\n\r\nOf course this is not as useful as using `AdditionalAnswers` suggested by David Wallace, but might be useful if you want to transform argument &quot;on the fly&quot;.","title":"Making a mocked method return an argument that was passed to it","body":"<p>With Java 8 it is possible to create a one-line answer even with older version of Mockito:</p>\n\n<pre><code>when(myMock.myFunction(anyString()).then(i -&gt; i.getArgumentAt(0, String.class));\n</code></pre>\n\n<p>Of course this is not as useful as using <code>AdditionalAnswers</code> suggested by David Wallace, but might be useful if you want to transform argument \"on the fly\".</p>\n"},{"tags":[],"owner":{"account_id":1585889,"reputation":4070,"user_id":1470257,"accept_rate":62,"display_name":"yiwei"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1492894986,"creation_date":1437712470,"answer_id":31602253,"question_id":2684630,"body_markdown":"With Java 8, [Steve&#39;s answer](https://stackoverflow.com/a/2711553/1470257) can become  \r\n\r\n    public void testMyFunction() throws Exception {\r\n        Application mock = mock(Application.class);\r\n        when(mock.myFunction(anyString())).thenAnswer(\r\n        invocation -&gt; {\r\n            Object[] args = invocation.getArguments();\r\n            return args[0];\r\n        });\r\n\r\n        assertEquals(&quot;someString&quot;, mock.myFunction(&quot;someString&quot;));\r\n        assertEquals(&quot;anotherString&quot;, mock.myFunction(&quot;anotherString&quot;));\r\n    }\r\n\r\nEDIT: Even shorter:  \r\n\r\n    public void testMyFunction() throws Exception {\r\n        Application mock = mock(Application.class);\r\n        when(mock.myFunction(anyString())).thenAnswer(\r\n            invocation -&gt; invocation.getArgument(0));\r\n\r\n        assertEquals(&quot;someString&quot;, mock.myFunction(&quot;someString&quot;));\r\n        assertEquals(&quot;anotherString&quot;, mock.myFunction(&quot;anotherString&quot;));\r\n    }","title":"Making a mocked method return an argument that was passed to it","body":"<p>With Java 8, <a href=\"https://stackoverflow.com/a/2711553/1470257\">Steve's answer</a> can become  </p>\n\n<pre><code>public void testMyFunction() throws Exception {\n    Application mock = mock(Application.class);\n    when(mock.myFunction(anyString())).thenAnswer(\n    invocation -&gt; {\n        Object[] args = invocation.getArguments();\n        return args[0];\n    });\n\n    assertEquals(\"someString\", mock.myFunction(\"someString\"));\n    assertEquals(\"anotherString\", mock.myFunction(\"anotherString\"));\n}\n</code></pre>\n\n<p>EDIT: Even shorter:  </p>\n\n<pre><code>public void testMyFunction() throws Exception {\n    Application mock = mock(Application.class);\n    when(mock.myFunction(anyString())).thenAnswer(\n        invocation -&gt; invocation.getArgument(0));\n\n    assertEquals(\"someString\", mock.myFunction(\"someString\"));\n    assertEquals(\"anotherString\", mock.myFunction(\"anotherString\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478165241,"creation_date":1477655140,"answer_id":40304386,"question_id":2684630,"body_markdown":"You might want to use verify() in combination with the ArgumentCaptor to assure execution in the test and the ArgumentCaptor to evaluate the arguments:\r\n\r\n    ArgumentCaptor&lt;String&gt; argument = ArgumentCaptor.forClass(String.class);\r\n    verify(mock).myFunction(argument.capture());\r\n\tassertEquals(&quot;the expected value here&quot;, argument.getValue());\r\n\t\t\r\nThe argument&#39;s value is obviously accessible via the argument.getValue() for further manipulation / checking /whatever.","title":"Making a mocked method return an argument that was passed to it","body":"<p>You might want to use verify() in combination with the ArgumentCaptor to assure execution in the test and the ArgumentCaptor to evaluate the arguments:</p>\n\n<pre><code>ArgumentCaptor&lt;String&gt; argument = ArgumentCaptor.forClass(String.class);\nverify(mock).myFunction(argument.capture());\nassertEquals(\"the expected value here\", argument.getValue());\n</code></pre>\n\n<p>The argument's value is obviously accessible via the argument.getValue() for further manipulation / checking /whatever.</p>\n"},{"tags":[],"owner":{"account_id":8682333,"reputation":681,"user_id":6497788,"display_name":"LazR"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1551347552,"creation_date":1551347552,"answer_id":54922766,"question_id":2684630,"body_markdown":"This is a pretty old question but i think still relevant. Also the accepted answer works only for String. Meanwhile there is Mockito 2.1 and some imports have changed, so i would like to share my current answer:\r\n\r\n    import static org.mockito.AdditionalAnswers.returnsFirstArg;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    @Mock\r\n\tprivate MyClass myClass;\r\n    \r\n    // this will return anything you pass, but it&#39;s pretty unrealistic\r\n    when(myClass.myFunction(any())).then(returnsFirstArg());\r\n    // it is more &quot;life-like&quot; to accept only the right type\r\n    when(myClass.myFunction(any(ClassOfArgument.class))).then(returnsFirstArg());\r\n\r\nThe myClass.myFunction would look like:\r\n\r\n    public class MyClass {\r\n        public ClassOfArgument myFunction(ClassOfArgument argument){\r\n            return argument;\r\n        }  \r\n    }","title":"Making a mocked method return an argument that was passed to it","body":"<p>This is a pretty old question but i think still relevant. Also the accepted answer works only for String. Meanwhile there is Mockito 2.1 and some imports have changed, so i would like to share my current answer:</p>\n\n<pre><code>import static org.mockito.AdditionalAnswers.returnsFirstArg;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n\n@Mock\nprivate MyClass myClass;\n\n// this will return anything you pass, but it's pretty unrealistic\nwhen(myClass.myFunction(any())).then(returnsFirstArg());\n// it is more \"life-like\" to accept only the right type\nwhen(myClass.myFunction(any(ClassOfArgument.class))).then(returnsFirstArg());\n</code></pre>\n\n<p>The myClass.myFunction would look like:</p>\n\n<pre><code>public class MyClass {\n    public ClassOfArgument myFunction(ClassOfArgument argument){\n        return argument;\n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1572524691,"creation_date":1572523851,"answer_id":58643109,"question_id":2684630,"body_markdown":"This is a bit old, but I came here because I had the same issue. I&#39;m using JUnit but this time in a Kotlin app with mockk. I&#39;m posting a sample here for reference and comparison with the Java counterpart:\r\n\r\n    @Test\r\n    fun demo() {\r\n      // mock a sample function\r\n      val aMock: (String) -&gt; (String) = mockk()\r\n\r\n      // make it return the same as the argument on every invocation\r\n      every {\r\n        aMock.invoke(any())\r\n      } answers {\r\n        firstArg()\r\n      }\r\n\r\n      // test it\r\n      assertEquals(&quot;senko&quot;, aMock.invoke(&quot;senko&quot;))\r\n      assertEquals(&quot;senko1&quot;, aMock.invoke(&quot;senko1&quot;))\r\n      assertNotEquals(&quot;not a senko&quot;, aMock.invoke(&quot;senko&quot;))\r\n    }\r\n","title":"Making a mocked method return an argument that was passed to it","body":"<p>This is a bit old, but I came here because I had the same issue. I'm using JUnit but this time in a Kotlin app with mockk. I'm posting a sample here for reference and comparison with the Java counterpart:</p>\n\n<pre><code>@Test\nfun demo() {\n  // mock a sample function\n  val aMock: (String) -&gt; (String) = mockk()\n\n  // make it return the same as the argument on every invocation\n  every {\n    aMock.invoke(any())\n  } answers {\n    firstArg()\n  }\n\n  // test it\n  assertEquals(\"senko\", aMock.invoke(\"senko\"))\n  assertEquals(\"senko1\", aMock.invoke(\"senko1\"))\n  assertNotEquals(\"not a senko\", aMock.invoke(\"senko\"))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4122190,"reputation":32227,"user_id":3382204,"accept_rate":88,"display_name":"Cyril Cherian"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1572599117,"creation_date":1572598806,"answer_id":58656516,"question_id":2684630,"body_markdown":"You can achieve this by using *ArgumentCaptor*\r\n\r\nImagine you have bean function like so.\r\n\r\n    public interface Application {\r\n      public String myFunction(String abc);\r\n    }\r\n\r\nThen in your test class:\r\n\r\n    //Use ArgumentCaptor to capture the value\r\n    ArgumentCaptor&lt;String&gt; param = ArgumentCaptor.forClass(String.class);\r\n    \r\n    \r\n    when(mock.myFunction(param.capture())).thenAnswer(new Answer&lt;String&gt;() {\r\n        @Override\r\n        public String answer(InvocationOnMock invocation) throws Throwable {\r\n          return param.getValue();//return the captured value.\r\n        }\r\n      });\r\n\r\n**OR** if you fan of lambda simply do:\r\n\r\n    //Use ArgumentCaptor to capture the value\r\n    ArgumentCaptor&lt;String&gt; param = ArgumentCaptor.forClass(String.class);\r\n    \r\n    \r\n    when(mock.myFunction(param.capture()))\r\n        .thenAnswer((invocation) -&gt; param.getValue());\r\n\r\n**Summary:** Use argumentcaptor, to capture the parameter passed. Later in answer return the value captured using getValue.\r\n\r\n","title":"Making a mocked method return an argument that was passed to it","body":"<p>You can achieve this by using <em>ArgumentCaptor</em></p>\n\n<p>Imagine you have bean function like so.</p>\n\n<pre><code>public interface Application {\n  public String myFunction(String abc);\n}\n</code></pre>\n\n<p>Then in your test class:</p>\n\n<pre><code>//Use ArgumentCaptor to capture the value\nArgumentCaptor&lt;String&gt; param = ArgumentCaptor.forClass(String.class);\n\n\nwhen(mock.myFunction(param.capture())).thenAnswer(new Answer&lt;String&gt;() {\n    @Override\n    public String answer(InvocationOnMock invocation) throws Throwable {\n      return param.getValue();//return the captured value.\n    }\n  });\n</code></pre>\n\n<p><strong>OR</strong> if you fan of lambda simply do:</p>\n\n<pre><code>//Use ArgumentCaptor to capture the value\nArgumentCaptor&lt;String&gt; param = ArgumentCaptor.forClass(String.class);\n\n\nwhen(mock.myFunction(param.capture()))\n    .thenAnswer((invocation) -&gt; param.getValue());\n</code></pre>\n\n<p><strong>Summary:</strong> Use argumentcaptor, to capture the parameter passed. Later in answer return the value captured using getValue.</p>\n"}],"owner":{"account_id":64336,"reputation":12440,"user_id":189974,"accept_rate":96,"display_name":"Abhijeet Kashnia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548379,"favorite_count":0,"down_vote_count":1,"up_vote_count":915,"accepted_answer_id":2711553,"answer_count":10,"score":914,"last_activity_date":1654068793,"creation_date":1271866301,"question_id":2684630,"body_markdown":"Consider a method signature like:\r\n\r\n    public String myFunction(String abc);\r\n\r\nCan Mockito help return the same string that the method received?\r\n","title":"Making a mocked method return an argument that was passed to it","body":"<p>Consider a method signature like:</p>\n\n<pre><code>public String myFunction(String abc);\n</code></pre>\n\n<p>Can Mockito help return the same string that the method received?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654068749,"creation_date":1654068749,"answer_id":72457949,"question_id":70352349,"body_markdown":"`http://localhost:8888/grmimcld-security-api-v0/default` looks correct. Internally it might be calling to some other URL. So for instance it might be calling a oauth token endpoint.\r\n\r\n\r\nYou can add debug points on the below lines to find the actual URL path, which caused the failure.\r\n\r\n        at java.base/java.net.URL.fromURI(URL.java:692) ~[na:na]\r\n        at java.base/java.net.URI.toURL(URI.java:1116) ~[na:na]","title":"URI Must Be Absolute: WebClient throwing error but the URI appears to be absolute [Spring][Java]","body":"<p><code>http://localhost:8888/grmimcld-security-api-v0/default</code> looks correct. Internally it might be calling to some other URL. So for instance it might be calling a oauth token endpoint.</p>\n<p>You can add debug points on the below lines to find the actual URL path, which caused the failure.</p>\n<pre><code>    at java.base/java.net.URL.fromURI(URL.java:692) ~[na:na]\n    at java.base/java.net.URI.toURL(URI.java:1116) ~[na:na]\n</code></pre>\n"}],"owner":{"account_id":4780772,"reputation":798,"user_id":3862607,"accept_rate":0,"display_name":"Drew Gallagher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654068749,"creation_date":1639499631,"question_id":70352349,"body_markdown":"I&#39;m making a request to an API from a Java Springboot service using WebClient. \r\n\r\nIt&#39;s throwing the following error with the following stacktrace: \r\n\r\n```\r\n&quot;http://localhost:8888/grmimcld-security-api-v0/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n2021-12-14 11:29:05.903 ERROR 19160 --- [nio-8080-exec-1] c.l.dna.exceptions.DnaExceptionHandler   : An exception occurred\r\n\r\njava.lang.IllegalArgumentException: URI is not absolute\r\n\tat java.base/java.net.URL.fromURI(URL.java:692) ~[na:na]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Request to POST https://grmim-cloud-sec-honeycomb-develop.np.uscm.libertyec.com/grmimcld-security-api-v0/userpermission [DefaultWebClient]\r\nStack trace:\r\n\t\tat java.base/java.net.URL.fromURI(URL.java:692) ~[na:na]\r\n\t\tat java.base/java.net.URI.toURL(URI.java:1116) ~[na:na]\r\n\t\tat org.springframework.http.client.SimpleClientHttpRequestFactory.createRequest(SimpleClientHttpRequestFactory.java:145) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.http.client.support.HttpAccessor.createRequest(HttpAccessor.java:124) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:772) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:660) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.security.oauth2.client.endpoint.DefaultClientCredentialsTokenResponseClient.getResponse(DefaultClientCredentialsTokenResponseClient.java:96) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.oauth2.client.endpoint.DefaultClientCredentialsTokenResponseClient.getTokenResponse(DefaultClientCredentialsTokenResponseClient.java:78) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.oauth2.client.endpoint.DefaultClientCredentialsTokenResponseClient.getTokenResponse(DefaultClientCredentialsTokenResponseClient.java:57) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.oauth2.client.ClientCredentialsOAuth2AuthorizedClientProvider.getTokenResponse(ClientCredentialsOAuth2AuthorizedClientProvider.java:93) ~[spring-security-oauth2-client-5.5.1.jar:na]\r\n\t\tat org.springframework.security.oauth2.client.ClientCredentialsOAuth2AuthorizedClientProvider.authorize(ClientCredentialsOAuth2AuthorizedClientProvider.java:85) ~[spring-security-oauth2-client-5.5.1.jar:na]\r\n\t\tat org.springframework.security.oauth2.client.DelegatingOAuth2AuthorizedClientProvider.authorize(DelegatingOAuth2AuthorizedClientProvider.java:71) ~[spring-security-oauth2-client-5.5.1.jar:na]\r\n\t\tat org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizedClientManager.authorize(DefaultOAuth2AuthorizedClientManager.java:176) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.oauth2.client.web.reactive.function.client.ServletOAuth2AuthorizedClientExchangeFilterFunction.lambda$authorizeClient$24(ServletOAuth2AuthorizedClientExchangeFilterFunction.java:552) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\r\n\t\tat reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:85) ~[reactor-core-3.4.7.jar:3.4.7]\r\n\t\tat reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:227) ~[reactor-core-3.4.7.jar:3.4.7]\r\n\t\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.7.jar:3.4.7]\r\n\t\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.7.jar:3.4.7]\r\n\t\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.7.jar:3.4.7]\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1703) ~[reactor-core-3.4.7.jar:3.4.7]\r\n\t\tat com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.service.S3AuthorizationService.getPermissionsFromSecurityApi(S3AuthorizationService.java:121) ~[main/:na]\r\n\t\tat com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.service.S3AuthorizationService.verifyWriteAccess(S3AuthorizationService.java:92) ~[main/:na]\r\n\t\tat com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.service.S3AuthorizationService.validateProjectBucketAccess(S3AuthorizationService.java:64) ~[main/:na]\r\n\t\tat com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.api.controller.FileController.uploadFile(FileController.java:56) ~[main/:na]\r\n\t\tat com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.api.controller.FileController.uploadFile(FileController.java:66) ~[main/:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:668) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\t\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.2.jar:2.5.2]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n\r\n2021-12-14 11:29:05.937  WARN 19160 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: URI is not absolute]\r\n```\r\nThe URI that is being hit is listed as ```https://grmim-cloud-sec-honeycomb-develop.np.uscm.libertyec.com/grmimcld-security-api-v0/userpermission```\r\n\r\nwhich appears to be an absolute URI. \r\n\r\nNot sure why this error is being thrown. \r\n\r\nHere is part of the function being used to make the request: \r\n```\r\n\t\tString userPermissionsEndpoint = cloudSecurityAPIURL + &quot;/grmimcld-security-api-v0/userpermission&quot;;\r\n\r\n\t\tFlux&lt;String&gt; body = Flux.just(&quot;{\\&quot;pin\\&quot; : \\&quot;&quot; + user + &quot;\\&quot;}&quot;);\r\n\r\n\t\tBodyInserter&lt;Flux&lt;String&gt;, ReactiveHttpOutputMessage&gt; bodyInserter = BodyInserters.fromPublisher(body, String.class);\r\n\r\n\t\tString cloudSecurityResponse = this.webClient\r\n\t\t\t\t.post()\r\n\t\t\t\t.uri(userPermissionsEndpoint)\r\n\t\t\t\t.body(bodyInserter)\r\n\t\t\t\t.header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n\t\t\t\t.accept(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.acceptCharset(StandardCharsets.UTF_8)\r\n\t\t\t\t.attributes(ServletOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;cloudSecurityAPI&quot;))\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(String.class)\r\n\t\t\t\t.block();\r\n```\r\n","title":"URI Must Be Absolute: WebClient throwing error but the URI appears to be absolute [Spring][Java]","body":"<p>I'm making a request to an API from a Java Springboot service using WebClient.</p>\n<p>It's throwing the following error with the following stacktrace:</p>\n<pre><code>&quot;http://localhost:8888/grmimcld-security-api-v0/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n2021-12-14 11:29:05.903 ERROR 19160 --- [nio-8080-exec-1] c.l.dna.exceptions.DnaExceptionHandler   : An exception occurred\n\njava.lang.IllegalArgumentException: URI is not absolute\n    at java.base/java.net.URL.fromURI(URL.java:692) ~[na:na]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Request to POST https://grmim-cloud-sec-honeycomb-develop.np.uscm.libertyec.com/grmimcld-security-api-v0/userpermission [DefaultWebClient]\nStack trace:\n        at java.base/java.net.URL.fromURI(URL.java:692) ~[na:na]\n        at java.base/java.net.URI.toURL(URI.java:1116) ~[na:na]\n        at org.springframework.http.client.SimpleClientHttpRequestFactory.createRequest(SimpleClientHttpRequestFactory.java:145) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.http.client.support.HttpAccessor.createRequest(HttpAccessor.java:124) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:772) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:660) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.security.oauth2.client.endpoint.DefaultClientCredentialsTokenResponseClient.getResponse(DefaultClientCredentialsTokenResponseClient.java:96) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\n        at org.springframework.security.oauth2.client.endpoint.DefaultClientCredentialsTokenResponseClient.getTokenResponse(DefaultClientCredentialsTokenResponseClient.java:78) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\n        at org.springframework.security.oauth2.client.endpoint.DefaultClientCredentialsTokenResponseClient.getTokenResponse(DefaultClientCredentialsTokenResponseClient.java:57) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\n        at org.springframework.security.oauth2.client.ClientCredentialsOAuth2AuthorizedClientProvider.getTokenResponse(ClientCredentialsOAuth2AuthorizedClientProvider.java:93) ~[spring-security-oauth2-client-5.5.1.jar:na]\n        at org.springframework.security.oauth2.client.ClientCredentialsOAuth2AuthorizedClientProvider.authorize(ClientCredentialsOAuth2AuthorizedClientProvider.java:85) ~[spring-security-oauth2-client-5.5.1.jar:na]\n        at org.springframework.security.oauth2.client.DelegatingOAuth2AuthorizedClientProvider.authorize(DelegatingOAuth2AuthorizedClientProvider.java:71) ~[spring-security-oauth2-client-5.5.1.jar:na]\n        at org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizedClientManager.authorize(DefaultOAuth2AuthorizedClientManager.java:176) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\n        at org.springframework.security.oauth2.client.web.reactive.function.client.ServletOAuth2AuthorizedClientExchangeFilterFunction.lambda$authorizeClient$24(ServletOAuth2AuthorizedClientExchangeFilterFunction.java:552) ~[spring-security-oauth2-client-5.5.1.jar:5.5.1]\n        at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:85) ~[reactor-core-3.4.7.jar:3.4.7]\n        at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:227) ~[reactor-core-3.4.7.jar:3.4.7]\n        at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.7.jar:3.4.7]\n        at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.7.jar:3.4.7]\n        at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.7.jar:3.4.7]\n        at reactor.core.publisher.Mono.block(Mono.java:1703) ~[reactor-core-3.4.7.jar:3.4.7]\n        at com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.service.S3AuthorizationService.getPermissionsFromSecurityApi(S3AuthorizationService.java:121) ~[main/:na]\n        at com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.service.S3AuthorizationService.verifyWriteAccess(S3AuthorizationService.java:92) ~[main/:na]\n        at com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.service.S3AuthorizationService.validateProjectBucketAccess(S3AuthorizationService.java:64) ~[main/:na]\n        at com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.api.controller.FileController.uploadFile(FileController.java:56) ~[main/:na]\n        at com.lmig.usconsumermarkets.informationmanagement.lmdsbrandenburgprojects3api.api.controller.FileController.uploadFile(FileController.java:66) ~[main/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:668) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.1.jar:5.5.1]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.2.jar:2.5.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n\n2021-12-14 11:29:05.937  WARN 19160 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: URI is not absolute]\n</code></pre>\n<p>The URI that is being hit is listed as <code>https://grmim-cloud-sec-honeycomb-develop.np.uscm.libertyec.com/grmimcld-security-api-v0/userpermission</code></p>\n<p>which appears to be an absolute URI.</p>\n<p>Not sure why this error is being thrown.</p>\n<p>Here is part of the function being used to make the request:</p>\n<pre><code>        String userPermissionsEndpoint = cloudSecurityAPIURL + &quot;/grmimcld-security-api-v0/userpermission&quot;;\n\n        Flux&lt;String&gt; body = Flux.just(&quot;{\\&quot;pin\\&quot; : \\&quot;&quot; + user + &quot;\\&quot;}&quot;);\n\n        BodyInserter&lt;Flux&lt;String&gt;, ReactiveHttpOutputMessage&gt; bodyInserter = BodyInserters.fromPublisher(body, String.class);\n\n        String cloudSecurityResponse = this.webClient\n                .post()\n                .uri(userPermissionsEndpoint)\n                .body(bodyInserter)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .accept(MediaType.APPLICATION_JSON)\n                .acceptCharset(StandardCharsets.UTF_8)\n                .attributes(ServletOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;cloudSecurityAPI&quot;))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n</code></pre>\n"},{"tags":["java","kotlin","kubernetes","jvm","pthreads"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653890858,"post_id":72429666,"comment_id":127952754,"body_markdown":"Do you intend to have 6K threads?","body":"Do you intend to have 6K threads?"},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1653893656,"post_id":72429666,"comment_id":127953444,"body_markdown":"@tgdavies I&#39;m consuming from ~ 300 Kafka topics (one consumer, thus thread, each), with ~ 400 different event types. Each event type is written into a separate BigQuery table, so I have at least 400 .`WriteStream`s and `JsonStreamWriter`s (both from `com.google.cloud.bigquery.storage.v1`). I don&#39;t know how they handle threads internally. So while this might not sum up to 6000, the order of magnitude might fit.","body":"@tgdavies I&#39;m consuming from ~ 300 Kafka topics (one consumer, thus thread, each), with ~ 400 different event types. Each event type is written into a separate BigQuery table, so I have at least 400 .<code>WriteStream</code>s and <code>JsonStreamWriter</code>s (both from <code>com.google.cloud.bigquery.storage.v1</code>). I don&#39;t know how they handle threads internally. So while this might not sum up to 6000, the order of magnitude might fit."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653893829,"post_id":72429666,"comment_id":127953499,"body_markdown":"The image you posted shows 6.1K threads. I&#39;d take a thread dump and see whether there are any unexpected threads.","body":"The image you posted shows 6.1K threads. I&#39;d take a thread dump and see whether there are any unexpected threads."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653894218,"post_id":72429666,"comment_id":127953609,"body_markdown":"Also worth considering whether you expected the sudden jump from 2K to 6K","body":"Also worth considering whether you expected the sudden jump from 2K to 6K"},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1653894283,"post_id":72429666,"comment_id":127953635,"body_markdown":"@tgdavies Ok, I&#39;ll try to do so, thanks. But assuming the 6k threads need to be there, do you have an idea why should it fail to create more threads when the limits for mem, threads, and file descriptors are far from being reached?","body":"@tgdavies Ok, I&#39;ll try to do so, thanks. But assuming the 6k threads need to be there, do you have an idea why should it fail to create more threads when the limits for mem, threads, and file descriptors are far from being reached?"},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1653897977,"post_id":72429666,"comment_id":127954798,"body_markdown":"I&#39;ve taken a thread dump (using `jcmd`) from a healthy pod (output: https://gist.github.com/Dobiasd/391488295e6ffd05ecc5134450cd723d), i.e., before the problem occurs, with already ~ 2k threads. Most of them are daemon threads from `ThreadPoolExecutor`s, waiting for work. I assume it&#39;s the Google-cloud libraries (used for the BigQuery inserts) that spin those up. The jump to more threads later likely happens, because on some error condition, I&#39;m re-instantiating the `WriteStream`s / `JsonStreamWriter`s. Still, that should be ok ...","body":"I&#39;ve taken a thread dump (using <code>jcmd</code>) from a healthy pod (output: <a href=\"https://gist.github.com/Dobiasd/391488295e6ffd05ecc5134450cd723d\" rel=\"nofollow noreferrer\">gist.github.com/Dobiasd/391488295e6ffd05ecc5134450cd723d</a>), i.e., before the problem occurs, with already ~ 2k threads. Most of them are daemon threads from <code>ThreadPoolExecutor</code>s, waiting for work. I assume it&#39;s the Google-cloud libraries (used for the BigQuery inserts) that spin those up. The jump to more threads later likely happens, because on some error condition, I&#39;m re-instantiating the <code>WriteStream</code>s / <code>JsonStreamWriter</code>s. Still, that should be ok ..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653899854,"post_id":72429666,"comment_id":127955421,"body_markdown":"It might be [OK](https://cdn.vox-cdn.com/thumbor/s7qMSKpeavBerH1LCyFPIkNrW4k=/0x0:900x500/1400x1050/filters:focal(378x178:522x322):format(jpeg)/cdn.vox-cdn.com/uploads/chorus_image/image/49493993/this-is-fine.0.jpg). If you have error handling which creates thousands of new threads without ensuring that the old ones are stopped, you are asking for trouble.","body":"It might be <a href=\"https://cdn.vox-cdn.com/thumbor/s7qMSKpeavBerH1LCyFPIkNrW4k=/0x0:900x500/1400x1050/filters:focal(378x178:522x322):format(jpeg)/cdn.vox-cdn.com/uploads/chorus_image/image/49493993/this-is-fine.0.jpg\" rel=\"nofollow noreferrer\">OK</a>. If you have error handling which creates thousands of new threads without ensuring that the old ones are stopped, you are asking for trouble."},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1653919548,"post_id":72429666,"comment_id":127962629,"body_markdown":"Hehe (at the OK link). :D After some time, the old instances should be garbage collected and the threads die. So the 6 k threads should only exist temporarily (if things would work). And yes, of course, there might be ways to avoid this, but 6k threads still should not be a problem according to the existing limits. So I want to actually understand why they is a problem, not just somehow avoid the problem without understanding it. :)","body":"Hehe (at the OK link). :D After some time, the old instances should be garbage collected and the threads die. So the 6 k threads should only exist temporarily (if things would work). And yes, of course, there might be ways to avoid this, but 6k threads still should not be a problem according to the existing limits. So I want to actually understand why they is a problem, not just somehow avoid the problem without understanding it. :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653947612,"post_id":72429666,"comment_id":127970706,"body_markdown":"Can you create a test environment where you can reproduce this issue in minutes rather than days?","body":"Can you create a test environment where you can reproduce this issue in minutes rather than days?"},{"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"score":0,"creation_date":1653975018,"post_id":72429666,"comment_id":127974580,"body_markdown":"I&#39;m not sure, but I can try. :)","body":"I&#39;m not sure, but I can try. :)"},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1654071009,"post_id":72429666,"comment_id":128001894,"body_markdown":"Thanks for the additional insights. While the large number of threads is suspicious and there&#39;s probably a deeper problem why you have so many I don&#39;t see an immediate problem why it would fail to create more threads, especially if you tried it with 24 GB ram. Perhaps @apangin can give you more insights?","body":"Thanks for the additional insights. While the large number of threads is suspicious and there&#39;s probably a deeper problem why you have so many I don&#39;t see an immediate problem why it would fail to create more threads, especially if you tried it with 24 GB ram. Perhaps @apangin can give you more insights?"},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1654071419,"post_id":72429666,"comment_id":128002024,"body_markdown":"After doing so more research I found this JDK issue and I&#39;m wondering if perhaps it could be a subtle race condition? https://bugs.openjdk.java.net/browse/JDK-8268605 -&gt;  (Christian Haeubl) found that a likely cause for this is one thread is calling execve() and the other about the same time is calling pthread_create(). In such case, pthread_create() can return EAGAIN &quot;just because there is a concurrent execve()&quot;.","body":"After doing so more research I found this JDK issue and I&#39;m wondering if perhaps it could be a subtle race condition? <a href=\"https://bugs.openjdk.java.net/browse/JDK-8268605\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8268605</a> -&gt;  (Christian Haeubl) found that a likely cause for this is one thread is calling execve() and the other about the same time is calling pthread_create(). In such case, pthread_create() can return EAGAIN &quot;just because there is a concurrent execve()&quot;."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1654096577,"post_id":72429666,"comment_id":128011397,"body_markdown":"@JurajMartinka, it seems unlikely that that issue is related to your thread explosion, because a successful call to `execve` replaces the entire process image of the calling process (all threads) with a new one.  Moreover, it follows that semantically correct `execve` usage usually demands that the process (self-)terminate if a call to `execve` fails.","body":"@JurajMartinka, it seems unlikely that that issue is related to your thread explosion, because a successful call to <code>execve</code> replaces the entire process image of the calling process (all threads) with a new one.  Moreover, it follows that semantically correct <code>execve</code> usage usually demands that the process (self-)terminate if a call to <code>execve</code> fails."},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1654149767,"post_id":72429666,"comment_id":128023489,"body_markdown":"@JohnBollinger - it&#39;s not my &quot;thread explosion&quot;, I was just commenting about what I found in JDK bugs database that could be related to OP&#39;s problem. I can imagine that one would not expect this to happen with `execve` yet the reality seems to be different from that expecation.","body":"@JohnBollinger - it&#39;s not my &quot;thread explosion&quot;, I was just commenting about what I found in JDK bugs database that could be related to OP&#39;s problem. I can imagine that one would not expect this to happen with <code>execve</code> yet the reality seems to be different from that expecation."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653964758,"creation_date":1653964758,"answer_id":72441719,"question_id":72429666,"body_markdown":"While `cat /proc/sys/kernel/threads-max` is showing 2M threads allowed system wide, there may also be user level limits. On my WSL2 Linux I have:\r\n```\r\n$ cat /proc/sys/kernel/threads-max\r\n127953\r\n$ ulimit -u\r\n63976\r\n```\r\nIn practice this simple test program manages to create 31k threads:\r\n```\r\npublic class Test {\r\n\r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; 100000; ++i) {\r\n                try {\r\n                    new Thread(() -&gt; {\r\n                        try {\r\n                            Thread.sleep(60000);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }).start();\r\n                } catch (Throwable e) {\r\n                    System.out.println(i);\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n}\r\n```\r\nThat&#39;s fewer than we expect given the `ulimit -u` result.\r\n\r\nTo start with you should check your `ulimit -u` in the container.","title":"Why do I get java.lang.OutOfMemoryError and pthread_create failed after a few days?","body":"<p>While <code>cat /proc/sys/kernel/threads-max</code> is showing 2M threads allowed system wide, there may also be user level limits. On my WSL2 Linux I have:</p>\n<pre><code>$ cat /proc/sys/kernel/threads-max\n127953\n$ ulimit -u\n63976\n</code></pre>\n<p>In practice this simple test program manages to create 31k threads:</p>\n<pre><code>public class Test {\n\n        public static void main(String[] args) {\n            for (int i = 0; i &lt; 100000; ++i) {\n                try {\n                    new Thread(() -&gt; {\n                        try {\n                            Thread.sleep(60000);\n                        } catch (InterruptedException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }).start();\n                } catch (Throwable e) {\n                    System.out.println(i);\n                    throw e;\n                }\n            }\n        }\n}\n</code></pre>\n<p>That's fewer than we expect given the <code>ulimit -u</code> result.</p>\n<p>To start with you should check your <code>ulimit -u</code> in the container.</p>\n"},{"tags":[],"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653971072,"creation_date":1653971072,"answer_id":72442280,"question_id":72429666,"body_markdown":"I&#39;m not sure if I&#39;m reading your graphs properly but here: https://i.stack.imgur.com/pRPkl.png\r\nThe &quot;File Descriptors&quot; graph shows &quot;Max: 1.0 Mil Current: 1.0 Mil&quot;\r\nSo it seems like you are hitting the max number of open files limit.\r\n\r\nIt&#39;s worth checking the limits on the command line via `ulimit -n`. You can also check the process limit `cat /proc/$(pgrep java)/limits`. \r\n\r\n","title":"Why do I get java.lang.OutOfMemoryError and pthread_create failed after a few days?","body":"<p>I'm not sure if I'm reading your graphs properly but here: <a href=\"https://i.stack.imgur.com/pRPkl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pRPkl.png</a>\nThe &quot;File Descriptors&quot; graph shows &quot;Max: 1.0 Mil Current: 1.0 Mil&quot;\nSo it seems like you are hitting the max number of open files limit.</p>\n<p>It's worth checking the limits on the command line via <code>ulimit -n</code>. You can also check the process limit <code>cat /proc/$(pgrep java)/limits</code>.</p>\n"}],"owner":{"account_id":2098538,"reputation":10050,"user_id":1866775,"accept_rate":86,"display_name":"Tobias Hermann"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654068716,"creation_date":1653889778,"question_id":72429666,"body_markdown":"I know, the question sounds vague, but I&#39;m trying to understand and solve this issue for some time already, i.e., without simply auto-restarting the pod (the application is running in K8s) regularly.\r\n\r\nAfter a few days of the (Kotlin, Spring Boot) application running, I suddenly get a lot of these two:\r\n- `java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached`\r\n- `Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 256k, guardsize: 0k, detached.`\r\n\r\nMonitoring screenshots:\r\n- K8s pod resources: https://i.stack.imgur.com/McheM.png\r\n    - Memory is not exhausted. But I&#39;ve also tried with much larger amounts of RAM, e.g., 24 GB, and still had the same problem.\r\n- JVM (Actuator) Metrics: https://i.stack.imgur.com/pRPkl.png\r\n    - Hovering the file-descriptors graph helps clarify the legend: https://i.stack.imgur.com/fbrci.png\r\n    - Neither the max number of threads is reached, nor the max number of file descriptors \r\n\r\nAdditional information:\r\n- `ulimit -n`: `1048576`\r\n- `ulimit -u`: `unlimited`\r\n- `cat /proc/[...]/limits` (using my process ID): gist.github.com/Dobiasd/c6e38668b36f8eb97ff69e15a45cf635 \r\n- `cat /proc/sys/kernel/threads-max` gives `2060488`\r\n- `/etc/security/limits.conf` is empty (only `#`-commented lines)\r\n- `java -XX:+PrintFlagsFinal -version | grep -i thread` also does not look suspicious: https://gist.github.com/Dobiasd/01623e9066889c8fd059bd387a15fafa\r\n- Stack size (per thread) reduced to 256K (`-Xss256K`, default would be 1M).\r\n- Thread dump (using `jcmd`) from a healthy pod, i.e., before the problem occurs, with already ~ 2k threads: gist.github.com/Dobiasd/391488295e6ffd05ecc5134450cd723d - Most of them are daemon threads from ThreadPoolExecutors, waiting for work. I assume it&#39;s the Google-cloud libraries (used for the BigQuery inserts) that spin those up. The jump to more threads later likely happens, because on some error condition, I&#39;m re-instantiating the WriteStreams / JsonStreamWriters. Still, that should be ok. After some time, the old instances should be garbage collected and the threads die. So the 6 k threads should only exist temporarily (if things would work). And yes, of course, there might be ways to avoid this, but 6k threads still should not be a problem according to the existing limits.\r\n\r\nAny ideas on what could be the cause and/or how to fix it?\r\n\r\n---\r\n\r\nUpdate 2022-06-01: I&#39;ve now implemented a solution with fewer threads, also avoiding the big jump from ~2k threads to ~6k threads, visible in the Actuator graph above. This workaround helps me fix my problem, but my curiosity about why ~6k threads are too many in the first place of course persists. ;)","title":"Why do I get java.lang.OutOfMemoryError and pthread_create failed after a few days?","body":"<p>I know, the question sounds vague, but I'm trying to understand and solve this issue for some time already, i.e., without simply auto-restarting the pod (the application is running in K8s) regularly.</p>\n<p>After a few days of the (Kotlin, Spring Boot) application running, I suddenly get a lot of these two:</p>\n<ul>\n<li><code>java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</code></li>\n<li><code>Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 256k, guardsize: 0k, detached.</code></li>\n</ul>\n<p>Monitoring screenshots:</p>\n<ul>\n<li>K8s pod resources: <a href=\"https://i.stack.imgur.com/McheM.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/McheM.png</a>\n<ul>\n<li>Memory is not exhausted. But I've also tried with much larger amounts of RAM, e.g., 24 GB, and still had the same problem.</li>\n</ul>\n</li>\n<li>JVM (Actuator) Metrics: <a href=\"https://i.stack.imgur.com/pRPkl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pRPkl.png</a>\n<ul>\n<li>Hovering the file-descriptors graph helps clarify the legend: <a href=\"https://i.stack.imgur.com/fbrci.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/fbrci.png</a></li>\n<li>Neither the max number of threads is reached, nor the max number of file descriptors</li>\n</ul>\n</li>\n</ul>\n<p>Additional information:</p>\n<ul>\n<li><code>ulimit -n</code>: <code>1048576</code></li>\n<li><code>ulimit -u</code>: <code>unlimited</code></li>\n<li><code>cat /proc/[...]/limits</code> (using my process ID): gist.github.com/Dobiasd/c6e38668b36f8eb97ff69e15a45cf635</li>\n<li><code>cat /proc/sys/kernel/threads-max</code> gives <code>2060488</code></li>\n<li><code>/etc/security/limits.conf</code> is empty (only <code>#</code>-commented lines)</li>\n<li><code>java -XX:+PrintFlagsFinal -version | grep -i thread</code> also does not look suspicious: <a href=\"https://gist.github.com/Dobiasd/01623e9066889c8fd059bd387a15fafa\" rel=\"nofollow noreferrer\">https://gist.github.com/Dobiasd/01623e9066889c8fd059bd387a15fafa</a></li>\n<li>Stack size (per thread) reduced to 256K (<code>-Xss256K</code>, default would be 1M).</li>\n<li>Thread dump (using <code>jcmd</code>) from a healthy pod, i.e., before the problem occurs, with already ~ 2k threads: gist.github.com/Dobiasd/391488295e6ffd05ecc5134450cd723d - Most of them are daemon threads from ThreadPoolExecutors, waiting for work. I assume it's the Google-cloud libraries (used for the BigQuery inserts) that spin those up. The jump to more threads later likely happens, because on some error condition, I'm re-instantiating the WriteStreams / JsonStreamWriters. Still, that should be ok. After some time, the old instances should be garbage collected and the threads die. So the 6 k threads should only exist temporarily (if things would work). And yes, of course, there might be ways to avoid this, but 6k threads still should not be a problem according to the existing limits.</li>\n</ul>\n<p>Any ideas on what could be the cause and/or how to fix it?</p>\n<hr />\n<p>Update 2022-06-01: I've now implemented a solution with fewer threads, also avoiding the big jump from ~2k threads to ~6k threads, visible in the Actuator graph above. This workaround helps me fix my problem, but my curiosity about why ~6k threads are too many in the first place of course persists. ;)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":4,"creation_date":1469973089,"post_id":38684603,"comment_id":64748494,"body_markdown":"looks like you gonna need to rename your class to smth other, than `Controller`","body":"looks like you gonna need to rename your class to smth other, than <code>Controller</code>"},{"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"score":2,"creation_date":1469973109,"post_id":38684603,"comment_id":64748497,"body_markdown":"Without trying it out, have you tried renaming your class? Maybe eclipse gets confused that you use your class&#39; name as annotation? Or try the full path to the Spring-Controller class in your annotation `@org.springframework....Controller`","body":"Without trying it out, have you tried renaming your class? Maybe eclipse gets confused that you use your class&#39; name as annotation? Or try the full path to the Spring-Controller class in your annotation <code>@org.springframework....Controller</code>"}],"answers":[{"tags":[],"owner":{"account_id":6840804,"reputation":377,"user_id":5261272,"accept_rate":53,"display_name":"O.Kuz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1469973094,"creation_date":1469973094,"answer_id":38684635,"question_id":38684603,"body_markdown":"    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nmaybe this ?","title":"@Controller is not an annotation","body":"<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>maybe this ?</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1469973372,"creation_date":1469973121,"answer_id":38684640,"question_id":38684603,"body_markdown":"Your code is confusing, but lets be precise:\r\n\r\n 1. In the end, &quot;custom&quot; annotations are **java classes**. So, like with any other class - when you want to use them in your source code, then you need an import statement for that very class. So, in your case: figure the &quot;full&quot; name for the controller annotation you intend to use, make sure that its class file is in your build path, and then add the import statement. Like with: `import org.springframework.stereotype.Controller;`\r\n 2. Do not call your class &quot;X&quot; when you intend to user **another** annotation called X, too\r\n\r\nPoint 1 should fix your &quot;compile&quot; problem; and point 2 is really essential if you don&#39;t want to confuse yourself and other future readers of your code. Yes, java allows for having x.Y and z.Y class names; but if possible: avoid it! You see, when you are using the name Y in two different meanings within one class, then for example, you have to use absolute names like x.Y and z.Y all the time.","title":"@Controller is not an annotation","body":"<p>Your code is confusing, but lets be precise:</p>\n\n<ol>\n<li>In the end, \"custom\" annotations are <strong>java classes</strong>. So, like with any other class - when you want to use them in your source code, then you need an import statement for that very class. So, in your case: figure the \"full\" name for the controller annotation you intend to use, make sure that its class file is in your build path, and then add the import statement. Like with: <code>import org.springframework.stereotype.Controller;</code></li>\n<li>Do not call your class \"X\" when you intend to user <strong>another</strong> annotation called X, too</li>\n</ol>\n\n<p>Point 1 should fix your \"compile\" problem; and point 2 is really essential if you don't want to confuse yourself and other future readers of your code. Yes, java allows for having x.Y and z.Y class names; but if possible: avoid it! You see, when you are using the name Y in two different meanings within one class, then for example, you have to use absolute names like x.Y and z.Y all the time.</p>\n"},{"tags":[],"owner":{"account_id":246495,"reputation":10418,"user_id":520684,"accept_rate":73,"display_name":"Daniel Figueroa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469973168,"creation_date":1469973168,"answer_id":38684649,"question_id":38684603,"body_markdown":"You need to use the fully qualified name for the annotation since your class is named `Controller`\r\n\r\n    @org.springframework.stereotype.Controller\r\n    public class Controller {...","title":"@Controller is not an annotation","body":"<p>You need to use the fully qualified name for the annotation since your class is named <code>Controller</code></p>\n\n<pre><code>@org.springframework.stereotype.Controller\npublic class Controller {...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20921330,"reputation":1,"user_id":15369860,"display_name":"Saran Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654068574,"creation_date":1654021778,"answer_id":72452571,"question_id":38684603,"body_markdown":"if you want the name of the file to be &quot;controller&quot;, you have to put annotation fully qualified annotation. otherwise it will work when you add @controller","title":"@Controller is not an annotation","body":"<p>if you want the name of the file to be &quot;controller&quot;, you have to put annotation fully qualified annotation. otherwise it will work when you add @controller</p>\n"}],"owner":{"account_id":8596477,"reputation":1053,"user_id":6439357,"display_name":"L01c"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4920,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38684640,"answer_count":4,"score":1,"last_activity_date":1654068574,"creation_date":1469972848,"question_id":38684603,"body_markdown":"I am trying to create a new project with SpringBoot, the @Controller annotation seems to work but Eclipse is complaining saying it is not an annotation. Any ideas to resolve that ?\r\n\r\n**Pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;gpID&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myApp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;My App&lt;/name&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-api-services-youtube&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;v3-rev177-1.22.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Controller.java**\r\n\r\n    package myApp.controllers;\r\n    \r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller // This line is not understood in Eclipse\r\n    @EnableAutoConfiguration\r\n    public class Controller {\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return &quot;index&quot;;\r\n        }\r\n    \t\r\n    }\r\n","title":"@Controller is not an annotation","body":"<p>I am trying to create a new project with SpringBoot, the @Controller annotation seems to work but Eclipse is complaining saying it is not an annotation. Any ideas to resolve that ?</p>\n\n<p><strong>Pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;gpID&lt;/groupId&gt;\n    &lt;artifactId&gt;myApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;My App&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-youtube&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev177-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Controller.java</strong></p>\n\n<pre><code>package myApp.controllers;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller // This line is not understood in Eclipse\n@EnableAutoConfiguration\npublic class Controller {\n\n    @RequestMapping(\"/\")\n    public String index() {\n        return \"index\";\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1654066933,"post_id":72457539,"comment_id":128000491,"body_markdown":"You haven&#39;t specified the third dimension size while creating holdArrays ?","body":"You haven&#39;t specified the third dimension size while creating holdArrays ?"},{"owner":{"account_id":20642363,"reputation":13,"user_id":15154712,"display_name":"MostCheerfulSmile"},"score":0,"creation_date":1654067393,"post_id":72457539,"comment_id":128000626,"body_markdown":"My bad. I really missed that. No nullPointerException anymore. Thank you @DeepakPatankar !","body":"My bad. I really missed that. No nullPointerException anymore. Thank you @DeepakPatankar !"}],"answers":[{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654068485,"creation_date":1654068485,"answer_id":72457881,"question_id":72457539,"body_markdown":"The size of the last dimension is not specified. And since the line  \r\n`holdArrays[i][j][k]` tries to access the kth element which is not there, it throws a Null Pointer Exception. \r\n\r\n```\r\n double[][][] holdArrays = new double[workingArray.length - filteringArray.length + 1][filteringArray.length][];\r\n```","title":"Filling in 2D Array into 3D Array in Java","body":"<p>The size of the last dimension is not specified. And since the line<br />\n<code>holdArrays[i][j][k]</code> tries to access the kth element which is not there, it throws a Null Pointer Exception.</p>\n<pre><code> double[][][] holdArrays = new double[workingArray.length - filteringArray.length + 1][filteringArray.length][];\n</code></pre>\n"}],"owner":{"account_id":20642363,"reputation":13,"user_id":15154712,"display_name":"MostCheerfulSmile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72457881,"answer_count":1,"score":0,"last_activity_date":1654068485,"creation_date":1654066699,"question_id":72457539,"body_markdown":"I want to write a Method where I get a 3x6 workingArray (but might also be 3x5, 3x4...) and a 3x3 (maybe also different size) filteringArray and make an 3D Array (holdArrays) where I put in the first Array to make a square (in this case 3x3), then move one position and put in another 3x3, till the last column of workingArray has been covered.\r\n\r\nSomehow I get an nullPointerException in &#39;//affected line&#39; and I can&#39;t see why. So I wonder if I do this the right way and I haven&#39;t found resources for how to put 2D Arrays into 3D Array.\r\n\r\nExample:\r\n```\r\n1 2 3 4      1 2 3       2 3 4\r\n5 6 7 8  to  5 6 7  and  6 7 8\r\n9 1 2 3      9 1 2       1 2 3\r\n```\r\n\r\n```java\r\nprivate static void filtering(double[][] workingArray, double[][] filteringArray) {\r\n    \r\n    // creating amount of holdArrays to work with filterArray\r\n    double[][][] holdArrays = new double[workingArray.length - filteringArray.length + 1][filteringArray.length][];\r\n\r\n        // filling in the parted workingArray into holdArrays\r\n        for (int i = 0; i &lt; holdArrays.length; i++) {\r\n\r\n            for (int j = 0; j &lt; filteringArray.length; j++) {\r\n\r\n                for (int k = 0; k &lt; filteringArray[j].length; k++) {\r\n\r\n                    holdArrays[i][j][k] = workingArray[j][k]; //affected line\r\n                }\r\n            }\r\n        }\r\n    }","title":"Filling in 2D Array into 3D Array in Java","body":"<p>I want to write a Method where I get a 3x6 workingArray (but might also be 3x5, 3x4...) and a 3x3 (maybe also different size) filteringArray and make an 3D Array (holdArrays) where I put in the first Array to make a square (in this case 3x3), then move one position and put in another 3x3, till the last column of workingArray has been covered.</p>\n<p>Somehow I get an nullPointerException in '//affected line' and I can't see why. So I wonder if I do this the right way and I haven't found resources for how to put 2D Arrays into 3D Array.</p>\n<p>Example:</p>\n<pre><code>1 2 3 4      1 2 3       2 3 4\n5 6 7 8  to  5 6 7  and  6 7 8\n9 1 2 3      9 1 2       1 2 3\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static void filtering(double[][] workingArray, double[][] filteringArray) {\n    \n    // creating amount of holdArrays to work with filterArray\n    double[][][] holdArrays = new double[workingArray.length - filteringArray.length + 1][filteringArray.length][];\n\n        // filling in the parted workingArray into holdArrays\n        for (int i = 0; i &lt; holdArrays.length; i++) {\n\n            for (int j = 0; j &lt; filteringArray.length; j++) {\n\n                for (int k = 0; k &lt; filteringArray[j].length; k++) {\n\n                    holdArrays[i][j][k] = workingArray[j][k]; //affected line\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1654061026,"post_id":72456733,"comment_id":127999170,"body_markdown":"Setting JAVA_HOME alone won&#39;t fix that. You need to include the `%JAVA_HOME%\\bin` directory in your PATH. The setting for the system variable JAVA_HOME should not include `\\bin` IIRC.","body":"Setting JAVA_HOME alone won&#39;t fix that. You need to include the <code>%JAVA_HOME%\\bin</code> directory in your PATH. The setting for the system variable JAVA_HOME should not include <code>\\bin</code> IIRC."},{"owner":{"account_id":25442791,"reputation":1,"user_id":19245379,"display_name":"CANCAR2002"},"score":0,"creation_date":1654061511,"post_id":72456733,"comment_id":127999262,"body_markdown":"i did it but still not working","body":"i did it but still not working"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1654061569,"post_id":72456733,"comment_id":127999273,"body_markdown":"Does this answer of your question https://stackoverflow.com/questions/15796855/java-is-not-recognized-as-an-internal-or-external-command?","body":"Does this answer of your question <a href=\"https://stackoverflow.com/questions/15796855/java-is-not-recognized-as-an-internal-or-external-command\" title=\"java is not recognized as an internal or external command\">stackoverflow.com/questions/15796855/&hellip;</a>?"},{"owner":{"account_id":25442791,"reputation":1,"user_id":19245379,"display_name":"CANCAR2002"},"score":0,"creation_date":1654061658,"post_id":72456733,"comment_id":127999289,"body_markdown":"no, i tried to all that but nothing changes","body":"no, i tried to all that but nothing changes"},{"owner":{"account_id":25442791,"reputation":1,"user_id":19245379,"display_name":"CANCAR2002"},"score":0,"creation_date":1654062527,"post_id":72456733,"comment_id":127999464,"body_markdown":"@user207421 added but still not working","body":"@user207421 added but still not working"},{"owner":{"account_id":25442791,"reputation":1,"user_id":19245379,"display_name":"CANCAR2002"},"score":0,"creation_date":1654062599,"post_id":72456733,"comment_id":127999487,"body_markdown":"@Faeem azaz Bhanej   no tried that but still the same","body":"@Faeem azaz Bhanej   no tried that but still the same"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654067861,"post_id":72456733,"comment_id":128000780,"body_markdown":"So you didn&#39;t do it right. Works for me and everybody else. Show what you did.","body":"So you didn&#39;t do it right. Works for me and everybody else. Show what you did."},{"owner":{"account_id":25442791,"reputation":1,"user_id":19245379,"display_name":"CANCAR2002"},"score":0,"creation_date":1654068452,"post_id":72456733,"comment_id":128000993,"body_markdown":"@user207421   take a look here  i posted screenshots  https://stackoverflow.com/questions/72457830/what-can-be-the-reason-on-the-control-panel-java-and-javac-work-but-java-versio","body":"@user207421   take a look here  i posted screenshots  <a href=\"https://stackoverflow.com/questions/72457830/what-can-be-the-reason-on-the-control-panel-java-and-javac-work-but-java-versio\" title=\"what can be the reason on the control panel java and javac work but java versio\">stackoverflow.com/questions/72457830/&hellip;</a>"}],"owner":{"account_id":25442791,"reputation":1,"user_id":19245379,"display_name":"CANCAR2002"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654061293,"answer_count":0,"score":0,"last_activity_date":1654067897,"creation_date":1654060722,"question_id":72456733,"body_markdown":"I need to install Java and  to install Maven on my computer.\r\n\r\nDownloaded lasted Java and JDK.\r\n\r\n    JAVA_HOME C:\\Program Files\\Java\\jdk-18.0.1.1       - /user variable\r\n    \r\n    JAVA_HOME C:\\Program Files\\Java\\jdk-18.0.1.1\\bin   - / system variable\r\n    \r\n    PATH C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\nodejs\\;%MAVEN_HOME%\\bin\r\n\r\nWhen I run command prompt (tied as an admin too) I get\r\n\r\n    &#39;java&#39; is not recognized as an internal or external command\r\n\r\n\r\n\r\n","title":"How to Set JAVA_HOME on Windows 8 for Maven (Help, new to programming) - Java&#39; is not recognized as an internal or external command","body":"<p>I need to install Java and  to install Maven on my computer.</p>\n<p>Downloaded lasted Java and JDK.</p>\n<pre><code>JAVA_HOME C:\\Program Files\\Java\\jdk-18.0.1.1       - /user variable\n\nJAVA_HOME C:\\Program Files\\Java\\jdk-18.0.1.1\\bin   - / system variable\n\nPATH C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\nodejs\\;%MAVEN_HOME%\\bin\n</code></pre>\n<p>When I run command prompt (tied as an admin too) I get</p>\n<pre><code>'java' is not recognized as an internal or external command\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1654018084,"post_id":72451333,"comment_id":127990675,"body_markdown":"What data do you have stored in `users`? You haven&#39;t shown the code where you stored &quot;user&quot; data.","body":"What data do you have stored in <code>users</code>? You haven&#39;t shown the code where you stored &quot;user&quot; data."},{"owner":{"account_id":25413943,"reputation":1,"user_id":19221243,"display_name":"user19221243"},"score":0,"creation_date":1654063566,"post_id":72451333,"comment_id":127999740,"body_markdown":"@AliasCartellano As you can see i stored IDTOKEN,EMAIL,AND PASSWORD in userAccount.java","body":"@AliasCartellano As you can see i stored IDTOKEN,EMAIL,AND PASSWORD in userAccount.java"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654067525,"creation_date":1654067525,"answer_id":72457686,"question_id":72451333,"body_markdown":"&gt; I think the program was confused since they share the same getcurrentuser()\r\n\r\nNo, that&#39;s not the reason why you aren&#39;t getting any data. The problem in your code lies in the fact that you&#39;re writing the data to Firestore at the following location:\r\n\r\n    db.collection(&quot;Basic_users&quot;).document(mFirebaseUser.getUid())\r\n                    //&#128070;\r\n\r\nBut you are trying to read from a different location:\r\n\r\n    DocumentReference docRef = db.collection(&quot;users&quot;).document(user.getUid());\r\n                                             //&#128070;\r\n\r\nSince your screenshot indicates that the user exists under the `Basic_users` collection, to solve the issue, please change the last line of code to:\r\n\r\n    DocumentReference docRef = db.collection(&quot;Basic_users&quot;).document(user.getUid());\r\n                                               //&#128070;","title":"How to receive additional information by using firebase in android","body":"<blockquote>\n<p>I think the program was confused since they share the same getcurrentuser()</p>\n</blockquote>\n<p>No, that's not the reason why you aren't getting any data. The problem in your code lies in the fact that you're writing the data to Firestore at the following location:</p>\n<pre><code>db.collection(&quot;Basic_users&quot;).document(mFirebaseUser.getUid())\n                //👆\n</code></pre>\n<p>But you are trying to read from a different location:</p>\n<pre><code>DocumentReference docRef = db.collection(&quot;users&quot;).document(user.getUid());\n                                         //👆\n</code></pre>\n<p>Since your screenshot indicates that the user exists under the <code>Basic_users</code> collection, to solve the issue, please change the last line of code to:</p>\n<pre><code>DocumentReference docRef = db.collection(&quot;Basic_users&quot;).document(user.getUid());\n                                           //👆\n</code></pre>\n"}],"owner":{"account_id":25413943,"reputation":1,"user_id":19221243,"display_name":"user19221243"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72457686,"answer_count":1,"score":0,"last_activity_date":1654067575,"creation_date":1654014887,"question_id":72451333,"body_markdown":"When the user signs up the first time, I use `sendEmailVerification` by the following code:\r\n\r\n     FirebaseUser mFirebaseUser = mFirebaseAuth.getCurrentUser();\r\n                                String uid = mFirebaseUser.getUid();\r\n                                FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n                                mFirebaseUser.sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                        if (task.isSuccessful()) {\r\n                                            startToast(&quot;Plz go to your mail box.&quot;);\r\n                                            UserAccount account = new UserAccount(uid, strEmail, strPwd);\r\n                                            db.collection(&quot;Basic_users&quot;).document(mFirebaseUser.getUid()).set(account).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                                @Override\r\n                                                public void onSuccess(Void avoid) {\r\n                                                    finish();\r\n                                                }\r\n                                            })\r\n                                                    .addOnFailureListener(new OnFailureListener() {\r\n                                                        @Override\r\n                                                        public void onFailure(@NonNull Exception e) {\r\n                                                            startToast(&quot;failed to register&quot;);\r\n                                                        }\r\n                                                    });\r\n\r\n\r\nand here is useAccount.java\r\n\r\n    public class UserAccount {\r\n        private String idToken; \r\n        private String strEmail;\r\n        private String strPwd;\r\n    \r\n        public void setIdToken(String idToken) {\r\n            this.idToken = idToken;\r\n        }\r\n    \r\n        public void setStrEmail(String strEmail) {\r\n            this.strEmail = strEmail;\r\n        }\r\n    \r\n        public void setStrPwd(String strPwd) {\r\n            this.strPwd = strPwd;\r\n        }\r\n    \r\n        public String getIdToken() {\r\n            return idToken;\r\n        }\r\n    \r\n        public String getStrEmail() {\r\n            return strEmail;\r\n        }\r\n    \r\n        public String getStrPwd() {\r\n            return strPwd;\r\n        }\r\n    \r\n        public UserAccount(String idToken, String strEmail, String strPwd) {\r\n            this.idToken = idToken;\r\n            this.strEmail = strEmail;\r\n            this.strPwd = strPwd;\r\n        }\r\n\r\n[Firebase information after signing up][1]\r\n\r\n\r\nand as you can see All the information was received accurately. &lt;br&gt;\r\nBut I want to receive additional information when user first use the app.\r\nSO i tried to receive additional info by following code &lt;br&gt;\r\n\r\n      FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user == null) { //IF there&#39;s no user information go to registerActiviety\r\n                startActivity(registerActivity.class);\r\n            } else { //else get current user information\r\n                FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n                DocumentReference docRef = db.collection(&quot;users&quot;).document(user.getUid());\r\n                docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            DocumentSnapshot document = task.getResult();\r\n                            if (document.exists()) { //if document exist\r\n                                Log.d(TAG, &quot;DocumentSnapshot data: &quot; + document.getData());\r\n                            } else { //else go to MemberinitActivity and receive some \r\n                                     //additional information\r\n                                Log.d(TAG, &quot;No such document&quot;);\r\n                                startActivity(MemberinitActivity.class);\r\n                            }\r\n                        } else {\r\n                            Log.d(TAG, &quot;get failed with &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\nand this is memberinfo.java, which has information that i want to receive more.\r\n\r\n    public class MemberInfo\r\n    {\r\n    private String idToken; \r\n    private String name;\r\n    private String birthday;\r\n    private String address;\r\n    private String phone_number;\r\n\r\n    public MemberInfo(String idToken, String name, String birthday,String \r\n    phone_number,String address) {\r\n            this.idToken = idToken;\r\n            this.name = name;\r\n            this.birthday = birthday;\r\n            this.phone_number = phone_number;\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setIdToken(String idToken) {\r\n            this.idToken = idToken;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void setBirthday(String birthday) {\r\n            this.birthday = birthday;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setPhone_number(String phone_number) {\r\n            this.phone_number = phone_number;\r\n        }\r\n    \r\n        public String getIdToken() {\r\n            return idToken;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getBirthday() {\r\n            return birthday;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public String getPhone_number() {\r\n            return phone_number;\r\n        }\r\n    }\r\n\r\n\r\nAfter checking the log, I found that the program recognized the document as being present\r\nbut it actually has nothing(null)\r\n[log of &quot;if document exists&quot; ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RgKW9.png\r\n  [2]: https://i.stack.imgur.com/YTV5p.png\r\n\r\nI think the program was confused since they share the same `getcurrentuser()`\r\nHow can I separate two user values and receive additional information?","title":"How to receive additional information by using firebase in android","body":"<p>When the user signs up the first time, I use <code>sendEmailVerification</code> by the following code:</p>\n<pre><code> FirebaseUser mFirebaseUser = mFirebaseAuth.getCurrentUser();\n                            String uid = mFirebaseUser.getUid();\n                            FirebaseFirestore db = FirebaseFirestore.getInstance();\n                            mFirebaseUser.sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        startToast(&quot;Plz go to your mail box.&quot;);\n                                        UserAccount account = new UserAccount(uid, strEmail, strPwd);\n                                        db.collection(&quot;Basic_users&quot;).document(mFirebaseUser.getUid()).set(account).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                            @Override\n                                            public void onSuccess(Void avoid) {\n                                                finish();\n                                            }\n                                        })\n                                                .addOnFailureListener(new OnFailureListener() {\n                                                    @Override\n                                                    public void onFailure(@NonNull Exception e) {\n                                                        startToast(&quot;failed to register&quot;);\n                                                    }\n                                                });\n</code></pre>\n<p>and here is useAccount.java</p>\n<pre><code>public class UserAccount {\n    private String idToken; \n    private String strEmail;\n    private String strPwd;\n\n    public void setIdToken(String idToken) {\n        this.idToken = idToken;\n    }\n\n    public void setStrEmail(String strEmail) {\n        this.strEmail = strEmail;\n    }\n\n    public void setStrPwd(String strPwd) {\n        this.strPwd = strPwd;\n    }\n\n    public String getIdToken() {\n        return idToken;\n    }\n\n    public String getStrEmail() {\n        return strEmail;\n    }\n\n    public String getStrPwd() {\n        return strPwd;\n    }\n\n    public UserAccount(String idToken, String strEmail, String strPwd) {\n        this.idToken = idToken;\n        this.strEmail = strEmail;\n        this.strPwd = strPwd;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/RgKW9.png\" rel=\"nofollow noreferrer\">Firebase information after signing up</a></p>\n<p>and as you can see All the information was received accurately. <br>\nBut I want to receive additional information when user first use the app.\nSO i tried to receive additional info by following code <br></p>\n<pre><code>  FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        if (user == null) { //IF there's no user information go to registerActiviety\n            startActivity(registerActivity.class);\n        } else { //else get current user information\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\n            DocumentReference docRef = db.collection(&quot;users&quot;).document(user.getUid());\n            docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        DocumentSnapshot document = task.getResult();\n                        if (document.exists()) { //if document exist\n                            Log.d(TAG, &quot;DocumentSnapshot data: &quot; + document.getData());\n                        } else { //else go to MemberinitActivity and receive some \n                                 //additional information\n                            Log.d(TAG, &quot;No such document&quot;);\n                            startActivity(MemberinitActivity.class);\n                        }\n                    } else {\n                        Log.d(TAG, &quot;get failed with &quot;, task.getException());\n                    }\n                }\n            });\n</code></pre>\n<p>and this is memberinfo.java, which has information that i want to receive more.</p>\n<pre><code>public class MemberInfo\n{\nprivate String idToken; \nprivate String name;\nprivate String birthday;\nprivate String address;\nprivate String phone_number;\n\npublic MemberInfo(String idToken, String name, String birthday,String \nphone_number,String address) {\n        this.idToken = idToken;\n        this.name = name;\n        this.birthday = birthday;\n        this.phone_number = phone_number;\n        this.address = address;\n    }\n\n    public void setIdToken(String idToken) {\n        this.idToken = idToken;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setBirthday(String birthday) {\n        this.birthday = birthday;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public void setPhone_number(String phone_number) {\n        this.phone_number = phone_number;\n    }\n\n    public String getIdToken() {\n        return idToken;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getBirthday() {\n        return birthday;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public String getPhone_number() {\n        return phone_number;\n    }\n}\n</code></pre>\n<p>After checking the log, I found that the program recognized the document as being present\nbut it actually has nothing(null)\n<a href=\"https://i.stack.imgur.com/YTV5p.png\" rel=\"nofollow noreferrer\">log of &quot;if document exists&quot; </a></p>\n<p>I think the program was confused since they share the same <code>getcurrentuser()</code>\nHow can I separate two user values and receive additional information?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-12"],"comments":[{"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"score":0,"creation_date":1638353614,"post_id":70181238,"comment_id":124063538,"body_markdown":"Does this answer your question? [android.content.res.Resources$NotFoundException: String resource ID Fatal Exception in Main](https://stackoverflow.com/questions/15191092/android-content-res-resourcesnotfoundexception-string-resource-id-fatal-except)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15191092/android-content-res-resourcesnotfoundexception-string-resource-id-fatal-except\">android.content.res.Resources$NotFoundException: String resource ID Fatal Exception in Main</a>"},{"owner":{"account_id":8791189,"reputation":1410,"user_id":6570945,"display_name":"Ashu Tyagi"},"score":0,"creation_date":1638354134,"post_id":70181238,"comment_id":124063735,"body_markdown":"@TomJoney No. This is not the issue.","body":"@TomJoney No. This is not the issue."},{"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"score":0,"creation_date":1638354360,"post_id":70181238,"comment_id":124063812,"body_markdown":"That&#39;s OK, thanks for the response. Share your code please instead of posting an exception.","body":"That&#39;s OK, thanks for the response. Share your code please instead of posting an exception."},{"owner":{"account_id":8791189,"reputation":1410,"user_id":6570945,"display_name":"Ashu Tyagi"},"score":0,"creation_date":1638354431,"post_id":70181238,"comment_id":124063837,"body_markdown":"@TomJoney This is all I could find in crashlytics. It doesn&#39;t touch my code.","body":"@TomJoney This is all I could find in crashlytics. It doesn&#39;t touch my code."}],"answers":[{"tags":[],"owner":{"account_id":9349134,"reputation":2323,"user_id":9910298,"display_name":"Mike Hardy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638365453,"creation_date":1638365453,"answer_id":70185111,"question_id":70181238,"body_markdown":"This is an upstream bug on Android 12 + Samsung devices, Chromium team and Samsung are aware. Star this issue to follow along:\r\n\r\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=1271617\r\n\r\nUntil then, add platform-specific / vendor-specific disable of WebView usage or your app will crash out-of-process (in the WebView) and it can&#39;t be handled unfortunately.\r\n\r\nRelated https://github.com/react-native-device-info/react-native-device-info/issues/1351","title":"Android 12 - Fatal Exception: android.content.res.Resources$NotFoundException","body":"<p>This is an upstream bug on Android 12 + Samsung devices, Chromium team and Samsung are aware. Star this issue to follow along:</p>\n<p><a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=1271617\" rel=\"noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=1271617</a></p>\n<p>Until then, add platform-specific / vendor-specific disable of WebView usage or your app will crash out-of-process (in the WebView) and it can't be handled unfortunately.</p>\n<p>Related <a href=\"https://github.com/react-native-device-info/react-native-device-info/issues/1351\" rel=\"noreferrer\">https://github.com/react-native-device-info/react-native-device-info/issues/1351</a></p>\n"}],"owner":{"account_id":8791189,"reputation":1410,"user_id":6570945,"display_name":"Ashu Tyagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2364,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70185111,"answer_count":1,"score":7,"last_activity_date":1654067548,"creation_date":1638348214,"question_id":70181238,"body_markdown":"**I&#39;m getting the below error on Android 12 devices.**\r\n\r\n    Fatal Exception: android.content.res.Resources$NotFoundException: Resource ID #0x20c0025\r\n       at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:240)\r\n       at android.content.res.Resources.getInteger(Resources.java:1275)\r\n       at org.chromium.ui.base.DeviceFormFactor.isTablet(DeviceFormFactor.java:8)\r\n       at cs.a(cs.java:4)\r\n       at org.chromium.content.browser.BrowserStartupControllerImpl.e(BrowserStartupControllerImpl.java:25)\r\n       at org.chromium.content.browser.BrowserStartupControllerImpl.g(BrowserStartupControllerImpl.java:26)\r\n       at E8.run(E8.java:127)\r\n       at org.chromium.base.ThreadUtils.f(ThreadUtils.java:6)\r\n       at EB0.g(EB0.java:209)\r\n       at DB0.run(DB0.java:7)\r\n       at android.os.Handler.handleCallback(Handler.java:938)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loopOnce(Looper.java:226)\r\n       at android.os.Looper.loop(Looper.java:313)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8582)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:563)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1133)\r\n\r\n\r\n\r\n\r\nAny help is highly appreciated. Thanks in Advance.","title":"Android 12 - Fatal Exception: android.content.res.Resources$NotFoundException","body":"<p><strong>I'm getting the below error on Android 12 devices.</strong></p>\n<pre><code>Fatal Exception: android.content.res.Resources$NotFoundException: Resource ID #0x20c0025\n   at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:240)\n   at android.content.res.Resources.getInteger(Resources.java:1275)\n   at org.chromium.ui.base.DeviceFormFactor.isTablet(DeviceFormFactor.java:8)\n   at cs.a(cs.java:4)\n   at org.chromium.content.browser.BrowserStartupControllerImpl.e(BrowserStartupControllerImpl.java:25)\n   at org.chromium.content.browser.BrowserStartupControllerImpl.g(BrowserStartupControllerImpl.java:26)\n   at E8.run(E8.java:127)\n   at org.chromium.base.ThreadUtils.f(ThreadUtils.java:6)\n   at EB0.g(EB0.java:209)\n   at DB0.run(DB0.java:7)\n   at android.os.Handler.handleCallback(Handler.java:938)\n   at android.os.Handler.dispatchMessage(Handler.java:99)\n   at android.os.Looper.loopOnce(Looper.java:226)\n   at android.os.Looper.loop(Looper.java:313)\n   at android.app.ActivityThread.main(ActivityThread.java:8582)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:563)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1133)\n</code></pre>\n<p>Any help is highly appreciated. Thanks in Advance.</p>\n"},{"tags":["java","android","android-recyclerview","android-tablayout"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654068264,"post_id":72457631,"comment_id":128000924,"body_markdown":"Why do you want to move the recyclerview? I think you don&#39;t see any list when you go to the other tabs. Is that true?","body":"Why do you want to move the recyclerview? I think you don&#39;t see any list when you go to the other tabs. Is that true?"},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1654069291,"post_id":72457631,"comment_id":128001305,"body_markdown":"they are tasks. once a task is started you move it to the next tab (ongoing) and once it is completed, u move it to (finished).  Yes because I have not implemented the next button. tried a few ways all failed. Do you have any idea on the steps required on move it.","body":"they are tasks. once a task is started you move it to the next tab (ongoing) and once it is completed, u move it to (finished).  Yes because I have not implemented the next button. tried a few ways all failed. Do you have any idea on the steps required on move it."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654069837,"post_id":72457631,"comment_id":128001489,"body_markdown":"By **next button** you mean that right arrow image button in the list item?","body":"By <b>next button</b> you mean that right arrow image button in the list item?"},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1654071152,"post_id":72457631,"comment_id":128001945,"body_markdown":"yes. it will send the task to the next tab","body":"yes. it will send the task to the next tab"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654074251,"post_id":72457631,"comment_id":128003012,"body_markdown":"I see. Let me say you that the way of you think is not correct. You don&#39;t have to move any view to anywhere. This is all about managing the data. I don&#39;t know where your data is maintained, if you use a database for example; when you mark any item as finished you can query only the data that is marked as finish from database every time the user hits the finished tab.","body":"I see. Let me say you that the way of you think is not correct. You don&#39;t have to move any view to anywhere. This is all about managing the data. I don&#39;t know where your data is maintained, if you use a database for example; when you mark any item as finished you can query only the data that is marked as finish from database every time the user hits the finished tab."},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1654075976,"post_id":72457631,"comment_id":128003600,"body_markdown":"for now i&#39;d like it bo be static. so it is taking data in an arraylist. Hence how can i move the data in different column?","body":"for now i&#39;d like it bo be static. so it is taking data in an arraylist. Hence how can i move the data in different column?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654077436,"post_id":72457631,"comment_id":128004213,"body_markdown":"Well in this case you can implement `TabLayout.OnTabSelectedListener` to know when the user changed the tab. You can have 3 separate lists for each tab let&#39;s say; `listTodo`, `listOngoing` and `listFinished`. For instance; if the next button is pressed in **TODO** tab, remove this item from the `listTodo` list and add it to the `listOngoing` list. When the tab has changed to **ON GOING** tab, you set the adapter&#39;s list to `listOnGoing`. And the same procedure for *from ongoing to finished*. Does it make sense?","body":"Well in this case you can implement <code>TabLayout.OnTabSelectedListener</code> to know when the user changed the tab. You can have 3 separate lists for each tab let&#39;s say; <code>listTodo</code>, <code>listOngoing</code> and <code>listFinished</code>. For instance; if the next button is pressed in <b>TODO</b> tab, remove this item from the <code>listTodo</code> list and add it to the <code>listOngoing</code> list. When the tab has changed to <b>ON GOING</b> tab, you set the adapter&#39;s list to <code>listOnGoing</code>. And the same procedure for <i>from ongoing to finished</i>. Does it make sense?"},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1654083479,"post_id":72457631,"comment_id":128006347,"body_markdown":"can you provide a reference to do this. eg YT or android developer?","body":"can you provide a reference to do this. eg YT or android developer?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654115176,"post_id":72457631,"comment_id":128017632,"body_markdown":"What does YT means? Well you can have a look at the [TabLayout](https://developer.android.com/reference/com/google/android/material/tabs/TabLayout) API reference, or you may want to have a look at [Tabs - Material Design](https://material.io/components/tabs/android) implementation guide, alternatively you may want to see this [Swipe Views with Tabs](https://developer.android.com/guide/navigation/navigation-swipe-view-2) guide. Or if you look for an example specific to your case I can make an example if you have time since I am very busy.","body":"What does YT means? Well you can have a look at the <a href=\"https://developer.android.com/reference/com/google/android/material/tabs/TabLayout\" rel=\"nofollow noreferrer\">TabLayout</a> API reference, or you may want to have a look at <a href=\"https://material.io/components/tabs/android\" rel=\"nofollow noreferrer\">Tabs - Material Design</a> implementation guide, alternatively you may want to see this <a href=\"https://developer.android.com/guide/navigation/navigation-swipe-view-2\" rel=\"nofollow noreferrer\">Swipe Views with Tabs</a> guide. Or if you look for an example specific to your case I can make an example if you have time since I am very busy."}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654067224,"creation_date":1654067224,"question_id":72457631,"body_markdown":"I have a recycler view on one tab. I am trying to move the recyclerview to the next tab when the user clicks on the next button as shown below. Im having to add the code move on the adapter class. Hence, below is the code for the adapter class. Any idea on how to move the recyclerview to the next tabs (ongoing + finished)\r\n\r\n[![UI][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nvqFs.png\r\n\r\n\r\n\r\ncode\r\n\r\n\r\n    public class recyclerKanbanAdapter extends RecyclerView.Adapter&lt;recyclerKanbanAdapter.MyViewHolder&gt; {\r\n        ArrayList&lt;kanbanItems&gt; kanlist;\r\n        Context context;\r\n        public recyclerKanbanAdapter(Context context,ArrayList&lt;kanbanItems&gt;kanbanList)\r\n        {\r\n            this.context=context;\r\n            this.kanlist=kanbanList;\r\n        }\r\n    \r\n        public recyclerKanbanAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(context).inflate(R.layout.fragment_itemkanban,parent,false);\r\n            return new recyclerKanbanAdapter.MyViewHolder(v);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull recyclerKanbanAdapter.MyViewHolder holder, int position) {\r\n            kanbanItems kanban = kanlist.get(position);\r\n            holder.contractorName.setText(kanban.getContractorName());\r\n            holder.Duration.setText(kanban.getDuration());\r\n            holder.taskName.setText(kanban.getTaskName());\r\n            holder.btn_Delete.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    kanlist.remove(holder.getAdapterPosition());\r\n                    notifyItemRemoved(holder.getAdapterPosition());\r\n                    notifyItemRangeChanged(holder.getAdapterPosition(), kanlist.size());\r\n                }\r\n            });\r\n            holder.btn_Move.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                   //struggling to implemene the move button\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return kanlist.size();\r\n        }\r\n        public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            EditText taskName,Duration,contractorName;\r\n            ImageButton btn_Delete;\r\n            ImageButton btn_Move;\r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                btn_Move=itemView.findViewById(R.id.btn_move);\r\n                btn_Delete=itemView.findViewById(R.id.btn_delete);\r\n                taskName= itemView.findViewById(R.id.txtTaskName);\r\n                Duration=itemView.findViewById(R.id.txtDuration);\r\n                contractorName=itemView.findViewById(R.id.txtContractor);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Move a list to the next tab on click a button using tab layout","body":"<p>I have a recycler view on one tab. I am trying to move the recyclerview to the next tab when the user clicks on the next button as shown below. Im having to add the code move on the adapter class. Hence, below is the code for the adapter class. Any idea on how to move the recyclerview to the next tabs (ongoing + finished)</p>\n<p><a href=\"https://i.stack.imgur.com/nvqFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nvqFs.png\" alt=\"UI\" /></a></p>\n<p>code</p>\n<pre><code>public class recyclerKanbanAdapter extends RecyclerView.Adapter&lt;recyclerKanbanAdapter.MyViewHolder&gt; {\n    ArrayList&lt;kanbanItems&gt; kanlist;\n    Context context;\n    public recyclerKanbanAdapter(Context context,ArrayList&lt;kanbanItems&gt;kanbanList)\n    {\n        this.context=context;\n        this.kanlist=kanbanList;\n    }\n\n    public recyclerKanbanAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.fragment_itemkanban,parent,false);\n        return new recyclerKanbanAdapter.MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull recyclerKanbanAdapter.MyViewHolder holder, int position) {\n        kanbanItems kanban = kanlist.get(position);\n        holder.contractorName.setText(kanban.getContractorName());\n        holder.Duration.setText(kanban.getDuration());\n        holder.taskName.setText(kanban.getTaskName());\n        holder.btn_Delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                kanlist.remove(holder.getAdapterPosition());\n                notifyItemRemoved(holder.getAdapterPosition());\n                notifyItemRangeChanged(holder.getAdapterPosition(), kanlist.size());\n            }\n        });\n        holder.btn_Move.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               //struggling to implemene the move button\n\n            }\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return kanlist.size();\n    }\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        EditText taskName,Duration,contractorName;\n        ImageButton btn_Delete;\n        ImageButton btn_Move;\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            btn_Move=itemView.findViewById(R.id.btn_move);\n            btn_Delete=itemView.findViewById(R.id.btn_delete);\n            taskName= itemView.findViewById(R.id.txtTaskName);\n            Duration=itemView.findViewById(R.id.txtDuration);\n            contractorName=itemView.findViewById(R.id.txtContractor);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa-2.0","find-in-set"],"answers":[{"tags":[],"owner":{"account_id":7375246,"reputation":1,"user_id":5614124,"display_name":"Saxon Gbl"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1557742747,"creation_date":1557741415,"answer_id":56109950,"question_id":51421464,"body_markdown":"```sql\r\nselect t from Teacher t where find_in_set(&quot;5&quot;, t.deptIds) = 0 and t.id = 101\r\n```","title":"How to use FIND_IN_SET in jpa","body":"<pre class=\"lang-sql prettyprint-override\"><code>select t from Teacher t where find_in_set(\"5\", t.deptIds) = 0 and t.id = 101\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23514843,"reputation":31,"user_id":17562934,"display_name":"ssehs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644485013,"creation_date":1644485013,"answer_id":71062583,"question_id":51421464,"body_markdown":"```\r\ncriteriaBuilder.function(&quot;find_in_set&quot;, Boolean.class,\r\n        criteriaBuilder.literal(s),\r\n        root.get(&quot;field&quot;))\r\n```","title":"How to use FIND_IN_SET in jpa","body":"<pre><code>criteriaBuilder.function(&quot;find_in_set&quot;, Boolean.class,\n        criteriaBuilder.literal(s),\n        root.get(&quot;field&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4038953,"reputation":991,"user_id":3322358,"display_name":"Aborn Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654066890,"creation_date":1654066890,"answer_id":72457573,"question_id":51421464,"body_markdown":"Here is [an example](https://github.com/aborn/mindpress-serv/blob/27fb832f6eeec0241d35648751414ff7a9219763/src/main/java/com/github/aborn/mindpress/inf/utils/QueryHelp.java):\r\n[![find_in_set example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DeN3T.png\r\n\r\nHere is java code snippet.\r\n\r\n```java\r\n\r\n    list.add(cb.greaterThan(cb.function(&quot;FIND_IN_SET&quot;, Integer.class,\r\n                                    cb.literal(val.toString()), root.get(attributeName)), 0));\r\n```\r\n","title":"How to use FIND_IN_SET in jpa","body":"<p>Here is <a href=\"https://github.com/aborn/mindpress-serv/blob/27fb832f6eeec0241d35648751414ff7a9219763/src/main/java/com/github/aborn/mindpress/inf/utils/QueryHelp.java\" rel=\"nofollow noreferrer\">an example</a>:\n<a href=\"https://i.stack.imgur.com/DeN3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DeN3T.png\" alt=\"find_in_set example\" /></a></p>\n<p>Here is java code snippet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    list.add(cb.greaterThan(cb.function(&quot;FIND_IN_SET&quot;, Integer.class,\n                                    cb.literal(val.toString()), root.get(attributeName)), 0));\n</code></pre>\n"}],"owner":{"account_id":13438787,"reputation":155,"user_id":9696526,"display_name":"The Hunter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1654066890,"creation_date":1531999574,"question_id":51421464,"body_markdown":"How can I use `find_in_set` in jpa?&lt;br&gt;\r\n\r\nI need to achieve like this&lt;br/&gt;\r\n**SQL -** `select * from teacher where find_in_set(&quot;5&quot;, deptIds) and id = 101` &lt;br&gt;\r\n\r\nwhere `deptIds` have comma separated ids (I know it&#39;s bad idea but legacy.)&lt;br/&gt; \r\n\r\nTo do so I had been tried using `Criteria` but not found any `Restrictions` that can fulfill `find_in_set`.&lt;br&gt;\r\n**Note** - need possible solution with `Criteria` and `Restrictions`","title":"How to use FIND_IN_SET in jpa","body":"<p>How can I use <code>find_in_set</code> in jpa?<br></p>\n\n<p>I need to achieve like this<br/>\n<strong>SQL -</strong> <code>select * from teacher where find_in_set(\"5\", deptIds) and id = 101</code> <br></p>\n\n<p>where <code>deptIds</code> have comma separated ids (I know it's bad idea but legacy.)<br/> </p>\n\n<p>To do so I had been tried using <code>Criteria</code> but not found any <code>Restrictions</code> that can fulfill <code>find_in_set</code>.<br>\n<strong>Note</strong> - need possible solution with <code>Criteria</code> and <code>Restrictions</code></p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1606072507,"post_id":64958324,"comment_id":114842538,"body_markdown":"Selenium version?","body":"Selenium version?"},{"owner":{"account_id":17277592,"reputation":188,"user_id":12511908,"display_name":"Brandon"},"score":2,"creation_date":1606072917,"post_id":64958324,"comment_id":114842652,"body_markdown":"The strikeout is done by your ide, it gets applied to all deprecated methods for any supported programming languages.","body":"The strikeout is done by your ide, it gets applied to all deprecated methods for any supported programming languages."}],"answers":[{"tags":[],"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606072964,"creation_date":1606072579,"answer_id":64958441,"question_id":64958324,"body_markdown":"The methods `WebDriver.Timeouts\tpageLoadTimeout​(long time, java.util.concurrent.TimeUnit unit)`is deprecated.\r\n\r\nUse `pageLoadTimeout(Duration)` that sets the amount of time to wait for a page load to complete before throwing an error, instead.\r\n\r\nSee: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html","title":"Methods displayed as strikethrough text","body":"<p>The methods <code>WebDriver.Timeouts pageLoadTimeout​(long time, java.util.concurrent.TimeUnit unit)</code>is deprecated.</p>\n<p>Use <code>pageLoadTimeout(Duration)</code> that sets the amount of time to wait for a page load to complete before throwing an error, instead.</p>\n<p>See: <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html</a></p>\n"},{"tags":[],"owner":{"account_id":25414699,"reputation":1,"user_id":19221859,"display_name":"Nikhil Shirodkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654066296,"creation_date":1653761849,"answer_id":72418226,"question_id":64958324,"body_markdown":"The Method you have used is outdated.\r\nUse Below method will help you.\r\n\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));","title":"Methods displayed as strikethrough text","body":"<p>The Method you have used is outdated.\nUse Below method will help you.</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n"}],"owner":{"account_id":19220025,"reputation":41,"user_id":14044072,"display_name":"Dancing Dots _Sumit Patro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1654066296,"creation_date":1606071914,"question_id":64958324,"body_markdown":"Can anyone tell me why the methods `pageloadtimeout` and `implicitlywait` are displayed as strikethrough text in my `testbase` class? \r\n\r\n![strikethrough methods][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QPnft.png","title":"Methods displayed as strikethrough text","body":"<p>Can anyone tell me why the methods <code>pageloadtimeout</code> and <code>implicitlywait</code> are displayed as strikethrough text in my <code>testbase</code> class?</p>\n<p><img src=\"https://i.stack.imgur.com/QPnft.png\" alt=\"strikethrough methods\" /></p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1547135207,"post_id":54131743,"comment_id":95095765,"body_markdown":"You can `peek` before `collect` and add each `Person` instance to a `final List` you have in scope, and basically `get` the last value each time from it when you encounter a duplicate. Not able to test in my local right now so not answering with code.","body":"You can <code>peek</code> before <code>collect</code> and add each <code>Person</code> instance to a <code>final List</code> you have in scope, and basically <code>get</code> the last value each time from it when you encounter a duplicate. Not able to test in my local right now so not answering with code."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1547136100,"post_id":54131743,"comment_id":95096352,"body_markdown":"You could consider not using streams for this job.  They are not always the best choice.  To do this with the collectors available via java.util.stream.Collectors you need to perform two passes, whereas you could do it more efficiently (i.e. in one pass), with comparable code clarity, via an old-school enhanced `for` loop.","body":"You could consider not using streams for this job.  They are not always the best choice.  To do this with the collectors available via java.util.stream.Collectors you need to perform two passes, whereas you could do it more efficiently (i.e. in one pass), with comparable code clarity, via an old-school enhanced <code>for</code> loop."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1547139047,"post_id":54131743,"comment_id":95098155,"body_markdown":"What does `person.getAddress()` return?  A collection?","body":"What does <code>person.getAddress()</code> return?  A collection?"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":1,"creation_date":1547139201,"post_id":54131743,"comment_id":95098251,"body_markdown":"@VGR no, a String.","body":"@VGR no, a String."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1547145390,"post_id":54131743,"comment_id":95101309,"body_markdown":"See also [How to get the key in Collectors.toMap merge function?](https://stackoverflow.com/q/44407112/2711488) and compare with [this answer](https://stackoverflow.com/a/45210944/2711488).","body":"See also <a href=\"https://stackoverflow.com/q/44407112/2711488\">How to get the key in Collectors.toMap merge function?</a> and compare with <a href=\"https://stackoverflow.com/a/45210944/2711488\">this answer</a>."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1547337302,"post_id":54131743,"comment_id":95159549,"body_markdown":"@JohnBollinger You can do it with 1 pass using Streams I think.","body":"@JohnBollinger You can do it with 1 pass using Streams I think."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1547348884,"post_id":54131743,"comment_id":95161178,"body_markdown":"@KorayTugay, I don&#39;t doubt that you could do it in one pass with streams, by writing a for-purpose `Collector`.  But I said you can&#39;t do that with the pre-built Collectors available from the `java.util.streams.Collectors` utility class.  If you want to persuade me differently then you&#39;ll need to do a lot better than &quot;I think&quot;.","body":"@KorayTugay, I don&#39;t doubt that you could do it in one pass with streams, by writing a for-purpose <code>Collector</code>.  But I said you can&#39;t do that with the pre-built Collectors available from the <code>java.util.streams.Collectors</code> utility class.  If you want to persuade me differently then you&#39;ll need to do a lot better than &quot;I think&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1547134482,"creation_date":1547133697,"answer_id":54131809,"question_id":54131743,"body_markdown":"if you want to access the whole person object in the merge function then pass `Function.identity()`  for the `valueMapper`:\r\n\r\n    Map&lt;String, Person&gt; myMap = \r\n            persons.stream()\r\n                   .collect(toMap(p -&gt; p.getName(), \r\n                          Function.identity(), // or p -&gt; p\r\n                         (p1, p2) -&gt; { /* do logic */ }));\r\n\r\nBut as you can see the resulting map values are `Person` objects, if you still want a `Map&lt;String, String&gt;` as a result and still access the whole `Person` object in the `mergeFunction` then you can do the following:\r\n\r\n \r\n\r\n     persons.stream()\r\n             .collect(toMap(p -&gt; p.getName(), Function.identity(),(p1, p2) -&gt; { /* do logic */ }))\r\n             .entrySet()\r\n             .stream()\r\n             .collect(toMap(Map.Entry::getKey, p -&gt; p.getValue().getAddress()));","title":"handle duplicate key in Collectors.toMap() function","body":"<p>if you want to access the whole person object in the merge function then pass <code>Function.identity()</code>  for the <code>valueMapper</code>:</p>\n\n<pre><code>Map&lt;String, Person&gt; myMap = \n        persons.stream()\n               .collect(toMap(p -&gt; p.getName(), \n                      Function.identity(), // or p -&gt; p\n                     (p1, p2) -&gt; { /* do logic */ }));\n</code></pre>\n\n<p>But as you can see the resulting map values are <code>Person</code> objects, if you still want a <code>Map&lt;String, String&gt;</code> as a result and still access the whole <code>Person</code> object in the <code>mergeFunction</code> then you can do the following:</p>\n\n<pre><code> persons.stream()\n         .collect(toMap(p -&gt; p.getName(), Function.identity(),(p1, p2) -&gt; { /* do logic */ }))\n         .entrySet()\n         .stream()\n         .collect(toMap(Map.Entry::getKey, p -&gt; p.getValue().getAddress()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15071962,"reputation":211,"user_id":10877141,"display_name":"ygbgames"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654066267,"creation_date":1547138440,"answer_id":54133233,"question_id":54131743,"body_markdown":"@Aomine: solution looks good and works for me too. Just wanted to confirm that with this it iterates twice right ?? Cause with simple solution like below it iterates only once but achieve what is required.\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n    persons.forEach(item -&gt; {\r\n        if(myMap.containsKey(item.getName()))\r\n            {/*do something*/}\r\n        else \r\n            myMap.put(item.getName(), item.getAddress());\r\n    });","title":"handle duplicate key in Collectors.toMap() function","body":"<p>@Aomine: solution looks good and works for me too. Just wanted to confirm that with this it iterates twice right ?? Cause with simple solution like below it iterates only once but achieve what is required.</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\npersons.forEach(item -&gt; {\n    if(myMap.containsKey(item.getName()))\n        {/*do something*/}\n    else \n        myMap.put(item.getName(), item.getAddress());\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547139364,"creation_date":1547139364,"answer_id":54133484,"question_id":54131743,"body_markdown":"I believe the `forEach` approach along with [`Map.merge`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)) would be much simpler and appropriate for the current use case :\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n    persons.forEach(person -&gt; myMap.merge(person.getName(), person.getAddress(), (adrs1, adrs2) -&gt; {\r\n        System.out.println(&quot;duplicate &quot; + person.getName() + &quot; is found!&quot;);\r\n        return adrs1;\r\n    }));\r\n\r\n**Note**: `Map.merge` also uses `BiFunction` (parent of `BinaryOperator` as used in `toMap`), hence you could correlate the merge function here to your existing desired functionality easily.","title":"handle duplicate key in Collectors.toMap() function","body":"<p>I believe the <code>forEach</code> approach along with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"noreferrer\"><code>Map.merge</code></a> would be much simpler and appropriate for the current use case :</p>\n\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\npersons.forEach(person -&gt; myMap.merge(person.getName(), person.getAddress(), (adrs1, adrs2) -&gt; {\n    System.out.println(\"duplicate \" + person.getName() + \" is found!\");\n    return adrs1;\n}));\n</code></pre>\n\n<p><strong>Note</strong>: <code>Map.merge</code> also uses <code>BiFunction</code> (parent of <code>BinaryOperator</code> as used in <code>toMap</code>), hence you could correlate the merge function here to your existing desired functionality easily.</p>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547340253,"creation_date":1547340253,"answer_id":54165201,"question_id":54131743,"body_markdown":"Here is another possibility using `peek`\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n\r\n    class App {\r\n        public static void main(String[] args) {\r\n            List&lt;Person&gt; persons = Arrays.asList(new Person(&quot;foo&quot;, &quot;bar&quot;), new Person(&quot;baz&quot;, &quot;qux&quot;), new Person(&quot;foo&quot;, &quot;zuz&quot;));\r\n            \r\n            Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n            Map&lt;String, String&gt; nameAddress = persons.stream().peek(p -&gt; {\r\n                if (names.contains(p.getName())) {\r\n                    System.out.println(&quot;Duplicate key being skipped: &quot; + p);\r\n                } else {\r\n                    names.add(p.getName());\r\n                }\r\n            }).collect(Collectors.toMap(person -&gt; person.getName(), person -&gt; person.getAddress(), (addr1, addr2) -&gt; addr1));\r\n\r\n        }\r\n    }\r\n\r\n    class Person {\r\n        String name;\r\n        String address;\r\n\r\n        public Person(String name, String address) {\r\n            this.name = name;\r\n            this.address = address;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return name + &quot; &quot; + address;\r\n        }\r\n    }\r\n\r\nOutput for me will be as follows for the snippet above:\r\n\r\n    Duplicate key being skipped: foo zuz","title":"handle duplicate key in Collectors.toMap() function","body":"<p>Here is another possibility using <code>peek</code></p>\n\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nclass App {\n    public static void main(String[] args) {\n        List&lt;Person&gt; persons = Arrays.asList(new Person(\"foo\", \"bar\"), new Person(\"baz\", \"qux\"), new Person(\"foo\", \"zuz\"));\n\n        Set&lt;String&gt; names = new HashSet&lt;&gt;();\n        Map&lt;String, String&gt; nameAddress = persons.stream().peek(p -&gt; {\n            if (names.contains(p.getName())) {\n                System.out.println(\"Duplicate key being skipped: \" + p);\n            } else {\n                names.add(p.getName());\n            }\n        }).collect(Collectors.toMap(person -&gt; person.getName(), person -&gt; person.getAddress(), (addr1, addr2) -&gt; addr1));\n\n    }\n}\n\nclass Person {\n    String name;\n    String address;\n\n    public Person(String name, String address) {\n        this.name = name;\n        this.address = address;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    @Override\n    public String toString() {\n        return name + \" \" + address;\n    }\n}\n</code></pre>\n\n<p>Output for me will be as follows for the snippet above:</p>\n\n<pre><code>Duplicate key being skipped: foo zuz\n</code></pre>\n"}],"owner":{"account_id":13244227,"reputation":715,"user_id":9563846,"display_name":"Bali"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18109,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54131809,"answer_count":4,"score":9,"last_activity_date":1654066267,"creation_date":1547133461,"question_id":54131743,"body_markdown":"I am creating a map which its (key,value) will be (name, address) in my Person object: \r\n\r\n    Map&lt;String, String&gt; myMap = persons.stream.collect(Collector.toMap(person.getName(), person.getAddress(), (address1, address2) -&gt; address1));\r\n\r\nIn the duplicate key situation, I would like to skip to add the second address to the map and would like to log the name also. Skipping the duplicate address I can do already using mergeFunction, but in oder to log the name I need in this mergeFunction the person object, something like: \r\n\r\n    (address1, address2) -&gt; {\r\n                               System.out.println(&quot;duplicate &quot;+person.name() + &quot; is found!&quot;);\r\n                               return address1;\r\n                            }\r\n\r\nI am getting stuck by passing person object to this merge function.\r\n","title":"handle duplicate key in Collectors.toMap() function","body":"<p>I am creating a map which its (key,value) will be (name, address) in my Person object: </p>\n\n<pre><code>Map&lt;String, String&gt; myMap = persons.stream.collect(Collector.toMap(person.getName(), person.getAddress(), (address1, address2) -&gt; address1));\n</code></pre>\n\n<p>In the duplicate key situation, I would like to skip to add the second address to the map and would like to log the name also. Skipping the duplicate address I can do already using mergeFunction, but in oder to log the name I need in this mergeFunction the person object, something like: </p>\n\n<pre><code>(address1, address2) -&gt; {\n                           System.out.println(\"duplicate \"+person.name() + \" is found!\");\n                           return address1;\n                        }\n</code></pre>\n\n<p>I am getting stuck by passing person object to this merge function.</p>\n"},{"tags":["java","spring","spring-boot","ignite"],"answers":[{"tags":[],"owner":{"account_id":15742512,"reputation":99,"user_id":11359474,"display_name":"Muhammad Osama Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654063975,"creation_date":1654063975,"answer_id":72457184,"question_id":72457005,"body_markdown":"Set defaultDataRegionConfiguration: instead of dataRegionConfigurations:\r\n\r\nData Storage Configuration has an implicit default Region. The\r\nproblem is, adding a new region, also with default name.","title":"Apache Ignite 2.13.0 (Two MemoryPolicies have the same name: default) error using ignite-spring-boot-autoconfigure-ext","body":"<p>Set defaultDataRegionConfiguration: instead of dataRegionConfigurations:</p>\n<p>Data Storage Configuration has an implicit default Region. The\nproblem is, adding a new region, also with default name.</p>\n"}],"owner":{"account_id":15742512,"reputation":99,"user_id":11359474,"display_name":"Muhammad Osama Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654066259,"creation_date":1654062825,"question_id":72457005,"body_markdown":"My requirement is to run Ignite with ignite-spring-boot-autoconfigure-ext by setting configurations in application.yml property file. \r\nMoreover, I tried to add MemoryPolicy but error occurred that (Data storage can be configured with either legacy (MemoryConfiguration, PersistentStoreConfiguration) or new (DataStorageConfiguration) classes, but not both)  \r\n\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.poc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ignite-auto-configurer&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ignite-auto-configurer&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-indexing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.197&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nMy application.yml\r\n\r\n```\r\nserver:\r\n  port: 8081\r\nignite:\r\n  clientMode: true\r\n  peerClassLoadingEnabled: true\r\n  igniteInstanceName: test-name\r\n  dataStorageConfiguration:\r\n    dataRegionConfigurations:\r\n      - persistenceEnabled: true\r\n```\r\n\r\nError Logs\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.4)\r\n............Removed some logs due to compliance Issue...........\r\norg.apache.ignite.internal.util.GridUnsafe$2\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[10:46:42]    __________  ________________ \r\n[10:46:42]   /  _/ ___/ |/ /  _/_  __/ __/ \r\n[10:46:42]  _/ // (7 7    // /  / / / _/   \r\n[10:46:42] /___/\\___/_/|_/___/ /_/ /x___/  \r\n[10:46:42] \r\n[10:46:42] ver. 2.13.0#20220420-sha1:551f6ece\r\n[10:46:42] 2022 Copyright(C) Apache Software Foundation\r\n[10:46:42] \r\n[10:46:42] Ignite documentation: https://ignite.apache.org\r\n[10:46:42] \r\n[10:46:42] Quiet mode.\r\n[10:46:42]   ^-- Logging by &#39;JavaLogger [quiet=true, config=null]&#39;\r\n[10:46:42]   ^-- To see **FULL** console log here add -DIGNITE_QUIET=false or &quot;-v&quot; to ignite.{sh|bat}\r\n[10:46:42] \r\n[10:46:42] OS: Windows 10 10.0 amd64\r\n[10:46:42] VM information: Java(TM) SE Runtime Environment 15.0.2+7-27 Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 15.0.2+7-27\r\n[10:46:42] Configured plugins:\r\n[10:46:42]   ^-- None\r\n[10:46:42] \r\n[10:46:42] Configured failure handler: [hnd=StopNodeOrHaltFailureHandler [tryStop=false, timeout=0, super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]]]\r\n[10:46:43] Message queue limit is set to 0 which may lead to potential OOMEs when running cache operations in FULL_ASYNC or PRIMARY_SYNC modes due to message queues growth on sender and receiver sides.\r\n[10:46:43,315][SEVERE][main][IgniteKernal%test-name] Exception during start processors, node will be stopped and close connections\r\nclass org.apache.ignite.IgniteCheckedException: Failed to start processor: GridProcessorAdapter []\r\n\tat org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1787)\r\n\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1066)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1799)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1721)\r\n\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1160)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:656)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:578)\r\n\tat org.apache.ignite.Ignition.start(Ignition.java:328)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.CGLIB$ignite$2(&lt;generated&gt;)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39$$FastClassBySpringCGLIB$$263ded42.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.ignite(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n\tat com.poc.igniteautoconfigurer.IgniteAutoConfigurerApplication.main(IgniteAutoConfigurerApplication.java:10)\r\nCaused by: class org.apache.ignite.IgniteCheckedException: Two MemoryPolicies have the same name: default\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionName(IgniteCacheDatabaseSharedManager.java:898)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionConfiguration(IgniteCacheDatabaseSharedManager.java:733)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.validateConfiguration(IgniteCacheDatabaseSharedManager.java:632)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.start0(IgniteCacheDatabaseSharedManager.java:212)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheSharedManagerAdapter.start(GridCacheSharedManagerAdapter.java:61)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheProcessor.start(GridCacheProcessor.java:631)\r\n\tat org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1784)\r\n\t... 38 more\r\n[10:46:43,316][SEVERE][main][IgniteKernal%test-name] Got exception while starting (will rollback startup routine).\r\nclass org.apache.ignite.IgniteCheckedException: Failed to start processor: GridProcessorAdapter []\r\n\tat org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1787)\r\n\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1066)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1799)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1721)\r\n\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1160)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:656)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:578)\r\n\tat org.apache.ignite.Ignition.start(Ignition.java:328)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.CGLIB$ignite$2(&lt;generated&gt;)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39$$FastClassBySpringCGLIB$$263ded42.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.ignite(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n\tat com.poc.igniteautoconfigurer.IgniteAutoConfigurerApplication.main(IgniteAutoConfigurerApplication.java:10)\r\nCaused by: class org.apache.ignite.IgniteCheckedException: Two MemoryPolicies have the same name: default\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionName(IgniteCacheDatabaseSharedManager.java:898)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionConfiguration(IgniteCacheDatabaseSharedManager.java:733)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.validateConfiguration(IgniteCacheDatabaseSharedManager.java:632)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.start0(IgniteCacheDatabaseSharedManager.java:212)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheSharedManagerAdapter.start(GridCacheSharedManagerAdapter.java:61)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheProcessor.start(GridCacheProcessor.java:631)\r\n\tat org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1784)\r\n\t... 38 more\r\n[10:46:43] Ignite node stopped OK [name=test-name, uptime=00:00:00.834]\r\n2022-06-01 10:46:43.336  WARN 14752 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ignite&#39; defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\r\n2022-06-01 10:46:43.354  INFO 14752 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-06-01 10:46:43.380 ERROR 14752 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ignite&#39; defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.poc.igniteautoconfigurer.IgniteAutoConfigurerApplication.main(IgniteAutoConfigurerApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method &#39;ignite&#39; threw exception; nested exception is class org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\t... 19 common frames omitted\r\nCaused by: org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\r\n\tat org.apache.ignite.internal.util.IgniteUtils.convertException(IgniteUtils.java:1135) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.Ignition.start(Ignition.java:331) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.CGLIB$ignite$2(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39$$FastClassBySpringCGLIB$$263ded42.invoke(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.ignite(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\t... 20 common frames omitted\r\nCaused by: org.apache.ignite.IgniteCheckedException: Failed to start processor: GridProcessorAdapter []\r\n\tat org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1787) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1066) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1799) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1721) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1160) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:656) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:578) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.Ignition.start(Ignition.java:328) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\t... 31 common frames omitted\r\nCaused by: org.apache.ignite.IgniteCheckedException: Two MemoryPolicies have the same name: default\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionName(IgniteCacheDatabaseSharedManager.java:898) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionConfiguration(IgniteCacheDatabaseSharedManager.java:733) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.validateConfiguration(IgniteCacheDatabaseSharedManager.java:632) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.start0(IgniteCacheDatabaseSharedManager.java:212) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheSharedManagerAdapter.start(GridCacheSharedManagerAdapter.java:61) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheProcessor.start(GridCacheProcessor.java:631) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\tat org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1784) ~[ignite-core-2.13.0.jar:2.13.0]\r\n\t... 38 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```","title":"Apache Ignite 2.13.0 (Two MemoryPolicies have the same name: default) error using ignite-spring-boot-autoconfigure-ext","body":"<p>My requirement is to run Ignite with ignite-spring-boot-autoconfigure-ext by setting configurations in application.yml property file.\nMoreover, I tried to add MemoryPolicy but error occurred that (Data storage can be configured with either legacy (MemoryConfiguration, PersistentStoreConfiguration) or new (DataStorageConfiguration) classes, but not both)</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.poc&lt;/groupId&gt;\n    &lt;artifactId&gt;ignite-auto-configurer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ignite-auto-configurer&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-indexing&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.197&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My application.yml</p>\n<pre><code>server:\n  port: 8081\nignite:\n  clientMode: true\n  peerClassLoadingEnabled: true\n  igniteInstanceName: test-name\n  dataStorageConfiguration:\n    dataRegionConfigurations:\n      - persistenceEnabled: true\n</code></pre>\n<p>Error Logs</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.4)\n............Removed some logs due to compliance Issue...........\norg.apache.ignite.internal.util.GridUnsafe$2\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[10:46:42]    __________  ________________ \n[10:46:42]   /  _/ ___/ |/ /  _/_  __/ __/ \n[10:46:42]  _/ // (7 7    // /  / / / _/   \n[10:46:42] /___/\\___/_/|_/___/ /_/ /x___/  \n[10:46:42] \n[10:46:42] ver. 2.13.0#20220420-sha1:551f6ece\n[10:46:42] 2022 Copyright(C) Apache Software Foundation\n[10:46:42] \n[10:46:42] Ignite documentation: https://ignite.apache.org\n[10:46:42] \n[10:46:42] Quiet mode.\n[10:46:42]   ^-- Logging by 'JavaLogger [quiet=true, config=null]'\n[10:46:42]   ^-- To see **FULL** console log here add -DIGNITE_QUIET=false or &quot;-v&quot; to ignite.{sh|bat}\n[10:46:42] \n[10:46:42] OS: Windows 10 10.0 amd64\n[10:46:42] VM information: Java(TM) SE Runtime Environment 15.0.2+7-27 Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 15.0.2+7-27\n[10:46:42] Configured plugins:\n[10:46:42]   ^-- None\n[10:46:42] \n[10:46:42] Configured failure handler: [hnd=StopNodeOrHaltFailureHandler [tryStop=false, timeout=0, super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]]]\n[10:46:43] Message queue limit is set to 0 which may lead to potential OOMEs when running cache operations in FULL_ASYNC or PRIMARY_SYNC modes due to message queues growth on sender and receiver sides.\n[10:46:43,315][SEVERE][main][IgniteKernal%test-name] Exception during start processors, node will be stopped and close connections\nclass org.apache.ignite.IgniteCheckedException: Failed to start processor: GridProcessorAdapter []\n    at org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1787)\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1066)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1799)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1721)\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1160)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:656)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:578)\n    at org.apache.ignite.Ignition.start(Ignition.java:328)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.CGLIB$ignite$2(&lt;generated&gt;)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39$$FastClassBySpringCGLIB$$263ded42.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.ignite(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at com.poc.igniteautoconfigurer.IgniteAutoConfigurerApplication.main(IgniteAutoConfigurerApplication.java:10)\nCaused by: class org.apache.ignite.IgniteCheckedException: Two MemoryPolicies have the same name: default\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionName(IgniteCacheDatabaseSharedManager.java:898)\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionConfiguration(IgniteCacheDatabaseSharedManager.java:733)\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.validateConfiguration(IgniteCacheDatabaseSharedManager.java:632)\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.start0(IgniteCacheDatabaseSharedManager.java:212)\n    at org.apache.ignite.internal.processors.cache.GridCacheSharedManagerAdapter.start(GridCacheSharedManagerAdapter.java:61)\n    at org.apache.ignite.internal.processors.cache.GridCacheProcessor.start(GridCacheProcessor.java:631)\n    at org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1784)\n    ... 38 more\n[10:46:43,316][SEVERE][main][IgniteKernal%test-name] Got exception while starting (will rollback startup routine).\nclass org.apache.ignite.IgniteCheckedException: Failed to start processor: GridProcessorAdapter []\n    at org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1787)\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1066)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1799)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1721)\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1160)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:656)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:578)\n    at org.apache.ignite.Ignition.start(Ignition.java:328)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.CGLIB$ignite$2(&lt;generated&gt;)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39$$FastClassBySpringCGLIB$$263ded42.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.ignite(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at com.poc.igniteautoconfigurer.IgniteAutoConfigurerApplication.main(IgniteAutoConfigurerApplication.java:10)\nCaused by: class org.apache.ignite.IgniteCheckedException: Two MemoryPolicies have the same name: default\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionName(IgniteCacheDatabaseSharedManager.java:898)\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionConfiguration(IgniteCacheDatabaseSharedManager.java:733)\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.validateConfiguration(IgniteCacheDatabaseSharedManager.java:632)\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.start0(IgniteCacheDatabaseSharedManager.java:212)\n    at org.apache.ignite.internal.processors.cache.GridCacheSharedManagerAdapter.start(GridCacheSharedManagerAdapter.java:61)\n    at org.apache.ignite.internal.processors.cache.GridCacheProcessor.start(GridCacheProcessor.java:631)\n    at org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1784)\n    ... 38 more\n[10:46:43] Ignite node stopped OK [name=test-name, uptime=00:00:00.834]\n2022-06-01 10:46:43.336  WARN 14752 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ignite' defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\n2022-06-01 10:46:43.354  INFO 14752 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-06-01 10:46:43.380 ERROR 14752 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ignite' defined in class path resource [org/apache/ignite/springframework/boot/autoconfigure/IgniteAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.poc.igniteautoconfigurer.IgniteAutoConfigurerApplication.main(IgniteAutoConfigurerApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ignite.Ignite]: Factory method 'ignite' threw exception; nested exception is class org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 19 common frames omitted\nCaused by: org.apache.ignite.IgniteException: Failed to start processor: GridProcessorAdapter []\n    at org.apache.ignite.internal.util.IgniteUtils.convertException(IgniteUtils.java:1135) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.Ignition.start(Ignition.java:331) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration.ignite(IgniteAutoConfiguration.java:99) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.CGLIB$ignite$2(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39$$FastClassBySpringCGLIB$$263ded42.invoke(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.apache.ignite.springframework.boot.autoconfigure.IgniteAutoConfiguration$$EnhancerBySpringCGLIB$$92c24d39.ignite(&lt;generated&gt;) ~[ignite-spring-boot-autoconfigure-ext-1.0.0.jar:1.0.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 20 common frames omitted\nCaused by: org.apache.ignite.IgniteCheckedException: Failed to start processor: GridProcessorAdapter []\n    at org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1787) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1066) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1799) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1721) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1160) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:656) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:578) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.Ignition.start(Ignition.java:328) ~[ignite-core-2.13.0.jar:2.13.0]\n    ... 31 common frames omitted\nCaused by: org.apache.ignite.IgniteCheckedException: Two MemoryPolicies have the same name: default\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionName(IgniteCacheDatabaseSharedManager.java:898) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.checkDataRegionConfiguration(IgniteCacheDatabaseSharedManager.java:733) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.validateConfiguration(IgniteCacheDatabaseSharedManager.java:632) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.processors.cache.persistence.IgniteCacheDatabaseSharedManager.start0(IgniteCacheDatabaseSharedManager.java:212) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.processors.cache.GridCacheSharedManagerAdapter.start(GridCacheSharedManagerAdapter.java:61) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.processors.cache.GridCacheProcessor.start(GridCacheProcessor.java:631) ~[ignite-core-2.13.0.jar:2.13.0]\n    at org.apache.ignite.internal.IgniteKernal.startProcessor(IgniteKernal.java:1784) ~[ignite-core-2.13.0.jar:2.13.0]\n    ... 38 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n"},{"tags":["java","vlcj","webcam-capture"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1654001530,"post_id":72444645,"comment_id":127983899,"body_markdown":"The bit of code you posted is not from vlc-4.7.3 is it? That newVideoMediaDiscoverer() method does not exist on the factory.","body":"The bit of code you posted is not from vlc-4.7.3 is it? That newVideoMediaDiscoverer() method does not exist on the factory."},{"owner":{"account_id":12039849,"reputation":53,"user_id":8807190,"display_name":"alexflex25"},"score":0,"creation_date":1654001891,"post_id":72444645,"comment_id":127984052,"body_markdown":"@caprica Yes you are right, I just added the code I use in vlcj 4.7.3","body":"@caprica Yes you are right, I just added the code I use in vlcj 4.7.3"}],"answers":[{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654002494,"creation_date":1654002494,"answer_id":72448379,"question_id":72444645,"body_markdown":"With vlcj-4.7.x, the API to discover video capture devices looks like this:\r\n\r\n```\r\nList&lt;MediaDiscovererDescription&gt; discoverers = factory.mediaDiscoverers().discoverers(MediaDiscovererCategory.DEVICES);\r\n```\r\n\r\nWhen I run that code, I see something like this:\r\n\r\n```\r\n[DEVICES     ] v4l                  &quot;Video capture&quot;\r\n[DEVICES     ] disc                 &quot;Discs&quot;\r\n[DEVICES     ] xcb_apps             &quot;Screen capture&quot;\r\n[DEVICES     ] mtp                  &quot;MTP devices&quot;\r\n[DEVICES     ] pulse                &quot;Audio capture&quot;\r\n```\r\n\r\nIn this case, on Linux, the discoverer ID is &quot;v4l&quot;.\r\n\r\nSo now you find the &quot;v4l&quot; discoverer in the list of discoverer descriptions. Once you have that discoverer instance you can invoke methods on it to get the actual capture devices.\r\n\r\nIf you know the discoverer ID in advance, which in all (?) cases you will, you can do this instead:\r\n\r\n```\r\nMediaDiscoverer discoverer = factory.mediaDiscoverers().discoverer(&quot;v4l&quot;);\r\n```\r\n\r\nYou then get the media list from that discoverer and add listeners to that media list. \r\n\r\nFinally you must start() the discoverer.\r\n\r\nThe listener will be triggered when a capture device is added/removed (or &#39;detected&#39;).\r\n\r\n```\r\nMediaList list = discoverer.newMediaList();\r\n\r\nlist.events().addMediaListEventListener(new MediaListEventAdapter() {\r\n    @Override\r\n    public void mediaListItemAdded(MediaList mediaList, MediaRef item, int index) {\r\n        System.out.println(name + &quot;: added &quot; + item);\r\n    }\r\n\r\n    @Override\r\n    public void mediaListItemDeleted(MediaList mediaList, MediaRef item, int index) {\r\n        System.out.println(name + &quot;: deleted &quot; + item);\r\n    }\r\n});\r\n\r\ndiscoverer.start();\r\n```\r\n\r\nThe vlcj `MediaDiscovererTest` class shows all of this.\r\n\r\nThe MediaRef instance is the MRL of the capture device, which you can then use to build a menu to select to play one of them or whatever.\r\n","title":"Is webcam detection still supported vlcj-4.7.3","body":"<p>With vlcj-4.7.x, the API to discover video capture devices looks like this:</p>\n<pre><code>List&lt;MediaDiscovererDescription&gt; discoverers = factory.mediaDiscoverers().discoverers(MediaDiscovererCategory.DEVICES);\n</code></pre>\n<p>When I run that code, I see something like this:</p>\n<pre><code>[DEVICES     ] v4l                  &quot;Video capture&quot;\n[DEVICES     ] disc                 &quot;Discs&quot;\n[DEVICES     ] xcb_apps             &quot;Screen capture&quot;\n[DEVICES     ] mtp                  &quot;MTP devices&quot;\n[DEVICES     ] pulse                &quot;Audio capture&quot;\n</code></pre>\n<p>In this case, on Linux, the discoverer ID is &quot;v4l&quot;.</p>\n<p>So now you find the &quot;v4l&quot; discoverer in the list of discoverer descriptions. Once you have that discoverer instance you can invoke methods on it to get the actual capture devices.</p>\n<p>If you know the discoverer ID in advance, which in all (?) cases you will, you can do this instead:</p>\n<pre><code>MediaDiscoverer discoverer = factory.mediaDiscoverers().discoverer(&quot;v4l&quot;);\n</code></pre>\n<p>You then get the media list from that discoverer and add listeners to that media list.</p>\n<p>Finally you must start() the discoverer.</p>\n<p>The listener will be triggered when a capture device is added/removed (or 'detected').</p>\n<pre><code>MediaList list = discoverer.newMediaList();\n\nlist.events().addMediaListEventListener(new MediaListEventAdapter() {\n    @Override\n    public void mediaListItemAdded(MediaList mediaList, MediaRef item, int index) {\n        System.out.println(name + &quot;: added &quot; + item);\n    }\n\n    @Override\n    public void mediaListItemDeleted(MediaList mediaList, MediaRef item, int index) {\n        System.out.println(name + &quot;: deleted &quot; + item);\n    }\n});\n\ndiscoverer.start();\n</code></pre>\n<p>The vlcj <code>MediaDiscovererTest</code> class shows all of this.</p>\n<p>The MediaRef instance is the MRL of the capture device, which you can then use to build a menu to select to play one of them or whatever.</p>\n"}],"owner":{"account_id":12039849,"reputation":53,"user_id":8807190,"display_name":"alexflex25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72448379,"answer_count":1,"score":1,"last_activity_date":1654065901,"creation_date":1653986340,"question_id":72444645,"body_markdown":"Is webcam detection still supported?\r\nThe [MediaDiscovererTest.java][1] file does not seem to detect any capture devices. (win/mac)\r\nIt seems to me that the device detection was working with earlier versions of vlcj on MAC [webcam-capture driver for vlcj][2]\r\n```\r\n...\r\nMediaPlayerFactory mediaPlayerFactory = createMediaPlayerFactory();\r\nMediaDiscoverer videoMediaDiscoverer = mediaPlayerFactory.newVideoMediaDiscoverer();\r\nMediaList videoDeviceList = videoMediaDiscoverer.getMediaList();\r\nList&lt;MediaListItem&gt; videoDevices = videoDeviceList.items();\r\n...\r\n```\r\nVLC is able to detect the capture devices.\r\n\r\n[![Device capture from VLC][3]][3]\r\n\r\nThanks in advance for your help.\r\n\r\n**#edit1**\r\n\r\nUsing the following code in vlcj-4.7.3 does not seem to return the webcam. But maybe I missed something.\r\n\r\n```\r\nMediaPlayerFactory mediaPlayerFactory = new MediaPlayerFactory();\r\nList&lt;MediaDiscovererDescription&gt; videoDevices = mediaPlayerFactory.mediaDiscoverers().discoverers(MediaDiscovererCategory.DEVICES);\r\n```\r\n**#edit 2**\r\n\r\nWhen i run this following code;\r\n\r\n```\r\nList&lt;MediaDiscovererDescription&gt; discoverers = factory.mediaDiscoverers().discoverers(MediaDiscovererCategory.DEVICES);\r\n```\r\nUnder Windows 10 I get the following list: (no Video Capture)\r\n\r\n```\r\n[MediaDiscovererDescription[name=disc,longName=Discs,category=DEVICES],\r\n MediaDiscovererDescription[name=disc,longName=Discs,category=DEVICES]\r\n```\r\nOn MacOs 12.4 I get an empty list... \r\n\r\n**#edit 3**\r\n\r\nCapture device detection only works under linux\r\n\r\n  [1]: https://github.com/caprica/vlcj-examples/blob/master/src/main/java/uk/co/caprica/vlcj/test/discoverer/MediaDiscovererTest.java\r\n  [2]: https://github.com/sarxos/webcam-capture/blob/master/webcam-capture-drivers/driver-vlcj/src/main/java/com/github/sarxos/webcam/ds/vlcj/VlcjDriver.java\r\n  [3]: https://i.stack.imgur.com/Gmglw.png","title":"Is webcam detection still supported vlcj-4.7.3","body":"<p>Is webcam detection still supported?\nThe <a href=\"https://github.com/caprica/vlcj-examples/blob/master/src/main/java/uk/co/caprica/vlcj/test/discoverer/MediaDiscovererTest.java\" rel=\"nofollow noreferrer\">MediaDiscovererTest.java</a> file does not seem to detect any capture devices. (win/mac)\nIt seems to me that the device detection was working with earlier versions of vlcj on MAC <a href=\"https://github.com/sarxos/webcam-capture/blob/master/webcam-capture-drivers/driver-vlcj/src/main/java/com/github/sarxos/webcam/ds/vlcj/VlcjDriver.java\" rel=\"nofollow noreferrer\">webcam-capture driver for vlcj</a></p>\n<pre><code>...\nMediaPlayerFactory mediaPlayerFactory = createMediaPlayerFactory();\nMediaDiscoverer videoMediaDiscoverer = mediaPlayerFactory.newVideoMediaDiscoverer();\nMediaList videoDeviceList = videoMediaDiscoverer.getMediaList();\nList&lt;MediaListItem&gt; videoDevices = videoDeviceList.items();\n...\n</code></pre>\n<p>VLC is able to detect the capture devices.</p>\n<p><a href=\"https://i.stack.imgur.com/Gmglw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gmglw.png\" alt=\"Device capture from VLC\" /></a></p>\n<p>Thanks in advance for your help.</p>\n<p><strong>#edit1</strong></p>\n<p>Using the following code in vlcj-4.7.3 does not seem to return the webcam. But maybe I missed something.</p>\n<pre><code>MediaPlayerFactory mediaPlayerFactory = new MediaPlayerFactory();\nList&lt;MediaDiscovererDescription&gt; videoDevices = mediaPlayerFactory.mediaDiscoverers().discoverers(MediaDiscovererCategory.DEVICES);\n</code></pre>\n<p><strong>#edit 2</strong></p>\n<p>When i run this following code;</p>\n<pre><code>List&lt;MediaDiscovererDescription&gt; discoverers = factory.mediaDiscoverers().discoverers(MediaDiscovererCategory.DEVICES);\n</code></pre>\n<p>Under Windows 10 I get the following list: (no Video Capture)</p>\n<pre><code>[MediaDiscovererDescription[name=disc,longName=Discs,category=DEVICES],\n MediaDiscovererDescription[name=disc,longName=Discs,category=DEVICES]\n</code></pre>\n<p>On MacOs 12.4 I get an empty list...</p>\n<p><strong>#edit 3</strong></p>\n<p>Capture device detection only works under linux</p>\n"},{"tags":["java","sql","postgresql","jpa"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1654061521,"post_id":72456507,"comment_id":127999264,"body_markdown":"`@Transactional` - why?","body":"<code>@Transactional</code> - why?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1654061645,"post_id":72456507,"comment_id":127999288,"body_markdown":"*Column battery_level_name_id not found in this ResultSet.* this seems to point to the data extraction code not the query running code.","body":"<i>Column battery_level_name_id not found in this ResultSet.</i> this seems to point to the data extraction code not the query running code."},{"owner":{"account_id":22141403,"reputation":1,"user_id":16391373,"display_name":"LordBarov"},"score":0,"creation_date":1654063029,"post_id":72456507,"comment_id":127999601,"body_markdown":"@ScaryWombat any suggestions?","body":"@ScaryWombat any suggestions?"},{"owner":{"account_id":22141403,"reputation":1,"user_id":16391373,"display_name":"LordBarov"},"score":0,"creation_date":1654063176,"post_id":72456507,"comment_id":127999636,"body_markdown":"@ScaryWombat I have removed transactional, but it still gives the same error","body":"@ScaryWombat I have removed transactional, but it still gives the same error"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654059407,"creation_date":1654058574,"answer_id":72456536,"question_id":72456507,"body_markdown":"Remove all \r\n\r\n```\r\n\\n\r\n```\r\nby space, you will have a better result.","title":"Query from pgAdmin doesn&#39;t work in JPARepository","body":"<p>Remove all</p>\n<pre><code>\\n\n</code></pre>\n<p>by space, you will have a better result.</p>\n"},{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654065119,"creation_date":1654065119,"answer_id":72457358,"question_id":72456507,"body_markdown":"return `Page&lt;Object[]&gt;` instead of `Page&lt;Battery&gt;`. Replace `\\n` with a space at the end.","title":"Query from pgAdmin doesn&#39;t work in JPARepository","body":"<p>return <code>Page&lt;Object[]&gt;</code> instead of <code>Page&lt;Battery&gt;</code>. Replace <code>\\n</code> with a space at the end.</p>\n"}],"owner":{"account_id":22141403,"reputation":1,"user_id":16391373,"display_name":"LordBarov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654065119,"creation_date":1654058216,"question_id":72456507,"body_markdown":"I&#39;m trying to implement simple Join query where a take id&#39;s from the main Entity and names from other entities using id&#39;s from first Entity. Everything works fine in the pgAdmin&#39;s query tool, but JPA repository doesn&#39;t allow to execute this query. Any ideas?\r\n\r\n    @Transactional\r\n        @Query(nativeQuery = true, value = &quot;select battery.id,battery.uuid,battery.name,battery.price, battery.second_price,\\n&quot; +\r\n                &quot;capacity.name as capacity_name, monoblock.name as monoblock_name,\\n&quot; +\r\n                &quot;manufacturer_country.name as manufacturer_country_name,\\n&quot; +\r\n                &quot;battery_level_name.name as battery_level_name,\\n&quot; +\r\n                &quot;manufacturer.name as manufacturer_name,\\n&quot; +\r\n                &quot;battery.inrush_current,battery.size, battery.image_url, polarity.name as polarity_name\\n&quot; +\r\n                &quot;from battery\\n&quot; +\r\n                &quot;JOIN capacity ON battery.capacity_id = Capacity.id\\n&quot; +\r\n                &quot;JOIN monoblock ON battery.monoblock_id = Monoblock.id \\n&quot; +\r\n                &quot;JOIN manufacturer_country ON battery.manufacturer_country_id = manufacturer_country.id\\n&quot; +\r\n                &quot;JOIN manufacturer ON battery.manufacturer_id = manufacturer.id\\n&quot; +\r\n                &quot;JOIN battery_level_name ON battery.battery_level_name_id = battery_level_name.id\\n&quot; +\r\n                &quot;JOIN polarity ON monoblock.polarity_id = polarity.id&quot;)\r\n        Page&lt;Battery&gt; getPaginatingBatteries(Pageable pageable);\r\n\r\nError:\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n    \r\n    org.postgresql.util.PSQLException: ERROR: syntax error (example position: &quot;.&quot;)\r\n\r\nSometime query gives this error:\r\n\r\n    org.postgresql.util.PSQLException: Column battery_level_name_id not found in this ResultSet.","title":"Query from pgAdmin doesn&#39;t work in JPARepository","body":"<p>I'm trying to implement simple Join query where a take id's from the main Entity and names from other entities using id's from first Entity. Everything works fine in the pgAdmin's query tool, but JPA repository doesn't allow to execute this query. Any ideas?</p>\n<pre><code>@Transactional\n    @Query(nativeQuery = true, value = &quot;select battery.id,battery.uuid,battery.name,battery.price, battery.second_price,\\n&quot; +\n            &quot;capacity.name as capacity_name, monoblock.name as monoblock_name,\\n&quot; +\n            &quot;manufacturer_country.name as manufacturer_country_name,\\n&quot; +\n            &quot;battery_level_name.name as battery_level_name,\\n&quot; +\n            &quot;manufacturer.name as manufacturer_name,\\n&quot; +\n            &quot;battery.inrush_current,battery.size, battery.image_url, polarity.name as polarity_name\\n&quot; +\n            &quot;from battery\\n&quot; +\n            &quot;JOIN capacity ON battery.capacity_id = Capacity.id\\n&quot; +\n            &quot;JOIN monoblock ON battery.monoblock_id = Monoblock.id \\n&quot; +\n            &quot;JOIN manufacturer_country ON battery.manufacturer_country_id = manufacturer_country.id\\n&quot; +\n            &quot;JOIN manufacturer ON battery.manufacturer_id = manufacturer.id\\n&quot; +\n            &quot;JOIN battery_level_name ON battery.battery_level_name_id = battery_level_name.id\\n&quot; +\n            &quot;JOIN polarity ON monoblock.polarity_id = polarity.id&quot;)\n    Page&lt;Battery&gt; getPaginatingBatteries(Pageable pageable);\n</code></pre>\n<p>Error:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\n\norg.postgresql.util.PSQLException: ERROR: syntax error (example position: &quot;.&quot;)\n</code></pre>\n<p>Sometime query gives this error:</p>\n<pre><code>org.postgresql.util.PSQLException: Column battery_level_name_id not found in this ResultSet.\n</code></pre>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1654064661,"post_id":72457254,"comment_id":128000002,"body_markdown":"no doubt plenty of libraries that do that. Have you tried googling?","body":"no doubt plenty of libraries that do that. Have you tried googling?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654065186,"post_id":72457254,"comment_id":128000138,"body_markdown":"This sounds more like &quot;how do I learn about basic String techniques&quot; question rather than a &quot;how do I professionally validate data&quot;. The answer to the first one is &quot;look around&quot;, the internet is filled with beginner code like that.","body":"This sounds more like &quot;how do I learn about basic String techniques&quot; question rather than a &quot;how do I professionally validate data&quot;. The answer to the first one is &quot;look around&quot;, the internet is filled with beginner code like that."}],"answers":[{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654064981,"creation_date":1654064981,"answer_id":72457337,"question_id":72457254,"body_markdown":"**Email Verfication**\r\n\r\n 1. You can use regex matching to validate that the email is correct. \r\n```\r\n    emailAddress = &quot;username+something@domain.com&quot;;\r\n    regexPattern = &quot;^(?=.{1,64}@)[A-Za-z0-9\\\\+_-]+(\\\\.[A-Za-z0-9\\\\+_-]+)*@&quot; \r\n        + &quot;[^-][A-Za-z0-9\\\\+-]+(\\\\.[A-Za-z0-9\\\\+-]+)*(\\\\.[A-Za-z]{2,})$&quot;;\r\n    assertTrue(EmailValidation.patternMatches(emailAddress, regexPattern));\r\n```\r\n 2. You can use the apache-commons library to test the email address\r\n```\r\n    emailAddress = &quot;username@domain.com&quot;;\r\n    assertTrue(EmailValidator.getInstance()\r\n      .isValid(emailAddress));\r\n```\r\n\r\n**Phone Number**\r\n\r\n1. If the phone number is simple 10 digit number then you can use the regex `&quot;^\\\\d{10}$&quot;`\r\n2. You can use `libphonenumber` library by google.\r\n\r\n\r\n**References**\r\n 1. https://www.baeldung.com/java-email-validation-regex\r\n 2. https://www.baeldung.com/java-regex-validate-phone-numbers","title":"Phone and Email Validation in Java","body":"<p><strong>Email Verfication</strong></p>\n<ol>\n<li>You can use regex matching to validate that the email is correct.</li>\n</ol>\n<pre><code>    emailAddress = &quot;username+something@domain.com&quot;;\n    regexPattern = &quot;^(?=.{1,64}@)[A-Za-z0-9\\\\+_-]+(\\\\.[A-Za-z0-9\\\\+_-]+)*@&quot; \n        + &quot;[^-][A-Za-z0-9\\\\+-]+(\\\\.[A-Za-z0-9\\\\+-]+)*(\\\\.[A-Za-z]{2,})$&quot;;\n    assertTrue(EmailValidation.patternMatches(emailAddress, regexPattern));\n</code></pre>\n<ol start=\"2\">\n<li>You can use the apache-commons library to test the email address</li>\n</ol>\n<pre><code>    emailAddress = &quot;username@domain.com&quot;;\n    assertTrue(EmailValidator.getInstance()\n      .isValid(emailAddress));\n</code></pre>\n<p><strong>Phone Number</strong></p>\n<ol>\n<li>If the phone number is simple 10 digit number then you can use the regex <code>&quot;^\\\\d{10}$&quot;</code></li>\n<li>You can use <code>libphonenumber</code> library by google.</li>\n</ol>\n<p><strong>References</strong></p>\n<ol>\n<li><a href=\"https://www.baeldung.com/java-email-validation-regex\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-email-validation-regex</a></li>\n<li><a href=\"https://www.baeldung.com/java-regex-validate-phone-numbers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-regex-validate-phone-numbers</a></li>\n</ol>\n"}],"owner":{"account_id":10757945,"reputation":9,"user_id":7915318,"display_name":"Stannya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654065161,"answer_count":1,"score":0,"last_activity_date":1654064981,"creation_date":1654064452,"question_id":72457254,"body_markdown":"I am relatively new to Java and I am making a Login form with details such as email and phone number. I was wondering how to validate if an email and phone number is valid? For example, an email must have an “@“ and a domain. And a phone number must be 11 digits long. How would I go about doing that?\r\n\r\nThanks!","title":"Phone and Email Validation in Java","body":"<p>I am relatively new to Java and I am making a Login form with details such as email and phone number. I was wondering how to validate if an email and phone number is valid? For example, an email must have an “@“ and a domain. And a phone number must be 11 digits long. How would I go about doing that?</p>\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","user-interface","authentication","swt"],"comments":[{"owner":{"account_id":8339103,"reputation":45,"user_id":6264963,"display_name":"frank b."},"score":1,"creation_date":1653990862,"post_id":72444888,"comment_id":127979775,"body_markdown":"Did you try SWT or JFace dialogs (MessageBox or MessageDialog.openError and MessageDialog.openInformation) ? (https://www.vogella.com/tutorials/EclipseDialogs/article.html) Why are you using this actionPerformed() method ? At least it seems to me that it is not needed to wrap your code in this method...","body":"Did you try SWT or JFace dialogs (MessageBox or MessageDialog.openError and MessageDialog.openInformation) ? (<a href=\"https://www.vogella.com/tutorials/EclipseDialogs/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/EclipseDialogs/article.html</a>) Why are you using this actionPerformed() method ? At least it seems to me that it is not needed to wrap your code in this method..."},{"owner":{"account_id":21394449,"reputation":39,"user_id":15757824,"display_name":"Trevon22"},"score":0,"creation_date":1654036834,"post_id":72444888,"comment_id":127995770,"body_markdown":"I adjusted my code but there still seems to be an issue. I have edited my question showing what I have added.","body":"I adjusted my code but there still seems to be an issue. I have edited my question showing what I have added."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654064504,"creation_date":1653992687,"answer_id":72446129,"question_id":72444888,"body_markdown":"The code you show doesn&#39;t compile, you can&#39;t have a `actionPerformed` method nested in a `widgetSelected` method like that.\r\n\r\n`JOptionPane` is a Java Swing class, do not try to mix Swing with SWT, they are different GUIs and are hard to make work together.\r\n\r\nThis code works for me:\r\n```java\r\nshell.setSize(450, 300);\r\nshell.setText(&quot;Homework 1 GUI&quot;);\r\n\r\nshell.setLayout(new GridLayout(2, false));\r\n\r\nLabel lblHomework1Login = new Label(shell, SWT.NONE);\r\nlblHomework1Login.setText(&quot;Homework 1 Login&quot;);\r\nlblHomework1Login.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false, 2, 1));\r\n\r\nLabel lblUsername = new Label(shell, SWT.NONE);\r\nlblUsername.setText(&quot;Username&quot;);\r\n\r\nText txtUsername = new Text(shell, SWT.BORDER);\r\ntxtUsername.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n\r\nLabel lblPassword = new Label(shell, SWT.NONE);\r\nlblPassword.setText(&quot;Password&quot;);\r\n\r\nText txtPassword = new Text(shell, SWT.BORDER);\r\ntxtPassword.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n\r\nButton btnSubmit = new Button(shell, SWT.BORDER);\r\nbtnSubmit.setText(&quot;Submit&quot;);\r\nbtnSubmit.addSelectionListener(new SelectionAdapter() {\r\n    @Override\r\n    public void widgetSelected(final SelectionEvent e) {\r\n        String password = txtPassword.getText();\r\n        String username = txtUsername.getText();\r\n\r\n        if (username.equals(&quot;student1&quot;) &amp;&amp; password.equals(&quot;987123&quot;))\r\n          MessageDialog.openInformation(shell, &quot;Login&quot;, &quot;Login Successful&quot;);\r\n        else\r\n          MessageDialog.openError(shell, &quot;Login&quot;, &quot;Username or Password mismatch&quot;);\r\n    }\r\n});\r\n```\r\nYour `btnSubmit` had no text, I added some.\r\n\r\nI have use the JFace `MessageDialog` for the messages, if you don&#39;t want to use JFace you could use the SWT `MessageBox` instead.\r\n\r\nI have use Layouts rather than setBounds. setBounds should be avoided as it will not work well with different fonts.\r\n\r\nTo use `MessageBox` use: \r\n   ```java\r\n    btnSubmit.addSelectionListener(new SelectionAdapter() {\r\n        @Override\r\n        public void widgetSelected(final SelectionEvent e) {\r\n            String password = txtPassword.getText();\r\n            String username = txtUsername.getText();\r\n\r\n            MessageBox msgBox = new MessageBox(shell);\r\n            if (username.equals(&quot;student1&quot;) &amp;&amp; password.equals(&quot;987123&quot;))\r\n              msgBox.setMessage(&quot;Login Successful&quot;);\r\n            else\r\n              msgBox.setMessage(&quot;Username or Password mismatch&quot;);\r\n            msgBox.open();\r\n       }\r\n    });\r\n```","title":"JAVA GUI - My submit button does not respond when clicked","body":"<p>The code you show doesn't compile, you can't have a <code>actionPerformed</code> method nested in a <code>widgetSelected</code> method like that.</p>\n<p><code>JOptionPane</code> is a Java Swing class, do not try to mix Swing with SWT, they are different GUIs and are hard to make work together.</p>\n<p>This code works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shell.setSize(450, 300);\nshell.setText(&quot;Homework 1 GUI&quot;);\n\nshell.setLayout(new GridLayout(2, false));\n\nLabel lblHomework1Login = new Label(shell, SWT.NONE);\nlblHomework1Login.setText(&quot;Homework 1 Login&quot;);\nlblHomework1Login.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false, 2, 1));\n\nLabel lblUsername = new Label(shell, SWT.NONE);\nlblUsername.setText(&quot;Username&quot;);\n\nText txtUsername = new Text(shell, SWT.BORDER);\ntxtUsername.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n\nLabel lblPassword = new Label(shell, SWT.NONE);\nlblPassword.setText(&quot;Password&quot;);\n\nText txtPassword = new Text(shell, SWT.BORDER);\ntxtPassword.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n\nButton btnSubmit = new Button(shell, SWT.BORDER);\nbtnSubmit.setText(&quot;Submit&quot;);\nbtnSubmit.addSelectionListener(new SelectionAdapter() {\n    @Override\n    public void widgetSelected(final SelectionEvent e) {\n        String password = txtPassword.getText();\n        String username = txtUsername.getText();\n\n        if (username.equals(&quot;student1&quot;) &amp;&amp; password.equals(&quot;987123&quot;))\n          MessageDialog.openInformation(shell, &quot;Login&quot;, &quot;Login Successful&quot;);\n        else\n          MessageDialog.openError(shell, &quot;Login&quot;, &quot;Username or Password mismatch&quot;);\n    }\n});\n</code></pre>\n<p>Your <code>btnSubmit</code> had no text, I added some.</p>\n<p>I have use the JFace <code>MessageDialog</code> for the messages, if you don't want to use JFace you could use the SWT <code>MessageBox</code> instead.</p>\n<p>I have use Layouts rather than setBounds. setBounds should be avoided as it will not work well with different fonts.</p>\n<p>To use <code>MessageBox</code> use:</p>\n<pre class=\"lang-java prettyprint-override\"><code> btnSubmit.addSelectionListener(new SelectionAdapter() {\n     @Override\n     public void widgetSelected(final SelectionEvent e) {\n         String password = txtPassword.getText();\n         String username = txtUsername.getText();\n\n         MessageBox msgBox = new MessageBox(shell);\n         if (username.equals(&quot;student1&quot;) &amp;&amp; password.equals(&quot;987123&quot;))\n           msgBox.setMessage(&quot;Login Successful&quot;);\n         else\n           msgBox.setMessage(&quot;Username or Password mismatch&quot;);\n         msgBox.open();\n    }\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22152276,"reputation":62,"user_id":16400620,"display_name":"g.schindler17"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654047972,"creation_date":1654047972,"answer_id":72455657,"question_id":72444888,"body_markdown":"Whenever I used the ```Button``` class in my Java GUIs, I would always set up the buttons as so:\r\n```\r\nButton submitButton = new Button(&quot;Submit Button&quot;)\r\nsubmitButton.setOnAction(this);\r\n```\r\nThen you would need the code to &quot;hear&quot; when the button is pressed. The following method &quot;hears&quot; that the button is pressed, then runs the following code:\r\n```\r\n@Override\r\n\tpublic void handle(ActionEvent onClick) {\r\n\t\tif (onClick.getSource() == submitButton)\r\n        {\r\n             // Do whatever you need to do\r\n        }\r\n    }\r\n```\r\n\r\nPerks of doing it this way:\r\n- There is a lot less code to deal with\r\n- All you need to do is change what the ```getSource()``` method is set equal to\r\n- It&#39;s easier to read","title":"JAVA GUI - My submit button does not respond when clicked","body":"<p>Whenever I used the <code>Button</code> class in my Java GUIs, I would always set up the buttons as so:</p>\n<pre><code>Button submitButton = new Button(&quot;Submit Button&quot;)\nsubmitButton.setOnAction(this);\n</code></pre>\n<p>Then you would need the code to &quot;hear&quot; when the button is pressed. The following method &quot;hears&quot; that the button is pressed, then runs the following code:</p>\n<pre><code>@Override\n    public void handle(ActionEvent onClick) {\n        if (onClick.getSource() == submitButton)\n        {\n             // Do whatever you need to do\n        }\n    }\n</code></pre>\n<p>Perks of doing it this way:</p>\n<ul>\n<li>There is a lot less code to deal with</li>\n<li>All you need to do is change what the <code>getSource()</code> method is set equal to</li>\n<li>It's easier to read</li>\n</ul>\n"}],"owner":{"account_id":21394449,"reputation":39,"user_id":15757824,"display_name":"Trevon22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654064504,"creation_date":1653987454,"question_id":72444888,"body_markdown":"I am attempting to create a login GUI and when I press the submit button nothing happens. The other two buttons work as intended. I have attempted to add in a JOptionPane, but that seems to do nothing as well. Does anyone have any tips?\r\n\r\n    \r\n\t/**\r\n\t * Create contents of the window.\r\n\t */\r\n\tprotected void createContents() {\r\n\t\tshell = new Shell();\r\n\t\tshell.setBackground(SWTResourceManager.getColor(SWT.COLOR_TITLE_BACKGROUND_GRADIENT));\r\n\t\tshell.setSize(450, 300);\r\n\t\tshell.setText(&quot;Homework 1 GUI&quot;);\r\n\t\t\r\n\t\tCLabel lblHomework1Login = new CLabel(shell, SWT.NONE);\r\n\t\tlblHomework1Login.setBounds(141, 10, 149, 26);\r\n\t\tlblHomework1Login.setText(&quot;Homework 1 Login&quot;);\r\n\t\t\r\n\t\tCLabel lblUsername = new CLabel(shell, SWT.NONE);\r\n\t\tlblUsername.setBounds(10, 74, 76, 26);\r\n\t\tlblUsername.setText(&quot;Username&quot;);\r\n\t\t\r\n\t\tCLabel lblPassword = new CLabel(shell, SWT.NONE);\r\n\t\tlblPassword.setBounds(10, 129, 76, 26);\r\n\t\tlblPassword.setText(&quot;Password&quot;);\r\n\t\t\r\n\t\ttxtUsername = new Text(shell, SWT.BORDER);\r\n\t\ttxtUsername.setBounds(117, 74, 255, 26);\r\n\t\t\r\n\t\ttxtPassword = new Text(shell, SWT.BORDER);\r\n\t\ttxtPassword.setBounds(116, 129, 256, 26);\r\n\t\t\r\n\t\tButton btnSubmit = new Button(shell, SWT.BORDER);\r\n\t\tbtnSubmit.setForeground(SWTResourceManager.getColor(SWT.COLOR_WIDGET_FOREGROUND));\r\n\t\tbtnSubmit.addSelectionListener(new SelectionAdapter() {\r\n\t\t\tpublic void widgetSelected(SelectionEvent e) {\r\n\t\t\t\tString password = txtPassword.getText();\r\n\t\t\t\tString username = txtUsername.getText();\r\n\t\t\t\t\r\n\t\t\t\t// Implementing an action event listener class with conditional statement\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\t\tString username = txtUsername.getText();\r\n\t\t\t\t\tString password = txtPassword.getText();\r\n\r\n\t\t\t\t\tif (username.equals(&quot;student1&quot;) &amp;&amp; password.equals(&quot;987123&quot;))\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Login Successful&quot;);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Username or Password mismatch &quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\r\nNewest Edit and I am presented with the following error:Syntax error on token &quot;MessageDialog&quot;, delete this token. Also the submit button still does not work. Thanks to all who have helped.\r\n\r\n    // Implementing an selection event listener class with conditional statement\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(SelectionEvent onClick) {\r\n\t\t\t\t\tString Username = txtUsername.getText();\r\n\t\t\t\t\tString Password = txtPassword.getText();\r\n\r\n\t\t\t\t\tif (onClick.getSource() == btnSubmit)(Username.equals(&quot;student1&quot;) &amp;&amp; Password.equals(&quot;987123&quot;))\r\n\t\t\t\t\t\tMessageDialog.openInformation(shell, &quot;Login&quot;, &quot;Login Successful&quot;);\r\n\t\t\t        else\r\n\t\t\t        \tMessageDialog.openError(shell, &quot;Login&quot;, &quot;Username or Password mismatch&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t);\r\n\t\t\r\n\t\t","title":"JAVA GUI - My submit button does not respond when clicked","body":"<p>I am attempting to create a login GUI and when I press the submit button nothing happens. The other two buttons work as intended. I have attempted to add in a JOptionPane, but that seems to do nothing as well. Does anyone have any tips?</p>\n<pre><code>/**\n * Create contents of the window.\n */\nprotected void createContents() {\n    shell = new Shell();\n    shell.setBackground(SWTResourceManager.getColor(SWT.COLOR_TITLE_BACKGROUND_GRADIENT));\n    shell.setSize(450, 300);\n    shell.setText(&quot;Homework 1 GUI&quot;);\n    \n    CLabel lblHomework1Login = new CLabel(shell, SWT.NONE);\n    lblHomework1Login.setBounds(141, 10, 149, 26);\n    lblHomework1Login.setText(&quot;Homework 1 Login&quot;);\n    \n    CLabel lblUsername = new CLabel(shell, SWT.NONE);\n    lblUsername.setBounds(10, 74, 76, 26);\n    lblUsername.setText(&quot;Username&quot;);\n    \n    CLabel lblPassword = new CLabel(shell, SWT.NONE);\n    lblPassword.setBounds(10, 129, 76, 26);\n    lblPassword.setText(&quot;Password&quot;);\n    \n    txtUsername = new Text(shell, SWT.BORDER);\n    txtUsername.setBounds(117, 74, 255, 26);\n    \n    txtPassword = new Text(shell, SWT.BORDER);\n    txtPassword.setBounds(116, 129, 256, 26);\n    \n    Button btnSubmit = new Button(shell, SWT.BORDER);\n    btnSubmit.setForeground(SWTResourceManager.getColor(SWT.COLOR_WIDGET_FOREGROUND));\n    btnSubmit.addSelectionListener(new SelectionAdapter() {\n        public void widgetSelected(SelectionEvent e) {\n            String password = txtPassword.getText();\n            String username = txtUsername.getText();\n            \n            // Implementing an action event listener class with conditional statement\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                String username = txtUsername.getText();\n                String password = txtPassword.getText();\n\n                if (username.equals(&quot;student1&quot;) &amp;&amp; password.equals(&quot;987123&quot;))\n                    JOptionPane.showMessageDialog(null, &quot;Login Successful&quot;);\n                else\n                    JOptionPane.showMessageDialog(null, &quot;Username or Password mismatch &quot;);\n            }\n            \n            \n        }\n    });\n</code></pre>\n<p>Newest Edit and I am presented with the following error:Syntax error on token &quot;MessageDialog&quot;, delete this token. Also the submit button still does not work. Thanks to all who have helped.</p>\n<pre><code>// Implementing an selection event listener class with conditional statement\n            @Override\n            public void handle(SelectionEvent onClick) {\n                String Username = txtUsername.getText();\n                String Password = txtPassword.getText();\n\n                if (onClick.getSource() == btnSubmit)(Username.equals(&quot;student1&quot;) &amp;&amp; Password.equals(&quot;987123&quot;))\n                    MessageDialog.openInformation(shell, &quot;Login&quot;, &quot;Login Successful&quot;);\n                else\n                    MessageDialog.openError(shell, &quot;Login&quot;, &quot;Username or Password mismatch&quot;);\n            }\n            \n        }\n    );\n    \n    \n</code></pre>\n"},{"tags":["java","syntax","java-8"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1426525192,"post_id":29082430,"comment_id":46398268,"body_markdown":"In your first uncompilable snippet what would you expect to be stored in `of_ref`? What would be the concrete type of the instance referenced?","body":"In your first uncompilable snippet what would you expect to be stored in <code>of_ref</code>? What would be the concrete type of the instance referenced?"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1426524879,"creation_date":1426524879,"answer_id":29082570,"question_id":29082430,"body_markdown":"`Object` is not a functional interface and a method reference can only be assigned to a functional interface. See for example [JLS #15.13.2][1]\r\n\r\n&gt;  A method reference expression is compatible in an assignment context, invocation context, or casting context with a target type T if T is a functional interface type (&#167;9.8) and the expression is congruent with the function type of the ground target type derived from T.\r\n\r\n\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2","title":"Why can I not assign a method reference directly to a variable of Object type?","body":"<p><code>Object</code> is not a functional interface and a method reference can only be assigned to a functional interface. See for example <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2\">JLS #15.13.2</a></p>\n\n<blockquote>\n  <p>A method reference expression is compatible in an assignment context, invocation context, or casting context with a target type T if T is a functional interface type (§9.8) and the expression is congruent with the function type of the ground target type derived from T.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1426525280,"creation_date":1426524947,"answer_id":29082592,"question_id":29082430,"body_markdown":"That&#39;s because the target type of a method reference or a lambda expression should be a functional interface. Based on that only, runtime will create an instance of a class providing implementation of the given functional interface. Think of lambdas or method references as `abstract` concept. Assigning it to a functional interface type gives it a concrete meaning.\r\n\r\nMoreover, a particular lambda or method reference, can have multiple functional interfaces as its target type. For example, consider the following lamda:\r\n\r\n    int x = 5;\r\n    FunctionalInterface func = (x) -&gt; System.out.println(x);\r\n\r\nThis lambda is a `Consumer` of `x`. In addition to that, any interface with a single abstract method with following signature:\r\n\r\n    public abstract void xxx(int value);\r\n\r\ncan be used as target type. So, which interface would you want runtime to implement, if you assign the lambda to `Object` type? That is why you&#39;ve to explicitly provide a functional interface as target type.\r\n\r\nNow, once you got a functional interface reference holding an instance, you can assign it to any super reference (including `Object`)","title":"Why can I not assign a method reference directly to a variable of Object type?","body":"<p>That's because the target type of a method reference or a lambda expression should be a functional interface. Based on that only, runtime will create an instance of a class providing implementation of the given functional interface. Think of lambdas or method references as <code>abstract</code> concept. Assigning it to a functional interface type gives it a concrete meaning.</p>\n\n<p>Moreover, a particular lambda or method reference, can have multiple functional interfaces as its target type. For example, consider the following lamda:</p>\n\n<pre><code>int x = 5;\nFunctionalInterface func = (x) -&gt; System.out.println(x);\n</code></pre>\n\n<p>This lambda is a <code>Consumer</code> of <code>x</code>. In addition to that, any interface with a single abstract method with following signature:</p>\n\n<pre><code>public abstract void xxx(int value);\n</code></pre>\n\n<p>can be used as target type. So, which interface would you want runtime to implement, if you assign the lambda to <code>Object</code> type? That is why you've to explicitly provide a functional interface as target type.</p>\n\n<p>Now, once you got a functional interface reference holding an instance, you can assign it to any super reference (including <code>Object</code>)</p>\n"},{"tags":[],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426526174,"creation_date":1426526174,"answer_id":29082991,"question_id":29082430,"body_markdown":"I suspect this is a purely academical question, since I can&#39;t see any real-life use case for this. Nevertheless, I am pretty sure that it has to do with `Stream::of` being a lambda expression. You could also not do this:\r\n\r\n    Object of_ref = list -&gt; Stream.of(list);\r\n\r\nI speculate that an accurate return type tells the compiler which [FunctionalInterface][1] it being used.  Without this information it is impossible for the compiler to resolve the Lambda expression correctly and unambiguously.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html","title":"Why can I not assign a method reference directly to a variable of Object type?","body":"<p>I suspect this is a purely academical question, since I can't see any real-life use case for this. Nevertheless, I am pretty sure that it has to do with <code>Stream::of</code> being a lambda expression. You could also not do this:</p>\n\n<pre><code>Object of_ref = list -&gt; Stream.of(list);\n</code></pre>\n\n<p>I speculate that an accurate return type tells the compiler which <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"nofollow\">FunctionalInterface</a> it being used.  Without this information it is impossible for the compiler to resolve the Lambda expression correctly and unambiguously.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1426732912,"creation_date":1426732912,"answer_id":29136327,"question_id":29082430,"body_markdown":"The key point is that *there are no &quot;function types&quot;* in Java. A lambda expression doesn&#39;t have a &quot;type&quot; by itself -- it can be typed to *any* functional interface whose sole method&#39;s signature matches the lambda. Therefore, a lambda&#39;s type is based on the type provided by its context. You must provide a functional interface as the context for it to get a type.\r\n\r\nIt is instructive to consider the same issue but for anonymous classes. Although there are implementation differences between lambdas and anonymous classes, semantically, lambdas are essentially equivalent to a subset of anonymous classes, and a lambda expression can always be converted to an equivalent anonymous class creation expression.\r\n\r\nWhen you write:\r\n\r\n    Function&lt;T, Stream&lt;T&gt;&gt; of_ref = Stream::of;\r\n\r\nit is equivalent to something like the following using anonymous classes:\r\n\r\n    Function&lt;T, Stream&lt;T&gt;&gt; of_ref = new Function&lt;T, Stream&lt;T&gt;&gt;() {\r\n        Stream&lt;T&gt; apply(T t) {\r\n            return Stream.of(t);\r\n        }\r\n    };\r\n\r\nNow consider\r\n\r\n    Object of_ref = Stream::of;\r\n\r\nwhat is the equivalent with anonymous classes?\r\n\r\n    Object of_ref = new [**What goes here?**]() {\r\n        [**What method signature goes here?**] {\r\n            return Stream.of(t);\r\n        }\r\n    };\r\n\r\nYou see why it doesn&#39;t make sense -- we don&#39;t know what type to use as the base class of the anonymous class.","title":"Why can I not assign a method reference directly to a variable of Object type?","body":"<p>The key point is that <em>there are no \"function types\"</em> in Java. A lambda expression doesn't have a \"type\" by itself -- it can be typed to <em>any</em> functional interface whose sole method's signature matches the lambda. Therefore, a lambda's type is based on the type provided by its context. You must provide a functional interface as the context for it to get a type.</p>\n\n<p>It is instructive to consider the same issue but for anonymous classes. Although there are implementation differences between lambdas and anonymous classes, semantically, lambdas are essentially equivalent to a subset of anonymous classes, and a lambda expression can always be converted to an equivalent anonymous class creation expression.</p>\n\n<p>When you write:</p>\n\n<pre><code>Function&lt;T, Stream&lt;T&gt;&gt; of_ref = Stream::of;\n</code></pre>\n\n<p>it is equivalent to something like the following using anonymous classes:</p>\n\n<pre><code>Function&lt;T, Stream&lt;T&gt;&gt; of_ref = new Function&lt;T, Stream&lt;T&gt;&gt;() {\n    Stream&lt;T&gt; apply(T t) {\n        return Stream.of(t);\n    }\n};\n</code></pre>\n\n<p>Now consider</p>\n\n<pre><code>Object of_ref = Stream::of;\n</code></pre>\n\n<p>what is the equivalent with anonymous classes?</p>\n\n<pre><code>Object of_ref = new [**What goes here?**]() {\n    [**What method signature goes here?**] {\n        return Stream.of(t);\n    }\n};\n</code></pre>\n\n<p>You see why it doesn't make sense -- we don't know what type to use as the base class of the anonymous class.</p>\n"},{"tags":[],"owner":{"account_id":4275266,"reputation":2223,"user_id":3496273,"accept_rate":86,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1521843620,"creation_date":1521843620,"answer_id":49459021,"question_id":29082430,"body_markdown":"**You can!** You just need to give the compiler a little more information so it knows what functional interface the method reference should implement:\r\n\r\n    Object obj = (Function&lt;?, ?&gt;) Stream::of;\r\n\r\nMethod references and lambda expressions work by using *type inference* to determine what interface the anonymous class they create should implement. Without the `Function` cast, the only type Java has to work with is `Object` - which most certainly isn&#39;t a functional interface (an interface with only one non-static non-default method). Explicitly casting the method reference expression to a `Function` provides the missing type information we need, then we can assign the `Object` field to the function because `Function` is a subtype of `Object`.","title":"Why can I not assign a method reference directly to a variable of Object type?","body":"<p><strong>You can!</strong> You just need to give the compiler a little more information so it knows what functional interface the method reference should implement:</p>\n\n<pre><code>Object obj = (Function&lt;?, ?&gt;) Stream::of;\n</code></pre>\n\n<p>Method references and lambda expressions work by using <em>type inference</em> to determine what interface the anonymous class they create should implement. Without the <code>Function</code> cast, the only type Java has to work with is <code>Object</code> - which most certainly isn't a functional interface (an interface with only one non-static non-default method). Explicitly casting the method reference expression to a <code>Function</code> provides the missing type information we need, then we can assign the <code>Object</code> field to the function because <code>Function</code> is a subtype of <code>Object</code>.</p>\n"}],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13795,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":29082592,"answer_count":5,"score":22,"last_activity_date":1654064083,"creation_date":1426524481,"question_id":29082430,"body_markdown":"Simple question about `java-8` syntax. Why does `JLS-8` restrict such expressions like:\r\n\r\n    Object of_ref = Stream::of;  // compile-time error\r\n\r\nand allows only something like:\r\n\r\n    java.util.function.Function of_ref = Stream::of;\r\n    Object obj = of_ref; // compiles ok\r\n\r\n?","title":"Why can I not assign a method reference directly to a variable of Object type?","body":"<p>Simple question about <code>java-8</code> syntax. Why does <code>JLS-8</code> restrict such expressions like:</p>\n<pre><code>Object of_ref = Stream::of;  // compile-time error\n</code></pre>\n<p>and allows only something like:</p>\n<pre><code>java.util.function.Function of_ref = Stream::of;\nObject obj = of_ref; // compiles ok\n</code></pre>\n<p>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8694,"page":1298,"page_size":100}
