{"items":[{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1695845994,"post_id":77190560,"comment_id":136080013,"body_markdown":"A few things I&#39;m seeing here. First move the `@EnableScheduling` to the application startup class. you don&#39;t need it here. `@Async` has nothing to do with scheduled tasks, so get rid of it both on the class and the method. also get rid of `@Configuration` there is nothing being configured in this class. You only really need on this class `@Component` and `@Slf4j` (this one assuming you have loggers) and at the method level the `@Scheduled` one. Dont&#39; forget about the first one. Also make sure to add logs to actually double check whether it is working or not AT THE correct time","body":"A few things I&#39;m seeing here. First move the <code>@EnableScheduling</code> to the application startup class. you don&#39;t need it here. <code>@Async</code> has nothing to do with scheduled tasks, so get rid of it both on the class and the method. also get rid of <code>@Configuration</code> there is nothing being configured in this class. You only really need on this class <code>@Component</code> and <code>@Slf4j</code> (this one assuming you have loggers) and at the method level the <code>@Scheduled</code> one. Dont&#39; forget about the first one. Also make sure to add logs to actually double check whether it is working or not AT THE correct time"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1695848007,"post_id":77190560,"comment_id":136080419,"body_markdown":"Another thing I just noticed: You docker `ENV TZ=Europe/Vienna` your job `Europe/Paris` so maybe it is not working at the time you are expecting due to this mismatch.","body":"Another thing I just noticed: You docker <code>ENV TZ=Europe&#47;Vienna</code> your job <code>Europe&#47;Paris</code> so maybe it is not working at the time you are expecting due to this mismatch."},{"owner":{"account_id":16899411,"reputation":1,"user_id":22647134,"display_name":"Sandro Gabl"},"score":0,"creation_date":1695926302,"post_id":77190560,"comment_id":136092343,"body_markdown":"@JorgeCampos thanks, I changed everything you said, it is still not working. I am sure it is not working  at all and not just at the wrong time.","body":"@JorgeCampos thanks, I changed everything you said, it is still not working. I am sure it is not working  at all and not just at the wrong time."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1695929607,"post_id":77190560,"comment_id":136092848,"body_markdown":"Ok, so then you need to experiment different things. Comment out your method or create a new one that one have a logger on it with the method name. Set its cron expression to every tree seconds and get rid of the zone: `@Scheduled(cron = &quot;0/3 * * * * ?&quot;)` add another method same as this with the zone make it run every 4 seconds &quot;0/4&quot; the idea here is to understand if the problem is with the cron configuration. as you mentioned it is running locally.","body":"Ok, so then you need to experiment different things. Comment out your method or create a new one that one have a logger on it with the method name. Set its cron expression to every tree seconds and get rid of the zone: <code>@Scheduled(cron = &quot;0&#47;3 * * * * ?&quot;)</code> add another method same as this with the zone make it run every 4 seconds &quot;0/4&quot; the idea here is to understand if the problem is with the cron configuration. as you mentioned it is running locally."}],"owner":{"account_id":16899411,"reputation":1,"user_id":22647134,"display_name":"Sandro Gabl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695845044,"creation_date":1695845044,"question_id":77190560,"body_markdown":"I am developing a Java Spring Boot REST API where I have to run scheduled tasks. When developing locally @Scheduled works as expected, but when I deploy the app with Docker @Scheduled is not working anymore.\r\n\r\nThis is the Dockerfile for the Spring Boot App:\r\n\r\n```\r\nFROM maven:3.8.5-openjdk-17 as base\r\n\r\nCOPY api/src /app/src\r\nCOPY cert /app/src/main/resources\r\nCOPY api/pom.xml /app\r\n\r\nRUN mvn -f /app/pom.xml clean package -DskipTests\r\n\r\n# Production Environment\r\nFROM openjdk:17-alpine as prod\r\n\r\nRUN apk add --no-cache tzdata\r\nENV TZ=Europe/Vienna\r\nRUN date\r\n\r\nCOPY --from=base app/target/imst-2-0-backend-0.0.1-SNAPSHOT.jar /app-service/imst-2-0-backend-0.0.1-SNAPSHOT.jar\r\nWORKDIR /app-service\r\n\r\nEXPOSE 8443\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;imst-2-0-backend-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nAnd this is the Java class where @Scheduled is used:\r\n\r\n```\r\n@EnableAsync\r\n@EnableScheduling\r\n@Configuration\r\n@Component\r\n@Lazy(value = false)\r\n@Slf4j\r\npublic class StudentHoursSchedule {\r\n    @Async\r\n    @Scheduled(cron = &quot;0 0/10 * * * MON-FRI&quot;, zone = &quot;Europe/Paris&quot;)\r\n    public void scheduleSaldoCalc(){\r\n        // Code\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java Spring Boot @Scheduled not working in Docker Container","body":"<p>I am developing a Java Spring Boot REST API where I have to run scheduled tasks. When developing locally @Scheduled works as expected, but when I deploy the app with Docker @Scheduled is not working anymore.</p>\n<p>This is the Dockerfile for the Spring Boot App:</p>\n<pre><code>FROM maven:3.8.5-openjdk-17 as base\n\nCOPY api/src /app/src\nCOPY cert /app/src/main/resources\nCOPY api/pom.xml /app\n\nRUN mvn -f /app/pom.xml clean package -DskipTests\n\n# Production Environment\nFROM openjdk:17-alpine as prod\n\nRUN apk add --no-cache tzdata\nENV TZ=Europe/Vienna\nRUN date\n\nCOPY --from=base app/target/imst-2-0-backend-0.0.1-SNAPSHOT.jar /app-service/imst-2-0-backend-0.0.1-SNAPSHOT.jar\nWORKDIR /app-service\n\nEXPOSE 8443\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;imst-2-0-backend-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>And this is the Java class where @Scheduled is used:</p>\n<pre><code>@EnableAsync\n@EnableScheduling\n@Configuration\n@Component\n@Lazy(value = false)\n@Slf4j\npublic class StudentHoursSchedule {\n    @Async\n    @Scheduled(cron = &quot;0 0/10 * * * MON-FRI&quot;, zone = &quot;Europe/Paris&quot;)\n    public void scheduleSaldoCalc(){\n        // Code\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1695844176,"post_id":77190446,"comment_id":136079756,"body_markdown":"Is this all the stack trace / caused-by output ?","body":"Is this all the stack trace / caused-by output ?"},{"owner":{"account_id":24840890,"reputation":21,"user_id":18718903,"display_name":"Arif ullahkhan"},"score":0,"creation_date":1695924816,"post_id":77190446,"comment_id":136092133,"body_markdown":"@PeterMmm what do you mean sir? I have mentioned the error and the code. can you help please","body":"@PeterMmm what do you mean sir? I have mentioned the error and the code. can you help please"}],"owner":{"account_id":24840890,"reputation":21,"user_id":18718903,"display_name":"Arif ullahkhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695844203,"creation_date":1695843789,"question_id":77190446,"body_markdown":"I am trying to create a swish payment service (micro service) however I a encountering en error as \r\n```\r\n(Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;buildRestTemplate&#39; defined in class path resource [se/challengenow/payment/swish/SwishConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method &#39;buildRestTemplate&#39; threw exception with message: Failed to create Swish payment service).\r\n```\r\nI have migrated the project from spring version 2 to v 3 . The Swish configuration code is below \r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class SwishConfig {\r\n\r\n    private final String keystorePassword;\r\n    private final String keystoreName;\r\n\r\n    public SwishConfig(@Value(&quot;${cn.keystore.password}&quot;) final String keystorePassword,\r\n                       @Value(&quot;${cn.keystore.name}&quot;) final String keystoreName) {\r\n        this.keystorePassword = keystorePassword;\r\n        this.keystoreName = keystoreName;\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate buildRestTemplate() {\r\n        final RestTemplateBuilder restTemplateBuilder = new RestTemplateBuilder();\r\n        final SSLContext sslContext;\r\n        try {\r\n\r\n\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            File file = ResourceUtils.getFile(&quot;classpath:secret/&quot; + keystoreName);\r\n            FileInputStream instream = new FileInputStream(file);\r\n            try {\r\n                keyStore.load(instream, keystorePassword.toCharArray());\r\n            } finally {\r\n                instream.close();\r\n            }\r\n            log.info(&quot;init keystore = {}&quot;, file.getAbsolutePath());\r\n\r\n            // Trust own CA and all self-signed certs\r\n            sslContext = SSLContexts.custom()\r\n                    .loadKeyMaterial(keyStore, keystorePassword.toCharArray())\r\n                    .build();\r\n\r\n            final HttpClient client = (HttpClient) HttpClients.custom()\r\n                    .setSSLContext(sslContext)\r\n                    .build();\r\n            /*final HttpClient client = HttpClients.custom()\r\n                    .setSSLContext(sslContext)\r\n                    .build();*/\r\n            final ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(client);\r\n            final RestTemplate restTemplate = restTemplateBuilder\r\n                    .errorHandler(new ResponseErrorHandler() {\r\n                        @Override\r\n                        public boolean hasError(final ClientHttpResponse clientHttpResponse) throws IOException {\r\n                            return !clientHttpResponse.getStatusCode().is2xxSuccessful();\r\n                        }\r\n\r\n                        @Override\r\n                        public void handleError(final ClientHttpResponse clientHttpResponse) throws IOException {\r\n\r\n                            final String result = new BufferedReader(new InputStreamReader(clientHttpResponse.getBody()))\r\n                                    .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\r\n                            log.error(&quot;Error from swish: {}&quot;, result);\r\n                            final String errorCodes = SwishPaymentService.getErrorCodes(result).orElse(result);\r\n                            throw new RuntimeException(&quot;For possible error codes (&quot; + errorCodes + &quot;)&quot;);\r\n                        }\r\n                    })\r\n                    .interceptors(new LoggingRequestInterceptor())\r\n                    .build();\r\n            restTemplate.setRequestFactory(requestFactory);\r\n            return restTemplate;\r\n\r\n        } catch (final Exception e) {\r\n            throw new RuntimeException(&quot;Failed to create Swish payment service&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Failed to create swish payment service /. error in configuration in swish payment service","body":"<p>I am trying to create a swish payment service (micro service) however I a encountering en error as</p>\n<pre><code>(Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'buildRestTemplate' defined in class path resource [se/challengenow/payment/swish/SwishConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'buildRestTemplate' threw exception with message: Failed to create Swish payment service).\n</code></pre>\n<p>I have migrated the project from spring version 2 to v 3 . The Swish configuration code is below</p>\n<pre><code>@Slf4j\n@Configuration\npublic class SwishConfig {\n\n    private final String keystorePassword;\n    private final String keystoreName;\n\n    public SwishConfig(@Value(&quot;${cn.keystore.password}&quot;) final String keystorePassword,\n                       @Value(&quot;${cn.keystore.name}&quot;) final String keystoreName) {\n        this.keystorePassword = keystorePassword;\n        this.keystoreName = keystoreName;\n    }\n\n    @Bean\n    public RestTemplate buildRestTemplate() {\n        final RestTemplateBuilder restTemplateBuilder = new RestTemplateBuilder();\n        final SSLContext sslContext;\n        try {\n\n\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            File file = ResourceUtils.getFile(&quot;classpath:secret/&quot; + keystoreName);\n            FileInputStream instream = new FileInputStream(file);\n            try {\n                keyStore.load(instream, keystorePassword.toCharArray());\n            } finally {\n                instream.close();\n            }\n            log.info(&quot;init keystore = {}&quot;, file.getAbsolutePath());\n\n            // Trust own CA and all self-signed certs\n            sslContext = SSLContexts.custom()\n                    .loadKeyMaterial(keyStore, keystorePassword.toCharArray())\n                    .build();\n\n            final HttpClient client = (HttpClient) HttpClients.custom()\n                    .setSSLContext(sslContext)\n                    .build();\n            /*final HttpClient client = HttpClients.custom()\n                    .setSSLContext(sslContext)\n                    .build();*/\n            final ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(client);\n            final RestTemplate restTemplate = restTemplateBuilder\n                    .errorHandler(new ResponseErrorHandler() {\n                        @Override\n                        public boolean hasError(final ClientHttpResponse clientHttpResponse) throws IOException {\n                            return !clientHttpResponse.getStatusCode().is2xxSuccessful();\n                        }\n\n                        @Override\n                        public void handleError(final ClientHttpResponse clientHttpResponse) throws IOException {\n\n                            final String result = new BufferedReader(new InputStreamReader(clientHttpResponse.getBody()))\n                                    .lines().collect(Collectors.joining(&quot;\\n&quot;));\n\n                            log.error(&quot;Error from swish: {}&quot;, result);\n                            final String errorCodes = SwishPaymentService.getErrorCodes(result).orElse(result);\n                            throw new RuntimeException(&quot;For possible error codes (&quot; + errorCodes + &quot;)&quot;);\n                        }\n                    })\n                    .interceptors(new LoggingRequestInterceptor())\n                    .build();\n            restTemplate.setRequestFactory(requestFactory);\n            return restTemplate;\n\n        } catch (final Exception e) {\n            throw new RuntimeException(&quot;Failed to create Swish payment service&quot;, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":230624,"reputation":8817,"user_id":494343,"accept_rate":74,"display_name":"Schultz9999"},"score":1,"creation_date":1294122982,"post_id":4591187,"comment_id":5043294,"body_markdown":"Could some sort of profiling have been enabled?","body":"Could some sort of profiling have been enabled?"},{"owner":{"display_name":"user321068"},"score":0,"creation_date":1294124333,"post_id":4591187,"comment_id":5043404,"body_markdown":"I just switched from Galileo to Helios but without any improvement.","body":"I just switched from Galileo to Helios but without any improvement."},{"owner":{"display_name":"user321068"},"score":0,"creation_date":1294124514,"post_id":4591187,"comment_id":5043421,"body_markdown":"How could I enabled/disable profiling?","body":"How could I enabled/disable profiling?"},{"owner":{"account_id":77128,"reputation":1127,"user_id":220351,"display_name":"kem"},"score":0,"creation_date":1294124741,"post_id":4591187,"comment_id":5043436,"body_markdown":"debugging a regular program, or a plugin/rcp?","body":"debugging a regular program, or a plugin/rcp?"},{"owner":{"display_name":"user321068"},"score":0,"creation_date":1294124834,"post_id":4591187,"comment_id":5043441,"body_markdown":"A regular program (using Spring and Maven).","body":"A regular program (using Spring and Maven)."},{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":0,"creation_date":1294124886,"post_id":4591187,"comment_id":5043444,"body_markdown":"debug in &#39;Remote application&#39; mode?","body":"debug in &#39;Remote application&#39; mode?"},{"owner":{"display_name":"user321068"},"score":0,"creation_date":1294125926,"post_id":4591187,"comment_id":5043535,"body_markdown":"I don&#39;t think so. How could I verify that?","body":"I don&#39;t think so. How could I verify that?"},{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1682434410,"post_id":4591187,"comment_id":134213045,"body_markdown":"Did this affect Apache Tomcat? I experienced a grave slowdown with Apache Tomcat 8.5 under Eclipse 2023-03. Adding a single method exit breakpoint caused starting Tomcat in debug mode to go from 40 to 70 s to a whopping 2 to 3 ks, and it would remain unusably slow once started. Progress would show &quot;Preparing launch delegate...: Establishing debug connection...&quot; during tens of minutes. This happened even if the breakpoint was not hit.","body":"Did this affect Apache Tomcat? I experienced a grave slowdown with Apache Tomcat 8.5 under Eclipse 2023-03. Adding a single method exit breakpoint caused starting Tomcat in debug mode to go from 40 to 70 s to a whopping 2 to 3 ks, and it would remain unusably slow once started. Progress would show &quot;Preparing launch delegate...: Establishing debug connection...&quot; during tens of minutes. This happened even if the breakpoint was not hit."}],"answers":[{"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294124212,"creation_date":1294124212,"answer_id":4591282,"question_id":4591187,"body_markdown":"I have found that i often forget that i have a bunch of expressions added to the expressions panel that are no longer needed that are none the less being evaluated (or are failing to evaluate) and this slows stuff down a good deal. Make sure that you keep those expressions cleared out when not needed.","title":"Running a program in Debug mode is incredible slow","body":"<p>I have found that i often forget that i have a bunch of expressions added to the expressions panel that are no longer needed that are none the less being evaluated (or are failing to evaluate) and this slows stuff down a good deal. Make sure that you keep those expressions cleared out when not needed.</p>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294132696,"creation_date":1294132696,"answer_id":4592073,"question_id":4591187,"body_markdown":"What kind of JVM are you attaching to? I found in my experience, that in debug mode IBM JDK is slow like hell. \r\nFor all JVMs, check if you have conditional breakpoints with expensive condition. Try disable breakpoints. You may have exception breakpoints or expressions. Try disable or remove them.","title":"Running a program in Debug mode is incredible slow","body":"<p>What kind of JVM are you attaching to? I found in my experience, that in debug mode IBM JDK is slow like hell. \nFor all JVMs, check if you have conditional breakpoints with expensive condition. Try disable breakpoints. You may have exception breakpoints or expressions. Try disable or remove them.</p>\n"},{"comments":[{"owner":{"display_name":"user321068"},"score":0,"creation_date":1294147968,"post_id":4592121,"comment_id":5046391,"body_markdown":"I&#39;ve created a new workspaced and checked out the there anew. Now debugging works as excepted. Do you know how I can fix my old workspace?","body":"I&#39;ve created a new workspaced and checked out the there anew. Now debugging works as excepted. Do you know how I can fix my old workspace?"},{"owner":{"account_id":268263,"reputation":4720,"user_id":556919,"accept_rate":86,"display_name":"mtraut"},"score":7,"creation_date":1294149140,"post_id":4592121,"comment_id":5046634,"body_markdown":"I can only recommend to abandon it unless you want to learn about the meaning of approximately 1.000.000 files in the .metadata directory of your workspace. I have no idea of how to recover... There is the fairy tale of adding &quot;-clean&quot; once to the commandline, but it never helped...","body":"I can only recommend to abandon it unless you want to learn about the meaning of approximately 1.000.000 files in the .metadata directory of your workspace. I have no idea of how to recover... There is the fairy tale of adding &quot;-clean&quot; once to the commandline, but it never helped..."},{"owner":{"display_name":"user321068"},"score":11,"creation_date":1294217488,"post_id":4592121,"comment_id":5057045,"body_markdown":"Starting Eclipse with &quot;-clean&quot; fixed it for me. :-)","body":"Starting Eclipse with &quot;-clean&quot; fixed it for me. :-)"},{"owner":{"account_id":295398,"reputation":3157,"user_id":599791,"display_name":"ChristophK"},"score":8,"creation_date":1369306256,"post_id":4592121,"comment_id":24057960,"body_markdown":"Thank you, removing the method entry breakpoint that I had already forgotten about solved my performance problems!","body":"Thank you, removing the method entry breakpoint that I had already forgotten about solved my performance problems!"},{"owner":{"account_id":364125,"reputation":4665,"user_id":708333,"display_name":"TimK"},"score":0,"creation_date":1392339921,"post_id":4592121,"comment_id":32932033,"body_markdown":"Deleting all breakpoints worked for me.  I found not everything ran slowly.  Maybe only code in classes with troublesome breakpoints?","body":"Deleting all breakpoints worked for me.  I found not everything ran slowly.  Maybe only code in classes with troublesome breakpoints?"},{"owner":{"account_id":371729,"reputation":387,"user_id":720425,"accept_rate":73,"display_name":"Simon Voggeneder"},"score":11,"creation_date":1434015783,"post_id":4592121,"comment_id":49604594,"body_markdown":"Thank you. For me, it was removing all breakpoints and expressions that helped. What&#39;s curious is that these very breakpoints did not cause problems in the past - and suddenly, from one application startup to the next, they do. It seems to be an internal problem of eclipse.","body":"Thank you. For me, it was removing all breakpoints and expressions that helped. What&#39;s curious is that these very breakpoints did not cause problems in the past - and suddenly, from one application startup to the next, they do. It seems to be an internal problem of eclipse."},{"owner":{"account_id":10026416,"reputation":303,"user_id":7414488,"display_name":"Mayur"},"score":0,"creation_date":1493225023,"post_id":4592121,"comment_id":74328419,"body_markdown":"thanks dude this worked for me , spent almost a day waiting for eclipse to start taking almost 5 mins .The solution was simple !!","body":"thanks dude this worked for me , spent almost a day waiting for eclipse to start taking almost 5 mins .The solution was simple !!"},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1505732170,"post_id":4592121,"comment_id":79517781,"body_markdown":"that was it for me. +1","body":"that was it for me. +1"},{"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"score":0,"creation_date":1523351374,"post_id":4592121,"comment_id":86513746,"body_markdown":"removing method entry-exit breakpoints worked for me. Thanks!","body":"removing method entry-exit breakpoints worked for me. Thanks!"},{"owner":{"account_id":1407952,"reputation":3526,"user_id":1335142,"accept_rate":60,"display_name":"Serhii Popov"},"score":0,"creation_date":1581155573,"post_id":4592121,"comment_id":106341913,"body_markdown":"Although the main question is related to Java and Eclipse, the same thing helped me with PHPStorm+xDebug. Deleting all breakpoints extremely increased debug performance. You can remove all breakpoints in PHPStorm with keyboard shortcut `Ctrl+Shift+F8`","body":"Although the main question is related to Java and Eclipse, the same thing helped me with PHPStorm+xDebug. Deleting all breakpoints extremely increased debug performance. You can remove all breakpoints in PHPStorm with keyboard shortcut <code>Ctrl+Shift+F8</code>"},{"owner":{"account_id":11541722,"reputation":63,"user_id":8457148,"display_name":"Logesh S"},"score":0,"creation_date":1595265400,"post_id":4592121,"comment_id":111408779,"body_markdown":"This worked for me too.  One important thing I want to mention here is, I faced this kind of issue in one application only while other application worked fine!, so the issue might be application specific rather than a workspace specific!!","body":"This worked for me too.  One important thing I want to mention here is, I faced this kind of issue in one application only while other application worked fine!, so the issue might be application specific rather than a workspace specific!!"}],"tags":[],"owner":{"account_id":268263,"reputation":4720,"user_id":556919,"accept_rate":86,"display_name":"mtraut"},"comment_count":11,"down_vote_count":0,"up_vote_count":213,"is_accepted":true,"score":213,"last_activity_date":1501589575,"creation_date":1294133206,"answer_id":4592121,"question_id":4591187,"body_markdown":"Another &quot;debugging break&quot; is the use of method entry/exit breakpoints.\r\n\r\nDid you try to remove **all** breakpoint definitions once? \r\n\r\nSometimes i think Eclipse is getting out of synch with some of its internal/displayed state. Perhaps you should try to setup a new (not copy) of your workspace. This sometimes helps me to recover from spurious features.\r\n\r\n**This is how you can remove all breakPoints** \r\n\r\nEclipse -&gt; Run -&gt; Remove All Breakpoints - for removing all Breakpoints for all Time\r\n\r\nEclipse -&gt; Run -&gt; Skip All Breakpoints - for temporary remove breakpoints","title":"Running a program in Debug mode is incredible slow","body":"<p>Another \"debugging break\" is the use of method entry/exit breakpoints.</p>\n\n<p>Did you try to remove <strong>all</strong> breakpoint definitions once? </p>\n\n<p>Sometimes i think Eclipse is getting out of synch with some of its internal/displayed state. Perhaps you should try to setup a new (not copy) of your workspace. This sometimes helps me to recover from spurious features.</p>\n\n<p><strong>This is how you can remove all breakPoints</strong> </p>\n\n<p>Eclipse -> Run -> Remove All Breakpoints - for removing all Breakpoints for all Time</p>\n\n<p>Eclipse -> Run -> Skip All Breakpoints - for temporary remove breakpoints</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1359645394,"post_id":4592735,"comment_id":20433016,"body_markdown":"*Normally Java Virtual Machine turns off Just in time compiler (JIT) when running in debug mode* this is simply untrue. the method is optimized normally when a breakpoint is set the method is deoptimized and executed by the interpreter.","body":"<i>Normally Java Virtual Machine turns off Just in time compiler (JIT) when running in debug mode</i> this is simply untrue. the method is optimized normally when a breakpoint is set the method is deoptimized and executed by the interpreter."},{"owner":{"account_id":28307,"reputation":583,"user_id":75540,"display_name":"daitangio"},"score":0,"creation_date":1370185785,"post_id":4592735,"comment_id":24359792,"body_markdown":"Older IBM JVM (1.4-) was very slow indeed. Anyway de-optimizing method, rebuilding stack trace and so on is a SLOW operation, isn&#39;t it?","body":"Older IBM JVM (1.4-) was very slow indeed. Anyway de-optimizing method, rebuilding stack trace and so on is a SLOW operation, isn&#39;t it?"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1370196917,"post_id":4592735,"comment_id":24362805,"body_markdown":"Deoptimizing is need only for breakpoint in debug mode - NOT for getting stacktrace alone. Deoptimizing is of course a very slow process. Stacktraces SHOULD not be generated (i.e. walk the stack) unless necessary, that is if an exception doesn&#39;t print its stacktrace or getStackTrace is not called. AFAIK both Sun and IBM&#39;s JVM  1.4 run w/ normal speed in debug mode (sure about Sun&#39;s)","body":"Deoptimizing is need only for breakpoint in debug mode - NOT for getting stacktrace alone. Deoptimizing is of course a very slow process. Stacktraces SHOULD not be generated (i.e. walk the stack) unless necessary, that is if an exception doesn&#39;t print its stacktrace or getStackTrace is not called. AFAIK both Sun and IBM&#39;s JVM  1.4 run w/ normal speed in debug mode (sure about Sun&#39;s)"}],"tags":[],"owner":{"account_id":28307,"reputation":583,"user_id":75540,"display_name":"daitangio"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1294137951,"creation_date":1294137951,"answer_id":4592735,"question_id":4591187,"body_markdown":"Normally Java Virtual Machine turns off Just in time compiler (JIT) when running in debug mode. On IBM WebSphere, the IBM JDK is heavy de-optimized and will be very slow.\r\nBy the way debugging also make impossible to recompile and optimize the code.\r\n\r\nRelay on logging for complex debugging: it will save your days on production, where you cannot debug for sure.","title":"Running a program in Debug mode is incredible slow","body":"<p>Normally Java Virtual Machine turns off Just in time compiler (JIT) when running in debug mode. On IBM WebSphere, the IBM JDK is heavy de-optimized and will be very slow.\nBy the way debugging also make impossible to recompile and optimize the code.</p>\n\n<p>Relay on logging for complex debugging: it will save your days on production, where you cannot debug for sure.</p>\n"},{"comments":[{"owner":{"account_id":4923650,"reputation":985,"user_id":3965524,"accept_rate":91,"display_name":"JavaTec"},"score":0,"creation_date":1519230117,"post_id":15857230,"comment_id":84827575,"body_markdown":"This was helpful for me - i had breakpoints from other projects in the same workspace, i deleted them all and my current program debug sped up","body":"This was helpful for me - i had breakpoints from other projects in the same workspace, i deleted them all and my current program debug sped up"}],"tags":[],"owner":{"account_id":1670126,"reputation":3291,"user_id":1536722,"accept_rate":68,"display_name":"zelinka"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1365291585,"creation_date":1365291585,"answer_id":15857230,"question_id":4591187,"body_markdown":"I was just running a program in Eclipse debug mode that was almost instant without debugging but when I ran it in debug mode, it was really slow.  I went through and deleted a ton of random useless breakpoints I wasn&#39;t using and then the program sped up A LOT (200x or so).","title":"Running a program in Debug mode is incredible slow","body":"<p>I was just running a program in Eclipse debug mode that was almost instant without debugging but when I ran it in debug mode, it was really slow.  I went through and deleted a ton of random useless breakpoints I wasn't using and then the program sped up A LOT (200x or so).</p>\n"},{"tags":[],"owner":{"account_id":105082,"reputation":21937,"user_id":280602,"accept_rate":76,"display_name":"Mike Flynn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420042846,"creation_date":1420042846,"answer_id":27723618,"question_id":4591187,"body_markdown":"Clearing temp files on Windows fixed it for me\r\n\r\n    &quot;C:\\\\Documents and Settings\\\\{user}\\\\Local Settings\\\\Temp&quot;","title":"Running a program in Debug mode is incredible slow","body":"<p>Clearing temp files on Windows fixed it for me</p>\n\n<pre><code>\"C:\\\\Documents and Settings\\\\{user}\\\\Local Settings\\\\Temp\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":266994,"reputation":1604,"user_id":554893,"accept_rate":80,"display_name":"IdontCareAboutReputationPoints"},"score":0,"creation_date":1601475594,"post_id":28691615,"comment_id":113420583,"body_markdown":"This one worked for me, thank you very much!, btw you don&#39;t need to close eclipse.","body":"This one worked for me, thank you very much!, btw you don&#39;t need to close eclipse."}],"tags":[],"owner":{"account_id":4953770,"reputation":69,"user_id":3986981,"display_name":"Navdeep Garg"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1424768413,"creation_date":1424768413,"answer_id":28691615,"question_id":4591187,"body_markdown":"Close eclipse... clear %temp% folder, temp folder... disable breakpoints... in most cases this will definitely solve the problem.","title":"Running a program in Debug mode is incredible slow","body":"<p>Close eclipse... clear %temp% folder, temp folder... disable breakpoints... in most cases this will definitely solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":6490642,"reputation":391,"user_id":5024821,"display_name":"Varun Mylaraiah"},"comment_count":0,"down_vote_count":5,"up_vote_count":40,"is_accepted":false,"score":35,"last_activity_date":1434643636,"creation_date":1434643636,"answer_id":30920492,"question_id":4591187,"body_markdown":"I faced this issue lot of time. Solution is simple, Remove all breakpoints.\r\n(Run &gt;&gt; Remove All Breakpoints)","title":"Running a program in Debug mode is incredible slow","body":"<p>I faced this issue lot of time. Solution is simple, Remove all breakpoints.\n(Run >> Remove All Breakpoints)</p>\n"},{"tags":[],"owner":{"account_id":5206756,"reputation":121,"user_id":4164390,"display_name":"cal"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1490113362,"creation_date":1490113362,"answer_id":42932817,"question_id":4591187,"body_markdown":"In my case, Eclipse was trying to build files, which I was doing manually.\r\nGoing to Window -&gt; Preferences -&gt; Run/Debug -&gt; Launching, and then disabling &quot;Build (if required) before Launching&quot; underneath General Options solved the slowness.","title":"Running a program in Debug mode is incredible slow","body":"<p>In my case, Eclipse was trying to build files, which I was doing manually.\nGoing to Window -> Preferences -> Run/Debug -> Launching, and then disabling \"Build (if required) before Launching\" underneath General Options solved the slowness.</p>\n"},{"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1529933546,"post_id":47335738,"comment_id":89041873,"body_markdown":"That was it. For IntelliJ IDEA users, do this one.","body":"That was it. For IntelliJ IDEA users, do this one."},{"owner":{"account_id":1439148,"reputation":470,"user_id":1359808,"accept_rate":57,"display_name":"Antimo"},"score":0,"creation_date":1547801553,"post_id":47335738,"comment_id":95325048,"body_markdown":"What is the exact equivalent voice in Intellij?","body":"What is the exact equivalent voice in Intellij?"},{"owner":{"account_id":7757121,"reputation":166,"user_id":5871008,"accept_rate":100,"display_name":"Coding world"},"score":0,"creation_date":1559814059,"post_id":47335738,"comment_id":99540079,"body_markdown":"Actually why &#39;Show method result after a step operation&#39; is used??","body":"Actually why &#39;Show method result after a step operation&#39; is used??"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694187104,"post_id":47335738,"comment_id":135862832,"body_markdown":"strange, I got *slightly* different options: https://i.stack.imgur.com/1DX6b.png (also 2023-06 [4.28.0] or even for 2021-12 )","body":"strange, I got <i>slightly</i> different options: <a href=\"https://i.stack.imgur.com/1DX6b.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1DX6b.png</a> (also 2023-06 [4.28.0] or even for 2021-12 )"},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":0,"creation_date":1694307242,"post_id":47335738,"comment_id":135874030,"body_markdown":"@user85421 , that screenshot is from 2017. Post edited.","body":"@user85421 , that screenshot is from 2017. Post edited."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694328182,"post_id":47335738,"comment_id":135875012,"body_markdown":"I see... I misunderstood  the previous edit (adding 2023 version) - I was confused because the mention of 2023 came first.  Now it&#39;s clear","body":"I see... I misunderstood  the previous edit (adding 2023 version) - I was confused because the mention of 2023 came first.  Now it&#39;s clear"}],"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"comment_count":6,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1695844007,"creation_date":1510853151,"answer_id":47335738,"question_id":4591187,"body_markdown":"For some older versions of Eclipse (picture below, 2017): disable option *&#39;Show method result after a step operation&#39;*.\r\n\r\n*Edit (2023): Eclipse version 2023-06 (4.28.0) does not have this problem.*\r\n\r\n[![Show method result after a step operation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kdd2o.png","title":"Running a program in Debug mode is incredible slow","body":"<p>For some older versions of Eclipse (picture below, 2017): disable option <em>'Show method result after a step operation'</em>.</p>\n<p><em>Edit (2023): Eclipse version 2023-06 (4.28.0) does not have this problem.</em></p>\n<p><a href=\"https://i.stack.imgur.com/kdd2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kdd2o.png\" alt=\"Show method result after a step operation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545412717,"creation_date":1545412717,"answer_id":53888605,"question_id":4591187,"body_markdown":"With all the learning over the years working with eclipse, here are couple of suggestions\r\n\r\n1. keep your open projects to minimal what you actually need\r\n2. keep it lean and thin - uninstall the plugins/features which you don&#39;t use (mylnn, validations etc).\r\n3. No matter what you do, the eclipse tend to get slower over the time. **The ultimate solution to get a responsive IDE is to recycle your existing workspace** (create new workspace and bring in the projects which you need).","title":"Running a program in Debug mode is incredible slow","body":"<p>With all the learning over the years working with eclipse, here are couple of suggestions</p>\n\n<ol>\n<li>keep your open projects to minimal what you actually need</li>\n<li>keep it lean and thin - uninstall the plugins/features which you don't use (mylnn, validations etc).</li>\n<li>No matter what you do, the eclipse tend to get slower over the time. <strong>The ultimate solution to get a responsive IDE is to recycle your existing workspace</strong> (create new workspace and bring in the projects which you need).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12427598,"reputation":201,"user_id":9051579,"display_name":"Alex Vulchev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551535965,"creation_date":1551533913,"answer_id":54959105,"question_id":4591187,"body_markdown":"Before you run your application in debug mode press on ![Button][1] (disable all breakpoints) and you wont experience slow loading or any problems. After your application has started just enable the breakpoints and then you can debug your code.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oLYOM.png","title":"Running a program in Debug mode is incredible slow","body":"<p>Before you run your application in debug mode press on <img src=\"https://i.stack.imgur.com/oLYOM.png\" alt=\"Button\"> (disable all breakpoints) and you wont experience slow loading or any problems. After your application has started just enable the breakpoints and then you can debug your code.</p>\n"},{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592842755,"creation_date":1592842755,"answer_id":62518961,"question_id":4591187,"body_markdown":"I faced this issue recently after upgrading my macOS version.\r\nI wasn&#39;t able to fix the slow debugger with all the above solutions, I ended up installing a newer version of eclipse, and everything works prefect after that. \r\n","title":"Running a program in Debug mode is incredible slow","body":"<p>I faced this issue recently after upgrading my macOS version.\nI wasn't able to fix the slow debugger with all the above solutions, I ended up installing a newer version of eclipse, and everything works prefect after that.</p>\n"},{"tags":[],"owner":{"account_id":108510,"reputation":26313,"user_id":287976,"accept_rate":92,"display_name":"brandizzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601492489,"creation_date":1601492489,"answer_id":64144132,"question_id":4591187,"body_markdown":"It happened to me once and the problem was, I had the folder with ALL my projects source code in the Source Look-up. This way, not only the debugger got really slow (because it probably crawled all my files) but also I could not do a lot of things such as inline execution.\r\n\r\nThe takeaway: **check your Source Look-up**. When debugging right-click in any thread from the Debug view, choose *Edit Source Look-up* and see what what you can/should remove from there. In my case, it was a spurious folder, other times you may have too many projects, folders, JARs etc. and may remove some.","title":"Running a program in Debug mode is incredible slow","body":"<p>It happened to me once and the problem was, I had the folder with ALL my projects source code in the Source Look-up. This way, not only the debugger got really slow (because it probably crawled all my files) but also I could not do a lot of things such as inline execution.</p>\n<p>The takeaway: <strong>check your Source Look-up</strong>. When debugging right-click in any thread from the Debug view, choose <em>Edit Source Look-up</em> and see what what you can/should remove from there. In my case, it was a spurious folder, other times you may have too many projects, folders, JARs etc. and may remove some.</p>\n"},{"tags":[],"owner":{"account_id":5828507,"reputation":890,"user_id":4593944,"display_name":"Daniel Reis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628259801,"creation_date":1628259801,"answer_id":68683220,"question_id":4591187,"body_markdown":"Recently i was having extreme slow performance debug, both in eclipse and visual studio code (vs code)\r\n\r\nIn my case, the problem was with ***lombok*** configuration in ***JPA*** entities.\r\n\r\nI changed the **@*Data*** anottation to ***@Getters*** and ***@Setters***.\r\n\r\nLooks like **hashCode**() and **equals**() implementantion of **lombok** was in conflict with JPA.","title":"Running a program in Debug mode is incredible slow","body":"<p>Recently i was having extreme slow performance debug, both in eclipse and visual studio code (vs code)</p>\n<p>In my case, the problem was with <em><strong>lombok</strong></em> configuration in <em><strong>JPA</strong></em> entities.</p>\n<p>I changed the <strong>@<em>Data</em></strong> anottation to <em><strong>@Getters</strong></em> and <em><strong>@Setters</strong></em>.</p>\n<p>Looks like <strong>hashCode</strong>() and <strong>equals</strong>() implementantion of <strong>lombok</strong> was in conflict with JPA.</p>\n"},{"comments":[{"owner":{"account_id":2837861,"reputation":4555,"user_id":2438110,"display_name":"cabad"},"score":0,"creation_date":1658175606,"post_id":72983313,"comment_id":128982060,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/32248560)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/32248560\">From Review</a>"}],"tags":[],"owner":{"account_id":14373191,"reputation":102,"user_id":10427291,"display_name":"janst"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657813655,"creation_date":1657813655,"answer_id":72983313,"question_id":4591187,"body_markdown":"I&#39;ve had the same problem. The work around i&#39;m using is to just set a single break point and run to it. After that I don&#39;t try to step over or continue i just restart the test and move my break point to the next line I want to view. I am using JUnit with Mockito in Intellij. I&#39;m guessing it has something to do with the byte code manipulation not matching the actual code in intellij. (In intellij, there is an implementation internal to intellij for running JUnit tests. Mockito may not play will with it)","title":"Running a program in Debug mode is incredible slow","body":"<p>I've had the same problem. The work around i'm using is to just set a single break point and run to it. After that I don't try to step over or continue i just restart the test and move my break point to the next line I want to view. I am using JUnit with Mockito in Intellij. I'm guessing it has something to do with the byte code manipulation not matching the actual code in intellij. (In intellij, there is an implementation internal to intellij for running JUnit tests. Mockito may not play will with it)</p>\n"}],"owner":{"display_name":"user321068"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82751,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":4592121,"answer_count":16,"score":87,"last_activity_date":1695844007,"creation_date":1294122696,"question_id":4591187,"body_markdown":"Since recently it&#39;s much slower running a program in Debug mode in Eclipse Galileo.\r\n\r\nI&#39;m not aware of any changes.\r\n\r\nDo you know what could be the cause? Running it normally is not a problem.","title":"Running a program in Debug mode is incredible slow","body":"<p>Since recently it's much slower running a program in Debug mode in Eclipse Galileo.</p>\n\n<p>I'm not aware of any changes.</p>\n\n<p>Do you know what could be the cause? Running it normally is not a problem.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27823619,"reputation":41,"user_id":21243465,"display_name":"Olga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1695843989,"creation_date":1693139047,"question_id":76987099,"body_markdown":"I&#39;m new to Android Studio and don&#39;t understand a lot of how the virtual device works. I have followed a tutorial to make an app, but when running it on the virtual device, it shows a white screen. These are the first lines of the logcat:\r\n\r\n2023-08-27 14:14:51.280 12681-12681 Compatibil...geReporter com.example.myapplication            D  Compat change id reported: 171979766; UID 10183; state: ENABLED\r\n2023-08-27 14:14:51.286 12681-12681 Compatibil...geReporter com.example.myapplication            D  Compat change id reported: 242716250; UID 10183; state: DISABLED\r\n2023-08-27 14:14:51.432 12681-12681 ziparchive              com.example.myapplication            W  Unable to open &#39;/data/app/~~_UZBc89aV6_L-EjF44iNeg==/com.example.myapplication-PGRmfGsriJz5xb8sPhyGLg==/base.dm&#39;: No such file or directory\r\n\r\n\r\nI can see in the folder of the virtual device that it has base.apk instead of base.dm. Why does it try to open base.dm instead, what does it mean?\r\n\r\nI have tried cleaning the project and rebuilding it, it didn&#39;t work.","title":"Virtual device trying to open base.dm instead of base.apk in Android Studio","body":"<p>I'm new to Android Studio and don't understand a lot of how the virtual device works. I have followed a tutorial to make an app, but when running it on the virtual device, it shows a white screen. These are the first lines of the logcat:</p>\n<p>2023-08-27 14:14:51.280 12681-12681 Compatibil...geReporter com.example.myapplication            D  Compat change id reported: 171979766; UID 10183; state: ENABLED\n2023-08-27 14:14:51.286 12681-12681 Compatibil...geReporter com.example.myapplication            D  Compat change id reported: 242716250; UID 10183; state: DISABLED\n2023-08-27 14:14:51.432 12681-12681 ziparchive              com.example.myapplication            W  Unable to open '/data/app/~~_UZBc89aV6_L-EjF44iNeg==/com.example.myapplication-PGRmfGsriJz5xb8sPhyGLg==/base.dm': No such file or directory</p>\n<p>I can see in the folder of the virtual device that it has base.apk instead of base.dm. Why does it try to open base.dm instead, what does it mean?</p>\n<p>I have tried cleaning the project and rebuilding it, it didn't work.</p>\n"},{"tags":["java","kotlin","data-class","java-record"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":4,"creation_date":1603299696,"post_id":64468267,"comment_id":113995663,"body_markdown":"Indeed, they are fundamentally similar., mostly. [This article](https://cr.openjdk.java.net/~briangoetz/amber/datum.html) provides a hint. But the question seems too broad to fit in here in my opinion.","body":"Indeed, they are fundamentally similar., mostly. <a href=\"https://cr.openjdk.java.net/~briangoetz/amber/datum.html\" rel=\"nofollow noreferrer\">This article</a> provides a hint. But the question seems too broad to fit in here in my opinion."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1603315373,"post_id":64468267,"comment_id":114002164,"body_markdown":"@Naman, Brian Goetz reminds me that data classes are a _far_ more complex subject than I ever would have imagined.","body":"@Naman, Brian Goetz reminds me that data classes are a <i>far</i> more complex subject than I ever would have imagined."},{"owner":{"account_id":3930885,"reputation":1913,"user_id":3249497,"accept_rate":22,"display_name":"Sergiy"},"score":0,"creation_date":1613748299,"post_id":64468267,"comment_id":117179726,"body_markdown":"@Naman Can we use Java records in Kotlin code (if I run my application on JDK 15)?","body":"@Naman Can we use Java records in Kotlin code (if I run my application on JDK 15)?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1613758417,"post_id":64468267,"comment_id":117184503,"body_markdown":"@Sergey not that I know of, not very hands-on with Kotlin :|","body":"@Sergey not that I know of, not very hands-on with Kotlin :|"}],"answers":[{"tags":[],"owner":{"account_id":3946141,"reputation":1685,"user_id":3894977,"accept_rate":75,"display_name":"mrek"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1616704583,"creation_date":1616704583,"answer_id":66807237,"question_id":64468267,"body_markdown":"[This is a great article about all those differences.](https://medium.com/javarevisited/javas-records-vs-kotlin-s-data-classes-b3fef851155a)\r\n\r\nIn summary:\r\n\r\n## Similarities\r\n- generated methods: `equals`, `hashCode`, `toString`\r\n- generated constructor\r\n- generated getters (but Kotlin getter is called `o.name`, while Java uses  `o.name()`)\r\n- can modify the canonical constructor\r\n- can add additional methods\r\n\r\n## Differences\r\nKotlin&#39;s data classes support many other little things:\r\n\r\n| [data class (Kotlin)](https://kotlinlang.org/docs/data-classes.html) | [record (Java)](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html) |\r\n|:-------|:------|\r\n| `copy` method for easier object creation | no `copy` method |\r\n|variables can be `var` or `val`| variables can only be `final`|\r\n| can inherit from other non-data classes | no inheritance |\r\n| can define non-constructor mutable variables | can define only static variables |\r\n\r\n\r\nBoth are great for reducing the code bloat.","title":"Java Records vs Kotlin Data Classes","body":"<p><a href=\"https://medium.com/javarevisited/javas-records-vs-kotlin-s-data-classes-b3fef851155a\" rel=\"noreferrer\">This is a great article about all those differences.</a></p>\n<p>In summary:</p>\n<h2>Similarities</h2>\n<ul>\n<li>generated methods: <code>equals</code>, <code>hashCode</code>, <code>toString</code></li>\n<li>generated constructor</li>\n<li>generated getters (but Kotlin getter is called <code>o.name</code>, while Java uses  <code>o.name()</code>)</li>\n<li>can modify the canonical constructor</li>\n<li>can add additional methods</li>\n</ul>\n<h2>Differences</h2>\n<p>Kotlin's data classes support many other little things:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"><a href=\"https://kotlinlang.org/docs/data-classes.html\" rel=\"noreferrer\">data class (Kotlin)</a></th>\n<th style=\"text-align: left;\"><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html\" rel=\"noreferrer\">record (Java)</a></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><code>copy</code> method for easier object creation</td>\n<td style=\"text-align: left;\">no <code>copy</code> method</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">variables can be <code>var</code> or <code>val</code></td>\n<td style=\"text-align: left;\">variables can only be <code>final</code></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">can inherit from other non-data classes</td>\n<td style=\"text-align: left;\">no inheritance</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">can define non-constructor mutable variables</td>\n<td style=\"text-align: left;\">can define only static variables</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Both are great for reducing the code bloat.</p>\n"}],"owner":{"account_id":18161873,"reputation":312,"user_id":13213130,"display_name":"Bertrand Nau"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4670,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":66807237,"answer_count":1,"score":16,"last_activity_date":1695843832,"creation_date":1603299348,"question_id":64468267,"body_markdown":"Java 14 offers a new feature called [records][1], helping to create JavaBeans. What is the difference between Kotlin&#39;s data classes and Java records? \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/359\r\n  [2]: https://kotlinlang.org/docs/reference/data-classes.html","title":"Java Records vs Kotlin Data Classes","body":"<p>Java 14 offers a new feature called <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">records</a>, helping to create JavaBeans. What is the difference between Kotlin's data classes and Java records?</p>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"score":3,"creation_date":1695823623,"post_id":77188211,"comment_id":136075832,"body_markdown":"Why you put photo of display with code here ? Can you paste your error code ?","body":"Why you put photo of display with code here ? Can you paste your error code ?"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695824492,"post_id":77188211,"comment_id":136076028,"body_markdown":"@Kafarson the exception is too long","body":"@Kafarson the exception is too long"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1695828477,"post_id":77188211,"comment_id":136076928,"body_markdown":"This is a great example of why it&#39;s important to test with the same brand and version of database you will eventually deploy to. MySQL and Microsoft SQL Server are different products. If you try to use one as the other, you&#39;re bound to encounter differences in features, errors, performance, etc.","body":"This is a great example of why it&#39;s important to test with the same brand and version of database you will eventually deploy to. MySQL and Microsoft SQL Server are different products. If you try to use one as the other, you&#39;re bound to encounter differences in features, errors, performance, etc."},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1695829238,"post_id":77188211,"comment_id":136077120,"body_markdown":"This is a documented limitation. so no it can&#39;t be &#39;fixed&#39; https://dev.mysql.com/doc/refman/8.0/en/join.html#:~:text=The%20maximum%20number%20of%20tables,a%20single%20join%20is%2061.","body":"This is a documented limitation. so no it can&#39;t be &#39;fixed&#39; <a href=\"https://dev.mysql.com/doc/refman/8.0/en/join.html#:~:text=The%20maximum%20number%20of%20tables,a%20single%20join%20is%2061\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/&hellip;</a>."},{"owner":{"account_id":1047405,"reputation":8732,"user_id":1052130,"display_name":"slaakso"},"score":0,"creation_date":1695830844,"post_id":77188211,"comment_id":136077458,"body_markdown":"@BillKarwin While you are correct that different databases behave differently, in this case, the problem is likely the code (joining 61 tables is seldom the correct way of doing things).","body":"@BillKarwin While you are correct that different databases behave differently, in this case, the problem is likely the code (joining 61 tables is seldom the correct way of doing things)."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":1,"creation_date":1695831277,"post_id":77188211,"comment_id":136077547,"body_markdown":"I&#39;m guessing this is some kind of automatic behavior of Spring, to generate queries that eagerly join to related tables, and then join to subsequently related tables, and so on until the whole set of related tables are joined in every query. But the OP&#39;s question doesn&#39;t show any other entity class, or any SQL query.","body":"I&#39;m guessing this is some kind of automatic behavior of Spring, to generate queries that eagerly join to related tables, and then join to subsequently related tables, and so on until the whole set of related tables are joined in every query. But the OP&#39;s question doesn&#39;t show any other entity class, or any SQL query."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695835695,"post_id":77188211,"comment_id":136078311,"body_markdown":"“it&#39;s too long to past[e] into StackOverflow” …Then paste the first ten lines of it.  I’m not sure the UserAccount entity class has anything to do with this.","body":"“it&#39;s too long to past[e] into StackOverflow” …Then paste the first ten lines of it.  I’m not sure the UserAccount entity class has anything to do with this."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695837816,"post_id":77188211,"comment_id":136078693,"body_markdown":"@VGR I pasted the first ten lines of the exception.","body":"@VGR I pasted the first ten lines of the exception."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695838101,"post_id":77188211,"comment_id":136078743,"body_markdown":"Thanks, that helps.  We don’t need to see the rest of the SQL statement, but we do need the lines which come after it.  Each such line starts with either `at` or `Caused by:`.  This is the stack trace, and it tells us, and you, where the problem occurred.","body":"Thanks, that helps.  We don’t need to see the rest of the SQL statement, but we do need the lines which come after it.  Each such line starts with either <code>at</code> or <code>Caused by:</code>.  This is the stack trace, and it tells us, and you, where the problem occurred."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695838360,"post_id":77188211,"comment_id":136078799,"body_markdown":"@VGR sorry again, I just added the `caused by: `","body":"@VGR sorry again, I just added the <code>caused by: </code>"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1695838902,"post_id":77188211,"comment_id":136078899,"body_markdown":"The simple answer to your question is: Yes it is possible: Review and re-design the relationship of your entities. Make sure to make the correct usage of the `FetchType` when creating the relationships. Based on the entity you shared here I would say that the problem is specifically the manyToMany one which is eagerly fetching everything associated with roles and the previous roles for each user.","body":"The simple answer to your question is: Yes it is possible: Review and re-design the relationship of your entities. Make sure to make the correct usage of the <code>FetchType</code> when creating the relationships. Based on the entity you shared here I would say that the problem is specifically the manyToMany one which is eagerly fetching everything associated with roles and the previous roles for each user."}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695843305,"creation_date":1695823341,"question_id":77188211,"body_markdown":"I have a copy of a Spring boot application and it uses a large dataset, on my manager&#39;s PC it works as intended with MSSQL but on my PC it does not, so I opted to use MySQL for testing instead when the application starts and I try to log in the console throws an exception that says: `Too many tables: MySQL can only use 61 tables in a join\r\n\r\n\r\nShouldn&#39;t the table that stores the users, in my case `user_account` be the only table queried when I attempt to find the account with a specific ID, etc.? In the exception, why are so many table columns added to the JOIN? (Keep in mind that this application was not built by me so I&#39;m learning it as I go :D). \r\n\r\nThis is the `user_account` entity: \r\n```\r\n@jakarta.persistence.Entity\r\n@Getter @Setter @NoArgsConstructor\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n//@Audited\r\npublic class UserAccount implements Entity&lt;Integer&gt;, UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String username;\r\n\r\n    //private UserAccountType userAccountType;\r\n\r\n    private Integer numOfFailedAttempts =0;\r\n\r\n    private boolean accountNonLocked = true;\r\n\r\n    private boolean accountEnabled = true;\r\n\r\n    private String password;\r\n\r\n    @Transient\r\n    private String newPlainTextPassword;\r\n\r\n    @Transient\r\n    private String plainTextPassword;\r\n\r\n    @ManyToMany(mappedBy = &quot;userAccounts&quot;,\r\n            cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;personId&quot;)\r\n    private Person person;\r\n\r\n    private boolean passwordReset;\r\n\r\n    private boolean rolesChanged;\r\n\r\n    @Transient\r\n    private boolean admin;\r\n    @Transient\r\n    private boolean employee;\r\n    @Transient\r\n    private boolean approval;\r\n    @Transient\r\n    private boolean reviewer;\r\n    @Transient\r\n    private boolean editor;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @OneToOne(mappedBy = &quot;userAccount&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true)\r\n    private PreviousRoles previousRoles;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return userRoles;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return accountNonLocked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return accountEnabled;\r\n    }\r\n\r\n    public void addUserRole(UserRole userRole){\r\n        userRole.addUserAccount(this);\r\n        userRoles.add(userRole);\r\n    }\r\n\r\n    public boolean hasRole(UserRole userRole){\r\n        return userRoles.contains(userRole);\r\n    }\r\n\r\n    public boolean hasRole(Role role){\r\n        var userRole = new UserRole(role);\r\n        return hasRole(userRole);\r\n    }\r\n\r\n    public void setPreviousRoles(PreviousRoles previousRoles) {\r\n        this.previousRoles = previousRoles;\r\n        previousRoles.setUserAccount(this);\r\n    }\r\n\r\n    public Set&lt;String&gt; getRolesAsStrings() {\r\n        var rolesAsStrings = new HashSet&lt;String&gt;();\r\n\r\n        userRoles.forEach(userRole -&gt;\r\n                rolesAsStrings.add(userRole.toString()));\r\n\r\n        return rolesAsStrings;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username.toLowerCase().trim();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        UserAccount that = (UserAccount) o;\r\n        return Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n\r\n    public void setTransientRoles(){\r\n        if (hasRole(Role.ADMIN)) admin = true;\r\n        if (hasRole(Role.APPROVAL)) approval = true;\r\n        if (hasRole(Role.REVIEWER)) reviewer = true;\r\n        if (hasRole(Role.EMPLOYEE)) employee = true;\r\n        if (hasRole(Role.EDITOR)) editor = true;\r\n    }\r\n}\r\n```\r\nThis is the exception: \r\n```\r\norg.hibernate.exception.GenericJDBCException: JDBC exception executing SQL [select p1_0.id,case when p1_1.id is not null then 1 when p1_2.id is not null then 2 when p1_3.id is not null then 3 when p1_4.id is not null then 4 when p1_0.id is not null then 0 end,b1_0.business_type_id,b1_0.cchidentifier,b1_0.enabled,b1_0.name,b1_0.task_id,c1_0.id,b2_0.business_type_id,b2_0.cchidentifier,b2_0.enabled,b2_0.name,b2_0.task_id,c1_1.created_by_id,c1_1.address1,c1_1.address2,c1_1.address3,c1_1.contactid,c1_1.contact_last_modified,c3_0.contact_type_id,c3_0.contact_type,c3_0.contact_entity_type_id,c1_1.country,c1_1.county,c1_1.date_created,c1_1.email,c1_1.fax,c1_1.first_name,c1_1.last_name,c1_1.mailing_name,c1_1.mobile,c1_1.new_message,c1_1.post_code,c1_1.sex,c1_1.tel,c1_1.town,u1_0.id,u1_0.account_enabled,u1_0.account_non_locked,u1_0.num_of_failed_attempts,u1_0.password,u1_0.password_reset,u1_0.person_id,u1_0.roles_changed,u1_0.username,c1_1.zid,c1_0.audit_user_name,c1_0.birth_place,c1_0.cds_code,c1_0.charge_rates_note,c1_0.cost_per_hour,c1_0.date_of_birth,c1_0.employee_code,c1_0.expense_processing_category_id,c1_0.extension,c1_0.f_name_temp,c1_0.gender,c1_0.initial_department_id,c1_0.new_activity_on_assigned_forms,p3_0.id,case when p3_1.id is not null then 1 when p3_2.id is not null then 2 when p3_3.id is not null then 3 when p3_4.id is not null then 4 when p3_0.id is not null then 0 end,p3_0.business_type_id,p3_0.created_by_id,p3_0.address1,p3_0.address2,p3_0.address3,p3_0.contactid,p3_0.contact_last_modified,p3_0.contact_type_id,p3_0.country,p3_0.county,p3_0.date_created,p3_0.email,p3_0.fax,p3_0.first_name,p3_0.last_name,p3_0.mailing_name,p3_0.mobile,p3_0.new_message,p3_0.post_code,p3_0.sex,p3_0.tel,p3_0.town,p3_0.zid,p3_1.affiliate_id,p3_1.id,p3_1.approved_by,p3_1.birth_place,p3_1.business_type_id,p3_1.cdscode,p3_1.cease_trading_date,p3_1.checked_out_by_employee_id,p3_1.checked_out_date,p3_1.contact_closed,p3_1.contact_closed_reason_id,p3_1.contact_num,p3_1.contact_typeid,p3_1.current_mailshot,p3_1.date_of_birth,p3_1.date_of_death,p3_1.department_id,p3_1.draft,p3_1.external_use,p3_1.gdprdelete_in_progress,p3_1.gdprdeletion_date,p3_1.hmrcr40,p3_1.incorporation_date,p3_1.initials,p3_1.lnamefname,p3_1.master_mailshot,p3_1.mname,p3_1.ninumber,p3_1.notes,p3_1.office_id,p3_1.our_ref,p3_1.photo,p3_1.ppsn,p3_1.pref,p3_1.resp_notes,p3_1.restricted_client_team_access,p3_1.row_guid,p3_1.salutation,p3_1.suff,p3_1.utr,p3_2.approved_by,p3_2.id,p3_2.birth_place,p3_2.business_type_id,p3_2.cdscode,p3_2.cease_trading_date,p3_2.checked_out_by_employee_id,p3_2.checked_out_date,p3_2.company_id,p3_2.contact_closed,p3_2.contact_closed_reason_id,p3_2.contact_num,p3_2.date_of_birth,p3_2.date_of_death,p3_2.department_id,p3_2.email,p3_2.external_use,p3_2.gdprdeletion_date,p3_2.hmrcr40,p3_2.incorporation_date,p3_2.initials,p3_2.lnamefname,p3_2.mname,p3_2.ninumber,p3_2.notes,p3_2.office_id,p3_2.our_ref,p3_2.person_id,p3_2.photo,p3_2.ppsn,p3_2.pref,p3_2.resp_notes,p3_2.row_guid,p3_2.salutation,p3_2.suff,p3_2.utr,p3_3.client_id,p3_3.incorporation_date,p3_3.account_status_id,p3_3.approval_emp_id,p3_3.approved_by_id,p3_3.id,p3_3.bacs_ref,p3_3.bank_account_name,p3_3.bank_account_num,p3_3.bank_sort_code,p3_3.business_type_id,p3_3.cli_file_id,p3_3.client_closed_reason_id,p3_3.client_code,p3_3.client_type,p3_3.closed,p3_3.company_registration_no,p3_3.company_tax_reference,p3_3.created_date,p3_3.credit_limit,p3_3.default_contact_assoc_id,p3_3.default_currency,p3_3.default_nominal_id,p3_3.default_recovery_rate,p3_3.department_id_department_id,p3_3.draft,p3_3.email,p3_3.internal,p3_3.kyc_initialised,p3_3.kyc_status,p3_3.last_touch_date,p3_3.last_touch_point_touchpoint_id,p3_3.mobile_contact,p3_3.name,p3_3.new_activity,p3_3.notes,p3_3.office_contact,p3_3.office_id,p3_3.parent_client_id,p3_3.payment_type_id,p3_3.period_end_date,p3_3.person_id,p3_3.reason_won_id,p3_3.restricted_client_team_access,p3_3.row_guid,p3_3.status,p3_3.telephone_number,p3_3.terms_day,p3_4.id,p3_4.audit_user_name,p3_4.birth_place,p3_4.cds_code,p3_4.charge_rates_note,p3_4.cost_per_hour,p3_4.date_of_birth,p3_4.employee_code,p3_4.expense_processing_category_id,p3_4.extension,p3_4.f_name_temp,p3_4.gender,p3_4.initial_department_id,p3_4.new_activity_on_assigned_forms,p3_4.person_id,p3_4.personal_notes,p3_4.pin,p3_4.pref_temp,p3_4.row_guid,p3_4.s_name_temp,p3_4.security_group_id,p3_4.sort_code,p3_4.system_done_id,p3_4.tab_text_length,p3_4.time_processing_category_id,p3_4.time_unit_id,p3_4.user_name,c1_0.personal_notes,c1_0.pin,c1_0.pref_temp,c1_0.row_guid,c1_0.s_name_temp,c1_0.security_group_id,c1_0.sort_code,c1_0.system_done_id,c1_0.tab_text_length,c1_0.time_processing_category_id,c1_0.time_unit_id,c1_0.user_name,p1_0.address1,p1_0.address2,p1_0.address3,p1_0.contactid,p1_0.contact_last_modified,c6_0.contact_type_id,c6_0.contact_type,c6_0.contact_entity_type_id,p1_0.country,p1_0.county,p1_0.date_created,p1_0.email,p1_0.fax,p1_0.first_name,p1_0.last_name,p1_0.mailing_name,p1_0.mobile,p1_0.new_message,p1_0.post_code,p1_0.sex,p1_0.tel,p1_0.town,u2_0.id,u2_0.account_enabled,u2_0.account_non_locked,u2_0.num_of_failed_attempts,u2_0.password,u2_0.password_reset,p7_0.id,u2_0.roles_changed,u2_0.username,p1_0.zid,p1_1.affiliate_id,p1_1.id,p1_1.approved_by,p1_1.birth_place,p1_1.business_type_id,p1_1.cdscode,p1_1.cease_trading_date,p1_1.checked_out_by_employee_id,p1_1.checked_out_date,p1_1.contact_closed,p1_1.contact_closed_reason_id,p1_1.contact_num,p1_1.contact_typeid,p1_1.current_mailshot,p1_1.date_of_birth,p1_1.date_of_death,p1_1.department_id,p1_1.draft,p1_1.external_use,p1_1.gdprdelete_in_progress,p1_1.gdprdeletion_date,p1_1.hmrcr40,p1_1.incorporation_date,p1_1.initials,p1_1.lnamefname,p1_1.master_mailshot,p1_1.mname,p1_1.ninumber,p1_1.notes,p1_1.office_id,p1_1.our_ref,p1_1.photo,p1_1.ppsn,p1_1.pref,p1_1.resp_notes,p1_1.restricted_client_team_access,p1_1.row_guid,p1_1.salutation,p1_1.suff,p1_1.utr,p1_2.approved_by,p1_2.id,p1_2.birth_place,p1_2.business_type_id,p1_2.cdscode,p1_2.cease_trading_date,p1_2.checked_out_by_employee_id,p1_2.checked_out_date,p1_2.company_id,p1_2.contact_closed,p1_2.contact_closed_reason_id,p1_2.contact_num,p1_2.date_of_birth,p1_2.date_of_death,p1_2.department_id,p1_2.email,p1_2.external_use,p1_2.gdprdeletion_date,p1_2.hmrcr40,p1_2.incorporation_date,p1_2.initials,p1_2.lnamefname,p1_2.mname,p1_2.ninumber,p1_2.notes,p1_2.office_id,p1_2.our_ref,p8_0.id,case when p8_1.id is not null then 1 when p8_2.id is not null then 2 when p8_3.id is not null then 3 when p8_4.id is not null then 4 when p8_0.id is not null then 0 end,b5_0.business_type_id,b5_0.cchidentifier,b5_0.enabled,b5_0.name,b5_0.task_id,c7_0.id,c7_1.business_type_id,c7_1.created_by_id,c7_1.address1,c7_1.address2,c7_1.address3,c7_1.contactid,c7_1.contact_last_modified,c7_1.contact_type_id,c7_1.country,c7_1.county,c7_1.date_created,c7_1.email,c7_1.fax,c7_1.first_name,c7_1.last_name,c7_1.mailing_name,c7_1.mobile,c7_1.new_message,c7_1.post_code,c7_1.sex,c7_1.tel,c7_1.town,c7_1.id,c7_1.zid,c7_0.audit_user_name,c7_0.birth_place,c7_0.cds_code,c7_0.charge_rates_note,c7_0.cost_per_hour,c7_0.date_of_birth,c7_0.employee_code,c7_0.expense_processing_category_id,c7_0.extension,c7_0.f_name_temp,c7_0.gender,c7_0.initial_department_id,c7_0.new_activity_on_assigned_forms,c7_0.person_id,c7_0.personal_notes,c7_0.pin,c7_0.pref_temp,c7_0.row_guid,c7_0.s_name_temp,c7_0.security_group_id,c7_0.sort_code,c7_0.system_done_id,c7_0.tab_text_length,c7_0.time_processing_category_id,c7_0.time_unit_id,c7_0.user_name,p8_0.address1,p8_0.address2,p8_0.address3,p8_0.contactid,p8_0.contact_last_modified,c10_0.contact_type_id,c10_0.contact_type,c10_0.contact_entity_type_id,p8_0.country,p8_0.county,p8_0.date_created,p8_0.email,p8_0.fax,p8_0.first_name,p8_0.last_name,p8_0.mailing_name,p8_0.mobile,p8_0.new_message,p8_0.post_code,p8_0.sex,p8_0.tel,p8_0.town,u3_0.id,u3_0.account_enabled,u3_0.account_non_locked,u3_0.num_of_failed_attempts,u3_0.password,u3_0.password_reset,u3_0.roles_changed,u3_0.username,p8_0.zid,p8_1.affiliate_id,p8_1.id,p8_1.approved_by,p8_1.birth_place,p8_1.business_type_id,p8_1.cdscode,p8_1.cease_trading_date,p8_1.checked_out_by_employee_id,p8_1.checked_out_date,p8_1.contact_closed,p8_1.contact_closed_reason_id,p8_1.contact_num,p8_1.contact_typeid,p8_1.current_mailshot,p8_1.date_of_birth,p8_1.date_of_death,p8_1.department_id,p8_1.draft,p8_1.external_use,p8_1.gdprdelete_in_progress,p8_1.gdprdeletion_date,p8_1.hmrcr40,p8_1.incorporation_date,p8_1.initials,p8_1.lnamefname,p8_1.master_mailshot,p8_1.mname,p8_1.ninumber,p8_1.notes,p8_1.office_id,p8_1.our_ref,p8_1.photo,p8_1.ppsn,p8_1.pref,p8_1.resp_notes,p8_1.restricted_client_team_access,p8_1.row_guid,p8_1.salutation,p8_1.suff,p8_1.utr,p8_2.approved_by,p8_2.id,p8_2.birth_place,p8_2.business_type_id,p8_2.cdscode,p8_2.cease_trading_date,p8_2.checked_out_by_employee_id,p8_2.checked_out_date,p8_2.company_id,p8_2.contact_closed,p8_2.contact_closed_reason_id,p8_2.contact_num,p8_2.date_of_birth,p8_2.date_of_death,p8_2.department_id,p8_2.email,p8_2.external_use,p8_2.gdprdeletion_date,p8_2.hmrcr40,p8_2.incorporation_date,p8_2.initials,p8_2.lnamefname,p8_2.mname,p8_2.ninumber,p8_2.notes,p8_2.office_id,p8_2.our_ref,p8_2.person_id,p8_2.photo,p8_2.ppsn,p8_2.pref,p8_2.resp_notes,p8_2.row_guid,p8_2.salutation,p8_2.suff,p8_2.utr,p8_3.client_id,p8_3.incorporation_date,a3_0.account_status_id,a3_0.account_status_desc,a3_0.account_status_typeid,p8_3.approval_emp_id,a4_0.id,a4_1.business_type_id,a4_1.created_by_id,a4_1.address1,a4_1.address2,a4_1.address3,a4_1.contactid,a4_1.contact_last_modified,a4_1.contact_type_id,a4_1.country,a4_1.county,a4_1.date_created,a4_1.email,a4_1.fax,a4_1.first_name,a4_1.last_name,a4_1.mailing_name,a4_1.mobile,a4_1.new_message,a4_1.post_code,a4_1.sex,a4_1.tel,a4_1.town,a4_1.id,a4_1.zid,a4_0.audit_user_name,a4_0.birth_place,a4_0.cds_code,a4_0.charge_rates_note,a4_0.cost_per_hour,a4_0.date_of_birth,a4_0.employee_code,a4_0.expense_processing_category_id,a4_0.extension,a4_0.f_name_temp,a4_0.gender,a4_0.initial_department_id,a4_0.new_activity_on_assigned_forms,a4_0.person_id,a4_0.personal_notes,a4_0.pin,a4_0.pref_temp,a4_0.row_guid,a4_0.s_name_temp,a4_0.security_group_id,a4_0.sort_code,a4_0.system_done_id,a4_0.tab_text_length,a\r\nCaused by: java.sql.SQLException: Too many tables; MySQL can only use 61 tables in a join\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\t... 135 common frames omitted\r\n```\r\nThe maximum heap memory is set to 4096m and the minimum heap memory is set to 3072m [![Java heap][2]][2], when using MSSQL the used heap memory reaches the maximum and throws the following exception: \r\n```\r\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;JFR Periodic Tasks&quot;\r\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;RMI TCP Connection(idle)&quot;\r\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;JMX server connection timeout 72&quot;\r\nException in thread &quot;mysql-cj-abandoned-connection-cleanup&quot; Exception in thread &quot;RMI TCP Connection(idle)&quot; java.lang.OutOfMemoryError: Java heap space\r\njava.lang.OutOfMemoryError: Java heap space\r\n```\r\n**I have no issues running this application with MSSQL on spring-boot version 2.7, Java 11, and spring-security 5**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BODMp.jpg\r\n  [2]: https://i.stack.imgur.com/X1BhL.png","title":"Is it possible to fix the error &quot;Too many tables: MySQL can only use 61 tables in a join&quot; without remodelling the database","body":"<p>I have a copy of a Spring boot application and it uses a large dataset, on my manager's PC it works as intended with MSSQL but on my PC it does not, so I opted to use MySQL for testing instead when the application starts and I try to log in the console throws an exception that says: `Too many tables: MySQL can only use 61 tables in a join</p>\n<p>Shouldn't the table that stores the users, in my case <code>user_account</code> be the only table queried when I attempt to find the account with a specific ID, etc.? In the exception, why are so many table columns added to the JOIN? (Keep in mind that this application was not built by me so I'm learning it as I go :D).</p>\n<p>This is the <code>user_account</code> entity:</p>\n<pre><code>@jakarta.persistence.Entity\n@Getter @Setter @NoArgsConstructor\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n//@Audited\npublic class UserAccount implements Entity&lt;Integer&gt;, UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String username;\n\n    //private UserAccountType userAccountType;\n\n    private Integer numOfFailedAttempts =0;\n\n    private boolean accountNonLocked = true;\n\n    private boolean accountEnabled = true;\n\n    private String password;\n\n    @Transient\n    private String newPlainTextPassword;\n\n    @Transient\n    private String plainTextPassword;\n\n    @ManyToMany(mappedBy = &quot;userAccounts&quot;,\n            cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\n\n    @OneToOne\n    @JoinColumn(name = &quot;personId&quot;)\n    private Person person;\n\n    private boolean passwordReset;\n\n    private boolean rolesChanged;\n\n    @Transient\n    private boolean admin;\n    @Transient\n    private boolean employee;\n    @Transient\n    private boolean approval;\n    @Transient\n    private boolean reviewer;\n    @Transient\n    private boolean editor;\n\n    @Setter(AccessLevel.NONE)\n    @OneToOne(mappedBy = &quot;userAccount&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true)\n    private PreviousRoles previousRoles;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return userRoles;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return accountNonLocked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return accountEnabled;\n    }\n\n    public void addUserRole(UserRole userRole){\n        userRole.addUserAccount(this);\n        userRoles.add(userRole);\n    }\n\n    public boolean hasRole(UserRole userRole){\n        return userRoles.contains(userRole);\n    }\n\n    public boolean hasRole(Role role){\n        var userRole = new UserRole(role);\n        return hasRole(userRole);\n    }\n\n    public void setPreviousRoles(PreviousRoles previousRoles) {\n        this.previousRoles = previousRoles;\n        previousRoles.setUserAccount(this);\n    }\n\n    public Set&lt;String&gt; getRolesAsStrings() {\n        var rolesAsStrings = new HashSet&lt;String&gt;();\n\n        userRoles.forEach(userRole -&gt;\n                rolesAsStrings.add(userRole.toString()));\n\n        return rolesAsStrings;\n    }\n\n    public void setUsername(String username) {\n        this.username = username.toLowerCase().trim();\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        UserAccount that = (UserAccount) o;\n        return Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    public void setTransientRoles(){\n        if (hasRole(Role.ADMIN)) admin = true;\n        if (hasRole(Role.APPROVAL)) approval = true;\n        if (hasRole(Role.REVIEWER)) reviewer = true;\n        if (hasRole(Role.EMPLOYEE)) employee = true;\n        if (hasRole(Role.EDITOR)) editor = true;\n    }\n}\n</code></pre>\n<p>This is the exception:</p>\n<pre><code>org.hibernate.exception.GenericJDBCException: JDBC exception executing SQL [select p1_0.id,case when p1_1.id is not null then 1 when p1_2.id is not null then 2 when p1_3.id is not null then 3 when p1_4.id is not null then 4 when p1_0.id is not null then 0 end,b1_0.business_type_id,b1_0.cchidentifier,b1_0.enabled,b1_0.name,b1_0.task_id,c1_0.id,b2_0.business_type_id,b2_0.cchidentifier,b2_0.enabled,b2_0.name,b2_0.task_id,c1_1.created_by_id,c1_1.address1,c1_1.address2,c1_1.address3,c1_1.contactid,c1_1.contact_last_modified,c3_0.contact_type_id,c3_0.contact_type,c3_0.contact_entity_type_id,c1_1.country,c1_1.county,c1_1.date_created,c1_1.email,c1_1.fax,c1_1.first_name,c1_1.last_name,c1_1.mailing_name,c1_1.mobile,c1_1.new_message,c1_1.post_code,c1_1.sex,c1_1.tel,c1_1.town,u1_0.id,u1_0.account_enabled,u1_0.account_non_locked,u1_0.num_of_failed_attempts,u1_0.password,u1_0.password_reset,u1_0.person_id,u1_0.roles_changed,u1_0.username,c1_1.zid,c1_0.audit_user_name,c1_0.birth_place,c1_0.cds_code,c1_0.charge_rates_note,c1_0.cost_per_hour,c1_0.date_of_birth,c1_0.employee_code,c1_0.expense_processing_category_id,c1_0.extension,c1_0.f_name_temp,c1_0.gender,c1_0.initial_department_id,c1_0.new_activity_on_assigned_forms,p3_0.id,case when p3_1.id is not null then 1 when p3_2.id is not null then 2 when p3_3.id is not null then 3 when p3_4.id is not null then 4 when p3_0.id is not null then 0 end,p3_0.business_type_id,p3_0.created_by_id,p3_0.address1,p3_0.address2,p3_0.address3,p3_0.contactid,p3_0.contact_last_modified,p3_0.contact_type_id,p3_0.country,p3_0.county,p3_0.date_created,p3_0.email,p3_0.fax,p3_0.first_name,p3_0.last_name,p3_0.mailing_name,p3_0.mobile,p3_0.new_message,p3_0.post_code,p3_0.sex,p3_0.tel,p3_0.town,p3_0.zid,p3_1.affiliate_id,p3_1.id,p3_1.approved_by,p3_1.birth_place,p3_1.business_type_id,p3_1.cdscode,p3_1.cease_trading_date,p3_1.checked_out_by_employee_id,p3_1.checked_out_date,p3_1.contact_closed,p3_1.contact_closed_reason_id,p3_1.contact_num,p3_1.contact_typeid,p3_1.current_mailshot,p3_1.date_of_birth,p3_1.date_of_death,p3_1.department_id,p3_1.draft,p3_1.external_use,p3_1.gdprdelete_in_progress,p3_1.gdprdeletion_date,p3_1.hmrcr40,p3_1.incorporation_date,p3_1.initials,p3_1.lnamefname,p3_1.master_mailshot,p3_1.mname,p3_1.ninumber,p3_1.notes,p3_1.office_id,p3_1.our_ref,p3_1.photo,p3_1.ppsn,p3_1.pref,p3_1.resp_notes,p3_1.restricted_client_team_access,p3_1.row_guid,p3_1.salutation,p3_1.suff,p3_1.utr,p3_2.approved_by,p3_2.id,p3_2.birth_place,p3_2.business_type_id,p3_2.cdscode,p3_2.cease_trading_date,p3_2.checked_out_by_employee_id,p3_2.checked_out_date,p3_2.company_id,p3_2.contact_closed,p3_2.contact_closed_reason_id,p3_2.contact_num,p3_2.date_of_birth,p3_2.date_of_death,p3_2.department_id,p3_2.email,p3_2.external_use,p3_2.gdprdeletion_date,p3_2.hmrcr40,p3_2.incorporation_date,p3_2.initials,p3_2.lnamefname,p3_2.mname,p3_2.ninumber,p3_2.notes,p3_2.office_id,p3_2.our_ref,p3_2.person_id,p3_2.photo,p3_2.ppsn,p3_2.pref,p3_2.resp_notes,p3_2.row_guid,p3_2.salutation,p3_2.suff,p3_2.utr,p3_3.client_id,p3_3.incorporation_date,p3_3.account_status_id,p3_3.approval_emp_id,p3_3.approved_by_id,p3_3.id,p3_3.bacs_ref,p3_3.bank_account_name,p3_3.bank_account_num,p3_3.bank_sort_code,p3_3.business_type_id,p3_3.cli_file_id,p3_3.client_closed_reason_id,p3_3.client_code,p3_3.client_type,p3_3.closed,p3_3.company_registration_no,p3_3.company_tax_reference,p3_3.created_date,p3_3.credit_limit,p3_3.default_contact_assoc_id,p3_3.default_currency,p3_3.default_nominal_id,p3_3.default_recovery_rate,p3_3.department_id_department_id,p3_3.draft,p3_3.email,p3_3.internal,p3_3.kyc_initialised,p3_3.kyc_status,p3_3.last_touch_date,p3_3.last_touch_point_touchpoint_id,p3_3.mobile_contact,p3_3.name,p3_3.new_activity,p3_3.notes,p3_3.office_contact,p3_3.office_id,p3_3.parent_client_id,p3_3.payment_type_id,p3_3.period_end_date,p3_3.person_id,p3_3.reason_won_id,p3_3.restricted_client_team_access,p3_3.row_guid,p3_3.status,p3_3.telephone_number,p3_3.terms_day,p3_4.id,p3_4.audit_user_name,p3_4.birth_place,p3_4.cds_code,p3_4.charge_rates_note,p3_4.cost_per_hour,p3_4.date_of_birth,p3_4.employee_code,p3_4.expense_processing_category_id,p3_4.extension,p3_4.f_name_temp,p3_4.gender,p3_4.initial_department_id,p3_4.new_activity_on_assigned_forms,p3_4.person_id,p3_4.personal_notes,p3_4.pin,p3_4.pref_temp,p3_4.row_guid,p3_4.s_name_temp,p3_4.security_group_id,p3_4.sort_code,p3_4.system_done_id,p3_4.tab_text_length,p3_4.time_processing_category_id,p3_4.time_unit_id,p3_4.user_name,c1_0.personal_notes,c1_0.pin,c1_0.pref_temp,c1_0.row_guid,c1_0.s_name_temp,c1_0.security_group_id,c1_0.sort_code,c1_0.system_done_id,c1_0.tab_text_length,c1_0.time_processing_category_id,c1_0.time_unit_id,c1_0.user_name,p1_0.address1,p1_0.address2,p1_0.address3,p1_0.contactid,p1_0.contact_last_modified,c6_0.contact_type_id,c6_0.contact_type,c6_0.contact_entity_type_id,p1_0.country,p1_0.county,p1_0.date_created,p1_0.email,p1_0.fax,p1_0.first_name,p1_0.last_name,p1_0.mailing_name,p1_0.mobile,p1_0.new_message,p1_0.post_code,p1_0.sex,p1_0.tel,p1_0.town,u2_0.id,u2_0.account_enabled,u2_0.account_non_locked,u2_0.num_of_failed_attempts,u2_0.password,u2_0.password_reset,p7_0.id,u2_0.roles_changed,u2_0.username,p1_0.zid,p1_1.affiliate_id,p1_1.id,p1_1.approved_by,p1_1.birth_place,p1_1.business_type_id,p1_1.cdscode,p1_1.cease_trading_date,p1_1.checked_out_by_employee_id,p1_1.checked_out_date,p1_1.contact_closed,p1_1.contact_closed_reason_id,p1_1.contact_num,p1_1.contact_typeid,p1_1.current_mailshot,p1_1.date_of_birth,p1_1.date_of_death,p1_1.department_id,p1_1.draft,p1_1.external_use,p1_1.gdprdelete_in_progress,p1_1.gdprdeletion_date,p1_1.hmrcr40,p1_1.incorporation_date,p1_1.initials,p1_1.lnamefname,p1_1.master_mailshot,p1_1.mname,p1_1.ninumber,p1_1.notes,p1_1.office_id,p1_1.our_ref,p1_1.photo,p1_1.ppsn,p1_1.pref,p1_1.resp_notes,p1_1.restricted_client_team_access,p1_1.row_guid,p1_1.salutation,p1_1.suff,p1_1.utr,p1_2.approved_by,p1_2.id,p1_2.birth_place,p1_2.business_type_id,p1_2.cdscode,p1_2.cease_trading_date,p1_2.checked_out_by_employee_id,p1_2.checked_out_date,p1_2.company_id,p1_2.contact_closed,p1_2.contact_closed_reason_id,p1_2.contact_num,p1_2.date_of_birth,p1_2.date_of_death,p1_2.department_id,p1_2.email,p1_2.external_use,p1_2.gdprdeletion_date,p1_2.hmrcr40,p1_2.incorporation_date,p1_2.initials,p1_2.lnamefname,p1_2.mname,p1_2.ninumber,p1_2.notes,p1_2.office_id,p1_2.our_ref,p8_0.id,case when p8_1.id is not null then 1 when p8_2.id is not null then 2 when p8_3.id is not null then 3 when p8_4.id is not null then 4 when p8_0.id is not null then 0 end,b5_0.business_type_id,b5_0.cchidentifier,b5_0.enabled,b5_0.name,b5_0.task_id,c7_0.id,c7_1.business_type_id,c7_1.created_by_id,c7_1.address1,c7_1.address2,c7_1.address3,c7_1.contactid,c7_1.contact_last_modified,c7_1.contact_type_id,c7_1.country,c7_1.county,c7_1.date_created,c7_1.email,c7_1.fax,c7_1.first_name,c7_1.last_name,c7_1.mailing_name,c7_1.mobile,c7_1.new_message,c7_1.post_code,c7_1.sex,c7_1.tel,c7_1.town,c7_1.id,c7_1.zid,c7_0.audit_user_name,c7_0.birth_place,c7_0.cds_code,c7_0.charge_rates_note,c7_0.cost_per_hour,c7_0.date_of_birth,c7_0.employee_code,c7_0.expense_processing_category_id,c7_0.extension,c7_0.f_name_temp,c7_0.gender,c7_0.initial_department_id,c7_0.new_activity_on_assigned_forms,c7_0.person_id,c7_0.personal_notes,c7_0.pin,c7_0.pref_temp,c7_0.row_guid,c7_0.s_name_temp,c7_0.security_group_id,c7_0.sort_code,c7_0.system_done_id,c7_0.tab_text_length,c7_0.time_processing_category_id,c7_0.time_unit_id,c7_0.user_name,p8_0.address1,p8_0.address2,p8_0.address3,p8_0.contactid,p8_0.contact_last_modified,c10_0.contact_type_id,c10_0.contact_type,c10_0.contact_entity_type_id,p8_0.country,p8_0.county,p8_0.date_created,p8_0.email,p8_0.fax,p8_0.first_name,p8_0.last_name,p8_0.mailing_name,p8_0.mobile,p8_0.new_message,p8_0.post_code,p8_0.sex,p8_0.tel,p8_0.town,u3_0.id,u3_0.account_enabled,u3_0.account_non_locked,u3_0.num_of_failed_attempts,u3_0.password,u3_0.password_reset,u3_0.roles_changed,u3_0.username,p8_0.zid,p8_1.affiliate_id,p8_1.id,p8_1.approved_by,p8_1.birth_place,p8_1.business_type_id,p8_1.cdscode,p8_1.cease_trading_date,p8_1.checked_out_by_employee_id,p8_1.checked_out_date,p8_1.contact_closed,p8_1.contact_closed_reason_id,p8_1.contact_num,p8_1.contact_typeid,p8_1.current_mailshot,p8_1.date_of_birth,p8_1.date_of_death,p8_1.department_id,p8_1.draft,p8_1.external_use,p8_1.gdprdelete_in_progress,p8_1.gdprdeletion_date,p8_1.hmrcr40,p8_1.incorporation_date,p8_1.initials,p8_1.lnamefname,p8_1.master_mailshot,p8_1.mname,p8_1.ninumber,p8_1.notes,p8_1.office_id,p8_1.our_ref,p8_1.photo,p8_1.ppsn,p8_1.pref,p8_1.resp_notes,p8_1.restricted_client_team_access,p8_1.row_guid,p8_1.salutation,p8_1.suff,p8_1.utr,p8_2.approved_by,p8_2.id,p8_2.birth_place,p8_2.business_type_id,p8_2.cdscode,p8_2.cease_trading_date,p8_2.checked_out_by_employee_id,p8_2.checked_out_date,p8_2.company_id,p8_2.contact_closed,p8_2.contact_closed_reason_id,p8_2.contact_num,p8_2.date_of_birth,p8_2.date_of_death,p8_2.department_id,p8_2.email,p8_2.external_use,p8_2.gdprdeletion_date,p8_2.hmrcr40,p8_2.incorporation_date,p8_2.initials,p8_2.lnamefname,p8_2.mname,p8_2.ninumber,p8_2.notes,p8_2.office_id,p8_2.our_ref,p8_2.person_id,p8_2.photo,p8_2.ppsn,p8_2.pref,p8_2.resp_notes,p8_2.row_guid,p8_2.salutation,p8_2.suff,p8_2.utr,p8_3.client_id,p8_3.incorporation_date,a3_0.account_status_id,a3_0.account_status_desc,a3_0.account_status_typeid,p8_3.approval_emp_id,a4_0.id,a4_1.business_type_id,a4_1.created_by_id,a4_1.address1,a4_1.address2,a4_1.address3,a4_1.contactid,a4_1.contact_last_modified,a4_1.contact_type_id,a4_1.country,a4_1.county,a4_1.date_created,a4_1.email,a4_1.fax,a4_1.first_name,a4_1.last_name,a4_1.mailing_name,a4_1.mobile,a4_1.new_message,a4_1.post_code,a4_1.sex,a4_1.tel,a4_1.town,a4_1.id,a4_1.zid,a4_0.audit_user_name,a4_0.birth_place,a4_0.cds_code,a4_0.charge_rates_note,a4_0.cost_per_hour,a4_0.date_of_birth,a4_0.employee_code,a4_0.expense_processing_category_id,a4_0.extension,a4_0.f_name_temp,a4_0.gender,a4_0.initial_department_id,a4_0.new_activity_on_assigned_forms,a4_0.person_id,a4_0.personal_notes,a4_0.pin,a4_0.pref_temp,a4_0.row_guid,a4_0.s_name_temp,a4_0.security_group_id,a4_0.sort_code,a4_0.system_done_id,a4_0.tab_text_length,a\nCaused by: java.sql.SQLException: Too many tables; MySQL can only use 61 tables in a join\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    ... 135 common frames omitted\n</code></pre>\n<p>The maximum heap memory is set to 4096m and the minimum heap memory is set to 3072m <a href=\"https://i.stack.imgur.com/X1BhL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1BhL.png\" alt=\"Java heap\" /></a>, when using MSSQL the used heap memory reaches the maximum and throws the following exception:</p>\n<pre><code>Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;JFR Periodic Tasks&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;RMI TCP Connection(idle)&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;JMX server connection timeout 72&quot;\nException in thread &quot;mysql-cj-abandoned-connection-cleanup&quot; Exception in thread &quot;RMI TCP Connection(idle)&quot; java.lang.OutOfMemoryError: Java heap space\njava.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p><strong>I have no issues running this application with MSSQL on spring-boot version 2.7, Java 11, and spring-security 5</strong></p>\n"},{"tags":["java","spring","spring-boot","junit"],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695843096,"creation_date":1695843096,"question_id":77190389,"body_markdown":"I am using `org.springframework.test.web.client.MockRestServiceServer` to verify whether my client is working.\r\n\r\nIn the test I do the following:\r\n\r\n```\r\n            MockRestServiceServer mockRestServiceServer = MockRestServiceServer.bindTo(restTemplate).build();\r\n\r\n            mockRestServiceServer\r\n                    .expect(requestTo(basePath + &quot;/processdataset&quot;))\r\n                    .andExpect(method(org.springframework.http.HttpMethod.POST))\r\n                    .andExpect(content().contentTypeCompatibleWith(MediaType.MULTIPART_FORM_DATA))\r\n                    .andExpect(content().string(containsString(&quot;form-data; name=\\&quot;rulesetFile\\&quot;; filename=\\&quot;&quot; + rulesetName + &quot;.yml\\&quot;&quot;)))\r\n                    .andExpect(content().string(containsString(&quot;form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot; + fileNameForInputData + &quot;\\&quot;&quot;)))\r\n                    .andExpect(content().string(containsString(expectedBody)))\r\n                    .andExpect(content().string(containsString(expectedRulesetBody)))\r\n                    .andRespond(withSuccess(expectedOutput, org.springframework.http.MediaType.APPLICATION_OCTET_STREAM))\r\n            ;\r\n\r\n            api.processDatasetFileToFile(rulesetFile, inputDataFile, new File(&quot;src/test/resources/testdatafiles/&quot; + fileName + extension));\r\n\r\n            mockRestServiceServer.verify();\r\n\r\n            mockRestServiceServer.reset();\r\n```\r\n\r\nThe test works fine if I run it a single time. \r\n\r\nIf I however anotate my unit test with `@RepeatedTest(5000)`, the test starts failing randomly.\r\n\r\nIt seems like not all the expectations are added to the mockRestServiceServer. When I run the test it says it only expects &#39;a string containing&#39; the `expectedbody`(see the example above). However, since the request contains the expectedbody, the expectedRulesetBody, the necessary file name, etc (as it should), the test fails.\r\n\r\nAgain, most of the test work but about 1/8 unit test fail.\r\n\r\nThx in advance!","title":"springframework MockRestServiceServer fails in repetation","body":"<p>I am using <code>org.springframework.test.web.client.MockRestServiceServer</code> to verify whether my client is working.</p>\n<p>In the test I do the following:</p>\n<pre><code>            MockRestServiceServer mockRestServiceServer = MockRestServiceServer.bindTo(restTemplate).build();\n\n            mockRestServiceServer\n                    .expect(requestTo(basePath + &quot;/processdataset&quot;))\n                    .andExpect(method(org.springframework.http.HttpMethod.POST))\n                    .andExpect(content().contentTypeCompatibleWith(MediaType.MULTIPART_FORM_DATA))\n                    .andExpect(content().string(containsString(&quot;form-data; name=\\&quot;rulesetFile\\&quot;; filename=\\&quot;&quot; + rulesetName + &quot;.yml\\&quot;&quot;)))\n                    .andExpect(content().string(containsString(&quot;form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot; + fileNameForInputData + &quot;\\&quot;&quot;)))\n                    .andExpect(content().string(containsString(expectedBody)))\n                    .andExpect(content().string(containsString(expectedRulesetBody)))\n                    .andRespond(withSuccess(expectedOutput, org.springframework.http.MediaType.APPLICATION_OCTET_STREAM))\n            ;\n\n            api.processDatasetFileToFile(rulesetFile, inputDataFile, new File(&quot;src/test/resources/testdatafiles/&quot; + fileName + extension));\n\n            mockRestServiceServer.verify();\n\n            mockRestServiceServer.reset();\n</code></pre>\n<p>The test works fine if I run it a single time.</p>\n<p>If I however anotate my unit test with <code>@RepeatedTest(5000)</code>, the test starts failing randomly.</p>\n<p>It seems like not all the expectations are added to the mockRestServiceServer. When I run the test it says it only expects 'a string containing' the <code>expectedbody</code>(see the example above). However, since the request contains the expectedbody, the expectedRulesetBody, the necessary file name, etc (as it should), the test fails.</p>\n<p>Again, most of the test work but about 1/8 unit test fail.</p>\n<p>Thx in advance!</p>\n"},{"tags":["java","junit","mockito","mockmvc"],"comments":[{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":0,"creation_date":1695830232,"post_id":77188983,"comment_id":136077330,"body_markdown":"you can use Mockito doAnswer and then continue your mocking.","body":"you can use Mockito doAnswer and then continue your mocking."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695842361,"creation_date":1695842361,"answer_id":77190322,"question_id":77188983,"body_markdown":"I&#39;m not saying that this is recommended nor that it&#39;s a good idea, but in this simple case, you can instruct Mockito to have every method [recursively return another mock object](https://site.mockito.org/javadoc/current/org/mockito/Answers.html#RETURNS_DEEP_STUBS):\r\n\r\n```\r\n@MockBean(answer = Answers.RETURNS_DEEP_STUBS)\r\nSomeService someService;\r\n```\r\n\r\nFrom the [documentation](https://site.mockito.org/javadoc/current/org/mockito/Mockito.html#RETURNS_DEEP_STUBS):\r\n\r\n&gt; **WARNING**: This feature should rarely be required for regular clean code! Leave it for legacy code. Mocking a mock to return a mock, to return a mock, (...), to return something meaningful hints at violation of Law of Demeter or mocking a value object (a well known anti-pattern). ","title":"How to mock chain of calls someService.method1().method2()","body":"<p>I'm not saying that this is recommended nor that it's a good idea, but in this simple case, you can instruct Mockito to have every method <a href=\"https://site.mockito.org/javadoc/current/org/mockito/Answers.html#RETURNS_DEEP_STUBS\" rel=\"nofollow noreferrer\">recursively return another mock object</a>:</p>\n<pre><code>@MockBean(answer = Answers.RETURNS_DEEP_STUBS)\nSomeService someService;\n</code></pre>\n<p>From the <a href=\"https://site.mockito.org/javadoc/current/org/mockito/Mockito.html#RETURNS_DEEP_STUBS\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>WARNING</strong>: This feature should rarely be required for regular clean code! Leave it for legacy code. Mocking a mock to return a mock, to return a mock, (...), to return something meaningful hints at violation of Law of Demeter or mocking a value object (a well known anti-pattern).</p>\n</blockquote>\n"}],"owner":{"account_id":3464846,"reputation":1474,"user_id":2900725,"accept_rate":42,"display_name":"zond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77190322,"answer_count":1,"score":0,"last_activity_date":1695842361,"creation_date":1695829201,"question_id":77188983,"body_markdown":"for example I have a class\r\n\r\n    class MyClass {\r\n    @Autowired\r\n    SomeService someService;\r\n\r\n    @RequestMapping(&quot;/somepath&quot;)\r\n    public Object myMethod(){\r\n      someService.method1().method2();\r\n      //method2 is void\r\n    ...\r\n    }\r\n\r\nand MvcTest\r\n\r\n    @AutoConfigureMockMvc\r\n    class MyClassTest{\r\n    @MockBean\r\n    SomeService someService;\r\n\r\n    @Test\r\n    void test1(){\r\n    //how should be mocked this methods?\r\n    doNothing().when(someService.method1().method2()) //??\r\n    final MvcResult result = mockMvc.perform(get(String.format(&quot;/somepath&quot;)))\r\n\t\t\t.andExpect(status().isOk())\r\n\t\t\t.andReturn();\r\n    }\r\n    }\r\n    }\r\n\r\nMy question is: how correctly should be mocked this &quot;chain&quot; of methods?","title":"How to mock chain of calls someService.method1().method2()","body":"<p>for example I have a class</p>\n<pre><code>class MyClass {\n@Autowired\nSomeService someService;\n\n@RequestMapping(&quot;/somepath&quot;)\npublic Object myMethod(){\n  someService.method1().method2();\n  //method2 is void\n...\n}\n</code></pre>\n<p>and MvcTest</p>\n<pre><code>@AutoConfigureMockMvc\nclass MyClassTest{\n@MockBean\nSomeService someService;\n\n@Test\nvoid test1(){\n//how should be mocked this methods?\ndoNothing().when(someService.method1().method2()) //??\nfinal MvcResult result = mockMvc.perform(get(String.format(&quot;/somepath&quot;)))\n        .andExpect(status().isOk())\n        .andReturn();\n}\n}\n}\n</code></pre>\n<p>My question is: how correctly should be mocked this &quot;chain&quot; of methods?</p>\n"},{"tags":["java","kotlin","subclass","abstract","inner-classes"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695828283,"post_id":77188716,"comment_id":136076896,"body_markdown":"You can&#39;t do this in the way you want.  It will take more complex generics, like having `&lt;N: Node&lt;E&gt;&gt;` and the like.","body":"You can&#39;t do this in the way you want.  It will take more complex generics, like having <code>&lt;N: Node&lt;E&gt;&gt;</code> and the like."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1695828501,"post_id":77188716,"comment_id":136076934,"body_markdown":"The Node inner class as designed doesn&#39;t look like it needs to be marked `inner` since it&#39;s not accessing any outer class members.","body":"The Node inner class as designed doesn&#39;t look like it needs to be marked <code>inner</code> since it&#39;s not accessing any outer class members."}],"answers":[{"comments":[{"owner":{"account_id":29548301,"reputation":13,"user_id":22645547,"display_name":"Luke Abruzese"},"score":0,"creation_date":1695905783,"post_id":77190270,"comment_id":136088117,"body_markdown":"If inner is needed, can we just remove the type parameters from Node and use the parameters given to BinaryTree for Node since it can now access them. For example would you then specify BinaryTree&lt;N,E&gt;.Node to use a typed node in a subclass? Does using the types from the outer class have drawbacks for subclasses? Obviously then all nodes in a tree are of the same type but that&#39;s okay because they have to be comparable anyway.","body":"If inner is needed, can we just remove the type parameters from Node and use the parameters given to BinaryTree for Node since it can now access them. For example would you then specify BinaryTree&lt;N,E&gt;.Node to use a typed node in a subclass? Does using the types from the outer class have drawbacks for subclasses? Obviously then all nodes in a tree are of the same type but that&#39;s okay because they have to be comparable anyway."}],"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695842241,"creation_date":1695841822,"answer_id":77190270,"question_id":77188716,"body_markdown":"This is not really a limitation of Java or Kotlin. This case is tricky even conceptually. Let&#39;s think about it for a while.\r\n\r\nWe have a common &quot;family&quot; of objects. Then we have a more specialized family which accepts working with their own family only. `RBTree` doesn&#39;t accept working with just any `Node`, it requires `RBNode` specifically, for example in `addNode()`. That means `RBTree` effectively **is not** a subtype of `BinaryTree`, because it can&#39;t be used as a `BinaryTree`.\r\n\r\nThere are multiple ways to tackle this problem, depending on our specific case.\r\n\r\nIf we construct the whole graph initially and then we only work with it, but we don&#39;t mutate it anymore, then we can separate read-only and mutable interfaces. Only this initial code for constructing the graph will have to make sure `RBTree` correctly got `RBNode`. Then `RBTree` can be safely treated as a read-only `BinaryTree` and depending if we use `RBTree` or `BinaryTree`, we see nodes as either `RBNode` or `Node`.\r\n\r\nAnother approach, very specific to some cases is to adapt `Node` to be the `RBNode`. In this solution `RBTree` allows to add regular `Node` objects to it, but it wraps them in its own classes and when asked back, it returns a wrapped `RBNode`. This approach also allows `RBTree` to be a subtype of the `BinaryTree`.\r\n\r\nThird solution is to parameterize the tree by its node type. We have to introduce `N : Node&lt;N, E&gt;` in multiple places around the code:\r\n\r\n```kotlin\r\nclass RBTree&lt;E : Comparable&lt;E&gt;&gt; : BinaryTree&lt;RBNode&lt;E&gt;, E&gt;(){\r\n    override val rootNode: RBNode&lt;E&gt; = TODO()\r\n\r\n    override fun addNode(node: RBNode&lt;E&gt;) {\r\n        TODO()\r\n    }\r\n    override fun removeNode(): RBNode&lt;E&gt; {\r\n        TODO()\r\n    }\r\n\r\n    class RBNode&lt;E : Comparable&lt;E&gt;&gt;(data: E, var color: NodeColor, var parent: RBNode&lt;E&gt;?, left: RBNode&lt;E&gt;? = null, right: RBNode&lt;E&gt;? = null)\r\n        : Node&lt;RBNode&lt;E&gt;, E&gt;(data, left, right){\r\n        fun switchColor() : NodeColor{\r\n            color = when (color) {\r\n                NodeColor.RED -&gt; NodeColor.BLACK\r\n                else -&gt; NodeColor.RED\r\n            }\r\n            return color\r\n        }\r\n    }\r\n}\r\n\r\nabstract class BinaryTree&lt;N : Node&lt;N, E&gt;, E : Comparable&lt;E&gt;&gt;() {\r\n\r\n    abstract val rootNode: N\r\n\r\n    abstract fun addNode(node : N)\r\n\r\n    abstract fun removeNode() : N\r\n\r\n    abstract class Node&lt;N : Node&lt;N, E&gt;, E : Comparable&lt;E&gt;&gt;(\r\n        private val data: E,\r\n        private val left: N? = null,\r\n        private val right: N? = null) : Comparable&lt;N&gt; {\r\n\r\n        fun isLeaf(): Boolean{\r\n            return (left == null &amp;&amp; right == null)\r\n        }\r\n        override fun compareTo(other: N): Int {\r\n            return data.compareTo(other.data)\r\n        }\r\n    }\r\n}\r\n```\r\nThis way we ensure `RBTree` works with `RBNode` only. Please note `RBTree` is no longer a subtype of `BinaryTree&lt;Node&gt;`. Instead, it is a subtype of `BinaryTree&lt;RBNode&gt;`.\r\n\r\nI removed `inner` from nodes as it seems this is not needed. If this is in fact required, then the case is a little more complicated, because nodes are implicitly typed by the tree as well.","title":"How to override an abstract inner class of an abstract class in their subclasses (kotlin or java)","body":"<p>This is not really a limitation of Java or Kotlin. This case is tricky even conceptually. Let's think about it for a while.</p>\n<p>We have a common &quot;family&quot; of objects. Then we have a more specialized family which accepts working with their own family only. <code>RBTree</code> doesn't accept working with just any <code>Node</code>, it requires <code>RBNode</code> specifically, for example in <code>addNode()</code>. That means <code>RBTree</code> effectively <strong>is not</strong> a subtype of <code>BinaryTree</code>, because it can't be used as a <code>BinaryTree</code>.</p>\n<p>There are multiple ways to tackle this problem, depending on our specific case.</p>\n<p>If we construct the whole graph initially and then we only work with it, but we don't mutate it anymore, then we can separate read-only and mutable interfaces. Only this initial code for constructing the graph will have to make sure <code>RBTree</code> correctly got <code>RBNode</code>. Then <code>RBTree</code> can be safely treated as a read-only <code>BinaryTree</code> and depending if we use <code>RBTree</code> or <code>BinaryTree</code>, we see nodes as either <code>RBNode</code> or <code>Node</code>.</p>\n<p>Another approach, very specific to some cases is to adapt <code>Node</code> to be the <code>RBNode</code>. In this solution <code>RBTree</code> allows to add regular <code>Node</code> objects to it, but it wraps them in its own classes and when asked back, it returns a wrapped <code>RBNode</code>. This approach also allows <code>RBTree</code> to be a subtype of the <code>BinaryTree</code>.</p>\n<p>Third solution is to parameterize the tree by its node type. We have to introduce <code>N : Node&lt;N, E&gt;</code> in multiple places around the code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class RBTree&lt;E : Comparable&lt;E&gt;&gt; : BinaryTree&lt;RBNode&lt;E&gt;, E&gt;(){\n    override val rootNode: RBNode&lt;E&gt; = TODO()\n\n    override fun addNode(node: RBNode&lt;E&gt;) {\n        TODO()\n    }\n    override fun removeNode(): RBNode&lt;E&gt; {\n        TODO()\n    }\n\n    class RBNode&lt;E : Comparable&lt;E&gt;&gt;(data: E, var color: NodeColor, var parent: RBNode&lt;E&gt;?, left: RBNode&lt;E&gt;? = null, right: RBNode&lt;E&gt;? = null)\n        : Node&lt;RBNode&lt;E&gt;, E&gt;(data, left, right){\n        fun switchColor() : NodeColor{\n            color = when (color) {\n                NodeColor.RED -&gt; NodeColor.BLACK\n                else -&gt; NodeColor.RED\n            }\n            return color\n        }\n    }\n}\n\nabstract class BinaryTree&lt;N : Node&lt;N, E&gt;, E : Comparable&lt;E&gt;&gt;() {\n\n    abstract val rootNode: N\n\n    abstract fun addNode(node : N)\n\n    abstract fun removeNode() : N\n\n    abstract class Node&lt;N : Node&lt;N, E&gt;, E : Comparable&lt;E&gt;&gt;(\n        private val data: E,\n        private val left: N? = null,\n        private val right: N? = null) : Comparable&lt;N&gt; {\n\n        fun isLeaf(): Boolean{\n            return (left == null &amp;&amp; right == null)\n        }\n        override fun compareTo(other: N): Int {\n            return data.compareTo(other.data)\n        }\n    }\n}\n</code></pre>\n<p>This way we ensure <code>RBTree</code> works with <code>RBNode</code> only. Please note <code>RBTree</code> is no longer a subtype of <code>BinaryTree&lt;Node&gt;</code>. Instead, it is a subtype of <code>BinaryTree&lt;RBNode&gt;</code>.</p>\n<p>I removed <code>inner</code> from nodes as it seems this is not needed. If this is in fact required, then the case is a little more complicated, because nodes are implicitly typed by the tree as well.</p>\n"}],"owner":{"account_id":29548301,"reputation":13,"user_id":22645547,"display_name":"Luke Abruzese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77190270,"answer_count":1,"score":0,"last_activity_date":1695842241,"creation_date":1695827134,"question_id":77188716,"body_markdown":"So basically I have a abstract class representing a BinaryTree below. I want to create a subclass called RBTree which will take advantage of all the abstraction in BinaryTree including the ability to modify the inner Node class to take on a color and parent property.\r\n\r\nHowever I can&#39;t figure out how Kotlin or Java do this if they can even at all.\r\n\r\nThe closest I&#39;m able to come is creating a new class that&#39;s a subclass of Node which ruins a lot of the other abstraction in BinaryTree since we have to use different Node objects. Trying to just redefine Node just doesn&#39;t work. If you know how to do it in java that would work too.\r\n\r\n```\r\nclass RBTree&lt;E : Comparable&lt;E&gt;&gt; : BinaryTree&lt;E&gt;(){\r\n    override val rootNode: RBNode&lt;E&gt; = TODO()\r\n\r\n    override fun addNode(node: Node&lt;E&gt;) { //since we have a new class RBNode this doesn&#39;t work\r\n        TODO()\r\n    }\r\n    override fun removeNode(): Node&lt;E&gt; { //same problem\r\n        TODO()\r\n    }\r\n\r\n    inner class RBNode&lt;E&gt;(data: E, var color: NodeColor, var parent: RBNode&lt;E&gt;?, left: RBNode&lt;E&gt;? = null, right: RBNode&lt;E&gt;? = null) : Node&lt;E&gt;(data, left, right){\r\n        fun switchColor() : NodeColor{\r\n            color = when (color) {\r\n                NodeColor.RED -&gt; NodeColor.BLACK\r\n                else -&gt; NodeColor.RED\r\n            }\r\n            return color\r\n        }\r\n    }\r\n\r\n}\r\n\r\nenum class NodeColor {\r\n    RED,\r\n    BLACK\r\n}\r\n```\r\n\r\n```\r\nabstract class BinaryTree&lt;E : Comparable&lt;E&gt;&gt;() {\r\n\r\n    abstract val rootNode: Node&lt;E&gt;\r\n\r\n    abstract fun addNode(node : Node&lt;E&gt;)\r\n\r\n    abstract fun removeNode() : Node&lt;E&gt;\r\n\r\n    abstract inner class Node&lt;E : Comparable&lt;E&gt;&gt;(\r\n        private val data: E,\r\n        private val left: Node&lt;E&gt;? = null,\r\n        private val right: Node&lt;E&gt;? = null) : Comparable&lt;Node&lt;E&gt;&gt; {\r\n\r\n        fun isLeaf(): Boolean{\r\n            return (left == null &amp;&amp; right == null)\r\n        }\r\n        override fun compareTo(other: Node&lt;E&gt;): Int {\r\n            return data.compareTo(other.data)\r\n        }\r\n    }\r\n}\r\n```","title":"How to override an abstract inner class of an abstract class in their subclasses (kotlin or java)","body":"<p>So basically I have a abstract class representing a BinaryTree below. I want to create a subclass called RBTree which will take advantage of all the abstraction in BinaryTree including the ability to modify the inner Node class to take on a color and parent property.</p>\n<p>However I can't figure out how Kotlin or Java do this if they can even at all.</p>\n<p>The closest I'm able to come is creating a new class that's a subclass of Node which ruins a lot of the other abstraction in BinaryTree since we have to use different Node objects. Trying to just redefine Node just doesn't work. If you know how to do it in java that would work too.</p>\n<pre><code>class RBTree&lt;E : Comparable&lt;E&gt;&gt; : BinaryTree&lt;E&gt;(){\n    override val rootNode: RBNode&lt;E&gt; = TODO()\n\n    override fun addNode(node: Node&lt;E&gt;) { //since we have a new class RBNode this doesn't work\n        TODO()\n    }\n    override fun removeNode(): Node&lt;E&gt; { //same problem\n        TODO()\n    }\n\n    inner class RBNode&lt;E&gt;(data: E, var color: NodeColor, var parent: RBNode&lt;E&gt;?, left: RBNode&lt;E&gt;? = null, right: RBNode&lt;E&gt;? = null) : Node&lt;E&gt;(data, left, right){\n        fun switchColor() : NodeColor{\n            color = when (color) {\n                NodeColor.RED -&gt; NodeColor.BLACK\n                else -&gt; NodeColor.RED\n            }\n            return color\n        }\n    }\n\n}\n\nenum class NodeColor {\n    RED,\n    BLACK\n}\n</code></pre>\n<pre><code>abstract class BinaryTree&lt;E : Comparable&lt;E&gt;&gt;() {\n\n    abstract val rootNode: Node&lt;E&gt;\n\n    abstract fun addNode(node : Node&lt;E&gt;)\n\n    abstract fun removeNode() : Node&lt;E&gt;\n\n    abstract inner class Node&lt;E : Comparable&lt;E&gt;&gt;(\n        private val data: E,\n        private val left: Node&lt;E&gt;? = null,\n        private val right: Node&lt;E&gt;? = null) : Comparable&lt;Node&lt;E&gt;&gt; {\n\n        fun isLeaf(): Boolean{\n            return (left == null &amp;&amp; right == null)\n        }\n        override fun compareTo(other: Node&lt;E&gt;): Int {\n            return data.compareTo(other.data)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","http","error-handling"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695857152,"post_id":77190302,"comment_id":136081498,"body_markdown":"Maybe it sets a read timeout only, not a connect timeout.","body":"Maybe it sets a read timeout only, not a connect timeout."}],"owner":{"account_id":25337207,"reputation":190,"user_id":19156156,"display_name":"Eric Olsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695842096,"creation_date":1695842096,"question_id":77190302,"body_markdown":"# Some Preamble\r\nI&#39;m writing a program that sends requests out to a webserver that is hosted on a device, if the device has a USB plugged into it then a webpage exists under the `/USB` endpoint and i can read the contents of the USB. From my testing there are 3 states that the device can be in\r\n\r\n 1. Webserver did not boot up (java.net.ConnectException)\r\n 2. USB not plugged into Device (404 Not Found)\r\n 3. USB Exists and is readable (200 Success)\r\n# The Problem\r\nIve written some code such that i can loop through hundreds of devices on multiple threads and check for their USB and Webserver states (see the 3 states above) however I am noticing that my program will get hung up on some of the HTTP Requests shown below is how i am making the `HTTP` request to  the endpoint\r\n\r\n```java\r\nInetAddress Address = InetAddress.getByAddress(ipAddr);\r\nHttpRequest req = HttpRequest.newBuilder()\r\n                .header(&quot;Authorization&quot;, &quot;Basic REDACTED&quot;)\r\n                .uri(new URI(&quot;http://&quot;+Address.getHostAddress()+&quot;/usb/log/&quot;))\r\n                .timeout(Duration.ofMillis(5000))\r\n                .GET()\r\n                .build();\r\ntry{\r\n    HttpResponse&lt;String&gt; res = this.Http.send(req, HttpResponse.BodyHandlers.ofString());\r\n    System.out.println(res.statusCode());\r\n    if(res.statusCode()==200){\r\n        this.Usb=ConnectionState.NO_PROBLEM;\r\n        this.GetLatestDate(res);\r\n    }\r\n    if(res.statusCode()==404){this.Usb=ConnectionState.NO_DEVICE;}\r\n}catch (HttpTimeoutException e){\r\n    System.out.println(e.getMessage());\r\n    System.out.println(&quot;Failed to Connect?&quot;);\r\n}catch (ConnectException e){\r\n   System.out.println(e.toString());\r\n   System.out.println(&quot;Webserver Did Not Boot Up&quot;);\r\n   this.Usb = ConnectionState.NO_DEVICE;\r\n}catch (Exception e){\r\n   System.out.println(this.HmiID + &quot; USB: &quot;  + e.toString());\r\n}\r\n```\r\nWhat you should notice is that I have `.timeout(Duration.ofMillis(5000))`. From what ive read this should cause the `HttpTimeoutException` to be thrown after5 secconds, however when so in theory each thread shouldn&#39;t run longer than lets say 10 seconds (accounting for other logic performed in the thread)\r\n\r\nWhy then do i have instances of threads running for 151 seconds, or even 482 seconds!?\r\n\r\nAm i misunderstanding how the `timeout` works fundamentally?","title":"Why does the HTTP request not throw an error after its set Timeout","body":"<h1>Some Preamble</h1>\n<p>I'm writing a program that sends requests out to a webserver that is hosted on a device, if the device has a USB plugged into it then a webpage exists under the <code>/USB</code> endpoint and i can read the contents of the USB. From my testing there are 3 states that the device can be in</p>\n<ol>\n<li>Webserver did not boot up (java.net.ConnectException)</li>\n<li>USB not plugged into Device (404 Not Found)</li>\n<li>USB Exists and is readable (200 Success)</li>\n</ol>\n<h1>The Problem</h1>\n<p>Ive written some code such that i can loop through hundreds of devices on multiple threads and check for their USB and Webserver states (see the 3 states above) however I am noticing that my program will get hung up on some of the HTTP Requests shown below is how i am making the <code>HTTP</code> request to  the endpoint</p>\n<pre class=\"lang-java prettyprint-override\"><code>InetAddress Address = InetAddress.getByAddress(ipAddr);\nHttpRequest req = HttpRequest.newBuilder()\n                .header(&quot;Authorization&quot;, &quot;Basic REDACTED&quot;)\n                .uri(new URI(&quot;http://&quot;+Address.getHostAddress()+&quot;/usb/log/&quot;))\n                .timeout(Duration.ofMillis(5000))\n                .GET()\n                .build();\ntry{\n    HttpResponse&lt;String&gt; res = this.Http.send(req, HttpResponse.BodyHandlers.ofString());\n    System.out.println(res.statusCode());\n    if(res.statusCode()==200){\n        this.Usb=ConnectionState.NO_PROBLEM;\n        this.GetLatestDate(res);\n    }\n    if(res.statusCode()==404){this.Usb=ConnectionState.NO_DEVICE;}\n}catch (HttpTimeoutException e){\n    System.out.println(e.getMessage());\n    System.out.println(&quot;Failed to Connect?&quot;);\n}catch (ConnectException e){\n   System.out.println(e.toString());\n   System.out.println(&quot;Webserver Did Not Boot Up&quot;);\n   this.Usb = ConnectionState.NO_DEVICE;\n}catch (Exception e){\n   System.out.println(this.HmiID + &quot; USB: &quot;  + e.toString());\n}\n</code></pre>\n<p>What you should notice is that I have <code>.timeout(Duration.ofMillis(5000))</code>. From what ive read this should cause the <code>HttpTimeoutException</code> to be thrown after5 secconds, however when so in theory each thread shouldn't run longer than lets say 10 seconds (accounting for other logic performed in the thread)</p>\n<p>Why then do i have instances of threads running for 151 seconds, or even 482 seconds!?</p>\n<p>Am i misunderstanding how the <code>timeout</code> works fundamentally?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695827618,"creation_date":1695827618,"answer_id":77188774,"question_id":77188406,"body_markdown":"You can specify -Dspring.config.name=application,bar,foo in jvm properties and config spring.profiles.active=demo in application.properties","title":"Properties overriding with profile in different .properties files than application.properties","body":"<p>You can specify -Dspring.config.name=application,bar,foo in jvm properties and config spring.profiles.active=demo in application.properties</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77188774,"answer_count":1,"score":1,"last_activity_date":1695841660,"creation_date":1695824770,"question_id":77188406,"body_markdown":"I have a bunch of `.properties` files. For example:\r\n```\r\napplication.properties\r\nfoo.properties\r\nbar.properties\r\n```\r\nThese are my default properties.\r\n\r\nI also have a profile `demo` and I&#39;d like it to use the above properties as well as override some of them in its own `.properties`.\r\n```\r\napplication-demo.properties\r\nfoo-demo.properties\r\nbar-demo.properties\r\n```\r\nSo let&#39;s say that `application.properties` looks like that:\r\n```\r\nsome.property=ABC\r\nsome.other.property=true\r\n```\r\nWhile `application-demo.properties` has the following content:\r\n```\r\nsome.other.property=false\r\n```\r\nThen, combining the default `application.properties` it results in such setting:\r\n```\r\nsome.property=ABC\r\nsome.other.property=false\r\n```\r\nThis seems to work. However, the analogous situation doesn&#39;t for other `.properties` files like `foo.properties`: the `foo-demo.properties` will not override `foo.properties` if there are properties specified. It&#39;s like it just isn&#39;t taken into account.\r\n\r\nHow can I change it without having to define separate profiles and just copy-pasting with changes in the desired places, and maintaing this structure?","title":"Properties overriding with profile in different .properties files than application.properties","body":"<p>I have a bunch of <code>.properties</code> files. For example:</p>\n<pre><code>application.properties\nfoo.properties\nbar.properties\n</code></pre>\n<p>These are my default properties.</p>\n<p>I also have a profile <code>demo</code> and I'd like it to use the above properties as well as override some of them in its own <code>.properties</code>.</p>\n<pre><code>application-demo.properties\nfoo-demo.properties\nbar-demo.properties\n</code></pre>\n<p>So let's say that <code>application.properties</code> looks like that:</p>\n<pre><code>some.property=ABC\nsome.other.property=true\n</code></pre>\n<p>While <code>application-demo.properties</code> has the following content:</p>\n<pre><code>some.other.property=false\n</code></pre>\n<p>Then, combining the default <code>application.properties</code> it results in such setting:</p>\n<pre><code>some.property=ABC\nsome.other.property=false\n</code></pre>\n<p>This seems to work. However, the analogous situation doesn't for other <code>.properties</code> files like <code>foo.properties</code>: the <code>foo-demo.properties</code> will not override <code>foo.properties</code> if there are properties specified. It's like it just isn't taken into account.</p>\n<p>How can I change it without having to define separate profiles and just copy-pasting with changes in the desired places, and maintaing this structure?</p>\n"},{"tags":["java","jtextfield","backspace","beep"],"comments":[{"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"score":0,"creation_date":1434101475,"post_id":13427174,"comment_id":49648040,"body_markdown":"For others experiencing this problem, I answered this here: http://stackoverflow.com/a/30799707/396747","body":"For others experiencing this problem, I answered this here: <a href=\"http://stackoverflow.com/a/30799707/396747\">stackoverflow.com/a/30799707/396747</a>"}],"answers":[{"tags":[],"owner":{"account_id":1997971,"reputation":5826,"user_id":1789724,"accept_rate":14,"display_name":"austin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353125172,"creation_date":1353123913,"answer_id":13427479,"question_id":13427174,"body_markdown":"**Edit:** I put another answer later that probably is easier to do.  I would read that one first.\r\n\r\nYou could try to override the JTextField&#39;s [processKeyEvent][1] method and check if 1.) the key pressed is the backspace key and 2.) the JTextField is empty.  If either of those are false, then it should behave as normal.  Otherwise, you can just return from the method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#processKeyEvent%28java.awt.event.KeyEvent%29 &quot;processKeyEvent&quot;","title":"Disable beep when backspace is pressed in an empty JTextField","body":"<p><strong>Edit:</strong> I put another answer later that probably is easier to do.  I would read that one first.</p>\n\n<p>You could try to override the JTextField's <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/JComponent.html#processKeyEvent%28java.awt.event.KeyEvent%29\" rel=\"nofollow\" title=\"processKeyEvent\">processKeyEvent</a> method and check if 1.) the key pressed is the backspace key and 2.) the JTextField is empty.  If either of those are false, then it should behave as normal.  Otherwise, you can just return from the method.</p>\n"},{"tags":[],"owner":{"account_id":1997971,"reputation":5826,"user_id":1789724,"accept_rate":14,"display_name":"austin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353125120,"creation_date":1353125120,"answer_id":13427565,"question_id":13427174,"body_markdown":"I haven&#39;t had a chance to try this out, but you might be able to disable the beep action.\r\n\r\n    JTextField field = new JTextField();\r\n    Action action;\r\n    a = field.getActionMap().get(DefaultEditorKit.beepAction);\r\n    a.setEnabled(false);","title":"Disable beep when backspace is pressed in an empty JTextField","body":"<p>I haven't had a chance to try this out, but you might be able to disable the beep action.</p>\n\n<pre><code>JTextField field = new JTextField();\nAction action;\na = field.getActionMap().get(DefaultEditorKit.beepAction);\na.setEnabled(false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"score":1,"creation_date":1434100031,"post_id":28638420,"comment_id":49647211,"body_markdown":"Unfortunately this code has the side effect of preventing all backspace delete operations.","body":"Unfortunately this code has the side effect of preventing all backspace delete operations."},{"owner":{"account_id":1391020,"reputation":7060,"user_id":1321867,"accept_rate":100,"display_name":"Yevgen Yampolskiy"},"score":0,"creation_date":1477241974,"post_id":28638420,"comment_id":67675297,"body_markdown":"But you can do: \nAction beep = textArea.getActionMap().get(DefaultEditorKit.deletePrevCharAction);\ntextArea.getActionMap().put(DefaultEditorKit.deletePrevCharAction, new DelActionWrapper(textArea, beep));\nwhere DelActionWrapper implements Action, and delegates calls to beep action except for actionPeform when textArea is empty. Maybe there is an easier way","body":"But you can do:  Action beep = textArea.getActionMap().get(DefaultEditorKit.deletePrevCharA&zwnj;&#8203;ction); textArea.getActionMap().put(DefaultEditorKit.deletePrevCharA&zwnj;&#8203;ction, new DelActionWrapper(textArea, beep)); where DelActionWrapper implements Action, and delegates calls to beep action except for actionPeform when textArea is empty. Maybe there is an easier way"}],"tags":[],"owner":{"account_id":5821937,"reputation":31,"user_id":4589706,"display_name":"Daniel Hlad&#237;k"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424467283,"creation_date":1424467283,"answer_id":28638420,"question_id":13427174,"body_markdown":"This code worked for me.\r\n\r\n    Action beep = textArea.getActionMap().get(DefaultEditorKit.deletePrevCharAction);\r\n    beep.setEnabled(false);","title":"Disable beep when backspace is pressed in an empty JTextField","body":"<p>This code worked for me.</p>\n\n<pre><code>Action beep = textArea.getActionMap().get(DefaultEditorKit.deletePrevCharAction);\nbeep.setEnabled(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654938,"reputation":21,"user_id":5802225,"display_name":"Termenoil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695841372,"creation_date":1676750860,"answer_id":75496090,"question_id":13427174,"body_markdown":"This will remove the beep sound:\r\n\r\n```\r\nJTextField textField = new JTextField();\r\nAction deleteAction = textField.getActionMap().get(DefaultEditorKit.deletePrevCharAction);\r\ntextField.getActionMap().put( DefaultEditorKit.deletePrevCharAction, new DeleteActionWrapper(textField, deleteAction) );\r\n```\r\n```\r\npublic class DeleteActionWrapper extends AbstractAction{\r\n\t\r\n\tprivate JTextField textField;\r\n\tprivate Action action;\r\n\t\r\n\tpublic DeleteActionWrapper(JTextField textField, Action action){\r\n\t\t\r\n\t\tthis.textField = textField;\r\n\t\tthis.action = action;\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e){\r\n\t\t\r\n\t\tif(textField.getSelectionEnd() &gt; 0)\r\n\t\t\taction.actionPerformed(e);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n","title":"Disable beep when backspace is pressed in an empty JTextField","body":"<p>This will remove the beep sound:</p>\n<pre><code>JTextField textField = new JTextField();\nAction deleteAction = textField.getActionMap().get(DefaultEditorKit.deletePrevCharAction);\ntextField.getActionMap().put( DefaultEditorKit.deletePrevCharAction, new DeleteActionWrapper(textField, deleteAction) );\n</code></pre>\n<pre><code>public class DeleteActionWrapper extends AbstractAction{\n    \n    private JTextField textField;\n    private Action action;\n    \n    public DeleteActionWrapper(JTextField textField, Action action){\n        \n        this.textField = textField;\n        this.action = action;\n        \n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e){\n        \n        if(textField.getSelectionEnd() &gt; 0)\n            action.actionPerformed(e);\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"display_name":"user1282716"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1695841372,"creation_date":1353120484,"question_id":13427174,"body_markdown":"Beginner here. Does anybody know a quick and easy way to get a JTextField to not beep when backspace is pressed and the field is empty? I&#39;ve seen a couple things online about changing the DefaultEditorKit, but nothing I was able to make sense of. Any help would be greatly appreciated.","title":"Disable beep when backspace is pressed in an empty JTextField","body":"<p>Beginner here. Does anybody know a quick and easy way to get a JTextField to not beep when backspace is pressed and the field is empty? I've seen a couple things online about changing the DefaultEditorKit, but nothing I was able to make sense of. Any help would be greatly appreciated.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1559473324,"creation_date":1559472436,"answer_id":56414311,"question_id":56412868,"body_markdown":"You can remove dependencies after the plugin is applied, (from a single configuration, or to all configurations) using eg. `compile.exclude`. Note that `compile` resolves to a &quot;Configuration&quot;; see the javadocs at [Configuration.exclude][1] .\r\n\r\n**edit**\r\n\r\nBe aware that excluding dependecies could fail, if the configuration has already been *resolved*.\r\n\r\n---\r\nSample script\r\n\r\n    apply plugin: &#39;java-library&#39;\r\n\r\n    repositories {\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        compile &#39;junit:junit:4.12&#39;\r\n        compile &#39;ant:ant:1.6&#39;\r\n        compile &#39;org.apache.commons:commons-lang3:3.8&#39;\r\n    }\r\n\r\n    // remove dependencies\r\n    configurations.all {\r\n      exclude group:&#39;junit&#39;, module:&#39;junit&#39;\r\n    }\r\n    configurations.compile {\r\n      exclude group:&#39;org.apache.commons&#39;, module: &#39;commons-lang3&#39;\r\n    }\r\n\r\n    println &#39;compile deps:\\n&#39; + configurations.compile.asPath\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/Configuration.html#exclude-java.util.Map-","title":"Exclude transitive dependency of Gradle plugin","body":"<p>You can remove dependencies after the plugin is applied, (from a single configuration, or to all configurations) using eg. <code>compile.exclude</code>. Note that <code>compile</code> resolves to a \"Configuration\"; see the javadocs at <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/Configuration.html#exclude-java.util.Map-\" rel=\"noreferrer\">Configuration.exclude</a> .</p>\n\n<p><strong>edit</strong></p>\n\n<p>Be aware that excluding dependecies could fail, if the configuration has already been <em>resolved</em>.</p>\n\n<hr>\n\n<p>Sample script</p>\n\n<pre><code>apply plugin: 'java-library'\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile 'junit:junit:4.12'\n    compile 'ant:ant:1.6'\n    compile 'org.apache.commons:commons-lang3:3.8'\n}\n\n// remove dependencies\nconfigurations.all {\n  exclude group:'junit', module:'junit'\n}\nconfigurations.compile {\n  exclude group:'org.apache.commons', module: 'commons-lang3'\n}\n\nprintln 'compile deps:\\n' + configurations.compile.asPath\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1559566741,"creation_date":1559566741,"answer_id":56427922,"question_id":56412868,"body_markdown":"You can manipulate the classpath of the buildscript itself through:\r\n\r\n    buildscript {\r\n        configurations {\r\n            classpath {\r\n                exclude group: &#39;org&#39;, module: &#39;foo&#39; // For a global exclude\r\n            }\r\n        }\r\n        dependencies {\r\n            classpath(&#39;org:bar:1.0&#39;) {\r\n                exclude group: &#39;org&#39;, module: &#39;baz&#39; // For excluding baz from bar but not if brought elsewhere\r\n            }\r\n        }\r\n    }","title":"Exclude transitive dependency of Gradle plugin","body":"<p>You can manipulate the classpath of the buildscript itself through:</p>\n\n<pre><code>buildscript {\n    configurations {\n        classpath {\n            exclude group: 'org', module: 'foo' // For a global exclude\n        }\n    }\n    dependencies {\n        classpath('org:bar:1.0') {\n            exclude group: 'org', module: 'baz' // For excluding baz from bar but not if brought elsewhere\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8863858,"reputation":41,"user_id":6619559,"display_name":"bluecheese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650747711,"creation_date":1650747711,"answer_id":71983586,"question_id":56412868,"body_markdown":"Here is another way to enforce your project to strictly use a specific version for the build.gradle.kts\r\n\r\n```\r\nval grpcVersion = &quot;1.45.1&quot;\r\n\r\nimplementation(&quot;io.grpc:grpc-stub&quot;) {\r\n version {\r\n     strictly(grpcVersion)\r\n   }\r\n}\r\n\r\n```\r\n\r\nMore info can be found at the gradle documentation: https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html","title":"Exclude transitive dependency of Gradle plugin","body":"<p>Here is another way to enforce your project to strictly use a specific version for the build.gradle.kts</p>\n<pre><code>val grpcVersion = &quot;1.45.1&quot;\n\nimplementation(&quot;io.grpc:grpc-stub&quot;) {\n version {\n     strictly(grpcVersion)\n   }\n}\n\n</code></pre>\n<p>More info can be found at the gradle documentation: <a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html</a></p>\n"},{"tags":[],"owner":{"account_id":2257559,"reputation":853,"user_id":3498546,"display_name":"MG Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695841087,"creation_date":1695841087,"answer_id":77190200,"question_id":56412868,"body_markdown":"Gradle &gt;=5.x You can do the following way for either compileClasspath, runtimeClasspath, testCompileClasspath or testRuntimeClasspath. Depending on your use case. \r\n\r\n    configurations {\r\n        testRuntimeClasspath {\r\n            exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n        }\r\n    }\r\n\r\nYou can see how each hierarchy works fore more information https://docs.gradle.org/current/userguide/java_plugin.html#tab:configurations","title":"Exclude transitive dependency of Gradle plugin","body":"<p>Gradle &gt;=5.x You can do the following way for either compileClasspath, runtimeClasspath, testCompileClasspath or testRuntimeClasspath. Depending on your use case.</p>\n<pre><code>configurations {\n    testRuntimeClasspath {\n        exclude group: 'ch.qos.logback', module: 'logback-classic'\n    }\n}\n</code></pre>\n<p>You can see how each hierarchy works fore more information <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#tab:configurations\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_plugin.html#tab:configurations</a></p>\n"}],"owner":{"account_id":2233448,"reputation":1503,"user_id":1970487,"accept_rate":56,"display_name":"Cristina_eGold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16153,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":56427922,"answer_count":4,"score":12,"last_activity_date":1695841087,"creation_date":1559459063,"question_id":56412868,"body_markdown":"Excluding a transitive dependency in Gradle is pretty straightforward:\r\n\r\n    compile(&#39;com.example.m:m:1.0&#39;) {\r\n         exclude group: &#39;org.unwanted&#39;, module: &#39;x&#39;\r\n      }\r\n\r\nHow would we go around he situation in which we use a plugin:\r\n\r\n    apply: &quot;somePlugin&quot;\r\n\r\nAnd when getting the dependencies we realize that the plugin is bringing some transitive dependencies of its own?","title":"Exclude transitive dependency of Gradle plugin","body":"<p>Excluding a transitive dependency in Gradle is pretty straightforward:</p>\n\n<pre><code>compile('com.example.m:m:1.0') {\n     exclude group: 'org.unwanted', module: 'x'\n  }\n</code></pre>\n\n<p>How would we go around he situation in which we use a plugin:</p>\n\n<pre><code>apply: \"somePlugin\"\n</code></pre>\n\n<p>And when getting the dependencies we realize that the plugin is bringing some transitive dependencies of its own?</p>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695841068,"creation_date":1695841068,"answer_id":77190196,"question_id":77182711,"body_markdown":"In theory, any serializable value can be assigned to an annotated parameter. However, values would loose identity, such as your `new Object()`. It is however rarely recommended to do this, I would rather create a custom `StackManipulation` that creates the relevant values.\r\n\r\nIf applicable, you can also add a field to the instrumented class and define a fixed value as the field&#39;s value. This would preserve the identity, but alter the field.\r\n\r\nAs a last option, you can define a carrier class where you store the values in some map that is globally available. The you could create some random string like a UUID value. This key can serve as a lookup key in this map which you then use in your advice to resolve the actual value.","title":"Byte Buddy Advice Custom Object","body":"<p>In theory, any serializable value can be assigned to an annotated parameter. However, values would loose identity, such as your <code>new Object()</code>. It is however rarely recommended to do this, I would rather create a custom <code>StackManipulation</code> that creates the relevant values.</p>\n<p>If applicable, you can also add a field to the instrumented class and define a fixed value as the field's value. This would preserve the identity, but alter the field.</p>\n<p>As a last option, you can define a carrier class where you store the values in some map that is globally available. The you could create some random string like a UUID value. This key can serve as a lookup key in this map which you then use in your advice to resolve the actual value.</p>\n"}],"owner":{"account_id":3984238,"reputation":61,"user_id":3285337,"display_name":"chelayel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77190196,"answer_count":1,"score":1,"last_activity_date":1695841068,"creation_date":1695754271,"question_id":77182711,"body_markdown":"I&#39;m trying to use byte buddy and I appreciate your help for the below:\r\nGiven that I have the following class\r\n\r\n\r\n```java\r\npublic class MyAdvice {\r\n    private String param1;\r\n    private Object param2;\r\n\r\n    public MyAdvice(String param1, Object param2) {\r\n        this.param1 = param1;\r\n        this.param2 = param2;\r\n    }\r\n}\r\n```\r\n\r\nI want to pass this to my interceptor, is this possible?\r\nI&#39;ve read about binding the value to an annotation I think I am missing someting, as I was only able to make it work with String class\r\n```java\r\nMyAdvice[] myAdvice = new MyAdvice[1];\r\nmyAdvice[0] = new MyAdvice(&quot;123&quot;, new Object());\r\nbuilder.method(ElementMatchers.named(setterMethodName)\r\n       .and(ElementMatchers.takesArguments(1)))\r\n       .intercept(Advice.withCustomMapping()\r\n       .bind(Custom.class, myAdvice)\r\n       .to(SetterInterceptor.class))\r\n```\r\n      \r\n```java\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER)\r\npublic @interface Custom { }\r\n``` \r\n\r\n```java\r\npublic class SetterInterceptor {\r\n    public static void intercept(@Argument(0) Object value @Custom MyAdvice[] myAdvice) {\r\n        // custom code, do something with myAdvice\r\n    }\r\n}\r\n```\r\n\r\nIs something like this possible?\r\n\r\n```java\r\n@Custom MyAdvice[] myAdvice\r\n```","title":"Byte Buddy Advice Custom Object","body":"<p>I'm trying to use byte buddy and I appreciate your help for the below:\nGiven that I have the following class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAdvice {\n    private String param1;\n    private Object param2;\n\n    public MyAdvice(String param1, Object param2) {\n        this.param1 = param1;\n        this.param2 = param2;\n    }\n}\n</code></pre>\n<p>I want to pass this to my interceptor, is this possible?\nI've read about binding the value to an annotation I think I am missing someting, as I was only able to make it work with String class</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyAdvice[] myAdvice = new MyAdvice[1];\nmyAdvice[0] = new MyAdvice(&quot;123&quot;, new Object());\nbuilder.method(ElementMatchers.named(setterMethodName)\n       .and(ElementMatchers.takesArguments(1)))\n       .intercept(Advice.withCustomMapping()\n       .bind(Custom.class, myAdvice)\n       .to(SetterInterceptor.class))\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface Custom { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SetterInterceptor {\n    public static void intercept(@Argument(0) Object value @Custom MyAdvice[] myAdvice) {\n        // custom code, do something with myAdvice\n    }\n}\n</code></pre>\n<p>Is something like this possible?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Custom MyAdvice[] myAdvice\n</code></pre>\n"},{"tags":["java","multithreading","lambda"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695848236,"post_id":77189753,"comment_id":136080453,"body_markdown":"Take a look at Lombok&#39;s [SneakyThrows](https://projectlombok.org/features/SneakyThrows).","body":"Take a look at Lombok&#39;s <a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">SneakyThrows</a>."}],"answers":[{"tags":[],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695837907,"creation_date":1695837907,"answer_id":77189893,"question_id":77189753,"body_markdown":"I asked too soon and found a decent solution. Instead of using `Runnable` I&#39;m going to use `Callable`.\r\n\r\n    try {\r\n    \tList&lt;Callable&gt; callableList = List.of(\r\n    \t\t() -&gt; doSomething(),\r\n    \t\t() -&gt; doSomething(),\r\n    \t\t// ...\r\n    \t\t() -&gt; doSomething());\r\n    \r\n    \tcallablesList.parallelStream().forEach(callable -&gt; {\r\n    \t\ttry {\r\n    \t\t\tcallable.call();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e.getMessage());\r\n    \t\t}\r\n    \t});\r\n    } catch (Exception e) {\r\n    \tthrow new Exception(e.getMessage());\r\n    } \r\n\r\nThis allows me to not have lambdas within lambdas and it allows me to pass the `RuntimeException` to the top level (including the message) and then throw a checked `Exception`. \r\n\r\nOf course to note if one callable has an exception it doesn&#39;t stop the others because that code is in a parallel stream. If it was just a stream it would stop any further processing. \r\n","title":"How do I wrap a Runnable lambda that throws a checked Exception into one that throws a RuntimeException easily","body":"<p>I asked too soon and found a decent solution. Instead of using <code>Runnable</code> I'm going to use <code>Callable</code>.</p>\n<pre><code>try {\n    List&lt;Callable&gt; callableList = List.of(\n        () -&gt; doSomething(),\n        () -&gt; doSomething(),\n        // ...\n        () -&gt; doSomething());\n\n    callablesList.parallelStream().forEach(callable -&gt; {\n        try {\n            callable.call();\n        } catch (Exception e) {\n            throw new RuntimeException(e.getMessage());\n        }\n    });\n} catch (Exception e) {\n    throw new Exception(e.getMessage());\n} \n</code></pre>\n<p>This allows me to not have lambdas within lambdas and it allows me to pass the <code>RuntimeException</code> to the top level (including the message) and then throw a checked <code>Exception</code>.</p>\n<p>Of course to note if one callable has an exception it doesn't stop the others because that code is in a parallel stream. If it was just a stream it would stop any further processing.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695840766,"creation_date":1695840766,"answer_id":77190165,"question_id":77189753,"body_markdown":"I&#39;ve created two projects specific for `IOException` and `SQLException` (because those are the ones I encountered the most). However, I later found https://github.com/pivovarit/throwing-function. With just a single static import you could have done this:\r\n\r\n```\r\nList&lt;Runnable&gt; runnableList = List.of(\r\n        unchecked(() -&gt; doSomething()),\r\n        unchecked(() -&gt; doSomething()),\r\n        // ...\r\n        unchecked(() -&gt; doSomething())\r\n);\r\n```\r\nAny exception (including unchecked exceptions) are wrapped in instances of `CheckedException`, so to get those back you&#39;d need to catch this exception and retrieve its cause.","title":"How do I wrap a Runnable lambda that throws a checked Exception into one that throws a RuntimeException easily","body":"<p>I've created two projects specific for <code>IOException</code> and <code>SQLException</code> (because those are the ones I encountered the most). However, I later found <a href=\"https://github.com/pivovarit/throwing-function\" rel=\"nofollow noreferrer\">https://github.com/pivovarit/throwing-function</a>. With just a single static import you could have done this:</p>\n<pre><code>List&lt;Runnable&gt; runnableList = List.of(\n        unchecked(() -&gt; doSomething()),\n        unchecked(() -&gt; doSomething()),\n        // ...\n        unchecked(() -&gt; doSomething())\n);\n</code></pre>\n<p>Any exception (including unchecked exceptions) are wrapped in instances of <code>CheckedException</code>, so to get those back you'd need to catch this exception and retrieve its cause.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695840766,"creation_date":1695836526,"question_id":77189753,"body_markdown":"Specifically I have a list of `Runnable` lambdas that do something that can throw a checked `Exception` which in the code below will not work and give a compiler error. \r\n\r\nThe code below will compile and catch any `RuntimeException` thrown by the lambdas if `doSomething()` methods throw a `RuntimeException` but not a checked `Exception`. \r\n\r\n    public static void main(String[] args)\r\n    {\r\n        try {\r\n            List&lt;Runnable&gt; runnableList = List.of(\r\n                    () -&gt; doSomething(),\r\n                    () -&gt; doSomething(),\r\n                    // ...\r\n                    () -&gt; doSomething()\r\n            );\r\n    \r\n            runnableList.parallelStream().forEach(metric -&gt; metric.run());\r\n    \r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception occured&quot;);\r\n        }\r\n    }\r\n  \r\n    private static void doSomethingActual () throws Exception {\r\n        someActionThatCanThrowAnException();\r\n    }\r\n\r\nThe question I have is how do I easily wrap all the `doSomethingActual()` into some kind of `RuntimeException` with minimal code. In other words I want to write the code below without having to write that for each `doSomething()` method:\r\n\r\n    private static void doSomethingThatWorks() throws RuntimeException {\r\n        try {\r\n            doSomething();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Test exception here&quot;);\r\n        }\r\n    }\r\n\r\nIn other words I&#39;d like to somehow send the `Runnable` to a wrapper that does this for me. Something along the lines of:\r\n    \r\n    private static void doSomethingIdeal(Runnable runnable) throws RuntimeException {\r\n        try {\r\n            runnable.run();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Test exception here&quot;);\r\n        }\r\n    }\r\n\r\nBut that just seems like wrapper a `Runnable` within a `Runnable`. I suspect there is a better and more elegant solution but I can&#39;t quite seem to find it. Any help would be appreciated.","title":"How do I wrap a Runnable lambda that throws a checked Exception into one that throws a RuntimeException easily","body":"<p>Specifically I have a list of <code>Runnable</code> lambdas that do something that can throw a checked <code>Exception</code> which in the code below will not work and give a compiler error.</p>\n<p>The code below will compile and catch any <code>RuntimeException</code> thrown by the lambdas if <code>doSomething()</code> methods throw a <code>RuntimeException</code> but not a checked <code>Exception</code>.</p>\n<pre><code>public static void main(String[] args)\n{\n    try {\n        List&lt;Runnable&gt; runnableList = List.of(\n                () -&gt; doSomething(),\n                () -&gt; doSomething(),\n                // ...\n                () -&gt; doSomething()\n        );\n\n        runnableList.parallelStream().forEach(metric -&gt; metric.run());\n\n    } catch (Exception e) {\n        System.out.println(&quot;Exception occured&quot;);\n    }\n}\n\nprivate static void doSomethingActual () throws Exception {\n    someActionThatCanThrowAnException();\n}\n</code></pre>\n<p>The question I have is how do I easily wrap all the <code>doSomethingActual()</code> into some kind of <code>RuntimeException</code> with minimal code. In other words I want to write the code below without having to write that for each <code>doSomething()</code> method:</p>\n<pre><code>private static void doSomethingThatWorks() throws RuntimeException {\n    try {\n        doSomething();\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Test exception here&quot;);\n    }\n}\n</code></pre>\n<p>In other words I'd like to somehow send the <code>Runnable</code> to a wrapper that does this for me. Something along the lines of:</p>\n<pre><code>private static void doSomethingIdeal(Runnable runnable) throws RuntimeException {\n    try {\n        runnable.run();\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Test exception here&quot;);\n    }\n}\n</code></pre>\n<p>But that just seems like wrapper a <code>Runnable</code> within a <code>Runnable</code>. I suspect there is a better and more elegant solution but I can't quite seem to find it. Any help would be appreciated.</p>\n"},{"tags":["java","swing","input","jtextfield","hint"],"comments":[{"owner":{"account_id":43081,"reputation":4028,"user_id":125756,"accept_rate":77,"display_name":"Wienczny"},"score":0,"creation_date":1258325525,"post_id":1738966,"comment_id":1619752,"body_markdown":"I found a swing bug report about this at\nhttps://swingx.dev.java.net/issues/show_bug.cgi?id=306\nThanks for your help.","body":"I found a swing bug report about this at <a href=\"https://swingx.dev.java.net/issues/show_bug.cgi?id=306\" rel=\"nofollow noreferrer\">swingx.dev.java.net/issues/show_bug.cgi?id=306</a> Thanks for your help."},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1519659328,"post_id":1738966,"comment_id":84988698,"body_markdown":"2018 and no one-line solution.Smh","body":"2018 and no one-line solution.Smh"},{"owner":{"account_id":6589809,"reputation":485,"user_id":5091431,"accept_rate":33,"display_name":"Collin Alpert"},"score":0,"creation_date":1523201769,"post_id":1738966,"comment_id":86452010,"body_markdown":"I wrote my own component. See here: https://github.com/CollinAlpert/APIs/blob/master/javax/swing/JTextBox.java","body":"I wrote my own component. See here: <a href=\"https://github.com/CollinAlpert/APIs/blob/master/javax/swing/JTextBox.java\" rel=\"nofollow noreferrer\">github.com/CollinAlpert/APIs/blob/master/javax/swing/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":881286,"reputation":3740,"user_id":188094,"display_name":"Dmitry"},"score":7,"creation_date":1258322694,"post_id":1739003,"comment_id":1619549,"body_markdown":"I think he is not talking about tooltip, he wants something like &quot;Type here to search&quot; grey text which disappears when one starts typing","body":"I think he is not talking about tooltip, he wants something like &quot;Type here to search&quot; grey text which disappears when one starts typing"},{"owner":{"account_id":62022,"reputation":43632,"user_id":184499,"display_name":"Matt"},"score":0,"creation_date":1258322895,"post_id":1739003,"comment_id":1619562,"body_markdown":"Hmm, you might be right, but that fit with the HTML he provided. OP.. if you&#39;re looking to clear/set default text when the input is focused/blurred, look into FocusListener: http://java.sun.com/docs/books/tutorial/uiswing/events/focuslistener.html","body":"Hmm, you might be right, but that fit with the HTML he provided. OP.. if you&#39;re looking to clear/set default text when the input is focused/blurred, look into FocusListener: <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/events/focuslistener.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial/uiswing/events/&hellip;</a>"}],"tags":[],"owner":{"account_id":62022,"reputation":43632,"user_id":184499,"display_name":"Matt"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1258322522,"creation_date":1258322522,"answer_id":1739003,"question_id":1738966,"body_markdown":"For any Swing component (that is, anything that extends JComponent), you can call the setToolTipText(String) method.\r\n\r\nFor more information, reference the following links:\r\n\r\n- [API Documentation for setToolTipText][1]\r\n- [&quot;How to Use Tool Tips&quot; tutorial][2]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#setToolTipText(java.lang.String)\r\n  [2]: http://java.sun.com/docs/books/tutorial/uiswing/components/tooltip.html","title":"Java JTextField with input hint","body":"<p>For any Swing component (that is, anything that extends JComponent), you can call the setToolTipText(String) method.</p>\n\n<p>For more information, reference the following links:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#setToolTipText(java.lang.String)\" rel=\"nofollow noreferrer\">API Documentation for setToolTipText</a></li>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/tooltip.html\" rel=\"nofollow noreferrer\">\"How to Use Tool Tips\" tutorial</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3825258,"reputation":833,"user_id":3378227,"accept_rate":40,"display_name":"m4heshd"},"score":2,"creation_date":1563396508,"post_id":1739007,"comment_id":100690818,"body_markdown":"FYI, SwingX components fail all the time when using custom LAFs. @adam-gawne-cain&#39;s solution below is much better.","body":"FYI, SwingX components fail all the time when using custom LAFs. @adam-gawne-cain&#39;s solution below is much better."},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1606695251,"post_id":1739007,"comment_id":115031477,"body_markdown":"It seems like XSwingX is no longer downloadable now.","body":"It seems like XSwingX is no longer downloadable now."}],"tags":[],"owner":{"account_id":881286,"reputation":3740,"user_id":188094,"display_name":"Dmitry"},"comment_count":2,"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1258322608,"creation_date":1258322608,"answer_id":1739007,"question_id":1738966,"body_markdown":"Take a look at this one: http://code.google.com/p/xswingx/\r\n\r\nIt is not very difficult to implement it by yourself, btw. A couple of listeners and custom renderer and voila.","title":"Java JTextField with input hint","body":"<p>Take a look at this one: <a href=\"http://code.google.com/p/xswingx/\" rel=\"noreferrer\">http://code.google.com/p/xswingx/</a></p>\n\n<p>It is not very difficult to implement it by yourself, btw. A couple of listeners and custom renderer and voila.</p>\n"},{"comments":[{"owner":{"account_id":43081,"reputation":4028,"user_id":125756,"accept_rate":77,"display_name":"Wienczny"},"score":0,"creation_date":1258325134,"post_id":1739037,"comment_id":1619715,"body_markdown":"This solution is nice, too. You would have to overload getText() and filter the hint-text.","body":"This solution is nice, too. You would have to overload getText() and filter the hint-text."},{"owner":{"account_id":2039810,"reputation":1907,"user_id":1821301,"display_name":"Michael Jess"},"score":1,"creation_date":1376351237,"post_id":1739037,"comment_id":26670628,"body_markdown":"I would rather use a flag in getText() which indicates if a hint is currently shown or not. Otherwise if the user happens to enter the hint text, getText() would return an empty string, too.","body":"I would rather use a flag in getText() which indicates if a hint is currently shown or not. Otherwise if the user happens to enter the hint text, getText() would return an empty string, too."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1376392953,"post_id":1739037,"comment_id":26685989,"body_markdown":"@MichaelJess, yes, you&#39;re right. I edited my example to include a boolean flag instead.","body":"@MichaelJess, yes, you&#39;re right. I edited my example to include a boolean flag instead."},{"owner":{"account_id":3145094,"reputation":2968,"user_id":2659716,"accept_rate":100,"display_name":"Gerret"},"score":0,"creation_date":1377071968,"post_id":1739037,"comment_id":26940898,"body_markdown":"@BartKiers Could you tell me how the getText() Method in HintTextField works? I don&#39;t understand the return ^^","body":"@BartKiers Could you tell me how the getText() Method in HintTextField works? I don&#39;t understand the return ^^"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1377083557,"post_id":1739037,"comment_id":26947510,"body_markdown":"@Gerret, if the text field is displaying the &quot;hint&quot;, it returns an empty string, otherwise it returns the actual contents of the text field (through `super.getText()`). If you&#39;re unsure about the `... ? ... : ...` construct, it&#39;s called a ternary operator (ternary if): http://en.wikipedia.org/wiki/%3F:","body":"@Gerret, if the text field is displaying the &quot;hint&quot;, it returns an empty string, otherwise it returns the actual contents of the text field (through <code>super.getText()</code>). If you&#39;re unsure about the <code>... ? ... : ...</code> construct, it&#39;s called a ternary operator (ternary if): <a href=\"http://en.wikipedia.org/wiki/%3F\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/%3F</a>:"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":5,"down_vote_count":2,"up_vote_count":65,"is_accepted":false,"score":63,"last_activity_date":1376392903,"creation_date":1258323119,"answer_id":1739037,"question_id":1738966,"body_markdown":"You could create your own:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.FocusEvent;\r\n    import java.awt.event.FocusListener;\r\n    import javax.swing.*;\r\n    \r\n    public class Main {\r\n      \r\n      public static void main(String[] args) {\r\n    \r\n        final JFrame frame = new JFrame();\r\n    \r\n        frame.setLayout(new BorderLayout());\r\n    \r\n        final JTextField textFieldA = new HintTextField(&quot;A hint here&quot;);\r\n        final JTextField textFieldB = new HintTextField(&quot;Another hint here&quot;);\r\n    \r\n        frame.add(textFieldA, BorderLayout.NORTH);\r\n        frame.add(textFieldB, BorderLayout.CENTER);\r\n        JButton btnGetText = new JButton(&quot;Get text&quot;);\r\n    \r\n        btnGetText.addActionListener(new ActionListener() {\r\n          @Override\r\n          public void actionPerformed(ActionEvent e) {\r\n            String message = String.format(&quot;textFieldA=&#39;%s&#39;, textFieldB=&#39;%s&#39;&quot;,\r\n                textFieldA.getText(), textFieldB.getText());\r\n            JOptionPane.showMessageDialog(frame, message);\r\n          }\r\n        });\r\n    \r\n        frame.add(btnGetText, BorderLayout.SOUTH);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.pack();\r\n      }\r\n    }\r\n    \r\n    class HintTextField extends JTextField implements FocusListener {\r\n    \r\n      private final String hint;\r\n      private boolean showingHint;\r\n    \r\n      public HintTextField(final String hint) {\r\n        super(hint);\r\n        this.hint = hint;\r\n        this.showingHint = true;\r\n        super.addFocusListener(this);\r\n      }\r\n    \r\n      @Override\r\n      public void focusGained(FocusEvent e) {\r\n        if(this.getText().isEmpty()) {\r\n          super.setText(&quot;&quot;);\r\n          showingHint = false;\r\n        }\r\n      }\r\n      @Override\r\n      public void focusLost(FocusEvent e) {\r\n        if(this.getText().isEmpty()) {\r\n          super.setText(hint);\r\n          showingHint = true;\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public String getText() {\r\n        return showingHint ? &quot;&quot; : super.getText();\r\n      }\r\n    }\r\n\r\nIf you&#39;re still on Java 1.5, replace the `this.getText().isEmpty()` with `this.getText().length() == 0`.","title":"Java JTextField with input hint","body":"<p>You could create your own:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\nimport javax.swing.*;\n\npublic class Main {\n\n  public static void main(String[] args) {\n\n    final JFrame frame = new JFrame();\n\n    frame.setLayout(new BorderLayout());\n\n    final JTextField textFieldA = new HintTextField(\"A hint here\");\n    final JTextField textFieldB = new HintTextField(\"Another hint here\");\n\n    frame.add(textFieldA, BorderLayout.NORTH);\n    frame.add(textFieldB, BorderLayout.CENTER);\n    JButton btnGetText = new JButton(\"Get text\");\n\n    btnGetText.addActionListener(new ActionListener() {\n      @Override\n      public void actionPerformed(ActionEvent e) {\n        String message = String.format(\"textFieldA='%s', textFieldB='%s'\",\n            textFieldA.getText(), textFieldB.getText());\n        JOptionPane.showMessageDialog(frame, message);\n      }\n    });\n\n    frame.add(btnGetText, BorderLayout.SOUTH);\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n    frame.pack();\n  }\n}\n\nclass HintTextField extends JTextField implements FocusListener {\n\n  private final String hint;\n  private boolean showingHint;\n\n  public HintTextField(final String hint) {\n    super(hint);\n    this.hint = hint;\n    this.showingHint = true;\n    super.addFocusListener(this);\n  }\n\n  @Override\n  public void focusGained(FocusEvent e) {\n    if(this.getText().isEmpty()) {\n      super.setText(\"\");\n      showingHint = false;\n    }\n  }\n  @Override\n  public void focusLost(FocusEvent e) {\n    if(this.getText().isEmpty()) {\n      super.setText(hint);\n      showingHint = true;\n    }\n  }\n\n  @Override\n  public String getText() {\n    return showingHint ? \"\" : super.getText();\n  }\n}\n</code></pre>\n\n<p>If you're still on Java 1.5, replace the <code>this.getText().isEmpty()</code> with <code>this.getText().length() == 0</code>.</p>\n"},{"comments":[{"owner":{"account_id":1836141,"reputation":728,"user_id":1666488,"accept_rate":86,"display_name":"Jefferson Hudson"},"score":0,"creation_date":1363976362,"post_id":4962829,"comment_id":22082584,"body_markdown":"How might one make it so that the hint is italicized but the user entered text is not?","body":"How might one make it so that the hint is italicized but the user entered text is not?"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1371284179,"post_id":4962829,"comment_id":24774724,"body_markdown":"In the `paintSafely()`, you would have to call `setFont(fontHint)` or `setFont(fontOriginal)` according to whether `getText().isEmpty()`, where `fontHint` would have been derived from the original `getFont()` in constructor. I also had to override `setFont()` to regenerate it:\n`fontOriginal = getFont();   hintFont = new Font(fontOriginal.getName(), fontOriginal.getStyle() | Font.ITALIC, fontOriginal.getSize());`\nNote that I didn&#39;t use `font.deriveFont()` because it seems that it eats up a lot of memory and never gives it back...","body":"In the <code>paintSafely()</code>, you would have to call <code>setFont(fontHint)</code> or <code>setFont(fontOriginal)</code> according to whether <code>getText().isEmpty()</code>, where <code>fontHint</code> would have been derived from the original <code>getFont()</code> in constructor. I also had to override <code>setFont()</code> to regenerate it: <code>fontOriginal = getFont();   hintFont = new Font(fontOriginal.getName(), fontOriginal.getStyle() | Font.ITALIC, fontOriginal.getSize());</code> Note that I didn&#39;t use <code>font.deriveFont()</code> because it seems that it eats up a lot of memory and never gives it back..."},{"owner":{"account_id":4136799,"reputation":280,"user_id":8781554,"display_name":"Xam"},"score":0,"creation_date":1531708783,"post_id":4962829,"comment_id":89680400,"body_markdown":"I made a little modification and worked nicely. Thanks.","body":"I made a little modification and worked nicely. Thanks."}],"tags":[],"owner":{"account_id":303276,"reputation":1166,"user_id":612123,"display_name":"culmat"},"comment_count":3,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1323150990,"creation_date":1297372799,"answer_id":4962829,"question_id":1738966,"body_markdown":"Here is a single class copy/paste solution:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.FocusEvent;\r\n    import java.awt.event.FocusListener;\r\n    \r\n    import javax.swing.plaf.basic.BasicTextFieldUI;\r\n    import javax.swing.text.JTextComponent;\r\n    \r\n    \r\n    public class HintTextFieldUI extends BasicTextFieldUI implements FocusListener {\r\n    \t\r\n    \tprivate String hint;\r\n    \tprivate boolean hideOnFocus;\r\n    \tprivate Color color;\r\n    \t\t\r\n    \tpublic Color getColor() {\r\n    \t\treturn color;\r\n    \t}\r\n    \r\n    \tpublic void setColor(Color color) {\r\n    \t\tthis.color = color;\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tprivate void repaint() {\r\n    \t\tif(getComponent() != null) {\r\n    \t\t\tgetComponent().repaint();\t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic boolean isHideOnFocus() {\r\n    \t\treturn hideOnFocus;\r\n    \t}\r\n    \r\n    \tpublic void setHideOnFocus(boolean hideOnFocus) {\r\n    \t\tthis.hideOnFocus = hideOnFocus;\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tpublic String getHint() {\r\n    \t\treturn hint;\r\n    \t}\r\n    \r\n    \tpublic void setHint(String hint) {\r\n    \t\tthis.hint = hint;\r\n    \t\trepaint();\r\n    \t}\r\n    \tpublic HintTextFieldUI(String hint) {\r\n    \t\tthis(hint,false);\r\n    \t}\r\n    \t\r\n    \tpublic HintTextFieldUI(String hint, boolean hideOnFocus) {\r\n    \t\tthis(hint,hideOnFocus, null);\r\n    \t}\r\n    \t\t\r\n    \tpublic HintTextFieldUI(String hint, boolean hideOnFocus, Color color) {\r\n    \t\tthis.hint = hint;\r\n    \t\tthis.hideOnFocus = hideOnFocus;\r\n    \t\tthis.color = color;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void paintSafely(Graphics g) {\r\n    \t\tsuper.paintSafely(g);\r\n    \t\tJTextComponent comp = getComponent();\r\n    \t\tif(hint!=null &amp;&amp; comp.getText().length() == 0 &amp;&amp; (!(hideOnFocus &amp;&amp; comp.hasFocus()))){\r\n    \t\t\tif(color != null) {\r\n    \t\t\t\tg.setColor(color);\r\n    \t\t\t} else {\r\n    \t\t\t\tg.setColor(comp.getForeground().brighter().brighter().brighter());\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tint padding = (comp.getHeight() - comp.getFont().getSize())/2;\r\n    \t\t\tg.drawString(hint, 2, comp.getHeight()-padding-1);\t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void focusGained(FocusEvent e) {\r\n    \t\tif(hideOnFocus) repaint();\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void focusLost(FocusEvent e) {\r\n    \t\tif(hideOnFocus) repaint();\r\n    \t}\r\n    \t@Override\r\n    \tprotected void installListeners() {\r\n    \t\tsuper.installListeners();\r\n    \t\tgetComponent().addFocusListener(this);\r\n    \t}\r\n    \t@Override\r\n    \tprotected void uninstallListeners() {\r\n    \t\tsuper.uninstallListeners();\r\n    \t\tgetComponent().removeFocusListener(this);\r\n    \t}\r\n    }\r\n\r\nUse it like this:\r\n\r\n    TextField field = new JTextField();\r\n    field.setUI(new HintTextFieldUI(&quot;Search&quot;, true));\r\n\r\nNote that it is happening in `protected void paintSafely(Graphics g)`.","title":"Java JTextField with input hint","body":"<p>Here is a single class copy/paste solution:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\n\nimport javax.swing.plaf.basic.BasicTextFieldUI;\nimport javax.swing.text.JTextComponent;\n\n\npublic class HintTextFieldUI extends BasicTextFieldUI implements FocusListener {\n\n    private String hint;\n    private boolean hideOnFocus;\n    private Color color;\n\n    public Color getColor() {\n        return color;\n    }\n\n    public void setColor(Color color) {\n        this.color = color;\n        repaint();\n    }\n\n    private void repaint() {\n        if(getComponent() != null) {\n            getComponent().repaint();           \n        }\n    }\n\n    public boolean isHideOnFocus() {\n        return hideOnFocus;\n    }\n\n    public void setHideOnFocus(boolean hideOnFocus) {\n        this.hideOnFocus = hideOnFocus;\n        repaint();\n    }\n\n    public String getHint() {\n        return hint;\n    }\n\n    public void setHint(String hint) {\n        this.hint = hint;\n        repaint();\n    }\n    public HintTextFieldUI(String hint) {\n        this(hint,false);\n    }\n\n    public HintTextFieldUI(String hint, boolean hideOnFocus) {\n        this(hint,hideOnFocus, null);\n    }\n\n    public HintTextFieldUI(String hint, boolean hideOnFocus, Color color) {\n        this.hint = hint;\n        this.hideOnFocus = hideOnFocus;\n        this.color = color;\n    }\n\n    @Override\n    protected void paintSafely(Graphics g) {\n        super.paintSafely(g);\n        JTextComponent comp = getComponent();\n        if(hint!=null &amp;&amp; comp.getText().length() == 0 &amp;&amp; (!(hideOnFocus &amp;&amp; comp.hasFocus()))){\n            if(color != null) {\n                g.setColor(color);\n            } else {\n                g.setColor(comp.getForeground().brighter().brighter().brighter());              \n            }\n            int padding = (comp.getHeight() - comp.getFont().getSize())/2;\n            g.drawString(hint, 2, comp.getHeight()-padding-1);          \n        }\n    }\n\n    @Override\n    public void focusGained(FocusEvent e) {\n        if(hideOnFocus) repaint();\n\n    }\n\n    @Override\n    public void focusLost(FocusEvent e) {\n        if(hideOnFocus) repaint();\n    }\n    @Override\n    protected void installListeners() {\n        super.installListeners();\n        getComponent().addFocusListener(this);\n    }\n    @Override\n    protected void uninstallListeners() {\n        super.uninstallListeners();\n        getComponent().removeFocusListener(this);\n    }\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>TextField field = new JTextField();\nfield.setUI(new HintTextFieldUI(\"Search\", true));\n</code></pre>\n\n<p>Note that it is happening in <code>protected void paintSafely(Graphics g)</code>.</p>\n"},{"comments":[{"owner":{"account_id":4918420,"reputation":449,"user_id":3961710,"display_name":"Marco Ottina"},"score":0,"creation_date":1602063283,"post_id":10704722,"comment_id":113598670,"body_markdown":"Nice, but please compact the &quot;single code line&quot; and brackets in just one line, just to make it shorter and easier to read (and open brackets not on new line: it help to figure out the scope without looking for brackets, but just reading the text. The color will help to spot where a function/scope begins).","body":"Nice, but please compact the &quot;single code line&quot; and brackets in just one line, just to make it shorter and easier to read (and open brackets not on new line: it help to figure out the scope without looking for brackets, but just reading the text. The color will help to spot where a function/scope begins)."}],"tags":[],"owner":{"account_id":430623,"reputation":131,"user_id":814168,"display_name":"user814168"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337699040,"creation_date":1337699040,"answer_id":10704722,"question_id":1738966,"body_markdown":"If you still look for a solution, here&#39;s one that combined other answers (Bart Kiers and culmat) for your reference:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.text.JTextComponent;\r\n    import java.awt.*;\r\n    import java.awt.event.FocusEvent;\r\n    import java.awt.event.FocusListener;\r\n    \r\n    \r\n    public class HintTextField extends JTextField implements FocusListener\r\n    {\r\n    \r\n        private String hint;\r\n    \r\n        public HintTextField ()\r\n        {\r\n            this(&quot;&quot;);\r\n        }\r\n    \r\n        public HintTextField(final String hint)\r\n        {\r\n            setHint(hint);\r\n            super.addFocusListener(this);\r\n        }\r\n    \r\n        public void setHint(String hint)\r\n        {\r\n            this.hint = hint;\r\n            setUI(new HintTextFieldUI(hint, true));\r\n            //setText(this.hint);\r\n        }\r\n    \r\n    \r\n        public void focusGained(FocusEvent e)\r\n        {\r\n            if(this.getText().length() == 0)\r\n            {\r\n                super.setText(&quot;&quot;);\r\n            }\r\n        }\r\n    \r\n        public void focusLost(FocusEvent e)\r\n        {\r\n            if(this.getText().length() == 0)\r\n            {\r\n                setHint(hint);\r\n            }\r\n        }\r\n    \r\n        public String getText()\r\n        {\r\n            String typed = super.getText();\r\n            return typed.equals(hint)?&quot;&quot;:typed;\r\n        }\r\n    }\r\n    \r\n    class HintTextFieldUI extends javax.swing.plaf.basic.BasicTextFieldUI implements FocusListener\r\n    {\r\n    \r\n        private String hint;\r\n        private boolean hideOnFocus;\r\n        private Color color;\r\n    \r\n        public Color getColor()\r\n        {\r\n            return color;\r\n        }\r\n    \r\n        public void setColor(Color color)\r\n        {\r\n            this.color = color;\r\n            repaint();\r\n        }\r\n    \r\n        private void repaint()\r\n        {\r\n            if(getComponent() != null)\r\n            {\r\n                getComponent().repaint();\r\n            }\r\n        }\r\n    \r\n        public boolean isHideOnFocus()\r\n        {\r\n            return hideOnFocus;\r\n        }\r\n    \r\n        public void setHideOnFocus(boolean hideOnFocus)\r\n        {\r\n            this.hideOnFocus = hideOnFocus;\r\n            repaint();\r\n        }\r\n    \r\n        public String getHint()\r\n        {\r\n            return hint;\r\n        }\r\n    \r\n        public void setHint(String hint)\r\n        {\r\n            this.hint = hint;\r\n            repaint();\r\n        }\r\n    \r\n        public HintTextFieldUI(String hint)\r\n        {\r\n            this(hint, false);\r\n        }\r\n    \r\n        public HintTextFieldUI(String hint, boolean hideOnFocus)\r\n        {\r\n            this(hint, hideOnFocus, null);\r\n        }\r\n    \r\n        public HintTextFieldUI(String hint, boolean hideOnFocus, Color color)\r\n        {\r\n            this.hint = hint;\r\n            this.hideOnFocus = hideOnFocus;\r\n            this.color = color;\r\n        }\r\n    \r\n        \r\n        protected void paintSafely(Graphics g)\r\n        {\r\n            super.paintSafely(g);\r\n            JTextComponent comp = getComponent();\r\n            if(hint != null &amp;&amp; comp.getText().length() == 0 &amp;&amp; (!(hideOnFocus &amp;&amp; comp.hasFocus())))\r\n            {\r\n                if(color != null)\r\n                {\r\n                    g.setColor(color);\r\n                }\r\n                else\r\n                {\r\n                    g.setColor(Color.gray);\r\n                }\r\n                int padding = (comp.getHeight() - comp.getFont().getSize()) / 2;\r\n                g.drawString(hint, 5, comp.getHeight() - padding - 1);\r\n            }\r\n        }\r\n    \r\n        \r\n        public void focusGained(FocusEvent e)\r\n        {\r\n            if(hideOnFocus) repaint();\r\n    \r\n        }\r\n    \r\n        \r\n        public void focusLost(FocusEvent e)\r\n        {\r\n            if(hideOnFocus) repaint();\r\n        }\r\n    \r\n        protected void installListeners()\r\n        {\r\n            super.installListeners();\r\n            getComponent().addFocusListener(this);\r\n        }\r\n    \r\n        protected void uninstallListeners()\r\n        {\r\n            super.uninstallListeners();\r\n            getComponent().removeFocusListener(this);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    Usage:\r\n    HintTextField field = new HintTextField();\r\n    field.setHint(&quot;Here&#39;s a hint&quot;);\r\n","title":"Java JTextField with input hint","body":"<p>If you still look for a solution, here's one that combined other answers (Bart Kiers and culmat) for your reference:</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.text.JTextComponent;\nimport java.awt.*;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\n\n\npublic class HintTextField extends JTextField implements FocusListener\n{\n\n    private String hint;\n\n    public HintTextField ()\n    {\n        this(\"\");\n    }\n\n    public HintTextField(final String hint)\n    {\n        setHint(hint);\n        super.addFocusListener(this);\n    }\n\n    public void setHint(String hint)\n    {\n        this.hint = hint;\n        setUI(new HintTextFieldUI(hint, true));\n        //setText(this.hint);\n    }\n\n\n    public void focusGained(FocusEvent e)\n    {\n        if(this.getText().length() == 0)\n        {\n            super.setText(\"\");\n        }\n    }\n\n    public void focusLost(FocusEvent e)\n    {\n        if(this.getText().length() == 0)\n        {\n            setHint(hint);\n        }\n    }\n\n    public String getText()\n    {\n        String typed = super.getText();\n        return typed.equals(hint)?\"\":typed;\n    }\n}\n\nclass HintTextFieldUI extends javax.swing.plaf.basic.BasicTextFieldUI implements FocusListener\n{\n\n    private String hint;\n    private boolean hideOnFocus;\n    private Color color;\n\n    public Color getColor()\n    {\n        return color;\n    }\n\n    public void setColor(Color color)\n    {\n        this.color = color;\n        repaint();\n    }\n\n    private void repaint()\n    {\n        if(getComponent() != null)\n        {\n            getComponent().repaint();\n        }\n    }\n\n    public boolean isHideOnFocus()\n    {\n        return hideOnFocus;\n    }\n\n    public void setHideOnFocus(boolean hideOnFocus)\n    {\n        this.hideOnFocus = hideOnFocus;\n        repaint();\n    }\n\n    public String getHint()\n    {\n        return hint;\n    }\n\n    public void setHint(String hint)\n    {\n        this.hint = hint;\n        repaint();\n    }\n\n    public HintTextFieldUI(String hint)\n    {\n        this(hint, false);\n    }\n\n    public HintTextFieldUI(String hint, boolean hideOnFocus)\n    {\n        this(hint, hideOnFocus, null);\n    }\n\n    public HintTextFieldUI(String hint, boolean hideOnFocus, Color color)\n    {\n        this.hint = hint;\n        this.hideOnFocus = hideOnFocus;\n        this.color = color;\n    }\n\n\n    protected void paintSafely(Graphics g)\n    {\n        super.paintSafely(g);\n        JTextComponent comp = getComponent();\n        if(hint != null &amp;&amp; comp.getText().length() == 0 &amp;&amp; (!(hideOnFocus &amp;&amp; comp.hasFocus())))\n        {\n            if(color != null)\n            {\n                g.setColor(color);\n            }\n            else\n            {\n                g.setColor(Color.gray);\n            }\n            int padding = (comp.getHeight() - comp.getFont().getSize()) / 2;\n            g.drawString(hint, 5, comp.getHeight() - padding - 1);\n        }\n    }\n\n\n    public void focusGained(FocusEvent e)\n    {\n        if(hideOnFocus) repaint();\n\n    }\n\n\n    public void focusLost(FocusEvent e)\n    {\n        if(hideOnFocus) repaint();\n    }\n\n    protected void installListeners()\n    {\n        super.installListeners();\n        getComponent().addFocusListener(this);\n    }\n\n    protected void uninstallListeners()\n    {\n        super.uninstallListeners();\n        getComponent().removeFocusListener(this);\n    }\n}\n\n\n\nUsage:\nHintTextField field = new HintTextField();\nfield.setHint(\"Here's a hint\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":2,"creation_date":1415911393,"post_id":24571681,"comment_id":42384462,"body_markdown":"I like this because the hint ability becomes a feature of the `JTextField` rather than an external add-on (which is the case for most other solutions I&#39;ve seen). But maybe you should explain a bit more what the code does and why it works. Are there any side effects ? What guarantees it will paint the hint in the font that the field uses?","body":"I like this because the hint ability becomes a feature of the <code>JTextField</code> rather than an external add-on (which is the case for most other solutions I&#39;ve seen). But maybe you should explain a bit more what the code does and why it works. Are there any side effects ? What guarantees it will paint the hint in the font that the field uses?"},{"owner":{"account_id":3825258,"reputation":833,"user_id":3378227,"accept_rate":40,"display_name":"m4heshd"},"score":0,"creation_date":1563360725,"post_id":24571681,"comment_id":100671740,"body_markdown":"Just amazing. This should be the selected answer. I had so much trouble with other solutions when using Synthetica LAF. Added italic fonts too by simply doing\n`g.setFont(g.getFont().deriveFont(Font.ITALIC));`","body":"Just amazing. This should be the selected answer. I had so much trouble with other solutions when using Synthetica LAF. Added italic fonts too by simply doing <code>g.setFont(g.getFont().deriveFont(Font.ITALIC));</code>"},{"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"score":0,"creation_date":1565106923,"post_id":24571681,"comment_id":101244285,"body_markdown":"Explanation:  The hint text color should be halfway between the foreground and background colors so it is always gently visible.  The variables c0,c1,m,c2 calculate the halfway color&#39;s ARGB fields simultaneously without overflowing 8 bits.  The font metric ascent is used to center the text vertically.  Swing sets the Graphics&#39; font to match the JTextField&#39;s font property before calling the &quot;paint&quot; method, so the hint font will match the JTextField&#39;s font. Don&#39;t think there are any side effects because Swing discards the Graphics after painting.","body":"Explanation:  The hint text color should be halfway between the foreground and background colors so it is always gently visible.  The variables c0,c1,m,c2 calculate the halfway color&#39;s ARGB fields simultaneously without overflowing 8 bits.  The font metric ascent is used to center the text vertically.  Swing sets the Graphics&#39; font to match the JTextField&#39;s font property before calling the &quot;paint&quot; method, so the hint font will match the JTextField&#39;s font. Don&#39;t think there are any side effects because Swing discards the Graphics after painting."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1586522938,"post_id":24571681,"comment_id":108163545,"body_markdown":"I like this. It&#39;s one of the few proposed solutions I&#39;ve found that is not buggy. I&#39;ve posted a fully functioning example separately on this question. Only difference: I found using `getHeight() - fm.getDescent() - ins.bottom` gave a slightly better y-coordinate.","body":"I like this. It&#39;s one of the few proposed solutions I&#39;ve found that is not buggy. I&#39;ve posted a fully functioning example separately on this question. Only difference: I found using <code>getHeight() - fm.getDescent() - ins.bottom</code> gave a slightly better y-coordinate."},{"owner":{"account_id":4918420,"reputation":449,"user_id":3961710,"display_name":"Marco Ottina"},"score":0,"creation_date":1602061712,"post_id":24571681,"comment_id":113597860,"body_markdown":"@DaveTheDane could You please post the complete expression considering Your suggestion, please? Thank you so much.\nIs it something like `g.drawString(hint, ins.left, h - fm.getDescent() - ins.bottom)` ?","body":"@DaveTheDane could You please post the complete expression considering Your suggestion, please? Thank you so much. Is it something like <code>g.drawString(hint, ins.left, h - fm.getDescent() - ins.bottom)</code> ?"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":1,"creation_date":1604916595,"post_id":24571681,"comment_id":114483064,"body_markdown":"@MarcoOttina please see my Posting below from Apr 10, 2020 @ 12:41\nDoes that help?","body":"@MarcoOttina please see my Posting below from Apr 10, 2020 @ 12:41 Does that help?"}],"tags":[],"owner":{"account_id":4701606,"reputation":247,"user_id":3805036,"display_name":"Adam Gawne-Cain"},"comment_count":6,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1404468067,"creation_date":1404468067,"answer_id":24571681,"question_id":1738966,"body_markdown":"Here is a simple way that looks good in any L&amp;F:\r\n\r\n\r\n\tpublic class HintTextField extends JTextField {\r\n\t\tpublic HintTextField(String hint) {\r\n\t\t\t_hint = hint;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void paint(Graphics g) {\r\n\t\t\tsuper.paint(g);\r\n\t\t\tif (getText().length() == 0) {\r\n\t\t\t\tint h = getHeight();\r\n\t\t\t\t((Graphics2D)g).setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\t\t\t\tInsets ins = getInsets();\r\n\t\t\t\tFontMetrics fm = g.getFontMetrics();\r\n\t\t\t\tint c0 = getBackground().getRGB();\r\n\t\t\t\tint c1 = getForeground().getRGB();\r\n\t\t\t\tint m = 0xfefefefe;\r\n\t\t\t\tint c2 = ((c0 &amp; m) &gt;&gt;&gt; 1) + ((c1 &amp; m) &gt;&gt;&gt; 1);\r\n\t\t\t\tg.setColor(new Color(c2, true));\r\n\t\t\t\tg.drawString(_hint, ins.left, h / 2 + fm.getAscent() / 2 - 2);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate final String _hint;\r\n\t}\r\n","title":"Java JTextField with input hint","body":"<p>Here is a simple way that looks good in any L&amp;F:</p>\n\n<pre><code>public class HintTextField extends JTextField {\n    public HintTextField(String hint) {\n        _hint = hint;\n    }\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        if (getText().length() == 0) {\n            int h = getHeight();\n            ((Graphics2D)g).setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n            Insets ins = getInsets();\n            FontMetrics fm = g.getFontMetrics();\n            int c0 = getBackground().getRGB();\n            int c1 = getForeground().getRGB();\n            int m = 0xfefefefe;\n            int c2 = ((c0 &amp; m) &gt;&gt;&gt; 1) + ((c1 &amp; m) &gt;&gt;&gt; 1);\n            g.setColor(new Color(c2, true));\n            g.drawString(_hint, ins.left, h / 2 + fm.getAscent() / 2 - 2);\n        }\n    }\n    private final String _hint;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2882478,"reputation":1402,"user_id":2473015,"accept_rate":71,"display_name":"user2473015"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434857243,"creation_date":1434030360,"answer_id":30782629,"question_id":1738966,"body_markdown":"Have look at WebLookAndFeel at https://github.com/mgarin/weblaf/\r\n\r\n\r\n    WebTextField txtName = new com.alee.laf.text.WebTextField();\r\n\r\n    txtName.setHideInputPromptOnFocus(false);\r\n\r\n    txtName.setInputPrompt(&quot;Name&quot;);\r\n\r\n    txtName.setInputPromptFont(new java.awt.Font(&quot;Ubuntu&quot;, 0, 18));\r\n\r\n    txtName.setInputPromptForeground(new java.awt.Color(102, 102, 102));\r\n\r\n    txtName.setInputPromptPosition(0);\r\n","title":"Java JTextField with input hint","body":"<p>Have look at WebLookAndFeel at <a href=\"https://github.com/mgarin/weblaf/\" rel=\"nofollow\">https://github.com/mgarin/weblaf/</a></p>\n\n<pre><code>WebTextField txtName = new com.alee.laf.text.WebTextField();\n\ntxtName.setHideInputPromptOnFocus(false);\n\ntxtName.setInputPrompt(\"Name\");\n\ntxtName.setInputPromptFont(new java.awt.Font(\"Ubuntu\", 0, 18));\n\ntxtName.setInputPromptForeground(new java.awt.Color(102, 102, 102));\n\ntxtName.setInputPromptPosition(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6379859,"reputation":3051,"user_id":4949684,"display_name":"Carlos Cavero"},"score":1,"creation_date":1551971267,"post_id":55046101,"comment_id":96844190,"body_markdown":"First of all, welcome to StackOverflow. Following the advices of the community, it is recommended to include context to your source code in order to clarify better your reponse. \nPlease check the documentation [on how to write a good question](https://stackoverflow.com/help/how-to-ask)","body":"First of all, welcome to StackOverflow. Following the advices of the community, it is recommended to include context to your source code in order to clarify better your reponse.  Please check the documentation <a href=\"https://stackoverflow.com/help/how-to-ask\">on how to write a good question</a>"}],"tags":[],"owner":{"account_id":15248702,"reputation":19,"user_id":11002816,"display_name":"Shivam Rajput"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551980509,"creation_date":1551968677,"answer_id":55046101,"question_id":1738966,"body_markdown":"This can be achieved by using a focus listener to update the text field content.\r\n\r\nMake the class implement the focus listener interface:\r\n\r\n```java\r\nclass YourClass implements FocusListener\r\n```\r\n\r\nAdd a method to catch when focus is gained that blanks the field:\r\n\r\n```java\r\npublic void focusGained(FocusEvent e) {\r\n    if(JTextField1.getText().equals(&quot;Username&quot;)) {\r\n        JTextField1.setText(&quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAdd a method to catch when focus is lost to redisplay the default entry if the field was blank:\r\n\r\n```java\r\npublic void focusLost(FocusEvent e) {\r\n    if(JTextField1.getText().equals(&quot;&quot;)) {\r\n        JTextField1.setText(&quot;Username&quot;);\r\n        // you should prevent the form from being processed in this state\r\n        // as it will literally contain &quot;Username&quot; for the username\r\n    }\r\n}\r\n```\r\n\r\nRegister your class as the focus listener for text field:\r\n\r\n```\r\ntextField.addFocusListener(this);\r\n```\r\n\r\nLearn more at [How to Write a Focus Listener][1] in the Java Tutorials.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/events/focuslistener.html","title":"Java JTextField with input hint","body":"<p>This can be achieved by using a focus listener to update the text field content.</p>\n\n<p>Make the class implement the focus listener interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class YourClass implements FocusListener\n</code></pre>\n\n<p>Add a method to catch when focus is gained that blanks the field:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void focusGained(FocusEvent e) {\n    if(JTextField1.getText().equals(\"Username\")) {\n        JTextField1.setText(\"\");\n    }\n}\n</code></pre>\n\n<p>Add a method to catch when focus is lost to redisplay the default entry if the field was blank:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void focusLost(FocusEvent e) {\n    if(JTextField1.getText().equals(\"\")) {\n        JTextField1.setText(\"Username\");\n        // you should prevent the form from being processed in this state\n        // as it will literally contain \"Username\" for the username\n    }\n}\n</code></pre>\n\n<p>Register your class as the focus listener for text field:</p>\n\n<pre><code>textField.addFocusListener(this);\n</code></pre>\n\n<p>Learn more at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/focuslistener.html\" rel=\"nofollow noreferrer\">How to Write a Focus Listener</a> in the Java Tutorials.</p>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586604429,"creation_date":1586522468,"answer_id":61140461,"question_id":1738966,"body_markdown":"Here is a fully working example based on Adam Gawne-Cain&#39;s earlier Posting. His solution is simple and actually works exceptionally well.\r\n\r\nI&#39;ve used the following text in a Grid of multiple Fields:&lt;br&gt;\r\n\r\n    H__|__WWW__+__XXXX__+__WWW__|__H\r\nthis makes it possible to easily verify the x/y alignment of the hinted text.\r\n\r\nA couple of observations:&lt;br&gt;\r\n- there are any number of solutions out there, but many only work superficially and/or are buggy&lt;br&gt;\r\n- sun.tools.jconsole.ThreadTab.PromptingTextField is a simple solution, but it only shows the prompting text when the Field doesn&#39;t have the focus &amp; it&#39;s private, but nothing a little cut-and-paste won&#39;t fix.\r\n\r\nThe following works on JDK 8 and upwards:\r\n\r\n    import java.awt.*;\r\n    import java.util.stream.*;\r\n    import javax.swing.*;\r\n    /**\r\n     * @author DaveTheDane, based on a suggestion from Adam Gawne-Cain\r\n     */\r\n    public final class JTextFieldPromptExample extends JFrame {\r\n    \r\n    \tprivate static JTextField newPromptedJTextField (final String text, final String prompt) {\r\n    \r\n    \t\tfinal String promptPossiblyNullButNeverWhitespace = prompt == null || prompt.trim().isEmpty()  ?  null  :  prompt;\r\n    \r\n    \t\treturn new JTextField(text) {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void paintComponent(final Graphics    USE_g2d_INSTEAD) {\r\n    \t\t\t\tfinal Graphics2D     g2d =  (Graphics2D) USE_g2d_INSTEAD;\r\n    \r\n    \t\t\t\tsuper.paintComponent(g2d);\r\n    \r\n    //\t\t\t\tSystem.out.println(&quot;Paint.: &quot; + g2d);\r\n    \r\n    \t\t\t\tif (getText().isEmpty()\r\n    \t\t\t\t&amp;&amp;  promptPossiblyNullButNeverWhitespace != null) {\r\n    \t\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n    \r\n    \t\t\t\t\tfinal Insets      ins = getInsets();\r\n    \t\t\t\t\tfinal FontMetrics fm  = g2d.getFontMetrics();\r\n    \r\n    \t\t\t\t\tfinal int cB = getBackground().getRGB();\r\n    \t\t\t\t\tfinal int cF = getForeground().getRGB();\r\n    \t\t\t\t\tfinal int m  = 0xfefefefe;\r\n    \t\t\t\t\tfinal int c2 = ((cB &amp; m) &gt;&gt;&gt; 1) + ((cF &amp; m) &gt;&gt;&gt; 1); // &quot;for X in (A, R, G, B) {Xnew = (Xb + Xf) / 2}&quot;\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * The hint text color should be halfway between the foreground and background colors so it is always gently visible.\r\n    \t\t\t\t\t * The variables c0,c1,m,c2 calculate the halfway color&#39;s ARGB fields simultaneously without overflowing 8 bits.\r\n    \t\t\t\t\t * Swing sets the Graphics&#39; font to match the JTextField&#39;s font property before calling the &quot;paint&quot; method,\r\n    \t\t\t\t\t * so the hint font will match the JTextField&#39;s font.\r\n    \t\t\t\t\t * Don&#39;t think there are any side effects because Swing discards the Graphics after painting.\r\n    \t\t\t\t\t * Adam Gawne-Cain, Aug 6 2019 at 15:55\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\tg2d.setColor(new Color(c2, true));\r\n    \t\t\t\t\tg2d.drawString(promptPossiblyNullButNeverWhitespace, ins.left, getHeight() - fm.getDescent() - ins.bottom);\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * y Coordinate based on Descent &amp; Bottom-inset seems to align Text spot-on.\r\n    \t\t\t\t\t * DaveTheDane, Apr 10 2020\r\n    \t\t\t\t\t */\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate static final GridBagConstraints GBC_LEFT  = new GridBagConstraints();\r\n    \tprivate static final GridBagConstraints GBC_RIGHT = new GridBagConstraints();\r\n    \t/**/    static {\r\n    \t\tGBC_LEFT .anchor    = GridBagConstraints.LINE_START;\r\n    \t\tGBC_LEFT .fill      = GridBagConstraints.HORIZONTAL;\r\n    \t\tGBC_LEFT .insets    = new Insets(8, 8, 0, 0);\r\n    \r\n    \t\tGBC_RIGHT.gridwidth = GridBagConstraints.REMAINDER;\r\n    \t\tGBC_RIGHT.fill      = GridBagConstraints.HORIZONTAL;\r\n    \t\tGBC_RIGHT.insets    = new Insets(8, 8, 0, 8);\r\n    \t}\r\n    \r\n    \tprivate &lt;C extends Component&gt; C addLeft (final C component) {\r\n    \t\tthis    .add           (component);\r\n    \t\tthis.gbl.setConstraints(component, GBC_LEFT);\r\n    \t\treturn                  component;\r\n    \t}\r\n    \tprivate &lt;C extends Component&gt; C addRight(final C component) {\r\n    \t\tthis    .add           (component);\r\n    \t\tthis.gbl.setConstraints(component, GBC_RIGHT);\r\n    \t\treturn                  component;\r\n    \t}\r\n    \r\n    \tprivate static final String ALIGN = &quot;H__|__WWW__+__XXXX__+__WWW__|__H&quot;;\r\n    \r\n    \tprivate final GridBagLayout gbl = new GridBagLayout();\r\n    \r\n    \tpublic JTextFieldPromptExample(final String title) {\r\n    \t\tsuper(title);\r\n    \t\tthis.setLayout(gbl);\r\n    \r\n    \t\tfinal java.util.List&lt;JTextField&gt; texts = Stream.of(\r\n    \t\t\t\taddLeft (newPromptedJTextField(ALIGN + &#39; &#39; + &quot;Top-Left&quot;    , ALIGN)),\r\n    \t\t\t\taddRight(newPromptedJTextField(ALIGN + &#39; &#39; + &quot;Top-Right&quot;   , ALIGN)),\r\n    \r\n    \t\t\t\taddLeft (newPromptedJTextField(ALIGN + &#39; &#39; + &quot;Middle-Left&quot; , ALIGN)),\r\n    \t\t\t\taddRight(newPromptedJTextField(                       null , ALIGN)),\r\n    \r\n    \t\t\t\taddLeft (new        JTextField(&quot;x&quot;        )),\r\n    \t\t\t\taddRight(newPromptedJTextField(&quot;x&quot;,   &quot;&quot;  )),\r\n    \r\n    \t\t\t\taddLeft (new        JTextField(null       )),\r\n    \t\t\t\taddRight(newPromptedJTextField(null,  null)),\r\n    \r\n    \t\t\t\taddLeft (newPromptedJTextField(ALIGN + &#39; &#39; + &quot;Bottom-Left&quot; , ALIGN)),\r\n    \t\t\t\taddRight(newPromptedJTextField(ALIGN + &#39; &#39; + &quot;Bottom-Right&quot;, ALIGN)) ).collect(Collectors.toList());\r\n    \r\n    \t\tfinal JButton button = addRight(new JButton(&quot;Get texts&quot;));\r\n    \t\t/**/                   addRight(Box.createVerticalStrut(0)); // 1 last time forces bottom inset\r\n    \r\n    \t\tthis.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tthis.setPreferredSize(new Dimension(740, 260));\r\n    \t\tthis.pack();\r\n    \t\tthis.setResizable(false);\r\n    \t\tthis.setVisible(true);\r\n    \r\n    \t\tbutton.addActionListener(e -&gt; {\r\n    \t\t\ttexts.forEach(text -&gt; System.out.println(&quot;Text..: &quot; + text.getText()));\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; new JTextFieldPromptExample(&quot;JTextField with Prompt&quot;));\r\n    \t}\r\n    }\r\n\r\n","title":"Java JTextField with input hint","body":"<p>Here is a fully working example based on Adam Gawne-Cain's earlier Posting. His solution is simple and actually works exceptionally well.</p>\n\n<p>I've used the following text in a Grid of multiple Fields:<br></p>\n\n<pre><code>H__|__WWW__+__XXXX__+__WWW__|__H\n</code></pre>\n\n<p>this makes it possible to easily verify the x/y alignment of the hinted text.</p>\n\n<p>A couple of observations:<br>\n- there are any number of solutions out there, but many only work superficially and/or are buggy<br>\n- sun.tools.jconsole.ThreadTab.PromptingTextField is a simple solution, but it only shows the prompting text when the Field doesn't have the focus &amp; it's private, but nothing a little cut-and-paste won't fix.</p>\n\n<p>The following works on JDK 8 and upwards:</p>\n\n<pre><code>import java.awt.*;\nimport java.util.stream.*;\nimport javax.swing.*;\n/**\n * @author DaveTheDane, based on a suggestion from Adam Gawne-Cain\n */\npublic final class JTextFieldPromptExample extends JFrame {\n\n    private static JTextField newPromptedJTextField (final String text, final String prompt) {\n\n        final String promptPossiblyNullButNeverWhitespace = prompt == null || prompt.trim().isEmpty()  ?  null  :  prompt;\n\n        return new JTextField(text) {\n            @Override\n            public void paintComponent(final Graphics    USE_g2d_INSTEAD) {\n                final Graphics2D     g2d =  (Graphics2D) USE_g2d_INSTEAD;\n\n                super.paintComponent(g2d);\n\n//              System.out.println(\"Paint.: \" + g2d);\n\n                if (getText().isEmpty()\n                &amp;&amp;  promptPossiblyNullButNeverWhitespace != null) {\n                    g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n\n                    final Insets      ins = getInsets();\n                    final FontMetrics fm  = g2d.getFontMetrics();\n\n                    final int cB = getBackground().getRGB();\n                    final int cF = getForeground().getRGB();\n                    final int m  = 0xfefefefe;\n                    final int c2 = ((cB &amp; m) &gt;&gt;&gt; 1) + ((cF &amp; m) &gt;&gt;&gt; 1); // \"for X in (A, R, G, B) {Xnew = (Xb + Xf) / 2}\"\n                    /*\n                     * The hint text color should be halfway between the foreground and background colors so it is always gently visible.\n                     * The variables c0,c1,m,c2 calculate the halfway color's ARGB fields simultaneously without overflowing 8 bits.\n                     * Swing sets the Graphics' font to match the JTextField's font property before calling the \"paint\" method,\n                     * so the hint font will match the JTextField's font.\n                     * Don't think there are any side effects because Swing discards the Graphics after painting.\n                     * Adam Gawne-Cain, Aug 6 2019 at 15:55\n                     */\n                    g2d.setColor(new Color(c2, true));\n                    g2d.drawString(promptPossiblyNullButNeverWhitespace, ins.left, getHeight() - fm.getDescent() - ins.bottom);\n                    /*\n                     * y Coordinate based on Descent &amp; Bottom-inset seems to align Text spot-on.\n                     * DaveTheDane, Apr 10 2020\n                     */\n                }\n            }\n        };\n    }\n\n    private static final GridBagConstraints GBC_LEFT  = new GridBagConstraints();\n    private static final GridBagConstraints GBC_RIGHT = new GridBagConstraints();\n    /**/    static {\n        GBC_LEFT .anchor    = GridBagConstraints.LINE_START;\n        GBC_LEFT .fill      = GridBagConstraints.HORIZONTAL;\n        GBC_LEFT .insets    = new Insets(8, 8, 0, 0);\n\n        GBC_RIGHT.gridwidth = GridBagConstraints.REMAINDER;\n        GBC_RIGHT.fill      = GridBagConstraints.HORIZONTAL;\n        GBC_RIGHT.insets    = new Insets(8, 8, 0, 8);\n    }\n\n    private &lt;C extends Component&gt; C addLeft (final C component) {\n        this    .add           (component);\n        this.gbl.setConstraints(component, GBC_LEFT);\n        return                  component;\n    }\n    private &lt;C extends Component&gt; C addRight(final C component) {\n        this    .add           (component);\n        this.gbl.setConstraints(component, GBC_RIGHT);\n        return                  component;\n    }\n\n    private static final String ALIGN = \"H__|__WWW__+__XXXX__+__WWW__|__H\";\n\n    private final GridBagLayout gbl = new GridBagLayout();\n\n    public JTextFieldPromptExample(final String title) {\n        super(title);\n        this.setLayout(gbl);\n\n        final java.util.List&lt;JTextField&gt; texts = Stream.of(\n                addLeft (newPromptedJTextField(ALIGN + ' ' + \"Top-Left\"    , ALIGN)),\n                addRight(newPromptedJTextField(ALIGN + ' ' + \"Top-Right\"   , ALIGN)),\n\n                addLeft (newPromptedJTextField(ALIGN + ' ' + \"Middle-Left\" , ALIGN)),\n                addRight(newPromptedJTextField(                       null , ALIGN)),\n\n                addLeft (new        JTextField(\"x\"        )),\n                addRight(newPromptedJTextField(\"x\",   \"\"  )),\n\n                addLeft (new        JTextField(null       )),\n                addRight(newPromptedJTextField(null,  null)),\n\n                addLeft (newPromptedJTextField(ALIGN + ' ' + \"Bottom-Left\" , ALIGN)),\n                addRight(newPromptedJTextField(ALIGN + ' ' + \"Bottom-Right\", ALIGN)) ).collect(Collectors.toList());\n\n        final JButton button = addRight(new JButton(\"Get texts\"));\n        /**/                   addRight(Box.createVerticalStrut(0)); // 1 last time forces bottom inset\n\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        this.setPreferredSize(new Dimension(740, 260));\n        this.pack();\n        this.setResizable(false);\n        this.setVisible(true);\n\n        button.addActionListener(e -&gt; {\n            texts.forEach(text -&gt; System.out.println(\"Text..: \" + text.getText()));\n        });\n    }\n\n    public static void main(final String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new JTextFieldPromptExample(\"JTextField with Prompt\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654938,"reputation":21,"user_id":5802225,"display_name":"Termenoil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695840142,"creation_date":1695840142,"answer_id":77190102,"question_id":1738966,"body_markdown":"I created a custom class that shows an input hint inside a JTextArea when the component is out of focus and the text is empty. This implementation also prevents listeners from receiving unwanted notifications that occur when the hint text is displayed. This may work for JTextFields as well but I haven&#39;t tested it.\r\n\r\n    public class HintTextArea extends JTextArea{\r\n        \r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        private String hintText;\r\n        \r\n        public HintTextArea(String hintText){\r\n            \r\n            super();\r\n            this.hintText = hintText;\r\n            \r\n        }\r\n        \r\n        public String getHintText(){\r\n            \r\n            return hintText;\r\n            \r\n        }\r\n        \r\n        public void setHintText(String hintText){\r\n            \r\n            this.hintText = hintText;\r\n            \r\n        }\r\n        \r\n        @Override\r\n        protected void paintComponent(Graphics g){\r\n            \r\n            boolean paintHint = getText().isEmpty() &amp;&amp; !hasFocus();\r\n            DocumentListener[] listeners;\r\n            \r\n            if(paintHint){\r\n                \r\n                listeners = getAndRemoveDocumentListeners();\r\n                setText(hintText);\r\n                super.paintComponent(g);\r\n                setText(&quot;&quot;);\r\n                restoreDocumentListeners(listeners);\r\n                \r\n            }else\r\n                super.paintComponent(g);\r\n            \r\n        }\r\n        \r\n        protected DocumentListener[] getAndRemoveDocumentListeners(){\r\n            \r\n            PlainDocument document = (PlainDocument)getDocument();\r\n            DocumentListener[] listeners = document.getDocumentListeners();\r\n            \r\n            for(DocumentListener listener : listeners)\r\n                document.removeDocumentListener(listener);\r\n            \r\n            return listeners;\r\n            \r\n        }\r\n        \r\n        protected void restoreDocumentListeners(DocumentListener[] listeners){\r\n            \r\n            PlainDocument document = (PlainDocument)getDocument();\r\n            \r\n            for(DocumentListener listener : listeners)\r\n                document.addDocumentListener(listener);\r\n            \r\n        }\r\n        \r\n    }","title":"Java JTextField with input hint","body":"<p>I created a custom class that shows an input hint inside a JTextArea when the component is out of focus and the text is empty. This implementation also prevents listeners from receiving unwanted notifications that occur when the hint text is displayed. This may work for JTextFields as well but I haven't tested it.</p>\n<pre><code>public class HintTextArea extends JTextArea{\n    \n    private static final long serialVersionUID = 1L;\n    \n    private String hintText;\n    \n    public HintTextArea(String hintText){\n        \n        super();\n        this.hintText = hintText;\n        \n    }\n    \n    public String getHintText(){\n        \n        return hintText;\n        \n    }\n    \n    public void setHintText(String hintText){\n        \n        this.hintText = hintText;\n        \n    }\n    \n    @Override\n    protected void paintComponent(Graphics g){\n        \n        boolean paintHint = getText().isEmpty() &amp;&amp; !hasFocus();\n        DocumentListener[] listeners;\n        \n        if(paintHint){\n            \n            listeners = getAndRemoveDocumentListeners();\n            setText(hintText);\n            super.paintComponent(g);\n            setText(&quot;&quot;);\n            restoreDocumentListeners(listeners);\n            \n        }else\n            super.paintComponent(g);\n        \n    }\n    \n    protected DocumentListener[] getAndRemoveDocumentListeners(){\n        \n        PlainDocument document = (PlainDocument)getDocument();\n        DocumentListener[] listeners = document.getDocumentListeners();\n        \n        for(DocumentListener listener : listeners)\n            document.removeDocumentListener(listener);\n        \n        return listeners;\n        \n    }\n    \n    protected void restoreDocumentListeners(DocumentListener[] listeners){\n        \n        PlainDocument document = (PlainDocument)getDocument();\n        \n        for(DocumentListener listener : listeners)\n            document.addDocumentListener(listener);\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":43081,"reputation":4028,"user_id":125756,"accept_rate":77,"display_name":"Wienczny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120756,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":1739007,"answer_count":10,"score":49,"last_activity_date":1695840142,"creation_date":1258321691,"question_id":1738966,"body_markdown":"I would like to add a hint value to my **`javax.swing.JTextField`**. It should look like Firefox rendering of `&lt;input type=&quot;text&quot; title=&quot;bla&quot;&gt;`. This creates an edit field with the text &#39;bla&#39; in the background. If the textbox has focus the title-text disappears and just reappears if the user leaves the editbox without text.\r\n\r\nIs there a (free) swing component that does something like this?","title":"Java JTextField with input hint","body":"<p>I would like to add a hint value to my <strong><code>javax.swing.JTextField</code></strong>. It should look like Firefox rendering of <code>&lt;input type=\"text\" title=\"bla\"&gt;</code>. This creates an edit field with the text 'bla' in the background. If the textbox has focus the title-text disappears and just reappears if the user leaves the editbox without text.</p>\n\n<p>Is there a (free) swing component that does something like this?</p>\n"},{"tags":["java","eclipse","module","java-platform-module-system","modularization"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693518244,"post_id":77019244,"comment_id":135775759,"body_markdown":"https://blogs.oracle.com/java/post/how-to-develop-modules-with-eclipse-ide","body":"<a href=\"https://blogs.oracle.com/java/post/how-to-develop-modules-with-eclipse-ide\" rel=\"nofollow noreferrer\">blogs.oracle.com/java/post/&hellip;</a>"},{"owner":{"account_id":20583757,"reputation":1,"user_id":15109167,"display_name":"James Walton"},"score":0,"creation_date":1693528315,"post_id":77019244,"comment_id":135776726,"body_markdown":"I will read that article. Thank you.","body":"I will read that article. Thank you."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1693551398,"post_id":77019244,"comment_id":135778626,"body_markdown":"Each module has to be a project of its own, as it has its own dependencies. Prefer self-contained modules by having each module have its own resources and settings that are synchronized rather than shared.","body":"Each module has to be a project of its own, as it has its own dependencies. Prefer self-contained modules by having each module have its own resources and settings that are synchronized rather than shared."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1693551698,"post_id":77019244,"comment_id":135778687,"body_markdown":"@MadProgrammer That&#39;s at least outdated. For example, in the launch configuration, no _VM arguments_ has and should be configured.","body":"@MadProgrammer That&#39;s at least outdated. For example, in the launch configuration, no <i>VM arguments</i> has and should be configured."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693603360,"post_id":77019244,"comment_id":135787690,"body_markdown":"@howlger My point is, SO isn&#39;t the first place to seek answers","body":"@howlger My point is, SO isn&#39;t the first place to seek answers"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1693644095,"post_id":77019244,"comment_id":135790182,"body_markdown":"@MadProgrammer The tutorial might be the reason for a couple of weird questions asked on Stack Overflow. The first place to look for help about specific software is the documentation of the software itself, not blog posts that are that old.","body":"@MadProgrammer The tutorial might be the reason for a couple of weird questions asked on Stack Overflow. The first place to look for help about specific software is the documentation of the software itself, not blog posts that are that old."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693645809,"post_id":77019244,"comment_id":135790351,"body_markdown":"@howlger True, and again, my point - not proof of investigation to solve the issue was provied","body":"@howlger True, and again, my point - not proof of investigation to solve the issue was provied"}],"answers":[{"tags":[],"owner":{"account_id":20583757,"reputation":1,"user_id":15109167,"display_name":"James Walton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695839941,"creation_date":1695839941,"answer_id":77190077,"question_id":77019244,"body_markdown":"Each Java Project holds a single module in the Java Platform Module System. I primarily used this video as a resource: [Creating a Multi-Module Maven Project][1]. However, a book titled &quot;The Java Module System&quot; by Nicolai Parlog can help understand the underlying theories behind the system.\r\n\r\n\r\n----------\r\n\r\n\r\nHere is a tutorial on how I was able to solve my problem:\r\n\r\nCreate a Maven Project\r\n----------------------\r\n\r\nThis parent project holds all the modules (child projects). Press the New button ⇒ Maven ⇒ Maven Project ⇒ press the Next button ⇒ check &quot;Create a simple project&quot; ⇒ press the Next button ⇒\r\n\r\n    Group Id: org.name \r\n    Artifact Id: RomanEmperors\r\n    Version: 0.0.1-SNAPSHOT\r\n    Packaging: pom\r\n\r\n⇒ press the Finish button.\r\n\r\nCreate a Maven Module\r\n---------------------\r\n\r\nPress the New button ⇒ Maven ⇒ Maven Module ⇒ press the Next button ⇒ check &quot;Create a simple project&quot; ⇒ \r\n\r\n    Module Name: MavenModuleName1\r\n    Parent Project: RomanEmperors\r\n\r\n⇒ press the Finish button.\r\n\r\nCreate a module-info.java File\r\n------------------------------\r\n\r\nRight-click on your Maven Module ⇒ Configure ⇒ Create module-info.java ⇒ &quot;Project requires compliance level of 9 or above. Do you want to change project compliance and JRE to 20?&quot; press the Yes button ⇒ \r\n\r\n    Module name: module1\r\n\r\n \r\nNote. By convention, module names usually start with a lowercase letter. ⇒ press the Create button.\r\n\r\nCreate a Package\r\n----------------\r\n\r\nRight-click on &quot;src/main/java&quot; ⇒ New ⇒ Package ⇒ \r\n\r\n    Name: augustus\r\n\r\n \r\nNote. By convention, package names usually start with a lowercase letter. ⇒ press the Finish button.\r\n\r\n\r\n----------\r\n\r\nThen, repeat the steps to create the other modules and packages.\r\n\r\n  [1]: https://youtu.be/zVwUy08SFnA?feature=shared","title":"Modularizing a Java Project in Eclipse","body":"<p>Each Java Project holds a single module in the Java Platform Module System. I primarily used this video as a resource: <a href=\"https://youtu.be/zVwUy08SFnA?feature=shared\" rel=\"nofollow noreferrer\">Creating a Multi-Module Maven Project</a>. However, a book titled &quot;The Java Module System&quot; by Nicolai Parlog can help understand the underlying theories behind the system.</p>\n<hr />\n<p>Here is a tutorial on how I was able to solve my problem:</p>\n<h2>Create a Maven Project</h2>\n<p>This parent project holds all the modules (child projects). Press the New button ⇒ Maven ⇒ Maven Project ⇒ press the Next button ⇒ check &quot;Create a simple project&quot; ⇒ press the Next button ⇒</p>\n<pre><code>Group Id: org.name \nArtifact Id: RomanEmperors\nVersion: 0.0.1-SNAPSHOT\nPackaging: pom\n</code></pre>\n<p>⇒ press the Finish button.</p>\n<h2>Create a Maven Module</h2>\n<p>Press the New button ⇒ Maven ⇒ Maven Module ⇒ press the Next button ⇒ check &quot;Create a simple project&quot; ⇒</p>\n<pre><code>Module Name: MavenModuleName1\nParent Project: RomanEmperors\n</code></pre>\n<p>⇒ press the Finish button.</p>\n<h2>Create a module-info.java File</h2>\n<p>Right-click on your Maven Module ⇒ Configure ⇒ Create module-info.java ⇒ &quot;Project requires compliance level of 9 or above. Do you want to change project compliance and JRE to 20?&quot; press the Yes button ⇒</p>\n<pre><code>Module name: module1\n</code></pre>\n<p>Note. By convention, module names usually start with a lowercase letter. ⇒ press the Create button.</p>\n<h2>Create a Package</h2>\n<p>Right-click on &quot;src/main/java&quot; ⇒ New ⇒ Package ⇒</p>\n<pre><code>Name: augustus\n</code></pre>\n<p>Note. By convention, package names usually start with a lowercase letter. ⇒ press the Finish button.</p>\n<hr />\n<p>Then, repeat the steps to create the other modules and packages.</p>\n"}],"owner":{"account_id":20583757,"reputation":1,"user_id":15109167,"display_name":"James Walton"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77190077,"answer_count":1,"score":0,"last_activity_date":1695839941,"creation_date":1693515766,"question_id":77019244,"body_markdown":"I have four Java packages in Eclipse: augustus, caligula, julius, and nero. I want to place augustus and caligula in a module. I want to place julius and nero in another module. How do I go about doing that? \r\n\r\nI tried creating a &quot;Module1&quot; folder under the &quot;src&quot; source folder to hold augustus and caligula. And I tried creating a &quot;Module2&quot; folder under &quot;src&quot; source folder to hold julius and nero. However, these folders are automatically turned into packages in Eclipse.\r\n\r\nThen I tried creating a &quot;Module1&quot; source folder to hold augustus and caligula. And I tried creating a &quot;Module2&quot; source folder to hold julius and nero. However, it seems Eclipse allows only one module-info.java file. In other words, I can&#39;t put a module-info.java file in each source folder.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform_Module_System","title":"Modularizing a Java Project in Eclipse","body":"<p>I have four Java packages in Eclipse: augustus, caligula, julius, and nero. I want to place augustus and caligula in a module. I want to place julius and nero in another module. How do I go about doing that?</p>\n<p>I tried creating a &quot;Module1&quot; folder under the &quot;src&quot; source folder to hold augustus and caligula. And I tried creating a &quot;Module2&quot; folder under &quot;src&quot; source folder to hold julius and nero. However, these folders are automatically turned into packages in Eclipse.</p>\n<p>Then I tried creating a &quot;Module1&quot; source folder to hold augustus and caligula. And I tried creating a &quot;Module2&quot; source folder to hold julius and nero. However, it seems Eclipse allows only one module-info.java file. In other words, I can't put a module-info.java file in each source folder.</p>\n"},{"tags":["java","swt","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1442326114,"post_id":32588086,"comment_id":53030110,"body_markdown":"Dialogs size automatically if you use a [Layout](http://www.eclipse.org/articles/Article-Understanding-Layouts/Understanding-Layouts.htm)","body":"Dialogs size automatically if you use a <a href=\"http://www.eclipse.org/articles/Article-Understanding-Layouts/Understanding-Layouts.htm\" rel=\"nofollow noreferrer\">Layout</a>"},{"owner":{"account_id":5404177,"reputation":71,"user_id":4303168,"display_name":"V_Java"},"score":0,"creation_date":1442398069,"post_id":32588086,"comment_id":53062464,"body_markdown":"I am using a grid layout..","body":"I am using a grid layout.."}],"answers":[{"tags":[],"owner":{"account_id":5404177,"reputation":71,"user_id":4303168,"display_name":"V_Java"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1454502544,"creation_date":1454501442,"answer_id":35176713,"question_id":32588086,"body_markdown":"I did it in the following way:\r\n\r\n    Display.getCurrent().getDPI().x\r\n\r\nHere, based on the return value(96, 120 or 144) it can be determined if the size is 100%, 125% or 150% respectively","title":"How to detect the windows font size(100%, 125%, 150%) in java","body":"<p>I did it in the following way:</p>\n\n<pre><code>Display.getCurrent().getDPI().x\n</code></pre>\n\n<p>Here, based on the return value(96, 120 or 144) it can be determined if the size is 100%, 125% or 150% respectively</p>\n"},{"comments":[{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1695338062,"post_id":67112363,"comment_id":136014777,"body_markdown":"gcs and pt are undefined. You describe what pt is supposed to be, but no explanation or example.","body":"gcs and pt are undefined. You describe what pt is supposed to be, but no explanation or example."}],"tags":[],"owner":{"account_id":21269938,"reputation":1,"user_id":15649620,"display_name":"Pol Magermans"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618504110,"creation_date":1618504110,"answer_id":67112363,"question_id":32588086,"body_markdown":"I know it is an old subject, but it still is an actual problem, and the answer is not working with windows 10, where the ratio can be different on each screen when using several displays.\r\nSWT only consider one Display with the full resolution, and DPI returned will be the one of the default screen.\r\n\r\nI share the solution I found using AWT API, as SWT won&#39;t help:\r\n\r\n    import java.awt.*;\r\n    ...\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    GraphicsDevice[] gds = ge.getScreenDevices();\r\n    // find the screen on which we draw\r\n    for (GraphicsDevice gd : gds){\r\n        DisplayMode dm = gd.getDisplayMode();\r\n        for (GraphicsConfiguration gc : gcs) {\r\n            Rectangle bnds = gc.getBounds();\r\n            if (bnds.contains(pt)){ \r\n                // pt is a java.awt.Point in the working area in virtual coordinates\r\n                \r\n                // and here is the expected windows ratio\r\n                int ratio = 100 * dm.getWidth() / bnds.width;\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to detect the windows font size(100%, 125%, 150%) in java","body":"<p>I know it is an old subject, but it still is an actual problem, and the answer is not working with windows 10, where the ratio can be different on each screen when using several displays.\nSWT only consider one Display with the full resolution, and DPI returned will be the one of the default screen.</p>\n<p>I share the solution I found using AWT API, as SWT won't help:</p>\n<pre><code>import java.awt.*;\n...\nGraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\nGraphicsDevice[] gds = ge.getScreenDevices();\n// find the screen on which we draw\nfor (GraphicsDevice gd : gds){\n    DisplayMode dm = gd.getDisplayMode();\n    for (GraphicsConfiguration gc : gcs) {\n        Rectangle bnds = gc.getBounds();\n        if (bnds.contains(pt)){ \n            // pt is a java.awt.Point in the working area in virtual coordinates\n            \n            // and here is the expected windows ratio\n            int ratio = 100 * dm.getWidth() / bnds.width;\n            ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535286,"reputation":553,"user_id":1431510,"display_name":"Yaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695839312,"creation_date":1695839312,"answer_id":77190027,"question_id":32588086,"body_markdown":"You can use widget.getMonitor().getZoom() for each monitor.","title":"How to detect the windows font size(100%, 125%, 150%) in java","body":"<p>You can use widget.getMonitor().getZoom() for each monitor.</p>\n"}],"owner":{"account_id":5404177,"reputation":71,"user_id":4303168,"display_name":"V_Java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35176713,"answer_count":3,"score":4,"last_activity_date":1695839312,"creation_date":1442325644,"question_id":32588086,"body_markdown":"I am using an swt dialog in which the controls get cut off from the screen if I increase the font size(Control Panel-&gt; Display) from smaller(100%) to large(150%)\r\nThis can be solved using \r\n\r\n1. Scrollable composite or \r\n2. To resize the controls or font size if the windows size has been\r\n    changed to larger.\r\n\r\nFor point 2, I am unable to get the current Windows size. If I get that, the problem can be solved as the scrollable composite isn&#39;t suitable for the smaller size.","title":"How to detect the windows font size(100%, 125%, 150%) in java","body":"<p>I am using an swt dialog in which the controls get cut off from the screen if I increase the font size(Control Panel-> Display) from smaller(100%) to large(150%)\nThis can be solved using </p>\n\n<ol>\n<li>Scrollable composite or </li>\n<li>To resize the controls or font size if the windows size has been\nchanged to larger.</li>\n</ol>\n\n<p>For point 2, I am unable to get the current Windows size. If I get that, the problem can be solved as the scrollable composite isn't suitable for the smaller size.</p>\n"},{"tags":["java","eclipse","tomcat","web-applications"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695826287,"post_id":77187626,"comment_id":136076466,"body_markdown":"You should not change the subject to indicate it it solved. Post your solution as a answers and accept it.","body":"You should not change the subject to indicate it it solved. Post your solution as a answers and accept it."}],"answers":[{"tags":[],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695838999,"creation_date":1695838999,"answer_id":77189998,"question_id":77187626,"body_markdown":"I found the solution! eclipse was reloading the application, because I write a default configuration on request within the space, where eclipse is watching for changes (in this case I overwrite a file from the &#39;resource&#39; directory) =&gt; it reloaded the application =&gt; the Servletcontextlistener triggered, as the application &quot;started up&quot; everytime this happens.","title":"ContextListener at tomcat within eclipse triggering on every request","body":"<p>I found the solution! eclipse was reloading the application, because I write a default configuration on request within the space, where eclipse is watching for changes (in this case I overwrite a file from the 'resource' directory) =&gt; it reloaded the application =&gt; the Servletcontextlistener triggered, as the application &quot;started up&quot; everytime this happens.</p>\n"}],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695839018,"creation_date":1695818588,"question_id":77187626,"body_markdown":"I thought implementing the ContextListener and adding it to web.xml like this:&lt;br/&gt;&lt;br/&gt;\r\nclass:\r\n\r\n    public class StartupContextListener implements ServletContextListener{\r\n    \r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        System.out.println(&quot;ContextListener running...&quot;);\r\n    }\r\n    ...\r\n\r\nweb.xml:\r\n\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;display-name&gt;StartupListener&lt;/display-name&gt;\r\n    \t\t&lt;listener-class&gt;com.ffleuchten.webtemplate.contextlisteners.StartupContextListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n\r\nshould trigger the contextInitialized(ServletContextEvent) method once, when the first request is coming in.\r\nI have eclipse running here with tomcat &quot;inside&quot; it. And the servletcontextlistener triggers on every request? Did I not understand the concept of Contextlisteners or is the eclipse-tomcat working in a different way? Interesting: I see this line in the default out, although I did not change any code or files right after a request and before my contextListener triggering:\r\n\r\n    Sep 27, 2023 2:32:33 PM org.apache.catalina.core.StandardContext reload\r\n    Sep 27, 2023 2:32:56 PM ContextListener running...\r\nSo what&#39;s happening here? Any suggestions?\r\n\r\nedit: I found the solution! eclipse was reloading the application, because I write a default configuration on request within the space, where eclipse is watching for changes (in this case I overwrite a file from the &#39;resource&#39; directory) =&gt; it reloaded the application =&gt; the Servletcontextlistener triggered, as the application &quot;started up&quot; everytime this happens.","title":"ContextListener at tomcat within eclipse triggering on every request","body":"<p>I thought implementing the ContextListener and adding it to web.xml like this:<br/><br/>\nclass:</p>\n<pre><code>public class StartupContextListener implements ServletContextListener{\n\n@Override\npublic void contextInitialized(ServletContextEvent sce) {\n    System.out.println(&quot;ContextListener running...&quot;);\n}\n...\n</code></pre>\n<p>web.xml:</p>\n<pre><code>    &lt;listener&gt;\n        &lt;display-name&gt;StartupListener&lt;/display-name&gt;\n        &lt;listener-class&gt;com.ffleuchten.webtemplate.contextlisteners.StartupContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n</code></pre>\n<p>should trigger the contextInitialized(ServletContextEvent) method once, when the first request is coming in.\nI have eclipse running here with tomcat &quot;inside&quot; it. And the servletcontextlistener triggers on every request? Did I not understand the concept of Contextlisteners or is the eclipse-tomcat working in a different way? Interesting: I see this line in the default out, although I did not change any code or files right after a request and before my contextListener triggering:</p>\n<pre><code>Sep 27, 2023 2:32:33 PM org.apache.catalina.core.StandardContext reload\nSep 27, 2023 2:32:56 PM ContextListener running...\n</code></pre>\n<p>So what's happening here? Any suggestions?</p>\n<p>edit: I found the solution! eclipse was reloading the application, because I write a default configuration on request within the space, where eclipse is watching for changes (in this case I overwrite a file from the 'resource' directory) =&gt; it reloaded the application =&gt; the Servletcontextlistener triggered, as the application &quot;started up&quot; everytime this happens.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":13128343,"reputation":912,"user_id":9483513,"display_name":"Sarangan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695838925,"creation_date":1695838925,"question_id":77189987,"body_markdown":"Iam trying this code locally:\r\n\r\nhttps://github.com/ali-bouali/spring-boot-3-jwt-security\r\n\r\nWhen running the application iam getting this error: \r\n\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start web server\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat com.flexPerk.flexCore.FlexCoreApplication.main(FlexCoreApplication.java:13) ~[classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:489) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \t... 8 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jwtAuthenticationFilter&#39; defined in file [/Users/saranganjanakan/IdeaProjects/FlexCore/target/classes/com/flexPerk/flexCore/config/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;applicationConfig&#39; defined in file [/Users/saranganjanakan/IdeaProjects/FlexCore/target/classes/com/flexPerk/flexCore/config/ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;userRepository&#39; defined in com.flexPerk.flexCore.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while setting bean property &#39;entityManager&#39;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:235) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \t... 13 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;applicationConfig&#39; defined in file [/Users/saranganjanakan/IdeaProjects/FlexCore/target/classes/com/flexPerk/flexCore/config/ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;userRepository&#39; defined in com.flexPerk.flexCore.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while setting bean property &#39;entityManager&#39;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 54 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in com.flexPerk.flexCore.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while setting bean property &#39;entityManager&#39;\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1682) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 77 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:517) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 91 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 103 common frames omitted\r\n    Caused by: java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;)\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.bind(PropertyBinder.java:302) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:293) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.createBasicBinder(PropertyBinder.java:1146) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.bindBasic(PropertyBinder.java:1048) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:867) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:765) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:686) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:967) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:302) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 110 common frames omitted\r\n\r\nI have checked if my database server is running &amp; correctly configured in application.properties file but i&#39;ve not found any problem there.\r\n\r\nIam using spring-boot 3.1.2. Is there any issues with the hibernate versions?","title":"org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;","body":"<p>Iam trying this code locally:</p>\n<p><a href=\"https://github.com/ali-bouali/spring-boot-3-jwt-security\" rel=\"nofollow noreferrer\">https://github.com/ali-bouali/spring-boot-3-jwt-security</a></p>\n<p>When running the application iam getting this error:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.flexPerk.flexCore.FlexCoreApplication.main(FlexCoreApplication.java:13) ~[classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:489) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.2.jar:3.1.2]\n    ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/Users/saranganjanakan/IdeaProjects/FlexCore/target/classes/com/flexPerk/flexCore/config/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationConfig' defined in file [/Users/saranganjanakan/IdeaProjects/FlexCore/target/classes/com/flexPerk/flexCore/config/ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.flexPerk.flexCore.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:235) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.1.2.jar:3.1.2]\n    ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationConfig' defined in file [/Users/saranganjanakan/IdeaProjects/FlexCore/target/classes/com/flexPerk/flexCore/config/ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.flexPerk.flexCore.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 54 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.flexPerk.flexCore.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1682) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 77 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:517) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 91 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 103 common frames omitted\nCaused by: java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader 'app')\n    at org.hibernate.boot.model.internal.PropertyBinder.bind(PropertyBinder.java:302) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:293) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.PropertyBinder.createBasicBinder(PropertyBinder.java:1146) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.PropertyBinder.bindBasic(PropertyBinder.java:1048) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:867) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:765) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:686) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:967) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:302) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 110 common frames omitted\n</code></pre>\n<p>I have checked if my database server is running &amp; correctly configured in application.properties file but i've not found any problem there.</p>\n<p>Iam using spring-boot 3.1.2. Is there any issues with the hibernate versions?</p>\n"},{"tags":["java","imgscalr"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695795329,"post_id":77184307,"comment_id":136070233,"body_markdown":"Make an image of the size you want and copy part of the original image to it. You&#39;ll need to edit your question to explain where you are stuck. Please read [ask].","body":"Make an image of the size you want and copy part of the original image to it. You&#39;ll need to edit your question to explain where you are stuck. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695812737,"post_id":77184307,"comment_id":136073455,"body_markdown":"The problem is that this isn&#39;t cropping, so no _crop_ function will do this for you. the best you can probably do is crop the image to the rectangle defined by the horizontal red and the vertical green, and then copy that to the right position in a new image with the dimensions specified by the red rectangle.","body":"The problem is that this isn&#39;t cropping, so no <i>crop</i> function will do this for you. the best you can probably do is crop the image to the rectangle defined by the horizontal red and the vertical green, and then copy that to the right position in a new image with the dimensions specified by the red rectangle."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695812903,"post_id":77184307,"comment_id":136073492,"body_markdown":"Looking at the API doc, you might be able to use `crop()` to the red horizontal/green vertical bounding box, and then use `pad()` to pad the image, or maybe first pad, then crop.","body":"Looking at the API doc, you might be able to use <code>crop()</code> to the red horizontal/green vertical bounding box, and then use <code>pad()</code> to pad the image, or maybe first pad, then crop."}],"answers":[{"tags":[],"owner":{"account_id":368661,"reputation":4178,"user_id":715608,"accept_rate":55,"display_name":"SGT Grumpy Pants"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695838825,"creation_date":1695838825,"answer_id":77189979,"question_id":77184307,"body_markdown":"Padding the image before cropping solved the problem\r\n\r\n\r\n    static BufferedImage pad(BufferedImage bufferedImage) {\r\n        int padding = Math.min(bufferedImage.height, bufferedImage.width) / 2\r\n        BufferedImage paddedImage = Scalr.pad(bufferedImage, padding, Color.WHITE)\r\n        return paddedImage\r\n    }\r\n\r\nThen I cropped the padded image.\r\n\r\nThanks, everyone for the help in the comments.","title":"How to crop an image outside it&#39;s original boundaries","body":"<p>Padding the image before cropping solved the problem</p>\n<pre><code>static BufferedImage pad(BufferedImage bufferedImage) {\n    int padding = Math.min(bufferedImage.height, bufferedImage.width) / 2\n    BufferedImage paddedImage = Scalr.pad(bufferedImage, padding, Color.WHITE)\n    return paddedImage\n}\n</code></pre>\n<p>Then I cropped the padded image.</p>\n<p>Thanks, everyone for the help in the comments.</p>\n"}],"owner":{"account_id":368661,"reputation":4178,"user_id":715608,"accept_rate":55,"display_name":"SGT Grumpy Pants"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695838825,"creation_date":1695780293,"question_id":77184307,"body_markdown":"I have an image of a face that&#39;s a narrow rectangle and I want to crop a square image centered on the face so that the bounds of the cropped image extend beyond the boundaries of the original image.\r\n\r\nHere&#39;s an example, the **green** box is the boundary of the original image and the **red** box is the desired boundary of the new image.\r\n\r\nHow do I perform this &quot;crop&quot; in Java?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCurrently this is what I&#39;m doing, but `imgscalr` wouldn&#39;t let me crop outside the bounds of the original image.\r\n\r\n    static BufferedImage crop(BufferedImage bufferedImage, BoundingBox box) {\r\n        int y = box.top as Integer\r\n        int x = box.left as Integer\r\n        int targetWidth = box.width as Integer\r\n        int targetHeight = box.height as Integer\r\n\r\n        Scalr.crop(bufferedImage, x, y, targetWidth - 1, targetHeight)\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EJEeg.jpg","title":"How to crop an image outside it&#39;s original boundaries","body":"<p>I have an image of a face that's a narrow rectangle and I want to crop a square image centered on the face so that the bounds of the cropped image extend beyond the boundaries of the original image.</p>\n<p>Here's an example, the <strong>green</strong> box is the boundary of the original image and the <strong>red</strong> box is the desired boundary of the new image.</p>\n<p>How do I perform this &quot;crop&quot; in Java?</p>\n<p><a href=\"https://i.stack.imgur.com/EJEeg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJEeg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Currently this is what I'm doing, but <code>imgscalr</code> wouldn't let me crop outside the bounds of the original image.</p>\n<pre><code>static BufferedImage crop(BufferedImage bufferedImage, BoundingBox box) {\n    int y = box.top as Integer\n    int x = box.left as Integer\n    int targetWidth = box.width as Integer\n    int targetHeight = box.height as Integer\n\n    Scalr.crop(bufferedImage, x, y, targetWidth - 1, targetHeight)\n}\n</code></pre>\n"},{"tags":["java","windows","winapi","jna"],"comments":[{"owner":{"account_id":174359,"reputation":133440,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1695708835,"post_id":77176549,"comment_id":136056650,"body_markdown":"Some windows are configured so they can&#39;t be captured using SetWindowDisplayAffinity(...WDA_EXCLUDEFROMCAPTURE...) https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-setwindowdisplayaffinity some other Windows can&#39;t be capture because their content is protected (copyright, etc.). In other words, you cannot capture *any* window.","body":"Some windows are configured so they can&#39;t be captured using SetWindowDisplayAffinity(...WDA_EXCLUDEFROMCAPTURE...) <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-setwindowdisplayaffinity\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/api/winuser/&hellip;</a> some other Windows can&#39;t be capture because their content is protected (copyright, etc.). In other words, you cannot capture <i>any</i> window."},{"owner":{"account_id":29534338,"reputation":1,"user_id":22634236,"display_name":"Mysteryy"},"score":0,"creation_date":1695784106,"post_id":77176549,"comment_id":136069232,"body_markdown":"Are there any suggestions you have to try and get this working? The SetWindowDisplayAffinity says &quot;Everywhere else, the window does not appear at all. &quot; which makes me think the display context would be empty, or something? I&#39;m actually getting a valid image, but the image does not actively update after the initial query.","body":"Are there any suggestions you have to try and get this working? The SetWindowDisplayAffinity says &quot;Everywhere else, the window does not appear at all. &quot; which makes me think the display context would be empty, or something? I&#39;m actually getting a valid image, but the image does not actively update after the initial query."},{"owner":{"account_id":174359,"reputation":133440,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1695795515,"post_id":77176549,"comment_id":136070259,"body_markdown":"If you get an image, it means you&#39;re not in the &quot;protected&quot; scenario. Difficult to say more, I don&#39;t know how GDI32Util.getScreenshot is coded.","body":"If you get an image, it means you&#39;re not in the &quot;protected&quot; scenario. Difficult to say more, I don&#39;t know how GDI32Util.getScreenshot is coded."},{"owner":{"account_id":29534338,"reputation":1,"user_id":22634236,"display_name":"Mysteryy"},"score":0,"creation_date":1695828741,"post_id":77176549,"comment_id":136076992,"body_markdown":"@SimonMourier  I have pasted the snippet from the GDI32Util.getScreenshot function in my OP above. Any recommendations I can try to modify to see if I get different results? I feel there is something that needs to be done to force the DC to redraw before copying it but I was not able to get it working myself.","body":"@SimonMourier  I have pasted the snippet from the GDI32Util.getScreenshot function in my OP above. Any recommendations I can try to modify to see if I get different results? I feel there is something that needs to be done to force the DC to redraw before copying it but I was not able to get it working myself."},{"owner":{"account_id":29534338,"reputation":1,"user_id":22634236,"display_name":"Mysteryy"},"score":0,"creation_date":1695832209,"post_id":77176549,"comment_id":136077711,"body_markdown":"Edit: To me (and my limited knowledge of WinAPI) it seems like what is happening is something like this:  \n\nThe window is open for the first time\nI call get screenshot function\nDC is copied out successfully, and then replaced by SelectObject(hdcTargetMem, hOriginal)\nSomehow this does not restore the DC correctly\nNext time I get the DC, I get this incorrectly restored DC again which contains the same image content\n\nOnly by restarting the window do I get a new image again (for a single time) and then the process repeats.","body":"Edit: To me (and my limited knowledge of WinAPI) it seems like what is happening is something like this:    The window is open for the first time I call get screenshot function DC is copied out successfully, and then replaced by SelectObject(hdcTargetMem, hOriginal) Somehow this does not restore the DC correctly Next time I get the DC, I get this incorrectly restored DC again which contains the same image content  Only by restarting the window do I get a new image again (for a single time) and then the process repeats."},{"owner":{"account_id":29534338,"reputation":1,"user_id":22634236,"display_name":"Mysteryy"},"score":0,"creation_date":1695832921,"post_id":77176549,"comment_id":136077841,"body_markdown":"Edit-edit: The window has the following class styles:\nCS_OWNDC \nCS_VREDRAW\nCS_HREDRAW\nCS_DBLCLKS\n\nI wonder if the CS_OWNDC is the problem with the private DC.","body":"Edit-edit: The window has the following class styles: CS_OWNDC  CS_VREDRAW CS_HREDRAW CS_DBLCLKS  I wonder if the CS_OWNDC is the problem with the private DC."}],"owner":{"account_id":29534338,"reputation":1,"user_id":22634236,"display_name":"Mysteryy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695838782,"creation_date":1695691762,"question_id":77176549,"body_markdown":"This is a question related to getting an image from a window external to myself. I&#39;m using Java JNA for a certain level of window interaction (i.e. get an image from a window that is not mine and send input to it). \r\n\r\nTo get the image, I&#39;m using the following Java JNA function: `GDI32Util.getScreenshot(handle);`.\r\n\r\nIn general this function was working ok on other windows that I tried. However, I noticed now on 2 programs the image would be stale. Basically this function would return the same image over and over and never actually update. My (poor) understanding is that the DC is cached and you get that version, so it almost seems like it&#39;s cached one time and never updated unless I restart the window itself, and then again it is only cached once and returned over and over.\r\n\r\nBoth windows that I&#39;m having problems with are Unity windows (`UnityWndClass`) again these are windows that I don&#39;t own, I just want them to give me an image. \r\n\r\n\r\nHere is a link to the getScreenshot function I am using from JNA: https://github.com/java-native-access/jna/blob/master/contrib/platform/src/com/sun/jna/platform/win32/GDI32Util.java\r\n\r\n\r\nI&#39;ve tried modifying the code below in various ways but had no luck getting it to give me an accurate, and up to date image. I&#39;m no expert on Win API (or anything, to be fair). Any suggestions?\r\n\r\n\r\n\r\n```\r\npublic class GDI32Util {\r\n\r\n    private static final DirectColorModel SCREENSHOT_COLOR_MODEL = new DirectColorModel(24, 0x00FF0000, 0xFF00, 0xFF);\r\n    private static final int[] SCREENSHOT_BAND_MASKS = {\r\n        SCREENSHOT_COLOR_MODEL.getRedMask(),\r\n        SCREENSHOT_COLOR_MODEL.getGreenMask(),\r\n        SCREENSHOT_COLOR_MODEL.getBlueMask()\r\n    };\r\n\r\n    /**\r\n     * Takes a screenshot of the given window\r\n     *\r\n     * @param target The window to target\r\n     *\r\n     * @return the window captured as a screenshot, or null if the BufferedImage\r\n     *         doesn&#39;t construct properly\r\n     *\r\n     * @throws IllegalStateException if the rectangle from GetWindowRect has a\r\n     *                               width and/or height of 0. &lt;br&gt;\r\n     * if the device context acquired from the original HWND doesn&#39;t release\r\n     * properly\r\n     */\r\n    public static BufferedImage getScreenshot(HWND target) {\r\n        RECT rect = new RECT();\r\n        if (!User32.INSTANCE.GetWindowRect(target, rect)) {\r\n            throw new Win32Exception(Native.getLastError());\r\n        }\r\n        Rectangle jRectangle = rect.toRectangle();\r\n        int windowWidth = jRectangle.width;\r\n        int windowHeight = jRectangle.height;\r\n\r\n        if (windowWidth == 0 || windowHeight == 0) {\r\n            throw new IllegalStateException(&quot;Window width and/or height were 0 even though GetWindowRect did not appear to fail.&quot;);\r\n        }\r\n\r\n        HDC hdcTarget = User32.INSTANCE.GetDC(target);\r\n        if (hdcTarget == null) {\r\n            throw new Win32Exception(Native.getLastError());\r\n        }\r\n\r\n        Win32Exception we = null;\r\n\r\n        // device context used for drawing\r\n        HDC hdcTargetMem = null;\r\n\r\n        // handle to the bitmap to be drawn to\r\n        HBITMAP hBitmap = null;\r\n\r\n        // original display surface associated with the device context\r\n        HANDLE hOriginal = null;\r\n\r\n        // final java image structure we&#39;re returning.\r\n        BufferedImage image = null;\r\n\r\n        try {\r\n            hdcTargetMem = GDI32.INSTANCE.CreateCompatibleDC(hdcTarget);\r\n            if (hdcTargetMem == null) {\r\n                throw new Win32Exception(Native.getLastError());\r\n            }\r\n\r\n            hBitmap = GDI32.INSTANCE.CreateCompatibleBitmap(hdcTarget, windowWidth, windowHeight);\r\n            if (hBitmap == null) {\r\n                throw new Win32Exception(Native.getLastError());\r\n            }\r\n\r\n            hOriginal = GDI32.INSTANCE.SelectObject(hdcTargetMem, hBitmap);\r\n            if (hOriginal == null) {\r\n                throw new Win32Exception(Native.getLastError());\r\n            }\r\n\r\n            // draw to the bitmap\r\n            if (!GDI32.INSTANCE.BitBlt(hdcTargetMem, 0, 0, windowWidth, windowHeight, hdcTarget, 0, 0, GDI32.SRCCOPY)) {\r\n                throw new Win32Exception(Native.getLastError());\r\n            }\r\n\r\n            BITMAPINFO bmi = new BITMAPINFO();\r\n            bmi.bmiHeader.biWidth = windowWidth;\r\n            bmi.bmiHeader.biHeight = -windowHeight;\r\n            bmi.bmiHeader.biPlanes = 1;\r\n            bmi.bmiHeader.biBitCount = 32;\r\n            bmi.bmiHeader.biCompression = WinGDI.BI_RGB;\r\n\r\n            Memory buffer = new Memory(windowWidth * windowHeight * 4);\r\n            int resultOfDrawing = GDI32.INSTANCE.GetDIBits(hdcTarget, hBitmap, 0, windowHeight, buffer, bmi,\r\n                    WinGDI.DIB_RGB_COLORS);\r\n            if (resultOfDrawing == 0 || resultOfDrawing == WinError.ERROR_INVALID_PARAMETER) {\r\n                throw new Win32Exception(Native.getLastError());\r\n            }\r\n\r\n            int bufferSize = windowWidth * windowHeight;\r\n            DataBuffer dataBuffer = new DataBufferInt(buffer.getIntArray(0, bufferSize), bufferSize);\r\n            WritableRaster raster = Raster.createPackedRaster(dataBuffer, windowWidth, windowHeight, windowWidth,\r\n                    SCREENSHOT_BAND_MASKS, null);\r\n            image = new BufferedImage(SCREENSHOT_COLOR_MODEL, raster, false, null);\r\n\r\n        } catch (Win32Exception e) {\r\n            we = e;\r\n        } finally {\r\n            if (hOriginal != null) {\r\n                // per MSDN, set the display surface back when done drawing\r\n                HANDLE result = GDI32.INSTANCE.SelectObject(hdcTargetMem, hOriginal);\r\n                // failure modes are null or equal to HGDI_ERROR\r\n                if (result == null || WinGDI.HGDI_ERROR.equals(result)) {\r\n                    Win32Exception ex = new Win32Exception(Native.getLastError());\r\n                    if (we != null) {\r\n                        ex.addSuppressedReflected(we);\r\n                    }\r\n                    we = ex;\r\n                }\r\n            }\r\n\r\n            if (hBitmap != null) {\r\n                if (!GDI32.INSTANCE.DeleteObject(hBitmap)) {\r\n                    Win32Exception ex = new Win32Exception(Native.getLastError());\r\n                    if (we != null) {\r\n                        ex.addSuppressedReflected(we);\r\n                    }\r\n                    we = ex;\r\n                }\r\n            }\r\n\r\n            if (hdcTargetMem != null) {\r\n                // get rid of the device context when done\r\n                if (!GDI32.INSTANCE.DeleteDC(hdcTargetMem)) {\r\n                    Win32Exception ex = new Win32Exception(Native.getLastError());\r\n                    if (we != null) {\r\n                        ex.addSuppressedReflected(we);\r\n                    }\r\n                    we = ex;\r\n                }\r\n            }\r\n\r\n            if (hdcTarget != null) {\r\n                if (0 == User32.INSTANCE.ReleaseDC(target, hdcTarget)) {\r\n                    throw new IllegalStateException(&quot;Device context did not release properly.&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (we != null) {\r\n            throw we;\r\n        }\r\n        return image;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried using the JNA function `GDI32Util.getScreenshot(handle)` and expected the result to be a `BufferedImage` which is constantly updated every time I query, however the image is stale and seems to be constantly returning a cached image instead.","title":"Windows API - Getting an Image From Some Windows Does Not Work","body":"<p>This is a question related to getting an image from a window external to myself. I'm using Java JNA for a certain level of window interaction (i.e. get an image from a window that is not mine and send input to it).</p>\n<p>To get the image, I'm using the following Java JNA function: <code>GDI32Util.getScreenshot(handle);</code>.</p>\n<p>In general this function was working ok on other windows that I tried. However, I noticed now on 2 programs the image would be stale. Basically this function would return the same image over and over and never actually update. My (poor) understanding is that the DC is cached and you get that version, so it almost seems like it's cached one time and never updated unless I restart the window itself, and then again it is only cached once and returned over and over.</p>\n<p>Both windows that I'm having problems with are Unity windows (<code>UnityWndClass</code>) again these are windows that I don't own, I just want them to give me an image.</p>\n<p>Here is a link to the getScreenshot function I am using from JNA: <a href=\"https://github.com/java-native-access/jna/blob/master/contrib/platform/src/com/sun/jna/platform/win32/GDI32Util.java\" rel=\"nofollow noreferrer\">https://github.com/java-native-access/jna/blob/master/contrib/platform/src/com/sun/jna/platform/win32/GDI32Util.java</a></p>\n<p>I've tried modifying the code below in various ways but had no luck getting it to give me an accurate, and up to date image. I'm no expert on Win API (or anything, to be fair). Any suggestions?</p>\n<pre><code>public class GDI32Util {\n\n    private static final DirectColorModel SCREENSHOT_COLOR_MODEL = new DirectColorModel(24, 0x00FF0000, 0xFF00, 0xFF);\n    private static final int[] SCREENSHOT_BAND_MASKS = {\n        SCREENSHOT_COLOR_MODEL.getRedMask(),\n        SCREENSHOT_COLOR_MODEL.getGreenMask(),\n        SCREENSHOT_COLOR_MODEL.getBlueMask()\n    };\n\n    /**\n     * Takes a screenshot of the given window\n     *\n     * @param target The window to target\n     *\n     * @return the window captured as a screenshot, or null if the BufferedImage\n     *         doesn't construct properly\n     *\n     * @throws IllegalStateException if the rectangle from GetWindowRect has a\n     *                               width and/or height of 0. &lt;br&gt;\n     * if the device context acquired from the original HWND doesn't release\n     * properly\n     */\n    public static BufferedImage getScreenshot(HWND target) {\n        RECT rect = new RECT();\n        if (!User32.INSTANCE.GetWindowRect(target, rect)) {\n            throw new Win32Exception(Native.getLastError());\n        }\n        Rectangle jRectangle = rect.toRectangle();\n        int windowWidth = jRectangle.width;\n        int windowHeight = jRectangle.height;\n\n        if (windowWidth == 0 || windowHeight == 0) {\n            throw new IllegalStateException(&quot;Window width and/or height were 0 even though GetWindowRect did not appear to fail.&quot;);\n        }\n\n        HDC hdcTarget = User32.INSTANCE.GetDC(target);\n        if (hdcTarget == null) {\n            throw new Win32Exception(Native.getLastError());\n        }\n\n        Win32Exception we = null;\n\n        // device context used for drawing\n        HDC hdcTargetMem = null;\n\n        // handle to the bitmap to be drawn to\n        HBITMAP hBitmap = null;\n\n        // original display surface associated with the device context\n        HANDLE hOriginal = null;\n\n        // final java image structure we're returning.\n        BufferedImage image = null;\n\n        try {\n            hdcTargetMem = GDI32.INSTANCE.CreateCompatibleDC(hdcTarget);\n            if (hdcTargetMem == null) {\n                throw new Win32Exception(Native.getLastError());\n            }\n\n            hBitmap = GDI32.INSTANCE.CreateCompatibleBitmap(hdcTarget, windowWidth, windowHeight);\n            if (hBitmap == null) {\n                throw new Win32Exception(Native.getLastError());\n            }\n\n            hOriginal = GDI32.INSTANCE.SelectObject(hdcTargetMem, hBitmap);\n            if (hOriginal == null) {\n                throw new Win32Exception(Native.getLastError());\n            }\n\n            // draw to the bitmap\n            if (!GDI32.INSTANCE.BitBlt(hdcTargetMem, 0, 0, windowWidth, windowHeight, hdcTarget, 0, 0, GDI32.SRCCOPY)) {\n                throw new Win32Exception(Native.getLastError());\n            }\n\n            BITMAPINFO bmi = new BITMAPINFO();\n            bmi.bmiHeader.biWidth = windowWidth;\n            bmi.bmiHeader.biHeight = -windowHeight;\n            bmi.bmiHeader.biPlanes = 1;\n            bmi.bmiHeader.biBitCount = 32;\n            bmi.bmiHeader.biCompression = WinGDI.BI_RGB;\n\n            Memory buffer = new Memory(windowWidth * windowHeight * 4);\n            int resultOfDrawing = GDI32.INSTANCE.GetDIBits(hdcTarget, hBitmap, 0, windowHeight, buffer, bmi,\n                    WinGDI.DIB_RGB_COLORS);\n            if (resultOfDrawing == 0 || resultOfDrawing == WinError.ERROR_INVALID_PARAMETER) {\n                throw new Win32Exception(Native.getLastError());\n            }\n\n            int bufferSize = windowWidth * windowHeight;\n            DataBuffer dataBuffer = new DataBufferInt(buffer.getIntArray(0, bufferSize), bufferSize);\n            WritableRaster raster = Raster.createPackedRaster(dataBuffer, windowWidth, windowHeight, windowWidth,\n                    SCREENSHOT_BAND_MASKS, null);\n            image = new BufferedImage(SCREENSHOT_COLOR_MODEL, raster, false, null);\n\n        } catch (Win32Exception e) {\n            we = e;\n        } finally {\n            if (hOriginal != null) {\n                // per MSDN, set the display surface back when done drawing\n                HANDLE result = GDI32.INSTANCE.SelectObject(hdcTargetMem, hOriginal);\n                // failure modes are null or equal to HGDI_ERROR\n                if (result == null || WinGDI.HGDI_ERROR.equals(result)) {\n                    Win32Exception ex = new Win32Exception(Native.getLastError());\n                    if (we != null) {\n                        ex.addSuppressedReflected(we);\n                    }\n                    we = ex;\n                }\n            }\n\n            if (hBitmap != null) {\n                if (!GDI32.INSTANCE.DeleteObject(hBitmap)) {\n                    Win32Exception ex = new Win32Exception(Native.getLastError());\n                    if (we != null) {\n                        ex.addSuppressedReflected(we);\n                    }\n                    we = ex;\n                }\n            }\n\n            if (hdcTargetMem != null) {\n                // get rid of the device context when done\n                if (!GDI32.INSTANCE.DeleteDC(hdcTargetMem)) {\n                    Win32Exception ex = new Win32Exception(Native.getLastError());\n                    if (we != null) {\n                        ex.addSuppressedReflected(we);\n                    }\n                    we = ex;\n                }\n            }\n\n            if (hdcTarget != null) {\n                if (0 == User32.INSTANCE.ReleaseDC(target, hdcTarget)) {\n                    throw new IllegalStateException(&quot;Device context did not release properly.&quot;);\n                }\n            }\n        }\n\n        if (we != null) {\n            throw we;\n        }\n        return image;\n    }\n}\n</code></pre>\n<p>I tried using the JNA function <code>GDI32Util.getScreenshot(handle)</code> and expected the result to be a <code>BufferedImage</code> which is constantly updated every time I query, however the image is stale and seems to be constantly returning a cached image instead.</p>\n"},{"tags":["java","maven","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1696618690,"post_id":77189940,"comment_id":136181347,"body_markdown":"Which version of Java are you using to run Tomcat?","body":"Which version of Java are you using to run Tomcat?"}],"owner":{"account_id":25497865,"reputation":1,"user_id":19291658,"display_name":"AriadneWeb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695838519,"creation_date":1695838519,"question_id":77189940,"body_markdown":"**When trying to initialize the server on TomCat, it gives this error in the console:**\r\n\r\n\r\n```\r\nGRAVE: Critical error during deployment: \r\ncom.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2256)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3990)\r\n\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3994)\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4878)\r\n\tat org.jboss.weld.util.cache.LoadingCacheUtils.getCacheValue(LoadingCacheUtils.java:49)\r\n\tat org.jboss.weld.util.cache.LoadingCacheUtils.getCastCacheValue(LoadingCacheUtils.java:74)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:204)\r\n\tat org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:742)\r\n\tat org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:768)\r\n\tat com.sun.faces.cdi.CdiUtils.getBeanReferenceByType(CdiUtils.java:225)\r\n\tat com.sun.faces.cdi.CdiUtils.getBeanReference(CdiUtils.java:216)\r\n\tat com.sun.faces.application.applicationimpl.Version.isJsf23(Version.java:90)\r\n\tat com.sun.faces.application.applicationimpl.ExpressionLanguage.addELResolver(ExpressionLanguage.java:160)\r\n\tat com.sun.faces.application.ApplicationImpl.addELResolver(ApplicationImpl.java:245)\r\n\tat org.jboss.weld.environment.servlet.jsf.WeldApplication.&lt;init&gt;(WeldApplication.java:73)\r\n\tat org.jboss.weld.environment.servlet.jsf.WeldApplicationFactory.getApplication(WeldApplicationFactory.java:47)\r\n\tat com.sun.faces.application.InjectionApplicationFactory.getApplication(InjectionApplicationFactory.java:85)\r\n\tat com.sun.faces.config.InitFacesContext.getApplication(InitFacesContext.java:133)\r\n\tat com.sun.faces.lifecycle.ClientWindowFactoryImpl.&lt;init&gt;(ClientWindowFactoryImpl.java:63)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat javax.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:482)\r\n\tat javax.faces.FactoryFinderInstance.getImplementationInstance(FactoryFinderInstance.java:372)\r\n\tat javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:224)\r\n\tat javax.faces.FactoryFinder.getFactory(FactoryFinder.java:303)\r\n\tat com.sun.faces.config.processor.FactoryConfigProcessor.lambda$verifyFactoriesExist$0(FactoryConfigProcessor.java:327)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:321)\r\n\tat com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:235)\r\n\tat com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:318)\r\n\tat java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:316)\r\n\tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:229)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4439)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4899)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1364)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1354)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat com.sun.faces.cdi.CdiExtension$Proxy$_$$_WeldClientProxy.&lt;clinit&gt;(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:303)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:111)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:180)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:170)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.access$100(ClientProxyProvider.java:45)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:56)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:52)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3589)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2374)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2337)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2252)\r\n\t... 48 more\r\n\r\nset. 27, 2023 2:35:14 PM org.apache.catalina.core.StandardContext listenerStart\r\nGRAVE: Exception sending context initialized event to listener instance of class [com.sun.faces.config.ConfigureListener]\r\njava.lang.RuntimeException: com.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\r\n\tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:307)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4439)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4899)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1364)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1354)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2256)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3990)\r\n\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3994)\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4878)\r\n\tat org.jboss.weld.util.cache.LoadingCacheUtils.getCacheValue(LoadingCacheUtils.java:49)\r\n\tat org.jboss.weld.util.cache.LoadingCacheUtils.getCastCacheValue(LoadingCacheUtils.java:74)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:204)\r\n\tat org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:742)\r\n\tat org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:768)\r\n\tat com.sun.faces.cdi.CdiUtils.getBeanReferenceByType(CdiUtils.java:225)\r\n\tat com.sun.faces.cdi.CdiUtils.getBeanReference(CdiUtils.java:216)\r\n\tat com.sun.faces.application.applicationimpl.Version.isJsf23(Version.java:90)\r\n\tat com.sun.faces.application.applicationimpl.ExpressionLanguage.addELResolver(ExpressionLanguage.java:160)\r\n\tat com.sun.faces.application.ApplicationImpl.addELResolver(ApplicationImpl.java:245)\r\n\tat org.jboss.weld.environment.servlet.jsf.WeldApplication.&lt;init&gt;(WeldApplication.java:73)\r\n\tat org.jboss.weld.environment.servlet.jsf.WeldApplicationFactory.getApplication(WeldApplicationFactory.java:47)\r\n\tat com.sun.faces.application.InjectionApplicationFactory.getApplication(InjectionApplicationFactory.java:85)\r\n\tat com.sun.faces.config.InitFacesContext.getApplication(InitFacesContext.java:133)\r\n\tat com.sun.faces.lifecycle.ClientWindowFactoryImpl.&lt;init&gt;(ClientWindowFactoryImpl.java:63)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat javax.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:482)\r\n\tat javax.faces.FactoryFinderInstance.getImplementationInstance(FactoryFinderInstance.java:372)\r\n\tat javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:224)\r\n\tat javax.faces.FactoryFinder.getFactory(FactoryFinder.java:303)\r\n\tat com.sun.faces.config.processor.FactoryConfigProcessor.lambda$verifyFactoriesExist$0(FactoryConfigProcessor.java:327)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:321)\r\n\tat com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:235)\r\n\tat com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:318)\r\n\tat java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:316)\r\n\tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:229)\r\n\t... 9 more\r\nCaused by: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat com.sun.faces.cdi.CdiExtension$Proxy$_$$_WeldClientProxy.&lt;clinit&gt;(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:303)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:111)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:180)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:170)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider.access$100(ClientProxyProvider.java:45)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:56)\r\n\tat org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:52)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3589)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2374)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2337)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2252)\r\n\t... 48 more\r\n```\r\n\r\n\r\n\r\n\r\n**I&#39;ve searched in various places, and they advised me to update the dependencies in Maven and check for compatibility issues, but I&#39;m still encountering the same error. I&#39;m using Tomcat version 8.5.**\r\n\r\nI&#39;m using these dependencies here, and I&#39;ve updated all of them:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.algaworks&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;curso-jsf-e-primefaces&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;curso-jsf-e-primefaces&lt;/name&gt;\r\n\t&lt;description&gt;Curso JSF e PrimeFaces&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEnconding&gt;UTF-8&lt;/project.build.sourceEnconding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;weld-servlet&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0.Alpha1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.faces&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;13.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.1.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.27.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.6.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI would like to be able to run my Tomcat server so that I can view my HTML page.","title":"What could be causing the error com.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError when I use TomCat?","body":"<p><strong>When trying to initialize the server on TomCat, it gives this error in the console:</strong></p>\n<pre><code>GRAVE: Critical error during deployment: \ncom.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2256)\n    at com.google.common.cache.LocalCache.get(LocalCache.java:3990)\n    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3994)\n    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4878)\n    at org.jboss.weld.util.cache.LoadingCacheUtils.getCacheValue(LoadingCacheUtils.java:49)\n    at org.jboss.weld.util.cache.LoadingCacheUtils.getCastCacheValue(LoadingCacheUtils.java:74)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:204)\n    at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:742)\n    at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:768)\n    at com.sun.faces.cdi.CdiUtils.getBeanReferenceByType(CdiUtils.java:225)\n    at com.sun.faces.cdi.CdiUtils.getBeanReference(CdiUtils.java:216)\n    at com.sun.faces.application.applicationimpl.Version.isJsf23(Version.java:90)\n    at com.sun.faces.application.applicationimpl.ExpressionLanguage.addELResolver(ExpressionLanguage.java:160)\n    at com.sun.faces.application.ApplicationImpl.addELResolver(ApplicationImpl.java:245)\n    at org.jboss.weld.environment.servlet.jsf.WeldApplication.&lt;init&gt;(WeldApplication.java:73)\n    at org.jboss.weld.environment.servlet.jsf.WeldApplicationFactory.getApplication(WeldApplicationFactory.java:47)\n    at com.sun.faces.application.InjectionApplicationFactory.getApplication(InjectionApplicationFactory.java:85)\n    at com.sun.faces.config.InitFacesContext.getApplication(InitFacesContext.java:133)\n    at com.sun.faces.lifecycle.ClientWindowFactoryImpl.&lt;init&gt;(ClientWindowFactoryImpl.java:63)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at javax.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:482)\n    at javax.faces.FactoryFinderInstance.getImplementationInstance(FactoryFinderInstance.java:372)\n    at javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:224)\n    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:303)\n    at com.sun.faces.config.processor.FactoryConfigProcessor.lambda$verifyFactoriesExist$0(FactoryConfigProcessor.java:327)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:321)\n    at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:235)\n    at com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:318)\n    at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:316)\n    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:229)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4439)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4899)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1364)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1354)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at com.sun.faces.cdi.CdiExtension$Proxy$_$$_WeldClientProxy.&lt;clinit&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:303)\n    at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:111)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:180)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:170)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.access$100(ClientProxyProvider.java:45)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:56)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:52)\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3589)\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2374)\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2337)\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2252)\n    ... 48 more\n\nset. 27, 2023 2:35:14 PM org.apache.catalina.core.StandardContext listenerStart\nGRAVE: Exception sending context initialized event to listener instance of class [com.sun.faces.config.ConfigureListener]\njava.lang.RuntimeException: com.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\n    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:307)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4439)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4899)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1364)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1354)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.google.common.util.concurrent.ExecutionError: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2256)\n    at com.google.common.cache.LocalCache.get(LocalCache.java:3990)\n    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3994)\n    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4878)\n    at org.jboss.weld.util.cache.LoadingCacheUtils.getCacheValue(LoadingCacheUtils.java:49)\n    at org.jboss.weld.util.cache.LoadingCacheUtils.getCastCacheValue(LoadingCacheUtils.java:74)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:204)\n    at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:742)\n    at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:768)\n    at com.sun.faces.cdi.CdiUtils.getBeanReferenceByType(CdiUtils.java:225)\n    at com.sun.faces.cdi.CdiUtils.getBeanReference(CdiUtils.java:216)\n    at com.sun.faces.application.applicationimpl.Version.isJsf23(Version.java:90)\n    at com.sun.faces.application.applicationimpl.ExpressionLanguage.addELResolver(ExpressionLanguage.java:160)\n    at com.sun.faces.application.ApplicationImpl.addELResolver(ApplicationImpl.java:245)\n    at org.jboss.weld.environment.servlet.jsf.WeldApplication.&lt;init&gt;(WeldApplication.java:73)\n    at org.jboss.weld.environment.servlet.jsf.WeldApplicationFactory.getApplication(WeldApplicationFactory.java:47)\n    at com.sun.faces.application.InjectionApplicationFactory.getApplication(InjectionApplicationFactory.java:85)\n    at com.sun.faces.config.InitFacesContext.getApplication(InitFacesContext.java:133)\n    at com.sun.faces.lifecycle.ClientWindowFactoryImpl.&lt;init&gt;(ClientWindowFactoryImpl.java:63)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at javax.faces.FactoryFinderInstance.getImplGivenPreviousImpl(FactoryFinderInstance.java:482)\n    at javax.faces.FactoryFinderInstance.getImplementationInstance(FactoryFinderInstance.java:372)\n    at javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:224)\n    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:303)\n    at com.sun.faces.config.processor.FactoryConfigProcessor.lambda$verifyFactoriesExist$0(FactoryConfigProcessor.java:327)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:321)\n    at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:235)\n    at com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:318)\n    at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:316)\n    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:229)\n    ... 9 more\nCaused by: java.lang.IncompatibleClassChangeError: Class org.jboss.weld.security.GetDeclaredMethodAction does not implement the requested interface java.security.PrivilegedAction\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at com.sun.faces.cdi.CdiExtension$Proxy$_$$_WeldClientProxy.&lt;clinit&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:303)\n    at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:111)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:180)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:170)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider.access$100(ClientProxyProvider.java:45)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:56)\n    at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.load(ClientProxyProvider.java:52)\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3589)\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2374)\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2337)\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2252)\n    ... 48 more\n</code></pre>\n<p><strong>I've searched in various places, and they advised me to update the dependencies in Maven and check for compatibility issues, but I'm still encountering the same error. I'm using Tomcat version 8.5.</strong></p>\n<p>I'm using these dependencies here, and I've updated all of them:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.algaworks&lt;/groupId&gt;\n    &lt;artifactId&gt;curso-jsf-e-primefaces&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;curso-jsf-e-primefaces&lt;/name&gt;\n    &lt;description&gt;Curso JSF e PrimeFaces&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEnconding&gt;UTF-8&lt;/project.build.sourceEnconding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0.Alpha1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.faces&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;13.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.27.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I would like to be able to run my Tomcat server so that I can view my HTML page.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1695844016,"post_id":77189931,"comment_id":136079721,"body_markdown":"What do the logs say? You should be able to find which line is throwing an error.","body":"What do the logs say? You should be able to find which line is throwing an error."}],"owner":{"account_id":29549717,"reputation":1,"user_id":22646669,"display_name":"kuhleed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695838413,"creation_date":1695838413,"question_id":77189931,"body_markdown":"Im pretty new to android studio and java in general, I&#39;m having this issue where the emulated application will crash while its launching and I&#39;m not sure where the issue is. I think that its a runtime error but again I&#39;m new and I&#39;m not 100% sure\r\n\r\nhere is my XML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/pink&quot;\r\n    android:paddingRight=&quot;16dp&quot;\r\n    android:paddingLeft=&quot;16dp&quot;\r\n    android:paddingTop=&quot;5dp&quot;\r\n    android:paddingBottom=&quot;5dp&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgRestaurant&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:contentDescription=&quot;@string/description&quot;\r\n\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        android:maxWidth=&quot;150dp&quot;\r\n        android:maxHeight=&quot;150dp&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/resturant&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:text=&quot;@string/txtTitle&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imgRestaurant&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/txtBill&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;numberSigned&quot;\r\n        android:hint=&quot;Bill Total&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtView&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spnGuests&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:entries=&quot;@array/txtGuests&quot;\r\n        android:prompt=&quot;@string/guest&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtBill&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spnTip&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:entries=&quot;@array/txtTip&quot;\r\n        android:prompt=&quot;@string/tip&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/spnGuests&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnCost&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;@string/btnCost&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/spnTip&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/txtResult&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/btnCost&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nand here is my Java code:\r\n\r\n```\r\npackage com.example.tipcalculator;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    double myBill = 0.0;\r\n    double totalCost = 0.0;\r\n    int numGuests = 0;\r\n    double costPerGuest = 0.0;\r\n    String groupTip = &quot;&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n        getSupportActionBar().setLogo(R.mipmap.ic_launcher);\r\n        getSupportActionBar().setDisplayUseLogoEnabled(true);\r\n\r\n        final EditText bill = (EditText)findViewById(R.id.txtBill);\r\n        final Spinner group = (Spinner)findViewById(R.id.spnGuests);\r\n        final Spinner tip = (Spinner)findViewById(R.id.spnTip);\r\n        Button cost = (Button)findViewById(R.id.btnCost);\r\n\r\n        cost.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            final TextView result = ((TextView)findViewById(R.id.txtResult));\r\n            @Override\r\n\r\n            public void onClick(View v)\r\n            {\r\n                groupTip = tip.getSelectedItem().toString();\r\n\r\n                myBill = Double.parseDouble(bill.getText().toString());\r\n                if(groupTip.equals(&quot;5%&quot;))\r\n                {\r\n                    totalCost=myBill * 1.05;\r\n                }\r\n                else if (groupTip.equals(&quot;10%&quot;))\r\n                {\r\n                    totalCost=myBill * 1.10;\r\n                }\r\n                else if (groupTip.equals(&quot;15%&quot;))\r\n                {\r\n                    totalCost=myBill * 1.25;\r\n                }\r\n                else if (groupTip.equals(&quot;20%&quot;))\r\n                {\r\n                    totalCost=myBill * 1.20;\r\n                }\r\n                else\r\n                {\r\n                    totalCost=myBill;\r\n                }\r\n\r\n                numGuests = Integer.parseInt(group.getSelectedItem().toString());\r\n                costPerGuest = totalCost / numGuests;\r\n                NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.US);\r\n                result.setText(&quot;Cost for each of &quot; + numGuests + &quot; guests: &quot; + nf.format(costPerGuest));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nany help would be appreciated ","title":"Android studio Application keeps crashing as it launches","body":"<p>Im pretty new to android studio and java in general, I'm having this issue where the emulated application will crash while its launching and I'm not sure where the issue is. I think that its a runtime error but again I'm new and I'm not 100% sure</p>\n<p>here is my XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/pink&quot;\n    android:paddingRight=&quot;16dp&quot;\n    android:paddingLeft=&quot;16dp&quot;\n    android:paddingTop=&quot;5dp&quot;\n    android:paddingBottom=&quot;5dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imgRestaurant&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:contentDescription=&quot;@string/description&quot;\n\n        android:scaleType=&quot;fitCenter&quot;\n        android:maxWidth=&quot;150dp&quot;\n        android:maxHeight=&quot;150dp&quot;\n        android:adjustViewBounds=&quot;true&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/resturant&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:text=&quot;@string/txtTitle&quot;\n        android:textSize=&quot;30sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imgRestaurant&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtBill&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;numberSigned&quot;\n        android:hint=&quot;Bill Total&quot;\n        android:textSize=&quot;24sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtView&quot; /&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spnGuests&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:entries=&quot;@array/txtGuests&quot;\n        android:prompt=&quot;@string/guest&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtBill&quot; /&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spnTip&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:entries=&quot;@array/txtTip&quot;\n        android:prompt=&quot;@string/tip&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/spnGuests&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnCost&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;@string/btnCost&quot;\n        android:textSize=&quot;24sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/spnTip&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtResult&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/btnCost&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and here is my Java code:</p>\n<pre><code>package com.example.tipcalculator;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n\n    double myBill = 0.0;\n    double totalCost = 0.0;\n    int numGuests = 0;\n    double costPerGuest = 0.0;\n    String groupTip = &quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n        getSupportActionBar().setLogo(R.mipmap.ic_launcher);\n        getSupportActionBar().setDisplayUseLogoEnabled(true);\n\n        final EditText bill = (EditText)findViewById(R.id.txtBill);\n        final Spinner group = (Spinner)findViewById(R.id.spnGuests);\n        final Spinner tip = (Spinner)findViewById(R.id.spnTip);\n        Button cost = (Button)findViewById(R.id.btnCost);\n\n        cost.setOnClickListener(new View.OnClickListener()\n        {\n            final TextView result = ((TextView)findViewById(R.id.txtResult));\n            @Override\n\n            public void onClick(View v)\n            {\n                groupTip = tip.getSelectedItem().toString();\n\n                myBill = Double.parseDouble(bill.getText().toString());\n                if(groupTip.equals(&quot;5%&quot;))\n                {\n                    totalCost=myBill * 1.05;\n                }\n                else if (groupTip.equals(&quot;10%&quot;))\n                {\n                    totalCost=myBill * 1.10;\n                }\n                else if (groupTip.equals(&quot;15%&quot;))\n                {\n                    totalCost=myBill * 1.25;\n                }\n                else if (groupTip.equals(&quot;20%&quot;))\n                {\n                    totalCost=myBill * 1.20;\n                }\n                else\n                {\n                    totalCost=myBill;\n                }\n\n                numGuests = Integer.parseInt(group.getSelectedItem().toString());\n                costPerGuest = totalCost / numGuests;\n                NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.US);\n                result.setText(&quot;Cost for each of &quot; + numGuests + &quot; guests: &quot; + nf.format(costPerGuest));\n            }\n        });\n    }\n}\n</code></pre>\n<p>any help would be appreciated</p>\n"},{"tags":["java","spring","tomcat","exception","multipart"],"comments":[{"owner":{"account_id":4069052,"reputation":2822,"user_id":3342866,"display_name":"CGS"},"score":0,"creation_date":1518758959,"post_id":48820561,"comment_id":84644683,"body_markdown":"looks like the file size is around 14 MB, shouldn&#39;t you try bumping up your config value to a higher one and try?","body":"looks like the file size is around 14 MB, shouldn&#39;t you try bumping up your config value to a higher one and try?"},{"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"score":0,"creation_date":1518759098,"post_id":48820561,"comment_id":84644720,"body_markdown":"@Chids Yes ! file size is 14MB and I want to limit the file size 10MB .. and if anyone uploads file greater than 10MB than it shows message not stuck on exception","body":"@Chids Yes ! file size is 14MB and I want to limit the file size 10MB .. and if anyone uploads file greater than 10MB than it shows message not stuck on exception"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1518759404,"post_id":48820561,"comment_id":84644809,"body_markdown":"This exceptions get thrown before your code - it is in Tomcat","body":"This exceptions get thrown before your code - it is in Tomcat"},{"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"score":1,"creation_date":1518759482,"post_id":48820561,"comment_id":84644824,"body_markdown":"@ScaryWombat then how I can handle this ?","body":"@ScaryWombat then how I can handle this ?"}],"answers":[{"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1518760367,"post_id":48820757,"comment_id":84645091,"body_markdown":"a useful link https://www.mkyong.com/spring/spring-file-upload-and-connection-reset-issue/","body":"a useful link <a href=\"https://www.mkyong.com/spring/spring-file-upload-and-connection-reset-issue/\" rel=\"nofollow noreferrer\">mkyong.com/spring/spring-file-upload-and-connection-reset-is&zwnj;&#8203;sue</a>"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1518925194,"post_id":48820757,"comment_id":84700288,"body_markdown":"You can *absolutely* handle this in your own code: use a `Filter` and catch the exception, then respond however you want.","body":"You can <i>absolutely</i> handle this in your own code: use a <code>Filter</code> and catch the exception, then respond however you want."}],"tags":[],"owner":{"account_id":3004420,"reputation":1004,"user_id":2549202,"accept_rate":50,"display_name":"Vineet Kasat"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518759870,"creation_date":1518759870,"answer_id":48820757,"question_id":48820561,"body_markdown":"Since tomcat is throwing the exception you are not able to handle it. Thus you need to tell tomcat to allow all size of files to be uploaded and handle the size at controller level.\r\n\r\nset multipart properties below \r\nmultipart: max-file-size: -1 max-request-size: -1\r\n\r\nset Tomcat 8 (maxSwallowSize=&quot;-1&quot;)\r\non controller, add logic to check size\r\n\r\n    if(fileAttachment.getSize() &gt; 10485760 ) { throw new MaxUploadSizeExceededException(fileAttachment.getSize()); }\r\n\r\n","title":"Java : How to handle file size exceed exception of tomcat","body":"<p>Since tomcat is throwing the exception you are not able to handle it. Thus you need to tell tomcat to allow all size of files to be uploaded and handle the size at controller level.</p>\n\n<p>set multipart properties below \nmultipart: max-file-size: -1 max-request-size: -1</p>\n\n<p>set Tomcat 8 (maxSwallowSize=\"-1\")\non controller, add logic to check size</p>\n\n<pre><code>if(fileAttachment.getSize() &gt; 10485760 ) { throw new MaxUploadSizeExceededException(fileAttachment.getSize()); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9512854,"reputation":590,"user_id":7070261,"display_name":"Satish Kr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518764599,"creation_date":1518764599,"answer_id":48821626,"question_id":48820561,"body_markdown":"Because of this - spring.http.multipart.max-file-size=10MB\r\nspring.http.multipart.max-request-size=10MB control is not going to controller. Tomcat only throwing exception.\r\nIf you want to return message then remove these lines from properties file and add a check in your controller only like:\r\n\r\n     if (file.getSize() &gt; 10000000){\r\n      throw new RuntimeException(&quot;File size error&quot;);\r\n    }","title":"Java : How to handle file size exceed exception of tomcat","body":"<p>Because of this - spring.http.multipart.max-file-size=10MB\nspring.http.multipart.max-request-size=10MB control is not going to controller. Tomcat only throwing exception.\nIf you want to return message then remove these lines from properties file and add a check in your controller only like:</p>\n\n<pre><code> if (file.getSize() &gt; 10000000){\n  throw new RuntimeException(\"File size error\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695836975,"creation_date":1695836975,"answer_id":77189797,"question_id":48820561,"body_markdown":"The mentioned exception thrown from tomcat .it couldn&#39;t reach out to the controller.\r\n\r\nSo,there are many possible ways we can handle this (:\r\n\r\n**1.Add the below application property and do the size restriction logic.**\r\n&gt;  spring.http.multipart.max-file-size=-1\r\n\r\n&gt; spring.http.multipart.max-request-size=-1\r\n\r\nthe **-1** indicates it can allow unlimited size. But this is ok for development not for production grade application.\r\n\r\ninside the logic class you can define your size limit logic. You can get the size of the file and throw a expection as you desired.\r\n\r\n        if(fileAttachment.getSize() &gt; 10485760 ) \r\n      {\r\n    //error logic throwing exception or return the error response.\r\n     }\r\n\r\nnote : 10485760  byte value equals to 10MB\r\n\r\n2.Mentioning a multipart exception in a generalException handler class.\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n        \t@ExceptionHandler(MultipartException.class)\r\n\tpublic ResponseEntity&lt;String&gt;fileExced(MultipartException ex){\r\n\t\treturn ResponseEntity.ok(&quot;File limit exceeded..!&quot;);\r\n\t}\r\n\r\nThis sizeExceedException mentioned in the question is implicitly invoke the multipart exception.so whenever the file limit exceeds the above error message will throws.\r\n\r\n","title":"Java : How to handle file size exceed exception of tomcat","body":"<p>The mentioned exception thrown from tomcat .it couldn't reach out to the controller.</p>\n<p>So,there are many possible ways we can handle this (:</p>\n<p><strong>1.Add the below application property and do the size restriction logic.</strong></p>\n<blockquote>\n<p>spring.http.multipart.max-file-size=-1</p>\n</blockquote>\n<blockquote>\n<p>spring.http.multipart.max-request-size=-1</p>\n</blockquote>\n<p>the <strong>-1</strong> indicates it can allow unlimited size. But this is ok for development not for production grade application.</p>\n<p>inside the logic class you can define your size limit logic. You can get the size of the file and throw a expection as you desired.</p>\n<pre><code>    if(fileAttachment.getSize() &gt; 10485760 ) \n  {\n//error logic throwing exception or return the error response.\n }\n</code></pre>\n<p>note : 10485760  byte value equals to 10MB</p>\n<p>2.Mentioning a multipart exception in a generalException handler class.</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n        @ExceptionHandler(MultipartException.class)\npublic ResponseEntity&lt;String&gt;fileExced(MultipartException ex){\n    return ResponseEntity.ok(&quot;File limit exceeded..!&quot;);\n}\n</code></pre>\n<p>This sizeExceedException mentioned in the question is implicitly invoke the multipart exception.so whenever the file limit exceeds the above error message will throws.</p>\n"}],"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4173,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1695836975,"creation_date":1518758764,"question_id":48820561,"body_markdown":"I am working on spring boot project in which I want to handle maximum file size exceed exception (I want to upload only those file which has size less than 10MB and if anyone try to upload file greater than 10 MB it should return a message not a exception) , after searching on internet I have tried all the possible solutions but nothing worked \r\n\r\nAnyone can tell me about this ?\r\n\r\n**FileUploadController.class**\r\n\r\n    @ControllerAdvice\r\n    @Controller\r\n    public class FileUploadController extends ResponseEntityExceptionHandler{\r\n    @ExceptionHandler(MaxUploadSizeExceededException.class)\r\n    \t@RequestMapping(method = RequestMethod.POST, value = &quot;/uploadChildPhoto/{childId}&quot;, produces = &quot;application/json&quot;)\r\n    \tpublic @ResponseBody ResponseEntity&lt;?&gt; uploadChildPhoto(Authentication authentication,\r\n    \t\t\t@PathVariable(&quot;childId&quot;) Long childId, @RequestParam(&quot;file&quot;) MultipartFile file,MaxUploadSizeExceededException exc) {\r\n    \t\ttry {\r\n    \t\t\tif (!file.isEmpty()) {\r\n    \t\t\t\tChildPhoto createdPhoto = childService.createChildPhoto(file, childId);\r\n    \t\t\t\treturn ResponseEntity.ok(createdPhoto);\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new RuntimeException(\r\n    \t\t\t\t\t\t&quot;You failed to upload &quot; + file.getOriginalFilename() + &quot; because the file was empty&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (MultipartException ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\treturn ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(&quot;File size error&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Exception**\r\n\r\n    org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (14816520) exceeds the configured maximum (10485760)\r\n    \tat org.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:805) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.connector.Request.parseParts(Request.java:2864) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.connector.Request.parseParameters(Request.java:3211) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.connector.Request.getParameter(Request.java:1137) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\r\n**MaximumFileSize**\r\n\r\n    spring.http.multipart.max-file-size=10MB\r\n    spring.http.multipart.max-request-size=10MB","title":"Java : How to handle file size exceed exception of tomcat","body":"<p>I am working on spring boot project in which I want to handle maximum file size exceed exception (I want to upload only those file which has size less than 10MB and if anyone try to upload file greater than 10 MB it should return a message not a exception) , after searching on internet I have tried all the possible solutions but nothing worked </p>\n\n<p>Anyone can tell me about this ?</p>\n\n<p><strong>FileUploadController.class</strong></p>\n\n<pre><code>@ControllerAdvice\n@Controller\npublic class FileUploadController extends ResponseEntityExceptionHandler{\n@ExceptionHandler(MaxUploadSizeExceededException.class)\n    @RequestMapping(method = RequestMethod.POST, value = \"/uploadChildPhoto/{childId}\", produces = \"application/json\")\n    public @ResponseBody ResponseEntity&lt;?&gt; uploadChildPhoto(Authentication authentication,\n            @PathVariable(\"childId\") Long childId, @RequestParam(\"file\") MultipartFile file,MaxUploadSizeExceededException exc) {\n        try {\n            if (!file.isEmpty()) {\n                ChildPhoto createdPhoto = childService.createChildPhoto(file, childId);\n                return ResponseEntity.ok(createdPhoto);\n            } else {\n                throw new RuntimeException(\n                        \"You failed to upload \" + file.getOriginalFilename() + \" because the file was empty\");\n            }\n        } catch (MultipartException ex) {\n            ex.printStackTrace();\n            return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(\"File size error\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (14816520) exceeds the configured maximum (10485760)\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:805) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2864) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.connector.Request.parseParameters(Request.java:3211) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.connector.Request.getParameter(Request.java:1137) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:75) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.23.jar:8.5.23]\n</code></pre>\n\n<p><strong>MaximumFileSize</strong></p>\n\n<pre><code>spring.http.multipart.max-file-size=10MB\nspring.http.multipart.max-request-size=10MB\n</code></pre>\n"},{"tags":["java","arrays","string","unicode"],"comments":[{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":2,"creation_date":1695811176,"post_id":77186654,"comment_id":136073155,"body_markdown":"A glyph (figure) may be created by more codepoints. If you print single codepoint, the system/shaping/font may take it as single figure (possibly incomplete). So: print a sequence of codepoints (or as in editor: you replace text/entire string). standard output is not so advanced (it show its age). For the second part: the problem is &quot;character&quot;. You should check &quot;figure/glyph&quot; or length, but so complex. Try ICU library (from Unicode)","body":"A glyph (figure) may be created by more codepoints. If you print single codepoint, the system/shaping/font may take it as single figure (possibly incomplete). So: print a sequence of codepoints (or as in editor: you replace text/entire string). standard output is not so advanced (it show its age). For the second part: the problem is &quot;character&quot;. You should check &quot;figure/glyph&quot; or length, but so complex. Try ICU library (from Unicode)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695815946,"post_id":77186654,"comment_id":136074101,"body_markdown":"If your task is “to truncate the input String to the first 5 letters”, why do you have to deal with Emojis? Emojis are not letters. But as Giacomo Catenazzi correctly said, a character may consist of multiple codepoints. You don’t need fancy Emojis to encounter the problem, take `&quot;o̹&quot;`, for example. When you are using Java&#160;9 or newer, you can use `return input.replaceFirst(&quot;(\\\\X{5}).*&quot;, &quot;$1&quot;);` to get the first five logical characters (or, technically, first five graphemes).","body":"If your task is “to truncate the input String to the first 5 letters”, why do you have to deal with Emojis? Emojis are not letters. But as Giacomo Catenazzi correctly said, a character may consist of multiple codepoints. You don’t need fancy Emojis to encounter the problem, take <code>&quot;o̹&quot;</code>, for example. When you are using Java 9 or newer, you can use <code>return input.replaceFirst(&quot;(\\\\X{5}).*&quot;, &quot;$1&quot;);</code> to get the first five logical characters (or, technically, first five graphemes)."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695836686,"creation_date":1695815538,"answer_id":77187258,"question_id":77186654,"body_markdown":"The problem is that the index in `input.codePointAt(i)` is not a codepoint index but a `char` index and emojis are encoded as to `char`s (high and low surrogate). For these codepoints you need to increase the index by two.\r\n\r\nYou could rewrite your code as:\r\n\r\n    public String truncate(String input) {\r\n        int[] arr = new int[5];\r\n        for(int i = 0, j = 0; i &lt; arr.length &amp;&amp; j &lt; input.len; i++){\r\n            arr[i] = input.codePointAt(j);\r\n            j += Character.charCount(arr[i]);\r\n            System.out.println(arr[i]);\r\n        }\r\n        return new String(arr, 0, arr.length);\r\n    }\r\n\r\nThis however has a problem if `input` has less than 5 codepoints. An improved version would be\r\n\r\n    public static String truncate(String input) {\r\n        int[] arr = new int[5];\r\n        int i, j;\r\n        for(i = 0, j = 0; i &lt; arr.length &amp;&amp; j &lt; input.length(); i++){\r\n            arr[i] = input.codePointAt(j);\r\n            j += Character.charCount(arr[i]);\r\n            System.out.println(arr[i]);\r\n        }\r\n        return new String(arr, 0, i);\r\n    }\r\n\r\n\r\nOr you code use the `codePoints()` stream:\r\n\r\n    public String truncate(String input) {\r\n        int[] arr = input.codePoints().limit(5).toArray();\r\n        return new String(arr, 0, arr.length);\r\n    }\r\n\r\n----\r\n**Edit**: note that while this solves your problem with emojis it is still not a complete solution as this ignores [graphemes clusters ](https://stackoverflow.com/questions/39869673/what-is-a-graphemecluster-and-what-does-expressiblebyextendedgraphemeclusterlite).\r\n\r\nIf you need to support grapheme clusters you have two possibilities.\r\n\r\nWhen using Java 9 and later you can use the grapheme support added to regular expressions (as shown in a comment to your post).\r\n\r\n    public String truncate(String input) {\r\n        return input.replaceFirst(&quot;(\\\\X{5}).*&quot;, &quot;$1&quot;);\r\n    }\r\n\r\nWhen using Java 20 and later you can take advantage of the added support for extended grapheme clusters in `BreakIterator` (adapted from https://stackoverflow.com/a/76109241).\r\n\r\n    public static String truncate(String input) {\r\n        BreakIterator bi = BreakIterator.getCharacterInstance();\r\n        bi.setText(input);\r\n        return input.substring(0, bi.next(5));\r\n    }\r\n\r\nI currently don&#39;t have any measurements to tell which of these two solutions is faster.","title":"Inconsistent String generation from unicode constructor and too long runtime problems","body":"<p>The problem is that the index in <code>input.codePointAt(i)</code> is not a codepoint index but a <code>char</code> index and emojis are encoded as to <code>char</code>s (high and low surrogate). For these codepoints you need to increase the index by two.</p>\n<p>You could rewrite your code as:</p>\n<pre><code>public String truncate(String input) {\n    int[] arr = new int[5];\n    for(int i = 0, j = 0; i &lt; arr.length &amp;&amp; j &lt; input.len; i++){\n        arr[i] = input.codePointAt(j);\n        j += Character.charCount(arr[i]);\n        System.out.println(arr[i]);\n    }\n    return new String(arr, 0, arr.length);\n}\n</code></pre>\n<p>This however has a problem if <code>input</code> has less than 5 codepoints. An improved version would be</p>\n<pre><code>public static String truncate(String input) {\n    int[] arr = new int[5];\n    int i, j;\n    for(i = 0, j = 0; i &lt; arr.length &amp;&amp; j &lt; input.length(); i++){\n        arr[i] = input.codePointAt(j);\n        j += Character.charCount(arr[i]);\n        System.out.println(arr[i]);\n    }\n    return new String(arr, 0, i);\n}\n</code></pre>\n<p>Or you code use the <code>codePoints()</code> stream:</p>\n<pre><code>public String truncate(String input) {\n    int[] arr = input.codePoints().limit(5).toArray();\n    return new String(arr, 0, arr.length);\n}\n</code></pre>\n<hr />\n<p><strong>Edit</strong>: note that while this solves your problem with emojis it is still not a complete solution as this ignores <a href=\"https://stackoverflow.com/questions/39869673/what-is-a-graphemecluster-and-what-does-expressiblebyextendedgraphemeclusterlite\">graphemes clusters </a>.</p>\n<p>If you need to support grapheme clusters you have two possibilities.</p>\n<p>When using Java 9 and later you can use the grapheme support added to regular expressions (as shown in a comment to your post).</p>\n<pre><code>public String truncate(String input) {\n    return input.replaceFirst(&quot;(\\\\X{5}).*&quot;, &quot;$1&quot;);\n}\n</code></pre>\n<p>When using Java 20 and later you can take advantage of the added support for extended grapheme clusters in <code>BreakIterator</code> (adapted from <a href=\"https://stackoverflow.com/a/76109241\">https://stackoverflow.com/a/76109241</a>).</p>\n<pre><code>public static String truncate(String input) {\n    BreakIterator bi = BreakIterator.getCharacterInstance();\n    bi.setText(input);\n    return input.substring(0, bi.next(5));\n}\n</code></pre>\n<p>I currently don't have any measurements to tell which of these two solutions is faster.</p>\n"}],"owner":{"account_id":25799218,"reputation":35,"user_id":19541910,"display_name":"stanleysearles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695836686,"creation_date":1695810583,"question_id":77186654,"body_markdown":"These are two questions in one:\r\n\r\nI have this code here:\r\n\r\n```\r\npublic String truncate(String input) {\r\n        int[] arr = new int[5];\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            arr[i] = input.codePointAt(i);\r\n            System.out.println(arr[i]);\r\n        }\r\n        return new String(arr, 0, arr.length);\r\n        \r\n    }\r\n```\r\n\r\nWhich seems to work fine in most cases, however, regarding some emojis and other quite special characters (poker cards for example) it gets inconsistent. I printed out the Unicode points and they all seem to be in the Unicode size range. \r\n\r\nTo give an example:\r\n\r\nInput: &#127182;&#127160;&#127173;&#127179;&#127181; -&gt; Output: &#127182;[&#276540;&#254136;&#127173;] \r\n\r\nUnicode codepoints:\r\n127182\r\n56526\r\n127160\r\n56504\r\n127173\r\n\r\nSo my first question would be: What is the problem here? Does the String constructor String(int[] codepoint, int offset, int length) only work in UTF-8 and ASCII or is this some kind of issue with UTF-16 encoding? \r\n\r\nMy second question is:\r\n\r\nThe task of the exercise is to truncate the input String to the first 5 letters. \r\nFor whatever reason I don&#39;t understand, fixing the code the following way, so it does not give an ArrayIndexOutOfBoundsException, resulted in extremely slow runtime. The following changes were made:\r\n\r\nFrom\r\n```\r\nint[] arr = new int[5];\r\n```\r\nTo \r\n```\r\nint[] arr;\r\nif (input.length() &gt;= 5) {\r\n   arr = new int[5];\r\n} else {\r\n   arr = new int[input.length()]\r\n}\r\n```\r\nWhat cases could be possible that this would cause a problem with runtime? I don&#39;t have very much experience in Java and computer science in general (hence why I am practicing wiht exercises like these) but with my knowledge I currently don&#39;t see any errors here. \r\n\r\nThank you in advance for your help!\r\n\r\n","title":"Inconsistent String generation from unicode constructor and too long runtime problems","body":"<p>These are two questions in one:</p>\n<p>I have this code here:</p>\n<pre><code>public String truncate(String input) {\n        int[] arr = new int[5];\n        for(int i = 0; i &lt; arr.length; i++){\n            arr[i] = input.codePointAt(i);\n            System.out.println(arr[i]);\n        }\n        return new String(arr, 0, arr.length);\n        \n    }\n</code></pre>\n<p>Which seems to work fine in most cases, however, regarding some emojis and other quite special characters (poker cards for example) it gets inconsistent. I printed out the Unicode points and they all seem to be in the Unicode size range.</p>\n<p>To give an example:</p>\n<p>Input: 🃎🂸🃅🃋🃍 -&gt; Output: 🃎[񃠼𾂸🃅]</p>\n<p>Unicode codepoints:\n127182\n56526\n127160\n56504\n127173</p>\n<p>So my first question would be: What is the problem here? Does the String constructor String(int[] codepoint, int offset, int length) only work in UTF-8 and ASCII or is this some kind of issue with UTF-16 encoding?</p>\n<p>My second question is:</p>\n<p>The task of the exercise is to truncate the input String to the first 5 letters.\nFor whatever reason I don't understand, fixing the code the following way, so it does not give an ArrayIndexOutOfBoundsException, resulted in extremely slow runtime. The following changes were made:</p>\n<p>From</p>\n<pre><code>int[] arr = new int[5];\n</code></pre>\n<p>To</p>\n<pre><code>int[] arr;\nif (input.length() &gt;= 5) {\n   arr = new int[5];\n} else {\n   arr = new int[input.length()]\n}\n</code></pre>\n<p>What cases could be possible that this would cause a problem with runtime? I don't have very much experience in Java and computer science in general (hence why I am practicing wiht exercises like these) but with my knowledge I currently don't see any errors here.</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","spring","telegram-bot","jnativehook"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695836954,"post_id":77188956,"comment_id":136078529,"body_markdown":"Unfortunately, the GlobalScreen class foolishly [suppresses the original exception](https://github.com/kwhat/jnativehook/blob/2.2/src/main/java/com/github/kwhat/jnativehook/GlobalScreen.java#L87C15-L87C20), so we have no way to know what’s really going wrong. (Hey JNativeHook authors: never do that!)  I don’t see any code that appears to be doing anything with a URI.","body":"Unfortunately, the GlobalScreen class foolishly <a href=\"https://github.com/kwhat/jnativehook/blob/2.2/src/main/java/com/github/kwhat/jnativehook/GlobalScreen.java#L87C15-L87C20\" rel=\"nofollow noreferrer\">suppresses the original exception</a>, so we have no way to know what’s really going wrong. (Hey JNativeHook authors: never do that!)  I don’t see any code that appears to be doing anything with a URI."}],"owner":{"account_id":27124255,"reputation":1,"user_id":20667538,"display_name":"Toilybay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695836429,"creation_date":1695828901,"question_id":77188956,"body_markdown":"I am trying to write app similar to keylogger in edu. proposes. When I run my application through IDEA it works fine and there are no exceptions. Since I built it, and try to run jar file, there is the exception.\r\n\r\n    Sep 27, 2023 9:12:36 PM com.github.kwhat.jnativehook.GlobalScreen &lt;clinit&gt; SEVERE: URI is not hierarchical Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n             at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n             at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n             at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n             at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n             at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n             at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: java.lang.UnsatisfiedLinkError: URI is not hierarchical\r\n             at com.github.kwhat.jnativehook.GlobalScreen.&lt;clinit&gt;(GlobalScreen.java:91)\r\n             at org.app.App.main(App.java:17)\r\n             at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n             ... 5 more\r\n\r\nHere is my App.java file code.\r\n\r\n```\r\npackage org.app;\r\n\r\nimport com.github.kwhat.jnativehook.GlobalScreen;\r\nimport com.github.kwhat.jnativehook.NativeHookException;\r\nimport org.app.service.GlobalKeyListener;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\n\r\n@SpringBootApplication\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        ConfigurableApplicationContext context = SpringApplication.run(App.class, args);\r\n        GlobalKeyListener keyListener = context.getBean(GlobalKeyListener.class);\r\n        try {\r\n            GlobalScreen.registerNativeHook();\r\n            GlobalScreen.addNativeKeyListener(keyListener);\r\n        } catch (NativeHookException e) {\r\n            System.err.println(&quot;Error registering native hook: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand here is my GlobalKeyListener.java file code.\r\n\r\n```\r\npackage org.app.service;\r\n\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\r\nimport org.app.TelegramBot;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class GlobalKeyListener implements NativeKeyListener {\r\n\r\n    private TelegramBot telegramBot;\r\n\r\n    @Autowired\r\n    public GlobalKeyListener(TelegramBot telegramBot) {\r\n        this.telegramBot = telegramBot;\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyReleased(NativeKeyEvent e) {\r\n        if (new WindowInfo().isPMSOpened())\r\n            telegramBot.sendMessage(&quot;Key released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()) + &#39;\\n&#39;);\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyTyped(NativeKeyEvent e) {\r\n    }\r\n}\r\n```\r\n\r\nI tried to use another library for background keylogging, unfortunately it didn&#39;t work. I would really appreciate if you could give me some direction.","title":"URI is not hierarchical","body":"<p>I am trying to write app similar to keylogger in edu. proposes. When I run my application through IDEA it works fine and there are no exceptions. Since I built it, and try to run jar file, there is the exception.</p>\n<pre><code>Sep 27, 2023 9:12:36 PM com.github.kwhat.jnativehook.GlobalScreen &lt;clinit&gt; SEVERE: URI is not hierarchical Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n         at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n         at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n         at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n         at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n         at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.UnsatisfiedLinkError: URI is not hierarchical\n         at com.github.kwhat.jnativehook.GlobalScreen.&lt;clinit&gt;(GlobalScreen.java:91)\n         at org.app.App.main(App.java:17)\n         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n         ... 5 more\n</code></pre>\n<p>Here is my App.java file code.</p>\n<pre><code>package org.app;\n\nimport com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport org.app.service.GlobalKeyListener;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\n\n@SpringBootApplication\npublic class App {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(App.class, args);\n        GlobalKeyListener keyListener = context.getBean(GlobalKeyListener.class);\n        try {\n            GlobalScreen.registerNativeHook();\n            GlobalScreen.addNativeKeyListener(keyListener);\n        } catch (NativeHookException e) {\n            System.err.println(&quot;Error registering native hook: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>and here is my GlobalKeyListener.java file code.</p>\n<pre><code>package org.app.service;\n\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\nimport org.app.TelegramBot;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class GlobalKeyListener implements NativeKeyListener {\n\n    private TelegramBot telegramBot;\n\n    @Autowired\n    public GlobalKeyListener(TelegramBot telegramBot) {\n        this.telegramBot = telegramBot;\n    }\n\n    @Override\n    public void nativeKeyPressed(NativeKeyEvent e) {\n    }\n\n    @Override\n    public void nativeKeyReleased(NativeKeyEvent e) {\n        if (new WindowInfo().isPMSOpened())\n            telegramBot.sendMessage(&quot;Key released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()) + '\\n');\n    }\n\n    @Override\n    public void nativeKeyTyped(NativeKeyEvent e) {\n    }\n}\n</code></pre>\n<p>I tried to use another library for background keylogging, unfortunately it didn't work. I would really appreciate if you could give me some direction.</p>\n"},{"tags":["java","android","kotlin","bottomnavigationview","android-bottomnav"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695864091,"post_id":77189522,"comment_id":136082064,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18707209,"reputation":1,"user_id":13638084,"display_name":"Yevgen Khomiak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695836357,"creation_date":1695834186,"question_id":77189522,"body_markdown":"Cannot find the solution to draw such a bottom navigation. This question was already asked more than 3 years ago [here](https://stackoverflow.com/questions/60399298/custom-bottom-navigation-library-round-selector).\r\n\r\n I tried to edit code from provided links there, but not successful. Maybe somebody has a solution already or can point me out to specific library? \r\n[Desired result](https://i.stack.imgur.com/PLVIB.gif)","title":"Custom Bottom Navigation Rounded across icon","body":"<p>Cannot find the solution to draw such a bottom navigation. This question was already asked more than 3 years ago <a href=\"https://stackoverflow.com/questions/60399298/custom-bottom-navigation-library-round-selector\">here</a>.</p>\n<p>I tried to edit code from provided links there, but not successful. Maybe somebody has a solution already or can point me out to specific library?\n<a href=\"https://i.stack.imgur.com/PLVIB.gif\" rel=\"nofollow noreferrer\">Desired result</a></p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"score":0,"creation_date":1695835688,"post_id":77189635,"comment_id":136078309,"body_markdown":"Is this a REST-Controller?","body":"Is this a REST-Controller?"},{"owner":{"account_id":17955006,"reputation":1,"user_id":13047280,"display_name":"walkawayfromtheworld"},"score":0,"creation_date":1695836237,"post_id":77189635,"comment_id":136078394,"body_markdown":"No it is just a &quot;Controller&quot;, I&#39;ve just edited my question so you can see the full class.","body":"No it is just a &quot;Controller&quot;, I&#39;ve just edited my question so you can see the full class."},{"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"score":0,"creation_date":1695836824,"post_id":77189635,"comment_id":136078502,"body_markdown":"A good approach might be to craft a separate controller method just for the image. This can also boost browser caching. Essentially, you&#39;d return the raw bytes from this method. For instance, you could use something like `@GetMapping(produces = [&quot;image/png&quot;])`. Give it a shot and see how it works for you!","body":"A good approach might be to craft a separate controller method just for the image. This can also boost browser caching. Essentially, you&#39;d return the raw bytes from this method. For instance, you could use something like <code>@GetMapping(produces = [&quot;image&#47;png&quot;])</code>. Give it a shot and see how it works for you!"},{"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"score":0,"creation_date":1695837415,"post_id":77189635,"comment_id":136078624,"body_markdown":"I now noticed you&#39;re loading the image from your resources. Spring allows you to serve static files directly. So, in your template, you can simply use `&lt;img src=&quot;/static/image/bild.jpg&quot; /&gt;` to showcase your image. Makes things a bit smoother!","body":"I now noticed you&#39;re loading the image from your resources. Spring allows you to serve static files directly. So, in your template, you can simply use <code>&lt;img src=&quot;&#47;static&#47;image&#47;bild.jpg&quot; &#47;&gt;</code> to showcase your image. Makes things a bit smoother!"},{"owner":{"account_id":17955006,"reputation":1,"user_id":13047280,"display_name":"walkawayfromtheworld"},"score":1,"creation_date":1695838728,"post_id":77189635,"comment_id":136078869,"body_markdown":"Aah okay, then I definitely gives this a try. Thank you very much. I&#39;ll keep you updated.","body":"Aah okay, then I definitely gives this a try. Thank you very much. I&#39;ll keep you updated."},{"owner":{"account_id":17955006,"reputation":1,"user_id":13047280,"display_name":"walkawayfromtheworld"},"score":0,"creation_date":1695842480,"post_id":77189635,"comment_id":136079488,"body_markdown":"Unfortunately, static loading of images only results in HTTP 404 messages for me. \n\nIf I try the variant of providing the images via a separate controller, I run into the same problem as with all other methods. The image is loaded only to a small part. \nHowever always only with the variant, if I start the program over the Jar file. About the development environment (Eclipse) it works.","body":"Unfortunately, static loading of images only results in HTTP 404 messages for me.   If I try the variant of providing the images via a separate controller, I run into the same problem as with all other methods. The image is loaded only to a small part.  However always only with the variant, if I start the program over the Jar file. About the development environment (Eclipse) it works."},{"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"score":0,"creation_date":1695843004,"post_id":77189635,"comment_id":136079568,"body_markdown":"Have you configured spring correctly to serve static files?","body":"Have you configured spring correctly to serve static files?"},{"owner":{"account_id":17955006,"reputation":1,"user_id":13047280,"display_name":"walkawayfromtheworld"},"score":1,"creation_date":1695845191,"post_id":77189635,"comment_id":136079914,"body_markdown":"Yes I think so :&#39;D According to google the default setting is that everything in the static folder is statically available and actually I have not changed any settings. \nBut I have also followed some tips from google to configure it manually. But all without success.","body":"Yes I think so :&#39;D According to google the default setting is that everything in the static folder is statically available and actually I have not changed any settings.  But I have also followed some tips from google to configure it manually. But all without success."},{"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"score":0,"creation_date":1695885835,"post_id":77189635,"comment_id":136084181,"body_markdown":"have you tried this (https://www.baeldung.com/spring-mvc-static-resources) (Custom Directories).","body":"have you tried this (<a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-static-resources</a>) (Custom Directories)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695886293,"post_id":77189635,"comment_id":136084258,"body_markdown":"What is the location of the file? Are you using Spring Boot? This question needs more information.","body":"What is the location of the file? Are you using Spring Boot? This question needs more information."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1695901512,"post_id":77189635,"comment_id":136087255,"body_markdown":"If you put the image in `src/main/resources/static/image/bild.jpg`, then the URL you need to use is `&lt;img th:src=&quot;@{/image/bild.jpg}&quot;&gt;`. So `static` should not be part of the URL.","body":"If you put the image in <code>src&#47;main&#47;resources&#47;static&#47;image&#47;bild.jpg</code>, then the URL you need to use is <code>&lt;img th:src=&quot;@{&#47;image&#47;bild.jpg}&quot;&gt;</code>. So <code>static</code> should not be part of the URL."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1695901690,"post_id":77189635,"comment_id":136087290,"body_markdown":"The actual problem here is that you are not reading the full stream of bytes. The `available()` method might return less bytes compared to the full image, just what is available now. See https://stackoverflow.com/questions/10812559/how-to-load-a-classpath-resource-to-an-array-of-byte for a more robust method of converting the resource to a `byte[]`.","body":"The actual problem here is that you are not reading the full stream of bytes. The <code>available()</code> method might return less bytes compared to the full image, just what is available now. See <a href=\"https://stackoverflow.com/questions/10812559/how-to-load-a-classpath-resource-to-an-array-of-byte\" title=\"how to load a classpath resource to an array of byte\">stackoverflow.com/questions/10812559/&hellip;</a> for a more robust method of converting the resource to a <code>byte[]</code>."},{"owner":{"account_id":17955006,"reputation":1,"user_id":13047280,"display_name":"walkawayfromtheworld"},"score":0,"creation_date":1695906149,"post_id":77189635,"comment_id":136088216,"body_markdown":"Thank you @WimDeblauwe ,your html tag was the solution to display static images. I&#39;ve used a normal html tag before and not the thymeleaf version..","body":"Thank you @WimDeblauwe ,your html tag was the solution to display static images. I&#39;ve used a normal html tag before and not the thymeleaf version.."}],"owner":{"account_id":17955006,"reputation":1,"user_id":13047280,"display_name":"walkawayfromtheworld"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695836191,"creation_date":1695835407,"question_id":77189635,"body_markdown":"I have a Java Spring program that is supposed to display a website with an image. When I run this in the development environment, it works without problems. When I compile my program to a jar file and run it, the image on the website is only partially loaded, the bottom half is just a blue/grey block. But this speaks for the fact that the image is found in the jar file after all. \r\nI have already tried to send the image as byte array as well as base64 string, but both lead to the same behavior. \r\nWhat can be the reason that it behaves so differently from development environment to compilation?\r\n\r\nHere the code how i try to read the image. \r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Base64;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class GreetingController {\r\n\r\n\t@GetMapping(&quot;/greeting&quot;)\r\n\tpublic String greeting(@RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;World&quot;) String name,\r\n\t\t\tModel model) throws IOException {\r\n\t\tmodel.addAttribute(&quot;name&quot;, name);\r\n\t\tmodel.addAttribute(&quot;base64Image&quot;, getBase64Image());\r\n\t\treturn &quot;greeting&quot;;\r\n\t}\r\n\r\n\tprivate String getBase64Image() throws IOException {\r\n\t\ttry (InputStream imageStream = getClass().getResourceAsStream(&quot;/images/bild.jpg&quot;);) {\r\n\t\t\tbyte[] imageBytes = new byte[imageStream.available()];\r\n\t\t\timageStream.read(imageBytes);\r\n\t\t\t\r\n\t\t\tString encodeToString = Base64.getEncoder().encodeToString(imageBytes);\r\n\t\t\tSystem.out.println(&quot;Base64String length: &quot;  + encodeToString.length());\r\n\t\t\treturn encodeToString;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have also already compared the lengths of the Base64 string for both variants. These are the same in the development environment as well as in the compiled program. Thus the complete image can be converted into a Base64 string also in the Jar version. ","title":"Spring Webserver not loading/transmitting images completely","body":"<p>I have a Java Spring program that is supposed to display a website with an image. When I run this in the development environment, it works without problems. When I compile my program to a jar file and run it, the image on the website is only partially loaded, the bottom half is just a blue/grey block. But this speaks for the fact that the image is found in the jar file after all.\nI have already tried to send the image as byte array as well as base64 string, but both lead to the same behavior.\nWhat can be the reason that it behaves so differently from development environment to compilation?</p>\n<p>Here the code how i try to read the image.</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Base64;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class GreetingController {\n\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;World&quot;) String name,\n            Model model) throws IOException {\n        model.addAttribute(&quot;name&quot;, name);\n        model.addAttribute(&quot;base64Image&quot;, getBase64Image());\n        return &quot;greeting&quot;;\n    }\n\n    private String getBase64Image() throws IOException {\n        try (InputStream imageStream = getClass().getResourceAsStream(&quot;/images/bild.jpg&quot;);) {\n            byte[] imageBytes = new byte[imageStream.available()];\n            imageStream.read(imageBytes);\n            \n            String encodeToString = Base64.getEncoder().encodeToString(imageBytes);\n            System.out.println(&quot;Base64String length: &quot;  + encodeToString.length());\n            return encodeToString;\n        }\n    }\n\n}\n</code></pre>\n<p>I have also already compared the lengths of the Base64 string for both variants. These are the same in the development environment as well as in the compiled program. Thus the complete image can be converted into a Base64 string also in the Jar version.</p>\n"},{"tags":["java","junit","integration-testing"],"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1695835998,"post_id":2584629,"comment_id":136078359,"body_markdown":"Probably &quot;integration-testing&quot; tag was not available (The question is old, hence &quot;unit-testing&quot; was used). Now the tags are fixed.","body":"Probably &quot;integration-testing&quot; tag was not available (The question is old, hence &quot;unit-testing&quot; was used). Now the tags are fixed."}],"answers":[{"comments":[{"owner":{"account_id":76038,"reputation":1631,"user_id":217943,"accept_rate":84,"display_name":"Egon Willighagen"},"score":4,"creation_date":1281812540,"post_id":2584645,"comment_id":3638246,"body_markdown":"Yeah, it seems like an excellent start: http://chem-bla-ics.blogspot.com/2010/08/specifying-unit-test-dependencies-with.html","body":"Yeah, it seems like an excellent start: <a href=\"http://chem-bla-ics.blogspot.com/2010/08/specifying-unit-test-dependencies-with.html\" rel=\"nofollow noreferrer\">chem-bla-ics.blogspot.com/2010/08/&hellip;</a>"},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":2,"creation_date":1376539348,"post_id":2584645,"comment_id":26753898,"body_markdown":"It useful in situation when ClassA.methodA() invokes ClassB.methodB() and both takes a lot of time. In this case you can specify that testMethodA() depends on testMethodB(), that is if testMethodB() fails, testMethodA() also fails **without execution**.","body":"It useful in situation when ClassA.methodA() invokes ClassB.methodB() and both takes a lot of time. In this case you can specify that testMethodA() depends on testMethodB(), that is if testMethodB() fails, testMethodA() also fails <b>without execution</b>."},{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":0,"creation_date":1376557455,"post_id":2584645,"comment_id":26759492,"body_markdown":"@Cherry: Sounds like an excuse for not writing [fast tests](http://agileinaflash.blogspot.fi/2009/02/first.html). Some options for improving the design: (1) make methodB fast, (2) make methodA not depend on methodB, (3), use a test double for ClassB when testing ClassA.","body":"@Cherry: Sounds like an excuse for not writing <a href=\"http://agileinaflash.blogspot.fi/2009/02/first.html\" rel=\"nofollow noreferrer\">fast tests</a>. Some options for improving the design: (1) make methodB fast, (2) make methodA not depend on methodB, (3), use a test double for ClassB when testing ClassA."},{"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"score":0,"creation_date":1471348080,"post_id":2584645,"comment_id":65301327,"body_markdown":"nice link list all answers here, wondering for how long these links stay valid","body":"nice link list all answers here, wondering for how long these links stay valid"}],"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1653893668,"creation_date":1270555766,"answer_id":2584645,"question_id":2584629,"body_markdown":"JUnit simply can&#39;t yet (at time of writting, 2022).\r\n\r\nBut both [JExample][1] and [TestNG][2] have something like that.\r\n\r\n* Said libraries provide their own test runner, which supports their dependency mechanism.\r\n* And both can be used alongside JUnit (without need to rewrite existing classes).\r\n* But TestNG seems more promising.\r\n\r\nI don&#39;t know how useful it is, but if you try it, please come back to tell us whether it was useful.\r\n\r\n\r\n  [1]: http://scg.unibe.ch/research/jexample\r\n  [2]: http://testng.org/doc/documentation-main.html#dependent-methods\r\n","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p>JUnit simply can't yet (at time of writting, 2022).</p>\n<p>But both <a href=\"http://scg.unibe.ch/research/jexample\" rel=\"nofollow noreferrer\">JExample</a> and <a href=\"http://testng.org/doc/documentation-main.html#dependent-methods\" rel=\"nofollow noreferrer\">TestNG</a> have something like that.</p>\n<ul>\n<li>Said libraries provide their own test runner, which supports their dependency mechanism.</li>\n<li>And both can be used alongside JUnit (without need to rewrite existing classes).</li>\n<li>But TestNG seems more promising.</li>\n</ul>\n<p>I don't know how useful it is, but if you try it, please come back to tell us whether it was useful.</p>\n"},{"comments":[{"owner":{"account_id":76038,"reputation":1631,"user_id":217943,"accept_rate":84,"display_name":"Egon Willighagen"},"score":2,"creation_date":1270557763,"post_id":2584660,"comment_id":2591880,"body_markdown":"I don&#39;t see why unit tests cannot have dependencies... our toolkit defines data objects and algorithms... if a data object fails, how do you expect the algorithm to automagically correct for that? Perhaps the naming of both methods foo() was misleading...","body":"I don&#39;t see why unit tests cannot have dependencies... our toolkit defines data objects and algorithms... if a data object fails, how do you expect the algorithm to automagically correct for that? Perhaps the naming of both methods foo() was misleading..."},{"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"score":0,"creation_date":1270561324,"post_id":2584660,"comment_id":2592346,"body_markdown":"Only strict mock tests would not exhibit any dependencies on each other (and still they may...). In general, such dependencies are always possible and have to reflect dependencies in OO design. I believe that maintaining such annotation across all tests would add to complexity without significant benefit, but having such annotation in a few core cases may benefit.","body":"Only strict mock tests would not exhibit any dependencies on each other (and still they may...). In general, such dependencies are always possible and have to reflect dependencies in OO design. I believe that maintaining such annotation across all tests would add to complexity without significant benefit, but having such annotation in a few core cases may benefit."},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1695835904,"post_id":2584660,"comment_id":136078347,"body_markdown":"Probably &quot;integration-testing&quot; tag was not available (The question is old, hence &quot;unit-testing&quot; was used). Now the tags are fixed, and &quot;mock out Y&quot; makes no sense any longer (because it would be a unit-test not integration-test).","body":"Probably &quot;integration-testing&quot; tag was not available (The question is old, hence &quot;unit-testing&quot; was used). Now the tags are fixed, and &quot;mock out Y&quot; makes no sense any longer (because it would be a unit-test not integration-test)."}],"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1270556492,"creation_date":1270555908,"answer_id":2584660,"question_id":2584629,"body_markdown":"&lt;strike&gt;There really isn&#39;t something like this that I&#39;m aware of.&lt;/strike&gt; (Edit: you learn something new every day :)) In my opinion, this isn&#39;t that bad of a thing (though I can see it being useful, especially when JUnit it being used for other forms of automated tests - e.g., integration tests). Your tests, IMO, aren&#39;t in the strictest sense of the word &quot;unit tests&quot; (at least not the test for `X#foo()`). Tests for `X#foo()` should succeed or fail depending *only* on the implementation of `X#foo()`. It should not be dependent on `Y#foo()`.\r\n\r\nWhat I&#39;d do in your position is to mock out Y, and implement something like `MockY#foo()` with very simple, controlled behavior, and use it in `X#foo()`&#39;s tests.\r\n\r\nThat said, with 15,000 tests, I can see how this would be a pain to refactor. :)","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p><strike>There really isn't something like this that I'm aware of.</strike> (Edit: you learn something new every day :)) In my opinion, this isn't that bad of a thing (though I can see it being useful, especially when JUnit it being used for other forms of automated tests - e.g., integration tests). Your tests, IMO, aren't in the strictest sense of the word \"unit tests\" (at least not the test for <code>X#foo()</code>). Tests for <code>X#foo()</code> should succeed or fail depending <em>only</em> on the implementation of <code>X#foo()</code>. It should not be dependent on <code>Y#foo()</code>.</p>\n\n<p>What I'd do in your position is to mock out Y, and implement something like <code>MockY#foo()</code> with very simple, controlled behavior, and use it in <code>X#foo()</code>'s tests.</p>\n\n<p>That said, with 15,000 tests, I can see how this would be a pain to refactor. :)</p>\n"},{"tags":[],"owner":{"account_id":2573,"reputation":24982,"user_id":3587,"accept_rate":74,"display_name":"Thomas L&#246;tzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609369798,"creation_date":1270555925,"answer_id":2584662,"question_id":2584629,"body_markdown":"You can declare [test dependencies in TestNG][1], the syntax is almost the same as in your example. I don&#39;t think JUnit offers something similar.\r\n\r\n\r\n  [1]: https://testng.org/doc/documentation-main.html#dependencies-with-annotations","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p>You can declare <a href=\"https://testng.org/doc/documentation-main.html#dependencies-with-annotations\" rel=\"nofollow noreferrer\">test dependencies in TestNG</a>, the syntax is almost the same as in your example. I don't think JUnit offers something similar.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1270556146,"creation_date":1270556146,"answer_id":2584685,"question_id":2584629,"body_markdown":"In [behavior driven design][1] library [jBehave][2] there&#39;s a keyword `GivenScenarios` which imports a list of scenarios that are run before the main scenario. This gives an opportunity to define dependencies and have one point of failure. jBehave&#39;s logging will tell you if test fails in dependencies or main body section.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Behavior_Driven_Development\r\n  [2]: http://jbehave.org/","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p>In <a href=\"http://en.wikipedia.org/wiki/Behavior_Driven_Development\" rel=\"nofollow noreferrer\">behavior driven design</a> library <a href=\"http://jbehave.org/\" rel=\"nofollow noreferrer\">jBehave</a> there's a keyword <code>GivenScenarios</code> which imports a list of scenarios that are run before the main scenario. This gives an opportunity to define dependencies and have one point of failure. jBehave's logging will tell you if test fails in dependencies or main body section.</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1479717839,"post_id":7924538,"comment_id":68659172,"body_markdown":"This seems not yet available in maven central (see http://search.maven.org/#search%7Cga%7C1%7Cjunit-contrib). How do you use it? Or do you use something else now?","body":"This seems not yet available in maven central (see <a href=\"http://search.maven.org/#search%7Cga%7C1%7Cjunit-contrib\" rel=\"nofollow noreferrer\">search.maven.org/#search%7Cga%7C1%7Cjunit-contrib</a>). How do you use it? Or do you use something else now?"}],"tags":[],"owner":{"account_id":52196,"reputation":547,"user_id":2127697,"display_name":"Jose Muanis"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1653894140,"creation_date":1319769101,"answer_id":7924538,"question_id":2584629,"body_markdown":"There&#39;s a contribution to JUnit that address this: https://github.com/junit-team/junit.contrib/tree/master/assumes\r\n\r\n**Update 2022;** Assumes is out by now, but that only skips tests, which is not what OP asks for.","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p>There's a contribution to JUnit that address this: <a href=\"https://github.com/junit-team/junit.contrib/tree/master/assumes\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit.contrib/tree/master/assumes</a></p>\n<p><strong>Update 2022;</strong> Assumes is out by now, but that only skips tests, which is not what OP asks for.</p>\n"},{"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1609366113,"post_id":27654150,"comment_id":115826983,"body_markdown":"Not exactly what was asked. For example in integration tests for Spring Boot, if there are 10 tests and context load fails, I&#39;d like to skip other tests as every single one will try to load context again, so I&#39;d like all to fail if context load failed as first test...","body":"Not exactly what was asked. For example in integration tests for Spring Boot, if there are 10 tests and context load fails, I&#39;d like to skip other tests as every single one will try to load context again, so I&#39;d like all to fail if context load failed as first test..."}],"tags":[],"owner":{"account_id":5537395,"reputation":71,"user_id":4395184,"display_name":"Aditya Digumarti"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1419578876,"creation_date":1419578876,"answer_id":27654150,"question_id":2584629,"body_markdown":"org.junit.FixMethodOrder\r\n\r\n\r\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\nThis goes on top of your Unit test class.\r\n\r\nYou can name your methods public void step1_methodName etc","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p>org.junit.FixMethodOrder</p>\n\n<p>@FixMethodOrder(MethodSorters.NAME_ASCENDING)\nThis goes on top of your Unit test class.</p>\n\n<p>You can name your methods public void step1_methodName etc</p>\n"}],"owner":{"account_id":76038,"reputation":1631,"user_id":217943,"accept_rate":84,"display_name":"Egon Willighagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59516,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":2584645,"answer_count":6,"score":63,"last_activity_date":1695835483,"creation_date":1270555600,"question_id":2584629,"body_markdown":"Our toolkit has over 15000 [JUnit][1] tests, and many tests are known to fail if some other test fails. For example, if the method X.foo() uses functionality from Y.bar() and YTest.testBar() fails, then XTest.testFoo() will fail too. Obviously, XTest.testFoo() can also fail because of problems specific to X.foo().\r\n\r\nWhile this is fine and I still want both tests run, it would be nice if one could annotate a test dependency with XTest.testFoo() pointing to YTest.testBar(). This way, one could immediately see what functionality used by X.foo() is also failing, and what not.\r\n\r\nIs there such annotation available in JUnit or elsewhere? Something like:\r\n\r\n    public XTest {\r\n\r\n      @Test\r\n      @DependsOn(method=org.example.tests.YTest#testBar)\r\n      public void testFoo() {\r\n         // Assert.something();\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://www.junit.org/","title":"JUnit - Specify a test&#39;s dependency on other tests (without skipping either)?","body":"<p>Our toolkit has over 15000 <a href=\"http://www.junit.org/\" rel=\"noreferrer\">JUnit</a> tests, and many tests are known to fail if some other test fails. For example, if the method X.foo() uses functionality from Y.bar() and YTest.testBar() fails, then XTest.testFoo() will fail too. Obviously, XTest.testFoo() can also fail because of problems specific to X.foo().</p>\n\n<p>While this is fine and I still want both tests run, it would be nice if one could annotate a test dependency with XTest.testFoo() pointing to YTest.testBar(). This way, one could immediately see what functionality used by X.foo() is also failing, and what not.</p>\n\n<p>Is there such annotation available in JUnit or elsewhere? Something like:</p>\n\n<pre><code>public XTest {\n\n  @Test\n  @DependsOn(method=org.example.tests.YTest#testBar)\n  public void testFoo() {\n     // Assert.something();\n  }\n\n}\n</code></pre>\n"},{"tags":["java","android","xml","logcat"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695828498,"post_id":77188738,"comment_id":136076931,"body_markdown":"Sorry but Stackoverflow is not a code and log dump. Please write a question and only include relevant information (e.g. layouts are usually not relevant) and only relevant code parts. If there is an error mark the line where the error occurs as nobody wants to count which is line 30.","body":"Sorry but Stackoverflow is not a code and log dump. Please write a question and only include relevant information (e.g. layouts are usually not relevant) and only relevant code parts. If there is an error mark the line where the error occurs as nobody wants to count which is line 30."}],"owner":{"account_id":23432991,"reputation":1,"user_id":17491513,"display_name":"Usama Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695835150,"creation_date":1695827324,"question_id":77188738,"body_markdown":"MainActivity.java\r\n\r\n```\r\npackage com.example.crud_listview;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.material.button.MaterialButton;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    public static final String DATABASE_NAME = &quot;employee_database&quot;;\r\n    MaterialButton mAddEmp, mViewEmp;\r\n    EditText mTextName, mTextSalary;\r\n    Spinner mSpinnerDepartment;\r\n\r\n    SQLiteDatabase mDatabase;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mViewEmp = findViewById(R.id.btnViewEmployees);\r\n        mAddEmp = findViewById(R.id.btnAddEmployee);\r\n        mTextName = findViewById(R.id.editTextName);\r\n        mTextSalary = findViewById(R.id.editTextSalary);\r\n        mSpinnerDepartment = findViewById(R.id.spinnerDepartment);\r\n\r\n        mAddEmp.setOnClickListener(this);\r\n        mViewEmp.setOnClickListener(this);\r\n\r\n        mDatabase = openOrCreateDatabase(DATABASE_NAME, MODE_PRIVATE, null);\r\n\r\n        mCreateEmployeeTable();\r\n    }\r\n\r\n    private void mCreateEmployeeTable() {\r\n        mDatabase.execSQL(\r\n                &quot;CREATE TABLE IF NOT EXISTS employees (\\n&quot; +\r\n                        &quot;    id INTEGER NOT NULL CONSTRAINT employees_pk PRIMARY KEY AUTOINCREMENT,\\n&quot; +\r\n                        &quot;    name varchar(200) NOT NULL,\\n&quot; +\r\n                        &quot;    department varchar(200) NOT NULL,\\n&quot; +\r\n                        &quot;    joiningdate datetime NOT NULL,\\n&quot; +\r\n                        &quot;    salary decimal(5,2) NOT NULL\\n&quot; +\r\n                        &quot;);&quot;\r\n        );\r\n    }\r\n\r\n    private boolean inputsAreCorrect(String name, String salary) {\r\n        if (name.isEmpty()) {\r\n            mTextName.setError(&quot;Please enter a name&quot;);\r\n            mTextName.requestFocus();\r\n            return false;\r\n        }\r\n\r\n        if (salary.isEmpty() || Integer.parseInt(salary) &lt;= 0) {\r\n            mTextSalary.setError(&quot;Please enter salary&quot;);\r\n            mTextSalary.requestFocus();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void addEmployee() {\r\n\r\n        String eName = mTextName.getText().toString().trim();\r\n        String eSalary = mTextSalary.getText().toString().trim();\r\n        String eDept = mSpinnerDepartment.getSelectedItem().toString();\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss&quot;);\r\n        String eJoiningDate = sdf.format(cal.getTime());\r\n\r\n        if (inputsAreCorrect(eName, eSalary)) {\r\n\r\n            String insertSQL = &quot;INSERT INTO employees \\n&quot; +\r\n                    &quot;(name, department, joiningdate, salary)\\n&quot; +\r\n                    &quot;VALUES \\n&quot; +\r\n                    &quot;(?, ?, ?, ?);&quot;;\r\n\r\n            mDatabase.execSQL(insertSQL, new String[]{eName, eDept, eJoiningDate, eSalary});\r\n\r\n            Toast.makeText(this, &quot;Employee Added Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.btnAddEmployee:\r\n                addEmployee();\r\n                break;\r\n            case R.id.btnViewEmployees:\r\n                startActivity(new Intent(this, EmployeeActivity.class));\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPointerCaptureChanged(boolean hasCapture) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;7dp&quot;\r\n        app:cardCornerRadius=&quot;7dp&quot;\r\n        app:strokeColor=&quot;@color/colorPrimaryDark&quot;\r\n        app:strokeWidth=&quot;2dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:text=&quot;Add a new Employee&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@color/colorPrimary&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:gravity=&quot;center_horizontal&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editTextName&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;3dp&quot;\r\n                android:hint=&quot;Enter Employee Name&quot;\r\n                android:inputType=&quot;textPersonName&quot; /&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;3dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:padding=&quot;3dp&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;Select Department&quot; /&gt;\r\n\r\n\r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/spinnerDepartment&quot;\r\n                    style=&quot;@style/Widget.AppCompat.Spinner.Underlined&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:entries=&quot;@array/departments&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editTextSalary&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;3dp&quot;\r\n                android:digits=&quot;0123456789&quot;\r\n                android:hint=&quot;Enter Employee Salary&quot;\r\n                android:inputType=&quot;numberDecimal&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;android.support.design.button.MaterialButton\r\n                    android:id=&quot;@+id/btnAddEmployee&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;Add Employee&quot;\r\n                    app:backgroundTint=&quot;@color/color_green&quot; /&gt;\r\n\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/btnViewEmployees&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;View Employees&quot;\r\n                    app:backgroundTint=&quot;@color/colorPrimary&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n**LOGCAT**\r\n\r\n2023-09-27 20:34:07.248 29141-29141/? E/e.crud_listvie: Unknown bits set in runtime_flags: 0x800000\r\n2023-09-27 20:34:07.460 29141-29141/com.example.crud_listview E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted\r\n2023-09-27 20:34:07.598 29141-29141/com.example.crud_listview E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.crud_listview, PID: 29141\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.crud_listview/com.example.crud_listview.MainActivity}: android.view.InflateException: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Error inflating class com.google.android.material.card.MaterialCardView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3618)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2253)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:245)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8024)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\r\n     Caused by: android.view.InflateException: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Error inflating class com.google.android.material.card.MaterialCardView\r\n     Caused by: android.view.InflateException: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Error inflating class com.google.android.material.card.MaterialCardView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1131)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1092)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\r\n        **at com.example.crud_listview.MainActivity.onCreate(MainActivity.java:30)**\r\n        \r\nLine number 30 is like **setContentView(R.layout.activity_main)** in the ActivityMain.java\r\n\r\nIt creates the android app perfectly but when i try to open the app in my mobile, it crashes, i have checked the whole code but couldn&#39;t find any error","title":"Android Error At com.example.crud_listview.MainActivity.onCreate(MainActivity.java:30)","body":"<p>MainActivity.java</p>\n<pre><code>package com.example.crud_listview;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.material.button.MaterialButton;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    public static final String DATABASE_NAME = &quot;employee_database&quot;;\n    MaterialButton mAddEmp, mViewEmp;\n    EditText mTextName, mTextSalary;\n    Spinner mSpinnerDepartment;\n\n    SQLiteDatabase mDatabase;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mViewEmp = findViewById(R.id.btnViewEmployees);\n        mAddEmp = findViewById(R.id.btnAddEmployee);\n        mTextName = findViewById(R.id.editTextName);\n        mTextSalary = findViewById(R.id.editTextSalary);\n        mSpinnerDepartment = findViewById(R.id.spinnerDepartment);\n\n        mAddEmp.setOnClickListener(this);\n        mViewEmp.setOnClickListener(this);\n\n        mDatabase = openOrCreateDatabase(DATABASE_NAME, MODE_PRIVATE, null);\n\n        mCreateEmployeeTable();\n    }\n\n    private void mCreateEmployeeTable() {\n        mDatabase.execSQL(\n                &quot;CREATE TABLE IF NOT EXISTS employees (\\n&quot; +\n                        &quot;    id INTEGER NOT NULL CONSTRAINT employees_pk PRIMARY KEY AUTOINCREMENT,\\n&quot; +\n                        &quot;    name varchar(200) NOT NULL,\\n&quot; +\n                        &quot;    department varchar(200) NOT NULL,\\n&quot; +\n                        &quot;    joiningdate datetime NOT NULL,\\n&quot; +\n                        &quot;    salary decimal(5,2) NOT NULL\\n&quot; +\n                        &quot;);&quot;\n        );\n    }\n\n    private boolean inputsAreCorrect(String name, String salary) {\n        if (name.isEmpty()) {\n            mTextName.setError(&quot;Please enter a name&quot;);\n            mTextName.requestFocus();\n            return false;\n        }\n\n        if (salary.isEmpty() || Integer.parseInt(salary) &lt;= 0) {\n            mTextSalary.setError(&quot;Please enter salary&quot;);\n            mTextSalary.requestFocus();\n            return false;\n        }\n        return true;\n    }\n\n    private void addEmployee() {\n\n        String eName = mTextName.getText().toString().trim();\n        String eSalary = mTextSalary.getText().toString().trim();\n        String eDept = mSpinnerDepartment.getSelectedItem().toString();\n\n        Calendar cal = Calendar.getInstance();\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss&quot;);\n        String eJoiningDate = sdf.format(cal.getTime());\n\n        if (inputsAreCorrect(eName, eSalary)) {\n\n            String insertSQL = &quot;INSERT INTO employees \\n&quot; +\n                    &quot;(name, department, joiningdate, salary)\\n&quot; +\n                    &quot;VALUES \\n&quot; +\n                    &quot;(?, ?, ?, ?);&quot;;\n\n            mDatabase.execSQL(insertSQL, new String[]{eName, eDept, eJoiningDate, eSalary});\n\n            Toast.makeText(this, &quot;Employee Added Successfully&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.btnAddEmployee:\n                addEmployee();\n                break;\n            case R.id.btnViewEmployees:\n                startActivity(new Intent(this, EmployeeActivity.class));\n                break;\n        }\n    }\n\n    @Override\n    public void onPointerCaptureChanged(boolean hasCapture) {\n\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;7dp&quot;\n        app:cardCornerRadius=&quot;7dp&quot;\n        app:strokeColor=&quot;@color/colorPrimaryDark&quot;\n        app:strokeWidth=&quot;2dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;15dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;15dp&quot;\n                android:text=&quot;Add a new Employee&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textColor=&quot;@color/colorPrimary&quot;\n                android:textSize=&quot;30sp&quot;\n                android:gravity=&quot;center_horizontal&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editTextName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;3dp&quot;\n                android:hint=&quot;Enter Employee Name&quot;\n                android:inputType=&quot;textPersonName&quot; /&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;3dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:padding=&quot;3dp&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;Select Department&quot; /&gt;\n\n\n                &lt;Spinner\n                    android:id=&quot;@+id/spinnerDepartment&quot;\n                    style=&quot;@style/Widget.AppCompat.Spinner.Underlined&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:entries=&quot;@array/departments&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editTextSalary&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;3dp&quot;\n                android:digits=&quot;0123456789&quot;\n                android:hint=&quot;Enter Employee Salary&quot;\n                android:inputType=&quot;numberDecimal&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;android.support.design.button.MaterialButton\n                    android:id=&quot;@+id/btnAddEmployee&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;5dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;Add Employee&quot;\n                    app:backgroundTint=&quot;@color/color_green&quot; /&gt;\n\n                &lt;com.google.android.material.button.MaterialButton\n                    android:id=&quot;@+id/btnViewEmployees&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;5dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;View Employees&quot;\n                    app:backgroundTint=&quot;@color/colorPrimary&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>LOGCAT</strong></p>\n<p>2023-09-27 20:34:07.248 29141-29141/? E/e.crud_listvie: Unknown bits set in runtime_flags: 0x800000\n2023-09-27 20:34:07.460 29141-29141/com.example.crud_listview E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted\n2023-09-27 20:34:07.598 29141-29141/com.example.crud_listview E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.crud_listview, PID: 29141\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.crud_listview/com.example.crud_listview.MainActivity}: android.view.InflateException: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Error inflating class com.google.android.material.card.MaterialCardView\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3618)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2253)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:245)\nat android.app.ActivityThread.main(ActivityThread.java:8024)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\nCaused by: android.view.InflateException: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Error inflating class com.google.android.material.card.MaterialCardView\nCaused by: android.view.InflateException: Binary XML file line #11 in com.example.crud_listview:layout/activity_main: Error inflating class com.google.android.material.card.MaterialCardView\nCaused by: java.lang.reflect.InvocationTargetException\nat java.lang.reflect.Constructor.newInstance0(Native Method)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:343)\nat android.view.LayoutInflater.createView(LayoutInflater.java:852)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1131)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1092)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:532)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:479)\nat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\nat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\n<strong>at com.example.crud_listview.MainActivity.onCreate(MainActivity.java:30)</strong></p>\n<p>Line number 30 is like <strong>setContentView(R.layout.activity_main)</strong> in the ActivityMain.java</p>\n<p>It creates the android app perfectly but when i try to open the app in my mobile, it crashes, i have checked the whole code but couldn't find any error</p>\n"},{"tags":["java","regex","xml","string"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1695831708,"post_id":77189082,"comment_id":136077630,"body_markdown":"Why regex? It is most likely the wrong tool for this.","body":"Why regex? It is most likely the wrong tool for this."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1695832339,"post_id":77189082,"comment_id":136077730,"body_markdown":"First, questions should provide a [mcve] including what you have tried. Never parse HTML/XML with regex: https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags","body":"First, questions should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including what you have tried. Never parse HTML/XML with regex: <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695838172,"post_id":77189082,"comment_id":136078760,"body_markdown":"Why does that even matter?  Surely you can parse the XML document as it is.  Also see https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg.","body":"Why does that even matter?  Surely you can parse the XML document as it is.  Also see <a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\" title=\"can you provide some examples of why it is hard to parse xml and html with a reg\">stackoverflow.com/questions/701166/&hellip;</a>."},{"owner":{"account_id":4167388,"reputation":3255,"user_id":3416072,"display_name":"Didier Aupest"},"score":1,"creation_date":1695982261,"post_id":77189082,"comment_id":136098627,"body_markdown":"Does this answer your question? [Can you provide some examples of why it is hard to parse XML and HTML with a regex?](https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\">Can you provide some examples of why it is hard to parse XML and HTML with a regex?</a>"}],"answers":[{"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1695835382,"post_id":77189546,"comment_id":136078262,"body_markdown":"Like all attempts to modify XML using regular expressions, this code is wrong. For example it will fail if the attributes are separated by tabs rather than spaces. Regexes are simply the wrong tool for the job.","body":"Like all attempts to modify XML using regular expressions, this code is wrong. For example it will fail if the attributes are separated by tabs rather than spaces. Regexes are simply the wrong tool for the job."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695839238,"post_id":77189546,"comment_id":136078959,"body_markdown":"@MichaelKay, why would this fail on a _tab_ character?","body":"@MichaelKay, why would this fail on a <i>tab</i> character?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1695921741,"post_id":77189546,"comment_id":136091668,"body_markdown":"Actually it will fail on a newline but not on a tab (because of single-line mode). It will also fail, I think, if the root element has no attributes.","body":"Actually it will fail on a newline but not on a tab (because of single-line mode). It will also fail, I think, if the root element has no attributes."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695928750,"post_id":77189546,"comment_id":136092730,"body_markdown":"@MichaelKay, it shouldn&#39;t, unless I am over-looking something.  _Single-line_ mode is when the `.` syntax will additionally match `\\r` and `\\n`.  And, regarding it failing when there are no attributes, the _pattern_ is meant for a _substitution_ routine, not just a _find_.","body":"@MichaelKay, it shouldn&#39;t, unless I am over-looking something.  <i>Single-line</i> mode is when the <code>.</code> syntax will additionally match <code>\\r</code> and <code>\\n</code>.  And, regarding it failing when there are no attributes, the <i>pattern</i> is meant for a <i>substitution</i> routine, not just a <i>find</i>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1695834443,"creation_date":1695834443,"answer_id":77189546,"question_id":77189082,"body_markdown":"&gt; _&quot;... i want to remove attribute of parent tag via regex, string handling ...&quot;_\r\n\r\nYou can use the following pattern.\r\n\r\n```none\r\n(?s)(?&lt;=&lt;root)\\s.+?(?&lt;!]])(?=&gt;)\r\n```\r\n\r\n- `(?s)` will toggle-on _single-line_ mode\r\n- `(?&lt;=&lt;root)\\s` will assert the match starts with the text, _&quot;&lt;root&quot;_\r\n- `.+?(?&lt;!]])(?=&gt;)` will match everything up to a _&gt;_, which is not a _]]&gt;_\r\n\r\nHere is an example, where _s_ is your provided text.\r\n\r\n```java\r\ns = s.replaceAll(&quot;(?s)(?&lt;=&lt;root)\\\\s.+?(?&lt;!]])(?=&gt;)&quot;, &quot;&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n&lt;root&gt;&lt;tag1&gt;a&lt;/tag1&gt;&lt;tag2&gt;b&lt;/tag2&gt;&lt;tag3&gt;c&lt;/tag3&gt;&lt;/root&gt;\r\n```","title":"to remove xml root attribute","body":"<blockquote>\n<p><em>&quot;... i want to remove attribute of parent tag via regex, string handling ...&quot;</em></p>\n</blockquote>\n<p>You can use the following pattern.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?s)(?&lt;=&lt;root)\\s.+?(?&lt;!]])(?=&gt;)\n</code></pre>\n<ul>\n<li><code>(?s)</code> will toggle-on <em>single-line</em> mode</li>\n<li><code>(?&lt;=&lt;root)\\s</code> will assert the match starts with the text, <em>&quot;&lt;root&quot;</em></li>\n<li><code>.+?(?&lt;!]])(?=&gt;)</code> will match everything up to a <em>&gt;</em>, which is not a <em>]]&gt;</em></li>\n</ul>\n<p>Here is an example, where <em>s</em> is your provided text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.replaceAll(&quot;(?s)(?&lt;=&lt;root)\\\\s.+?(?&lt;!]])(?=&gt;)&quot;, &quot;&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;root&gt;&lt;tag1&gt;a&lt;/tag1&gt;&lt;tag2&gt;b&lt;/tag2&gt;&lt;tag3&gt;c&lt;/tag3&gt;&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":25867478,"reputation":1,"user_id":19598890,"display_name":"mhnskta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1695834443,"creation_date":1695829968,"question_id":77189082,"body_markdown":" \r\ni want to remove attribute of parent tag via regex,   string handling please help\r\n`&lt;root xmlns=&quot;http://schemas.abc.com/ess/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; abcId=&quot;sip:+14184400781@ims.mnc510.mcc302.3gppnetwork.org&quot;&gt;&lt;tag1&gt;a&lt;/tag1&gt;&lt;tag2&gt;b&lt;/tag2&gt;&lt;tag3&gt;c&lt;/tag3&gt;&lt;/root&gt;`\r\n  \r\n\r\ni want output to be like this\r\n`&lt;root&gt;&lt;tag1&gt;a&lt;/tag1&gt;&lt;tag2&gt;b&lt;/tag2&gt;&lt;tag3&gt;c&lt;/tag3&gt;&lt;/root&gt;`","title":"to remove xml root attribute","body":"<p>i want to remove attribute of parent tag via regex,   string handling please help\n<code>&lt;root xmlns=&quot;http://schemas.abc.com/ess/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; abcId=&quot;sip:+14184400781@ims.mnc510.mcc302.3gppnetwork.org&quot;&gt;&lt;tag1&gt;a&lt;/tag1&gt;&lt;tag2&gt;b&lt;/tag2&gt;&lt;tag3&gt;c&lt;/tag3&gt;&lt;/root&gt;</code></p>\n<p>i want output to be like this\n<code>&lt;root&gt;&lt;tag1&gt;a&lt;/tag1&gt;&lt;tag2&gt;b&lt;/tag2&gt;&lt;tag3&gt;c&lt;/tag3&gt;&lt;/root&gt;</code></p>\n"},{"tags":["java","email","outlook"],"answers":[{"comments":[{"owner":{"account_id":5037932,"reputation":11,"user_id":4046219,"display_name":"Nivedita"},"score":0,"creation_date":1410930714,"post_id":25868877,"comment_id":40506255,"body_markdown":"Thanks for your response. I could not resolve this with the article which you mentioned though. The network I am in, uses a proxy. Could that be the reason for this error? If so, how do I get around that?","body":"Thanks for your response. I could not resolve this with the article which you mentioned though. The network I am in, uses a proxy. Could that be the reason for this error? If so, how do I get around that?"},{"owner":{"account_id":5037932,"reputation":11,"user_id":4046219,"display_name":"Nivedita"},"score":0,"creation_date":1410945771,"post_id":25868877,"comment_id":40513186,"body_markdown":"I checked again..I am trying to access corporate email, so no proxy is used.Can you suggest something?","body":"I checked again..I am trying to access corporate email, so no proxy is used.Can you suggest something?"},{"owner":{"account_id":4978006,"reputation":592,"user_id":4003819,"display_name":"Killer"},"score":0,"creation_date":1410945923,"post_id":25868877,"comment_id":40513266,"body_markdown":"check this for better understanding http://www.tutorialspoint.com/java/java_sending_email.htm","body":"check this for better understanding <a href=\"http://www.tutorialspoint.com/java/java_sending_email.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/java/java_sending_email.htm</a>"},{"owner":{"account_id":4978006,"reputation":592,"user_id":4003819,"display_name":"Killer"},"score":0,"creation_date":1410946306,"post_id":25868877,"comment_id":40513464,"body_markdown":"Check this also http://www.oracle.com/technetwork/java/javamail/faq/index.html#gmail","body":"Check this also <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#gmail\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javamail/faq/index.html#gmail</a>"}],"tags":[],"owner":{"account_id":4978006,"reputation":592,"user_id":4003819,"display_name":"Killer"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410870748,"creation_date":1410870748,"answer_id":25868877,"question_id":25868300,"body_markdown":"The Exception means that the socket was closed unexpectedly. See this https://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset\r\n","title":"I get java runtime exception when I am trying to send mail from outlook web access","body":"<p>The Exception means that the socket was closed unexpectedly. See this <a href=\"https://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset\">What&#39;s causing my java.net.SocketException: Connection reset?</a></p>\n"}],"owner":{"account_id":5037932,"reputation":11,"user_id":4046219,"display_name":"Nivedita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695834350,"creation_date":1410869072,"question_id":25868300,"body_markdown":"I have read multiple blogs for this topic but am not able to debug the error.\r\nI am trying to send mail from my corporate outlook web access. Here is the code :\r\n\r\n    package ReadOutlook;\r\n\r\n    import java.util.Properties;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n\r\n\r\n    public class email_readClass {\t\t\r\n\t\t\t    public static void main(String[] args) {final String username = &quot;user1&quot;;\r\n\t\t\t    final String password = &quot;pass1&quot;;\r\n\t\t\t    Properties props = new Properties();\r\n\t\t\t    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\t\t\t    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\t    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\t\t    props.put(&quot;mail.smtp.host&quot;, &quot;email.company.com&quot;);\r\n\t\t\t    props.put(&quot;mail.smtp.port&quot;, &quot;443&quot;);\r\n\r\n\t\t\t    Session session = Session.getInstance(props,\r\n\t\t\t      new javax.mail.Authenticator() {\r\n\t\t\t        protected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t            return new PasswordAuthentication(username, password);\r\n\t\t\t        }\r\n\t\t\t      });\r\n\r\n\t\t\t    try {\r\n\r\n\t\t\t        Message message = new MimeMessage(session);\r\n\t\t\t        message.setFrom(new InternetAddress(&quot;user1@company.com&quot;));\r\n\t\t\t        message.setRecipients(Message.RecipientType.TO,\r\n\t\t\t            InternetAddress.parse(&quot;user1@company.com&quot;));\r\n\t\t\t        message.setSubject(&quot;Test&quot;);\r\n\t\t\t        message.setText(&quot;HI&quot;);\r\n\r\n\t\t\t        Transport.send(message);\r\n\r\n\t\t\t        System.out.println(&quot;Done&quot;);\r\n\r\n\t\t\t    } catch (MessagingException e) {\r\n\t\t\t        throw new RuntimeException(e);\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\nThis is the error I see :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: javax.mail.MessagingException: Exception         reading response;\r\n      nested exception is:\r\n\tjava.net.SocketException: Connection reset\r\n\tat ReadOutlook.email_readClass.main(email_readClass.java:45)\r\n    Caused by: javax.mail.MessagingException: Exception reading response;\r\n    nested exception is:\r\n\tjava.net.SocketException: Connection reset\r\n\tat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:1462)\r\n\tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1260)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:370)\r\n\tat javax.mail.Service.connect(Service.java:297)\r\n\tat javax.mail.Service.connect(Service.java:156)\r\n\tat javax.mail.Service.connect(Service.java:105)\r\n\tat javax.mail.Transport.send0(Transport.java:168)\r\n\tat javax.mail.Transport.send(Transport.java:98)\r\n\tat ReadOutlook.email_readClass.main(email_readClass.java:40)\r\n    Caused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:196)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:122)\r\n\tat com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:97)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:254)\r\n\tat com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:75)\r\n\tat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:1440)\r\n\t... 8 more\r\n\r\n\r\nAny help would be appreciated.","title":"I get java runtime exception when I am trying to send mail from outlook web access","body":"<p>I have read multiple blogs for this topic but am not able to debug the error.\nI am trying to send mail from my corporate outlook web access. Here is the code :</p>\n\n<pre><code>package ReadOutlook;\n\nimport java.util.Properties;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\n\npublic class email_readClass {      \n            public static void main(String[] args) {final String username = \"user1\";\n            final String password = \"pass1\";\n            Properties props = new Properties();\n            props.put(\"mail.transport.protocol\", \"smtp\");\n            props.put(\"mail.smtp.auth\", \"true\");\n            props.put(\"mail.smtp.starttls.enable\", \"true\");\n            props.put(\"mail.smtp.host\", \"email.company.com\");\n            props.put(\"mail.smtp.port\", \"443\");\n\n            Session session = Session.getInstance(props,\n              new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n              });\n\n            try {\n\n                Message message = new MimeMessage(session);\n                message.setFrom(new InternetAddress(\"user1@company.com\"));\n                message.setRecipients(Message.RecipientType.TO,\n                    InternetAddress.parse(\"user1@company.com\"));\n                message.setSubject(\"Test\");\n                message.setText(\"HI\");\n\n                Transport.send(message);\n\n                System.out.println(\"Done\");\n\n            } catch (MessagingException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        }\n</code></pre>\n\n<p>This is the error I see :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: javax.mail.MessagingException: Exception         reading response;\n  nested exception is:\njava.net.SocketException: Connection reset\nat ReadOutlook.email_readClass.main(email_readClass.java:45)\nCaused by: javax.mail.MessagingException: Exception reading response;\nnested exception is:\njava.net.SocketException: Connection reset\nat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:1462)\nat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1260)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:370)\nat javax.mail.Service.connect(Service.java:297)\nat javax.mail.Service.connect(Service.java:156)\nat javax.mail.Service.connect(Service.java:105)\nat javax.mail.Transport.send0(Transport.java:168)\nat javax.mail.Transport.send(Transport.java:98)\nat ReadOutlook.email_readClass.main(email_readClass.java:40)\nCaused by: java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:196)\nat java.net.SocketInputStream.read(SocketInputStream.java:122)\nat com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:97)\nat java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\nat java.io.BufferedInputStream.read(BufferedInputStream.java:254)\nat com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:75)\nat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:1440)\n... 8 more\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring","deprecated","deprecation-warning","response-headers"],"answers":[{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695834310,"creation_date":1695834310,"answer_id":77189537,"question_id":75254611,"body_markdown":"As of now, it looks like there&#39;s no automatic way to do this in Spring. I also thought the @Deprecated annotation would have done the trick.\r\n\r\nSo apparently the only way to do this is to manually add headers per your preferred method. See the following SO thread on a few ways to do that, but the gist is that you&#39;ll have to create a headers object and populate it with &#39;Deprecated&#39; set to &#39;true&#39; manually:\r\n\r\nhttps://stackoverflow.com/questions/45152484/how-to-set-respond-header-values-in-spring-boot-rest-service-method\r\n\r\nAnd if you want to be thorough, you can also set an alternate link and sunset date:\r\n\r\nhttps://imhoratiu.wordpress.com/2021/01/20/respectful-rest-apis-sunset-and-deprecation-http-headers/\r\n\r\nHere are example headers for deprecating with a &#39;sunset&#39; date:\r\n```\r\nDeprecation: 01 Jan 2031 00:00:00 GMT\r\nLink: http://reviews/search?filter=pattern; rel=&quot;alternate&quot;,https://new-url; rel=&quot;deprecation&quot;\r\nSunset: 31 Dec 2021 23:59:59 GMT\r\n```","title":"Implementing Deprecated Header in HTTP Response","body":"<p>As of now, it looks like there's no automatic way to do this in Spring. I also thought the @Deprecated annotation would have done the trick.</p>\n<p>So apparently the only way to do this is to manually add headers per your preferred method. See the following SO thread on a few ways to do that, but the gist is that you'll have to create a headers object and populate it with 'Deprecated' set to 'true' manually:</p>\n<p><a href=\"https://stackoverflow.com/questions/45152484/how-to-set-respond-header-values-in-spring-boot-rest-service-method\">How to set respond header values in Spring Boot rest service method?</a></p>\n<p>And if you want to be thorough, you can also set an alternate link and sunset date:</p>\n<p><a href=\"https://imhoratiu.wordpress.com/2021/01/20/respectful-rest-apis-sunset-and-deprecation-http-headers/\" rel=\"nofollow noreferrer\">https://imhoratiu.wordpress.com/2021/01/20/respectful-rest-apis-sunset-and-deprecation-http-headers/</a></p>\n<p>Here are example headers for deprecating with a 'sunset' date:</p>\n<pre><code>Deprecation: 01 Jan 2031 00:00:00 GMT\nLink: http://reviews/search?filter=pattern; rel=&quot;alternate&quot;,https://new-url; rel=&quot;deprecation&quot;\nSunset: 31 Dec 2021 23:59:59 GMT\n</code></pre>\n"}],"owner":{"account_id":18595501,"reputation":21,"user_id":16048180,"display_name":"Farooq Shanawaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695834310,"creation_date":1674799684,"question_id":75254611,"body_markdown":"I am trying to implement deprecation header for api responses in my application. The problem is that recently our codebase has gone through major refactoring and restructuring with lots of apis being deprecated. all of these api endpoints are annotated with @Deprecated. is there anyway i can use this annotation to change the response without having to make code changes at each and every endpoint location?\r\n\r\nI have tried to change response in the code at each location and this would be tedious, expecting a smarter way to go about this. \r\n\r\nNote- My application is in JAVA and uses spring-boot framework.","title":"Implementing Deprecated Header in HTTP Response","body":"<p>I am trying to implement deprecation header for api responses in my application. The problem is that recently our codebase has gone through major refactoring and restructuring with lots of apis being deprecated. all of these api endpoints are annotated with @Deprecated. is there anyway i can use this annotation to change the response without having to make code changes at each and every endpoint location?</p>\n<p>I have tried to change response in the code at each location and this would be tedious, expecting a smarter way to go about this.</p>\n<p>Note- My application is in JAVA and uses spring-boot framework.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","confluent-schema-registry","testcontainers"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695809665,"post_id":77186151,"comment_id":136072880,"body_markdown":"You don&#39;t need a container. https://selectfrom.dev/testing-schema-registry-with-spring-boot-and-spring-kafka-using-mockschemaregistryclient-8374bfe5bc6f","body":"You don&#39;t need a container. <a href=\"https://selectfrom.dev/testing-schema-registry-with-spring-boot-and-spring-kafka-using-mockschemaregistryclient-8374bfe5bc6f\" rel=\"nofollow noreferrer\">selectfrom.dev/&hellip;</a>"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1695814221,"post_id":77186151,"comment_id":136073756,"body_markdown":"@OneCricketeer I saw your link and it is pointing to localhost, will it work if I deploy to cloud .My Implementation also works in local host . When I deploy to dev environment it is failing","body":"@OneCricketeer I saw your link and it is pointing to localhost, will it work if I deploy to cloud .My Implementation also works in local host . When I deploy to dev environment it is failing"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695833921,"post_id":77186151,"comment_id":136078003,"body_markdown":"That post is using embedded Kafka and a mock server. Both are running on some local test machine yes. I&#39;m just pointing out that containers aren&#39;t necessary, you only need Java to mock the interaction with the registry","body":"That post is using embedded Kafka and a mock server. Both are running on some local test machine yes. I&#39;m just pointing out that containers aren&#39;t necessary, you only need Java to mock the interaction with the registry"}],"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695833937,"creation_date":1695806398,"question_id":77186151,"body_markdown":"I am using test containers to test my spring boot kafka avro implementation.\r\n\r\nBelow is the code I have used for test container\r\n\r\n      \r\n\r\n              properties = {\r\n    &quot;spring.kafka.properties.security.protocol=PLAINTEXT&quot;,\r\n    \r\n                    &quot;spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer&quot;,\r\n                    &quot;spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer&quot;\r\n                })\r\n        @AutoConfigureMockMvc\r\n        @Import(KafkaProducer.class)\r\n        class SpringBootKafkaAvroConsumerApplicationTests {\r\n        \r\n            @Autowired MockMvc mockMvc;\r\n            @Autowired PersonRepository personRepository;\r\n            @Autowired KafkaProducer kafkaProducer;\r\n        \r\n            private static final Network KAFKA_NETWORK = Network.newNetwork();\r\n            private static final String CONFLUENT_PLATFORM_VERSION = &quot;7.4.1&quot;;\r\n            private static final DockerImageName KAFKA_IMAGE =\r\n                    DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;).withTag(CONFLUENT_PLATFORM_VERSION);\r\n            private static final KafkaContainer KAFKA =\r\n                    new KafkaContainer(KAFKA_IMAGE)\r\n                            .withNetwork(KAFKA_NETWORK)\r\n                            .withKraft()\r\n                            .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\r\n                            .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\r\n        \r\n            private static final SchemaRegistryContainer SCHEMA_REGISTRY =\r\n                    new SchemaRegistryContainer(CONFLUENT_PLATFORM_VERSION)\r\n                            .withStartupTimeout(Duration.ofMinutes(2));\r\n        \r\n            static {\r\n                KAFKA.start();\r\n                SCHEMA_REGISTRY.withKafka(KAFKA).start();\r\n                // Should be set after container is started\r\n                SCHEMA_REGISTRY.withEnv(&quot;SCHEMA_REGISTRY_LISTENERS&quot;, SCHEMA_REGISTRY.getSchemaUrl());\r\n            }\r\n        \r\n            @DynamicPropertySource\r\n            static void setProperties(DynamicPropertyRegistry registry) {\r\n                // Connect our Spring application to our Testcontainers Kafka instance\r\n                registry.add(&quot;spring.kafka.consumer.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\r\n                registry.add(&quot;spring.kafka.producer.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\r\n                registry.add(\r\n                        &quot;spring.kafka.producer.properties.schema.registry.url&quot;,\r\n                        SCHEMA_REGISTRY::getSchemaUrl);\r\n                registry.add(&quot;spring.kafka.properties.schema.registry.url&quot;, SCHEMA_REGISTRY::getSchemaUrl);\r\n            }\r\n        \r\n            private static class SchemaRegistryContainer extends GenericContainer&lt;SchemaRegistryContainer&gt; {\r\n                public static final String SCHEMA_REGISTRY_IMAGE = &quot;confluentinc/cp-schema-registry&quot;;\r\n                public static final int SCHEMA_REGISTRY_PORT = 8081;\r\n        \r\n                public SchemaRegistryContainer() {\r\n                    this(CONFLUENT_PLATFORM_VERSION);\r\n                }\r\n        \r\n                public SchemaRegistryContainer(String version) {\r\n                    super(DockerImageName.parse(SCHEMA_REGISTRY_IMAGE).withTag(CONFLUENT_PLATFORM_VERSION));\r\n        \r\n                    waitingFor(Wait.forHttp(&quot;/subjects&quot;).forStatusCode(200));\r\n                    withExposedPorts(SCHEMA_REGISTRY_PORT);\r\n                }\r\n        \r\n                public SchemaRegistryContainer withKafka(KafkaContainer kafka) {\r\n                    return withKafka(kafka.getNetwork(), kafka.getNetworkAliases().get(0) + &quot;:9092&quot;);\r\n                }\r\n        \r\n                public SchemaRegistryContainer withKafka(Network network, String bootstrapServers) {\r\n                    withNetwork(network);\r\n                    withEnv(&quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot;);\r\n                    withEnv(\r\n                            &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;,\r\n                            &quot;PLAINTEXT://&quot; + bootstrapServers);\r\n                    return self();\r\n                }\r\n        \r\n                public String getSchemaUrl() {\r\n                    return String.format(&quot;http://%s:%d&quot;, getHost(), getMappedPort(SCHEMA_REGISTRY_PORT));\r\n                }\r\n            }\r\n        \r\n            @Test\r\n            void contextLoads() throws Exception {\r\n                Person person = new Person();\r\n                person.setAge(33);\r\n                person.setName(&quot;junit&quot;);\r\n                this.kafkaProducer.sendMessage(person);\r\n                await().atMost(10, SECONDS)\r\n                        .untilAsserted(() -&gt; assertThat(personRepository.count()).isEqualTo(1));\r\n            }\r\n        }\r\n\r\nThe setup works fine in my local but when I run the build in git hub actions, the build fails\r\n\r\n&gt; java.lang.ExceptionInInializerError at\r\n&gt; NativeConstructorAcessorImple.java: -2 Caused by:\r\n&gt; org.testcontainers.containers.ContainerFetchException at\r\n&gt; TestContainer.java:56   caused by\r\n&gt; com.github.dockerjava.api.exception.InternalServerErrorException at\r\n&gt; DefaultInvocationBuilder.java:247\r\n\r\n\r\nThe line number points to \r\n\r\n    private static final KafkaContainer KAFKA =\r\n                new KafkaContainer(KAFKA_IMAGE)\r\n                        .withNetwork(KAFKA_NETWORK)\r\n                        .withKraft() //56th line of the error message\r\n                        .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\r\n                        .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\r\nCan someone tell me What is the root cause for this error.\r\n\r\n\r\n","title":"unable to run test containers in dev environment","body":"<p>I am using test containers to test my spring boot kafka avro implementation.</p>\n<p>Below is the code I have used for test container</p>\n<pre><code>          properties = {\n&quot;spring.kafka.properties.security.protocol=PLAINTEXT&quot;,\n\n                &quot;spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer&quot;,\n                &quot;spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer&quot;\n            })\n    @AutoConfigureMockMvc\n    @Import(KafkaProducer.class)\n    class SpringBootKafkaAvroConsumerApplicationTests {\n    \n        @Autowired MockMvc mockMvc;\n        @Autowired PersonRepository personRepository;\n        @Autowired KafkaProducer kafkaProducer;\n    \n        private static final Network KAFKA_NETWORK = Network.newNetwork();\n        private static final String CONFLUENT_PLATFORM_VERSION = &quot;7.4.1&quot;;\n        private static final DockerImageName KAFKA_IMAGE =\n                DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;).withTag(CONFLUENT_PLATFORM_VERSION);\n        private static final KafkaContainer KAFKA =\n                new KafkaContainer(KAFKA_IMAGE)\n                        .withNetwork(KAFKA_NETWORK)\n                        .withKraft()\n                        .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\n                        .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\n    \n        private static final SchemaRegistryContainer SCHEMA_REGISTRY =\n                new SchemaRegistryContainer(CONFLUENT_PLATFORM_VERSION)\n                        .withStartupTimeout(Duration.ofMinutes(2));\n    \n        static {\n            KAFKA.start();\n            SCHEMA_REGISTRY.withKafka(KAFKA).start();\n            // Should be set after container is started\n            SCHEMA_REGISTRY.withEnv(&quot;SCHEMA_REGISTRY_LISTENERS&quot;, SCHEMA_REGISTRY.getSchemaUrl());\n        }\n    \n        @DynamicPropertySource\n        static void setProperties(DynamicPropertyRegistry registry) {\n            // Connect our Spring application to our Testcontainers Kafka instance\n            registry.add(&quot;spring.kafka.consumer.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\n            registry.add(&quot;spring.kafka.producer.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\n            registry.add(\n                    &quot;spring.kafka.producer.properties.schema.registry.url&quot;,\n                    SCHEMA_REGISTRY::getSchemaUrl);\n            registry.add(&quot;spring.kafka.properties.schema.registry.url&quot;, SCHEMA_REGISTRY::getSchemaUrl);\n        }\n    \n        private static class SchemaRegistryContainer extends GenericContainer&lt;SchemaRegistryContainer&gt; {\n            public static final String SCHEMA_REGISTRY_IMAGE = &quot;confluentinc/cp-schema-registry&quot;;\n            public static final int SCHEMA_REGISTRY_PORT = 8081;\n    \n            public SchemaRegistryContainer() {\n                this(CONFLUENT_PLATFORM_VERSION);\n            }\n    \n            public SchemaRegistryContainer(String version) {\n                super(DockerImageName.parse(SCHEMA_REGISTRY_IMAGE).withTag(CONFLUENT_PLATFORM_VERSION));\n    \n                waitingFor(Wait.forHttp(&quot;/subjects&quot;).forStatusCode(200));\n                withExposedPorts(SCHEMA_REGISTRY_PORT);\n            }\n    \n            public SchemaRegistryContainer withKafka(KafkaContainer kafka) {\n                return withKafka(kafka.getNetwork(), kafka.getNetworkAliases().get(0) + &quot;:9092&quot;);\n            }\n    \n            public SchemaRegistryContainer withKafka(Network network, String bootstrapServers) {\n                withNetwork(network);\n                withEnv(&quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot;);\n                withEnv(\n                        &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;,\n                        &quot;PLAINTEXT://&quot; + bootstrapServers);\n                return self();\n            }\n    \n            public String getSchemaUrl() {\n                return String.format(&quot;http://%s:%d&quot;, getHost(), getMappedPort(SCHEMA_REGISTRY_PORT));\n            }\n        }\n    \n        @Test\n        void contextLoads() throws Exception {\n            Person person = new Person();\n            person.setAge(33);\n            person.setName(&quot;junit&quot;);\n            this.kafkaProducer.sendMessage(person);\n            await().atMost(10, SECONDS)\n                    .untilAsserted(() -&gt; assertThat(personRepository.count()).isEqualTo(1));\n        }\n    }\n</code></pre>\n<p>The setup works fine in my local but when I run the build in git hub actions, the build fails</p>\n<blockquote>\n<p>java.lang.ExceptionInInializerError at\nNativeConstructorAcessorImple.java: -2 Caused by:\norg.testcontainers.containers.ContainerFetchException at\nTestContainer.java:56   caused by\ncom.github.dockerjava.api.exception.InternalServerErrorException at\nDefaultInvocationBuilder.java:247</p>\n</blockquote>\n<p>The line number points to</p>\n<pre><code>private static final KafkaContainer KAFKA =\n            new KafkaContainer(KAFKA_IMAGE)\n                    .withNetwork(KAFKA_NETWORK)\n                    .withKraft() //56th line of the error message\n                    .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\n                    .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\n</code></pre>\n<p>Can someone tell me What is the root cause for this error.</p>\n"},{"tags":["java","spring","spring-data","spring-data-jdbc"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695665506,"post_id":77174825,"comment_id":136052067,"body_markdown":"If forcing the DB column to upper case is not an option, then [this](https://stackoverflow.com/a/4635835/6650475) might help.  (But might not be performant or might not work for all characters.)","body":"If forcing the DB column to upper case is not an option, then <a href=\"https://stackoverflow.com/a/4635835/6650475\">this</a> might help.  (But might not be performant or might not work for all characters.)"},{"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"score":0,"creation_date":1695728176,"post_id":77174825,"comment_id":136060468,"body_markdown":"@Andrew S, I don&#39;t have the option to use CriteriaBuilder because it&#39;s strictly JDBC","body":"@Andrew S, I don&#39;t have the option to use CriteriaBuilder because it&#39;s strictly JDBC"}],"answers":[{"comments":[{"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"score":0,"creation_date":1695716011,"post_id":77177560,"comment_id":136058041,"body_markdown":"What version of spring-data-relational do you have? @jens-schauder","body":"What version of spring-data-relational do you have? @jens-schauder"},{"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"score":0,"creation_date":1695716432,"post_id":77177560,"comment_id":136058117,"body_markdown":"thanks for the other pageable option!","body":"thanks for the other pageable option!"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1695717534,"post_id":77177560,"comment_id":136058317,"body_markdown":"Spring Data JDBC 3.1.4","body":"Spring Data JDBC 3.1.4"},{"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"score":0,"creation_date":1695724236,"post_id":77177560,"comment_id":136059669,"body_markdown":"I updated the spring-boot version to 3.1.4, but the situation did not change(\nI&#39;ll try to build a new project and test the behavior on it","body":"I updated the spring-boot version to 3.1.4, but the situation did not change( I&#39;ll try to build a new project and test the behavior on it"},{"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"score":0,"creation_date":1695727118,"post_id":77177560,"comment_id":136060243,"body_markdown":"I found a problem related to the generation of sql messages, the second UPPER method for a table field is missing ```SELECT &quot;account_dictionary&quot;.&quot;id&quot;           AS &quot;id&quot;,\n       &quot;account_dictionary&quot;.&quot;account_code&quot; AS &quot;account_code&quot;\nFROM &quot;account_dictionary&quot;\nWHERE &quot;account_dictionary&quot;.account_code LIKE UPPER(:account_code)\nORDER BY &quot;account_dictionary&quot;.create_date DESC\nLIMIT 50```","body":"I found a problem related to the generation of sql messages, the second UPPER method for a table field is missing <code>SELECT &quot;account_dictionary&quot;.&quot;id&quot;           AS &quot;id&quot;,        &quot;account_dictionary&quot;.&quot;account_code&quot; AS &quot;account_code&quot; FROM &quot;account_dictionary&quot; WHERE &quot;account_dictionary&quot;.account_code LIKE UPPER(:account_code) ORDER BY &quot;account_dictionary&quot;.create_date DESC LIMIT 50</code>"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1695735096,"post_id":77177560,"comment_id":136062006,"body_markdown":"Could you please create a ticket for that at https://github.com/spring-projects/spring-data-relational/issues","body":"Could you please create a ticket for that at <a href=\"https://github.com/spring-projects/spring-data-relational/issues\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-relational/issues</a>"},{"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"score":0,"creation_date":1695743919,"post_id":77177560,"comment_id":136064097,"body_markdown":"I found the error by debugging! It turns out that you need to specify the column name in camelCase!","body":"I found the error by debugging! It turns out that you need to specify the column name in camelCase!"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695710727,"creation_date":1695710727,"answer_id":77177560,"question_id":77174825,"body_markdown":"[I tried to reproduce the issue][1] but failed to demonstrate the behaviour you describe, but I did find a problem.\r\n\r\n`like` with ignore case seems to work just fine. \r\nBut a `Pageable` in the `Query` seems to get ignored.\r\nBut if you use `findAll(Query, Class, Pageable)` it works fine and you even get a complete `Page` instance back.\r\nNo need to manually execute the count and constructing the result.\r\n\r\n### My Reproducer\r\n\r\n```java\r\nrecord Demo (@Id Long id, String name){\r\n\tstatic Demo demo(String name) {\r\n\t\treturn new Demo(null, name);\r\n\t}\r\n}\r\n```\r\n```java\r\n@SpringBootTest\r\nclass CaseInsensitiveLikeApplicationTests {\r\n\r\n\t@Autowired\r\n\tJdbcAggregateTemplate jdbc;\r\n\r\n\r\n\t@BeforeEach\r\n\tvoid setup() {\r\n\t\tjdbc.deleteAll(Demo.class);\r\n\t\tjdbc.saveAll(List.of(demo(&quot;ONE&quot;), demo(&quot;drone&quot;), demo(&quot;donE&quot;), demo(&quot;other&quot;)));\r\n\t}\r\n\r\n\r\n\t@Test\r\n\tvoid likeWithIgnoreCaseWorksAsExpected() {\r\n\r\n\t\tassertThat(getList()).extracting(d -&gt; d.name()).containsExactlyInAnyOrder(&quot;ONE&quot;, &quot;drone&quot;, &quot;donE&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid pageableInQuery() {\r\n\r\n\t\tassertThat(getPage1(Pageable.ofSize(2))).hasSize(3); // this is actually not expected!\r\n\t}\r\n\r\n\t@Test\r\n\tvoid separatePageable() {\r\n\r\n\t\tassertThat(getPage2(Pageable.ofSize(2))).hasSize(2);\r\n\t}\r\n\r\n\tIterable&lt;Demo&gt; getList() {\r\n\r\n\t\tCriteria criteria = Criteria.where(&quot;name&quot;).like(&quot;%&quot; + &quot;One&quot; + &quot;%&quot;).ignoreCase(true);\r\n\t\tQuery query = Query.query(criteria);\r\n\r\n\t\treturn jdbc.findAll(query, Demo.class);\r\n\t}\r\n\r\n\tIterable&lt;Demo&gt; getPage1(Pageable pageable) {\r\n\r\n\t\tCriteria criteria = Criteria.where(&quot;name&quot;).like(&quot;%&quot; + &quot;ne&quot; + &quot;%&quot;).ignoreCase(true);\r\n\t\tQuery query = Query.query(criteria);\r\n\r\n\t\tquery.with(pageable);\r\n\r\n\t\treturn jdbc.findAll(query, Demo.class);\r\n\t}\r\n\r\n\tIterable&lt;Demo&gt; getPage2(Pageable pageable) {\r\n\r\n\t\tCriteria criteria = Criteria.where(&quot;name&quot;).like(&quot;%&quot; + &quot;ne&quot; + &quot;%&quot;).ignoreCase(true);\r\n\t\tQuery query = Query.query(criteria);\r\n\r\n\t\treturn jdbc.findAll(query, Demo.class, pageable);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n  [1]: https://github.com/schauder/stackoverflow/blob/main/jdbc/case-insensitive-like/src/test/java/de/schauderhaft/caseinsensitivelike/CaseInsensitiveLikeApplicationTests.java","title":"Like ignore case in Spring data JDBC with Criteria","body":"<p><a href=\"https://github.com/schauder/stackoverflow/blob/main/jdbc/case-insensitive-like/src/test/java/de/schauderhaft/caseinsensitivelike/CaseInsensitiveLikeApplicationTests.java\" rel=\"nofollow noreferrer\">I tried to reproduce the issue</a> but failed to demonstrate the behaviour you describe, but I did find a problem.</p>\n<p><code>like</code> with ignore case seems to work just fine.\nBut a <code>Pageable</code> in the <code>Query</code> seems to get ignored.\nBut if you use <code>findAll(Query, Class, Pageable)</code> it works fine and you even get a complete <code>Page</code> instance back.\nNo need to manually execute the count and constructing the result.</p>\n<h3>My Reproducer</h3>\n<pre class=\"lang-java prettyprint-override\"><code>record Demo (@Id Long id, String name){\n    static Demo demo(String name) {\n        return new Demo(null, name);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass CaseInsensitiveLikeApplicationTests {\n\n    @Autowired\n    JdbcAggregateTemplate jdbc;\n\n\n    @BeforeEach\n    void setup() {\n        jdbc.deleteAll(Demo.class);\n        jdbc.saveAll(List.of(demo(&quot;ONE&quot;), demo(&quot;drone&quot;), demo(&quot;donE&quot;), demo(&quot;other&quot;)));\n    }\n\n\n    @Test\n    void likeWithIgnoreCaseWorksAsExpected() {\n\n        assertThat(getList()).extracting(d -&gt; d.name()).containsExactlyInAnyOrder(&quot;ONE&quot;, &quot;drone&quot;, &quot;donE&quot;);\n    }\n\n    @Test\n    void pageableInQuery() {\n\n        assertThat(getPage1(Pageable.ofSize(2))).hasSize(3); // this is actually not expected!\n    }\n\n    @Test\n    void separatePageable() {\n\n        assertThat(getPage2(Pageable.ofSize(2))).hasSize(2);\n    }\n\n    Iterable&lt;Demo&gt; getList() {\n\n        Criteria criteria = Criteria.where(&quot;name&quot;).like(&quot;%&quot; + &quot;One&quot; + &quot;%&quot;).ignoreCase(true);\n        Query query = Query.query(criteria);\n\n        return jdbc.findAll(query, Demo.class);\n    }\n\n    Iterable&lt;Demo&gt; getPage1(Pageable pageable) {\n\n        Criteria criteria = Criteria.where(&quot;name&quot;).like(&quot;%&quot; + &quot;ne&quot; + &quot;%&quot;).ignoreCase(true);\n        Query query = Query.query(criteria);\n\n        query.with(pageable);\n\n        return jdbc.findAll(query, Demo.class);\n    }\n\n    Iterable&lt;Demo&gt; getPage2(Pageable pageable) {\n\n        Criteria criteria = Criteria.where(&quot;name&quot;).like(&quot;%&quot; + &quot;ne&quot; + &quot;%&quot;).ignoreCase(true);\n        Query query = Query.query(criteria);\n\n        return jdbc.findAll(query, Demo.class, pageable);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695833568,"creation_date":1695744296,"answer_id":77181688,"question_id":77174825,"body_markdown":"**RESOLVED**: In the criteria you need to specify the column name in camelCase!","title":"Like ignore case in Spring data JDBC with Criteria","body":"<p><strong>RESOLVED</strong>: In the criteria you need to specify the column name in camelCase!</p>\n"}],"owner":{"account_id":29532167,"reputation":1,"user_id":22632563,"display_name":"Andrew Bessonov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77181688,"answer_count":2,"score":0,"last_activity_date":1695833568,"creation_date":1695664784,"question_id":77174825,"body_markdown":"Created a repository via Criteria.\r\nI need the ability to search for a list of values ​​using the LIKE and IGNORE_CASE strings, just like in the POSTGRE `ILIKE` method.\r\nI am limited is that I need pagable output of information.\r\nI know that Spring Data JPA has such functionality, but another limitation is Spring Data JDBC.\r\n\r\nWhen I started setting up Criteria, I discovered that .ignoreCase(true) did not work correctly, example:\r\nlist of values ​​in the database:\r\n\r\n```\r\nqwe\r\nqwer\r\nqwert\r\nqwerty\r\nQwerty\r\nQwertY\r\nQWERTY\r\n```\r\n\r\nrequest `qwer`\r\nresponse only one `QWERTY`\r\n\r\n&gt; spring-data-relational-3.1.0.jar\r\n\r\n\r\n```\r\n@Repository\r\n@RequiredArgsConstructor\r\npublic class Repository {\r\n\r\n    private final JdbcAggregateTemplate jdbc;\r\n\r\n    public Page&lt;Account&gt; getList(@NonNull AccountRequest filter, @NonNull Pageable pageable) {\r\n        Criteria criteria = Criteria.empty();\r\n        if (StringUtils.isNotBlank(filter.getAccountCode())) {\r\n            criteria = criteria.and(ACCOUNT_CODE).like(&quot;%&quot; + (filter.getAccountCode() + &quot;%&quot;)).ignoreCase(true);\r\n        }\r\n        Query query = Query.query(criteria).with(pageable);\r\n\r\n        List&lt;Account&gt; all = IteratorUtils.toList(jdbc.findAll(query, Account.class).iterator());\r\n        long count = jdbc.count(Query.query(criteria), domainType);\r\n        return new PageImpl&lt;&gt;(all, pageable, count);\r\n    }\r\n```\r\nExpecting 6 occurrences but only getting 1\r\n\r\nIs there a way to do manual ignoreCase taking into account paged output, or perhaps the problem was fixed in an update?\r\n\r\nUPD:\r\nI found a problem related to the generation of sql messages, the second UPPER method for a table field is missing\r\n```\r\nSELECT &quot;account_dictionary&quot;.&quot;id&quot;           AS &quot;id&quot;,\r\n       &quot;account_dictionary&quot;.&quot;account_code&quot; AS &quot;account_code&quot;\r\nFROM &quot;account_dictionary&quot;\r\nWHERE &quot;account_dictionary&quot;.account_code LIKE UPPER(:account_code)\r\nORDER BY &quot;account_dictionary&quot;.create_date DESC\r\nLIMIT 50\r\n```\r\nWhy doesn&#39;t it automatically create a second UPPER like that?\r\n\r\n```\r\nWHERE UPPER(&quot;account_dictionary&quot;.account_code) LIKE UPPER(:account_code)\r\n```\r\n","title":"Like ignore case in Spring data JDBC with Criteria","body":"<p>Created a repository via Criteria.\nI need the ability to search for a list of values ​​using the LIKE and IGNORE_CASE strings, just like in the POSTGRE <code>ILIKE</code> method.\nI am limited is that I need pagable output of information.\nI know that Spring Data JPA has such functionality, but another limitation is Spring Data JDBC.</p>\n<p>When I started setting up Criteria, I discovered that .ignoreCase(true) did not work correctly, example:\nlist of values ​​in the database:</p>\n<pre><code>qwe\nqwer\nqwert\nqwerty\nQwerty\nQwertY\nQWERTY\n</code></pre>\n<p>request <code>qwer</code>\nresponse only one <code>QWERTY</code></p>\n<blockquote>\n<p>spring-data-relational-3.1.0.jar</p>\n</blockquote>\n<pre><code>@Repository\n@RequiredArgsConstructor\npublic class Repository {\n\n    private final JdbcAggregateTemplate jdbc;\n\n    public Page&lt;Account&gt; getList(@NonNull AccountRequest filter, @NonNull Pageable pageable) {\n        Criteria criteria = Criteria.empty();\n        if (StringUtils.isNotBlank(filter.getAccountCode())) {\n            criteria = criteria.and(ACCOUNT_CODE).like(&quot;%&quot; + (filter.getAccountCode() + &quot;%&quot;)).ignoreCase(true);\n        }\n        Query query = Query.query(criteria).with(pageable);\n\n        List&lt;Account&gt; all = IteratorUtils.toList(jdbc.findAll(query, Account.class).iterator());\n        long count = jdbc.count(Query.query(criteria), domainType);\n        return new PageImpl&lt;&gt;(all, pageable, count);\n    }\n</code></pre>\n<p>Expecting 6 occurrences but only getting 1</p>\n<p>Is there a way to do manual ignoreCase taking into account paged output, or perhaps the problem was fixed in an update?</p>\n<p>UPD:\nI found a problem related to the generation of sql messages, the second UPPER method for a table field is missing</p>\n<pre><code>SELECT &quot;account_dictionary&quot;.&quot;id&quot;           AS &quot;id&quot;,\n       &quot;account_dictionary&quot;.&quot;account_code&quot; AS &quot;account_code&quot;\nFROM &quot;account_dictionary&quot;\nWHERE &quot;account_dictionary&quot;.account_code LIKE UPPER(:account_code)\nORDER BY &quot;account_dictionary&quot;.create_date DESC\nLIMIT 50\n</code></pre>\n<p>Why doesn't it automatically create a second UPPER like that?</p>\n<pre><code>WHERE UPPER(&quot;account_dictionary&quot;.account_code) LIKE UPPER(:account_code)\n</code></pre>\n"},{"tags":["java","android","android-studio","gpu"],"owner":{"account_id":16908317,"reputation":767,"user_id":12228079,"display_name":"Kunal Kalwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695833540,"creation_date":1695819615,"question_id":77187758,"body_markdown":"I am able to get gpu max frequency /sys/class/kgsl/kgsl-3d0/max_gpuclk which is 840000000 for me\r\n\r\nBut when i try to get gpu current frequency from this /sys/class/kgsl/kgsl-3d0/gpuclk i get error this error -&gt; gpuinfo java.io.FileNotFoundException: /sys/class/kgsl/kgsl-3d0/gpuclk: open failed: EACCES (Permission denied)\r\n\r\nI have tried with allowing all the permissions.\r\n\r\n    try {\r\n            Log.d(\r\n                &quot;GPU Info&quot;,\r\n                &quot;gpuinfo test max&quot; + getGPUFreq(&quot;/sys/class/kgsl/kgsl-3d0/max_gpuclk&quot;)\r\n            )\r\n            Log.d(\r\n                &quot;GPU Info&quot;,\r\n                &quot;gpuinfo test curr&quot; + getGPUFreq(&quot;/sys/class/kgsl/kgsl-3d0/gpuclk&quot;)\r\n            )\r\n            val gpuFile = File(&quot;/sys/class/kgsl/kgsl-3d0/gpuclk&quot;)\r\n            if (gpuFile.exists()) {\r\n                val fis = FileInputStream(gpuFile)\r\n                val reader = BufferedReader(InputStreamReader(fis))\r\n                var line: String\r\n                while (reader.readLine().also { line = it } != null) {\r\n                    // &#39;line&#39; contains the content of the file\r\n                    // You can process or display the content as needed\r\n                    // For example, you can log it:\r\n                    Log.d(&quot;GPU Info&quot;, &quot;gpuinfo$line&quot;)\r\n                }\r\n\r\n                // Close the resources when done\r\n                reader.close()\r\n                fis.close()\r\n            } else {\r\n                // Handle the case where the file does not exist\r\n                Log.d(&quot;GPU Info&quot;, &quot;gpuinfo he file does not exist&quot;)\r\n            }\r\n        } catch (e: java.lang.Exception) {\r\n            // Handle exceptions appropriately\r\n            e.printStackTrace()\r\n            Log.d(&quot;GPU Info&quot;, &quot;gpuinfo $e&quot;)\r\n        }\r\n\r\n\r\n   \r\n\r\n     fun getGPUFreq(path: String): Int? {\r\n        return readIntegerFile(path)\r\n    }\r\n    \r\n    private fun readIntegerFile(path: String): Int? {\r\n        var ret = 0\r\n        try {\r\n            val reader = RandomAccessFile(path, &quot;r&quot;)\r\n            ret = try {\r\n                val line = reader.readLine()\r\n                line.toInt()\r\n            } finally {\r\n                reader.close()\r\n            }\r\n        } catch (ex: Exception) {\r\n            ex.printStackTrace()\r\n        }\r\n        return ret\r\n    }\r\n\r\n","title":"Get value for gpu current and max frequency in android","body":"<p>I am able to get gpu max frequency /sys/class/kgsl/kgsl-3d0/max_gpuclk which is 840000000 for me</p>\n<p>But when i try to get gpu current frequency from this /sys/class/kgsl/kgsl-3d0/gpuclk i get error this error -&gt; gpuinfo java.io.FileNotFoundException: /sys/class/kgsl/kgsl-3d0/gpuclk: open failed: EACCES (Permission denied)</p>\n<p>I have tried with allowing all the permissions.</p>\n<pre><code>try {\n        Log.d(\n            &quot;GPU Info&quot;,\n            &quot;gpuinfo test max&quot; + getGPUFreq(&quot;/sys/class/kgsl/kgsl-3d0/max_gpuclk&quot;)\n        )\n        Log.d(\n            &quot;GPU Info&quot;,\n            &quot;gpuinfo test curr&quot; + getGPUFreq(&quot;/sys/class/kgsl/kgsl-3d0/gpuclk&quot;)\n        )\n        val gpuFile = File(&quot;/sys/class/kgsl/kgsl-3d0/gpuclk&quot;)\n        if (gpuFile.exists()) {\n            val fis = FileInputStream(gpuFile)\n            val reader = BufferedReader(InputStreamReader(fis))\n            var line: String\n            while (reader.readLine().also { line = it } != null) {\n                // 'line' contains the content of the file\n                // You can process or display the content as needed\n                // For example, you can log it:\n                Log.d(&quot;GPU Info&quot;, &quot;gpuinfo$line&quot;)\n            }\n\n            // Close the resources when done\n            reader.close()\n            fis.close()\n        } else {\n            // Handle the case where the file does not exist\n            Log.d(&quot;GPU Info&quot;, &quot;gpuinfo he file does not exist&quot;)\n        }\n    } catch (e: java.lang.Exception) {\n        // Handle exceptions appropriately\n        e.printStackTrace()\n        Log.d(&quot;GPU Info&quot;, &quot;gpuinfo $e&quot;)\n    }\n\n\n\n\n fun getGPUFreq(path: String): Int? {\n    return readIntegerFile(path)\n}\n\nprivate fun readIntegerFile(path: String): Int? {\n    var ret = 0\n    try {\n        val reader = RandomAccessFile(path, &quot;r&quot;)\n        ret = try {\n            val line = reader.readLine()\n            line.toInt()\n        } finally {\n            reader.close()\n        }\n    } catch (ex: Exception) {\n        ex.printStackTrace()\n    }\n    return ret\n}\n</code></pre>\n"},{"tags":["java","redis","redisson","redlock.net"],"comments":[{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":0,"creation_date":1524747958,"post_id":50040851,"comment_id":87103663,"body_markdown":"[Redlock](https://redis.io/topics/distlock) should be helpful","body":"<a href=\"https://redis.io/topics/distlock\" rel=\"nofollow noreferrer\">Redlock</a> should be helpful"},{"owner":{"account_id":12637357,"reputation":483,"user_id":9186141,"display_name":"Gayan Viranka"},"score":0,"creation_date":1524794237,"post_id":50040851,"comment_id":87124819,"body_markdown":"@for_stack I forgot to mention it is Redlock I am using (Redisson Java implementation).","body":"@for_stack I forgot to mention it is Redlock I am using (Redisson Java implementation)."}],"answers":[{"tags":[],"owner":{"account_id":12637357,"reputation":483,"user_id":9186141,"display_name":"Gayan Viranka"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1524811011,"creation_date":1524811011,"answer_id":50056633,"question_id":50040851,"body_markdown":"With the CLI I could remove lock from Redis server with command\r\n `DEL &lt;lock name&gt;`\r\nWhen doing so the waiting thread could acquire the lock. I don&#39;t know this is the right way. But it works.","title":"Unlock Redis Locks From CLI","body":"<p>With the CLI I could remove lock from Redis server with command\n <code>DEL &lt;lock name&gt;</code>\nWhen doing so the waiting thread could acquire the lock. I don't know this is the right way. But it works.</p>\n"},{"tags":[],"owner":{"account_id":28697725,"reputation":21,"user_id":21975588,"display_name":"rthorndy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695833390,"creation_date":1695415377,"answer_id":77160566,"question_id":50040851,"body_markdown":"`del &lt;lock name&gt;` is correct and a good way to release the lock.\r\n\r\nI just want to explain why the above works, and is a quick and easy way to release a stale lock! The accepted answer suggests it&#39;s a &quot;hack&quot; or something, so I was worried to apply it; discovered it&#39;s totally fine.\r\n\r\nIt looks like redis simply stores a unique ID key under the name of the lock. So if you acquire a lock named `foo`, you can see the lock&#39;s value:\r\n\r\n    get foo\r\n\r\nAnd you see an ID there, e.g.: `aeec8bc0598311ffacfd0242ac110005`.\r\n\r\nSo anyone else that tries to acquire the lock, redis simply compares their ID to the value stored at `foo` and denies them. When the lock is released it&#39;s deleted.\r\n\r\nIf you manually delete the lock (`del foo`), then it is just manually doing what Redis would have done in the background when the lock was released naturally.\r\n","title":"Unlock Redis Locks From CLI","body":"<p><code>del &lt;lock name&gt;</code> is correct and a good way to release the lock.</p>\n<p>I just want to explain why the above works, and is a quick and easy way to release a stale lock! The accepted answer suggests it's a &quot;hack&quot; or something, so I was worried to apply it; discovered it's totally fine.</p>\n<p>It looks like redis simply stores a unique ID key under the name of the lock. So if you acquire a lock named <code>foo</code>, you can see the lock's value:</p>\n<pre><code>get foo\n</code></pre>\n<p>And you see an ID there, e.g.: <code>aeec8bc0598311ffacfd0242ac110005</code>.</p>\n<p>So anyone else that tries to acquire the lock, redis simply compares their ID to the value stored at <code>foo</code> and denies them. When the lock is released it's deleted.</p>\n<p>If you manually delete the lock (<code>del foo</code>), then it is just manually doing what Redis would have done in the background when the lock was released naturally.</p>\n"}],"owner":{"account_id":12637357,"reputation":483,"user_id":9186141,"display_name":"Gayan Viranka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50056633,"answer_count":2,"score":3,"last_activity_date":1695833390,"creation_date":1524739060,"question_id":50040851,"body_markdown":"I have a java app that has multiple instances over a local network. It uses Redis Redlock to manage integrity of a shared database. Issue here is this java app is still highly unstable so that it crash lot of times. When one instance crashed and it held the lock at the time of crash all other instance get stuck. My question is can I release a lock from a Redis CLI when an instance of Java app which hold the lock crashed.","title":"Unlock Redis Locks From CLI","body":"<p>I have a java app that has multiple instances over a local network. It uses Redis Redlock to manage integrity of a shared database. Issue here is this java app is still highly unstable so that it crash lot of times. When one instance crashed and it held the lock at the time of crash all other instance get stuck. My question is can I release a lock from a Redis CLI when an instance of Java app which hold the lock crashed.</p>\n"},{"tags":["java","r","h2o","h2o.ai"],"comments":[{"owner":{"account_id":8130332,"reputation":7485,"user_id":6123824,"accept_rate":100,"display_name":"UseR10085"},"score":0,"creation_date":1695813990,"post_id":77186876,"comment_id":136073707,"body_markdown":"You can follow the steps described [here](https://stackoverflow.com/a/54213933/6123824). Uninstall the 32-bit version of Java and install the 64-bit JDK then add the path of JDK installation in the Environment Variables.","body":"You can follow the steps described <a href=\"https://stackoverflow.com/a/54213933/6123824\">here</a>. Uninstall the 32-bit version of Java and install the 64-bit JDK then add the path of JDK installation in the Environment Variables."},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695814917,"post_id":77186876,"comment_id":136073884,"body_markdown":"Am so confused right now. I have uninstalled all existing JDK files, then downloaded/ installed 64-bit JDK files again and set Environment Variables. But running **h2o** in R is still telling me I have 32-bit Java installed.","body":"Am so confused right now. I have uninstalled all existing JDK files, then downloaded/ installed 64-bit JDK files again and set Environment Variables. But running <b>h2o</b> in R is still telling me I have 32-bit Java installed."},{"owner":{"account_id":8130332,"reputation":7485,"user_id":6123824,"accept_rate":100,"display_name":"UseR10085"},"score":0,"creation_date":1695815958,"post_id":77186876,"comment_id":136074104,"body_markdown":"Uninstall your java also and install 64-bit Java then add the path of Java installation in the Environment Variables.","body":"Uninstall your java also and install 64-bit Java then add the path of Java installation in the Environment Variables."},{"owner":{"account_id":2753188,"reputation":198540,"user_id":2372064,"accept_rate":100,"display_name":"MrFlick"},"score":0,"creation_date":1695826480,"post_id":77186876,"comment_id":136076506,"body_markdown":"The error message looks like it&#39;s trying to find &quot;C:\\Program Files\\Java\\jdk-20\\bin\\bin\\java.exe&quot; but that file doesn&#39;t exist. It&#39;s odd that that path has &quot;bin&quot; twice in it. That seems like a mistake. What exactly did you set the &quot;Java Path in Environment Variables&quot; to? Did you restart R after changing the environment variables?","body":"The error message looks like it&#39;s trying to find &quot;C:\\Program Files\\Java\\jdk-20\\bin\\bin\\java.exe&quot; but that file doesn&#39;t exist. It&#39;s odd that that path has &quot;bin&quot; twice in it. That seems like a mistake. What exactly did you set the &quot;Java Path in Environment Variables&quot; to? Did you restart R after changing the environment variables?"},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695832371,"post_id":77186876,"comment_id":136077736,"body_markdown":"I still don&#39;t understand why there&#39;s a “bin” twice. In my Environment Variables, I added “C:\\Program Files\\Java\\jdk-20\\bin” to Path variable. I also created a JAVA_HOME variable  and added “C:\\Program Files\\Java\\jdk-20\\bin” to it.","body":"I still don&#39;t understand why there&#39;s a “bin” twice. In my Environment Variables, I added “C:\\Program Files\\Java\\jdk-20\\bin” to Path variable. I also created a JAVA_HOME variable  and added “C:\\Program Files\\Java\\jdk-20\\bin” to it."},{"owner":{"account_id":3493423,"reputation":69,"user_id":2922413,"display_name":"krasinski"},"score":1,"creation_date":1695832610,"post_id":77186876,"comment_id":136077781,"body_markdown":"Please specify your JAVA_HOME without bin suffix","body":"Please specify your JAVA_HOME without bin suffix"},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695832673,"post_id":77186876,"comment_id":136077792,"body_markdown":"I downloaded/installed “jdk-20_windows-x64_bin” installer. This is the only Java installer file I installed. Am I supposed to download/install another Java installer along the JDK installer? Please advise.","body":"I downloaded/installed “jdk-20_windows-x64_bin” installer. This is the only Java installer file I installed. Am I supposed to download/install another Java installer along the JDK installer? Please advise."},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695833177,"post_id":77186876,"comment_id":136077901,"body_markdown":"@krasinski should I remove the bin suffix from JAVA_HOME variable? Pls advise.","body":"@krasinski should I remove the bin suffix from JAVA_HOME variable? Pls advise."},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695833631,"post_id":77186876,"comment_id":136077961,"body_markdown":"@UseR10085 Are u saying I should download/install Java installer and JDK installer. I downloaded/installed only JDK (because I thought that&#39;s all is needed to install Java). Pls advise.","body":"@UseR10085 Are u saying I should download/install Java installer and JDK installer. I downloaded/installed only JDK (because I thought that&#39;s all is needed to install Java). Pls advise."},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695834054,"post_id":77186876,"comment_id":136078027,"body_markdown":"In my C:\\Program Files\\Java folder, I have only a jdk folder, no jre folder. Is this a problem? Pls advise.","body":"In my C:\\Program Files\\Java folder, I have only a jdk folder, no jre folder. Is this a problem? Pls advise."},{"owner":{"account_id":3493423,"reputation":69,"user_id":2922413,"display_name":"krasinski"},"score":0,"creation_date":1695837531,"post_id":77186876,"comment_id":136078642,"body_markdown":"yes, please remove the bin suffix, JAVA_HOME is just JAVA_HOME (without bin),\nbut then when you add it to the PATH you can use %JAVA_HOME%\\bin","body":"yes, please remove the bin suffix, JAVA_HOME is just JAVA_HOME (without bin), but then when you add it to the PATH you can use %JAVA_HOME%\\bin"},{"owner":{"account_id":3493423,"reputation":69,"user_id":2922413,"display_name":"krasinski"},"score":0,"creation_date":1695837737,"post_id":77186876,"comment_id":136078670,"body_markdown":"another thing: currently h2o-3 supports Java up to version 17, you can force it to run on a newer version, but please remember it wasn&#39;t tested","body":"another thing: currently h2o-3 supports Java up to version 17, you can force it to run on a newer version, but please remember it wasn&#39;t tested"},{"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"score":0,"creation_date":1695881607,"post_id":77186876,"comment_id":136083506,"body_markdown":"I have solved it. I removed the “bin” suffix in JAVA_HOME variable as instructed by @krasinski, then I set my Java environment in R using `Sys.setenv` and `Sys.getenv`. Thanks everyone. My h2o cluster is working in R.","body":"I have solved it. I removed the “bin” suffix in JAVA_HOME variable as instructed by @krasinski, then I set my Java environment in R using <code>Sys.setenv</code> and <code>Sys.getenv</code>. Thanks everyone. My h2o cluster is working in R."}],"owner":{"account_id":24915931,"reputation":37,"user_id":18784875,"display_name":"Rothschild"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1695833367,"creation_date":1695812492,"question_id":77186876,"body_markdown":"I can&#39;t seem to get h2o running in R.  \r\nI can easily import h2o using `library(h2o)` which displays\r\n\r\n```\r\n----------------------------------------------------------------------\r\n\r\nYour next step is to start H2O:\r\n    &gt; h2o.init()\r\n\r\nFor H2O package documentation, ask for help:\r\n    &gt; ??h2o\r\n\r\nAfter starting H2O, you can use the Web UI at http://localhost:54321\r\nFor more information visit https://docs.h2o.ai\r\n\r\n----------------------------------------------------------------------\r\n\r\n\r\nAttaching package: ‘h2o’\r\n\r\nThe following objects are masked from ‘package:stats’:\r\n\r\n    cor, sd, var\r\n\r\nThe following objects are masked from ‘package:base’:\r\n\r\n    %*%, %in%, &amp;&amp;, ||, apply, as.factor, as.numeric, colnames, colnames&lt;-,\r\n    ifelse, is.character, is.factor, is.numeric, log, log10, log1p, log2,\r\n    round, signif, trunc\r\n\r\nWarning message:\r\npackage ‘h2o’ was built under R version 4.1.3 \r\n```\r\n\r\nBut the issue is whenever I run `h2o.init()` to start the h2o cluster, I get the following error message\r\n\r\n```\r\nH2O is not running yet, starting it now...\r\n&lt;simpleError in system2(command, &quot;-version&quot;, stdout = TRUE, stderr = TRUE): &#39;&quot;C:\\Program Files\\Java\\jdk-20\\bin\\bin\\java.exe&quot;&#39; not found&gt;\r\nError in value[[3L]](cond) : \r\n  You have a 32-bit version of Java. H2O works best with 64-bit Java.\r\nPlease download the latest Java SE JDK from the following URL:\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/index.html\r\nIn addition: Warning message:\r\nIn normalizePath(path.expand(path), winslash, mustWork) :\r\n  path[1]=&quot;C:\\Program Files\\Java\\jdk-20\\bin/bin/java.exe&quot;: The system cannot find the path specified\r\n```\r\n\r\nMy laptop is HP 64-bit and the Java JDK I downloaded and installed is jdk-20_windows-x64_bin (which is 64-bit).  \r\nI have also set the required Java Path in Environment Variables.\r\n\r\nBelow is the Java version installed\r\n\r\n```\r\nMicrosoft Windows [Version 10.0.19044.1889]\r\n(c) Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Users\\user&gt;java -version\r\njava version &quot;20.0.2&quot; 2023-07-18\r\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n```\r\nI don&#39;t understand why h2o cannot detect my 64-bit Java already installed and work with it.   \r\nDid I download/install the wrong Java JDK file?  \r\n\r\nMy R version is 4.1.0\r\n\r\nBelow are images of my JAVA_HOME variable and Path variable \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h2T7s.png","title":"I can&#39;t run h2o cluster in R","body":"<p>I can't seem to get h2o running in R.<br />\nI can easily import h2o using <code>library(h2o)</code> which displays</p>\n<pre><code>----------------------------------------------------------------------\n\nYour next step is to start H2O:\n    &gt; h2o.init()\n\nFor H2O package documentation, ask for help:\n    &gt; ??h2o\n\nAfter starting H2O, you can use the Web UI at http://localhost:54321\nFor more information visit https://docs.h2o.ai\n\n----------------------------------------------------------------------\n\n\nAttaching package: ‘h2o’\n\nThe following objects are masked from ‘package:stats’:\n\n    cor, sd, var\n\nThe following objects are masked from ‘package:base’:\n\n    %*%, %in%, &amp;&amp;, ||, apply, as.factor, as.numeric, colnames, colnames&lt;-,\n    ifelse, is.character, is.factor, is.numeric, log, log10, log1p, log2,\n    round, signif, trunc\n\nWarning message:\npackage ‘h2o’ was built under R version 4.1.3 \n</code></pre>\n<p>But the issue is whenever I run <code>h2o.init()</code> to start the h2o cluster, I get the following error message</p>\n<pre><code>H2O is not running yet, starting it now...\n&lt;simpleError in system2(command, &quot;-version&quot;, stdout = TRUE, stderr = TRUE): '&quot;C:\\Program Files\\Java\\jdk-20\\bin\\bin\\java.exe&quot;' not found&gt;\nError in value[[3L]](cond) : \n  You have a 32-bit version of Java. H2O works best with 64-bit Java.\nPlease download the latest Java SE JDK from the following URL:\nhttps://www.oracle.com/technetwork/java/javase/downloads/index.html\nIn addition: Warning message:\nIn normalizePath(path.expand(path), winslash, mustWork) :\n  path[1]=&quot;C:\\Program Files\\Java\\jdk-20\\bin/bin/java.exe&quot;: The system cannot find the path specified\n</code></pre>\n<p>My laptop is HP 64-bit and the Java JDK I downloaded and installed is jdk-20_windows-x64_bin (which is 64-bit).<br />\nI have also set the required Java Path in Environment Variables.</p>\n<p>Below is the Java version installed</p>\n<pre><code>Microsoft Windows [Version 10.0.19044.1889]\n(c) Microsoft Corporation. All rights reserved.\n\nC:\\Users\\user&gt;java -version\njava version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\n</code></pre>\n<p>I don't understand why h2o cannot detect my 64-bit Java already installed and work with it.<br />\nDid I download/install the wrong Java JDK file?</p>\n<p>My R version is 4.1.0</p>\n<p>Below are images of my JAVA_HOME variable and Path variable\n<a href=\"https://i.stack.imgur.com/h2T7s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2T7s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","nullpointerexception","android-support-library","android-transitions"],"comments":[{"owner":{"account_id":2348302,"reputation":758,"user_id":2057884,"accept_rate":100,"display_name":"Olumide"},"score":0,"creation_date":1473759851,"post_id":38932405,"comment_id":66253904,"body_markdown":"See my comment on a similar question [http://stackoverflow.com/questions/36557479/...](http://stackoverflow.com/questions/36557479/conent-transition-npe-with-empty-shared-elements#comment66253761_36557479)","body":"See my comment on a similar question <a href=\"http://stackoverflow.com/questions/36557479/conent-transition-npe-with-empty-shared-elements#comment66253761_36557479\">http://stackoverflow.com/questions/36557479/...</a>"},{"owner":{"account_id":4830333,"reputation":131,"user_id":3898686,"display_name":"mkoslacz"},"score":0,"creation_date":1473931577,"post_id":38932405,"comment_id":66331310,"body_markdown":"@Olumide Actually, applying your suggestion makes my animations do not work. My workaround postpones them, but they work at least. Sorry :(","body":"@Olumide Actually, applying your suggestion makes my animations do not work. My workaround postpones them, but they work at least. Sorry :("},{"owner":{"account_id":2348302,"reputation":758,"user_id":2057884,"accept_rate":100,"display_name":"Olumide"},"score":0,"creation_date":1473978971,"post_id":38932405,"comment_id":66358441,"body_markdown":"it works for me though so idk","body":"it works for me though so idk"}],"answers":[{"comments":[{"owner":{"account_id":4830333,"reputation":131,"user_id":3898686,"display_name":"mkoslacz"},"score":1,"creation_date":1504084455,"post_id":45938083,"comment_id":78870594,"body_markdown":"Well, that&#39;s exactly the workaround I described in my question.","body":"Well, that&#39;s exactly the workaround I described in my question."}],"tags":[],"owner":{"account_id":9427868,"reputation":692,"user_id":7012285,"accept_rate":80,"display_name":"Gowsik Raja"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1504006464,"creation_date":1504006464,"answer_id":45938083,"question_id":38932405,"body_markdown":"I&#39;m also facing same issue while working with Explode Activity transition,I find one thing this code running normally in Lollipop version, But crashed above Lollipop.\r\nEven i can&#39;t find out the reason for crashing. But i resolve it another way. Just **put delay in activity transition**. I given my code below\r\n\r\n    public class SplashActivity extends AppCompatActivity {\r\n\r\n    final Handler handler = new Handler();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash);\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                navigate();\r\n            }\r\n        },500);\r\n    }\r\n\r\n    private void navigate() {\r\n        ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(this);\r\n        Intent intent = new Intent(SplashActivity.this, MainActivity.class);\r\n        startActivity(intent, options.toBundle());\r\n    }}\r\n\r\n   After adding this working normally in all version.","title":"ViewRootImpl.setPausedForTransition(boolean) NullPointerException in ActivityTransitionCoordinator when transition to other Activity invoked too early","body":"<p>I'm also facing same issue while working with Explode Activity transition,I find one thing this code running normally in Lollipop version, But crashed above Lollipop.\nEven i can't find out the reason for crashing. But i resolve it another way. Just <strong>put delay in activity transition</strong>. I given my code below</p>\n\n<pre><code>public class SplashActivity extends AppCompatActivity {\n\nfinal Handler handler = new Handler();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_splash);\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            navigate();\n        }\n    },500);\n}\n\nprivate void navigate() {\n    ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(this);\n    Intent intent = new Intent(SplashActivity.this, MainActivity.class);\n    startActivity(intent, options.toBundle());\n}}\n</code></pre>\n\n<p>After adding this working normally in all version.</p>\n"},{"tags":[],"owner":{"account_id":1595298,"reputation":1053,"user_id":2187425,"accept_rate":36,"display_name":"Nicol&#225;s Arias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586966888,"creation_date":1586966888,"answer_id":61233371,"question_id":38932405,"body_markdown":"Instead of using a Handler you can navigate to the next activity using your root view `post ` method\r\n\r\n    findViewById(&lt;Your activity root view id&gt;).post(() -&gt; navigate());\r\n\r\nIn general, the root view could be `android.R.id.content`","title":"ViewRootImpl.setPausedForTransition(boolean) NullPointerException in ActivityTransitionCoordinator when transition to other Activity invoked too early","body":"<p>Instead of using a Handler you can navigate to the next activity using your root view <code>post</code> method</p>\n\n<pre><code>findViewById(&lt;Your activity root view id&gt;).post(() -&gt; navigate());\n</code></pre>\n\n<p>In general, the root view could be <code>android.R.id.content</code></p>\n"}],"owner":{"account_id":4830333,"reputation":131,"user_id":3898686,"display_name":"mkoslacz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2529,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1695833310,"creation_date":1471089025,"question_id":38932405,"body_markdown":"In my Android app, I have a splash screen where I do some setup and loading. My app uses default `explode` as a `windowEnterTransition` and a `windowExitTransition` and a `changeImageTransform` plus `changeBounds` transition set as a `windowSharedElementEnterTransition` and `windowSharedElementExitTransition`. For convenience, I start the next `Activity` using a static method where I pass the current `Activity` as a `Context` and a shared element. The code is provided in the second part of this post.\r\n\r\nOne of the scenarios is that there is nothing to load, so app almost immediately fires the next `Activity`. The problem is that in this case app somehow enigmatically crashes in an `ActivityTransitionCoordinator` with a stack given in the next part of this post. Debugging of the internals shows that `ViewRootImpl` that is achieved there is null and there is no null check, so invoking `viewRoot.setPausedForTransition(false)` throws a `NullPointerException`. You can find this unlucky spot marked in the code below.\r\n\r\nTo focus on this failing scenario, let’s make an assumption that a logic deciding that there is nothing to load and the next `Activity` should be started immediately is so simple, that it could be simplified to just starting the mentioned activity. \r\n\r\nIt makes no difference if a start of the second `Activity` is invoked in `onCreate()`, `onResume()`, or `onEnterAnimationComplete()` method. I even tried adding a listener on a Transition acquired by calling `getWindow().getSharedElementEnterTransition()` and `getWindow().getEnterTransition()` to be allowed to start the next `Activity` when transitions are finished. The given `Transitions` are not null, but app never goes into methods of attached listeners.\r\n\r\nThe workaround I use now is just to schedule a `Runnable` to make an invoking of the next `Activity` delayed.\r\n\r\nI’m wondering if this is an `Android` (a `SupportLibrary` to be more specific) issue, or I missed something. Has anyone encountered a similar problem?\r\n\r\n\r\nA stacktrace:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    08-12 00:35:32.550 26453-26453/com.faver.mkoslacz.faverdemo E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.faver.mkoslacz.faverdemo, PID: 26453\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.ViewRootImpl.setPausedForTransition(boolean)&#39; on a null object reference\r\n    at android.app.ActivityTransitionCoordinator.startInputWhenTransitionsComplete(ActivityTransitionCoordinator.java:897)\r\n    at android.app.ActivityTransitionCoordinator.viewsTransitionComplete(ActivityTransitionCoordinator.java:885)\r\n    at android.app.ExitTransitionCoordinator.getExitTransition(ExitTransitionCoordinator.java:318)\r\n    at android.app.ExitTransitionCoordinator.beginTransitions(ExitTransitionCoordinator.java:365)\r\n    at android.app.ExitTransitionCoordinator.-wrap0(ExitTransitionCoordinator.java)\r\n    at android.app.ExitTransitionCoordinator$4.run(ExitTransitionCoordinator.java:216)\r\n    at android.app.ActivityTransitionCoordinator.startTransition(ActivityTransitionCoordinator.java:773)\r\n    at android.app.ExitTransitionCoordinator.startExit(ExitTransitionCoordinator.java:213)\r\n    at android.app.ActivityTransitionState.startExitOutTransition(ActivityTransitionState.java:317)\r\n    at android.app.Activity.cancelInputsAndStartExitTransition(Activity.java:3960)\r\n    at android.app.Activity.startActivityForResult(Activity.java:3936)\r\n    at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:48)\r\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\r\n    at android.app.Activity.startActivity(Activity.java:4196)\r\n    at com.faver.mkoslacz.faverdemo.activity.AuthorizationActivity.startWithTransiton(AuthorizationActivity.java:45)\r\n    at com.faver.mkoslacz.faverdemo.activity.SplashActivity.onEnterAnimationComplete(SplashActivity.java:27)\r\n    at android.app.Activity.dispatchEnterAnimationComplete(Activity.java:5852)\r\n    at android.app.ActivityThread.handleEnterAnimationComplete(ActivityThread.java:2668)\r\n    at android.app.ActivityThread.-wrap10(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1558)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:148)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n\r\n\r\nA code failing in `ActivityTransitionAnimator`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private void startInputWhenTransitionsComplete() {\r\n        if (mViewsTransitionComplete &amp;&amp; mSharedElementTransitionComplete) {\r\n            final View decor = getDecor();\r\n            if (decor != null) {\r\n                final ViewRootImpl viewRoot = decor.getViewRootImpl(); // it&#39;s null\r\n                viewRoot.setPausedForTransition(false); // crashes here\r\n            }\r\n            onTransitionsComplete();\r\n        }\r\n    }\r\n\r\n\r\nA method starting the next `Activity`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void startWithTransiton(Activity activity, android.view.View logo) {\r\n        Intent intent = new Intent(activity, AuthorizationActivity.class);\r\n        ActivityOptionsCompat options = ActivityOptionsCompat\r\n                .makeSceneTransitionAnimation(\r\n                        activity,\r\n                        logo,\r\n                        activity.getString(R.string.logoTransfer));\r\n        activity.startActivity(intent, options.toBundle());\r\n    }\r\n\r\nThe splash `Activity` contents (simplified):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class SplashActivity extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;SplashActivity&quot;;\r\n    \r\n        private View logo;\r\n        \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_splash);\r\n            logo = findViewById(R.id.logo);\r\n    \r\n    //        AuthorizationActivity.startWithTransiton(this, logo); // will fail\r\n    \r\n            new Handler().postDelayed(() -&gt; {\r\n                AuthorizationActivity.startWithTransiton(this, logo); // executes flawlessly\r\n            }, 300);\r\n    \r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n                Transition sharedElementEnterTransition = getWindow().getSharedElementEnterTransition();\r\n                if (sharedElementEnterTransition != null) {\r\n                    sharedElementEnterTransition.addListener(new Transition.TransitionListener() {\r\n                        @Override\r\n                        public void onTransitionStart(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionStart: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionEnd(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionEnd: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionCancel(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionCancel: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionPause(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionPause: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionResume(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionResume: never executes&quot;);\r\n                        }\r\n                    });\r\n                }\r\n    \r\n                Transition enterTransition = getWindow().getEnterTransition();\r\n                if (enterTransition != null) {\r\n                    enterTransition.addListener(new Transition.TransitionListener() {\r\n                        @Override\r\n                        public void onTransitionStart(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionStart: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionEnd(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionEnd: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionCancel(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionCancel: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionPause(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionPause: never executes&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onTransitionResume(Transition transition) {\r\n                            Log.d(TAG, &quot;onTransitionResume: never executes&quot;);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    //        AuthorizationActivity.startWithTransiton(this, logo); // will fail\r\n        }\r\n    \r\n        @Override\r\n        public void onEnterAnimationComplete() {\r\n            super.onEnterAnimationComplete();\r\n    //        AuthorizationActivity.startWithTransiton(this, logo); // will fail\r\n        }\r\n    }\r\n\r\n","title":"ViewRootImpl.setPausedForTransition(boolean) NullPointerException in ActivityTransitionCoordinator when transition to other Activity invoked too early","body":"<p>In my Android app, I have a splash screen where I do some setup and loading. My app uses default <code>explode</code> as a <code>windowEnterTransition</code> and a <code>windowExitTransition</code> and a <code>changeImageTransform</code> plus <code>changeBounds</code> transition set as a <code>windowSharedElementEnterTransition</code> and <code>windowSharedElementExitTransition</code>. For convenience, I start the next <code>Activity</code> using a static method where I pass the current <code>Activity</code> as a <code>Context</code> and a shared element. The code is provided in the second part of this post.</p>\n<p>One of the scenarios is that there is nothing to load, so app almost immediately fires the next <code>Activity</code>. The problem is that in this case app somehow enigmatically crashes in an <code>ActivityTransitionCoordinator</code> with a stack given in the next part of this post. Debugging of the internals shows that <code>ViewRootImpl</code> that is achieved there is null and there is no null check, so invoking <code>viewRoot.setPausedForTransition(false)</code> throws a <code>NullPointerException</code>. You can find this unlucky spot marked in the code below.</p>\n<p>To focus on this failing scenario, let’s make an assumption that a logic deciding that there is nothing to load and the next <code>Activity</code> should be started immediately is so simple, that it could be simplified to just starting the mentioned activity.</p>\n<p>It makes no difference if a start of the second <code>Activity</code> is invoked in <code>onCreate()</code>, <code>onResume()</code>, or <code>onEnterAnimationComplete()</code> method. I even tried adding a listener on a Transition acquired by calling <code>getWindow().getSharedElementEnterTransition()</code> and <code>getWindow().getEnterTransition()</code> to be allowed to start the next <code>Activity</code> when transitions are finished. The given <code>Transitions</code> are not null, but app never goes into methods of attached listeners.</p>\n<p>The workaround I use now is just to schedule a <code>Runnable</code> to make an invoking of the next <code>Activity</code> delayed.</p>\n<p>I’m wondering if this is an <code>Android</code> (a <code>SupportLibrary</code> to be more specific) issue, or I missed something. Has anyone encountered a similar problem?</p>\n<p>A stacktrace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>08-12 00:35:32.550 26453-26453/com.faver.mkoslacz.faverdemo E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.faver.mkoslacz.faverdemo, PID: 26453\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.ViewRootImpl.setPausedForTransition(boolean)' on a null object reference\nat android.app.ActivityTransitionCoordinator.startInputWhenTransitionsComplete(ActivityTransitionCoordinator.java:897)\nat android.app.ActivityTransitionCoordinator.viewsTransitionComplete(ActivityTransitionCoordinator.java:885)\nat android.app.ExitTransitionCoordinator.getExitTransition(ExitTransitionCoordinator.java:318)\nat android.app.ExitTransitionCoordinator.beginTransitions(ExitTransitionCoordinator.java:365)\nat android.app.ExitTransitionCoordinator.-wrap0(ExitTransitionCoordinator.java)\nat android.app.ExitTransitionCoordinator$4.run(ExitTransitionCoordinator.java:216)\nat android.app.ActivityTransitionCoordinator.startTransition(ActivityTransitionCoordinator.java:773)\nat android.app.ExitTransitionCoordinator.startExit(ExitTransitionCoordinator.java:213)\nat android.app.ActivityTransitionState.startExitOutTransition(ActivityTransitionState.java:317)\nat android.app.Activity.cancelInputsAndStartExitTransition(Activity.java:3960)\nat android.app.Activity.startActivityForResult(Activity.java:3936)\nat android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:48)\nat android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\nat android.app.Activity.startActivity(Activity.java:4196)\nat com.faver.mkoslacz.faverdemo.activity.AuthorizationActivity.startWithTransiton(AuthorizationActivity.java:45)\nat com.faver.mkoslacz.faverdemo.activity.SplashActivity.onEnterAnimationComplete(SplashActivity.java:27)\nat android.app.Activity.dispatchEnterAnimationComplete(Activity.java:5852)\nat android.app.ActivityThread.handleEnterAnimationComplete(ActivityThread.java:2668)\nat android.app.ActivityThread.-wrap10(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1558)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:148)\nat android.app.ActivityThread.main(ActivityThread.java:5417)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n<p>A code failing in <code>ActivityTransitionAnimator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void startInputWhenTransitionsComplete() {\n    if (mViewsTransitionComplete &amp;&amp; mSharedElementTransitionComplete) {\n        final View decor = getDecor();\n        if (decor != null) {\n            final ViewRootImpl viewRoot = decor.getViewRootImpl(); // it's null\n            viewRoot.setPausedForTransition(false); // crashes here\n        }\n        onTransitionsComplete();\n    }\n}\n</code></pre>\n<p>A method starting the next <code>Activity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void startWithTransiton(Activity activity, android.view.View logo) {\n    Intent intent = new Intent(activity, AuthorizationActivity.class);\n    ActivityOptionsCompat options = ActivityOptionsCompat\n            .makeSceneTransitionAnimation(\n                    activity,\n                    logo,\n                    activity.getString(R.string.logoTransfer));\n    activity.startActivity(intent, options.toBundle());\n}\n</code></pre>\n<p>The splash <code>Activity</code> contents (simplified):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SplashActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;SplashActivity&quot;;\n\n    private View logo;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n        logo = findViewById(R.id.logo);\n\n//        AuthorizationActivity.startWithTransiton(this, logo); // will fail\n\n        new Handler().postDelayed(() -&gt; {\n            AuthorizationActivity.startWithTransiton(this, logo); // executes flawlessly\n        }, 300);\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n            Transition sharedElementEnterTransition = getWindow().getSharedElementEnterTransition();\n            if (sharedElementEnterTransition != null) {\n                sharedElementEnterTransition.addListener(new Transition.TransitionListener() {\n                    @Override\n                    public void onTransitionStart(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionStart: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionEnd(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionEnd: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionCancel(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionCancel: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionPause(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionPause: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionResume(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionResume: never executes&quot;);\n                    }\n                });\n            }\n\n            Transition enterTransition = getWindow().getEnterTransition();\n            if (enterTransition != null) {\n                enterTransition.addListener(new Transition.TransitionListener() {\n                    @Override\n                    public void onTransitionStart(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionStart: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionEnd(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionEnd: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionCancel(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionCancel: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionPause(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionPause: never executes&quot;);\n                    }\n\n                    @Override\n                    public void onTransitionResume(Transition transition) {\n                        Log.d(TAG, &quot;onTransitionResume: never executes&quot;);\n                    }\n                });\n            }\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n//        AuthorizationActivity.startWithTransiton(this, logo); // will fail\n    }\n\n    @Override\n    public void onEnterAnimationComplete() {\n        super.onEnterAnimationComplete();\n//        AuthorizationActivity.startWithTransiton(this, logo); // will fail\n    }\n}\n</code></pre>\n"},{"tags":["java","android","junit","mocking","mockito"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695833581,"post_id":77189399,"comment_id":136077952,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1695833626,"post_id":77189399,"comment_id":136077959,"body_markdown":"It&#39;s considered an anti-pattern to test the value of a private part of your code.","body":"It&#39;s considered an anti-pattern to test the value of a private part of your code."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1695834980,"post_id":77189399,"comment_id":136078197,"body_markdown":"While title is a private variable, it is passed to other function: `launchAlertBox`, which has a visible side effect. Thus, your task is not to check the value of the private variable, but that this function is called with the correct argument. Typically, you provide such functions in the constructor of your object under test, and provide a fake one in a test.","body":"While title is a private variable, it is passed to other function: <code>launchAlertBox</code>, which has a visible side effect. Thus, your task is not to check the value of the private variable, but that this function is called with the correct argument. Typically, you provide such functions in the constructor of your object under test, and provide a fake one in a test."}],"owner":{"account_id":29548767,"reputation":1,"user_id":22645929,"display_name":"nader ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695833120,"creation_date":1695833014,"question_id":77189399,"body_markdown":"I wish to write a test which can confirm that the private title variable will equal &quot;internet connection lost please try again&quot;\r\n\r\n\r\n```\r\nvar title = &quot;&quot;\r\nif (errorMessage.equals(&quot;NO_CONNECTION&quot;)){\r\n   title = &quot;internet connection lost please try again&quot;\r\n   launchAlertBox(title)\r\n}\r\n```\r\n\r\n  \r\nis this even possible?\r\n\r\n\r\n}\r\n\r\nI tried to use different frameworks like spy and easymock but it did not help me","title":"How to test a private variable inside a method using Mockito or Junit","body":"<p>I wish to write a test which can confirm that the private title variable will equal &quot;internet connection lost please try again&quot;</p>\n<pre><code>var title = &quot;&quot;\nif (errorMessage.equals(&quot;NO_CONNECTION&quot;)){\n   title = &quot;internet connection lost please try again&quot;\n   launchAlertBox(title)\n}\n</code></pre>\n<p>is this even possible?</p>\n<p>}</p>\n<p>I tried to use different frameworks like spy and easymock but it did not help me</p>\n"},{"tags":["java","android","kotlin","mobile"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1695837501,"post_id":77189398,"comment_id":136078639,"body_markdown":"There&#39;s nothing in the OS that would do that, it&#39;s all or nothing.  Also, if you allow screenshots you can take videos by just taking a series of screenshots quickly enough","body":"There&#39;s nothing in the OS that would do that, it&#39;s all or nothing.  Also, if you allow screenshots you can take videos by just taking a series of screenshots quickly enough"}],"owner":{"account_id":14698680,"reputation":140,"user_id":10615359,"display_name":"Muhmmad Umair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695833014,"creation_date":1695833014,"question_id":77189398,"body_markdown":"I want to enable screenshot but want&#39;s to disable the screen recording in android application.\r\n\r\n\r\n\r\nI tried the following code.\r\n\r\n`getWindow().setFlags(WindowManager.LayoutParams.FLAG_SECURE,\r\n                WindowManager.LayoutParams.FLAG_SECURE);`\r\n\r\nBut this code disable both screen shot and screen record. Thanks in advance.","title":"How to disable only screen recording in native android app?","body":"<p>I want to enable screenshot but want's to disable the screen recording in android application.</p>\n<p>I tried the following code.</p>\n<p><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_SECURE, WindowManager.LayoutParams.FLAG_SECURE);</code></p>\n<p>But this code disable both screen shot and screen record. Thanks in advance.</p>\n"},{"tags":["java","scala","interface"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":3,"creation_date":1695784115,"post_id":77184456,"comment_id":136069233,"body_markdown":"You can not convert magically in the interface, you have to manually make the conversion in the implementation","body":"You can not convert magically in the interface, you have to manually make the conversion in the implementation"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":3,"creation_date":1695790906,"post_id":77184456,"comment_id":136069769,"body_markdown":"It wouldn&#39;t make sense that the interface knows about its implementations and adapt to them. Interface defines a contract. Implementations have to honour it.","body":"It wouldn&#39;t make sense that the interface knows about its implementations and adapt to them. Interface defines a contract. Implementations have to honour it."},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1695835720,"post_id":77184456,"comment_id":136078318,"body_markdown":"When you overriding/implementing JVM only allow you to: relax requirements on arguments (take a supertype of original parameter type) or strengthen requirements on output (return a subtype of originally returned type). `java.util.Optional` and `scala.Option` are from completely distinct hierarchies, no amount of upcasting/downcasting will convert one into the other, so you can never use one in place of another when implementing interfaces. In Scala 3 you could sometimes use (as input) `Option[A] | Optional[A]` (union types) but Java (or older Scala) would not understand this notation.","body":"When you overriding/implementing JVM only allow you to: relax requirements on arguments (take a supertype of original parameter type) or strengthen requirements on output (return a subtype of originally returned type). <code>java.util.Optional</code> and <code>scala.Option</code> are from completely distinct hierarchies, no amount of upcasting/downcasting will convert one into the other, so you can never use one in place of another when implementing interfaces. In Scala 3 you could sometimes use (as input) <code>Option[A] | Optional[A]</code> (union types) but Java (or older Scala) would not understand this notation."},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":1,"creation_date":1695836093,"post_id":77184456,"comment_id":136078376,"body_markdown":"You need to declare your output as `java.util.Optional[Kitten]`, `import scala.jdk.OptionConverters._` and then run `.toJava` on the `Option[Kitten]` value you computed before returning it from method.","body":"You need to declare your output as <code>java.util.Optional[Kitten]</code>, <code>import scala.jdk.OptionConverters._</code> and then run <code>.toJava</code> on the <code>Option[Kitten]</code> value you computed before returning it from method."}],"owner":{"account_id":29543554,"reputation":1,"user_id":22641692,"display_name":"PistachioGirl08"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695832503,"creation_date":1695783886,"question_id":77184456,"body_markdown":"I am working with a Java interface that is implemented in Scala. The Java interface returns an optional:\r\n\r\n\r\n```\r\npublic interface MyJavaInterface {\r\n    Optional&lt;Kitten&gt; fetchKittenIfAny(String name));\r\n}\r\n```\r\n\r\n\r\nWhich is implemented by Scala with a return type wrapped in Option:\r\n\r\n\r\n```\r\nclass MyScalaClass() extends MyJavaInterface {\r\n  def fetchKittenIfAny(name: String): Option[Kitten] = {}\r\n}\r\n```\r\n\r\n\r\nBut I keep getting `incompatible type in overriding` error. \r\n\r\nI&#39;ve tried using OptionConverters within my Java interface code converting toJava and toScala but neither seem to work. What is the proper way to do the conversion within the Java interface?\r\n\r\nEdit as a follow up question: Is there any way I can have a Java interface and scala implementation, and also communicate that the result of the method can be of Optional/Option type?","title":"Converting Java Optional to Scala Option in Interfaces","body":"<p>I am working with a Java interface that is implemented in Scala. The Java interface returns an optional:</p>\n<pre><code>public interface MyJavaInterface {\n    Optional&lt;Kitten&gt; fetchKittenIfAny(String name));\n}\n</code></pre>\n<p>Which is implemented by Scala with a return type wrapped in Option:</p>\n<pre><code>class MyScalaClass() extends MyJavaInterface {\n  def fetchKittenIfAny(name: String): Option[Kitten] = {}\n}\n</code></pre>\n<p>But I keep getting <code>incompatible type in overriding</code> error.</p>\n<p>I've tried using OptionConverters within my Java interface code converting toJava and toScala but neither seem to work. What is the proper way to do the conversion within the Java interface?</p>\n<p>Edit as a follow up question: Is there any way I can have a Java interface and scala implementation, and also communicate that the result of the method can be of Optional/Option type?</p>\n"},{"tags":["java","android","string","android-resources"],"comments":[{"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"score":1,"creation_date":1479908660,"post_id":40765890,"comment_id":68756419,"body_markdown":"any name collisions with &#39;create_group_select_people&#39;? the string looks legit","body":"any name collisions with &#39;create_group_select_people&#39;? the string looks legit"},{"owner":{"account_id":7365376,"reputation":2295,"user_id":5607230,"accept_rate":64,"display_name":"Wackaloon"},"score":2,"creation_date":1479969230,"post_id":40765890,"comment_id":68782142,"body_markdown":"Borys, no name collisions in project","body":"Borys, no name collisions in project"},{"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"score":0,"creation_date":1479981088,"post_id":40765890,"comment_id":68788734,"body_markdown":"yeah, I guessed something is wrong with the IDE. glad it worked for you","body":"yeah, I guessed something is wrong with the IDE. glad it worked for you"},{"owner":{"account_id":9074664,"reputation":2435,"user_id":6756683,"display_name":"Daniel"},"score":0,"creation_date":1524558200,"post_id":40765890,"comment_id":87009843,"body_markdown":"By the way you will get the same error message if you use &lt;xliff:g&gt; (tag using for translation strings) in the string","body":"By the way you will get the same error message if you use &lt;xliff:g&gt; (tag using for translation strings) in the string"}],"answers":[{"tags":[],"owner":{"account_id":1239655,"reputation":27,"user_id":1202564,"display_name":"Julian"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1479909466,"creation_date":1479908957,"answer_id":40766271,"question_id":40765890,"body_markdown":"You&#39;re probably missing the format method of the String class, If you&#39;re setting it in a TextView, the proper way is:\r\n\r\n    textView.setText(String.format(getResources().getString(R.string.create_group_select_people), countMax));","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>You're probably missing the format method of the String class, If you're setting it in a TextView, the proper way is:</p>\n\n<pre><code>textView.setText(String.format(getResources().getString(R.string.create_group_select_people), countMax));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4948256,"reputation":1696,"user_id":3983066,"display_name":"Shadow Droid"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1479908977,"creation_date":1479908977,"answer_id":40766278,"question_id":40765890,"body_markdown":"You need **String formatter**. Please change below code from\r\n\r\n     getResources().getString(R.string.create_group_select_people, countMax);\r\n\r\nto\r\n\r\n    String temp =  String.format(getResources().getString(R.string.create_group_select_people), countMax);\r\n\r\nFor more detail information [refer][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>You need <strong>String formatter</strong>. Please change below code from</p>\n\n<pre><code> getResources().getString(R.string.create_group_select_people, countMax);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>String temp =  String.format(getResources().getString(R.string.create_group_select_people), countMax);\n</code></pre>\n\n<p>For more detail information <a href=\"https://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling\" rel=\"nofollow noreferrer\">refer</a></p>\n"},{"comments":[{"owner":{"account_id":4330664,"reputation":1568,"user_id":3536292,"accept_rate":72,"display_name":"COYG"},"score":1,"creation_date":1534587971,"post_id":40767291,"comment_id":90765460,"body_markdown":"Clean build worked for me. Why does this work do you know? What went wrong in the first instance.","body":"Clean build worked for me. Why does this work do you know? What went wrong in the first instance."},{"owner":{"account_id":2465451,"reputation":3428,"user_id":2148666,"accept_rate":100,"display_name":"Nicol&#225;s Carrasco-Stevenson"},"score":0,"creation_date":1545215169,"post_id":40767291,"comment_id":94545927,"body_markdown":"Number 2 did it for me. At first I thought there was a problem with lint because I was seeing the same warning three times, but it turns out it was one for each of the languages were the string wasn&#39;t formatted correctly","body":"Number 2 did it for me. At first I thought there was a problem with lint because I was seeing the same warning three times, but it turns out it was one for each of the languages were the string wasn&#39;t formatted correctly"},{"owner":{"account_id":4416651,"reputation":5107,"user_id":3598052,"accept_rate":22,"display_name":"Chitrang"},"score":2,"creation_date":1561493179,"post_id":40767291,"comment_id":100079971,"body_markdown":"I&#39;m not sure about others but for me, there is an issue with the percentage(%) symbol may be it is related to Unicode. There should be a small symbol (https://www.compart.com/en/unicode/U+FE6A) not the big symbol(https://www.compart.com/en/unicode/U+0025). Hope this helps :)","body":"I&#39;m not sure about others but for me, there is an issue with the percentage(%) symbol may be it is related to Unicode. There should be a small symbol (<a href=\"https://www.compart.com/en/unicode/U+FE6A\" rel=\"nofollow noreferrer\">compart.com/en/unicode/U+FE6A</a>) not the big symbol(<a href=\"https://www.compart.com/en/unicode/U+0025\" rel=\"nofollow noreferrer\">compart.com/en/unicode/U+0025</a>). Hope this helps :)"},{"owner":{"account_id":17701239,"reputation":101,"user_id":13555020,"display_name":"botanga"},"score":0,"creation_date":1589633872,"post_id":40767291,"comment_id":109373610,"body_markdown":"For me I needed to check option 2 : **check multi-language files**","body":"For me I needed to check option 2 : <b>check multi-language files</b>"},{"owner":{"account_id":342264,"reputation":144,"user_id":673333,"display_name":"alex bird"},"score":0,"creation_date":1598290001,"post_id":40767291,"comment_id":112404499,"body_markdown":"If you have a percent sign you need to escape it as `%%`. You don&#39;t need to use an unusual unicode variant of percent as @Chitrang suggests, and if you do you may find it is missing from some fonts.","body":"If you have a percent sign you need to escape it as <code>%%</code>. You don&#39;t need to use an unusual unicode variant of percent as @Chitrang suggests, and if you do you may find it is missing from some fonts."}],"tags":[],"owner":{"account_id":9707646,"reputation":771,"user_id":7200609,"display_name":"ohdroid"},"comment_count":5,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1479916044,"creation_date":1479911858,"answer_id":40767291,"question_id":40765890,"body_markdown":"I just copied the code and it works well.\r\nso you may need to check some other place,Here are my suggestions.\r\n\r\n1. clean project\r\n2. check multi-language files\r\n3. or just use String.format just like others said","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>I just copied the code and it works well.\nso you may need to check some other place,Here are my suggestions.</p>\n\n<ol>\n<li>clean project</li>\n<li>check multi-language files</li>\n<li>or just use String.format just like others said</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1388915,"reputation":14265,"user_id":1320237,"accept_rate":85,"display_name":"User"},"score":0,"creation_date":1582737864,"post_id":51109685,"comment_id":106883629,"body_markdown":"This did it for me. For some reason, I needed to **restart Android Studio** to remove the error message.","body":"This did it for me. For some reason, I needed to <b>restart Android Studio</b> to remove the error message."}],"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1695832099,"creation_date":1530308215,"answer_id":51109685,"question_id":40765890,"body_markdown":"Set parameter formatted to true in resources:  \r\n\r\n    &lt;string name=&quot;some_text&quot; formatted=&quot;true&quot;&gt;\r\n        Use for String.format method. Parameter one: %s1\r\n    &lt;/string&gt;\r\n\r\nand use it this way:\r\n\r\n    String.format(context.getString(R.string.some_text,&quot;value 1&quot;))\r\n\r\nor this way:\r\n\r\n    context.getString(R.string.some_text,&quot;value 1&quot;)\r\n\r\nNote: the formatted flag should be set to true only for strings with placeholders.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Set parameter formatted to true in resources:</p>\n<pre><code>&lt;string name=&quot;some_text&quot; formatted=&quot;true&quot;&gt;\n    Use for String.format method. Parameter one: %s1\n&lt;/string&gt;\n</code></pre>\n<p>and use it this way:</p>\n<pre><code>String.format(context.getString(R.string.some_text,&quot;value 1&quot;))\n</code></pre>\n<p>or this way:</p>\n<pre><code>context.getString(R.string.some_text,&quot;value 1&quot;)\n</code></pre>\n<p>Note: the formatted flag should be set to true only for strings with placeholders.</p>\n"},{"tags":[],"owner":{"account_id":14176752,"reputation":427,"user_id":10241731,"display_name":"Venu G."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534726932,"creation_date":1534725895,"answer_id":51922922,"question_id":40765890,"body_markdown":"Try doing a &#39;clean project&#39; followed by a close and reopen of Android Studio.\r\n\r\nThat fixed it for me, it looks like some minor Android Studio /Lint bug.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Try doing a 'clean project' followed by a close and reopen of Android Studio.</p>\n\n<p>That fixed it for me, it looks like some minor Android Studio /Lint bug.</p>\n"},{"tags":[],"owner":{"account_id":943282,"reputation":5113,"user_id":970998,"display_name":"Bernd Kampl"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1536757862,"creation_date":1536757862,"answer_id":52296053,"question_id":40765890,"body_markdown":"Try `File -&gt; Invalidate Caches / Restart...`, it fixed the problem for me.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Try <code>File -&gt; Invalidate Caches / Restart...</code>, it fixed the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":13506386,"reputation":67,"user_id":9744295,"display_name":"Shivam Maindola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553690161,"creation_date":1553690161,"answer_id":55377354,"question_id":40765890,"body_markdown":"Make a function and put your code inside it and add this `@SuppressLint(&quot;StringFormatInvalid&quot;)` just before the function. Hope it helps.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Make a function and put your code inside it and add this <code>@SuppressLint(\"StringFormatInvalid\")</code> just before the function. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":3734656,"reputation":1204,"user_id":3105890,"accept_rate":78,"display_name":"jwitt98"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568953332,"creation_date":1568953332,"answer_id":58021731,"question_id":40765890,"body_markdown":"For the sake of others who might find this thread, one possible cause of this warning is that you have multiple languages defined in string resource files and you did not specify format arguments in one or more of them.  \r\n\r\nFor example, if you have a strings.xml in your values folder, and another strings.xml in your values-es folder, but you only added format arguments to the strings.xml in your values folder, then the warning will be triggered because of the lack of format arguments in the string resource of strings.xml in your values-es folder.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>For the sake of others who might find this thread, one possible cause of this warning is that you have multiple languages defined in string resource files and you did not specify format arguments in one or more of them.  </p>\n\n<p>For example, if you have a strings.xml in your values folder, and another strings.xml in your values-es folder, but you only added format arguments to the strings.xml in your values folder, then the warning will be triggered because of the lack of format arguments in the string resource of strings.xml in your values-es folder.</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576865498,"creation_date":1576590406,"answer_id":59375633,"question_id":40765890,"body_markdown":"For the formatting of the string to be correct:\r\n\r\n    String.format(Locale.ENGLISH, itemView.context.getString(R.string.XXX), &quot;%17&quot;) \r\n\r\nAlso the special characters do not have to interfere with the injection of parameters. For that, take into account the [exhaust outlets][1] for special characters\r\n\r\n\r\n*From*: `&lt;string name=&quot;XXX&quot;&gt;% %1$s&lt;/string&gt;`\r\n\r\n*To*: `&lt;string name=&quot;XXX&quot;&gt;%1$s&lt;/string&gt;`\r\n\r\nFinally XXX is &quot;%17&quot;\r\n\r\n\r\nGood Luck.\r\n\r\n[Source][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/13056481/5279996\r\n  [2]: https://stackoverflow.com/a/3656409/5279996","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>For the formatting of the string to be correct:</p>\n\n<pre><code>String.format(Locale.ENGLISH, itemView.context.getString(R.string.XXX), \"%17\") \n</code></pre>\n\n<p>Also the special characters do not have to interfere with the injection of parameters. For that, take into account the <a href=\"https://stackoverflow.com/q/13056481/5279996\">exhaust outlets</a> for special characters</p>\n\n<p><em>From</em>: <code>&lt;string name=\"XXX\"&gt;% %1$s&lt;/string&gt;</code></p>\n\n<p><em>To</em>: <code>&lt;string name=\"XXX\"&gt;%1$s&lt;/string&gt;</code></p>\n\n<p>Finally XXX is \"%17\"</p>\n\n<p>Good Luck.</p>\n\n<p><a href=\"https://stackoverflow.com/a/3656409/5279996\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":1666363,"reputation":3409,"user_id":1533670,"accept_rate":94,"display_name":"Yohanim"},"score":0,"creation_date":1615957361,"post_id":60333741,"comment_id":117850071,"body_markdown":"sometimes others forget what the meaning of the second parameter","body":"sometimes others forget what the meaning of the second parameter"},{"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"score":0,"creation_date":1681015513,"post_id":60333741,"comment_id":133989925,"body_markdown":"Hmm yes. A clearer error message would be be most helpful.","body":"Hmm yes. A clearer error message would be be most helpful."}],"tags":[],"owner":{"account_id":9053224,"reputation":481,"user_id":6742451,"display_name":"sHaRkBoY"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1582269166,"creation_date":1582269166,"answer_id":60333741,"question_id":40765890,"body_markdown":"This error will be shown if you have the same string in multiple string files (translations), but one of them doesn&#39;t have proper format like missing &quot;%s&quot; or &quot;%1$s&quot;, which will be used to place paramters passed (ex: &quot;countMax&quot;) in below line.\r\n\r\n`getResources().getString(R.string.create_group_select_people, countMax)`\r\n\r\nSo, please check that before you are going to try any other answers mentioned above.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>This error will be shown if you have the same string in multiple string files (translations), but one of them doesn't have proper format like missing \"%s\" or \"%1$s\", which will be used to place paramters passed (ex: \"countMax\") in below line.</p>\n\n<p><code>getResources().getString(R.string.create_group_select_people, countMax)</code></p>\n\n<p>So, please check that before you are going to try any other answers mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":2351584,"reputation":2077,"user_id":2060245,"display_name":"ddsultan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603639925,"creation_date":1603639925,"answer_id":64525481,"question_id":40765890,"body_markdown":"In my case invalidating cache with restart did not help, but having consistent formatting parameters (e.g. `%s`) across other the locales resolved the issue. I hope this might be helpful to someone in the future.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>In my case invalidating cache with restart did not help, but having consistent formatting parameters (e.g. <code>%s</code>) across other the locales resolved the issue. I hope this might be helpful to someone in the future.</p>\n"},{"tags":[],"owner":{"account_id":8146204,"reputation":81,"user_id":6134786,"display_name":"Maximilian Keppeler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603914652,"creation_date":1603914652,"answer_id":64580326,"question_id":40765890,"body_markdown":"I had the same issue, but it has a different origin. My app has some languages and in one translation there was no &quot;%&quot; but a &quot;$&quot; sign instead. It still worked, except in this specific language and I received this hint at the respective line were I used the string.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>I had the same issue, but it has a different origin. My app has some languages and in one translation there was no &quot;%&quot; but a &quot;$&quot; sign instead. It still worked, except in this specific language and I received this hint at the respective line were I used the string.</p>\n"},{"tags":[],"owner":{"account_id":19894980,"reputation":453,"user_id":14576258,"display_name":"btm me"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614360312,"creation_date":1614341704,"answer_id":66385673,"question_id":40765890,"body_markdown":"If it shows the red color error, then add strings value like this and it will work.\r\n\r\n\r\nIf you want the string format:\r\n\r\n       &lt;string name=&quot;msg_token_fmt&quot; formatted=&quot;true&quot;&gt; %s\r\n    &lt;/string&gt;\r\n\r\n\r\nIf you want the float format float:\r\n \r\n\r\n    &lt;string name=&quot;msg_token_fmt&quot; formatted=&quot;true&quot;&gt; %f\r\n    &lt;/string&gt;\r\n    \r\nIf you want the number format:\r\n   \r\n\r\n      &lt;string name=&quot;msg_token_fmt&quot; formatted=&quot;true&quot;&gt; %d\r\n        &lt;/string&gt;","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>If it shows the red color error, then add strings value like this and it will work.</p>\n<p>If you want the string format:</p>\n<pre><code>   &lt;string name=&quot;msg_token_fmt&quot; formatted=&quot;true&quot;&gt; %s\n&lt;/string&gt;\n</code></pre>\n<p>If you want the float format float:</p>\n<pre><code>&lt;string name=&quot;msg_token_fmt&quot; formatted=&quot;true&quot;&gt; %f\n&lt;/string&gt;\n</code></pre>\n<p>If you want the number format:</p>\n<pre><code>  &lt;string name=&quot;msg_token_fmt&quot; formatted=&quot;true&quot;&gt; %d\n    &lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21651816,"reputation":21,"user_id":15972327,"display_name":"Alex Drozd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648051163,"creation_date":1648051163,"answer_id":71590348,"question_id":40765890,"body_markdown":"Just add \r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;`\r\nas first line to your strings.xml ","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Just add\n<code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code>\nas first line to your strings.xml</p>\n"},{"tags":[],"owner":{"account_id":17077840,"reputation":108,"user_id":12357048,"display_name":"Svetoslav Stoyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654354897,"creation_date":1653594167,"answer_id":72397217,"question_id":40765890,"body_markdown":"Still buggy with Android 2021.2.1 Patch 1\r\nAnyway project builds and runs properly, nothing really changed for me after a clean, rebuild, invalidating caches.\r\n\r\nManaged to remove the warning like this\r\n***\r\n                        String msg = String.format(String.valueOf(R.string.msg_token_fmt), token);\r\n***","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Still buggy with Android 2021.2.1 Patch 1\nAnyway project builds and runs properly, nothing really changed for me after a clean, rebuild, invalidating caches.</p>\n<p>Managed to remove the warning like this</p>\n<hr />\n<pre><code>                    String msg = String.format(String.valueOf(R.string.msg_token_fmt), token);\n</code></pre>\n<hr />\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662101208,"post_id":73513025,"comment_id":129932226,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73513025/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26141066,"reputation":63,"user_id":19830436,"display_name":"Iurii Mg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661620841,"creation_date":1661620841,"answer_id":73513025,"question_id":40765890,"body_markdown":"Check if this string is mentioned in other xml-files of the strings folder, this might help.","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>Check if this string is mentioned in other xml-files of the strings folder, this might help.</p>\n"}],"owner":{"account_id":7365376,"reputation":2295,"user_id":5607230,"accept_rate":64,"display_name":"Wackaloon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35886,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":40767291,"answer_count":16,"score":50,"last_activity_date":1695832099,"creation_date":1479907867,"question_id":40765890,"body_markdown":"I have android app and this string in resources:\r\n\r\n    &lt;string name=&quot;create_group_select_people&quot;&gt;Select up to %1$d people!&lt;/string&gt;\r\n\r\nThis is called from fragment:\r\n\r\n    Integer countMax = 5; //also tried just &quot;int&quot; - nothing changed\r\n    getResources().getString(R.string.create_group_select_people, countMax);\r\n\r\nbut I got error:\r\n\r\n    Format string &#39;create_group_select_people&#39; is not a valid format string so it should not be passed to String.format\r\n\r\nI can&#39;t understand what is wrong? When I launch app - it shows me literally &quot;Select up to %1$d people!&quot;","title":"Format string XXX is not a valid format string so it should not be passed to String.format","body":"<p>I have android app and this string in resources:</p>\n\n<pre><code>&lt;string name=\"create_group_select_people\"&gt;Select up to %1$d people!&lt;/string&gt;\n</code></pre>\n\n<p>This is called from fragment:</p>\n\n<pre><code>Integer countMax = 5; //also tried just \"int\" - nothing changed\ngetResources().getString(R.string.create_group_select_people, countMax);\n</code></pre>\n\n<p>but I got error:</p>\n\n<pre><code>Format string 'create_group_select_people' is not a valid format string so it should not be passed to String.format\n</code></pre>\n\n<p>I can't understand what is wrong? When I launch app - it shows me literally \"Select up to %1$d people!\"</p>\n"},{"tags":["java","android","android-service","android-permissions","android-download-manager"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695746847,"post_id":77181709,"comment_id":136064644,"body_markdown":"Interesting. Please add a question to your post.","body":"Interesting. Please add a question to your post."}],"answers":[{"comments":[{"owner":{"account_id":12977908,"reputation":58,"user_id":9381370,"display_name":"Roni Beitel"},"score":0,"creation_date":1695897672,"post_id":77188731,"comment_id":136086458,"body_markdown":"Nope, reason is 0. This hawthorns because Android sees there is no Internet connention. If an internet connection becomes available, the download starts.","body":"Nope, reason is 0. This hawthorns because Android sees there is no Internet connention. If an internet connection becomes available, the download starts."}],"tags":[],"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695827298,"creation_date":1695827298,"answer_id":77188731,"question_id":77181709,"body_markdown":"Download request fails with a reason code for the error. The reason is stored in `DownloadManager.COLUMN_REASON` and if it is http error in then it is stored like a non 200 integer, in your case it has to be `PAUSED_WAITING_FOR_NETWORK` code. ","title":"File stuck in pending until WiFi is turned on","body":"<p>Download request fails with a reason code for the error. The reason is stored in <code>DownloadManager.COLUMN_REASON</code> and if it is http error in then it is stored like a non 200 integer, in your case it has to be <code>PAUSED_WAITING_FOR_NETWORK</code> code.</p>\n"}],"owner":{"account_id":12977908,"reputation":58,"user_id":9381370,"display_name":"Roni Beitel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695831964,"creation_date":1695744445,"question_id":77181709,"body_markdown":"I&#39;m using Download Manager to download a file Ton an Android 10 device that is connected to a private APN on cellular network which leads to a private server.\r\n*The server is not reachable from regular internet.\r\n\r\nThe request looks like this:\r\n```\r\nDownloadManager.Request request = new DownloadManager.Request(uri);\r\nrequest.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE | DownloadManager.Request.NETWORK_WIFI);\r\nrequest.setDestinationUri(Uri.fromFile(getFile()));\r\nrequest.setAllowedOverMetered(true);\r\nrequest.setAllowedOverRoaming(true);\r\nrequest.setTitle(mContext.getString(R.string.title));\r\nrequest.setDescription(mName);\r\n```\r\nSaving the file into ```File file = new File(Environment.getExternalStorageDirectory(), &quot;Download&quot;);```\r\n\r\nManifest is configured with necessary permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nWhen pushing a file through the Download Manager code, I can see the file is on queue, with status: 1 (&quot;PENDING&quot;). When I turn on WiFi, the download notification appears and the file fails to download (as it is not reachable from the internet).\r\n**There is no error in Logcat logs.**\r\n\r\nTests I&#39;ve done:\r\n1. Checked downloading the file directly from a browser and it works.\r\n2. Tried downloading a file from the internet using the same code, both over WiFi and regular Cellular and it works.\r\n3. Installed the same code on Android 12 and Android 13 device - same thing.\r\n\r\nHow can I make Download Manager work without the internet connectivity it probably requires?","title":"File stuck in pending until WiFi is turned on","body":"<p>I'm using Download Manager to download a file Ton an Android 10 device that is connected to a private APN on cellular network which leads to a private server.\n*The server is not reachable from regular internet.</p>\n<p>The request looks like this:</p>\n<pre><code>DownloadManager.Request request = new DownloadManager.Request(uri);\nrequest.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE | DownloadManager.Request.NETWORK_WIFI);\nrequest.setDestinationUri(Uri.fromFile(getFile()));\nrequest.setAllowedOverMetered(true);\nrequest.setAllowedOverRoaming(true);\nrequest.setTitle(mContext.getString(R.string.title));\nrequest.setDescription(mName);\n</code></pre>\n<p>Saving the file into <code>File file = new File(Environment.getExternalStorageDirectory(), &quot;Download&quot;);</code></p>\n<p>Manifest is configured with necessary permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>When pushing a file through the Download Manager code, I can see the file is on queue, with status: 1 (&quot;PENDING&quot;). When I turn on WiFi, the download notification appears and the file fails to download (as it is not reachable from the internet).\n<strong>There is no error in Logcat logs.</strong></p>\n<p>Tests I've done:</p>\n<ol>\n<li>Checked downloading the file directly from a browser and it works.</li>\n<li>Tried downloading a file from the internet using the same code, both over WiFi and regular Cellular and it works.</li>\n<li>Installed the same code on Android 12 and Android 13 device - same thing.</li>\n</ol>\n<p>How can I make Download Manager work without the internet connectivity it probably requires?</p>\n"},{"tags":["java","javafx","macos-ventura","apple-m2"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695792418,"post_id":77184753,"comment_id":136069911,"body_markdown":"Are you saying that JavaFX 17 together with JDK 17 also gives the same error?","body":"Are you saying that JavaFX 17 together with JDK 17 also gives the same error?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695792735,"post_id":77184753,"comment_id":136069959,"body_markdown":"Am I reading that wrong, or is `NSCalendarDate` the cause of the exception?","body":"Am I reading that wrong, or is <code>NSCalendarDate</code> the cause of the exception?"},{"owner":{"account_id":17417683,"reputation":65,"user_id":12623787,"display_name":"sogytots"},"score":0,"creation_date":1695793660,"post_id":77184753,"comment_id":136070055,"body_markdown":"hi @Abra, yes its giving the same error","body":"hi @Abra, yes its giving the same error"},{"owner":{"account_id":17417683,"reputation":65,"user_id":12623787,"display_name":"sogytots"},"score":0,"creation_date":1695794036,"post_id":77184753,"comment_id":136070089,"body_markdown":"@BasilBourque, I don&#39;t think so. its a generalized error. please refer this ticket https://bugs.openjdk.org/browse/JDK-8297131. its the same thing, and they have fixed it for all the jfx versions, but that was for m1 chip with ventura. the only difference I can find is my system has m2 chip. I have tried with all the jfx versions which they have fixed, but no luck. I get the same issue","body":"@BasilBourque, I don&#39;t think so. its a generalized error. please refer this ticket <a href=\"https://bugs.openjdk.org/browse/JDK-8297131\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8297131</a>. its the same thing, and they have fixed it for all the jfx versions, but that was for m1 chip with ventura. the only difference I can find is my system has m2 chip. I have tried with all the jfx versions which they have fixed, but no luck. I get the same issue"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695803650,"post_id":77184753,"comment_id":136071643,"body_markdown":"[`NSCalendarDate` is deprecated.](https://developer.apple.com/documentation/foundation/nscalendardate).","body":"<a href=\"https://developer.apple.com/documentation/foundation/nscalendardate\" rel=\"nofollow noreferrer\"><code>NSCalendarDate</code> is deprecated.</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695804188,"post_id":77184753,"comment_id":136071759,"body_markdown":"I suggest you also try JDK 21 (with JavaFX 21) and see the if you have the same issue, in case this was a JDK related issue that was fixed for a recent JDK.","body":"I suggest you also try JDK 21 (with JavaFX 21) and see the if you have the same issue, in case this was a JDK related issue that was fixed for a recent JDK."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1695804506,"post_id":77184753,"comment_id":136071830,"body_markdown":"This is weird: `-Dprism.order=sw,j2d`. Why set that switch? And why set it to software rendering? I don’t think that is advisable.","body":"This is weird: <code>-Dprism.order=sw,j2d</code>. Why set that switch? And why set it to software rendering? I don’t think that is advisable."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1695832049,"post_id":77187253,"comment_id":136077683,"body_markdown":"Please take care in using proper case and punctuation, full sentences, etc. Avoid unnecessary contractions and slang. Stack Overflow is meant to be more like Wikipedia, and less like a casual chat room.","body":"Please take care in using proper case and punctuation, full sentences, etc. Avoid unnecessary contractions and slang. Stack Overflow is meant to be more like Wikipedia, and less like a casual chat room."}],"tags":[],"owner":{"account_id":17417683,"reputation":65,"user_id":12623787,"display_name":"sogytots"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695831917,"creation_date":1695815519,"answer_id":77187253,"question_id":77184753,"body_markdown":"I was able to solve this by upgrading to jdk21 and using the openjfx 21 aarch64 libs. and also removed the j2d rendering pipeline, as its deprecated. I am just using sw now. \r\n\r\nAlso following flags were added in the command.\r\n\r\n```bash\r\n-Djava.security.policy=java.policy -Djava.library.path=&quot;../Libraries/javafx/lib&quot; -Dprism.order=sw -Dprism.verbose=true --module-path &quot;../Libraries/javafx/lib&quot; --add-modules javafx.controls,javafx.base,javafx.fxml,javafx.graphics,javafx.media,javafx.web --add-opens=javafx.graphics/javafx.scene=ALL-UNNAMED --add-exports javafx.base/com.sun.javafx.event=ALL-UNNAMED\r\n```\r\n\r\n","title":"JavaFX application failing to launch on MacOS ventura with m2 chip. Assertion failure","body":"<p>I was able to solve this by upgrading to jdk21 and using the openjfx 21 aarch64 libs. and also removed the j2d rendering pipeline, as its deprecated. I am just using sw now.</p>\n<p>Also following flags were added in the command.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Djava.security.policy=java.policy -Djava.library.path=&quot;../Libraries/javafx/lib&quot; -Dprism.order=sw -Dprism.verbose=true --module-path &quot;../Libraries/javafx/lib&quot; --add-modules javafx.controls,javafx.base,javafx.fxml,javafx.graphics,javafx.media,javafx.web --add-opens=javafx.graphics/javafx.scene=ALL-UNNAMED --add-exports javafx.base/com.sun.javafx.event=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":17417683,"reputation":65,"user_id":12623787,"display_name":"sogytots"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695831917,"creation_date":1695790515,"question_id":77184753,"body_markdown":"I have a javaFX application which I am trying to launch in macOS ventura having m2 chip. I build the application in gradle 7.3.1 jdk 17.0.7 and javafx sdk 21. but when I go to launch it, it gives Assertion failure like below\r\n\r\n \r\n\r\n       2023-09-26 21:06:14.194 java[42409:778654418] *** Assertion failure in -[_NSTrackingAreaAKViewHelper removeTrackingRect:], _NSTrackingAreaAKManager.m:1585\r\n    2023-09-26 21:06:14.196 java[42409:778654418] *** Terminating app due to uncaught exception &#39;NSInternalInconsistencyException&#39;, reason: &#39;0x0 is an invalid NSTrackingRectTag. Common possible reasons for this are: 1. already removed this trackingRectTag, 2. Truncated the NSTrackingRectTag to 32bit at some point.&#39;\r\n    *** First throw call stack:\r\n    (\r\n    \t0   CoreFoundation                      0x00007ff813fa5cd3 __exceptionPreprocess + 242\r\n    \t1   libobjc.A.dylib                     0x00007ff813af610a objc_exception_throw + 48\r\n    \t2   Foundation                          0x00007ff814d82fb0 -[NSCalendarDate initWithCoder:] + 0\r\n    \t3   AppKit                              0x00007ff81763e562 -[_NSTrackingAreaAKViewHelper removeTrackingRect:] + 190\r\n    \t4   libglass.dylib                      0x00000001099f068a -[GlassViewDelegate setFrameSize:] + 362\r\n    \t5   libglass.dylib                      0x00000001099f5fb8 -[GlassView3D setFrameSize:] + 88\r\n    \t6   AppKit                              0x00007ff816fca3a1 -[NSView setFrame:] + 347\r\n    \t7   libglass.dylib                      0x00000001099f6011 -[GlassView3D setFrame:] + 65\r\n    \t8   AppKit                              0x00007ff816fdb0f9 -[NSView resizeWithOldSuperviewSize:] + 694\r\n    \t9   AppKit                              0x00007ff816fdaa2a -[NSView resizeSubviewsWithOldSize:] + 488\r\n    \t10  AppKit                              0x00007ff816fba206 -[NSView setFrameSize:] + 1446\r\n    \t11  AppKit                              0x00007ff816fca3a1 -[NSView setFrame:] + 347\r\n    \t12  AppKit                              0x00007ff816fdb0f9 -[NSView resizeWithOldSuperviewSize:] + 694\r\n    \t13  AppKit                              0x00007ff816fdaa2a -[NSView resizeSubviewsWithOldSize:] + 488\r\n    \t14  AppKit                              0x00007ff816fba206 -[NSView setFrameSize:] + 1446\r\n    \t15  AppKit                              0x00007ff816fd8e2d -[NSThemeFrame setFrameSize:] + 482\r\n    \t16  AppKit                              0x00007ff816fd84f4 -[NSWindow _oldPlaceWindow:fromServer:] + 813\r\n    \t17  AppKit                              0x00007ff816fd6ae5 -[NSWindow _setFrameCommon:display:fromServer:] + 1656\r\n    \t18  libglass.dylib                      0x00000001099e7c24 -[GlassWindow(Java) _setFlipFrame:display:animate:] + 228\r\n    \t19  libglass.dylib                      0x00000001099e776f -[GlassWindow(Java) _setWindowFrameWithRect:withDisplay:withAnimate:] + 255\r\n    \t20  libglass.dylib                      0x00000001099e79d9 -[GlassWindow(Java) _setBounds:y:xSet:ySet:w:h:cw:ch:] + 601\r\n    \t21  libglass.dylib                      0x0000000109a01353 Java_com_sun_glass_ui_mac_MacWindow__1setBounds2 + 435\r\n    \t22  ???                                 0x0000000116ebf365 0x0 + 4679529317\r\n    )\r\n    libc++abi: terminating with uncaught exception of type NSException\r\n    /Applications/InBetween_j17/Admin/IBAdmin.command: line 3: 42409 Abort trap: 6           ../Libraries/jre/bin/java -Xms1024m -Xmx4096m -Dlog4j.configurationFile=file://&quot;`dirname &quot;$0&quot;`&quot;/log4j2.xml -Djava.security.policy=java.policy -Dprism.order=sw,j2d --module-path &quot;../Libraries/javafx/lib&quot; --add-modules javafx.controls,javafx.fxml -classpath ./*:../Libraries/Core/IBCommon.jar:../Libraries/Core/IBStubs.jar:../Libraries/Core/IBCore.jar:../Libraries/Core/core.jar:../Libraries/lib/* -Xdock:icon=./IBAdmin.app/Contents/Resources/IB_Admin.icns application.IBAdmin\r\n\r\nIt works fine on other macs with m1 chips or any other chips. does any one have any clue as how to  solve this, I tried compiling with all the javafx sdks since 17. It was working fine with jdk 11 and javafx sdk 11. but we are now migrating everything to Java 17. and other latest versions.","title":"JavaFX application failing to launch on MacOS ventura with m2 chip. Assertion failure","body":"<p>I have a javaFX application which I am trying to launch in macOS ventura having m2 chip. I build the application in gradle 7.3.1 jdk 17.0.7 and javafx sdk 21. but when I go to launch it, it gives Assertion failure like below</p>\n<pre><code>   2023-09-26 21:06:14.194 java[42409:778654418] *** Assertion failure in -[_NSTrackingAreaAKViewHelper removeTrackingRect:], _NSTrackingAreaAKManager.m:1585\n2023-09-26 21:06:14.196 java[42409:778654418] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: '0x0 is an invalid NSTrackingRectTag. Common possible reasons for this are: 1. already removed this trackingRectTag, 2. Truncated the NSTrackingRectTag to 32bit at some point.'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x00007ff813fa5cd3 __exceptionPreprocess + 242\n    1   libobjc.A.dylib                     0x00007ff813af610a objc_exception_throw + 48\n    2   Foundation                          0x00007ff814d82fb0 -[NSCalendarDate initWithCoder:] + 0\n    3   AppKit                              0x00007ff81763e562 -[_NSTrackingAreaAKViewHelper removeTrackingRect:] + 190\n    4   libglass.dylib                      0x00000001099f068a -[GlassViewDelegate setFrameSize:] + 362\n    5   libglass.dylib                      0x00000001099f5fb8 -[GlassView3D setFrameSize:] + 88\n    6   AppKit                              0x00007ff816fca3a1 -[NSView setFrame:] + 347\n    7   libglass.dylib                      0x00000001099f6011 -[GlassView3D setFrame:] + 65\n    8   AppKit                              0x00007ff816fdb0f9 -[NSView resizeWithOldSuperviewSize:] + 694\n    9   AppKit                              0x00007ff816fdaa2a -[NSView resizeSubviewsWithOldSize:] + 488\n    10  AppKit                              0x00007ff816fba206 -[NSView setFrameSize:] + 1446\n    11  AppKit                              0x00007ff816fca3a1 -[NSView setFrame:] + 347\n    12  AppKit                              0x00007ff816fdb0f9 -[NSView resizeWithOldSuperviewSize:] + 694\n    13  AppKit                              0x00007ff816fdaa2a -[NSView resizeSubviewsWithOldSize:] + 488\n    14  AppKit                              0x00007ff816fba206 -[NSView setFrameSize:] + 1446\n    15  AppKit                              0x00007ff816fd8e2d -[NSThemeFrame setFrameSize:] + 482\n    16  AppKit                              0x00007ff816fd84f4 -[NSWindow _oldPlaceWindow:fromServer:] + 813\n    17  AppKit                              0x00007ff816fd6ae5 -[NSWindow _setFrameCommon:display:fromServer:] + 1656\n    18  libglass.dylib                      0x00000001099e7c24 -[GlassWindow(Java) _setFlipFrame:display:animate:] + 228\n    19  libglass.dylib                      0x00000001099e776f -[GlassWindow(Java) _setWindowFrameWithRect:withDisplay:withAnimate:] + 255\n    20  libglass.dylib                      0x00000001099e79d9 -[GlassWindow(Java) _setBounds:y:xSet:ySet:w:h:cw:ch:] + 601\n    21  libglass.dylib                      0x0000000109a01353 Java_com_sun_glass_ui_mac_MacWindow__1setBounds2 + 435\n    22  ???                                 0x0000000116ebf365 0x0 + 4679529317\n)\nlibc++abi: terminating with uncaught exception of type NSException\n/Applications/InBetween_j17/Admin/IBAdmin.command: line 3: 42409 Abort trap: 6           ../Libraries/jre/bin/java -Xms1024m -Xmx4096m -Dlog4j.configurationFile=file://&quot;`dirname &quot;$0&quot;`&quot;/log4j2.xml -Djava.security.policy=java.policy -Dprism.order=sw,j2d --module-path &quot;../Libraries/javafx/lib&quot; --add-modules javafx.controls,javafx.fxml -classpath ./*:../Libraries/Core/IBCommon.jar:../Libraries/Core/IBStubs.jar:../Libraries/Core/IBCore.jar:../Libraries/Core/core.jar:../Libraries/lib/* -Xdock:icon=./IBAdmin.app/Contents/Resources/IB_Admin.icns application.IBAdmin\n</code></pre>\n<p>It works fine on other macs with m1 chips or any other chips. does any one have any clue as how to  solve this, I tried compiling with all the javafx sdks since 17. It was working fine with jdk 11 and javafx sdk 11. but we are now migrating everything to Java 17. and other latest versions.</p>\n"},{"tags":["java","json","jsonschema","json-schema-validator"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1660134373,"post_id":73305460,"comment_id":129460367,"body_markdown":"Which library do you use for json validation?","body":"Which library do you use for json validation?"},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1660194763,"post_id":73305460,"comment_id":129476367,"body_markdown":"@Nemanja edit my question. Added library details","body":"@Nemanja edit my question. Added library details"}],"answers":[{"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":1,"creation_date":1660213635,"post_id":73318897,"comment_id":129482120,"body_markdown":"Seems likely your want to put the &quot;maxItems&quot; message inside &quot;foo&quot;, so you can have a different message for each array (of there were more arrays):  `&quot;foo&quot;: { ..., &quot;message&quot;: { &quot;maxItems&quot;: &quot;foo must contain 3 or fewer entries&quot; } }`","body":"Seems likely your want to put the &quot;maxItems&quot; message inside &quot;foo&quot;, so you can have a different message for each array (of there were more arrays):  <code>&quot;foo&quot;: { ..., &quot;message&quot;: { &quot;maxItems&quot;: &quot;foo must contain 3 or fewer entries&quot; } }</code>"}],"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660212452,"creation_date":1660212452,"answer_id":73318897,"question_id":73305460,"body_markdown":"According to [documentation][1] you can provide the custom message in the json schema itself but not in the way you did.\r\n\r\nFor example if you have JSON schema like this ( with default message) :\r\n\r\n    {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;firstName&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;description&quot;: &quot;The person&#39;s first name.&quot;\r\n        },\r\n        &quot;foo&quot;: {\r\n          &quot;type&quot;: &quot;array&quot;,\r\n          &quot;maxItems&quot;: 3\r\n        }\r\n      }\r\n    }\r\n\r\nYou can customize the error messagge by changing above JSON schema as follows:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;firstName&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;description&quot;: &quot;The person&#39;s first name.&quot;\r\n        },\r\n        &quot;foo&quot;: {\r\n          &quot;type&quot;: &quot;array&quot;,\r\n          &quot;maxItems&quot;: 3\r\n        }\r\n      },\r\n      &quot;message&quot;: {\r\n        &quot;maxItems&quot; : &quot;MaxItem must be 3 only&quot;,\r\n        &quot;type&quot; : &quot;Invalid type&quot;\r\n      }\r\n    }\r\n\r\n\r\nIn the message field users can declare their custom message. The key should be the validation type, and the value should be the custom message.\r\n\r\n    &quot;message&quot;: {\r\n        [validationType] : [customMessage]\r\n      }\r\n\r\nAlso, we can make format the dynamic message with properties returned from [ValidationMessage.java][2]class such as arguments, path e.t.c.\r\n\r\nTake a look at the [PR][3]\r\n\r\n\r\n\r\n  [1]: https://github.com/networknt/json-schema-validator/blob/master/doc/cust-msg.md\r\n  [2]: https://github.com/networknt/json-schema-validator/blob/master/src/main/java/com/networknt/schema/ValidationMessage.java\r\n  [3]: https://github.com/networknt/json-schema-validator/pull/438\r\n\r\n\r\nWith this setup, this line of code:\r\n\r\n     for (ValidationMessage error : errors) {\r\n            System.out.println(error.getMessage());\r\n        }\r\n\r\nShould print your customized error message. ","title":"How to get customised error message defined in Json Schema using json-schema-validator in java?","body":"<p>According to <a href=\"https://github.com/networknt/json-schema-validator/blob/master/doc/cust-msg.md\" rel=\"nofollow noreferrer\">documentation</a> you can provide the custom message in the json schema itself but not in the way you did.</p>\n<p>For example if you have JSON schema like this ( with default message) :</p>\n<pre><code>{\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;firstName&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;description&quot;: &quot;The person's first name.&quot;\n    },\n    &quot;foo&quot;: {\n      &quot;type&quot;: &quot;array&quot;,\n      &quot;maxItems&quot;: 3\n    }\n  }\n}\n</code></pre>\n<p>You can customize the error messagge by changing above JSON schema as follows:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;firstName&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;description&quot;: &quot;The person's first name.&quot;\n    },\n    &quot;foo&quot;: {\n      &quot;type&quot;: &quot;array&quot;,\n      &quot;maxItems&quot;: 3\n    }\n  },\n  &quot;message&quot;: {\n    &quot;maxItems&quot; : &quot;MaxItem must be 3 only&quot;,\n    &quot;type&quot; : &quot;Invalid type&quot;\n  }\n}\n</code></pre>\n<p>In the message field users can declare their custom message. The key should be the validation type, and the value should be the custom message.</p>\n<pre><code>&quot;message&quot;: {\n    [validationType] : [customMessage]\n  }\n</code></pre>\n<p>Also, we can make format the dynamic message with properties returned from <a href=\"https://github.com/networknt/json-schema-validator/blob/master/src/main/java/com/networknt/schema/ValidationMessage.java\" rel=\"nofollow noreferrer\">ValidationMessage.java</a>class such as arguments, path e.t.c.</p>\n<p>Take a look at the <a href=\"https://github.com/networknt/json-schema-validator/pull/438\" rel=\"nofollow noreferrer\">PR</a></p>\n<p>With this setup, this line of code:</p>\n<pre><code> for (ValidationMessage error : errors) {\n        System.out.println(error.getMessage());\n    }\n</code></pre>\n<p>Should print your customized error message.</p>\n"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695831683,"creation_date":1660130782,"question_id":73305460,"body_markdown":"I am trying to access customised error message set in json schema in my java code if validation fails. But I am not able to fetch that. Can you please help me in finding a way ?\r\n\r\nLibrary Plugin\r\n \r\n      &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.networknt&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.49&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nJson-Schema\r\n\r\n     &quot;membershipNo&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;minLength&quot;: 1,\r\n          &quot;message&quot;: {\r\n            &quot;pattern&quot;: &quot;membershipNo should not be empty&quot;\r\n          }\r\n        }\r\n\r\nThis is how I am fetching the error in Java Class-\r\n\r\n    JsonSchema schema = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V7).getSchema(schemaAsStream);\r\n    ObjectMapper om = new ObjectMapper();\r\n\t\tom.setPropertyNamingStrategy(PropertyNamingStrategies.KEBAB_CASE);\r\n\t\tJsonNode jsonNode = om.readTree(payload);\r\n\t\tSet&lt;ValidationMessage&gt; errors = schema.validate(jsonNode);\r\n\t\tfor (ValidationMessage error : errors) {\r\n\t\t\tSystem.out.println(error.getMessage());\r\n\t\t}\r\n\r\n    Error Getting- $.payment.membershipNo: must be at least 1 characters long&quot;\t\r\n    Error Expected - membershipNo should not be empty\t\r\n","title":"How to get customised error message defined in Json Schema using json-schema-validator in java?","body":"<p>I am trying to access customised error message set in json schema in my java code if validation fails. But I am not able to fetch that. Can you please help me in finding a way ?</p>\n<p>Library Plugin</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;com.networknt&lt;/groupId&gt;\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.0.49&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Json-Schema</p>\n<pre><code> &quot;membershipNo&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;minLength&quot;: 1,\n      &quot;message&quot;: {\n        &quot;pattern&quot;: &quot;membershipNo should not be empty&quot;\n      }\n    }\n</code></pre>\n<p>This is how I am fetching the error in Java Class-</p>\n<pre><code>JsonSchema schema = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V7).getSchema(schemaAsStream);\nObjectMapper om = new ObjectMapper();\n    om.setPropertyNamingStrategy(PropertyNamingStrategies.KEBAB_CASE);\n    JsonNode jsonNode = om.readTree(payload);\n    Set&lt;ValidationMessage&gt; errors = schema.validate(jsonNode);\n    for (ValidationMessage error : errors) {\n        System.out.println(error.getMessage());\n    }\n\nError Getting- $.payment.membershipNo: must be at least 1 characters long&quot;  \nError Expected - membershipNo should not be empty   \n</code></pre>\n"},{"tags":["java","ssl","spring-webclient","spring-oauth2","reactor-netty"],"owner":{"account_id":10704833,"reputation":9,"user_id":7878980,"display_name":"yungbroccoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695831142,"creation_date":1695641408,"question_id":77172269,"body_markdown":"The idea is to create a WebClient bean with OAuth2 filter, which using bearer token, when running certain request to the file upload service.\r\n\r\nThe issue is, that locally everything works with same token-uri, but when the service is deployed in the cluster, i get such error.\r\nAfter analyzing the issue it is obvious that it is not a certificate problem and not a proxy issue. Since i am able the correct certificate is being sent and also the connection to configuration of the oauth server is working. But when it comes to actual retrieval of the token, the ServerHello is being sent with the correct certificate without any response whatsoever.\r\n\r\nDoes anyone know how it may be resolved? Is it even the implementation issue on my side? Could it be an issue with closing sockets?\r\n\r\nHere is the code examples:\r\n\r\n        @Bean\r\n    WebClient webClientAuthorizedOAuth2(ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\r\n        var oauth2Client = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        oauth2Client.setDefaultClientRegistrationId(&quot;saml&quot;);\r\n        return WebClient.builder()\r\n                .filter(oauth2Client)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ReactiveOAuth2AuthorizedClientManager authorizedReactiveOAuth2ClientManager(\r\n            ReactiveClientRegistrationRepository clientRegistrationRepository) {\r\n\r\n        ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                ReactiveOAuth2AuthorizedClientProviderBuilder.builder()\r\n                        .clientCredentials()\r\n                        .refreshToken()\r\n                        .build();\r\n\r\n        var authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n                clientRegistrationRepository, new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrationRepository));\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n        return authorizedClientManager;\r\n    }\r\n\r\n    @Bean\r\n    ReactiveClientRegistrationRepository getRegistration(\r\n            @Value(&quot;${spring.security.oauth2.client.registration.saml}&quot;) String registrationId,\r\n            @Value(&quot;${spring.security.oauth2.client.provider.saml.token-uri}&quot;) String tokenUri,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.saml.client-id}&quot;) String clientId,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.saml.client-secret}&quot;) String clientSecret,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.saml.authorization-grant-type}&quot;) String authorizationGrandType,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.saml.client-authentication-method}&quot;) String clientAuthenticationMethod\r\n    ) {\r\n        ClientRegistration registration = ClientRegistration\r\n                .withRegistrationId(registrationId)\r\n                .tokenUri(tokenUri)\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .authorizationGrantType(new AuthorizationGrantType(authorizationGrandType))\r\n                .clientAuthenticationMethod(new ClientAuthenticationMethod(clientAuthenticationMethod))\r\n                .build();\r\n\r\n        return new InMemoryReactiveClientRegistrationRepository(registration);\r\n    }\r\n\r\nHere is the example of running the request to the resource server -&gt;\r\n\r\n    webClient.post()\r\n                .uri(url)\r\n                .body(bodyInserter)\r\n                .retrieve()\r\n                .onStatus(HttpStatusCode::isError, ClientResponse::createException)\r\n                .bodyToMono(DocumentResponse.class);\r\n\r\nUnfortunately i am getting an SSL Handshake error\r\n\r\n```\r\n2023-09-25T08:57:06.825Z  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [bcb324a4, L:/1y.2xx.x.1xx:6xxxx - R:saml.xxx.com/1xx.1xx.xx.xx:443] The connection observed an error\r\n\r\nio.netty.channel.unix.Errors$NativeIoException: recvAddress(..) failed: Connection reset by peer\r\n\r\njavax.net.ssl|ALL|53|reactor-http-epoll-2|2023-09-25 08:57:06.837 UTC|SSLEngineImpl.java:825|Closing outbound of SSLEngine\r\njavax.net.ssl|ALL|53|reactor-http-epoll-2|2023-09-25 08:57:06.837 UTC|SSLEngineImpl.java:786|Closing inbound of SSLEngine\r\n2023-09-25T08:57:06.838Z  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [bcb324a4, L:/1x.2xx.x.1xxx:6xxxx ! R:saml.xxx.com/1xx.1xx.xx.xx:443] The connection observed an error\r\n\r\njava.nio.channels.ClosedChannelException: null\r\n\tat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1150) ~[netty-handler-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413) ~[netty-transport-classes-epoll-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\tSuppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress\r\n\t\tat io.netty.handler.ssl.SslHandler.channelInactive(Unknown Source) ~[netty-handler-4.1.97.Final.jar!/:4.1.97.Final]\r\n```\r\n\r\nThank you in advance!\r\n","title":"io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress","body":"<p>The idea is to create a WebClient bean with OAuth2 filter, which using bearer token, when running certain request to the file upload service.</p>\n<p>The issue is, that locally everything works with same token-uri, but when the service is deployed in the cluster, i get such error.\nAfter analyzing the issue it is obvious that it is not a certificate problem and not a proxy issue. Since i am able the correct certificate is being sent and also the connection to configuration of the oauth server is working. But when it comes to actual retrieval of the token, the ServerHello is being sent with the correct certificate without any response whatsoever.</p>\n<p>Does anyone know how it may be resolved? Is it even the implementation issue on my side? Could it be an issue with closing sockets?</p>\n<p>Here is the code examples:</p>\n<pre><code>    @Bean\nWebClient webClientAuthorizedOAuth2(ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\n    var oauth2Client = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    oauth2Client.setDefaultClientRegistrationId(&quot;saml&quot;);\n    return WebClient.builder()\n            .filter(oauth2Client)\n            .build();\n}\n\n@Bean\npublic ReactiveOAuth2AuthorizedClientManager authorizedReactiveOAuth2ClientManager(\n        ReactiveClientRegistrationRepository clientRegistrationRepository) {\n\n    ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\n            ReactiveOAuth2AuthorizedClientProviderBuilder.builder()\n                    .clientCredentials()\n                    .refreshToken()\n                    .build();\n\n    var authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n            clientRegistrationRepository, new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrationRepository));\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n    return authorizedClientManager;\n}\n\n@Bean\nReactiveClientRegistrationRepository getRegistration(\n        @Value(&quot;${spring.security.oauth2.client.registration.saml}&quot;) String registrationId,\n        @Value(&quot;${spring.security.oauth2.client.provider.saml.token-uri}&quot;) String tokenUri,\n        @Value(&quot;${spring.security.oauth2.client.registration.saml.client-id}&quot;) String clientId,\n        @Value(&quot;${spring.security.oauth2.client.registration.saml.client-secret}&quot;) String clientSecret,\n        @Value(&quot;${spring.security.oauth2.client.registration.saml.authorization-grant-type}&quot;) String authorizationGrandType,\n        @Value(&quot;${spring.security.oauth2.client.registration.saml.client-authentication-method}&quot;) String clientAuthenticationMethod\n) {\n    ClientRegistration registration = ClientRegistration\n            .withRegistrationId(registrationId)\n            .tokenUri(tokenUri)\n            .clientId(clientId)\n            .clientSecret(clientSecret)\n            .authorizationGrantType(new AuthorizationGrantType(authorizationGrandType))\n            .clientAuthenticationMethod(new ClientAuthenticationMethod(clientAuthenticationMethod))\n            .build();\n\n    return new InMemoryReactiveClientRegistrationRepository(registration);\n}\n</code></pre>\n<p>Here is the example of running the request to the resource server -&gt;</p>\n<pre><code>webClient.post()\n            .uri(url)\n            .body(bodyInserter)\n            .retrieve()\n            .onStatus(HttpStatusCode::isError, ClientResponse::createException)\n            .bodyToMono(DocumentResponse.class);\n</code></pre>\n<p>Unfortunately i am getting an SSL Handshake error</p>\n<pre><code>2023-09-25T08:57:06.825Z  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [bcb324a4, L:/1y.2xx.x.1xx:6xxxx - R:saml.xxx.com/1xx.1xx.xx.xx:443] The connection observed an error\n\nio.netty.channel.unix.Errors$NativeIoException: recvAddress(..) failed: Connection reset by peer\n\njavax.net.ssl|ALL|53|reactor-http-epoll-2|2023-09-25 08:57:06.837 UTC|SSLEngineImpl.java:825|Closing outbound of SSLEngine\njavax.net.ssl|ALL|53|reactor-http-epoll-2|2023-09-25 08:57:06.837 UTC|SSLEngineImpl.java:786|Closing inbound of SSLEngine\n2023-09-25T08:57:06.838Z  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [bcb324a4, L:/1x.2xx.x.1xxx:6xxxx ! R:saml.xxx.com/1xx.1xx.xx.xx:443] The connection observed an error\n\njava.nio.channels.ClosedChannelException: null\n    at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1150) ~[netty-handler-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813) ~[netty-transport-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413) ~[netty-transport-classes-epoll-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.97.Final.jar!/:4.1.97.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress\n        at io.netty.handler.ssl.SslHandler.channelInactive(Unknown Source) ~[netty-handler-4.1.97.Final.jar!/:4.1.97.Final]\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","performance","jasper-reports"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695202139,"post_id":77140987,"comment_id":135991393,"body_markdown":"I use to do this all the time, we had a build step which would compile the reports as part build process and the load the compll I’ll ed reports at runtime - [this example](https://stackoverflow.com/questions/34086377/printing-a-jpanel-with-scrollable-jtable-on-it/34146067#34146067) demonstrates the runtime loading - you’ll have dig for it","body":"I use to do this all the time, we had a build step which would compile the reports as part build process and the load the compll I’ll ed reports at runtime - <a href=\"https://stackoverflow.com/questions/34086377/printing-a-jpanel-with-scrollable-jtable-on-it/34146067#34146067\">this example</a> demonstrates the runtime loading - you’ll have dig for it"}],"owner":{"account_id":29033046,"reputation":11,"user_id":22239522,"display_name":"vaibhav burgute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695830794,"creation_date":1695201399,"question_id":77140987,"body_markdown":"I am having multiple jasper reports in D Drive, Now I am compiling jasper reports by taking values from request. It increasing processing time. Now its taking 5 min for creating 30 pdf files I want to minimize it to the 2-3 second, How I can achieve it?\r\n\r\n\r\n```\r\npackage com.intellect.custodyedge;\r\n\r\nimport com.zaxxer.hikari.HikariConfig;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport net.sf.jasperreports.engine.*;\r\nimport net.sf.jasperreports.engine.export.JRCsvExporter;\r\nimport net.sf.jasperreports.engine.export.JRPdfExporter;\r\nimport net.sf.jasperreports.engine.fill.JRFileVirtualizer;\r\nimport net.sf.jasperreports.export.SimpleExporterInput;\r\nimport net.sf.jasperreports.export.SimpleOutputStreamExporterOutput;\r\nimport net.sf.jasperreports.export.SimpleWriterExporterOutput;\r\nimport org.json.JSONObject;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.sql.Connection;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/report&quot;)\r\npublic class GenController {\r\n\r\n    private static final ExecutorService executorService;\r\n    private static final String commonPath = &quot;D:\\\\Jasper\\\\CustodyEdgeReports\\\\CustodyEdgeReports\\\\&quot;;\r\n    private static final HikariDataSource dataSource;\r\n    private static JasperReport jasperReport;\r\n    static {\r\n        HikariConfig config = new HikariConfig();\r\n        config.setJdbcUrl(&quot;jdbc:oracle:thin:@172.16.26.18:1521:SIR19774&quot;);\r\n        config.setUsername(&quot;ICUSTADM&quot;);\r\n        config.setPassword(&quot;ICUSTADM&quot;);\r\n        dataSource = new HikariDataSource(config);\r\n//\t\ttry {\r\n////\t\t\tString reportFileName = commonPath + &quot;reportTemplate.jrxml&quot;;\r\n////\t\t\tjasperReport = JasperCompileManager.compileReport(reportFileName);\r\n//\t\t} catch (JRException e) {\r\n//\t\t\te.printStackTrace();\r\n//\t\t\tthrow new RuntimeException(&quot;Failed to compile the report template.&quot;);\r\n//\t\t}\r\n        executorService = Executors.newFixedThreadPool(10);\r\n\r\n    }\r\n\r\n    @PostMapping(&quot;/generate&quot;)\r\n    public ResponseEntity generateReports(@RequestBody String requestBody) throws JRException, InterruptedException {\r\n\r\n        try (Connection con = dataSource.getConnection()) {\r\n            JSONObject json = new JSONObject(requestBody);\r\n\r\n            Properties properties = new Properties();\r\n            try (InputStream inputStream = getClass().getResourceAsStream(&quot;/GN_CommonReports.properties&quot;)) {\r\n                properties.load(inputStream);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Failed to read properties from the GN_CommonReports.properties file.&quot;);\r\n            }\r\n\r\n            String menuID = json.getString(&quot;menuID&quot;);\r\n\r\n            String reportIdfromPro_file = menuID + &quot;.REPORTID&quot;;\r\n            String reportId = properties.getProperty(reportIdfromPro_file);\r\n\r\n            String reportTitlefromPro_file = menuID + &quot;.REPORTTITLE&quot;;\r\n            String reportTitle = properties.getProperty(reportTitlefromPro_file);\r\n            String reportFileName = commonPath + reportTitle + &quot;.jrxml&quot;;\r\n            String format = json.getString(&quot;FORMAT&quot;);\r\n            String compressFlag = json.getString(&quot;COMPRESSFLAG&quot;);\r\n\r\n            // Compile the Jasper report\r\n            JasperReport jasperReport = JasperCompileManager.compileReport(reportFileName);\r\n            String reportFieldfromPro_file = menuID + &quot;.REPORTFIELDS&quot;;\r\n            String reportfield = properties.getProperty(reportFieldfromPro_file);\r\n            List&lt;String&gt; fieldNames = Arrays.asList(reportfield.split(&quot;,&quot;));\r\n\r\n            Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; fieldNames.size(); i++) {\r\n                parameters.put(fieldNames.get(i), json.get(fieldNames.get(i)));\r\n            }\r\n\r\n            // Fill the report with data\r\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, con);\r\n\r\n            // Generate the reports in parallel using ExecutorService\r\n            ExecutorService executor = Executors.newFixedThreadPool(3);\r\n            List&lt;String&gt; formats = Arrays.asList(&quot;PDF&quot;, &quot;CSV&quot;, &quot;XML&quot;);\r\n            formats.forEach(f -&gt; {\r\n                executor.submit(() -&gt; {\r\n                    try {\r\n                        if (&quot;PDF&quot;.equalsIgnoreCase(format) &amp;&amp; &quot;Y&quot;.equalsIgnoreCase(compressFlag)) {\r\n\r\n                            String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date());\r\n                            String outputFileName = reportTitle + timeStamp + &quot;.pdf&quot;;\r\n                            JRFileVirtualizer virtualizer = new JRFileVirtualizer(100, &quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot; + outputFileName);\r\n                            virtualizer.setReadOnly(false);\r\n                            jasperPrint.setProperty(&quot;net.sf.jasperreports.virtualizer&quot;, virtualizer.toString());\r\n\r\n                            // Export the report to compressed PDF\r\n                            JRPdfExporter exporter = new JRPdfExporter();\r\n                            exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\r\n                            exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(&quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot; + outputFileName));\r\n                            exporter.exportReport();\r\n                            virtualizer.cleanup();\r\n\r\n                        } else if (&quot;CSV&quot;.equalsIgnoreCase(format) &amp;&amp; &quot;Y&quot;.equalsIgnoreCase(compressFlag)) {\r\n                            String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date());\r\n                            String outputFileName = reportTitle + timeStamp + &quot;.pdf&quot;;\r\n                            JRFileVirtualizer virtualizer = new JRFileVirtualizer(10, &quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot;);\r\n                            virtualizer.setReadOnly(false);\r\n                            jasperPrint.setProperty(&quot;net.sf.jasperreports.virtualizer&quot;, virtualizer.toString());\r\n\r\n                            // Export the report to CSV\r\n                            JRCsvExporter exporter = new JRCsvExporter();\r\n                            exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\r\n                            exporter.setExporterOutput(new SimpleWriterExporterOutput(\r\n                                    &quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot; + outputFileName));\r\n                            exporter.exportReport();\r\n                            virtualizer.cleanup();\r\n\r\n                        } else {\r\n                            System.err.println(&quot;Unsupported format: &quot; + format);\r\n                        }\r\n                    } catch (JRException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n            });\r\n            executor.shutdown();\r\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n\r\n            System.out.println(&quot;DONE&quot;);\r\n            return ResponseEntity.ok(HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error generating reports&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nStill not having any effect on performance and not able to achieve that finishing time. ","title":"How to compile jasper report only once and reuse while having dynamic inputs for 100k pdf creation","body":"<p>I am having multiple jasper reports in D Drive, Now I am compiling jasper reports by taking values from request. It increasing processing time. Now its taking 5 min for creating 30 pdf files I want to minimize it to the 2-3 second, How I can achieve it?</p>\n<pre><code>package com.intellect.custodyedge;\n\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\nimport jakarta.servlet.http.HttpServletRequest;\nimport net.sf.jasperreports.engine.*;\nimport net.sf.jasperreports.engine.export.JRCsvExporter;\nimport net.sf.jasperreports.engine.export.JRPdfExporter;\nimport net.sf.jasperreports.engine.fill.JRFileVirtualizer;\nimport net.sf.jasperreports.export.SimpleExporterInput;\nimport net.sf.jasperreports.export.SimpleOutputStreamExporterOutput;\nimport net.sf.jasperreports.export.SimpleWriterExporterOutput;\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.sql.Connection;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\n@RestController\n@RequestMapping(&quot;/report&quot;)\npublic class GenController {\n\n    private static final ExecutorService executorService;\n    private static final String commonPath = &quot;D:\\\\Jasper\\\\CustodyEdgeReports\\\\CustodyEdgeReports\\\\&quot;;\n    private static final HikariDataSource dataSource;\n    private static JasperReport jasperReport;\n    static {\n        HikariConfig config = new HikariConfig();\n        config.setJdbcUrl(&quot;jdbc:oracle:thin:@172.16.26.18:1521:SIR19774&quot;);\n        config.setUsername(&quot;ICUSTADM&quot;);\n        config.setPassword(&quot;ICUSTADM&quot;);\n        dataSource = new HikariDataSource(config);\n//      try {\n////            String reportFileName = commonPath + &quot;reportTemplate.jrxml&quot;;\n////            jasperReport = JasperCompileManager.compileReport(reportFileName);\n//      } catch (JRException e) {\n//          e.printStackTrace();\n//          throw new RuntimeException(&quot;Failed to compile the report template.&quot;);\n//      }\n        executorService = Executors.newFixedThreadPool(10);\n\n    }\n\n    @PostMapping(&quot;/generate&quot;)\n    public ResponseEntity generateReports(@RequestBody String requestBody) throws JRException, InterruptedException {\n\n        try (Connection con = dataSource.getConnection()) {\n            JSONObject json = new JSONObject(requestBody);\n\n            Properties properties = new Properties();\n            try (InputStream inputStream = getClass().getResourceAsStream(&quot;/GN_CommonReports.properties&quot;)) {\n                properties.load(inputStream);\n            } catch (IOException e) {\n                e.printStackTrace();\n                throw new RuntimeException(&quot;Failed to read properties from the GN_CommonReports.properties file.&quot;);\n            }\n\n            String menuID = json.getString(&quot;menuID&quot;);\n\n            String reportIdfromPro_file = menuID + &quot;.REPORTID&quot;;\n            String reportId = properties.getProperty(reportIdfromPro_file);\n\n            String reportTitlefromPro_file = menuID + &quot;.REPORTTITLE&quot;;\n            String reportTitle = properties.getProperty(reportTitlefromPro_file);\n            String reportFileName = commonPath + reportTitle + &quot;.jrxml&quot;;\n            String format = json.getString(&quot;FORMAT&quot;);\n            String compressFlag = json.getString(&quot;COMPRESSFLAG&quot;);\n\n            // Compile the Jasper report\n            JasperReport jasperReport = JasperCompileManager.compileReport(reportFileName);\n            String reportFieldfromPro_file = menuID + &quot;.REPORTFIELDS&quot;;\n            String reportfield = properties.getProperty(reportFieldfromPro_file);\n            List&lt;String&gt; fieldNames = Arrays.asList(reportfield.split(&quot;,&quot;));\n\n            Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n            for (int i = 0; i &lt; fieldNames.size(); i++) {\n                parameters.put(fieldNames.get(i), json.get(fieldNames.get(i)));\n            }\n\n            // Fill the report with data\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, con);\n\n            // Generate the reports in parallel using ExecutorService\n            ExecutorService executor = Executors.newFixedThreadPool(3);\n            List&lt;String&gt; formats = Arrays.asList(&quot;PDF&quot;, &quot;CSV&quot;, &quot;XML&quot;);\n            formats.forEach(f -&gt; {\n                executor.submit(() -&gt; {\n                    try {\n                        if (&quot;PDF&quot;.equalsIgnoreCase(format) &amp;&amp; &quot;Y&quot;.equalsIgnoreCase(compressFlag)) {\n\n                            String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date());\n                            String outputFileName = reportTitle + timeStamp + &quot;.pdf&quot;;\n                            JRFileVirtualizer virtualizer = new JRFileVirtualizer(100, &quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot; + outputFileName);\n                            virtualizer.setReadOnly(false);\n                            jasperPrint.setProperty(&quot;net.sf.jasperreports.virtualizer&quot;, virtualizer.toString());\n\n                            // Export the report to compressed PDF\n                            JRPdfExporter exporter = new JRPdfExporter();\n                            exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\n                            exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(&quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot; + outputFileName));\n                            exporter.exportReport();\n                            virtualizer.cleanup();\n\n                        } else if (&quot;CSV&quot;.equalsIgnoreCase(format) &amp;&amp; &quot;Y&quot;.equalsIgnoreCase(compressFlag)) {\n                            String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date());\n                            String outputFileName = reportTitle + timeStamp + &quot;.pdf&quot;;\n                            JRFileVirtualizer virtualizer = new JRFileVirtualizer(10, &quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot;);\n                            virtualizer.setReadOnly(false);\n                            jasperPrint.setProperty(&quot;net.sf.jasperreports.virtualizer&quot;, virtualizer.toString());\n\n                            // Export the report to CSV\n                            JRCsvExporter exporter = new JRCsvExporter();\n                            exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\n                            exporter.setExporterOutput(new SimpleWriterExporterOutput(\n                                    &quot;D:\\\\jasper\\\\JasperFrameworkPdf\\\\&quot; + outputFileName));\n                            exporter.exportReport();\n                            virtualizer.cleanup();\n\n                        } else {\n                            System.err.println(&quot;Unsupported format: &quot; + format);\n                        }\n                    } catch (JRException e) {\n                        e.printStackTrace();\n                    }\n                });\n            });\n            executor.shutdown();\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n\n            System.out.println(&quot;DONE&quot;);\n            return ResponseEntity.ok(HttpStatus.OK);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error generating reports&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Still not having any effect on performance and not able to achieve that finishing time.</p>\n"},{"tags":["java","kotlin","android-studio","unity-game-engine","3d"],"owner":{"account_id":12936734,"reputation":29,"user_id":9353821,"display_name":"Aparna Thampy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695830529,"creation_date":1695789369,"question_id":77184699,"body_markdown":"I have a .obj file which i need to load in native android app. in future in there will be more interaction and elements added arround it. \r\n\r\n\r\ntried with opengl and few other 3rd party library all came to a dead end.\r\n\r\ntried with unity nut unable to generate a android build in it as it is saying build error.\r\n\r\n\r\n","title":"load 3D model file (.obj)in native android application in studio","body":"<p>I have a .obj file which i need to load in native android app. in future in there will be more interaction and elements added arround it.</p>\n<p>tried with opengl and few other 3rd party library all came to a dead end.</p>\n<p>tried with unity nut unable to generate a android build in it as it is saying build error.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695798610,"post_id":77185214,"comment_id":136070723,"body_markdown":"For starters stop mixing versions (you are mixing 3.0.3 and 3.0.6) and introducing random dependencies (spring-jdbc with a version). Please include the packages of the classes you posted (or at least make sure they are under `com.mootoholdings.ecommserver` else they won&#39;t get detected.","body":"For starters stop mixing versions (you are mixing 3.0.3 and 3.0.6) and introducing random dependencies (spring-jdbc with a version). Please include the packages of the classes you posted (or at least make sure they are under <code>com.mootoholdings.ecommserver</code> else they won&#39;t get detected."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1695800801,"post_id":77185214,"comment_id":136071142,"body_markdown":"can you please add code for class **JWTService.java**","body":"can you please add code for class <b>JWTService.java</b>"},{"owner":{"account_id":25756242,"reputation":73,"user_id":19507859,"display_name":"Bright"},"score":0,"creation_date":1695801204,"post_id":77185214,"comment_id":136071230,"body_markdown":"@M.Deinum added an image for folder structure and package names.","body":"@M.Deinum added an image for folder structure and package names."},{"owner":{"account_id":25756242,"reputation":73,"user_id":19507859,"display_name":"Bright"},"score":0,"creation_date":1695801209,"post_id":77185214,"comment_id":136071232,"body_markdown":"@VasanthSubramanian jwt service included","body":"@VasanthSubramanian jwt service included"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695802832,"post_id":77185214,"comment_id":136071483,"body_markdown":"What is in the config package? Which Java version is in use, how are you running things? The `maven-compiler-plugin` isn&#39;t really needed as Spring Boot already configures that properly.","body":"What is in the config package? Which Java version is in use, how are you running things? The <code>maven-compiler-plugin</code> isn&#39;t really needed as Spring Boot already configures that properly."},{"owner":{"account_id":25756242,"reputation":73,"user_id":19507859,"display_name":"Bright"},"score":0,"creation_date":1695804307,"post_id":77185214,"comment_id":136071785,"body_markdown":"@M.Deinum it has three main things, the Application Config, Jwt Filter and the Security Config. My hunch is that it has nothing to do with the configs because this code if pushed is working just fine on elastic beanstalk, and it worked before on my previous laptop. However i feel it could have something to do with the dependencies. The Java version is 17","body":"@M.Deinum it has three main things, the Application Config, Jwt Filter and the Security Config. My hunch is that it has nothing to do with the configs because this code if pushed is working just fine on elastic beanstalk, and it worked before on my previous laptop. However i feel it could have something to do with the dependencies. The Java version is 17"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695804581,"post_id":77185214,"comment_id":136071842,"body_markdown":"Then run it on the other machines. The fact that it runs on other machines doesn&#39;t say that much, different OS, different Java version, different environment variables etc. etc. all influence things. As stated don&#39;t mix version of a framework (you do) as that is trouble waiting to happen (which means youa re trying to outsmart the Spring Boot dependency management and config). Finally I asked the question how are you running things, this is something you haven&#39;t answered.","body":"Then run it on the other machines. The fact that it runs on other machines doesn&#39;t say that much, different OS, different Java version, different environment variables etc. etc. all influence things. As stated don&#39;t mix version of a framework (you do) as that is trouble waiting to happen (which means youa re trying to outsmart the Spring Boot dependency management and config). Finally I asked the question how are you running things, this is something you haven&#39;t answered."},{"owner":{"account_id":25756242,"reputation":73,"user_id":19507859,"display_name":"Bright"},"score":0,"creation_date":1695804985,"post_id":77185214,"comment_id":136071927,"body_markdown":"@M.Deinum what do you mean by how am i running things? With the play button in intellij. Previous machine was windows, worked on that machine, current is windows, not working. Same OS, same Java Version, same Environment Variables. One works one doesnt.","body":"@M.Deinum what do you mean by how am i running things? With the play button in intellij. Previous machine was windows, worked on that machine, current is windows, not working. Same OS, same Java Version, same Environment Variables. One works one doesnt."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695805451,"post_id":77185214,"comment_id":136072023,"body_markdown":"That at least answers how you are running things. if you state they are the same do a compare between the systems. There must be something different could even be your run configuration (same intellij versions/editions?)","body":"That at least answers how you are running things. if you state they are the same do a compare between the systems. There must be something different could even be your run configuration (same intellij versions/editions?)"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695822263,"post_id":77185214,"comment_id":136075483,"body_markdown":"It is IMPOSSIBLE for us to answer your question if it is your machine setup since none of us can reproduce your setup, and you have not provided enough information for anyone of us to replicate your problem. We cant spend hours asking you ”have you done this, have you done that, etc etc”","body":"It is IMPOSSIBLE for us to answer your question if it is your machine setup since none of us can reproduce your setup, and you have not provided enough information for anyone of us to replicate your problem. We cant spend hours asking you ”have you done this, have you done that, etc etc”"}],"answers":[{"tags":[],"owner":{"account_id":25756242,"reputation":73,"user_id":19507859,"display_name":"Bright"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695830472,"creation_date":1695830472,"answer_id":77189132,"question_id":77185214,"body_markdown":"Did a complete debug and it boils down to the Laptop name. The original name has a space in it and so when it starts to search for repositories within the project it fails and cancels the search. To fix this i just created another account and moved the project to the Public folder cause im unable to change the laptop name, now everything works just fine.","title":"Springboot application not recognizing any @RestController or @Service, and i think the @Repository too","body":"<p>Did a complete debug and it boils down to the Laptop name. The original name has a space in it and so when it starts to search for repositories within the project it fails and cancels the search. To fix this i just created another account and moved the project to the Public folder cause im unable to change the laptop name, now everything works just fine.</p>\n"}],"owner":{"account_id":25756242,"reputation":73,"user_id":19507859,"display_name":"Bright"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77189132,"answer_count":1,"score":2,"last_activity_date":1695830472,"creation_date":1695797587,"question_id":77185214,"body_markdown":"I have springboot application which i was working on, on a different computer, i cloned the project from github and set up my intellij, installed all dependencies and tried to run the program. \r\n\r\nThe first thing i notice is that the security configuration is bypassed. A password is generated for me despite me having a Config file in place. When i open localhost:8080 and login, all endpoints dont work either.\r\n\r\nAll of these worked on my previous computer on the same version of intellij.\r\n\r\n- I have tried Using @ComponentScan but I still get the same result.\r\n- I have added this line to my application.properties `logging.level.org.springframework.web=TRACE` and it only shows that one endpoint is avalible, &quot;/error&quot;\r\n\r\nthis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.appholdings&lt;/groupId&gt;\r\n    &lt;artifactId&gt;appname&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;appname&lt;/name&gt;\r\n    &lt;description&gt;appname&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.429&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-docs&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;backend&gt;html&lt;/backend&gt;\r\n                            &lt;doctype&gt;book&lt;/doctype&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSecurity Config\r\n```\r\npackage com.mootoholdings.ecommserver.config;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http ) throws Exception {\r\n        http.cors().and()\r\n                .authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/products/**&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/categories&quot;, &quot;/api/categories/*&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/&quot;).permitAll()\r\n//                        .anyRequest().authenticated()\r\n                                .anyRequest().permitAll()\r\n                )\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;*&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;HEAD&quot;,\r\n                &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n        // setAllowCredentials(true) is important, otherwise:\r\n        // The value of the &#39;Access-Control-Allow-Origin&#39; header in the response must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;.\r\n        configuration.setAllowCredentials(false);\r\n        // setAllowedHeaders is important! Without it, OPTIONS preflight request\r\n        // will fail with 403 Invalid CORS request\r\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAuthentication Filter\r\n```\r\nimport com.mootoholdings.ecommserver.service.JWTService;\r\n\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JWTService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer&quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        jwt = authHeader.substring(7);\r\n\r\n        userEmail = jwtService.decodeUsername(jwt);\r\n\r\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if(jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n         try {\r\n            // something may throw an exception\r\n            filterChain.doFilter(request, response);\r\n         } catch (ServletException | IOException e) {\r\n             log.error(e.getMessage());\r\n         }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nmy Application entry point\r\n\r\n```\r\npackage com.mootoholdings.ecommserver;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class EcommserverApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EcommserverApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\njwt service\r\n```\r\npackage com.mootoholdings.ecommserver.service;\r\n\r\n@Slf4j\r\n@Service\r\npublic class JWTService {\r\n    private final SupplierRepository supplierRepository;\r\n\r\n    private final UserRepository userRepository;\r\n    private final RiderRepository riderRepository;\r\n    private final AdminRepository adminRepository;\r\n    private final DistributorRepository distributorRepository;\r\n\r\n    public JWTService(UserRepository userRepository,\r\n                      RiderRepository riderRepository,\r\n                      AdminRepository adminRepository,\r\n                      DistributorRepository distributorRepository,\r\n                      SupplierRepository supplierRepository) {\r\n        this.userRepository = userRepository;\r\n        this.riderRepository = riderRepository;\r\n        this.adminRepository = adminRepository;\r\n        this.distributorRepository = distributorRepository;\r\n\r\n        this.supplierRepository = supplierRepository;\r\n    }\r\n\r\n    @Value(&quot;${SECRET_KEY}&quot;)\r\n    private String SECRET_KEY;\r\n\r\n    // Extracts Username\r\n    public String decodeUsername(String token){\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public String decodeUserId(String token){\r\n        return extractClaim(token, Claims::getId);\r\n    }\r\n\r\n    public String extractFirstRole(String token) {\r\n        List&lt;SimpleGrantedAuthority&gt; rolesClaim = extractClaim(token, claims -&gt;\r\n                ((List&lt;?&gt;) claims.get(&quot;roles&quot;)).stream()\r\n                        .map(authority -&gt; new SimpleGrantedAuthority(authority.toString()))\r\n                        .collect(Collectors.toList())\r\n        );\r\n        if (!rolesClaim.isEmpty()) {\r\n            String roleString = rolesClaim.get(0).getAuthority().split(&quot;=&quot;)[1];\r\n            return roleString.substring(0, roleString.length() - 1);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    // Extract claims from token\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver){\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    // Makes new token\r\n    public String genToken(UserDetails userDetails, String role){\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails, role);\r\n    }\r\n\r\n    // Makes new token\r\n    public String generateToken(\r\n            Map&lt;String, Object&gt; extraClaims,\r\n            UserDetails userDetails,\r\n            String role\r\n    ){\r\n        if (Objects.equals(role, &quot;DISTRIBUTOR&quot;)){\r\n            log.info(&quot;In distributor&quot;);\r\n            Distributor distributor = distributorRepository.findDistributorByEmail(userDetails.getUsername());\r\n            return getJwt(extraClaims, userDetails, distributor.getId(), distributor.getFirstName(), distributor.getLastName());\r\n        }\r\n        else if (Objects.equals(role, &quot;SUPPLIER&quot;)){\r\n            log.info(&quot;In supplier&quot;);\r\n            Supplier supplier = supplierRepository.findSupplierByEmail(userDetails.getUsername());\r\n            log.info(&quot;attempting get JWT&quot;);\r\n            return getJwt(extraClaims, userDetails, supplier.getId(), supplier.getFirstName(), supplier.getLastName());\r\n        }\r\n        else if (Objects.equals(role, &quot;RIDER&quot;)){\r\n            log.info(&quot;In rider&quot;);\r\n            Rider rider = riderRepository.findRiderByEmail(userDetails.getUsername());\r\n            log.info(&quot;attempting get JWT&quot;);\r\n            return getJwt(extraClaims, userDetails, rider.getId(), rider.getFirstName(), rider.getLastName());\r\n        }\r\n        else if (Objects.equals(role, &quot;ADMIN&quot;)){\r\n            log.info(&quot;In admin&quot;);\r\n            Admin admin = adminRepository.findAdminByEmail(userDetails.getUsername());\r\n            return getJwt(extraClaims, userDetails, admin.getId(), admin.getFirstName(), admin.getLastName());\r\n        }\r\n        else {\r\n            log.info(&quot;In User&quot;);\r\n            User user = userRepository.findUserByEmail(userDetails.getUsername());\r\n            return getJwt(extraClaims, userDetails, user.getId(), user.getFirstName(), user.getLastName());\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private String getJwt(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails, long id, String firstName, String lastName) {\r\n        return Jwts.builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .claim (&quot;id&quot;, id)\r\n                .claim(&quot;firstName&quot;, firstName)\r\n                .claim(&quot;lastName&quot;, lastName)\r\n                .claim(&quot;roles&quot;, userDetails.getAuthorities())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 5))\r\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    // Validate token\r\n    public boolean isTokenValid(String token, UserDetails userDetails){\r\n        final String username = decodeUsername(token);\r\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token){\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token){\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims (String token){\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n}\r\n\r\n```\r\n\r\napplication.properties\r\n```\r\n spring.datasource.url=jdbc:mysql://localhost:3306/ecommdb?sessionVariables=sql_mode=&#39;NO_ENGINE_SUBSTITUTION&#39;&amp;jdbcCompliantTruncation=false\r\n spring.datasource.username=user\r\n spring.datasource.password=user\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\n\r\nlogging.level.org.springframework.web=TRACE\r\n\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.use_sql_comments=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.servlet.multipart.enabled=true\r\nspring.servlet.multipart.file-size-threshold=2KB\r\nspring.servlet.multipart.max-file-size=200MB\r\nspring.servlet.multipart.max-request-size=215MB\r\n```\r\n\r\nApplication Config\r\n```\r\npackage com.mootoholdings.ecommserver.config;\r\n\r\n\r\n@Slf4j\r\n@Configuration\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository userRepository;\r\n    private final AdminRepository adminRepository;\r\n    private final RiderRepository riderRepository;\r\n    private final DistributorRepository distributorRepository;\r\n    private final SupplierRepository supplierRepository;\r\n\r\n    public ApplicationConfig(UserRepository userRepository, AdminRepository adminRepository,\r\n            RiderRepository riderRepository, DistributorRepository distributorRepository,\r\n            SupplierRepository supplierRepository) {\r\n        this.userRepository = userRepository;\r\n        this.adminRepository = adminRepository;\r\n        this.riderRepository = riderRepository;\r\n        this.distributorRepository = distributorRepository;\r\n        this.supplierRepository = supplierRepository;\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; {\r\n            Optional&lt;Rider&gt; rider = riderRepository.findByEmail(username);\r\n            if (rider.isPresent()) {\r\n                log.info(&quot;authenticating rider&quot;);\r\n                return new org.springframework.security.core.userdetails.User(rider.get().getEmail(),\r\n                        rider.get().getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            Optional&lt;User&gt; user = userRepository.findByEmail(username);\r\n            if (user.isPresent()) {\r\n                log.info(&quot;authenticating user&quot;);\r\n                return new org.springframework.security.core.userdetails.User(user.get().getEmail(),\r\n                        user.get().getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            Optional&lt;Admin&gt; admin = adminRepository.findByEmail(username);\r\n            if (admin.isPresent()) {\r\n                log.info(&quot;authenticating admin&quot;);\r\n                return new org.springframework.security.core.userdetails.User(admin.get().getEmail(),\r\n                        admin.get().getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            Optional&lt;Distributor&gt; distributor = distributorRepository.findByEmail(username);\r\n            if (distributor.isPresent()) {\r\n                log.info(&quot;authenticating dist&quot;);\r\n                return new org.springframework.security.core.userdetails.User(distributor.get().getEmail(),\r\n                        distributor.get().getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            Optional&lt;Supplier&gt; supplier = supplierRepository.findByEmail(username);\r\n            if (supplier.isPresent()) {\r\n                log.info(&quot;authenticating supplier&quot;);\r\n                return new org.springframework.security.core.userdetails.User(supplier.get().getEmail(),\r\n                        supplier.get().getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nfolder structure\r\n[![FolderStructure][1]][1]\r\n\r\nWhat could i be doing wrong?\r\n\r\n**UPDATE**: Included package names.\r\n**UPDATE**: Run it on github codespaces and its working, so i guess its something to do with my machines setup\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OZ75R.jpg","title":"Springboot application not recognizing any @RestController or @Service, and i think the @Repository too","body":"<p>I have springboot application which i was working on, on a different computer, i cloned the project from github and set up my intellij, installed all dependencies and tried to run the program.</p>\n<p>The first thing i notice is that the security configuration is bypassed. A password is generated for me despite me having a Config file in place. When i open localhost:8080 and login, all endpoints dont work either.</p>\n<p>All of these worked on my previous computer on the same version of intellij.</p>\n<ul>\n<li>I have tried Using @ComponentScan but I still get the same result.</li>\n<li>I have added this line to my application.properties <code>logging.level.org.springframework.web=TRACE</code> and it only shows that one endpoint is avalible, &quot;/error&quot;</li>\n</ul>\n<p>this is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.appholdings&lt;/groupId&gt;\n    &lt;artifactId&gt;appname&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;appname&lt;/name&gt;\n    &lt;description&gt;appname&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;2.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.429&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-docs&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;backend&gt;html&lt;/backend&gt;\n                            &lt;doctype&gt;book&lt;/doctype&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;testCompile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Security Config</p>\n<pre><code>package com.mootoholdings.ecommserver.config;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http ) throws Exception {\n        http.cors().and()\n                .authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/api/products/**&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/api/categories&quot;, &quot;/api/categories/*&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/&quot;).permitAll()\n//                        .anyRequest().authenticated()\n                                .anyRequest().permitAll()\n                )\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .csrf().disable();\n\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;*&quot;));\n        configuration.setAllowedMethods(List.of(&quot;HEAD&quot;,\n                &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n        // setAllowCredentials(true) is important, otherwise:\n        // The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'.\n        configuration.setAllowCredentials(false);\n        // setAllowedHeaders is important! Without it, OPTIONS preflight request\n        // will fail with 403 Invalid CORS request\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n\n</code></pre>\n<p>Authentication Filter</p>\n<pre><code>import com.mootoholdings.ecommserver.service.JWTService;\n\n@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JWTService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer&quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        jwt = authHeader.substring(7);\n\n        userEmail = jwtService.decodeUsername(jwt);\n\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if(jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n         try {\n            // something may throw an exception\n            filterChain.doFilter(request, response);\n         } catch (ServletException | IOException e) {\n             log.error(e.getMessage());\n         }\n    }\n\n}\n\n</code></pre>\n<p>my Application entry point</p>\n<pre><code>package com.mootoholdings.ecommserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class EcommserverApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(EcommserverApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>jwt service</p>\n<pre><code>package com.mootoholdings.ecommserver.service;\n\n@Slf4j\n@Service\npublic class JWTService {\n    private final SupplierRepository supplierRepository;\n\n    private final UserRepository userRepository;\n    private final RiderRepository riderRepository;\n    private final AdminRepository adminRepository;\n    private final DistributorRepository distributorRepository;\n\n    public JWTService(UserRepository userRepository,\n                      RiderRepository riderRepository,\n                      AdminRepository adminRepository,\n                      DistributorRepository distributorRepository,\n                      SupplierRepository supplierRepository) {\n        this.userRepository = userRepository;\n        this.riderRepository = riderRepository;\n        this.adminRepository = adminRepository;\n        this.distributorRepository = distributorRepository;\n\n        this.supplierRepository = supplierRepository;\n    }\n\n    @Value(&quot;${SECRET_KEY}&quot;)\n    private String SECRET_KEY;\n\n    // Extracts Username\n    public String decodeUsername(String token){\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public String decodeUserId(String token){\n        return extractClaim(token, Claims::getId);\n    }\n\n    public String extractFirstRole(String token) {\n        List&lt;SimpleGrantedAuthority&gt; rolesClaim = extractClaim(token, claims -&gt;\n                ((List&lt;?&gt;) claims.get(&quot;roles&quot;)).stream()\n                        .map(authority -&gt; new SimpleGrantedAuthority(authority.toString()))\n                        .collect(Collectors.toList())\n        );\n        if (!rolesClaim.isEmpty()) {\n            String roleString = rolesClaim.get(0).getAuthority().split(&quot;=&quot;)[1];\n            return roleString.substring(0, roleString.length() - 1);\n        } else {\n            return null;\n        }\n    }\n\n\n    // Extract claims from token\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver){\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    // Makes new token\n    public String genToken(UserDetails userDetails, String role){\n        return generateToken(new HashMap&lt;&gt;(), userDetails, role);\n    }\n\n    // Makes new token\n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetails userDetails,\n            String role\n    ){\n        if (Objects.equals(role, &quot;DISTRIBUTOR&quot;)){\n            log.info(&quot;In distributor&quot;);\n            Distributor distributor = distributorRepository.findDistributorByEmail(userDetails.getUsername());\n            return getJwt(extraClaims, userDetails, distributor.getId(), distributor.getFirstName(), distributor.getLastName());\n        }\n        else if (Objects.equals(role, &quot;SUPPLIER&quot;)){\n            log.info(&quot;In supplier&quot;);\n            Supplier supplier = supplierRepository.findSupplierByEmail(userDetails.getUsername());\n            log.info(&quot;attempting get JWT&quot;);\n            return getJwt(extraClaims, userDetails, supplier.getId(), supplier.getFirstName(), supplier.getLastName());\n        }\n        else if (Objects.equals(role, &quot;RIDER&quot;)){\n            log.info(&quot;In rider&quot;);\n            Rider rider = riderRepository.findRiderByEmail(userDetails.getUsername());\n            log.info(&quot;attempting get JWT&quot;);\n            return getJwt(extraClaims, userDetails, rider.getId(), rider.getFirstName(), rider.getLastName());\n        }\n        else if (Objects.equals(role, &quot;ADMIN&quot;)){\n            log.info(&quot;In admin&quot;);\n            Admin admin = adminRepository.findAdminByEmail(userDetails.getUsername());\n            return getJwt(extraClaims, userDetails, admin.getId(), admin.getFirstName(), admin.getLastName());\n        }\n        else {\n            log.info(&quot;In User&quot;);\n            User user = userRepository.findUserByEmail(userDetails.getUsername());\n            return getJwt(extraClaims, userDetails, user.getId(), user.getFirstName(), user.getLastName());\n        }\n\n\n    }\n\n    private String getJwt(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails, long id, String firstName, String lastName) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .claim (&quot;id&quot;, id)\n                .claim(&quot;firstName&quot;, firstName)\n                .claim(&quot;lastName&quot;, lastName)\n                .claim(&quot;roles&quot;, userDetails.getAuthorities())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 5))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    // Validate token\n    public boolean isTokenValid(String token, UserDetails userDetails){\n        final String username = decodeUsername(token);\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token){\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token){\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims (String token){\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost:3306/ecommdb?sessionVariables=sql_mode='NO_ENGINE_SUBSTITUTION'&amp;jdbcCompliantTruncation=false\n spring.datasource.username=user\n spring.datasource.password=user\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\n\nlogging.level.org.springframework.web=TRACE\n\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.servlet.multipart.enabled=true\nspring.servlet.multipart.file-size-threshold=2KB\nspring.servlet.multipart.max-file-size=200MB\nspring.servlet.multipart.max-request-size=215MB\n</code></pre>\n<p>Application Config</p>\n<pre><code>package com.mootoholdings.ecommserver.config;\n\n\n@Slf4j\n@Configuration\npublic class ApplicationConfig {\n\n    private final UserRepository userRepository;\n    private final AdminRepository adminRepository;\n    private final RiderRepository riderRepository;\n    private final DistributorRepository distributorRepository;\n    private final SupplierRepository supplierRepository;\n\n    public ApplicationConfig(UserRepository userRepository, AdminRepository adminRepository,\n            RiderRepository riderRepository, DistributorRepository distributorRepository,\n            SupplierRepository supplierRepository) {\n        this.userRepository = userRepository;\n        this.adminRepository = adminRepository;\n        this.riderRepository = riderRepository;\n        this.distributorRepository = distributorRepository;\n        this.supplierRepository = supplierRepository;\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; {\n            Optional&lt;Rider&gt; rider = riderRepository.findByEmail(username);\n            if (rider.isPresent()) {\n                log.info(&quot;authenticating rider&quot;);\n                return new org.springframework.security.core.userdetails.User(rider.get().getEmail(),\n                        rider.get().getPassword(), new ArrayList&lt;&gt;());\n            }\n            Optional&lt;User&gt; user = userRepository.findByEmail(username);\n            if (user.isPresent()) {\n                log.info(&quot;authenticating user&quot;);\n                return new org.springframework.security.core.userdetails.User(user.get().getEmail(),\n                        user.get().getPassword(), new ArrayList&lt;&gt;());\n            }\n            Optional&lt;Admin&gt; admin = adminRepository.findByEmail(username);\n            if (admin.isPresent()) {\n                log.info(&quot;authenticating admin&quot;);\n                return new org.springframework.security.core.userdetails.User(admin.get().getEmail(),\n                        admin.get().getPassword(), new ArrayList&lt;&gt;());\n            }\n            Optional&lt;Distributor&gt; distributor = distributorRepository.findByEmail(username);\n            if (distributor.isPresent()) {\n                log.info(&quot;authenticating dist&quot;);\n                return new org.springframework.security.core.userdetails.User(distributor.get().getEmail(),\n                        distributor.get().getPassword(), new ArrayList&lt;&gt;());\n            }\n            Optional&lt;Supplier&gt; supplier = supplierRepository.findByEmail(username);\n            if (supplier.isPresent()) {\n                log.info(&quot;authenticating supplier&quot;);\n                return new org.springframework.security.core.userdetails.User(supplier.get().getEmail(),\n                        supplier.get().getPassword(), new ArrayList&lt;&gt;());\n            }\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        };\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n\n</code></pre>\n<p>folder structure\n<a href=\"https://i.stack.imgur.com/OZ75R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZ75R.jpg\" alt=\"FolderStructure\" /></a></p>\n<p>What could i be doing wrong?</p>\n<p><strong>UPDATE</strong>: Included package names.\n<strong>UPDATE</strong>: Run it on github codespaces and its working, so i guess its something to do with my machines setup</p>\n"},{"tags":["java","java-8","java-time","timezone-offset","java-17"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1695824596,"post_id":77188351,"comment_id":136076051,"body_markdown":"Maybe it was explicit before, now it&#39;s implicit. There are also key differences between the API in JDK 1.8 and 17. One of them is—for instance—the time precision. In Java 17, time is in nanoseconds instead of milliseconds.","body":"Maybe it was explicit before, now it&#39;s implicit. There are also key differences between the API in JDK 1.8 and 17. One of them is—for instance—the time precision. In Java 17, time is in nanoseconds instead of milliseconds."},{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":0,"creation_date":1695825270,"post_id":77188351,"comment_id":136076235,"body_markdown":"By implicit you mean, in java-17, Instant.parse() Implicitly uses the ISO_OFFSET_DATE_TIME while parsing. In java-8, we had to explicitly specify what kind of formatter we would to use? And since the backward compatibility is not broken here, instead java.time api has been improved, so all is well.","body":"By implicit you mean, in java-17, Instant.parse() Implicitly uses the ISO_OFFSET_DATE_TIME while parsing. In java-8, we had to explicitly specify what kind of formatter we would to use? And since the backward compatibility is not broken here, instead java.time api has been improved, so all is well."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695826439,"post_id":77188351,"comment_id":136076498,"body_markdown":"I&#39;ve never found much use with the newer _Java_ time classes, I believe they were made to compliment _Java EE_, thus _&quot;API-breaking&quot;_ adjustments are more common.","body":"I&#39;ve never found much use with the newer <i>Java</i> time classes, I believe they were made to compliment <i>Java EE</i>, thus <i>&quot;API-breaking&quot;</i> adjustments are more common."}],"answers":[{"comments":[{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":1,"creation_date":1695826088,"post_id":77188554,"comment_id":136076421,"body_markdown":"Thanks, I should start reading javadocs again :)","body":"Thanks, I should start reading javadocs again :)"}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1695829550,"creation_date":1695825765,"answer_id":77188554,"question_id":77188351,"body_markdown":"This was a bug which was fixed in Java 12:\r\n\r\n[JDK-8166138: DateTimeFormatter.ISO_INSTANT should handle offsets][1]\r\n\r\nVersions 8 to 11 will throw this exception, while versions from 12 onwards will accept a time zone offset.\r\n\r\nAs the documentation says, the `Instant.parse` method uses the `DateTimeFormatter.ISO_INSTANT` parser. The latter has been changed between versions [11][2] and [12][3] (see links). In version 12, the following sentence was added to the description of the ISO_INSTANT parser:\r\n\r\n&gt; When parsing, the behaviour of DateTimeFormatterBuilder.appendOffsetId() will be used to parse the offset, converting the instant to UTC as necessary.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8166138\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [3]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT","title":"Why Instant.parse() string with timezone behaviour in java8 is different than java 17","body":"<p>This was a bug which was fixed in Java 12:</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8166138\" rel=\"nofollow noreferrer\">JDK-8166138: DateTimeFormatter.ISO_INSTANT should handle offsets</a></p>\n<p>Versions 8 to 11 will throw this exception, while versions from 12 onwards will accept a time zone offset.</p>\n<p>As the documentation says, the <code>Instant.parse</code> method uses the <code>DateTimeFormatter.ISO_INSTANT</code> parser. The latter has been changed between versions <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">11</a> and <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">12</a> (see links). In version 12, the following sentence was added to the description of the ISO_INSTANT parser:</p>\n<blockquote>\n<p>When parsing, the behaviour of DateTimeFormatterBuilder.appendOffsetId() will be used to parse the offset, converting the instant to UTC as necessary.</p>\n</blockquote>\n"}],"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77188554,"answer_count":1,"score":0,"last_activity_date":1695829550,"creation_date":1695824397,"question_id":77188351,"body_markdown":"The following code snippet\r\n```\r\nInstant.parse(&quot;2023-08-08T00:00:00+02:00&quot;)\r\n```\r\n\r\ncompiles and executes as expected in java-17. But when executed with java-8, throws the following exception\r\n\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2023-08-01T00:00:00+02:00&#39; could not be parsed at index 19\r\n\r\n\tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\r\n\tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n\tat java.time.Instant.parse(Instant.java:395)\r\n    ...\r\n```\r\n\r\nMy question is why? Did something change in java.time api? \r\n\r\nPlease note, i do know a way to workaround this, the following code works in java-8\r\n```\r\nOffsetDateTime.parse(&quot;2023-08-01T00:00:00+02:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toInstant()\r\n```\r\n\r\nIt produces the desired result. I am interested to know whether within java-time api implementation, behaviour has been changed?","title":"Why Instant.parse() string with timezone behaviour in java8 is different than java 17","body":"<p>The following code snippet</p>\n<pre><code>Instant.parse(&quot;2023-08-08T00:00:00+02:00&quot;)\n</code></pre>\n<p>compiles and executes as expected in java-17. But when executed with java-8, throws the following exception</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2023-08-01T00:00:00+02:00' could not be parsed at index 19\n\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    at java.time.Instant.parse(Instant.java:395)\n    ...\n</code></pre>\n<p>My question is why? Did something change in java.time api?</p>\n<p>Please note, i do know a way to workaround this, the following code works in java-8</p>\n<pre><code>OffsetDateTime.parse(&quot;2023-08-01T00:00:00+02:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toInstant()\n</code></pre>\n<p>It produces the desired result. I am interested to know whether within java-time api implementation, behaviour has been changed?</p>\n"},{"tags":["java","testing","junit","junit4"],"comments":[{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":0,"creation_date":1695829097,"post_id":77188941,"comment_id":136077085,"body_markdown":"Example of the failing test?","body":"Example of the failing test?"},{"owner":{"account_id":24036672,"reputation":13,"user_id":18025575,"display_name":"user266671"},"score":0,"creation_date":1695829246,"post_id":77188941,"comment_id":136077123,"body_markdown":"I don&#39;t know how make test for this class","body":"I don&#39;t know how make test for this class"},{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":2,"creation_date":1695829345,"post_id":77188941,"comment_id":136077149,"body_markdown":"assertThat(G_CUSTOMER_ID, is(equalTo(&quot;G_COUNTRY_ID&quot;))?","body":"assertThat(G_CUSTOMER_ID, is(equalTo(&quot;G_COUNTRY_ID&quot;))?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1695831135,"post_id":77188941,"comment_id":136077519,"body_markdown":"This looks like a class I would not consider appropriate to test.","body":"This looks like a class I would not consider appropriate to test."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695837086,"post_id":77188941,"comment_id":136078556,"body_markdown":"You can write a test that verifies there is no public constructor.  But I don’t think that will do much for code coverage.","body":"You can write a test that verifies there is no public constructor.  But I don’t think that will do much for code coverage."}],"owner":{"account_id":24036672,"reputation":13,"user_id":18025575,"display_name":"user266671"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695828808,"creation_date":1695828808,"question_id":77188941,"body_markdown":"I have a class with constants that gives me 0 coverage in sonar, I cannot skip this of this class, how can I do the tests of this class with constants?\r\n\r\n\r\n``` \r\npublic class Constants {\r\n\r\n    public static final String QUERY_SEARCH_PART = &quot;db1;SELECT GF_CUSTOMER_ID,GF_EMAILUSU_DESC,GF_PHONE_ID,GF_CUSTOMER_NAME,GF_GROUP_ID  FROM GJSX.T_GJSX_CUSTOMER &quot;;\r\n\r\n    @VisibleForTestings\r\n    public static final String QUERY_SEARCH_PART_CATALOG =&quot; TABLECATALOGO WHERE OPER.G_CONTRACT_ID=TABLECATALOGO.G_CONTRACT_ID &quot;;\r\n    public static final String GF_FIRST_NAME=&quot;GF_FIRST_NAME&quot;;\r\n    public static final String G_CUSTOMER_ID=&quot;G_CUSTOMER_ID&quot;;\r\n    public static final String G_COUNTRY_ID=&quot;G_COUNTRY_ID&quot;;\r\n\r\n\r\n    public static final String DB1=&quot;db1;&quot;;\r\n\r\n}\r\n``` \r\n","title":"Try Java Constant Classes with JUNIT","body":"<p>I have a class with constants that gives me 0 coverage in sonar, I cannot skip this of this class, how can I do the tests of this class with constants?</p>\n<pre><code>public class Constants {\n\n    public static final String QUERY_SEARCH_PART = &quot;db1;SELECT GF_CUSTOMER_ID,GF_EMAILUSU_DESC,GF_PHONE_ID,GF_CUSTOMER_NAME,GF_GROUP_ID  FROM GJSX.T_GJSX_CUSTOMER &quot;;\n\n    @VisibleForTestings\n    public static final String QUERY_SEARCH_PART_CATALOG =&quot; TABLECATALOGO WHERE OPER.G_CONTRACT_ID=TABLECATALOGO.G_CONTRACT_ID &quot;;\n    public static final String GF_FIRST_NAME=&quot;GF_FIRST_NAME&quot;;\n    public static final String G_CUSTOMER_ID=&quot;G_CUSTOMER_ID&quot;;\n    public static final String G_COUNTRY_ID=&quot;G_COUNTRY_ID&quot;;\n\n\n    public static final String DB1=&quot;db1;&quot;;\n\n}\n</code></pre>\n"},{"tags":["java","hl7-fhir","hapi-fhir","smart-on-fhir"],"answers":[{"tags":[],"owner":{"account_id":22435486,"reputation":56,"user_id":16640798,"display_name":"Rodrigo Pio"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695828605,"creation_date":1695815706,"answer_id":77187285,"question_id":73333550,"body_markdown":"This code looks efficient to me, yes. \r\n\r\nSince you are offloading the entire set of Immunizations for the patient, I would pay attention to the page size. Since, by default, a FHIR RESTful Server will not page (see [*HAPI FHIR Official documentation on Paging search*)][1], you would be better off explicitly fine tuning the count size according to your dataset, to avoid unnecessary round trips to the server as much as possible and, on the other hand, avoid timeouts due to an enormous response Bundle. \r\n\r\nYou can specify the count size like this:\r\n\r\n```java\r\nBundle bundle = client.search()\r\n\t                      .forResource(Immunization.class)\r\n\t                      .where(Immunization.PATIENT.hasId(id))\r\n\t                      .returnBundle(Bundle.class)\r\n\t                      .count(200)\r\n\t                      .execute();\r\n```\r\n\r\nPlease, notice that the FHIR Server may not support paging, so you should also take that into account.\r\n\r\nNow, regarding FHIRPath: I am not sure how exactly you imagined using it for this case, but in any imaginable way (for instance, obtaining the whole set of resources for this patient, regardless of the resource type, and performing a FHIRPath operation on this Bundle?), it would be far less performant than with the code you presented. If you want to know how that would be written, an example of a FHIRPath expression that would look into a Bundle of varied resources and return the Immunization resources would look like this:\r\n\r\n```java\r\nentry.resource.where(resourceType=&#39;Immunization&#39;)\r\n```\r\n\r\n*As a side note, if you are looking for an extra push for performance, there is always the option to develop a custom query (see [HAPI FHIR Official documentation on Named queries)][2], but that would require developments on the server.*\r\n\r\n\r\n  [1]: https://hapifhir.io/hapi-fhir/docs/server_plain/paging.html\r\n  [2]: https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations_search.html#named-queries-query","title":"How to use FHIR PATH to fetch the list of Immunization for a Patient?","body":"<p>This code looks efficient to me, yes.</p>\n<p>Since you are offloading the entire set of Immunizations for the patient, I would pay attention to the page size. Since, by default, a FHIR RESTful Server will not page (see <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/paging.html\" rel=\"nofollow noreferrer\"><em>HAPI FHIR Official documentation on Paging search</em>)</a>, you would be better off explicitly fine tuning the count size according to your dataset, to avoid unnecessary round trips to the server as much as possible and, on the other hand, avoid timeouts due to an enormous response Bundle.</p>\n<p>You can specify the count size like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bundle bundle = client.search()\n                          .forResource(Immunization.class)\n                          .where(Immunization.PATIENT.hasId(id))\n                          .returnBundle(Bundle.class)\n                          .count(200)\n                          .execute();\n</code></pre>\n<p>Please, notice that the FHIR Server may not support paging, so you should also take that into account.</p>\n<p>Now, regarding FHIRPath: I am not sure how exactly you imagined using it for this case, but in any imaginable way (for instance, obtaining the whole set of resources for this patient, regardless of the resource type, and performing a FHIRPath operation on this Bundle?), it would be far less performant than with the code you presented. If you want to know how that would be written, an example of a FHIRPath expression that would look into a Bundle of varied resources and return the Immunization resources would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entry.resource.where(resourceType='Immunization')\n</code></pre>\n<p><em>As a side note, if you are looking for an extra push for performance, there is always the option to develop a custom query (see <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations_search.html#named-queries-query\" rel=\"nofollow noreferrer\">HAPI FHIR Official documentation on Named queries)</a>, but that would require developments on the server.</em></p>\n"}],"owner":{"account_id":1879653,"reputation":80,"user_id":1700138,"display_name":"Rajesh Rajendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77187285,"answer_count":1,"score":2,"last_activity_date":1695828605,"creation_date":1660304203,"question_id":73333550,"body_markdown":"Currently, I am fetching the list of Immunization resources for a Patient using the below code. Is this efficient method of fetching the data from FHIR Server? How to use the FHIRPATH in this case?\r\n\r\n    \t\t// Create a client\r\n    \t\tIGenericClient client = ctx.newRestfulGenericClient(&quot;https://hapi.fhir.org/baseR4&quot;);\r\n    \r\n    \t\t// Read a patient with the given ID\r\n    \t\tPatient patient = client.read().resource(Patient.class).withId(patientId).execute();\r\n    \r\n    \t\tString id = patient.getId();\r\n    \r\n    \t\tList&lt;IBaseResource&gt; immunizations = new ArrayList&lt;IBaseResource&gt;();\r\n    \t\tBundle bundle = client.search().forResource(Immunization.class).where(Immunization.PATIENT.hasId(id))\r\n    \t\t\t\t.returnBundle(Bundle.class).execute();\r\n    \t\timmunizations.addAll(BundleUtil.toListOfResources(ctx, bundle));\r\n    \r\n    \t\t// Load the subsequent pages\r\n    \t\twhile (bundle.getLink(IBaseBundle.LINK_NEXT) != null) {\r\n    \t\t\tbundle = client.loadPage().next(bundle).execute();\r\n    \t\t\timmunizations.addAll(BundleUtil.toListOfResources(ctx, bundle));\r\n    \t\t}\r\n    \r\n    \t\tString fhirResource = ctx.newJsonParser().setPrettyPrint(true).encodeResourceToString(patient);","title":"How to use FHIR PATH to fetch the list of Immunization for a Patient?","body":"<p>Currently, I am fetching the list of Immunization resources for a Patient using the below code. Is this efficient method of fetching the data from FHIR Server? How to use the FHIRPATH in this case?</p>\n<pre><code>        // Create a client\n        IGenericClient client = ctx.newRestfulGenericClient(&quot;https://hapi.fhir.org/baseR4&quot;);\n\n        // Read a patient with the given ID\n        Patient patient = client.read().resource(Patient.class).withId(patientId).execute();\n\n        String id = patient.getId();\n\n        List&lt;IBaseResource&gt; immunizations = new ArrayList&lt;IBaseResource&gt;();\n        Bundle bundle = client.search().forResource(Immunization.class).where(Immunization.PATIENT.hasId(id))\n                .returnBundle(Bundle.class).execute();\n        immunizations.addAll(BundleUtil.toListOfResources(ctx, bundle));\n\n        // Load the subsequent pages\n        while (bundle.getLink(IBaseBundle.LINK_NEXT) != null) {\n            bundle = client.loadPage().next(bundle).execute();\n            immunizations.addAll(BundleUtil.toListOfResources(ctx, bundle));\n        }\n\n        String fhirResource = ctx.newJsonParser().setPrettyPrint(true).encodeResourceToString(patient);\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":11142,"reputation":12531,"user_id":21339,"accept_rate":76,"display_name":"bajafresh4life"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302622486,"creation_date":1302622486,"answer_id":5637815,"question_id":5630245,"body_markdown":"GZIP files cannot be partitioned in any way, due to a limitation of the codec.  6.7GB really isn&#39;t that big, so just decompress it on a single machine (it will take less than an hour) and copy the XML up to HDFS.  Then you can process the Wikipedia XML in Hadoop.\r\n\r\n[Cloud9][1] contains a [WikipediaPageInputFormat][2] class that you can use to read the XML in Hadoop.\r\n\r\n\r\n  [1]: http://www.umiacs.umd.edu/~jimmylin/cloud9/docs\r\n  [2]: http://www.umiacs.umd.edu/~jimmylin/Cloud9/docs/api/edu/umd/cloud9/collection/wikipedia/WikipediaPageInputFormat.html","title":"Hadoop gzip compressed files","body":"<p>GZIP files cannot be partitioned in any way, due to a limitation of the codec.  6.7GB really isn't that big, so just decompress it on a single machine (it will take less than an hour) and copy the XML up to HDFS.  Then you can process the Wikipedia XML in Hadoop.</p>\n\n<p><a href=\"http://www.umiacs.umd.edu/~jimmylin/cloud9/docs\" rel=\"nofollow\">Cloud9</a> contains a <a href=\"http://www.umiacs.umd.edu/~jimmylin/Cloud9/docs/api/edu/umd/cloud9/collection/wikipedia/WikipediaPageInputFormat.html\" rel=\"nofollow\">WikipediaPageInputFormat</a> class that you can use to read the XML in Hadoop.</p>\n"},{"comments":[{"owner":{"account_id":105433,"reputation":470,"user_id":281362,"display_name":"root1982"},"score":0,"creation_date":1338302637,"post_id":5644998,"comment_id":14053091,"body_markdown":"Don&#39;t we also need to maintain the integrity of the xml file for each split?","body":"Don&#39;t we also need to maintain the integrity of the xml file for each split?"},{"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"score":0,"creation_date":1338305386,"post_id":5644998,"comment_id":14054429,"body_markdown":"Yes, and that is the task of the RecordReader instance that is used.","body":"Yes, and that is the task of the RecordReader instance that is used."},{"owner":{"account_id":395228,"reputation":2513,"user_id":758067,"display_name":"jhclark"},"score":0,"creation_date":1471884086,"post_id":5644998,"comment_id":65517218,"body_markdown":"This is true of a full-file gzipping, but Hadoop can use block gzipping to get around this. See Ted&#39;s answer.","body":"This is true of a full-file gzipping, but Hadoop can use block gzipping to get around this. See Ted&#39;s answer."},{"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"score":0,"creation_date":1472110181,"post_id":5644998,"comment_id":65622685,"body_markdown":"@jhclark: The original question was about a gzipped XML file. Gzipping blocks is only an option when using a different fileformat that combines multiple (gzipped) blocks. This is not a Hadoop feature, it is a feature of the fileformat.","body":"@jhclark: The original question was about a gzipped XML file. Gzipping blocks is only an option when using a different fileformat that combines multiple (gzipped) blocks. This is not a Hadoop feature, it is a feature of the fileformat."}],"tags":[],"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"comment_count":4,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1333579286,"creation_date":1302674125,"answer_id":5644998,"question_id":5630245,"body_markdown":"A file compressed with the GZIP codec cannot be split because of the way this codec works.\r\nA single SPLIT in Hadoop can only be processed by a single mapper; so a single GZIP file can only be processed by a single Mapper.\r\n\r\nThere are atleast three ways of going around that limitation:\r\n\r\n 1. As a preprocessing step: Uncompress the file and recompress using a splittable codec (LZO)\r\n 2. As a preprocessing step: Uncompress the file, split into smaller sets and recompress. ([See this][1]) \r\n 3. Use this patch for Hadoop (which I wrote) that allows for a way around this: [Splittable Gzip][2] \r\n\r\nHTH\r\n\r\n  [1]: https://stackoverflow.com/questions/3960651/splitting-gzipped-logfiles-without-storing-the-ungzipped-splits-on-disk\r\n  [2]: https://github.com/nielsbasjes/splittablegzip &quot;Splittable Gzip&quot;","title":"Hadoop gzip compressed files","body":"<p>A file compressed with the GZIP codec cannot be split because of the way this codec works.\nA single SPLIT in Hadoop can only be processed by a single mapper; so a single GZIP file can only be processed by a single Mapper.</p>\n\n<p>There are atleast three ways of going around that limitation:</p>\n\n<ol>\n<li>As a preprocessing step: Uncompress the file and recompress using a splittable codec (LZO)</li>\n<li>As a preprocessing step: Uncompress the file, split into smaller sets and recompress. (<a href=\"https://stackoverflow.com/questions/3960651/splitting-gzipped-logfiles-without-storing-the-ungzipped-splits-on-disk\">See this</a>) </li>\n<li>Use this patch for Hadoop (which I wrote) that allows for a way around this: <a href=\"https://github.com/nielsbasjes/splittablegzip\" rel=\"nofollow noreferrer\" title=\"Splittable Gzip\">Splittable Gzip</a> </li>\n</ol>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":2177027,"reputation":101,"user_id":1927458,"display_name":"Ted Malaska"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1356395077,"creation_date":1356395077,"answer_id":14026732,"question_id":5630245,"body_markdown":"This is one of the biggest miss understanding in HDFS.  \r\n\r\nYes files compressed as a gzip file are not splitable by MapReduce, but that does not mean that GZip as a codec has no value in HDFS and cannot be made splitable.\r\n\r\nGZip as a Codec can be used with RCFiles, Sequence Files, Arvo Files, and many more file formats.  When the Gzip Codec is used within these splitable formats you get the great compression and pretty good speed from Gzip plus the splitable component. ","title":"Hadoop gzip compressed files","body":"<p>This is one of the biggest miss understanding in HDFS.  </p>\n\n<p>Yes files compressed as a gzip file are not splitable by MapReduce, but that does not mean that GZip as a codec has no value in HDFS and cannot be made splitable.</p>\n\n<p>GZip as a Codec can be used with RCFiles, Sequence Files, Arvo Files, and many more file formats.  When the Gzip Codec is used within these splitable formats you get the great compression and pretty good speed from Gzip plus the splitable component. </p>\n"},{"tags":[],"owner":{"account_id":3422031,"reputation":96,"user_id":2869260,"accept_rate":0,"display_name":"Corey J. Nolet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381454002,"creation_date":1381454002,"answer_id":19308732,"question_id":5630245,"body_markdown":"Why not ungzip it and use Splittable LZ compression instead?m\r\n\r\nhttp://blog.cloudera.com/blog/2009/11/hadoop-at-twitter-part-1-splittable-lzo-compression/","title":"Hadoop gzip compressed files","body":"<p>Why not ungzip it and use Splittable LZ compression instead?m</p>\n\n<p><a href=\"http://blog.cloudera.com/blog/2009/11/hadoop-at-twitter-part-1-splittable-lzo-compression/\" rel=\"nofollow\">http://blog.cloudera.com/blog/2009/11/hadoop-at-twitter-part-1-splittable-lzo-compression/</a></p>\n"},{"tags":[],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695828583,"creation_date":1695828583,"answer_id":77188903,"question_id":5630245,"body_markdown":"While gzip files are not splitable, .bz2 files are and Hadoop supports those directly [Best splittable compression for hadoop][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14820450/best-splittable-compression-for-hadoop-input-bz2","title":"Hadoop gzip compressed files","body":"<p>While gzip files are not splitable, .bz2 files are and Hadoop supports those directly <a href=\"https://stackoverflow.com/questions/14820450/best-splittable-compression-for-hadoop-input-bz2\">Best splittable compression for hadoop</a></p>\n"}],"owner":{"account_id":71693,"reputation":14346,"user_id":207335,"accept_rate":75,"display_name":"Boolean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23876,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1695828583,"creation_date":1302580817,"question_id":5630245,"body_markdown":"I am new to hadoop and trying to process wikipedia dump. It&#39;s a 6.7 GB gzip compressed xml file. I read that hadoop supports gzip compressed files but can only be processed by mapper on a single job as only one mapper can decompress it. This seems to put a limitation on the processing. Is there an alternative? like decompressing and splitting the xml file into multiple chunks and recompressing them with gzip.\r\n\r\nI read about the hadoop gzip from http://researchcomputing.blogspot.com/2008/04/hadoop-and-compressed-files.html\r\n\r\nThanks for your help.","title":"Hadoop gzip compressed files","body":"<p>I am new to hadoop and trying to process wikipedia dump. It's a 6.7 GB gzip compressed xml file. I read that hadoop supports gzip compressed files but can only be processed by mapper on a single job as only one mapper can decompress it. This seems to put a limitation on the processing. Is there an alternative? like decompressing and splitting the xml file into multiple chunks and recompressing them with gzip.</p>\n\n<p>I read about the hadoop gzip from <a href=\"http://researchcomputing.blogspot.com/2008/04/hadoop-and-compressed-files.html\" rel=\"noreferrer\">http://researchcomputing.blogspot.com/2008/04/hadoop-and-compressed-files.html</a></p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring-boot","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1695783120,"post_id":77184394,"comment_id":136069161,"body_markdown":"Did you see https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\n\nAlso https://devissuefixer.com/questions/how-to-map-a-nested-value-to-a-property-using-jackson-annotations","body":"Did you see <a href=\"https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\" title=\"how to map a nested value to a property using jackson annotations\">stackoverflow.com/questions/37010891/&hellip;</a>  Also <a href=\"https://devissuefixer.com/questions/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\" rel=\"nofollow noreferrer\">devissuefixer.com/questions/&hellip;</a>"},{"owner":{"account_id":2782334,"reputation":989,"user_id":2394618,"display_name":"Badrul"},"score":0,"creation_date":1695788550,"post_id":77184394,"comment_id":136069544,"body_markdown":"Thanks for your response. I already see the above references. \nIf you have the solution then share us. - Scary Wombat","body":"Thanks for your response. I already see the above references.  If you have the solution then share us. - Scary Wombat"}],"answers":[{"comments":[{"owner":{"account_id":2782334,"reputation":989,"user_id":2394618,"display_name":"Badrul"},"score":0,"creation_date":1695792034,"post_id":77184826,"comment_id":136069866,"body_markdown":"Can you please share the references?","body":"Can you please share the references?"},{"owner":{"account_id":7180854,"reputation":75,"user_id":5484873,"display_name":"Ridwan"},"score":1,"creation_date":1695806575,"post_id":77184826,"comment_id":136072256,"body_markdown":"Hello @Badrul, you can check [this](https://stackoverflow.com/questions/68042266/spring-boot-jsonproperty-to-map-nested-object-through-parent-child-path).","body":"Hello @Badrul, you can check <a href=\"https://stackoverflow.com/questions/68042266/spring-boot-jsonproperty-to-map-nested-object-through-parent-child-path\">this</a>."}],"tags":[],"owner":{"account_id":11478020,"reputation":21,"user_id":8413005,"display_name":"Joyonta saha"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695828404,"creation_date":1695791866,"answer_id":77184826,"question_id":77184394,"body_markdown":"`@JsonAlias` is designed for aliasing field names, not for deep nesting within JSON objects. To handle nested properties, you can use custom deserialization logic with Jackson&#39;s `@JsonDeserialize` annotation and a custom deserializer.","title":"How to map a nested value to a property using @JsonAlias annotation?","body":"<p><code>@JsonAlias</code> is designed for aliasing field names, not for deep nesting within JSON objects. To handle nested properties, you can use custom deserialization logic with Jackson's <code>@JsonDeserialize</code> annotation and a custom deserializer.</p>\n"}],"owner":{"account_id":2782334,"reputation":989,"user_id":2394618,"display_name":"Badrul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1695828404,"creation_date":1695782282,"question_id":77184394,"body_markdown":"I need to get the **Country Name** from the nested object by **@JsonAlias** annotation on Java, Spring Boot project.\r\n\r\n**@JsonAlias** is working properly for **name** field. But, not work on nested or child objects this approach.\r\n\r\n``` java\r\n\r\n@Getter\r\n@Setter\r\npublic class Student {\r\n    private Long id;\r\n    @JsonAlias(&quot;fullName&quot;)\r\n    private String name;\r\n    @JsonAlias(&quot;presentAddress.country.name&quot;)\r\n    private String presentAddressCountryName;\r\n    @JsonAlias(&quot;permanentAddress.country.name&quot;)\r\n    private String permanentAddressCountryName;\r\n}\r\n\r\n\r\nString jsonString = &quot;&quot;&quot; \r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;fullName&quot;: &quot;Md. Badrul Alam&quot;,\r\n  &quot;presentAddress&quot;: {\r\n    &quot;id&quot;: 1,\r\n    &quot;location&quot;: &quot;Dhaka&quot;,\r\n    &quot;country&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;Bangladesh&quot;\r\n    }\r\n  },\r\n  &quot;permanentAddress&quot;: {\r\n    &quot;id&quot;: 1,\r\n    &quot;location&quot;: &quot;Jashore&quot;,\r\n    &quot;country&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;Pakistan&quot;\r\n    }\r\n  }\r\n}\r\n&quot;&quot;&quot;\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nStudent student = objectMapper.readValue(jsonString, Student.class);\r\n\r\n```\r\n**Result**: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oBX8y.png\r\n\r\n","title":"How to map a nested value to a property using @JsonAlias annotation?","body":"<p>I need to get the <strong>Country Name</strong> from the nested object by <strong>@JsonAlias</strong> annotation on Java, Spring Boot project.</p>\n<p><strong>@JsonAlias</strong> is working properly for <strong>name</strong> field. But, not work on nested or child objects this approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Getter\n@Setter\npublic class Student {\n    private Long id;\n    @JsonAlias(&quot;fullName&quot;)\n    private String name;\n    @JsonAlias(&quot;presentAddress.country.name&quot;)\n    private String presentAddressCountryName;\n    @JsonAlias(&quot;permanentAddress.country.name&quot;)\n    private String permanentAddressCountryName;\n}\n\n\nString jsonString = &quot;&quot;&quot; \n{\n  &quot;id&quot;: 1,\n  &quot;fullName&quot;: &quot;Md. Badrul Alam&quot;,\n  &quot;presentAddress&quot;: {\n    &quot;id&quot;: 1,\n    &quot;location&quot;: &quot;Dhaka&quot;,\n    &quot;country&quot;: {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Bangladesh&quot;\n    }\n  },\n  &quot;permanentAddress&quot;: {\n    &quot;id&quot;: 1,\n    &quot;location&quot;: &quot;Jashore&quot;,\n    &quot;country&quot;: {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Pakistan&quot;\n    }\n  }\n}\n&quot;&quot;&quot;\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\nStudent student = objectMapper.readValue(jsonString, Student.class);\n\n</code></pre>\n<p><strong>Result</strong>:\n<a href=\"https://i.stack.imgur.com/oBX8y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oBX8y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-data","spring-data-rest"],"answers":[{"comments":[{"owner":{"account_id":448833,"reputation":4580,"user_id":843273,"accept_rate":62,"display_name":"gyoder"},"score":3,"creation_date":1423151945,"post_id":28337740,"comment_id":45040949,"body_markdown":"Made the repos package-private. Thanks for creating that ticket.","body":"Made the repos package-private. Thanks for creating that ticket."}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1423118683,"creation_date":1423118683,"answer_id":28337740,"question_id":28330716,"body_markdown":"Currently there&#39;s no global switch for what you&#39;re looking for. I&#39;ve filed [this ticket][1] for you for inclusion in the next major release.\r\n\r\nNot sure if it is an option for you but package private repository interfaces are not currently exposed unless explicitly annotated. If you can make all those library repositories package protected that might be favorable over the explicit annotation.\r\n\r\n  [1]: https://jira.spring.io/browse/DATAREST-473","title":"How to disable the default exposure of Spring Data REST repositories?","body":"<p>Currently there's no global switch for what you're looking for. I've filed <a href=\"https://jira.spring.io/browse/DATAREST-473\" rel=\"noreferrer\">this ticket</a> for you for inclusion in the next major release.</p>\n\n<p>Not sure if it is an option for you but package private repository interfaces are not currently exposed unless explicitly annotated. If you can make all those library repositories package protected that might be favorable over the explicit annotation.</p>\n"},{"comments":[{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1583165694,"post_id":42905993,"comment_id":107015544,"body_markdown":"Nice. But I could not find any documentation for the application properties.","body":"Nice. But I could not find any documentation for the application properties."},{"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"score":2,"creation_date":1584076906,"post_id":42905993,"comment_id":107330959,"body_markdown":"Indeed, I updated accordingly. The anchor link in the URL seemed to have changed since my posting.","body":"Indeed, I updated accordingly. The anchor link in the URL seemed to have changed since my posting."},{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":1,"creation_date":1616094046,"post_id":42905993,"comment_id":117902748,"body_markdown":"that default behavior is quite sick I find :-/ ... what is this kind of &quot;security-hole&quot; by design ?","body":"that default behavior is quite sick I find :-/ ... what is this kind of &quot;security-hole&quot; by design ?"},{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":0,"creation_date":1616149623,"post_id":42905993,"comment_id":117918006,"body_markdown":"I see, I finally removed the unwanted dependency `org.springframework.boot:spring-boot-starter-data-rest`","body":"I see, I finally removed the unwanted dependency <code>org.springframework.boot:spring-boot-starter-data-rest</code>"},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":0,"creation_date":1693904991,"post_id":42905993,"comment_id":135817588,"body_markdown":"WTF, I can&#39;t believe spring by default exposes all DB repositories via REST, this is nuts!","body":"WTF, I can&#39;t believe spring by default exposes all DB repositories via REST, this is nuts!"}],"tags":[],"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"comment_count":5,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1695828360,"creation_date":1490019492,"answer_id":42905993,"question_id":28330716,"body_markdown":"Looping back here as I was looking for this specific setting. It looks like this is now implemented. In this case, you would want to set *spring.data.rest.detection-strategy=annotated* to avoid default exposure.\r\n\r\nAll application.properties options:\r\n\r\n    # Exposes all public repository interfaces but considers @(Repository)RestResource\\u2019s `exported flag.\r\n    spring.data.rest.detection-strategy=default\r\n    \r\n    # Exposes all repositories independently of type visibility and annotations.\r\n    spring.data.rest.detection-strategy=all\r\n    \r\n    # Only repositories annotated with @(Repository)RestResource are exposed, unless their exported flag is set to false.\r\n    spring.data.rest.detection-strategy=annotated\r\n    \r\n    # Only public repositories annotated are exposed.\r\n    spring.data.rest.detection-strategy=visibility\r\n\r\n**References**\r\n\r\n* [3.5.1. Setting the Repository Detection Strategy (3.3.x doc)][1]\r\n* [Setting the Repository Detection Strategy (&#39;Current&#39; doc)][3]\r\n* [Common Application Properties][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/3.3.x/reference/html/#getting-started.setting-repository-detection-strategy\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n  [3]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.setting-repository-detection-strategy","title":"How to disable the default exposure of Spring Data REST repositories?","body":"<p>Looping back here as I was looking for this specific setting. It looks like this is now implemented. In this case, you would want to set <em>spring.data.rest.detection-strategy=annotated</em> to avoid default exposure.</p>\n<p>All application.properties options:</p>\n<pre><code># Exposes all public repository interfaces but considers @(Repository)RestResource\\u2019s `exported flag.\nspring.data.rest.detection-strategy=default\n\n# Exposes all repositories independently of type visibility and annotations.\nspring.data.rest.detection-strategy=all\n\n# Only repositories annotated with @(Repository)RestResource are exposed, unless their exported flag is set to false.\nspring.data.rest.detection-strategy=annotated\n\n# Only public repositories annotated are exposed.\nspring.data.rest.detection-strategy=visibility\n</code></pre>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/rest/docs/3.3.x/reference/html/#getting-started.setting-repository-detection-strategy\" rel=\"nofollow noreferrer\">3.5.1. Setting the Repository Detection Strategy (3.3.x doc)</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.setting-repository-detection-strategy\" rel=\"nofollow noreferrer\">Setting the Repository Detection Strategy ('Current' doc)</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">Common Application Properties</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7602721,"reputation":410,"user_id":5766691,"display_name":"Zaphod Beeblebrox"},"score":0,"creation_date":1619451693,"post_id":66828458,"comment_id":118904092,"body_markdown":"The suggested configuration does in fact hide most of the URIs. The only one left visible is `rel=&quot;profile&quot;` with uri `http://.../profile`. Does anyone know how to hide that &quot;last uri standing&quot;? Thanks","body":"The suggested configuration does in fact hide most of the URIs. The only one left visible is <code>rel=&quot;profile&quot;</code> with uri <code>http:&#47;&#47;...&#47;profile</code>. Does anyone know how to hide that &quot;last uri standing&quot;? Thanks"},{"owner":{"account_id":15238553,"reputation":362,"user_id":13883959,"display_name":"Kush Trivedi"},"score":0,"creation_date":1624805592,"post_id":66828458,"comment_id":120452275,"body_markdown":"Where should this configuration class be defined? Can I define it in a seperate config package of my springboot project? @53c","body":"Where should this configuration class be defined? Can I define it in a seperate config package of my springboot project? @53c"},{"owner":{"account_id":14718942,"reputation":413,"user_id":10630142,"display_name":"53c"},"score":0,"creation_date":1624895728,"post_id":66828458,"comment_id":120476442,"body_markdown":"Hi @KushTrivedi, yes, you can define it in your config package. The class just needs a `@Configuration` annotation for springboot to pick it up on startup. Also, if it&#39;s not in the same package (or child package) where your main method with `@SpringBootApplication` is first executed then you may need to specify the path manually. Though, not 100% sure about that as I typically keep things in child packages.","body":"Hi @KushTrivedi, yes, you can define it in your config package. The class just needs a <code>@Configuration</code> annotation for springboot to pick it up on startup. Also, if it&#39;s not in the same package (or child package) where your main method with <code>@SpringBootApplication</code> is first executed then you may need to specify the path manually. Though, not 100% sure about that as I typically keep things in child packages."},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":1,"creation_date":1680187044,"post_id":66828458,"comment_id":133858632,"body_markdown":"This is such a weird behavior. If it stays enabled, it will basically expose every single entity/repository and every single query as well e.g. `findSomethingByWhatever()` gets its own set of endpoints etc. How on earth would want something like this?","body":"This is such a weird behavior. If it stays enabled, it will basically expose every single entity/repository and every single query as well e.g. <code>findSomethingByWhatever()</code> gets its own set of endpoints etc. How on earth would want something like this?"}],"tags":[],"owner":{"account_id":14718942,"reputation":413,"user_id":10630142,"display_name":"53c"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616824815,"creation_date":1616824815,"answer_id":66828458,"question_id":28330716,"body_markdown":"As of version 3.4 use:\r\n\r\n```\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n\r\n@Configuration\r\npublic class SpringRestConfiguration implements RepositoryRestConfigurer {\r\n    @Override\r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\r\n        config.disableDefaultExposure();\r\n    }\r\n}\r\n```","title":"How to disable the default exposure of Spring Data REST repositories?","body":"<p>As of version 3.4 use:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n@Configuration\npublic class SpringRestConfiguration implements RepositoryRestConfigurer {\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\n        config.disableDefaultExposure();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":448833,"reputation":4580,"user_id":843273,"accept_rate":62,"display_name":"gyoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25878,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":28337740,"answer_count":3,"score":36,"last_activity_date":1695828360,"creation_date":1423081326,"question_id":28330716,"body_markdown":"I have a project that uses spring-data-rest, and has a dependency project that only uses Spring Data. Both projects have spring data repositories and use `@EnableJpaRepositories` to implement their repository interfaces, but I only want to export the repositories in the parent project.\r\n\r\nHere&#39;s my question: is there some way to configure Spring Data REST to only expose rest endpoints for resources in the parent project, without having to explicitly annotate every repository in the dependency project with `@RepositoryRestResource(exported = false)`?\r\n\r\nIf I can only do this with `@RepositoryRestResource` of disabling it, and worse yet, no other project with a different use case will be able to enable REST endpoints for those repositories, my dependency project will have to include Spring Data REST solely for the…","title":"How to disable the default exposure of Spring Data REST repositories?","body":"<p>I have a project that uses spring-data-rest, and has a dependency project that only uses Spring Data. Both projects have spring data repositories and use <code>@EnableJpaRepositories</code> to implement their repository interfaces, but I only want to export the repositories in the parent project.</p>\n\n<p>Here's my question: is there some way to configure Spring Data REST to only expose rest endpoints for resources in the parent project, without having to explicitly annotate every repository in the dependency project with <code>@RepositoryRestResource(exported = false)</code>?</p>\n\n<p>If I can only do this with <code>@RepositoryRestResource</code> of disabling it, and worse yet, no other project with a different use case will be able to enable REST endpoints for those repositories, my dependency project will have to include Spring Data REST solely for the…</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1695504331,"post_id":77164962,"comment_id":136034003,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1695504346,"post_id":77164962,"comment_id":136034006,"body_markdown":"What do you mean by &quot;works&quot;/&quot;doesn&#39;t work&quot;?","body":"What do you mean by &quot;works&quot;/&quot;doesn&#39;t work&quot;?"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":2,"creation_date":1695505228,"post_id":77164962,"comment_id":136034079,"body_markdown":"Please upload the source code as the plain text format","body":"Please upload the source code as the plain text format"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1695506064,"post_id":77164962,"comment_id":136034153,"body_markdown":"Please [format as code](https://meta.stackoverflow.com/questions/251361#251362) the code in your question.","body":"Please <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">format as code</a> the code in your question."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695506873,"post_id":77164962,"comment_id":136034236,"body_markdown":"The result of a `super.clone()` in `Truck` is an instance of `Vehicle`, not `Truck`, so the cast will fail - you&#39;d be better calling the `Truck`s constructor","body":"The result of a <code>super.clone()</code> in <code>Truck</code> is an instance of <code>Vehicle</code>, not <code>Truck</code>, so the cast will fail - you&#39;d be better calling the <code>Truck</code>s constructor"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1695547597,"post_id":77164962,"comment_id":136036788,"body_markdown":"Why the close votes? The full source code is there, albeit not in text form. The question is clear, and I was able to answer it. Cut the newbie some slack, would you?","body":"Why the close votes? The full source code is there, albeit not in text form. The question is clear, and I was able to answer it. Cut the newbie some slack, would you?"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695603038,"creation_date":1695523356,"answer_id":77165558,"question_id":77164962,"body_markdown":"### Original code and its problems\r\n\r\nLike _Madprogrammer_ said, `super.clone()` returns a `Vehicle` instance. In Java, you can cast a subclass to its superclass, but not the other way around. That makes sense from an OOP perspective. A truck is a vehicle, but not every vehicle is a truck. The problem with the `clone()` method is that, in order to work for every class, it returns `Object`, i.e. the compiler cannot help you there, and you need to know what you are doing. Therefore, you get the following runtime error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class Vehicle cannot be cast to class Truck (Vehicle and Truck are in unnamed module of loader &#39;app&#39;)\r\n\tat Truck.clone(Vehicle_77164962.java:28)\r\n\tat Vehicle.main(Vehicle_77164962.java:6)\r\n```\r\n\r\n### Improvements, step 1\r\n\r\nYou can, however, use [covariant overrides](https://stackoverflow.com/a/1882587/1082681) and make your `clone()` methods return more specific types. Then you do not need to cast to and from `Object` anymore. That does not solve your problem here, but helps you as guide rails in your programs.\r\n\r\nWhat really solves the problem is to actually construct a `Truck` instead of a `Vehicle` that does not know anything about the specialisations of `Truck`. Credits also go to _Madprogrammer_.\r\n\r\nYour example code is kind of cryptic with regard to field naming, and the subclass constructor puts the same field value in both the superclass&#39;s `x` and its own `y` fields. To make it more illustrative, I changed your code a bit:\r\n\r\n```java\r\nclass Vehicle implements Cloneable {\r\n    protected String name;\r\n\r\n    public Vehicle(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public Vehicle clone() {\r\n        return new Vehicle(name);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Truck truck = new Truck(&quot;ACME mark IV&quot;, 8);\r\n        System.out.println(&quot;Original: &quot; + truck);\r\n        System.out.println(&quot;Clone:    &quot; + truck.clone());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Truck extends Vehicle {\r\n    private int numberOfWheels;\r\n\r\n    public Truck(String name, int numberOfWheels) {\r\n        super(name);\r\n        this.numberOfWheels = numberOfWheels;\r\n    }\r\n\r\n    @Override\r\n    public Truck clone() {\r\n        return new Truck(name, numberOfWheels);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Truck{name=&#39;&quot; + name + &quot;&#39;, numberOfWheels=&quot; + numberOfWheels + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nRunning the code, yields the following console output:\r\n\r\n```none\r\nOriginal: Truck{name=&#39;ACME mark IV&#39;, numberOfWheels=8}\r\nClone:    Truck{name=&#39;ACME mark IV&#39;, numberOfWheels=8}\r\n```\r\n\r\n### Improvements, step 2\r\n\r\nIf you read the [javadoc for `Object.clone()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--), you will notice that actually, you do not need to create objects by yourself, if you call `super.clone()`. In your original code, you tried that in the subclass, but the parent class did not obey to that rule, so it did not work. Let us change the code again and fix it:\r\n\r\n```java\r\nclass Vehicle implements Cloneable {\r\n    protected String name;\r\n\r\n    public Vehicle(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public Vehicle clone() throws CloneNotSupportedException {\r\n        return (Vehicle) super.clone();\r\n    }\r\n\r\n    public static void main(String[] args) throws CloneNotSupportedException {\r\n        Truck truck = new Truck(&quot;ACME mark IV&quot;, 8);\r\n        System.out.println(&quot;Original: &quot; + truck);\r\n        System.out.println(&quot;Clone:    &quot; + truck.clone());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Truck extends Vehicle {\r\n    private int numberOfWheels;\r\n\r\n    public Truck(String name, int numberOfWheels) {\r\n        super(name);\r\n        this.numberOfWheels = numberOfWheels;\r\n    }\r\n\r\n    @Override\r\n    public Truck clone() throws CloneNotSupportedException {\r\n        return (Truck) super.clone();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Truck{name=&#39;&quot; + name + &quot;&#39;, numberOfWheels=&quot; + numberOfWheels + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nNow, you need to cast a little bit again for the covariant overrides to work, and you correctly declare the super method&#39;s `CloneNotSupportedException`, but now you have a canonical Java solution.\r\n\r\nThe console log is exactly as before.\r\n\r\nPlease note: If you do not need or want the covariant overrides and are content with the `clone` methods returning `Object` and are willing to cast the results by yourself, you do not need to override `Object.clone()` at all. The code will still work except for the casting overhead.","title":"Problem Inheritance, I don&#39;t understand cloning between the cloning order","body":"<h3>Original code and its problems</h3>\n<p>Like <em>Madprogrammer</em> said, <code>super.clone()</code> returns a <code>Vehicle</code> instance. In Java, you can cast a subclass to its superclass, but not the other way around. That makes sense from an OOP perspective. A truck is a vehicle, but not every vehicle is a truck. The problem with the <code>clone()</code> method is that, in order to work for every class, it returns <code>Object</code>, i.e. the compiler cannot help you there, and you need to know what you are doing. Therefore, you get the following runtime error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class Vehicle cannot be cast to class Truck (Vehicle and Truck are in unnamed module of loader 'app')\n    at Truck.clone(Vehicle_77164962.java:28)\n    at Vehicle.main(Vehicle_77164962.java:6)\n</code></pre>\n<h3>Improvements, step 1</h3>\n<p>You can, however, use <a href=\"https://stackoverflow.com/a/1882587/1082681\">covariant overrides</a> and make your <code>clone()</code> methods return more specific types. Then you do not need to cast to and from <code>Object</code> anymore. That does not solve your problem here, but helps you as guide rails in your programs.</p>\n<p>What really solves the problem is to actually construct a <code>Truck</code> instead of a <code>Vehicle</code> that does not know anything about the specialisations of <code>Truck</code>. Credits also go to <em>Madprogrammer</em>.</p>\n<p>Your example code is kind of cryptic with regard to field naming, and the subclass constructor puts the same field value in both the superclass's <code>x</code> and its own <code>y</code> fields. To make it more illustrative, I changed your code a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Vehicle implements Cloneable {\n    protected String name;\n\n    public Vehicle(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public Vehicle clone() {\n        return new Vehicle(name);\n    }\n\n    public static void main(String[] args) {\n        Truck truck = new Truck(&quot;ACME mark IV&quot;, 8);\n        System.out.println(&quot;Original: &quot; + truck);\n        System.out.println(&quot;Clone:    &quot; + truck.clone());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Truck extends Vehicle {\n    private int numberOfWheels;\n\n    public Truck(String name, int numberOfWheels) {\n        super(name);\n        this.numberOfWheels = numberOfWheels;\n    }\n\n    @Override\n    public Truck clone() {\n        return new Truck(name, numberOfWheels);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Truck{name='&quot; + name + &quot;', numberOfWheels=&quot; + numberOfWheels + '}';\n    }\n}\n</code></pre>\n<p>Running the code, yields the following console output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Original: Truck{name='ACME mark IV', numberOfWheels=8}\nClone:    Truck{name='ACME mark IV', numberOfWheels=8}\n</code></pre>\n<h3>Improvements, step 2</h3>\n<p>If you read the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--\" rel=\"nofollow noreferrer\">javadoc for <code>Object.clone()</code></a>, you will notice that actually, you do not need to create objects by yourself, if you call <code>super.clone()</code>. In your original code, you tried that in the subclass, but the parent class did not obey to that rule, so it did not work. Let us change the code again and fix it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Vehicle implements Cloneable {\n    protected String name;\n\n    public Vehicle(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public Vehicle clone() throws CloneNotSupportedException {\n        return (Vehicle) super.clone();\n    }\n\n    public static void main(String[] args) throws CloneNotSupportedException {\n        Truck truck = new Truck(&quot;ACME mark IV&quot;, 8);\n        System.out.println(&quot;Original: &quot; + truck);\n        System.out.println(&quot;Clone:    &quot; + truck.clone());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Truck extends Vehicle {\n    private int numberOfWheels;\n\n    public Truck(String name, int numberOfWheels) {\n        super(name);\n        this.numberOfWheels = numberOfWheels;\n    }\n\n    @Override\n    public Truck clone() throws CloneNotSupportedException {\n        return (Truck) super.clone();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Truck{name='&quot; + name + &quot;', numberOfWheels=&quot; + numberOfWheels + '}';\n    }\n}\n</code></pre>\n<p>Now, you need to cast a little bit again for the covariant overrides to work, and you correctly declare the super method's <code>CloneNotSupportedException</code>, but now you have a canonical Java solution.</p>\n<p>The console log is exactly as before.</p>\n<p>Please note: If you do not need or want the covariant overrides and are content with the <code>clone</code> methods returning <code>Object</code> and are willing to cast the results by yourself, you do not need to override <code>Object.clone()</code> at all. The code will still work except for the casting overhead.</p>\n"}],"owner":{"account_id":28322865,"reputation":9,"user_id":21658357,"display_name":"David Vega"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695828245,"creation_date":1695504018,"question_id":77164962,"body_markdown":"I hope you are well, I have a question regarding the following code, because when instantiating the object in the manner\r\n\r\n```java\r\nVehicle v = new Vehicle(4);\r\nVehicle w = (Vehicle) v.clone();\r\n```\r\n\r\nIt works, but when I instantiate it like this it doesn&#39;t work for me:\r\n\r\n```java\r\nTruck s = new Truck(4);\r\nTruck t = (Truck) s.clone();\r\n```\r\n\r\n(Could you explain to me in &quot;Easy&quot; words because I still don&#39;t understand all the concepts very well) (If I&#39;m not wrong, it&#39;s a problem with casting, I think, or it could be due to cloning the object twice.)\r\n\r\n(If I&#39;m not wrong, it&#39;s a problem with casting, I think, or it could be due to cloning the object twice.)\r\n\r\n```java\r\nclass Vehicle implements Cloneable {\r\n    private int x;\r\n\r\n    public static void main(String[] args) {\r\n        Truck s = new Truck(4);\r\n        Truck t = (Truck) s.clone();\r\n    }\r\n\r\n    public Vehicle(int y) {\r\n        x = y;\r\n    }\r\n\r\n    public Object clone() {\r\n        Object result = new Vehicle(this.x);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Truck extends Vehicle {\r\n    private int y;\r\n\r\n    public Truck(int z) {\r\n        super(z);\r\n        y = z;\r\n    }\r\n\r\n    public Object clone() {\r\n        Truck result = (Truck) super.clone();\r\n        result.y = this.y;\r\n        return result;\r\n    }\r\n}\r\n```\r\n","title":"Problem Inheritance, I don&#39;t understand cloning between the cloning order","body":"<p>I hope you are well, I have a question regarding the following code, because when instantiating the object in the manner</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vehicle v = new Vehicle(4);\nVehicle w = (Vehicle) v.clone();\n</code></pre>\n<p>It works, but when I instantiate it like this it doesn't work for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Truck s = new Truck(4);\nTruck t = (Truck) s.clone();\n</code></pre>\n<p>(Could you explain to me in &quot;Easy&quot; words because I still don't understand all the concepts very well) (If I'm not wrong, it's a problem with casting, I think, or it could be due to cloning the object twice.)</p>\n<p>(If I'm not wrong, it's a problem with casting, I think, or it could be due to cloning the object twice.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Vehicle implements Cloneable {\n    private int x;\n\n    public static void main(String[] args) {\n        Truck s = new Truck(4);\n        Truck t = (Truck) s.clone();\n    }\n\n    public Vehicle(int y) {\n        x = y;\n    }\n\n    public Object clone() {\n        Object result = new Vehicle(this.x);\n        return result;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Truck extends Vehicle {\n    private int y;\n\n    public Truck(int z) {\n        super(z);\n        y = z;\n    }\n\n    public Object clone() {\n        Truck result = (Truck) super.clone();\n        result.y = this.y;\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","websphere","ejb"],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695828219,"creation_date":1695828219,"question_id":77188850,"body_markdown":"I maintain a platform used by a hundred or so SpringBoot (v2.7.11) services. Some of them call legacy EJBs running on a Websphere server.  The clients use the IBM Websphere Thinclient artifact (version 8.5.0).\r\n\r\nSome of that subset of services get a number of the following warning immediately at startup:\r\n\r\n&gt;NMSV0307E: A java: URL name was used, but Naming was not configured to handle java: URL names. The likely cause is a user in error attempting to specify a java: URL name in a non-J2EE client or server environment. Throwing ConfigurationException.\r\n\r\nIn some of those cases, this causes the service startup to take at least an order of magnitude longer than necessary.  I was able to discover where this warning was coming from, which is `com.ibm.ws.naming.java.javaURLContextFactory.isNameSpaceAccessable()`. I set a breakpoint there and walked up the stack, but that didn&#39;t really help. It showed in the guts of Spring startup that it was trying to do something with PropertySources, and then it found a JNDIPropertySource, which led to this warning.  All of this obviously occurs outside the scope of an EJB call, the service is just starting up to prepare to take requests.\r\n\r\nIn a couple of these services, I found that after emitting hundreds of those warnings, it then said that Tomcat failed to start up, and it didn&#39;t give any reason.  I discovered that setting breakpoints in `org.apache.catalina.core.StandardContext` wherever it sets &quot;ok = false&quot; would lead me to where it was failing. It hit one of those, and when I analyzed where it was failing, it led me to discover that this &quot;thinclient&quot; artifact jar encapsulates several different JEE packages that are also included in artifacts used by SpringBoot, and the packages provided by SpringBoot are newer than what comes in the thinclient jar.  I found that the &quot;thinclient&quot; was placed earlier in the classpath than those other artifacts, so it was getting the old packages.\r\n\r\nAcknowledging that I don&#39;t know exactly what is going on here, I proceeded to produce a modified copy of that `thinclient` artifact, which I call `thinclient-minimized`, which omits several JEE packages that are duplicated in other artifacts pulled in by SpringBoot. I changed the pom.xml of that service to use the `thinclient-minimized` artifact.  In one service, that fixed the Tomcat startup problem.\r\n\r\nI then discovered another service with similar problems.  Numerous NMSV307E warnings at startup, and then it finally failed in `org.springframework.jmx.support.WebSphereMBeanServerFactoryBean.afterPropertiesSet()` because &#39;com.ibm.websphere.management.AdminServiceFactory.getMBeanFactory()` was returning NULL, resulting in an NPE. I stepped through the code in `com.ibm.websphere.management.AdminServiceFactory.getMBeanFactory()`, and it returns NULL because, and this is a guess, because the profilestack was empty (not sure what that means).\r\n\r\nI tried changing this service to use the `thinclient-minimized` artifact, and it&#39;s possible that this reduced the number of NMSV307E warnings, but it didn&#39;t fix the final NPE.\r\n\r\nConcerning the use of version 8.5.0 of the Thinclient artifact, I was told that we can&#39;t yet upgrade to version 9.0 because that won&#39;t be compatible with the Websphere server we connect to.\r\n\r\nI could use some advice on how we can move forward here.","title":"Springboot service using Websphere thinclient gets constant NMSV307E at startup, and finally fails in Websphere factorybean","body":"<p>I maintain a platform used by a hundred or so SpringBoot (v2.7.11) services. Some of them call legacy EJBs running on a Websphere server.  The clients use the IBM Websphere Thinclient artifact (version 8.5.0).</p>\n<p>Some of that subset of services get a number of the following warning immediately at startup:</p>\n<blockquote>\n<p>NMSV0307E: A java: URL name was used, but Naming was not configured to handle java: URL names. The likely cause is a user in error attempting to specify a java: URL name in a non-J2EE client or server environment. Throwing ConfigurationException.</p>\n</blockquote>\n<p>In some of those cases, this causes the service startup to take at least an order of magnitude longer than necessary.  I was able to discover where this warning was coming from, which is <code>com.ibm.ws.naming.java.javaURLContextFactory.isNameSpaceAccessable()</code>. I set a breakpoint there and walked up the stack, but that didn't really help. It showed in the guts of Spring startup that it was trying to do something with PropertySources, and then it found a JNDIPropertySource, which led to this warning.  All of this obviously occurs outside the scope of an EJB call, the service is just starting up to prepare to take requests.</p>\n<p>In a couple of these services, I found that after emitting hundreds of those warnings, it then said that Tomcat failed to start up, and it didn't give any reason.  I discovered that setting breakpoints in <code>org.apache.catalina.core.StandardContext</code> wherever it sets &quot;ok = false&quot; would lead me to where it was failing. It hit one of those, and when I analyzed where it was failing, it led me to discover that this &quot;thinclient&quot; artifact jar encapsulates several different JEE packages that are also included in artifacts used by SpringBoot, and the packages provided by SpringBoot are newer than what comes in the thinclient jar.  I found that the &quot;thinclient&quot; was placed earlier in the classpath than those other artifacts, so it was getting the old packages.</p>\n<p>Acknowledging that I don't know exactly what is going on here, I proceeded to produce a modified copy of that <code>thinclient</code> artifact, which I call <code>thinclient-minimized</code>, which omits several JEE packages that are duplicated in other artifacts pulled in by SpringBoot. I changed the pom.xml of that service to use the <code>thinclient-minimized</code> artifact.  In one service, that fixed the Tomcat startup problem.</p>\n<p>I then discovered another service with similar problems.  Numerous NMSV307E warnings at startup, and then it finally failed in <code>org.springframework.jmx.support.WebSphereMBeanServerFactoryBean.afterPropertiesSet()</code> because 'com.ibm.websphere.management.AdminServiceFactory.getMBeanFactory()<code>was returning NULL, resulting in an NPE. I stepped through the code in</code>com.ibm.websphere.management.AdminServiceFactory.getMBeanFactory()`, and it returns NULL because, and this is a guess, because the profilestack was empty (not sure what that means).</p>\n<p>I tried changing this service to use the <code>thinclient-minimized</code> artifact, and it's possible that this reduced the number of NMSV307E warnings, but it didn't fix the final NPE.</p>\n<p>Concerning the use of version 8.5.0 of the Thinclient artifact, I was told that we can't yet upgrade to version 9.0 because that won't be compatible with the Websphere server we connect to.</p>\n<p>I could use some advice on how we can move forward here.</p>\n"},{"tags":["java","hibernate","jpa","generics","hashmap"],"answers":[{"tags":[],"owner":{"account_id":6265662,"reputation":59,"user_id":4871490,"display_name":"Tom&#225;s Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646460116,"creation_date":1646460116,"answer_id":71359901,"question_id":71328893,"body_markdown":"The problem was that `bars` is considered a separate bag by Hibernate, and eager fetching of multiple bags simultaneously can result in cardinality problems such as this.\r\n\r\nI removed `fetch = FetchType.EAGER` from the `Bars` map, and added the \r\n`@Transactional` annotation to the calling method, and all is well. Also, I replaced any direct references to lazily loaded fields (such as in `toString()` methods) with calls to their respective getters.","title":"JPA @ElementCollection on HashMap with generics returns duplicates","body":"<p>The problem was that <code>bars</code> is considered a separate bag by Hibernate, and eager fetching of multiple bags simultaneously can result in cardinality problems such as this.</p>\n<p>I removed <code>fetch = FetchType.EAGER</code> from the <code>Bars</code> map, and added the\n<code>@Transactional</code> annotation to the calling method, and all is well. Also, I replaced any direct references to lazily loaded fields (such as in <code>toString()</code> methods) with calls to their respective getters.</p>\n"},{"tags":[],"owner":{"account_id":6518770,"reputation":164,"user_id":5043640,"display_name":"slonepi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695828197,"creation_date":1695828197,"answer_id":77188845,"question_id":71328893,"body_markdown":"Changing the Fetching type from Lazy to Easy as @Tomas recommended solves the duplication, however it also impact the results.\r\n\r\nIf you want to keep the EagerType to EAGER, just specify the FechMode to Select:\r\n\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)    \r\n    @Fetch(FetchMode.SELECT)","title":"JPA @ElementCollection on HashMap with generics returns duplicates","body":"<p>Changing the Fetching type from Lazy to Easy as @Tomas recommended solves the duplication, however it also impact the results.</p>\n<p>If you want to keep the EagerType to EAGER, just specify the FechMode to Select:</p>\n<pre><code>@ElementCollection(fetch = FetchType.EAGER)    \n@Fetch(FetchMode.SELECT)\n</code></pre>\n"}],"owner":{"account_id":6265662,"reputation":59,"user_id":4871490,"display_name":"Tom&#225;s Gray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695828197,"creation_date":1646253726,"question_id":71328893,"body_markdown":"This one is giving me fits. \r\n\r\n**Problem Statement:**\r\n\r\nWhen fetching a `Marklar` from the database, it is returned with duplicated `Foo`s. Specifically, there are as many `Foo`s as there are elements in the `bars` HashMap. For example, if I am saving a `Marklar` with **one** `Foo` in its `FooCollection`, and if `bars` is:\r\n\r\n    {0, &quot;data1&quot;, 1, &quot;data2&quot;, 2, &quot;data3&quot;}\r\n\r\nI will get **three** `Foo`s in the `FooCollection` when I read it back. What is going on?\r\n\r\n**Definitions:**\r\n\r\nI have the following class structure:\r\n\r\n       Foo&lt;T&gt;\r\n         ^\r\n         |\r\n         | 1:M\r\n    FooContainer\r\n         ^\r\n         |\r\n         | 1:1\r\n    &lt;&lt;Marklar&gt;&gt;\r\n\r\nA `Marklar` has a `FooCollection`, which has several `Foo`s. A `Foo` is a generic class defined as:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    public class Foo&lt;T&gt; {\r\n    \r\n      @Id @GeneratedValue private Long id;\r\n    \r\n      @ElementCollection(fetch = FetchType.EAGER)\r\n      private final Map&lt;Integer, String&gt; bars = new HashMap&lt;&gt;();\r\n    \r\n      @Type(type = &quot;java.lang.Class&quot;)\r\n      private final Class&lt;T&gt; clazz;\r\n    \r\n      @Column(columnDefinition = &quot;LONGTEXT&quot;)\r\n      @Convert(converter = PatternConverter.class)\r\n      private Pattern pattern;\r\n    \r\n      public void addBar(Integer key, String bar) {\r\n        bars.put(key, bar);\r\n      }\r\n    \r\n      public Foo(Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n      }\r\n    \r\n      public Foo() {\r\n        this.clazz = null;\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Foo)) return false;\r\n        Foo&lt;?&gt; foo = (Foo&lt;?&gt;) o;\r\n        return Objects.equals(getId(), foo.getId())\r\n            &amp;&amp; Objects.equals(getBars(), foo.getBars())\r\n            &amp;&amp; Objects.equals(getClazz(), foo.getClazz())\r\n            &amp;&amp; Objects.equals(getPattern(), foo.getPattern());\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(getId(), getBars(), getClazz(), getPattern());\r\n      }\r\n    }\r\n\r\n\r\n**Problem Statement:**\r\n\r\nWhen fetching a `Marklar` from the database, it is returned with duplicated `Foo`s. Specifically, there are as many `Foo`s as there are elements in the `bars` HashMap. For example, if I am saving a `Marklar` with **one** `Foo` in its `FooCollection`, and if `bars` is:\r\n\r\n    {0, &quot;data1&quot;, 1, &quot;data2&quot;, 2, &quot;data3&quot;}\r\n\r\nI will get **three** `Foo`s in the `FooContainer` when I read it back. What is going on?\r\n\r\n**Definitions:**\r\n\r\nI have the following class structure:\r\n\r\n       Foo&lt;T&gt;\r\n         ^\r\n         |\r\n         | 1:M\r\n    FooCollection\r\n         ^\r\n         |\r\n         | 1:1\r\n    &lt;&lt;Marklar&gt;&gt;\r\n\r\nA `Marklar` has a `FooContainer`, which has several `Foo`s. A `Foo` is a generic class defined as:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    public class Foo&lt;T&gt; {\r\n    \r\n      @Id @GeneratedValue private Long id;\r\n    \r\n      @ElementCollection(fetch = FetchType.EAGER)\r\n      private final Map&lt;Integer, String&gt; bars = new HashMap&lt;&gt;();\r\n    \r\n      @Type(type = &quot;java.lang.Class&quot;)\r\n      private final Class&lt;T&gt; clazz;\r\n    \r\n      @Column(columnDefinition = &quot;LONGTEXT&quot;)\r\n      @Convert(converter = PatternConverter.class)\r\n      private Pattern pattern;\r\n    \r\n      public void addBar(Integer key, String bar) {\r\n        bars.put(key, bar);\r\n      }\r\n    \r\n      public Foo(Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n      }\r\n    \r\n      public Foo() {\r\n        this.clazz = null;\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Foo)) return false;\r\n        Foo&lt;?&gt; foo = (Foo&lt;?&gt;) o;\r\n        return Objects.equals(getId(), foo.getId())\r\n            &amp;&amp; Objects.equals(getBars(), foo.getBars())\r\n            &amp;&amp; Objects.equals(getClazz(), foo.getClazz())\r\n            &amp;&amp; Objects.equals(getPattern(), foo.getPattern());\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(getId(), getBars(), getClazz(), getPattern());\r\n      }\r\n    }\r\n\r\n\r\n`FooContainer`:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    public class FooContainer {\r\n  \r\n      @Id @GeneratedValue private Long id;\r\n  \r\n      @OneToMany(targetEntity = Foo.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n      private final List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\r\n  \r\n      public void addFoo(Foo foo) {\r\n        foos.add(foo);\r\n      }\r\n  \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof FooContainer)) return false;\r\n        FooContainer that = (FooContainer) o;\r\n        return Objects.equals(getId(), that.getId()) &amp;&amp; Objects.equals(getFoos(), that.getFoos());\r\n      }\r\n  \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(getId(), getFoos());\r\n      }\r\n    }\r\n\r\n`Marklars` are fetched from the `MarklarRepository`:\r\n\r\n    @Repository\r\n    public interface MarklarRepository extends JpaRepository&lt;Marklar&lt;?&gt;, UUID&gt; {}\r\n\r\n\r\nA `Marklar` is an abstract class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @ToString\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class Marklar&lt;T&gt; {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        private UUID id;\r\n    \r\n        @Convert(converter = UriConverter.class)\r\n        private final URI baseUri;\r\n    \r\n        @Type(type = &quot;java.lang.Class&quot;)\r\n        private final Class&lt;T&gt; clazz;\r\n    \r\n        private boolean enabled = true;\r\n    \r\n        public Marklar() {\r\n            this.baseUri = null;\r\n            this.clazz = null;\r\n        }\r\n    \r\n        public Marklar(@NotNull URI baseUri, @NotNull Class&lt;T&gt; clazz) {\r\n            this.baseUri = baseUri;\r\n            this.clazz = clazz;\r\n        }    \r\n    }\r\n\r\n\r\nImplemented as a `DefaultMarklar`:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString(callSuper = true)\r\n    @Entity\r\n    @RequiredArgsConstructor\r\n    public final class DefaultMarklar&lt;T&gt; extends Marklar&lt;T&gt; {\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        private final FooContainer fooContainer;\r\n    \r\n        public DefaultMarklar() {\r\n            super();\r\n            this.fooContainer = null;\r\n        }\r\n    \r\n        public DefaultMarklar(\r\n                @NotNull URI baseUri, @NotNull Class&lt;T&gt; clazz, @NotNull FooContainer fooContainer) {\r\n            super(baseUri, clazz);\r\n            this.fooContainer = fooContainer;\r\n        }\r\n    }","title":"JPA @ElementCollection on HashMap with generics returns duplicates","body":"<p>This one is giving me fits.</p>\n<p><strong>Problem Statement:</strong></p>\n<p>When fetching a <code>Marklar</code> from the database, it is returned with duplicated <code>Foo</code>s. Specifically, there are as many <code>Foo</code>s as there are elements in the <code>bars</code> HashMap. For example, if I am saving a <code>Marklar</code> with <strong>one</strong> <code>Foo</code> in its <code>FooCollection</code>, and if <code>bars</code> is:</p>\n<pre><code>{0, &quot;data1&quot;, 1, &quot;data2&quot;, 2, &quot;data3&quot;}\n</code></pre>\n<p>I will get <strong>three</strong> <code>Foo</code>s in the <code>FooCollection</code> when I read it back. What is going on?</p>\n<p><strong>Definitions:</strong></p>\n<p>I have the following class structure:</p>\n<pre><code>   Foo&lt;T&gt;\n     ^\n     |\n     | 1:M\nFooContainer\n     ^\n     |\n     | 1:1\n&lt;&lt;Marklar&gt;&gt;\n</code></pre>\n<p>A <code>Marklar</code> has a <code>FooCollection</code>, which has several <code>Foo</code>s. A <code>Foo</code> is a generic class defined as:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\npublic class Foo&lt;T&gt; {\n\n  @Id @GeneratedValue private Long id;\n\n  @ElementCollection(fetch = FetchType.EAGER)\n  private final Map&lt;Integer, String&gt; bars = new HashMap&lt;&gt;();\n\n  @Type(type = &quot;java.lang.Class&quot;)\n  private final Class&lt;T&gt; clazz;\n\n  @Column(columnDefinition = &quot;LONGTEXT&quot;)\n  @Convert(converter = PatternConverter.class)\n  private Pattern pattern;\n\n  public void addBar(Integer key, String bar) {\n    bars.put(key, bar);\n  }\n\n  public Foo(Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  public Foo() {\n    this.clazz = null;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Foo)) return false;\n    Foo&lt;?&gt; foo = (Foo&lt;?&gt;) o;\n    return Objects.equals(getId(), foo.getId())\n        &amp;&amp; Objects.equals(getBars(), foo.getBars())\n        &amp;&amp; Objects.equals(getClazz(), foo.getClazz())\n        &amp;&amp; Objects.equals(getPattern(), foo.getPattern());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getId(), getBars(), getClazz(), getPattern());\n  }\n}\n</code></pre>\n<p><strong>Problem Statement:</strong></p>\n<p>When fetching a <code>Marklar</code> from the database, it is returned with duplicated <code>Foo</code>s. Specifically, there are as many <code>Foo</code>s as there are elements in the <code>bars</code> HashMap. For example, if I am saving a <code>Marklar</code> with <strong>one</strong> <code>Foo</code> in its <code>FooCollection</code>, and if <code>bars</code> is:</p>\n<pre><code>{0, &quot;data1&quot;, 1, &quot;data2&quot;, 2, &quot;data3&quot;}\n</code></pre>\n<p>I will get <strong>three</strong> <code>Foo</code>s in the <code>FooContainer</code> when I read it back. What is going on?</p>\n<p><strong>Definitions:</strong></p>\n<p>I have the following class structure:</p>\n<pre><code>   Foo&lt;T&gt;\n     ^\n     |\n     | 1:M\nFooCollection\n     ^\n     |\n     | 1:1\n&lt;&lt;Marklar&gt;&gt;\n</code></pre>\n<p>A <code>Marklar</code> has a <code>FooContainer</code>, which has several <code>Foo</code>s. A <code>Foo</code> is a generic class defined as:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\npublic class Foo&lt;T&gt; {\n\n  @Id @GeneratedValue private Long id;\n\n  @ElementCollection(fetch = FetchType.EAGER)\n  private final Map&lt;Integer, String&gt; bars = new HashMap&lt;&gt;();\n\n  @Type(type = &quot;java.lang.Class&quot;)\n  private final Class&lt;T&gt; clazz;\n\n  @Column(columnDefinition = &quot;LONGTEXT&quot;)\n  @Convert(converter = PatternConverter.class)\n  private Pattern pattern;\n\n  public void addBar(Integer key, String bar) {\n    bars.put(key, bar);\n  }\n\n  public Foo(Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  public Foo() {\n    this.clazz = null;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Foo)) return false;\n    Foo&lt;?&gt; foo = (Foo&lt;?&gt;) o;\n    return Objects.equals(getId(), foo.getId())\n        &amp;&amp; Objects.equals(getBars(), foo.getBars())\n        &amp;&amp; Objects.equals(getClazz(), foo.getClazz())\n        &amp;&amp; Objects.equals(getPattern(), foo.getPattern());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getId(), getBars(), getClazz(), getPattern());\n  }\n}\n</code></pre>\n<p><code>FooContainer</code>:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\npublic class FooContainer {\n\n  @Id @GeneratedValue private Long id;\n\n  @OneToMany(targetEntity = Foo.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n  private final List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\n\n  public void addFoo(Foo foo) {\n    foos.add(foo);\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof FooContainer)) return false;\n    FooContainer that = (FooContainer) o;\n    return Objects.equals(getId(), that.getId()) &amp;&amp; Objects.equals(getFoos(), that.getFoos());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getId(), getFoos());\n  }\n}\n</code></pre>\n<p><code>Marklars</code> are fetched from the <code>MarklarRepository</code>:</p>\n<pre><code>@Repository\npublic interface MarklarRepository extends JpaRepository&lt;Marklar&lt;?&gt;, UUID&gt; {}\n</code></pre>\n<p>A <code>Marklar</code> is an abstract class:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@ToString\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Marklar&lt;T&gt; {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    private UUID id;\n\n    @Convert(converter = UriConverter.class)\n    private final URI baseUri;\n\n    @Type(type = &quot;java.lang.Class&quot;)\n    private final Class&lt;T&gt; clazz;\n\n    private boolean enabled = true;\n\n    public Marklar() {\n        this.baseUri = null;\n        this.clazz = null;\n    }\n\n    public Marklar(@NotNull URI baseUri, @NotNull Class&lt;T&gt; clazz) {\n        this.baseUri = baseUri;\n        this.clazz = clazz;\n    }    \n}\n</code></pre>\n<p>Implemented as a <code>DefaultMarklar</code>:</p>\n<pre><code>@Getter\n@Setter\n@ToString(callSuper = true)\n@Entity\n@RequiredArgsConstructor\npublic final class DefaultMarklar&lt;T&gt; extends Marklar&lt;T&gt; {\n\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private final FooContainer fooContainer;\n\n    public DefaultMarklar() {\n        super();\n        this.fooContainer = null;\n    }\n\n    public DefaultMarklar(\n            @NotNull URI baseUri, @NotNull Class&lt;T&gt; clazz, @NotNull FooContainer fooContainer) {\n        super(baseUri, clazz);\n        this.fooContainer = fooContainer;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","webdriver"],"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695827603,"creation_date":1695827603,"question_id":77188770,"body_markdown":"I want to connect to a browser session of this specific anti-detect browser called Incogniton.\r\n\r\nIt does support selenium browser automation but it only support python. I dont know nothing about python and I only have knowledge in java. So I want to manually open the browser session first then connect selenium to control the driver.\r\n\r\nI have tried to follow this tutorial: https://learn-automation.com/how-to-execute-selenium-scripts-on-already-opened-browser/ with this code but no luck:\r\n\r\n```\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport java.io.IOException;\r\n\r\npublic class selenium {\r\n    public static void main(String[] args) throws InterruptedException, IOException {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\test\\\\browser\\\\117\\\\win\\\\chrome.exe&quot;); //this is the dir of the Incogniton&#39;s chrome driver\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;127.0.0.1:9222&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;https://google.com&quot;);\r\n        System.out.println(driver.getTitle());\r\n\r\n}}\r\n```\r\nAnd its giving me this error\r\n\r\n`[4540:3448:0927/210547.993:ERROR:policy_logger.cc(154)] :components\\enterprise\\browser\\controller\\chrome_browser_cloud_management_controller.cc(163) Cloud management controller initialization aborted as CBCM is not enabled.`\r\n\r\n`Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. `\r\n\r\nSo how can I fix this problem and how can I using java with selenium to control the driver even it only support python ?\r\n\r\nHeres Incogniton docs about selenium automation: https://incogniton.com/knowledge%20center/selenium-browser-automation/\r\n","title":"How to connect to a Anti-Detect browser (Incogniton) using selenium java","body":"<p>I want to connect to a browser session of this specific anti-detect browser called Incogniton.</p>\n<p>It does support selenium browser automation but it only support python. I dont know nothing about python and I only have knowledge in java. So I want to manually open the browser session first then connect selenium to control the driver.</p>\n<p>I have tried to follow this tutorial: <a href=\"https://learn-automation.com/how-to-execute-selenium-scripts-on-already-opened-browser/\" rel=\"nofollow noreferrer\">https://learn-automation.com/how-to-execute-selenium-scripts-on-already-opened-browser/</a> with this code but no luck:</p>\n<pre><code>import org.openqa.selenium.chrome.ChromeOptions;\nimport java.io.IOException;\n\npublic class selenium {\n    public static void main(String[] args) throws InterruptedException, IOException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\test\\\\browser\\\\117\\\\win\\\\chrome.exe&quot;); //this is the dir of the Incogniton's chrome driver\n\n        ChromeOptions options = new ChromeOptions();\n        options.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;127.0.0.1:9222&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(&quot;https://google.com&quot;);\n        System.out.println(driver.getTitle());\n\n}}\n</code></pre>\n<p>And its giving me this error</p>\n<p><code>[4540:3448:0927/210547.993:ERROR:policy_logger.cc(154)] :components\\enterprise\\browser\\controller\\chrome_browser_cloud_management_controller.cc(163) Cloud management controller initialization aborted as CBCM is not enabled.</code></p>\n<p><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. </code></p>\n<p>So how can I fix this problem and how can I using java with selenium to control the driver even it only support python ?</p>\n<p>Heres Incogniton docs about selenium automation: <a href=\"https://incogniton.com/knowledge%20center/selenium-browser-automation/\" rel=\"nofollow noreferrer\">https://incogniton.com/knowledge%20center/selenium-browser-automation/</a></p>\n"},{"tags":["java","spring","maven","tomcat"],"comments":[{"owner":{"account_id":543931,"reputation":473,"user_id":913221,"accept_rate":70,"display_name":"lsiva"},"score":1,"creation_date":1468947416,"post_id":38464161,"comment_id":64332707,"body_markdown":"Looks like this thread addressed a similar issue [LifecycleProcessor not initialized - call &#39;refresh&#39; before invoking lifecycle methods via the context](http://stackoverflow.com/questions/30428725/lifecycleprocessor-not-initialized-call-refresh-before-invoking-lifecycle-me)","body":"Looks like this thread addressed a similar issue <a href=\"http://stackoverflow.com/questions/30428725/lifecycleprocessor-not-initialized-call-refresh-before-invoking-lifecycle-me\">LifecycleProcessor not initialized - call &#39;refresh&#39; before invoking lifecycle methods via the context</a>"}],"answers":[{"tags":[],"owner":{"account_id":966462,"reputation":143,"user_id":4728560,"display_name":"Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477159331,"creation_date":1477159331,"answer_id":40195340,"question_id":38464161,"body_markdown":"Please check the web.xml file --the following .. is correct or not\r\n\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\nfrom the above  if we do not write proper param name .. then the same error will come and if we do not give proper param value means that exact path and exact name of the file .. then we will get the same error.","title":"java.lang.IllegalStateException: LifecycleProcessor not initialized .... context - on my chat application","body":"<p>Please check the web.xml file --the following .. is correct or not</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>from the above  if we do not write proper param name .. then the same error will come and if we do not give proper param value means that exact path and exact name of the file .. then we will get the same error.</p>\n"},{"tags":[],"owner":{"account_id":9157919,"reputation":39,"user_id":6810294,"display_name":"Suraj Mahli"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1537530907,"creation_date":1537526825,"answer_id":52442054,"question_id":38464161,"body_markdown":"In application properties, Java build path-&gt; Libraries-&gt;Change JRE System Library, Execution environment to Workspace default JRE\r\n\r\n**Step 1**\r\n![][1]\r\n\r\n**Step 2**\r\n![][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ITtw8.png\r\n  [2]: https://i.stack.imgur.com/E5k3b.png","title":"java.lang.IllegalStateException: LifecycleProcessor not initialized .... context - on my chat application","body":"<p>In application properties, Java build path-> Libraries->Change JRE System Library, Execution environment to Workspace default JRE</p>\n\n<p><strong>Step 1</strong>\n<img src=\"https://i.stack.imgur.com/ITtw8.png\" alt=\"\"></p>\n\n<p><strong>Step 2</strong>\n<img src=\"https://i.stack.imgur.com/E5k3b.png\" alt=\"\"></p>\n"}],"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8979,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695827190,"creation_date":1468946546,"question_id":38464161,"body_markdown":"When I launch my application, tomcat is refusing to deploy my web application with the following error message\r\n\r\n    java.lang.IllegalStateException: LifecycleProcessor not initialized - call &#39;refresh&#39; before invoking lifecycle methods via the context: Root WebApplicationContext: startup date [Tue Jul 19 17:17:42 WAT 2016]; root of context hierarchy\r\n\r\nI have checked my pom.xml dependencies and everything seems alright after research and I am still getting the error message and as such tomcat is refusing to deploy my applications\r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        \t&lt;dependency&gt;\r\n        &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        \r\n        \t&lt;!--  Spring --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!-- Logging --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.16&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Hibernate --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;!--  JSR 303 with Hibernate Validator --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.2.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.0.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--  Joda Time --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n                &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n                &lt;artifactId&gt;joda-time-jsptags&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Servlet --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- JSON --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- JPA  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Test --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.21&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;repositories&gt;\r\n            &lt;!-- For Hibernate Validator --&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;org.jboss.repository.release&lt;/id&gt;\r\n                &lt;name&gt;JBoss Maven Release Repository&lt;/name&gt;\r\n                &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.5&lt;/source&gt;\r\n                        &lt;target&gt;1.5&lt;/target&gt;\r\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;warName&gt;chat&lt;/warName&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;install&lt;/id&gt;\r\n                            &lt;phase&gt;install&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;sources&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- Tomcat 7 plugin --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${tomcat7.maven.plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;port&gt;8080&lt;/port&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- Jetty 8 plugin --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jetty.maven.plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;webApp&gt;\r\n                            &lt;contextPath&gt;/spring-social-tutorial&lt;/contextPath&gt;\r\n                        &lt;/webApp&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nThose are my dependencies for the web application. Please what could be wrong?","title":"java.lang.IllegalStateException: LifecycleProcessor not initialized .... context - on my chat application","body":"<p>When I launch my application, tomcat is refusing to deploy my web application with the following error message</p>\n\n<pre><code>java.lang.IllegalStateException: LifecycleProcessor not initialized - call 'refresh' before invoking lifecycle methods via the context: Root WebApplicationContext: startup date [Tue Jul 19 17:17:42 WAT 2016]; root of context hierarchy\n</code></pre>\n\n<p>I have checked my pom.xml dependencies and everything seems alright after research and I am still getting the error message and as such tomcat is refusing to deploy my applications</p>\n\n<pre><code>&lt;dependencies&gt;\n\n        &lt;dependency&gt;\n    &lt;groupId&gt;cglib&lt;/groupId&gt;\n    &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n    &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--  Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.16&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--  JSR 303 with Hibernate Validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--  Joda Time --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time-jsptags&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JSON --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JPA  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;!-- For Hibernate Validator --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;org.jboss.repository.release&lt;/id&gt;\n            &lt;name&gt;JBoss Maven Release Repository&lt;/name&gt;\n            &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.5&lt;/source&gt;\n                    &lt;target&gt;1.5&lt;/target&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;warName&gt;chat&lt;/warName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;sources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Tomcat 7 plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${tomcat7.maven.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;port&gt;8080&lt;/port&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Jetty 8 plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jetty.maven.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webApp&gt;\n                        &lt;contextPath&gt;/spring-social-tutorial&lt;/contextPath&gt;\n                    &lt;/webApp&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>Those are my dependencies for the web application. Please what could be wrong?</p>\n"},{"tags":["java","diacritics"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695829895,"post_id":77188682,"comment_id":136077264,"body_markdown":"If all else fails, you could always try a complete scan and use `java.text.Normalizer`","body":"If all else fails, you could always try a complete scan and use <code>java.text.Normalizer</code>"}],"owner":{"account_id":27419468,"reputation":1,"user_id":20918149,"display_name":"user20918149"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695826903,"creation_date":1695826903,"question_id":77188682,"body_markdown":"I&#39;m trying to get a list of entities from a DB (by the column &quot;name&quot;) where the input may be a substring and I need it to be accent (and case) insensitive. E.g. &quot;zs&quot; should also find &quot;ažšb&quot;.\r\n\r\nI found a collation for accents and used this: \r\n\r\n```\r\nCREATE COLLATION ignore_accent (provider = icu, locale = &#39;und-u-ks-level1-kc-true&#39;, deterministic = false);\r\n\r\nCREATE INDEX users_name_ignore_accent_idx ON users(name COLLATE ignore_accent);\r\n\r\nSELECT * FROM users WHERE name = &#39; &quot;+ name +&quot;&#39; COLLATE ignore_accent;\r\n```\r\n\r\nThis worked well for the accents, but not for substring of course. So I changed the equals to `LIKE &#39;%&quot; + name + &quot;%&#39;` but this did not work, as LIKE apparently works only with deterministic collation.\r\nSo I deleted the collation and created a new, deterministic one. Now the select (which I use for search) works by substring but ignores the collation.\r\n\r\n\r\nIs there any way to search by a substring, accent insensitive? Or any other option (Java, Spring, JPA)?\r\nThank you.","title":"SQL – Find by substring and ignore accents","body":"<p>I'm trying to get a list of entities from a DB (by the column &quot;name&quot;) where the input may be a substring and I need it to be accent (and case) insensitive. E.g. &quot;zs&quot; should also find &quot;ažšb&quot;.</p>\n<p>I found a collation for accents and used this:</p>\n<pre><code>CREATE COLLATION ignore_accent (provider = icu, locale = 'und-u-ks-level1-kc-true', deterministic = false);\n\nCREATE INDEX users_name_ignore_accent_idx ON users(name COLLATE ignore_accent);\n\nSELECT * FROM users WHERE name = ' &quot;+ name +&quot;' COLLATE ignore_accent;\n</code></pre>\n<p>This worked well for the accents, but not for substring of course. So I changed the equals to <code>LIKE '%&quot; + name + &quot;%'</code> but this did not work, as LIKE apparently works only with deterministic collation.\nSo I deleted the collation and created a new, deterministic one. Now the select (which I use for search) works by substring but ignores the collation.</p>\n<p>Is there any way to search by a substring, accent insensitive? Or any other option (Java, Spring, JPA)?\nThank you.</p>\n"},{"tags":["java","groovy","process","workflow","nextflow"],"answers":[{"comments":[{"owner":{"account_id":16217006,"reputation":1633,"user_id":12829151,"display_name":"Will"},"score":0,"creation_date":1695886642,"post_id":77188679,"comment_id":136084328,"body_markdown":"Thanks! It works perfectly. In the same way I will add the workflow.onError handler.","body":"Thanks! It works perfectly. In the same way I will add the workflow.onError handler."}],"tags":[],"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695826895,"creation_date":1695826895,"answer_id":77188679,"question_id":77188519,"body_markdown":"Try:\r\n\r\n```\r\n    def proc = [\r\n        &#39;path_to_env/bin/python3&#39;,\r\n        &#39;path_to_file/update_run_status.py&#39;,\r\n        &#39;--run_id&#39;, workflow.runName,\r\n        &#39;--status&#39;, &#39;Completed&#39;,\r\n        &#39;--secrets_path&#39;, &#39;path.toml&#39;\r\n    ].execute()\r\n    proc.waitForProcessOutput()\r\n```\r\n\r\nTo get all the arguments passed to the processbuilder correctly, and then to wait for the process to finish running\r\n","title":"Run python script inside nextflow - workflow.onComplete handler","body":"<p>Try:</p>\n<pre><code>    def proc = [\n        'path_to_env/bin/python3',\n        'path_to_file/update_run_status.py',\n        '--run_id', workflow.runName,\n        '--status', 'Completed',\n        '--secrets_path', 'path.toml'\n    ].execute()\n    proc.waitForProcessOutput()\n</code></pre>\n<p>To get all the arguments passed to the processbuilder correctly, and then to wait for the process to finish running</p>\n"}],"owner":{"account_id":16217006,"reputation":1633,"user_id":12829151,"display_name":"Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77188679,"answer_count":1,"score":0,"last_activity_date":1695826895,"creation_date":1695825526,"question_id":77188519,"body_markdown":"I want to run a python script at the end of a nextflow workflow using the onComplete handler. This is the code: \r\n\r\n    workflow.onComplete {\r\n        def proc = &quot;path_to_env/bin/python3 path_to_file/update_run_status.py --run_id ${workflow.runName} --status &#39;Completed&#39; --secrets_path &#39;path.toml&#39;&quot;.execute() \r\n        \r\n        if (params.email || params.email_on_fail) NfcoreTemplate.email(workflow, params, summary_params, projectDir, log, multiqc_report)\r\n        NfcoreTemplate.summary(workflow, params, log)\r\n        if (params.hook_url) NfcoreTemplate.IM_notification(workflow, params, summary_params, projectDir, log)\r\n    }\r\n\r\nIf the workflow is complete, no script will be executed, even if there are no errors or warnings.\r\n\r\nHas anyone already encountered this problem?\r\n\r\nThanks","title":"Run python script inside nextflow - workflow.onComplete handler","body":"<p>I want to run a python script at the end of a nextflow workflow using the onComplete handler. This is the code:</p>\n<pre><code>workflow.onComplete {\n    def proc = &quot;path_to_env/bin/python3 path_to_file/update_run_status.py --run_id ${workflow.runName} --status 'Completed' --secrets_path 'path.toml'&quot;.execute() \n    \n    if (params.email || params.email_on_fail) NfcoreTemplate.email(workflow, params, summary_params, projectDir, log, multiqc_report)\n    NfcoreTemplate.summary(workflow, params, log)\n    if (params.hook_url) NfcoreTemplate.IM_notification(workflow, params, summary_params, projectDir, log)\n}\n</code></pre>\n<p>If the workflow is complete, no script will be executed, even if there are no errors or warnings.</p>\n<p>Has anyone already encountered this problem?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","quarkus","scheduling"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":3,"creation_date":1659597229,"post_id":73231616,"comment_id":129333231,"body_markdown":"Use `@io.quarkus.scheduler.Scheduled` as described https://quarkus.io/guides/scheduler-reference","body":"Use <code>@io.quarkus.scheduler.Scheduled</code> as described <a href=\"https://quarkus.io/guides/scheduler-reference\" rel=\"nofollow noreferrer\">quarkus.io/guides/scheduler-reference</a>"}],"answers":[{"tags":[],"owner":{"account_id":7527033,"reputation":299,"user_id":5716823,"accept_rate":100,"display_name":"Odai Mohammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695826284,"creation_date":1695826284,"answer_id":77188610,"question_id":73231616,"body_markdown":"The Quarkus equivalent is @io.quarkus.scheduler.Scheduled. Here&#39;s an example from [the official guide][1]:\r\n\r\n    package org.acme.scheduler;\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import jakarta.enterprise.context.ApplicationScoped;\r\n    import io.quarkus.scheduler.Scheduled;\r\n    import io.quarkus.scheduler.ScheduledExecution;\r\n\r\n    @ApplicationScoped              \r\n    public class CounterBean {\r\n\r\n        private AtomicInteger counter = new AtomicInteger();\r\n\r\n        public int get() {  \r\n            return counter.get();\r\n        }\r\n\r\n        @Scheduled(every=&quot;10s&quot;)     \r\n        void increment() {\r\n            counter.incrementAndGet(); \r\n        }\r\n\r\n        @Scheduled(cron=&quot;0 15 10 * * ?&quot;) \r\n        void cronJob(ScheduledExecution execution) {\r\n            counter.incrementAndGet();\r\n            System.out.println(execution.getScheduledFireTime());\r\n        }\r\n\r\n        @Scheduled(cron = &quot;{cron.expr}&quot;) \r\n        void cronJobWithExpressionInConfig() {\r\n           counter.incrementAndGet();\r\n           System.out.println(&quot;Cron expression configured in application.properties&quot;);\r\n        }\r\n    }\r\n\r\nSee also [the reference guide][2] for more information\r\n\r\n\r\n  [1]: https://quarkus.io/guides/scheduler\r\n  [2]: https://quarkus.io/guides/scheduler-reference","title":"Quarkus alternative for spring @Scheduled(fixedDelay = 10000)","body":"<p>The Quarkus equivalent is @io.quarkus.scheduler.Scheduled. Here's an example from <a href=\"https://quarkus.io/guides/scheduler\" rel=\"nofollow noreferrer\">the official guide</a>:</p>\n<pre><code>package org.acme.scheduler;\n\nimport java.util.concurrent.atomic.AtomicInteger;\nimport jakarta.enterprise.context.ApplicationScoped;\nimport io.quarkus.scheduler.Scheduled;\nimport io.quarkus.scheduler.ScheduledExecution;\n\n@ApplicationScoped              \npublic class CounterBean {\n\n    private AtomicInteger counter = new AtomicInteger();\n\n    public int get() {  \n        return counter.get();\n    }\n\n    @Scheduled(every=&quot;10s&quot;)     \n    void increment() {\n        counter.incrementAndGet(); \n    }\n\n    @Scheduled(cron=&quot;0 15 10 * * ?&quot;) \n    void cronJob(ScheduledExecution execution) {\n        counter.incrementAndGet();\n        System.out.println(execution.getScheduledFireTime());\n    }\n\n    @Scheduled(cron = &quot;{cron.expr}&quot;) \n    void cronJobWithExpressionInConfig() {\n       counter.incrementAndGet();\n       System.out.println(&quot;Cron expression configured in application.properties&quot;);\n    }\n}\n</code></pre>\n<p>See also <a href=\"https://quarkus.io/guides/scheduler-reference\" rel=\"nofollow noreferrer\">the reference guide</a> for more information</p>\n"}],"owner":{"account_id":15372665,"reputation":31,"user_id":11090298,"display_name":"ank007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695826284,"creation_date":1659596658,"question_id":73231616,"body_markdown":"I tried implementing this `@Scheduled(fixedDelay = 10000)` by importing `org.springframework.scheduling.annotation.Scheduled` class, it gave following error on build:\r\n&gt;java.lang.IllegalArgumentException: Invalid @Scheduled method &#39;monitorRoutesProcessing&#39;: &#39;fixedDelay&#39; not supported\r\n\r\nIs there any way to implement a scheduler with a fixed delay in Quarkus?\r\nI understand we can implement a fixed rate using @every","title":"Quarkus alternative for spring @Scheduled(fixedDelay = 10000)","body":"<p>I tried implementing this <code>@Scheduled(fixedDelay = 10000)</code> by importing <code>org.springframework.scheduling.annotation.Scheduled</code> class, it gave following error on build:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid @Scheduled method 'monitorRoutesProcessing': 'fixedDelay' not supported</p>\n</blockquote>\n<p>Is there any way to implement a scheduler with a fixed delay in Quarkus?\nI understand we can implement a fixed rate using @every</p>\n"},{"tags":["java","java-8","timestamp","localdate"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1695747185,"post_id":77181657,"comment_id":136064706,"body_markdown":"By the way, avoid legacy class `java.sql.Timestamp`. Replaced years ago by the modern *java.time* classes, specifically `Instant`.","body":"By the way, avoid legacy class <code>java.sql.Timestamp</code>. Replaced years ago by the modern <i>java.time</i> classes, specifically <code>Instant</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695753373,"post_id":77181657,"comment_id":136065765,"body_markdown":"10% of the current date, so 10% of 24 hours?  _24 ⨯ 0.1 = 2.4_.  Or are you saying that 10% of the total duration will have occurred on the end-date?","body":"10% of the current date, so 10% of 24 hours?  <i>24 ⨯ 0.1 = 2.4</i>.  Or are you saying that 10% of the total duration will have occurred on the end-date?"}],"answers":[{"comments":[{"owner":{"account_id":1889343,"reputation":477,"user_id":1934073,"accept_rate":80,"display_name":"Dandy"},"score":0,"creation_date":1695746276,"post_id":77181706,"comment_id":136064545,"body_markdown":"thnks for quick response, here endDates.minus is giving compile time error &quot;The method minus(TemporalAmount) in the type LocalDate is not applicable for the arguments (double)&quot;","body":"thnks for quick response, here endDates.minus is giving compile time error &quot;The method minus(TemporalAmount) in the type LocalDate is not applicable for the arguments (double)&quot;"},{"owner":{"account_id":12925144,"reputation":25,"user_id":9346163,"display_name":"halil"},"score":0,"creation_date":1695750677,"post_id":77181706,"comment_id":136065330,"body_markdown":"The error you&#39;re encountering is because the minus method of LocalDate expects a TemporalAmount as its argument, not a double. To calculate the new LocalDate by subtracting a fractional number of days, you can convert the double to a long representing the number of days and then use it as a TemporalAmount. I updated answer.","body":"The error you&#39;re encountering is because the minus method of LocalDate expects a TemporalAmount as its argument, not a double. To calculate the new LocalDate by subtracting a fractional number of days, you can convert the double to a long representing the number of days and then use it as a TemporalAmount. I updated answer."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695754180,"post_id":77181706,"comment_id":136065923,"body_markdown":"This gave me 2024-09-25 where the OP asked for 2023-08-12.","body":"This gave me 2024-09-25 where the OP asked for 2023-08-12."},{"owner":{"account_id":12925144,"reputation":25,"user_id":9346163,"display_name":"halil"},"score":0,"creation_date":1695819169,"post_id":77181706,"comment_id":136074760,"body_markdown":"I edited , check please. @OleV.V.","body":"I edited , check please. @OleV.V."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695821797,"post_id":77181706,"comment_id":136075376,"body_markdown":"I still get the same result. I don’t think your edit makes any difference. I suspect you may not have understood the requirements correctly. They certainly were not clearly described in the question,so that would be no wonder.","body":"I still get the same result. I don’t think your edit makes any difference. I suspect you may not have understood the requirements correctly. They certainly were not clearly described in the question,so that would be no wonder."},{"owner":{"account_id":12925144,"reputation":25,"user_id":9346163,"display_name":"halil"},"score":0,"creation_date":1695826239,"post_id":77181706,"comment_id":136076456,"body_markdown":"@OleV.V. sorry for misunderstanding, i edited now.","body":"@OleV.V. sorry for misunderstanding, i edited now."}],"tags":[],"owner":{"account_id":12925144,"reputation":25,"user_id":9346163,"display_name":"halil"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695826212,"creation_date":1695744423,"answer_id":77181706,"question_id":77181657,"body_markdown":"With this modification, the code should give you the expected start date of &quot;2023-08-12&quot; when you provide an elapsed percentage of 10% and an end date of &quot;2024-10-31.&quot;\r\n\r\n\r\n\r\n```\r\nimport java.sql.Timestamp;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.LocalTime;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\npublic static Timestamp calculateStartDate(double elapsedPercentage, Timestamp endDate) {\r\n    try {\r\n        // Convert the Timestamp to LocalDateTime\r\n        LocalDateTime endDateTime = endDate.toLocalDateTime();\r\n        \r\n        // Calculate the total duration in days (from end date to one year later)\r\n        long totalDurationDays = ChronoUnit.DAYS.between(endDateTime.toLocalDate(), endDateTime.plusYears(1).toLocalDate());\r\n        \r\n        // Calculate the elapsed days based on the percentage\r\n        long elapsedDays = (long) (totalDurationDays * (elapsedPercentage / 100.0));\r\n        \r\n        // Subtract the elapsed days from the end date\r\n        LocalDate startDate = endDateTime.toLocalDate().minusDays(elapsedDays);\r\n        \r\n        // Create a Timestamp from the start date at midnight\r\n        return Timestamp.valueOf(startDate.atTime(LocalTime.MIDNIGHT));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```","title":"How to find Start date from time elapsed as percentage and End date in java","body":"<p>With this modification, the code should give you the expected start date of &quot;2023-08-12&quot; when you provide an elapsed percentage of 10% and an end date of &quot;2024-10-31.&quot;</p>\n<pre><code>import java.sql.Timestamp;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.temporal.ChronoUnit;\n\npublic static Timestamp calculateStartDate(double elapsedPercentage, Timestamp endDate) {\n    try {\n        // Convert the Timestamp to LocalDateTime\n        LocalDateTime endDateTime = endDate.toLocalDateTime();\n        \n        // Calculate the total duration in days (from end date to one year later)\n        long totalDurationDays = ChronoUnit.DAYS.between(endDateTime.toLocalDate(), endDateTime.plusYears(1).toLocalDate());\n        \n        // Calculate the elapsed days based on the percentage\n        long elapsedDays = (long) (totalDurationDays * (elapsedPercentage / 100.0));\n        \n        // Subtract the elapsed days from the end date\n        LocalDate startDate = endDateTime.toLocalDate().minusDays(elapsedDays);\n        \n        // Create a Timestamp from the start date at midnight\n        return Timestamp.valueOf(startDate.atTime(LocalTime.MIDNIGHT));\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695754296,"creation_date":1695750476,"answer_id":77182348,"question_id":77181657,"body_markdown":"Not sure why you are calculating with the `lengthOfYear`. You should calculate the days between now and end date, which represent `(100 - elapsedPercentage)%`. You can do that by using [DAYS.between()][1] method from [`java.time.temporal.ChronoUnit`][2]. With that you can easily get the number of days to subtract from now to get the start date. Something like:\r\n\r\n    public static Timestamp calculateStartDate(double elapsedPercentage, Timestamp endDate) {\r\n\r\n        LocalDate end    = endDate.toLocalDateTime().toLocalDate();\r\n        LocalDate now    = LocalDate.now();\r\n        long daysBetween = DAYS.between(now, end);\r\n        long toSubtract  = (long) (elapsedPercentage * daysBetween / (100 - elapsedPercentage));\r\n        LocalDate start  = now.minusDays(toSubtract);\r\n\r\n        return  Timestamp.valueOf(start.atStartOfDay());\r\n    }\r\n    \r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html","title":"How to find Start date from time elapsed as percentage and End date in java","body":"<p>Not sure why you are calculating with the <code>lengthOfYear</code>. You should calculate the days between now and end date, which represent <code>(100 - elapsedPercentage)%</code>. You can do that by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">DAYS.between()</a> method from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\"><code>java.time.temporal.ChronoUnit</code></a>. With that you can easily get the number of days to subtract from now to get the start date. Something like:</p>\n<pre><code>public static Timestamp calculateStartDate(double elapsedPercentage, Timestamp endDate) {\n\n    LocalDate end    = endDate.toLocalDateTime().toLocalDate();\n    LocalDate now    = LocalDate.now();\n    long daysBetween = DAYS.between(now, end);\n    long toSubtract  = (long) (elapsedPercentage * daysBetween / (100 - elapsedPercentage));\n    LocalDate start  = now.minusDays(toSubtract);\n\n    return  Timestamp.valueOf(start.atStartOfDay());\n}\n</code></pre>\n"}],"owner":{"account_id":1889343,"reputation":477,"user_id":1934073,"accept_rate":80,"display_name":"Dandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77182348,"answer_count":2,"score":1,"last_activity_date":1695826212,"creation_date":1695744122,"question_id":77181657,"body_markdown":"i have below code\r\n\r\nEnd date = 31 oct 2024 and  \r\nelapsedPercentage  is 10% of total duration on current date\r\n\r\nas per above  params \r\n\r\nexpected Start date value  is 12 aug 2023\r\n\r\nbut i am getting 07 Dec 2023 from below code\r\n\r\n\r\n     public static Timestamp calculateStartDate(double elapsedPercentage, Timestamp endDate) {\r\n        try {\r\n            \r\n            LocalDate endDates = endDate.toLocalDateTime().toLocalDate();\r\n            long elapsedDays = (long) (endDates.lengthOfYear() *((100 - elapsedPercentage) / 100.0));\r\n            LocalDate startDate = endDates.minusDays(elapsedDays);\r\n            return  Timestamp.valueOf(startDate.atTime(LocalTime.MIDNIGHT));\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }","title":"How to find Start date from time elapsed as percentage and End date in java","body":"<p>i have below code</p>\n<p>End date = 31 oct 2024 and<br />\nelapsedPercentage  is 10% of total duration on current date</p>\n<p>as per above  params</p>\n<p>expected Start date value  is 12 aug 2023</p>\n<p>but i am getting 07 Dec 2023 from below code</p>\n<pre><code> public static Timestamp calculateStartDate(double elapsedPercentage, Timestamp endDate) {\n    try {\n        \n        LocalDate endDates = endDate.toLocalDateTime().toLocalDate();\n        long elapsedDays = (long) (endDates.lengthOfYear() *((100 - elapsedPercentage) / 100.0));\n        LocalDate startDate = endDates.minusDays(elapsedDays);\n        return  Timestamp.valueOf(startDate.atTime(LocalTime.MIDNIGHT));\n\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","list","java-8","java-17"],"comments":[{"owner":{"account_id":11603771,"reputation":376,"user_id":8500146,"display_name":"exudong"},"score":0,"creation_date":1695290844,"post_id":77149127,"comment_id":136006065,"body_markdown":"Looks like you can put the conditions as a field in the `Competition` class. and put all Competitions in a list as comList; then `comList.stream().filter( c -&gt; Objects.equals(c.getAge(), competAge).toList()`. something like this.","body":"Looks like you can put the conditions as a field in the <code>Competition</code> class. and put all Competitions in a list as comList; then <code>comList.stream().filter( c -&gt; Objects.equals(c.getAge(), competAge).toList()</code>. something like this."},{"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"score":0,"creation_date":1695291264,"post_id":77149127,"comment_id":136006169,"body_markdown":"Hi @exudong can you write a complete code example please","body":"Hi @exudong can you write a complete code example please"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1695292607,"post_id":77149127,"comment_id":136006428,"body_markdown":"Can you share your Competition class/enum ?","body":"Can you share your Competition class/enum ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1695312524,"post_id":77149127,"comment_id":136010715,"body_markdown":"Why do you tag your question with “java-17” when only want a Java&#160;8 solution?","body":"Why do you tag your question with “java-17” when only want a Java 8 solution?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695314871,"post_id":77149127,"comment_id":136011213,"body_markdown":"Do you want only Java 8, or *at least* Java 8?","body":"Do you want only Java 8, or <i>at least</i> Java 8?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695317834,"post_id":77149127,"comment_id":136011781,"body_markdown":"Is `Competition` an enum?","body":"Is <code>Competition</code> an enum?"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1695320378,"post_id":77149127,"comment_id":136012275,"body_markdown":"What happens when the age is 30?  Is that intentional?","body":"What happens when the age is 30?  Is that intentional?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1695345561,"post_id":77149127,"comment_id":136015426,"body_markdown":"Why not just pass the minimum and maximum ages to the method, like `public List&lt;Competition&gt; getCompetitions(int minAge, int maxAge) { ... }`","body":"Why not just pass the minimum and maximum ages to the method, like <code>public List&lt;Competition&gt; getCompetitions(int minAge, int maxAge) { ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695320015,"creation_date":1695315484,"answer_id":77152251,"question_id":77149127,"body_markdown":"# `switch` expressions\r\n\r\nIn Java 14+ use [switch expressions][1] to make your intentions more clear. \r\n\r\n```java\r\n  public List&lt;Competition&gt; getCompetitionss( final String competAge ) {\r\n    return\r\n        switch ( competAge )  {\r\n            case COMPETITION_AGE_18_30 -&gt; List.of( … ) ;\r\n            case COMPETITION_AGE_30_40 -&gt; List.of( CompetitionRoller ) ;\r\n            default -&gt; List.of() ;\r\n        }\r\n    }\r\n  }\r\n```\r\n\r\nBut this would be only imperceptibly faster to execute, if at all. The real benefit is making the code crystal clear to the reader. \r\n\r\nIf you really want to optimize, consider establishing those `List` objects just once, outside your method. But even that will not help performance if the compiler were to make that optimization itself (I don’t know if it does or not). \r\n\r\nBeware of premature optimization. Your Question’s code is *highly* unlikely to impact your app’s performance. \r\n\r\n## Example code\r\n\r\nDefine an enum for your `Competition` objects.\r\n\r\n```java\r\npackage work.basil.example.competition;\r\n\r\npublic enum Competition { NATATION , FOOT , HAND , ROLLER }\r\n```\r\n\r\nDefine the class with your logic. \r\n\r\n```java\r\npackage work.basil.example.competition;\r\n\r\nimport java.util.List;\r\n\r\npublic class CompetitionEx\r\n{\r\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\r\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\r\n\r\n    public List &lt; Competition &gt; getCompetitions ( final String competAge )\r\n    {\r\n        return\r\n                switch ( competAge )\r\n                {\r\n                    case COMPETITION_AGE_18_30 -&gt; List.of ( Competition.NATATION , Competition.FOOT , Competition.HAND , Competition.NATATION );\r\n                    case COMPETITION_AGE_30_40 -&gt; List.of ( Competition.ROLLER );\r\n                    default -&gt; List.of ( );\r\n                };\r\n    }\r\n}\r\n```\r\n\r\nExercise that logic with an `App` class.\r\n\r\n```java\r\npackage work.basil.example.competition;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        CompetitionEx compEx = new CompetitionEx () ;\r\n        System.out.println ( compEx.getCompetitionss ( CompetitionEx.COMPETITION_AGE_18_30 ) );\r\n        System.out.println ( compEx.getCompetitionss ( CompetitionEx.COMPETITION_AGE_30_40 ) );\r\n    }\r\n}\r\n```\r\n\r\nResults:\r\n\r\n```none\r\n[NATATION, FOOT, HAND, NATATION]\r\n[ROLLER]\r\n```\r\n\r\n# Define lists ahead of time\r\n\r\nIf you *really* want to optimize, move the list instantiations to an earlier time, to happen once instead of happening on each method call. \r\n\r\nI do not know for sure if this is a real optimization, as the compiler could theoretically optimize those hard-coded `List.of` calls.\r\n\r\nI trust you would devise better names than `COMP_LIST_LONG` and `COMP_LIST_SHORT`.\r\n\r\n```java\r\npublic class CompetitionEx\r\n{\r\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\r\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\r\n\r\n    public static final List &lt; Competition &gt; COMP_LIST_LONG = List.of ( Competition.NATATION , Competition.FOOT , Competition.HAND , Competition.NATATION );\r\n    public static final List &lt; Competition &gt; COMP_LIST_SHORT = List.of ( Competition.ROLLER );\r\n\r\n    public List &lt; Competition &gt; getCompetitions ( final String competAge )\r\n    {\r\n        return\r\n                switch ( competAge )\r\n                {\r\n                    case COMPETITION_AGE_18_30 -&gt; COMP_LIST_LONG;\r\n                    case COMPETITION_AGE_30_40 -&gt; COMP_LIST_SHORT;\r\n                    default -&gt; List.of ( );\r\n                };\r\n    }\r\n}\r\n```\r\n\r\n# `Map`\r\n\r\nRather than write your method `getCompetitions`, you could just as well define a `Map` object to pair a list with each of your possible strings.\r\n\r\nAs for performance, I can&#39;t say specifically. The concrete `Map` implementation returned by `Map.of` is not specified, and may vary by different versions of Java. But I think we can trust its `get` method would be very fast. \r\n\r\n```java\r\npublic class CompetitionEx\r\n{\r\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\r\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\r\n\r\n    public static final List &lt; Competition &gt; COMP_LIST_LONG = List.of ( Competition.NATATION , Competition.FOOT , Competition.HAND , Competition.NATATION );\r\n    public static final List &lt; Competition &gt; COMP_LIST_SHORT = List.of ( Competition.ROLLER );\r\n\r\n    public static final Map &lt; String, List &lt; Competition &gt; &gt; MAP_STRING_TO_COMP_LIST =\r\n            Map.of (\r\n                    COMPETITION_AGE_18_30 , COMP_LIST_LONG ,\r\n                    COMPETITION_AGE_30_40 , COMP_LIST_SHORT\r\n            );\r\n}\r\n```\r\n\r\nThe `App` code changes to this:\r\n\r\n```java\r\n    private void demo ( )\r\n    {\r\n//        CompetitionEx compEx = new CompetitionEx () ;\r\n//        System.out.println (compEx.getCompetitions ( CompetitionEx.COMPETITION_AGE_18_30 ) );\r\n//        System.out.println (compEx.getCompetitions ( CompetitionEx.COMPETITION_AGE_30_40 ) );\r\n\r\n        System.out.println ( CompetitionEx.MAP_STRING_TO_COMP_LIST.get ( CompetitionEx.COMPETITION_AGE_18_30 ) );\r\n        System.out.println ( CompetitionEx.MAP_STRING_TO_COMP_LIST.get ( CompetitionEx.COMPETITION_AGE_30_40 ) );\r\n    }\r\n```\r\n\r\nResults are the same. \r\n\r\nThis approach works with earlier versions of Java. \r\n\r\nThe `Map.of` call is in Java 9+. \r\n\r\nIn Java 8, you can replace that `Map.of` call. You would construct a `HashMap`, populate its entries, and then pass to [`Collections.unmodifiableMap`][2]. \r\n\r\n\r\n----------\r\n \r\nBy the way, using strings as flags such as `COMPETITION_AGE_18_30 = &quot;compet1&quot;` is brittle. Consider using enums instead. \r\n\r\n  [1]: https://openjdk.org/jeps/361\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableMap-java.util.Map-","title":"How to writting a performant method with list object and mutliple if conditions with java 8","body":"<h1><code>switch</code> expressions</h1>\n<p>In Java 14+ use <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">switch expressions</a> to make your intentions more clear.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public List&lt;Competition&gt; getCompetitionss( final String competAge ) {\n    return\n        switch ( competAge )  {\n            case COMPETITION_AGE_18_30 -&gt; List.of( … ) ;\n            case COMPETITION_AGE_30_40 -&gt; List.of( CompetitionRoller ) ;\n            default -&gt; List.of() ;\n        }\n    }\n  }\n</code></pre>\n<p>But this would be only imperceptibly faster to execute, if at all. The real benefit is making the code crystal clear to the reader.</p>\n<p>If you really want to optimize, consider establishing those <code>List</code> objects just once, outside your method. But even that will not help performance if the compiler were to make that optimization itself (I don’t know if it does or not).</p>\n<p>Beware of premature optimization. Your Question’s code is <em>highly</em> unlikely to impact your app’s performance.</p>\n<h2>Example code</h2>\n<p>Define an enum for your <code>Competition</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.competition;\n\npublic enum Competition { NATATION , FOOT , HAND , ROLLER }\n</code></pre>\n<p>Define the class with your logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.competition;\n\nimport java.util.List;\n\npublic class CompetitionEx\n{\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\n\n    public List &lt; Competition &gt; getCompetitions ( final String competAge )\n    {\n        return\n                switch ( competAge )\n                {\n                    case COMPETITION_AGE_18_30 -&gt; List.of ( Competition.NATATION , Competition.FOOT , Competition.HAND , Competition.NATATION );\n                    case COMPETITION_AGE_30_40 -&gt; List.of ( Competition.ROLLER );\n                    default -&gt; List.of ( );\n                };\n    }\n}\n</code></pre>\n<p>Exercise that logic with an <code>App</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.competition;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App ();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        CompetitionEx compEx = new CompetitionEx () ;\n        System.out.println ( compEx.getCompetitionss ( CompetitionEx.COMPETITION_AGE_18_30 ) );\n        System.out.println ( compEx.getCompetitionss ( CompetitionEx.COMPETITION_AGE_30_40 ) );\n    }\n}\n</code></pre>\n<p>Results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[NATATION, FOOT, HAND, NATATION]\n[ROLLER]\n</code></pre>\n<h1>Define lists ahead of time</h1>\n<p>If you <em>really</em> want to optimize, move the list instantiations to an earlier time, to happen once instead of happening on each method call.</p>\n<p>I do not know for sure if this is a real optimization, as the compiler could theoretically optimize those hard-coded <code>List.of</code> calls.</p>\n<p>I trust you would devise better names than <code>COMP_LIST_LONG</code> and <code>COMP_LIST_SHORT</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompetitionEx\n{\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\n\n    public static final List &lt; Competition &gt; COMP_LIST_LONG = List.of ( Competition.NATATION , Competition.FOOT , Competition.HAND , Competition.NATATION );\n    public static final List &lt; Competition &gt; COMP_LIST_SHORT = List.of ( Competition.ROLLER );\n\n    public List &lt; Competition &gt; getCompetitions ( final String competAge )\n    {\n        return\n                switch ( competAge )\n                {\n                    case COMPETITION_AGE_18_30 -&gt; COMP_LIST_LONG;\n                    case COMPETITION_AGE_30_40 -&gt; COMP_LIST_SHORT;\n                    default -&gt; List.of ( );\n                };\n    }\n}\n</code></pre>\n<h1><code>Map</code></h1>\n<p>Rather than write your method <code>getCompetitions</code>, you could just as well define a <code>Map</code> object to pair a list with each of your possible strings.</p>\n<p>As for performance, I can't say specifically. The concrete <code>Map</code> implementation returned by <code>Map.of</code> is not specified, and may vary by different versions of Java. But I think we can trust its <code>get</code> method would be very fast.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompetitionEx\n{\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\n\n    public static final List &lt; Competition &gt; COMP_LIST_LONG = List.of ( Competition.NATATION , Competition.FOOT , Competition.HAND , Competition.NATATION );\n    public static final List &lt; Competition &gt; COMP_LIST_SHORT = List.of ( Competition.ROLLER );\n\n    public static final Map &lt; String, List &lt; Competition &gt; &gt; MAP_STRING_TO_COMP_LIST =\n            Map.of (\n                    COMPETITION_AGE_18_30 , COMP_LIST_LONG ,\n                    COMPETITION_AGE_30_40 , COMP_LIST_SHORT\n            );\n}\n</code></pre>\n<p>The <code>App</code> code changes to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void demo ( )\n    {\n//        CompetitionEx compEx = new CompetitionEx () ;\n//        System.out.println (compEx.getCompetitions ( CompetitionEx.COMPETITION_AGE_18_30 ) );\n//        System.out.println (compEx.getCompetitions ( CompetitionEx.COMPETITION_AGE_30_40 ) );\n\n        System.out.println ( CompetitionEx.MAP_STRING_TO_COMP_LIST.get ( CompetitionEx.COMPETITION_AGE_18_30 ) );\n        System.out.println ( CompetitionEx.MAP_STRING_TO_COMP_LIST.get ( CompetitionEx.COMPETITION_AGE_30_40 ) );\n    }\n</code></pre>\n<p>Results are the same.</p>\n<p>This approach works with earlier versions of Java.</p>\n<p>The <code>Map.of</code> call is in Java 9+.</p>\n<p>In Java 8, you can replace that <code>Map.of</code> call. You would construct a <code>HashMap</code>, populate its entries, and then pass to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableMap-java.util.Map-\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableMap</code></a>.</p>\n<hr />\n<p>By the way, using strings as flags such as <code>COMPETITION_AGE_18_30 = &quot;compet1&quot;</code> is brittle. Consider using enums instead.</p>\n"},{"tags":[],"owner":{"account_id":11603771,"reputation":376,"user_id":8500146,"display_name":"exudong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695345151,"creation_date":1695342951,"answer_id":77154309,"question_id":77149127,"body_markdown":"I don&#39;t know what it&#39;s exactly meaning when you say &quot;in the best way&quot; \r\n but here&#39;s an example of making search conditions as input instead of hard coding,  and combining multiple conditions in a pipeline:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class CompetitionMain {\r\n    private static List&lt;Competition&gt; competList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        competList.add(new CompetitionFoot(18, &quot;footA&quot;));\r\n        competList.add(new CompetitionFoot(30, &quot;footA&quot;));\r\n        competList.add(new CompetitionFoot(40, &quot;footA&quot;));\r\n        competList.add(new CompetitionHand(18, &quot;handA&quot;));\r\n        competList.add(new CompetitionHand(30, &quot;handA&quot;));\r\n        competList.add(new CompetitionHand(40, &quot;handA&quot;));\r\n\r\n        List&lt;Competition&gt; ageList = findByAge(competList, 18);\r\n        List&lt;Competition&gt; nameList = findByName(ageList, &quot;footA&quot;);\r\n        for (Competition competition : nameList) {\r\n            System.out.println(competition.name);\r\n        }\r\n    }\r\n\r\n    public static List&lt;Competition&gt; findByAge(List&lt;Competition&gt; competitions, int age) {\r\n        return competitions.stream().filter(competition -&gt; competition.age == age).collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    public static List&lt;Competition&gt; findByName(List&lt;Competition&gt; competitions, String name) {\r\n        return competitions.stream().filter(competition -&gt; competition.name.equals(name)).collect(Collectors.toList());\r\n    }\r\n\r\n}\r\n\r\nabstract class Competition {\r\n    public int age;\r\n    public String name;\r\n\r\n    public Competition(int age, String name) {\r\n        this.age = age;\r\n        this.name = name;\r\n    }\r\n\r\n\r\n}\r\n\r\nclass CompetitionFoot extends Competition {\r\n    public CompetitionFoot(int age, String name) {\r\n        super(age, name);\r\n    }\r\n    // additional fields\r\n}\r\n\r\nclass CompetitionHand extends Competition {\r\n    public CompetitionHand(int age, String name) {\r\n        super(age, name);\r\n    }\r\n    // additional fields\r\n}\r\n```","title":"How to writting a performant method with list object and mutliple if conditions with java 8","body":"<p>I don't know what it's exactly meaning when you say &quot;in the best way&quot;\nbut here's an example of making search conditions as input instead of hard coding,  and combining multiple conditions in a pipeline:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class CompetitionMain {\n    private static List&lt;Competition&gt; competList = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        competList.add(new CompetitionFoot(18, &quot;footA&quot;));\n        competList.add(new CompetitionFoot(30, &quot;footA&quot;));\n        competList.add(new CompetitionFoot(40, &quot;footA&quot;));\n        competList.add(new CompetitionHand(18, &quot;handA&quot;));\n        competList.add(new CompetitionHand(30, &quot;handA&quot;));\n        competList.add(new CompetitionHand(40, &quot;handA&quot;));\n\n        List&lt;Competition&gt; ageList = findByAge(competList, 18);\n        List&lt;Competition&gt; nameList = findByName(ageList, &quot;footA&quot;);\n        for (Competition competition : nameList) {\n            System.out.println(competition.name);\n        }\n    }\n\n    public static List&lt;Competition&gt; findByAge(List&lt;Competition&gt; competitions, int age) {\n        return competitions.stream().filter(competition -&gt; competition.age == age).collect(Collectors.toList());\n    }\n\n\n    public static List&lt;Competition&gt; findByName(List&lt;Competition&gt; competitions, String name) {\n        return competitions.stream().filter(competition -&gt; competition.name.equals(name)).collect(Collectors.toList());\n    }\n\n}\n\nabstract class Competition {\n    public int age;\n    public String name;\n\n    public Competition(int age, String name) {\n        this.age = age;\n        this.name = name;\n    }\n\n\n}\n\nclass CompetitionFoot extends Competition {\n    public CompetitionFoot(int age, String name) {\n        super(age, name);\n    }\n    // additional fields\n}\n\nclass CompetitionHand extends Competition {\n    public CompetitionHand(int age, String name) {\n        super(age, name);\n    }\n    // additional fields\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695826115,"creation_date":1695826115,"answer_id":77188593,"question_id":77149127,"body_markdown":"*Best way* is not well defined, isn&#39;t it?\r\nAnyway, constructing a static map for the predefined values may be one of the best choices.\r\n\r\nGiven:\r\n\r\n    public enum Competition { NATATION , FOOT , HAND , ROLLER }\r\n\r\nwe can write:\r\n\r\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\r\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\r\n    public static final Map&lt;String,List&lt;Competition&gt;&gt; m = Map.of(\r\n    \t\tCOMPETITION_AGE_18_30,List.of(\r\n    \t\t\t\tCompetition.NATATION,\r\n    \t\t\t\tCompetition.FOOT,\r\n    \t\t\t\tCompetition.HAND,\r\n    \t\t\t\tCompetition.NATATION),\r\n    \t\tCOMPETITION_AGE_30_40, List.of(Competition.ROLLER));\r\n\r\n    public List&lt;Competition&gt; getCompetitionss(String competAge) {\r\n    \treturn m.getOrDefault(competAge, List.of());\r\n     }\r\n\r\nThe method that computes the value is very simple, readable and does not need to be refactored in anyway as the construction of the static `Map` provides the mapping for the defined values.\r\n","title":"How to writting a performant method with list object and mutliple if conditions with java 8","body":"<p><em>Best way</em> is not well defined, isn't it?\nAnyway, constructing a static map for the predefined values may be one of the best choices.</p>\n<p>Given:</p>\n<pre><code>public enum Competition { NATATION , FOOT , HAND , ROLLER }\n</code></pre>\n<p>we can write:</p>\n<pre><code>public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\npublic static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\npublic static final Map&lt;String,List&lt;Competition&gt;&gt; m = Map.of(\n        COMPETITION_AGE_18_30,List.of(\n                Competition.NATATION,\n                Competition.FOOT,\n                Competition.HAND,\n                Competition.NATATION),\n        COMPETITION_AGE_30_40, List.of(Competition.ROLLER));\n\npublic List&lt;Competition&gt; getCompetitionss(String competAge) {\n    return m.getOrDefault(competAge, List.of());\n }\n</code></pre>\n<p>The method that computes the value is very simple, readable and does not need to be refactored in anyway as the construction of the static <code>Map</code> provides the mapping for the defined values.</p>\n"}],"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695826115,"creation_date":1695290042,"question_id":77149127,"body_markdown":"I have a method which return a list of Competition based on condition. I can have multiple condition and i want to have the best way to perform this method by using java 8 .\r\nthis is my method : \r\n\r\n    public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\r\n    public static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\r\n      \r\n      public List&lt;Competition&gt; getCompetitionss(String competAge) {\r\n        if (COMPETITION_AGE_18_30.equals(competAge)) {\r\n          return List.of(\r\n              CompetitionNatation,\r\n              CompetitionFoot,\r\n              CompetitionHand,\r\n              CompetitionNatation);\r\n        } else if (COMPETITION_AGE_30_40.equals(competAge)) {\r\n          return List.of(\r\n    \t  CompetitionRoller\r\n    \t  );\r\n        } else {\r\n          return List.of();\r\n        }\r\n      }\r\n\r\nhow can i refactor this method with the best way","title":"How to writting a performant method with list object and mutliple if conditions with java 8","body":"<p>I have a method which return a list of Competition based on condition. I can have multiple condition and i want to have the best way to perform this method by using java 8 .\nthis is my method :</p>\n<pre><code>public static final String COMPETITION_AGE_18_30 = &quot;compet1&quot;;\npublic static final String COMPETITION_AGE_30_40 = &quot;compet2&quot;;\n  \n  public List&lt;Competition&gt; getCompetitionss(String competAge) {\n    if (COMPETITION_AGE_18_30.equals(competAge)) {\n      return List.of(\n          CompetitionNatation,\n          CompetitionFoot,\n          CompetitionHand,\n          CompetitionNatation);\n    } else if (COMPETITION_AGE_30_40.equals(competAge)) {\n      return List.of(\n      CompetitionRoller\n      );\n    } else {\n      return List.of();\n    }\n  }\n</code></pre>\n<p>how can i refactor this method with the best way</p>\n"},{"tags":["java","spring","spring-security","spring-security-acl"],"answers":[{"comments":[{"owner":{"account_id":1127485,"reputation":4047,"user_id":1114386,"accept_rate":83,"display_name":"avijendr"},"score":1,"creation_date":1393594076,"post_id":22095751,"comment_id":33515194,"body_markdown":"Brilliant! Thanks for that explanation. It would have been even better if there was an example, nevertheless I&#39;ll accept the answer!","body":"Brilliant! Thanks for that explanation. It would have been even better if there was an example, nevertheless I&#39;ll accept the answer!"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1393591884,"creation_date":1393591884,"answer_id":22095751,"question_id":22093018,"body_markdown":"Both the `@PostAuthorize` and `@PostFilter` are used, mostly, in combination with ACL. Where the `@PostAuthorize` will generate an exception if something is returned which one hasn&#39;t access to, the `@PostFilter` will remove the objects one doesn&#39;t have access to (in general useful when returning collections of elements). ","title":"Valid use case for @PostAuthorize And @PostFilter annotations","body":"<p>Both the <code>@PostAuthorize</code> and <code>@PostFilter</code> are used, mostly, in combination with ACL. Where the <code>@PostAuthorize</code> will generate an exception if something is returned which one hasn't access to, the <code>@PostFilter</code> will remove the objects one doesn't have access to (in general useful when returning collections of elements). </p>\n"},{"tags":[],"owner":{"account_id":6457258,"reputation":373,"user_id":5002227,"display_name":"wdonet"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695826074,"creation_date":1446083919,"answer_id":33404716,"question_id":22093018,"body_markdown":"`@PostFilter` filters the returned collection or arrays after executing the method. Spring security provides a built-in object named as **filterObject** at which `@PostFilter` performs filtering task.\r\n\r\n`@PostFilter` can be used on service layer with `@PreAuthorize` and `@PostAuthorize`.\r\n\r\nUse interface to declare the filter operation.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface IBookService {\r\n\r\n    \t@PreAuthorize (&quot;hasRole(&#39;ROLE_READ&#39;)&quot;)\r\n    \t@PostFilter (&quot;filterObject.owner == authentication.name&quot;)\r\n    \tpublic List&lt;Book&gt; getBooks();\r\n    \t\r\n    \t@PreAuthorize(&quot;filterObject.owner == authentication.name&quot;)\r\n    \tpublic void addBook(List&lt;Book&gt; books);\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Valid use case for @PostAuthorize And @PostFilter annotations","body":"<p><code>@PostFilter</code> filters the returned collection or arrays after executing the method. Spring security provides a built-in object named as <strong>filterObject</strong> at which <code>@PostFilter</code> performs filtering task.</p>\n<p><code>@PostFilter</code> can be used on service layer with <code>@PreAuthorize</code> and <code>@PostAuthorize</code>.</p>\n<p>Use interface to declare the filter operation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IBookService {\n\n    @PreAuthorize (&quot;hasRole('ROLE_READ')&quot;)\n    @PostFilter (&quot;filterObject.owner == authentication.name&quot;)\n    public List&lt;Book&gt; getBooks();\n    \n    @PreAuthorize(&quot;filterObject.owner == authentication.name&quot;)\n    public void addBook(List&lt;Book&gt; books);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1127485,"reputation":4047,"user_id":1114386,"accept_rate":83,"display_name":"avijendr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7211,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":22095751,"answer_count":2,"score":25,"last_activity_date":1695826074,"creation_date":1393584632,"question_id":22093018,"body_markdown":"We have just migrated to Spring Security **3.0.8** from **2.0.8** (Can&#39; upgrade to the latestversion which is **3.2.X** as our **core spring libraries** are still on **3.0.X**, which we plan to upgrade later when business permits).\r\n\r\nI understand that we now have annotations for securing methods like `@PreAuthorize`, `@PostAuthorize`, `@Secured`, `@PreFilter` and `@PostFilter`.\r\n\r\n\r\nI understand the use of `@PreAuthorize`, which really makes sense. But can&#39;t think of any valid use cases where you would ever use `@PostAuthorize` or `@PostFilter` annotation? \r\n\r\nCan somebody who used it please explain to me a reasonable use-case for using them?\r\n\r\nThanks in advance!","title":"Valid use case for @PostAuthorize And @PostFilter annotations","body":"<p>We have just migrated to Spring Security <strong>3.0.8</strong> from <strong>2.0.8</strong> (Can' upgrade to the latestversion which is <strong>3.2.X</strong> as our <strong>core spring libraries</strong> are still on <strong>3.0.X</strong>, which we plan to upgrade later when business permits).</p>\n\n<p>I understand that we now have annotations for securing methods like <code>@PreAuthorize</code>, <code>@PostAuthorize</code>, <code>@Secured</code>, <code>@PreFilter</code> and <code>@PostFilter</code>.</p>\n\n<p>I understand the use of <code>@PreAuthorize</code>, which really makes sense. But can't think of any valid use cases where you would ever use <code>@PostAuthorize</code> or <code>@PostFilter</code> annotation? </p>\n\n<p>Can somebody who used it please explain to me a reasonable use-case for using them?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","threadpool","multipartform-data","java-threads"],"comments":[{"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"score":0,"creation_date":1654952141,"post_id":72583738,"comment_id":128217413,"body_markdown":"Temporary data is the request bound. Source -&gt; [MultipartFile Docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html)","body":"Temporary data is the request bound. Source -&gt; <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html\" rel=\"nofollow noreferrer\">MultipartFile Docs</a>"},{"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"score":0,"creation_date":1654953837,"post_id":72583738,"comment_id":128217741,"body_markdown":"@WildDev so in that case why I get this error ? Is it related to how different threads have access to the file system ? Is it because temp files are accessible for only one thread ? so what is the problem and what should I do ? Any hint that help me to start moving forward with more tests and inspections are welcomed and appreciated.","body":"@WildDev so in that case why I get this error ? Is it related to how different threads have access to the file system ? Is it because temp files are accessible for only one thread ? so what is the problem and what should I do ? Any hint that help me to start moving forward with more tests and inspections are welcomed and appreciated."},{"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"score":1,"creation_date":1654957624,"post_id":72583738,"comment_id":128218522,"body_markdown":"Since you use `@Async` methods the http request completes before the actual file is processed. So the file is not exists when another thread refers to it. You have to read the file contents first, use another file accessor just like  `MultipartFile.getBytes()` to achieve that.","body":"Since you use <code>@Async</code> methods the http request completes before the actual file is processed. So the file is not exists when another thread refers to it. You have to read the file contents first, use another file accessor just like  <code>MultipartFile.getBytes()</code> to achieve that."}],"answers":[{"tags":[],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654974443,"creation_date":1654974443,"answer_id":72587175,"question_id":72583738,"body_markdown":"I fixed the problem by using the CompletableFuture.\r\nso I changed my controller as follow :\r\n\r\n```java\r\n    @PostMapping(value = &quot;/users&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity saveUsers(@RequestParam(value = &quot;files&quot;) MultipartFile[] files) throws Exception {\r\n         var res = new ArrayList&lt;CompletableFuture&lt;List&lt;User&gt;&gt;&gt;();\r\n        for(MultipartFile file: files) {\r\n            res.add(userService.saveUsers(file));\r\n        }\r\n\r\n        for(CompletableFuture&lt;List&lt;User&gt;&gt; item: res) {\r\n            System.out.println(item.get().size());\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.CREATED).build();\r\n    }\r\n```\r\n\r\nit seems request&#39;s session is over and then temp file is deleted after request&#39;s session is over.\r\nyou know how I figured out ? I added a sleep in the controller body and it worked so I made sure that it is because request is over but there are some unfinished tasks in the queue of thread pool and controller doesn&#39;t wait for tasks to be completed, and it seems that I had to use compltable future.","title":"Java Spring, when temp multipart file gets deleted?","body":"<p>I fixed the problem by using the CompletableFuture.\nso I changed my controller as follow :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(value = &quot;/users&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity saveUsers(@RequestParam(value = &quot;files&quot;) MultipartFile[] files) throws Exception {\n         var res = new ArrayList&lt;CompletableFuture&lt;List&lt;User&gt;&gt;&gt;();\n        for(MultipartFile file: files) {\n            res.add(userService.saveUsers(file));\n        }\n\n        for(CompletableFuture&lt;List&lt;User&gt;&gt; item: res) {\n            System.out.println(item.get().size());\n        }\n\n        return ResponseEntity.status(HttpStatus.CREATED).build();\n    }\n</code></pre>\n<p>it seems request's session is over and then temp file is deleted after request's session is over.\nyou know how I figured out ? I added a sleep in the controller body and it worked so I made sure that it is because request is over but there are some unfinished tasks in the queue of thread pool and controller doesn't wait for tasks to be completed, and it seems that I had to use compltable future.</p>\n"},{"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1689006070,"post_id":76638390,"comment_id":135148906,"body_markdown":"Please add an explanation of your code. It&#39;s a bit hard to understand what it&#39;s doing right now.","body":"Please add an explanation of your code. It&#39;s a bit hard to understand what it&#39;s doing right now."}],"tags":[],"owner":{"account_id":28971349,"reputation":1,"user_id":22191575,"display_name":"Giovani Priori"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689048135,"creation_date":1688744632,"answer_id":76638390,"question_id":72583738,"body_markdown":"I know it&#39;s been a year since you posted but here&#39;s an alternative to your problem. It may be that someone has been through it and has not found a way out.\r\n\r\nYou can save the MultipartFile to a file in a directory. Here&#39;s code for that:\r\n\r\n```\r\npublic List&lt;Path&gt; saveFile(MultipartFile[] files) {\r\n\r\n    List&lt;Path&gt; files = new ArrayList&lt;&gt;();\r\n\r\n    for(MultipartFile file: files) {\r\n\r\n        try {\r\n\r\n            Path root = Paths.get(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/upload/&quot;);\r\n            Files.createDirectories(root);\r\n            Path filePath = this.root.resolve(&quot;&quot;file.getOriginalFilename());\r\n\r\n            Files.delete(filePath);\r\n            Files.copy(file.getInputStream(), filePath);\r\n\r\n            files.add(filePath)\r\n\r\n        } catch (Exception e) {\r\n            if (e instanceof FileAlreadyExistsException) {\r\n                throw new RuntimeException(&quot;A file of that name already exists.&quot;);\r\n            }\r\n\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n\r\n    return files;\r\n}\r\n```\r\n\r\nAfter saving you work with the saved file and not with the MultipartFile\r\n\r\n```\r\n@PostMapping(value = &quot;/users&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\npublic ResponseEntity saveUsers(@RequestParam(value = &quot;files&quot;) MultipartFile[] files) throws Exception {\r\n\r\n\tvar res = new ArrayList&lt;CompletableFuture&lt;List&lt;User&gt;&gt;&gt;();\r\n\t \r\n\tList&lt;Path&gt; pathFiles = saveFile(files);\r\n\t \r\n\tfor(Path file: pathFiles) {\r\n\t\tres.add(userService.saveUsers(file));\r\n\t}\r\n\r\n\tfor(CompletableFuture&lt;List&lt;User&gt;&gt; item: res) {\r\n\t\tSystem.out.println(item.get().size());\r\n\t}\r\n\r\n\treturn ResponseEntity.status(HttpStatus.CREATED).build();\r\n}\r\n```","title":"Java Spring, when temp multipart file gets deleted?","body":"<p>I know it's been a year since you posted but here's an alternative to your problem. It may be that someone has been through it and has not found a way out.</p>\n<p>You can save the MultipartFile to a file in a directory. Here's code for that:</p>\n<pre><code>public List&lt;Path&gt; saveFile(MultipartFile[] files) {\n\n    List&lt;Path&gt; files = new ArrayList&lt;&gt;();\n\n    for(MultipartFile file: files) {\n\n        try {\n\n            Path root = Paths.get(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/upload/&quot;);\n            Files.createDirectories(root);\n            Path filePath = this.root.resolve(&quot;&quot;file.getOriginalFilename());\n\n            Files.delete(filePath);\n            Files.copy(file.getInputStream(), filePath);\n\n            files.add(filePath)\n\n        } catch (Exception e) {\n            if (e instanceof FileAlreadyExistsException) {\n                throw new RuntimeException(&quot;A file of that name already exists.&quot;);\n            }\n\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n\n    return files;\n}\n</code></pre>\n<p>After saving you work with the saved file and not with the MultipartFile</p>\n<pre><code>@PostMapping(value = &quot;/users&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\npublic ResponseEntity saveUsers(@RequestParam(value = &quot;files&quot;) MultipartFile[] files) throws Exception {\n\n    var res = new ArrayList&lt;CompletableFuture&lt;List&lt;User&gt;&gt;&gt;();\n     \n    List&lt;Path&gt; pathFiles = saveFile(files);\n     \n    for(Path file: pathFiles) {\n        res.add(userService.saveUsers(file));\n    }\n\n    for(CompletableFuture&lt;List&lt;User&gt;&gt; item: res) {\n        System.out.println(item.get().size());\n    }\n\n    return ResponseEntity.status(HttpStatus.CREATED).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11560512,"reputation":150,"user_id":8470337,"display_name":"NowRam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695825934,"creation_date":1695825934,"answer_id":77188573,"question_id":72583738,"body_markdown":"Multipart fields in any POJO object when used in CompletableFuture store the file in a temporary directory, but when accessing the file, it can&#39;t find temp directory  and hence the exception file not found. \r\n\r\n**Solution:**\r\n\r\nImplemented a `HashMap&lt;String,byte[]&gt;` and stored the `bytes[]` before calling `CompletableFuture.supplyAsync(() - {\r\n   //Business Logic Implementation\r\n})` \r\n\r\nHope this help.","title":"Java Spring, when temp multipart file gets deleted?","body":"<p>Multipart fields in any POJO object when used in CompletableFuture store the file in a temporary directory, but when accessing the file, it can't find temp directory  and hence the exception file not found.</p>\n<p><strong>Solution:</strong></p>\n<p>Implemented a <code>HashMap&lt;String,byte[]&gt;</code> and stored the <code>bytes[]</code> before calling <code>CompletableFuture.supplyAsync(() - { //Business Logic Implementation })</code></p>\n<p>Hope this help.</p>\n"}],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72587175,"answer_count":3,"score":1,"last_activity_date":1695825934,"creation_date":1654945107,"question_id":72583738,"body_markdown":"I have a spring application, I have an endpoint which accept multiple files, so you can upload multiple files.\r\nI&#39;m trying to make it work faster by utilizing threads, so what I did is I created a ThreadPool and tried to process each file async (in a different thread).\r\nActually I found a tutorial on youtube which is doing almost what I want and I wanted to try his code and see it works or not, but it didn&#39;t work for me either.\r\nthis is the link of the tutorial.\r\n\r\nhttps://www.youtube.com/watch?v=3rJBLFA95Io\r\nI believe he doesn&#39;t get the error because in his case always number of files and thread match.\r\nWhat I found out is if number of tasks in my pool are equal or less than number of available threads then every thing works perfectly fine, but if number of tasks or greater than number of available threads I get an error which is this :\r\n```\r\njava.io.FileNotFoundException: /private/var/folders/41/81526n295q1cptcb1tbrs544h504m8/T/tomcat.9191.5294201821824312569/work/Tomcat/localhost/ROOT/upload_ff67c7fe_2f2f_44c6_8eb9_3250c8a8739b_00000003.tmp (No such file or directory)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\r\n\tat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:198) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationPart.getInputStream(ApplicationPart.java:100) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.getInputStream(StandardMultipartHttpServletRequest.java:251) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat com.mhndev.springexecutor.service.UserService.parseCSVFile(UserService.java:47) ~[classes/:na]\r\n\tat com.mhndev.springexecutor.service.UserService.saveUsers(UserService.java:29) ~[classes/:na]\r\n\tat com.mhndev.springexecutor.service.UserService$$FastClassBySpringCGLIB$$c14fedc2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n``` \r\n\r\nSo what I suspect is when a task remains in the pool the multipart file gets deleted before the task can have a assigned thread for some reason.\r\n\r\nmy controller :\r\n\r\n```java \r\npackage com.mhndev.springexecutor.controller;\r\n\r\nimport com.mhndev.springexecutor.entity.User;\r\nimport com.mhndev.springexecutor.service.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\n@RestController\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @PostMapping(value = &quot;/users&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity saveUsers(@RequestParam(value = &quot;files&quot;) MultipartFile[] files) throws Exception {\r\n        for(MultipartFile file: files) {\r\n            userService.saveUsers(file);\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.CREATED).build();\r\n    }\r\n\r\n    @GetMapping(value = &quot;/users&quot;, produces = &quot;application/json&quot;)\r\n    public CompletableFuture&lt;ResponseEntity&gt; findAllUsers() {\r\n        return userService.findAllUsers().thenApply(ResponseEntity::ok);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getUsersByThread&quot;, produces = &quot;application/json&quot;)\r\n    public  ResponseEntity getUsers(){\r\n        CompletableFuture&lt;List&lt;User&gt;&gt; users1=userService.findAllUsers();\r\n        CompletableFuture&lt;List&lt;User&gt;&gt; users2=userService.findAllUsers();\r\n        CompletableFuture&lt;List&lt;User&gt;&gt; users3=userService.findAllUsers();\r\n        CompletableFuture.allOf(users1,users2,users3).join();\r\n        return ResponseEntity.status(HttpStatus.OK).build();\r\n    }\r\n}\r\n\r\n```\r\nand my service:\r\n\r\n```java\r\npackage com.mhndev.springexecutor.service;\r\n\r\nimport com.mhndev.springexecutor.entity.User;\r\nimport com.mhndev.springexecutor.repository.UserRepository;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository repository;\r\n    Logger logger = LoggerFactory.getLogger(UserService.class);\r\n\r\n    @Async(&quot;taskExecutor&quot;)\r\n    public CompletableFuture&lt;List&lt;User&gt;&gt; saveUsers(MultipartFile file) throws Exception {\r\n        long start = System.currentTimeMillis();\r\n        List&lt;User&gt; users = parseCSVFile(file);\r\n        logger.info(&quot;saving list of users of size {}, thread name : {}&quot;, users.size(), &quot;&quot; + Thread.currentThread().getName());\r\n        users = repository.saveAll(users);\r\n        long end = System.currentTimeMillis();\r\n        logger.info(&quot;Total time {}&quot;, (end - start));\r\n        return CompletableFuture.completedFuture(users);\r\n    }\r\n\r\n    @Async(&quot;taskExecutor&quot;)\r\n    public CompletableFuture&lt;List&lt;User&gt;&gt; findAllUsers(){\r\n        logger.info(&quot;get list of user by &quot; + Thread.currentThread().getName());\r\n        List&lt;User&gt; users = repository.findAll();\r\n        return CompletableFuture.completedFuture(users);\r\n    }\r\n\r\n    private List&lt;User&gt; parseCSVFile(final MultipartFile file) throws Exception {\r\n        final List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n        try {\r\n            try (final BufferedReader br = new BufferedReader(new InputStreamReader(file.getInputStream()))) {\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    final String[] data = line.split(&quot;,&quot;);\r\n                    final User user = new User();\r\n                    user.setName(data[0]);\r\n                    user.setEmail(data[1]);\r\n                    user.setGender(data[2]);\r\n                    users.add(user);\r\n                }\r\n                return users;\r\n            }\r\n        } catch (final IOException e) {\r\n            logger.error(&quot;Failed to parse CSV file&quot;, e);\r\n            throw new Exception(&quot;Failed to parse CSV file {}&quot;, e);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nand configuration for threadpool:\r\n```java\r\npackage com.mhndev.springexecutor.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\nimport java.util.concurrent.Executor;\r\n\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncConfig {\r\n\r\n    @Bean(name = &quot;taskExecutor&quot;)\r\n    public Executor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(3);\r\n        executor.setMaxPoolSize(3);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;User-Thread-&quot;);\r\n        executor.initialize();\r\n\r\n        return executor;\r\n    }\r\n}\r\n\r\n```","title":"Java Spring, when temp multipart file gets deleted?","body":"<p>I have a spring application, I have an endpoint which accept multiple files, so you can upload multiple files.\nI'm trying to make it work faster by utilizing threads, so what I did is I created a ThreadPool and tried to process each file async (in a different thread).\nActually I found a tutorial on youtube which is doing almost what I want and I wanted to try his code and see it works or not, but it didn't work for me either.\nthis is the link of the tutorial.</p>\n<p><a href=\"https://www.youtube.com/watch?v=3rJBLFA95Io\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=3rJBLFA95Io</a>\nI believe he doesn't get the error because in his case always number of files and thread match.\nWhat I found out is if number of tasks in my pool are equal or less than number of available threads then every thing works perfectly fine, but if number of tasks or greater than number of available threads I get an error which is this :</p>\n<pre><code>java.io.FileNotFoundException: /private/var/folders/41/81526n295q1cptcb1tbrs544h504m8/T/tomcat.9191.5294201821824312569/work/Tomcat/localhost/ROOT/upload_ff67c7fe_2f2f_44c6_8eb9_3250c8a8739b_00000003.tmp (No such file or directory)\n    at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\n    at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:198) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationPart.getInputStream(ApplicationPart.java:100) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.getInputStream(StandardMultipartHttpServletRequest.java:251) ~[spring-web-5.3.20.jar:5.3.20]\n    at com.mhndev.springexecutor.service.UserService.parseCSVFile(UserService.java:47) ~[classes/:na]\n    at com.mhndev.springexecutor.service.UserService.saveUsers(UserService.java:29) ~[classes/:na]\n    at com.mhndev.springexecutor.service.UserService$$FastClassBySpringCGLIB$$c14fedc2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278) ~[spring-aop-5.3.20.jar:5.3.20]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>So what I suspect is when a task remains in the pool the multipart file gets deleted before the task can have a assigned thread for some reason.</p>\n<p>my controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mhndev.springexecutor.controller;\n\nimport com.mhndev.springexecutor.entity.User;\nimport com.mhndev.springexecutor.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\n@RestController\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @PostMapping(value = &quot;/users&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity saveUsers(@RequestParam(value = &quot;files&quot;) MultipartFile[] files) throws Exception {\n        for(MultipartFile file: files) {\n            userService.saveUsers(file);\n        }\n\n        return ResponseEntity.status(HttpStatus.CREATED).build();\n    }\n\n    @GetMapping(value = &quot;/users&quot;, produces = &quot;application/json&quot;)\n    public CompletableFuture&lt;ResponseEntity&gt; findAllUsers() {\n        return userService.findAllUsers().thenApply(ResponseEntity::ok);\n    }\n\n    @GetMapping(value = &quot;/getUsersByThread&quot;, produces = &quot;application/json&quot;)\n    public  ResponseEntity getUsers(){\n        CompletableFuture&lt;List&lt;User&gt;&gt; users1=userService.findAllUsers();\n        CompletableFuture&lt;List&lt;User&gt;&gt; users2=userService.findAllUsers();\n        CompletableFuture&lt;List&lt;User&gt;&gt; users3=userService.findAllUsers();\n        CompletableFuture.allOf(users1,users2,users3).join();\n        return ResponseEntity.status(HttpStatus.OK).build();\n    }\n}\n\n</code></pre>\n<p>and my service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mhndev.springexecutor.service;\n\nimport com.mhndev.springexecutor.entity.User;\nimport com.mhndev.springexecutor.repository.UserRepository;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository repository;\n    Logger logger = LoggerFactory.getLogger(UserService.class);\n\n    @Async(&quot;taskExecutor&quot;)\n    public CompletableFuture&lt;List&lt;User&gt;&gt; saveUsers(MultipartFile file) throws Exception {\n        long start = System.currentTimeMillis();\n        List&lt;User&gt; users = parseCSVFile(file);\n        logger.info(&quot;saving list of users of size {}, thread name : {}&quot;, users.size(), &quot;&quot; + Thread.currentThread().getName());\n        users = repository.saveAll(users);\n        long end = System.currentTimeMillis();\n        logger.info(&quot;Total time {}&quot;, (end - start));\n        return CompletableFuture.completedFuture(users);\n    }\n\n    @Async(&quot;taskExecutor&quot;)\n    public CompletableFuture&lt;List&lt;User&gt;&gt; findAllUsers(){\n        logger.info(&quot;get list of user by &quot; + Thread.currentThread().getName());\n        List&lt;User&gt; users = repository.findAll();\n        return CompletableFuture.completedFuture(users);\n    }\n\n    private List&lt;User&gt; parseCSVFile(final MultipartFile file) throws Exception {\n        final List&lt;User&gt; users = new ArrayList&lt;&gt;();\n        try {\n            try (final BufferedReader br = new BufferedReader(new InputStreamReader(file.getInputStream()))) {\n                String line;\n                while ((line = br.readLine()) != null) {\n                    final String[] data = line.split(&quot;,&quot;);\n                    final User user = new User();\n                    user.setName(data[0]);\n                    user.setEmail(data[1]);\n                    user.setGender(data[2]);\n                    users.add(user);\n                }\n                return users;\n            }\n        } catch (final IOException e) {\n            logger.error(&quot;Failed to parse CSV file&quot;, e);\n            throw new Exception(&quot;Failed to parse CSV file {}&quot;, e);\n        }\n    }\n\n}\n\n</code></pre>\n<p>and configuration for threadpool:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mhndev.springexecutor.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\nimport java.util.concurrent.Executor;\n\n@Configuration\n@EnableAsync\npublic class AsyncConfig {\n\n    @Bean(name = &quot;taskExecutor&quot;)\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(3);\n        executor.setMaxPoolSize(3);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;User-Thread-&quot;);\n        executor.initialize();\n\n        return executor;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mockito","quarkus","mutiny"],"comments":[{"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"score":0,"creation_date":1694030210,"post_id":77054861,"comment_id":135839333,"body_markdown":"This blog post was somewhat clarifying: https://quarkus.io/blog/uni-retry/ — it explains that retry works by resubscribing. Thus, only mocking the RestClient&#39;s returned Uni won&#39;t work, I&#39;ll have to mock the Uni&#39;s subscribe method or something... maybe it&#39;s easier to mock the HTTP layer.","body":"This blog post was somewhat clarifying: <a href=\"https://quarkus.io/blog/uni-retry/\" rel=\"nofollow noreferrer\">quarkus.io/blog/uni-retry</a> — it explains that retry works by resubscribing. Thus, only mocking the RestClient&#39;s returned Uni won&#39;t work, I&#39;ll have to mock the Uni&#39;s subscribe method or something... maybe it&#39;s easier to mock the HTTP layer."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1694062016,"post_id":77054861,"comment_id":135842297,"body_markdown":"The only real way to see this would be to do a real test and use something like Wiremock for simulating the downstream service","body":"The only real way to see this would be to do a real test and use something like Wiremock for simulating the downstream service"}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695825864,"creation_date":1695825864,"answer_id":77188567,"question_id":77054861,"body_markdown":"See this [link][1]. It&#39;s from the official Mutiny site.\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/2.5.1/guides/testing/","title":"How to test a method that retries on an Uni?","body":"<p>See this <a href=\"https://smallrye.io/smallrye-mutiny/2.5.1/guides/testing/\" rel=\"nofollow noreferrer\">link</a>. It's from the official Mutiny site.</p>\n"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695825864,"creation_date":1694029612,"question_id":77054861,"body_markdown":"I&#39;m using Quarkus, RESTEasy and Mutiny. \r\n\r\nI have a method that calls a REST client and retries on failures.\r\n\r\n```java\r\nclass MyService {\r\n  private MyRestClient restClient;\r\n\r\n  public Uni&lt;Response&gt; fetchData() {\r\n        return restClient.fetchData()\r\n                .onFailure().retry().withBackOff(Duration.ofMillis(100), Duration.ofSeconds(5))\r\n                .atMost(5);\r\n    }\r\n}\r\n```\r\n\r\nI want to test that it retries correctly, so I wrote this test:\r\n```java\r\n@Test\r\npublic void shouldRetry() { \r\n    Mockito.when(restClient.fetchData())\r\n        .thenReturn(\r\n            Uni.createFrom().failure(new RuntimeException(&quot;Failed to fetch data&quot;)),\r\n            Uni.createFrom().item(Response.ok().build())\r\n        );\r\n\r\n        assertDoesNotThrow(() -&gt; myService.fetchData().await().indefinetely());\r\n\r\n        Mockito.verify(restClient, Mockito.times(2)).fetchData();\r\n    }\r\n```\r\n\r\nHowever, the test is failing on the &quot;does not throw&quot; assertion. The method retries correctly, but I believe it&#39;s not triggering a new `fetchData` call. It seems that it is running against the very same `Uni` that was mocked to return an exception, rather than getting the new one which is supposed to return an OK Response. Thus, it keeps getting an error repeatedly. It&#39;s either this or I&#39;m using Mockito the wrong way. \r\n\r\nIt keeps retrying up to the fifth attempt, when it throws `IllegalStateException`:\r\n```\r\nSuppressed: java.lang.IllegalStateException: Retries exhausted: 5/5\r\n```\r\n\r\nDoes anybody know how I can fix this test to get a proper result? Or maybe the problem lies in the actual code under test?","title":"How to test a method that retries on an Uni?","body":"<p>I'm using Quarkus, RESTEasy and Mutiny.</p>\n<p>I have a method that calls a REST client and retries on failures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyService {\n  private MyRestClient restClient;\n\n  public Uni&lt;Response&gt; fetchData() {\n        return restClient.fetchData()\n                .onFailure().retry().withBackOff(Duration.ofMillis(100), Duration.ofSeconds(5))\n                .atMost(5);\n    }\n}\n</code></pre>\n<p>I want to test that it retries correctly, so I wrote this test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void shouldRetry() { \n    Mockito.when(restClient.fetchData())\n        .thenReturn(\n            Uni.createFrom().failure(new RuntimeException(&quot;Failed to fetch data&quot;)),\n            Uni.createFrom().item(Response.ok().build())\n        );\n\n        assertDoesNotThrow(() -&gt; myService.fetchData().await().indefinetely());\n\n        Mockito.verify(restClient, Mockito.times(2)).fetchData();\n    }\n</code></pre>\n<p>However, the test is failing on the &quot;does not throw&quot; assertion. The method retries correctly, but I believe it's not triggering a new <code>fetchData</code> call. It seems that it is running against the very same <code>Uni</code> that was mocked to return an exception, rather than getting the new one which is supposed to return an OK Response. Thus, it keeps getting an error repeatedly. It's either this or I'm using Mockito the wrong way.</p>\n<p>It keeps retrying up to the fifth attempt, when it throws <code>IllegalStateException</code>:</p>\n<pre><code>Suppressed: java.lang.IllegalStateException: Retries exhausted: 5/5\n</code></pre>\n<p>Does anybody know how I can fix this test to get a proper result? Or maybe the problem lies in the actual code under test?</p>\n"},{"tags":["java","gradle","groovy","jib"],"answers":[{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695825760,"creation_date":1695825760,"answer_id":77188551,"question_id":77167345,"body_markdown":"There are really many different ways to achieve this goal, but how about using a simple property?\r\n\r\n```gradle\r\nif (project.hasProperty(&#39;prod&#39;)) {\r\n  image = &#39;...&#39;\r\n} else {\r\n  image = &#39;...&#39;\r\n}\r\n```\r\nor\r\n```gradle\r\nimage = project.hasProperty(&#39;dev&#39;) ? &#39;...&#39; : &#39;...&#39;\r\n```\r\n\r\nSee https://blog.mrhaki.com/2016/05/gradle-goodness-get-property-or-default.html to understand Gradle properties.","title":"How do I change the Jib repo per environment when using the Gradle plugin?","body":"<p>There are really many different ways to achieve this goal, but how about using a simple property?</p>\n<pre><code>if (project.hasProperty('prod')) {\n  image = '...'\n} else {\n  image = '...'\n}\n</code></pre>\n<p>or</p>\n<pre><code>image = project.hasProperty('dev') ? '...' : '...'\n</code></pre>\n<p>See <a href=\"https://blog.mrhaki.com/2016/05/gradle-goodness-get-property-or-default.html\" rel=\"nofollow noreferrer\">https://blog.mrhaki.com/2016/05/gradle-goodness-get-property-or-default.html</a> to understand Gradle properties.</p>\n"}],"owner":{"account_id":42916,"reputation":22357,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695825760,"creation_date":1695562994,"question_id":77167345,"body_markdown":"I have the following...\r\n\r\n```\r\nid &#39;com.google.cloud.tools.jib&#39; version &#39;3.1.4&#39;\r\n...\r\njib {     \r\n  from {         \r\n    image = &#39;amazoncorretto:20&#39;     \r\n  }     \r\n  to {         \r\n    image = &#39;cbusha-backend:latest&#39; \r\n  } \r\n}\r\n```\r\n\r\nThis allows me to build and store the image locally. Now I want another &quot;profile&quot; or task where if I provide a flag it deploys to AWS ECR. This works if I manually change it like this...\r\n\r\n\r\n```\r\njib {     \r\n  from {         \r\n    image = &#39;amazoncorretto:20&#39;     \r\n  }     \r\n  to {         \r\n    image = &#39;660315312345.dkr.ecr.us-east-2.amazonaws.com/cbusha-backend:latest&#39; \r\n  } \r\n}\r\n```\r\n\r\nI don&#39;t want to upload to ECR until I have tested locally. How would I configure Gradle to handle this?","title":"How do I change the Jib repo per environment when using the Gradle plugin?","body":"<p>I have the following...</p>\n<pre><code>id 'com.google.cloud.tools.jib' version '3.1.4'\n...\njib {     \n  from {         \n    image = 'amazoncorretto:20'     \n  }     \n  to {         \n    image = 'cbusha-backend:latest' \n  } \n}\n</code></pre>\n<p>This allows me to build and store the image locally. Now I want another &quot;profile&quot; or task where if I provide a flag it deploys to AWS ECR. This works if I manually change it like this...</p>\n<pre><code>jib {     \n  from {         \n    image = 'amazoncorretto:20'     \n  }     \n  to {         \n    image = '660315312345.dkr.ecr.us-east-2.amazonaws.com/cbusha-backend:latest' \n  } \n}\n</code></pre>\n<p>I don't want to upload to ECR until I have tested locally. How would I configure Gradle to handle this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1695821462,"post_id":77187953,"comment_id":136075306,"body_markdown":"Every time you write `LoginAttempt()` in your code that means that method will be called and everything inside it executed until a return is hit (or an exception thrown).  So `if(LoginAttempt() == true)` will ask the user for input of his name and then `while(LoginAttempt() != true)` will call the method again at least once and ask the user for his input name again.","body":"Every time you write <code>LoginAttempt()</code> in your code that means that method will be called and everything inside it executed until a return is hit (or an exception thrown).  So <code>if(LoginAttempt() == true)</code> will ask the user for input of his name and then <code>while(LoginAttempt() != true)</code> will call the method again at least once and ask the user for his input name again."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1695821615,"post_id":77187953,"comment_id":136075339,"body_markdown":"you are calling loginAttempt again, what did you expect will happen?","body":"you are calling loginAttempt again, what did you expect will happen?"},{"owner":{"account_id":341492,"reputation":1861,"user_id":672135,"accept_rate":88,"display_name":"HectorLector"},"score":0,"creation_date":1695821730,"post_id":77187953,"comment_id":136075360,"body_markdown":"Remove the first if block and move the success message at the end.\nAlso &quot;!= true&quot; is strange, just write &quot;!&quot; in front or &quot;== false&quot;","body":"Remove the first if block and move the success message at the end. Also &quot;!= true&quot; is strange, just write &quot;!&quot; in front or &quot;== false&quot;"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1695821752,"post_id":77187953,"comment_id":136075366,"body_markdown":"In general, to fix your behaviour all the code in the main method could simply reduced to `while(!LoginAttempt()); System.out.println(&quot;Login Successful, welcome &quot; + Username);` Just one simple loop that asks the user for input until the method returns true and then the printing of the success message once the loop is done.","body":"In general, to fix your behaviour all the code in the main method could simply reduced to <code>while(!LoginAttempt()); System.out.println(&quot;Login Successful, welcome &quot; + Username);</code> Just one simple loop that asks the user for input until the method returns true and then the printing of the success message once the loop is done."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1695822196,"post_id":77187953,"comment_id":136075472,"body_markdown":"Variable names should begin in lowercase, so they don&#39;t get confused with class names, which start in uppercase. Also, [naming convention suggest](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) that method names should start in lowercase as well, so it should be `loginAttempt()`.","body":"Variable names should begin in lowercase, so they don&#39;t get confused with class names, which start in uppercase. Also, <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming convention suggest</a> that method names should start in lowercase as well, so it should be <code>loginAttempt()</code>."}],"answers":[{"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1695825217,"post_id":77188017,"comment_id":136076221,"body_markdown":"@user85421 first may trouble OP with empty body, second is more problematic as message would be dispatched internally and externally to the call. But ok to me.","body":"@user85421 first may trouble OP with empty body, second is more problematic as message would be dispatched internally and externally to the call. But ok to me."}],"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695822205,"creation_date":1695821791,"answer_id":77188017,"question_id":77187953,"body_markdown":"    if(LoginAttempt() == true) {\r\n          System.out.println(&quot;Login Successful, welcome &quot; + Username);\r\n        }\r\n        \r\n        while(LoginAttempt() != true) {\r\n          LoginAttempt();\r\n        }\r\n\r\nYou call `LoginAttempt` first in the `if` and whatever is the result call again `LoginAttempt` in the `while`, so at least twice.\r\n\r\nRewrite it as:\r\n\r\n    boolean attemptOk = false;\r\n    do {\r\n        attemptOk = LoginAttempt();\r\n    } while ( !attemptOk );\r\n    System.out.println(&quot;Login successfull!&quot;);\r\n\r\nAside note that method names should follow the lower camel case rule: `loginAttempt` and not `LoginAttempt`.\r\n","title":"Java Method runs after condition is complete","body":"<pre><code>if(LoginAttempt() == true) {\n      System.out.println(&quot;Login Successful, welcome &quot; + Username);\n    }\n    \n    while(LoginAttempt() != true) {\n      LoginAttempt();\n    }\n</code></pre>\n<p>You call <code>LoginAttempt</code> first in the <code>if</code> and whatever is the result call again <code>LoginAttempt</code> in the <code>while</code>, so at least twice.</p>\n<p>Rewrite it as:</p>\n<pre><code>boolean attemptOk = false;\ndo {\n    attemptOk = LoginAttempt();\n} while ( !attemptOk );\nSystem.out.println(&quot;Login successfull!&quot;);\n</code></pre>\n<p>Aside note that method names should follow the lower camel case rule: <code>loginAttempt</code> and not <code>LoginAttempt</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695825625,"creation_date":1695825625,"answer_id":77188532,"question_id":77187953,"body_markdown":"&gt; _&quot;... it will reprompt the Username and Password questions. I don&#39;t know how to fix this. ...&quot;_\r\n\r\nThe code for the _main_ method is incorrect.\r\n\r\nYou&#39;re calling _LoginAttempt_ too often.\r\n\r\n```java\r\nif(LoginAttempt() == true) {\r\n    System.out.println(&quot;Login Successful, welcome &quot; + Username);\r\n}\r\n\r\nwhile(LoginAttempt() != true) {\r\n    LoginAttempt();\r\n}\r\n```\r\n\r\n&gt; _&quot;... I tried making it a while loop that will repeat while the Login variable is set to false ...&quot;_\r\n\r\nIn this case, only call _LoginAttempt_ once, from the _while-loop_&#39;s _code-block_, or from the _conditional-statement_.\\\r\nI recommend the former.\r\n\r\n```java\r\nboolean exit;\r\ndo exit = LoginAttempt(); \r\nwhile (!exit);\r\n```\r\n\r\nOr\r\n\r\n```java\r\nwhile (!LoginAttempt()) {\r\n        \r\n}\r\n```\r\n\r\nOn a final note, you can refine the _LoginAttempt_ method.\r\n\r\n```java\r\npublic static boolean LoginAttempt() {\r\n    System.out.println(&quot;Enter your Username:&quot;);\r\n    if (!InfoCheck.nextLine().equals(Username))\r\n        System.out.println(&quot;Incorrect Username&quot;);\r\n    else {\r\n        System.out.println(&quot;Enter your Password:&quot;);\r\n        if(InfoCheck.nextLine().equals(Password)) return true;\r\n        else System.out.println(&quot;Incorrect Password&quot;);\r\n    }\r\n    return false;\r\n}\r\n```","title":"Java Method runs after condition is complete","body":"<blockquote>\n<p><em>&quot;... it will reprompt the Username and Password questions. I don't know how to fix this. ...&quot;</em></p>\n</blockquote>\n<p>The code for the <em>main</em> method is incorrect.</p>\n<p>You're calling <em>LoginAttempt</em> too often.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(LoginAttempt() == true) {\n    System.out.println(&quot;Login Successful, welcome &quot; + Username);\n}\n\nwhile(LoginAttempt() != true) {\n    LoginAttempt();\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I tried making it a while loop that will repeat while the Login variable is set to false ...&quot;</em></p>\n</blockquote>\n<p>In this case, only call <em>LoginAttempt</em> once, from the <em>while-loop</em>'s <em>code-block</em>, or from the <em>conditional-statement</em>.<br />\nI recommend the former.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean exit;\ndo exit = LoginAttempt(); \nwhile (!exit);\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!LoginAttempt()) {\n        \n}\n</code></pre>\n<p>On a final note, you can refine the <em>LoginAttempt</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean LoginAttempt() {\n    System.out.println(&quot;Enter your Username:&quot;);\n    if (!InfoCheck.nextLine().equals(Username))\n        System.out.println(&quot;Incorrect Username&quot;);\n    else {\n        System.out.println(&quot;Enter your Password:&quot;);\n        if(InfoCheck.nextLine().equals(Password)) return true;\n        else System.out.println(&quot;Incorrect Password&quot;);\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":29547517,"reputation":1,"user_id":22644930,"display_name":"Gianmichael Romano"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695825625,"creation_date":1695821267,"question_id":77187953,"body_markdown":"I made this CLI code that will let you Log in with a preset username and password. Everything seems to work accept one crucial detail. For some reason when I run the code, it will prompt the username and password question (As it should) but even after I put a successful login and it displays &quot;Login Successful, welcome Example1&quot; it will reprompt the Username and Password questions. I don&#39;t know how to fix this.\r\n\r\n\r\n```\r\nclass Main {\r\n  static String Username = &quot;Example1&quot;;\r\n  static String Password = &quot;Example2&quot;;\r\n  static Scanner InfoCheck = new Scanner(System.in);\r\n  public static void main(String[] args) {\r\n    if(LoginAttempt() == true) {\r\n      System.out.println(&quot;Login Successful, welcome &quot; + Username);\r\n    }\r\n    \r\n    while(LoginAttempt() != true) {\r\n      LoginAttempt();\r\n    }\r\n  }\r\n  public static boolean LoginAttempt() {\r\n    System.out.println(&quot;Enter your Username:&quot;);\r\n    String UsernameAttempt = InfoCheck.nextLine();\r\n    System.out.println(&quot;Enter your Password:&quot;);\r\n    String PasswordAttempt = InfoCheck.nextLine();\r\n\r\n    if(UsernameAttempt.equals(Username) &amp;&amp; PasswordAttempt.equals(Password)) {\r\n      return true;\r\n    }\r\n    else {\r\n      System.out.println(&quot;Incorrect Username or Password&quot;);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nI tried making it a while loop that will repeat while the Login variable is set to false, but even when set to true it will reprompt the question. I also tried making it a while true loop that leads to an if, else statement that will check if the variable is true or false.","title":"Java Method runs after condition is complete","body":"<p>I made this CLI code that will let you Log in with a preset username and password. Everything seems to work accept one crucial detail. For some reason when I run the code, it will prompt the username and password question (As it should) but even after I put a successful login and it displays &quot;Login Successful, welcome Example1&quot; it will reprompt the Username and Password questions. I don't know how to fix this.</p>\n<pre><code>class Main {\n  static String Username = &quot;Example1&quot;;\n  static String Password = &quot;Example2&quot;;\n  static Scanner InfoCheck = new Scanner(System.in);\n  public static void main(String[] args) {\n    if(LoginAttempt() == true) {\n      System.out.println(&quot;Login Successful, welcome &quot; + Username);\n    }\n    \n    while(LoginAttempt() != true) {\n      LoginAttempt();\n    }\n  }\n  public static boolean LoginAttempt() {\n    System.out.println(&quot;Enter your Username:&quot;);\n    String UsernameAttempt = InfoCheck.nextLine();\n    System.out.println(&quot;Enter your Password:&quot;);\n    String PasswordAttempt = InfoCheck.nextLine();\n\n    if(UsernameAttempt.equals(Username) &amp;&amp; PasswordAttempt.equals(Password)) {\n      return true;\n    }\n    else {\n      System.out.println(&quot;Incorrect Username or Password&quot;);\n      return false;\n    }\n  }\n}\n</code></pre>\n<p>I tried making it a while loop that will repeat while the Login variable is set to false, but even when set to true it will reprompt the question. I also tried making it a while true loop that leads to an if, else statement that will check if the variable is true or false.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1695832813,"post_id":77188516,"comment_id":136077819,"body_markdown":"It is the same problem as here: https://stackoverflow.com/questions/77131316/create-a-chart-in-a-powerpoint-using-apache-poi-and-java-from-scratch/77135432#77135432. Same solution:  `if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);`","body":"It is the same problem as here: <a href=\"https://stackoverflow.com/questions/77131316/create-a-chart-in-a-powerpoint-using-apache-poi-and-java-from-scratch/77135432#77135432\" title=\"create a chart in a powerpoint using apache poi and java from scratch\">stackoverflow.com/questions/77131316/&hellip;</a>. Same solution:  <code>if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);</code>"},{"owner":{"account_id":408459,"reputation":302,"user_id":779133,"display_name":"sak"},"score":0,"creation_date":1695836274,"post_id":77188516,"comment_id":136078405,"body_markdown":"Thanks. It solved the problem. I have upvoted the answer in the post. \nHow did you identify the root cause. Is there a way to check what the issue is when the workbook is being opened ? Any pointers to me to go over to learn more and troubleshoot better next time ?","body":"Thanks. It solved the problem. I have upvoted the answer in the post.  How did you identify the root cause. Is there a way to check what the issue is when the workbook is being opened ? Any pointers to me to go over to learn more and troubleshoot better next time ?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1695836767,"post_id":77188516,"comment_id":136078493,"body_markdown":"All Office Open XML files, such as `*.xlsx` and `*.pptx` are simply ZIP archives. So one can unzip them and have a look into. I looked into the `ppt/charts/chart1.xml` and found the `&lt;c:numFmt sourceLinked=&quot;true&quot; formatCode=&quot;&quot;/&gt;` in axis XML. And I know that an empty string format code is not correct.","body":"All Office Open XML files, such as <code>*.xlsx</code> and <code>*.pptx</code> are simply ZIP archives. So one can unzip them and have a look into. I looked into the <code>ppt&#47;charts&#47;chart1.xml</code> and found the <code>&lt;c:numFmt sourceLinked=&quot;true&quot; formatCode=&quot;&quot;&#47;&gt;</code> in axis XML. And I know that an empty string format code is not correct."}],"owner":{"account_id":408459,"reputation":302,"user_id":779133,"display_name":"sak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695825508,"creation_date":1695825508,"question_id":77188516,"body_markdown":"I am trying to generate a workbook with Bar chart using example provided in the POI Examples - https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/BarChart.java\r\n\r\nI am able to open the generated workbook and view the chart without any issues with previous version of Excel, but not with latest version of Excel (2309) on both Windows (2309 Build 16827.20080) and Mac (16.77.1 - 23091703).\r\n\r\nWith the latest version of Excel, on trying to open the workbook, I get an error message &quot;We found a problem with some content in &lt;file_name&gt;. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.&quot;\r\nOn clicking Yes, the workbook opens, without the Chart.\r\n\r\nI am using Office 365. I can confirm with the previous Excel version 2308, the workbook is opening fine. \r\n\r\nI tried upgrading to the latest version of POI v5.2.3, but same issue is observed, the generated workbook is opening on previous version but not on latest version of Excel. \r\n\r\nI tried to build same Bar chart manually and compare the xml between the generated and manual workbook (after unzipping the xlsx), but couldn&#39;t figure out much. \r\n\r\nHas anyone else faced this issue? Any pointers to trouble shoot the issue are welcome.","title":"Getting error while opening workbook with Bar chart generated with Apache POI in latest version of Excel","body":"<p>I am trying to generate a workbook with Bar chart using example provided in the POI Examples - <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/BarChart.java\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/BarChart.java</a></p>\n<p>I am able to open the generated workbook and view the chart without any issues with previous version of Excel, but not with latest version of Excel (2309) on both Windows (2309 Build 16827.20080) and Mac (16.77.1 - 23091703).</p>\n<p>With the latest version of Excel, on trying to open the workbook, I get an error message &quot;We found a problem with some content in &lt;file_name&gt;. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.&quot;\nOn clicking Yes, the workbook opens, without the Chart.</p>\n<p>I am using Office 365. I can confirm with the previous Excel version 2308, the workbook is opening fine.</p>\n<p>I tried upgrading to the latest version of POI v5.2.3, but same issue is observed, the generated workbook is opening on previous version but not on latest version of Excel.</p>\n<p>I tried to build same Bar chart manually and compare the xml between the generated and manual workbook (after unzipping the xlsx), but couldn't figure out much.</p>\n<p>Has anyone else faced this issue? Any pointers to trouble shoot the issue are welcome.</p>\n"},{"tags":["java","c++","multithreading","synchronization"],"comments":[{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":4,"creation_date":1301038891,"post_id":5429653,"comment_id":6146692,"body_markdown":"C++ says nothing about threads. You&#39;ll need to rely on library support.","body":"C++ says nothing about threads. You&#39;ll need to rely on library support."},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":0,"creation_date":1544677000,"post_id":5429653,"comment_id":94362947,"body_markdown":"@DavidHeffernan: Since C++11, it does!","body":"@DavidHeffernan: Since C++11, it does!"},{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":1,"creation_date":1544682655,"post_id":5429653,"comment_id":94364631,"body_markdown":"@Nawaz yes, have you seen the date on this post?","body":"@Nawaz yes, have you seen the date on this post?"},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":4,"creation_date":1544696616,"post_id":5429653,"comment_id":94371277,"body_markdown":"@DavidHeffernan: Yes, I saw *Mar 25 **11*** :P","body":"@DavidHeffernan: Yes, I saw <i>Mar 25 <b>11</i></b> :P"}],"answers":[{"tags":[],"owner":{"account_id":53576,"reputation":75610,"user_id":160206,"accept_rate":80,"display_name":"Bj&#246;rn Pollex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301038188,"creation_date":1301038188,"answer_id":5429694,"question_id":5429653,"body_markdown":"C++ does not have built-in threading or synchronization (yet), you have to use libraries for that. [`Boost.Thread`][1] is a good portable library that is designed to be compatible with the [proposed threading facilities in C++0x][2].\r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_46_1/doc/html/thread.html\r\n  [2]: http://en.wikipedia.org/wiki/C++0x#Threading_facilities","title":"What feature corresponds to &#39;synchronized&#39; in Java?","body":"<p>C++ does not have built-in threading or synchronization (yet), you have to use libraries for that. <a href=\"http://www.boost.org/doc/libs/1_46_1/doc/html/thread.html\" rel=\"nofollow\"><code>Boost.Thread</code></a> is a good portable library that is designed to be compatible with the <a href=\"http://en.wikipedia.org/wiki/C++0x#Threading_facilities\" rel=\"nofollow\">proposed threading facilities in C++0x</a>.</p>\n"},{"tags":[],"owner":{"account_id":103497,"reputation":71140,"user_id":277176,"accept_rate":78,"display_name":"Yakov Galka"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1595530636,"creation_date":1301038193,"answer_id":5429695,"question_id":5429653,"body_markdown":"Use the following in C++:\r\n\r\n    #include &lt;mutex&gt;\r\n\r\n    std::mutex _mutex;\r\n\r\n    void f()\r\n    {\r\n         std::unique_lock&lt;std::mutex&gt; lock(_mutex);\r\n         // access your resource here.\r\n    }\r\n","title":"What feature corresponds to &#39;synchronized&#39; in Java?","body":"<p>Use the following in C++:</p>\n<pre><code>#include &lt;mutex&gt;\n\nstd::mutex _mutex;\n\nvoid f()\n{\n     std::unique_lock&lt;std::mutex&gt; lock(_mutex);\n     // access your resource here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1301040439,"creation_date":1301038195,"answer_id":5429696,"question_id":5429653,"body_markdown":"There is no keyword in C++03 equivalent to `synchronized` in Java . But you can use Mutex to guarantee safety of thread. ","title":"What feature corresponds to &#39;synchronized&#39; in Java?","body":"<p>There is no keyword in C++03 equivalent to <code>synchronized</code> in Java . But you can use Mutex to guarantee safety of thread. </p>\n"},{"comments":[{"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"score":1,"creation_date":1544648785,"post_id":43894724,"comment_id":94355343,"body_markdown":"This would be great if implemented as as a template, but I&#39;ve found, with a few well known exception (e.g. _assert_), code implemented with _#define_s is difficult to debug.","body":"This would be great if implemented as as a template, but I&#39;ve found, with a few well known exception (e.g. <i>assert</i>), code implemented with _#define_s is difficult to debug."}],"tags":[],"owner":{"account_id":10726647,"reputation":4413,"user_id":7893951,"accept_rate":100,"display_name":"Akira"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1499776754,"creation_date":1494424807,"answer_id":43894724,"question_id":5429653,"body_markdown":"Despite this question has been already answered, by the idea of [this][1] article I made my version of `synchronized` keyword using just standard library (C++11) objects:\r\n\r\n    #include &lt;mutex&gt;\r\n    #define synchronized(m) \\\r\n        for(std::unique_lock&lt;std::recursive_mutex&gt; lk(m); lk; lk.unlock())\r\n\r\nYou can test it like:\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;iomanip&gt;\r\n    #include &lt;mutex&gt;\r\n    #include &lt;thread&gt;\r\n    #include &lt;vector&gt;\r\n\r\n    #define synchronized(m) \\\r\n        for(std::unique_lock&lt;std::recursive_mutex&gt; lk(m); lk; lk.unlock())\r\n\r\n    class Test {\r\n        std::recursive_mutex m_mutex;\r\n    public:\r\n        void sayHello(int n) {\r\n            synchronized(m_mutex) {\r\n                std::cout &lt;&lt; &quot;Hello! My number is: &quot;;\r\n                std::cout &lt;&lt; std::setw(2) &lt;&lt; n &lt;&lt; std::endl;\r\n            }\r\n        }    \r\n    };\r\n\r\n    int main() {\r\n        Test test;\r\n        std::vector&lt;std::thread&gt; threads;\r\n        std::cout &lt;&lt; &quot;Test started...&quot; &lt;&lt; std::endl;\r\n        \r\n        for(int i = 0; i &lt; 10; ++i)\r\n            threads.push_back(std::thread([i, &amp;test]() {\r\n                for(int j = 0; j &lt; 10; ++j) {\r\n                    test.sayHello((i * 10) + j);\r\n                    std::this_thread::sleep_for(std::chrono::milliseconds(100));\r\n                }\r\n            }));    \r\n        for(auto&amp; t : threads) t.join(); \r\n        \r\n        std::cout &lt;&lt; &quot;Test finished!&quot; &lt;&lt; std::endl;\r\n        return 0;\r\n    }\r\n\r\nThis is just an approximation of `synchonized` keyword of Java but it works. Without it the `sayHello` method of the previous example can be implemented as the [accepted answer][2] says:\r\n\r\n    void sayHello(unsigned int n) {\r\n        std::unique_lock&lt;std::recursive_mutex&gt; lk(m_mutex);\r\n    \r\n        std::cout &lt;&lt; &quot;Hello! My number is: &quot;;\r\n        std::cout &lt;&lt; std::setw(2) &lt;&lt; n &lt;&lt; std::endl;\r\n    }\r\n\r\n\r\n  [1]: https://www.codeproject.com/Articles/12362/A-quot-synchronized-quot-statement-for-C-like-in-J\r\n  [2]: https://stackoverflow.com/a/5429695/7893951","title":"What feature corresponds to &#39;synchronized&#39; in Java?","body":"<p>Despite this question has been already answered, by the idea of <a href=\"https://www.codeproject.com/Articles/12362/A-quot-synchronized-quot-statement-for-C-like-in-J\" rel=\"noreferrer\">this</a> article I made my version of <code>synchronized</code> keyword using just standard library (C++11) objects:</p>\n\n<pre><code>#include &lt;mutex&gt;\n#define synchronized(m) \\\n    for(std::unique_lock&lt;std::recursive_mutex&gt; lk(m); lk; lk.unlock())\n</code></pre>\n\n<p>You can test it like:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;mutex&gt;\n#include &lt;thread&gt;\n#include &lt;vector&gt;\n\n#define synchronized(m) \\\n    for(std::unique_lock&lt;std::recursive_mutex&gt; lk(m); lk; lk.unlock())\n\nclass Test {\n    std::recursive_mutex m_mutex;\npublic:\n    void sayHello(int n) {\n        synchronized(m_mutex) {\n            std::cout &lt;&lt; \"Hello! My number is: \";\n            std::cout &lt;&lt; std::setw(2) &lt;&lt; n &lt;&lt; std::endl;\n        }\n    }    \n};\n\nint main() {\n    Test test;\n    std::vector&lt;std::thread&gt; threads;\n    std::cout &lt;&lt; \"Test started...\" &lt;&lt; std::endl;\n\n    for(int i = 0; i &lt; 10; ++i)\n        threads.push_back(std::thread([i, &amp;test]() {\n            for(int j = 0; j &lt; 10; ++j) {\n                test.sayHello((i * 10) + j);\n                std::this_thread::sleep_for(std::chrono::milliseconds(100));\n            }\n        }));    \n    for(auto&amp; t : threads) t.join(); \n\n    std::cout &lt;&lt; \"Test finished!\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>This is just an approximation of <code>synchonized</code> keyword of Java but it works. Without it the <code>sayHello</code> method of the previous example can be implemented as the <a href=\"https://stackoverflow.com/a/5429695/7893951\">accepted answer</a> says:</p>\n\n<pre><code>void sayHello(unsigned int n) {\n    std::unique_lock&lt;std::recursive_mutex&gt; lk(m_mutex);\n\n    std::cout &lt;&lt; \"Hello! My number is: \";\n    std::cout &lt;&lt; std::setw(2) &lt;&lt; n &lt;&lt; std::endl;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":991920,"reputation":6528,"user_id":1008957,"accept_rate":92,"display_name":"prapin"},"score":0,"creation_date":1695406037,"post_id":77158894,"comment_id":136025109,"body_markdown":"While the macro idea is cool, I think it is too easy to abuse. From my experience, it is quite rare that you need some mutex *in a single function*. The mutex most of the time protects an *object* rather than a function, and needs to be locked at each access to the object, often at least in a getter and a setter. If you use `synchronized` macro in those getter and setter, you have undefined behavior again because we need to lock the **same** mutex. While the code *looks* protected, it is not.","body":"While the macro idea is cool, I think it is too easy to abuse. From my experience, it is quite rare that you need some mutex <i>in a single function</i>. The mutex most of the time protects an <i>object</i> rather than a function, and needs to be locked at each access to the object, often at least in a getter and a setter. If you use <code>synchronized</code> macro in those getter and setter, you have undefined behavior again because we need to lock the <b>same</b> mutex. While the code <i>looks</i> protected, it is not."},{"owner":{"account_id":9746596,"reputation":109,"user_id":7226367,"display_name":"Jerry"},"score":0,"creation_date":1695826803,"post_id":77158894,"comment_id":136076574,"body_markdown":"@prapin: For clarity, I have edited my answer to make clear that the context of my answer is to synchronize access to a single function or method.  Keep in mind, however, that Java&#39;s &quot;synchronized&quot; keyword is primarily used in exactly the way that you dislike.  If someone wanted to make an entire class instance thread safe, I agree with you that there are much better ways to achieve that in C++ (e.g. std::lock_guard&lt;std::mutex&gt;) than to try and emulate &quot;synchronized&quot;, but the question&#39;s title is &quot;What [C++] feature corresponds to &#39;synchronized&#39; in Java?&quot;, and this is a good solution for that.","body":"@prapin: For clarity, I have edited my answer to make clear that the context of my answer is to synchronize access to a single function or method.  Keep in mind, however, that Java&#39;s &quot;synchronized&quot; keyword is primarily used in exactly the way that you dislike.  If someone wanted to make an entire class instance thread safe, I agree with you that there are much better ways to achieve that in C++ (e.g. std::lock_guard&lt;std::mutex&gt;) than to try and emulate &quot;synchronized&quot;, but the question&#39;s title is &quot;What [C++] feature corresponds to &#39;synchronized&#39; in Java?&quot;, and this is a good solution for that."}],"tags":[],"owner":{"account_id":9746596,"reputation":109,"user_id":7226367,"display_name":"Jerry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695824879,"creation_date":1695395909,"answer_id":77158894,"question_id":5429653,"body_markdown":"In C++, I&#39;ve implemented a macro that lets you simply do the following in order to synchronize access to a function or method:\r\n\r\n    // Define a function we want to synchronize.\r\n    void synchronizedFunction()\r\n    {\r\n    \t// Synchronize this function.\r\n        synchronized;\r\n\r\n        // We are now synchronized.\r\n    }\r\n\r\nHere&#39;s how the macro is defined:\r\n\r\n    // Under the hood, we use a mutex to synchronize.\r\n    #include &lt;mutex&gt;\r\n    \r\n    // Create a synchronized keyword.\r\n    #define CONCAT_INNER(a, b) a##b\r\n    #define CONCAT(a, b) CONCAT_INNER(a, b)\r\n    #define UNIQUE_NAME(base) CONCAT(base, __LINE__)\r\n    #define synchronized static std::mutex UNIQUE_NAME(syncMutex); std::unique_lock&lt;std::mutex&gt; syncLock(UNIQUE_NAME(syncMutex))\r\n\r\nThis works for me with all three popular compilers { Windows, Clang, GCC }.  This macro creates a unique static mutex variable for the function, and immediately locks it within the scope of that function.  It could also be used within any scope, not just a function scope.\r\n\r\nYou can try this test program to prove that it works:\r\n\r\n    // Under the hood, we use a mutex to synchronize.\r\n    #include &lt;mutex&gt;\r\n    \r\n    // Create a synchronized keyword.\r\n    #define CONCAT_INNER(a, b) a##b\r\n    #define CONCAT(a, b) CONCAT_INNER(a, b)\r\n    #define UNIQUE_NAME(base) CONCAT(base, __LINE__)\r\n    #define synchronized static std::mutex UNIQUE_NAME(syncMutex); std::unique_lock&lt;std::mutex&gt; syncLock(UNIQUE_NAME(syncMutex))\r\n    \r\n    // For our test program below.\r\n    #include &lt;iostream&gt;\r\n    #include &lt;thread&gt;\r\n    \r\n    // Define a function we want to synchronize.\r\n    void synchronizedFunction()\r\n    {\r\n    \t// Synchronize this function.\r\n        synchronized;\r\n    \r\n        // Print something, then sleep for 1 second, then print something else.\r\n        // If we&#39;re synchronized, these two messages will appear back-to-back.\r\n        // If we&#39;re not synchronized, these messages display in an uncontrolled fashion.\r\n        std::cout &lt;&lt; &quot;Thread &quot; &lt;&lt; std::this_thread::get_id() &lt;&lt; &quot; is entering.&quot; &lt;&lt; std::endl;\r\n        std::this_thread::sleep_for(std::chrono::seconds(1));\r\n        std::cout &lt;&lt; &quot;Thread &quot; &lt;&lt; std::this_thread::get_id() &lt;&lt; &quot; is exiting.&quot; &lt;&lt; std::endl;\r\n    }\r\n    \r\n    // A simple test program that will access our synchronized function from 2 asynchronous threads.\r\n    int main()\r\n    {\r\n        // Construct a new thread and have it call our synchronized function.\r\n        std::thread newThread(synchronizedFunction);\r\n    \r\n        // In our main thread, also call our synchronized function.\r\n        synchronizedFunction();\r\n        \r\n        // Join both threads before exiting.\r\n        newThread.join();\r\n        \r\n        // Exit.\r\n        return 0;\r\n    }\r\n\r\nWhen you run this program, you get the following output -- demonstrating that access to the function is serialized for each accessing thread.  You will notice the one-second delay from when the function is entered and when the function has exited (both times).  Because the function is now serialized, the test program will take approximately 2 seconds for this function to complete:\r\n\r\n    Thread 140737353824064 is entering.\r\n    Thread 140737353824064 is exiting.\r\n    Thread 140737257031424 is entering.\r\n    Thread 140737257031424 is exiting.\r\n\r\nIf you comment out the &quot;synchronized;&quot; statement, then you&#39;ll see that both threads enter the function almost simultaneously, producing something similar to the following output, or you may see text that stomps on top of itself.  Because we are no longer synchronized, the test program will take approximately 1 second to complete instead of 2 seconds:\r\n\r\n    Thread 140737257031424 is entering.\r\n    Thread 140737353824064 is entering.\r\n    Thread 140737257031424 is exiting.\r\n    Thread 140737353824064 is exiting.\r\n\r\n\r\n","title":"What feature corresponds to &#39;synchronized&#39; in Java?","body":"<p>In C++, I've implemented a macro that lets you simply do the following in order to synchronize access to a function or method:</p>\n<pre><code>// Define a function we want to synchronize.\nvoid synchronizedFunction()\n{\n    // Synchronize this function.\n    synchronized;\n\n    // We are now synchronized.\n}\n</code></pre>\n<p>Here's how the macro is defined:</p>\n<pre><code>// Under the hood, we use a mutex to synchronize.\n#include &lt;mutex&gt;\n\n// Create a synchronized keyword.\n#define CONCAT_INNER(a, b) a##b\n#define CONCAT(a, b) CONCAT_INNER(a, b)\n#define UNIQUE_NAME(base) CONCAT(base, __LINE__)\n#define synchronized static std::mutex UNIQUE_NAME(syncMutex); std::unique_lock&lt;std::mutex&gt; syncLock(UNIQUE_NAME(syncMutex))\n</code></pre>\n<p>This works for me with all three popular compilers { Windows, Clang, GCC }.  This macro creates a unique static mutex variable for the function, and immediately locks it within the scope of that function.  It could also be used within any scope, not just a function scope.</p>\n<p>You can try this test program to prove that it works:</p>\n<pre><code>// Under the hood, we use a mutex to synchronize.\n#include &lt;mutex&gt;\n\n// Create a synchronized keyword.\n#define CONCAT_INNER(a, b) a##b\n#define CONCAT(a, b) CONCAT_INNER(a, b)\n#define UNIQUE_NAME(base) CONCAT(base, __LINE__)\n#define synchronized static std::mutex UNIQUE_NAME(syncMutex); std::unique_lock&lt;std::mutex&gt; syncLock(UNIQUE_NAME(syncMutex))\n\n// For our test program below.\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n\n// Define a function we want to synchronize.\nvoid synchronizedFunction()\n{\n    // Synchronize this function.\n    synchronized;\n\n    // Print something, then sleep for 1 second, then print something else.\n    // If we're synchronized, these two messages will appear back-to-back.\n    // If we're not synchronized, these messages display in an uncontrolled fashion.\n    std::cout &lt;&lt; &quot;Thread &quot; &lt;&lt; std::this_thread::get_id() &lt;&lt; &quot; is entering.&quot; &lt;&lt; std::endl;\n    std::this_thread::sleep_for(std::chrono::seconds(1));\n    std::cout &lt;&lt; &quot;Thread &quot; &lt;&lt; std::this_thread::get_id() &lt;&lt; &quot; is exiting.&quot; &lt;&lt; std::endl;\n}\n\n// A simple test program that will access our synchronized function from 2 asynchronous threads.\nint main()\n{\n    // Construct a new thread and have it call our synchronized function.\n    std::thread newThread(synchronizedFunction);\n\n    // In our main thread, also call our synchronized function.\n    synchronizedFunction();\n    \n    // Join both threads before exiting.\n    newThread.join();\n    \n    // Exit.\n    return 0;\n}\n</code></pre>\n<p>When you run this program, you get the following output -- demonstrating that access to the function is serialized for each accessing thread.  You will notice the one-second delay from when the function is entered and when the function has exited (both times).  Because the function is now serialized, the test program will take approximately 2 seconds for this function to complete:</p>\n<pre><code>Thread 140737353824064 is entering.\nThread 140737353824064 is exiting.\nThread 140737257031424 is entering.\nThread 140737257031424 is exiting.\n</code></pre>\n<p>If you comment out the &quot;synchronized;&quot; statement, then you'll see that both threads enter the function almost simultaneously, producing something similar to the following output, or you may see text that stomps on top of itself.  Because we are no longer synchronized, the test program will take approximately 1 second to complete instead of 2 seconds:</p>\n<pre><code>Thread 140737257031424 is entering.\nThread 140737353824064 is entering.\nThread 140737257031424 is exiting.\nThread 140737353824064 is exiting.\n</code></pre>\n"}],"owner":{"account_id":298177,"reputation":2727,"user_id":604065,"accept_rate":97,"display_name":"Don Lun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26723,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":5429695,"answer_count":5,"score":50,"last_activity_date":1695824879,"creation_date":1301037911,"question_id":5429653,"body_markdown":"`synchronized` in Java can guarantee thread-safety when accessing a shared object.\r\nWhat about C++?\r\n","title":"What feature corresponds to &#39;synchronized&#39; in Java?","body":"<p><code>synchronized</code> in Java can guarantee thread-safety when accessing a shared object.\nWhat about C++?</p>\n"},{"tags":["java","junit","mockito","powermock","mockstatic"],"comments":[{"owner":{"account_id":18158610,"reputation":311,"user_id":13210306,"display_name":"Vitor Cavalcanti"},"score":0,"creation_date":1619663423,"post_id":67299161,"comment_id":118975218,"body_markdown":"Check this link and see if it helps you: https://frontbackend.com/java/how-to-mock-static-methods-with-mockito","body":"Check this link and see if it helps you: <a href=\"https://frontbackend.com/java/how-to-mock-static-methods-with-mockito\" rel=\"nofollow noreferrer\">frontbackend.com/java/how-to-mock-static-methods-with-mockit&zwnj;&#8203;o</a>"},{"owner":{"account_id":8759373,"reputation":281,"user_id":6549765,"display_name":"Arun Senthoor Pandian"},"score":0,"creation_date":1619678359,"post_id":67299161,"comment_id":118978353,"body_markdown":"Hi Vitor, It uses junit 4, I need something with junit 5.","body":"Hi Vitor, It uses junit 4, I need something with junit 5."},{"owner":{"account_id":18158610,"reputation":311,"user_id":13210306,"display_name":"Vitor Cavalcanti"},"score":2,"creation_date":1619700656,"post_id":67299161,"comment_id":118988139,"body_markdown":"My opinion here ... first of all, get rid of the powermock dependency. Then use mockito-inline and JUnit 5 (junit-jupiter) and you will make things work well.","body":"My opinion here ... first of all, get rid of the powermock dependency. Then use mockito-inline and JUnit 5 (junit-jupiter) and you will make things work well."},{"owner":{"account_id":18158610,"reputation":311,"user_id":13210306,"display_name":"Vitor Cavalcanti"},"score":0,"creation_date":1619700803,"post_id":67299161,"comment_id":118988214,"body_markdown":"Can you edit your questions by adding your `pom.xml` and the test class? I&#39;ll help you with it.","body":"Can you edit your questions by adding your <code>pom.xml</code> and the test class? I&#39;ll help you with it."},{"owner":{"account_id":8759373,"reputation":281,"user_id":6549765,"display_name":"Arun Senthoor Pandian"},"score":0,"creation_date":1619765676,"post_id":67299161,"comment_id":119008447,"body_markdown":"Hi Vitor, Thanks for your time, till mockito-core comes with the ability to mock static and final classes we have decided to run them with Junit 4 itself. I see they are experimenting mockito-inline with the features, once they are satisficed they should be releasing one with mockito-core. That should solve our problem.","body":"Hi Vitor, Thanks for your time, till mockito-core comes with the ability to mock static and final classes we have decided to run them with Junit 4 itself. I see they are experimenting mockito-inline with the features, once they are satisficed they should be releasing one with mockito-core. That should solve our problem."}],"answers":[{"comments":[{"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"score":0,"creation_date":1679591349,"post_id":68350864,"comment_id":133752948,"body_markdown":"works only on java11, tried on java8 , not working","body":"works only on java11, tried on java8 , not working"}],"tags":[],"owner":{"account_id":4096707,"reputation":1439,"user_id":3363254,"accept_rate":50,"display_name":"Eranda"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1626107365,"creation_date":1626107365,"answer_id":68350864,"question_id":67299161,"body_markdown":"You have to add ***/mockito-extensions/org.mockito.plugins.MockMaker*** file to the class path containing the value ***mock-maker-inline***.\r\nEasiest way to do that is put it in the src/test/resources directory.\r\n\r\nFor more details check the Mockito documentation. \r\n\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#Mocking_Final\r\n","title":"Mock static method in JUnit 5 using Mockito","body":"<p>You have to add <em><strong>/mockito-extensions/org.mockito.plugins.MockMaker</strong></em> file to the class path containing the value <em><strong>mock-maker-inline</strong></em>.\nEasiest way to do that is put it in the src/test/resources directory.</p>\n<p>For more details check the Mockito documentation.</p>\n<p><a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#Mocking_Final\" rel=\"noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#Mocking_Final</a></p>\n"},{"tags":[],"owner":{"account_id":4933689,"reputation":577,"user_id":3972599,"display_name":"Amgad Hanafy"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1629490358,"creation_date":1629490358,"answer_id":68867618,"question_id":67299161,"body_markdown":"You need to use `mockito-inline` version `3.4.0` or higher and remove `mockito-core` from your dependencies (`mockito-inline` depends on `mockito-core` so it will be retrieved automatically).\r\n\r\nThat way, you will be using mockito static mocking correctly, but it wouldn&#39;t solve the exception that you posted. \r\n\r\nTo fix it, you need to remove all dependencies of `powermock` as it conflicts with `mockito` and causes this error\r\n```\r\nThe used MockMaker PowerMockMaker does not support the creation of static mocks\r\n``` ","title":"Mock static method in JUnit 5 using Mockito","body":"<p>You need to use <code>mockito-inline</code> version <code>3.4.0</code> or higher and remove <code>mockito-core</code> from your dependencies (<code>mockito-inline</code> depends on <code>mockito-core</code> so it will be retrieved automatically).</p>\n<p>That way, you will be using mockito static mocking correctly, but it wouldn't solve the exception that you posted.</p>\n<p>To fix it, you need to remove all dependencies of <code>powermock</code> as it conflicts with <code>mockito</code> and causes this error</p>\n<pre><code>The used MockMaker PowerMockMaker does not support the creation of static mocks\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10445005,"reputation":113,"user_id":7700346,"display_name":"BrandonLenz"},"score":2,"creation_date":1662999968,"post_id":72995019,"comment_id":130131075,"body_markdown":"The following article shares an alternative that helped me: https://www.baeldung.com/mockito-mock-static-methods#configuring-mockito-for-static-methods. This allowed me to configure the existing mockito extension to allow inline mocks","body":"The following article shares an alternative that helped me: <a href=\"https://www.baeldung.com/mockito-mock-static-methods#configuring-mockito-for-static-methods\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>. This allowed me to configure the existing mockito extension to allow inline mocks"},{"owner":{"account_id":10478127,"reputation":311,"user_id":7724007,"display_name":"meh93"},"score":0,"creation_date":1673278263,"post_id":72995019,"comment_id":132457082,"body_markdown":"In what file did you exclude the mockito core?","body":"In what file did you exclude the mockito core?"},{"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"score":0,"creation_date":1673354142,"post_id":72995019,"comment_id":132475320,"body_markdown":"@meh93\nIn build.gradle where we define dependencies.","body":"@meh93 In build.gradle where we define dependencies."}],"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1657892799,"creation_date":1657892799,"answer_id":72995019,"question_id":67299161,"body_markdown":"In my case we were using spring boot and below dependency for spring-boot-starter-test and mockito-core was coming internally with spring-boot-starter-test\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n\r\nuse gradle dependencies to find this\r\n\r\n    +--- org.springframework.boot:spring-boot-starter-test -&gt; 2.6.6\r\n    |    +--- org.springframework.boot:spring-boot-starter:2.6.6 (*)\r\n    |    +--- org.springframework.boot:spring-boot-test:2.6.6\r\n    |    |    \\--- org.springframework.boot:spring-boot:2.6.6 (*)\r\n    |    +--- org.springframework.boot:spring-boot-test-autoconfigure:2.6.6\r\n    |    |    +--- org.springframework.boot:spring-boot:2.6.6 (*)\r\n    |    |    +--- org.springframework.boot:spring-boot-test:2.6.6 (*)\r\n    |    |    \\--- org.springframework.boot:spring-boot-autoconfigure:2.6.6 (*)\r\n    |    +--- com.jayway.jsonpath:json-path:2.6.0\r\n    |    |    +--- net.minidev:json-smart:2.4.7 -&gt; 2.4.8\r\n    |    |    |    \\--- net.minidev:accessors-smart:2.4.8\r\n    |    |    |         \\--- org.ow2.asm:asm:9.1 -&gt; 9.3\r\n    |    |    \\--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\r\n    |    +--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3\r\n    |    |    \\--- jakarta.activation:jakarta.activation-api:1.2.2\r\n    |    +--- org.assertj:assertj-core:3.21.0\r\n    |    +--- org.hamcrest:hamcrest:2.2\r\n    |    +--- org.junit.jupiter:junit-jupiter:5.8.2\r\n    |    |    +--- org.junit:junit-bom:5.8.2\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter:5.8.2 (c)\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter-api:5.8.2 (c)\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter-params:5.8.2 (c)\r\n    |    |    |    \\--- org.junit.platform:junit-platform-commons:1.8.2 (c)\r\n    |    |    +--- org.junit.jupiter:junit-jupiter-api:5.8.2\r\n    |    |    |    +--- org.junit:junit-bom:5.8.2 (*)\r\n    |    |    |    +--- org.opentest4j:opentest4j:1.2.0\r\n    |    |    |    +--- org.junit.platform:junit-platform-commons:1.8.2\r\n    |    |    |    |    +--- org.junit:junit-bom:5.8.2 (*)\r\n    |    |    |    |    \\--- org.apiguardian:apiguardian-api:1.1.2\r\n    |    |    |    \\--- org.apiguardian:apiguardian-api:1.1.2\r\n    |    |    \\--- org.junit.jupiter:junit-jupiter-params:5.8.2\r\n    |    |         +--- org.junit:junit-bom:5.8.2 (*)\r\n    |    |         +--- org.junit.jupiter:junit-jupiter-api:5.8.2 (*)\r\n    |    |         \\--- org.apiguardian:apiguardian-api:1.1.2\r\n    |    +--- org.mockito:mockito-core:4.0.0\r\n    |    |    +--- net.bytebuddy:byte-buddy:1.11.19 -&gt; 1.11.22\r\n    |    |    \\--- net.bytebuddy:byte-buddy-agent:1.11.19 -&gt; 1.11.22\r\n    |    +--- org.mockito:mockito-junit-jupiter:4.0.0\r\n    |    |    \\--- org.mockito:mockito-core:4.0.0 (*)\r\n\r\n\r\nSo, 2 steps to solve this issue.\r\n\r\n Exclude the mockito-core from spring-boot-starter-test\r\n\r\n    testImplementation (&#39;org.springframework.boot:spring-boot-starter-test&#39;) \r\n     {\r\n       exclude group: &#39;org.mockito&#39;, module :&#39;mockito-core&#39;\r\n     }\r\nAnd now include the mockito-inline\r\n\r\n    testImplementation &#39;org.mockito:mockito-inline:4.6.1&#39;\r\n\r\nThis will solve the issue.","title":"Mock static method in JUnit 5 using Mockito","body":"<p>In my case we were using spring boot and below dependency for spring-boot-starter-test and mockito-core was coming internally with spring-boot-starter-test</p>\n<pre><code>testImplementation 'org.springframework.boot:spring-boot-starter-test'\n</code></pre>\n<p>use gradle dependencies to find this</p>\n<pre><code>+--- org.springframework.boot:spring-boot-starter-test -&gt; 2.6.6\n|    +--- org.springframework.boot:spring-boot-starter:2.6.6 (*)\n|    +--- org.springframework.boot:spring-boot-test:2.6.6\n|    |    \\--- org.springframework.boot:spring-boot:2.6.6 (*)\n|    +--- org.springframework.boot:spring-boot-test-autoconfigure:2.6.6\n|    |    +--- org.springframework.boot:spring-boot:2.6.6 (*)\n|    |    +--- org.springframework.boot:spring-boot-test:2.6.6 (*)\n|    |    \\--- org.springframework.boot:spring-boot-autoconfigure:2.6.6 (*)\n|    +--- com.jayway.jsonpath:json-path:2.6.0\n|    |    +--- net.minidev:json-smart:2.4.7 -&gt; 2.4.8\n|    |    |    \\--- net.minidev:accessors-smart:2.4.8\n|    |    |         \\--- org.ow2.asm:asm:9.1 -&gt; 9.3\n|    |    \\--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\n|    +--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3\n|    |    \\--- jakarta.activation:jakarta.activation-api:1.2.2\n|    +--- org.assertj:assertj-core:3.21.0\n|    +--- org.hamcrest:hamcrest:2.2\n|    +--- org.junit.jupiter:junit-jupiter:5.8.2\n|    |    +--- org.junit:junit-bom:5.8.2\n|    |    |    +--- org.junit.jupiter:junit-jupiter:5.8.2 (c)\n|    |    |    +--- org.junit.jupiter:junit-jupiter-api:5.8.2 (c)\n|    |    |    +--- org.junit.jupiter:junit-jupiter-params:5.8.2 (c)\n|    |    |    \\--- org.junit.platform:junit-platform-commons:1.8.2 (c)\n|    |    +--- org.junit.jupiter:junit-jupiter-api:5.8.2\n|    |    |    +--- org.junit:junit-bom:5.8.2 (*)\n|    |    |    +--- org.opentest4j:opentest4j:1.2.0\n|    |    |    +--- org.junit.platform:junit-platform-commons:1.8.2\n|    |    |    |    +--- org.junit:junit-bom:5.8.2 (*)\n|    |    |    |    \\--- org.apiguardian:apiguardian-api:1.1.2\n|    |    |    \\--- org.apiguardian:apiguardian-api:1.1.2\n|    |    \\--- org.junit.jupiter:junit-jupiter-params:5.8.2\n|    |         +--- org.junit:junit-bom:5.8.2 (*)\n|    |         +--- org.junit.jupiter:junit-jupiter-api:5.8.2 (*)\n|    |         \\--- org.apiguardian:apiguardian-api:1.1.2\n|    +--- org.mockito:mockito-core:4.0.0\n|    |    +--- net.bytebuddy:byte-buddy:1.11.19 -&gt; 1.11.22\n|    |    \\--- net.bytebuddy:byte-buddy-agent:1.11.19 -&gt; 1.11.22\n|    +--- org.mockito:mockito-junit-jupiter:4.0.0\n|    |    \\--- org.mockito:mockito-core:4.0.0 (*)\n</code></pre>\n<p>So, 2 steps to solve this issue.</p>\n<p>Exclude the mockito-core from spring-boot-starter-test</p>\n<pre><code>testImplementation ('org.springframework.boot:spring-boot-starter-test') \n {\n   exclude group: 'org.mockito', module :'mockito-core'\n }\n</code></pre>\n<p>And now include the mockito-inline</p>\n<pre><code>testImplementation 'org.mockito:mockito-inline:4.6.1'\n</code></pre>\n<p>This will solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1660842036,"creation_date":1660842036,"answer_id":73406891,"question_id":67299161,"body_markdown":"Add the following per https://www.baeldung.com/mockito-mock-static-methods: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Mock static method in JUnit 5 using Mockito","body":"<p>Add the following per <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"noreferrer\">https://www.baeldung.com/mockito-mock-static-methods</a>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663653096,"post_id":73730962,"comment_id":130284011,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73730962/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14987428,"reputation":61,"user_id":10819607,"display_name":"Sachin Nagode"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1663244102,"creation_date":1663244102,"answer_id":73730962,"question_id":67299161,"body_markdown":"I have some resolutions steps for same.\r\n\r\nPlease replace you dependency with below .\r\n\r\n         \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.5.1&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nif use 4.5.1 or latest your code will work\r\n\r\nAlso use your try with resource to mock static method\r\n\r\n    try (MockedStatic&lt;WelcomeUtil&gt; theMock = Mockito.mockStatic(WelcomeUtil.class)) {\r\n                theMock.when(() -&gt; WelcomeUtil.generateWelcome(&quot;John&quot;))\r\n                       .thenReturn(&quot;Guten Tag John&quot;);\r\n    \r\n                assertEquals(&quot;Guten Tag John&quot;, WelcomeUtil.generateWelcome(&quot;John&quot;));\r\n            }","title":"Mock static method in JUnit 5 using Mockito","body":"<p>I have some resolutions steps for same.</p>\n<p>Please replace you dependency with below .</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n                &lt;version&gt;4.5.1&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>if use 4.5.1 or latest your code will work</p>\n<p>Also use your try with resource to mock static method</p>\n<pre><code>try (MockedStatic&lt;WelcomeUtil&gt; theMock = Mockito.mockStatic(WelcomeUtil.class)) {\n            theMock.when(() -&gt; WelcomeUtil.generateWelcome(&quot;John&quot;))\n                   .thenReturn(&quot;Guten Tag John&quot;);\n\n            assertEquals(&quot;Guten Tag John&quot;, WelcomeUtil.generateWelcome(&quot;John&quot;));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13414510,"reputation":43,"user_id":9679591,"display_name":"Brahim BEN ADDI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695824507,"creation_date":1695824507,"answer_id":77188368,"question_id":67299161,"body_markdown":"I have faced this issue while trying to use Mockito5 with **JDK8**, the thing is that &quot;**Instrumentation API**&quot; is not supported by **JDK8**(this is what allows you to mock static classes on runtime) , which is included in **JDK9** and later.\r\n\r\n**Instrumentation API** allows you to alter existing byte-code that is loaded in a JVM.\r\n\r\nSolution 1 :\r\nHere is the work around I did to overcome this issue :\r\n\r\n    dependencies{\r\n    ....\r\n        testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: &#39;4.8.0&#39;\r\n    \r\n        implementation group: &#39;net.bytebuddy&#39;, name: &#39;byte-buddy-agent&#39;, version: &#39;1.12.14&#39;\r\n    }\r\n    \r\n    configurations {\r\n        byteBuddyAgent\r\n        compile.extendsFrom byteBuddyAgent\r\n    }\r\n    \r\n    test {\r\n    \r\n        // Add the Byte Buddy agent to the JVM arguments during testing, which will be retrieved by the inline-mockito during runtime.\r\n        doFirst {\r\n            // Get the list of dependencies.\r\n            List&lt;File&gt; dependencies = configurations.compileClasspath.files.toList()\r\n    \r\n            // Find the jar file for the `byte-buddy-agent` dependency.\r\n            File byteBuddyAgent = dependencies.find { file -&gt; file.path.contains(&#39;byte-buddy-agent&#39;) }\r\n    \r\n            if (byteBuddyAgent != null) {\r\n                // Get the path to the jar file.\r\n                 jarPath = byteBuddyAgent.absolutePath\r\n                 jvmArgs &#39;-javaagent:&#39; + jarPath\r\n            } else {\r\n                // Handle the case when the desired JAR file is not found.\r\n                println &quot;The &#39;byte-buddy-agent&#39; jar file was not found in the dependencies.&quot;\r\n            }\r\n        }\r\n    \r\n        finalizedBy jacocoTestReport // report is always generated after tests run\r\n    }\r\n\r\nSolution 2 :\r\nUsing **PowerMockito** wans&#39;t practicle for me beacause I need to run **jacococ** reports to see the code coverage and jacoco doesn&#39;t like **PowerMockito** for some reason.\r\n\r\n\r\n","title":"Mock static method in JUnit 5 using Mockito","body":"<p>I have faced this issue while trying to use Mockito5 with <strong>JDK8</strong>, the thing is that &quot;<strong>Instrumentation API</strong>&quot; is not supported by <strong>JDK8</strong>(this is what allows you to mock static classes on runtime) , which is included in <strong>JDK9</strong> and later.</p>\n<p><strong>Instrumentation API</strong> allows you to alter existing byte-code that is loaded in a JVM.</p>\n<p>Solution 1 :\nHere is the work around I did to overcome this issue :</p>\n<pre><code>dependencies{\n....\n    testImplementation group: 'org.mockito', name: 'mockito-inline', version: '4.8.0'\n\n    implementation group: 'net.bytebuddy', name: 'byte-buddy-agent', version: '1.12.14'\n}\n\nconfigurations {\n    byteBuddyAgent\n    compile.extendsFrom byteBuddyAgent\n}\n\ntest {\n\n    // Add the Byte Buddy agent to the JVM arguments during testing, which will be retrieved by the inline-mockito during runtime.\n    doFirst {\n        // Get the list of dependencies.\n        List&lt;File&gt; dependencies = configurations.compileClasspath.files.toList()\n\n        // Find the jar file for the `byte-buddy-agent` dependency.\n        File byteBuddyAgent = dependencies.find { file -&gt; file.path.contains('byte-buddy-agent') }\n\n        if (byteBuddyAgent != null) {\n            // Get the path to the jar file.\n             jarPath = byteBuddyAgent.absolutePath\n             jvmArgs '-javaagent:' + jarPath\n        } else {\n            // Handle the case when the desired JAR file is not found.\n            println &quot;The 'byte-buddy-agent' jar file was not found in the dependencies.&quot;\n        }\n    }\n\n    finalizedBy jacocoTestReport // report is always generated after tests run\n}\n</code></pre>\n<p>Solution 2 :\nUsing <strong>PowerMockito</strong> wans't practicle for me beacause I need to run <strong>jacococ</strong> reports to see the code coverage and jacoco doesn't like <strong>PowerMockito</strong> for some reason.</p>\n"}],"owner":{"account_id":8759373,"reputation":281,"user_id":6549765,"display_name":"Arun Senthoor Pandian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72154,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":6,"score":28,"last_activity_date":1695824507,"creation_date":1619608456,"question_id":67299161,"body_markdown":"I am trying to mock static classes(org.apache.commons.beanutils.Beanutils) for Junit 5 test cases. I came across `mockito-inline` dependency helps with mocking static classes. \r\nI tried to use the `mockito-inline` in the project for some strange reason it give me compilation error in the absence of `mockito-core` library. \r\n\r\nWith `mockito-core` am getting below:\r\n\r\n```\r\norg.mockito.exceptions.base.MockitoException: \r\nThe used MockMaker PowerMockMaker does not support the creation of static mocks\r\n\r\nMockito&#39;s inline mock maker supports static mocks based on the Instrumentation API.\r\nYou can simply enable this mock mode, by placing the &#39;mockito-inline&#39; artifact where you are currently using &#39;mockito-core&#39;.\r\nNote that Mockito&#39;s inline mock maker is not supported on Android.\r\n\tat com.xx.xx.xx.AvroCopyPropertiesInvocationTargetExceptionScenario(CreditOfferServiceTest.java:1197)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:137)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\nWithout the core - compilation issue. Please find the test dependency breakdown without `mockito-core`:\r\n\r\n```\r\n[INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.9:test\r\n[INFO] |  \\- org.powermock:powermock-api-support:jar:2.0.9:test\r\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.9:test\r\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.9:test\r\n[INFO] +- org.mockito:mockito-inline:jar:3.6.28:test\r\n[INFO] |  \\- org.mockito:mockito-core:jar:3.1.0:test\r\n[INFO] |     +- net.bytebuddy:byte-buddy:jar:1.10.10:test\r\n[INFO] |     +- net.bytebuddy:byte-buddy-agent:jar:1.10.10:test\r\n[INFO] |     \\- org.objenesis:objenesis:jar:2.6:test\r\n[INFO] +- org.mockito:mockito-junit-jupiter:jar:3.6.0:test\r\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-api:jar:5.5.2:test\r\n[INFO] |     +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |     \\- org.junit.platform:junit-platform-commons:jar:1.5.2\r\n\r\n```\r\n\r\n","title":"Mock static method in JUnit 5 using Mockito","body":"<p>I am trying to mock static classes(org.apache.commons.beanutils.Beanutils) for Junit 5 test cases. I came across <code>mockito-inline</code> dependency helps with mocking static classes.\nI tried to use the <code>mockito-inline</code> in the project for some strange reason it give me compilation error in the absence of <code>mockito-core</code> library.</p>\n<p>With <code>mockito-core</code> am getting below:</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nThe used MockMaker PowerMockMaker does not support the creation of static mocks\n\nMockito's inline mock maker supports static mocks based on the Instrumentation API.\nYou can simply enable this mock mode, by placing the 'mockito-inline' artifact where you are currently using 'mockito-core'.\nNote that Mockito's inline mock maker is not supported on Android.\n    at com.xx.xx.xx.AvroCopyPropertiesInvocationTargetExceptionScenario(CreditOfferServiceTest.java:1197)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:137)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>Without the core - compilation issue. Please find the test dependency breakdown without <code>mockito-core</code>:</p>\n<pre><code>[INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.9:test\n[INFO] |  \\- org.powermock:powermock-api-support:jar:2.0.9:test\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.9:test\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.9:test\n[INFO] +- org.mockito:mockito-inline:jar:3.6.28:test\n[INFO] |  \\- org.mockito:mockito-core:jar:3.1.0:test\n[INFO] |     +- net.bytebuddy:byte-buddy:jar:1.10.10:test\n[INFO] |     +- net.bytebuddy:byte-buddy-agent:jar:1.10.10:test\n[INFO] |     \\- org.objenesis:objenesis:jar:2.6:test\n[INFO] +- org.mockito:mockito-junit-jupiter:jar:3.6.0:test\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-api:jar:5.5.2:test\n[INFO] |     +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |     \\- org.junit.platform:junit-platform-commons:jar:1.5.2\n\n</code></pre>\n"},{"tags":["java","list","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1695494157,"post_id":77162562,"comment_id":136033100,"body_markdown":"You have two fields trying to control the value put in the &quot;seqNo&quot; column. If you want to manually control the column, you should be using @OrderBy on the OneToMany so that it uses those values - it is then up to you to set them in the Product","body":"You have two fields trying to control the value put in the &quot;seqNo&quot; column. If you want to manually control the column, you should be using @OrderBy on the OneToMany so that it uses those values - it is then up to you to set them in the Product"}],"answers":[{"tags":[],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695824207,"creation_date":1695824207,"answer_id":77188318,"question_id":77162562,"body_markdown":"Taking my cue from @Chris (https://stackoverflow.com/users/496099/chris), I made sure that my `seqNo` values were always reconciled before saving, with\r\n\r\n```\r\npublic void reconcileSequenceNumbers() {\r\n        products.stream().forEach(p -&gt; {\r\n            int oldSeqNo = p.getSeqNo();\r\n            int newSeqNo = products.indexOf(p);\r\n\r\n            if (newSeqNo != oldSeqNo) {\r\n                p.setSeqNo(newSeqNo);\r\n            }\r\n        });\r\n    }\r\n```","title":"How do I prevent Lists returned from a JPA Repository having null values","body":"<p>Taking my cue from @Chris (<a href=\"https://stackoverflow.com/users/496099/chris\">https://stackoverflow.com/users/496099/chris</a>), I made sure that my <code>seqNo</code> values were always reconciled before saving, with</p>\n<pre><code>public void reconcileSequenceNumbers() {\n        products.stream().forEach(p -&gt; {\n            int oldSeqNo = p.getSeqNo();\n            int newSeqNo = products.indexOf(p);\n\n            if (newSeqNo != oldSeqNo) {\n                p.setSeqNo(newSeqNo);\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77188318,"answer_count":1,"score":2,"last_activity_date":1695824207,"creation_date":1695464109,"question_id":77162562,"body_markdown":"I have parent-child object model where `Category` has a list of `Product`s. This is biderectional, the `Product` has a `parentCategory` property.\r\n\r\nThis is modelled as a `OneToMany` and `ManyToOne` JPA Mapping.\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Category {\r\n    @Id private String id;\r\n\r\n    private String displayName;\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;parentCategory&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    @OrderColumn(name = &quot;seqNo&quot;)\r\n    private List&lt;Product&gt; products;\r\n}\r\n```\r\nand\r\n```\r\n@Data\r\n@Entity\r\npublic class Product {\r\n    @Id\r\n    private String id;\r\n\r\n    private String displayName;\r\n    \r\n    @ToString.Exclude\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Category parentCategory;\r\n\r\n    @JsonIgnore\r\n    private int seqNo;\r\n}\r\n```\r\nBecause the order of products is important, and I want the user to manually reorder them, I have added a `seqNo` property/column and have specified the `@OrderColumn`.\r\n\r\nWhen moving products up or down, I do\r\n```\r\nCollections.swap(products, index, index + 1);\r\n\r\n```\r\nor \r\n```\r\nCollections.swap(products, index, index - 1);\r\n\r\n``` \r\nas required, and then `repository.save(category)`\r\n\r\nThe `Product` List gats saved with `seqNo` in the correct order, but often (but not always) there are gaps in the sequence, giving rise to `null` elements in the list.\r\n\r\nLikewise, when assigning a new `Category` to a `Product`, I do\r\n```\r\noldParentCategory.getProducts().remove(product);\r\nnewParentCategory.addProduct(product); // this sets parentCategory on Product as well as adds Product to Category&#39;s products List\r\ncategoryRepository.saveAll(Arrays.asList(new Category[]{oldParentCategory, newParentCategory}));\r\n```\r\nThis also leaves a gap in the old `Category`&#39;s sequence numbers.\r\n\r\nWhat am I doing wrong? and how do I fix it?\r\n\r\n(**P.S.**: My JPA implementation is Hibernate [via Spring Boot]. My database is file-based H2 with a pretty basic setup [in development], if that&#39;s relevant)\r\n","title":"How do I prevent Lists returned from a JPA Repository having null values","body":"<p>I have parent-child object model where <code>Category</code> has a list of <code>Product</code>s. This is biderectional, the <code>Product</code> has a <code>parentCategory</code> property.</p>\n<p>This is modelled as a <code>OneToMany</code> and <code>ManyToOne</code> JPA Mapping.</p>\n<pre><code>@Data\n@Entity\npublic class Category {\n    @Id private String id;\n\n    private String displayName;\n\n    @OneToMany(\n            mappedBy = &quot;parentCategory&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    @OrderColumn(name = &quot;seqNo&quot;)\n    private List&lt;Product&gt; products;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@Entity\npublic class Product {\n    @Id\n    private String id;\n\n    private String displayName;\n    \n    @ToString.Exclude\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Category parentCategory;\n\n    @JsonIgnore\n    private int seqNo;\n}\n</code></pre>\n<p>Because the order of products is important, and I want the user to manually reorder them, I have added a <code>seqNo</code> property/column and have specified the <code>@OrderColumn</code>.</p>\n<p>When moving products up or down, I do</p>\n<pre><code>Collections.swap(products, index, index + 1);\n\n</code></pre>\n<p>or</p>\n<pre><code>Collections.swap(products, index, index - 1);\n\n</code></pre>\n<p>as required, and then <code>repository.save(category)</code></p>\n<p>The <code>Product</code> List gats saved with <code>seqNo</code> in the correct order, but often (but not always) there are gaps in the sequence, giving rise to <code>null</code> elements in the list.</p>\n<p>Likewise, when assigning a new <code>Category</code> to a <code>Product</code>, I do</p>\n<pre><code>oldParentCategory.getProducts().remove(product);\nnewParentCategory.addProduct(product); // this sets parentCategory on Product as well as adds Product to Category's products List\ncategoryRepository.saveAll(Arrays.asList(new Category[]{oldParentCategory, newParentCategory}));\n</code></pre>\n<p>This also leaves a gap in the old <code>Category</code>'s sequence numbers.</p>\n<p>What am I doing wrong? and how do I fix it?</p>\n<p>(<strong>P.S.</strong>: My JPA implementation is Hibernate [via Spring Boot]. My database is file-based H2 with a pretty basic setup [in development], if that's relevant)</p>\n"},{"tags":["java","spring-boot","unit-testing","jpa","mocking"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695741592,"post_id":77181085,"comment_id":136063572,"body_markdown":"How and where is `messagesService` created? I would expect to see it declared as a field in the test with an `@InjectMocks` annotation, but instead I don&#39;t see it declared in this code at all?","body":"How and where is <code>messagesService</code> created? I would expect to see it declared as a field in the test with an <code>@InjectMocks</code> annotation, but instead I don&#39;t see it declared in this code at all?"},{"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"score":0,"creation_date":1695741987,"post_id":77181085,"comment_id":136063670,"body_markdown":"@DavidConrad It isn&#39;t really relevant to this example since the test is erroring out before it ever gets to the service call. I will update the example to include the service injection for the sake of clarity however.","body":"@DavidConrad It isn&#39;t really relevant to this example since the test is erroring out before it ever gets to the service call. I will update the example to include the service injection for the sake of clarity however."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695743865,"post_id":77181085,"comment_id":136064085,"body_markdown":"Injecting it with `@Autowired` means you&#39;ll get one created by Spring with all the normal dependencies, not any mock dependencies.","body":"Injecting it with <code>@Autowired</code> means you&#39;ll get one created by Spring with all the normal dependencies, not any mock dependencies."},{"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"score":0,"creation_date":1695746553,"post_id":77181085,"comment_id":136064593,"body_markdown":"@DavidConrad Right. The MessagesService isn&#39;t the problem here. It is the DateTimeProvider that I need to mock.","body":"@DavidConrad Right. The MessagesService isn&#39;t the problem here. It is the DateTimeProvider that I need to mock."}],"answers":[{"tags":[],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695824163,"creation_date":1695824163,"answer_id":77188312,"question_id":77181085,"body_markdown":"I finally managed to figure out the problem. I was using hibernate @CreationTimestamp in my entity class to annotate the createdDate field. All the examples I have been looking at use JPA @CreatedDate instead. I found a more complete example here: https://mkyong.com/spring-boot/mocking-spring-data-datetimeprovider/ that gave me enough information to get things working.\r\n\r\nThat said, I&#39;m still curious if anyone knows if a good solution to this problem for the hibernate specific annotations. I will leave the question open for now. ","title":"Creating a DateTimeProvider bean for mocking","body":"<p>I finally managed to figure out the problem. I was using hibernate @CreationTimestamp in my entity class to annotate the createdDate field. All the examples I have been looking at use JPA @CreatedDate instead. I found a more complete example here: <a href=\"https://mkyong.com/spring-boot/mocking-spring-data-datetimeprovider/\" rel=\"nofollow noreferrer\">https://mkyong.com/spring-boot/mocking-spring-data-datetimeprovider/</a> that gave me enough information to get things working.</p>\n<p>That said, I'm still curious if anyone knows if a good solution to this problem for the hibernate specific annotations. I will leave the question open for now.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695824163,"creation_date":1695739639,"question_id":77181085,"body_markdown":"I need to write some tests for a JPA service that is creating/updating an entity. In order to properly test the &#39;createDate&#39; field, I need to mock the DateTimeProvider that JPA is using so that I can test against a fixed date. I found a partial answer here: https://stackoverflow.com/a/63530418/1860222 but they don&#39;t provide any details on HOW to define the testDateTimeProvider bean. I found another post that looked close to what I needed (https://stackoverflow.com/questions/67991672/java-spring-boot-mockito-mockbean-annotation-work-strange), but so far I have not been able to get that working either.\r\n\r\nI created a Service class like this:\r\n\r\n    @Service(&quot;testDateTimeProvider&quot;)\r\n    public class TestDateTimeProvider implements DateTimeProvider {\r\n        \r\n        public TestDateTimeProvider() {\r\n        }\r\n    \r\n        /**\r\n         * Returns the current time to be used as modification or creation date.\r\n         *\r\n         * @return\r\n         */\r\n        @Override\r\n        public Optional&lt;TemporalAccessor&gt; getNow() {\r\n            return Optional.of(LocalDateTime.now(Clock.fixed(Instant.parse(&quot;2023-09-22T17:00:00.00Z&quot;), ZoneId.of(&quot;UTC&quot;))));\r\n        }\r\n    }\r\n\r\nIn my tests I have a class like:\r\n\r\n    @SpringJUnitConfig\r\n    @ContextConfiguration\r\n    @TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\r\n            DbUnitTestExecutionListener.class })\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @DatabaseSetup(&quot;data.xml&quot;)\r\n    @DatabaseTearDown(&quot;data.xml&quot;)\r\n    @Import({TestDateTimeProvider.class})\r\n    @EnableJpaAuditing(dateTimeProviderRef = &quot;testDateTimeProvider&quot;)\r\n    public class MessageServiceTest {\r\n        @Autowired\r\n        private Clock clock;\r\n        \r\n        @Autowired\r\n        MessagesService messagesService;\r\n\r\n        @MockBean\r\n        private DateTimeProvider dateTimeProvider;\r\n    \r\n        @Test\r\n        public void testSaveNewMessage()\r\n        {\r\n            LocalDateTime expectedCreate = LocalDateTime.now(clock);\r\n            Mockito.when( dateTimeProvider.getNow()).thenReturn(Optional.of(expectedCreate));\r\n            Message actual = messagesService.saveMessage(&quot;abc&quot;, 123);\r\n            assertNotNull(actual);\r\n            assertThat(actual.getCreateDate()).isEqualToIgnoringNanos(expectedCreate);\r\n        }\r\n    }\r\n\r\nIf I run that test, it will fail while setting up the mock. Stepping through the code, I can see that &#39;dateTimeProvider&#39; never gets injected, so a null pointer exception will be thrown when calling &#39;dateTimeProvider.now&#39;. \r\n\r\nI&#39;m a bit new to spring so I&#39;m not quite sure what I&#39;m doing wrong here. Why is my MockBean not getting injected? Is this even the correct approach for mocking creation timestamps?","title":"Creating a DateTimeProvider bean for mocking","body":"<p>I need to write some tests for a JPA service that is creating/updating an entity. In order to properly test the 'createDate' field, I need to mock the DateTimeProvider that JPA is using so that I can test against a fixed date. I found a partial answer here: <a href=\"https://stackoverflow.com/a/63530418/1860222\">https://stackoverflow.com/a/63530418/1860222</a> but they don't provide any details on HOW to define the testDateTimeProvider bean. I found another post that looked close to what I needed (<a href=\"https://stackoverflow.com/questions/67991672/java-spring-boot-mockito-mockbean-annotation-work-strange\">Java/Spring-boot/Mockito @MockBean annotation work strange</a>), but so far I have not been able to get that working either.</p>\n<p>I created a Service class like this:</p>\n<pre><code>@Service(&quot;testDateTimeProvider&quot;)\npublic class TestDateTimeProvider implements DateTimeProvider {\n    \n    public TestDateTimeProvider() {\n    }\n\n    /**\n     * Returns the current time to be used as modification or creation date.\n     *\n     * @return\n     */\n    @Override\n    public Optional&lt;TemporalAccessor&gt; getNow() {\n        return Optional.of(LocalDateTime.now(Clock.fixed(Instant.parse(&quot;2023-09-22T17:00:00.00Z&quot;), ZoneId.of(&quot;UTC&quot;))));\n    }\n}\n</code></pre>\n<p>In my tests I have a class like:</p>\n<pre><code>@SpringJUnitConfig\n@ContextConfiguration\n@TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\n        DbUnitTestExecutionListener.class })\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@DatabaseSetup(&quot;data.xml&quot;)\n@DatabaseTearDown(&quot;data.xml&quot;)\n@Import({TestDateTimeProvider.class})\n@EnableJpaAuditing(dateTimeProviderRef = &quot;testDateTimeProvider&quot;)\npublic class MessageServiceTest {\n    @Autowired\n    private Clock clock;\n    \n    @Autowired\n    MessagesService messagesService;\n\n    @MockBean\n    private DateTimeProvider dateTimeProvider;\n\n    @Test\n    public void testSaveNewMessage()\n    {\n        LocalDateTime expectedCreate = LocalDateTime.now(clock);\n        Mockito.when( dateTimeProvider.getNow()).thenReturn(Optional.of(expectedCreate));\n        Message actual = messagesService.saveMessage(&quot;abc&quot;, 123);\n        assertNotNull(actual);\n        assertThat(actual.getCreateDate()).isEqualToIgnoringNanos(expectedCreate);\n    }\n}\n</code></pre>\n<p>If I run that test, it will fail while setting up the mock. Stepping through the code, I can see that 'dateTimeProvider' never gets injected, so a null pointer exception will be thrown when calling 'dateTimeProvider.now'.</p>\n<p>I'm a bit new to spring so I'm not quite sure what I'm doing wrong here. Why is my MockBean not getting injected? Is this even the correct approach for mocking creation timestamps?</p>\n"},{"tags":["java","hibernate","jdbc","quarkus","agroal"],"answers":[{"comments":[{"owner":{"account_id":13830375,"reputation":118,"user_id":9983440,"display_name":"Renato Silva"},"score":0,"creation_date":1695318269,"post_id":77127415,"comment_id":136011862,"body_markdown":"Thanks @Barreiro. I&#39;ll try to reduce the background validation interval, configure other properties like connection lifetime and idle removal interval.","body":"Thanks @Barreiro. I&#39;ll try to reduce the background validation interval, configure other properties like connection lifetime and idle removal interval."},{"owner":{"account_id":13830375,"reputation":118,"user_id":9983440,"display_name":"Renato Silva"},"score":0,"creation_date":1695318632,"post_id":77127415,"comment_id":136011935,"body_markdown":"I look at MSSQLExceptionSorter and MsSQLAgroalConnectionConfigurer implementations and it seems simple. There is a way to use a custom version of them in my quarkus application without create a new extension? I think I miss some configuration because my implementation of configurer is not &quot;recognized&quot; or &quot;loaded&quot; by agroal","body":"I look at MSSQLExceptionSorter and MsSQLAgroalConnectionConfigurer implementations and it seems simple. There is a way to use a custom version of them in my quarkus application without create a new extension? I think I miss some configuration because my implementation of configurer is not &quot;recognized&quot; or &quot;loaded&quot; by agroal"},{"owner":{"account_id":13830375,"reputation":118,"user_id":9983440,"display_name":"Renato Silva"},"score":0,"creation_date":1695318946,"post_id":77127415,"comment_id":136011998,"body_markdown":"the only reason to use Jtds driver is the requirement to authenticate providing username and password from ActiveDirectory. The official driver does not allows it.","body":"the only reason to use Jtds driver is the requirement to authenticate providing username and password from ActiveDirectory. The official driver does not allows it."}],"tags":[],"owner":{"account_id":7543347,"reputation":1,"user_id":5727245,"display_name":"Barreiro"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695041835,"creation_date":1695041835,"answer_id":77127415,"question_id":77116105,"body_markdown":"The JDBC extension for the official driver sets an `ExceptionSorter` to flush those connections faster. That mechanism could be use in an extension for the custom `JTDS` driver\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-jdbc-mssql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOtherwise, you can reduce the background validation interval. \r\n\r\nPlease note that there is no way to ensure 100% reliability in these scenarios, as a connection can pass validation and still fail right after that.","title":"How to turn connection pool fault-tolerant in Quarkus?","body":"<p>The JDBC extension for the official driver sets an <code>ExceptionSorter</code> to flush those connections faster. That mechanism could be use in an extension for the custom <code>JTDS</code> driver</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-jdbc-mssql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Otherwise, you can reduce the background validation interval.</p>\n<p>Please note that there is no way to ensure 100% reliability in these scenarios, as a connection can pass validation and still fail right after that.</p>\n"},{"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695824063,"creation_date":1695824063,"answer_id":77188301,"question_id":77116105,"body_markdown":"I have the following settings in production and it works when our db cluster fails sometimes:\r\n\r\n```\r\nquarkus.datasource.jdbc.max-lifetime=5M\r\nquarkus.datasource.jdbc.idle-removal-interval=3M\r\nquarkus.datasource.jdbc.validation-query-sql=select 1\r\n```\r\n\r\nYou can also test it by yourself, by starting the application and the db via docker, then kill the db and restart the db and see if your application still works.","title":"How to turn connection pool fault-tolerant in Quarkus?","body":"<p>I have the following settings in production and it works when our db cluster fails sometimes:</p>\n<pre><code>quarkus.datasource.jdbc.max-lifetime=5M\nquarkus.datasource.jdbc.idle-removal-interval=3M\nquarkus.datasource.jdbc.validation-query-sql=select 1\n</code></pre>\n<p>You can also test it by yourself, by starting the application and the db via docker, then kill the db and restart the db and see if your application still works.</p>\n"}],"owner":{"account_id":13830375,"reputation":118,"user_id":9983440,"display_name":"Renato Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695824063,"creation_date":1694830036,"question_id":77116105,"body_markdown":"I&#39;m working on a **quarkus** (2.16.5) application with MSSqlserver and **Jtds** driver.\r\n\r\nUnfortunately, although I&#39;ve configured *validation-query* and *background-validation* properties, I&#39;m still getting connections in invalid state when network goes down and recovered few moments later.\r\n\r\nIn order to improve the reliability, **There is a way (config) to prevent quarkus application from using invalid connections and remove them from the pool?**\r\n\r\nError\r\n```\r\nCaused by: java.sql.SQLException: Invalid state, the Connection object is closed.\r\n\tat net.sourceforge.jtds.jdbc.JtdsConnection.checkOpen(JtdsConnection.java:1744)\r\n\tat net.sourceforge.jtds.jdbc.JtdsConnection.prepareStatement(JtdsConnection.java:2448)\r\n\tat io.agroal.pool.wrapper.ConnectionWrapper.prepareStatement(ConnectionWrapper.java:658)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n```\r\n\r\n\r\nDataSource configuration:\r\n```\r\nquarkus.datasource.jdbc.min-size=5\r\nquarkus.datasource.jdbc.max-size=20\r\nquarkus.datasource.jdbc.initial-size=5\r\nquarkus.datasource.jdbc.acquisition-timeout=10\r\nquarkus.datasource.jdbc.background-validation-interval=5\r\nquarkus.datasource.jdbc.validation-query-sql=SELECT 1\r\nquarkus.transaction-manager.default-transaction-timeout=600\r\n\r\nquarkus.datasource.db-kind=other \r\nquarkus.datasource.username=sa\r\nquarkus.datasource.password=123456\r\nquarkus.datasource.jdbc.url=jdbc:jtds:sqlserver://sqlserver-local/MYDB;\r\nquarkus.datasource.jdbc.driver=net.sourceforge.jtds.jdbc.Driver\r\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.SQLServerDialect\r\n```\r\n\r\nPOM&#39;s dependencies\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jsonb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-elytron-security-ldap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-narayana-jta&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"How to turn connection pool fault-tolerant in Quarkus?","body":"<p>I'm working on a <strong>quarkus</strong> (2.16.5) application with MSSqlserver and <strong>Jtds</strong> driver.</p>\n<p>Unfortunately, although I've configured <em>validation-query</em> and <em>background-validation</em> properties, I'm still getting connections in invalid state when network goes down and recovered few moments later.</p>\n<p>In order to improve the reliability, <strong>There is a way (config) to prevent quarkus application from using invalid connections and remove them from the pool?</strong></p>\n<p>Error</p>\n<pre><code>Caused by: java.sql.SQLException: Invalid state, the Connection object is closed.\n    at net.sourceforge.jtds.jdbc.JtdsConnection.checkOpen(JtdsConnection.java:1744)\n    at net.sourceforge.jtds.jdbc.JtdsConnection.prepareStatement(JtdsConnection.java:2448)\n    at io.agroal.pool.wrapper.ConnectionWrapper.prepareStatement(ConnectionWrapper.java:658)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n</code></pre>\n<p>DataSource configuration:</p>\n<pre><code>quarkus.datasource.jdbc.min-size=5\nquarkus.datasource.jdbc.max-size=20\nquarkus.datasource.jdbc.initial-size=5\nquarkus.datasource.jdbc.acquisition-timeout=10\nquarkus.datasource.jdbc.background-validation-interval=5\nquarkus.datasource.jdbc.validation-query-sql=SELECT 1\nquarkus.transaction-manager.default-transaction-timeout=600\n\nquarkus.datasource.db-kind=other \nquarkus.datasource.username=sa\nquarkus.datasource.password=123456\nquarkus.datasource.jdbc.url=jdbc:jtds:sqlserver://sqlserver-local/MYDB;\nquarkus.datasource.jdbc.driver=net.sourceforge.jtds.jdbc.Driver\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>POM's dependencies</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jsonb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-elytron-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-narayana-jta&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695818082,"post_id":77187517,"comment_id":136074515,"body_markdown":"@OleV.V. at least one :)","body":"@OleV.V. at least one :)"},{"owner":{"account_id":6397988,"reputation":7696,"user_id":4961700,"accept_rate":50,"display_name":"Solar Mike"},"score":1,"creation_date":1695818163,"post_id":77187517,"comment_id":136074536,"body_markdown":"You need an OR condition, not an AND condition.","body":"You need an OR condition, not an AND condition."},{"owner":{"account_id":2201062,"reputation":391,"user_id":1945451,"accept_rate":85,"display_name":"ESipalis"},"score":0,"creation_date":1695818336,"post_id":77187517,"comment_id":136074570,"body_markdown":"I have no experience with Spring, so this is a long shot, but have you tried specifying the annotation multiple times?@ConditionalOnBean({BeanA.class}) @ConditionalOnBean({BeanB.class})","body":"I have no experience with Spring, so this is a long shot, but have you tried specifying the annotation multiple times?@ConditionalOnBean({BeanA.class}) @ConditionalOnBean({BeanB.class})"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695818410,"post_id":77187517,"comment_id":136074587,"body_markdown":"@SolarMike not sure what you mean. Did I specify somewhere explicitly the &#39;AND&#39; condition?","body":"@SolarMike not sure what you mean. Did I specify somewhere explicitly the &#39;AND&#39; condition?"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":1,"creation_date":1695818437,"post_id":77187517,"comment_id":136074593,"body_markdown":"You may need a custom annotation. An example here https://www.baeldung.com/spring-conditional-annotations#defining-custom-conditions","body":"You may need a custom annotation. An example here <a href=\"https://www.baeldung.com/spring-conditional-annotations#defining-custom-conditions\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695818451,"post_id":77187517,"comment_id":136074596,"body_markdown":"@ESipalis Yes. That would not compile as `@ConditionalOnBean` is not a repeatable annotation.","body":"@ESipalis Yes. That would not compile as <code>@ConditionalOnBean</code> is not a repeatable annotation."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1695818702,"post_id":77187517,"comment_id":136074653,"body_markdown":"You can probably use https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AnyNestedCondition.html","body":"You can probably use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AnyNestedCondition.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695824036,"creation_date":1695819847,"answer_id":77187786,"question_id":77187517,"body_markdown":"As per suggestions of [@lealceldeiro][1], [@Rob Spoor][2] and [@Solar Mike][3] in the comments to the post, custom annotation based on OR (not AND) conditions was the correct solution.\r\n\r\nMy solution is this class that extends `AnyNestedCondition`:\r\n```\r\npublic class ConditionalOnMyTerms extends AnyNestedCondition {\r\n\r\n    ConditionalOnMyTerms() {\r\n        super(ConfigurationPhase.REGISTER_BEAN);\r\n    }\r\n\r\n    @ConditionalOnBean(com.example.BeanA.class)\r\n    static class BeanA {}\r\n\r\n    @ConditionalOnBean(com.example.BeanB.class)\r\n    static class BeanB {}\r\n\r\n    @Profile(&quot;foo&quot;)\r\n    static class fooProfile {}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5640649/lealceldeiro\r\n  [2]: https://stackoverflow.com/users/1180351/rob-spoor\r\n  [3]: https://stackoverflow.com/users/4961700/solar-mike","title":"Conditional statements: one of requirements must be met, not all","body":"<p>As per suggestions of <a href=\"https://stackoverflow.com/users/5640649/lealceldeiro\">@lealceldeiro</a>, <a href=\"https://stackoverflow.com/users/1180351/rob-spoor\">@Rob Spoor</a> and <a href=\"https://stackoverflow.com/users/4961700/solar-mike\">@Solar Mike</a> in the comments to the post, custom annotation based on OR (not AND) conditions was the correct solution.</p>\n<p>My solution is this class that extends <code>AnyNestedCondition</code>:</p>\n<pre><code>public class ConditionalOnMyTerms extends AnyNestedCondition {\n\n    ConditionalOnMyTerms() {\n        super(ConfigurationPhase.REGISTER_BEAN);\n    }\n\n    @ConditionalOnBean(com.example.BeanA.class)\n    static class BeanA {}\n\n    @ConditionalOnBean(com.example.BeanB.class)\n    static class BeanB {}\n\n    @Profile(&quot;foo&quot;)\n    static class fooProfile {}\n}\n</code></pre>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695824036,"creation_date":1695817717,"question_id":77187517,"body_markdown":"I have a class which is also a Spring component.\r\n```\r\n@Component\r\npublic class ComponentClass {\r\n    // code\r\n}\r\n```\r\nI want it to be created only on some conditions. For example, &lt;b&gt;at least ONE&lt;/b&gt; of these conditions must be met:\r\n* `BeanA` must exist\r\n* `BeanB` must exist\r\n* profile `foo` must be set\r\n\r\nFor example, `@ConditionalOnBean({BeanA.class, BeanB.class})` does not do what I want as it means both of these beans must exist.","title":"Conditional statements: one of requirements must be met, not all","body":"<p>I have a class which is also a Spring component.</p>\n<pre><code>@Component\npublic class ComponentClass {\n    // code\n}\n</code></pre>\n<p>I want it to be created only on some conditions. For example, <b>at least ONE</b> of these conditions must be met:</p>\n<ul>\n<li><code>BeanA</code> must exist</li>\n<li><code>BeanB</code> must exist</li>\n<li>profile <code>foo</code> must be set</li>\n</ul>\n<p>For example, <code>@ConditionalOnBean({BeanA.class, BeanB.class})</code> does not do what I want as it means both of these beans must exist.</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695737740,"post_id":77180752,"comment_id":136062631,"body_markdown":"Not unless you write a plugin/extension for Intellij.","body":"Not unless you write a plugin/extension for Intellij."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695742161,"post_id":77180752,"comment_id":136063708,"body_markdown":"@M.Deinum but how does IntelliJ know that `@Autowired` fields are initialized? I need something similar, I guess","body":"@M.Deinum but how does IntelliJ know that <code>@Autowired</code> fields are initialized? I need something similar, I guess"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695749181,"post_id":77180752,"comment_id":136065060,"body_markdown":"That is due to the dedicated Spring Plugins which are programmed just for that cause, much like the CDI plugin is for CDI annotations.","body":"That is due to the dedicated Spring Plugins which are programmed just for that cause, much like the CDI plugin is for CDI annotations."}],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695817894,"post_id":77183793,"comment_id":136074478,"body_markdown":"Thank you! Can you tell me more about that `Entry Points` tab? I can&#39;t find it","body":"Thank you! Can you tell me more about that <code>Entry Points</code> tab? I can&#39;t find it"},{"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":1,"creation_date":1695823700,"post_id":77183793,"comment_id":136075847,"body_markdown":"I have added a screen shot to guide the way.","body":"I have added a screen shot to guide the way."}],"tags":[],"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695823683,"creation_date":1695767892,"answer_id":77183793,"question_id":77180752,"body_markdown":"Type &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; on the warning and select `Assume field annotated by @Wisdom as implicitly written` in the intention list that appears. Now any field annotated by `@Wisdom` will no longer be reported as not assigned. \r\n\r\nThis will add the annotation to the &quot;Unused declaration&quot; inspection&#39;s settings. You can remove it again, by going the settings of this inspection, selecting the Entry Points tab, and clicking the Annotations button. The annotation name will be in the bottom list of the dialog that appears.\r\n\r\n![inspection settings visual guide][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VIyjd.jpg","title":"Making IntelliJ aware of my custom field injection mechanism","body":"<p>Type <kbd>Alt</kbd>+<kbd>Enter</kbd> on the warning and select <code>Assume field annotated by @Wisdom as implicitly written</code> in the intention list that appears. Now any field annotated by <code>@Wisdom</code> will no longer be reported as not assigned.</p>\n<p>This will add the annotation to the &quot;Unused declaration&quot; inspection's settings. You can remove it again, by going the settings of this inspection, selecting the Entry Points tab, and clicking the Annotations button. The annotation name will be in the bottom list of the dialog that appears.</p>\n<p><img src=\"https://i.stack.imgur.com/VIyjd.jpg\" alt=\"inspection settings visual guide\" /></p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77183793,"answer_count":1,"score":0,"last_activity_date":1695823683,"creation_date":1695736940,"question_id":77180752,"body_markdown":"I wrote a simple `BeanPostProcessor` to get more familiar with how Spring works\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        var context = new AnnotationConfigApplicationContext(Config.class);\r\n        Sage sage = context.getBean(&quot;sage&quot;, Sage.class);\r\n        sage.sayWisdom();\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan\r\npublic class Config {\r\n}\r\n```\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Sage {\r\n    @Wisdom\r\n    private String wisdom; // &quot;never assigned&quot;\r\n\r\n    public void sayWisdom() {\r\n        String processedWisdom = process(wisdom);\r\n        System.out.println(processedWisdom);\r\n    }\r\n\r\n    private String process(String wisdom) {\r\n        String intro = getIntro();\r\n        String wiserWisdom = makeItSoundWiser(wisdom);\r\n        return intro + &quot; &quot; + wiserWisdom;\r\n    }\r\n\r\n    private String getIntro() {\r\n        return &quot;Sage says:&quot;;\r\n    }\r\n\r\n    private String makeItSoundWiser(String wisdom) {\r\n        return wisdom.replaceAll(&quot;\\\\.(?=\\\\s|$)|(?&lt;!\\\\.)(?=$)&quot;, &quot;...&quot;);\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class SimpleWisdomProvider implements WisdomProvider {\r\n    private final String[] wisdoms = {\r\n            &quot;Tomorrow is often the busiest day of the week.&quot;,\r\n            &quot;I have always wanted to be somebody, but I see now I should have been more specific.&quot;,\r\n            &quot;Knowledge is like underwear. It is useful to have it, but not necessary to show it off.&quot;,\r\n            &quot;Go to Heaven for the climate, Hell for the company.&quot;,\r\n            &quot;Going to church doesn’t make you a Christian any more than going to a garage makes you an automobile.&quot;\r\n    };\r\n\r\n    @Override\r\n    public String getWisdom() {\r\n        int randomIndex = ThreadLocalRandom.current().nextInt(wisdoms.length);\r\n        return wisdoms[randomIndex];\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface Wisdom {\r\n}\r\n```\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.config.BeanPostProcessor;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.util.ReflectionUtils;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.Objects;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class WisdomBeanPostProcessor implements BeanPostProcessor {\r\n    private final WisdomProvider wisdomProvider;\r\n    @Override\r\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n        Field[] fields = bean.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            Wisdom wisdom = field.getAnnotation(Wisdom.class);\r\n            if (Objects.nonNull(wisdom)) {\r\n                field.setAccessible(true);\r\n                ReflectionUtils.setField(field, bean, wisdomProvider.getWisdom());\r\n                break;\r\n            }\r\n        }\r\n        return bean;\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example.demos.beanPostProcessor;\r\n\r\npublic interface WisdomProvider {\r\n    String getWisdom();\r\n}\r\n```\r\nIt works, but I wonder whether I can make IntelliJ aware of my initialization mechanism so that I don&#39;t get a warning\r\n\r\n&gt; Private field &#39;wisdom&#39; is never assigned \r\n\r\nSlapping `@SuppressWarnings` onto my `wisdom` field is ugly. I tried hiding it within the `@Wisdom` annotation, but it&#39;s apparently not really transitive so the warning is still present. Of course, I don&#39;t want to disable the warning altogether\r\n\r\nWhat are my options?","title":"Making IntelliJ aware of my custom field injection mechanism","body":"<p>I wrote a simple <code>BeanPostProcessor</code> to get more familiar with how Spring works</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class App {\n    public static void main(String[] args) {\n        var context = new AnnotationConfigApplicationContext(Config.class);\n        Sage sage = context.getBean(&quot;sage&quot;, Sage.class);\n        sage.sayWisdom();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan\npublic class Config {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Sage {\n    @Wisdom\n    private String wisdom; // &quot;never assigned&quot;\n\n    public void sayWisdom() {\n        String processedWisdom = process(wisdom);\n        System.out.println(processedWisdom);\n    }\n\n    private String process(String wisdom) {\n        String intro = getIntro();\n        String wiserWisdom = makeItSoundWiser(wisdom);\n        return intro + &quot; &quot; + wiserWisdom;\n    }\n\n    private String getIntro() {\n        return &quot;Sage says:&quot;;\n    }\n\n    private String makeItSoundWiser(String wisdom) {\n        return wisdom.replaceAll(&quot;\\\\.(?=\\\\s|$)|(?&lt;!\\\\.)(?=$)&quot;, &quot;...&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SimpleWisdomProvider implements WisdomProvider {\n    private final String[] wisdoms = {\n            &quot;Tomorrow is often the busiest day of the week.&quot;,\n            &quot;I have always wanted to be somebody, but I see now I should have been more specific.&quot;,\n            &quot;Knowledge is like underwear. It is useful to have it, but not necessary to show it off.&quot;,\n            &quot;Go to Heaven for the climate, Hell for the company.&quot;,\n            &quot;Going to church doesn’t make you a Christian any more than going to a garage makes you an automobile.&quot;\n    };\n\n    @Override\n    public String getWisdom() {\n        int randomIndex = ThreadLocalRandom.current().nextInt(wisdoms.length);\n        return wisdoms[randomIndex];\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Wisdom {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.ReflectionUtils;\n\nimport java.lang.reflect.Field;\nimport java.util.Objects;\n\n@Component\n@RequiredArgsConstructor\npublic class WisdomBeanPostProcessor implements BeanPostProcessor {\n    private final WisdomProvider wisdomProvider;\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        Field[] fields = bean.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            Wisdom wisdom = field.getAnnotation(Wisdom.class);\n            if (Objects.nonNull(wisdom)) {\n                field.setAccessible(true);\n                ReflectionUtils.setField(field, bean, wisdomProvider.getWisdom());\n                break;\n            }\n        }\n        return bean;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.beanPostProcessor;\n\npublic interface WisdomProvider {\n    String getWisdom();\n}\n</code></pre>\n<p>It works, but I wonder whether I can make IntelliJ aware of my initialization mechanism so that I don't get a warning</p>\n<blockquote>\n<p>Private field 'wisdom' is never assigned</p>\n</blockquote>\n<p>Slapping <code>@SuppressWarnings</code> onto my <code>wisdom</code> field is ugly. I tried hiding it within the <code>@Wisdom</code> annotation, but it's apparently not really transitive so the warning is still present. Of course, I don't want to disable the warning altogether</p>\n<p>What are my options?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1680035265,"post_id":75858723,"comment_id":133827677,"body_markdown":"Does this answer your question? [Spring Boot 3 with Spring Security Intercepts exceptions I don&#39;t want it to](https://stackoverflow.com/questions/75271958/spring-boot-3-with-spring-security-intercepts-exceptions-i-dont-want-it-to)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75271958/spring-boot-3-with-spring-security-intercepts-exceptions-i-dont-want-it-to\">Spring Boot 3 with Spring Security Intercepts exceptions I don&#39;t want it to</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1679939079,"creation_date":1679939079,"answer_id":75858811,"question_id":75858723,"body_markdown":"You need to allow all requests to the `/error` path.\r\n\r\n```java\r\n.requestMatchers(&quot;/error&quot;).permitAll()\r\n```","title":"Spring Security — &#39;Full authentication is required to access this resource&#39; for a non-existing endpoint","body":"<p>You need to allow all requests to the <code>/error</code> path.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.requestMatchers(&quot;/error&quot;).permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078190,"reputation":1221,"user_id":1850930,"display_name":"jfajunior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695823574,"creation_date":1695823574,"answer_id":77188236,"question_id":75858723,"body_markdown":"Unmitigated answer worked just fine for me! But just to complement, we can also use the dispatcher, because: \r\n\r\n&gt; The AuthorizationFilter runs not just on every request, but on every dispatch. This means that the REQUEST dispatch needs authorization, but also FORWARDs, ERRORs, and INCLUDEs.\r\n\r\nSo this worked as well: \r\n\r\n    .dispatcherTypeMatchers(DispatcherType.FORWARD, DispatcherType.ERROR).permitAll()","title":"Spring Security — &#39;Full authentication is required to access this resource&#39; for a non-existing endpoint","body":"<p>Unmitigated answer worked just fine for me! But just to complement, we can also use the dispatcher, because:</p>\n<blockquote>\n<p>The AuthorizationFilter runs not just on every request, but on every dispatch. This means that the REQUEST dispatch needs authorization, but also FORWARDs, ERRORs, and INCLUDEs.</p>\n</blockquote>\n<p>So this worked as well:</p>\n<pre><code>.dispatcherTypeMatchers(DispatcherType.FORWARD, DispatcherType.ERROR).permitAll()\n</code></pre>\n"}],"owner":{"account_id":28089774,"reputation":41,"user_id":21459549,"display_name":"Ilya Avkhimenya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":75858811,"answer_count":2,"score":2,"last_activity_date":1695823574,"creation_date":1679938402,"question_id":75858723,"body_markdown":"AuthenticationEntryPoint triggers even if authorization is successfully passed, when I try to go to an endpoint that does not exist. How do I make it go to a 404 page?\r\n\r\n\r\n\r\nThis is my Spring Security configuration\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(customAuthenticationEntryPoint()).and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated().and()\r\n                .addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }","title":"Spring Security — &#39;Full authentication is required to access this resource&#39; for a non-existing endpoint","body":"<p>AuthenticationEntryPoint triggers even if authorization is successfully passed, when I try to go to an endpoint that does not exist. How do I make it go to a 404 page?</p>\n<p>This is my Spring Security configuration</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .cors().and()\n            .csrf().disable()\n            .exceptionHandling()\n            .authenticationEntryPoint(customAuthenticationEntryPoint()).and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .anyRequest().authenticated().and()\n            .addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","reflection","interface"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695981846,"post_id":77188129,"comment_id":136098568,"body_markdown":"Method annotations are not inherited. There is no difference between interface methods and “regular methods” in this regard. `getDeclaringClass()` returns the class declaring the very member represented by the `Method` instance. So `method.getDeclaringClass().getMethod(method.getName(), method.getParameterTypes())` returns the same method again. You’d have to replace `method.getDeclaringClass()` by the actual interface whose `default` method you want to access. The explanation at the linked bug report is incomprehensible. What do they mean with “individual implemented methods”?","body":"Method annotations are not inherited. There is no difference between interface methods and “regular methods” in this regard. <code>getDeclaringClass()</code> returns the class declaring the very member represented by the <code>Method</code> instance. So <code>method.getDeclaringClass().getMethod(method.getName(), method.getParameterTypes())</code> returns the same method again. You’d have to replace <code>method.getDeclaringClass()</code> by the actual interface whose <code>default</code> method you want to access. The explanation at the linked bug report is incomprehensible. What do they mean with “individual implemented methods”?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695984539,"post_id":77188129,"comment_id":136099010,"body_markdown":"It would have been helpful to include your actual example in the question. Now that I’ve seen that you did not override the default method and there’s no need for a bridge method either, I don’t understand what TestNG does to not see the annotation. As said, the explanation is incomprehensible. [Self contained example](https://ideone.com/ahOtEz). As you can see, you can ask Reflection for either, declared methods, which excludes non overridden default methods in general, or for all public methods, which includes inherited methods, of course, including their annotations.","body":"It would have been helpful to include your actual example in the question. Now that I’ve seen that you did not override the default method and there’s no need for a bridge method either, I don’t understand what TestNG does to not see the annotation. As said, the explanation is incomprehensible. <a href=\"https://ideone.com/ahOtEz\" rel=\"nofollow noreferrer\">Self contained example</a>. As you can see, you can ask Reflection for either, declared methods, which excludes non overridden default methods in general, or for all public methods, which includes inherited methods, of course, including their annotations."}],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695822956,"creation_date":1695822606,"question_id":77188129,"body_markdown":"I thought it would behave the same as with regular methods but I can&#39;t seem to find a way. For context, I have an interface that defines some default method implementations including parameters that are extended by some TestNG classes. If those classes are annotated at the class level with the `@Test` annotation it tries to execute those methods and fails when it tries to inject values. Seems like this is by design based on the responses I got [here](https://github.com/testng-team/testng/issues/2983).\r\n\r\nI was attempting the solution provided on that issue but I&#39;m having no luck.\r\n\r\n\r\n```\r\n@Override\r\n  @SneakyThrows\r\n  public List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\r\n    // See: https://github.com/testng-team/testng/issues/2983\r\n    return methods.stream()\r\n        .filter(\r\n            it -&gt; {\r\n              Method method = it.getMethod().getConstructorOrMethod().getMethod();\r\n              return !method.isAnnotationPresent(Ignore.class) &amp;&amp; !method.isDefault();\r\n            })\r\n        .collect(Collectors.toList());\r\n  }\r\n```\r\nAfter annotating the Interface with the `@Ignore` annotation the ethods were not skipped. During debugging it was obvious it was getting empty array of annotations for the method.\r\n\r\n\r\nI tried adding code as follows trying to get to the declaring class (the interface) and trying there without luck.\r\n\r\n```\r\n        List&lt;IMethodInstance&gt; newMethods= new ArrayList&lt;&gt;();\r\n        for(IMethodInstance it:methods){\r\n          Method method = it.getMethod()\r\n              .getConstructorOrMethod()\r\n              .getMethod();\r\n          Method parentMethod = method.getDeclaringClass().getMethod(method.getName(),\r\n     method.getParameterTypes());\r\n          if(!parentMethod.isAnnotationPresent(Ignore.class)){\r\n            newMethods.add(it);\r\n          }else{\r\n            log.info(String.format(&quot;Skipping method %s due to @Ignore annotation!&quot;,\r\n     it.getMethod().getMethodName()));\r\n          }\r\n        }\r\n        return newMethods;\r\n```\r\n`AnnotationUtils.findAnnotation(method, Ignore.class)` returns null even when the JavaDocs claim it includes interfaces.","title":"How to get annotations of an Interface default method with reflection","body":"<p>I thought it would behave the same as with regular methods but I can't seem to find a way. For context, I have an interface that defines some default method implementations including parameters that are extended by some TestNG classes. If those classes are annotated at the class level with the <code>@Test</code> annotation it tries to execute those methods and fails when it tries to inject values. Seems like this is by design based on the responses I got <a href=\"https://github.com/testng-team/testng/issues/2983\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I was attempting the solution provided on that issue but I'm having no luck.</p>\n<pre><code>@Override\n  @SneakyThrows\n  public List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\n    // See: https://github.com/testng-team/testng/issues/2983\n    return methods.stream()\n        .filter(\n            it -&gt; {\n              Method method = it.getMethod().getConstructorOrMethod().getMethod();\n              return !method.isAnnotationPresent(Ignore.class) &amp;&amp; !method.isDefault();\n            })\n        .collect(Collectors.toList());\n  }\n</code></pre>\n<p>After annotating the Interface with the <code>@Ignore</code> annotation the ethods were not skipped. During debugging it was obvious it was getting empty array of annotations for the method.</p>\n<p>I tried adding code as follows trying to get to the declaring class (the interface) and trying there without luck.</p>\n<pre><code>        List&lt;IMethodInstance&gt; newMethods= new ArrayList&lt;&gt;();\n        for(IMethodInstance it:methods){\n          Method method = it.getMethod()\n              .getConstructorOrMethod()\n              .getMethod();\n          Method parentMethod = method.getDeclaringClass().getMethod(method.getName(),\n     method.getParameterTypes());\n          if(!parentMethod.isAnnotationPresent(Ignore.class)){\n            newMethods.add(it);\n          }else{\n            log.info(String.format(&quot;Skipping method %s due to @Ignore annotation!&quot;,\n     it.getMethod().getMethodName()));\n          }\n        }\n        return newMethods;\n</code></pre>\n<p><code>AnnotationUtils.findAnnotation(method, Ignore.class)</code> returns null even when the JavaDocs claim it includes interfaces.</p>\n"},{"tags":["java","log4j","keycloak","google-cloud-logging"],"owner":{"account_id":21029532,"reputation":11,"user_id":15454230,"display_name":"MrP4sten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695822788,"creation_date":1695760026,"question_id":77183206,"body_markdown":"## Context\r\n\r\nHi everyone, I&#39;m trying to set logs from Keycloak server to Google Cloud Logging. I&#39;ve already read the follow documentation:\r\n\r\n- [*google-cloud-logging overview*][1]\r\n- [*Setting Up Cloud Logging for Java*][2]\r\n\r\nBut I don&#39;t understand how can I do this to Keycloak.\r\n\r\nI&#39;m using the follow documentation [*Keycloak on Quarkus*][3] and I think that Keycloak is using Log4j based on the follow [`pom.xml`][4]. \r\n\r\n\r\n\r\n### Expected result\r\nI can see logs from Keycloak 21.0.2 on Google Cloud Logging\r\n\r\n\r\n  [1]: https://cloud.google.com/java/docs/reference/google-cloud-logging/latest/overview\r\n  [2]: https://cloud.google.com/logging/docs/setup/java\r\n  [3]: https://github.com/keycloak/keycloak/blob/21.0.2/quarkus/README.md\r\n  [4]: https://github.com/keycloak/keycloak/blob/21.0.2/quarkus/runtime/pom.xml","title":"Integration between Keycloak and Google Cloud Logging","body":"<h2>Context</h2>\n<p>Hi everyone, I'm trying to set logs from Keycloak server to Google Cloud Logging. I've already read the follow documentation:</p>\n<ul>\n<li><a href=\"https://cloud.google.com/java/docs/reference/google-cloud-logging/latest/overview\" rel=\"nofollow noreferrer\"><em>google-cloud-logging overview</em></a></li>\n<li><a href=\"https://cloud.google.com/logging/docs/setup/java\" rel=\"nofollow noreferrer\"><em>Setting Up Cloud Logging for Java</em></a></li>\n</ul>\n<p>But I don't understand how can I do this to Keycloak.</p>\n<p>I'm using the follow documentation <a href=\"https://github.com/keycloak/keycloak/blob/21.0.2/quarkus/README.md\" rel=\"nofollow noreferrer\"><em>Keycloak on Quarkus</em></a> and I think that Keycloak is using Log4j based on the follow <a href=\"https://github.com/keycloak/keycloak/blob/21.0.2/quarkus/runtime/pom.xml\" rel=\"nofollow noreferrer\"><code>pom.xml</code></a>.</p>\n<h3>Expected result</h3>\n<p>I can see logs from Keycloak 21.0.2 on Google Cloud Logging</p>\n"},{"tags":["java","parallel-processing","fork-join"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":6,"creation_date":1695816376,"post_id":77187185,"comment_id":136074186,"body_markdown":"This is not an apples-to-apples comparison. If you wanted to create a fair race, you would also have the sequential solution use the RecursiveSumTask, but make it do it sequentially. RecursiveSumTask adds a ***LOT*** of overhead.","body":"This is not an apples-to-apples comparison. If you wanted to create a fair race, you would also have the sequential solution use the RecursiveSumTask, but make it do it sequentially. RecursiveSumTask adds a <b><i>LOT</i></b> of overhead."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":3,"creation_date":1695818196,"post_id":77187185,"comment_id":136074540,"body_markdown":"Plus you have no warmups and use parallel case with an unreasonably small THRESHOLD and called it twice via `invoke` and `submit`","body":"Plus you have no warmups and use parallel case with an unreasonably small THRESHOLD and called it twice via <code>invoke</code> and <code>submit</code>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":4,"creation_date":1695818221,"post_id":77187185,"comment_id":136074546,"body_markdown":"if I understand the code correctly, it is creating about 20_000 instances of `RecursiveSumTask` (10_000  *leaf* ones, and 9_999 *parent* ones) - all that tasks must be created, managed and swapped in and out of the 12 cores.... Having 12 cores, I would *expect* some algorithm that creates about 12 tasks (and kind of in a *linear* way, not similar to a binary tree - reminds me of the naive recursive Fibonacci code)","body":"if I understand the code correctly, it is creating about 20_000 instances of <code>RecursiveSumTask</code> (10_000  <i>leaf</i> ones, and 9_999 <i>parent</i> ones) - all that tasks must be created, managed and swapped in and out of the 12 cores.... Having 12 cores, I would <i>expect</i> some algorithm that creates about 12 tasks (and kind of in a <i>linear</i> way, not similar to a binary tree - reminds me of the naive recursive Fibonacci code)"},{"owner":{"account_id":25666695,"reputation":49,"user_id":19431524,"display_name":"Mark Eccles"},"score":0,"creation_date":1695822115,"post_id":77187185,"comment_id":136075451,"body_markdown":"@davidalayachew thanks for explaining. I made the problem an order of magnitude harder and used the RecursiveSumTask with different # of cores with different thresholds.","body":"@davidalayachew thanks for explaining. I made the problem an order of magnitude harder and used the RecursiveSumTask with different # of cores with different thresholds."},{"owner":{"account_id":25666695,"reputation":49,"user_id":19431524,"display_name":"Mark Eccles"},"score":0,"creation_date":1695822402,"post_id":77187185,"comment_id":136075519,"body_markdown":"@user85421 whoops, yeah, `execute` then `invoke` was queuing the task twice. Also, good point about it being binary! Indeed this is not optimal. `createSubtasks` could be changed to create &gt; 2 child tasks, thus removing the overhead.","body":"@user85421 whoops, yeah, <code>execute</code> then <code>invoke</code> was queuing the task twice. Also, good point about it being binary! Indeed this is not optimal. <code>createSubtasks</code> could be changed to create &gt; 2 child tasks, thus removing the overhead."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695828423,"post_id":77187185,"comment_id":136076923,"body_markdown":"The measurement technique here is extremely suspect.  Simply subtracting System.currentTimeMillis produces lies.","body":"The measurement technique here is extremely suspect.  Simply subtracting System.currentTimeMillis produces lies."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695831949,"post_id":77187185,"comment_id":136077661,"body_markdown":"@MarkEccles, I get about _500 ms_ for a _fork and join_, and about _20 ms_ for _non-threaded_.  I would imagine it&#39;s because of all the objects it creates.  This is most likely useful for specific applications.","body":"@MarkEccles, I get about <i>500 ms</i> for a <i>fork and join</i>, and about <i>20 ms</i> for <i>non-threaded</i>.  I would imagine it&#39;s because of all the objects it creates.  This is most likely useful for specific applications."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695832790,"post_id":77187185,"comment_id":136077814,"body_markdown":"Use `System.nanoTime()` for benchmarking, not `System.currentTimeMillis()`.","body":"Use <code>System.nanoTime()</code> for benchmarking, not <code>System.currentTimeMillis()</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695832885,"post_id":77187185,"comment_id":136077830,"body_markdown":"[JMH](https://openjdk.org/jeps/230)","body":"<a href=\"https://openjdk.org/jeps/230\" rel=\"nofollow noreferrer\">JMH</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695822709,"creation_date":1695822326,"answer_id":77188085,"question_id":77187185,"body_markdown":"Try this. According to documentation\r\n- both sorting methods use the Dual Pivot QuickSort algorithm\r\n- parallel sort uses ForkJoin\r\n- each test uses an array of a fixed `size` and runs each sorting algorithm `n` times and averages them out.\r\n- using something like JMH would yield more accurate results.\r\n- I am running a 4 core Intel i7 processor on Windows 10.\r\n```\r\n Random r = new Random();\r\n int size = 100_000_000;\r\n int[] array = r.ints(size, 1, 1000).toArray();\r\n System.out.println(&quot;Starting&quot;);\r\n int n = 10;\r\n {\r\n     double avgTime = 0;\r\n     for (int i = 0; i &lt; n; i++) {\r\n         long start = System.nanoTime();\r\n         int[] par = array.clone();\r\n         Arrays.parallelSort(par);\r\n         avgTime += (System.nanoTime() - start) / 1e9;\r\n     }\r\n     System.out.println(&quot;Parallel Sort = &quot; + avgTime / n);\r\n\r\n }\r\n\r\n {\r\n     double avgTime = 0;\r\n     for (int i = 0; i &lt; n; i++) {\r\n         long start = System.nanoTime();\r\n         int[] seq = array.clone();\r\n         Arrays.sort(seq);\r\n         avgTime += (System.nanoTime() - start) / 1e9;\r\n     }\r\n     System.out.println(&quot;Sequential Sort = &quot; + avgTime / n);\r\n }\r\n```\r\nprints something like\r\n```\r\nStarting\r\nParallel Sort = 3.00119538\r\nSequential Sort = 5.3311432000000005\r\n","title":"Unable to demonstrate performance gains of parallelism in Java using ForkJoin framework","body":"<p>Try this. According to documentation</p>\n<ul>\n<li>both sorting methods use the Dual Pivot QuickSort algorithm</li>\n<li>parallel sort uses ForkJoin</li>\n<li>each test uses an array of a fixed <code>size</code> and runs each sorting algorithm <code>n</code> times and averages them out.</li>\n<li>using something like JMH would yield more accurate results.</li>\n<li>I am running a 4 core Intel i7 processor on Windows 10.</li>\n</ul>\n<pre><code> Random r = new Random();\n int size = 100_000_000;\n int[] array = r.ints(size, 1, 1000).toArray();\n System.out.println(&quot;Starting&quot;);\n int n = 10;\n {\n     double avgTime = 0;\n     for (int i = 0; i &lt; n; i++) {\n         long start = System.nanoTime();\n         int[] par = array.clone();\n         Arrays.parallelSort(par);\n         avgTime += (System.nanoTime() - start) / 1e9;\n     }\n     System.out.println(&quot;Parallel Sort = &quot; + avgTime / n);\n\n }\n\n {\n     double avgTime = 0;\n     for (int i = 0; i &lt; n; i++) {\n         long start = System.nanoTime();\n         int[] seq = array.clone();\n         Arrays.sort(seq);\n         avgTime += (System.nanoTime() - start) / 1e9;\n     }\n     System.out.println(&quot;Sequential Sort = &quot; + avgTime / n);\n }\n</code></pre>\n<p>prints something like</p>\n<pre><code>Starting\nParallel Sort = 3.00119538\nSequential Sort = 5.3311432000000005\n</code></pre>\n"}],"owner":{"account_id":25666695,"reputation":49,"user_id":19431524,"display_name":"Mark Eccles"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695822709,"creation_date":1695814898,"question_id":77187185,"body_markdown":"I have a simple test program. It sums the values in an array of 10m entries using a sequential approach and a parallel approach. \r\n\r\nRunning on a chromebook, with 12 cores.\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.concurrent.*;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        int[] input = generateInput(10_000_000);\r\n        par(input);\r\n        seq(input);\r\n    }\r\n\r\n    private static void seq(int[] input) {\r\n        long startTime = System.currentTimeMillis();\r\n\r\n        int result = 0;\r\n        for (int num : input) {\r\n            result += num;\r\n        }\r\n        \r\n        System.out.println(&quot;Result: &quot; + result);\r\n        System.out.println(&quot;Sequential time: &quot; + Long.toString(System.currentTimeMillis() - startTime));\r\n    }\r\n\r\n    private static void par(int[] input) {\r\n\r\n        int cores = Runtime.getRuntime().availableProcessors();\r\n        System.out.println(&quot;Number of cores on this machine: &quot; + Integer.toString(cores));\r\n        \r\n        System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;12&quot;);\r\n        ForkJoinPool forkJoinPool = new ForkJoinPool(12);\r\n\r\n        long startTime = System.currentTimeMillis();\r\n        RecursiveSumTask task = new RecursiveSumTask(input, 0, input.length);\r\n        forkJoinPool.execute(task);\r\n        forkJoinPool.invoke(task);\r\n\r\n        System.out.println(&quot;Result: &quot; + task.getResult());\r\n        System.out.println(&quot;Parallel time: &quot; + Long.toString(System.currentTimeMillis() - startTime));\r\n\r\n    }\r\n\r\n    public static int[] generateInput(int size) {\r\n        Random random = new Random();\r\n        int[] array = new int[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            array[i] = random.nextInt(5);\r\n        }\r\n        return array;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.*;\r\n\r\npublic class RecursiveSumTask extends RecursiveAction {\r\n\r\n    private int[] input;\r\n    private int start;\r\n    private int end;\r\n    private static final int THRESHOLD = 1000;\r\n    private int result;\r\n\r\n    public RecursiveSumTask(int[] input, int start, int end) {\r\n        this.input = input;\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n\r\n    @Override\r\n    protected void compute() {\r\n        if ((this.end - this.start) / 2 &gt; THRESHOLD) {\r\n            List&lt;RecursiveSumTask&gt; subTasks = createSubtasks();\r\n            ForkJoinTask.invokeAll(subTasks);\r\n            subTasks.forEach((n) -&gt; this.result += n.getResult());\r\n        } else {\r\n           process();\r\n        }\r\n    }\r\n\r\n    private List&lt;RecursiveSumTask&gt; createSubtasks() {\r\n        List&lt;RecursiveSumTask&gt; subtasks = new ArrayList&lt;RecursiveSumTask&gt;();\r\n        int mid = (end + start) / 2;\r\n        subtasks.add(new RecursiveSumTask(input, this.start, mid));\r\n        subtasks.add(new RecursiveSumTask(input, mid, this.end));\r\n\r\n        return subtasks;\r\n    }\r\n\r\n    private void process() {\r\n     for (int i = start; i &lt; end; i++) {\r\n        this.result += input[i];\r\n     }\r\n    }\r\n\r\n    public int getResult() {\r\n        return this.result;\r\n    }\r\n}\r\n```\r\n\r\nTypical output is:\r\n\r\nNumber of cores on this machine: 12\r\nResult: 20003614\r\nParallel time: 76\r\nResult: 20003614\r\nSequential time: 25\r\n\r\nThis is surprising. The parallel implementation is taking longer! (also the results sometimes vary, but that is probably an integer overflow)","title":"Unable to demonstrate performance gains of parallelism in Java using ForkJoin framework","body":"<p>I have a simple test program. It sums the values in an array of 10m entries using a sequential approach and a parallel approach.</p>\n<p>Running on a chromebook, with 12 cores.</p>\n<pre><code>import java.util.Random;\nimport java.util.concurrent.*;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        int[] input = generateInput(10_000_000);\n        par(input);\n        seq(input);\n    }\n\n    private static void seq(int[] input) {\n        long startTime = System.currentTimeMillis();\n\n        int result = 0;\n        for (int num : input) {\n            result += num;\n        }\n        \n        System.out.println(&quot;Result: &quot; + result);\n        System.out.println(&quot;Sequential time: &quot; + Long.toString(System.currentTimeMillis() - startTime));\n    }\n\n    private static void par(int[] input) {\n\n        int cores = Runtime.getRuntime().availableProcessors();\n        System.out.println(&quot;Number of cores on this machine: &quot; + Integer.toString(cores));\n        \n        System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;12&quot;);\n        ForkJoinPool forkJoinPool = new ForkJoinPool(12);\n\n        long startTime = System.currentTimeMillis();\n        RecursiveSumTask task = new RecursiveSumTask(input, 0, input.length);\n        forkJoinPool.execute(task);\n        forkJoinPool.invoke(task);\n\n        System.out.println(&quot;Result: &quot; + task.getResult());\n        System.out.println(&quot;Parallel time: &quot; + Long.toString(System.currentTimeMillis() - startTime));\n\n    }\n\n    public static int[] generateInput(int size) {\n        Random random = new Random();\n        int[] array = new int[size];\n        for (int i = 0; i &lt; size; i++) {\n            array[i] = random.nextInt(5);\n        }\n        return array;\n    }\n    \n}\n\n</code></pre>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\n\npublic class RecursiveSumTask extends RecursiveAction {\n\n    private int[] input;\n    private int start;\n    private int end;\n    private static final int THRESHOLD = 1000;\n    private int result;\n\n    public RecursiveSumTask(int[] input, int start, int end) {\n        this.input = input;\n        this.start = start;\n        this.end = end;\n    }\n\n    @Override\n    protected void compute() {\n        if ((this.end - this.start) / 2 &gt; THRESHOLD) {\n            List&lt;RecursiveSumTask&gt; subTasks = createSubtasks();\n            ForkJoinTask.invokeAll(subTasks);\n            subTasks.forEach((n) -&gt; this.result += n.getResult());\n        } else {\n           process();\n        }\n    }\n\n    private List&lt;RecursiveSumTask&gt; createSubtasks() {\n        List&lt;RecursiveSumTask&gt; subtasks = new ArrayList&lt;RecursiveSumTask&gt;();\n        int mid = (end + start) / 2;\n        subtasks.add(new RecursiveSumTask(input, this.start, mid));\n        subtasks.add(new RecursiveSumTask(input, mid, this.end));\n\n        return subtasks;\n    }\n\n    private void process() {\n     for (int i = start; i &lt; end; i++) {\n        this.result += input[i];\n     }\n    }\n\n    public int getResult() {\n        return this.result;\n    }\n}\n</code></pre>\n<p>Typical output is:</p>\n<p>Number of cores on this machine: 12\nResult: 20003614\nParallel time: 76\nResult: 20003614\nSequential time: 25</p>\n<p>This is surprising. The parallel implementation is taking longer! (also the results sometimes vary, but that is probably an integer overflow)</p>\n"},{"tags":["java","liquibase"],"answers":[{"tags":[],"owner":{"account_id":319876,"reputation":2944,"user_id":637858,"accept_rate":86,"display_name":"Rajesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1331110168,"creation_date":1331110168,"answer_id":9598281,"question_id":9592153,"body_markdown":"Anyway Its working now..here is the updated code..I am loving liquibase now\r\n\r\n\t\r\n\r\n    Database database=CommandLineUtils.createDatabaseObject(OracleDriver.class.getClassLoader(), &quot;jdbc:oracle:thin:@xxx.xx.xxx.xx:1521:XE&quot;, &quot;archive_dbs&quot;, &quot;123&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;, &quot;archive_dbs&quot;, null, null);\r\n    \t//CommandLineUtils.doGenerateChangeLog(&quot;test.xml&quot;, database, &quot;archive_dbs&quot;, null, null, null, null);uncomment to generate changelog\r\n        Database database2=CommandLineUtils.createDatabaseObject(OracleDriver.class.getClassLoader(), &quot;jdbc:oracle:thin:@yy.yy.yy.yy:1521:XE&quot;, &quot;archive_dbs&quot;, &quot;123&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;, &quot;archive_dbs&quot;, null, null);\r\n       /* CommandLineUtils.doDiffToChangeLog(&quot;chageLog.xml&quot;, database2, database);//This can generate changeLog for diff\r\n    \t\tResourceAccessor resource=new FileSystemResourceAccessor();\r\n    \t\tFile sql=new File(&quot;SQLscript.sql&quot;);\r\n    \t\tFileWriter writer=new FileWriter(sql);\r\n    \t\tLiquibase base=new Liquibase(&quot;chageLog.xml&quot;,resource,database);\r\n    \t\tbase.update(&quot;Update&quot;,writer);//store diff sql to file,but donot execute it\r\n    \t\tbase.update(&quot;Update&quot;);//execute diff sql*/\r\n    \t\t//CommandLineUtils.doDiff(database2, database);//show diff in console\r\n       /* DatabaseSnapshot dbsnap1=new DatabaseSnapshot(database,&quot;archive_dbs&quot;);\r\n        DatabaseSnapshot dbsnap2=new DatabaseSnapshot(database2,&quot;archive_dbs&quot;);*/\r\n        Diff res=new Diff(database2,database);\r\n        DiffResult result=res.compare();\r\n        if(result.differencesFound()){\r\n        \tSystem.out.println(&quot;Different&quot;);\r\n        }else{\r\n        \tSystem.out.println(&quot;Equal&quot;);\r\n        }\r\n        ByteArrayOutputStream baos=new ByteArrayOutputStream();\r\n        PrintStream stream=new PrintStream(baos);\r\n        result.printResult(stream);\r\n        System.out.println(baos.toString());//show diff report\r\n    \tSystem.out.println(&quot;Done&quot;);","title":"How to diff two new schema in liquibase using java?","body":"<p>Anyway Its working now..here is the updated code..I am loving liquibase now</p>\n\n<pre><code>Database database=CommandLineUtils.createDatabaseObject(OracleDriver.class.getClassLoader(), \"jdbc:oracle:thin:@xxx.xx.xxx.xx:1521:XE\", \"archive_dbs\", \"123\", \"oracle.jdbc.driver.OracleDriver\", \"archive_dbs\", null, null);\n    //CommandLineUtils.doGenerateChangeLog(\"test.xml\", database, \"archive_dbs\", null, null, null, null);uncomment to generate changelog\n    Database database2=CommandLineUtils.createDatabaseObject(OracleDriver.class.getClassLoader(), \"jdbc:oracle:thin:@yy.yy.yy.yy:1521:XE\", \"archive_dbs\", \"123\", \"oracle.jdbc.driver.OracleDriver\", \"archive_dbs\", null, null);\n   /* CommandLineUtils.doDiffToChangeLog(\"chageLog.xml\", database2, database);//This can generate changeLog for diff\n        ResourceAccessor resource=new FileSystemResourceAccessor();\n        File sql=new File(\"SQLscript.sql\");\n        FileWriter writer=new FileWriter(sql);\n        Liquibase base=new Liquibase(\"chageLog.xml\",resource,database);\n        base.update(\"Update\",writer);//store diff sql to file,but donot execute it\n        base.update(\"Update\");//execute diff sql*/\n        //CommandLineUtils.doDiff(database2, database);//show diff in console\n   /* DatabaseSnapshot dbsnap1=new DatabaseSnapshot(database,\"archive_dbs\");\n    DatabaseSnapshot dbsnap2=new DatabaseSnapshot(database2,\"archive_dbs\");*/\n    Diff res=new Diff(database2,database);\n    DiffResult result=res.compare();\n    if(result.differencesFound()){\n        System.out.println(\"Different\");\n    }else{\n        System.out.println(\"Equal\");\n    }\n    ByteArrayOutputStream baos=new ByteArrayOutputStream();\n    PrintStream stream=new PrintStream(baos);\n    result.printResult(stream);\n    System.out.println(baos.toString());//show diff report\n    System.out.println(\"Done\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414154462,"creation_date":1414154462,"answer_id":26548088,"question_id":9592153,"body_markdown":"Here&#39;s an example that works with version 3.2.2:\r\n\r\n\r\n    void diff(Connection referenceConnection, Connection targetConnection) throws LiquibaseException, IOException, ParserConfigurationException {\r\n\r\n        Liquibase liquibase = null;\r\n\r\n        try {\r\n\r\n            Database referenceDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(referenceConnection));\r\n            Database targetDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(targetConnection));\r\n\r\n            liquibase = new Liquibase(&quot;&quot;, new FileSystemResourceAccessor(), referenceDatabase);\r\n            DiffResult diffResult = liquibase.diff(referenceDatabase, targetDatabase, new CompareControl());\r\n            new DiffToChangeLog(diffResult, new DiffOutputControl()).print(System.out);\r\n\r\n        } finally {\r\n            if (liquibase != null) {\r\n                liquibase.forceReleaseLocks();\r\n            }\r\n        }\r\n    }","title":"How to diff two new schema in liquibase using java?","body":"<p>Here's an example that works with version 3.2.2:</p>\n\n<pre><code>void diff(Connection referenceConnection, Connection targetConnection) throws LiquibaseException, IOException, ParserConfigurationException {\n\n    Liquibase liquibase = null;\n\n    try {\n\n        Database referenceDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(referenceConnection));\n        Database targetDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(targetConnection));\n\n        liquibase = new Liquibase(\"\", new FileSystemResourceAccessor(), referenceDatabase);\n        DiffResult diffResult = liquibase.diff(referenceDatabase, targetDatabase, new CompareControl());\n        new DiffToChangeLog(diffResult, new DiffOutputControl()).print(System.out);\n\n    } finally {\n        if (liquibase != null) {\n            liquibase.forceReleaseLocks();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695822582,"creation_date":1695822582,"answer_id":77188125,"question_id":9592153,"body_markdown":"With version 4:\r\n\r\n```java\r\ntry (var targetConnection = DriverManager.getConnection(&quot;jdbc:some url&quot;);\r\n     var referenceConnection = DriverManager.getConnection(&quot;jdbc:another url&quot;)) {\r\n  var referenceDatabase = getDatabase(referenceConnection);\r\n  var targetDatabase = getDatabase(targetConnection);\r\n\r\n  new CommandScope(DiffChangelogCommandStep.COMMAND_NAME)\r\n      .addArgumentValue(UpdateCommandStep.CHANGELOG_FILE_ARG, &quot;db/root.yaml&quot;)\r\n      .addArgumentValue(DiffChangelogCommandStep.CHANGELOG_FILE_ARG, &quot;diff.yaml&quot;)\r\n      .addArgumentValue(ReferenceDbUrlConnectionCommandStep.REFERENCE_DATABASE_ARG, referenceDatabase)\r\n      .addArgumentValue(DbUrlConnectionCommandStep.DATABASE_ARG, targetDatabase)\r\n      .execute();\r\n}\r\n\r\nprivate static Database getDatabase(Connection connection) throws DatabaseException {\r\n  var jdbcConnection = new JdbcConnection(connection);\r\n  return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(jdbcConnection);\r\n}\r\n```","title":"How to diff two new schema in liquibase using java?","body":"<p>With version 4:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var targetConnection = DriverManager.getConnection(&quot;jdbc:some url&quot;);\n     var referenceConnection = DriverManager.getConnection(&quot;jdbc:another url&quot;)) {\n  var referenceDatabase = getDatabase(referenceConnection);\n  var targetDatabase = getDatabase(targetConnection);\n\n  new CommandScope(DiffChangelogCommandStep.COMMAND_NAME)\n      .addArgumentValue(UpdateCommandStep.CHANGELOG_FILE_ARG, &quot;db/root.yaml&quot;)\n      .addArgumentValue(DiffChangelogCommandStep.CHANGELOG_FILE_ARG, &quot;diff.yaml&quot;)\n      .addArgumentValue(ReferenceDbUrlConnectionCommandStep.REFERENCE_DATABASE_ARG, referenceDatabase)\n      .addArgumentValue(DbUrlConnectionCommandStep.DATABASE_ARG, targetDatabase)\n      .execute();\n}\n\nprivate static Database getDatabase(Connection connection) throws DatabaseException {\n  var jdbcConnection = new JdbcConnection(connection);\n  return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(jdbcConnection);\n}\n</code></pre>\n"}],"owner":{"account_id":319876,"reputation":2944,"user_id":637858,"accept_rate":86,"display_name":"Rajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4931,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9598281,"answer_count":3,"score":3,"last_activity_date":1695822582,"creation_date":1331068992,"question_id":9592153,"body_markdown":"My requirement is I want to diff two database then I want to generate a diff sql.Note I want to do it through java only. I am new to Liquibase.I have found a java api called CommandLineUtils using which I am able to generate changeLog of a new database. When I am executing method doDiffToChangeLog then my changeLog xml is empty. Can you please tell me where I am doing wrong.\r\n\r\nhere is my java code\r\n\r\n    Database database=liqui.createDatabaseObject(OracleDriver.class.getClassLoader(), &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;, &quot;archive_pmd&quot;, &quot;archive_pmd&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;, &quot;archive_pmd&quot;, null, null);\r\n           liqui.doGenerateChangeLog(&quot;test.xml&quot;, database, &quot;archive_pmd&quot;, null, null, null, null);\r\n           Database database2=liqui.createDatabaseObject(OracleDriver.class.getClassLoader(), &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;, &quot;archive_dbs&quot;, &quot;archive_dbs&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;, &quot;archive_pmd&quot;, null, null);\r\n           liqui.doDiffToChangeLog(&quot;chageLog.xml&quot;, database2, database);\r\n          \r\n\r\nhere is my generated test.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd&quot;&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-1&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD00_SEQUENCE&quot;&gt;\r\n                &lt;column name=&quot;PMD00_ID&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;TABLE_IDENTIFIER&quot; type=&quot;VARCHAR2(50 BYTE)&quot;/&gt;\r\n                &lt;column defaultValueNumeric=&quot;0&quot; name=&quot;CURRENT_VALUE&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;LAST_ACCESSED_TS&quot; type=&quot;DATE&quot;/&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-2&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD01_META_DATA&quot;&gt;\r\n                &lt;column name=&quot;PMD01_ID&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;CATEGORY&quot; type=&quot;VARCHAR2(30 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;NAME&quot; type=&quot;VARCHAR2(50 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;CODE&quot; type=&quot;VARCHAR2(100 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;STATUS&quot; type=&quot;VARCHAR2(1 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PMD01_METADATAVER&quot; type=&quot;NUMBER(4,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATEDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-3&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD13_DB_APPLICATION&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;APPLICATIONNAME&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;ENVIRONMENT&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SERVERIP&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;USERID&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PASSWORD&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DBTYPE&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SERVERPORT&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SERVICE&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-4&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD14_DB_VERSION&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MAJORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MINORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PATCHVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DATEEXECUTED&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DML_SCRIPT&quot; type=&quot;BLOB&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;STATUS&quot; type=&quot;VARCHAR2(20 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;REQUESTOR&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DML_SCRIPTNAME&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DB_APPLICATION_FK&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-5&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD15_DBCOMMIT_LOG&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MAJORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MINORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PATCHVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DATEEXECUTED&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SCRIPT&quot; type=&quot;BLOB&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;EXECUTIONSTATUS&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;REQUESTOR&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;LOGREPORT&quot; type=&quot;BLOB&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DBAPPLICATIONFK&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;LOGREPORTNAME&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SCRIPTNAME&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-6&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004087&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD00_SEQUENCE&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;PMD00_ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-7&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004084&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD01_META_DATA&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;PMD01_ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-8&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004050&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD13_DB_APPLICATION&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-9&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004062&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD14_DB_VERSION&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066786490-10&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004076&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD15_DBCOMMIT_LOG&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-1&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD00_SEQUENCE&quot;&gt;\r\n                &lt;column name=&quot;PMD00_ID&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;TABLE_IDENTIFIER&quot; type=&quot;VARCHAR2(50 BYTE)&quot;/&gt;\r\n                &lt;column defaultValueNumeric=&quot;0&quot; name=&quot;CURRENT_VALUE&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;LAST_ACCESSED_TS&quot; type=&quot;DATE&quot;/&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-2&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD01_META_DATA&quot;&gt;\r\n                &lt;column name=&quot;PMD01_ID&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;CATEGORY&quot; type=&quot;VARCHAR2(30 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;NAME&quot; type=&quot;VARCHAR2(50 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;CODE&quot; type=&quot;VARCHAR2(100 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;STATUS&quot; type=&quot;VARCHAR2(1 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PMD01_METADATAVER&quot; type=&quot;NUMBER(4,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATEDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-3&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD13_DB_APPLICATION&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;APPLICATIONNAME&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;ENVIRONMENT&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SERVERIP&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;USERID&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PASSWORD&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DBTYPE&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SERVERPORT&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SERVICE&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-4&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD14_DB_VERSION&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MAJORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MINORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PATCHVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DATEEXECUTED&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DML_SCRIPT&quot; type=&quot;BLOB&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;STATUS&quot; type=&quot;VARCHAR2(20 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;REQUESTOR&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DML_SCRIPTNAME&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DB_APPLICATION_FK&quot; type=&quot;NUMBER&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-5&quot;&gt;\r\n            &lt;createTable schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD15_DBCOMMIT_LOG&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MAJORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;MINORVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;PATCHVERSION&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DATEEXECUTED&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SCRIPT&quot; type=&quot;BLOB&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;EXECUTIONSTATUS&quot; type=&quot;VARCHAR2(200 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;REQUESTOR&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;LOGREPORT&quot; type=&quot;BLOB&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DMLASTUPDATE&quot; type=&quot;DATE&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;DBAPPLICATIONFK&quot; type=&quot;NUMBER(17,0)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;LOGREPORTNAME&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;SCRIPTNAME&quot; type=&quot;VARCHAR2(400 BYTE)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-6&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004087&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD00_SEQUENCE&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;PMD00_ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-7&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004084&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD01_META_DATA&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;PMD01_ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-8&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004050&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD13_DB_APPLICATION&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-9&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004062&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD14_DB_VERSION&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;DELL (generated)&quot; id=&quot;1331066972401-10&quot;&gt;\r\n            &lt;createIndex indexName=&quot;SYS_C004076&quot; schemaName=&quot;archive_pmd&quot; tableName=&quot;PMD15_DBCOMMIT_LOG&quot; tablespace=&quot;SYSTEM&quot; unique=&quot;true&quot;&gt;\r\n                &lt;column name=&quot;ID&quot;/&gt;\r\n            &lt;/createIndex&gt;\r\n        &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n===\r\nhere is my changeLog.xml(diff one)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd&quot;/&gt;\r\n\r\nNote archive_dbs does not contain any table.Why liquibase didint showed that table in archive_pmd is missing in archive_dbs?\r\n\r\n\r\n","title":"How to diff two new schema in liquibase using java?","body":"<p>My requirement is I want to diff two database then I want to generate a diff sql.Note I want to do it through java only. I am new to Liquibase.I have found a java api called CommandLineUtils using which I am able to generate changeLog of a new database. When I am executing method doDiffToChangeLog then my changeLog xml is empty. Can you please tell me where I am doing wrong.</p>\n\n<p>here is my java code</p>\n\n<pre><code>Database database=liqui.createDatabaseObject(OracleDriver.class.getClassLoader(), \"jdbc:oracle:thin:@localhost:1521:XE\", \"archive_pmd\", \"archive_pmd\", \"oracle.jdbc.driver.OracleDriver\", \"archive_pmd\", null, null);\n       liqui.doGenerateChangeLog(\"test.xml\", database, \"archive_pmd\", null, null, null, null);\n       Database database2=liqui.createDatabaseObject(OracleDriver.class.getClassLoader(), \"jdbc:oracle:thin:@localhost:1521:XE\", \"archive_dbs\", \"archive_dbs\", \"oracle.jdbc.driver.OracleDriver\", \"archive_pmd\", null, null);\n       liqui.doDiffToChangeLog(\"chageLog.xml\", database2, database);\n</code></pre>\n\n<p>here is my generated test.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd\"&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-1\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD00_SEQUENCE\"&gt;\n            &lt;column name=\"PMD00_ID\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"TABLE_IDENTIFIER\" type=\"VARCHAR2(50 BYTE)\"/&gt;\n            &lt;column defaultValueNumeric=\"0\" name=\"CURRENT_VALUE\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"LAST_ACCESSED_TS\" type=\"DATE\"/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-2\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD01_META_DATA\"&gt;\n            &lt;column name=\"PMD01_ID\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"CATEGORY\" type=\"VARCHAR2(30 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"NAME\" type=\"VARCHAR2(50 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"CODE\" type=\"VARCHAR2(100 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"STATUS\" type=\"VARCHAR2(1 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PMD01_METADATAVER\" type=\"NUMBER(4,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATEDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-3\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD13_DB_APPLICATION\"&gt;\n            &lt;column name=\"ID\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"APPLICATIONNAME\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"ENVIRONMENT\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SERVERIP\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"USERID\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PASSWORD\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DBTYPE\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SERVERPORT\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SERVICE\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-4\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD14_DB_VERSION\"&gt;\n            &lt;column name=\"ID\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MAJORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MINORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PATCHVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DATEEXECUTED\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DML_SCRIPT\" type=\"BLOB\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"STATUS\" type=\"VARCHAR2(20 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"REQUESTOR\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DML_SCRIPTNAME\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DB_APPLICATION_FK\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-5\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD15_DBCOMMIT_LOG\"&gt;\n            &lt;column name=\"ID\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MAJORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MINORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PATCHVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DATEEXECUTED\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SCRIPT\" type=\"BLOB\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"EXECUTIONSTATUS\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"REQUESTOR\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"LOGREPORT\" type=\"BLOB\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DBAPPLICATIONFK\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"LOGREPORTNAME\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SCRIPTNAME\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-6\"&gt;\n        &lt;createIndex indexName=\"SYS_C004087\" schemaName=\"archive_pmd\" tableName=\"PMD00_SEQUENCE\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"PMD00_ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-7\"&gt;\n        &lt;createIndex indexName=\"SYS_C004084\" schemaName=\"archive_pmd\" tableName=\"PMD01_META_DATA\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"PMD01_ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-8\"&gt;\n        &lt;createIndex indexName=\"SYS_C004050\" schemaName=\"archive_pmd\" tableName=\"PMD13_DB_APPLICATION\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-9\"&gt;\n        &lt;createIndex indexName=\"SYS_C004062\" schemaName=\"archive_pmd\" tableName=\"PMD14_DB_VERSION\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066786490-10\"&gt;\n        &lt;createIndex indexName=\"SYS_C004076\" schemaName=\"archive_pmd\" tableName=\"PMD15_DBCOMMIT_LOG\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-1\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD00_SEQUENCE\"&gt;\n            &lt;column name=\"PMD00_ID\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"TABLE_IDENTIFIER\" type=\"VARCHAR2(50 BYTE)\"/&gt;\n            &lt;column defaultValueNumeric=\"0\" name=\"CURRENT_VALUE\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"LAST_ACCESSED_TS\" type=\"DATE\"/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-2\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD01_META_DATA\"&gt;\n            &lt;column name=\"PMD01_ID\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"CATEGORY\" type=\"VARCHAR2(30 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"NAME\" type=\"VARCHAR2(50 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"CODE\" type=\"VARCHAR2(100 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"STATUS\" type=\"VARCHAR2(1 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PMD01_METADATAVER\" type=\"NUMBER(4,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATEDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-3\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD13_DB_APPLICATION\"&gt;\n            &lt;column name=\"ID\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"APPLICATIONNAME\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"ENVIRONMENT\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SERVERIP\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"USERID\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PASSWORD\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DBTYPE\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SERVERPORT\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SERVICE\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-4\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD14_DB_VERSION\"&gt;\n            &lt;column name=\"ID\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MAJORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MINORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PATCHVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DATEEXECUTED\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DML_SCRIPT\" type=\"BLOB\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"STATUS\" type=\"VARCHAR2(20 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"REQUESTOR\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DML_SCRIPTNAME\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DB_APPLICATION_FK\" type=\"NUMBER\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-5\"&gt;\n        &lt;createTable schemaName=\"archive_pmd\" tableName=\"PMD15_DBCOMMIT_LOG\"&gt;\n            &lt;column name=\"ID\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MAJORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"MINORVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"PATCHVERSION\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DATEEXECUTED\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SCRIPT\" type=\"BLOB\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"EXECUTIONSTATUS\" type=\"VARCHAR2(200 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"REQUESTOR\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"LOGREPORT\" type=\"BLOB\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DMLASTUPDATE\" type=\"DATE\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"DBAPPLICATIONFK\" type=\"NUMBER(17,0)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"LOGREPORTNAME\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"SCRIPTNAME\" type=\"VARCHAR2(400 BYTE)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-6\"&gt;\n        &lt;createIndex indexName=\"SYS_C004087\" schemaName=\"archive_pmd\" tableName=\"PMD00_SEQUENCE\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"PMD00_ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-7\"&gt;\n        &lt;createIndex indexName=\"SYS_C004084\" schemaName=\"archive_pmd\" tableName=\"PMD01_META_DATA\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"PMD01_ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-8\"&gt;\n        &lt;createIndex indexName=\"SYS_C004050\" schemaName=\"archive_pmd\" tableName=\"PMD13_DB_APPLICATION\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-9\"&gt;\n        &lt;createIndex indexName=\"SYS_C004062\" schemaName=\"archive_pmd\" tableName=\"PMD14_DB_VERSION\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet author=\"DELL (generated)\" id=\"1331066972401-10\"&gt;\n        &lt;createIndex indexName=\"SYS_C004076\" schemaName=\"archive_pmd\" tableName=\"PMD15_DBCOMMIT_LOG\" tablespace=\"SYSTEM\" unique=\"true\"&gt;\n            &lt;column name=\"ID\"/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n\n<p>===\nhere is my changeLog.xml(diff one)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd\"/&gt;\n</code></pre>\n\n<p>Note archive_dbs does not contain any table.Why liquibase didint showed that table in archive_pmd is missing in archive_dbs?</p>\n"},{"tags":["java","android","video","android-video-player","avi"],"answers":[{"comments":[{"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"score":0,"creation_date":1445581541,"post_id":33279875,"comment_id":54391313,"body_markdown":"Your library looks like work for java application. What I need is android application","body":"Your library looks like work for java application. What I need is android application"},{"owner":{"account_id":3637505,"reputation":86,"user_id":3032524,"display_name":"user3032524"},"score":0,"creation_date":1445584286,"post_id":33279875,"comment_id":54392584,"body_markdown":"libVLC can be used on Android as well. It is multi-platform library. See [link](https://bitbucket.org/edwardcw/libvlc-android-sample)","body":"libVLC can be used on Android as well. It is multi-platform library. See <a href=\"https://bitbucket.org/edwardcw/libvlc-android-sample\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"score":0,"creation_date":1445585255,"post_id":33279875,"comment_id":54393089,"body_markdown":"please give guide how to integrate with this libvlc ... I don&#39;t know how to use it. I only see the source code, feature, ...","body":"please give guide how to integrate with this libvlc ... I don&#39;t know how to use it. I only see the source code, feature, ..."},{"owner":{"account_id":3637505,"reputation":86,"user_id":3032524,"display_name":"user3032524"},"score":0,"creation_date":1445857898,"post_id":33279875,"comment_id":54484166,"body_markdown":"You have to build the library from the source codes for Android. Than you can link the binary file to your project and use its interface. The steps are described in the link I provided in the previous post. It is a little complicated as it is written in C++ and is using Java Native Interface, you will have to use the NDK and Linux to build the library. But I can not provide you more detailed guide than this one. I would only repeat what is written there, sorry. This is unfortunately the price that have to be paid if you want to play all codecs.","body":"You have to build the library from the source codes for Android. Than you can link the binary file to your project and use its interface. The steps are described in the link I provided in the previous post. It is a little complicated as it is written in C++ and is using Java Native Interface, you will have to use the NDK and Linux to build the library. But I can not provide you more detailed guide than this one. I would only repeat what is written there, sorry. This is unfortunately the price that have to be paid if you want to play all codecs."}],"tags":[],"owner":{"account_id":3637505,"reputation":86,"user_id":3032524,"display_name":"user3032524"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445513088,"creation_date":1445513088,"answer_id":33279875,"question_id":33279587,"body_markdown":"I don&#39;t know your intentions. But in your place, I would use a library for that. For examlpe [jVLC ][1].\r\n\r\nThe problem is that AVI is just a container for sound and video data, that can be encoded by any codecs. The sound can be mp3, ogg, or whatever and the video can be mpeg, divx, xvid of several versions.\r\n\r\nYou can not count on that the all AVIs will contain the same sound/video formats. That is why some of your AVIs can not be played by you current program. \r\n\r\n  [1]: https://github.com/caprica/vlcj","title":"Need get correct AVI Player class to play all AVI video files inside android application","body":"<p>I don't know your intentions. But in your place, I would use a library for that. For examlpe <a href=\"https://github.com/caprica/vlcj\" rel=\"nofollow\">jVLC </a>.</p>\n\n<p>The problem is that AVI is just a container for sound and video data, that can be encoded by any codecs. The sound can be mp3, ogg, or whatever and the video can be mpeg, divx, xvid of several versions.</p>\n\n<p>You can not count on that the all AVIs will contain the same sound/video formats. That is why some of your AVIs can not be played by you current program. </p>\n"},{"tags":[],"owner":{"account_id":14067737,"reputation":74,"user_id":10180900,"display_name":"John B Gilbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695822552,"creation_date":1695822552,"answer_id":77188120,"question_id":33279587,"body_markdown":"I was pretty happy with Exoplayer, it was simple and it was quick,  and I could use it on any page in my app, its recently deprecated and been taken over by android, is now called Media3.Exoplayer, Android have taken it over and the lines of code now go on and on, try it if you like.\r\n\r\nhttps://medium.com/@rawatsumit115/play-videos-by-using-jetpack-media3-exoplayer-in-android-kotlin-c736136de580","title":"Need get correct AVI Player class to play all AVI video files inside android application","body":"<p>I was pretty happy with Exoplayer, it was simple and it was quick,  and I could use it on any page in my app, its recently deprecated and been taken over by android, is now called Media3.Exoplayer, Android have taken it over and the lines of code now go on and on, try it if you like.</p>\n<p><a href=\"https://medium.com/@rawatsumit115/play-videos-by-using-jetpack-media3-exoplayer-in-android-kotlin-c736136de580\" rel=\"nofollow noreferrer\">https://medium.com/@rawatsumit115/play-videos-by-using-jetpack-media3-exoplayer-in-android-kotlin-c736136de580</a></p>\n"}],"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77188120,"answer_count":2,"score":0,"last_activity_date":1695822552,"creation_date":1445512171,"question_id":33279587,"body_markdown":"I try to get correct AVI video player to play AVI file since my current AVI Player class looks like not work really good anymore.\r\n\r\nSome AVI files can play correctly, but the others can not.\r\n\r\nPeople who know which AVI Video player class play all avi files exactly,\r\n\r\nPlease help me,\r\n\r\nThank you,\r\n\r\np/s : \r\n\r\nI don&#39;t want intent to 3rd application to play AVI file.\r\n\r\nBelow codes is current I used to play AVI files:\r\n\r\n**AVI Player.java**\r\n    package runnable;\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n\r\n    import iterface.IVideoSink;\r\n\r\n    public class VideoPlayer implements Runnable {\r\n    private final int FPS = 24;\r\n    /**\r\n     * String section\r\n     */\r\n    private boolean IS_ALIVE = true;\r\n    private long LAST_FRAME_TIME;\r\n    /**\r\n     * Data section\r\n     */\r\n    private ArrayList&lt;IVideoSink&gt; mAlVideoSinks;\r\n    /**\r\n     * Others section\r\n     */\r\n    private BufferedInputStream mBufferedInputStream;\r\n\r\n    public VideoPlayer(String filename) {\r\n        mAlVideoSinks = new ArrayList&lt;IVideoSink&gt;();\r\n\r\n        try {\r\n            mBufferedInputStream = new BufferedInputStream(new FileInputStream(filename));\r\n        } catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public void addVideoSink(IVideoSink videoSink) {\r\n        synchronized (mAlVideoSinks) {\r\n            mAlVideoSinks.add(videoSink);\r\n        }\r\n    }\r\n\r\n    public void removeVideoSink(IVideoSink videoSink) {\r\n        synchronized (mAlVideoSinks) {\r\n            if (mAlVideoSinks.contains(videoSink))\r\n                mAlVideoSinks.remove(videoSink);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        int count = 0;\r\n\r\n        while (IS_ALIVE) {\r\n            if (LAST_FRAME_TIME == 0) {\r\n                LAST_FRAME_TIME = System.currentTimeMillis();\r\n            }\r\n\r\n            try {\r\n                long currentTime = System.currentTimeMillis();\r\n                if (currentTime - LAST_FRAME_TIME &lt; 1000 / FPS) {\r\n                    Thread.sleep(1000 / FPS - (currentTime - LAST_FRAME_TIME));\r\n                }\r\n                LAST_FRAME_TIME = System.currentTimeMillis();\r\n\r\n                int b0 = mBufferedInputStream.read();\r\n                if (b0 == -1) break;\r\n                int b1 = mBufferedInputStream.read();\r\n                int b2 = mBufferedInputStream.read();\r\n                int b3 = mBufferedInputStream.read();\r\n\r\n                count = b0 + (b1 &lt;&lt; 8) + (b2 &lt;&lt; 16) + (b3 &lt;&lt; 24);\r\n                byte[] buffer = new byte[count];\r\n                int readCount = mBufferedInputStream.read(buffer, 0, count);\r\n                for (IVideoSink videoSink : mAlVideoSinks) {\r\n                    videoSink.onFrame(buffer, null);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        try {\r\n            mBufferedInputStream.close();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        for (IVideoSink videoSink : mAlVideoSinks) {\r\n            videoSink.onVideoEnd();\r\n        }\r\n\r\n    }\r\n\r\n    public void stop() {\r\n        IS_ALIVE = false;\r\n    }\r\n\r\n    }\r\n\r\n**PCM Player.java**\r\n\r\n    package runnable;\r\n\r\n    import android.media.AudioFormat;\r\n    import android.media.AudioManager;\r\n    import android.media.AudioTrack;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class PCMPlayer implements Runnable {\r\n    /**\r\n     * String section\r\n     */\r\n    private boolean IS_ALIVE = true;\r\n    /**\r\n     * Data section\r\n     */\r\n    private ArrayList&lt;byte[]&gt; mAlBuffers = new ArrayList&lt;byte[]&gt;();\r\n    /**\r\n     * Other section\r\n     */\r\n    private AudioTrack mAudioTrack;\r\n\r\n    public PCMPlayer() {\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        int bufSize = AudioTrack.getMinBufferSize(8000,\r\n                AudioFormat.CHANNEL_CONFIGURATION_MONO,\r\n                AudioFormat.ENCODING_PCM_16BIT);\r\n        mAudioTrack = new AudioTrack(AudioManager.STREAM_MUSIC,\r\n                8000,\r\n                AudioFormat.CHANNEL_CONFIGURATION_MONO,\r\n                AudioFormat.ENCODING_PCM_16BIT,\r\n                bufSize,\r\n                AudioTrack.MODE_STREAM);\r\n        mAudioTrack.play();\r\n\r\n        while (IS_ALIVE) {\r\n            byte[] buffer = null;\r\n            boolean dataFlag = true;\r\n\r\n            while (dataFlag) {\r\n                synchronized (mAlBuffers) {\r\n                    if (mAlBuffers.size() &gt; 0) {\r\n                        buffer = mAlBuffers.remove(0);\r\n                    } else {\r\n                        dataFlag = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                mAudioTrack.write(buffer, 0, buffer.length);\r\n            }\r\n\r\n            try {\r\n                Thread.sleep(10);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        mAudioTrack.stop();\r\n        mAudioTrack.release();\r\n    }\r\n\r\n    public void writePCM(byte[] pcm) {\r\n        synchronized (mAlBuffers) {\r\n            byte[] buffer = new byte[pcm.length];\r\n            System.arraycopy(pcm, 0, buffer, 0, buffer.length);\r\n            mAlBuffers.add(buffer);\r\n        }\r\n    }\r\n\r\n    public void stop() {\r\n        IS_ALIVE = false;\r\n    }\r\n    }\r\n","title":"Need get correct AVI Player class to play all AVI video files inside android application","body":"<p>I try to get correct AVI video player to play AVI file since my current AVI Player class looks like not work really good anymore.</p>\n\n<p>Some AVI files can play correctly, but the others can not.</p>\n\n<p>People who know which AVI Video player class play all avi files exactly,</p>\n\n<p>Please help me,</p>\n\n<p>Thank you,</p>\n\n<p>p/s : </p>\n\n<p>I don't want intent to 3rd application to play AVI file.</p>\n\n<p>Below codes is current I used to play AVI files:</p>\n\n<p><strong>AVI Player.java</strong>\n    package runnable;</p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport iterface.IVideoSink;\n\npublic class VideoPlayer implements Runnable {\nprivate final int FPS = 24;\n/**\n * String section\n */\nprivate boolean IS_ALIVE = true;\nprivate long LAST_FRAME_TIME;\n/**\n * Data section\n */\nprivate ArrayList&lt;IVideoSink&gt; mAlVideoSinks;\n/**\n * Others section\n */\nprivate BufferedInputStream mBufferedInputStream;\n\npublic VideoPlayer(String filename) {\n    mAlVideoSinks = new ArrayList&lt;IVideoSink&gt;();\n\n    try {\n        mBufferedInputStream = new BufferedInputStream(new FileInputStream(filename));\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n}\n\npublic void addVideoSink(IVideoSink videoSink) {\n    synchronized (mAlVideoSinks) {\n        mAlVideoSinks.add(videoSink);\n    }\n}\n\npublic void removeVideoSink(IVideoSink videoSink) {\n    synchronized (mAlVideoSinks) {\n        if (mAlVideoSinks.contains(videoSink))\n            mAlVideoSinks.remove(videoSink);\n    }\n}\n\n@Override\npublic void run() {\n    int count = 0;\n\n    while (IS_ALIVE) {\n        if (LAST_FRAME_TIME == 0) {\n            LAST_FRAME_TIME = System.currentTimeMillis();\n        }\n\n        try {\n            long currentTime = System.currentTimeMillis();\n            if (currentTime - LAST_FRAME_TIME &lt; 1000 / FPS) {\n                Thread.sleep(1000 / FPS - (currentTime - LAST_FRAME_TIME));\n            }\n            LAST_FRAME_TIME = System.currentTimeMillis();\n\n            int b0 = mBufferedInputStream.read();\n            if (b0 == -1) break;\n            int b1 = mBufferedInputStream.read();\n            int b2 = mBufferedInputStream.read();\n            int b3 = mBufferedInputStream.read();\n\n            count = b0 + (b1 &lt;&lt; 8) + (b2 &lt;&lt; 16) + (b3 &lt;&lt; 24);\n            byte[] buffer = new byte[count];\n            int readCount = mBufferedInputStream.read(buffer, 0, count);\n            for (IVideoSink videoSink : mAlVideoSinks) {\n                videoSink.onFrame(buffer, null);\n            }\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n\n    try {\n        mBufferedInputStream.close();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    for (IVideoSink videoSink : mAlVideoSinks) {\n        videoSink.onVideoEnd();\n    }\n\n}\n\npublic void stop() {\n    IS_ALIVE = false;\n}\n\n}\n</code></pre>\n\n<p><strong>PCM Player.java</strong></p>\n\n<pre><code>package runnable;\n\nimport android.media.AudioFormat;\nimport android.media.AudioManager;\nimport android.media.AudioTrack;\n\nimport java.util.ArrayList;\n\npublic class PCMPlayer implements Runnable {\n/**\n * String section\n */\nprivate boolean IS_ALIVE = true;\n/**\n * Data section\n */\nprivate ArrayList&lt;byte[]&gt; mAlBuffers = new ArrayList&lt;byte[]&gt;();\n/**\n * Other section\n */\nprivate AudioTrack mAudioTrack;\n\npublic PCMPlayer() {\n}\n\n@Override\npublic void run() {\n    int bufSize = AudioTrack.getMinBufferSize(8000,\n            AudioFormat.CHANNEL_CONFIGURATION_MONO,\n            AudioFormat.ENCODING_PCM_16BIT);\n    mAudioTrack = new AudioTrack(AudioManager.STREAM_MUSIC,\n            8000,\n            AudioFormat.CHANNEL_CONFIGURATION_MONO,\n            AudioFormat.ENCODING_PCM_16BIT,\n            bufSize,\n            AudioTrack.MODE_STREAM);\n    mAudioTrack.play();\n\n    while (IS_ALIVE) {\n        byte[] buffer = null;\n        boolean dataFlag = true;\n\n        while (dataFlag) {\n            synchronized (mAlBuffers) {\n                if (mAlBuffers.size() &gt; 0) {\n                    buffer = mAlBuffers.remove(0);\n                } else {\n                    dataFlag = false;\n                    break;\n                }\n            }\n\n            mAudioTrack.write(buffer, 0, buffer.length);\n        }\n\n        try {\n            Thread.sleep(10);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    mAudioTrack.stop();\n    mAudioTrack.release();\n}\n\npublic void writePCM(byte[] pcm) {\n    synchronized (mAlBuffers) {\n        byte[] buffer = new byte[pcm.length];\n        System.arraycopy(pcm, 0, buffer, 0, buffer.length);\n        mAlBuffers.add(buffer);\n    }\n}\n\npublic void stop() {\n    IS_ALIVE = false;\n}\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685338029,"post_id":76354307,"comment_id":134642338,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76354307/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1215012,"reputation":580,"user_id":1182794,"accept_rate":0,"display_name":"DimaA6_ABC"},"score":0,"creation_date":1686203884,"post_id":76354307,"comment_id":134767563,"body_markdown":"Great answer, thank you! After migrating to AndroidX, those switches stopped compiling. Changed to if-else and it compiled and worked fine.","body":"Great answer, thank you! After migrating to AndroidX, those switches stopped compiling. Changed to if-else and it compiled and worked fine."}],"tags":[],"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685326190,"creation_date":1685326190,"answer_id":76354307,"question_id":76137919,"body_markdown":"Just use If-else or If-else-if , nothing work, just don&#39;t use switch.","title":"Android Studio Menu Error &quot;Constant expression required&quot;","body":"<p>Just use If-else or If-else-if , nothing work, just don't use switch.</p>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1695829289,"post_id":77188088,"comment_id":136077136,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77188088/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19866558,"reputation":1,"user_id":14553686,"display_name":"Daniel Kavale"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695822333,"creation_date":1695822333,"answer_id":77188088,"question_id":76137919,"body_markdown":"    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {    \r\n        int id = item.getItemId();\r\n        if (id == R.id.itLogout){\r\n            Toast.makeText(this,&quot;You clicked Logout&quot;,Toast.LENGTH_LONG).show();\r\n         }\r\n         else if (id == R.id.itAbout) {\r\n                Toast.makeText(this,&quot;You clicked About&quot;,Toast.LENGTH_LONG).show();\r\n            \r\n         }\r\n         return true;\r\n       }\r\n    }","title":"Android Studio Menu Error &quot;Constant expression required&quot;","body":"<pre><code>@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {    \n    int id = item.getItemId();\n    if (id == R.id.itLogout){\n        Toast.makeText(this,&quot;You clicked Logout&quot;,Toast.LENGTH_LONG).show();\n     }\n     else if (id == R.id.itAbout) {\n            Toast.makeText(this,&quot;You clicked About&quot;,Toast.LENGTH_LONG).show();\n        \n     }\n     return true;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":14993972,"reputation":11,"user_id":10824046,"display_name":"Tommy Miyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2837,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695822333,"creation_date":1682794746,"question_id":76137919,"body_markdown":"I was trying to add a menu to my Android Studio layout, and it gave me the error &quot;Constant expression required&quot;.\r\nWhy is it happening?\r\nThis is my HomepageActivity code:\r\n\r\n    package com.example.myqueenbapp;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.example.myqueenbapp.R;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import android.widget.Toolbar;\r\n    \r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    \r\n    public class HomepageActivity extends AppCompatActivity implements View.OnClickListener {\r\n        Button btLogout;\r\n        TextView tvName;\r\n        MenuItem itLogout, itAbout, itProfile;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_homepage);\r\n            btLogout=findViewById(R.id.btLogout);\r\n            tvName=findViewById(R.id.tvName);\r\n            btLogout.setOnClickListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu)\r\n        {\r\n            getMenuInflater().inflate(R.menu.menu_homepage, menu);\r\n            return true;\r\n        }\r\n    \r\n        @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item)\r\n        {\r\n            switch(item.getItemId())\r\n            {\r\n                case R.id.itLogout:\r\n                    Toast.makeText(HomepageActivity.this, &quot;this page is yet to be here&quot;, Toast.LENGTH_LONG).show();\r\n                    return true;\r\n                case R.id.itAbout:\r\n                    Toast.makeText(HomepageActivity.this, &quot;This page doesn&#39;t exist yet&quot;, Toast.LENGTH_LONG).show();\r\n                    return true;\r\n                case R.id.itProfile:\r\n                    Toast.makeText(HomepageActivity.this, &quot;this page doesn&#39;t exist yet&quot;, Toast.LENGTH_LONG).show();\r\n                    return true;\r\n                default:\r\n                    return super.onOptionsItemSelected(item);\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v)\r\n        {\r\n            if(v==btLogout)\r\n            {\r\n                FirebaseAuth.getInstance().signOut();\r\n                Intent moveToStart = new Intent (HomepageActivity.this, MainActivity.class);\r\n                startActivity(moveToStart);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis is my activity_homepage XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:background=&quot;@color/queenbpink&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;12&quot;\r\n        tools:context=&quot;.HomepageActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ivLogo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;200sp&quot;\r\n            android:layout_weight=&quot;0&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            tools:srcCompat=&quot;@drawable/queenb_logo_dark_on_pink&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvWelcome&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;26sp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:text=&quot;ברוכה הבאה,&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvName&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_weight=&quot;0&quot;\r\n            android:text=&quot;&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;26sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvEmpty&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;26sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btForms&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.5&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:textColor=&quot;@color/queenbpink&quot;\r\n            android:backgroundTint=&quot;@color/queenbgrey&quot;\r\n            android:text=&quot;טפסים שימושיים&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btCalendar&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.5&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:textColor=&quot;@color/queenbpink&quot;\r\n            android:backgroundTint=&quot;@color/queenbgrey&quot;\r\n            android:text=&quot;יומן פעילויות&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btGallery&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.5&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:textColor=&quot;@color/queenbpink&quot;\r\n            android:backgroundTint=&quot;@color/queenbgrey&quot;\r\n            android:text=&quot;גלריית תמונות&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btForum&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.5&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:textColor=&quot;@color/queenbpink&quot;\r\n            android:backgroundTint=&quot;@color/queenbgrey&quot;\r\n            android:text=&quot;פורום&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btLogout&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.5&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:textColor=&quot;@color/queenbpink&quot;\r\n            android:backgroundTint=&quot;@color/queenbgrey&quot;\r\n            android:text=&quot;התנתקות&quot; /&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nand this is my menu XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/itProfile&quot;\r\n            android:title=&quot;הפרופיל שלי&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:visible=&quot;true&quot;/&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/itAbout&quot;\r\n            android:title=&quot;על העמותה&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:visible=&quot;true&quot;/&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/itLogout&quot;\r\n            android:title=&quot;התנתקות&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:visible=&quot;true&quot;\r\n            /&gt;\r\n    &lt;/menu&gt;\r\n\r\nThanks in advance!\r\nthe error is given for the three rows in the HomepageActivity where it says &quot; case R.id.it...&quot;.\r\n","title":"Android Studio Menu Error &quot;Constant expression required&quot;","body":"<p>I was trying to add a menu to my Android Studio layout, and it gave me the error &quot;Constant expression required&quot;.\nWhy is it happening?\nThis is my HomepageActivity code:</p>\n<pre><code>package com.example.myqueenbapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.example.myqueenbapp.R;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.Toolbar;\n\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class HomepageActivity extends AppCompatActivity implements View.OnClickListener {\n    Button btLogout;\n    TextView tvName;\n    MenuItem itLogout, itAbout, itProfile;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_homepage);\n        btLogout=findViewById(R.id.btLogout);\n        tvName=findViewById(R.id.tvName);\n        btLogout.setOnClickListener(this);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu)\n    {\n        getMenuInflater().inflate(R.menu.menu_homepage, menu);\n        return true;\n    }\n\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item)\n    {\n        switch(item.getItemId())\n        {\n            case R.id.itLogout:\n                Toast.makeText(HomepageActivity.this, &quot;this page is yet to be here&quot;, Toast.LENGTH_LONG).show();\n                return true;\n            case R.id.itAbout:\n                Toast.makeText(HomepageActivity.this, &quot;This page doesn't exist yet&quot;, Toast.LENGTH_LONG).show();\n                return true;\n            case R.id.itProfile:\n                Toast.makeText(HomepageActivity.this, &quot;this page doesn't exist yet&quot;, Toast.LENGTH_LONG).show();\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public void onClick(View v)\n    {\n        if(v==btLogout)\n        {\n            FirebaseAuth.getInstance().signOut();\n            Intent moveToStart = new Intent (HomepageActivity.this, MainActivity.class);\n            startActivity(moveToStart);\n        }\n    }\n\n\n}\n</code></pre>\n<p>This is my activity_homepage XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/queenbpink&quot;\n    android:orientation=&quot;vertical&quot;\n    android:weightSum=&quot;12&quot;\n    tools:context=&quot;.HomepageActivity&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/ivLogo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200sp&quot;\n        android:layout_weight=&quot;0&quot;\n        android:layout_gravity=&quot;center&quot;\n        tools:srcCompat=&quot;@drawable/queenb_logo_dark_on_pink&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvWelcome&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;26sp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:text=&quot;ברוכה הבאה,&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_weight=&quot;0&quot;\n        android:text=&quot;&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;26sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvEmpty&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;26sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btForms&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.5&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textColor=&quot;@color/queenbpink&quot;\n        android:backgroundTint=&quot;@color/queenbgrey&quot;\n        android:text=&quot;טפסים שימושיים&quot; /&gt;\n    &lt;Button\n        android:id=&quot;@+id/btCalendar&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.5&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textColor=&quot;@color/queenbpink&quot;\n        android:backgroundTint=&quot;@color/queenbgrey&quot;\n        android:text=&quot;יומן פעילויות&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btGallery&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.5&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textColor=&quot;@color/queenbpink&quot;\n        android:backgroundTint=&quot;@color/queenbgrey&quot;\n        android:text=&quot;גלריית תמונות&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btForum&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.5&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textColor=&quot;@color/queenbpink&quot;\n        android:backgroundTint=&quot;@color/queenbgrey&quot;\n        android:text=&quot;פורום&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btLogout&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.5&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textColor=&quot;@color/queenbpink&quot;\n        android:backgroundTint=&quot;@color/queenbgrey&quot;\n        android:text=&quot;התנתקות&quot; /&gt;\n\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and this is my menu XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/itProfile&quot;\n        android:title=&quot;הפרופיל שלי&quot;\n        app:showAsAction=&quot;never&quot;\n        android:visible=&quot;true&quot;/&gt;\n    &lt;item\n        android:id=&quot;@+id/itAbout&quot;\n        android:title=&quot;על העמותה&quot;\n        app:showAsAction=&quot;never&quot;\n        android:visible=&quot;true&quot;/&gt;\n    &lt;item\n        android:id=&quot;@+id/itLogout&quot;\n        android:title=&quot;התנתקות&quot;\n        app:showAsAction=&quot;never&quot;\n        android:visible=&quot;true&quot;\n        /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>Thanks in advance!\nthe error is given for the three rows in the HomepageActivity where it says &quot; case R.id.it...&quot;.</p>\n"},{"tags":["java","websocket","server"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695825134,"post_id":77188062,"comment_id":136076206,"body_markdown":"Maybe something like [this](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html#relativize(java.nio.file.Path))","body":"Maybe something like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html#relativize(java.nio.file.Path)\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":19172440,"reputation":13,"user_id":14005892,"display_name":"KotekBehemotek"},"score":0,"creation_date":1695826004,"post_id":77188062,"comment_id":136076401,"body_markdown":"Oh so there&#39;s no way of indication where requests starts in relation with server files?","body":"Oh so there&#39;s no way of indication where requests starts in relation with server files?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695826540,"post_id":77188062,"comment_id":136076523,"body_markdown":"The request contains a path which is relative to the context","body":"The request contains a path which is relative to the context"},{"owner":{"account_id":19172440,"reputation":13,"user_id":14005892,"display_name":"KotekBehemotek"},"score":0,"creation_date":1695828332,"post_id":77188062,"comment_id":136076905,"body_markdown":"Ok I think I just got the idea. Thank You very much for responding ^^","body":"Ok I think I just got the idea. Thank You very much for responding ^^"}],"owner":{"account_id":19172440,"reputation":13,"user_id":14005892,"display_name":"KotekBehemotek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695822127,"creation_date":1695822127,"question_id":77188062,"body_markdown":"For the first time I&#39;m creating a socket based Java server.\r\nI faced a problem where I need to translate request targets to actual paths I expect to be accessed by client.\r\nI would like to set the webroot once and don&#39;t need to interpret request targets.\r\n\r\nIt is a kind of question where it&#39;s difficult to provide an appropriate piece of code but here&#39;s what server thread looks like:\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class ServerThread extends Thread {\r\n\r\n    private final ServerSocket serverSocket;\r\n\r\n    public ServerThread(int port) throws IOException {\r\n        this.serverSocket = new ServerSocket(port);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Server started&quot;);\r\n\r\n        try {\r\n            while (serverSocket.isBound() &amp;&amp; !serverSocket.isClosed()) {\r\n                Socket socket = serverSocket.accept();\r\n                ConnectionThread connectionThread = new ConnectionThread(socket);\r\n                connectionThread.start();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (serverSocket != null) {\r\n                try {\r\n                    serverSocket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to set webroot in Java Socket server","body":"<p>For the first time I'm creating a socket based Java server.\nI faced a problem where I need to translate request targets to actual paths I expect to be accessed by client.\nI would like to set the webroot once and don't need to interpret request targets.</p>\n<p>It is a kind of question where it's difficult to provide an appropriate piece of code but here's what server thread looks like:</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class ServerThread extends Thread {\n\n    private final ServerSocket serverSocket;\n\n    public ServerThread(int port) throws IOException {\n        this.serverSocket = new ServerSocket(port);\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Server started&quot;);\n\n        try {\n            while (serverSocket.isBound() &amp;&amp; !serverSocket.isClosed()) {\n                Socket socket = serverSocket.accept();\n                ConnectionThread connectionThread = new ConnectionThread(socket);\n                connectionThread.start();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (serverSocket != null) {\n                try {\n                    serverSocket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1385931,"reputation":461,"user_id":1317993,"display_name":"Luke Duncan"},"score":1,"creation_date":1637378938,"post_id":70043011,"comment_id":123817460,"body_markdown":"It&#39;s likely to give you a bit more information. Share your stacktrace. Check your Java compilation options, Kotlin compilation options and which JVM you are using.","body":"It&#39;s likely to give you a bit more information. Share your stacktrace. Check your Java compilation options, Kotlin compilation options and which JVM you are using."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":2,"creation_date":1637379330,"post_id":70043011,"comment_id":123817508,"body_markdown":"did you try to name a class or variable `class`?","body":"did you try to name a class or variable <code>class</code>?"},{"owner":{"account_id":10280421,"reputation":87,"user_id":7585800,"display_name":"ndsmith"},"score":0,"creation_date":1637379884,"post_id":70043011,"comment_id":123817565,"body_markdown":"@LukeDuncan Where would I find the stacktrace? It shows the build view with the Build Output tab and all that it says is &quot;Cause: not a valid name: class&quot;","body":"@LukeDuncan Where would I find the stacktrace? It shows the build view with the Build Output tab and all that it says is &quot;Cause: not a valid name: class&quot;"},{"owner":{"account_id":10280421,"reputation":87,"user_id":7585800,"display_name":"ndsmith"},"score":0,"creation_date":1637380407,"post_id":70043011,"comment_id":123817616,"body_markdown":"@TylerV I am not finding anything that is named class that shouldn&#39;t be","body":"@TylerV I am not finding anything that is named class that shouldn&#39;t be"},{"owner":{"account_id":1385931,"reputation":461,"user_id":1317993,"display_name":"Luke Duncan"},"score":0,"creation_date":1637380529,"post_id":70043011,"comment_id":123817637,"body_markdown":"@ndsmith try running `./gradlew assemble --debug` from your terminal.","body":"@ndsmith try running <code>.&#47;gradlew assemble --debug</code> from your terminal."},{"owner":{"account_id":10280421,"reputation":87,"user_id":7585800,"display_name":"ndsmith"},"score":0,"creation_date":1637381478,"post_id":70043011,"comment_id":123817739,"body_markdown":"@LukeDuncan added the stacktrace","body":"@LukeDuncan added the stacktrace"},{"owner":{"account_id":1385931,"reputation":461,"user_id":1317993,"display_name":"Luke Duncan"},"score":1,"creation_date":1637384368,"post_id":70043011,"comment_id":123818003,"body_markdown":"Check your XML files. Looks like you have the Android XML namespace twice in one of them, probably a layout file.\n\n```\nCaused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[11,327]\n    Message: http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributeNSNotUnique?androidx.constraintlayout.widget.ConstraintLayout&amp;layout_width&amp;http://sch\n    emas.android.com/apk/res/android\n```","body":"Check your XML files. Looks like you have the Android XML namespace twice in one of them, probably a layout file.  ``` Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[11,327]     Message: <a href=\"http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributeNSNotUnique?androidx.constraintlayout.widget.ConstraintLayout&amp;layout_width&amp;http://sch\" rel=\"nofollow noreferrer\">w3.org/TR/1999/&hellip;</a>     emas.android.com/apk/res/android ```"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1637384391,"post_id":70043011,"comment_id":123818006,"body_markdown":"Looks like it&#39;s from the XML. Look at the bottom. `Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[11,327]\n    Message: http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributeNSNotUnique?androidx.constraintlayout.widget.ConstraintLayout&amp;layout_width`","body":"Looks like it&#39;s from the XML. Look at the bottom. <code>Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[11,327]     Message: http:&#47;&#47;www.w3.org&#47;TR&#47;1999&#47;REC-xml-names-19990114#AttributeNS&zwnj;&#8203;NotUnique?androidx.c&zwnj;&#8203;onstraintlayout.widg&zwnj;&#8203;et.ConstraintLayout&amp;&zwnj;&#8203;layout_width</code>"}],"answers":[{"tags":[],"owner":{"account_id":14509264,"reputation":41,"user_id":10480169,"display_name":"rachad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643356794,"creation_date":1643356794,"answer_id":70890476,"question_id":70043011,"body_markdown":"I had the same problem with a different word than &#39;class&#39; mine was &#39;1kg&#39;. The problem was that I used &#39;_1kg&#39; as an id in XML so make sure you didn&#39;t use &#39;class&#39; in your XML at all. (as id or even for extract string resource) ","title":"Android Studio says &quot;Cause: not a valid name: class&quot;","body":"<p>I had the same problem with a different word than 'class' mine was '1kg'. The problem was that I used '_1kg' as an id in XML so make sure you didn't use 'class' in your XML at all. (as id or even for extract string resource)</p>\n"},{"tags":[],"owner":{"account_id":28614715,"reputation":31,"user_id":21908983,"display_name":"Khusinov Shakhriyor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695821745,"creation_date":1695821745,"answer_id":77188011,"question_id":70043011,"body_markdown":"this error happened to me, and I solved it in an easy way. \r\n\r\nIn one XML file, I set an id in the Kiril alphabet like кр\r\n\r\nafter changing this ID, this problem was solved. \r\nSo check your XML file and ids and ensure every ID and name is in the Latin alphabet.","title":"Android Studio says &quot;Cause: not a valid name: class&quot;","body":"<p>this error happened to me, and I solved it in an easy way.</p>\n<p>In one XML file, I set an id in the Kiril alphabet like кр</p>\n<p>after changing this ID, this problem was solved.\nSo check your XML file and ids and ensure every ID and name is in the Latin alphabet.</p>\n"}],"owner":{"account_id":10280421,"reputation":87,"user_id":7585800,"display_name":"ndsmith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695821745,"creation_date":1637378696,"question_id":70043011,"body_markdown":"When trying to build my Android app, I get an error that says `&quot;Cause: not a valid name: class&quot;`. It doesn&#39;t give me any other information at all.\r\n\r\nStacktrace: https://pastebin.com/4guRqdLu","title":"Android Studio says &quot;Cause: not a valid name: class&quot;","body":"<p>When trying to build my Android app, I get an error that says <code>&quot;Cause: not a valid name: class&quot;</code>. It doesn't give me any other information at all.</p>\n<p>Stacktrace: <a href=\"https://pastebin.com/4guRqdLu\" rel=\"nofollow noreferrer\">https://pastebin.com/4guRqdLu</a></p>\n"},{"tags":["java","android","kotlin","nfc","hce"],"answers":[{"comments":[{"owner":{"account_id":29547355,"reputation":1,"user_id":22644794,"display_name":"Programmer Android"},"score":0,"creation_date":1695968748,"post_id":77187967,"comment_id":136096482,"body_markdown":"As I understand it, there is a background service used in emulation and in order for it to start working, it is necessary to bring an NFC reader. And I need to start emulation by pressing a button inside the application and also stop it. Is it possible to implement it? I saw an example on Google Play. The application is called NFC NDEF Tag Emulator.","body":"As I understand it, there is a background service used in emulation and in order for it to start working, it is necessary to bring an NFC reader. And I need to start emulation by pressing a button inside the application and also stop it. Is it possible to implement it? I saw an example on Google Play. The application is called NFC NDEF Tag Emulator."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1695974453,"post_id":77187967,"comment_id":136097361,"body_markdown":"That app is basically the same as the example I linked to in the question, which is https://github.com/underwindfall/NFCAndroid","body":"That app is basically the same as the example I linked to in the question, which is <a href=\"https://github.com/underwindfall/NFCAndroid\" rel=\"nofollow noreferrer\">github.com/underwindfall/NFCAndroid</a>"}],"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695821380,"creation_date":1695821380,"answer_id":77187967,"question_id":77187707,"body_markdown":"[Android HCE][1] can emulate a specific type of NFC Tag, a NFC Type 4A (it cannot emulate the other 4 main NFC standard types, or propitiatory types like Mifare Classic)\r\n\r\nThis type of Tag is very flexible in how it responds to a reader, but because of the flexibility the Tag response needs to be matched to what the NFC reader is expecting, if you are programming the NFC reader then this should not be a problem.\r\n\r\nAs a more specific example [here][2] is a fully working example of HCE on Android that responds as a Type 4A Tag with a Standard Ndef data format message (This can be read automatically by most phones, but most USB readers can only read this if they are programmed to).\r\n\r\nAs the question is very vague, it is difficult to give more direction other than study details about Type 4 Tags and the working example of HCE.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/nfc/hce\r\n  [2]: https://github.com/underwindfall/NFCAndroid","title":"What to use to do NFC tag emulation in Android app","body":"<p><a href=\"https://developer.android.com/guide/topics/connectivity/nfc/hce\" rel=\"nofollow noreferrer\">Android HCE</a> can emulate a specific type of NFC Tag, a NFC Type 4A (it cannot emulate the other 4 main NFC standard types, or propitiatory types like Mifare Classic)</p>\n<p>This type of Tag is very flexible in how it responds to a reader, but because of the flexibility the Tag response needs to be matched to what the NFC reader is expecting, if you are programming the NFC reader then this should not be a problem.</p>\n<p>As a more specific example <a href=\"https://github.com/underwindfall/NFCAndroid\" rel=\"nofollow noreferrer\">here</a> is a fully working example of HCE on Android that responds as a Type 4A Tag with a Standard Ndef data format message (This can be read automatically by most phones, but most USB readers can only read this if they are programmed to).</p>\n<p>As the question is very vague, it is difficult to give more direction other than study details about Type 4 Tags and the working example of HCE.</p>\n"}],"owner":{"account_id":29547355,"reputation":1,"user_id":22644794,"display_name":"Programmer Android"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695821380,"creation_date":1695819244,"question_id":77187707,"body_markdown":"Is there an opportunity to emulate the NFC tag through an android application? So that it is exactly the tag that is read by another device without a third-party application. That is, it is not the implementation of data reception and transmission that is needed, but an imitation, for example, NFC cards that can be used as a key to some command on a smartphone (for example, a wifi connection). \r\n\r\nHCE is not sure what is suitable in this case, but I may be wrong. \r\n\r\nIf it is possible, please tell me what and how to use it?\r\n\r\nP2P data transmission via NFC is not suitable because it requires a receiver application","title":"What to use to do NFC tag emulation in Android app","body":"<p>Is there an opportunity to emulate the NFC tag through an android application? So that it is exactly the tag that is read by another device without a third-party application. That is, it is not the implementation of data reception and transmission that is needed, but an imitation, for example, NFC cards that can be used as a key to some command on a smartphone (for example, a wifi connection).</p>\n<p>HCE is not sure what is suitable in this case, but I may be wrong.</p>\n<p>If it is possible, please tell me what and how to use it?</p>\n<p>P2P data transmission via NFC is not suitable because it requires a receiver application</p>\n"},{"tags":["java","logging","log4j","slf4j","lombok"],"answers":[{"comments":[{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1638973271,"post_id":70269375,"comment_id":124229525,"body_markdown":"Like I explain in the question, I already have the logback.xml that your first resource mentions BOTH in resources in src.\nI&#39;m not sure if I understood what a bridge is, but I&#39;m sure I didn&#39;t understand how to configure it, I think I need to substitute a JAR in the project so another (maybe  logback) will take control over the configuration, but I have no idea how to do that from the document. Also I&#39;m not using logback for any specific reason and if changing logback dependency can fix things I&#39;m open to it. in the related questions they just mention bridges as well","body":"Like I explain in the question, I already have the logback.xml that your first resource mentions BOTH in resources in src. I&#39;m not sure if I understood what a bridge is, but I&#39;m sure I didn&#39;t understand how to configure it, I think I need to substitute a JAR in the project so another (maybe  logback) will take control over the configuration, but I have no idea how to do that from the document. Also I&#39;m not using logback for any specific reason and if changing logback dependency can fix things I&#39;m open to it. in the related questions they just mention bridges as well"},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1638973733,"post_id":70269375,"comment_id":124229720,"body_markdown":"In the second resource (JUL) The logger that Lombok uses is org.slf4j.Logger not JUL directly I&#39;m not sure if this applies to what I&#39;m working on, but I tried adding the `jul-to-slf4j` dependency  and added the configuration as the resource requested and it won&#39;t work (it will not change the level of the logs)","body":"In the second resource (JUL) The logger that Lombok uses is org.slf4j.Logger not JUL directly I&#39;m not sure if this applies to what I&#39;m working on, but I tried adding the <code>jul-to-slf4j</code> dependency  and added the configuration as the resource requested and it won&#39;t work (it will not change the level of the logs)"},{"owner":{"account_id":1032025,"reputation":2197,"user_id":6591962,"display_name":"Andrei Kovrov"},"score":1,"creation_date":1638975987,"post_id":70269375,"comment_id":124230731,"body_markdown":"Post example your code using logging/probably other dependencies you use/log output example. The information is provided by you is not sufficient to answer the question.","body":"Post example your code using logging/probably other dependencies you use/log output example. The information is provided by you is not sufficient to answer the question."},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1638997019,"post_id":70269375,"comment_id":124238838,"body_markdown":"Following your suggestion I made a sample project [https://github.com/white-sdev/lombok-logging] with the configurations I&#39;m listing so you can take a look at it.","body":"Following your suggestion I made a sample project [<a href=\"https://github.com/white-sdev/lombok-logging]\" rel=\"nofollow noreferrer\">github.com/white-sdev/lombok-logging]</a> with the configurations I&#39;m listing so you can take a look at it."}],"tags":[],"owner":{"account_id":1032025,"reputation":2197,"user_id":6591962,"display_name":"Andrei Kovrov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638932245,"creation_date":1638932245,"answer_id":70269375,"question_id":70267879,"body_markdown":"It&#39;s enough to put just a single `logback.xml` to your classpath (e.g. `/src/main/resources`). [It&#39;s a doc page](http://logback.qos.ch/manual/configuration.html#auto_configuration) about how Logback lookups the configuration file. But for some libraries, you have to use [bridges](http://www.slf4j.org/legacy.html#log4j-over-slf4j) to redirect &quot;old&quot; loggers to Logback.\r\n\r\nRelated questions: [common-logging](https://stackoverflow.com/questions/10117788/how-do-i-set-up-commons-logging-to-use-logback), [JUL](https://stackoverflow.com/questions/6020545/send-redirect-route-java-util-logging-logger-jul-to-logback-using-slf4j)","title":"can&#39;t we configure logs when using lombok?","body":"<p>It's enough to put just a single <code>logback.xml</code> to your classpath (e.g. <code>/src/main/resources</code>). <a href=\"http://logback.qos.ch/manual/configuration.html#auto_configuration\" rel=\"nofollow noreferrer\">It's a doc page</a> about how Logback lookups the configuration file. But for some libraries, you have to use <a href=\"http://www.slf4j.org/legacy.html#log4j-over-slf4j\" rel=\"nofollow noreferrer\">bridges</a> to redirect &quot;old&quot; loggers to Logback.</p>\n<p>Related questions: <a href=\"https://stackoverflow.com/questions/10117788/how-do-i-set-up-commons-logging-to-use-logback\">common-logging</a>, <a href=\"https://stackoverflow.com/questions/6020545/send-redirect-route-java-util-logging-logger-jul-to-logback-using-slf4j\">JUL</a></p>\n"},{"tags":[],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639005951,"creation_date":1639005951,"answer_id":70282949,"question_id":70267879,"body_markdown":"This is not a direct answer but it is a solution to the main question.\r\nInstead of using `logback-classic` dependency we can switch to a `log4j-slf4j-impl` implementation of `slf4j` and use the `log4j2.properties` file to configure levels and *Format/Layout Pattern* as shown in the [sample repository][1] to obtain this kind of logs:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/white-sdev/lombok-logging\r\n  [2]: https://i.stack.imgur.com/awK9J.png","title":"can&#39;t we configure logs when using lombok?","body":"<p>This is not a direct answer but it is a solution to the main question.\nInstead of using <code>logback-classic</code> dependency we can switch to a <code>log4j-slf4j-impl</code> implementation of <code>slf4j</code> and use the <code>log4j2.properties</code> file to configure levels and <em>Format/Layout Pattern</em> as shown in the <a href=\"https://github.com/white-sdev/lombok-logging\" rel=\"nofollow noreferrer\">sample repository</a> to obtain this kind of logs:</p>\n<p><a href=\"https://i.stack.imgur.com/awK9J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awK9J.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10026387,"reputation":183,"user_id":7414461,"display_name":"vvauban"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695821184,"creation_date":1695821184,"answer_id":77187941,"question_id":70267879,"body_markdown":"Use the application properties:\r\n\r\n    logging:\r\n      pattern:\r\n        console: &#39;%date{dd/MM/yyyy HH:mm:ss} %-5level [%thread] %logger {%X} %msg%n&#39;\r\n        file: &#39;%date{dd/MM/yyyy HH:mm:ss} %-5level [%thread] %logger {%X} %msg%n&#39;\r\n      level:\r\n        root: warn\r\n\r\n&#128279; https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html","title":"can&#39;t we configure logs when using lombok?","body":"<p>Use the application properties:</p>\n<pre><code>logging:\n  pattern:\n    console: '%date{dd/MM/yyyy HH:mm:ss} %-5level [%thread] %logger {%X} %msg%n'\n    file: '%date{dd/MM/yyyy HH:mm:ss} %-5level [%thread] %logger {%X} %msg%n'\n  level:\n    root: warn\n</code></pre>\n<p>🔗 <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html</a></p>\n"}],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695821184,"creation_date":1638917299,"question_id":70267879,"body_markdown":"I have a clean maven project and using lombok with this dependencies in my pom:\r\n\r\n&gt; **Edit**: [here is a sample project][1] with the configurations I&#39;m listing so you can take a look at it.\r\n\r\n```XML\r\n        &lt;!--region Lombok Configuration --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0-beta2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.12&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- endregion --&gt;\r\n```\r\nAnd 4 duplicated files placed in `/src` and `/src/main/resources` each:\r\n1) **slf4j.properties**=\r\n2) **log4j.properties**:\r\n```properties\r\nlog4j.rootLogger=ERROR,stdout\r\nlog4j.logger.com.myorg=ERROR\r\nlog4j.logger.com.myorg.internal.myproj=ERROR\r\n\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=%m%n\r\n```\r\n\r\n3) **simplelogger.properties**\r\n```\r\norg.slf4j.simpleLogger.defaultLogLevel=ERROR\r\n```\r\n\r\n4) **logback.xml**\r\n```XML\r\n&lt;configuration&gt;\r\n\r\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;!-- encoders are assigned the type\r\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n    &lt;encoder&gt;\r\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;error&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n&lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI put all the logs in `ERROR` level so I will be able to just verify that the configuration files are being read, but when printing a single log for EVERY level, the console keeps printing the default level (**`INFO`**, `WARN` and `ERROR`)\r\n\r\nI assume that the no configuration file is being read/detected.\r\n\r\n**Which configuration file should I be using, and where should I place it for it to identify it?**\r\nOr maybe I&#39;m confused and we are not able to configure logs with this configuration and I should be looking into another implementation of lombok? I&#39;m kind of lost in here.\r\n\r\n\r\n  [1]: https://github.com/white-sdev/lombok-logging","title":"can&#39;t we configure logs when using lombok?","body":"<p>I have a clean maven project and using lombok with this dependencies in my pom:</p>\n<blockquote>\n<p><strong>Edit</strong>: <a href=\"https://github.com/white-sdev/lombok-logging\" rel=\"nofollow noreferrer\">here is a sample project</a> with the configurations I'm listing so you can take a look at it.</p>\n</blockquote>\n<pre><code>        &lt;!--region Lombok Configuration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0-beta2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!-- endregion --&gt;\n</code></pre>\n<p>And 4 duplicated files placed in <code>/src</code> and <code>/src/main/resources</code> each:</p>\n<ol>\n<li><strong>slf4j.properties</strong>=</li>\n<li><strong>log4j.properties</strong>:</li>\n</ol>\n<pre><code>log4j.rootLogger=ERROR,stdout\nlog4j.logger.com.myorg=ERROR\nlog4j.logger.com.myorg.internal.myproj=ERROR\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%m%n\n</code></pre>\n<ol start=\"3\">\n<li><strong>simplelogger.properties</strong></li>\n</ol>\n<pre><code>org.slf4j.simpleLogger.defaultLogLevel=ERROR\n</code></pre>\n<ol start=\"4\">\n<li><strong>logback.xml</strong></li>\n</ol>\n<pre><code>&lt;configuration&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;!-- encoders are assigned the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;error&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I put all the logs in <code>ERROR</code> level so I will be able to just verify that the configuration files are being read, but when printing a single log for EVERY level, the console keeps printing the default level (<strong><code>INFO</code></strong>, <code>WARN</code> and <code>ERROR</code>)</p>\n<p>I assume that the no configuration file is being read/detected.</p>\n<p><strong>Which configuration file should I be using, and where should I place it for it to identify it?</strong>\nOr maybe I'm confused and we are not able to configure logs with this configuration and I should be looking into another implementation of lombok? I'm kind of lost in here.</p>\n"},{"tags":["java","android","variables"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1695817413,"post_id":77187418,"comment_id":136074372,"body_markdown":"If the activity is recreated (e.g. rotating the screen), you will lose all the values because it&#39;s a new object instance. This is why you should separate your logic and your UI (look for MVVM or other clean patterns).","body":"If the activity is recreated (e.g. rotating the screen), you will lose all the values because it&#39;s a new object instance. This is why you should separate your logic and your UI (look for MVVM or other clean patterns)."},{"owner":{"account_id":29547097,"reputation":1,"user_id":22644590,"display_name":"Sebastian Ned"},"score":0,"creation_date":1695822359,"post_id":77187418,"comment_id":136075513,"body_markdown":"So it is always better to use clean patterns? in any circumstances I mean ?","body":"So it is always better to use clean patterns? in any circumstances I mean ?"}],"answers":[{"comments":[{"owner":{"account_id":29547097,"reputation":1,"user_id":22644590,"display_name":"Sebastian Ned"},"score":0,"creation_date":1695822284,"post_id":77187821,"comment_id":136075489,"body_markdown":"It worked, thank you a lot, I got now the Idea behind it. So the current activity can be closed.... so that&#39;s why  we have the onSaveInstanceState to maintain the value there. Thank yuuuu","body":"It worked, thank you a lot, I got now the Idea behind it. So the current activity can be closed.... so that&#39;s why  we have the onSaveInstanceState to maintain the value there. Thank yuuuu"}],"tags":[],"owner":{"account_id":20619661,"reputation":103,"user_id":15136978,"display_name":"Shaurya Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695820146,"creation_date":1695820146,"answer_id":77187821,"question_id":77187418,"body_markdown":"The main reason behind this is the lifecycle of the **`Activity`** in **`Andorid`**.\r\nWhen the user interacts with your app, **`Android`** can recreate **`activities`** in response to various events. When an **`activity`** is recreated, its state may not be preserved and all member variables are reset to their default values unless you explicitly save and restore it.\r\n\r\nIn your code, you have declared the **`enteredText`** variable as a **`class`** field, but you&#39;re not saving and restoring its state when the activity is recreated. When your **`Activity`** is recreated after you set the value of **`enteredText`**, but before you use it in **`scanResults()`**, then **`enteredText`** would be reset to its default value (null here).\r\n\r\nYou should save your **`enteredText`** variable in the **`savedInstanceState`** Bundle in the **`onSaveInstanceState()`** method, and then restore it in either **`onCreate()`** or **`onRestoreInstanceState()`**.\r\n\r\n\r\n    public String enteredText=&quot;&quot;;\r\n    Button bts_scan, helpButton, nextPage;\r\n    EditText editText;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        bts_scan = findViewById(R.id.scanning);\r\n        helpButton = findViewById(R.id.helpButton);\r\n        nextPage = findViewById(R.id.button2);\r\n\r\n        if (savedInstanceState != null) {\r\n            enteredText = savedInstanceState.getString(&quot;EnteredText&quot;);\r\n        }\r\n\r\n        bts_scan.setOnClickListener(v-&gt;{\r\n            openPopupDialog();\r\n        });\r\n        helpButton.setOnClickListener(v -&gt; {\r\n            contactMail();\r\n        });\r\n        nextPage.setOnClickListener(v -&gt; {\r\n            next();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle savedInstanceState) {\r\n        super.onSaveInstanceState(savedInstanceState);\r\n        savedInstanceState.putString(&quot;EnteredText&quot;, enteredText);\r\n    }\r\n\r\n    private void openPopupDialog() {\r\n        Dialog popupDialog = new Dialog(this);\r\n        popupDialog.setContentView(R.layout.popup);\r\n        Button popupButton = popupDialog.findViewById(R.id.popupButton);\r\n        editText = popupDialog.findViewById(R.id.edit_the_text_of_scan);\r\n\r\n        popupButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                enteredText = editText.getText().toString();\r\n                if (enteredText.isEmpty()) {\r\n                    Log.e(&quot;PopupDialog&quot;, &quot;Entered text is empty.&quot;);\r\n                } else {\r\n                    Log.d(&quot;PopupDialog&quot;, &quot;Entered text: &quot; + enteredText);\r\n                    scanCode();\r\n                }\r\n                popupDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        popupDialog.show();\r\n    }\r\n\r\n    ActivityResultLauncher&lt;ScanOptions&gt; barLauncher=registerForActivityResult(new ScanContract(),result -&gt; {\r\n        if(result.getContents() !=null)\r\n        {\r\n\r\n            String scan_results = null;\r\n            try {\r\n                scan_results = scanResults(result.getContents(),enteredText);\r\n            } catch (IOException exception) {\r\n                throw new RuntimeException(exception);\r\n            }\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\r\n            builder.setTitle(&quot;Results&quot;);\r\n            builder.setMessage(scan_results);\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener()\r\n                    {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i)\r\n                        {\r\n                            dialogInterface.dismiss();\r\n                        }\r\n                    }\r\n\r\n            ).show();\r\n        }\r\n        else{\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\r\n            builder.setMessage(&quot;I can&#39;t read that output!!&quot;);\r\n            builder.show();\r\n        }\r\n    });\r\n    private void scanCode() {\r\n      ScanOptions options = new ScanOptions();\r\n      options.setPrompt(&quot;Volume up to flash on&quot;);\r\n      options.setBeepEnabled(true);\r\n      options.setOrientationLocked(true);\r\n      options.setCaptureActivity(CaptureAct.class);\r\n      barLauncher.launch(options);\r\n    }\r\n\r\n  \r\n","title":"Android using java, variable life cycle","body":"<p>The main reason behind this is the lifecycle of the <strong><code>Activity</code></strong> in <strong><code>Andorid</code></strong>.\nWhen the user interacts with your app, <strong><code>Android</code></strong> can recreate <strong><code>activities</code></strong> in response to various events. When an <strong><code>activity</code></strong> is recreated, its state may not be preserved and all member variables are reset to their default values unless you explicitly save and restore it.</p>\n<p>In your code, you have declared the <strong><code>enteredText</code></strong> variable as a <strong><code>class</code></strong> field, but you're not saving and restoring its state when the activity is recreated. When your <strong><code>Activity</code></strong> is recreated after you set the value of <strong><code>enteredText</code></strong>, but before you use it in <strong><code>scanResults()</code></strong>, then <strong><code>enteredText</code></strong> would be reset to its default value (null here).</p>\n<p>You should save your <strong><code>enteredText</code></strong> variable in the <strong><code>savedInstanceState</code></strong> Bundle in the <strong><code>onSaveInstanceState()</code></strong> method, and then restore it in either <strong><code>onCreate()</code></strong> or <strong><code>onRestoreInstanceState()</code></strong>.</p>\n<pre><code>public String enteredText=&quot;&quot;;\nButton bts_scan, helpButton, nextPage;\nEditText editText;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    bts_scan = findViewById(R.id.scanning);\n    helpButton = findViewById(R.id.helpButton);\n    nextPage = findViewById(R.id.button2);\n\n    if (savedInstanceState != null) {\n        enteredText = savedInstanceState.getString(&quot;EnteredText&quot;);\n    }\n\n    bts_scan.setOnClickListener(v-&gt;{\n        openPopupDialog();\n    });\n    helpButton.setOnClickListener(v -&gt; {\n        contactMail();\n    });\n    nextPage.setOnClickListener(v -&gt; {\n        next();\n    });\n}\n\n@Override\npublic void onSaveInstanceState(Bundle savedInstanceState) {\n    super.onSaveInstanceState(savedInstanceState);\n    savedInstanceState.putString(&quot;EnteredText&quot;, enteredText);\n}\n\nprivate void openPopupDialog() {\n    Dialog popupDialog = new Dialog(this);\n    popupDialog.setContentView(R.layout.popup);\n    Button popupButton = popupDialog.findViewById(R.id.popupButton);\n    editText = popupDialog.findViewById(R.id.edit_the_text_of_scan);\n\n    popupButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            enteredText = editText.getText().toString();\n            if (enteredText.isEmpty()) {\n                Log.e(&quot;PopupDialog&quot;, &quot;Entered text is empty.&quot;);\n            } else {\n                Log.d(&quot;PopupDialog&quot;, &quot;Entered text: &quot; + enteredText);\n                scanCode();\n            }\n            popupDialog.dismiss();\n        }\n    });\n\n    popupDialog.show();\n}\n\nActivityResultLauncher&lt;ScanOptions&gt; barLauncher=registerForActivityResult(new ScanContract(),result -&gt; {\n    if(result.getContents() !=null)\n    {\n\n        String scan_results = null;\n        try {\n            scan_results = scanResults(result.getContents(),enteredText);\n        } catch (IOException exception) {\n            throw new RuntimeException(exception);\n        }\n        AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\n        builder.setTitle(&quot;Results&quot;);\n        builder.setMessage(scan_results);\n        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener()\n                {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i)\n                    {\n                        dialogInterface.dismiss();\n                    }\n                }\n\n        ).show();\n    }\n    else{\n        AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\n        builder.setMessage(&quot;I can't read that output!!&quot;);\n        builder.show();\n    }\n});\nprivate void scanCode() {\n  ScanOptions options = new ScanOptions();\n  options.setPrompt(&quot;Volume up to flash on&quot;);\n  options.setBeepEnabled(true);\n  options.setOrientationLocked(true);\n  options.setCaptureActivity(CaptureAct.class);\n  barLauncher.launch(options);\n}\n</code></pre>\n"}],"owner":{"account_id":29547097,"reputation":1,"user_id":22644590,"display_name":"Sebastian Ned"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695820716,"creation_date":1695816928,"question_id":77187418,"body_markdown":"I  am stuck at a bug,  I have this code:\r\n\r\n\r\n```\r\n  public String enteredText=&quot;&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        bts_scan = findViewById(R.id.scanning);\r\n        helpButton = findViewById(R.id.helpButton);\r\n        nextPage = findViewById(R.id.button2);\r\n\r\n        bts_scan.setOnClickListener(v-&gt;{\r\n            openPopupDialog();\r\n        });\r\n        helpButton.setOnClickListener(v -&gt; {\r\n            contactMail();\r\n\r\n        });\r\n        nextPage.setOnClickListener(v -&gt; {\r\n            next();\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void openPopupDialog() {\r\n        Dialog popupDialog = new Dialog(this);\r\n        popupDialog.setContentView(R.layout.popup);\r\n        Button popupButton = popupDialog.findViewById(R.id.popupButton);\r\n        editText = popupDialog.findViewById(R.id.edit_the_text_of_scan);\r\n\r\n        popupButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                enteredText = editText.getText().toString();\r\n                if (enteredText.isEmpty()) {\r\n                    Log.e(&quot;PopupDialog&quot;, &quot;Entered text is empty.&quot;);\r\n                } else {\r\n                    Log.d(&quot;PopupDialog&quot;, &quot;Entered text: &quot; + enteredText);\r\n                    scanCode();\r\n                }\r\n                popupDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        popupDialog.show();\r\n    }\r\n\r\n    ActivityResultLauncher&lt;ScanOptions&gt; barLauncher=registerForActivityResult(new ScanContract(),result -&gt; {\r\n        if(result.getContents() !=null)\r\n        {\r\n\r\n            String scan_results = null;\r\n            try {\r\n                scan_results = scanResults(result.getContents(),enteredText);\r\n            } catch (IOException exception) {\r\n                throw new RuntimeException(exception);\r\n            }\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\r\n            builder.setTitle(&quot;Results&quot;);\r\n            builder.setMessage(scan_results);\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener()\r\n                    {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i)\r\n                        {\r\n                            dialogInterface.dismiss();\r\n                        }\r\n                    }\r\n\r\n            ).show();\r\n        }\r\n        else{\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\r\n            builder.setMessage(&quot;I can&#39;t read that output!!&quot;);\r\n            builder.show();\r\n        }\r\n    });\r\n\r\n  private void scanCode() {\r\n        ScanOptions options = new ScanOptions();\r\n        options.setPrompt(&quot;Volume up to flash on&quot;);\r\n        options.setBeepEnabled(true);\r\n        options.setOrientationLocked(true);\r\n        options.setCaptureActivity(CaptureAct.class);\r\n        barLauncher.launch(options);\r\n    }\r\n```\r\nThe life cycle of my enteredText variable does not last sometimes. Let&#39;s say I put as an input on my mobile app &quot;X32E2&quot;  sometimes after pressing the button to scan, my variable gets on null and not retrieving the X32E2 to my scanResults() method, Why? and how can I fix this.\r\n\r\n\r\nI expected my variable to keep the Value till the end. Sometimes it works, but other times the variable value is null","title":"Android using java, variable life cycle","body":"<p>I  am stuck at a bug,  I have this code:</p>\n<pre><code>  public String enteredText=&quot;&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        bts_scan = findViewById(R.id.scanning);\n        helpButton = findViewById(R.id.helpButton);\n        nextPage = findViewById(R.id.button2);\n\n        bts_scan.setOnClickListener(v-&gt;{\n            openPopupDialog();\n        });\n        helpButton.setOnClickListener(v -&gt; {\n            contactMail();\n\n        });\n        nextPage.setOnClickListener(v -&gt; {\n            next();\n        });\n\n\n    }\n\n    private void openPopupDialog() {\n        Dialog popupDialog = new Dialog(this);\n        popupDialog.setContentView(R.layout.popup);\n        Button popupButton = popupDialog.findViewById(R.id.popupButton);\n        editText = popupDialog.findViewById(R.id.edit_the_text_of_scan);\n\n        popupButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                enteredText = editText.getText().toString();\n                if (enteredText.isEmpty()) {\n                    Log.e(&quot;PopupDialog&quot;, &quot;Entered text is empty.&quot;);\n                } else {\n                    Log.d(&quot;PopupDialog&quot;, &quot;Entered text: &quot; + enteredText);\n                    scanCode();\n                }\n                popupDialog.dismiss();\n            }\n        });\n\n        popupDialog.show();\n    }\n\n    ActivityResultLauncher&lt;ScanOptions&gt; barLauncher=registerForActivityResult(new ScanContract(),result -&gt; {\n        if(result.getContents() !=null)\n        {\n\n            String scan_results = null;\n            try {\n                scan_results = scanResults(result.getContents(),enteredText);\n            } catch (IOException exception) {\n                throw new RuntimeException(exception);\n            }\n            AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\n            builder.setTitle(&quot;Results&quot;);\n            builder.setMessage(scan_results);\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener()\n                    {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i)\n                        {\n                            dialogInterface.dismiss();\n                        }\n                    }\n\n            ).show();\n        }\n        else{\n            AlertDialog.Builder builder = new AlertDialog.Builder(page1ScanQRCode.this);\n            builder.setMessage(&quot;I can't read that output!!&quot;);\n            builder.show();\n        }\n    });\n\n  private void scanCode() {\n        ScanOptions options = new ScanOptions();\n        options.setPrompt(&quot;Volume up to flash on&quot;);\n        options.setBeepEnabled(true);\n        options.setOrientationLocked(true);\n        options.setCaptureActivity(CaptureAct.class);\n        barLauncher.launch(options);\n    }\n</code></pre>\n<p>The life cycle of my enteredText variable does not last sometimes. Let's say I put as an input on my mobile app &quot;X32E2&quot;  sometimes after pressing the button to scan, my variable gets on null and not retrieving the X32E2 to my scanResults() method, Why? and how can I fix this.</p>\n<p>I expected my variable to keep the Value till the end. Sometimes it works, but other times the variable value is null</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":29517797,"reputation":1,"user_id":22621358,"display_name":"Brent Doucette"},"score":0,"creation_date":1695604473,"post_id":77164457,"comment_id":136042165,"body_markdown":"I will check out this option in the morning and report back here tomorrow","body":"I will check out this option in the morning and report back here tomorrow"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695501027,"creation_date":1695494601,"answer_id":77164457,"question_id":77164211,"body_markdown":"You can utilize a _regular expression pattern_ to identify matching text.\r\n\r\nThe RFC for _URL_ defines a syntax in _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_ which can be translated to a _regex pattern_.\\\r\n_[RFC 1738 &amp;ndash; Uniform Resource Locators (URL) &amp;ndash; BNF for specific URL schemes](https://datatracker.ietf.org/doc/html/rfc1738#autoid-33)_\r\n\r\n```none\r\nhostname       = *[ domainlabel &quot;.&quot; ] toplabel\r\ndomainlabel    = alphadigit | alphadigit *[ alphadigit | &quot;-&quot; ] alphadigit\r\ntoplabel       = alpha | alpha *[ alphadigit | &quot;-&quot; ] alphadigit\r\n```\r\n\r\n```none\r\n(?:https?://)?(?i)(?:(?:[a-z\\d]+|[a-z\\d][a-z\\d-]*[a-z\\d])\\.)+(?:[a-z]+|[a-z][a-z\\d-]*[a-z\\d])\r\n```\r\n\r\nAnd, the _[Pattern](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_ classes can be used to apply the _pattern_.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\ns.append(&quot;Hi. This is Brent and this is my website: www.mywebsite.com.&quot;);\r\nPattern p = Pattern.compile(&quot;(?:https?://)?(?i)(?:(?:[a-z\\\\d]+|[a-z\\\\d][a-z\\\\d-]*[a-z\\\\d])\\\\.)+(?:[a-z]+|[a-z][a-z\\\\d-]*[a-z\\\\d])&quot;);\r\nMatcher m = p.matcher(s);\r\nwhile (m.find())\r\n    s.replace(m.start(), m.end(), &quot;&lt;a href=\\&quot;%s\\&quot;&gt;%1$s&lt;/a&gt;&quot;.formatted(m.group()));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nHi. This is Brent and this is my website: &lt;a href=&quot;www.mywebsite.com&quot;&gt;www.mywebsite.com&lt;/a&gt;.\r\n```","title":"How to parse web address into clickable link","body":"<p>You can utilize a <em>regular expression pattern</em> to identify matching text.</p>\n<p>The RFC for <em>URL</em> defines a syntax in <em><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></em> which can be translated to a <em>regex pattern</em>.<br />\n<em><a href=\"https://datatracker.ietf.org/doc/html/rfc1738#autoid-33\" rel=\"nofollow noreferrer\">RFC 1738 – Uniform Resource Locators (URL) – BNF for specific URL schemes</a></em></p>\n<pre class=\"lang-none prettyprint-override\"><code>hostname       = *[ domainlabel &quot;.&quot; ] toplabel\ndomainlabel    = alphadigit | alphadigit *[ alphadigit | &quot;-&quot; ] alphadigit\ntoplabel       = alpha | alpha *[ alphadigit | &quot;-&quot; ] alphadigit\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>(?:https?://)?(?i)(?:(?:[a-z\\d]+|[a-z\\d][a-z\\d-]*[a-z\\d])\\.)+(?:[a-z]+|[a-z][a-z\\d-]*[a-z\\d])\n</code></pre>\n<p>And, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> classes can be used to apply the <em>pattern</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\ns.append(&quot;Hi. This is Brent and this is my website: www.mywebsite.com.&quot;);\nPattern p = Pattern.compile(&quot;(?:https?://)?(?i)(?:(?:[a-z\\\\d]+|[a-z\\\\d][a-z\\\\d-]*[a-z\\\\d])\\\\.)+(?:[a-z]+|[a-z][a-z\\\\d-]*[a-z\\\\d])&quot;);\nMatcher m = p.matcher(s);\nwhile (m.find())\n    s.replace(m.start(), m.end(), &quot;&lt;a href=\\&quot;%s\\&quot;&gt;%1$s&lt;/a&gt;&quot;.formatted(m.group()));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hi. This is Brent and this is my website: &lt;a href=&quot;www.mywebsite.com&quot;&gt;www.mywebsite.com&lt;/a&gt;.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29517797,"reputation":1,"user_id":22621358,"display_name":"Brent Doucette"},"score":0,"creation_date":1695604419,"post_id":77166398,"comment_id":136042159,"body_markdown":"I will try this option in the morning and report back here","body":"I will try this option in the morning and report back here"}],"tags":[],"owner":{"account_id":22263905,"reputation":1,"user_id":16494977,"display_name":"Dmitry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695546592,"creation_date":1695546592,"answer_id":77166398,"question_id":77164211,"body_markdown":"if you want to highlight links\r\n\r\n    val WEB_LINK_REGEX_STRING = PatternsCompat.WEB_URL.toString()\r\n\r\n    fun TextView.highlightLinks() {\r\n        Linkify.addLinks(this, Pattern.compile(WEB_LINK_REGEX_STRING), null)\r\n    }\r\n\r\nand then\r\n\r\n    tv_bio.setText(text)\r\n    tv_bio.highlightLinks()","title":"How to parse web address into clickable link","body":"<p>if you want to highlight links</p>\n<pre><code>val WEB_LINK_REGEX_STRING = PatternsCompat.WEB_URL.toString()\n\nfun TextView.highlightLinks() {\n    Linkify.addLinks(this, Pattern.compile(WEB_LINK_REGEX_STRING), null)\n}\n</code></pre>\n<p>and then</p>\n<pre><code>tv_bio.setText(text)\ntv_bio.highlightLinks()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29517797,"reputation":1,"user_id":22621358,"display_name":"Brent Doucette"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695820704,"creation_date":1695820704,"answer_id":77187892,"question_id":77164211,"body_markdown":"I found that using autolink=&quot;web&quot; did the trick. \r\n\r\n            &lt;TextView\r\n            android:id=&quot;@+id/tv_public_profile_bio&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:minHeight=&quot;60dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginBottom=&quot;20dp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:autoLink=&quot;web&quot;\r\n            android:justificationMode=&quot;inter_word&quot;\r\n             /&gt;\r\n\r\nIt parses web links with: http://, https://, www, or no www.\r\n\r\nThanks","title":"How to parse web address into clickable link","body":"<p>I found that using autolink=&quot;web&quot; did the trick.</p>\n<pre><code>        &lt;TextView\n        android:id=&quot;@+id/tv_public_profile_bio&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:minHeight=&quot;60dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;18sp&quot;\n        android:autoLink=&quot;web&quot;\n        android:justificationMode=&quot;inter_word&quot;\n         /&gt;\n</code></pre>\n<p>It parses web links with: http://, https://, www, or no www.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":29517797,"reputation":1,"user_id":22621358,"display_name":"Brent Doucette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77187892,"answer_count":3,"score":0,"last_activity_date":1695820704,"creation_date":1695490251,"question_id":77164211,"body_markdown":"I&#39;m looking for a way to take the text from a TextInputEditText and if there are any links in it amongst the text, parse the links into clickable links?\r\n\r\nExample text: &quot;Hi. This is Brent and this is my website: www.mywebsite.com.&quot;\r\nI only want &quot;www.mywebsite.com&quot; a clickable link. Now, some users would put the http://\r\nin front too.  That should also be linked if present. \r\n\r\nI&#39;ve tried using:\r\n`tv_bio.setText(Html.fromHtml(Globals.PublicProfileUserData.getBio(),Html.FROM_HTML_MODE_LEGACY));`\r\n\r\nHowever, it only parses links if used within an HREF HTML tag. \r\nAny help would be appreciated. Thanks\r\n\r\n","title":"How to parse web address into clickable link","body":"<p>I'm looking for a way to take the text from a TextInputEditText and if there are any links in it amongst the text, parse the links into clickable links?</p>\n<p>Example text: &quot;Hi. This is Brent and this is my website: www.mywebsite.com.&quot;\nI only want &quot;www.mywebsite.com&quot; a clickable link. Now, some users would put the http://\nin front too.  That should also be linked if present.</p>\n<p>I've tried using:\n<code>tv_bio.setText(Html.fromHtml(Globals.PublicProfileUserData.getBio(),Html.FROM_HTML_MODE_LEGACY));</code></p>\n<p>However, it only parses links if used within an HREF HTML tag.\nAny help would be appreciated. Thanks</p>\n"},{"tags":["java","jlabel"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695819562,"post_id":77187733,"comment_id":136074857,"body_markdown":"a JLabel isn&#39;t on the &quot;monitor&quot;, it&#39;s on a JFrame (or similar) which is on the monitor. You can position it in the center of that JFrame, but hat doesn&#39;t mean it&#39;s in the center of the monitor","body":"a JLabel isn&#39;t on the &quot;monitor&quot;, it&#39;s on a JFrame (or similar) which is on the monitor. You can position it in the center of that JFrame, but hat doesn&#39;t mean it&#39;s in the center of the monitor"},{"owner":{"account_id":29547367,"reputation":3,"user_id":22644803,"display_name":"Faizy"},"score":0,"creation_date":1695819828,"post_id":77187733,"comment_id":136074919,"body_markdown":"so are you saying that i have to put the jlabel on the jpanel then center it using .setLocationRelativeTo(null).","body":"so are you saying that i have to put the jlabel on the jpanel then center it using .setLocationRelativeTo(null)."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1695819890,"post_id":77187733,"comment_id":136074936,"body_markdown":"No, you use a layout manager.","body":"No, you use a layout manager."},{"owner":{"account_id":29547367,"reputation":3,"user_id":22644803,"display_name":"Faizy"},"score":0,"creation_date":1695820339,"post_id":77187733,"comment_id":136075045,"body_markdown":"thank you very much @Mr. Polywhirl.","body":"thank you very much @Mr. Polywhirl."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695820486,"creation_date":1695820486,"answer_id":77187868,"question_id":77187733,"body_markdown":"If you want to center the application window frame, use `setLocationRelativeTo`. If you want to center a label within a `JPanel`, you can use a layout manager for the panel and center the label using `horizontalAlignment`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class CenterLabelApp implements Runnable {\r\n    private JPanel mainPanel;\r\n\r\n    protected CenterLabelApp() {\r\n        this.mainPanel = new JPanel();\r\n\r\n        setup();\r\n    }\r\n\r\n    private void setup() {\r\n        // Panel\r\n        this.mainPanel.setLayout(new BorderLayout());\r\n        this.mainPanel.setPreferredSize(new Dimension(400, 300));\r\n\r\n        // Label\r\n        JLabel label = new JLabel(&quot;Hello, World!&quot;);\r\n        label.setHorizontalAlignment(SwingConstants.CENTER); // Center the label horizontally\r\n        this.mainPanel.add(label, BorderLayout.CENTER); // Center the label vertically\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        JFrame frame = new JFrame(&quot;Center Label App&quot;);\r\n        frame.setContentPane(this.mainPanel);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null); // Center the window\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new CenterLabelApp());\r\n    }\r\n}\r\n```\r\n\r\nYou could also use the second param of the `JLabel` constructor to set alignment:\r\n\r\n```java\r\n// Center the label horizontally\r\nJLabel label = new JLabel(&quot;Hello, World!&quot;, SwingConstants.CENTER);\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/ijf4o.png","title":"How to make JLabel in java display in the centre of the monitor","body":"<p>If you want to center the application window frame, use <code>setLocationRelativeTo</code>. If you want to center a label within a <code>JPanel</code>, you can use a layout manager for the panel and center the label using <code>horizontalAlignment</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/ijf4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ijf4o.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class CenterLabelApp implements Runnable {\n    private JPanel mainPanel;\n\n    protected CenterLabelApp() {\n        this.mainPanel = new JPanel();\n\n        setup();\n    }\n\n    private void setup() {\n        // Panel\n        this.mainPanel.setLayout(new BorderLayout());\n        this.mainPanel.setPreferredSize(new Dimension(400, 300));\n\n        // Label\n        JLabel label = new JLabel(&quot;Hello, World!&quot;);\n        label.setHorizontalAlignment(SwingConstants.CENTER); // Center the label horizontally\n        this.mainPanel.add(label, BorderLayout.CENTER); // Center the label vertically\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Center Label App&quot;);\n        frame.setContentPane(this.mainPanel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationRelativeTo(null); // Center the window\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new CenterLabelApp());\n    }\n}\n</code></pre>\n<p>You could also use the second param of the <code>JLabel</code> constructor to set alignment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Center the label horizontally\nJLabel label = new JLabel(&quot;Hello, World!&quot;, SwingConstants.CENTER);\n</code></pre>\n"}],"owner":{"account_id":29547367,"reputation":3,"user_id":22644803,"display_name":"Faizy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77187868,"answer_count":1,"score":0,"last_activity_date":1695820486,"creation_date":1695819465,"question_id":77187733,"body_markdown":"\r\n\r\n\r\nI tired even the .setLocationRelativeTo(null) but i guess it only works with JFrame. i looked up everywhere but no information of google. I also tried scrolling through the methods but here are too many. Please help me. I also tried typing .set then scrolling to look at the methods.","title":"How to make JLabel in java display in the centre of the monitor","body":"<p>I tired even the .setLocationRelativeTo(null) but i guess it only works with JFrame. i looked up everywhere but no information of google. I also tried scrolling through the methods but here are too many. Please help me. I also tried typing .set then scrolling to look at the methods.</p>\n"},{"tags":["java","weblogic","aop","jndi","ejb-3.0"],"owner":{"account_id":930576,"reputation":1615,"user_id":960525,"accept_rate":78,"display_name":"Jalal Sordo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695820401,"creation_date":1695819590,"question_id":77187751,"body_markdown":"I&#39;m encountering an error when invoking a method on an EJB named &quot;IndexingFacade&quot; in a WebLogic 12c environment. During remote debugging, I can confirm that the correct EJB is being loaded. However, when attempting to invoke any methods on this EJB, I encounter the following error:\r\n\r\n    javax.ejb.EJBException: EJB Exception: : \r\n    com.bea.core.repackaged.springframework.aop.AopInvocationException: AOP configuration seems to \r\n    be invalid: tried calling method [public abstract void e.e.e.a.c.IndexingFacade_ksqrhc_Intf.reindexWithNumber(java.lang.String)] on target [e.e.e.a.c.IndexingFacade_ksqrhc_Impl@bb637bb]; nested exception is java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\r\nThe application is structured as an EAR file containing a WAR application and an EJB 3.0 module, all deployed in WebLogic 12c.\r\n\r\nThe EJB is looked up using the @EJB annotation with the beanName attribute set to &quot;IndexingFacade&quot;. Here&#39;s how it&#39;s defined:\r\n\r\n\r\n    @EJB(beanName = &quot;IndexingFacade&quot;)\r\n    private IndexingFacade facade;\r\n\r\n--------------\r\n\r\n    @Local\r\n    public interface IndexingFacade {\r\n        // Method signatures\r\n    }\r\n\r\n--------------\r\n    @Stateless(name=&quot;IndexingFacade&quot;, mappedName=&quot;ejb/IndexingFacade&quot;)\r\n    public class IndexingFacadeImpl implements IndexingFacade {\r\n        // Implementation\r\n    }\r\n\r\n\r\nEven though the EJB resides within the same application and is called from within the application, it throws the AOP error mentioned above.\r\n\r\nI have attempted to change the mappedName attribute, but it did not resolve the issue. Strangely, this setup works on another WebLogic instance, leading me to suspect a potential AOP configuration discrepancy specific to this WebLogic instance.\r\n\r\nCould this issue be related to WebLogic AOP configuration, and are there specific configurations that need to be adjusted to resolve this problem, considering it works on another WebLogic instance? Any insights or guidance would be highly appreciated.\r\n\r\n","title":"Error invoking methods on EJB in WebLogic 12c: AOP configuration issue","body":"<p>I'm encountering an error when invoking a method on an EJB named &quot;IndexingFacade&quot; in a WebLogic 12c environment. During remote debugging, I can confirm that the correct EJB is being loaded. However, when attempting to invoke any methods on this EJB, I encounter the following error:</p>\n<pre><code>javax.ejb.EJBException: EJB Exception: : \ncom.bea.core.repackaged.springframework.aop.AopInvocationException: AOP configuration seems to \nbe invalid: tried calling method [public abstract void e.e.e.a.c.IndexingFacade_ksqrhc_Intf.reindexWithNumber(java.lang.String)] on target [e.e.e.a.c.IndexingFacade_ksqrhc_Impl@bb637bb]; nested exception is java.lang.IllegalArgumentException: object is not an instance of declaring class\n</code></pre>\n<p>The application is structured as an EAR file containing a WAR application and an EJB 3.0 module, all deployed in WebLogic 12c.</p>\n<p>The EJB is looked up using the @EJB annotation with the beanName attribute set to &quot;IndexingFacade&quot;. Here's how it's defined:</p>\n<pre><code>@EJB(beanName = &quot;IndexingFacade&quot;)\nprivate IndexingFacade facade;\n</code></pre>\n<hr />\n<pre><code>@Local\npublic interface IndexingFacade {\n    // Method signatures\n}\n</code></pre>\n<hr />\n<pre><code>@Stateless(name=&quot;IndexingFacade&quot;, mappedName=&quot;ejb/IndexingFacade&quot;)\npublic class IndexingFacadeImpl implements IndexingFacade {\n    // Implementation\n}\n</code></pre>\n<p>Even though the EJB resides within the same application and is called from within the application, it throws the AOP error mentioned above.</p>\n<p>I have attempted to change the mappedName attribute, but it did not resolve the issue. Strangely, this setup works on another WebLogic instance, leading me to suspect a potential AOP configuration discrepancy specific to this WebLogic instance.</p>\n<p>Could this issue be related to WebLogic AOP configuration, and are there specific configurations that need to be adjusted to resolve this problem, considering it works on another WebLogic instance? Any insights or guidance would be highly appreciated.</p>\n"},{"tags":["sdk","java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1664589730,"post_id":10858193,"comment_id":130512733,"body_markdown":"Similar: [*Whether Java SE is the same as JDK?*](https://stackoverflow.com/q/73902305/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/73902305/642706\"><i>Whether Java SE is the same as JDK?</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":20143,"reputation":1094,"user_id":47833,"accept_rate":75,"display_name":"bobmcn"},"score":0,"creation_date":1338591296,"post_id":10858269,"comment_id":14144192,"body_markdown":"Java SE stands for Standard Edition (as opposed to EE, or Enterprise Edition), not Second Edition.","body":"Java SE stands for Standard Edition (as opposed to EE, or Enterprise Edition), not Second Edition."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1664499825,"post_id":10858269,"comment_id":130491791,"body_markdown":"Updated link: https://www.oracle.com/java/technologies/platform-glance.html","body":"Updated link: <a href=\"https://www.oracle.com/java/technologies/platform-glance.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/platform-glance.html</a>"}],"tags":[],"owner":{"account_id":1517434,"reputation":392,"user_id":1418103,"accept_rate":100,"display_name":"Andr&#233; Leria"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338591699,"creation_date":1338590997,"answer_id":10858269,"question_id":10858193,"body_markdown":"Answer 1: SE stands for Standard Edition. It is mostly like for every JRE nowadays to be in Standard Edition, so you can take Java 7 and Java SE 7 as the same thing.\r\n\r\nAnswer 2: JDK stands for Java Development Toolkit. Java SE is the technology, and JDK is the set of tools for developing in that technology.\r\n\r\nAnswer 3: Technically yes. Actually, you&#39;re most likely to see &quot;JDK 1.6&quot; alongside &quot;Java 6&quot;, &quot;JDK 1.7&quot; alongside &quot;Java 7&quot; and so on.\r\n\r\nAnswer 4: Same as 3, I guess.\r\n\r\nAnswer 5: Java&#39;s Software Development Kit equals Java&#39;s Development Kit, so yes.\r\n\r\nThis diagram might help:\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tech/index.html","title":"Java JDK, SDK, SE?","body":"<p>Answer 1: SE stands for Standard Edition. It is mostly like for every JRE nowadays to be in Standard Edition, so you can take Java 7 and Java SE 7 as the same thing.</p>\n\n<p>Answer 2: JDK stands for Java Development Toolkit. Java SE is the technology, and JDK is the set of tools for developing in that technology.</p>\n\n<p>Answer 3: Technically yes. Actually, you're most likely to see \"JDK 1.6\" alongside \"Java 6\", \"JDK 1.7\" alongside \"Java 7\" and so on.</p>\n\n<p>Answer 4: Same as 3, I guess.</p>\n\n<p>Answer 5: Java's Software Development Kit equals Java's Development Kit, so yes.</p>\n\n<p>This diagram might help:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/tech/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":1249300,"reputation":5305,"user_id":1210060,"accept_rate":96,"display_name":"Mario Corchero"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338591756,"creation_date":1338591366,"answer_id":10858321,"question_id":10858193,"body_markdown":"SE = standard edition, standard version of java, often named just java X. The other version is EE, more oriented to components. \r\n\r\nJDK = java development kit, this is a subset of the sdk that is what you use to develop java app, is a framework.\r\n\r\nThe version number has  1.7 is named java 7. And you can get both SE version or SDK of this version.\r\n \r\nAnyway you can find the whole information at Wikipedia ","title":"Java JDK, SDK, SE?","body":"<p>SE = standard edition, standard version of java, often named just java X. The other version is EE, more oriented to components. </p>\n\n<p>JDK = java development kit, this is a subset of the sdk that is what you use to develop java app, is a framework.</p>\n\n<p>The version number has  1.7 is named java 7. And you can get both SE version or SDK of this version.</p>\n\n<p>Anyway you can find the whole information at Wikipedia </p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1338636688,"post_id":10858348,"comment_id":14149880,"body_markdown":"The name Java2 applied to every java release from version 1.2 upto java 1.4.2.","body":"The name Java2 applied to every java release from version 1.2 upto java 1.4.2."}],"tags":[],"owner":{"account_id":466330,"reputation":13849,"user_id":871012,"accept_rate":74,"display_name":"quux00"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1392130880,"creation_date":1338591580,"answer_id":10858348,"question_id":10858193,"body_markdown":"&gt; Is Java 7 just Java SE 7? and Java 6 is Java SE 6?\r\n\r\nYes.\r\n\r\nThere are a couple of Java &quot;editions&quot;, namely Java SE, the &quot;Standard Edition&quot;, Java EE, the &quot;Enterprise Edition&quot; and Java ME, the &quot;micro edition&quot;.\r\n\r\n&quot;Java N&quot; where N is some number refers to the SE.  There are separate edition numbers for Java EE which is up to version 6 now.  Java ME has its own versions as well - it is currently at version 3.  Java ME is intended for mobile and small devices.  \r\n\r\nJava EE is a set of libraries and interfaces, such as EJB, JMS, JNDI, Servlets/JSPs that are built on top of the Java SE.\r\n\r\n&gt; Is Java SE 7 also Java JDK 7? and also what is the JDK?\r\n\r\nJDK = Java Development Kit.  When you download Java you can either get the JRE (Java Runtime Environment) which only lets you run already compiled Java applications or you can get the JDK which allows you to compile and run Java apps.  Java SE 7 refers to both the JDK and the JRE.\r\n\r\n&gt; Does this mean that the java JDK is the same as the java number (Java SE 7)?\r\n\r\nYes.\r\n\r\n&gt; what is java 1.5 and 1.6? and how does that correspond to the java number (Java SE...)?\r\n\r\nSun&#39;s numbering for Java changed midstream and is a bit confusing.  They went from 1.0 to 1.1 then 1.2.  Then they decided to call 1.2 &quot;Java 2&quot; and that label lasted until Java 1.4. Then Java 5 was called both 1.5 and 5.0 and that has continued - Java 7 is also Java 1.7, Java 6 is also Java 1.6, etc.\r\n\r\n&gt; Is Java&#39;s SDK the same as the JDK?\r\n\r\nYes.","title":"Java JDK, SDK, SE?","body":"<blockquote>\n  <p>Is Java 7 just Java SE 7? and Java 6 is Java SE 6?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>There are a couple of Java \"editions\", namely Java SE, the \"Standard Edition\", Java EE, the \"Enterprise Edition\" and Java ME, the \"micro edition\".</p>\n\n<p>\"Java N\" where N is some number refers to the SE.  There are separate edition numbers for Java EE which is up to version 6 now.  Java ME has its own versions as well - it is currently at version 3.  Java ME is intended for mobile and small devices.  </p>\n\n<p>Java EE is a set of libraries and interfaces, such as EJB, JMS, JNDI, Servlets/JSPs that are built on top of the Java SE.</p>\n\n<blockquote>\n  <p>Is Java SE 7 also Java JDK 7? and also what is the JDK?</p>\n</blockquote>\n\n<p>JDK = Java Development Kit.  When you download Java you can either get the JRE (Java Runtime Environment) which only lets you run already compiled Java applications or you can get the JDK which allows you to compile and run Java apps.  Java SE 7 refers to both the JDK and the JRE.</p>\n\n<blockquote>\n  <p>Does this mean that the java JDK is the same as the java number (Java SE 7)?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>what is java 1.5 and 1.6? and how does that correspond to the java number (Java SE...)?</p>\n</blockquote>\n\n<p>Sun's numbering for Java changed midstream and is a bit confusing.  They went from 1.0 to 1.1 then 1.2.  Then they decided to call 1.2 \"Java 2\" and that label lasted until Java 1.4. Then Java 5 was called both 1.5 and 5.0 and that has continued - Java 7 is also Java 1.7, Java 6 is also Java 1.6, etc.</p>\n\n<blockquote>\n  <p>Is Java's SDK the same as the JDK?</p>\n</blockquote>\n\n<p>Yes.</p>\n"},{"comments":[{"owner":{"account_id":1535383,"reputation":773,"user_id":1431585,"accept_rate":50,"display_name":"Jack Trowbridge"},"score":1,"creation_date":1338591916,"post_id":10858354,"comment_id":14144318,"body_markdown":"When you download Java (say Java 7) does it come with the JVM.","body":"When you download Java (say Java 7) does it come with the JVM."},{"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"score":3,"creation_date":1338592110,"post_id":10858354,"comment_id":14144362,"body_markdown":"Yes, the JVM is one of the components of the JRE. The JDK contains also the JRE. So yes, you&#39;ll have also the JVM. Actually &quot;the JVM&quot; (as intended here, not the JVM specification, the actual binary) is the &quot;java.exe&quot; program and it&#39;s DLLs you see when you start a java program (or the java command and related .so if you are under *nix or osx)","body":"Yes, the JVM is one of the components of the JRE. The JDK contains also the JRE. So yes, you&#39;ll have also the JVM. Actually &quot;the JVM&quot; (as intended here, not the JVM specification, the actual binary) is the &quot;java.exe&quot; program and it&#39;s DLLs you see when you start a java program (or the java command and related .so if you are under *nix or osx)"},{"owner":{"account_id":1535383,"reputation":773,"user_id":1431585,"accept_rate":50,"display_name":"Jack Trowbridge"},"score":2,"creation_date":1338643490,"post_id":10858354,"comment_id":14151128,"body_markdown":"Thank you very much, it really explained alot:)","body":"Thank you very much, it really explained alot:)"},{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":2,"creation_date":1486309514,"post_id":10858354,"comment_id":71280101,"body_markdown":"Great explanation indeed. Thanks.","body":"Great explanation indeed. Thanks."},{"owner":{"account_id":187670,"reputation":7493,"user_id":425895,"accept_rate":56,"display_name":"skan"},"score":0,"creation_date":1694865633,"post_id":10858354,"comment_id":135949275,"body_markdown":"If you install Java JDK do you also need to install Java SE or is it already included?","body":"If you install Java JDK do you also need to install Java SE or is it already included?"}],"tags":[],"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"comment_count":5,"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1609619677,"creation_date":1338591629,"answer_id":10858354,"question_id":10858193,"body_markdown":"Yes, it can be confusing.\r\n\r\nYou didn&#39;t ask for it, but I&#39;ll start from here. The JVM is the Java Virtual Machine. It is a program that can read compiled Java code (the .class files, and the .jar files that are simply .zip files containing a bunch of .class files packaged together) and execute it. There are many JVMs, for example you need a JVM for Windows, one for Linux, one for OSX etc. but there are also many alternative JVMs, JVMs for embedded device etc. (many will disagree and say that the JVM is only one, and it&#39;s a specification. However, commonly a sysadmin will say &quot;the JVM&quot; to indicate the actual binary running on the server).\r\n\r\nYou didn&#39;t ask for the following either. The JRE is the Java Runtime Environment. It includes everything needed to *run* a Java application, that is the JVM itself, the standard library and a bunch of other files. The standard library is itself very important, because it contains a lot of useful things you&#39;ll use when developing Java applications. It contains all the stuff in java.* packages and some private stuff in com.sun, com.oracle packages.\r\n\r\nDifferent versions of Java (1.0, 1.1, etc. all the way to 1.7, also known as Java 7) usually contain improvements to both the JVM and the standard library, so the two usually need to run together, and are packaged together in the JRE.\r\n\r\nIf you are running any Java program on your computer, you have a JRE installed.\r\n\r\nThe JDK is the Java Development Kit. It contains the JRE as well as a lot of other useful stuff for *developing* Java applications. That includes the compiler obviously (which is also contained in the JRE for some good reason, but you can ignore this fact now), the JAR utility to create .jar files, many tools for &quot;decompiling&quot; class files, inspect .jar files, repackage them, etc.  \r\n\r\nIt also usually contains documentation for the standard library and also all the sources of the standard library, because they are useful for developers to read and inspect. If you want to seriously develop Java applications, you need the JDK.\r\n\r\nWhen talking about JavaSE, JavaEE, JavaME etc. those are so called &quot;editions&quot;. Basically, since the Java ecosystem is huge, Sun decided to offer Java in different editions:\r\n\r\n- JavaSE: is the standard edition, it is usually a good fit for client side software, normal applications, etc.\r\n- JavaME: is the mobile edition, it is what small games on old phones was made with, but it&#39;s basically a &quot;smaller&quot; version of Java suitable for very low capacity processors.\r\n- JavaEE: is the &quot;enterprise edition&quot;. It is used to develop server side stuff, so it includes a lot of libraries used on server side.\r\n\r\nRegarding numbering, they messed it up quite a bit. Actually, after Java 1.4 they created the JCP, to involve the community in the development of Java itself, and starting from Java 1.5 it is officially named &quot;Java 5&quot;, despite most in the industry calling it 1.5. Also, Java 1.2 was Java 2, but everyone I know who was not [working in Sun at that time always called it 1.2](http://en.wikipedia.org/wiki/Java_version_history).","title":"Java JDK, SDK, SE?","body":"<p>Yes, it can be confusing.</p>\n<p>You didn't ask for it, but I'll start from here. The JVM is the Java Virtual Machine. It is a program that can read compiled Java code (the .class files, and the .jar files that are simply .zip files containing a bunch of .class files packaged together) and execute it. There are many JVMs, for example you need a JVM for Windows, one for Linux, one for OSX etc. but there are also many alternative JVMs, JVMs for embedded device etc. (many will disagree and say that the JVM is only one, and it's a specification. However, commonly a sysadmin will say &quot;the JVM&quot; to indicate the actual binary running on the server).</p>\n<p>You didn't ask for the following either. The JRE is the Java Runtime Environment. It includes everything needed to <em>run</em> a Java application, that is the JVM itself, the standard library and a bunch of other files. The standard library is itself very important, because it contains a lot of useful things you'll use when developing Java applications. It contains all the stuff in java.* packages and some private stuff in com.sun, com.oracle packages.</p>\n<p>Different versions of Java (1.0, 1.1, etc. all the way to 1.7, also known as Java 7) usually contain improvements to both the JVM and the standard library, so the two usually need to run together, and are packaged together in the JRE.</p>\n<p>If you are running any Java program on your computer, you have a JRE installed.</p>\n<p>The JDK is the Java Development Kit. It contains the JRE as well as a lot of other useful stuff for <em>developing</em> Java applications. That includes the compiler obviously (which is also contained in the JRE for some good reason, but you can ignore this fact now), the JAR utility to create .jar files, many tools for &quot;decompiling&quot; class files, inspect .jar files, repackage them, etc.</p>\n<p>It also usually contains documentation for the standard library and also all the sources of the standard library, because they are useful for developers to read and inspect. If you want to seriously develop Java applications, you need the JDK.</p>\n<p>When talking about JavaSE, JavaEE, JavaME etc. those are so called &quot;editions&quot;. Basically, since the Java ecosystem is huge, Sun decided to offer Java in different editions:</p>\n<ul>\n<li>JavaSE: is the standard edition, it is usually a good fit for client side software, normal applications, etc.</li>\n<li>JavaME: is the mobile edition, it is what small games on old phones was made with, but it's basically a &quot;smaller&quot; version of Java suitable for very low capacity processors.</li>\n<li>JavaEE: is the &quot;enterprise edition&quot;. It is used to develop server side stuff, so it includes a lot of libraries used on server side.</li>\n</ul>\n<p>Regarding numbering, they messed it up quite a bit. Actually, after Java 1.4 they created the JCP, to involve the community in the development of Java itself, and starting from Java 1.5 it is officially named &quot;Java 5&quot;, despite most in the industry calling it 1.5. Also, Java 1.2 was Java 2, but everyone I know who was not <a href=\"http://en.wikipedia.org/wiki/Java_version_history\" rel=\"noreferrer\">working in Sun at that time always called it 1.2</a>.</p>\n"},{"tags":[],"owner":{"account_id":23195966,"reputation":1,"user_id":17291602,"display_name":"ibrahim Bayburtlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695820355,"creation_date":1695820355,"answer_id":77187853,"question_id":10858193,"body_markdown":"It stands for JDK (Java Development Kit). JDK is a software package that enables software development using the Java programming language and provides the tools needed to develop, compile and run Java applications.\r\n\r\nIt stands for JRE (Java Runtime Environment). JRE is a basic component that enables Java applications and applets to run smoothly on users&#39; computers.\r\n\r\nIt stands for JVM(Java Virtual Machine). JVM takes the source code of Java programs and converts that code into an executable form. Java source code is first compiled and code in an intermediate language called bytecode is produced. The JVM takes this bytecode, interprets it, and translates it into machine code understandable by the physical processor.\r\n\r\nThen, in summary, we can think of it as follows:\r\n\r\nJRE=JVM + Java Libraries\r\n\r\nJDK=JRE + Compiler + debugger","title":"Java JDK, SDK, SE?","body":"<p>It stands for JDK (Java Development Kit). JDK is a software package that enables software development using the Java programming language and provides the tools needed to develop, compile and run Java applications.</p>\n<p>It stands for JRE (Java Runtime Environment). JRE is a basic component that enables Java applications and applets to run smoothly on users' computers.</p>\n<p>It stands for JVM(Java Virtual Machine). JVM takes the source code of Java programs and converts that code into an executable form. Java source code is first compiled and code in an intermediate language called bytecode is produced. The JVM takes this bytecode, interprets it, and translates it into machine code understandable by the physical processor.</p>\n<p>Then, in summary, we can think of it as follows:</p>\n<p>JRE=JVM + Java Libraries</p>\n<p>JDK=JRE + Compiler + debugger</p>\n"}],"owner":{"account_id":1535383,"reputation":773,"user_id":1431585,"accept_rate":50,"display_name":"Jack Trowbridge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46279,"favorite_count":0,"down_vote_count":1,"up_vote_count":69,"accepted_answer_id":10858354,"answer_count":5,"score":68,"last_activity_date":1695820355,"creation_date":1338590430,"question_id":10858193,"body_markdown":"If you could answer these questions or help me out a little with clarity, it will be greatly appreciated:\r\n\r\n\r\n----------\r\n\r\n - Is Java 7 just Java SE 7? and Java 6 is Java SE 6? \r\n - \r\nIs Java SE 7 also Java JDK 7? and also what is the JDK?\r\n - Does this mean that the Java JDK is the same as the java number (Java SE 7)?\r\n - what is java 1.5 and 1.6? and how does that correspond to the java number (Java SE...)?\r\n - Is Java&#39;s SDK the same as the JDK?\r\n","title":"Java JDK, SDK, SE?","body":"<p>If you could answer these questions or help me out a little with clarity, it will be greatly appreciated:</p>\n\n<hr>\n\n<ul>\n<li>Is Java 7 just Java SE 7? and Java 6 is Java SE 6? </li>\n<li>Is Java SE 7 also Java JDK 7? and also what is the JDK?</li>\n<li>Does this mean that the Java JDK is the same as the java number (Java SE 7)?</li>\n<li>what is java 1.5 and 1.6? and how does that correspond to the java number (Java SE...)?</li>\n<li>Is Java's SDK the same as the JDK?</li>\n</ul>\n"},{"tags":["java","error-handling","qr-code","reader"],"owner":{"account_id":26468897,"reputation":15,"user_id":20109764,"display_name":"takis Paras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695819795,"creation_date":1695819795,"question_id":77187777,"body_markdown":"I have the following code:\r\n\r\nReceiveQRFragment.java:\r\n\r\n    package de.androidcrypto.nfchcendefemulator;\r\n    \r\n    import static android.content.Context.VIBRATOR_SERVICE;\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.fragment.app.Fragment;\r\n    import com.google.zxing.*;\r\n    import com.journeyapps.barcodescanner.CaptureManager;\r\n    import com.journeyapps.barcodescanner.DecoratedBarcodeView;\r\n    import com.google.zxing.BinaryBitmap;\r\n    import com.google.zxing.MultiFormatReader;\r\n    import com.google.zxing.Result;\r\n    import com.google.zxing.client.android.Intents;\r\n    import com.google.zxing.common.HybridBinarizer;\r\n    import com.google.zxing.qrcode.QRCodeReader;\r\n    \r\n    public class ReceiveQRFragment extends Fragment {\r\n    \r\n        private static final int CAMERA_PERMISSION_REQUEST_CODE = 100;\r\n        private CaptureManager captureManager;\r\n        private TextView scanResultTextView;\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.fragment_receive_qr, container, false);\r\n            // Initialize UI elements and event handlers here if needed.\r\n            scanResultTextView = rootView.findViewById(R.id.scanResultTextView);\r\n            return rootView;\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            // Check for camera permission and request it if necessary.\r\n            if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                // Permission is not granted, request it.\r\n                ActivityCompat.requestPermissions(requireActivity(), new String[]{Manifest.permission.CAMERA},\r\n                        CAMERA_PERMISSION_REQUEST_CODE);\r\n            }\r\n    \r\n            // Initialize the CaptureManager\r\n            captureManager = new CaptureManager(getActivity(), (DecoratedBarcodeView) view.findViewById(R.id.zxing_barcode_scanner));\r\n            captureManager.initializeFromIntent(getActivity().getIntent(), savedInstanceState);\r\n            captureManager.decode();\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            captureManager.onResume();\r\n        }\r\n    \r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            captureManager.onPause();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            captureManager.onDestroy();\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Camera permission granted, start QR code scanner.\r\n                    captureManager.onResume();\r\n                } else {\r\n                    // Camera permission denied, show a message.\r\n                    Toast.makeText(requireContext(), &quot;Camera permission is required to scan QR codes.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Add this method to handle the QR code scan result\r\n        private void handleQRCodeScanResult(String result) {\r\n            if (result != null) {\r\n                // QR code scanned successfully, display the result.\r\n                displaySuccessMessage(result);\r\n            } else {\r\n                // QR code not found or other scanning error.\r\n                Toast.makeText(requireContext(), &quot;QR code not found.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        // Add this method to display a success message\r\n        private void displaySuccessMessage(String message) {\r\n            scanResultTextView.setText(message);\r\n            scanResultTextView.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n\r\nand the following fragment:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;!-- DecoratedBarcodeView for displaying the camera preview and scanning QR codes --&gt;\r\n        &lt;com.journeyapps.barcodescanner.DecoratedBarcodeView\r\n            android:id=&quot;@+id/zxing_barcode_scanner&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n        &lt;!-- Button to trigger the QR code scanning --&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnScanQR&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:text=&quot;Scan QR Code&quot; /&gt;\r\n    \r\n        &lt;!-- TextView to display the success message --&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/scanResultTextView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_below=&quot;@id/btnScanQR&quot;\r\n            android:visibility=&quot;gone&quot; \r\n            android:text=&quot;Scan completed successfully&quot;\r\n            android:textColor=&quot;#00FF00&quot; \r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nthat when I open my app, it shows to allow the camera and when I do it, it opens the camera to scan a QR code. However when I try to scan a QR code and find one , my phone makes a beeping sound and the whole app is closing. Any idea why is this happening?\r\n\r\n","title":"Error scanning QR and get Info from It using Java","body":"<p>I have the following code:</p>\n<p>ReceiveQRFragment.java:</p>\n<pre><code>package de.androidcrypto.nfchcendefemulator;\n\nimport static android.content.Context.VIBRATOR_SERVICE;\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.Fragment;\nimport com.google.zxing.*;\nimport com.journeyapps.barcodescanner.CaptureManager;\nimport com.journeyapps.barcodescanner.DecoratedBarcodeView;\nimport com.google.zxing.BinaryBitmap;\nimport com.google.zxing.MultiFormatReader;\nimport com.google.zxing.Result;\nimport com.google.zxing.client.android.Intents;\nimport com.google.zxing.common.HybridBinarizer;\nimport com.google.zxing.qrcode.QRCodeReader;\n\npublic class ReceiveQRFragment extends Fragment {\n\n    private static final int CAMERA_PERMISSION_REQUEST_CODE = 100;\n    private CaptureManager captureManager;\n    private TextView scanResultTextView;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_receive_qr, container, false);\n        // Initialize UI elements and event handlers here if needed.\n        scanResultTextView = rootView.findViewById(R.id.scanResultTextView);\n        return rootView;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        // Check for camera permission and request it if necessary.\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA)\n                != PackageManager.PERMISSION_GRANTED) {\n            // Permission is not granted, request it.\n            ActivityCompat.requestPermissions(requireActivity(), new String[]{Manifest.permission.CAMERA},\n                    CAMERA_PERMISSION_REQUEST_CODE);\n        }\n\n        // Initialize the CaptureManager\n        captureManager = new CaptureManager(getActivity(), (DecoratedBarcodeView) view.findViewById(R.id.zxing_barcode_scanner));\n        captureManager.initializeFromIntent(getActivity().getIntent(), savedInstanceState);\n        captureManager.decode();\n        \n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        captureManager.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        captureManager.onPause();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        captureManager.onDestroy();\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Camera permission granted, start QR code scanner.\n                captureManager.onResume();\n            } else {\n                // Camera permission denied, show a message.\n                Toast.makeText(requireContext(), &quot;Camera permission is required to scan QR codes.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    // Add this method to handle the QR code scan result\n    private void handleQRCodeScanResult(String result) {\n        if (result != null) {\n            // QR code scanned successfully, display the result.\n            displaySuccessMessage(result);\n        } else {\n            // QR code not found or other scanning error.\n            Toast.makeText(requireContext(), &quot;QR code not found.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    // Add this method to display a success message\n    private void displaySuccessMessage(String message) {\n        scanResultTextView.setText(message);\n        scanResultTextView.setVisibility(View.VISIBLE);\n    }\n}\n</code></pre>\n<p>and the following fragment:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;!-- DecoratedBarcodeView for displaying the camera preview and scanning QR codes --&gt;\n    &lt;com.journeyapps.barcodescanner.DecoratedBarcodeView\n        android:id=&quot;@+id/zxing_barcode_scanner&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;!-- Button to trigger the QR code scanning --&gt;\n    &lt;Button\n        android:id=&quot;@+id/btnScanQR&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:text=&quot;Scan QR Code&quot; /&gt;\n\n    &lt;!-- TextView to display the success message --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/scanResultTextView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_below=&quot;@id/btnScanQR&quot;\n        android:visibility=&quot;gone&quot; \n        android:text=&quot;Scan completed successfully&quot;\n        android:textColor=&quot;#00FF00&quot; \n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>that when I open my app, it shows to allow the camera and when I do it, it opens the camera to scan a QR code. However when I try to scan a QR code and find one , my phone makes a beeping sound and the whole app is closing. Any idea why is this happening?</p>\n"},{"tags":["java","spring","spring-boot","google-maps","geolocation"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695816705,"creation_date":1695816705,"answer_id":77187388,"question_id":77186694,"body_markdown":"For a real application in production, you should solve the problem with the API key. But if you are just testing and playing around, there are some free services where you don&#39;t need an API key. Try for example [Free Geocoding API][1]. \r\n\r\nYou can use the following example code as a starting point:\r\n\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    import java.time.Duration;\r\n    \r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class Example {\r\n    \r\n        private static final String GEOCODING_RESOURCE = &quot;https://geocode.maps.co/reverse&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            String response = reverseGeocode(&quot;40.7558017&quot;, &quot;-73.9787414&quot;);\r\n            JsonNode responseJsonNode = mapper.readTree(response);\r\n    \r\n            JsonNode address = responseJsonNode.get(&quot;address&quot;);\r\n            String city = address.get(&quot;city&quot;).asText();\r\n            String country = address.get(&quot;country&quot;).asText();\r\n            System.out.println(&quot;Reverse geocoding returned: &quot; + city + &quot;, &quot; + country);\r\n        }\r\n    \r\n        public static String reverseGeocode(String lat, String lon) throws IOException, InterruptedException {\r\n    \r\n            HttpClient httpClient = HttpClient.newHttpClient();\r\n            String requestUri = GEOCODING_RESOURCE + &quot;?lat=&quot; + lat + &quot;&amp;lon=&quot; + lon;\r\n            HttpRequest geocodingRequest = HttpRequest.newBuilder()\r\n                                                      .GET()\r\n                                                      .uri(URI.create(requestUri))\r\n                                                      .timeout(Duration.ofMillis(2000)).build();\r\n    \r\n            HttpResponse geocodingResponse = httpClient.send(geocodingRequest, BodyHandlers.ofString());\r\n    \r\n            return geocodingResponse.body().toString();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://geocode.maps.co/","title":"Is exist simply way to get city and country name from coordinates(Latitude, Longitude)? Is it possible to do it without Google Maps API?","body":"<p>For a real application in production, you should solve the problem with the API key. But if you are just testing and playing around, there are some free services where you don't need an API key. Try for example <a href=\"https://geocode.maps.co/\" rel=\"nofollow noreferrer\">Free Geocoding API</a>.</p>\n<p>You can use the following example code as a starting point:</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.Duration;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Example {\n\n    private static final String GEOCODING_RESOURCE = &quot;https://geocode.maps.co/reverse&quot;;\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        String response = reverseGeocode(&quot;40.7558017&quot;, &quot;-73.9787414&quot;);\n        JsonNode responseJsonNode = mapper.readTree(response);\n\n        JsonNode address = responseJsonNode.get(&quot;address&quot;);\n        String city = address.get(&quot;city&quot;).asText();\n        String country = address.get(&quot;country&quot;).asText();\n        System.out.println(&quot;Reverse geocoding returned: &quot; + city + &quot;, &quot; + country);\n    }\n\n    public static String reverseGeocode(String lat, String lon) throws IOException, InterruptedException {\n\n        HttpClient httpClient = HttpClient.newHttpClient();\n        String requestUri = GEOCODING_RESOURCE + &quot;?lat=&quot; + lat + &quot;&amp;lon=&quot; + lon;\n        HttpRequest geocodingRequest = HttpRequest.newBuilder()\n                                                  .GET()\n                                                  .uri(URI.create(requestUri))\n                                                  .timeout(Duration.ofMillis(2000)).build();\n\n        HttpResponse geocodingResponse = httpClient.send(geocodingRequest, BodyHandlers.ofString());\n\n        return geocodingResponse.body().toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29546291,"reputation":1,"user_id":22643938,"display_name":"Yuliia Liapkalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77187388,"answer_count":1,"score":-1,"last_activity_date":1695819673,"creation_date":1695810986,"question_id":77186694,"body_markdown":"I write spring boot telegram bot. Now i have longitude and latitude of user, and want to get city and county name by its. \r\n\r\nTrying get it by Google Maps API, and from examples from here, but I also haven&#39;t clientId and my key is not valid for some reason.","title":"Is exist simply way to get city and country name from coordinates(Latitude, Longitude)? Is it possible to do it without Google Maps API?","body":"<p>I write spring boot telegram bot. Now i have longitude and latitude of user, and want to get city and county name by its.</p>\n<p>Trying get it by Google Maps API, and from examples from here, but I also haven't clientId and my key is not valid for some reason.</p>\n"},{"tags":["java","eclipse","deadlock","reentrantreadwritelock"],"comments":[{"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"score":0,"creation_date":1454762070,"post_id":35240480,"comment_id":58196009,"body_markdown":"firstly, release pause in eclipse, then with jvisualvm attach to process and generate a thread dump. in thread dump you can see locks and analyze lock owners (I think)","body":"firstly, release pause in eclipse, then with jvisualvm attach to process and generate a thread dump. in thread dump you can see locks and analyze lock owners (I think)"},{"owner":{"account_id":1567087,"reputation":7993,"user_id":1455622,"accept_rate":65,"display_name":"Scheintod"},"score":0,"creation_date":1454767048,"post_id":35240480,"comment_id":58197553,"body_markdown":"I&#39;ve already tried jstack to make me a threaddump. But I can only find threads waiting for the lock but none holding it.","body":"I&#39;ve already tried jstack to make me a threaddump. But I can only find threads waiting for the lock but none holding it."}],"answers":[{"comments":[{"owner":{"account_id":1567087,"reputation":7993,"user_id":1455622,"accept_rate":65,"display_name":"Scheintod"},"score":0,"creation_date":1695910540,"post_id":77187765,"comment_id":136089264,"body_markdown":"Thank you very much for the answer. I finally gave up and tried something else 7 years ago ;)","body":"Thank you very much for the answer. I finally gave up and tried something else 7 years ago ;)"}],"tags":[],"owner":{"account_id":8397613,"reputation":36,"user_id":18175140,"display_name":"Taylor Smock"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695819662,"creation_date":1695819662,"answer_id":77187765,"question_id":35240480,"body_markdown":"The problem here is that we need to get the application to hit a &quot;normal&quot; breakpoint.\r\n\r\nThere are a few different ways to do this. In all cases, the new breakpoint should pause the entire program (IntelliJ can do this, and I would assume Eclipse can as well).\r\n\r\n* `Object#wait` (method entry breakpoint on `public final native void wait (long timeout)`)\r\n* `Unsafe#;park` (method entry breakpoint on `public native void park(boolean isAbsolute, long time)`)\r\n* If you have a thread that is constantly performing work (e.g. getting remote data), add a breakpoint in that code\r\n\r\nOnce that has occurred, you can (in IntelliJ IDEA, and presumably Eclipse) switch threads to the threads of interest and debug from there.\r\n\r\nIn IntelliJ IDEA, I was able to do the following:\r\n```java\r\nfinal Thread ownerThread = ((ReentrantReadWriteLock.WriteLock) lock.writeLock()).sync.getExclusiveOwnerThread();\r\n```","title":"Debugging ReentrantReadWriteLock Deadlock in Eclipse","body":"<p>The problem here is that we need to get the application to hit a &quot;normal&quot; breakpoint.</p>\n<p>There are a few different ways to do this. In all cases, the new breakpoint should pause the entire program (IntelliJ can do this, and I would assume Eclipse can as well).</p>\n<ul>\n<li><code>Object#wait</code> (method entry breakpoint on <code>public final native void wait (long timeout)</code>)</li>\n<li><code>Unsafe#;park</code> (method entry breakpoint on <code>public native void park(boolean isAbsolute, long time)</code>)</li>\n<li>If you have a thread that is constantly performing work (e.g. getting remote data), add a breakpoint in that code</li>\n</ul>\n<p>Once that has occurred, you can (in IntelliJ IDEA, and presumably Eclipse) switch threads to the threads of interest and debug from there.</p>\n<p>In IntelliJ IDEA, I was able to do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Thread ownerThread = ((ReentrantReadWriteLock.WriteLock) lock.writeLock()).sync.getExclusiveOwnerThread();\n</code></pre>\n"}],"owner":{"account_id":1567087,"reputation":7993,"user_id":1455622,"accept_rate":65,"display_name":"Scheintod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695819662,"creation_date":1454758173,"question_id":35240480,"body_markdown":"I&#39;ve got an Application which occasionally deadlocks (say once a month).\r\n\r\nRight now I managed for the first time to reproduce this condition while running in eclipse debugger.\r\n\r\nIt seems as if all threads are waiting for the WriteLock to get released.\r\n\r\nWhat I need is a way to find out which one (of the 200) Threads is holding the lock.\r\n\r\nBut pausing the threads in eclipse and inspecting has yielded no results because eclipse tells me it can&#39;t access the variables I want to view because the thread was manually suspended.\r\n\r\nI don&#39;t want to restart the application because I don&#39;t know if I can manage to get into this deadlock a second time.\r\n\r\nSo what to do to find the lock holder?\r\n\r\nEDIT: I&#39;ve already tried jstack to make me a thread dump. But I can only find threads waiting for the lock but none holding it.","title":"Debugging ReentrantReadWriteLock Deadlock in Eclipse","body":"<p>I've got an Application which occasionally deadlocks (say once a month).</p>\n\n<p>Right now I managed for the first time to reproduce this condition while running in eclipse debugger.</p>\n\n<p>It seems as if all threads are waiting for the WriteLock to get released.</p>\n\n<p>What I need is a way to find out which one (of the 200) Threads is holding the lock.</p>\n\n<p>But pausing the threads in eclipse and inspecting has yielded no results because eclipse tells me it can't access the variables I want to view because the thread was manually suspended.</p>\n\n<p>I don't want to restart the application because I don't know if I can manage to get into this deadlock a second time.</p>\n\n<p>So what to do to find the lock holder?</p>\n\n<p>EDIT: I've already tried jstack to make me a thread dump. But I can only find threads waiting for the lock but none holding it.</p>\n"},{"tags":["java","dns","quarkus","inetaddress"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1695658151,"post_id":77174102,"comment_id":136050829,"body_markdown":"What is meant by &#39;My java app is running native&#39;?","body":"What is meant by &#39;My java app is running native&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695819110,"creation_date":1695819110,"answer_id":77187695,"question_id":77174102,"body_markdown":"After wasting some time I discovered that quarkus has disabled name resolving by default due to security reasons.\r\nSetting `quarkus.naming.enable-jndi=true` resolves the problem and the lookup works as expected using `InetAddress`.\r\n\r\nSee -&gt; Disabling JNDI by default https://groups.google.com/g/quarkus-dev/c/bp1wVF1yLXE","title":"DNS lookup of external address in Quarkus application returns loopback address","body":"<p>After wasting some time I discovered that quarkus has disabled name resolving by default due to security reasons.\nSetting <code>quarkus.naming.enable-jndi=true</code> resolves the problem and the lookup works as expected using <code>InetAddress</code>.</p>\n<p>See -&gt; Disabling JNDI by default <a href=\"https://groups.google.com/g/quarkus-dev/c/bp1wVF1yLXE\" rel=\"nofollow noreferrer\">https://groups.google.com/g/quarkus-dev/c/bp1wVF1yLXE</a></p>\n"}],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77187695,"answer_count":1,"score":0,"last_activity_date":1695819110,"creation_date":1695656947,"question_id":77174102,"body_markdown":"I want to loopup the ip addresses of a headless kubernetes service to access each pod.\r\nWhen testing it on the very pod with `getent hosts my-headless-service` it returns the 2 expected ips.\r\nWhen I call `InetAddress.getAllByName(&quot;my-headless-service&quot;)` in my Quarkus application that runs on the same pod, I get the loopback address`[localhost/127.0.0.1]`\r\n\r\nAre there any pit falls which I am not aware of when resolving a host name with Java?\r\n\r\n","title":"DNS lookup of external address in Quarkus application returns loopback address","body":"<p>I want to loopup the ip addresses of a headless kubernetes service to access each pod.\nWhen testing it on the very pod with <code>getent hosts my-headless-service</code> it returns the 2 expected ips.\nWhen I call <code>InetAddress.getAllByName(&quot;my-headless-service&quot;)</code> in my Quarkus application that runs on the same pod, I get the loopback address<code>[localhost/127.0.0.1]</code></p>\n<p>Are there any pit falls which I am not aware of when resolving a host name with Java?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9975,"page":159,"page_size":100}
