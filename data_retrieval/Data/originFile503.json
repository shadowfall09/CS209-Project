{"items":[{"tags":["java","spring-boot","post","request"],"answers":[{"comments":[{"owner":{"account_id":20785514,"reputation":137,"user_id":15264820,"display_name":"Vidushika Dasanayka"},"score":1,"creation_date":1681145577,"post_id":75977529,"comment_id":134005931,"body_markdown":"Yeah it worked! Thank you so much for your prompt and helpful response! Your answer solved my issue perfectly and saved me.","body":"Yeah it worked! Thank you so much for your prompt and helpful response! Your answer solved my issue perfectly and saved me."}],"tags":[],"owner":{"account_id":24034349,"reputation":635,"user_id":18014805,"display_name":"Ramesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681133097,"creation_date":1681133097,"answer_id":75977529,"question_id":75976409,"body_markdown":"I have noticed two things here,\r\n\r\n1). In your post method you have sending a multipart file and event class. but you sending them as @Request param.. instead do this\r\n\r\n    @PostMapping(value=&quot;saveEvent&quot;)\r\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;body&quot;) Event event) // you can also pass json as string value and then map into objects\r\n\r\n2). your request from the postman should be like this.(sample)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rxvMO.png","title":"How to convert the MultipartFile into byte array in spring Boot","body":"<p>I have noticed two things here,</p>\n<p>1). In your post method you have sending a multipart file and event class. but you sending them as @Request param.. instead do this</p>\n<pre><code>@PostMapping(value=&quot;saveEvent&quot;)\npublic ResponseEntity&lt;String&gt; saveEvent(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;body&quot;) Event event) // you can also pass json as string value and then map into objects\n</code></pre>\n<p>2). your request from the postman should be like this.(sample)</p>\n<p><a href=\"https://i.stack.imgur.com/rxvMO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxvMO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20785514,"reputation":137,"user_id":15264820,"display_name":"Vidushika Dasanayka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75977529,"answer_count":1,"score":0,"last_activity_date":1681463722,"creation_date":1681123517,"question_id":75976409,"body_markdown":"I&#39;m working on a spring boot project where I use postgresql as my database. In my project I need to create an event and save the details of the event along with the event flyer. I&#39;m passing the event flyer to the eventController as a multipartFile and in the Service class I will convert it to a byte array using method `getBytes()` . I implemented the code as follows and tried to send a request using postman. \r\n\r\nThis is my Event Entity :\r\n```\r\n`package com.example.attendingsystembackend.model;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Lob;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name=&quot;system-uuid&quot;,strategy = &quot;uuid&quot;)\r\n    private String id;\r\n\r\n    @NotBlank(message = &quot;Event name cannot be blank&quot;)\r\n    private String eventName;\r\n\r\n    private String eventType;\r\n\r\n    @NotBlank(message = &quot;Event location cannot be blank&quot;)\r\n    private String location;\r\n\r\n    @NotNull\r\n    private LocalDateTime startTime;\r\n\r\n    @NotNull\r\n    private LocalDateTime endTime;\r\n\r\n    @Lob\r\n    private byte[] eventFlyer;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEventName() {\r\n        return eventName;\r\n    }\r\n\r\n    public void setEventName(String eventName) {\r\n        this.eventName = eventName;\r\n    }\r\n\r\n    public String getEventType() {\r\n        return eventType;\r\n    }\r\n\r\n    public void setEventType(String eventType) {\r\n        this.eventType = eventType;\r\n    }\r\n\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n\r\n    public void setLocation(String location) {\r\n        this.location = location;\r\n    }\r\n\r\n    public LocalDateTime getStartTime() {\r\n        return startTime;\r\n    }\r\n\r\n    public void setStartTime(LocalDateTime startTime) {\r\n        this.startTime = startTime;\r\n    }\r\n\r\n    public LocalDateTime getEndTime() {\r\n        return endTime;\r\n    }\r\n\r\n    public void setEndTime(LocalDateTime endTime) {\r\n        this.endTime = endTime;\r\n    }\r\n\r\n    public byte[] getEventFlyer() {\r\n        return eventFlyer;\r\n    }\r\n\r\n    public void setEventFlyer(byte[] eventFlyer) {\r\n        this.eventFlyer = eventFlyer;\r\n    }\r\n}`\r\n```\r\n\r\nAnd this is my event service class:\r\n\r\n```\r\npackage com.example.attendingsystembackend.service;\r\n\r\nimport com.example.attendingsystembackend.model.Event;\r\nimport com.example.attendingsystembackend.repository.EventRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.IOException;\r\n\r\n@Service\r\npublic class EventService {\r\n\r\n    private final EventRepository eventRepository;\r\n\r\n    @Autowired\r\n    public EventService(EventRepository eventRepository) {\r\n        this.eventRepository = eventRepository;\r\n    }\r\n\r\n    public void saveEvent(MultipartFile file, Event event) throws IOException {\r\n\r\n        Event newEvent=new Event();\r\n\r\n        newEvent.setEventName(event.getEventName());\r\n        newEvent.setEventType(event.getEventType());\r\n        newEvent.setLocation(event.getLocation());\r\n        newEvent.setStartTime(event.getStartTime());\r\n        newEvent.setEndTime(event.getEndTime());\r\n\r\n        if(file!=null &amp;&amp; !file.isEmpty()) {\r\n            byte[] fileBytes = file.getBytes();\r\n            newEvent.setEventFlyer(fileBytes);\r\n        }else{\r\n            newEvent.setEventFlyer(null);\r\n        }\r\n\r\n        eventRepository.save(newEvent);\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n```\r\n\r\nAnd here is my event controller class:\r\n\r\n```\r\npackage com.example.attendingsystembackend.controller;\r\n\r\nimport com.example.attendingsystembackend.model.Event;\r\nimport com.example.attendingsystembackend.service.EventService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/event&quot;)\r\npublic class EventController {\r\n\r\n    private final EventService eventService;\r\n\r\n    @Autowired\r\n    public EventController(EventService eventService) {\r\n        this.eventService = eventService;\r\n    }\r\n\r\n    @PostMapping(value=&quot;saveEvent&quot;)\r\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file, Event event) {\r\n        try {\r\n            eventService.saveEvent(file,event);\r\n\r\n            return ResponseEntity.status(HttpStatus.OK)\r\n                    .body(String.format(&quot;Event saved succesfully with file: %s&quot;, file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                    .body(String.format(&quot;Could not save the event: %s!&quot;, e));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd tried to send request using postman as follows:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/1N0hH.png)](https://i.stack.imgur.com/1N0hH.png)\r\n\r\n\r\nBut Unfortunately I&#39;m getting the following error:\r\n```\r\nValidation failed for argument [1] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.example.attendingsystembackend.controller.EventController.saveEvent(org.springframework.web.multipart.MultipartFile,com.example.attendingsystembackend.model.Event): [Field error in object &#39;event&#39; on field &#39;eventFlyer&#39;: rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@42f6b750]; codes [typeMismatch.event.eventFlyer,typeMismatch.eventFlyer,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [event.eventFlyer,eventFlyer]; arguments []; default message [eventFlyer]]; default message [Failed to convert property value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte[]&#39; for property &#39;eventFlyer&#39;; Cannot convert value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte&#39; for property &#39;eventFlyer[0]&#39;: PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39;]] ]\r\n```\r\n\r\nAs I feel the error occured when converting `MultiPartFile` to `byte[] ` Can someone help me with this issue? What is the mistake I have done here? Thank you in advance.\r\n","title":"How to convert the MultipartFile into byte array in spring Boot","body":"<p>I'm working on a spring boot project where I use postgresql as my database. In my project I need to create an event and save the details of the event along with the event flyer. I'm passing the event flyer to the eventController as a multipartFile and in the Service class I will convert it to a byte array using method <code>getBytes()</code> . I implemented the code as follows and tried to send a request using postman.</p>\n<p>This is my Event Entity :</p>\n<pre><code>`package com.example.attendingsystembackend.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Lob;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.time.LocalDateTime;\n\n@Entity\npublic class Event {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name=&quot;system-uuid&quot;,strategy = &quot;uuid&quot;)\n    private String id;\n\n    @NotBlank(message = &quot;Event name cannot be blank&quot;)\n    private String eventName;\n\n    private String eventType;\n\n    @NotBlank(message = &quot;Event location cannot be blank&quot;)\n    private String location;\n\n    @NotNull\n    private LocalDateTime startTime;\n\n    @NotNull\n    private LocalDateTime endTime;\n\n    @Lob\n    private byte[] eventFlyer;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getEventName() {\n        return eventName;\n    }\n\n    public void setEventName(String eventName) {\n        this.eventName = eventName;\n    }\n\n    public String getEventType() {\n        return eventType;\n    }\n\n    public void setEventType(String eventType) {\n        this.eventType = eventType;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public LocalDateTime getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(LocalDateTime startTime) {\n        this.startTime = startTime;\n    }\n\n    public LocalDateTime getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(LocalDateTime endTime) {\n        this.endTime = endTime;\n    }\n\n    public byte[] getEventFlyer() {\n        return eventFlyer;\n    }\n\n    public void setEventFlyer(byte[] eventFlyer) {\n        this.eventFlyer = eventFlyer;\n    }\n}`\n</code></pre>\n<p>And this is my event service class:</p>\n<pre><code>package com.example.attendingsystembackend.service;\n\nimport com.example.attendingsystembackend.model.Event;\nimport com.example.attendingsystembackend.repository.EventRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.IOException;\n\n@Service\npublic class EventService {\n\n    private final EventRepository eventRepository;\n\n    @Autowired\n    public EventService(EventRepository eventRepository) {\n        this.eventRepository = eventRepository;\n    }\n\n    public void saveEvent(MultipartFile file, Event event) throws IOException {\n\n        Event newEvent=new Event();\n\n        newEvent.setEventName(event.getEventName());\n        newEvent.setEventType(event.getEventType());\n        newEvent.setLocation(event.getLocation());\n        newEvent.setStartTime(event.getStartTime());\n        newEvent.setEndTime(event.getEndTime());\n\n        if(file!=null &amp;&amp; !file.isEmpty()) {\n            byte[] fileBytes = file.getBytes();\n            newEvent.setEventFlyer(fileBytes);\n        }else{\n            newEvent.setEventFlyer(null);\n        }\n\n        eventRepository.save(newEvent);\n    }\n\n    }\n\n\n\n\n</code></pre>\n<p>And here is my event controller class:</p>\n<pre><code>package com.example.attendingsystembackend.controller;\n\nimport com.example.attendingsystembackend.model.Event;\nimport com.example.attendingsystembackend.service.EventService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;api/event&quot;)\npublic class EventController {\n\n    private final EventService eventService;\n\n    @Autowired\n    public EventController(EventService eventService) {\n        this.eventService = eventService;\n    }\n\n    @PostMapping(value=&quot;saveEvent&quot;)\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file, Event event) {\n        try {\n            eventService.saveEvent(file,event);\n\n            return ResponseEntity.status(HttpStatus.OK)\n                    .body(String.format(&quot;Event saved succesfully with file: %s&quot;, file.getOriginalFilename()));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .body(String.format(&quot;Could not save the event: %s!&quot;, e));\n        }\n    }\n}\n\n</code></pre>\n<p>And tried to send request using postman as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/1N0hH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1N0hH.png\" alt=\"enter image description here\" /></a></p>\n<p>But Unfortunately I'm getting the following error:</p>\n<pre><code>Validation failed for argument [1] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.example.attendingsystembackend.controller.EventController.saveEvent(org.springframework.web.multipart.MultipartFile,com.example.attendingsystembackend.model.Event): [Field error in object 'event' on field 'eventFlyer': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@42f6b750]; codes [typeMismatch.event.eventFlyer,typeMismatch.eventFlyer,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [event.eventFlyer,eventFlyer]; arguments []; default message [eventFlyer]]; default message [Failed to convert property value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte[]' for property 'eventFlyer'; Cannot convert value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte' for property 'eventFlyer[0]': PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile']] ]\n</code></pre>\n<p>As I feel the error occured when converting <code>MultiPartFile</code> to <code>byte[] </code> Can someone help me with this issue? What is the mistake I have done here? Thank you in advance.</p>\n"},{"tags":["java","maven","ant","legacy-code","subant"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681467850,"post_id":76013302,"comment_id":134064789,"body_markdown":"Those shared classes into a separate module which is used a dependency by other modules... ?","body":"Those shared classes into a separate module which is used a dependency by other modules... ?"},{"owner":{"account_id":16076898,"reputation":13,"user_id":11603912,"display_name":"Frank Cherry"},"score":0,"creation_date":1681472279,"post_id":76013302,"comment_id":134065735,"body_markdown":"It&#39;s a possible alternative, but primary i would convert the ant project in Maven project with module but leaving source java as is","body":"It&#39;s a possible alternative, but primary i would convert the ant project in Maven project with module but leaving source java as is"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681472575,"post_id":76013302,"comment_id":134065792,"body_markdown":"It&#39;s not an alternative that&#39;s the only way which will really work... otherwise you will hack the Maven setup which is a bad idea and it will become a nightmare to maintain...convention over configuration which means also separate things into common things etc. ... etc... yes that takes time... but that&#39;s the technical deps which has been accumulated over the times... now you are paying the real costs... also a good separated ant build would have been easier to maintain and could be eaiser migrated ...","body":"It&#39;s not an alternative that&#39;s the only way which will really work... otherwise you will hack the Maven setup which is a bad idea and it will become a nightmare to maintain...convention over configuration which means also separate things into common things etc. ... etc... yes that takes time... but that&#39;s the technical deps which has been accumulated over the times... now you are paying the real costs... also a good separated ant build would have been easier to maintain and could be eaiser migrated ..."}],"owner":{"account_id":16076898,"reputation":13,"user_id":11603912,"display_name":"Frank Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681463567,"creation_date":1681462817,"question_id":76013302,"body_markdown":"I have this java project handled by Ant modules (subant.xml)\r\n\r\n```none\r\n-src\r\n&#166;\r\n+---com\r\n&#166;       &#166;   +---SomePackage1\r\n&#166;       &#166;   +---SomePackage2\r\n&#166;       &#166;   +---OtherPackage\r\n&#166;       +---businessPackage\r\n&#166;       &#166;   +---business\r\n&#166;       &#166;   &#166;   +---ejb1\r\n&#166;       &#166;   &#166;   &#166;   +---managers\r\n&#166;       &#166;   &#166;   &#166;   +---session\r\n&#166;       &#166;   &#166;   +---exceptions\r\n&#166;       &#166;   &#166;   +---utils\r\n&#166;       &#166;   +---gateway\r\n&#166;       &#166;       +---ejb\r\n&#166;       &#166;       +---managers\r\n&#166;       +---MyPackage\r\n&#166;       &#166;   +---database\r\n&#166;       &#166;   &#166;   +---ejb\r\n&#166;       &#166;   &#166;   +---exceptions\r\n&#166;       &#166;   &#166;   +---model\r\n&#166;       &#166;   &#166;   +---utils\r\n&#166;       &#166;   +---ejb\r\n&#166;       &#166;   &#166;   +---configuration\r\n&#166;       &#166;   +---global\r\n&#166;       &#166;       +---config\r\n&#166;       &#166;       &#166;   +---exceptions\r\n&#166;       &#166;       +---utils\r\n&#166;       &#166;       +---xml\r\n&#166;       &#166;           +---exceptions\r\n&#166;       &#166;           +---utils\r\n&#166;       +---utils\r\n+---CMEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---OtherEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---FrontOfficeEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---BackOfficeEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---MyJarModule\r\n&#166;   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\r\n+---MyJar2Module\r\n&#166;   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\r\nbuild.xml\r\n```\r\n\r\nEach subant.xml contains `&lt;ejbjar&gt;` for EJB (it&#39;s creates a JAR module) and `&lt;jar&gt;` for JAR archives. The `&lt;ejbjar&gt;` source is like that:\r\n\r\n```xml\r\n&lt;ejbjar  \r\n\tbasejarname=&quot;CMEjbModule&quot;\r\n\tdestdir=&lt;dir.to.copyJar&gt;\r\n\tflatdestdir=&quot;true&quot;\r\n\tgenericjarsuffix=&quot;.jar&quot;\r\n\tsrcdir=&lt;directory classes&gt;\r\n        descriptordir=&lt;ejb descriptor dir&gt;\t\r\n\tdependency=&quot;full&quot;&gt;\r\n\t&lt;jboss/&gt;\t\t\t\r\n\t&lt;include name=&quot;**/ejb-jar.xml&quot;/&gt;\r\n\t&lt;include name=&quot;**/jboss-deployment-structure.xml&quot;/&gt;\r\n\t&lt;dtd publicId=&quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 3.0//EN&quot; location=&quot;${jboss.home}/docs/dtd/ejb-jar_3_0.dtd&quot; /&gt;\r\n&lt;/ejbjar&gt;\r\n```\r\n\r\nThe other module are simply JAR archives created by `&lt;jar&gt;` ant tag.\r\n\r\nThe result after build.xml is six components, i.e. six JARs, one for any module directory: CMEjbModule.jar, OtherEjbModule.jar, FrontOfficeEjbModule.jar, BackOfficeEjbModule.jar, MyJarModule.jar, MyJar2Module.jar (the first four JARs contain stateless EJBs as described in their own ejb-jar.xml)\r\n\r\nNow, I would like to update this project to a Maven (POM) project without ant-run plugin Maven. The problem is: the source java directory is unique and it&#39;s very difficult to split src into independent sub-project because there are many source classes shared by six modules.\r\n\r\nIs it possible? For example, I prefer using the Maven `&lt;module&gt;` pattern like subant.xml without ejb-jar.xml because the EJB are 3.0, but I ignore how is possible, i.e., in each Maven module sub-project if it&#39;s possible to select some source directory to compile each module or some EJB Java source (and their dependencies) from Java project.\r\n\r\n","title":"Upgrade legacy Java Project from Ant (i.e. subant) to Maven","body":"<p>I have this java project handled by Ant modules (subant.xml)</p>\n<pre class=\"lang-none prettyprint-override\"><code>-src\n¦\n+---com\n¦       ¦   +---SomePackage1\n¦       ¦   +---SomePackage2\n¦       ¦   +---OtherPackage\n¦       +---businessPackage\n¦       ¦   +---business\n¦       ¦   ¦   +---ejb1\n¦       ¦   ¦   ¦   +---managers\n¦       ¦   ¦   ¦   +---session\n¦       ¦   ¦   +---exceptions\n¦       ¦   ¦   +---utils\n¦       ¦   +---gateway\n¦       ¦       +---ejb\n¦       ¦       +---managers\n¦       +---MyPackage\n¦       ¦   +---database\n¦       ¦   ¦   +---ejb\n¦       ¦   ¦   +---exceptions\n¦       ¦   ¦   +---model\n¦       ¦   ¦   +---utils\n¦       ¦   +---ejb\n¦       ¦   ¦   +---configuration\n¦       ¦   +---global\n¦       ¦       +---config\n¦       ¦       ¦   +---exceptions\n¦       ¦       +---utils\n¦       ¦       +---xml\n¦       ¦           +---exceptions\n¦       ¦           +---utils\n¦       +---utils\n+---CMEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---OtherEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---FrontOfficeEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---BackOfficeEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---MyJarModule\n¦   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\n+---MyJar2Module\n¦   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\nbuild.xml\n</code></pre>\n<p>Each subant.xml contains <code>&lt;ejbjar&gt;</code> for EJB (it's creates a JAR module) and <code>&lt;jar&gt;</code> for JAR archives. The <code>&lt;ejbjar&gt;</code> source is like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ejbjar  \n    basejarname=&quot;CMEjbModule&quot;\n    destdir=&lt;dir.to.copyJar&gt;\n    flatdestdir=&quot;true&quot;\n    genericjarsuffix=&quot;.jar&quot;\n    srcdir=&lt;directory classes&gt;\n        descriptordir=&lt;ejb descriptor dir&gt;  \n    dependency=&quot;full&quot;&gt;\n    &lt;jboss/&gt;            \n    &lt;include name=&quot;**/ejb-jar.xml&quot;/&gt;\n    &lt;include name=&quot;**/jboss-deployment-structure.xml&quot;/&gt;\n    &lt;dtd publicId=&quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 3.0//EN&quot; location=&quot;${jboss.home}/docs/dtd/ejb-jar_3_0.dtd&quot; /&gt;\n&lt;/ejbjar&gt;\n</code></pre>\n<p>The other module are simply JAR archives created by <code>&lt;jar&gt;</code> ant tag.</p>\n<p>The result after build.xml is six components, i.e. six JARs, one for any module directory: CMEjbModule.jar, OtherEjbModule.jar, FrontOfficeEjbModule.jar, BackOfficeEjbModule.jar, MyJarModule.jar, MyJar2Module.jar (the first four JARs contain stateless EJBs as described in their own ejb-jar.xml)</p>\n<p>Now, I would like to update this project to a Maven (POM) project without ant-run plugin Maven. The problem is: the source java directory is unique and it's very difficult to split src into independent sub-project because there are many source classes shared by six modules.</p>\n<p>Is it possible? For example, I prefer using the Maven <code>&lt;module&gt;</code> pattern like subant.xml without ejb-jar.xml because the EJB are 3.0, but I ignore how is possible, i.e., in each Maven module sub-project if it's possible to select some source directory to compile each module or some EJB Java source (and their dependencies) from Java project.</p>\n"},{"tags":["java","performance","hibernate","jpa","jakarta-ee"],"comments":[{"owner":{"account_id":14450,"reputation":24997,"user_id":2112692,"accept_rate":71,"display_name":"Zak"},"score":1,"creation_date":1272924647,"post_id":2761543,"comment_id":2793573,"body_markdown":"Are you trying to create a report, or are you trying to load a bunch of objects? If you are just trying to create a report, then do it in SQL like you said and be done with it.","body":"Are you trying to create a report, or are you trying to load a bunch of objects? If you are just trying to create a report, then do it in SQL like you said and be done with it."},{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1272925137,"post_id":2761543,"comment_id":2793605,"body_markdown":"@Zak: I have a web application in jpa+spring+jsf which works. But its performance should be better. And, what is more important, it should be able to handle much larger datasets than it can handle at the moment. 1) There is a problem with 1st query that I don&#39;t know how to write it in `hql` or `jpa query language`. I don&#39;t want to use plain sql, imho it&#39;s a last resort. 2) The problem with 2nd query is that I don&#39;t know how to set fetch size in `JPA` and I also don&#39;t know how to handle this situation with `JPA`: there is no loop through resultset, I don&#39;t know how to load &#39;next&#39; fetch.","body":"@Zak: I have a web application in jpa+spring+jsf which works. But its performance should be better. And, what is more important, it should be able to handle much larger datasets than it can handle at the moment. 1) There is a problem with 1st query that I don&#39;t know how to write it in <code>hql</code> or <code>jpa query language</code>. I don&#39;t want to use plain sql, imho it&#39;s a last resort. 2) The problem with 2nd query is that I don&#39;t know how to set fetch size in <code>JPA</code> and I also don&#39;t know how to handle this situation with <code>JPA</code>: there is no loop through resultset, I don&#39;t know how to load &#39;next&#39; fetch."}],"answers":[{"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1272926018,"post_id":2761630,"comment_id":2793680,"body_markdown":"@Pascal Thivent: thanks for the answer! About volumes: I don&#39;t know the real volumes, I just specified the maximum (in my opinion which is based on some knowledge of the domain). Maybe the real volume is 10-100 times less and IMHO the solution for these volumes will be ok too.","body":"@Pascal Thivent: thanks for the answer! About volumes: I don&#39;t know the real volumes, I just specified the maximum (in my opinion which is based on some knowledge of the domain). Maybe the real volume is 10-100 times less and IMHO the solution for these volumes will be ok too."},{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":0,"creation_date":1353541924,"post_id":2761630,"comment_id":18482564,"body_markdown":"Do you know what they exactly mean by &quot;stateless sessions are vulnerable to data aliasing effects&quot;? Thanks.","body":"Do you know what they exactly mean by &quot;stateless sessions are vulnerable to data aliasing effects&quot;? Thanks."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487280680,"post_id":2761630,"comment_id":71726733,"body_markdown":"This is in no way faster. In fact, it is **extremely** slow and way less performant than the usual use of `EntityManager`.","body":"This is in no way faster. In fact, it is <b>extremely</b> slow and way less performant than the usual use of <code>EntityManager</code>."}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1476999778,"creation_date":1272925572,"answer_id":2761630,"question_id":2761543,"body_markdown":"&gt; suppose that we have 2 tables in DB: Worker and WorkLog  with about 1000 rows in the first one and 10 000 000 rows in the second one\r\n\r\nFor high volumes like this, my recommendation would be to use [The `StatelessSession` interface][1] from Hibernate:\r\n\r\n&gt; Alternatively, Hibernate provides a\r\n&gt; command-oriented API that can be used\r\n&gt; for streaming data to and from the\r\n&gt; database in the form of detached\r\n&gt; objects. A `StatelessSession` has no\r\n&gt; persistence context associated with it\r\n&gt; and does not provide many of the\r\n&gt; higher-level life cycle semantics. In\r\n&gt; particular, a stateless session does\r\n&gt; not implement a first-level cache nor\r\n&gt; interact with any second-level or\r\n&gt; query cache. It does not implement\r\n&gt; transactional write-behind or\r\n&gt; automatic dirty checking. Operations\r\n&gt; performed using a stateless session\r\n&gt; never cascade to associated instances.\r\n&gt; Collections are ignored by a stateless\r\n&gt; session. Operations performed via a\r\n&gt; stateless session bypass Hibernate&#39;s\r\n&gt; event model and interceptors. Due to\r\n&gt; the lack of a first-level cache,\r\n&gt; Stateless sessions are vulnerable to\r\n&gt; data aliasing effects. A stateless\r\n&gt; session is a lower-level abstraction\r\n&gt; that is much closer to the underlying\r\n&gt; JDBC.\r\n&gt; \r\n&gt;     StatelessSession session = sessionFactory.openStatelessSession();\r\n&gt;     Transaction tx = session.beginTransaction();\r\n&gt;        \r\n&gt;     ScrollableResults customers = session.getNamedQuery(&quot;GetCustomers&quot;)\r\n&gt;         .scroll(ScrollMode.FORWARD_ONLY);\r\n&gt;     while ( customers.next() ) {\r\n&gt;         Customer customer = (Customer) customers.get(0);\r\n&gt;         customer.updateStuff(...);\r\n&gt;         session.update(customer);\r\n&gt;     }\r\n&gt;        \r\n&gt;     tx.commit();\r\n&gt;     session.close();\r\n&gt; \r\n&gt; In this code example, the `Customer`\r\n&gt; instances returned by the query are\r\n&gt; immediately detached. They are never\r\n&gt; associated with any persistence\r\n&gt; context.\r\n&gt; \r\n&gt; The `insert(), update()` and\r\n&gt; `delete()` operations defined by the\r\n&gt; `StatelessSession` interface are\r\n&gt; considered to be direct database\r\n&gt; row-level operations. They result in\r\n&gt; the immediate execution of a SQL\r\n&gt; `INSERT, UPDATE` or `DELETE`\r\n&gt; respectively. They have different\r\n&gt; semantics to the `save(),\r\n&gt; saveOrUpdate()` and `delete()`\r\n&gt; operations defined by the `Session`\r\n&gt; interface.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-statelesssession","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<blockquote>\n  <p>suppose that we have 2 tables in DB: Worker and WorkLog  with about 1000 rows in the first one and 10 000 000 rows in the second one</p>\n</blockquote>\n\n<p>For high volumes like this, my recommendation would be to use <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-statelesssession\" rel=\"noreferrer\">The <code>StatelessSession</code> interface</a> from Hibernate:</p>\n\n<blockquote>\n  <p>Alternatively, Hibernate provides a\n  command-oriented API that can be used\n  for streaming data to and from the\n  database in the form of detached\n  objects. A <code>StatelessSession</code> has no\n  persistence context associated with it\n  and does not provide many of the\n  higher-level life cycle semantics. In\n  particular, a stateless session does\n  not implement a first-level cache nor\n  interact with any second-level or\n  query cache. It does not implement\n  transactional write-behind or\n  automatic dirty checking. Operations\n  performed using a stateless session\n  never cascade to associated instances.\n  Collections are ignored by a stateless\n  session. Operations performed via a\n  stateless session bypass Hibernate's\n  event model and interceptors. Due to\n  the lack of a first-level cache,\n  Stateless sessions are vulnerable to\n  data aliasing effects. A stateless\n  session is a lower-level abstraction\n  that is much closer to the underlying\n  JDBC.</p>\n\n<pre><code>StatelessSession session = sessionFactory.openStatelessSession();\nTransaction tx = session.beginTransaction();\n\nScrollableResults customers = session.getNamedQuery(\"GetCustomers\")\n    .scroll(ScrollMode.FORWARD_ONLY);\nwhile ( customers.next() ) {\n    Customer customer = (Customer) customers.get(0);\n    customer.updateStuff(...);\n    session.update(customer);\n}\n\ntx.commit();\nsession.close();\n</code></pre>\n  \n  <p>In this code example, the <code>Customer</code>\n  instances returned by the query are\n  immediately detached. They are never\n  associated with any persistence\n  context.</p>\n  \n  <p>The <code>insert(), update()</code> and\n  <code>delete()</code> operations defined by the\n  <code>StatelessSession</code> interface are\n  considered to be direct database\n  row-level operations. They result in\n  the immediate execution of a SQL\n  <code>INSERT, UPDATE</code> or <code>DELETE</code>\n  respectively. They have different\n  semantics to the <code>save(),\n  saveOrUpdate()</code> and <code>delete()</code>\n  operations defined by the <code>Session</code>\n  interface.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487343100,"post_id":8257729,"comment_id":71756209,"body_markdown":"this. I found that executing a connection query manually (`session.doWork` or such) is in fact the fastest you can get","body":"this. I found that executing a connection query manually (<code>session.doWork</code> or such) is in fact the fastest you can get"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1487348429,"post_id":8257729,"comment_id":71760134,"body_markdown":"the standard EntityManager has no `doWork` operation.","body":"the standard EntityManager has no <code>doWork</code> operation."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487351050,"post_id":8257729,"comment_id":71761997,"body_markdown":"yes, that&#39;s why I wrote `session` which you can get via `entityManager.unwrap(Session.class);`. Idk if that is bad programming style though. I guess one could also write a `sessionFactory` Bean","body":"yes, that&#39;s why I wrote <code>session</code> which you can get via <code>entityManager.unwrap(Session.class);</code>. Idk if that is bad programming style though. I guess one could also write a <code>sessionFactory</code> Bean"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1487351162,"post_id":8257729,"comment_id":71762050,"body_markdown":"That would likely be hibernate specific.  There&#39;s no Session class for JPA.  For the benefit of others can you update your comment to state the full package of the session class?","body":"That would likely be hibernate specific.  There&#39;s no Session class for JPA.  For the benefit of others can you update your comment to state the full package of the session class?"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":1,"creation_date":1487352472,"post_id":8257729,"comment_id":71762743,"body_markdown":"I cannot update the comment anymore, so: Idea says: `org.hibernate.Session`.","body":"I cannot update the comment anymore, so: Idea says: <code>org.hibernate.Session</code>."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1622659450,"post_id":8257729,"comment_id":119858629,"body_markdown":"JDBC did a lot of things right but... respectfully - it is not good for large result sets. While the client-side tweaking of setFetchSize(int) is at the core of making this functional in terms of controlling client-side memory - it does not inherently solve the problem. That is, when one is looking for a (few) records in hundreds of thousands or millions - full text search engines provide superior performance and use-case support.","body":"JDBC did a lot of things right but... respectfully - it is not good for large result sets. While the client-side tweaking of setFetchSize(int) is at the core of making this functional in terms of controlling client-side memory - it does not inherently solve the problem. That is, when one is looking for a (few) records in hundreds of thousands or millions - full text search engines provide superior performance and use-case support."}],"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322140850,"creation_date":1322140850,"answer_id":8257729,"question_id":2761543,"body_markdown":"Raw SQL shouldn&#39;t be considered a last resort.  It should still be considered an option if you want to keep things &quot;standard&quot; on the JPA tier, but not on the database tier.  JPA also has support for native queries where it will still do the mapping to standard entities for you.\r\n\r\nHowever, if you have a large result set that cannot be processed in the database, then you really should just use plain JDBC as JPA (standard) does not support streaming of large sets of data.\r\n\r\nIt will be harder to port your application across different application servers if you use JPA implementation specific constructs since the JPA engine is embedded in the application server and you may not have a control on which JPA provider is being used.","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>Raw SQL shouldn't be considered a last resort.  It should still be considered an option if you want to keep things \"standard\" on the JPA tier, but not on the database tier.  JPA also has support for native queries where it will still do the mapping to standard entities for you.</p>\n\n<p>However, if you have a large result set that cannot be processed in the database, then you really should just use plain JDBC as JPA (standard) does not support streaming of large sets of data.</p>\n\n<p>It will be harder to port your application across different application servers if you use JPA implementation specific constructs since the JPA engine is embedded in the application server and you may not have a control on which JPA provider is being used.</p>\n"},{"comments":[{"owner":{"account_id":76998,"reputation":27320,"user_id":220060,"accept_rate":93,"display_name":"nalply"},"score":1,"creation_date":1349462277,"post_id":12691624,"comment_id":17228994,"body_markdown":"Optimized? Can you explain this?","body":"Optimized? Can you explain this?"},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1622659713,"post_id":12691624,"comment_id":119858723,"body_markdown":"Depending on the resulting list size, this may crash and burn with a large data set. Have found that the general pattern of storing RI data in a database, then using a search engine (Lucene et al) on top of that is superior. Provides full-text search pattern support, superior performance, built-in paging without overburdening client memory requirements, etc. In short, almost never just return (some) Collection in response to (arbitrary) user queries in that it may be thousands (or millions?) of records in size.","body":"Depending on the resulting list size, this may crash and burn with a large data set. Have found that the general pattern of storing RI data in a database, then using a search engine (Lucene et al) on top of that is superior. Provides full-text search pattern support, superior performance, built-in paging without overburdening client memory requirements, etc. In short, almost never just return (some) Collection in response to (arbitrary) user queries in that it may be thousands (or millions?) of records in size."}],"tags":[],"owner":{"account_id":539871,"reputation":183,"user_id":907867,"accept_rate":0,"display_name":"Bojan Kraut"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349185953,"creation_date":1349185953,"answer_id":12691624,"question_id":2761543,"body_markdown":"I&#39;m using something like this and it works very fast. I also hate to use native SQL as our application should work on any database.\r\n\r\nFolowing resutls into a very optimized sql and returns list of records which are maps.\r\n\r\n    String hql = &quot;select distinct &quot; +\r\n\t\t\t\t&quot;t.uuid as uuid, t.title as title, t.code as code, t.date as date, t.dueDate as dueDate, &quot; +\r\n\t\t\t\t&quot;t.startDate as startDate, t.endDate as endDate, t.constraintDate as constraintDate, t.closureDate as closureDate, t.creationDate as creationDate, &quot; +\r\n\t\t\t\t&quot;sc.category as category, sp.priority as priority, sd.difficulty as difficulty, t.progress as progress, st.type as type, &quot; +\r\n\t\t\t\t&quot;ss.status as status, ss.color as rowColor, (p.rKey || &#39; &#39; || p.name) as project, ps.status as projectstatus, (r.code || &#39; &#39; || r.title) as requirement, &quot; +\r\n\t\t\t\t&quot;t.estimate as estimate, w.title as workgroup, o.name || &#39; &#39; || o.surname as owner, &quot; +\r\n\t\t\t\t&quot;ROUND(sum(COALESCE(a.duration, 0)) * 100 / case when ((COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) = 0) then 1 else (COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) end, 2) as factor &quot; +\r\n\t\t\t\t&quot;from &quot; + Task.class.getName() + &quot; t &quot; +\r\n\t\t\t\t&quot;left join t.category sc &quot; +\r\n\t\t\t\t&quot;left join t.priority sp &quot; +\r\n\t\t\t\t&quot;left join t.difficulty sd &quot; +\r\n\t\t\t\t&quot;left join t.taskType st &quot; +\r\n\t\t\t\t&quot;left join t.status ss &quot; +\r\n\t\t\t\t&quot;left join t.project p &quot; +\r\n\t\t\t\t&quot;left join t.owner o &quot; +\r\n\t\t\t\t&quot;left join t.workgroup w &quot; +\r\n\t\t\t\t&quot;left join p.status ps &quot; +\r\n\t\t\t\t&quot;left join t.requirement r &quot; +\r\n\t\t\t\t&quot;left join p.status sps &quot; +\r\n\t\t\t\t&quot;left join t.iterationTasks it &quot; +\r\n\t\t\t\t&quot;left join t.taskActivities a &quot; +\r\n\t\t\t\t&quot;left join it.iteration i &quot; +\r\n\t\t\t\t&quot;where sps.active = true and &quot; +\r\n\t\t\t\t&quot;ss.done = false and &quot; +\r\n\t\t\t\t&quot;(i.uuid &lt;&gt; :iterationUuid or it.uuid is null) &quot; + filterHql +\r\n\t\t\t\t&quot;group by t.uuid, t.title, t.code, t.date, t.dueDate, &quot; +\r\n\t\t\t\t&quot;t.startDate, t.endDate, t.constraintDate, t.closureDate, t.creationDate, &quot; +\r\n\t\t\t\t&quot;sc.category, sp.priority, sd.difficulty, t.progress, st.type, &quot; +\r\n\t\t\t\t&quot;ss.status, ss.color, p.rKey, p.name, ps.status, r.code, r.title, &quot; +\r\n\t\t\t\t&quot;t.estimate, w.title, o.name, o.surname &quot; + sortHql;\r\n\t\t\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Executing hql: &quot; + hql );\r\n\t\t}\r\n\t\t\r\n\t\tQuery query =  hibernateTemplate.getSessionFactory().getCurrentSession().getSession(EntityMode.MAP).createQuery(hql);\r\n\t\tfor(String key: filterValues.keySet()) {\r\n\t\t\tObject valueSet = filterValues.get(key);\r\n\t\t\t\r\n\t\t\tif (logger.isDebugEnabled()) {\r\n\t\t\t\tlogger.debug(&quot;Setting query parameter for &quot; + key );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (valueSet instanceof java.util.Collection&lt;?&gt;) {\r\n\t\t\t\tquery.setParameterList(key, (Collection)filterValues.get(key));\r\n\t\t\t} else {\r\n\t\t\t\tquery.setParameter(key, filterValues.get(key));\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tquery.setString(&quot;iterationUuid&quot;, iteration.getUuid());\r\n\t\tquery.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n\t\t\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Query building complete.&quot;);\r\n\t\t\tlogger.debug(&quot;SQL: &quot; + query.getQueryString());\r\n\t\t}\r\n\t\t\r\n\t\treturn query.list();","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I'm using something like this and it works very fast. I also hate to use native SQL as our application should work on any database.</p>\n\n<p>Folowing resutls into a very optimized sql and returns list of records which are maps.</p>\n\n<pre><code>String hql = \"select distinct \" +\n            \"t.uuid as uuid, t.title as title, t.code as code, t.date as date, t.dueDate as dueDate, \" +\n            \"t.startDate as startDate, t.endDate as endDate, t.constraintDate as constraintDate, t.closureDate as closureDate, t.creationDate as creationDate, \" +\n            \"sc.category as category, sp.priority as priority, sd.difficulty as difficulty, t.progress as progress, st.type as type, \" +\n            \"ss.status as status, ss.color as rowColor, (p.rKey || ' ' || p.name) as project, ps.status as projectstatus, (r.code || ' ' || r.title) as requirement, \" +\n            \"t.estimate as estimate, w.title as workgroup, o.name || ' ' || o.surname as owner, \" +\n            \"ROUND(sum(COALESCE(a.duration, 0)) * 100 / case when ((COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) = 0) then 1 else (COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) end, 2) as factor \" +\n            \"from \" + Task.class.getName() + \" t \" +\n            \"left join t.category sc \" +\n            \"left join t.priority sp \" +\n            \"left join t.difficulty sd \" +\n            \"left join t.taskType st \" +\n            \"left join t.status ss \" +\n            \"left join t.project p \" +\n            \"left join t.owner o \" +\n            \"left join t.workgroup w \" +\n            \"left join p.status ps \" +\n            \"left join t.requirement r \" +\n            \"left join p.status sps \" +\n            \"left join t.iterationTasks it \" +\n            \"left join t.taskActivities a \" +\n            \"left join it.iteration i \" +\n            \"where sps.active = true and \" +\n            \"ss.done = false and \" +\n            \"(i.uuid &lt;&gt; :iterationUuid or it.uuid is null) \" + filterHql +\n            \"group by t.uuid, t.title, t.code, t.date, t.dueDate, \" +\n            \"t.startDate, t.endDate, t.constraintDate, t.closureDate, t.creationDate, \" +\n            \"sc.category, sp.priority, sd.difficulty, t.progress, st.type, \" +\n            \"ss.status, ss.color, p.rKey, p.name, ps.status, r.code, r.title, \" +\n            \"t.estimate, w.title, o.name, o.surname \" + sortHql;\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Executing hql: \" + hql );\n    }\n\n    Query query =  hibernateTemplate.getSessionFactory().getCurrentSession().getSession(EntityMode.MAP).createQuery(hql);\n    for(String key: filterValues.keySet()) {\n        Object valueSet = filterValues.get(key);\n\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"Setting query parameter for \" + key );\n        }\n\n        if (valueSet instanceof java.util.Collection&lt;?&gt;) {\n            query.setParameterList(key, (Collection)filterValues.get(key));\n        } else {\n            query.setParameter(key, filterValues.get(key));\n        }\n    }       \n    query.setString(\"iterationUuid\", iteration.getUuid());\n    query.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Query building complete.\");\n        logger.debug(\"SQL: \" + query.getQueryString());\n    }\n\n    return query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349191441,"creation_date":1349191441,"answer_id":12693325,"question_id":2761543,"body_markdown":"I agree that doing the calculation on the database server is your best option in the particular case you mentioned.  HQL and JPAQL can handle both of those queries:\r\n\r\n1) \r\n\r\n    select w, sum(wl.hoursWorked) \r\n    from Worker w, WorkLog wl\r\n    where w.id = wl.workerId \r\n    group by w\r\n\r\nor, if the association is mapped:\r\n\r\n    select w, sum(wl.hoursWorked) \r\n    from Worker w join w.workLogs wl\r\n    group by w\r\n\r\nboth or which return you List&lt;Object[]&gt; where the Object[]s are Worker and Long. Or you could also use &quot;dynamic instantiation&quot; queries to wrap that up, for example:\r\n\r\n    select new WorkerTotal( select w, sum(wl.hoursWorked) )\r\n    from Worker w join w.workLogs wl\r\n    group by w\r\n\r\nor (depending on need) probably even just:\r\n\r\n    select new WorkerTotal( select w.id, w.name, sum(wl.hoursWorked) )\r\n    from Worker w join w.workLogs wl\r\n    group by w.id, w.name\r\n\r\nWorkerTotal is just a plain class.  It must have matching constructor(s).\r\n\r\n2) \r\n\r\n    select w, new Period( wl.start, wl.hoursWorked )\r\n    from Worker w join w.workLogs wl\r\n\r\nthis will return you a result for each row in the WorkLog table...  The `new Period(...)` bit is called &quot;dynamic instantiation&quot; and is used to wrap tuples from the result into objects (easier consumption).\r\n\r\nFor manipulation and general usage, I recommend StatelessSession as Pascal points out.","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I agree that doing the calculation on the database server is your best option in the particular case you mentioned.  HQL and JPAQL can handle both of those queries:</p>\n\n<p>1) </p>\n\n<pre><code>select w, sum(wl.hoursWorked) \nfrom Worker w, WorkLog wl\nwhere w.id = wl.workerId \ngroup by w\n</code></pre>\n\n<p>or, if the association is mapped:</p>\n\n<pre><code>select w, sum(wl.hoursWorked) \nfrom Worker w join w.workLogs wl\ngroup by w\n</code></pre>\n\n<p>both or which return you List where the Object[]s are Worker and Long. Or you could also use \"dynamic instantiation\" queries to wrap that up, for example:</p>\n\n<pre><code>select new WorkerTotal( select w, sum(wl.hoursWorked) )\nfrom Worker w join w.workLogs wl\ngroup by w\n</code></pre>\n\n<p>or (depending on need) probably even just:</p>\n\n<pre><code>select new WorkerTotal( select w.id, w.name, sum(wl.hoursWorked) )\nfrom Worker w join w.workLogs wl\ngroup by w.id, w.name\n</code></pre>\n\n<p>WorkerTotal is just a plain class.  It must have matching constructor(s).</p>\n\n<p>2) </p>\n\n<pre><code>select w, new Period( wl.start, wl.hoursWorked )\nfrom Worker w join w.workLogs wl\n</code></pre>\n\n<p>this will return you a result for each row in the WorkLog table...  The <code>new Period(...)</code> bit is called \"dynamic instantiation\" and is used to wrap tuples from the result into objects (easier consumption).</p>\n\n<p>For manipulation and general usage, I recommend StatelessSession as Pascal points out.</p>\n"},{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363905880,"creation_date":1361747709,"answer_id":15057845,"question_id":2761543,"body_markdown":"There are several techniques that may need to be used in conjunction with one another to create and manipulate queries for large data-sets where memory is a limitation:\r\n\r\n 1. Use setFetchSize(some value, maybe 100+) as the default (via JDBC) is 10.\r\n    This is more about performance and is the single biggest related factor thereof.\r\n    Can be done in JPA using queryHint available from provider (Hibernate, etc).\r\n    There does not (for whatever reason) seem to be a JPA `Query.setFetchSize(int)` method.\r\n 2. Do not try to marshall the entire result-set for 10K+ records.\r\n    Several strategies apply: For GUIs, use paging or a framework that does paging. Consider Lucene or commercial searching/indexing engines (Endeca if the company has the money). For sending data somewhere, stream it and flush the buffer every N records to limit how much memory is used. The stream may be flushed to a file, network, etc. Remember that underneath, JPA uses JDBC and JDBC keeps the result-set on the Server, only fetching N-rows in a row-set group at a time. This break-down can be manipulated to facilitate flushing data in groups.\r\n 3. Consider what the use-case is. Typically, an application is trying to answer questions. When the answer is to weed through 10K+ rows, then the design should be reviewed. Again, consider using indexing engines like Lucene, refine the queries, consider using BloomFilters as *contains* check caches to find needles in haystacks without going to the database, etc.\r\n\r\n","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>There are several techniques that may need to be used in conjunction with one another to create and manipulate queries for large data-sets where memory is a limitation:</p>\n\n<ol>\n<li>Use setFetchSize(some value, maybe 100+) as the default (via JDBC) is 10.\nThis is more about performance and is the single biggest related factor thereof.\nCan be done in JPA using queryHint available from provider (Hibernate, etc).\nThere does not (for whatever reason) seem to be a JPA <code>Query.setFetchSize(int)</code> method.</li>\n<li>Do not try to marshall the entire result-set for 10K+ records.\nSeveral strategies apply: For GUIs, use paging or a framework that does paging. Consider Lucene or commercial searching/indexing engines (Endeca if the company has the money). For sending data somewhere, stream it and flush the buffer every N records to limit how much memory is used. The stream may be flushed to a file, network, etc. Remember that underneath, JPA uses JDBC and JDBC keeps the result-set on the Server, only fetching N-rows in a row-set group at a time. This break-down can be manipulated to facilitate flushing data in groups.</li>\n<li>Consider what the use-case is. Typically, an application is trying to answer questions. When the answer is to weed through 10K+ rows, then the design should be reviewed. Again, consider using indexing engines like Lucene, refine the queries, consider using BloomFilters as <em>contains</em> check caches to find needles in haystacks without going to the database, etc.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"score":0,"creation_date":1445753355,"post_id":20787413,"comment_id":54450824,"body_markdown":"setHint method shoing undefined .","body":"setHint method shoing undefined ."}],"tags":[],"owner":{"account_id":115113,"reputation":99,"user_id":3137140,"display_name":"lapsus63"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388072728,"creation_date":1388072728,"answer_id":20787413,"question_id":2761543,"body_markdown":"It seems you can do this with EclipseLink too.\r\nCheck this : http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination :\r\n\r\n    Query query = em.createQuery...\r\n    query.setHint(QueryHints.CURSOR, true)\r\n         .setHint(QueryHints.SCROLLABLE_CURSOR, true)\r\n    ScrollableCursor scrl = (ScrollableCursor)q.getSingleResult();\r\n    Object o = null;\r\n    while ((o = scrl.next()) != null) { ... }\r\n\r\n","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>It seems you can do this with EclipseLink too.\nCheck this : <a href=\"http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination</a> :</p>\n\n<pre><code>Query query = em.createQuery...\nquery.setHint(QueryHints.CURSOR, true)\n     .setHint(QueryHints.SCROLLABLE_CURSOR, true)\nScrollableCursor scrl = (ScrollableCursor)q.getSingleResult();\nObject o = null;\nwhile ((o = scrl.next()) != null) { ... }\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55107,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2761630,"answer_count":6,"score":22,"last_activity_date":1681463313,"creation_date":1272924502,"question_id":2761543,"body_markdown":"I need to make my web-app work with really huge datasets. At the moment I get either OutOfMemoryException or output which is being generated 1-2 minutes.\r\n\r\nLet&#39;s put it simple and suppose that we have 2 tables in DB: `Worker` and `WorkLog` with about 1000 rows in the first one and 10 000 000 rows in the second one. Latter table has several fields including &#39;workerId&#39; and &#39;hoursWorked&#39; fields among others. What we need is:\r\n\r\n 1. count total hours worked by each user; \r\n\r\n 2. list of work periods for each user.\r\n\r\nThe most straightforward approach (IMO) for each task in plain SQL is:\r\n\r\n1) \r\n\r\n    select Worker.name, sum(hoursWorked) from Worker, WorkLog \r\n       where Worker.id = WorkLog.workerId \r\n       group by Worker.name;\r\n\r\n    //results of this query should be transformed to Multimap&lt;Worker, Long&gt;\r\n\r\n2) \r\n\r\n    select Worker.name, WorkLog.start, WorkLog.hoursWorked from Worker, WorkLog\r\n       where Worker.id = WorkLog.workerId;\r\n\r\n    //results of this query should be transformed to Multimap&lt;Worker, Period&gt;\r\n    //if it was JDBC then it would be vitally \r\n    //to set resultSet.setFetchSize (someSmallNumber), ~100\r\n\r\n\r\nSo, I have two questions: \r\n\r\n 1. how to implement each of my approaches with JPA (or at least with Hibernate); \r\n 2. how would you handle this problem (with JPA or Hibernate of course)?\r\n    ","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I need to make my web-app work with really huge datasets. At the moment I get either OutOfMemoryException or output which is being generated 1-2 minutes.</p>\n\n<p>Let's put it simple and suppose that we have 2 tables in DB: <code>Worker</code> and <code>WorkLog</code> with about 1000 rows in the first one and 10 000 000 rows in the second one. Latter table has several fields including 'workerId' and 'hoursWorked' fields among others. What we need is:</p>\n\n<ol>\n<li><p>count total hours worked by each user; </p></li>\n<li><p>list of work periods for each user.</p></li>\n</ol>\n\n<p>The most straightforward approach (IMO) for each task in plain SQL is:</p>\n\n<p>1) </p>\n\n<pre><code>select Worker.name, sum(hoursWorked) from Worker, WorkLog \n   where Worker.id = WorkLog.workerId \n   group by Worker.name;\n\n//results of this query should be transformed to Multimap&lt;Worker, Long&gt;\n</code></pre>\n\n<p>2) </p>\n\n<pre><code>select Worker.name, WorkLog.start, WorkLog.hoursWorked from Worker, WorkLog\n   where Worker.id = WorkLog.workerId;\n\n//results of this query should be transformed to Multimap&lt;Worker, Period&gt;\n//if it was JDBC then it would be vitally \n//to set resultSet.setFetchSize (someSmallNumber), ~100\n</code></pre>\n\n<p>So, I have two questions: </p>\n\n<ol>\n<li>how to implement each of my approaches with JPA (or at least with Hibernate); </li>\n<li>how would you handle this problem (with JPA or Hibernate of course)?</li>\n</ol>\n"},{"tags":["java","jsp","java-8","jstl","jsp-tags"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":2,"creation_date":1423939252,"post_id":28516766,"comment_id":45354831,"body_markdown":"According to the message `Cannot convert 2015-02-14 of type class java.time.LocalDate to class java.util.Date`, the JSTL tag `&lt;fmt:formatDate type=&quot;date&quot;&gt;` does not support  `java.time.LocalDate` which is introduced in Java 8.","body":"According to the message <code>Cannot convert 2015-02-14 of type class java.time.LocalDate to class java.util.Date</code>, the JSTL tag <code>&lt;fmt:formatDate type=&quot;date&quot;&gt;</code> does not support  <code>java.time.LocalDate</code> which is introduced in Java 8."}],"answers":[{"tags":[],"owner":{"account_id":3779010,"reputation":230,"user_id":3138997,"display_name":"user3138997"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1558820969,"creation_date":1423938655,"answer_id":28518806,"question_id":28516766,"body_markdown":"&gt; I&#39;m assuming it&#39;s the conversion?\r\n\r\nYes, it&#39;s a conversion related exception.\r\n\r\n---\r\n# Solution\r\nYou could **first** use the [`&lt;fmt:parseDate&gt;`][1] *action* from the JSTL&#39;s &quot;I18n capable formatting tag library&quot; to do the *conversion* and **then** do the *formatting* with the [`&lt;fmt:formatDate&gt;`][2] *action*.\r\n\r\nHere is an example:\r\n\r\n    &lt;fmt:parseDate  value=&quot;${std.datum}&quot;  type=&quot;date&quot; pattern=&quot;yyyy-MM-dd&quot; var=&quot;parsedDate&quot; /&gt;\r\n    &lt;fmt:formatDate value=&quot;${parsedDate}&quot; type=&quot;date&quot; pattern=&quot;dd.MM.yyyy&quot; var=&quot;stdDatum&quot; /&gt;\r\n\r\n&lt;br&gt;\r\nThis solution is also presented right in the [&quot;JavaServer Pages™ Standard Tag Library (JSTL)&quot;][3] specification *version 1.2* (see page 109). \r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/parseDate.html\r\n  [2]: https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/formatDate.html\r\n  [3]: https://download.oracle.com/otndocs/jcp/jstl-1.2-mrel2-oth-JSpec/","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<blockquote>\n  <p>I'm assuming it's the conversion?</p>\n</blockquote>\n\n<p>Yes, it's a conversion related exception.</p>\n\n<hr>\n\n<h1>Solution</h1>\n\n<p>You could <strong>first</strong> use the <a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/parseDate.html\" rel=\"noreferrer\"><code>&lt;fmt:parseDate&gt;</code></a> <em>action</em> from the JSTL's \"I18n capable formatting tag library\" to do the <em>conversion</em> and <strong>then</strong> do the <em>formatting</em> with the <a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/formatDate.html\" rel=\"noreferrer\"><code>&lt;fmt:formatDate&gt;</code></a> <em>action</em>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>&lt;fmt:parseDate  value=\"${std.datum}\"  type=\"date\" pattern=\"yyyy-MM-dd\" var=\"parsedDate\" /&gt;\n&lt;fmt:formatDate value=\"${parsedDate}\" type=\"date\" pattern=\"dd.MM.yyyy\" var=\"stdDatum\" /&gt;\n</code></pre>\n\n<p><br>\nThis solution is also presented right in the <a href=\"https://download.oracle.com/otndocs/jcp/jstl-1.2-mrel2-oth-JSpec/\" rel=\"noreferrer\">\"JavaServer Pages™ Standard Tag Library (JSTL)\"</a> specification <em>version 1.2</em> (see page 109). </p>\n"},{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681462885,"creation_date":1445876054,"answer_id":33350528,"question_id":28516766,"body_markdown":"This is an old question, but I find it is better to do a custom tld in this case: without any double conversion to and from String.\r\n\r\nDo your own tld file, then override the FormatDate class. Finally, declare your own custom prefix and use custom:formatDate instead of fmt:formatDate.\r\n\r\nhere is a simplified version\r\n\r\nusage in JSP:\r\n\r\n    &lt;%@ taglib uri=&quot;/WEB-INF/custom&quot; prefix=&quot;custom&quot; %&gt;\r\n    ...\r\n    &lt;custom:formatDate value=&quot;${std.datum}&quot; pattern=&quot;dd/MM/yyyy&quot; /&gt;\r\n\r\nWEB-INF/custom.tld file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;tag ib version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_0.xsd&quot;&gt;\r\n\r\n    &lt;tag&gt;\r\n\t\t&lt;description&gt;\r\n\t\t\tFormatDate with java8 type\r\n\t\t&lt;/description&gt;\r\n\t\t&lt;name&gt;formatDate&lt;/name&gt;\r\n\t\t&lt;tag-class&gt;com.custom.tag.FormatDateTag&lt;/tag-class&gt;\r\n\t\t&lt;body-content&gt;empty&lt;/body-content&gt;\r\n\t\t&lt;attribute&gt;\r\n\t\t\t&lt;description&gt;\r\n\t\t\t\tDate and/or time to be formatted.\r\n\t\t\t&lt;/description&gt;\r\n\t\t\t&lt;name&gt;value&lt;/name&gt;\r\n\t\t\t&lt;required&gt;true&lt;/required&gt;\r\n\t\t\t&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\r\n\t\t&lt;/attribute&gt;\r\n\r\n\t\t&lt;attribute&gt;\r\n\t\t\t&lt;description&gt;\r\n\t\t\t\tCustom formatting style for dates and times.\r\n\t\t\t&lt;/description&gt;\r\n\t\t\t&lt;name&gt;pattern&lt;/name&gt;\r\n\t\t\t&lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\r\n\t\t&lt;/attribute&gt;\r\n\t&lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nThen the java class tag file\r\n\r\n\r\n    public class FormatDateTag extends TagSupport  {\r\n    \r\n        protected Temporal value;\r\n        protected String pattern; \r\n        private String var; \r\n        private int scope; \r\n    \r\n        \r\n        public FormatDateTag()\r\n        {\r\n            super ();\r\n            init ();\r\n        }\r\n    \r\n        private void init()\r\n        {\r\n    \r\n            this.pattern = this.var = null;\r\n            this.value = null;\r\n            this.scope = PageContext.PAGE_SCOPE;\r\n        }\r\n    \r\n       \r\n        public void setVar(final String var)\r\n        {\r\n            this.var = var;\r\n        }\r\n    \r\n        public void setScope(final String scope)\r\n        {\r\n            this.scope = Util.getScope (scope);\r\n        }\r\n    \r\n       \r\n        public void setValue(final Temporal value)\r\n        {\r\n            this.value = value;\r\n        }\r\n    \r\n    \r\n        public void setPattern(final String pattern)\r\n        {\r\n            this.pattern = pattern;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int doEndTag() throws JspException\r\n        {\r\n    \r\n            String formatted = null;\r\n    \r\n            if (this.value == null)\r\n            {\r\n                if (this.var != null)\r\n                {\r\n                    this.pageContext.removeAttribute (this.var, this.scope);\r\n                }\r\n                return EVAL_PAGE;\r\n            }\r\n    \r\n            // Create formatter\r\n            if (this.pattern != null)\r\n            {\r\n                final DateTimeFormatter formatter = DateTimeFormatter.ofPattern (this.pattern);\r\n                formatted = formatter.format (this.value);\r\n            }\r\n            else\r\n            {\r\n                // no formatting locale available, use Date.toString()\r\n                formatted = this.value.toString ();\r\n            }\r\n    \r\n            if (this.var != null)\r\n            {\r\n                this.pageContext.setAttribute (this.var, formatted, this.scope);\r\n            }\r\n            else\r\n            {\r\n                try\r\n                {\r\n                    this.pageContext.getOut ().print (formatted);\r\n                }\r\n                catch (final IOException ioe)\r\n                {\r\n                    throw new JspTagException (ioe.toString (), ioe);\r\n                }\r\n            }\r\n    \r\n            return EVAL_PAGE;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void release()\r\n        {\r\n            init ();\r\n        }\r\n    \r\n    }","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>This is an old question, but I find it is better to do a custom tld in this case: without any double conversion to and from String.</p>\n<p>Do your own tld file, then override the FormatDate class. Finally, declare your own custom prefix and use custom:formatDate instead of fmt:formatDate.</p>\n<p>here is a simplified version</p>\n<p>usage in JSP:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/WEB-INF/custom&quot; prefix=&quot;custom&quot; %&gt;\n...\n&lt;custom:formatDate value=&quot;${std.datum}&quot; pattern=&quot;dd/MM/yyyy&quot; /&gt;\n</code></pre>\n<p>WEB-INF/custom.tld file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tag ib version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_0.xsd&quot;&gt;\n\n&lt;tag&gt;\n    &lt;description&gt;\n        FormatDate with java8 type\n    &lt;/description&gt;\n    &lt;name&gt;formatDate&lt;/name&gt;\n    &lt;tag-class&gt;com.custom.tag.FormatDateTag&lt;/tag-class&gt;\n    &lt;body-content&gt;empty&lt;/body-content&gt;\n    &lt;attribute&gt;\n        &lt;description&gt;\n            Date and/or time to be formatted.\n        &lt;/description&gt;\n        &lt;name&gt;value&lt;/name&gt;\n        &lt;required&gt;true&lt;/required&gt;\n        &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n\n    &lt;attribute&gt;\n        &lt;description&gt;\n            Custom formatting style for dates and times.\n        &lt;/description&gt;\n        &lt;name&gt;pattern&lt;/name&gt;\n        &lt;required&gt;false&lt;/required&gt;\n        &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n&lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Then the java class tag file</p>\n<pre><code>public class FormatDateTag extends TagSupport  {\n\n    protected Temporal value;\n    protected String pattern; \n    private String var; \n    private int scope; \n\n    \n    public FormatDateTag()\n    {\n        super ();\n        init ();\n    }\n\n    private void init()\n    {\n\n        this.pattern = this.var = null;\n        this.value = null;\n        this.scope = PageContext.PAGE_SCOPE;\n    }\n\n   \n    public void setVar(final String var)\n    {\n        this.var = var;\n    }\n\n    public void setScope(final String scope)\n    {\n        this.scope = Util.getScope (scope);\n    }\n\n   \n    public void setValue(final Temporal value)\n    {\n        this.value = value;\n    }\n\n\n    public void setPattern(final String pattern)\n    {\n        this.pattern = pattern;\n    }\n\n\n    @Override\n    public int doEndTag() throws JspException\n    {\n\n        String formatted = null;\n\n        if (this.value == null)\n        {\n            if (this.var != null)\n            {\n                this.pageContext.removeAttribute (this.var, this.scope);\n            }\n            return EVAL_PAGE;\n        }\n\n        // Create formatter\n        if (this.pattern != null)\n        {\n            final DateTimeFormatter formatter = DateTimeFormatter.ofPattern (this.pattern);\n            formatted = formatter.format (this.value);\n        }\n        else\n        {\n            // no formatting locale available, use Date.toString()\n            formatted = this.value.toString ();\n        }\n\n        if (this.var != null)\n        {\n            this.pageContext.setAttribute (this.var, formatted, this.scope);\n        }\n        else\n        {\n            try\n            {\n                this.pageContext.getOut ().print (formatted);\n            }\n            catch (final IOException ioe)\n            {\n                throw new JspTagException (ioe.toString (), ioe);\n            }\n        }\n\n        return EVAL_PAGE;\n    }\n\n\n    @Override\n    public void release()\n    {\n        init ();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5098703,"reputation":1,"user_id":4089073,"display_name":"user4089073"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592436246,"creation_date":1592436246,"answer_id":62439923,"question_id":28516766,"body_markdown":"I wanted to avoid changing all the places where &amp;lt;fmt:formatDate/&amp;gt; where used, so I created the following two classes in stead:\r\n\r\nFirst, a converter to convert (some of) the java.time classes. It checks that java.util.Date is the target type, if not, it does nothing. It supports source time as java.util.Date (including java.sql.Timestamp and java.sql.Date), LocalDate, LocalDateTime, ZonedDateTime, Instant or Long (time in millis).\r\n\r\n    package com.example.elresolvers;\r\n    \r\n    import javax.el.ELContext;\r\n    import javax.el.TypeConverter;\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    \r\n    @SuppressWarnings(&quot;UseOfObsoleteDateTimeApi&quot;)\r\n    public class DateFromJavaTimeResolver extends TypeConverter {\r\n        @Override\r\n        public Object convertToType(ELContext context, Object obj, Class&lt;?&gt; type) {\r\n            Date date = null;\r\n            if (Date.class.isAssignableFrom(type)) {\r\n                if (obj instanceof Date) {\r\n                    date = (Date) obj;\r\n                } else {\r\n                    ZonedDateTime zdt = null;\r\n                    if (obj instanceof LocalDate) {\r\n                        zdt = ((LocalDate) obj).atStartOfDay(ZoneId.systemDefault());\r\n                    } else if (obj instanceof LocalDateTime) {\r\n                        zdt = ((LocalDateTime) obj).atZone(ZoneId.systemDefault());\r\n                    } else if (obj instanceof ZonedDateTime) {\r\n                        zdt = (ZonedDateTime) obj;\r\n                    } else if (obj instanceof Instant) {\r\n                        date = Date.from((Instant) obj);\r\n                    } else if (obj instanceof Long) {\r\n                        date = new Date((Long) obj);\r\n                    }\r\n                    if (zdt != null) {\r\n                        date = Date.from(zdt.toInstant());\r\n                    }\r\n                }\r\n                context.setPropertyResolved(date != null);\r\n            }\r\n            return date;\r\n        }\r\n    }\r\n\r\nNext, a ServletContextListener class to register the converter for use with JSP:\r\n\r\n    package com.example.web;\r\n    \r\n    import com.example.elresolvers.DateFromJavaTimeResolver;\r\n    \r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.jsp.JspApplicationContext;\r\n    import javax.servlet.jsp.JspFactory;\r\n    \r\n    public class JspElResolverInitListener implements ServletContextListener {\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            ServletContext servletContext = sce.getServletContext();\r\n            JspApplicationContext context = JspFactory.getDefaultFactory().getJspApplicationContext(servletContext);\r\n            context.addELResolver(new DateFromJavaTimeResolver());\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n        }\r\n    }\r\n\r\nFinally, an entry in web.xml (if you are not using annotations or other means):\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.example.web.JspElResolverInitListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>I wanted to avoid changing all the places where &lt;fmt:formatDate/&gt; where used, so I created the following two classes in stead:</p>\n\n<p>First, a converter to convert (some of) the java.time classes. It checks that java.util.Date is the target type, if not, it does nothing. It supports source time as java.util.Date (including java.sql.Timestamp and java.sql.Date), LocalDate, LocalDateTime, ZonedDateTime, Instant or Long (time in millis).</p>\n\n<pre><code>package com.example.elresolvers;\n\nimport javax.el.ELContext;\nimport javax.el.TypeConverter;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\n\n@SuppressWarnings(\"UseOfObsoleteDateTimeApi\")\npublic class DateFromJavaTimeResolver extends TypeConverter {\n    @Override\n    public Object convertToType(ELContext context, Object obj, Class&lt;?&gt; type) {\n        Date date = null;\n        if (Date.class.isAssignableFrom(type)) {\n            if (obj instanceof Date) {\n                date = (Date) obj;\n            } else {\n                ZonedDateTime zdt = null;\n                if (obj instanceof LocalDate) {\n                    zdt = ((LocalDate) obj).atStartOfDay(ZoneId.systemDefault());\n                } else if (obj instanceof LocalDateTime) {\n                    zdt = ((LocalDateTime) obj).atZone(ZoneId.systemDefault());\n                } else if (obj instanceof ZonedDateTime) {\n                    zdt = (ZonedDateTime) obj;\n                } else if (obj instanceof Instant) {\n                    date = Date.from((Instant) obj);\n                } else if (obj instanceof Long) {\n                    date = new Date((Long) obj);\n                }\n                if (zdt != null) {\n                    date = Date.from(zdt.toInstant());\n                }\n            }\n            context.setPropertyResolved(date != null);\n        }\n        return date;\n    }\n}\n</code></pre>\n\n<p>Next, a ServletContextListener class to register the converter for use with JSP:</p>\n\n<pre><code>package com.example.web;\n\nimport com.example.elresolvers.DateFromJavaTimeResolver;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.jsp.JspApplicationContext;\nimport javax.servlet.jsp.JspFactory;\n\npublic class JspElResolverInitListener implements ServletContextListener {\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        ServletContext servletContext = sce.getServletContext();\n        JspApplicationContext context = JspFactory.getDefaultFactory().getJspApplicationContext(servletContext);\n        context.addELResolver(new DateFromJavaTimeResolver());\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n    }\n}\n</code></pre>\n\n<p>Finally, an entry in web.xml (if you are not using annotations or other means):</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.example.web.JspElResolverInitListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635075765,"creation_date":1635075765,"answer_id":69696397,"question_id":28516766,"body_markdown":"Java:\r\n\r\n    public class DateTimeUtil {\r\n        private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n\r\n        public static String toString(LocalDateTime ldt) {\r\n            return ldt.format(DATE_FORMATTER);\r\n        }\r\n\r\nJSP:\r\n\r\n    &lt;%@ page import=&quot;ru.javaops.topjava.util.DateTimeUtil&quot; %&gt;\r\n    ...\r\n    &lt;%=DateTimeUtil.toString(std.getDatum())%&gt;","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>Java:</p>\n<pre><code>public class DateTimeUtil {\n    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    public static String toString(LocalDateTime ldt) {\n        return ldt.format(DATE_FORMATTER);\n    }\n</code></pre>\n<p>JSP:</p>\n<pre><code>&lt;%@ page import=&quot;ru.javaops.topjava.util.DateTimeUtil&quot; %&gt;\n...\n&lt;%=DateTimeUtil.toString(std.getDatum())%&gt;\n</code></pre>\n"}],"owner":{"account_id":4161573,"reputation":125,"user_id":3411565,"accept_rate":33,"display_name":"user3411565"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10048,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1681462885,"creation_date":1423925330,"question_id":28516766,"body_markdown":"I haven&#39;t been able to figure out how to display a `java.time.LocalDate` value in a JSP.\r\n\r\nIn my JSP, I have this:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;fmt:formatDate value=&quot;${std.datum}&quot; type=&quot;date&quot; pattern=&quot;dd.MM.yyyy&quot; var=&quot;stdDatum&quot; /&gt;\r\n\r\n&lt;br&gt;\r\nThe `std.datum` is of type [java.time.LocalDate][1]. When rendering the JSP I get this exception:\r\n\r\n&gt; javax.el.ELException:  \r\n&gt; Cannot convert 2015-02-14 of type class\r\n&gt; java.time.LocalDate to class java.util.Date\r\n\r\n\r\nI&#39;m assuming it&#39;s the conversion?\r\n\r\nSo is it possible to format an instance of *LocalDate* class with `&lt;fmr:formatDate&gt;` action?\r\n  \r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>I haven't been able to figure out how to display a <code>java.time.LocalDate</code> value in a JSP.</p>\n\n<p>In my JSP, I have this:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;fmt:formatDate value=\"${std.datum}\" type=\"date\" pattern=\"dd.MM.yyyy\" var=\"stdDatum\" /&gt;\n</code></pre>\n\n<p><br>\nThe <code>std.datum</code> is of type <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">java.time.LocalDate</a>. When rendering the JSP I get this exception:</p>\n\n<blockquote>\n  <p>javax.el.ELException:<br>\n  Cannot convert 2015-02-14 of type class\n  java.time.LocalDate to class java.util.Date</p>\n</blockquote>\n\n<p>I'm assuming it's the conversion?</p>\n\n<p>So is it possible to format an instance of <em>LocalDate</em> class with <code>&lt;fmr:formatDate&gt;</code> action?</p>\n"},{"tags":["java","jsoup"],"owner":{"account_id":19609121,"reputation":11,"user_id":14352015,"display_name":"CHRIS G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681462655,"creation_date":1681462365,"question_id":76013236,"body_markdown":"I&#39;m pretty new to Java and trying to learn how to crawl from a website. I&#39;m crawling a top 100 bestselling books from Barnes &amp; noble.\r\n\r\nI managed myself to crawl the top 1 title from its web, but when I&#39;m trying to make it into a for loop to crawl all the titles, I cannot do it. It all just gives out blank output.\r\n\r\n```java\r\nString url = &quot;https://www.barnesandnoble.com/b/books/_/N-1fZ29Z8q8&quot;;\r\nDocument doc = null;\r\ntry {\r\n    doc = Jsoup.connect(url).get();\r\n} catch ( Exception e) {\r\n    e.printStackTrace();\r\n}\r\n// System.out.println(doc);\r\nElement top100 = doc.select(&quot;.text&quot;).first();\r\nSystem.out.println(top100.text());\r\nElements bookList = doc.select(&quot;ol.product-shelf-list product-list-view &gt; li&quot;);\r\nfor(Element book : bookList) {\r\n    Element titleElement = book.select(&quot;.row topX-row &gt; div.product-info-view &gt; div.product-shelf-title &gt; .product-info-view&quot;).first();\r\n    String title = titleElement.text();\r\n    System.out.println(title);\r\n}\r\n// Element title = doc.select(&quot;.product-info-title&quot;).first();\r\n// System.out.println(title.text());\r\n```\r\n\r\nThe bottom two lines print the first book title &#39;The Great Awakening (10/15/2020)&#39; with no problem, but in a for loop, I can&#39;t print any of the titles.\r\n\r\nI noticed that titles are located like this:\r\n\r\n```html\r\n&lt;ol class=&quot;product-shelf-list product-list-view&quot;&gt;\r\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 1\r\n      &lt;div class=&quot;row topX-row&quot;&gt;\r\n         &lt;div class=&quot;product-info-view&quot;&gt;\r\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\r\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\r\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 2\r\n      &lt;div class=&quot;row topX-row&quot;&gt;\r\n         &lt;div class=&quot;product-info-view&quot;&gt;\r\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\r\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\r\n```\r\n\r\nand so on. I&#39;m trying to use my loop to get to the h3 for every book.\r\n\r\nI tried different ways to doc.select(....), ran with only .product-info-title in there move li here and there I don&#39;t know. I&#39;m just lost with how this thing works. They all just gave me blank outputs besides my B&amp;N Top 100: Book Bestsellers from printing out top100.","title":"How to for loop through titles of books in website","body":"<p>I'm pretty new to Java and trying to learn how to crawl from a website. I'm crawling a top 100 bestselling books from Barnes &amp; noble.</p>\n<p>I managed myself to crawl the top 1 title from its web, but when I'm trying to make it into a for loop to crawl all the titles, I cannot do it. It all just gives out blank output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url = &quot;https://www.barnesandnoble.com/b/books/_/N-1fZ29Z8q8&quot;;\nDocument doc = null;\ntry {\n    doc = Jsoup.connect(url).get();\n} catch ( Exception e) {\n    e.printStackTrace();\n}\n// System.out.println(doc);\nElement top100 = doc.select(&quot;.text&quot;).first();\nSystem.out.println(top100.text());\nElements bookList = doc.select(&quot;ol.product-shelf-list product-list-view &gt; li&quot;);\nfor(Element book : bookList) {\n    Element titleElement = book.select(&quot;.row topX-row &gt; div.product-info-view &gt; div.product-shelf-title &gt; .product-info-view&quot;).first();\n    String title = titleElement.text();\n    System.out.println(title);\n}\n// Element title = doc.select(&quot;.product-info-title&quot;).first();\n// System.out.println(title.text());\n</code></pre>\n<p>The bottom two lines print the first book title 'The Great Awakening (10/15/2020)' with no problem, but in a for loop, I can't print any of the titles.</p>\n<p>I noticed that titles are located like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ol class=&quot;product-shelf-list product-list-view&quot;&gt;\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 1\n      &lt;div class=&quot;row topX-row&quot;&gt;\n         &lt;div class=&quot;product-info-view&quot;&gt;\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 2\n      &lt;div class=&quot;row topX-row&quot;&gt;\n         &lt;div class=&quot;product-info-view&quot;&gt;\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\n</code></pre>\n<p>and so on. I'm trying to use my loop to get to the h3 for every book.</p>\n<p>I tried different ways to doc.select(....), ran with only .product-info-title in there move li here and there I don't know. I'm just lost with how this thing works. They all just gave me blank outputs besides my B&amp;N Top 100: Book Bestsellers from printing out top100.</p>\n"},{"tags":["java","spring","spring-boot","solr"],"comments":[{"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1679374427,"post_id":75791013,"comment_id":133706055,"body_markdown":"Please share more details e.g., schema design, code snippet etc.","body":"Please share more details e.g., schema design, code snippet etc."},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679383983,"post_id":75791013,"comment_id":133707347,"body_markdown":"question edited with asked details, please check and let me know if you need more details","body":"question edited with asked details, please check and let me know if you need more details"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681462618,"creation_date":1679319766,"question_id":75791013,"body_markdown":"I have class called employee and it contains address object,\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SolrDocument(collection =&quot;Employee&quot; )\r\n    public class Employee {\r\n \r\n\t@Indexed\r\n\tprivate String name;\r\n\t@Indexed\r\n\t@Id\r\n\tprivate String id;\r\n\t@Indexed\r\n\tprivate List&lt;Address&gt; address;\r\n    }\r\n\r\n\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class Address {\r\n\r\n\tprivate String addressLine;\r\n\tprivate String zipcode;\r\n\tprivate String State;\r\n\tprivate String country;\r\n    }\r\n\r\nwhen I try to get the employee details from Apache solr, it giving the address object data with full qualified name(along with package and class name) as shown below. Let me know how to get only address out of it.\r\n\r\n    {\r\n    &quot;name&quot;: &quot;employee1&quot;,\r\n    &quot;id&quot;: &quot;1&quot;,\r\n    &quot;address&quot;: [\r\n        &quot;com.apachesolr.sample.application.model.Address:Address(addressLine=xyz street, zipcode=12345, State=AP, country=India)&quot;\r\n    ]\r\n} \r\n\r\nI tried indexing the data from spring boot application using solrCrudRepository it indexed fine.but when I try to retrieve it. It giving the documents along with qualified name of the document. I have used managed schema that will be created automatically when creating the core.","title":"How to store nested objects in Apache solr from spring boot application","body":"<p>I have class called employee and it contains address object,</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@SolrDocument(collection =&quot;Employee&quot; )\npublic class Employee {\n\n@Indexed\nprivate String name;\n@Indexed\n@Id\nprivate String id;\n@Indexed\nprivate List&lt;Address&gt; address;\n}\n\n\n@NoArgsConstructor\n@Data\npublic class Address {\n\nprivate String addressLine;\nprivate String zipcode;\nprivate String State;\nprivate String country;\n}\n</code></pre>\n<p>when I try to get the employee details from Apache solr, it giving the address object data with full qualified name(along with package and class name) as shown below. Let me know how to get only address out of it.</p>\n<pre><code>{\n&quot;name&quot;: &quot;employee1&quot;,\n&quot;id&quot;: &quot;1&quot;,\n&quot;address&quot;: [\n    &quot;com.apachesolr.sample.application.model.Address:Address(addressLine=xyz street, zipcode=12345, State=AP, country=India)&quot;\n]\n</code></pre>\n<p>}</p>\n<p>I tried indexing the data from spring boot application using solrCrudRepository it indexed fine.but when I try to retrieve it. It giving the documents along with qualified name of the document. I have used managed schema that will be created automatically when creating the core.</p>\n"},{"tags":["java","spring-boot","jpa","eclipselink","mssql-jdbc"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681387081,"post_id":76005056,"comment_id":134049913,"body_markdown":"What exactly doesn&#39;t work? Apart from the in-CAPS-written-variables, everything looks fine to me on a first glance. Can you further elaborate?","body":"What exactly doesn&#39;t work? Apart from the in-CAPS-written-variables, everything looks fine to me on a first glance. Can you further elaborate?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681387384,"post_id":76005056,"comment_id":134049996,"body_markdown":"@Z-100  I have no method to store the generated UUID into the trigger table. I have only completed the part to store the UUID into the input table.  I need help with storing the UUID generated also into the trigger table.","body":"@Z-100  I have no method to store the generated UUID into the trigger table. I have only completed the part to store the UUID into the input table.  I need help with storing the UUID generated also into the trigger table."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681387619,"post_id":76005056,"comment_id":134050056,"body_markdown":"That should be done automatically by JPA. Is there any error stating it&#39;s not possible to safe GKZ, because of an unsaved entity? Did you ever check your database?","body":"That should be done automatically by JPA. Is there any error stating it&#39;s not possible to safe GKZ, because of an unsaved entity? Did you ever check your database?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681390779,"post_id":76005056,"comment_id":134050879,"body_markdown":"@Z-100 Thank you for your quick responses, I have posted the solution to my task, I was able to solve it. :D","body":"@Z-100 Thank you for your quick responses, I have posted the solution to my task, I was able to solve it. :D"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681392258,"post_id":76005056,"comment_id":134051279,"body_markdown":"No problem :) Happy I could assist!","body":"No problem :) Happy I could assist!"}],"answers":[{"tags":[],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681390710,"creation_date":1681390710,"answer_id":76005720,"question_id":76005056,"body_markdown":"I updated my ServiceImplementation class.\r\n\r\n```\r\n\r\n\t@Override\r\n\tpublic GKZ saveGKZ(GKZ GKZ) {\r\n\r\n\t\t//Generate random UUID\r\n\t\tUUID uuid=UUID.randomUUID();  \r\n\t\tGKZ.setuid(uuid);\r\n\t\t\r\n\t\tGKZtrigger gkZtrigger = new GKZtrigger();\r\n\t\tgkZtrigger.setuid(uuid);\r\n\t\t\r\n\t\tgRepository.save(GKZ);\r\n\t\ttRepository.save(gkZtrigger);\r\n\t\treturn GKZ;\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nTurns out, just creating an instance and then calling the Repository works !","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>I updated my ServiceImplementation class.</p>\n<pre><code>\n    @Override\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n        \n        GKZtrigger gkZtrigger = new GKZtrigger();\n        gkZtrigger.setuid(uuid);\n        \n        gRepository.save(GKZ);\n        tRepository.save(gkZtrigger);\n        return GKZ;\n        \n    }\n\n</code></pre>\n<p>Turns out, just creating an instance and then calling the Repository works !</p>\n"},{"comments":[{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681414993,"post_id":76005759,"comment_id":134056917,"body_markdown":"Thank You! I have added my solution to this question too :D","body":"Thank You! I have added my solution to this question too :D"}],"tags":[],"owner":{"account_id":6872920,"reputation":31,"user_id":5282496,"display_name":"Michael G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681462527,"creation_date":1681390889,"answer_id":76005759,"question_id":76005056,"body_markdown":"Off the top of my head, you have to save it to GKZTriggerRepository similar to how you save GKZ entity.\r\n\r\n    @Service\r\n    public class GKZServiceImpl implements GKZService {\r\n     \r\n        @Autowired\r\n        private GKZInputRepository gRepository;\r\n\r\n        @Autowired\r\n        private GKZTriggerRepository gkzTriggerRepository;\r\n\r\n        @Override\r\n        @Transactional // either everything stored to DB or nothing\r\n        public GKZ saveGKZ(GKZ GKZ) {\r\n\r\n            //Generate random UUID\r\n            UUID uuid=UUID.randomUUID();  \r\n            GKZ.setuid(uuid);\r\n        \r\n            gRepository.save(GKZ);\r\n\r\n            GKZtrigger gkzTrigger = new GKZtrigger();\r\n            gkzTrigger.setuid(uuid);\r\n\r\n            gkzTriggerRepository.save(gkzTrigger);\r\n        \r\n            return GKZ;\r\n        }\r\n    }\r\n    \r\n\r\n**OR** reference the GKZtrigger entity from the GKZ entity\r\n\r\n    ...\r\n\r\n    @Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\r\n    public class GKZ {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n        ...\r\n\r\n        @OneToOne\r\n        private GKZtrigger gkzTrigger;\r\n\r\n        ...\r\n\r\n        public GKZtrigger getGkzTrigger() {\r\n            return this.gkzTrigger;\r\n        }\r\n\r\n        public void setGkzTrigger(GKZtrigger gkzTrigger) {\r\n            this.gkzTrigger = gkzTrigger;\r\n        }\r\n\r\n        ...\r\n\r\n    }\r\n\r\nthen you would set GKZtrigger to GKZ entity and JPA will save both for you\r\n\r\n    ...\r\n\r\n    @Override\r\n    public GKZ saveGKZ(GKZ GKZ) {\r\n\r\n        //Generate random UUID\r\n        UUID uuid=UUID.randomUUID();  \r\n        GKZ.setuid(uuid);\r\n\r\n        GKZtrigger gkzTrigger = new GKZtrigger();\r\n        gkzTrigger.setuid(uuid);\r\n\r\n        GKZ.setGkzTrigger(gkzTrigger);\r\n\r\n        gRepository.save(GKZ); // JPA will save both entities\r\n        \r\n        return GKZ;\r\n    }\r\n\r\n    ...\r\n\r\nAnd you also have to add \r\n\r\n    @OneToOne(mappedBy = &quot;gkzTrigger&quot;)\r\n    private GKZ gkz\r\n\r\nfield to GKZtrigger class so JPA can figure both sides of the relationaship.\r\n\r\nIf you go down this path I suggest you google &quot;JPA one to one&quot; an read an article at Baeldung (should be the first result). When you got that down, there are also @OneToMany @ManyToOne and @ManyToMany annotations. When your JPA code works, explore the database and see what tables being created and how they relate.\r\n\r\n\r\n","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>Off the top of my head, you have to save it to GKZTriggerRepository similar to how you save GKZ entity.</p>\n<pre><code>@Service\npublic class GKZServiceImpl implements GKZService {\n \n    @Autowired\n    private GKZInputRepository gRepository;\n\n    @Autowired\n    private GKZTriggerRepository gkzTriggerRepository;\n\n    @Override\n    @Transactional // either everything stored to DB or nothing\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n    \n        gRepository.save(GKZ);\n\n        GKZtrigger gkzTrigger = new GKZtrigger();\n        gkzTrigger.setuid(uuid);\n\n        gkzTriggerRepository.save(gkzTrigger);\n    \n        return GKZ;\n    }\n}\n</code></pre>\n<p><strong>OR</strong> reference the GKZtrigger entity from the GKZ entity</p>\n<pre><code>...\n\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\npublic class GKZ {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    ...\n\n    @OneToOne\n    private GKZtrigger gkzTrigger;\n\n    ...\n\n    public GKZtrigger getGkzTrigger() {\n        return this.gkzTrigger;\n    }\n\n    public void setGkzTrigger(GKZtrigger gkzTrigger) {\n        this.gkzTrigger = gkzTrigger;\n    }\n\n    ...\n\n}\n</code></pre>\n<p>then you would set GKZtrigger to GKZ entity and JPA will save both for you</p>\n<pre><code>...\n\n@Override\npublic GKZ saveGKZ(GKZ GKZ) {\n\n    //Generate random UUID\n    UUID uuid=UUID.randomUUID();  \n    GKZ.setuid(uuid);\n\n    GKZtrigger gkzTrigger = new GKZtrigger();\n    gkzTrigger.setuid(uuid);\n\n    GKZ.setGkzTrigger(gkzTrigger);\n\n    gRepository.save(GKZ); // JPA will save both entities\n    \n    return GKZ;\n}\n\n...\n</code></pre>\n<p>And you also have to add</p>\n<pre><code>@OneToOne(mappedBy = &quot;gkzTrigger&quot;)\nprivate GKZ gkz\n</code></pre>\n<p>field to GKZtrigger class so JPA can figure both sides of the relationaship.</p>\n<p>If you go down this path I suggest you google &quot;JPA one to one&quot; an read an article at Baeldung (should be the first result). When you got that down, there are also @OneToMany @ManyToOne and @ManyToMany annotations. When your JPA code works, explore the database and see what tables being created and how they relate.</p>\n"}],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681462527,"creation_date":1681386511,"question_id":76005056,"body_markdown":"I am new to springboot and would really appreciate some help. My task is as follows:\r\n\r\n1. Insert &amp; store Json data into Input Table (using eclipselink)\r\nOne of the datain this table is an UUID which is randomly generated in Service Implementation.\r\n\r\n2.The UUID generated by the ServiceImplementation.class is then stored in a Trigger Table.\r\n\r\nI need help with storing the UUID into the Trigger Table as I can&#39;t find a suitable method online. \r\n\r\nNote: I have a repository class for both Entities. \r\n\r\nIf you need me to add any other additional code snippets please do let me know. Thanks in advance!\r\n\r\nController.java\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Controller;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\nimport de.cibplus.cibplusngvdpGKZ.Service.GKZService;\r\n\r\n\r\n\r\n@RestController //@Controller + @ResponseBody\r\npublic class GKZController {\r\n\t\r\n\t@Autowired\r\n\tprivate GKZService gService;\r\n\t\r\n\t\r\n\t\r\n\t//Save Input data\r\n\t\t@PostMapping(&quot;/gkz&quot;)\r\n\t\tpublic  ResponseEntity&lt;GKZ&gt; saveGKZ(@RequestBody GKZ GKZ) {\r\n\t\tGKZ gkz = gService.saveGKZ(GKZ);\r\n\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(gkz) ;\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\nInput.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Model;\r\n\r\nimport java.math.BigInteger;\r\nimport java.time.LocalDate;\r\n//import java.util.Date;\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\nimport org.eclipse.persistence.annotations.UuidGenerator;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity\r\n\r\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\r\npublic class GKZ {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    \r\n\t    @Column(name=&quot;ID&quot;)\r\n\t    private Integer ID;\r\n\t    \r\n\t    @Column(name=&quot;stichtag&quot;)\r\n\t\tprivate LocalDate stichtag;\r\n\t    \r\n\t    @Column(name=&quot;refstreet&quot;)\r\n\t\tprivate String refstreet;\r\n\t    \r\n\t    @Column(name=&quot;hnr&quot;)\r\n\t\tprivate String hnr;\r\n\t    \r\n\t    @Column(name=&quot;street&quot;)\r\n\t\tprivate String street;\r\n\t    \r\n\t    @Column(name=&quot;city&quot;)\r\n\t\tprivate String city;\r\n\t    \r\n\t    @Column(name=&quot;zipcode&quot;)\r\n\t\tprivate String zipcode;\r\n\t\r\n\t    @Column(name=&quot;objecttype_id&quot;)\r\n\t    private Integer objecttypeId;\r\n\t\t\r\n\t    @Column(name=&quot;client_id&quot;)\r\n\t    private String client_id;\r\n\t\t\r\n\t    @Column(name=&quot;valuation_id&quot;)\r\n\t    private BigInteger valuation_id;\r\n\t    \r\n\r\n\t\t\r\n\t\t\r\n\t    @Column(name=&quot;uid&quot;)\r\n\t    private UUID uid;\r\n\t    \r\n\t    public LocalDate getstichtag() {\r\n\t\t\t return stichtag;\r\n\t\t }\r\n\t\t\r\n\r\n\t\tpublic void setstichtag(LocalDate stichtag) {\r\n\t\t      this.stichtag = stichtag;\r\n\t\t   }\r\n\r\n\t\t \r\n\t\t public String getrefstreet() {\r\n\t\t\t return refstreet;\r\n\t\t }\r\n\t\t \r\n\t\t public void setrefstreet(String refstreet) {\r\n\t\t      this.refstreet = refstreet;\r\n\t\t   }\r\n\t\t \r\n\t\t public String gethnr() {\r\n\t\t\t return hnr;\r\n\t\t }\r\n\t\t \r\n\t\t public void sethnr(String hnr) {\r\n\t\t      this.hnr = hnr;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getstreet() {\r\n\t\t\t return street;\r\n\t\t }\r\n\t\t \r\n\t\t public void setstreet(String street) {\r\n\t\t      this.street = street;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getcity() {\r\n\t\t\t return city;\r\n\t\t }\r\n\t\t \r\n\t\t public void setcity(String city) {\r\n\t\t      this.city = city;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getzipcode() {\r\n\t\t\t return zipcode;\r\n\t\t }\r\n\t\t \r\n\t\t public void setzipcode(String zipcode) {\r\n\t\t      this.zipcode = zipcode;\r\n\t\t   }\r\n\t\t \r\n\t\t public Integer getobjecttypeId() {\r\n\t\t\t return objecttypeId;\r\n\t\t }\r\n\t\t \r\n\t\t public void setobjecttype_id(Integer objecttypeId) {\r\n\t\t      this.objecttypeId = objecttypeId;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getclient_id() {\r\n\t\t\t return client_id;\r\n\t\t }\r\n\t\t \r\n\t\t public void setclient_id(String client_id) {\r\n\t\t      this.client_id = client_id;\r\n\t\t   }\r\n\t\t \r\n\t\t public BigInteger getvaluation_id() {\r\n\t\t\t return valuation_id;\r\n\t\t }\r\n\t\t \r\n\t\t public void setvaluation_id(BigInteger valuation_id) {\r\n\t\t      this.valuation_id = valuation_id;\r\n\t\t   }\r\n\t\t \r\n\t\t public UUID getuid() {\r\n\t\t\t return uid;\r\n\t\t }\r\n\t\t \r\n\t\t public void setuid(UUID uid) {\r\n\t\t      this.uid = uid;\r\n\t\t   }\r\n\t\t \r\n\t\t public Integer getID() {\r\n\t\t\t return ID;\r\n\t\t }\r\n\t\t \r\n\t\t public void setID(Integer ID) {\r\n\t\t      this.ID = ID;\r\n\t\t   }\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nTrigger.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Model;\r\n\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity\r\n@Table(name= &quot;T_CIB_CIBp_uid&quot;)\r\npublic class GKZtrigger {\r\n\t\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;ID&quot;)\r\n    private Integer ID;\r\n \r\n    \r\n    @Column(name=&quot;uid&quot;)\r\n    private UUID uid;\r\n    \r\n    public UUID getuid() {\r\n\t\t return uid;\r\n\t }\r\n\t \r\n\t public void setuid(UUID uid) {\r\n\t      this.uid = uid;\r\n\t   }\r\n\r\n\tpublic Integer getID() {\r\n\t\treturn ID;\r\n\t}\r\n\r\n\tpublic void setID(Integer iD) {\r\n\t\tID = iD;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nService.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\n\r\n\r\n\r\npublic interface GKZService {\r\n\t\r\n\t\r\n\r\n\tGKZ saveGKZ(GKZ GKZ);\r\n\t\r\n\t\r\n}\r\n\r\n```\r\nServiceImplementation.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZInputRepository;\r\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZTriggerRepository;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Service.*;\r\n\r\n\r\n@Service\r\npublic class GKZServiceImpl implements GKZService {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate GKZInputRepository gRepository;\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic GKZ saveGKZ(GKZ GKZ) {\r\n\r\n\t\t//Generate random UUID\r\n\t\tUUID uuid=UUID.randomUUID();  \r\n\t\tGKZ.setuid(uuid);\r\n\t\t\r\n\t\tgRepository.save(GKZ);\r\n\t\t\r\n\t\treturn GKZ;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n\r\n\r\n```","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>I am new to springboot and would really appreciate some help. My task is as follows:</p>\n<ol>\n<li>Insert &amp; store Json data into Input Table (using eclipselink)\nOne of the datain this table is an UUID which is randomly generated in Service Implementation.</li>\n</ol>\n<p>2.The UUID generated by the ServiceImplementation.class is then stored in a Trigger Table.</p>\n<p>I need help with storing the UUID into the Trigger Table as I can't find a suitable method online.</p>\n<p>Note: I have a repository class for both Entities.</p>\n<p>If you need me to add any other additional code snippets please do let me know. Thanks in advance!</p>\n<p>Controller.java</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Controller;\n\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\nimport de.cibplus.cibplusngvdpGKZ.Service.GKZService;\n\n\n\n@RestController //@Controller + @ResponseBody\npublic class GKZController {\n    \n    @Autowired\n    private GKZService gService;\n    \n    \n    \n    //Save Input data\n        @PostMapping(&quot;/gkz&quot;)\n        public  ResponseEntity&lt;GKZ&gt; saveGKZ(@RequestBody GKZ GKZ) {\n        GKZ gkz = gService.saveGKZ(GKZ);\n        return ResponseEntity.status(HttpStatus.CREATED).body(gkz) ;\n            \n        }\n    \n    \n    }\n    \n\n}\n\n</code></pre>\n<p>Input.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Model;\n\nimport java.math.BigInteger;\nimport java.time.LocalDate;\n//import java.util.Date;\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport org.eclipse.persistence.annotations.UuidGenerator;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Setter\n@Getter\n@ToString\n@Entity\n\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\npublic class GKZ {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        \n        @Column(name=&quot;ID&quot;)\n        private Integer ID;\n        \n        @Column(name=&quot;stichtag&quot;)\n        private LocalDate stichtag;\n        \n        @Column(name=&quot;refstreet&quot;)\n        private String refstreet;\n        \n        @Column(name=&quot;hnr&quot;)\n        private String hnr;\n        \n        @Column(name=&quot;street&quot;)\n        private String street;\n        \n        @Column(name=&quot;city&quot;)\n        private String city;\n        \n        @Column(name=&quot;zipcode&quot;)\n        private String zipcode;\n    \n        @Column(name=&quot;objecttype_id&quot;)\n        private Integer objecttypeId;\n        \n        @Column(name=&quot;client_id&quot;)\n        private String client_id;\n        \n        @Column(name=&quot;valuation_id&quot;)\n        private BigInteger valuation_id;\n        \n\n        \n        \n        @Column(name=&quot;uid&quot;)\n        private UUID uid;\n        \n        public LocalDate getstichtag() {\n             return stichtag;\n         }\n        \n\n        public void setstichtag(LocalDate stichtag) {\n              this.stichtag = stichtag;\n           }\n\n         \n         public String getrefstreet() {\n             return refstreet;\n         }\n         \n         public void setrefstreet(String refstreet) {\n              this.refstreet = refstreet;\n           }\n         \n         public String gethnr() {\n             return hnr;\n         }\n         \n         public void sethnr(String hnr) {\n              this.hnr = hnr;\n           }\n         \n         public String getstreet() {\n             return street;\n         }\n         \n         public void setstreet(String street) {\n              this.street = street;\n           }\n         \n         public String getcity() {\n             return city;\n         }\n         \n         public void setcity(String city) {\n              this.city = city;\n           }\n         \n         public String getzipcode() {\n             return zipcode;\n         }\n         \n         public void setzipcode(String zipcode) {\n              this.zipcode = zipcode;\n           }\n         \n         public Integer getobjecttypeId() {\n             return objecttypeId;\n         }\n         \n         public void setobjecttype_id(Integer objecttypeId) {\n              this.objecttypeId = objecttypeId;\n           }\n         \n         public String getclient_id() {\n             return client_id;\n         }\n         \n         public void setclient_id(String client_id) {\n              this.client_id = client_id;\n           }\n         \n         public BigInteger getvaluation_id() {\n             return valuation_id;\n         }\n         \n         public void setvaluation_id(BigInteger valuation_id) {\n              this.valuation_id = valuation_id;\n           }\n         \n         public UUID getuid() {\n             return uid;\n         }\n         \n         public void setuid(UUID uid) {\n              this.uid = uid;\n           }\n         \n         public Integer getID() {\n             return ID;\n         }\n         \n         public void setID(Integer ID) {\n              this.ID = ID;\n           }\n        \n        \n            \n            \n        }\n\n\n\n\n</code></pre>\n<p>Trigger.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n\n@Setter\n@Getter\n@ToString\n@Entity\n@Table(name= &quot;T_CIB_CIBp_uid&quot;)\npublic class GKZtrigger {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID&quot;)\n    private Integer ID;\n \n    \n    @Column(name=&quot;uid&quot;)\n    private UUID uid;\n    \n    public UUID getuid() {\n         return uid;\n     }\n     \n     public void setuid(UUID uid) {\n          this.uid = uid;\n       }\n\n    public Integer getID() {\n        return ID;\n    }\n\n    public void setID(Integer iD) {\n        ID = iD;\n    }\n\n}\n\n\n\n</code></pre>\n<p>Service.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Service;\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.stereotype.Service;\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\n\n\n\npublic interface GKZService {\n    \n    \n\n    GKZ saveGKZ(GKZ GKZ);\n    \n    \n}\n\n</code></pre>\n<p>ServiceImplementation.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\n\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZInputRepository;\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZTriggerRepository;\n\nimport de.cibplus.cibplusngvdpGKZ.Service.*;\n\n\n@Service\npublic class GKZServiceImpl implements GKZService {\n    \n    \n    @Autowired\n    private GKZInputRepository gRepository;\n    \n    \n    \n    @Override\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n        \n        gRepository.save(GKZ);\n        \n        return GKZ;\n        \n    }\n    \n    \n    }\n    \n\n\n\n</code></pre>\n"},{"tags":["java","android","amazon-web-services","aws-api-gateway","aws-sdk-android"],"answers":[{"comments":[{"owner":{"account_id":28302108,"reputation":3,"user_id":21640645,"display_name":"bernard"},"score":1,"creation_date":1681462384,"post_id":76013197,"comment_id":134063537,"body_markdown":"i can? it said the file is read-only?","body":"i can? it said the file is read-only?"},{"owner":{"account_id":27944791,"reputation":36,"user_id":21340014,"display_name":"The bug"},"score":1,"creation_date":1681464516,"post_id":76013197,"comment_id":134064029,"body_markdown":"Create a utility function to convert the Output object to a readable string without modifying read-only classes. Use this function when displaying the toast message in your MainActivity.","body":"Create a utility function to convert the Output object to a readable string without modifying read-only classes. Use this function when displaying the toast message in your MainActivity."}],"tags":[],"owner":{"account_id":27944791,"reputation":36,"user_id":21340014,"display_name":"The bug"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681462160,"creation_date":1681462160,"answer_id":76013197,"question_id":76012698,"body_markdown":"In summary, you need to override the toString() method in your Resultur and Output classes, and use output.getOutput().toString() when displaying the toast message. For learning how to use the AWS API SDK for Android, you can refer to the https://aws-amplify.github.io/aws-sdk-android/docs/reference/","title":"How to get value from aws api gateway to android studio (java)","body":"<p>In summary, you need to override the toString() method in your Resultur and Output classes, and use output.getOutput().toString() when displaying the toast message. For learning how to use the AWS API SDK for Android, you can refer to the <a href=\"https://aws-amplify.github.io/aws-sdk-android/docs/reference/\" rel=\"nofollow noreferrer\">https://aws-amplify.github.io/aws-sdk-android/docs/reference/</a></p>\n"}],"owner":{"account_id":28302108,"reputation":3,"user_id":21640645,"display_name":"bernard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013197,"answer_count":1,"score":0,"last_activity_date":1681462160,"creation_date":1681458384,"question_id":76012698,"body_markdown":"I dont understand why my output received by my android app from api gateway is like this dummypackage.model.Resultur@d0cce8e and not in string or json. how can i get some readable data?\r\n\r\nI set up a dummy lambda function that sends a response \r\n```\r\n    return {\r\n        statusCode: 200,\r\n        headers: {\r\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;\r\n        },\r\n        body:1\r\n    }\r\n```\r\nwhen the api get method is called.\r\n\r\nThis is the model that i set up in the response body of my method response: \r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n    &quot;type&quot;:&quot;object&quot;,\r\n    &quot;properties&quot;:{\r\n        &quot;output&quot;:{\r\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pzxzxz27/models/Output&quot;\r\n \r\n        }\r\n    },\r\n    &quot;title&quot;:&quot;Result&quot;\r\n}\r\n```\r\n\r\nThe output model is \r\n\r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n    &quot;type&quot;:&quot;object&quot;,\r\n    &quot;properties&quot;:{\r\n        &quot;output&quot;:{\r\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pvgc7ic27/models/Output&quot;\r\n \r\n        }\r\n    },\r\n    &quot;title&quot;:&quot;Result&quot;\r\n}\r\n```\r\n\r\nThe &quot;resultur&quot; class that is made in the sdk is:\r\n\r\n\r\n```\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage dummypackage.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Resultur {\r\n    @SerializedName(&quot;output&quot;)\r\n    private Output output = null;\r\n\r\n    public Resultur() {\r\n    }\r\n\r\n    public Output getOutput() {\r\n        return this.output;\r\n    }\r\n\r\n    public void setOutput(Output output) {\r\n        this.output = output;\r\n    }\r\n}\r\n```\r\n\r\nAnd the &#39;output&#39; class is this:\r\n\r\n```\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage dummypackage.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.math.BigDecimal;\r\n\r\npublic class Output {\r\n    @SerializedName(&quot;Output&quot;)\r\n    private BigDecimal output = null;\r\n\r\n    public Output() {\r\n    }\r\n\r\n    public BigDecimal getOutput() {\r\n        return this.output;\r\n    }\r\n\r\n    public void setOutput(BigDecimal output) {\r\n        this.output = output;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI used this code in my main activity to get my output:\r\n\r\n```\r\npackage com.example.apiapplication3;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.amazonaws.mobileconnectors.apigateway.ApiClientFactory;\r\n\r\nimport org.json.JSONObject;\r\n\r\nimport dummypackage.DummyapiClient;\r\nimport dummypackage.model.Resultur;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button button;\r\n\r\n    TextView textView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ApiClientFactory factory = new ApiClientFactory();\r\n        final DummyapiClient client = factory.build(DummyapiClient.class);\r\n        button = findViewById(R.id.button);\r\n\r\n        String values;\r\n\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Thread thread = new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try  {\r\n                          Resultur output = client.messageGet();\r\n\r\n\r\n                         \r\n                            runOnUiThread(new Runnable() {\r\n                                public void run() {\r\n                                    Toast.makeText(MainActivity.this, output, Toast.LENGTH_SHORT).show(); // Display the value in a Toast message\r\n\r\n                                }\r\n                            });\r\n//                          Log.w(&quot;output&quot;, &quot;s&quot; + output);\r\n\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n                thread.start();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nWhat am i doing wrong? also what are some good places to learn how to use aws api sdk for android? (i followed all instructions of aws documentation but still got stuck)\r\n","title":"How to get value from aws api gateway to android studio (java)","body":"<p>I dont understand why my output received by my android app from api gateway is like this dummypackage.model.Resultur@d0cce8e and not in string or json. how can i get some readable data?</p>\n<p>I set up a dummy lambda function that sends a response</p>\n<pre><code>    return {\n        statusCode: 200,\n        headers: {\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;\n        },\n        body:1\n    }\n</code></pre>\n<p>when the api get method is called.</p>\n<p>This is the model that i set up in the response body of my method response:</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;type&quot;:&quot;object&quot;,\n    &quot;properties&quot;:{\n        &quot;output&quot;:{\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pzxzxz27/models/Output&quot;\n \n        }\n    },\n    &quot;title&quot;:&quot;Result&quot;\n}\n</code></pre>\n<p>The output model is</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;type&quot;:&quot;object&quot;,\n    &quot;properties&quot;:{\n        &quot;output&quot;:{\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pvgc7ic27/models/Output&quot;\n \n        }\n    },\n    &quot;title&quot;:&quot;Result&quot;\n}\n</code></pre>\n<p>The &quot;resultur&quot; class that is made in the sdk is:</p>\n<pre><code>// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage dummypackage.model;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class Resultur {\n    @SerializedName(&quot;output&quot;)\n    private Output output = null;\n\n    public Resultur() {\n    }\n\n    public Output getOutput() {\n        return this.output;\n    }\n\n    public void setOutput(Output output) {\n        this.output = output;\n    }\n}\n</code></pre>\n<p>And the 'output' class is this:</p>\n<pre><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage dummypackage.model;\n\nimport com.google.gson.annotations.SerializedName;\nimport java.math.BigDecimal;\n\npublic class Output {\n    @SerializedName(&quot;Output&quot;)\n    private BigDecimal output = null;\n\n    public Output() {\n    }\n\n    public BigDecimal getOutput() {\n        return this.output;\n    }\n\n    public void setOutput(BigDecimal output) {\n        this.output = output;\n    }\n}\n\n</code></pre>\n<p>I used this code in my main activity to get my output:</p>\n<pre><code>package com.example.apiapplication3;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.amazonaws.mobileconnectors.apigateway.ApiClientFactory;\n\nimport org.json.JSONObject;\n\nimport dummypackage.DummyapiClient;\nimport dummypackage.model.Resultur;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n\n    TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ApiClientFactory factory = new ApiClientFactory();\n        final DummyapiClient client = factory.build(DummyapiClient.class);\n        button = findViewById(R.id.button);\n\n        String values;\n\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Thread thread = new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        try  {\n                          Resultur output = client.messageGet();\n\n\n                         \n                            runOnUiThread(new Runnable() {\n                                public void run() {\n                                    Toast.makeText(MainActivity.this, output, Toast.LENGTH_SHORT).show(); // Display the value in a Toast message\n\n                                }\n                            });\n//                          Log.w(&quot;output&quot;, &quot;s&quot; + output);\n\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n                });\n                thread.start();\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>What am i doing wrong? also what are some good places to learn how to use aws api sdk for android? (i followed all instructions of aws documentation but still got stuck)</p>\n"},{"tags":["java","maven","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":1157559,"reputation":315,"user_id":1390116,"accept_rate":0,"display_name":"silvalli"},"score":6,"creation_date":1563562021,"post_id":47959075,"comment_id":100754764,"body_markdown":"I have this problem, and this doesn&#39;t fix it, even with later versions now current, and I put these before the grpc dependencies, if that matters. Also, my app doesn&#39;t seem to use the httpcore artifact at all. I have tried lots of things, and I&#39;m stumped.","body":"I have this problem, and this doesn&#39;t fix it, even with later versions now current, and I put these before the grpc dependencies, if that matters. Also, my app doesn&#39;t seem to use the httpcore artifact at all. I have tried lots of things, and I&#39;m stumped."},{"owner":{"account_id":1479966,"reputation":509,"user_id":1389581,"accept_rate":74,"display_name":"irukeru"},"score":5,"creation_date":1565079709,"post_id":47959075,"comment_id":101228568,"body_markdown":"I had the same issue too and I have solved it by updating the version of com.google.inject.guice from 4.1.0 to 4.2.2. I have realized that, guice was using guava with version 19.0 and it caused the bug for no such method for checkArgument. By updating the version of guice, the problem solved for me. You can check if there is another library using guava by &quot;mvn dependency:tree&quot; and you can update it.","body":"I had the same issue too and I have solved it by updating the version of com.google.inject.guice from 4.1.0 to 4.2.2. I have realized that, guice was using guava with version 19.0 and it caused the bug for no such method for checkArgument. By updating the version of guice, the problem solved for me. You can check if there is another library using guava by &quot;mvn dependency:tree&quot; and you can update it."},{"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"score":0,"creation_date":1602599037,"post_id":47959075,"comment_id":113767258,"body_markdown":"This saved my day . Looking at this , looks like issue of an outdated version","body":"This saved my day . Looking at this , looks like issue of an outdated version"},{"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"score":0,"creation_date":1649570681,"post_id":47959075,"comment_id":126906159,"body_markdown":"@irukeru how did you figure out guice was using the incorrect guava version?","body":"@irukeru how did you figure out guice was using the incorrect guava version?"},{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":0,"creation_date":1650862091,"post_id":47959075,"comment_id":127214479,"body_markdown":"Yup, thanks for this, I added the dependencies and it worked, i think I have to organize and make sure all my maven modules are using the same versions which I should declare in properties of a parent pom","body":"Yup, thanks for this, I added the dependencies and it worked, i think I have to organize and make sure all my maven modules are using the same versions which I should declare in properties of a parent pom"}],"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"comment_count":5,"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1514103001,"creation_date":1514103001,"answer_id":47959075,"question_id":42206440,"body_markdown":"    **Please add following dependencies in your project.**\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;23.6-jre&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.8&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<pre><code>**Please add following dependencies in your project.**\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;23.6-jre&lt;/version&gt;\n&lt;/dependency&gt; \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n    &lt;version&gt;4.4.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19329,"reputation":8300,"user_id":45207,"accept_rate":75,"display_name":"LaserJesus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657544723,"creation_date":1657480427,"answer_id":72931205,"question_id":42206440,"body_markdown":"For anyone else getting this error on EMR. In order to use the s3a address system for S3 files I needed the S3aFileSystem Jar which didn&#39;t seem to be available on the EMR 6.7, Hadoop 3.2.1 cluster - otherwise I received the error `Class org.apache.hadoop.fs.s3a.S3AFileSystem not found`. To fix this I included `--packages org.apache.hadoop:hadoop-aws:3.2.1` in the spark-submit arguments. Then I started getting the error noted in the OP&#39;s question. Downgrading to 3.2.0 fixed this problem, but then I hit another bug; `NoSuchMethodError: SemaphoredDelegatingExecutor while writing files to S3`. I solved this problem by upgrading instead to 3.2.2: `--packages org.apache.hadoop:hadoop-aws:3.2.2`. Then I was able to read and write to S3a adresses with EMR 6.7","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>For anyone else getting this error on EMR. In order to use the s3a address system for S3 files I needed the S3aFileSystem Jar which didn't seem to be available on the EMR 6.7, Hadoop 3.2.1 cluster - otherwise I received the error <code>Class org.apache.hadoop.fs.s3a.S3AFileSystem not found</code>. To fix this I included <code>--packages org.apache.hadoop:hadoop-aws:3.2.1</code> in the spark-submit arguments. Then I started getting the error noted in the OP's question. Downgrading to 3.2.0 fixed this problem, but then I hit another bug; <code>NoSuchMethodError: SemaphoredDelegatingExecutor while writing files to S3</code>. I solved this problem by upgrading instead to 3.2.2: <code>--packages org.apache.hadoop:hadoop-aws:3.2.2</code>. Then I was able to read and write to S3a adresses with EMR 6.7</p>\n"},{"tags":[],"owner":{"account_id":14866300,"reputation":251,"user_id":10735302,"display_name":"Jonas Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658337378,"creation_date":1658337378,"answer_id":73055743,"question_id":42206440,"body_markdown":"I had this issue while trying to read a file from an S3 bucket using apache spark (PySpark). I&#39;m using spark 3.3.0 downloaded and installed by brew on MacOS.\r\n\r\nI solved my problem updating some jars on my spark jars folder, like @irukeru said in the comment above.\r\n\r\nList of jars that a have updated:\r\n\r\n- [com.google.inject.guice - v4.2.2](https://mvnrepository.com/artifact/com.google.inject/guice/4.2.2)\r\n- [com.google.inject.extensions.guice-servlet - v4.2.2](https://mvnrepository.com/artifact/com.google.inject.extensions/guice-servlet/4.2.2)\r\n- [com.google.guava.guava - v31.1-jre](https://repo1.maven.org/maven2/com/google/guava/guava/31.1-jre/)\r\n- [org.apache.httpcomponents.httpcore - v.4.4.15](https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4.15) \r\n\r\nJust download and copy this new jars to your spark folder, in my case, it was `/usr/local/Cellar/apache-spark/3.3.0/libexec/jars`\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>I had this issue while trying to read a file from an S3 bucket using apache spark (PySpark). I'm using spark 3.3.0 downloaded and installed by brew on MacOS.</p>\n<p>I solved my problem updating some jars on my spark jars folder, like @irukeru said in the comment above.</p>\n<p>List of jars that a have updated:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/com.google.inject/guice/4.2.2\" rel=\"nofollow noreferrer\">com.google.inject.guice - v4.2.2</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.google.inject.extensions/guice-servlet/4.2.2\" rel=\"nofollow noreferrer\">com.google.inject.extensions.guice-servlet - v4.2.2</a></li>\n<li><a href=\"https://repo1.maven.org/maven2/com/google/guava/guava/31.1-jre/\" rel=\"nofollow noreferrer\">com.google.guava.guava - v31.1-jre</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4.15\" rel=\"nofollow noreferrer\">org.apache.httpcomponents.httpcore - v.4.4.15</a></li>\n</ul>\n<p>Just download and copy this new jars to your spark folder, in my case, it was <code>/usr/local/Cellar/apache-spark/3.3.0/libexec/jars</code></p>\n"},{"tags":[],"owner":{"account_id":3600820,"reputation":774,"user_id":3004162,"accept_rate":29,"display_name":"ciurlaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681462123,"creation_date":1681462123,"answer_id":76013193,"question_id":42206440,"body_markdown":"With pyspark 3.3.0, the following combination of versions worked for me:\r\n\r\n```python\r\npackages = [\r\n    f&#39;org.apache.hadoop:hadoop-aws:3.3.1&#39;,\r\n    &#39;com.google.guava:guava:30.1.1-jre&#39;,\r\n    &#39;org.apache.httpcomponents:httpcore:4.4.14&#39;, \r\n    &#39;com.google.inject:guice:4.2.2&#39;, \r\n    &#39;com.google.inject.extensions:guice-servlet:4.2.2&#39;\r\n]\r\n\r\nconf = SparkConf().setAll([\r\n    (&#39;spark.jars.packages&#39;, &#39;,&#39;.join(packages)),\r\n    ...\r\n])\r\n\r\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\r\n```\r\n\r\n**PS:** this is the preferred way of installing jar packages in Spark","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>With pyspark 3.3.0, the following combination of versions worked for me:</p>\n<pre class=\"lang-py prettyprint-override\"><code>packages = [\n    f'org.apache.hadoop:hadoop-aws:3.3.1',\n    'com.google.guava:guava:30.1.1-jre',\n    'org.apache.httpcomponents:httpcore:4.4.14', \n    'com.google.inject:guice:4.2.2', \n    'com.google.inject.extensions:guice-servlet:4.2.2'\n]\n\nconf = SparkConf().setAll([\n    ('spark.jars.packages', ','.join(packages)),\n    ...\n])\n\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\n</code></pre>\n<p><strong>PS:</strong> this is the preferred way of installing jar packages in Spark</p>\n"}],"owner":{"account_id":2448780,"reputation":5133,"user_id":2135526,"accept_rate":46,"display_name":"Naresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55790,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":47959075,"answer_count":4,"score":39,"last_activity_date":1681462123,"creation_date":1486996060,"question_id":42206440,"body_markdown":"I am trying to run this [grpc-Java][1] example on my local. Corresponding proto file for the same is [here][2]. When i try to run in on local it throws the following exception from [here][3] :\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\r\n    \tat io.grpc.ServiceDescriptor.validateMethodNames(ServiceDescriptor.java:129)\r\n    \tat io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:83)\r\n    \tat io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:51)\r\n    \tat io.grpc.ServiceDescriptor$Builder.build(ServiceDescriptor.java:219)\r\n    \tat io.grpc.examples.helloworld.GreeterGrpc.getServiceDescriptor(GreeterGrpc.java:251)\r\n    \tat io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.bindService(GreeterGrpc.java:84)\r\n    \tat io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:125)\r\n    \tat io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:63)\r\n    \tat com.cw.predictive.HelloWorldServer.start(HelloWorldServer.java:56)\r\n    \tat com.cw.predictive.HelloWorldServer.main(HelloWorldServer.java:92)\r\n\r\n\r\nThis is my pom.xml as mentioned [here][4] :\r\n\r\n \r\n\r\n  \r\n\r\n     &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n              &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n              &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n              &lt;version&gt;1.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java\r\n  [2]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/proto/helloworld.proto\r\n  [3]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java#L52\r\n  [4]: https://github.com/grpc/grpc-java","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>I am trying to run this <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java\" rel=\"noreferrer\">grpc-Java</a> example on my local. Corresponding proto file for the same is <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/proto/helloworld.proto\" rel=\"noreferrer\">here</a>. When i try to run in on local it throws the following exception from <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java#L52\" rel=\"noreferrer\">here</a> :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\n    at io.grpc.ServiceDescriptor.validateMethodNames(ServiceDescriptor.java:129)\n    at io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:83)\n    at io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:51)\n    at io.grpc.ServiceDescriptor$Builder.build(ServiceDescriptor.java:219)\n    at io.grpc.examples.helloworld.GreeterGrpc.getServiceDescriptor(GreeterGrpc.java:251)\n    at io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.bindService(GreeterGrpc.java:84)\n    at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:125)\n    at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:63)\n    at com.cw.predictive.HelloWorldServer.start(HelloWorldServer.java:56)\n    at com.cw.predictive.HelloWorldServer.main(HelloWorldServer.java:92)\n</code></pre>\n\n<p>This is my pom.xml as mentioned <a href=\"https://github.com/grpc/grpc-java\" rel=\"noreferrer\">here</a> :</p>\n\n<pre><code> &lt;dependencies&gt;\n         &lt;dependency&gt;\n          &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n          &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n          &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"answers":[{"comments":[{"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"score":0,"creation_date":1681499715,"post_id":76013171,"comment_id":134072113,"body_markdown":"I did it, but appear the same error","body":"I did it, but appear the same error"}],"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681461935,"creation_date":1681461935,"answer_id":76013171,"question_id":76011185,"body_markdown":"In intellij try to right click on your `db.changelog-master.xml` and copy path/reference. You will see then that it&#39;s `db/changelog/db.changelog-master.xml` and not `db.changelog/db.changelog-master.xml` (see the difference in directory separators)","title":"File db.changelog-master.xml was not found","body":"<p>In intellij try to right click on your <code>db.changelog-master.xml</code> and copy path/reference. You will see then that it's <code>db/changelog/db.changelog-master.xml</code> and not <code>db.changelog/db.changelog-master.xml</code> (see the difference in directory separators)</p>\n"}],"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681461935,"creation_date":1681439553,"question_id":76011185,"body_markdown":"I&#39;m working with springboot 3.0.5 and I want to use liquibase, but the file changelog-master was not found, below I left my files and configurations.\r\nMy application.yml\r\n\r\n    spring:\r\n      liquibase:\r\n        enabled: true\r\n        change-log: classpath:db.changelog/db.changelog-master.xml\r\n      graphql:\r\n        graphiql:\r\n          enabled: true\r\n        schema:\r\n          locations: classpath:*graphqls\r\n      r2dbc:\r\n        url: r2dbc:postgresql://localhost:3539/library-service\r\n        username: library-user\r\n        password: m4Passrdwo000--\r\n        pool:\r\n          enabled: true\r\n          initial-size: 1\r\n          max-size: 10\r\n    \r\n    logging:\r\n      level:\r\n        liquibase: INFO\r\nHere my configuration classes\r\n\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @ConfigurationProperties(&quot;spring.liquibase&quot;)\r\n    public class R2dbcLiquibaseProperties {\r\n    \r\n        private boolean enabled = true;\r\n        private String changeLog = &quot;&quot;;\r\n    \r\n        public R2dbcLiquibaseProperties(boolean enabled, String changeLog) {\r\n            this.enabled = enabled;\r\n            this.changeLog = changeLog;\r\n        }\r\n    \r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public String getChangeLog() {\r\n            return changeLog;\r\n        }\r\n    }\r\n\r\nAnother class configuration\r\n\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @EnableConfigurationProperties(R2dbcLiquibaseProperties.class)\r\n    public class R2dbcLiquibasePropertiesConfig {\r\n    }\r\n\r\nOne more class configuration\r\n\r\n    import liquibase.Contexts;\r\n    import liquibase.LabelExpression;\r\n    import liquibase.Liquibase;\r\n    import liquibase.database.Database;\r\n    import liquibase.database.DatabaseFactory;\r\n    import liquibase.database.jvm.JdbcConnection;\r\n    import liquibase.exception.DatabaseException;\r\n    import liquibase.resource.ClassLoaderResourceAccessor;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.ApplicationRunner;\r\n    import org.springframework.boot.autoconfigure.AutoConfigureAfter;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\n    import org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ResourceLoader;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.sql.SQLException;\r\n    \r\n    @Configuration\r\n    @ConditionalOnProperty(\r\n            prefix = &quot;spring.liquibase&quot;,\r\n            name = &quot;enabled&quot;,\r\n            havingValue = &quot;true&quot;,\r\n            matchIfMissing = true\r\n    )\r\n    @AutoConfigureAfter(R2dbcAutoConfiguration.class)\r\n    @ComponentScan(basePackageClasses = R2dbcProperties.class)\r\n    public class R2dbcLiquibaseConfig {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(R2dbcLiquibaseConfig.class);\r\n        private final R2dbcLiquibaseProperties properties;\r\n    \r\n        public R2dbcLiquibaseConfig(R2dbcLiquibaseProperties properties) {\r\n            this.properties = properties;\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public ClassLoaderResourceAccessor r2dbcLiquibaseResourceAccessor(ResourceLoader resourceLoader) {\r\n            return new ClassLoaderResourceAccessor(resourceLoader.getClassLoader());\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public DataSource r2dbcLiquibaseDataSource(R2dbcProperties r2dbcProperties) {\r\n            return DataSourceBuilder.create()\r\n                    .url(r2dbcProperties.getUrl().replaceFirst(&quot;r2dbc:pool&quot;, &quot;jdbc:&quot;)\r\n                            .replaceFirst(&quot;r2dbc:&quot;, &quot;jdbc:&quot;))\r\n                    .username(r2dbcProperties.getUsername())\r\n                    .password(r2dbcProperties.getPassword())\r\n                    .build();\r\n        }\r\n    \r\n        @ConditionalOnMissingBean\r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public JdbcConnection r2dbcLiquibaseJdbcConnection(DataSource r2dbcLiquibaseDataSource) throws SQLException {\r\n            return new JdbcConnection(r2dbcLiquibaseDataSource.getConnection());\r\n        }\r\n    \r\n        @ConditionalOnMissingBean\r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public Database r2dbcLiquibaseDatabase(JdbcConnection r2dbcLiquibaseJdbcConnection) throws DatabaseException {\r\n            return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(r2dbcLiquibaseJdbcConnection);\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public ApplicationRunner r2dbcLiquibaseDatabaseInitialization(ClassLoaderResourceAccessor clr, Database db) {\r\n            log.info(&quot;changelog {}&quot;, properties.getChangeLog());\r\n            return args -&gt; {Liquibase liquibase = new Liquibase(properties.getChangeLog(), clr, db);\r\n                log.info(&quot;R2DBC liquibase database initialized by {}&quot;,liquibase.getChangeLogFile());\r\n                liquibase.update(new Contexts(), new LabelExpression(), true);\r\n            };\r\n        }\r\n    }\r\n\r\nMy build.gradle\r\n\r\n    plugins {\r\n    \tjava\r\n    \tid(&quot;org.springframework.boot&quot;) version &quot;3.0.5&quot;\r\n    \tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    \tid(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\r\n    }\r\n    \r\n    group = &quot;org.abahafart.library&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom(configurations.annotationProcessor.get())\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    extra[&quot;springCloudVersion&quot;] = &quot;2022.0.2&quot;\r\n    extra[&quot;testcontainersVersion&quot;] = &quot;1.17.6&quot;\r\n    \r\n    dependencies {\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&quot;)\r\n    \timplementation(&quot;org.springframework.data:spring-data-r2dbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-autoconfigure&quot;)\r\n    \timplementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\r\n    \truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    \timplementation(&quot;io.r2dbc:r2dbc-pool:1.0.0.RELEASE&quot;)\r\n    \tannotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \ttestImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\r\n    \ttestImplementation(&quot;org.testcontainers:postgresql&quot;)\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\r\n    \t\tmavenBom(&quot;org.springframework.cloud:spring-cloud-dependencies:${property(&quot;springCloudVersion&quot;)}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nMy db.changelog-master\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd&quot;&gt;\r\n    \r\n        &lt;property name=&quot;now&quot; value=&quot;now()&quot; dbms=&quot;h2&quot;/&gt;\r\n        &lt;property name=&quot;now&quot; value=&quot;current_timestamp&quot; dbms=&quot;postgresql&quot;/&gt;\r\n        &lt;property name=&quot;floatType&quot; value=&quot;float4&quot; dbms=&quot;postgresql, h2&quot;/&gt;\r\n        &lt;property name=&quot;floatType&quot; value=&quot;float&quot; dbms=&quot;mysql, oracle, mssql, mariadb&quot;/&gt;\r\n        &lt;property name=&quot;clobType&quot; value=&quot;longvarchar&quot; dbms=&quot;h2&quot;/&gt;\r\n        &lt;property name=&quot;clobType&quot; value=&quot;clob&quot; dbms=&quot;mysql, oracle, mssql, mariadb, postgresql&quot;/&gt;\r\n        &lt;property name=&quot;uuidType&quot; value=&quot;uuid&quot; dbms=&quot;h2, postgresql&quot;/&gt;\r\n        &lt;property name=&quot;datetimeType&quot; value=&quot;datetime(6)&quot; dbms=&quot;mysql, mariadb&quot;/&gt;\r\n        &lt;property name=&quot;datetimeType&quot; value=&quot;datetime&quot; dbms=&quot;oracle, mssql, postgresql, h2&quot;/&gt;\r\n        &lt;property name=&quot;u_id&quot; value=&quot;uuid()&quot; dbms=&quot;mysql&quot;/&gt;\r\n        &lt;include file=&quot;db.changelog/changelogs/master.xml&quot;/&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\nMy structure project\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd finally my stacktrace problem\r\n\r\n    2023-04-13T21:14:17.095-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Starting LibraryMicroserviceApplication using Java 17.0.5 with PID 6210 (/home/user/Documents/workspace/intellij/microservices/library-service/build/classes/java/main started by abahafart in /home/user/Documents/workspace/intellij/microservices/library-service)\r\n    2023-04-13T21:14:17.098-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-04-13T21:14:17.481-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.482-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.495-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 R2DBC repository interfaces.\r\n    2023-04-13T21:14:17.676-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.677-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.687-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\r\n    2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.699-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.\r\n    2023-04-13T21:14:17.790-05:00  INFO 6210 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9c5fd81-b584-3171-a425-65daf771ca31\r\n    2023-04-13T21:14:18.199-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n    2023-04-13T21:14:18.256-05:00  INFO 6210 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-04-13T21:14:18.257-05:00  INFO 6210 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1131 ms\r\n    2023-04-13T21:14:18.419-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-04-13T21:14:18.508-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63e70bf9\r\n    2023-04-13T21:14:18.509-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-04-13T21:14:19.011-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\r\n    2023-04-13T21:14:19.050-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n    2023-04-13T21:14:19.267-05:00  INFO 6210 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\r\n    2023-04-13T21:14:19.293-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n    2023-04-13T21:14:19.432-05:00  INFO 6210 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-04-13T21:14:19.470-05:00  INFO 6210 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n    2023-04-13T21:14:19.644-05:00  INFO 6210 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2023-04-13T21:14:19.785-05:00  INFO 6210 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-04-13T21:14:19.790-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-13T21:14:19.836-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : changelog classpath:db.changelog/db.changelog-master.xml\r\n    2023-04-13T21:14:19.866-05:00  WARN 6210 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-04-13T21:14:20.855-05:00  INFO 6210 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n    2023-04-13T21:14:20.919-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-04-13T21:14:21.362-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Started LibraryMicroserviceApplication in 4.792 seconds (process running for 5.176)\r\n    2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\r\n    2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : R2DBC liquibase database initialized by classpath:db.changelog/db.changelog-master.xml\r\n    2023-04-13T21:14:21.388-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n    2023-04-13T21:14:21.393-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n    2023-04-13T21:14:21.397-05:00  INFO 6210 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-04-13T21:14:21.407-05:00 ERROR 6210 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.abahafart.library.LibraryMicroserviceApplication.main(LibraryMicroserviceApplication.java:15) ~[main/:na]\r\n    Caused by: liquibase.exception.ChangeLogParseException: The file classpath:db.changelog/db.changelog-master.xml was not found in the configured search path:\r\n    More locations can be added with the &#39;searchPath&#39; parameter.\r\n    \tat liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.lambda$update$1(Liquibase.java:249) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.runInScope(Liquibase.java:2447) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat org.abahafart.library.infra.repository.R2dbcLiquibaseConfig.lambda$r2dbcLiquibaseDatabaseInitialization$0(R2dbcLiquibaseConfig.java:81) ~[main/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \t... 5 common frames omitted\r\n    \r\n    2023-04-13T21:14:21.422-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-13T21:14:21.432-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-04-13T21:14:21.435-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nWhere am I wrong?\r\n  [1]: https://i.stack.imgur.com/jEwnq.png","title":"File db.changelog-master.xml was not found","body":"<p>I'm working with springboot 3.0.5 and I want to use liquibase, but the file changelog-master was not found, below I left my files and configurations.\nMy application.yml</p>\n<pre><code>spring:\n  liquibase:\n    enabled: true\n    change-log: classpath:db.changelog/db.changelog-master.xml\n  graphql:\n    graphiql:\n      enabled: true\n    schema:\n      locations: classpath:*graphqls\n  r2dbc:\n    url: r2dbc:postgresql://localhost:3539/library-service\n    username: library-user\n    password: m4Passrdwo000--\n    pool:\n      enabled: true\n      initial-size: 1\n      max-size: 10\n\nlogging:\n  level:\n    liquibase: INFO\n</code></pre>\n<p>Here my configuration classes</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(&quot;spring.liquibase&quot;)\npublic class R2dbcLiquibaseProperties {\n\n    private boolean enabled = true;\n    private String changeLog = &quot;&quot;;\n\n    public R2dbcLiquibaseProperties(boolean enabled, String changeLog) {\n        this.enabled = enabled;\n        this.changeLog = changeLog;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public String getChangeLog() {\n        return changeLog;\n    }\n}\n</code></pre>\n<p>Another class configuration</p>\n<pre><code>import org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableConfigurationProperties(R2dbcLiquibaseProperties.class)\npublic class R2dbcLiquibasePropertiesConfig {\n}\n</code></pre>\n<p>One more class configuration</p>\n<pre><code>import liquibase.Contexts;\nimport liquibase.LabelExpression;\nimport liquibase.Liquibase;\nimport liquibase.database.Database;\nimport liquibase.database.DatabaseFactory;\nimport liquibase.database.jvm.JdbcConnection;\nimport liquibase.exception.DatabaseException;\nimport liquibase.resource.ClassLoaderResourceAccessor;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ResourceLoader;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n\n@Configuration\n@ConditionalOnProperty(\n        prefix = &quot;spring.liquibase&quot;,\n        name = &quot;enabled&quot;,\n        havingValue = &quot;true&quot;,\n        matchIfMissing = true\n)\n@AutoConfigureAfter(R2dbcAutoConfiguration.class)\n@ComponentScan(basePackageClasses = R2dbcProperties.class)\npublic class R2dbcLiquibaseConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(R2dbcLiquibaseConfig.class);\n    private final R2dbcLiquibaseProperties properties;\n\n    public R2dbcLiquibaseConfig(R2dbcLiquibaseProperties properties) {\n        this.properties = properties;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public ClassLoaderResourceAccessor r2dbcLiquibaseResourceAccessor(ResourceLoader resourceLoader) {\n        return new ClassLoaderResourceAccessor(resourceLoader.getClassLoader());\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public DataSource r2dbcLiquibaseDataSource(R2dbcProperties r2dbcProperties) {\n        return DataSourceBuilder.create()\n                .url(r2dbcProperties.getUrl().replaceFirst(&quot;r2dbc:pool&quot;, &quot;jdbc:&quot;)\n                        .replaceFirst(&quot;r2dbc:&quot;, &quot;jdbc:&quot;))\n                .username(r2dbcProperties.getUsername())\n                .password(r2dbcProperties.getPassword())\n                .build();\n    }\n\n    @ConditionalOnMissingBean\n    @Bean(destroyMethod = &quot;close&quot;)\n    public JdbcConnection r2dbcLiquibaseJdbcConnection(DataSource r2dbcLiquibaseDataSource) throws SQLException {\n        return new JdbcConnection(r2dbcLiquibaseDataSource.getConnection());\n    }\n\n    @ConditionalOnMissingBean\n    @Bean(destroyMethod = &quot;close&quot;)\n    public Database r2dbcLiquibaseDatabase(JdbcConnection r2dbcLiquibaseJdbcConnection) throws DatabaseException {\n        return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(r2dbcLiquibaseJdbcConnection);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public ApplicationRunner r2dbcLiquibaseDatabaseInitialization(ClassLoaderResourceAccessor clr, Database db) {\n        log.info(&quot;changelog {}&quot;, properties.getChangeLog());\n        return args -&gt; {Liquibase liquibase = new Liquibase(properties.getChangeLog(), clr, db);\n            log.info(&quot;R2DBC liquibase database initialized by {}&quot;,liquibase.getChangeLogFile());\n            liquibase.update(new Contexts(), new LabelExpression(), true);\n        };\n    }\n}\n</code></pre>\n<p>My build.gradle</p>\n<pre><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n}\n\ngroup = &quot;org.abahafart.library&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nextra[&quot;springCloudVersion&quot;] = &quot;2022.0.2&quot;\nextra[&quot;testcontainersVersion&quot;] = &quot;1.17.6&quot;\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&quot;)\n    implementation(&quot;org.springframework.data:spring-data-r2dbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-autoconfigure&quot;)\n    implementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;io.r2dbc:r2dbc-pool:1.0.0.RELEASE&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\n    testImplementation(&quot;org.testcontainers:postgresql&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\n        mavenBom(&quot;org.springframework.cloud:spring-cloud-dependencies:${property(&quot;springCloudVersion&quot;)}&quot;)\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My db.changelog-master</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd&quot;&gt;\n\n    &lt;property name=&quot;now&quot; value=&quot;now()&quot; dbms=&quot;h2&quot;/&gt;\n    &lt;property name=&quot;now&quot; value=&quot;current_timestamp&quot; dbms=&quot;postgresql&quot;/&gt;\n    &lt;property name=&quot;floatType&quot; value=&quot;float4&quot; dbms=&quot;postgresql, h2&quot;/&gt;\n    &lt;property name=&quot;floatType&quot; value=&quot;float&quot; dbms=&quot;mysql, oracle, mssql, mariadb&quot;/&gt;\n    &lt;property name=&quot;clobType&quot; value=&quot;longvarchar&quot; dbms=&quot;h2&quot;/&gt;\n    &lt;property name=&quot;clobType&quot; value=&quot;clob&quot; dbms=&quot;mysql, oracle, mssql, mariadb, postgresql&quot;/&gt;\n    &lt;property name=&quot;uuidType&quot; value=&quot;uuid&quot; dbms=&quot;h2, postgresql&quot;/&gt;\n    &lt;property name=&quot;datetimeType&quot; value=&quot;datetime(6)&quot; dbms=&quot;mysql, mariadb&quot;/&gt;\n    &lt;property name=&quot;datetimeType&quot; value=&quot;datetime&quot; dbms=&quot;oracle, mssql, postgresql, h2&quot;/&gt;\n    &lt;property name=&quot;u_id&quot; value=&quot;uuid()&quot; dbms=&quot;mysql&quot;/&gt;\n    &lt;include file=&quot;db.changelog/changelogs/master.xml&quot;/&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>My structure project</p>\n<p>[![enter image description here][1]][1]</p>\n<p>And finally my stacktrace problem</p>\n<pre><code>2023-04-13T21:14:17.095-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Starting LibraryMicroserviceApplication using Java 17.0.5 with PID 6210 (/home/user/Documents/workspace/intellij/microservices/library-service/build/classes/java/main started by abahafart in /home/user/Documents/workspace/intellij/microservices/library-service)\n2023-04-13T21:14:17.098-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-13T21:14:17.481-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.482-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-04-13T21:14:17.495-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 R2DBC repository interfaces.\n2023-04-13T21:14:17.676-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.677-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-13T21:14:17.687-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-04-13T21:14:17.699-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.\n2023-04-13T21:14:17.790-05:00  INFO 6210 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9c5fd81-b584-3171-a425-65daf771ca31\n2023-04-13T21:14:18.199-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-13T21:14:18.256-05:00  INFO 6210 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-13T21:14:18.257-05:00  INFO 6210 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1131 ms\n2023-04-13T21:14:18.419-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-13T21:14:18.508-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63e70bf9\n2023-04-13T21:14:18.509-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-13T21:14:19.011-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\n2023-04-13T21:14:19.050-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-04-13T21:14:19.267-05:00  INFO 6210 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\n2023-04-13T21:14:19.293-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-04-13T21:14:19.432-05:00  INFO 6210 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-13T21:14:19.470-05:00  INFO 6210 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-13T21:14:19.644-05:00  INFO 6210 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-04-13T21:14:19.785-05:00  INFO 6210 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-13T21:14:19.790-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T21:14:19.836-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : changelog classpath:db.changelog/db.changelog-master.xml\n2023-04-13T21:14:19.866-05:00  WARN 6210 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-13T21:14:20.855-05:00  INFO 6210 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-04-13T21:14:20.919-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-04-13T21:14:21.362-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Started LibraryMicroserviceApplication in 4.792 seconds (process running for 5.176)\n2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\n2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : R2DBC liquibase database initialized by classpath:db.changelog/db.changelog-master.xml\n2023-04-13T21:14:21.388-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-04-13T21:14:21.393-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-04-13T21:14:21.397-05:00  INFO 6210 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-13T21:14:21.407-05:00 ERROR 6210 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.abahafart.library.LibraryMicroserviceApplication.main(LibraryMicroserviceApplication.java:15) ~[main/:na]\nCaused by: liquibase.exception.ChangeLogParseException: The file classpath:db.changelog/db.changelog-master.xml was not found in the configured search path:\nMore locations can be added with the 'searchPath' parameter.\n    at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.lambda$update$1(Liquibase.java:249) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.runInScope(Liquibase.java:2447) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.17.2.jar:na]\n    at org.abahafart.library.infra.repository.R2dbcLiquibaseConfig.lambda$r2dbcLiquibaseDatabaseInitialization$0(R2dbcLiquibaseConfig.java:81) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\n    ... 5 common frames omitted\n\n2023-04-13T21:14:21.422-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T21:14:21.432-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-13T21:14:21.435-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>Where am I wrong?\n[1]: <a href=\"https://i.stack.imgur.com/jEwnq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jEwnq.png</a></p>\n"},{"tags":["java","scala","sbt"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":2,"creation_date":1681458618,"post_id":76012379,"comment_id":134062617,"body_markdown":"You need the native arm module, or take a look to https://stackoverflow.com/q/71882029/6802156","body":"You need the native arm module, or take a look to <a href=\"https://stackoverflow.com/q/71882029/6802156\">stackoverflow.com/q/71882029/6802156</a>"}],"answers":[{"tags":[],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681461879,"creation_date":1681461879,"answer_id":76013162,"question_id":76012379,"body_markdown":"Found a solution with a help of my teammates. I have had wrong version of `sbt-sassify` it was `1.5.1` and it works with `1.5.2.`","title":"UnsatisfiedLinkError when running sbt scala project","body":"<p>Found a solution with a help of my teammates. I have had wrong version of <code>sbt-sassify</code> it was <code>1.5.1</code> and it works with <code>1.5.2.</code></p>\n"}],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681461879,"creation_date":1681455634,"question_id":76012379,"body_markdown":"I have this weird error when running sbt scala project:\r\n\r\n    java.lang.UnsatisfiedLinkError: dlopen(/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp, 0x0009): \r\n    tried: &#39;/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39; (mach-o file, but is an incompatible architecture \r\n    (have &#39;x86_64&#39;, need &#39;arm64&#39;)), \r\n    &#39;/System/Volumes/Preboot/Cryptexes/OS/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39; (no such file), \r\n    &#39;/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39;\r\n     (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))\r\n\r\nSBT version: 1.7.2.\r\n\r\nScala version: 2.13.8\r\n\r\nJava version: 11.0.18\r\n\r\nI am using Mac OS 13.3.1 with M1 chip","title":"UnsatisfiedLinkError when running sbt scala project","body":"<p>I have this weird error when running sbt scala project:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: dlopen(/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp, 0x0009): \ntried: '/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp' (mach-o file, but is an incompatible architecture \n(have 'x86_64', need 'arm64')), \n'/System/Volumes/Preboot/Cryptexes/OS/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp' (no such file), \n'/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp'\n (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64'))\n</code></pre>\n<p>SBT version: 1.7.2.</p>\n<p>Scala version: 2.13.8</p>\n<p>Java version: 11.0.18</p>\n<p>I am using Mac OS 13.3.1 with M1 chip</p>\n"},{"tags":["java","selenium-webdriver","testing","tabs"],"comments":[{"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"score":0,"creation_date":1681731935,"post_id":76013074,"comment_id":134098846,"body_markdown":"Has anyone gone through this ?","body":"Has anyone gone through this ?"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681461585,"creation_date":1681461137,"question_id":76013074,"body_markdown":"I am trying to automate airbnb website and then then signup with google I am perfectly able to handle the first tab when the signup option with google appears but when another subtab for signin with google appears then getting error as Exception in thread &quot;main&quot; java.lang.NullPointerException: null value in entry: handle=null three tabs are appearing when signup with google,how to handle this the google signup is mainly required for wishlisting the location \r\n        \r\n        \r\n        package Practice;\r\n        import org.junit.Assert;\r\n        import org.openqa.selenium.*;\r\n        import org.openqa.selenium.chrome.ChromeDriver;\r\n        import org.openqa.selenium.Alert;\r\n        import org.openqa.selenium.chrome.ChromeOptions;\r\n        import org.openqa.selenium.firefox.FirefoxDriver;\r\n        import org.openqa.selenium.interactions.Actions;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        import java.util.ArrayList;\r\n        import java.time.Duration;\r\n        import java.util.Iterator;\r\n        import java.util.Set;\r\n        import java.util.concurrent.TimeUnit;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        \r\n        public class Airbnb\r\n        {\r\n            public static void main(String[]args) throws InterruptedException {\r\n                System.setProperty(&quot;Pathtochromewebdriver&quot;);\r\n                ChromeOptions ops = new ChromeOptions();\r\n                ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n                ChromeDriver driver = new ChromeDriver(ops);\r\n                driver.get(&quot;https://www.airbnb.co.in/&quot;);\r\n                driver.manage().window().maximize();\r\n                driver.navigate().forward();\r\n                Thread.sleep(1000);\r\n                //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_176ugpa\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot; //div[@class=\\&quot;f1xx50dm dir dir-ltr\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Canada&quot;);\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//*[@id=\\&quot;bigsearch-query-location-suggestion-2\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div[2]/div/div/div/div/div[1]/div/div/div/div/div[3]/div/div/div/div/label[2]/div/span&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div[2]/div/div/div/div/div/div[1]/div/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[1]/div/div[1]/div[2]/div/button&quot;)).click();\r\n                String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\r\n                String subWindowHandler = null;\r\n                String childwindow = null;\r\n        \r\n                Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\r\n                Iterator&lt;String&gt; iterator = handles.iterator();\r\n                while (iterator.hasNext()){\r\n                    subWindowHandler = iterator.next();\r\n        \r\n                }\r\n                driver.switchTo().window(subWindowHandler); // switch to popup window\r\n        \r\n                // Now you are in the popup window, perform necessary actions here\r\n                JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n                driver.navigate().forward();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[10]/section/div/div/div[2]/div/div[2]/div/div[3]/div/div[2]/form/button/div&quot;)).click();\r\n        \r\n                driver.findElement(By.className(&quot;whsOnd zHQkBf&quot;)).sendKeys(&quot;Mymailideeks&quot;);\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n            }\r\n        \r\n        }","title":"On Airbnb website the signup has three sub tabs","body":"<p>I am trying to automate airbnb website and then then signup with google I am perfectly able to handle the first tab when the signup option with google appears but when another subtab for signin with google appears then getting error as Exception in thread &quot;main&quot; java.lang.NullPointerException: null value in entry: handle=null three tabs are appearing when signup with google,how to handle this the google signup is mainly required for wishlisting the location</p>\n<pre><code>    package Practice;\n    import org.junit.Assert;\n    import org.openqa.selenium.*;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    import org.openqa.selenium.Alert;\n    import org.openqa.selenium.chrome.ChromeOptions;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.openqa.selenium.interactions.Actions;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    import java.util.ArrayList;\n    import java.time.Duration;\n    import java.util.Iterator;\n    import java.util.Set;\n    import java.util.concurrent.TimeUnit;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    \n    public class Airbnb\n    {\n        public static void main(String[]args) throws InterruptedException {\n            System.setProperty(&quot;Pathtochromewebdriver&quot;);\n            ChromeOptions ops = new ChromeOptions();\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n            ChromeDriver driver = new ChromeDriver(ops);\n            driver.get(&quot;https://www.airbnb.co.in/&quot;);\n            driver.manage().window().maximize();\n            driver.navigate().forward();\n            Thread.sleep(1000);\n            //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_176ugpa\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot; //div[@class=\\&quot;f1xx50dm dir dir-ltr\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Canada&quot;);\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;bigsearch-query-location-suggestion-2\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[2]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div[2]/div/div/div/div/div[1]/div/div/div/div/div[3]/div/div/div/div/label[2]/div/span&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div[2]/div/div/div/div/div/div[1]/div/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[1]/div/div[1]/div[2]/div/button&quot;)).click();\n            String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\n            String subWindowHandler = null;\n            String childwindow = null;\n    \n            Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\n            Iterator&lt;String&gt; iterator = handles.iterator();\n            while (iterator.hasNext()){\n                subWindowHandler = iterator.next();\n    \n            }\n            driver.switchTo().window(subWindowHandler); // switch to popup window\n    \n            // Now you are in the popup window, perform necessary actions here\n            JavascriptExecutor js = (JavascriptExecutor) driver;\n            js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\n            driver.navigate().forward();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;/html/body/div[10]/section/div/div/div[2]/div/div[2]/div/div[3]/div/div[2]/form/button/div&quot;)).click();\n    \n            driver.findElement(By.className(&quot;whsOnd zHQkBf&quot;)).sendKeys(&quot;Mymailideeks&quot;);\n    \n    \n    \n    \n    \n    \n    \n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","process","batch-processing","runtime.exec"],"comments":[{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":0,"creation_date":1367481149,"post_id":16332872,"comment_id":23392444,"body_markdown":"Check http://stackoverflow.com/questions/15199119/runtime-exec-waitfor-doesnt-wait-until-process-is-done","body":"Check <a href=\"http://stackoverflow.com/questions/15199119/runtime-exec-waitfor-doesnt-wait-until-process-is-done\" title=\"runtime exec waitfor doesnt wait until process is done\">stackoverflow.com/questions/15199119/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23762,"reputation":5821,"user_id":59801,"accept_rate":89,"display_name":"edoloughlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367481280,"creation_date":1367481280,"answer_id":16332978,"question_id":16332872,"body_markdown":"`Runtime.exec` returns a `Process` object (`pr`, in your example above). Just call `pr.waitFor()` to wait for the process to exit.","title":"how to wait for batch command to complete its excecution in java","body":"<p><code>Runtime.exec</code> returns a <code>Process</code> object (<code>pr</code>, in your example above). Just call <code>pr.waitFor()</code> to wait for the process to exit.</p>\n"},{"comments":[{"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"score":0,"creation_date":1367482042,"post_id":16332980,"comment_id":23392848,"body_markdown":"ya i used it but getting same file not found for my first run","body":"ya i used it but getting same file not found for my first run"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1367485918,"post_id":16332980,"comment_id":23394594,"body_markdown":"Is the batch file creating the CSV file?","body":"Is the batch file creating the CSV file?"},{"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"score":0,"creation_date":1367487979,"post_id":16332980,"comment_id":23395730,"body_markdown":"ya it is creating csv file to my local directory ....so my program statements immediate after Process pr = rt.exec(command);  int exitVal = pr.waitFor(); is to use the CSV file for analysis. But getting file not found","body":"ya it is creating csv file to my local directory ....so my program statements immediate after Process pr = rt.exec(command);  int exitVal = pr.waitFor(); is to use the CSV file for analysis. But getting file not found"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1367491892,"post_id":16332980,"comment_id":23397674,"body_markdown":"Insted of String command = &quot;cmd /c start &quot; + batFile; try String command = &quot;cmd /c &quot; + batFile;","body":"Insted of String command = &quot;cmd /c start &quot; + batFile; try String command = &quot;cmd /c &quot; + batFile;"}],"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413390083,"creation_date":1367481284,"answer_id":16332980,"question_id":16332872,"body_markdown":"Try [pr.waitFor][1] this method will return the exit code, anything other than 0 the process failed.\r\n\r\nInsted of ```String command = &quot;cmd /c start &quot; + batFile;``` use ```String command = &quot;cmd /c &quot; + batFile```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#waitFor%28%29","title":"how to wait for batch command to complete its excecution in java","body":"<p>Try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#waitFor%28%29\" rel=\"nofollow\">pr.waitFor</a> this method will return the exit code, anything other than 0 the process failed.</p>\n\n<p>Insted of <code>String command = \"cmd /c start \" + batFile;</code> use <code>String command = \"cmd /c \" + batFile</code></p>\n"}],"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16332980,"answer_count":2,"score":0,"last_activity_date":1681461256,"creation_date":1367480912,"question_id":16332872,"body_markdown":"I want to wait till my batch command completes its execution and creates a CSV file as output. The code is as bellow for executing batch file\r\n\r\n    String command = &quot;cmd /c start &quot; + batFile;\r\n\t\t\tRuntime rt = Runtime.getRuntime();\r\n\t\t\tProcess pr = rt.exec(command);\r\n\r\nThen I want to use the CSV file(app.csv) to read the contents of it. But when I run the program, I am getting like.\r\n\r\n    java.io.FileNotFoundException: C:\\appanalysis\\app.csv (The system cannot find the file specified)\r\n    \tat java.io.FileInputStream.open(Native Method)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:79)\r\n    \tat java.io.FileReader.&lt;init&gt;(FileReader.java:41)\r\n\r\nHow to resolve this?","title":"how to wait for batch command to complete its excecution in java","body":"<p>I want to wait till my batch command completes its execution and creates a CSV file as output. The code is as bellow for executing batch file</p>\n<pre><code>String command = &quot;cmd /c start &quot; + batFile;\n        Runtime rt = Runtime.getRuntime();\n        Process pr = rt.exec(command);\n</code></pre>\n<p>Then I want to use the CSV file(app.csv) to read the contents of it. But when I run the program, I am getting like.</p>\n<pre><code>java.io.FileNotFoundException: C:\\appanalysis\\app.csv (The system cannot find the file specified)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:79)\n    at java.io.FileReader.&lt;init&gt;(FileReader.java:41)\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1681402800,"post_id":76007105,"comment_id":134054255,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"score":1,"creation_date":1681408555,"post_id":76007105,"comment_id":134055482,"body_markdown":"Sorry if this was not obvious, added the question on main thread. Basically want to know how can this be achieved ?","body":"Sorry if this was not obvious, added the question on main thread. Basically want to know how can this be achieved ?"}],"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681461211,"creation_date":1681398840,"question_id":76007105,"body_markdown":"I have a `@configuration` (MyConfig) class which creates a few beans. This works fine. \r\n\r\nBut now I have a requirement to create multiple instances of this configuration (MyConfig) based on a List&lt;MyBean4&gt;\r\n\r\nSomething like \r\n\r\n    list.foreach(new MyConfig(myBean4))  // but this is not correct obviously  \r\n\r\nSo that I am able to use corresponding myBean4 inside each instance of MyConfig\r\n\r\nHow can this be achieved ?\r\n\r\n\r\n```\r\n@Configuration \r\npublic class MyConfig {\r\n\r\n  @Autowired\r\n  CustomBean1 mybean1;\r\n\r\n  public MyConfig() {\r\n  }\r\n\r\n\r\n  @Bean\r\n  public CustomBean2 getBean2(@Qualifier(&quot;myChannel&quot;){ ...}\r\n\r\n  @ServiceActivator(inputChannel = &quot;myChannel&quot;)\r\n  public void myReciever(@Header(&quot;abc&quot;) SomeBean bean ){...}\r\n\r\n  @Bean\r\n  public CustomBean3 myChannel(){...}\r\n\r\n}\r\n```\r\n","title":"Multiple Instances of @Configuration in spring","body":"<p>I have a <code>@configuration</code> (MyConfig) class which creates a few beans. This works fine.</p>\n<p>But now I have a requirement to create multiple instances of this configuration (MyConfig) based on a List</p>\n<p>Something like</p>\n<pre><code>list.foreach(new MyConfig(myBean4))  // but this is not correct obviously  \n</code></pre>\n<p>So that I am able to use corresponding myBean4 inside each instance of MyConfig</p>\n<p>How can this be achieved ?</p>\n<pre><code>@Configuration \npublic class MyConfig {\n\n  @Autowired\n  CustomBean1 mybean1;\n\n  public MyConfig() {\n  }\n\n\n  @Bean\n  public CustomBean2 getBean2(@Qualifier(&quot;myChannel&quot;){ ...}\n\n  @ServiceActivator(inputChannel = &quot;myChannel&quot;)\n  public void myReciever(@Header(&quot;abc&quot;) SomeBean bean ){...}\n\n  @Bean\n  public CustomBean3 myChannel(){...}\n\n}\n</code></pre>\n"},{"tags":["java","cmd","command-line","jvm"],"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":40,"creation_date":1366590561,"post_id":16137713,"comment_id":23054202,"body_markdown":"`javac CopyFile.java` and then `java CopyFile`","body":"<code>javac CopyFile.java</code> and then <code>java CopyFile</code>"},{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":0,"creation_date":1366590656,"post_id":16137713,"comment_id":23054225,"body_markdown":"I&#39;m at the command line now, do I need to save my txt files in the same folder as the program for them to be invoked?","body":"I&#39;m at the command line now, do I need to save my txt files in the same folder as the program for them to be invoked?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1366590748,"post_id":16137713,"comment_id":23054245,"body_markdown":"What package does `CopyFile` reside","body":"What package does <code>CopyFile</code> reside"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1366590817,"post_id":16137713,"comment_id":23054256,"body_markdown":"@Elizabeth Turner first you have to make sure that you have installed JRE (Java Runtime Env) and that it&#39;s accessible form every folder (the path to Java/Javac is included in the PATH env variable). Then run the commands I wrote above from the same folder in which CopyFile.java is located.","body":"@Elizabeth Turner first you have to make sure that you have installed JRE (Java Runtime Env) and that it&#39;s accessible form every folder (the path to Java/Javac is included in the PATH env variable). Then run the commands I wrote above from the same folder in which CopyFile.java is located."},{"owner":{"account_id":9022,"reputation":31287,"user_id":16487,"accept_rate":71,"display_name":"C. Ross"},"score":0,"creation_date":1366590838,"post_id":16137713,"comment_id":23054260,"body_markdown":"See [java](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html), [PATH and CLASSPATH](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html) and this question [Running Java Program From Command Line](http://stackoverflow.com/q/9879679/16487).","body":"See <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">java</a>, <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">PATH and CLASSPATH</a> and this question <a href=\"http://stackoverflow.com/q/9879679/16487\">Running Java Program From Command Line</a>."},{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":0,"creation_date":1366591468,"post_id":16137713,"comment_id":23054404,"body_markdown":"@alfasin lets assume that JRE isn&#39;t installed, how would i go about installing it","body":"@alfasin lets assume that JRE isn&#39;t installed, how would i go about installing it"},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643217878,"post_id":16137713,"comment_id":125283036,"body_markdown":"@ARJUN, your link is no longer valid. It looks like it go to a spam place.","body":"@ARJUN, your link is no longer valid. It looks like it go to a spam place."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643217942,"post_id":16137713,"comment_id":125283053,"body_markdown":"Check for JEP 330 for more information about running Java programs as if they was shell or Python scripts.","body":"Check for JEP 330 for more information about running Java programs as if they was shell or Python scripts."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643218070,"post_id":16137713,"comment_id":125283124,"body_markdown":"@elizabeth-turner, no you don&#39;t need to have the text file in the same place as the java program.  But you should probably use an argument to the `main` method to tell where it is, and then add to the command line the path to the file.  As for instance `dir`, `ls`, `copy` and `cp` works.","body":"@elizabeth-turner, no you don&#39;t need to have the text file in the same place as the java program.  But you should probably use an argument to the <code>main</code> method to tell where it is, and then add to the command line the path to the file.  As for instance <code>dir</code>, <code>ls</code>, <code>copy</code> and <code>cp</code> works."},{"owner":{"account_id":2282546,"reputation":399,"user_id":2007313,"accept_rate":0,"display_name":"ARJUN"},"score":0,"creation_date":1647425686,"post_id":16137713,"comment_id":126365815,"body_markdown":"Check this link [Running a Java program from command Prompt](https://msccomputerscience4all.blogspot.com/2013/02/running-java-program-from-command-prompt.html)","body":"Check this link <a href=\"https://msccomputerscience4all.blogspot.com/2013/02/running-java-program-from-command-prompt.html\" rel=\"nofollow noreferrer\">Running a Java program from command Prompt</a>"},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667302519,"post_id":16137713,"comment_id":131131482,"body_markdown":"As of Java 11 you can run directly from a single `.java` file. So `java CopyFile.java` should work.","body":"As of Java 11 you can run directly from a single <code>.java</code> file. So <code>java CopyFile.java</code> should work."}],"answers":[{"comments":[{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":40,"creation_date":1366591356,"post_id":16137745,"comment_id":23054388,"body_markdown":"The issue im having is when i try to run the compiler I get an error &quot;could not find or load main class CopyFile","body":"The issue im having is when i try to run the compiler I get an error &quot;could not find or load main class CopyFile"},{"owner":{"account_id":2664807,"reputation":2691,"user_id":2303547,"accept_rate":75,"display_name":"Nicholas Kadaeux"},"score":3,"creation_date":1366591725,"post_id":16137745,"comment_id":23054449,"body_markdown":"If you have the folder containing CopyFile.class set as the current directory, simply try &quot;java -cp . CopyFile&quot; Otherwise &quot;java -cp FULLPATH CopyFile&quot;","body":"If you have the folder containing CopyFile.class set as the current directory, simply try &quot;java -cp . CopyFile&quot; Otherwise &quot;java -cp FULLPATH CopyFile&quot;"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1457048742,"post_id":16137745,"comment_id":59241951,"body_markdown":"How would I create a batch file that compiles&amp;runs the code, yet if it was compile before, just launch it?","body":"How would I create a batch file that compiles&amp;runs the code, yet if it was compile before, just launch it?"},{"owner":{"account_id":278024,"reputation":18171,"user_id":572370,"display_name":"Artur Czajka"},"score":3,"creation_date":1478393490,"post_id":16137745,"comment_id":68136340,"body_markdown":"What&#39;s missing: if the class was declared to be in a certain package, then you have to put the `.class` file in the appropriate directory structure. Current directory is the default classpath, so you don&#39;t have to set `-cp .` manually.","body":"What&#39;s missing: if the class was declared to be in a certain package, then you have to put the <code>.class</code> file in the appropriate directory structure. Current directory is the default classpath, so you don&#39;t have to set <code>-cp .</code> manually."},{"owner":{"account_id":559251,"reputation":5026,"user_id":921587,"accept_rate":75,"display_name":"chrips"},"score":2,"creation_date":1502683796,"post_id":16137745,"comment_id":78292116,"body_markdown":"For sure, you should be using a packages: package mypackage;     then go to your projectname/ .    Run java mypackage.Main","body":"For sure, you should be using a packages: package mypackage;     then go to your projectname/ .    Run java mypackage.Main"},{"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"score":0,"creation_date":1503428144,"post_id":16137745,"comment_id":78608267,"body_markdown":"What happens when you run Java filenamehere. I&#39;m guessing the java compiler DOESN&#39;T compile anything and instead the .class file is being passed to the JVM?@NicholasKadaeux","body":"What happens when you run Java filenamehere. I&#39;m guessing the java compiler DOESN&#39;T compile anything and instead the .class file is being passed to the JVM?@NicholasKadaeux"},{"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"score":2,"creation_date":1589577535,"post_id":16137745,"comment_id":109359976,"body_markdown":"@ElizabethTurner, I had the same error, and it was because I had opened the grandparent folder and I used a project with local packages at the start of the code. The result: I had multiple projects in the working directory. If you use **package [projectfoldername];** in the first lines of your code files, you must use **java [projectfoldername]\\xyz.java** &quot;outside the projectfolder&quot;, and with that folder structure of the package you also run the class afterwards. See e.g. https://stackoverflow.com/questions/9234488/running-java-class-from-terminal","body":"@ElizabethTurner, I had the same error, and it was because I had opened the grandparent folder and I used a project with local packages at the start of the code. The result: I had multiple projects in the working directory. If you use <b>package [projectfoldername];</b> in the first lines of your code files, you must use <b>java [projectfoldername]\\xyz.java</b> &quot;outside the projectfolder&quot;, and with that folder structure of the package you also run the class afterwards. See e.g. <a href=\"https://stackoverflow.com/questions/9234488/running-java-class-from-terminal\" title=\"running java class from terminal\">stackoverflow.com/questions/9234488/&hellip;</a>"},{"owner":{"account_id":18231926,"reputation":111,"user_id":13270701,"display_name":"hayden.mumm"},"score":1,"creation_date":1684521481,"post_id":16137745,"comment_id":134534641,"body_markdown":"I was having a similar issue. As sugggested by @ArturCzajka I just needed to add -cp . but **it needs to be before the name of the class** So like this: java -cp . Test","body":"I was having a similar issue. As sugggested by @ArturCzajka I just needed to add -cp . but <b>it needs to be before the name of the class</b> So like this: java -cp . Test"}],"tags":[],"owner":{"account_id":2664807,"reputation":2691,"user_id":2303547,"accept_rate":75,"display_name":"Nicholas Kadaeux"},"comment_count":8,"down_vote_count":0,"up_vote_count":264,"is_accepted":true,"score":264,"last_activity_date":1509618384,"creation_date":1366590661,"answer_id":16137745,"question_id":16137713,"body_markdown":"Source: [javaindos.][1]\r\n\r\n&gt; Let&#39;s say your file is in C:\\mywork\\\r\n&gt; \r\n&gt; Run Command Prompt \r\n&gt; \r\n&gt;     C:\\&gt; cd \\mywork\r\n&gt; \r\n&gt; This makes C:\\mywork the current directory.\r\n&gt; \r\n&gt;     C:\\mywork&gt; dir\r\n&gt; \r\n&gt; This displays the directory contents.  You should see\r\n&gt; filenamehere.java among the files.\r\n&gt; \r\n&gt;     C:\\mywork&gt; set path=%path%;C:\\Program Files\\Java\\jdk1.5.0_09\\bin\r\n&gt; \r\n&gt; This tells the system where to find JDK programs.\r\n&gt; \r\n&gt;     C:\\mywork&gt; javac filenamehere.java\r\n&gt; \r\n&gt; This runs javac.exe, the compiler.  You should see nothing but the\r\n&gt; next system prompt...\r\n&gt; \r\n&gt;     C:\\mywork&gt; dir\r\n&gt; \r\n&gt; javac has created the filenamehere.class file.  You should see\r\n&gt; filenamehere.java and filenamehere.class among the files.\r\n&gt; \r\n&gt;     C:\\mywork&gt; java filenamehere\r\n&gt; \r\n&gt; This runs the Java interpreter.  You should then see your program\r\n&gt; output.\r\n&gt; \r\n&gt; If the system cannot find javac, check the set path command.  If javac\r\n&gt; runs but you get errors, check your Java text.  If the program\r\n&gt; compiles but you get an exception, check the spelling and\r\n&gt; capitalization in the file name and the class name and the java\r\n&gt; HelloWorld command.  Java is case-sensitive!\r\n\r\n\r\n  [1]: http://www.skylit.com/javamethods/faqs/javaindos.html\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Source: <a href=\"http://www.skylit.com/javamethods/faqs/javaindos.html\" rel=\"noreferrer\">javaindos.</a></p>\n\n<blockquote>\n  <p>Let's say your file is in C:\\mywork\\</p>\n  \n  <p>Run Command Prompt </p>\n\n<pre><code>C:\\&gt; cd \\mywork\n</code></pre>\n  \n  <p>This makes C:\\mywork the current directory.</p>\n\n<pre><code>C:\\mywork&gt; dir\n</code></pre>\n  \n  <p>This displays the directory contents.  You should see\n  filenamehere.java among the files.</p>\n\n<pre><code>C:\\mywork&gt; set path=%path%;C:\\Program Files\\Java\\jdk1.5.0_09\\bin\n</code></pre>\n  \n  <p>This tells the system where to find JDK programs.</p>\n\n<pre><code>C:\\mywork&gt; javac filenamehere.java\n</code></pre>\n  \n  <p>This runs javac.exe, the compiler.  You should see nothing but the\n  next system prompt...</p>\n\n<pre><code>C:\\mywork&gt; dir\n</code></pre>\n  \n  <p>javac has created the filenamehere.class file.  You should see\n  filenamehere.java and filenamehere.class among the files.</p>\n\n<pre><code>C:\\mywork&gt; java filenamehere\n</code></pre>\n  \n  <p>This runs the Java interpreter.  You should then see your program\n  output.</p>\n  \n  <p>If the system cannot find javac, check the set path command.  If javac\n  runs but you get errors, check your Java text.  If the program\n  compiles but you get an exception, check the spelling and\n  capitalization in the file name and the class name and the java\n  HelloWorld command.  Java is case-sensitive!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2118736,"reputation":489,"user_id":1882481,"accept_rate":80,"display_name":"monika"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1366591768,"creation_date":1366590778,"answer_id":16137754,"question_id":16137713,"body_markdown":"You can compile any java source using javac in command line ; eg, javac CopyFile.java.\r\nTo run : java CopyFile.\r\nYou can also compile all java files using javac *.java as long as they&#39;re in the same directory\r\n\r\nIf you&#39;re having an issue resulting with &quot;could not find or load main class&quot; you may not have\r\njre in your path. Have a look at this question:\r\nhttps://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class","title":"How do I run a Java program from the command line on Windows?","body":"<p>You can compile any java source using javac in command line ; eg, javac CopyFile.java.\nTo run : java CopyFile.\nYou can also compile all java files using javac *.java as long as they're in the same directory</p>\n\n<p>If you're having an issue resulting with \"could not find or load main class\" you may not have\njre in your path. Have a look at this question:\n<a href=\"https://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class\">Could not find or load main class</a></p>\n"},{"comments":[{"owner":{"account_id":357443,"reputation":1148,"user_id":697612,"display_name":"Doomjunky"},"score":0,"creation_date":1503607032,"post_id":23012272,"comment_id":78699888,"body_markdown":"Notice that  your &quot;filename&quot; is actually a name of a class. The java.exe will search every *.jar file for a class of this name.","body":"Notice that  your &quot;filename&quot; is actually a name of a class. The java.exe will search every *.jar file for a class of this name."},{"owner":{"account_id":943441,"reputation":24326,"user_id":971141,"display_name":"David Ferenczy Rogožan"},"score":0,"creation_date":1537460504,"post_id":23012272,"comment_id":91802321,"body_markdown":"@Doomjunky Could you explain it, please? Is that bad or good? Should it be named differently?","body":"@Doomjunky Could you explain it, please? Is that bad or good? Should it be named differently?"}],"tags":[],"owner":{"account_id":4266152,"reputation":845,"user_id":3489227,"accept_rate":89,"display_name":"Paresh3489227"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1537460435,"creation_date":1397218470,"answer_id":23012272,"question_id":16137713,"body_markdown":"**Complile** a Java file to generate a class:\r\n\r\n    javac filename.java\r\n\r\n**Execute** the generated class:\r\n\r\n    java filename","title":"How do I run a Java program from the command line on Windows?","body":"<p><strong>Complile</strong> a Java file to generate a class:</p>\n\n<pre><code>javac filename.java\n</code></pre>\n\n<p><strong>Execute</strong> the generated class:</p>\n\n<pre><code>java filename\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1976241,"reputation":5143,"user_id":1773972,"accept_rate":50,"display_name":"Pini Cheyni"},"score":6,"creation_date":1447783607,"post_id":33149828,"comment_id":55295603,"body_markdown":"can you please show the contents of MANIFEST.mf, because when I try to &quot;Executable by Entry Point&quot; it says the main class can&#39;t be found","body":"can you please show the contents of MANIFEST.mf, because when I try to &quot;Executable by Entry Point&quot; it says the main class can&#39;t be found"},{"owner":{"account_id":7127243,"reputation":1707,"user_id":5449766,"display_name":"jkhosla"},"score":0,"creation_date":1448421987,"post_id":33149828,"comment_id":55578444,"body_markdown":"@Pini Cheyni If your class is called the MainClass then your manifest file will have an entry for the Main-Class : MainClass","body":"@Pini Cheyni If your class is called the MainClass then your manifest file will have an entry for the Main-Class : MainClass"},{"owner":{"account_id":2513477,"reputation":1128,"user_id":2185398,"accept_rate":48,"display_name":"Dinesh Kumar P"},"score":0,"creation_date":1474954760,"post_id":33149828,"comment_id":66731060,"body_markdown":"@PiniCheyni, The 2 ways to create executable jars are explained well here.\nhttps://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","body":"@PiniCheyni, The 2 ways to create executable jars are explained well here. <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a>"},{"owner":{"account_id":3482547,"reputation":887,"user_id":7783416,"accept_rate":80,"display_name":"user2914191"},"score":0,"creation_date":1549200934,"post_id":33149828,"comment_id":95810747,"body_markdown":"on point 3, when you call `java TheJavaFile` thats equivalent to `java TheJavaFile.class`.. so youre not executing the java file like you stated. youre executing the class file. java files are sources which are not executable","body":"on point 3, when you call <code>java TheJavaFile</code> thats equivalent to <code>java TheJavaFile.class</code>.. so youre not executing the java file like you stated. youre executing the class file. java files are sources which are not executable"}],"tags":[],"owner":{"account_id":7127243,"reputation":1707,"user_id":5449766,"display_name":"jkhosla"},"comment_count":4,"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1444918365,"creation_date":1444915580,"answer_id":33149828,"question_id":16137713,"body_markdown":"To complete the answer :\r\n\r\n1. The Java File\r\n\r\n        TheJavaFile.java\r\n\r\n1. Compile the Java File to a *.class file\r\n\r\n        javac TheJavaFile.java\r\n\r\n    * This will create a `TheJavaFile.class` file\r\n\r\n1. Execution of the Java File\r\n\r\n        java TheJavaFile\r\n\r\n1. Creation of an executable `*.jar` file\r\n\r\n    * You&#39;ve got two options here -\r\n\r\n        1. With an external manifest file :\r\n\r\n            * Create the manifest file say - MANIFEST.mf \r\n\r\n            * The MANIFEST file is nothing but an explicit entry of the Main Class \r\n \r\n            * `jar -cvfm TheJavaFile.jar MANIFEST.mf TheJavaFile.class`\r\n\r\n        1. Executable by Entry Point:\r\n            * `jar -cvfe TheJavaFile.jar &lt;MainClass&gt; TheJavaFile.class`\r\n\r\n1. To run the Jar File\r\n\r\n        java -jar TheJavaFile.jar\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>To complete the answer :</p>\n\n<ol>\n<li><p>The Java File</p>\n\n<pre><code>TheJavaFile.java\n</code></pre></li>\n<li><p>Compile the Java File to a *.class file</p>\n\n<pre><code>javac TheJavaFile.java\n</code></pre>\n\n<ul>\n<li>This will create a <code>TheJavaFile.class</code> file</li>\n</ul></li>\n<li><p>Execution of the Java File</p>\n\n<pre><code>java TheJavaFile\n</code></pre></li>\n<li><p>Creation of an executable <code>*.jar</code> file</p>\n\n<ul>\n<li><p>You've got two options here -</p>\n\n<ol>\n<li><p>With an external manifest file :</p>\n\n<ul>\n<li><p>Create the manifest file say - MANIFEST.mf </p></li>\n<li><p>The MANIFEST file is nothing but an explicit entry of the Main Class </p></li>\n<li><p><code>jar -cvfm TheJavaFile.jar MANIFEST.mf TheJavaFile.class</code></p></li>\n</ul></li>\n<li><p>Executable by Entry Point:</p>\n\n<ul>\n<li><code>jar -cvfe TheJavaFile.jar &lt;MainClass&gt; TheJavaFile.class</code></li>\n</ul></li>\n</ol></li>\n</ul></li>\n<li><p>To run the Jar File</p>\n\n<pre><code>java -jar TheJavaFile.jar\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4144435,"reputation":141,"user_id":6112807,"display_name":"Eliza Helena"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1459684100,"creation_date":1459684100,"answer_id":36385010,"question_id":16137713,"body_markdown":"It is easy. If you have saved your file as A.text first thing you should do is save it as A.java. Now it is a Java file. \r\n\r\nNow you need to open cmd and set path to you A.java file before compile it. you can refer [this][1] for that.\r\n\r\n\r\nThen you can compile your file using command \r\n\r\n&gt; javac A.java\r\n\r\nThen run it using\r\n\r\n&gt; java A\r\n\r\nSo that is how you compile and run a java program in cmd.\r\nYou can also go through these [material][2] that is Java in depth lessons. Lot of things you need to understand in Java is covered there for beginners.\r\n\r\n\r\n  [1]: http://www.elcaro-guide.com/java/how-to-compile-and-run-a-java-program\r\n  [2]: http://www.elcaro-guide.com/java\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>It is easy. If you have saved your file as A.text first thing you should do is save it as A.java. Now it is a Java file. </p>\n\n<p>Now you need to open cmd and set path to you A.java file before compile it. you can refer <a href=\"http://www.elcaro-guide.com/java/how-to-compile-and-run-a-java-program\" rel=\"noreferrer\">this</a> for that.</p>\n\n<p>Then you can compile your file using command </p>\n\n<blockquote>\n  <p>javac A.java</p>\n</blockquote>\n\n<p>Then run it using</p>\n\n<blockquote>\n  <p>java A</p>\n</blockquote>\n\n<p>So that is how you compile and run a java program in cmd.\nYou can also go through these <a href=\"http://www.elcaro-guide.com/java\" rel=\"noreferrer\">material</a> that is Java in depth lessons. Lot of things you need to understand in Java is covered there for beginners.</p>\n"},{"tags":[],"owner":{"account_id":66427,"reputation":688,"user_id":194872,"display_name":"Chris Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467157794,"creation_date":1467157794,"answer_id":38088078,"question_id":16137713,"body_markdown":"On Windows 7 I had to do the following:\r\n\r\n**quick way**\r\n\r\n 1. Install JDK http://www.oracle.com/technetwork/java/javase/downloads\r\n 2. in windows, browse into &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin&quot; (or wherever the latest version of JDK is installed), hold down shift and right click on a blank area within the window and do &quot;open command window here&quot; and this will give you a command line and access to all the BIN tools. &quot;javac&quot; is not by default in the windows system PATH environment variable.\r\n 3. Follow comments above about how to compile the file (&quot;javac MyFile.java&quot; then &quot;java MyFile&quot;) https://stackoverflow.com/a/33149828/194872\r\n\r\n**long way**\r\n\r\n 4. Install JDK http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n 5. After installing, in edits the Windows PATH environment variable and adds the following to the path C:\\ProgramData\\Oracle\\Java\\javapath. Within this folder are symbolic links to a handful of java executables **but &quot;javac&quot; is NOT one of them** so when trying to run &quot;javac&quot; from Windows command line it throws an error.\r\n 6. I edited the path: Control Panel -&gt; System -&gt; Advanced tab -&gt; &quot;Environment Variables...&quot; button -&gt; scroll down to &quot;Path&quot;, highlight and edit -&gt; replaced the &quot;C:\\ProgramData\\Oracle\\Java\\javapath&quot; with a direct path to the java BIN folder &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin&quot;.\r\n 7. This likely breaks when you upgrade your JDK installation but you have access to all the command line tools now.\r\n\r\n 8. Follow comments above about how to compile the file (&quot;javac MyFile.java&quot; then &quot;java MyFile&quot;) https://stackoverflow.com/a/33149828/194872\r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>On Windows 7 I had to do the following:</p>\n\n<p><strong>quick way</strong></p>\n\n<ol>\n<li>Install JDK <a href=\"http://www.oracle.com/technetwork/java/javase/downloads\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads</a></li>\n<li>in windows, browse into \"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\" (or wherever the latest version of JDK is installed), hold down shift and right click on a blank area within the window and do \"open command window here\" and this will give you a command line and access to all the BIN tools. \"javac\" is not by default in the windows system PATH environment variable.</li>\n<li>Follow comments above about how to compile the file (\"javac MyFile.java\" then \"java MyFile\") <a href=\"https://stackoverflow.com/a/33149828/194872\">https://stackoverflow.com/a/33149828/194872</a></li>\n</ol>\n\n<p><strong>long way</strong></p>\n\n<ol start=\"4\">\n<li>Install JDK <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>\n<li>After installing, in edits the Windows PATH environment variable and adds the following to the path C:\\ProgramData\\Oracle\\Java\\javapath. Within this folder are symbolic links to a handful of java executables <strong>but \"javac\" is NOT one of them</strong> so when trying to run \"javac\" from Windows command line it throws an error.</li>\n<li>I edited the path: Control Panel -> System -> Advanced tab -> \"Environment Variables...\" button -> scroll down to \"Path\", highlight and edit -> replaced the \"C:\\ProgramData\\Oracle\\Java\\javapath\" with a direct path to the java BIN folder \"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\".</li>\n<li><p>This likely breaks when you upgrade your JDK installation but you have access to all the command line tools now.</p></li>\n<li><p>Follow comments above about how to compile the file (\"javac MyFile.java\" then \"java MyFile\") <a href=\"https://stackoverflow.com/a/33149828/194872\">https://stackoverflow.com/a/33149828/194872</a></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4383396,"reputation":4940,"user_id":3574379,"accept_rate":90,"display_name":"srghma"},"score":0,"creation_date":1644772528,"post_id":38639055,"comment_id":125689349,"body_markdown":"works for java 8","body":"works for java 8"}],"tags":[],"owner":{"account_id":8809950,"reputation":511,"user_id":6583296,"accept_rate":22,"display_name":"Harshad Holkar"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1537460615,"creation_date":1469715316,"answer_id":38639055,"question_id":16137713,"body_markdown":"In case your Java class is in some package. Suppose your Java class named `ABC.java` is present in `com.hello.programs`, then you need to run it with the package name.\r\n\r\nCompile it in the usual way:\r\n\r\n    C:\\SimpleJavaProject\\src\\com\\hello\\programs &gt; javac ABC.java\r\n\r\nBut to run it, you need to give the package name and then your java class name:\r\n\r\n    C:\\SimpleJavaProject\\src &gt; java com.hello.programs.ABC","title":"How do I run a Java program from the command line on Windows?","body":"<p>In case your Java class is in some package. Suppose your Java class named <code>ABC.java</code> is present in <code>com.hello.programs</code>, then you need to run it with the package name.</p>\n\n<p>Compile it in the usual way:</p>\n\n<pre><code>C:\\SimpleJavaProject\\src\\com\\hello\\programs &gt; javac ABC.java\n</code></pre>\n\n<p>But to run it, you need to give the package name and then your java class name:</p>\n\n<pre><code>C:\\SimpleJavaProject\\src &gt; java com.hello.programs.ABC\n</code></pre>\n"},{"comments":[{"owner":{"account_id":559251,"reputation":5026,"user_id":921587,"accept_rate":75,"display_name":"chrips"},"score":5,"creation_date":1502608442,"post_id":41967456,"comment_id":78273912,"body_markdown":"mycomputer:bin user$ java -cp . Main.class \nError: Could not find or load main class Main.class","body":"mycomputer:bin user$ java -cp . Main.class  Error: Could not find or load main class Main.class"}],"tags":[],"owner":{"account_id":1268233,"reputation":337,"user_id":5628025,"display_name":"YakovK"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1485896609,"creation_date":1485896609,"answer_id":41967456,"question_id":16137713,"body_markdown":"Assuming the file is called &quot;CopyFile.java&quot;, do the following:\r\n\r\n    javac CopyFile.java\r\n    java -cp . CopyFile\r\n\r\nThe first line compiles the source code into executable byte code. The second line executes it, first adding the current directory to the class path (just in case).\r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Assuming the file is called \"CopyFile.java\", do the following:</p>\n\n<pre><code>javac CopyFile.java\njava -cp . CopyFile\n</code></pre>\n\n<p>The first line compiles the source code into executable byte code. The second line executes it, first adding the current directory to the class path (just in case).</p>\n"},{"tags":[],"owner":{"account_id":9210991,"reputation":355,"user_id":6844163,"display_name":"Ashwant Manikoth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494562829,"creation_date":1494562116,"answer_id":43929138,"question_id":16137713,"body_markdown":"[![enter image description here][1]][1]\r\nSTEP 1: FIRST OPEN THE COMMAND PROMPT WHERE YOUR FILE IS LOCATED. (right click while pressing shift)    \r\nSTEP 2: THEN USE THE FOLLOWING COMMANDS TO EXECUTE.\r\n        (lets say the file and class name to be executed is named as Student.java)The example program is in the picture background.\r\n\r\n         javac Student.java\r\n         java Student\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EE25R.png\r\n  [2]: https://i.stack.imgur.com/P2vTH.png","title":"How do I run a Java program from the command line on Windows?","body":"<p><a href=\"https://i.stack.imgur.com/EE25R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EE25R.png\" alt=\"enter image description here\"></a>\nSTEP 1: FIRST OPEN THE COMMAND PROMPT WHERE YOUR FILE IS LOCATED. (right click while pressing shift)<br>\nSTEP 2: THEN USE THE FOLLOWING COMMANDS TO EXECUTE.\n        (lets say the file and class name to be executed is named as Student.java)The example program is in the picture background.</p>\n\n<pre><code>     javac Student.java\n     java Student\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P2vTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2vTH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11360616,"reputation":161,"user_id":8328871,"display_name":"Horsey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548576300,"creation_date":1548576300,"answer_id":54386200,"question_id":16137713,"body_markdown":"As of Java 9, the JDK includes `jshell`, a Java REPL.\r\n\r\nAssuming the JDK 9+ `bin` directory is correctly added to your path, you will be able to simply:\r\n\r\n1. Run `jshell File.java` — `File.java` being your file of course. \r\n2. A prompt will open, allowing you to call the `main` method: `jshell&gt; File.main(null)`.\r\n3. To close the prompt and end the JVM session, use `/exit`\r\n\r\nFull documentation for JShell can be found [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/jshell/introduction-jshell.html","title":"How do I run a Java program from the command line on Windows?","body":"<p>As of Java 9, the JDK includes <code>jshell</code>, a Java REPL.</p>\n\n<p>Assuming the JDK 9+ <code>bin</code> directory is correctly added to your path, you will be able to simply:</p>\n\n<ol>\n<li>Run <code>jshell File.java</code> — <code>File.java</code> being your file of course. </li>\n<li>A prompt will open, allowing you to call the <code>main</code> method: <code>jshell&gt; File.main(null)</code>.</li>\n<li>To close the prompt and end the JVM session, use <code>/exit</code></li>\n</ol>\n\n<p>Full documentation for JShell can be found <a href=\"https://docs.oracle.com/en/java/javase/11/jshell/introduction-jshell.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1569589451,"post_id":55630197,"comment_id":102657002,"body_markdown":"This feature has been added in JDK&#160;11.","body":"This feature has been added in JDK 11."}],"tags":[],"owner":{"account_id":5729376,"reputation":44,"user_id":4525391,"display_name":"Shiba"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554978105,"creation_date":1554978105,"answer_id":55630197,"question_id":16137713,"body_markdown":"Now (with JDK 9 onwards), you can just use java &lt;source file name with extension&gt; to get that executed.\r\nIn order to execute &quot;Hello.java&quot; containing the main, one can use: \r\njava Hello.java\r\n\r\nYou do not need to compile using separately using javac anymore. \r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Now (with JDK 9 onwards), you can just use java  to get that executed.\nIn order to execute \"Hello.java\" containing the main, one can use: \njava Hello.java</p>\n\n<p>You do not need to compile using separately using javac anymore. </p>\n"},{"tags":[],"owner":{"account_id":2137634,"reputation":421,"user_id":2632797,"display_name":"akawaguc"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1559139040,"creation_date":1559139040,"answer_id":56362575,"question_id":16137713,"body_markdown":"Since Java 11, `java` command line tool has been able to run a single-file source-code directly. e.g.\r\n\r\n    java HelloWorld.java\r\n\r\nThis was an enhancement with JEP 330: https://openjdk.java.net/jeps/330\r\n\r\nFor the details of the usage and the limitations, see the manual of your Java implementation such as one provided by Oracle: https://docs.oracle.com/en/java/javase/11/tools/java.html","title":"How do I run a Java program from the command line on Windows?","body":"<p>Since Java 11, <code>java</code> command line tool has been able to run a single-file source-code directly. e.g.</p>\n\n<pre><code>java HelloWorld.java\n</code></pre>\n\n<p>This was an enhancement with JEP 330: <a href=\"https://openjdk.java.net/jeps/330\" rel=\"noreferrer\">https://openjdk.java.net/jeps/330</a></p>\n\n<p>For the details of the usage and the limitations, see the manual of your Java implementation such as one provided by Oracle: <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/11/tools/java.html</a></p>\n"},{"tags":[],"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643218216,"creation_date":1643216714,"answer_id":70867424,"question_id":16137713,"body_markdown":"You can actually run Java program as you would shell or python scripts without manually compile the Java file, as described in\r\n[JEP 330][jep330]. That is available since JDK 11.\r\n\r\nIf you create a file `testing`, and put the following you should be able to run it as command `testing`.  You  need to make it executable in Linux and Mac OSX with `chmod +x testing`.\r\n\r\n```java\r\n    #!/usr/bin/env java --source 11\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n```\r\nYou are *not* allowed to use the file extension `.java` in the previous example.\r\n\r\n```sh\r\n    $ chmod +x testing\r\n    $ ./testing\r\n    Hello world!\r\n    $\r\n```\r\n\r\nBut you can still execute if it is was name `Test.java` without the shebang &quot;#!&quot; prefix like this: \r\n\r\n```java\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            System.out.println(&quot;Hello again!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n```\r\n\r\nThen execute the file `Test.java` with following command:\r\n\r\n```sh\r\n    $ java Test.java\r\n    Hello again!\r\n    $\r\n```\r\nSo this works as long as you have a new enough Java compiler in the path, check with `java -version`.  More information in this [blog][blog].\r\n\r\n\r\n[jep330]: https://openjdk.java.net/jeps/330 &quot;Java JEP 330: Launch Single-File Source-Code Programs&quot;\r\n[blog]: https://www.infoq.com/articles/single-file-execution-java11 &quot;Running Single-file Programs without Compiling in Java 11&quot;\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>You can actually run Java program as you would shell or python scripts without manually compile the Java file, as described in\n<a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\" title=\"Java JEP 330: Launch Single-File Source-Code Programs\">JEP 330</a>. That is available since JDK 11.</p>\n<p>If you create a file <code>testing</code>, and put the following you should be able to run it as command <code>testing</code>.  You  need to make it executable in Linux and Mac OSX with <code>chmod +x testing</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    #!/usr/bin/env java --source 11\n    public class Test {\n        public static void main(String [] args) {\n            System.out.println(&quot;Hello world!&quot;);\n            System.exit(0);\n        }\n    }\n</code></pre>\n<p>You are <em>not</em> allowed to use the file extension <code>.java</code> in the previous example.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    $ chmod +x testing\n    $ ./testing\n    Hello world!\n    $\n</code></pre>\n<p>But you can still execute if it is was name <code>Test.java</code> without the shebang &quot;#!&quot; prefix like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Test {\n        public static void main(String [] args) {\n            System.out.println(&quot;Hello again!&quot;);\n            System.exit(0);\n        }\n    }\n</code></pre>\n<p>Then execute the file <code>Test.java</code> with following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    $ java Test.java\n    Hello again!\n    $\n</code></pre>\n<p>So this works as long as you have a new enough Java compiler in the path, check with <code>java -version</code>.  More information in this <a href=\"https://www.infoq.com/articles/single-file-execution-java11\" rel=\"nofollow noreferrer\" title=\"Running Single-file Programs without Compiling in Java 11\">blog</a>.</p>\n"}],"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1548001,"favorite_count":0,"down_vote_count":1,"up_vote_count":259,"accepted_answer_id":16137745,"answer_count":13,"score":258,"last_activity_date":1681461194,"creation_date":1366590411,"question_id":16137713,"body_markdown":"I&#39;m trying to execute a Java program from the command line in Windows.  \r\nHere is my code:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    public class CopyFile {\r\n        public static void main(String[] args) {\r\n            InputStream inStream = null;\r\n            OutputStream outStream = null;\r\n\r\n            try {\r\n                File afile = new File(&quot;input.txt&quot;);\r\n                File bfile = new File(&quot;inputCopy.txt&quot;);\r\n\r\n                inStream = new FileInputStream(afile);\r\n                outStream = new FileOutputStream(bfile);\r\n\r\n                byte[] buffer = new byte[1024];\r\n\r\n                int length;\r\n\r\n                // copy the file content in bytes\r\n                while ((length = inStream.read(buffer)) &gt; 0) {\r\n                    outStream.write(buffer, 0, length);\r\n                }\r\n\r\n                inStream.close();\r\n                outStream.close();\r\n\r\n                System.out.println(&quot;File is copied successful!&quot;);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m not sure how to execute the program - any help?  \r\nIs this possible on Windows?  \r\nWhy is it different than another environment (I thought JVM was write once, run anywhere)?","title":"How do I run a Java program from the command line on Windows?","body":"<p>I'm trying to execute a Java program from the command line in Windows.<br />\nHere is my code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class CopyFile {\n    public static void main(String[] args) {\n        InputStream inStream = null;\n        OutputStream outStream = null;\n\n        try {\n            File afile = new File(&quot;input.txt&quot;);\n            File bfile = new File(&quot;inputCopy.txt&quot;);\n\n            inStream = new FileInputStream(afile);\n            outStream = new FileOutputStream(bfile);\n\n            byte[] buffer = new byte[1024];\n\n            int length;\n\n            // copy the file content in bytes\n            while ((length = inStream.read(buffer)) &gt; 0) {\n                outStream.write(buffer, 0, length);\n            }\n\n            inStream.close();\n            outStream.close();\n\n            System.out.println(&quot;File is copied successful!&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure how to execute the program - any help?<br />\nIs this possible on Windows?<br />\nWhy is it different than another environment (I thought JVM was write once, run anywhere)?</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":3268159,"reputation":199,"user_id":2752189,"display_name":"hfarhanahmed"},"score":0,"creation_date":1572949300,"post_id":58696488,"comment_id":103712474,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/56111529/cannot-call-non-w3c-standard-command-while-in-w3c-mode-seleniumwebdrivererr?noredirect=1&amp;lq=1","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/56111529/cannot-call-non-w3c-standard-command-while-in-w3c-mode-seleniumwebdrivererr?noredirect=1&amp;lq=1\" title=\"cannot call non w3c standard command while in w3c mode seleniumwebdrivererr\">stackoverflow.com/questions/56111529/&hellip;</a>"},{"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"score":0,"creation_date":1572950353,"post_id":58696488,"comment_id":103713025,"body_markdown":"Hi @hfarhanahmed, I already saw this answer and try to use it but I failed. That answer is implemented from Web application. But I am trying to automate android Hybrid app (which has webview)","body":"Hi @hfarhanahmed, I already saw this answer and try to use it but I failed. That answer is implemented from Web application. But I am trying to automate android Hybrid app (which has webview)"}],"answers":[{"tags":[],"owner":{"account_id":17036473,"reputation":1,"user_id":12325400,"display_name":"MarMarMar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572948612,"creation_date":1572948612,"answer_id":58709049,"question_id":58696488,"body_markdown":"I have the similar challenge. Additionally in my case this log message appeared when I had set capabilities like this:\r\n```\r\ncaps.setCapability(MobileCapabilityType.FORCE_MJSONWP, true);\r\n```\r\nThe situation is connected with Mobile JSON Wire Protocole I quess.","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>I have the similar challenge. Additionally in my case this log message appeared when I had set capabilities like this:</p>\n\n<pre><code>caps.setCapability(MobileCapabilityType.FORCE_MJSONWP, true);\n</code></pre>\n\n<p>The situation is connected with Mobile JSON Wire Protocole I quess.</p>\n"},{"tags":[],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573028338,"creation_date":1573028338,"answer_id":58725741,"question_id":58696488,"body_markdown":"Finally found the solution. I just used the below capabilities.\r\n\r\n    capabilities.setCapability(&quot;appium:chromeOptions&quot;, ImmutableMap.of(&quot;w3c&quot;, false));","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>Finally found the solution. I just used the below capabilities.</p>\n\n<pre><code>capabilities.setCapability(\"appium:chromeOptions\", ImmutableMap.of(\"w3c\", false));\n</code></pre>\n"}],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58725741,"answer_count":2,"score":1,"last_activity_date":1681460843,"creation_date":1572881383,"question_id":58696488,"body_markdown":"I am doing an android webView automation. After changing from native app context to webview context, I am getting the following error.\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: unknown command: Cannot call non W3C standard command while in W3C mode\r\n\r\nThere are many similar questions related to this but all are related to web. I couldn&#39;t find any solution to solve this in android webView. Can anyone please let me know how can I solve this.\r\n\r\nEnvironment:\r\n\r\n 1. Mobile version : 5.1.1\r\n 2. Appium Version 1.15.1\r\n 3. chromeDriver version : 78.0.3904.70\r\n 4. Chrome Verison : 78.0.3904.62","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>I am doing an android webView automation. After changing from native app context to webview context, I am getting the following error.</p>\n\n<pre><code>org.openqa.selenium.UnsupportedCommandException: unknown command: Cannot call non W3C standard command while in W3C mode\n</code></pre>\n\n<p>There are many similar questions related to this but all are related to web. I couldn't find any solution to solve this in android webView. Can anyone please let me know how can I solve this.</p>\n\n<p>Environment:</p>\n\n<ol>\n<li>Mobile version : 5.1.1</li>\n<li>Appium Version 1.15.1</li>\n<li>chromeDriver version : 78.0.3904.70</li>\n<li>Chrome Verison : 78.0.3904.62</li>\n</ol>\n"},{"tags":["java","maven","swagger","swagger-ui"],"owner":{"account_id":14917984,"reputation":43,"user_id":10771214,"display_name":"theirman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681460308,"creation_date":1681460308,"question_id":76012970,"body_markdown":"I am having problems using the `io.swagger.core.v3:swagger-maven-plugin:2.2.7` to build the Swagger interface. This one is well generated and shows perfectly the methods of my REST API. However, the paths generated for the test function &quot;TRY IT OUT&quot; are incorrects.\r\n\r\nFor example, I have a method version of the UtilsRest service that is exposed on `http://localhost:8080/UtilsRest/api/version`. \r\n\r\n[![swagger-api-interface][1]][1]\r\n\r\nMy method runs perfectly at that address through a browser. But the &quot;TRY IT OUT&quot; function points to http://localhost:8080/version and, not surprisingly, the call fails\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is some code to contextualize my request. I deliberately chose the most basic method so that logic problems would not interfere.\r\n\r\n - the dependency import in pom.xml\r\n\r\n```\r\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n - the plugin configuration in pom.xml\r\n\r\n```\r\n      &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\r\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\r\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\r\n          &lt;resourcePackages&gt;          \r\n            &lt;package&gt;com.societe.unite.services&lt;/package&gt;\r\n          &lt;/resourcePackages&gt;\r\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\r\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;resolve&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;    \r\n```\r\n\r\n - content of the web.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \r\n         version=&quot;4.0&quot;&gt;\r\n  &lt;display-name&gt;UtilsRest&lt;/display-name&gt;\r\n  &lt;default-context-path&gt;UtilsRest&lt;/default-context-path&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;display-name&gt;Rest Servlet&lt;/display-name&gt;\r\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n      &lt;param-value&gt;com.societe.unite&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n      &lt;param-value&gt;org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n  \r\n&lt;/web-app&gt;\r\n```\r\n\r\n - content of the UtilsRest class\r\n\r\n```\r\npackage com.societe.unite.services;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.info.Contact;\r\nimport io.swagger.v3.oas.annotations.info.Info;\r\nimport io.swagger.v3.oas.annotations.info.License;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n\r\n@OpenAPIDefinition\r\n(\r\n    info = @Info\r\n    (\r\n        title = &quot;UtilsRest&quot;,\r\n        version = &quot;1.0.0&quot;,\r\n        description = &quot;API du projet UtilsRest&quot;,\r\n        license = @License\r\n        (\r\n            name = &quot;Creative Commons CC BY&quot;,\r\n            url = &quot;https://creativecommons.org/licenses/by/4.0/deed.fr&quot;\r\n        ),\r\n        contact = @Contact\r\n        (\r\n            email = &quot;thierry.heirman@societe.com&quot;,\r\n            name = &quot;Thierry Heirman&quot;\r\n        )\r\n    )\r\n)\r\n\r\n\r\n@Tag(name = &quot;Utils&quot;)\r\n@Path(&quot;&quot;)\r\npublic class Utils implements IUtils\r\n{\r\n    @GET \r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Path(&quot;version&quot;)\r\n    public String getVersion()\r\n    {\r\n        return &quot;1.0&quot;;\r\n    }\r\n}\r\n```\r\n\r\n*(I warned you that I chose the most basic example :D )*\r\n\r\nPlease help me to find out why my paths are generated incorrectly.\r\n\r\nThank you, have a nice day\r\n\r\nThierry\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oQUiQ.png\r\n  [2]: https://i.stack.imgur.com/oYkap.png","title":"Why does swagger-maven-plugin generate incorrect test addresses in swagger-ui?","body":"<p>I am having problems using the <code>io.swagger.core.v3:swagger-maven-plugin:2.2.7</code> to build the Swagger interface. This one is well generated and shows perfectly the methods of my REST API. However, the paths generated for the test function &quot;TRY IT OUT&quot; are incorrects.</p>\n<p>For example, I have a method version of the UtilsRest service that is exposed on <code>http://localhost:8080/UtilsRest/api/version</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/oQUiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQUiQ.png\" alt=\"swagger-api-interface\" /></a></p>\n<p>My method runs perfectly at that address through a browser. But the &quot;TRY IT OUT&quot; function points to http://localhost:8080/version and, not surprisingly, the call fails</p>\n<p><a href=\"https://i.stack.imgur.com/oYkap.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYkap.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is some code to contextualize my request. I deliberately chose the most basic method so that logic problems would not interfere.</p>\n<ul>\n<li>the dependency import in pom.xml</li>\n</ul>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>the plugin configuration in pom.xml</li>\n</ul>\n<pre><code>      &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.7&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\n          &lt;resourcePackages&gt;          \n            &lt;package&gt;com.societe.unite.services&lt;/package&gt;\n          &lt;/resourcePackages&gt;\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;resolve&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;    \n</code></pre>\n<ul>\n<li>content of the web.xml file</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \n         version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;UtilsRest&lt;/display-name&gt;\n  &lt;default-context-path&gt;UtilsRest&lt;/default-context-path&gt;\n\n  &lt;servlet&gt;\n    &lt;display-name&gt;Rest Servlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.societe.unite&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n      &lt;param-value&gt;org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li>content of the UtilsRest class</li>\n</ul>\n<pre><code>package com.societe.unite.services;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.info.Contact;\nimport io.swagger.v3.oas.annotations.info.Info;\nimport io.swagger.v3.oas.annotations.info.License;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n\n@OpenAPIDefinition\n(\n    info = @Info\n    (\n        title = &quot;UtilsRest&quot;,\n        version = &quot;1.0.0&quot;,\n        description = &quot;API du projet UtilsRest&quot;,\n        license = @License\n        (\n            name = &quot;Creative Commons CC BY&quot;,\n            url = &quot;https://creativecommons.org/licenses/by/4.0/deed.fr&quot;\n        ),\n        contact = @Contact\n        (\n            email = &quot;thierry.heirman@societe.com&quot;,\n            name = &quot;Thierry Heirman&quot;\n        )\n    )\n)\n\n\n@Tag(name = &quot;Utils&quot;)\n@Path(&quot;&quot;)\npublic class Utils implements IUtils\n{\n    @GET \n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;version&quot;)\n    public String getVersion()\n    {\n        return &quot;1.0&quot;;\n    }\n}\n</code></pre>\n<p><em>(I warned you that I chose the most basic example :D )</em></p>\n<p>Please help me to find out why my paths are generated incorrectly.</p>\n<p>Thank you, have a nice day</p>\n<p>Thierry</p>\n"},{"tags":["java","casting","xor"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":3,"creation_date":1681458591,"post_id":76012699,"comment_id":134062610,"body_markdown":"Please call this operation &quot;obfuscation&quot;, not &quot;encryption&quot; - because that&#39;s what it is (and what it is not). Also, what&#39;s `en` and `de`?","body":"Please call this operation &quot;obfuscation&quot;, not &quot;encryption&quot; - because that&#39;s what it is (and what it is not). Also, what&#39;s <code>en</code> and <code>de</code>?"},{"owner":{"account_id":25652111,"reputation":77,"user_id":19419202,"display_name":"yad0"},"score":0,"creation_date":1681459207,"post_id":76012699,"comment_id":134062766,"body_markdown":"@OlafKock i had forgotten to remove those. I just have different classes for encryption and decryption, that&#39;s why they were there.","body":"@OlafKock i had forgotten to remove those. I just have different classes for encryption and decryption, that&#39;s why they were there."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1681461997,"post_id":76012699,"comment_id":134063461,"body_markdown":"why are keys not `char[]`?","body":"why are keys not <code>char[]</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681459965,"creation_date":1681459965,"answer_id":76012923,"question_id":76012699,"body_markdown":"You must XOR with the same previous element.\r\n\r\nCurrently when encrypting you use\r\n\r\n    msg[i] = letters[i] ^ keys[i] ^ msg[i - 1];\r\n\r\nwhere `msg[i - 1]` is the encrypted previous character.\r\n\r\nWhen decrypting you use\r\n\r\n    msg[i] = (char)(letters[i] ^ keys[i] ^ msg[i - 1]);\r\n\r\nwhere `msg[i - 1]` is the decrypted previous character.\r\n\r\nYou can either use\r\n\r\n    msg[i] = (char)(letters[i] ^ keys[i] ^ letter[i - 1]);\r\n\r\nwhen decrypting, or use\r\n\r\n    msg[i] = letters[i] ^ keys[i] ^ letters[i - 1];\r\n\r\nwhen encrypting.\r\n\r\n----\r\nNote: from the comments, some say that is is mere obfuscation.\r\n\r\nBut: this is IMHO an application of the [One-Time Pad](https://en.wikipedia.org/wiki/One-time_pad) algorithm if you create a unique key in `genereateKeys(charArray1.length)` - and **a properly done** One-Time Pad is an encryption technique that cannot be cracked.\r\n\r\nThe emphasis is on &quot;properly done&quot; because this technique of course requires that both sender (encryptor) and receiver (decryptor) must know the One-Time Pad and the difficulty is in securely transfering that One-Time Pad from the sender to the receiver of the message.","title":"XOR and typecasting","body":"<p>You must XOR with the same previous element.</p>\n<p>Currently when encrypting you use</p>\n<pre><code>msg[i] = letters[i] ^ keys[i] ^ msg[i - 1];\n</code></pre>\n<p>where <code>msg[i - 1]</code> is the encrypted previous character.</p>\n<p>When decrypting you use</p>\n<pre><code>msg[i] = (char)(letters[i] ^ keys[i] ^ msg[i - 1]);\n</code></pre>\n<p>where <code>msg[i - 1]</code> is the decrypted previous character.</p>\n<p>You can either use</p>\n<pre><code>msg[i] = (char)(letters[i] ^ keys[i] ^ letter[i - 1]);\n</code></pre>\n<p>when decrypting, or use</p>\n<pre><code>msg[i] = letters[i] ^ keys[i] ^ letters[i - 1];\n</code></pre>\n<p>when encrypting.</p>\n<hr />\n<p>Note: from the comments, some say that is is mere obfuscation.</p>\n<p>But: this is IMHO an application of the <a href=\"https://en.wikipedia.org/wiki/One-time_pad\" rel=\"nofollow noreferrer\">One-Time Pad</a> algorithm if you create a unique key in <code>genereateKeys(charArray1.length)</code> - and <strong>a properly done</strong> One-Time Pad is an encryption technique that cannot be cracked.</p>\n<p>The emphasis is on &quot;properly done&quot; because this technique of course requires that both sender (encryptor) and receiver (decryptor) must know the One-Time Pad and the difficulty is in securely transfering that One-Time Pad from the sender to the receiver of the message.</p>\n"}],"owner":{"account_id":25652111,"reputation":77,"user_id":19419202,"display_name":"yad0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012923,"answer_count":1,"score":0,"last_activity_date":1681459965,"creation_date":1681458397,"question_id":76012699,"body_markdown":"I&#39;m writing an encryption/decryption program using bitwise xor operation. Given a character array and an array with int as keys, I xor the first character of the array with the first key. For the other characters I xor them with the next int in the key array and then xor again with the previous encrypted character. ```enc[i] = enc[i - 1] ^ k[i] ^ c[i]``` where c is the character to be encrypted, k the key, and enc the encrypted character. I do get the correct result if I don&#39;t xor with the previous encrypted character.\r\n\r\n```\r\npublic class Main{\r\n    public static void main(String[] args){\r\n\r\n        char[] charArray1 = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;};\r\n        int[] keys1 = genereateKeys(charArray1.length);\r\n        \r\n        int[] encrypted1 = encrypt(charArray1, keys1);\r\n        printCharArray(decrypt(encrypted1, keys1));\r\n\r\n        char[] charArray2 = {&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;W&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;};\r\n        int[] keys2 = genereateKeys(charArray2.length);\r\n        \r\n        int[] encrypted2 = encrypt(charArray2, keys2);\r\n        printCharArray(decrypt(encrypted2, keys2));\r\n    }\r\n\r\n    public static void printCharArray(char[] letter){\r\n        for(int i = 0; i &lt; letter.length; ++i)\r\n            System.out.print(letter[i]);\r\n        \r\n        System.out.println();\r\n    }\r\n\r\n    public static int[] encrypt(char[] letters, int[] keys){\r\n        int[] msg = new int[letters.length];\r\n        msg[0] = ((int)letters[0]) ^ keys[0];\r\n        for(int i = 1; i &lt; letters.length; ++i){\r\n            msg[i] = ((int)letters[i]) ^ keys[i] ^ msg[i - 1];\r\n        }\r\n        return msg;\r\n    }\r\n\r\n    public static char[] decrypt(int[] letters, int[] keys){\r\n        char[] msg = new char[letters.length];\r\n        msg[0] = (char)(letters[0] ^ keys[0]);\r\n        for(int i = 1; i &lt; letters.length; ++i){\r\n            msg[i] = (char)(letters[i] ^ keys[i]) ^ (int)msg[i - 1]);\r\n        }\r\n        return msg;\r\n    }\r\n\r\n}\r\n```\r\nSo what exactly am I doing wrong here? As I said when I encrypt/decrypt without the before element the result is as expected. The problem is when i xor with the before element.","title":"XOR and typecasting","body":"<p>I'm writing an encryption/decryption program using bitwise xor operation. Given a character array and an array with int as keys, I xor the first character of the array with the first key. For the other characters I xor them with the next int in the key array and then xor again with the previous encrypted character. <code>enc[i] = enc[i - 1] ^ k[i] ^ c[i]</code> where c is the character to be encrypted, k the key, and enc the encrypted character. I do get the correct result if I don't xor with the previous encrypted character.</p>\n<pre><code>public class Main{\n    public static void main(String[] args){\n\n        char[] charArray1 = {'a', 'b', 'c', 'd', 'e'};\n        int[] keys1 = genereateKeys(charArray1.length);\n        \n        int[] encrypted1 = encrypt(charArray1, keys1);\n        printCharArray(decrypt(encrypted1, keys1));\n\n        char[] charArray2 = {'H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd'};\n        int[] keys2 = genereateKeys(charArray2.length);\n        \n        int[] encrypted2 = encrypt(charArray2, keys2);\n        printCharArray(decrypt(encrypted2, keys2));\n    }\n\n    public static void printCharArray(char[] letter){\n        for(int i = 0; i &lt; letter.length; ++i)\n            System.out.print(letter[i]);\n        \n        System.out.println();\n    }\n\n    public static int[] encrypt(char[] letters, int[] keys){\n        int[] msg = new int[letters.length];\n        msg[0] = ((int)letters[0]) ^ keys[0];\n        for(int i = 1; i &lt; letters.length; ++i){\n            msg[i] = ((int)letters[i]) ^ keys[i] ^ msg[i - 1];\n        }\n        return msg;\n    }\n\n    public static char[] decrypt(int[] letters, int[] keys){\n        char[] msg = new char[letters.length];\n        msg[0] = (char)(letters[0] ^ keys[0]);\n        for(int i = 1; i &lt; letters.length; ++i){\n            msg[i] = (char)(letters[i] ^ keys[i]) ^ (int)msg[i - 1]);\n        }\n        return msg;\n    }\n\n}\n</code></pre>\n<p>So what exactly am I doing wrong here? As I said when I encrypt/decrypt without the before element the result is as expected. The problem is when i xor with the before element.</p>\n"},{"tags":["java","tomcat9"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681452559,"post_id":76011674,"comment_id":134061480,"body_markdown":"1.Link didn&#39;t help, removed Oracle jar file from lib. \n2.Tried adding -Xms128m -Xmx1024m configuration of tomcat.\n\nNot added any code to resolve as same code works fine in Java 8. \n\nOther projects works fine with Java 11 so such error. It has to error out for all project but that&#39;s not case. Its happening only for specific application only.","body":"1.Link didn&#39;t help, removed Oracle jar file from lib.  2.Tried adding -Xms128m -Xmx1024m configuration of tomcat.  Not added any code to resolve as same code works fine in Java 8.   Other projects works fine with Java 11 so such error. It has to error out for all project but that&#39;s not case. Its happening only for specific application only."}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681460627,"answer_count":0,"score":0,"last_activity_date":1681459782,"creation_date":1681447529,"question_id":76011674,"body_markdown":"We are migrating from Java 8 to Java 11, while starting the tomcat server-9 getting below exception for few application only.\r\n\r\nUsing Eclipse and com.ibm.db2.jcc.DB2Driver to connect to database.\r\n\r\n```\r\nWARNING: The web application [Sample] appears to have started a thread named[POJO.data] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@11.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n java.base@11.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\r\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nSteps tried given in \r\nhttps://stackoverflow.com/questions/48254517/the-web-application-appears-to-have-started-a-thread-named-timer-0-but-has-fai\r\n\r\n1. Not using any java.util.Timer in our application.\r\n2. Rmoved Oracle jar file from lib. \r\n3. Tried adding -Xms128m -Xmx1024m configuration of tomcat\r\n4. AbandonedConnectionCleanupThread.shutdown() - not using mysql to do any coding for this.\r\n4. Exception stacktrace shows thread named [POJO.data] - here POJO is simple java class with getter and setter method not sure why its picking pojo classes.","title":"java.base@11.0.16/jdk.internal.misc.Unsafe.park : Migration from Java 8 to Java 11","body":"<p>We are migrating from Java 8 to Java 11, while starting the tomcat server-9 getting below exception for few application only.</p>\n<p>Using Eclipse and com.ibm.db2.jcc.DB2Driver to connect to database.</p>\n<pre><code>WARNING: The web application [Sample] appears to have started a thread named[POJO.data] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@11.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n java.base@11.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Steps tried given in\n<a href=\"https://stackoverflow.com/questions/48254517/the-web-application-appears-to-have-started-a-thread-named-timer-0-but-has-fai\">The web application appears to have started a thread named [Timer-0] but has failed to stop it</a></p>\n<ol>\n<li>Not using any java.util.Timer in our application.</li>\n<li>Rmoved Oracle jar file from lib.</li>\n<li>Tried adding -Xms128m -Xmx1024m configuration of tomcat</li>\n<li>AbandonedConnectionCleanupThread.shutdown() - not using mysql to do any coding for this.</li>\n<li>Exception stacktrace shows thread named [POJO.data] - here POJO is simple java class with getter and setter method not sure why its picking pojo classes.</li>\n</ol>\n"},{"tags":["eclipse","configuration","java","buildpath"],"answers":[{"comments":[{"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"score":0,"creation_date":1372093132,"post_id":17280822,"comment_id":25053071,"body_markdown":"When I click on Edit, I only have one option (my project) and then can only click Finish. When I do that, nothing changes.","body":"When I click on Edit, I only have one option (my project) and then can only click Finish. When I do that, nothing changes."},{"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"score":0,"creation_date":1372093884,"post_id":17280822,"comment_id":25053434,"body_markdown":"@AllieCat I have edited my answer with link to a guide on Web App libraries. That link might help you..","body":"@AllieCat I have edited my answer with link to a guide on Web App libraries. That link might help you.."}],"tags":[],"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1531814441,"creation_date":1372092783,"answer_id":17280822,"question_id":17280728,"body_markdown":"A project&#39;s Web App Library is composed automatically by Eclipse from any JARs on the project path, `&lt;project-name&gt;/WebContent/WEB-INF/lib`. JARs reach that location:\r\n\r\n 1. after the project is created (of course, since the project file system begins to exist only then)\r\n 2. by the user&#39;s hand.\r\n\r\nSo, you can edit the Web App library by adding / deleting jars under `WEB-INF/lib` folder.\r\n\r\nMore details on [Web App libraries][1] can be found here.\r\n\r\n\r\n  [1]: http://www.javahotchocolate.com/tutorials/web-jars.html","title":"Can&#39;t remove jar from Web App Library","body":"<p>A project's Web App Library is composed automatically by Eclipse from any JARs on the project path, <code>&lt;project-name&gt;/WebContent/WEB-INF/lib</code>. JARs reach that location:</p>\n\n<ol>\n<li>after the project is created (of course, since the project file system begins to exist only then)</li>\n<li>by the user's hand.</li>\n</ol>\n\n<p>So, you can edit the Web App library by adding / deleting jars under <code>WEB-INF/lib</code> folder.</p>\n\n<p>More details on <a href=\"http://www.javahotchocolate.com/tutorials/web-jars.html\" rel=\"nofollow noreferrer\">Web App libraries</a> can be found here.</p>\n"},{"comments":[{"owner":{"account_id":5194458,"reputation":896,"user_id":4156272,"accept_rate":71,"display_name":"Drumnbass"},"score":1,"creation_date":1524642228,"post_id":17281074,"comment_id":87049469,"body_markdown":"that delete button is also disabled.","body":"that delete button is also disabled."}],"tags":[],"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372093654,"creation_date":1372093654,"answer_id":17281074,"question_id":17280728,"body_markdown":"I figured it out - sorry to bother everyone.\r\n\r\n Go to the jar in the Project Explorer, right click and Delete.\r\n\r\n![Deleting jar in Web App Library][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BlVpt.png\r\n\r\n","title":"Can&#39;t remove jar from Web App Library","body":"<p>I figured it out - sorry to bother everyone.</p>\n\n<p>Go to the jar in the Project Explorer, right click and Delete.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BlVpt.png\" alt=\"Deleting jar in Web App Library\"></p>\n"},{"comments":[{"owner":{"account_id":8341880,"reputation":704,"user_id":6266949,"accept_rate":53,"display_name":"Jason Krs"},"score":0,"creation_date":1503078513,"post_id":24508415,"comment_id":78482658,"body_markdown":"Thanks. It helped me","body":"Thanks. It helped me"}],"tags":[],"owner":{"account_id":1392268,"reputation":323,"user_id":1322804,"display_name":"Bruno Freitas"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404211797,"creation_date":1404211797,"answer_id":24508415,"question_id":17280728,"body_markdown":"After delete some libs, delete Webapp libs in Build Path then close and open Eclipse, add Webapp Libs in Build Path again. Worked for me.","title":"Can&#39;t remove jar from Web App Library","body":"<p>After delete some libs, delete Webapp libs in Build Path then close and open Eclipse, add Webapp Libs in Build Path again. Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2143157,"reputation":1,"user_id":1901369,"display_name":"SanmitK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631618831,"creation_date":1631618831,"answer_id":69176892,"question_id":17280728,"body_markdown":"What worked for me was, I was trying to delete the JARs from Build Path, which I accessed through &#39;Project Explorer&#39; tab. But the JARs delete option is greyed out there, as per the original question.\r\n\r\nSo I tried the same from : &#39;Navigator&#39; perspective (which is deprecated). When I went to my projects build path from here, I could see the delete option.","title":"Can&#39;t remove jar from Web App Library","body":"<p>What worked for me was, I was trying to delete the JARs from Build Path, which I accessed through 'Project Explorer' tab. But the JARs delete option is greyed out there, as per the original question.</p>\n<p>So I tried the same from : 'Navigator' perspective (which is deprecated). When I went to my projects build path from here, I could see the delete option.</p>\n"},{"tags":[],"owner":{"account_id":2396304,"reputation":164,"user_id":2095034,"display_name":"Ishmael Mavor Raines"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459713,"creation_date":1681457920,"answer_id":76012647,"question_id":17280728,"body_markdown":"\r\nFor Spring tools I open workspace folder **manually** ...\r\n\r\nC:\\Users\\Administrator\\Documents\\workspace-spring-tool-suite-4-4.18.0.RELEASE\\JavaApp\\src\\main\\webapp\\WEB-INF\\lib\r\n\r\nand delete the jars from there!\r\n\r\nHooray they&#39;re gone. Doesnt look like we need an IDE neither.\r\n\r\nAlso you can try to view files in Package Explorer instead of Project Explorer...\r\n\r\n  Windows -&gt; Show View  -&gt; Package Explorer","title":"Can&#39;t remove jar from Web App Library","body":"<p>For Spring tools I open workspace folder <strong>manually</strong> ...</p>\n<p>C:\\Users\\Administrator\\Documents\\workspace-spring-tool-suite-4-4.18.0.RELEASE\\JavaApp\\src\\main\\webapp\\WEB-INF\\lib</p>\n<p>and delete the jars from there!</p>\n<p>Hooray they're gone. Doesnt look like we need an IDE neither.</p>\n<p>Also you can try to view files in Package Explorer instead of Project Explorer...</p>\n<p>Windows -&gt; Show View  -&gt; Package Explorer</p>\n"}],"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16920,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":17280822,"answer_count":5,"score":12,"last_activity_date":1681459713,"creation_date":1372092436,"question_id":17280728,"body_markdown":"How can I remove the jars in my Web App Library?\r\n\r\nI manually added a couple jars to the web app library. \r\nMy program is now pitching a fit so I clearly need to remove them. \r\n\r\nHowever, when I go to the Build Path, the &quot;Remove&quot; is greyed out. \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/L3Gz9.png","title":"Can&#39;t remove jar from Web App Library","body":"<p>How can I remove the jars in my Web App Library?</p>\n\n<p>I manually added a couple jars to the web app library. \nMy program is now pitching a fit so I clearly need to remove them. </p>\n\n<p>However, when I go to the Build Path, the \"Remove\" is greyed out. \n<img src=\"https://i.stack.imgur.com/L3Gz9.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","postgresql","jdbc","postgresql-14","jdbc-postgres"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1681459988,"post_id":76012848,"comment_id":134062964,"body_markdown":"Try to disable [server side prepared statements](https://jdbc.postgresql.org/documentation/server-prepare/#server-prepared-statements)  by setting prepareThreshold  to 0","body":"Try to disable <a href=\"https://jdbc.postgresql.org/documentation/server-prepare/#server-prepared-statements\" rel=\"nofollow noreferrer\">server side prepared statements</a>  by setting prepareThreshold  to 0"},{"owner":{"account_id":28301981,"reputation":1,"user_id":21640538,"display_name":"Thttp"},"score":0,"creation_date":1681460853,"post_id":76012848,"comment_id":134063191,"body_markdown":"It works! Many thanks!\nI wonder that... \nAny project (using PreparedStatement) that also requires this setting prepareThreshold =0 (default prepareThreshold = 5)?\nAnd what different with setting plan_cache_mode = force_custom_plan?","body":"It works! Many thanks! I wonder that...  Any project (using PreparedStatement) that also requires this setting prepareThreshold =0 (default prepareThreshold = 5)? And what different with setting plan_cache_mode = force_custom_plan?"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":2,"creation_date":1681461447,"post_id":76012848,"comment_id":134063329,"body_markdown":"Look [here](https://stackoverflow.com/questions/38188248/after-9-queries-to-database-the-time-to-perform-the-same-query-is-multiplied-by/38188817?r=SearchResults&amp;s=4%7C40.3890#38188817) for a detailed explanation.","body":"Look <a href=\"https://stackoverflow.com/questions/38188248/after-9-queries-to-database-the-time-to-perform-the-same-query-is-multiplied-by/38188817?r=SearchResults&amp;s=4%7C40.3890#38188817\">here</a> for a detailed explanation."}],"owner":{"account_id":28301981,"reputation":1,"user_id":21640538,"display_name":"Thttp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681459446,"creation_date":1681459446,"question_id":76012848,"body_markdown":"I upgraded JDBC from postgresql-9.2-1000.jar(PostgreSQL 9.2.1) to postgresql-42.5.0.jar(PostgreSQL 14.6) and strange thing happened.\r\nWith the same query, It takes slow after fourth, or ninth execution.\r\n(It doesn&#39;t happen with postgresql-9.2-1000.jar(PostgreSQL 9.2.1)) \r\n\r\nExample:\r\n```\r\npublic class JDBCExample3 {\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:postgresql://xxx.xxx.xxx.xxx:5432/testdb&quot;, &quot;user&quot;,\r\n\t\t\t\t&quot;password&quot;);\r\n\t\tString SQL = &quot;select ...&quot;;\r\n\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tPreparedStatement pstmt = conn.prepareStatement(SQL);\r\n\t\t\t//set parameters \r\n\t\t\tpstmt.setString(0, &quot;122344acbc&quot;);\r\n\t\t\t// ... \r\n\t\t\t\r\n\t\t\t// It&#39;s not slow with i from 0 to 8.\r\n\t\t\tResultSet rs = pstmt.executeQuery(); //When i = 9 (after ninth execution), It takes long time here.  slow!!!\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\t//get result\r\n\t\t\t\trs.getString(&quot;name&quot;);\r\n\t\t\t\t//...\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;loop:&quot; + i);\r\n\t\t\t\r\n\t\t\t//close\r\n\t\t\trs.close();\r\n\t\t\trs = null;\r\n\t\t\tpstmt.close();\r\n\t\t\tpstmt = null;\r\n\t\t}\r\n\t\tconn.close();\r\n\t\tSystem.out.println(&quot;end&quot;);\r\n\t}\r\n}\r\n```\r\nI&#39;m trying to fix it.\r\nWhat should I pay attention to about postgresql-42.5.0.jar(PostgreSQL 14.6) here?\r\n\r\n\r\nI expected the &quot;pstmt.executeQuery()&quot; took the same time with all execution.","title":"I upgraded JDBC driver to postgresql, strange thing happened","body":"<p>I upgraded JDBC from postgresql-9.2-1000.jar(PostgreSQL 9.2.1) to postgresql-42.5.0.jar(PostgreSQL 14.6) and strange thing happened.\nWith the same query, It takes slow after fourth, or ninth execution.\n(It doesn't happen with postgresql-9.2-1000.jar(PostgreSQL 9.2.1))</p>\n<p>Example:</p>\n<pre><code>public class JDBCExample3 {\n    public static void main(String[] args) throws SQLException {\n        Connection conn = DriverManager.getConnection(&quot;jdbc:postgresql://xxx.xxx.xxx.xxx:5432/testdb&quot;, &quot;user&quot;,\n                &quot;password&quot;);\n        String SQL = &quot;select ...&quot;;\n\n        for (int i = 0; i &lt; 10; i++) {\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\n            //set parameters \n            pstmt.setString(0, &quot;122344acbc&quot;);\n            // ... \n            \n            // It's not slow with i from 0 to 8.\n            ResultSet rs = pstmt.executeQuery(); //When i = 9 (after ninth execution), It takes long time here.  slow!!!\n            while (rs.next()) {\n                //get result\n                rs.getString(&quot;name&quot;);\n                //...\n            }\n\n            System.out.println(&quot;loop:&quot; + i);\n            \n            //close\n            rs.close();\n            rs = null;\n            pstmt.close();\n            pstmt = null;\n        }\n        conn.close();\n        System.out.println(&quot;end&quot;);\n    }\n}\n</code></pre>\n<p>I'm trying to fix it.\nWhat should I pay attention to about postgresql-42.5.0.jar(PostgreSQL 14.6) here?</p>\n<p>I expected the &quot;pstmt.executeQuery()&quot; took the same time with all execution.</p>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1507256437,"post_id":46597312,"comment_id":80147270,"body_markdown":"Simple: use an IDE.","body":"Simple: use an IDE."},{"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"score":1,"creation_date":1507256451,"post_id":46597312,"comment_id":80147274,"body_markdown":"Have a look here : https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt\nAnd of course start using an IDE ( Eclipse , Intelij etc ) it will increase your productivity and make your life easier ;)","body":"Have a look here : <a href=\"https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt\" title=\"how to include jar files with java file and compile in command prompt\">stackoverflow.com/questions/9395207/&hellip;</a> And of course start using an IDE ( Eclipse , Intelij etc ) it will increase your productivity and make your life easier ;)"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507256980,"post_id":46597312,"comment_id":80147390,"body_markdown":"@EdwinDalorzo Yes I have installed maven. I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?","body":"@EdwinDalorzo Yes I have installed maven. I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257416,"post_id":46597312,"comment_id":80147490,"body_markdown":"@EdwinDalorzo Its very confusing :/ I ran &quot;maven clean package&quot; on the folder that I extracted from that zip file...Am I doing it wrong? Should I create my java program and then run the command on that ??","body":"@EdwinDalorzo Its very confusing :/ I ran &quot;maven clean package&quot; on the folder that I extracted from that zip file...Am I doing it wrong? Should I create my java program and then run the command on that ??"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1507260963,"post_id":46597312,"comment_id":80148198,"body_markdown":"@MrX: to use a jar with a maven project, add the jar as a dependency in your pom.xml. There is no lib folder. And notepad is about the worst editor ever.","body":"@MrX: to use a jar with a maven project, add the jar as a dependency in your pom.xml. There is no lib folder. And notepad is about the worst editor ever."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507264744,"post_id":46597312,"comment_id":80148912,"body_markdown":"@NathanHughes I know as people stick to easy access ready baked 1 click codes through IDE&#39;s, I prefer notepad over them so I have to type everything I&#39;m doing and when I start to debug, Hell breaks loose when there&#39;s 500+ lines of code. But in the process I think like a machine. It definitely helps me as I&#39;m learning java myself.","body":"@NathanHughes I know as people stick to easy access ready baked 1 click codes through IDE&#39;s, I prefer notepad over them so I have to type everything I&#39;m doing and when I start to debug, Hell breaks loose when there&#39;s 500+ lines of code. But in the process I think like a machine. It definitely helps me as I&#39;m learning java myself."},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1507280387,"post_id":46597312,"comment_id":80155837,"body_markdown":"@MrX I think your approach is the right one. If you&#39;re relative new to Java, using an IDE is a good way to ensure that you _never_ really understand why you have the problems you face, and if you&#39;re ever faced with a problem your IDE can&#39;t solve, you&#39;ll be stuck. IDEs have their place, of course, but as learning tools they&#39;re terrible.","body":"@MrX I think your approach is the right one. If you&#39;re relative new to Java, using an IDE is a good way to ensure that you <i>never</i> really understand why you have the problems you face, and if you&#39;re ever faced with a problem your IDE can&#39;t solve, you&#39;ll be stuck. IDEs have their place, of course, but as learning tools they&#39;re terrible."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507438550,"post_id":46597312,"comment_id":80205529,"body_markdown":"@KevinBoone Thanks man  :D","body":"@KevinBoone Thanks man  :D"}],"answers":[{"comments":[{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257083,"post_id":46597384,"comment_id":80147413,"body_markdown":"I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?","body":"I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?"},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507257229,"post_id":46597384,"comment_id":80147456,"body_markdown":"What is the &quot;lib folder&quot;?","body":"What is the &quot;lib folder&quot;?"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257527,"post_id":46597384,"comment_id":80147520,"body_markdown":"The library folder thats in the Jdk.","body":"The library folder thats in the Jdk."},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507257689,"post_id":46597384,"comment_id":80147553,"body_markdown":"Do not put files into the `JDK`&#39;s folders! What the others meant was probably a folder in your project, that `IDE`s and other tools usually create to hold your `JAR` files in a single place...","body":"Do not put files into the <code>JDK</code>&#39;s folders! What the others meant was probably a folder in your project, that <code>IDE</code>s and other tools usually create to hold your <code>JAR</code> files in a single place..."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257916,"post_id":46597384,"comment_id":80147600,"body_markdown":"Oh!! I was thinking of putting them there. Is there a way without getting into the IDE&#39;s? I really wanna keep going with the command prompt until I&#39;m familiar with all the libraries, as IDE&#39;s mess it up by auto filling and making everything easy for me.","body":"Oh!! I was thinking of putting them there. Is there a way without getting into the IDE&#39;s? I really wanna keep going with the command prompt until I&#39;m familiar with all the libraries, as IDE&#39;s mess it up by auto filling and making everything easy for me."},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507289702,"post_id":46597384,"comment_id":80161193,"body_markdown":"I would use `ant` (or some other building tool) to make the compilation, packaging, etc process automated.","body":"I would use <code>ant</code> (or some other building tool) to make the compilation, packaging, etc process automated."}],"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459302,"creation_date":1507256815,"answer_id":46597384,"question_id":46597312,"body_markdown":"&gt; I read about -classpath but I&#39;ll have to set the path every time I have a new library?? (I&#39;m still confused)\r\n\r\nNo.  \r\n**You have to set it every time you run your program!**\r\n\r\nSo you either create a script to run your program, or set it thru the `MANIFEST.MF` file of your program&#39;s main `JAR`...\r\n\r\nSee:\r\n\r\n- [`java`/`javaw` arguments][1]\r\n- [Manifest files][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<blockquote>\n<p>I read about -classpath but I'll have to set the path every time I have a new library?? (I'm still confused)</p>\n</blockquote>\n<p>No.<br />\n<strong>You have to set it every time you run your program!</strong></p>\n<p>So you either create a script to run your program, or set it thru the <code>MANIFEST.MF</code> file of your program's main <code>JAR</code>...</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\"><code>java</code>/<code>javaw</code> arguments</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Manifest files</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257697,"post_id":46597437,"comment_id":80147558,"body_markdown":"&quot;This impacts all the instances of command prompts opened further&quot; This is what I was concerned about. If I do this, will the way I run and compile all the programs change ?","body":"&quot;This impacts all the instances of command prompts opened further&quot; This is what I was concerned about. If I do this, will the way I run and compile all the programs change ?"},{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1507257806,"post_id":46597437,"comment_id":80147576,"body_markdown":"This CLASSPATH will be used by all the programs i.e impacted by javac and java commands when used in command line","body":"This CLASSPATH will be used by all the programs i.e impacted by javac and java commands when used in command line"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507258235,"post_id":46597437,"comment_id":80147660,"body_markdown":"&quot;To run it successfully you need to go back to directory  C:\\project and now run\nC:\\project&gt;java testing.Test&quot;\n\nThis I found here about classpath http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html#ixzz4ugzTNDNi\n\nSo I was thinking it would change the way i run programs and didnt wanna complicate things. I simply do &quot; java program.java&quot; and javac program.","body":"&quot;To run it successfully you need to go back to directory  C:\\project and now run C:\\project&gt;java testing.Test&quot;  This I found here about classpath <a href=\"http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html#ixzz4ugzTNDNi\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2011/01/&hellip;</a>  So I was thinking it would change the way i run programs and didnt wanna complicate things. I simply do &quot; java program.java&quot; and javac program."},{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1507258422,"post_id":46597437,"comment_id":80147685,"body_markdown":"The . ( dot or period ) at the end of classpath specifies, current working directory and you can give your build output dir like C:\\Project replacing the . (dot)","body":"The . ( dot or period ) at the end of classpath specifies, current working directory and you can give your build output dir like C:\\Project replacing the . (dot)"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507258770,"post_id":46597437,"comment_id":80147750,"body_markdown":"Hmmm I get it! Thanks for helping! :D I have to do more research on this now.","body":"Hmmm I get it! Thanks for helping! :D I have to do more research on this now."}],"tags":[],"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507257528,"creation_date":1507257327,"answer_id":46597437,"question_id":46597312,"body_markdown":"Set an Environment variable **`CLASSPATH`** in **`System Properties`**--&gt; **`Advanced`** --&gt; **`Environment Variables`**\r\n\r\nFor example if you have multiple jar files, copy them to a dir in **`C:\\LIBS\\`** and set classpath value as **`C:\\LIBS\\*;.`**\r\n\r\nIf you want for specific jar files only  set it as, **`C:\\LIBS\\jar1.jar;C:\\LIBS\\jar2.jar;.`**\r\n\r\nOpen new command prompt and it should work and is permanent\r\n\r\n**`NOTE` : This impacts all the instances of command prompts opened further**\r\n\r\n","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>Set an Environment variable <strong><code>CLASSPATH</code></strong> in <strong><code>System Properties</code></strong>--> <strong><code>Advanced</code></strong> --> <strong><code>Environment Variables</code></strong></p>\n\n<p>For example if you have multiple jar files, copy them to a dir in <strong><code>C:\\LIBS\\</code></strong> and set classpath value as <strong><code>C:\\LIBS\\*;.</code></strong></p>\n\n<p>If you want for specific jar files only  set it as, <strong><code>C:\\LIBS\\jar1.jar;C:\\LIBS\\jar2.jar;.</code></strong></p>\n\n<p>Open new command prompt and it should work and is permanent</p>\n\n<p><strong><code>NOTE</code> : This impacts all the instances of command prompts opened further</strong></p>\n"},{"comments":[{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507258619,"post_id":46597506,"comment_id":80147717,"body_markdown":"Thank you! You gave me a clear picture on the problem. I guess I&#39;ll have to take the long way if I am sticking to the command prompt.","body":"Thank you! You gave me a clear picture on the problem. I guess I&#39;ll have to take the long way if I am sticking to the command prompt."},{"owner":{"account_id":5505938,"reputation":803,"user_id":4373795,"display_name":"Alex"},"score":0,"creation_date":1507258845,"post_id":46597506,"comment_id":80147768,"body_markdown":"This is the standard way to run java applications. Even IDE is doing the same thing from behind. If you don&#39;t want to type so long for your compilation and execution, try using bat files.","body":"This is the standard way to run java applications. Even IDE is doing the same thing from behind. If you don&#39;t want to type so long for your compilation and execution, try using bat files."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507438696,"post_id":46597506,"comment_id":80205554,"body_markdown":"@Edwin Dalorzo I&#39;m stuck bud. I compiled my one liner but I am unable to run the program with -cp. It gives me an error saying it cant find or load the class file.","body":"@Edwin Dalorzo I&#39;m stuck bud. I compiled my one liner but I am unable to run the program with -cp. It gives me an error saying it cant find or load the class file."}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507260508,"creation_date":1507257854,"answer_id":46597506,"question_id":46597312,"body_markdown":"Suppose I have two Java libraries packaged as jar files: `foo.jar` and `bar.jar`\r\n\r\nThe `foo.jar` contains the class `Foo.class` and the `bar.jar` contains the class `Bar.class`.\r\n\r\nNow I am writing a piece of code in which I use both `Foo` and `Bar`.\r\n\r\n    package my.work;\r\n\r\n    public class TestDrive {\r\n       public static void main(String[] args) {\r\n          Foo foo = new Foo();\r\n          Bar bar = new Bar();\r\n          System.out.println(&quot;Hello, &quot; + foo + &quot; and &quot; + bar);\r\n       }\r\n    }\r\n\r\nIn order to compile `TestDrive.java` I need to know where both dependencies are located. Most likely I put them in my libs folder\r\n\r\n    +-project\r\n    |   +---src\r\n    |   |    +--TestDrive.java\r\n    |   +---libs\r\n    |   |    +--foo.jar\r\n    |   |    +--bar.jar\r\n    |   +---build\r\n    |   |    + my\r\n    |   |    |   +-- work \r\n    |   |    |   |    +--TestDrive.class //once I compile it with javac\r\n \r\n\r\nThen I would need to do something like\r\n\r\n    javac -classpath libs/foo.jar:libs/bar.jar -d build -sourcepath src src/TestDrive.java\r\n\r\nSo, to answer your question, yes, you need to put all your libraries in the classpath.\r\n\r\nThere are, of course, other ways to do this.","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>Suppose I have two Java libraries packaged as jar files: <code>foo.jar</code> and <code>bar.jar</code></p>\n\n<p>The <code>foo.jar</code> contains the class <code>Foo.class</code> and the <code>bar.jar</code> contains the class <code>Bar.class</code>.</p>\n\n<p>Now I am writing a piece of code in which I use both <code>Foo</code> and <code>Bar</code>.</p>\n\n<pre><code>package my.work;\n\npublic class TestDrive {\n   public static void main(String[] args) {\n      Foo foo = new Foo();\n      Bar bar = new Bar();\n      System.out.println(\"Hello, \" + foo + \" and \" + bar);\n   }\n}\n</code></pre>\n\n<p>In order to compile <code>TestDrive.java</code> I need to know where both dependencies are located. Most likely I put them in my libs folder</p>\n\n<pre><code>+-project\n|   +---src\n|   |    +--TestDrive.java\n|   +---libs\n|   |    +--foo.jar\n|   |    +--bar.jar\n|   +---build\n|   |    + my\n|   |    |   +-- work \n|   |    |   |    +--TestDrive.class //once I compile it with javac\n</code></pre>\n\n<p>Then I would need to do something like</p>\n\n<pre><code>javac -classpath libs/foo.jar:libs/bar.jar -d build -sourcepath src src/TestDrive.java\n</code></pre>\n\n<p>So, to answer your question, yes, you need to put all your libraries in the classpath.</p>\n\n<p>There are, of course, other ways to do this.</p>\n"}],"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46597506,"answer_count":3,"score":0,"last_activity_date":1681459302,"creation_date":1507256150,"question_id":46597312,"body_markdown":"So I am not familiar with adding new libraries to java. I downloaded a library from GitHub and I got a zip file.\r\n\r\nI have extracted the contents but I&#39;m lost. I dont know where and how I should add this library.\r\n\r\nI dont use any IDE. I use the command prompt on windows 8. I use notepad to type my code\r\n\r\nI have done my research for the last 2 hours but all of them are for some IDE and the ones that I found other than those didnt help.\r\n\r\nI read about -classpath but I&#39;ll have to set the path every time I have a new library?? (I&#39;m still confused)\r\n\r\nPlease tell me how to add this library. Thank you!\r\n","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>So I am not familiar with adding new libraries to java. I downloaded a library from GitHub and I got a zip file.</p>\n\n<p>I have extracted the contents but I'm lost. I dont know where and how I should add this library.</p>\n\n<p>I dont use any IDE. I use the command prompt on windows 8. I use notepad to type my code</p>\n\n<p>I have done my research for the last 2 hours but all of them are for some IDE and the ones that I found other than those didnt help.</p>\n\n<p>I read about -classpath but I'll have to set the path every time I have a new library?? (I'm still confused)</p>\n\n<p>Please tell me how to add this library. Thank you!</p>\n"},{"tags":["java","string","math"],"comments":[{"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"score":10,"creation_date":1293625264,"post_id":3422673,"comment_id":51208358,"body_markdown":"I recently wrote a math expression parser called exp4j that was released under the apache license\nyou can check it out here: http://www.objecthunter.net/exp4j/","body":"I recently wrote a math expression parser called exp4j that was released under the apache license you can check it out here: <a href=\"http://www.objecthunter.net/exp4j/\" rel=\"nofollow noreferrer\">objecthunter.net/exp4j</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1418217630,"post_id":3422673,"comment_id":43248847,"body_markdown":"What kinds of expressions do you permit? Only single operator expressions? Are parentheses permitted?","body":"What kinds of expressions do you permit? Only single operator expressions? Are parentheses permitted?"},{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":4,"creation_date":1453390407,"post_id":3422673,"comment_id":57589039,"body_markdown":"Also take a look at [Dijkstra&#39;s two-stack algorithm](http://algs4.cs.princeton.edu/13stacks/Evaluate.java.html)","body":"Also take a look at <a href=\"http://algs4.cs.princeton.edu/13stacks/Evaluate.java.html\" rel=\"nofollow noreferrer\">Dijkstra&#39;s two-stack algorithm</a>"},{"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"score":1,"creation_date":1474413868,"post_id":3422673,"comment_id":66518755,"body_markdown":"Possible duplicate of [Is there an eval() function in Java?](http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java\">Is there an eval() function in Java?</a>"},{"owner":{"account_id":2164481,"reputation":2245,"user_id":1917867,"accept_rate":62,"display_name":"Nagendra Varma"},"score":1,"creation_date":1501398050,"post_id":3422673,"comment_id":77755153,"body_markdown":"@fasseg, the library is pretty awesome, but, it seems like it only deals with numerical expressions, please correct me if I&#39;m wrong. I have a requirement where I need to check the equality of strings in an expression, can you please suggest!","body":"@fasseg, the library is pretty awesome, but, it seems like it only deals with numerical expressions, please correct me if I&#39;m wrong. I have a requirement where I need to check the equality of strings in an expression, can you please suggest!"},{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":3,"creation_date":1539423823,"post_id":3422673,"comment_id":92503877,"body_markdown":"How can this possible be considered too broad?  Dijkstra&#39;s evaluation is the obvious solution here  https://en.wikipedia.org/wiki/Shunting-yard_algorithm","body":"How can this possible be considered too broad?  Dijkstra&#39;s evaluation is the obvious solution here  <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shunting-yard_algorithm</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1571725368,"post_id":3422673,"comment_id":103325324,"body_markdown":"Since java 9 there is JShell JShell shell = JShell.create(); shell.eval(&quot;...&quot;)","body":"Since java 9 there is JShell JShell shell = JShell.create(); shell.eval(&quot;...&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1466049153,"post_id":3422797,"comment_id":63158259,"body_markdown":"It gets a whole lot more complicated as soon as you have to deal with multiple operations, operator precedence, parentheses, ... in fact anything that characterizes a real arithmetic expression. You cannot get there starting from this technique.","body":"It gets a whole lot more complicated as soon as you have to deal with multiple operations, operator precedence, parentheses, ... in fact anything that characterizes a real arithmetic expression. You cannot get there starting from this technique."}],"tags":[],"owner":{"account_id":173570,"reputation":191,"user_id":402346,"display_name":"BruteForce"},"comment_count":1,"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1281089572,"creation_date":1281089572,"answer_id":3422797,"question_id":3422673,"body_markdown":"I think what ever way you do this it&#39;s going to involve a lot of conditional statements. But for single operations like in your examples you could limit it to 4 if statements with something like \r\n\r\n    String math = &quot;1+4&quot;;\r\n    \r\n    if (math.split(&quot;+&quot;).length == 2) {\r\n    \t//do calculation\r\n    } else if (math.split(&quot;-&quot;).length == 2) {\r\n    \t//do calculation\r\n    } ...\r\n\r\nIt gets a whole lot more complicated when you want to deal with multiple operations like &quot;4+5*6&quot;.\r\n\r\nIf you are trying to build a calculator then I&#39;d surgest passing each section of the calculation separatly (each number or operator) rather than as a single string.","title":"How to evaluate a math expression given in string form?","body":"<p>I think what ever way you do this it's going to involve a lot of conditional statements. But for single operations like in your examples you could limit it to 4 if statements with something like </p>\n\n<pre><code>String math = \"1+4\";\n\nif (math.split(\"+\").length == 2) {\n    //do calculation\n} else if (math.split(\"-\").length == 2) {\n    //do calculation\n} ...\n</code></pre>\n\n<p>It gets a whole lot more complicated when you want to deal with multiple operations like \"4+5*6\".</p>\n\n<p>If you are trying to build a calculator then I'd surgest passing each section of the calculation separatly (each number or operator) rather than as a single string.</p>\n"},{"tags":[],"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"comment_count":0,"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1281089717,"creation_date":1281089717,"answer_id":3422825,"question_id":3422673,"body_markdown":"The correct way to solve this is with a [lexer](http://en.wikipedia.org/wiki/Lexical_analysis) and a [parser](http://en.wikipedia.org/wiki/Parser). You can write simple versions of these yourself, or those pages also have links to Java lexers and parsers.\r\n\r\nCreating a recursive descent parser is a really good learning exercise.","title":"How to evaluate a math expression given in string form?","body":"<p>The correct way to solve this is with a <a href=\"http://en.wikipedia.org/wiki/Lexical_analysis\" rel=\"noreferrer\">lexer</a> and a <a href=\"http://en.wikipedia.org/wiki/Parser\" rel=\"noreferrer\">parser</a>. You can write simple versions of these yourself, or those pages also have links to Java lexers and parsers.</p>\n\n<p>Creating a recursive descent parser is a really good learning exercise.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1281091044,"creation_date":1281091044,"answer_id":3422956,"question_id":3422673,"body_markdown":"It seems like &lt;a href=&quot;http://sourceforge.net/projects/jep/&quot;&gt;JEP&lt;/a&gt; should do the job","title":"How to evaluate a math expression given in string form?","body":"<p>It seems like <a href=\"http://sourceforge.net/projects/jep/\" rel=\"noreferrer\">JEP</a> should do the job</p>\n"},{"comments":[{"owner":{"account_id":968918,"reputation":1272,"user_id":991850,"accept_rate":57,"display_name":"Jean-Marc Astesana"},"score":61,"creation_date":1346243639,"post_id":3423360,"comment_id":16301912,"body_markdown":"It seems there&#39;s a major problem there;  \nIt executes a script, not evaluates an expression.  \nTo be clear, engine.eval(&quot;8;40+2&quot;), outputs 42 !  \nIf you want an expression parser that also check the syntax, I&#39;ve just finished one (because I found nothing that suits my needs) : [Javaluator](http://javaluator.sourceforge.net).","body":"It seems there&#39;s a major problem there;   It executes a script, not evaluates an expression.   To be clear, engine.eval(&quot;8;40+2&quot;), outputs 42 !   If you want an expression parser that also check the syntax, I&#39;ve just finished one (because I found nothing that suits my needs) : <a href=\"http://javaluator.sourceforge.net\" rel=\"nofollow noreferrer\">Javaluator</a>."},{"owner":{"account_id":1208017,"reputation":5759,"user_id":1177139,"accept_rate":75,"display_name":"Ben Visness"},"score":4,"creation_date":1396478682,"post_id":3423360,"comment_id":34812032,"body_markdown":"As a side note, if you need to use the result of this expression elsewhere in your code, you can typecast the result to a Double like so:\n\n`return (Double) engine.eval(foo);`","body":"As a side note, if you need to use the result of this expression elsewhere in your code, you can typecast the result to a Double like so:  <code>return (Double) engine.eval(foo);</code>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":57,"creation_date":1442833718,"post_id":3423360,"comment_id":53230406,"body_markdown":"Security note: You should never use this in a server context with user input. The executed JavaScript can access all Java classes and thus hijack your application without limit.","body":"Security note: You should never use this in a server context with user input. The executed JavaScript can access all Java classes and thus hijack your application without limit."},{"owner":{"account_id":5058446,"reputation":1111,"user_id":4060898,"accept_rate":66,"display_name":"partho"},"score":1,"creation_date":1451914965,"post_id":3423360,"comment_id":56929985,"body_markdown":"what&#39;s the meaning of `getEngineByName(&quot;JavaScript&quot;)` here?","body":"what&#39;s the meaning of <code>getEngineByName(&quot;JavaScript&quot;)</code> here?"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":1,"creation_date":1451945331,"post_id":3423360,"comment_id":56947142,"body_markdown":"@partho, getEngineByName() is used to look up and creates a ScriptEngine for a given name (ex.  js, rhino, JavaScript, javascript, ECMAScript, ecmascript).  See https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngineManager.html","body":"@partho, getEngineByName() is used to look up and creates a ScriptEngine for a given name (ex.  js, rhino, JavaScript, javascript, ECMAScript, ecmascript).  See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngineManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/script/&hellip;</a>"},{"owner":{"account_id":5058446,"reputation":1111,"user_id":4060898,"accept_rate":66,"display_name":"partho"},"score":5,"creation_date":1456578223,"post_id":3423360,"comment_id":59019268,"body_markdown":"@Boann, I request you to give me a reference about what you said.(to be sure 100%)","body":"@Boann, I request you to give me a reference about what you said.(to be sure 100%)"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":31,"creation_date":1456580273,"post_id":3423360,"comment_id":59019953,"body_markdown":"@partho `new javax.script.ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;) .eval(&quot;var f = new java.io.FileWriter(&#39;hello.txt&#39;); f.write(&#39;UNLIMITED POWER!&#39;); f.close();&quot;);` -- will write a file via JavaScript into (by default) the program&#39;s current directory","body":"@partho <code>new javax.script.ScriptEngineManager().getEngineByName(&quot;JavaScri&zwnj;&#8203;pt&quot;) .eval(&quot;var f = new java.io.FileWriter(&#39;hello.txt&#39;); f.write(&#39;UNLIMITED POWER!&#39;); f.close();&quot;);</code> -- will write a file via JavaScript into (by default) the program&#39;s current directory"},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":3,"creation_date":1458659981,"post_id":3423360,"comment_id":59953971,"body_markdown":"Also be aware of floating-point math.\n\n0.1+0.2 will evaluate to 0.30000000000000004","body":"Also be aware of floating-point math.  0.1+0.2 will evaluate to 0.30000000000000004"},{"owner":{"account_id":4708205,"reputation":193,"user_id":3809625,"display_name":"php_coder_3809625"},"score":4,"creation_date":1462005655,"post_id":3423360,"comment_id":61463415,"body_markdown":"Just note this is 100% open to denial-of-service if the string input isn&#39;t filtered. Like if `exit();` was passed it will exit in java.","body":"Just note this is 100% open to denial-of-service if the string input isn&#39;t filtered. Like if <code>exit();</code> was passed it will exit in java."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1468801420,"post_id":3423360,"comment_id":64260942,"body_markdown":"@ChristianKuetbach That&#39;s a property of floating-point, not of executing scripts.","body":"@ChristianKuetbach That&#39;s a property of floating-point, not of executing scripts."},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":2,"creation_date":1468843494,"post_id":3423360,"comment_id":64277913,"body_markdown":"@EJP: Thats true. But a lot of people are not aware, that JavaScript is floating-point only. I think, using JjavaScript for calculations is a bad idea.","body":"@EJP: Thats true. But a lot of people are not aware, that JavaScript is floating-point only. I think, using JjavaScript for calculations is a bad idea."},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":1,"creation_date":1483522970,"post_id":3423360,"comment_id":70126767,"body_markdown":"In case of divide by zero it dosen`t throw exception and because it uses java script engine it results &quot;infinity&quot;","body":"In case of divide by zero it dosen`t throw exception and because it uses java script engine it results &quot;infinity&quot;"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1506892318,"post_id":3423360,"comment_id":79988045,"body_markdown":"@Jean-MarcAstesana how do you pass square root operations? Also, I passed `4^13` and it returned `6.7108864E7` :/","body":"@Jean-MarcAstesana how do you pass square root operations? Also, I passed <code>4^13</code> and it returned <code>6.7108864E7</code> :/"},{"owner":{"account_id":968918,"reputation":1272,"user_id":991850,"accept_rate":57,"display_name":"Jean-Marc Astesana"},"score":2,"creation_date":1506962665,"post_id":3423360,"comment_id":80014442,"body_markdown":"@CardinalSystem I do not understand what the problem is? 4^13 is equals to 6.7108864E7 ... or java method Math.pow is buggy. The squareroot of x is x^0.5. Feel free to extend javaluator for your own needs if needed, there&#39;s a tutorial on javaluator&#39;s site.","body":"@CardinalSystem I do not understand what the problem is? 4^13 is equals to 6.7108864E7 ... or java method Math.pow is buggy. The squareroot of x is x^0.5. Feel free to extend javaluator for your own needs if needed, there&#39;s a tutorial on javaluator&#39;s site."},{"owner":{"account_id":1343823,"reputation":403,"user_id":1284942,"display_name":"JorgeGarza"},"score":3,"creation_date":1539999195,"post_id":3423360,"comment_id":92715273,"body_markdown":"You can create a RegEx to evaluate an expression with Math chars only, like `Pattern mathExpressionPattern = Pattern.compile( &quot;[0-9,.\\\\(\\\\)\\\\/\\\\-\\\\+\\\\*\\\\^]+&quot; )`","body":"You can create a RegEx to evaluate an expression with Math chars only, like <code>Pattern mathExpressionPattern = Pattern.compile( &quot;[0-9,.\\\\(\\\\)\\\\&#47;\\\\-\\\\+\\\\*\\\\^]+&quot; )</code>"},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":1,"creation_date":1594756814,"post_id":3423360,"comment_id":111237075,"body_markdown":"Be aware, it will not work in the case of left zeros, `&quot;024 + 862&quot;` will produce `882`, not `886`","body":"Be aware, it will not work in the case of left zeros, <code>&quot;024 + 862&quot;</code> will produce <code>882</code>, not <code>886</code>"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":2,"creation_date":1594773204,"post_id":3423360,"comment_id":111242130,"body_markdown":"@ahmednabil88 , it&#39;s because in javascript &quot;0&quot; + number is an octal number, so 024 is interpreted as 20 in decimal in the expression &quot;024 + 862&quot;","body":"@ahmednabil88 , it&#39;s because in javascript &quot;0&quot; + number is an octal number, so 024 is interpreted as 20 in decimal in the expression &quot;024 + 862&quot;"},{"owner":{"account_id":3613332,"reputation":280,"user_id":3013831,"accept_rate":100,"display_name":"pmdci"},"score":2,"creation_date":1633948581,"post_id":3423360,"comment_id":122887510,"body_markdown":"Nashorn (used in this solution) is being deprecated. I wouldn&#39;t recommend this solution for new code.","body":"Nashorn (used in this solution) is being deprecated. I wouldn&#39;t recommend this solution for new code."},{"owner":{"account_id":1545491,"reputation":2535,"user_id":1439122,"accept_rate":45,"display_name":"RRM"},"score":0,"creation_date":1642698040,"post_id":3423360,"comment_id":125146495,"body_markdown":"https://stackoverflow.com/questions/70781378/consistent-evaluation-and-match-the-fractional-values","body":"<a href=\"https://stackoverflow.com/questions/70781378/consistent-evaluation-and-match-the-fractional-values\" title=\"consistent evaluation and match the fractional values\">stackoverflow.com/questions/70781378/&hellip;</a>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1642919305,"post_id":3423360,"comment_id":125198328,"body_markdown":"@JorgeGarza Be very careful with this type of thing. It is possible to execute arbitrarily powerful JavaScript with [quite limited characters](https://github.com/aemkei/jsfuck). I believe your example is safe because it doesn&#39;t allow `[` and `]`, but still it makes me uncomfortable to see user input passed to a full script engine.","body":"@JorgeGarza Be very careful with this type of thing. It is possible to execute arbitrarily powerful JavaScript with <a href=\"https://github.com/aemkei/jsfuck\" rel=\"nofollow noreferrer\">quite limited characters</a>. I believe your example is safe because it doesn&#39;t allow <code>[</code> and <code>]</code>, but still it makes me uncomfortable to see user input passed to a full script engine."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1675142675,"post_id":3423360,"comment_id":132859893,"body_markdown":"Java 8: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null","body":"Java 8: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1680971528,"post_id":3423360,"comment_id":133985780,"body_markdown":"Note that this is kind of the &quot;how do I drive to the bank?&quot; / &quot;have someone else drive you&quot; version of an answer though, in that it doesn&#39;t explain anything about how to actually write the code to do this. If you turn this in as homework, it&#39;s a fail because you didn&#39;t do the exercise, and if you try to land this in a real project, it&#39;ll most certainly get shot down as you filing a joke PR/MR instead of adding an expression parser to the code base. It&#39;s useful to know eval exists, but it&#39;s a bit odd that this is the accepted answer =)","body":"Note that this is kind of the &quot;how do I drive to the bank?&quot; / &quot;have someone else drive you&quot; version of an answer though, in that it doesn&#39;t explain anything about how to actually write the code to do this. If you turn this in as homework, it&#39;s a fail because you didn&#39;t do the exercise, and if you try to land this in a real project, it&#39;ll most certainly get shot down as you filing a joke PR/MR instead of adding an expression parser to the code base. It&#39;s useful to know eval exists, but it&#39;s a bit odd that this is the accepted answer =)"}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":22,"down_vote_count":17,"up_vote_count":433,"is_accepted":true,"score":416,"last_activity_date":1491577445,"creation_date":1281094528,"answer_id":3423360,"question_id":3422673,"body_markdown":"With JDK1.6, you can use the built-in Javascript engine.\r\n\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptException;\r\n    \r\n    public class Test {\r\n      public static void main(String[] args) throws ScriptException {\r\n        ScriptEngineManager mgr = new ScriptEngineManager();\r\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n        String foo = &quot;40+2&quot;;\r\n        System.out.println(engine.eval(foo));\r\n        } \r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>With JDK1.6, you can use the built-in Javascript engine.</p>\n\n<pre><code>import javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n\npublic class Test {\n  public static void main(String[] args) throws ScriptException {\n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n    String foo = \"40+2\";\n    System.out.println(engine.eval(foo));\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251040,"reputation":99,"user_id":1211444,"display_name":"stone"},"comment_count":0,"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1589883242,"creation_date":1329312908,"answer_id":9294395,"question_id":3422673,"body_markdown":"    import java.util.*;\r\n    \r\n    public class check { \r\n       int ans;\r\n       String str=&quot;7 + 5&quot;;\r\n       StringTokenizer st=new StringTokenizer(str);\r\n    \r\n       int v1=Integer.parseInt(st.nextToken());\r\n       String op=st.nextToken();\r\n       int v2=Integer.parseInt(st.nextToken());\r\n    \r\n       if(op.equals(&quot;+&quot;)) { ans= v1 + v2; }\r\n       if(op.equals(&quot;-&quot;)) { ans= v1 - v2; }\r\n       //.........\r\n    }","title":"How to evaluate a math expression given in string form?","body":"<pre><code>import java.util.*;\n\npublic class check { \n   int ans;\n   String str=\"7 + 5\";\n   StringTokenizer st=new StringTokenizer(str);\n\n   int v1=Integer.parseInt(st.nextToken());\n   String op=st.nextToken();\n   int v2=Integer.parseInt(st.nextToken());\n\n   if(op.equals(\"+\")) { ans= v1 + v2; }\n   if(op.equals(\"-\")) { ans= v1 - v2; }\n   //.........\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":4,"creation_date":1476201192,"post_id":11300763,"comment_id":67241463,"body_markdown":"Please summarize the information from the article, in case the link to it is broken.","body":"Please summarize the information from the article, in case the link to it is broken."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1553096264,"post_id":11300763,"comment_id":97260686,"body_markdown":"I&#39;ve upgraded the answer to include relevant bits from the article","body":"I&#39;ve upgraded the answer to include relevant bits from the article"},{"owner":{"account_id":73395,"reputation":10664,"user_id":211369,"display_name":"Nishi"},"score":2,"creation_date":1583331281,"post_id":11300763,"comment_id":107079876,"body_markdown":"in practice, JEXL is slow (uses introspection of beans), has performance issues with multithreading (global cache)","body":"in practice, JEXL is slow (uses introspection of beans), has performance issues with multithreading (global cache)"},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1583341517,"post_id":11300763,"comment_id":107086036,"body_markdown":"Good to know @Nishi ! - My use case was for debugging things in live environments, but not part of the normal deployed app.","body":"Good to know @Nishi ! - My use case was for debugging things in live environments, but not part of the normal deployed app."}],"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":4,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1553084986,"creation_date":1341261163,"answer_id":11300763,"question_id":3422673,"body_markdown":"[This article][1] discusses various approaches. Here are the 2 key approaches mentioned in the article:\n\n### [JEXL from Apache][2] \nAllows for scripts that include references to java objects.\n\n    // Create or retrieve a JexlEngine\n    JexlEngine jexl = new JexlEngine();\n    // Create an expression object\n    String jexlExp = &quot;foo.innerFoo.bar()&quot;;\n    Expression e = jexl.createExpression( jexlExp );\n     \n    // Create a context and add data\n    JexlContext jctx = new MapContext();\n    jctx.set(&quot;foo&quot;, new Foo() );\n     \n    // Now evaluate the expression, getting the result\n    Object o = e.evaluate(jctx);\n\n### Use the javascript engine embedded in the JDK:\n\n    private static void jsEvalWithVariable()\n    {\n        List&lt;String&gt; namesList = new ArrayList&lt;String&gt;();\n        namesList.add(&quot;Jill&quot;);\n        namesList.add(&quot;Bob&quot;);\n        namesList.add(&quot;Laureen&quot;);\n        namesList.add(&quot;Ed&quot;);\n     \n        ScriptEngineManager mgr = new ScriptEngineManager();\n        ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\n     \n        jsEngine.put(&quot;namesListKey&quot;, namesList);\n        System.out.println(&quot;Executing in script environment...&quot;);\n        try\n        {\n          jsEngine.eval(&quot;var x;&quot; +\n                        &quot;var names = namesListKey.toArray();&quot; +\n                        &quot;for(x in names) {&quot; +\n                        &quot;  println(names[x]);&quot; +\n                        &quot;}&quot; +\n                        &quot;namesListKey.add(\\&quot;Dana\\&quot;);&quot;);\n        }\n        catch (ScriptException ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n\n  [1]: http://www.beyondlinux.com/2011/08/07/3-method-to-evaluate-expressions/\n  [2]: http://commons.apache.org/proper/commons-jexl/\n\n\n","title":"How to evaluate a math expression given in string form?","body":"<p><a href=\"http://www.beyondlinux.com/2011/08/07/3-method-to-evaluate-expressions/\" rel=\"noreferrer\">This article</a> discusses various approaches. Here are the 2 key approaches mentioned in the article:</p>\n<h3><a href=\"http://commons.apache.org/proper/commons-jexl/\" rel=\"noreferrer\">JEXL from Apache</a></h3>\n<p>Allows for scripts that include references to java objects.</p>\n<pre><code>// Create or retrieve a JexlEngine\nJexlEngine jexl = new JexlEngine();\n// Create an expression object\nString jexlExp = &quot;foo.innerFoo.bar()&quot;;\nExpression e = jexl.createExpression( jexlExp );\n \n// Create a context and add data\nJexlContext jctx = new MapContext();\njctx.set(&quot;foo&quot;, new Foo() );\n \n// Now evaluate the expression, getting the result\nObject o = e.evaluate(jctx);\n</code></pre>\n<h3>Use the javascript engine embedded in the JDK:</h3>\n<pre><code>private static void jsEvalWithVariable()\n{\n    List&lt;String&gt; namesList = new ArrayList&lt;String&gt;();\n    namesList.add(&quot;Jill&quot;);\n    namesList.add(&quot;Bob&quot;);\n    namesList.add(&quot;Laureen&quot;);\n    namesList.add(&quot;Ed&quot;);\n \n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\n \n    jsEngine.put(&quot;namesListKey&quot;, namesList);\n    System.out.println(&quot;Executing in script environment...&quot;);\n    try\n    {\n      jsEngine.eval(&quot;var x;&quot; +\n                    &quot;var names = namesListKey.toArray();&quot; +\n                    &quot;for(x in names) {&quot; +\n                    &quot;  println(names[x]);&quot; +\n                    &quot;}&quot; +\n                    &quot;namesListKey.add(\\&quot;Dana\\&quot;);&quot;);\n    }\n    catch (ScriptException ex)\n    {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6765562,"reputation":345,"user_id":5210680,"accept_rate":44,"display_name":"Hanni"},"score":1,"creation_date":1454802948,"post_id":12847635,"comment_id":58209736,"body_markdown":"Can you please tell me how to use  BeanShell in adnroid Studio.","body":"Can you please tell me how to use  BeanShell in adnroid Studio."},{"owner":{"account_id":456369,"reputation":518,"user_id":855107,"display_name":"marciowerner"},"score":1,"creation_date":1454905421,"post_id":12847635,"comment_id":58236518,"body_markdown":"Hanni - this post might help you adding BeanShell to your androidstudio project: \nhttp://stackoverflow.com/questions/18520875/adding-external-jar-to-androidstudio-project","body":"Hanni - this post might help you adding BeanShell to your androidstudio project:  <a href=\"http://stackoverflow.com/questions/18520875/adding-external-jar-to-androidstudio-project\" title=\"adding external jar to androidstudio project\">stackoverflow.com/questions/18520875/&hellip;</a>"}],"tags":[],"owner":{"account_id":456369,"reputation":518,"user_id":855107,"display_name":"marciowerner"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1349985972,"creation_date":1349985972,"answer_id":12847635,"question_id":3422673,"body_markdown":"You can also try the [BeanShell][1] interpreter:\r\n\r\n    Interpreter interpreter = new Interpreter();\r\n    interpreter.eval(&quot;result = (7+21*6)/(32-27)&quot;);\r\n    System.out.println(interpreter.get(&quot;result&quot;));\r\n\r\n\r\n  [1]: http://www.beanshell.org","title":"How to evaluate a math expression given in string form?","body":"<p>You can also try the <a href=\"http://www.beanshell.org\" rel=\"noreferrer\">BeanShell</a> interpreter:</p>\n\n<pre><code>Interpreter interpreter = new Interpreter();\ninterpreter.eval(\"result = (7+21*6)/(32-27)\");\nSystem.out.println(interpreter.get(\"result\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1362100,"reputation":635,"user_id":1299267,"display_name":"Daniel Nuriyev"},"score":9,"creation_date":1398362635,"post_id":12942355,"comment_id":35625089,"body_markdown":"You should read about writing efficient math expression parsers. There is a computer science methodology to it. Take a look at ANTLR, for example. If you think well about what you wrote you&#39;ll see that things like (a+b/-c)*(e/f) will not work with your idea or the code will be super duper dirty and inefficient.","body":"You should read about writing efficient math expression parsers. There is a computer science methodology to it. Take a look at ANTLR, for example. If you think well about what you wrote you&#39;ll see that things like (a+b/-c)*(e/f) will not work with your idea or the code will be super duper dirty and inefficient."}],"tags":[],"owner":{"account_id":1864901,"reputation":113,"user_id":1688710,"display_name":"konxie"},"comment_count":1,"down_vote_count":11,"up_vote_count":13,"is_accepted":false,"score":2,"last_activity_date":1350504398,"creation_date":1350503968,"answer_id":12942355,"question_id":3422673,"body_markdown":"How about something like this:\r\n\r\n    String st = &quot;10+3&quot;;\r\n    int result;\r\n    for(int i=0;i&lt;st.length();i++)\r\n    {\r\n      if(st.charAt(i)==&#39;+&#39;)\r\n      {\r\n        result=Integer.parseInt(st.substring(0, i))+Integer.parseInt(st.substring(i+1, st.length()));\r\n        System.out.print(result);\r\n      }\t\t\t\r\n    }\r\n\r\nand do the similar thing for every other mathematical operator accordingly .. ","title":"How to evaluate a math expression given in string form?","body":"<p>How about something like this:</p>\n\n<pre><code>String st = \"10+3\";\nint result;\nfor(int i=0;i&lt;st.length();i++)\n{\n  if(st.charAt(i)=='+')\n  {\n    result=Integer.parseInt(st.substring(0, i))+Integer.parseInt(st.substring(i+1, st.length()));\n    System.out.print(result);\n  }         \n}\n</code></pre>\n\n<p>and do the similar thing for every other mathematical operator accordingly .. </p>\n"},{"comments":[{"owner":{"account_id":3214080,"reputation":1402,"user_id":2713336,"accept_rate":56,"display_name":"paarth batra"},"score":0,"creation_date":1524730178,"post_id":18603659,"comment_id":87091994,"body_markdown":"This is ok , but fails when we try to multiply values of multiples of 5 or 10 , for example 65 * 6 results in 3.9E+2 ...","body":"This is ok , but fails when we try to multiply values of multiples of 5 or 10 , for example 65 * 6 results in 3.9E+2 ..."},{"owner":{"account_id":3214080,"reputation":1402,"user_id":2713336,"accept_rate":56,"display_name":"paarth batra"},"score":0,"creation_date":1524742306,"post_id":18603659,"comment_id":87099566,"body_markdown":".But there is a way to fix this by casting it to int  i.e.  int output = (int) 65*6  it will result now 390","body":".But there is a way to fix this by casting it to int  i.e.  int output = (int) 65*6  it will result now 390"},{"owner":{"account_id":2925701,"reputation":525,"user_id":2507054,"accept_rate":100,"display_name":"DavidBittner"},"score":1,"creation_date":1528300366,"post_id":18603659,"comment_id":88457627,"body_markdown":"To clarify, that is not a problem of the library but rather an issue with the representation of numbers as floating point values.","body":"To clarify, that is not a problem of the library but rather an issue with the representation of numbers as floating point values."},{"owner":{"account_id":933189,"reputation":1589,"user_id":962638,"accept_rate":100,"display_name":"einUsername"},"score":0,"creation_date":1583515989,"post_id":18603659,"comment_id":107156227,"body_markdown":"This library is really good. @paarth batra Casting to int will remove all decimal points. Use this instead: expression.eval().toPlainString();","body":"This library is really good. @paarth batra Casting to int will remove all decimal points. Use this instead: expression.eval().toPlainString();"}],"tags":[],"owner":{"account_id":2289270,"reputation":562,"user_id":2012594,"accept_rate":86,"display_name":"Tanvir"},"comment_count":4,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1378255287,"creation_date":1378255287,"answer_id":18603659,"question_id":3422673,"body_markdown":"[HERE][1] is another open source library on GitHub named EvalEx.\r\n\r\nUnlike the JavaScript engine this library is focused in evaluating mathematical expressions only. Moreover, the library is extensible and supports use of boolean operators as well as parentheses.\r\n\r\n  [1]: https://github.com/uklimaschewski/EvalEx","title":"How to evaluate a math expression given in string form?","body":"<p><a href=\"https://github.com/uklimaschewski/EvalEx\" rel=\"noreferrer\">HERE</a> is another open source library on GitHub named EvalEx.</p>\n\n<p>Unlike the JavaScript engine this library is focused in evaluating mathematical expressions only. Moreover, the library is extensible and supports use of boolean operators as well as parentheses.</p>\n"},{"tags":[],"owner":{"account_id":422974,"reputation":806,"user_id":802061,"accept_rate":62,"display_name":"Faheem Sohail"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1645649503,"creation_date":1393422920,"answer_id":22043501,"question_id":3422673,"body_markdown":"Another way is to use the [Spring Expression Language or SpEL][1] which does a whole lot more along with evaluating mathematical expressions, therefore maybe slightly overkill. You do not have to be using Spring framework to use this expression library as it is stand-alone. Copying examples from SpEL&#39;s documentation: \r\n\r\n    \r\n    ExpressionParser parser = new SpelExpressionParser();\r\n    int two = parser.parseExpression(&quot;1 + 1&quot;).getValue(Integer.class); // 2 \r\n    double twentyFour = parser.parseExpression(&quot;2.0 * 3e0 * 4&quot;).getValue(Double.class); //24.0\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions","title":"How to evaluate a math expression given in string form?","body":"<p>Another way is to use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">Spring Expression Language or SpEL</a> which does a whole lot more along with evaluating mathematical expressions, therefore maybe slightly overkill. You do not have to be using Spring framework to use this expression library as it is stand-alone. Copying examples from SpEL's documentation:</p>\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\nint two = parser.parseExpression(&quot;1 + 1&quot;).getValue(Integer.class); // 2 \ndouble twentyFour = parser.parseExpression(&quot;2.0 * 3e0 * 4&quot;).getValue(Double.class); //24.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":4,"creation_date":1469290630,"post_id":26227947,"comment_id":64479474,"body_markdown":"Nice algorithm, starting from it I managed to impliment and logical operators.\nWe created separate classes for functions to evaluate a function, so like your idea of variables, I create a map with functions and looking after the function name. Every function implements an interface with a method eval (T rightOperator , T leftOperator), so anytime we can add features without changing the algorithm code.\nAnd it is a good idea to make it work with generic types.\nThanks you!","body":"Nice algorithm, starting from it I managed to impliment and logical operators. We created separate classes for functions to evaluate a function, so like your idea of variables, I create a map with functions and looking after the function name. Every function implements an interface with a method eval (T rightOperator , T leftOperator), so anytime we can add features without changing the algorithm code. And it is a good idea to make it work with generic types. Thanks you!"},{"owner":{"account_id":4120148,"reputation":936,"user_id":3380744,"accept_rate":75,"display_name":"iYonatan"},"score":1,"creation_date":1469318780,"post_id":26227947,"comment_id":64486789,"body_markdown":"Can you explain the logic behind this algorithm?","body":"Can you explain the logic behind this algorithm?"},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1469372758,"post_id":26227947,"comment_id":64497707,"body_markdown":"I try to give a description of what I understand from the code written by Boann, and examples described wiki.The logic of this algoritm starting from rules of operation orders. \n1. operator sign | variable evaluation | function call | parenthesis (sub-expressions);\n2. exponentiation;\n3. multiplication, division;\n4. addition, subtraction;","body":"I try to give a description of what I understand from the code written by Boann, and examples described wiki.The logic of this algoritm starting from rules of operation orders.  1. operator sign | variable evaluation | function call | parenthesis (sub-expressions); 2. exponentiation; 3. multiplication, division; 4. addition, subtraction;"},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1469372970,"post_id":26227947,"comment_id":64497775,"body_markdown":"Algorithm methods are divided for each level of operations order as follows:\nparseFactor = 1.  operator sign | variable evaluation | function call | parenthesis (sub-expressions); 2. exponentiation;\nparseTerms = 3. multiplication, division;\nparseExpression = 4. addition, subtraction.\nThe algorithm, call methods in reverse order (parseExpression -&gt; parseTerms -&gt; parseFactor -&gt; parseExpression (for sub-expressions)), \nbut every method to the first line call the method to the next level, so the entire execution order methods will be actually normal order of operations.","body":"Algorithm methods are divided for each level of operations order as follows: parseFactor = 1.  operator sign | variable evaluation | function call | parenthesis (sub-expressions); 2. exponentiation; parseTerms = 3. multiplication, division; parseExpression = 4. addition, subtraction. The algorithm, call methods in reverse order (parseExpression -&gt; parseTerms -&gt; parseFactor -&gt; parseExpression (for sub-expressions)),  but every method to the first line call the method to the next level, so the entire execution order methods will be actually normal order of operations."},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1469373165,"post_id":26227947,"comment_id":64497848,"body_markdown":"For example the parseExpression method the  `double x = parseTerm();`  evaluate the left operator, after this `for (;;) {...}` evaluate succesive operations of actual order level (addition, subtraction). The same logic are and in parseTerm method.\nThe parseFactor does not have next level, so there are only evaluations of methods/ variables or in case of paranthesis - evaluate sub-expression.\n\nThe `boolean eat(int charToEat)` method check equality of the current cursor character with the charToEat character, if equal return true and move cursor to next character, I use name &#39;accept&#39; for it.","body":"For example the parseExpression method the  <code>double x = parseTerm();</code>  evaluate the left operator, after this <code>for (;;) {...}</code> evaluate succesive operations of actual order level (addition, subtraction). The same logic are and in parseTerm method. The parseFactor does not have next level, so there are only evaluations of methods/ variables or in case of paranthesis - evaluate sub-expression.  The <code>boolean eat(int charToEat)</code> method check equality of the current cursor character with the charToEat character, if equal return true and move cursor to next character, I use name &#39;accept&#39; for it."},{"owner":{"account_id":4120148,"reputation":936,"user_id":3380744,"accept_rate":75,"display_name":"iYonatan"},"score":1,"creation_date":1469709998,"post_id":26227947,"comment_id":64656552,"body_markdown":"How can I modify the method which will be able to do this:\n2(3+2) or (50+1)6 or 8(2)9","body":"How can I modify the method which will be able to do this: 2(3+2) or (50+1)6 or 8(2)9"},{"owner":{"account_id":6193854,"reputation":1602,"user_id":4825796,"display_name":"Hozeis"},"score":1,"creation_date":1480685766,"post_id":26227947,"comment_id":69077888,"body_markdown":"Im attempting to follow your steps on how to alter the algorithm to accept variables. I converted all the functions that return doubles to return expression, but i dont understand what and how `Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);` should work since parse was never declared. Also in parseFactor i used `else if (variables.containsKey(func)){x = () -&gt; variables.get(func);}` to return my variable value but the code breaks recursion after the next numeric value. Any help is appreciated.","body":"Im attempting to follow your steps on how to alter the algorithm to accept variables. I converted all the functions that return doubles to return expression, but i dont understand what and how <code>Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);</code> should work since parse was never declared. Also in parseFactor i used <code>else if (variables.containsKey(func)){x = () -&gt; variables.get(func);}</code> to return my variable value but the code breaks recursion after the next numeric value. Any help is appreciated."},{"owner":{"account_id":6193854,"reputation":1602,"user_id":4825796,"display_name":"Hozeis"},"score":1,"creation_date":1480951823,"post_id":26227947,"comment_id":69164781,"body_markdown":"I have asked a question referencing you answer - http://stackoverflow.com/q/40975678/4825796","body":"I have asked a question referencing you answer - <a href=\"http://stackoverflow.com/q/40975678/4825796\">stackoverflow.com/q/40975678/4825796</a>"},{"owner":{"account_id":356606,"reputation":4953,"user_id":696216,"accept_rate":71,"display_name":"janhink"},"score":2,"creation_date":1483535332,"post_id":26227947,"comment_id":70134715,"body_markdown":"Thank you for the snippet! Based on that I created a parser that can compare expressions with =, &lt;, &gt;, !=, etc. and can apply logical operators AND and OR too.","body":"Thank you for the snippet! Based on that I created a parser that can compare expressions with =, &lt;, &gt;, !=, etc. and can apply logical operators AND and OR too."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1553279173,"post_id":26227947,"comment_id":97339849,"body_markdown":"@Boann - thank you very much. I ported this code to Typescript.","body":"@Boann - thank you very much. I ported this code to Typescript."},{"owner":{"account_id":894435,"reputation":373,"user_id":964331,"accept_rate":86,"display_name":"Pedja"},"score":1,"creation_date":1581658316,"post_id":26227947,"comment_id":106517842,"body_markdown":"+1, but there is a problem with parentheses. Your parser allows expressions without closed parentheses , like : `(7-2*2 `. You should change line `eat(&#39;)&#39;);` .","body":"+1, but there is a problem with parentheses. Your parser allows expressions without closed parentheses , like : <code>(7-2*2 </code>. You should change line <code>eat(&#39;)&#39;);</code> ."},{"owner":{"account_id":508006,"reputation":8018,"user_id":1079869,"display_name":"Matias Kinnunen"},"score":1,"creation_date":1582352056,"post_id":26227947,"comment_id":106756201,"body_markdown":"@PeđaTerzić, good point. It can be fixed by changing `eat(&#39;)&#39;);` to `if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing closing parenthesis&quot;);`","body":"@PeđaTerzić, good point. It can be fixed by changing <code>eat(&#39;)&#39;);</code> to <code>if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing closing parenthesis&quot;);</code>"},{"owner":{"account_id":15323287,"reputation":95,"user_id":11055122,"display_name":"Skaldebane"},"score":1,"creation_date":1594852265,"post_id":26227947,"comment_id":111276053,"body_markdown":"Woah, this is the first time I know about `for(;;)`...","body":"Woah, this is the first time I know about <code>for(;;)</code>..."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1634155048,"post_id":26227947,"comment_id":122952835,"body_markdown":"1. Can you help me with a similar kind of Mathematical Expression question&#160;stackoverflow.com/questions/6666169/…               &#160;. 2. @Boann The public domain does not have any code","body":"1. Can you help me with a similar kind of Mathematical Expression question stackoverflow.com/questions/6666169/…                . 2. @Boann The public domain does not have any code"},{"owner":{"account_id":1545491,"reputation":2535,"user_id":1439122,"accept_rate":45,"display_name":"RRM"},"score":0,"creation_date":1642699748,"post_id":26227947,"comment_id":125147186,"body_markdown":"`eval(&quot;12*0.0254&quot;)` evaluates incorrectly to `0.30479999999999996`","body":"<code>eval(&quot;12*0.0254&quot;)</code> evaluates incorrectly to <code>0.30479999999999996</code>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1642701657,"post_id":26227947,"comment_id":125147942,"body_markdown":"@RRM Just normal binary floating-point arithmetic. You could change it to BigDecimal if needed.","body":"@RRM Just normal binary floating-point arithmetic. You could change it to BigDecimal if needed."},{"owner":{"account_id":1545491,"reputation":2535,"user_id":1439122,"accept_rate":45,"display_name":"RRM"},"score":0,"creation_date":1642710287,"post_id":26227947,"comment_id":125151214,"body_markdown":"@Boann I&#39;ve the String expressions as inputs. So, I must evaluate and have correct representation.","body":"@Boann I&#39;ve the String expressions as inputs. So, I must evaluate and have correct representation."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1642735497,"post_id":26227947,"comment_id":125156768,"body_markdown":"@RRM Yes, just change the evaluation type from double to BigDecimal or some type of fraction number class.","body":"@RRM Yes, just change the evaluation type from double to BigDecimal or some type of fraction number class."},{"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"score":0,"creation_date":1667221196,"post_id":26227947,"comment_id":131111899,"body_markdown":"@Boann if the expression contains signed number for example -1+7 in this extracting -1 is very complex. another example +10-89.Please help.Actually i used above parsing technique along with shunting yard algorithm to construct tree and evaluate..It works very well,i have wrote 69 test cases... but i am stuck in extracting signed number. Here is my entire working code,I have enjoyed developing this https://github.com/nagaraj200788/JavaExpressionEvaluator","body":"@Boann if the expression contains signed number for example -1+7 in this extracting -1 is very complex. another example +10-89.Please help.Actually i used above parsing technique along with shunting yard algorithm to construct tree and evaluate..It works very well,i have wrote 69 test cases... but i am stuck in extracting signed number. Here is my entire working code,I have enjoyed developing this <a href=\"https://github.com/nagaraj200788/JavaExpressionEvaluator\" rel=\"nofollow noreferrer\">github.com/nagaraj200788/JavaExpressionEvaluator</a>"},{"owner":{"account_id":3982461,"reputation":1341,"user_id":3284055,"display_name":"Serge Mask"},"score":0,"creation_date":1699873337,"post_id":26227947,"comment_id":136581265,"body_markdown":"Unfortunately it doesn&#39;t support double numbers like 1.9E-5","body":"Unfortunately it doesn&#39;t support double numbers like 1.9E-5"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1699887976,"post_id":26227947,"comment_id":136583961,"body_markdown":"@SergeMask It is very short and easy to modify.","body":"@SergeMask It is very short and easy to modify."}],"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":21,"down_vote_count":0,"up_vote_count":317,"is_accepted":false,"score":317,"last_activity_date":1642955306,"creation_date":1412650992,"answer_id":26227947,"question_id":3422673,"body_markdown":"I&#39;ve written this `eval` method for arithmetic expressions to answer this question. It does addition, subtraction, multiplication, division, exponentiation (using the `^` symbol), and a few basic functions like `sqrt`. It supports grouping using `(`...`)`, and it gets the operator [precedence](https://en.wikipedia.org/wiki/Order_of_operations) and [associativity](https://en.wikipedia.org/wiki/Operator_associativity) rules correct.\r\n\r\n\tpublic static double eval(final String str) {\r\n\t\treturn new Object() {\r\n\t\t\tint pos = -1, ch;\r\n\t\t\t\r\n\t\t\tvoid nextChar() {\r\n\t\t\t\tch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tboolean eat(int charToEat) {\r\n\t\t\t\twhile (ch == &#39; &#39;) nextChar();\r\n\t\t\t\tif (ch == charToEat) {\r\n\t\t\t\t\tnextChar();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parse() {\r\n\t\t\t\tnextChar();\r\n\t\t\t\tdouble x = parseExpression();\r\n\t\t\t\tif (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Grammar:\r\n\t\t\t// expression = term | expression `+` term | expression `-` term\r\n\t\t\t// term = factor | term `*` factor | term `/` factor\r\n\t\t\t// factor = `+` factor | `-` factor | `(` expression `)` | number\r\n\t\t\t//        | functionName `(` expression `)` | functionName factor\r\n\t\t\t//        | factor `^` factor\r\n\t\t\t\r\n\t\t\tdouble parseExpression() {\r\n\t\t\t\tdouble x = parseTerm();\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\tif      (eat(&#39;+&#39;)) x += parseTerm(); // addition\r\n\t\t\t\t\telse if (eat(&#39;-&#39;)) x -= parseTerm(); // subtraction\r\n\t\t\t\t\telse return x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parseTerm() {\r\n\t\t\t\tdouble x = parseFactor();\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\tif      (eat(&#39;*&#39;)) x *= parseFactor(); // multiplication\r\n\t\t\t\t\telse if (eat(&#39;/&#39;)) x /= parseFactor(); // division\r\n\t\t\t\t\telse return x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parseFactor() {\r\n\t\t\t\tif (eat(&#39;+&#39;)) return +parseFactor(); // unary plus\r\n\t\t\t\tif (eat(&#39;-&#39;)) return -parseFactor(); // unary minus\r\n\t\t\t\t\r\n\t\t\t\tdouble x;\r\n\t\t\t\tint startPos = this.pos;\r\n\t\t\t\tif (eat(&#39;(&#39;)) { // parentheses\r\n\t\t\t\t\tx = parseExpression();\r\n\t\t\t\t\tif (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39;&quot;);\r\n\t\t\t\t} else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n\t\t\t\t\twhile ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n\t\t\t\t\tx = Double.parseDouble(str.substring(startPos, this.pos));\r\n\t\t\t\t} else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n\t\t\t\t\twhile (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n\t\t\t\t\tString func = str.substring(startPos, this.pos);\r\n\t\t\t\t\tif (eat(&#39;(&#39;)) {\r\n\t\t\t\t\t\tx = parseExpression();\r\n\t\t\t\t\t\tif (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39; after argument to &quot; + func);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = parseFactor();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\r\n\t\t\t\t\telse if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\r\n\t\t\t\t\telse if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\r\n\t\t\t\t\telse if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\r\n\t\t\t\t\telse throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); // exponentiation\r\n\t\t\t\t\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t}.parse();\r\n\t}\r\n\r\nExample:\r\n\r\n\tSystem.out.println(eval(&quot;((4 - 2^3 + 1) * -sqrt(3*3+4*4)) / 2&quot;));\r\n\r\nOutput: 7.5 [(which is correct)](https://www.wolframalpha.com/input/?i=%28%284%20-%202%5E3%20%2B%201%29%20*%20-sqrt%283*3%2B4*4%29%29%20%2F%202)\r\n\r\n----\r\n\r\nThe parser is a [recursive descent parser](https://en.wikipedia.org/wiki/Recursive_descent_parser), so internally uses separate parse methods for each level of operator precedence in its grammar. I deliberately kept it **short**, but here are some ideas you might want to expand it with:\r\n\r\n* **Variables:**\r\n\t\r\n\tThe bit of the parser that reads the names for functions can easily be changed to handle custom variables too, by looking up names in a variable table passed to the `eval` method, such as a `Map&lt;String,Double&gt; variables`.\r\n\r\n* **Separate compilation and evaluation:**\r\n\t\r\n\tWhat if, having added support for variables, you wanted to evaluate the same expression millions of times with changed variables, without parsing it every time? It&#39;s possible. First define an interface to use to evaluate the precompiled expression:\r\n\t\r\n\t\t@FunctionalInterface\r\n\t\tinterface Expression {\r\n\t\t\tdouble eval();\r\n\t\t}\r\n\t\r\n\tNow to rework the original &quot;eval&quot; function into a &quot;parse&quot; function, change all the methods that return `double`s, so instead they return an instance of that interface. Java 8&#39;s lambda syntax works well for this. Example of one of the changed methods:\r\n\t\r\n\t\tExpression parseExpression() {\r\n\t\t\tExpression x = parseTerm();\r\n\t\t\tfor (;;) {\r\n\t\t\t\tif (eat(&#39;+&#39;)) { // addition\r\n\t\t\t\t\tExpression a = x, b = parseTerm();\r\n\t\t\t\t\tx = (() -&gt; a.eval() + b.eval());\r\n\t\t\t\t} else if (eat(&#39;-&#39;)) { // subtraction\r\n\t\t\t\t\tExpression a = x, b = parseTerm();\r\n\t\t\t\t\tx = (() -&gt; a.eval() - b.eval());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tThat builds a recursive tree of `Expression` objects representing the compiled expression (an [abstract syntax tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)). Then you can compile it once and evaluate it repeatedly with different values:\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMap&lt;String,Double&gt; variables = new HashMap&lt;&gt;();\r\n\t\t\tExpression exp = parse(&quot;x^2 - x + 2&quot;, variables);\r\n\t\t\tfor (double x = -20; x &lt;= +20; x++) {\r\n\t\t\t\tvariables.put(&quot;x&quot;, x);\r\n\t\t\t\tSystem.out.println(x + &quot; =&gt; &quot; + exp.eval());\r\n\t\t\t}\r\n\t\t}\r\n\r\n* **Different datatypes:**\r\n\t\r\n\tInstead of `double`, you could change the evaluator to use something more powerful like `BigDecimal`, or a class that implements complex numbers, or rational numbers (fractions). You could even use `Object`, allowing some mix of datatypes in expressions, just like a real programming language. :)\r\n\r\n----\r\n&lt;sub&gt;All code in this answer released [to the public domain](https://creativecommons.org/publicdomain/zero/1.0/). Have fun!&lt;/sub&gt;","title":"How to evaluate a math expression given in string form?","body":"<p>I've written this <code>eval</code> method for arithmetic expressions to answer this question. It does addition, subtraction, multiplication, division, exponentiation (using the <code>^</code> symbol), and a few basic functions like <code>sqrt</code>. It supports grouping using <code>(</code>...<code>)</code>, and it gets the operator <a href=\"https://en.wikipedia.org/wiki/Order_of_operations\" rel=\"noreferrer\">precedence</a> and <a href=\"https://en.wikipedia.org/wiki/Operator_associativity\" rel=\"noreferrer\">associativity</a> rules correct.</p>\n<pre><code>public static double eval(final String str) {\n    return new Object() {\n        int pos = -1, ch;\n        \n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n        \n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n        \n        double parse() {\n            nextChar();\n            double x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            return x;\n        }\n        \n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\n        //        | functionName `(` expression `)` | functionName factor\n        //        | factor `^` factor\n        \n        double parseExpression() {\n            double x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x += parseTerm(); // addition\n                else if (eat('-')) x -= parseTerm(); // subtraction\n                else return x;\n            }\n        }\n        \n        double parseTerm() {\n            double x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x *= parseFactor(); // multiplication\n                else if (eat('/')) x /= parseFactor(); // division\n                else return x;\n            }\n        }\n        \n        double parseFactor() {\n            if (eat('+')) return +parseFactor(); // unary plus\n            if (eat('-')) return -parseFactor(); // unary minus\n            \n            double x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                if (!eat(')')) throw new RuntimeException(&quot;Missing ')'&quot;);\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = Double.parseDouble(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                if (eat('(')) {\n                    x = parseExpression();\n                    if (!eat(')')) throw new RuntimeException(&quot;Missing ')' after argument to &quot; + func);\n                } else {\n                    x = parseFactor();\n                }\n                if (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\n                else if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\n                else if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\n                else if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\n                else throw new RuntimeException(&quot;Unknown function: &quot; + func);\n            } else {\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            }\n            \n            if (eat('^')) x = Math.pow(x, parseFactor()); // exponentiation\n            \n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>System.out.println(eval(&quot;((4 - 2^3 + 1) * -sqrt(3*3+4*4)) / 2&quot;));\n</code></pre>\n<p>Output: 7.5 <a href=\"https://www.wolframalpha.com/input/?i=%28%284%20-%202%5E3%20%2B%201%29%20*%20-sqrt%283*3%2B4*4%29%29%20%2F%202\" rel=\"noreferrer\">(which is correct)</a></p>\n<hr />\n<p>The parser is a <a href=\"https://en.wikipedia.org/wiki/Recursive_descent_parser\" rel=\"noreferrer\">recursive descent parser</a>, so internally uses separate parse methods for each level of operator precedence in its grammar. I deliberately kept it <strong>short</strong>, but here are some ideas you might want to expand it with:</p>\n<ul>\n<li><p><strong>Variables:</strong></p>\n<p>The bit of the parser that reads the names for functions can easily be changed to handle custom variables too, by looking up names in a variable table passed to the <code>eval</code> method, such as a <code>Map&lt;String,Double&gt; variables</code>.</p>\n</li>\n<li><p><strong>Separate compilation and evaluation:</strong></p>\n<p>What if, having added support for variables, you wanted to evaluate the same expression millions of times with changed variables, without parsing it every time? It's possible. First define an interface to use to evaluate the precompiled expression:</p>\n<pre><code>  @FunctionalInterface\n  interface Expression {\n      double eval();\n  }\n</code></pre>\n<p>Now to rework the original &quot;eval&quot; function into a &quot;parse&quot; function, change all the methods that return <code>double</code>s, so instead they return an instance of that interface. Java 8's lambda syntax works well for this. Example of one of the changed methods:</p>\n<pre><code>  Expression parseExpression() {\n      Expression x = parseTerm();\n      for (;;) {\n          if (eat('+')) { // addition\n              Expression a = x, b = parseTerm();\n              x = (() -&gt; a.eval() + b.eval());\n          } else if (eat('-')) { // subtraction\n              Expression a = x, b = parseTerm();\n              x = (() -&gt; a.eval() - b.eval());\n          } else {\n              return x;\n          }\n      }\n  }\n</code></pre>\n<p>That builds a recursive tree of <code>Expression</code> objects representing the compiled expression (an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"noreferrer\">abstract syntax tree</a>). Then you can compile it once and evaluate it repeatedly with different values:</p>\n<pre><code>  public static void main(String[] args) {\n      Map&lt;String,Double&gt; variables = new HashMap&lt;&gt;();\n      Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);\n      for (double x = -20; x &lt;= +20; x++) {\n          variables.put(&quot;x&quot;, x);\n          System.out.println(x + &quot; =&gt; &quot; + exp.eval());\n      }\n  }\n</code></pre>\n</li>\n<li><p><strong>Different datatypes:</strong></p>\n<p>Instead of <code>double</code>, you could change the evaluator to use something more powerful like <code>BigDecimal</code>, or a class that implements complex numbers, or rational numbers (fractions). You could even use <code>Object</code>, allowing some mix of datatypes in expressions, just like a real programming language. :)</p>\n</li>\n</ul>\n<hr />\n<p><sub>All code in this answer released <a href=\"https://creativecommons.org/publicdomain/zero/1.0/\" rel=\"noreferrer\">to the public domain</a>. Have fun!</sub></p>\n"},{"tags":[],"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435728290,"creation_date":1420107655,"answer_id":27729905,"question_id":3422673,"body_markdown":"This is another interesting alternative \r\nhttps://github.com/Shy-Ta/expression-evaluator-demo\r\n\r\nThe usage is very simple and gets the job done, for example:\r\n\r\n      ExpressionsEvaluator evalExpr = ExpressionsFactory.create(&quot;2+3*4-6/2&quot;);  \r\n      assertEquals(BigDecimal.valueOf(11), evalExpr.eval()); ","title":"How to evaluate a math expression given in string form?","body":"<p>This is another interesting alternative \n<a href=\"https://github.com/Shy-Ta/expression-evaluator-demo\" rel=\"noreferrer\">https://github.com/Shy-Ta/expression-evaluator-demo</a></p>\n\n<p>The usage is very simple and gets the job done, for example:</p>\n\n<pre><code>  ExpressionsEvaluator evalExpr = ExpressionsFactory.create(\"2+3*4-6/2\");  \n  assertEquals(BigDecimal.valueOf(11), evalExpr.eval()); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1666418158,"post_id":31236301,"comment_id":130937055,"body_markdown":"that link is dead","body":"that link is dead"}],"tags":[],"owner":{"account_id":2005844,"reputation":2306,"user_id":1795776,"accept_rate":89,"display_name":"Emmanuel John"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678572209,"creation_date":1436141715,"answer_id":31236301,"question_id":3422673,"body_markdown":"It is possible to convert any expression string in infix notation to a postfix notation using [Djikstra&#39;s shunting-yard algorithm](https://en.wikipedia.org/wiki/Shunting-yard_algorithm). The result of the algorithm can then serve as input to the [postfix algorithm](https://en.wikipedia.org/wiki/Reverse_Polish_notation), which returns the result of the expression.","title":"How to evaluate a math expression given in string form?","body":"<p>It is possible to convert any expression string in infix notation to a postfix notation using <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Djikstra's shunting-yard algorithm</a>. The result of the algorithm can then serve as input to the <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">postfix algorithm</a>, which returns the result of the expression.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1466049075,"post_id":32652277,"comment_id":63158251,"body_markdown":"This is an uncredited exposition of the [Dijkstra Shunting-yard algorithm](https://en.wikipedia.org/wiki/Shunting-yard_algorithm). Credit where credit is due.","body":"This is an uncredited exposition of the <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Dijkstra Shunting-yard algorithm</a>. Credit where credit is due."}],"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1442579998,"creation_date":1442579998,"answer_id":32652277,"question_id":3422673,"body_markdown":"if we are going to implement it then we can can use the below algorithm :--\r\n\r\n1. While there are still tokens to be read in,\r\n\r\n   1.1 Get the next token.\r\n   1.2 If the token is:\r\n\r\n       1.2.1 A number: push it onto the value stack.\r\n\r\n       1.2.2 A variable: get its value, and push onto the value stack.\r\n\r\n       1.2.3 A left parenthesis: push it onto the operator stack.\r\n\r\n       1.2.4 A right parenthesis:\r\n\r\n         1 While the thing on top of the operator stack is not a \r\n           left parenthesis,\r\n             1 Pop the operator from the operator stack.\r\n             2 Pop the value stack twice, getting two operands.\r\n             3 Apply the operator to the operands, in the correct order.\r\n             4 Push the result onto the value stack.\r\n         2 Pop the left parenthesis from the operator stack, and discard it.\r\n\r\n       1.2.5 An operator (call it thisOp):\r\n\r\n         1 While the operator stack is not empty, and the top thing on the\r\n           operator stack has the same or greater precedence as thisOp,\r\n           1 Pop the operator from the operator stack.\r\n           2 Pop the value stack twice, getting two operands.\r\n           3 Apply the operator to the operands, in the correct order.\r\n           4 Push the result onto the value stack.\r\n         2 Push thisOp onto the operator stack.\r\n\r\n2. While the operator stack is not empty,\r\n    1 Pop the operator from the operator stack.\r\n    2 Pop the value stack twice, getting two operands.\r\n    3 Apply the operator to the operands, in the correct order.\r\n    4 Push the result onto the value stack.\r\n\r\n3. At this point the operator stack should be empty, and the value\r\n   stack should have only one value in it, which is the final result.","title":"How to evaluate a math expression given in string form?","body":"<p>if we are going to implement it then we can can use the below algorithm :--</p>\n\n<ol>\n<li><p>While there are still tokens to be read in,</p>\n\n<p>1.1 Get the next token.\n1.2 If the token is:</p>\n\n<p>1.2.1 A number: push it onto the value stack.</p>\n\n<p>1.2.2 A variable: get its value, and push onto the value stack.</p>\n\n<p>1.2.3 A left parenthesis: push it onto the operator stack.</p>\n\n<p>1.2.4 A right parenthesis:</p>\n\n<pre><code> 1 While the thing on top of the operator stack is not a \n   left parenthesis,\n     1 Pop the operator from the operator stack.\n     2 Pop the value stack twice, getting two operands.\n     3 Apply the operator to the operands, in the correct order.\n     4 Push the result onto the value stack.\n 2 Pop the left parenthesis from the operator stack, and discard it.\n</code></pre>\n\n<p>1.2.5 An operator (call it thisOp):</p>\n\n<pre><code> 1 While the operator stack is not empty, and the top thing on the\n   operator stack has the same or greater precedence as thisOp,\n   1 Pop the operator from the operator stack.\n   2 Pop the value stack twice, getting two operands.\n   3 Apply the operator to the operands, in the correct order.\n   4 Push the result onto the value stack.\n 2 Push thisOp onto the operator stack.\n</code></pre></li>\n<li><p>While the operator stack is not empty,\n1 Pop the operator from the operator stack.\n2 Pop the value stack twice, getting two operands.\n3 Apply the operator to the operands, in the correct order.\n4 Push the result onto the value stack.</p></li>\n<li><p>At this point the operator stack should be empty, and the value\nstack should have only one value in it, which is the final result.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1351214,"reputation":341,"user_id":1290768,"accept_rate":67,"display_name":"xWAV92OdD445CbzcZAEyunk2M06fJi"},"score":0,"creation_date":1555377983,"post_id":33214592,"comment_id":98080433,"body_markdown":"I scoured and found some additional Arithmetic functions also handled here https://github.com/mvel/mvel/blob/master/src/test/java/org/mvel2/tests/core/ArithmeticTests.java","body":"I scoured and found some additional Arithmetic functions also handled here <a href=\"https://github.com/mvel/mvel/blob/master/src/test/java/org/mvel2/tests/core/ArithmeticTests.java\" rel=\"nofollow noreferrer\">github.com/mvel/mvel/blob/master/src/test/java/org/mvel2/tes&zwnj;&#8203;ts/&hellip;</a>"},{"owner":{"account_id":181043,"reputation":8252,"user_id":414773,"accept_rate":46,"display_name":"nr.iras.sk"},"score":0,"creation_date":1576433275,"post_id":33214592,"comment_id":104889516,"body_markdown":"Awsome! It saved my day. Thanks","body":"Awsome! It saved my day. Thanks"}],"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1445258245,"creation_date":1445258245,"answer_id":33214592,"question_id":3422673,"body_markdown":"It&#39;s too late to answer but I came across same situation to evaluate expression in java, it might help someone\r\n\r\n`MVEL` does runtime evaluation of expressions, we can write a java code in `String` to get it evaluated in this.\r\n\r\n\t\tString expressionStr = &quot;x+y&quot;;\r\n\t\tMap&lt;String, Object&gt; vars = new HashMap&lt;String, Object&gt;();\r\n\t\tvars.put(&quot;x&quot;, 10);\r\n\t\tvars.put(&quot;y&quot;, 20);\r\n\t\tExecutableStatement statement = (ExecutableStatement) MVEL.compileExpression(expressionStr);\r\n\t\tObject result = MVEL.executeExpression(statement, vars);","title":"How to evaluate a math expression given in string form?","body":"<p>It's too late to answer but I came across same situation to evaluate expression in java, it might help someone</p>\n\n<p><code>MVEL</code> does runtime evaluation of expressions, we can write a java code in <code>String</code> to get it evaluated in this.</p>\n\n<pre><code>    String expressionStr = \"x+y\";\n    Map&lt;String, Object&gt; vars = new HashMap&lt;String, Object&gt;();\n    vars.put(\"x\", 10);\n    vars.put(\"y\", 20);\n    ExecutableStatement statement = (ExecutableStatement) MVEL.compileExpression(expressionStr);\n    Object result = MVEL.executeExpression(statement, vars);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055569,"reputation":389,"user_id":1833420,"display_name":"Laurent Magnin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446126005,"creation_date":1446126005,"answer_id":33415860,"question_id":3422673,"body_markdown":"You might have a look at the [Symja framework][1]:\r\n\r\n    ExprEvaluator util = new ExprEvaluator(); \r\n    IExpr result = util.evaluate(&quot;10-40&quot;);\r\n    System.out.println(result.toString()); // -&gt; &quot;-30&quot; \r\n\r\nTake note that definitively more complex expressions can be evaluated:\r\n\r\n    // D(...) gives the derivative of the function Sin(x)*Cos(x)\r\n    IAST function = D(Times(Sin(x), Cos(x)), x);\r\n    IExpr result = util.evaluate(function);\r\n    // print: Cos(x)^2-Sin(x)^2\r\n\r\n  [1]: https://bitbucket.org/axelclk/symja_android_library/wiki/Home","title":"How to evaluate a math expression given in string form?","body":"<p>You might have a look at the <a href=\"https://bitbucket.org/axelclk/symja_android_library/wiki/Home\" rel=\"nofollow\">Symja framework</a>:</p>\n\n<pre><code>ExprEvaluator util = new ExprEvaluator(); \nIExpr result = util.evaluate(\"10-40\");\nSystem.out.println(result.toString()); // -&gt; \"-30\" \n</code></pre>\n\n<p>Take note that definitively more complex expressions can be evaluated:</p>\n\n<pre><code>// D(...) gives the derivative of the function Sin(x)*Cos(x)\nIAST function = D(Times(Sin(x), Cos(x)), x);\nIExpr result = util.evaluate(function);\n// print: Cos(x)^2-Sin(x)^2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5863504,"reputation":2732,"user_id":4618338,"display_name":"Trynkiewicz Mariusz"},"score":1,"creation_date":1549436401,"post_id":36366836,"comment_id":95896571,"body_markdown":"So far this is the best math library out there; simple to kickstart, easy to use and extendable. Definitely should be top answer.","body":"So far this is the best math library out there; simple to kickstart, easy to use and extendable. Definitely should be top answer."},{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":2,"creation_date":1552369000,"post_id":36366836,"comment_id":96971384,"body_markdown":"Find Maven version [here](https://mvnrepository.com/artifact/org.mariuszgromada.math/MathParser.org-mXparser).","body":"Find Maven version <a href=\"https://mvnrepository.com/artifact/org.mariuszgromada.math/MathParser.org-mXparser\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":11275280,"reputation":425,"user_id":8269493,"accept_rate":19,"display_name":"lulijun"},"score":1,"creation_date":1552545717,"post_id":36366836,"comment_id":97052233,"body_markdown":"I found mXparser can&#39;t identify illegal formula, for example, &#39;0/0&#39; will get a result as &#39;0&#39;. How can I solve this problem？","body":"I found mXparser can&#39;t identify illegal formula, for example, &#39;0/0&#39; will get a result as &#39;0&#39;. How can I solve this problem？"},{"owner":{"account_id":11275280,"reputation":425,"user_id":8269493,"accept_rate":19,"display_name":"lulijun"},"score":2,"creation_date":1552547225,"post_id":36366836,"comment_id":97052721,"body_markdown":"Just found the solution, expression.setSlientMode()","body":"Just found the solution, expression.setSlientMode()"},{"owner":{"account_id":8018332,"reputation":132,"user_id":6047804,"display_name":"Gamebuster19901"},"score":0,"creation_date":1666156424,"post_id":36366836,"comment_id":130865811,"body_markdown":"just a note: mXParser is no longer open source.","body":"just a note: mXParser is no longer open source."},{"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"score":0,"creation_date":1666440498,"post_id":36366836,"comment_id":130940241,"body_markdown":"Thanks. I have read the license. mXparser is still open source, it has a dual license. For non-commercial and educational use, it is available as before. Source code is open.","body":"Thanks. I have read the license. mXparser is still open source, it has a dual license. For non-commercial and educational use, it is available as before. Source code is open."}],"tags":[],"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"comment_count":6,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1639646062,"creation_date":1459550043,"answer_id":36366836,"question_id":3422673,"body_markdown":"For my university project, I was looking for a parser / evaluator supporting both basic formulas and more complicated equations (especially iterated operators). I found very nice open source library for JAVA and .NET called mXparser. I will give a few examples to make some feeling on the syntax, for further instructions please visit project website (especially tutorial section).\r\n\r\nhttps://mathparser.org/\r\n\r\nhttps://mathparser.org/mxparser-tutorial/\r\n\r\nhttps://mathparser.org/api/\r\n\r\nAnd few examples\r\n\r\n1 - Simple furmula\r\n\r\n    Expression e = new Expression(&quot;( 2 + 3/4 + sin(pi) )/2&quot;);\r\n    double v = e.calculate()\r\n\r\n2 - User defined arguments and constants\r\n\r\n    Argument x = new Argument(&quot;x = 10&quot;);\r\n    Constant a = new Constant(&quot;a = pi^2&quot;);\r\n    Expression e = new Expression(&quot;cos(a*x)&quot;, x, a);\r\n    double v = e.calculate()\r\n\r\n3 - User defined functions\r\n\r\n    Function f = new Function(&quot;f(x, y, z) = sin(x) + cos(y*z)&quot;);\r\n    Expression e = new Expression(&quot;f(3,2,5)&quot;, f);\r\n    double v = e.calculate()\r\n\r\n4 - Iteration\r\n\r\n    Expression e = new Expression(&quot;sum( i, 1, 100, sin(i) )&quot;);\r\n    double v = e.calculate()\r\n\r\n\r\nFound recently - in case you would like to try the syntax (and see the advanced use case) you can download the [Scalar][1] [Calculator][2] [app][3] that is powered by mXparser.\r\n\r\n\r\n  [1]: https://scalarmath.org\r\n  [2]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\r\n  [3]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro","title":"How to evaluate a math expression given in string form?","body":"<p>For my university project, I was looking for a parser / evaluator supporting both basic formulas and more complicated equations (especially iterated operators). I found very nice open source library for JAVA and .NET called mXparser. I will give a few examples to make some feeling on the syntax, for further instructions please visit project website (especially tutorial section).</p>\n<p><a href=\"https://mathparser.org/\" rel=\"noreferrer\">https://mathparser.org/</a></p>\n<p><a href=\"https://mathparser.org/mxparser-tutorial/\" rel=\"noreferrer\">https://mathparser.org/mxparser-tutorial/</a></p>\n<p><a href=\"https://mathparser.org/api/\" rel=\"noreferrer\">https://mathparser.org/api/</a></p>\n<p>And few examples</p>\n<p>1 - Simple furmula</p>\n<pre><code>Expression e = new Expression(&quot;( 2 + 3/4 + sin(pi) )/2&quot;);\ndouble v = e.calculate()\n</code></pre>\n<p>2 - User defined arguments and constants</p>\n<pre><code>Argument x = new Argument(&quot;x = 10&quot;);\nConstant a = new Constant(&quot;a = pi^2&quot;);\nExpression e = new Expression(&quot;cos(a*x)&quot;, x, a);\ndouble v = e.calculate()\n</code></pre>\n<p>3 - User defined functions</p>\n<pre><code>Function f = new Function(&quot;f(x, y, z) = sin(x) + cos(y*z)&quot;);\nExpression e = new Expression(&quot;f(3,2,5)&quot;, f);\ndouble v = e.calculate()\n</code></pre>\n<p>4 - Iteration</p>\n<pre><code>Expression e = new Expression(&quot;sum( i, 1, 100, sin(i) )&quot;);\ndouble v = e.calculate()\n</code></pre>\n<p>Found recently - in case you would like to try the syntax (and see the advanced use case) you can download the <a href=\"https://scalarmath.org\" rel=\"noreferrer\">Scalar</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\" rel=\"noreferrer\">Calculator</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro\" rel=\"noreferrer\">app</a> that is powered by mXparser.</p>\n"},{"tags":[],"owner":{"account_id":1495927,"reputation":18532,"user_id":1401879,"display_name":"Stefan Haustein"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460854830,"creation_date":1460854830,"answer_id":36671543,"question_id":3422673,"body_markdown":"Yet another option: https://github.com/stefanhaustein/expressionparser\r\n\r\nI have implemented this to have a simple but flexible option to permit both:\r\n\r\n- Immediate processing ([Calculator.java][1], [SetDemo.java][2])\r\n- Building and processing a parse tree ([TreeBuilder.java][3])\r\n\r\nThe TreeBuilder linked above is part of a [CAS demo package][4] that does symbolic derivation. There is also a [BASIC interpreter][5] example and I have started to build a [TypeScript interpreter][6] using it.\r\n\r\n\r\n  [1]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/calculator/Calculator.java\r\n  [2]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/sets/SetDemo.java\r\n  [3]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/cas/TreeBuilder.java\r\n  [4]: https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/cas\r\n  [5]: https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/basic\r\n  [6]: https://github.com/stefanhaustein/typo","title":"How to evaluate a math expression given in string form?","body":"<p>Yet another option: <a href=\"https://github.com/stefanhaustein/expressionparser\" rel=\"nofollow\">https://github.com/stefanhaustein/expressionparser</a></p>\n\n<p>I have implemented this to have a simple but flexible option to permit both:</p>\n\n<ul>\n<li>Immediate processing (<a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/calculator/Calculator.java\" rel=\"nofollow\">Calculator.java</a>, <a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/sets/SetDemo.java\" rel=\"nofollow\">SetDemo.java</a>)</li>\n<li>Building and processing a parse tree (<a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/cas/TreeBuilder.java\" rel=\"nofollow\">TreeBuilder.java</a>)</li>\n</ul>\n\n<p>The TreeBuilder linked above is part of a <a href=\"https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/cas\" rel=\"nofollow\">CAS demo package</a> that does symbolic derivation. There is also a <a href=\"https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/basic\" rel=\"nofollow\">BASIC interpreter</a> example and I have started to build a <a href=\"https://github.com/stefanhaustein/typo\" rel=\"nofollow\">TypeScript interpreter</a> using it.</p>\n"},{"comments":[{"owner":{"account_id":105595,"reputation":904,"user_id":281681,"accept_rate":50,"display_name":"cyberz"},"score":10,"creation_date":1492977224,"post_id":36809774,"comment_id":74201729,"body_markdown":"Say hello to SQL injection!","body":"Say hello to SQL injection!"},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":0,"creation_date":1493046417,"post_id":36809774,"comment_id":74232860,"body_markdown":"It depends on what you use the DB for. If you want to be sure, you could easily create an empty sqlite DB, specifically for the the maths evaluation.","body":"It depends on what you use the DB for. If you want to be sure, you could easily create an empty sqlite DB, specifically for the the maths evaluation."},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":4,"creation_date":1493046564,"post_id":36809774,"comment_id":74232972,"body_markdown":"@cyberz If you use my example above, Sqlite will create a temporary DB in memory. See http://stackoverflow.com/questions/849679/temporary-in-memory-database-in-sqlite","body":"@cyberz If you use my example above, Sqlite will create a temporary DB in memory. See <a href=\"http://stackoverflow.com/questions/849679/temporary-in-memory-database-in-sqlite\" title=\"temporary in memory database in sqlite\">stackoverflow.com/questions/849679/&hellip;</a>"}],"tags":[],"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1481906677,"creation_date":1461408403,"answer_id":36809774,"question_id":3422673,"body_markdown":"You can evaluate expressions easily if your Java application already accesses a database, without using any other JARs.\r\n\r\nSome databases require you to use a dummy table (eg, Oracle&#39;s &quot;dual&quot; table) and others will allow you to evaluate expressions without &quot;selecting&quot; from any table.\r\n\r\nFor example, in Sql Server or Sqlite\r\n\r\n    select (((12.10 +12.0))/ 233.0) amount\r\n\r\nand in Oracle\r\n\r\n    select (((12.10 +12.0))/ 233.0) amount from dual;\r\n\r\nThe advantage of using a DB is that you can evaluate many expressions at the same time. Also most DB&#39;s will allow you to use highly complex expressions and   will also have a number of extra functions that can be called as necessary.  \r\n\r\nHowever performance may suffer if many single expressions need to be evaluated individually, particularly when the DB is located on a network server.\r\n \r\nThe following addresses the performance problem to some extent, by using a Sqlite in-memory database.    \r\n\r\nHere&#39;s a full working example in Java\r\n\r\n    Class. forName(&quot;org.sqlite.JDBC&quot;);\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite::memory:&quot;);\r\n    Statement stat = conn.createStatement();\r\n    ResultSet rs = stat.executeQuery( &quot;select (1+10)/20.0 amount&quot;);\r\n    rs.next();\r\n    System.out.println(rs.getBigDecimal(1));\r\n    stat.close();\r\n    conn.close();\r\n\r\nOf course you could extend the above code to handle multiple calculations at the same time.\r\n\r\n    ResultSet rs = stat.executeQuery( &quot;select (1+10)/20.0 amount, (1+100)/20.0 amount2&quot;);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>You can evaluate expressions easily if your Java application already accesses a database, without using any other JARs.</p>\n\n<p>Some databases require you to use a dummy table (eg, Oracle's \"dual\" table) and others will allow you to evaluate expressions without \"selecting\" from any table.</p>\n\n<p>For example, in Sql Server or Sqlite</p>\n\n<pre><code>select (((12.10 +12.0))/ 233.0) amount\n</code></pre>\n\n<p>and in Oracle</p>\n\n<pre><code>select (((12.10 +12.0))/ 233.0) amount from dual;\n</code></pre>\n\n<p>The advantage of using a DB is that you can evaluate many expressions at the same time. Also most DB's will allow you to use highly complex expressions and   will also have a number of extra functions that can be called as necessary.  </p>\n\n<p>However performance may suffer if many single expressions need to be evaluated individually, particularly when the DB is located on a network server.</p>\n\n<p>The following addresses the performance problem to some extent, by using a Sqlite in-memory database.    </p>\n\n<p>Here's a full working example in Java</p>\n\n<pre><code>Class. forName(\"org.sqlite.JDBC\");\nConnection conn = DriverManager.getConnection(\"jdbc:sqlite::memory:\");\nStatement stat = conn.createStatement();\nResultSet rs = stat.executeQuery( \"select (1+10)/20.0 amount\");\nrs.next();\nSystem.out.println(rs.getBigDecimal(1));\nstat.close();\nconn.close();\n</code></pre>\n\n<p>Of course you could extend the above code to handle multiple calculations at the same time.</p>\n\n<pre><code>ResultSet rs = stat.executeQuery( \"select (1+10)/20.0 amount, (1+100)/20.0 amount2\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1468801511,"post_id":37695001,"comment_id":64260955,"body_markdown":"Doesn&#39;t handle operator precedence, or several operators, or parentheses. Do not use.","body":"Doesn&#39;t handle operator precedence, or several operators, or parentheses. Do not use."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1621788423,"post_id":37695001,"comment_id":119595779,"body_markdown":"Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well.","body":"Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1632589176,"post_id":37695001,"comment_id":122536165,"body_markdown":"@chejaras Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well.","body":"@chejaras Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well."}],"tags":[],"owner":{"account_id":1470382,"reputation":862,"user_id":1382102,"display_name":"chejaras"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1518682723,"creation_date":1465368032,"answer_id":37695001,"question_id":3422673,"body_markdown":"    package ExpressionCalculator.expressioncalculator;\r\n\r\n    import java.text.DecimalFormat;\r\n    import java.util.Scanner;\r\n\r\n    public class ExpressionCalculator {\r\n\t\r\n\tprivate static String addSpaces(String exp){\r\n\t\t\r\n\t\t//Add space padding to operands.\r\n\t\t//https://regex101.com/r/sJ9gM7/73\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\/]&quot;, &quot; / &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\^]&quot;, &quot; ^ &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\*]&quot;, &quot; * &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[+]&quot;, &quot; + &quot;); \r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[-]&quot;, &quot; - &quot;);\r\n\r\n\t\t//Keep replacing double spaces with single spaces until your string is properly formatted\r\n\t\t/*while(exp.indexOf(&quot;  &quot;) != -1){\r\n\t\t\texp = exp.replace(&quot;  &quot;, &quot; &quot;);\r\n\t\t }*/\r\n\t\texp = exp.replaceAll(&quot; {2,}&quot;, &quot; &quot;);\r\n\t\t\r\n\t\t   return exp;\r\n\t}\r\n\t\r\n\tpublic static Double evaluate(String expr){\r\n\t\t\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;#.####&quot;);\r\n\r\n\t\t//Format the expression properly before performing operations\r\n\t\tString expression = addSpaces(expr);\r\n\t\t\r\n\t    try {\r\n\t        //We will evaluate using rule BDMAS, i.e. brackets, division, power, multiplication, addition and\r\n\t        //subtraction will be processed in following order\r\n\t        int indexClose = expression.indexOf(&quot;)&quot;);\r\n\t        int indexOpen = -1;\r\n\t        if (indexClose != -1) {\r\n\t            String substring = expression.substring(0, indexClose);\r\n\t            indexOpen = substring.lastIndexOf(&quot;(&quot;);\r\n\t            substring = substring.substring(indexOpen + 1).trim();\r\n\t            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\r\n\t                Double result = evaluate(substring);\r\n\t                expression = expression.substring(0, indexOpen).trim() + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose + 1).trim();\r\n\t                return evaluate(expression.trim());\r\n\t            }\r\n\t        }\r\n\r\n\t        String operation = &quot;&quot;;\r\n\t        if(expression.indexOf(&quot; / &quot;) != -1){\r\n\t            operation = &quot;/&quot;;\r\n\t        }else if(expression.indexOf(&quot; ^ &quot;) != -1){\r\n\t        \toperation = &quot;^&quot;;\r\n\t        } else if(expression.indexOf(&quot; * &quot;) != -1){\r\n\t            operation = &quot;*&quot;;\r\n\t        } else if(expression.indexOf(&quot; + &quot;) != -1){\r\n\t            operation = &quot;+&quot;;\r\n\t        } else if(expression.indexOf(&quot; - &quot;) != -1){ //Avoid negative numbers\r\n\t            operation = &quot;-&quot;;\r\n\t        } else{\r\n\t            return Double.parseDouble(expression);\r\n\t        }\r\n\r\n\t        int index = expression.indexOf(operation);\r\n\t        if(index != -1){\r\n\t            indexOpen = expression.lastIndexOf(&quot; &quot;, index - 2);\r\n\t            indexOpen = (indexOpen == -1)?0:indexOpen;\r\n\t            indexClose = expression.indexOf(&quot; &quot;, index + 2);\r\n\t            indexClose = (indexClose == -1)?expression.length():indexClose;\r\n\t            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\r\n\t                Double lhs = Double.parseDouble(expression.substring(indexOpen, index));\r\n\t                Double rhs = Double.parseDouble(expression.substring(index + 2, indexClose));\r\n\t                Double result = null;\r\n\t                switch (operation){\r\n\t                    case &quot;/&quot;:\r\n\t                        //Prevent divide by 0 exception.\r\n\t                        if(rhs == 0){\r\n\t                            return null;\r\n\t                        }\r\n\t                        result = lhs / rhs;\r\n\t                        break;\r\n\t                    case &quot;^&quot;:\r\n\t                        result = Math.pow(lhs, rhs);\r\n\t                        break;\r\n\t                    case &quot;*&quot;:\r\n\t                        result = lhs * rhs;\r\n\t                        break;\r\n\t                    case &quot;-&quot;:\r\n\t                        result = lhs - rhs;\r\n\t                        break;\r\n\t                    case &quot;+&quot;:\r\n\t                        result = lhs + rhs;\r\n\t                        break;\r\n\t                    default:\r\n\t                        break;\r\n\t                }\r\n\t                if(indexClose == expression.length()){\r\n\t                    expression = expression.substring(0, indexOpen) + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose);\r\n\t                }else{\r\n\t                    expression = expression.substring(0, indexOpen) + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose + 1);\r\n\t                }\r\n\t                return Double.valueOf(df.format(evaluate(expression.trim())));\r\n\t            }\r\n\t        }\r\n\t    }catch(Exception exp){\r\n\t        exp.printStackTrace();\r\n\t    }\r\n\t    return 0.0;\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]){\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter an Mathematical Expression to Evaluate: &quot;);\r\n\t\tString input = scanner.nextLine();\r\n\t\tSystem.out.println(evaluate(input));\r\n\t}\r\n\r\n}\r\n","title":"How to evaluate a math expression given in string form?","body":"<pre><code>package ExpressionCalculator.expressioncalculator;\n\nimport java.text.DecimalFormat;\nimport java.util.Scanner;\n\npublic class ExpressionCalculator {\n\nprivate static String addSpaces(String exp){\n\n    //Add space padding to operands.\n    //https://regex101.com/r/sJ9gM7/73\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\/]\", \" / \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\^]\", \" ^ \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\*]\", \" * \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[+]\", \" + \"); \n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[-]\", \" - \");\n\n    //Keep replacing double spaces with single spaces until your string is properly formatted\n    /*while(exp.indexOf(\"  \") != -1){\n        exp = exp.replace(\"  \", \" \");\n     }*/\n    exp = exp.replaceAll(\" {2,}\", \" \");\n\n       return exp;\n}\n\npublic static Double evaluate(String expr){\n\n    DecimalFormat df = new DecimalFormat(\"#.####\");\n\n    //Format the expression properly before performing operations\n    String expression = addSpaces(expr);\n\n    try {\n        //We will evaluate using rule BDMAS, i.e. brackets, division, power, multiplication, addition and\n        //subtraction will be processed in following order\n        int indexClose = expression.indexOf(\")\");\n        int indexOpen = -1;\n        if (indexClose != -1) {\n            String substring = expression.substring(0, indexClose);\n            indexOpen = substring.lastIndexOf(\"(\");\n            substring = substring.substring(indexOpen + 1).trim();\n            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\n                Double result = evaluate(substring);\n                expression = expression.substring(0, indexOpen).trim() + \" \" + result + \" \" + expression.substring(indexClose + 1).trim();\n                return evaluate(expression.trim());\n            }\n        }\n\n        String operation = \"\";\n        if(expression.indexOf(\" / \") != -1){\n            operation = \"/\";\n        }else if(expression.indexOf(\" ^ \") != -1){\n            operation = \"^\";\n        } else if(expression.indexOf(\" * \") != -1){\n            operation = \"*\";\n        } else if(expression.indexOf(\" + \") != -1){\n            operation = \"+\";\n        } else if(expression.indexOf(\" - \") != -1){ //Avoid negative numbers\n            operation = \"-\";\n        } else{\n            return Double.parseDouble(expression);\n        }\n\n        int index = expression.indexOf(operation);\n        if(index != -1){\n            indexOpen = expression.lastIndexOf(\" \", index - 2);\n            indexOpen = (indexOpen == -1)?0:indexOpen;\n            indexClose = expression.indexOf(\" \", index + 2);\n            indexClose = (indexClose == -1)?expression.length():indexClose;\n            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\n                Double lhs = Double.parseDouble(expression.substring(indexOpen, index));\n                Double rhs = Double.parseDouble(expression.substring(index + 2, indexClose));\n                Double result = null;\n                switch (operation){\n                    case \"/\":\n                        //Prevent divide by 0 exception.\n                        if(rhs == 0){\n                            return null;\n                        }\n                        result = lhs / rhs;\n                        break;\n                    case \"^\":\n                        result = Math.pow(lhs, rhs);\n                        break;\n                    case \"*\":\n                        result = lhs * rhs;\n                        break;\n                    case \"-\":\n                        result = lhs - rhs;\n                        break;\n                    case \"+\":\n                        result = lhs + rhs;\n                        break;\n                    default:\n                        break;\n                }\n                if(indexClose == expression.length()){\n                    expression = expression.substring(0, indexOpen) + \" \" + result + \" \" + expression.substring(indexClose);\n                }else{\n                    expression = expression.substring(0, indexOpen) + \" \" + result + \" \" + expression.substring(indexClose + 1);\n                }\n                return Double.valueOf(df.format(evaluate(expression.trim())));\n            }\n        }\n    }catch(Exception exp){\n        exp.printStackTrace();\n    }\n    return 0.0;\n}\n\npublic static void main(String args[]){\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(\"Enter an Mathematical Expression to Evaluate: \");\n    String input = scanner.nextLine();\n    System.out.println(evaluate(input));\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2222340,"reputation":793,"user_id":1961442,"display_name":"Bruce"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1474704682,"creation_date":1474704682,"answer_id":39674093,"question_id":3422673,"body_markdown":"Try the following sample code using JDK1.6&#39;s Javascript engine with code injection handling.\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    \r\n    public class EvalUtil {\r\n\tprivate static ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;);\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println((new EvalUtil()).eval(&quot;(((5+5)/2) &gt; 5) || 5 &gt;3 &quot;));\r\n\t\t\tSystem.out.println((new EvalUtil()).eval(&quot;(((5+5)/2) &gt; 5) || true&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    public Object eval(String input) throws Exception{\r\n        try {\r\n\t\t    if(input.matches(&quot;.*[a-zA-Z;~`#$_{}\\\\[\\\\]:\\\\\\\\;\\&quot;&#39;,\\\\.\\\\?]+.*&quot;)) {\r\n\t\t\t    throw new Exception(&quot;Invalid expression : &quot; + input );\r\n\t\t    }\r\n\t\t    return engine.eval(input);\r\n\t    } catch (Exception e) {\r\n\t\t    e.printStackTrace();\r\n\t\t    throw e;\r\n\t    }\r\n     }\r\n    }\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>Try the following sample code using JDK1.6's Javascript engine with code injection handling.</p>\n\n<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\n\npublic class EvalUtil {\nprivate static ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"JavaScript\");\npublic static void main(String[] args) {\n    try {\n        System.out.println((new EvalUtil()).eval(\"(((5+5)/2) &gt; 5) || 5 &gt;3 \"));\n        System.out.println((new EvalUtil()).eval(\"(((5+5)/2) &gt; 5) || true\"));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\npublic Object eval(String input) throws Exception{\n    try {\n        if(input.matches(\".*[a-zA-Z;~`#$_{}\\\\[\\\\]:\\\\\\\\;\\\"',\\\\.\\\\?]+.*\")) {\n            throw new Exception(\"Invalid expression : \" + input );\n        }\n        return engine.eval(input);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw e;\n    }\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1534381573,"post_id":41276932,"comment_id":90688492,"body_markdown":"`-2^2 = -4` is actually normal, and not a bug. It gets grouped like `-(2^2)`. [Try it on Desmos, for example.](https://www.desmos.com/calculator/jehnsuvt0w) Your code actually introduces several bugs. The first is that `^` no longer groups right-to-left. In other words, `2^3^2` is supposed to group like `2^(3^2)` because `^` is right-associative, but your modifications make it group like `(2^3)^2`. The second is that `^` is supposed to have higher precedence than `*` and `/`, but your modifications treat it the same. See https://ideone.com/iN2mMa.","body":"<code>-2^2 = -4</code> is actually normal, and not a bug. It gets grouped like <code>-(2^2)</code>. <a href=\"https://www.desmos.com/calculator/jehnsuvt0w\" rel=\"nofollow noreferrer\">Try it on Desmos, for example.</a> Your code actually introduces several bugs. The first is that <code>^</code> no longer groups right-to-left. In other words, <code>2^3^2</code> is supposed to group like <code>2^(3^2)</code> because <code>^</code> is right-associative, but your modifications make it group like <code>(2^3)^2</code>. The second is that <code>^</code> is supposed to have higher precedence than <code>*</code> and <code>&#47;</code>, but your modifications treat it the same. See <a href=\"https://ideone.com/iN2mMa\" rel=\"nofollow noreferrer\">ideone.com/iN2mMa</a>."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1534397269,"post_id":41276932,"comment_id":90691687,"body_markdown":"So, what you are suggesting is that exponentiation is better kept at where it was isn&#39;t it?","body":"So, what you are suggesting is that exponentiation is better kept at where it was isn&#39;t it?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1534432024,"post_id":41276932,"comment_id":90711871,"body_markdown":"Yes, that&#39;s what I&#39;m suggesting.","body":"Yes, that&#39;s what I&#39;m suggesting."}],"tags":[],"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1482387848,"creation_date":1482387848,"answer_id":41276932,"question_id":3422673,"body_markdown":"This is actually complementing the answer given by @Boann. It has a slight bug which causes &quot;-2 ^ 2&quot; to give an erroneous result of -4.0. The problem for that is the point at which the exponentiation is evaluated in his. Just move the exponentiation to the block of parseTerm(), and you&#39;ll be all fine. Have a look at the below, which is [@Boann&#39;s answer][1] slightly modified. Modification is in the comments.\r\n\r\n    public static double eval(final String str) {\r\n        return new Object() {\r\n            int pos = -1, ch;\r\n\r\n            void nextChar() {\r\n                ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n            }\r\n\r\n            boolean eat(int charToEat) {\r\n                while (ch == &#39; &#39;) nextChar();\r\n                if (ch == charToEat) {\r\n                    nextChar();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            double parse() {\r\n                nextChar();\r\n                double x = parseExpression();\r\n                if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n                return x;\r\n            }\r\n\r\n            // Grammar:\r\n            // expression = term | expression `+` term | expression `-` term\r\n            // term = factor | term `*` factor | term `/` factor\r\n            // factor = `+` factor | `-` factor | `(` expression `)`\r\n            //        | number | functionName factor | factor `^` factor\r\n\r\n            double parseExpression() {\r\n                double x = parseTerm();\r\n                for (;;) {\r\n                    if      (eat(&#39;+&#39;)) x += parseTerm(); // addition\r\n                    else if (eat(&#39;-&#39;)) x -= parseTerm(); // subtraction\r\n                    else return x;\r\n                }\r\n            }\r\n\r\n            double parseTerm() {\r\n                double x = parseFactor();\r\n                for (;;) {\r\n                    if      (eat(&#39;*&#39;)) x *= parseFactor(); // multiplication\r\n                    else if (eat(&#39;/&#39;)) x /= parseFactor(); // division\r\n                    else if (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); //exponentiation -&gt; Moved in to here. So the problem is fixed\r\n                    else return x;\r\n                }\r\n            }\r\n\r\n            double parseFactor() {\r\n                if (eat(&#39;+&#39;)) return parseFactor(); // unary plus\r\n                if (eat(&#39;-&#39;)) return -parseFactor(); // unary minus\r\n\r\n                double x;\r\n                int startPos = this.pos;\r\n                if (eat(&#39;(&#39;)) { // parentheses\r\n                    x = parseExpression();\r\n                    eat(&#39;)&#39;);\r\n                } else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n                    while ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n                    x = Double.parseDouble(str.substring(startPos, this.pos));\r\n                } else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n                    while (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n                    String func = str.substring(startPos, this.pos);\r\n                    x = parseFactor();\r\n                    if (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\r\n                    else if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\r\n                    else if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\r\n                    else if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\r\n                    else throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n                }\r\n\r\n                //if (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); // exponentiation -&gt; This is causing a bit of problem\r\n\r\n                return x;\r\n            }\r\n        }.parse();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26227947/3126973","title":"How to evaluate a math expression given in string form?","body":"<p>This is actually complementing the answer given by @Boann. It has a slight bug which causes \"-2 ^ 2\" to give an erroneous result of -4.0. The problem for that is the point at which the exponentiation is evaluated in his. Just move the exponentiation to the block of parseTerm(), and you'll be all fine. Have a look at the below, which is <a href=\"https://stackoverflow.com/a/26227947/3126973\">@Boann's answer</a> slightly modified. Modification is in the comments.</p>\n\n<pre><code>public static double eval(final String str) {\n    return new Object() {\n        int pos = -1, ch;\n\n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n\n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n\n        double parse() {\n            nextChar();\n            double x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(\"Unexpected: \" + (char)ch);\n            return x;\n        }\n\n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)`\n        //        | number | functionName factor | factor `^` factor\n\n        double parseExpression() {\n            double x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x += parseTerm(); // addition\n                else if (eat('-')) x -= parseTerm(); // subtraction\n                else return x;\n            }\n        }\n\n        double parseTerm() {\n            double x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x *= parseFactor(); // multiplication\n                else if (eat('/')) x /= parseFactor(); // division\n                else if (eat('^')) x = Math.pow(x, parseFactor()); //exponentiation -&gt; Moved in to here. So the problem is fixed\n                else return x;\n            }\n        }\n\n        double parseFactor() {\n            if (eat('+')) return parseFactor(); // unary plus\n            if (eat('-')) return -parseFactor(); // unary minus\n\n            double x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                eat(')');\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = Double.parseDouble(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                x = parseFactor();\n                if (func.equals(\"sqrt\")) x = Math.sqrt(x);\n                else if (func.equals(\"sin\")) x = Math.sin(Math.toRadians(x));\n                else if (func.equals(\"cos\")) x = Math.cos(Math.toRadians(x));\n                else if (func.equals(\"tan\")) x = Math.tan(Math.toRadians(x));\n                else throw new RuntimeException(\"Unknown function: \" + func);\n            } else {\n                throw new RuntimeException(\"Unexpected: \" + (char)ch);\n            }\n\n            //if (eat('^')) x = Math.pow(x, parseFactor()); // exponentiation -&gt; This is causing a bit of problem\n\n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1523930932,"post_id":44194289,"comment_id":86753059,"body_markdown":"Doesn&#39;t handle operator precedence correctly. There are standard ways of doing this, and this isn&#39;t one of them.","body":"Doesn&#39;t handle operator precedence correctly. There are standard ways of doing this, and this isn&#39;t one of them."},{"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"score":0,"creation_date":1524382231,"post_id":44194289,"comment_id":86943224,"body_markdown":"EJP, can you please point where there is a problem with operator  precedence? \ni fully agree on the fact that it is not the standard way to do it. the standard ways were already mentioned in previous posts, the idea was to show another way to do it.","body":"EJP, can you please point where there is a problem with operator  precedence?  i fully agree on the fact that it is not the standard way to do it. the standard ways were already mentioned in previous posts, the idea was to show another way to do it."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1621771022,"post_id":44194289,"comment_id":119590762,"body_markdown":"I evaluated 16+10&#215;500−3,000&#247;50 in calculator as well and the answer should be 4956 . Your algorithm prints -414","body":"I evaluated 16+10&#215;500−3,000&#247;50 in calculator as well and the answer should be 4956 . Your algorithm prints -414"},{"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"score":1,"creation_date":1621833538,"post_id":44194289,"comment_id":119604533,"body_markdown":"not sure comma is handled. the div operator is &#39;/&#39; and not &#39;&#247;&#39;","body":"not sure comma is handled. the div operator is &#39;/&#39; and not &#39;&#247;&#39;"},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1632595338,"post_id":44194289,"comment_id":122537501,"body_markdown":"Yes it&#39;s working now,can you help me with a similar issue at https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right","body":"Yes it&#39;s working now,can you help me with a similar issue at <a href=\"https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right\" title=\"javaevaluation of mathematical expression only from left to right\">stackoverflow.com/questions/6666169/&hellip;</a>"},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1632756441,"post_id":44194289,"comment_id":122573090,"body_markdown":"@Efi G  need help for below as well https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right","body":"@Efi G  need help for below as well <a href=\"https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right\" title=\"javaevaluation of mathematical expression only from left to right\">stackoverflow.com/questions/6666169/&hellip;</a>"},{"owner":{"account_id":806603,"reputation":387,"user_id":893426,"accept_rate":24,"display_name":"Jonathan"},"score":0,"creation_date":1651398229,"post_id":44194289,"comment_id":127351505,"body_markdown":"@EfiG great implementation. there is a bug, the following expression raises an error: &quot;(1+3) * (4+5)&quot;. to fix that, just remove the condition &quot;if (expression.startsWith(&quot;(&quot;) &amp;&amp; expression.endsWith(&quot;)&quot;)) { ... }&quot;","body":"@EfiG great implementation. there is a bug, the following expression raises an error: &quot;(1+3) * (4+5)&quot;. to fix that, just remove the condition &quot;if (expression.startsWith(&quot;(&quot;) &amp;&amp; expression.endsWith(&quot;)&quot;)) { ... }&quot;"},{"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"score":0,"creation_date":1651423369,"post_id":44194289,"comment_id":127356971,"body_markdown":"Thanks @Jonathan, edited as you suggested","body":"Thanks @Jonathan, edited as you suggested"}],"tags":[],"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"comment_count":8,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1651423293,"creation_date":1495776815,"answer_id":44194289,"question_id":3422673,"body_markdown":"A Java class that can evaluate mathematical expressions:\r\n\r\n    package test;\r\n    \r\n    public class Calculator {\r\n    \r\n    \tpublic static Double calculate(String expression){\r\n    \t\tif (expression == null || expression.length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn calc(expression.replace(&quot; &quot;, &quot;&quot;));\r\n    \t}\r\n    \tpublic static Double calc(String expression) {\r\n    \t\tString[] containerArr = new String[]{expression};\r\n    \t\tdouble leftVal = getNextOperand(containerArr);\r\n    \t\texpression = containerArr[0];\r\n    \t\tif (expression.length() == 0) {\r\n    \t\t\treturn leftVal;\r\n    \t\t}\r\n    \t\tchar operator = expression.charAt(0);\r\n    \t\texpression = expression.substring(1);\r\n    \r\n    \t\twhile (operator == &#39;*&#39; || operator == &#39;/&#39;) {\r\n    \t\t\tcontainerArr[0] = expression;\r\n    \t\t\tdouble rightVal = getNextOperand(containerArr);\r\n    \t\t\texpression = containerArr[0];\r\n    \t\t\tif (operator == &#39;*&#39;) {\r\n    \t\t\t\tleftVal = leftVal * rightVal;\r\n    \t\t\t} else {\r\n    \t\t\t\tleftVal = leftVal / rightVal;\r\n    \t\t\t}\r\n    \t\t\tif (expression.length() &gt; 0) {\r\n    \t\t\t\toperator = expression.charAt(0);\r\n    \t\t\t\texpression = expression.substring(1);\r\n    \t\t\t} else {\r\n    \t\t\t\treturn leftVal;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (operator == &#39;+&#39;) {\r\n    \t\t\treturn leftVal + calc(expression);\r\n    \t\t} else {\r\n    \t\t\treturn leftVal - calc(expression);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tprivate static double getNextOperand(String[] exp){\r\n    \t\tdouble res;\r\n    \t\tif (exp[0].startsWith(&quot;(&quot;)) {\r\n    \t\t\tint open = 1;\r\n    \t\t\tint i = 1;\r\n    \t\t\twhile (open != 0) {\r\n    \t\t\t\tif (exp[0].charAt(i) == &#39;(&#39;) {\r\n    \t\t\t\t\topen++;\r\n    \t\t\t\t} else if (exp[0].charAt(i) == &#39;)&#39;) {\r\n    \t\t\t\t\topen--;\r\n    \t\t\t\t}\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\tres = calc(exp[0].substring(1, i - 1));\r\n    \t\t\texp[0] = exp[0].substring(i);\r\n    \t\t} else {\r\n    \t\t\tint i = 1;\r\n    \t\t\tif (exp[0].charAt(0) == &#39;-&#39;) {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\twhile (exp[0].length() &gt; i &amp;&amp; isNumber((int) exp[0].charAt(i))) {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\tres = Double.parseDouble(exp[0].substring(0, i));\r\n    \t\t\texp[0] = exp[0].substring(i);\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    \r\n    \r\n    \tprivate static boolean isNumber(int c) {\r\n    \t\tint zero = (int) &#39;0&#39;;\r\n    \t\tint nine = (int) &#39;9&#39;;\r\n    \t\treturn (c &gt;= zero &amp;&amp; c &lt;= nine) || c ==&#39;.&#39;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(calculate(&quot;(((( -6 )))) * 9 * -1&quot;));\r\n    \t\tSystem.out.println(calc(&quot;(-5.2+-5*-5*((5/4+2)))&quot;));\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>A Java class that can evaluate mathematical expressions:</p>\n<pre><code>package test;\n\npublic class Calculator {\n\n    public static Double calculate(String expression){\n        if (expression == null || expression.length() == 0) {\n            return null;\n        }\n        return calc(expression.replace(&quot; &quot;, &quot;&quot;));\n    }\n    public static Double calc(String expression) {\n        String[] containerArr = new String[]{expression};\n        double leftVal = getNextOperand(containerArr);\n        expression = containerArr[0];\n        if (expression.length() == 0) {\n            return leftVal;\n        }\n        char operator = expression.charAt(0);\n        expression = expression.substring(1);\n\n        while (operator == '*' || operator == '/') {\n            containerArr[0] = expression;\n            double rightVal = getNextOperand(containerArr);\n            expression = containerArr[0];\n            if (operator == '*') {\n                leftVal = leftVal * rightVal;\n            } else {\n                leftVal = leftVal / rightVal;\n            }\n            if (expression.length() &gt; 0) {\n                operator = expression.charAt(0);\n                expression = expression.substring(1);\n            } else {\n                return leftVal;\n            }\n        }\n        if (operator == '+') {\n            return leftVal + calc(expression);\n        } else {\n            return leftVal - calc(expression);\n        }\n\n    }\n    \n    private static double getNextOperand(String[] exp){\n        double res;\n        if (exp[0].startsWith(&quot;(&quot;)) {\n            int open = 1;\n            int i = 1;\n            while (open != 0) {\n                if (exp[0].charAt(i) == '(') {\n                    open++;\n                } else if (exp[0].charAt(i) == ')') {\n                    open--;\n                }\n                i++;\n            }\n            res = calc(exp[0].substring(1, i - 1));\n            exp[0] = exp[0].substring(i);\n        } else {\n            int i = 1;\n            if (exp[0].charAt(0) == '-') {\n                i++;\n            }\n            while (exp[0].length() &gt; i &amp;&amp; isNumber((int) exp[0].charAt(i))) {\n                i++;\n            }\n            res = Double.parseDouble(exp[0].substring(0, i));\n            exp[0] = exp[0].substring(i);\n        }\n        return res;\n    }\n\n\n    private static boolean isNumber(int c) {\n        int zero = (int) '0';\n        int nine = (int) '9';\n        return (c &gt;= zero &amp;&amp; c &lt;= nine) || c =='.';\n    }\n\n    public static void main(String[] args) {\n        System.out.println(calculate(&quot;(((( -6 )))) * 9 * -1&quot;));\n        System.out.println(calc(&quot;(-5.2+-5*-5*((5/4+2)))&quot;));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508471453,"creation_date":1508471453,"answer_id":46842142,"question_id":3422673,"body_markdown":"External library like RHINO or NASHORN can be used to run javascript. And javascript can evaluate simple formula without parcing the string. No performance impact as well if code is written well.\r\nBelow is an example with RHINO - \r\n\r\n    public class RhinoApp {\r\n        private String simpleAdd = &quot;(12+13+2-2)*2+(12+13+2-2)*2&quot;;\r\n\r\n    public void runJavaScript() {\r\n        Context jsCx = Context.enter();\r\n        Context.getCurrentContext().setOptimizationLevel(-1);\r\n        ScriptableObject scope = jsCx.initStandardObjects();\r\n        Object result = jsCx.evaluateString(scope, simpleAdd , &quot;formula&quot;, 0, null);\r\n        Context.exit();\r\n        System.out.println(result);\r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>External library like RHINO or NASHORN can be used to run javascript. And javascript can evaluate simple formula without parcing the string. No performance impact as well if code is written well.\nBelow is an example with RHINO - </p>\n\n<pre><code>public class RhinoApp {\n    private String simpleAdd = \"(12+13+2-2)*2+(12+13+2-2)*2\";\n\npublic void runJavaScript() {\n    Context jsCx = Context.enter();\n    Context.getCurrentContext().setOptimizationLevel(-1);\n    ScriptableObject scope = jsCx.initStandardObjects();\n    Object result = jsCx.evaluateString(scope, simpleAdd , \"formula\", 0, null);\n    Context.exit();\n    System.out.println(result);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1812835,"reputation":87,"user_id":1648550,"display_name":"h.Ebrahimi"},"score":0,"creation_date":1676038408,"post_id":63500206,"comment_id":133062349,"body_markdown":"I am getting the following warning when I use this code: nashorn engine is planned to be removed from a future jdk release","body":"I am getting the following warning when I use this code: nashorn engine is planned to be removed from a future jdk release"}],"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1638377188,"creation_date":1597908299,"answer_id":63500206,"question_id":3422673,"body_markdown":"\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptException;\r\n\r\n    public class test2 {\r\n        public static void main(String[] args) throws ScriptException {\r\n            String s = &quot;10+2&quot;;\r\n            ScriptEngineManager mn = new ScriptEngineManager();\r\n            ScriptEngine en = mn.getEngineByName(&quot;js&quot;);\r\n            Object result = en.eval(s);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"How to evaluate a math expression given in string form?","body":"<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\npublic class test2 {\n    public static void main(String[] args) throws ScriptException {\n        String s = &quot;10+2&quot;;\n        ScriptEngineManager mn = new ScriptEngineManager();\n        ScriptEngine en = mn.getEngineByName(&quot;js&quot;);\n        Object result = en.eval(s);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669180808,"creation_date":1667221357,"answer_id":74263711,"question_id":3422673,"body_markdown":"I have done using iterative parsing and shunting Yard algorithm and i have really enjoyed developing the expression evaluator ,you can find all the code here\r\n\r\nhttps://github.com/nagaraj200788/JavaExpressionEvaluator\r\n\r\nHas 73 test cases and even works for Bigintegers,Bigdecimals\r\n\r\nsupports all relational, arithmetic expression and also combination of both .\r\neven supports ternary operator .\r\n\r\nAdded enhancement to support signed numbers like -100+89 it was intresting, for details check TokenReader.isUnaryOperator() method and i have updated code in above Link\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>I have done using iterative parsing and shunting Yard algorithm and i have really enjoyed developing the expression evaluator ,you can find all the code here</p>\n<p><a href=\"https://github.com/nagaraj200788/JavaExpressionEvaluator\" rel=\"nofollow noreferrer\">https://github.com/nagaraj200788/JavaExpressionEvaluator</a></p>\n<p>Has 73 test cases and even works for Bigintegers,Bigdecimals</p>\n<p>supports all relational, arithmetic expression and also combination of both .\neven supports ternary operator .</p>\n<p>Added enhancement to support signed numbers like -100+89 it was intresting, for details check TokenReader.isUnaryOperator() method and i have updated code in above Link</p>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459130,"creation_date":1681459130,"answer_id":76012809,"question_id":3422673,"body_markdown":"If anybody needs precise decimal numbers I made a modification which uses `BigDecimal` instead of `double`. \r\n\r\nI got inspired by Boann&#39;s answer and modified it to use `BigDecimal`.\r\n\r\n```\r\npublic static BigDecimal eval(final String str, MathContext mathContext) {\r\n    if (ObjectUtils.isEmpty(str)) {\r\n        return null;\r\n    }\r\n\r\n    return new Object() {\r\n        int pos = -1, ch;\r\n\r\n        void nextChar() {\r\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n        }\r\n\r\n        boolean eat(int charToEat) {\r\n            while (ch == &#39; &#39;) nextChar();\r\n            if (ch == charToEat) {\r\n                nextChar();\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        BigDecimal parse() {\r\n            nextChar();\r\n            BigDecimal x = parseExpression();\r\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n            return x;\r\n        }\r\n\r\n        // Grammar:\r\n        // expression = term | expression `+` term | expression `-` term\r\n        // term = factor | term `*` factor | term `/` factor\r\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\r\n        //        | functionName `(` expression `)` | functionName factor\r\n        //        | factor `^` factor\r\n\r\n        BigDecimal parseExpression() {\r\n            BigDecimal x = parseTerm();\r\n            for (;;) {\r\n                if      (eat(&#39;+&#39;)) x = x.add(parseTerm()); // addition\r\n                else if (eat(&#39;-&#39;)) x = x.subtract(parseTerm()); // subtraction\r\n                else return x;\r\n            }\r\n        }\r\n\r\n        BigDecimal parseTerm() {\r\n            BigDecimal x = parseFactor();\r\n            for (;;) {\r\n                if      (eat(&#39;*&#39;)) x = x.multiply(parseFactor()); // multiplication\r\n                else if (eat(&#39;/&#39;)) x = x.divide(parseFactor(), mathContext); // division\r\n                else return x;\r\n            }\r\n        }\r\n\r\n        BigDecimal parseFactor() {\r\n            if (eat(&#39;+&#39;)) return parseFactor(); // unary plus\r\n            if (eat(&#39;-&#39;)) return parseFactor().negate(); // unary minus\r\n\r\n            BigDecimal x;\r\n            int startPos = this.pos;\r\n            if (eat(&#39;(&#39;)) { // parentheses\r\n                x = parseExpression();\r\n                if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39;&quot;);\r\n            } else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n                while ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n                x = new BigDecimal(str.substring(startPos, this.pos));\r\n            } else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n                while (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n                String func = str.substring(startPos, this.pos);\r\n                if (eat(&#39;(&#39;)) {\r\n                    x = parseExpression();\r\n                    if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39; after argument to &quot; + func);\r\n                } else {\r\n                    x = parseFactor();\r\n                }\r\n                if (&quot;sqrt&quot;.equals(func)) {\r\n                    x = x.sqrt(mathContext);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n                }\r\n            } else {\r\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n            }\r\n\r\n            if (eat(&#39;^&#39;)) x = x.pow(parseFactor().intValue(), mathContext); // exponentiation\r\n\r\n            return x;\r\n        }\r\n    }.parse();\r\n}\r\n```\r\n\r\nUse it in a following way:\r\n\r\n```\r\n// set precision and rounding mode\r\nMathContext mathContext = new MathContext(10, RoundingMode.HALF_UP);\r\nBigDecimal result = YourLib.eval(&quot;33+33&quot;, mathContext);\r\n```","title":"How to evaluate a math expression given in string form?","body":"<p>If anybody needs precise decimal numbers I made a modification which uses <code>BigDecimal</code> instead of <code>double</code>.</p>\n<p>I got inspired by Boann's answer and modified it to use <code>BigDecimal</code>.</p>\n<pre><code>public static BigDecimal eval(final String str, MathContext mathContext) {\n    if (ObjectUtils.isEmpty(str)) {\n        return null;\n    }\n\n    return new Object() {\n        int pos = -1, ch;\n\n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n\n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n\n        BigDecimal parse() {\n            nextChar();\n            BigDecimal x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            return x;\n        }\n\n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\n        //        | functionName `(` expression `)` | functionName factor\n        //        | factor `^` factor\n\n        BigDecimal parseExpression() {\n            BigDecimal x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x = x.add(parseTerm()); // addition\n                else if (eat('-')) x = x.subtract(parseTerm()); // subtraction\n                else return x;\n            }\n        }\n\n        BigDecimal parseTerm() {\n            BigDecimal x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x = x.multiply(parseFactor()); // multiplication\n                else if (eat('/')) x = x.divide(parseFactor(), mathContext); // division\n                else return x;\n            }\n        }\n\n        BigDecimal parseFactor() {\n            if (eat('+')) return parseFactor(); // unary plus\n            if (eat('-')) return parseFactor().negate(); // unary minus\n\n            BigDecimal x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                if (!eat(')')) throw new RuntimeException(&quot;Missing ')'&quot;);\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = new BigDecimal(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                if (eat('(')) {\n                    x = parseExpression();\n                    if (!eat(')')) throw new RuntimeException(&quot;Missing ')' after argument to &quot; + func);\n                } else {\n                    x = parseFactor();\n                }\n                if (&quot;sqrt&quot;.equals(func)) {\n                    x = x.sqrt(mathContext);\n                } else {\n                    throw new RuntimeException(&quot;Unknown function: &quot; + func);\n                }\n            } else {\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            }\n\n            if (eat('^')) x = x.pow(parseFactor().intValue(), mathContext); // exponentiation\n\n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n<p>Use it in a following way:</p>\n<pre><code>// set precision and rounding mode\nMathContext mathContext = new MathContext(10, RoundingMode.HALF_UP);\nBigDecimal result = YourLib.eval(&quot;33+33&quot;, mathContext);\n</code></pre>\n"}],"owner":{"account_id":93643,"reputation":4938,"user_id":256082,"accept_rate":91,"display_name":"Shah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615935,"favorite_count":0,"down_vote_count":5,"up_vote_count":392,"accepted_answer_id":3423360,"answer_count":27,"score":387,"last_activity_date":1681459130,"creation_date":1281088410,"question_id":3422673,"body_markdown":"I&#39;m trying to write a Java routine to evaluate math expressions from `String` values like:\r\n\r\n1. `&quot;5+3&quot;`\r\n2. `&quot;10-4*5&quot;`\r\n3. `&quot;(1+10)*3&quot;`\r\n\r\nI want to avoid a lot of if-then-else statements.\r\nHow can I do this?","title":"How to evaluate a math expression given in string form?","body":"<p>I'm trying to write a Java routine to evaluate math expressions from <code>String</code> values like:</p>\n<ol>\n<li><code>&quot;5+3&quot;</code></li>\n<li><code>&quot;10-4*5&quot;</code></li>\n<li><code>&quot;(1+10)*3&quot;</code></li>\n</ol>\n<p>I want to avoid a lot of if-then-else statements.\nHow can I do this?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":3,"creation_date":1681406076,"post_id":76008024,"comment_id":134054933,"body_markdown":"If there is only one level of &quot;nesting&quot; then maybe `(?&lt;=\\{)\\d+:(?:\\{[^{}]*}|[^{}]+)(?=\\})`  https://regex101.com/r/xIgMPg/1","body":"If there is only one level of &quot;nesting&quot; then maybe <code>(?&lt;=\\{)\\d+:(?:\\{[^{}]*}|[^{}]+)(?=\\})</code>  <a href=\"https://regex101.com/r/xIgMPg/1\" rel=\"nofollow noreferrer\">regex101.com/r/xIgMPg/1</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1681406354,"post_id":76008024,"comment_id":134054993,"body_markdown":"For a more general answer you may need to have a small parser instead of regular expressions.","body":"For a more general answer you may need to have a small parser instead of regular expressions."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681459100,"creation_date":1681459100,"answer_id":76012802,"question_id":76008024,"body_markdown":"Java regex does not support recursion. If there can only be 1 level of nesting, you could use an alternation:\r\n\r\n    (?&lt;=\\{)\\d+:(?:\\{\\d+:[^{}]*}|[^{}]+)(?=\\})\r\n\r\n**Explanation**\r\n\r\n- `(?&lt;=\\{)` Positive lookbehind, assert `{` to the left\r\n- `\\d+:` Match 1+ digits followed by `:`\r\n- `(?:` Non capture group for the 2 alternatives\r\n  - `\\{\\d+:[^{}]*}` Match `{` 1+ digits and `:`, and then till`}`\r\n  - `|` Or\r\n  - `[^{}]+` Match 1+ chars other than `{` or `}`\r\n- `)` Close the non capture group\r\n- `(?=\\})` Positive lookahead, assert `}` to the right\r\n\r\nSee a [regex demo](https://regex101.com/r/d85LiH/1).\r\n\r\nIn Java with the double escaped backslashes:\r\n\r\n    String regex = &quot;(?&lt;=\\\\{)\\\\d+:(?:\\\\{\\\\d+:[^\\\\{\\\\}]*\\\\}|[^\\\\{\\\\}]+)(?=\\\\})&quot;;\r\n\r\nNote that for a match only, you can omit the capture group.","title":"Handling token identifier within a capturing group","body":"<p>Java regex does not support recursion. If there can only be 1 level of nesting, you could use an alternation:</p>\n<pre><code>(?&lt;=\\{)\\d+:(?:\\{\\d+:[^{}]*}|[^{}]+)(?=\\})\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(?&lt;=\\{)</code> Positive lookbehind, assert <code>{</code> to the left</li>\n<li><code>\\d+:</code> Match 1+ digits followed by <code>:</code></li>\n<li><code>(?:</code> Non capture group for the 2 alternatives\n<ul>\n<li><code>\\{\\d+:[^{}]*}</code> Match <code>{</code> 1+ digits and <code>:</code>, and then till<code>}</code></li>\n<li><code>|</code> Or</li>\n<li><code>[^{}]+</code> Match 1+ chars other than <code>{</code> or <code>}</code></li>\n</ul>\n</li>\n<li><code>)</code> Close the non capture group</li>\n<li><code>(?=\\})</code> Positive lookahead, assert <code>}</code> to the right</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/d85LiH/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java with the double escaped backslashes:</p>\n<pre><code>String regex = &quot;(?&lt;=\\\\{)\\\\d+:(?:\\\\{\\\\d+:[^\\\\{\\\\}]*\\\\}|[^\\\\{\\\\}]+)(?=\\\\})&quot;;\n</code></pre>\n<p>Note that for a match only, you can omit the capture group.</p>\n"}],"owner":{"account_id":2036306,"reputation":553,"user_id":1818593,"accept_rate":82,"display_name":"Srii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76012802,"answer_count":1,"score":0,"last_activity_date":1681459100,"creation_date":1681404958,"question_id":76008024,"body_markdown":"I&#39;ve been trying to match the following text:\r\n\r\n```json\r\n{1:A01ABCDEFGHIJKL1234567890}{2:01234567890123ABCDEFGHIJKL12345678901234567890A}{3:{108:ABCDEFGHIJK0123}}{4:\r\n:20:ABCDEFGHIJK/01234\r\n:25:00000000000000000000\r\n:28C:00001/00001\r\n:60F:C230316EUR0,00\r\n:62F:C230317EUR0,00\r\n:64:C230317EUR0,00\r\n:65:C230318EUR0,00\r\n:65:C230319EUR0,00\r\n:65:C230320EUR0,00\r\n:65:C230321EUR0,00\r\n:65:C230322EUR0,00\r\n-}\r\n```\r\n\r\nusing the following expression:\r\n\r\n```\r\n(?&lt;=\\{)([^}]+)(?=\\})\r\n```\r\n\r\nThe matching fails when the bracket is part of the matching group. For example, the group that starts with record identifier 3: is matched only partially in that the closing bracket in the group is unmatched. While I understand that this is what the expression is constructed to do, what would be an ideal way to capture also the closing bracket? In other words, match everything between two brackets that starts with a record identifier such as 1:, 2:, 3:, etc but do not apply it recursively that the nested text also don&#39;t get matched. Please advise. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s the [demo][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yNvU8.png\r\n  [2]: https://regex101.com/r/cKsRlR/1","title":"Handling token identifier within a capturing group","body":"<p>I've been trying to match the following text:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{1:A01ABCDEFGHIJKL1234567890}{2:01234567890123ABCDEFGHIJKL12345678901234567890A}{3:{108:ABCDEFGHIJK0123}}{4:\n:20:ABCDEFGHIJK/01234\n:25:00000000000000000000\n:28C:00001/00001\n:60F:C230316EUR0,00\n:62F:C230317EUR0,00\n:64:C230317EUR0,00\n:65:C230318EUR0,00\n:65:C230319EUR0,00\n:65:C230320EUR0,00\n:65:C230321EUR0,00\n:65:C230322EUR0,00\n-}\n</code></pre>\n<p>using the following expression:</p>\n<pre><code>(?&lt;=\\{)([^}]+)(?=\\})\n</code></pre>\n<p>The matching fails when the bracket is part of the matching group. For example, the group that starts with record identifier 3: is matched only partially in that the closing bracket in the group is unmatched. While I understand that this is what the expression is constructed to do, what would be an ideal way to capture also the closing bracket? In other words, match everything between two brackets that starts with a record identifier such as 1:, 2:, 3:, etc but do not apply it recursively that the nested text also don't get matched. Please advise.</p>\n<p><a href=\"https://i.stack.imgur.com/yNvU8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNvU8.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the <a href=\"https://regex101.com/r/cKsRlR/1\" rel=\"nofollow noreferrer\">demo</a>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-web"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511446646,"post_id":47457382,"comment_id":81869582,"body_markdown":"Judging from the error message and the code you posted the code doesn&#39;t match the exception.","body":"Judging from the error message and the code you posted the code doesn&#39;t match the exception."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1511447959,"post_id":47457382,"comment_id":81870393,"body_markdown":"Your understanding is wrong. You can use `@RequestParam` with any type of request. `@RequestBody` is if you post a body (in JSON, XML etc) and you want it marshaled to an object. If you only want to use parameters then `@RequestBody` is pretty much useless. However binding to an object should be preferred over separate parameters and for this you should use `@ModelAttribute`.","body":"Your understanding is wrong. You can use <code>@RequestParam</code> with any type of request. <code>@RequestBody</code> is if you post a body (in JSON, XML etc) and you want it marshaled to an object. If you only want to use parameters then <code>@RequestBody</code> is pretty much useless. However binding to an object should be preferred over separate parameters and for this you should use <code>@ModelAttribute</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448065,"post_id":47457382,"comment_id":81870454,"body_markdown":"the others say `@RequestParam` cannot be used with post requests","body":"the others say <code>@RequestParam</code> cannot be used with post requests"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511448106,"post_id":47457382,"comment_id":81870487,"body_markdown":"They are wrong... (Having written 3 books on the subject I&#39;m fairly sure I know what I&#39;m talking about :) ). Parameters are parameters regardless the method used to get them to the server. They can even be used to obtain the form parameters when posting a form. Now if you would be sending JSON that would be a different story as that is a body and should be parsed using `@RequestBody`.","body":"They are wrong... (Having written 3 books on the subject I&#39;m fairly sure I know what I&#39;m talking about :) ). Parameters are parameters regardless the method used to get them to the server. They can even be used to obtain the form parameters when posting a form. Now if you would be sending JSON that would be a different story as that is a body and should be parsed using <code>@RequestBody</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448176,"post_id":47457382,"comment_id":81870537,"body_markdown":"then how come I get an error when I use @RequestParam in the above example? What should I change for it to work? Please enlighten me.","body":"then how come I get an error when I use @RequestParam in the above example? What should I change for it to work? Please enlighten me."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511449584,"post_id":47457382,"comment_id":81871390,"body_markdown":"The error isn&#39;t about the `@RequestParam` but the conditions (the `params` in the `@RequestMapping`) and as stated I think the code posted here isn&#39;t the actual code...","body":"The error isn&#39;t about the <code>@RequestParam</code> but the conditions (the <code>params</code> in the <code>@RequestMapping</code>) and as stated I think the code posted here isn&#39;t the actual code..."},{"owner":{"account_id":4022838,"reputation":2676,"user_id":3312425,"accept_rate":24,"display_name":"Davoud"},"score":0,"creation_date":1614009529,"post_id":47457382,"comment_id":117246526,"body_markdown":"A lot of explanation, but no answer how to get parameters from URL in post method using @RequestParam annotation?!.","body":"A lot of explanation, but no answer how to get parameters from URL in post method using @RequestParam annotation?!."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1614039100,"post_id":47457382,"comment_id":117257671,"body_markdown":"@Patzu You could also just use `@PathVariable` annotation instead.","body":"@Patzu You could also just use <code>@PathVariable</code> annotation instead."}],"answers":[{"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":1,"creation_date":1511446747,"post_id":47457597,"comment_id":81869638,"body_markdown":"sweet, i&#39;ll go for the second option. Thanks allot!","body":"sweet, i&#39;ll go for the second option. Thanks allot!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1511448078,"post_id":47457597,"comment_id":81870466,"body_markdown":"`@RequestBody` is only useful is you actually send a payload other then form encoding (like JSON or XML) for a simply form post `@RequestBody` will do nothing then you have to use either `@ModelAttribute` or use `@RequestParam` to obtain the form parameters. As stated `@RequestParam` isn&#39;t limited to GET methods.","body":"<code>@RequestBody</code> is only useful is you actually send a payload other then form encoding (like JSON or XML) for a simply form post <code>@RequestBody</code> will do nothing then you have to use either <code>@ModelAttribute</code> or use <code>@RequestParam</code> to obtain the form parameters. As stated <code>@RequestParam</code> isn&#39;t limited to GET methods."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448447,"post_id":47457597,"comment_id":81870708,"body_markdown":"@Synch When I use your second option I get a `Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Can not deserialize instance of java.lang.String out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.JsonMappin\ngException: Can not deserialize instance of java.lang.String out of START_OBJECT token` error. Any idea how I can prevent this error from happening?","body":"@Synch When I use your second option I get a <code>Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableExc&zwnj;&#8203;eption: JSON parse error: Can not deserialize instance of java.lang.String out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.JsonMappin gException: Can not deserialize instance of java.lang.String out of START_OBJECT token</code> error. Any idea how I can prevent this error from happening?"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511450037,"post_id":47457597,"comment_id":81871665,"body_markdown":"kan ik @ModelAttribute ook gebruiken wanneer ik geen Spring Mvc applicatie heb?","body":"kan ik @ModelAttribute ook gebruiken wanneer ik geen Spring Mvc applicatie heb?"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511450242,"post_id":47457597,"comment_id":81871797,"body_markdown":"@ModelAttribute werkt ook niet, parameterveld is leeg","body":"@ModelAttribute werkt ook niet, parameterveld is leeg"},{"owner":{"account_id":7610415,"reputation":3621,"user_id":5771446,"display_name":"Sync"},"score":0,"creation_date":1511450374,"post_id":47457597,"comment_id":81871879,"body_markdown":"`ModelAttribute` is a Spring annotation, so you can&#39;t use it outside Spring application.","body":"<code>ModelAttribute</code> is a Spring annotation, so you can&#39;t use it outside Spring application."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":1,"creation_date":1511452977,"post_id":47457597,"comment_id":81873430,"body_markdown":"I am using spring just not spring mvc, anyway.. I found out what the culprit was. I should include `&#39;Content-Type&#39;: &#39;application/json&#39;` in the `headers` when I make the post. That way the RequestBody map gets filled with parameters properly.","body":"I am using spring just not spring mvc, anyway.. I found out what the culprit was. I should include <code>&#39;Content-Type&#39;: &#39;application&#47;json&#39;</code> in the <code>headers</code> when I make the post. That way the RequestBody map gets filled with parameters properly."},{"owner":{"account_id":2997540,"reputation":1038,"user_id":2543768,"accept_rate":83,"display_name":"jchamberlain"},"score":1,"creation_date":1549499230,"post_id":47457597,"comment_id":95928043,"body_markdown":"This answer is misleading. RequestParam can be used for form-encoded POST bodies. See https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html.","body":"This answer is misleading. RequestParam can be used for form-encoded POST bodies. See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>."},{"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"score":0,"creation_date":1588792899,"post_id":47457597,"comment_id":109039508,"body_markdown":"using Map to send the data instead of using a separate DTO class is really a better way and it is way easier. And, i found that map works not only for Map&lt;String,String&gt; in REST controllers, but also other types as well.. such as Map&lt;String, Integer&gt; also works.","body":"using Map to send the data instead of using a separate DTO class is really a better way and it is way easier. And, i found that map works not only for Map&lt;String,String&gt; in REST controllers, but also other types as well.. such as Map&lt;String, Integer&gt; also works."}],"tags":[],"owner":{"account_id":7610415,"reputation":3621,"user_id":5771446,"display_name":"Sync"},"comment_count":9,"down_vote_count":6,"up_vote_count":38,"is_accepted":true,"score":32,"last_activity_date":1511453756,"creation_date":1511446687,"answer_id":47457597,"question_id":47457382,"body_markdown":"What you are asking for is fundamentally wrong. POST requests sends data in a body payload, which is mapped via `@RequestBody`. `@RequestParam` is used to map data through the URL parameters such as `/url?start=foo`. What you are trying to do is use `@RequestParam` to do the job of `@RequestBody`.\r\n\r\n### Alternative solutions for REST controllers\r\n- Introduce a DTO class. It is the most preferred and clean method.\r\n- If you really want to avoid creating a class, you can use `@RequestBody Map&lt;String, String&gt; payload`. Be sure to include `&#39;Content-Type&#39;: &#39;application/json&#39;` in your request header.\r\n- If you really want to use `@RequestParam`, use a GET request instead and send your data via URL parameters.\r\n\r\n### Alternative solutions for MVC controllers\r\n- Introduce a DTO class and use it with annotation `@ModelAttribute`.\r\n- If you transform the form data into JSON, you can use `@RequestBody Map&lt;String, String&gt; payload`. To do this, please see [this answer][1].\r\n\r\nIt is not possible to map form data encoded data directly to a `Map&lt;String, String&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22195193/5771446","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>What you are asking for is fundamentally wrong. POST requests sends data in a body payload, which is mapped via <code>@RequestBody</code>. <code>@RequestParam</code> is used to map data through the URL parameters such as <code>/url?start=foo</code>. What you are trying to do is use <code>@RequestParam</code> to do the job of <code>@RequestBody</code>.</p>\n\n<h3>Alternative solutions for REST controllers</h3>\n\n<ul>\n<li>Introduce a DTO class. It is the most preferred and clean method.</li>\n<li>If you really want to avoid creating a class, you can use <code>@RequestBody Map&lt;String, String&gt; payload</code>. Be sure to include <code>'Content-Type': 'application/json'</code> in your request header.</li>\n<li>If you really want to use <code>@RequestParam</code>, use a GET request instead and send your data via URL parameters.</li>\n</ul>\n\n<h3>Alternative solutions for MVC controllers</h3>\n\n<ul>\n<li>Introduce a DTO class and use it with annotation <code>@ModelAttribute</code>.</li>\n<li>If you transform the form data into JSON, you can use <code>@RequestBody Map&lt;String, String&gt; payload</code>. To do this, please see <a href=\"https://stackoverflow.com/a/22195193/5771446\">this answer</a>.</li>\n</ul>\n\n<p>It is not possible to map form data encoded data directly to a <code>Map&lt;String, String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":10221558,"reputation":188,"user_id":7545602,"display_name":"Nenad Jovicic"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1602155238,"creation_date":1511446893,"answer_id":47457654,"question_id":47457382,"body_markdown":"You should use `@RequestBody` instead of using `@RequestParam`\r\nAnd you should provide whole object as a body of request\r\n`@RequestParam` is to get data from URL\r\n\r\nyou can do something like\r\n`public saveUser(@RequestBody User user) { do something with user }`\r\n\r\nand it will be mapped as User object for example\r\n\r\n","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>You should use <code>@RequestBody</code> instead of using <code>@RequestParam</code>\nAnd you should provide whole object as a body of request\n<code>@RequestParam</code> is to get data from URL</p>\n<p>you can do something like\n<code>public saveUser(@RequestBody User user) { do something with user }</code></p>\n<p>and it will be mapped as User object for example</p>\n"},{"tags":[],"owner":{"account_id":13010010,"reputation":131,"user_id":9403393,"display_name":"Jerald Macachor"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1539798264,"creation_date":1539798264,"answer_id":52860755,"question_id":47457382,"body_markdown":"    @PostMapping(&quot;/createleave&quot;)\r\n    public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams){\r\n    \r\n        String start = requestParams.get(&quot;start&quot;);\r\n        String end= requestParams.get(&quot;end&quot;);\r\n        String hours= requestParams.get(&quot;hours&quot;);\r\n        String username = requestParams.get(&quot;username&quot;);\r\n\r\n        System.out.println(&quot;Entering createLeave &quot; + start + &quot; &quot; + end + &quot; &quot; + hours + &quot; &quot; + username);\r\n    }\r\n\r\nThis is for multipart/form-data enctype post request.","title":"Can I use @Requestparam annotation for a Post request?","body":"<pre><code>@PostMapping(\"/createleave\")\npublic void createLeave(@RequestParam Map&lt;String, String&gt; requestParams){\n\n    String start = requestParams.get(\"start\");\n    String end= requestParams.get(\"end\");\n    String hours= requestParams.get(\"hours\");\n    String username = requestParams.get(\"username\");\n\n    System.out.println(\"Entering createLeave \" + start + \" \" + end + \" \" + hours + \" \" + username);\n}\n</code></pre>\n\n<p>This is for multipart/form-data enctype post request.</p>\n"},{"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1581063538,"post_id":55653219,"comment_id":106311721,"body_markdown":"https://stackoverflow.com/a/55721061/1553537 here I explain this annotation in a bit deeper way.","body":"<a href=\"https://stackoverflow.com/a/55721061/1553537\">stackoverflow.com/a/55721061/1553537</a> here I explain this annotation in a bit deeper way."},{"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"score":1,"creation_date":1588792685,"post_id":55653219,"comment_id":109039395,"body_markdown":"i think what @Sync has said in his answer is that, if you used request parameters in POST, they are sent in the URL and is prone to get exposed. Therefore he suggests to send the data in the request body using the ways he has suggested because, when sending a POST request, the request body is encrypted.","body":"i think what @Sync has said in his answer is that, if you used request parameters in POST, they are sent in the URL and is prone to get exposed. Therefore he suggests to send the data in the request body using the ways he has suggested because, when sending a POST request, the request body is encrypted."},{"owner":{"account_id":2836332,"reputation":2140,"user_id":2436878,"accept_rate":90,"display_name":"Bampfer"},"score":1,"creation_date":1597161182,"post_id":55653219,"comment_id":112040904,"body_markdown":"Spring docs linked in this answer state: &quot;.. the Servlet API combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body.&quot; So POST RequestParameters can be in the body, not exposed in the URL. Sync&#39;s discussion of alternatives is useful, but the statement that you have to use RequestBody with POST isn&#39;t right. (Possibly it used to be true?)","body":"Spring docs linked in this answer state: &quot;.. the Servlet API combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body.&quot; So POST RequestParameters can be in the body, not exposed in the URL. Sync&#39;s discussion of alternatives is useful, but the statement that you have to use RequestBody with POST isn&#39;t right. (Possibly it used to be true?)"},{"owner":{"account_id":2836332,"reputation":2140,"user_id":2436878,"accept_rate":90,"display_name":"Bampfer"},"score":0,"creation_date":1597162548,"post_id":55653219,"comment_id":112041586,"body_markdown":"(But note also: &quot;In Spring WebFlux, &#39;request parameters&#39; map to query parameters only&quot;)","body":"(But note also: &quot;In Spring WebFlux, &#39;request parameters&#39; map to query parameters only&quot;)"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":1,"creation_date":1628478556,"post_id":55653219,"comment_id":121422063,"body_markdown":"@DiliniPeiris: if using ssl / tls all data including query param are encrypted but can find its way in server logs after tls termination","body":"@DiliniPeiris: if using ssl / tls all data including query param are encrypted but can find its way in server logs after tls termination"}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1681458958,"creation_date":1555077097,"answer_id":55653219,"question_id":47457382,"body_markdown":"Well, the answer by @Sync is fundamentally wrong and not the question being asked.\r\n\r\n 1. First of all, I use `@RequestParam` in a lot of scenarios expecting either GET or POST HTTP messages and I&#39;d like to say, that it works perfectly fine;\r\n 2. POST Message&#39;s payload data (body) is actually the *text data*, which can perfectly legally be `paramname = paramvalue` key-value mapping(s) alike (see [POST Message Body types][1] here);\r\n 3. `docs.spring.io`, an official source for Spring Documentation, [clearly states][2], that:\r\n&gt; In Spring MVC, &quot;request parameters&quot; map to query parameters, form\r\n&gt; data, and parts in multipart requests.\r\n\r\nSo, the answer is YES, you can use `@RequestParam` annotation with `@Controller` class&#39;s method&#39;s parameter, as long as that method is a *handler method* (is request-mapped by `@RequestMapping`) and you don&#39;t expect Object, this is perfectly legal and there&#39;s nothing wrong with it.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>Well, the answer by @Sync is fundamentally wrong and not the question being asked.</p>\n<ol>\n<li>First of all, I use <code>@RequestParam</code> in a lot of scenarios expecting either GET or POST HTTP messages and I'd like to say, that it works perfectly fine;</li>\n<li>POST Message's payload data (body) is actually the <em>text data</em>, which can perfectly legally be <code>paramname = paramvalue</code> key-value mapping(s) alike (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\">POST Message Body types</a> here);</li>\n<li><code>docs.spring.io</code>, an official source for Spring Documentation, <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">clearly states</a>, that:</li>\n</ol>\n<blockquote>\n<p>In Spring MVC, &quot;request parameters&quot; map to query parameters, form\ndata, and parts in multipart requests.</p>\n</blockquote>\n<p>So, the answer is YES, you can use <code>@RequestParam</code> annotation with <code>@Controller</code> class's method's parameter, as long as that method is a <em>handler method</em> (is request-mapped by <code>@RequestMapping</code>) and you don't expect Object, this is perfectly legal and there's nothing wrong with it.</p>\n"},{"tags":[],"owner":{"account_id":19542880,"reputation":11,"user_id":14300301,"display_name":"Gurjeet singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608565622,"creation_date":1600429154,"answer_id":63955074,"question_id":47457382,"body_markdown":"    public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams)\r\nAbove code did not work.\r\n\r\n\r\nCorrect syntax is: \r\n\r\n    public void createLeave(@RequestBody Map&lt;String, String&gt; requestParams)\r\n\r\nWhich will map the request to a map","title":"Can I use @Requestparam annotation for a Post request?","body":"<pre><code>public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams)\n</code></pre>\n<p>Above code did not work.</p>\n<p>Correct syntax is:</p>\n<pre><code>public void createLeave(@RequestBody Map&lt;String, String&gt; requestParams)\n</code></pre>\n<p>Which will map the request to a map</p>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100814,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":47457597,"answer_count":5,"score":38,"last_activity_date":1681458958,"creation_date":1511445989,"question_id":47457382,"body_markdown":"I have this controller method:\r\n\r\n    @PostMapping(\r\n            value = &quot;/createleave&quot;,\r\n            params = {&quot;start&quot;,&quot;end&quot;,&quot;hours&quot;,&quot;username&quot;})\r\n    public void createLeave(@RequestParam(value = &quot;start&quot;) String start,\r\n                            @RequestParam(value = &quot;end&quot;) String end,\r\n                            @RequestParam(value = &quot;hours&quot;) String hours,\r\n                            @RequestParam(value = &quot;username&quot;) String username){\r\n        System.out.println(&quot;Entering createLeave &quot; + start + &quot; &quot; + end + &quot; &quot; + hours + &quot; &quot; + username);\r\n        LeaveQuery newLeaveQuery = new LeaveQuery();\r\n        Account account = accountRepository.findByUsername(username);\r\n        newLeaveQuery.setAccount(account);\r\n        newLeaveQuery.setStartDate(new Date(Long.parseLong(start)));\r\n        newLeaveQuery.setEndDate(new Date(Long.parseLong(end)));\r\n        newLeaveQuery.setTotalHours(Integer.parseInt(hours));\r\n        leaveQueryRepository.save(newLeaveQuery);\r\n    }\r\n\r\nHowever when I send a post request to this endpoint I get the following \r\n\r\n    &quot;{&quot;timestamp&quot;:1511444885321,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad Request&quot;,&quot;exception&quot;:&quot;org.springframework.web.bind.UnsatisfiedServletRequestParameterException&quot;,&quot;message&quot;:&quot;Parameter conditions \\&quot;start, end, hours, username\\&quot; not met for actual request parameters: &quot;,&quot;path&quot;:&quot;/api/createleave&quot;}&quot;\r\n\r\nWhen I remove the params argument from the `@PostMapping` annotation I get a more general error, it will say that it cannot find the first required parameter (start), while it really is being send together with the parameters end, hours and username.\r\n\r\n\r\nhttps://stackoverflow.com/questions/17964841/how-to-get-param-in-method-post-spring-mvc\r\n\r\nI&#39;ve read in this post that `@RequestParam` can only be used for get methods, but if I remove `@RequestParam` and stick with the params argument of the `@PostMapping` annotation it still doesn&#39;t work. I know I can use `@RequestBody` but I do not want to make a class just for those 4 parameters. Can anyone tell me how I can make this work? \r\n\r\nThank you\r\n\r\nEDIT: I&#39;m reading here https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params-- that the argument params isn&#39;t exactly what I thought it was. It seems to be used as a condition. If a set of parameters match a value then the endpoint controller method will be activated.","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>I have this controller method:</p>\n\n<pre><code>@PostMapping(\n        value = \"/createleave\",\n        params = {\"start\",\"end\",\"hours\",\"username\"})\npublic void createLeave(@RequestParam(value = \"start\") String start,\n                        @RequestParam(value = \"end\") String end,\n                        @RequestParam(value = \"hours\") String hours,\n                        @RequestParam(value = \"username\") String username){\n    System.out.println(\"Entering createLeave \" + start + \" \" + end + \" \" + hours + \" \" + username);\n    LeaveQuery newLeaveQuery = new LeaveQuery();\n    Account account = accountRepository.findByUsername(username);\n    newLeaveQuery.setAccount(account);\n    newLeaveQuery.setStartDate(new Date(Long.parseLong(start)));\n    newLeaveQuery.setEndDate(new Date(Long.parseLong(end)));\n    newLeaveQuery.setTotalHours(Integer.parseInt(hours));\n    leaveQueryRepository.save(newLeaveQuery);\n}\n</code></pre>\n\n<p>However when I send a post request to this endpoint I get the following </p>\n\n<pre><code>\"{\"timestamp\":1511444885321,\"status\":400,\"error\":\"Bad Request\",\"exception\":\"org.springframework.web.bind.UnsatisfiedServletRequestParameterException\",\"message\":\"Parameter conditions \\\"start, end, hours, username\\\" not met for actual request parameters: \",\"path\":\"/api/createleave\"}\"\n</code></pre>\n\n<p>When I remove the params argument from the <code>@PostMapping</code> annotation I get a more general error, it will say that it cannot find the first required parameter (start), while it really is being send together with the parameters end, hours and username.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17964841/how-to-get-param-in-method-post-spring-mvc\">how to get param in method post spring mvc?</a></p>\n\n<p>I've read in this post that <code>@RequestParam</code> can only be used for get methods, but if I remove <code>@RequestParam</code> and stick with the params argument of the <code>@PostMapping</code> annotation it still doesn't work. I know I can use <code>@RequestBody</code> but I do not want to make a class just for those 4 parameters. Can anyone tell me how I can make this work? </p>\n\n<p>Thank you</p>\n\n<p>EDIT: I'm reading here <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--</a> that the argument params isn't exactly what I thought it was. It seems to be used as a condition. If a set of parameters match a value then the endpoint controller method will be activated.</p>\n"},{"tags":["java","spring-boot","email","smtp","mime-message"],"owner":{"account_id":16519320,"reputation":35,"user_id":11935923,"display_name":"AlexanderMueller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681458719,"creation_date":1681456511,"question_id":76012482,"body_markdown":"Current state\r\n-------------\r\n\r\nI have a Java SpringBoot api, which at the moment is able to dynamically send an E-Mail with javax.mail.MimeMessage. The credentials are passed as parameters (E-Mail-Address, Password, SMTP-Server, SMTP-Port). When I start the application and send the first E-Mail everything works fine.\r\n\r\nProblem\r\n-------\r\n\r\nHowever when I try to send another E-Mail from a different SMTP-Server, it seems that the E-Mail gets sended from the first SMTP-Server and credentials. In, for example Googlemail, every E-Mail shows the sender as well as the (SMTP-)Server which it&#39;s sended from. While the sended E-Mail-Address displays the new E-Mail-Address, the &quot;Send from&quot; (SMTP-Server) still shows the old SMTP-Server.\r\n\r\nGoal\r\n-----------\r\n\r\nSo what I want, is to be able to send multiple E-Mails from individual SMTP-Servers and E-Mail-Addresses, passed by parameters.\r\n\r\nController\r\n-----------\r\n\r\n```@RestController\r\n@RequestMapping(&quot;/send-email&quot;)\r\npublic class EmailController {\r\n\r\n    public EmailController(){}\r\n\r\n    @PostMapping\r\n    public SentEmail sendEmail(@RequestBody SendEmailInformation sendEmailInformation) {\r\n        EmailService emailService = new EmailService();\r\n        return emailService.sendEmail(sendEmailInformation);\r\n    }\r\n\r\n}\r\n```\r\n\r\nE-Mail-Service\r\n---------------\r\n\r\n```public class EmailService\r\n{\r\n    private Transport transport;\r\n\r\n    public EmailService() {}\r\n\r\n    public void sendEmail(SendEmailInformation sendEmailInformation) {\r\n        try{\r\n            String fromEmail = sendEmailInformation.getEmailAddress();\r\n            String password = sendEmailInformation.getPassword();\r\n            String toEmail = sendEmailInformation.getEmail();\r\n\r\n            Properties props = new Properties();\r\n            props.put(&quot;mail.smtp.host&quot;, sendEmailInformation.getSmtpServer());\r\n            props.put(&quot;mail.smtp.port&quot;, sendEmailInformation.getSmtpPort());\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n            Authenticator auth = new Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(fromEmail, password);\r\n                }\r\n            };\r\n\r\n            Session session = Session.getDefaultInstance(props, auth);\r\n\r\n            MimeMessage msg = new MimeMessage(session);\r\n            msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\r\n            msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\r\n            msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\r\n\r\n            msg.setFrom(new InternetAddress(fromEmail));\r\n            msg.setReplyTo(InternetAddress.parse(sendEmailInformation.getEmail(), false));\r\n            msg.setSubject(sendEmailInformation.getSubject(), &quot;UTF-8&quot;);\r\n            msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmail, false));\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            messageBodyPart.setText(sendEmailInformation.getMessage());\r\n\r\n            Multipart multipart = new MimeMultipart();\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            msg.setContent(multipart);\r\n\r\n            transport = session.getTransport(&quot;smtp&quot;);\r\n            transport.connect();\r\n            transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\r\n            transport.close();\r\n        }catch (Exception e) {\r\n            try {\r\n                transport.close();\r\n            }catch (Exception ignored) {\r\n\r\n            }\r\n            e.printStackTrace();\r\n            throw new CouldNotSendEmailException();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI already tried\r\n---------------\r\n\r\nAt first, I had the Email-Service as a @Bean and figured, that I should try to create a new Object for every call as I do now. So using a @Bean does not work. Also in my understanding, closing the Transport Object with transport.close(); at the end should help my problem, however it didnt&#39;t.\r\n\r\nQuestion\r\n------\r\n\r\nDoes anyone have an idea, what could solve my Problem?\r\n\r\nThanks in advance.\r\n\r\n*Edit*\r\n\r\n## Solution ##\r\n\r\nLooking for my code many days in a row and never saw the mistake, then posting this question and just minutes later having the idea that `Session session = Session.getDefaultInstance(props, auth);` might be the problem... yes it is! This always uses the same Session object, instead of creating a new one.\r\n\r\nFor those who are facing the same problem:\r\nJust use `Session session = Session.getInstance(props, auth);` instead. Hope I could help someone with that.","title":"Solved: How to dynamically send E-Mails from multiple SMTP Servers (Java SpringBoot)","body":"<h2>Current state</h2>\n<p>I have a Java SpringBoot api, which at the moment is able to dynamically send an E-Mail with javax.mail.MimeMessage. The credentials are passed as parameters (E-Mail-Address, Password, SMTP-Server, SMTP-Port). When I start the application and send the first E-Mail everything works fine.</p>\n<h2>Problem</h2>\n<p>However when I try to send another E-Mail from a different SMTP-Server, it seems that the E-Mail gets sended from the first SMTP-Server and credentials. In, for example Googlemail, every E-Mail shows the sender as well as the (SMTP-)Server which it's sended from. While the sended E-Mail-Address displays the new E-Mail-Address, the &quot;Send from&quot; (SMTP-Server) still shows the old SMTP-Server.</p>\n<h2>Goal</h2>\n<p>So what I want, is to be able to send multiple E-Mails from individual SMTP-Servers and E-Mail-Addresses, passed by parameters.</p>\n<h2>Controller</h2>\n<pre><code>@RequestMapping(&quot;/send-email&quot;)\npublic class EmailController {\n\n    public EmailController(){}\n\n    @PostMapping\n    public SentEmail sendEmail(@RequestBody SendEmailInformation sendEmailInformation) {\n        EmailService emailService = new EmailService();\n        return emailService.sendEmail(sendEmailInformation);\n    }\n\n}\n</code></pre>\n<h2>E-Mail-Service</h2>\n<pre><code>{\n    private Transport transport;\n\n    public EmailService() {}\n\n    public void sendEmail(SendEmailInformation sendEmailInformation) {\n        try{\n            String fromEmail = sendEmailInformation.getEmailAddress();\n            String password = sendEmailInformation.getPassword();\n            String toEmail = sendEmailInformation.getEmail();\n\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.host&quot;, sendEmailInformation.getSmtpServer());\n            props.put(&quot;mail.smtp.port&quot;, sendEmailInformation.getSmtpPort());\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n            Authenticator auth = new Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(fromEmail, password);\n                }\n            };\n\n            Session session = Session.getDefaultInstance(props, auth);\n\n            MimeMessage msg = new MimeMessage(session);\n            msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\n            msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\n            msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\n\n            msg.setFrom(new InternetAddress(fromEmail));\n            msg.setReplyTo(InternetAddress.parse(sendEmailInformation.getEmail(), false));\n            msg.setSubject(sendEmailInformation.getSubject(), &quot;UTF-8&quot;);\n            msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmail, false));\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            messageBodyPart.setText(sendEmailInformation.getMessage());\n\n            Multipart multipart = new MimeMultipart();\n            multipart.addBodyPart(messageBodyPart);\n\n            msg.setContent(multipart);\n\n            transport = session.getTransport(&quot;smtp&quot;);\n            transport.connect();\n            transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\n            transport.close();\n        }catch (Exception e) {\n            try {\n                transport.close();\n            }catch (Exception ignored) {\n\n            }\n            e.printStackTrace();\n            throw new CouldNotSendEmailException();\n        }\n    }\n}\n</code></pre>\n<h2>I already tried</h2>\n<p>At first, I had the Email-Service as a @Bean and figured, that I should try to create a new Object for every call as I do now. So using a @Bean does not work. Also in my understanding, closing the Transport Object with transport.close(); at the end should help my problem, however it didnt't.</p>\n<h2>Question</h2>\n<p>Does anyone have an idea, what could solve my Problem?</p>\n<p>Thanks in advance.</p>\n<p><em>Edit</em></p>\n<h2>Solution</h2>\n<p>Looking for my code many days in a row and never saw the mistake, then posting this question and just minutes later having the idea that <code>Session session = Session.getDefaultInstance(props, auth);</code> might be the problem... yes it is! This always uses the same Session object, instead of creating a new one.</p>\n<p>For those who are facing the same problem:\nJust use <code>Session session = Session.getInstance(props, auth);</code> instead. Hope I could help someone with that.</p>\n"},{"tags":["javascript","java","postgis","open-source","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1681474193,"post_id":76012724,"comment_id":134066194,"body_markdown":"Is your server headless? Are you running java 17 with our reading the GeoServer release notes?","body":"Is your server headless? Are you running java 17 with our reading the GeoServer release notes?"},{"owner":{"account_id":15621045,"reputation":11,"user_id":11527895,"display_name":"Samith"},"score":0,"creation_date":1681521112,"post_id":76012724,"comment_id":134074763,"body_markdown":"Yes, i have installed JAVAjdk_x64_windows_hotspot_17.0.6_10.","body":"Yes, i have installed JAVAjdk_x64_windows_hotspot_17.0.6_10."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1681553832,"post_id":76012724,"comment_id":134077384,"body_markdown":"https://docs.geoserver.org/latest/en/user/production/java.html#running-on-java-17","body":"<a href=\"https://docs.geoserver.org/latest/en/user/production/java.html#running-on-java-17\" rel=\"nofollow noreferrer\">docs.geoserver.org/latest/en/user/production/&hellip;</a>"}],"owner":{"account_id":15621045,"reputation":11,"user_id":11527895,"display_name":"Samith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681458579,"creation_date":1681458579,"question_id":76012724,"body_markdown":"I wanted to visualize my shp file in the GeoServer. But it gives this error. Could you please tell me how i can solve this issue?\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U7YoC.png","title":"Data is not visualizing in the GeoServer","body":"<p>I wanted to visualize my shp file in the GeoServer. But it gives this error. Could you please tell me how i can solve this issue?\n<a href=\"https://i.stack.imgur.com/U7YoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7YoC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","pdf","math","coordinates"],"comments":[{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1681458634,"post_id":63823704,"comment_id":134062619,"body_markdown":"Hi, did you solve this question :) ? Can you give us your code","body":"Hi, did you solve this question :) ? Can you give us your code"}],"owner":{"account_id":16713432,"reputation":31,"user_id":12080160,"display_name":"Devarsh Mavani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681458566,"creation_date":1599717999,"question_id":63823704,"body_markdown":"I want to add an electronic signature to a pdf. i am using signature pad library for capturing signature and sticker view for moving, scaling and rotating image [StickerView][1].\r\nI am rendering the PDF in android using [PDFView][2] library to render PDF.\r\n\r\ni am using PDFbox by tomroush to manipulate pdf in android. i want to add image of signature to the pdf. but there is problem in mapping android view coordinates to pdf box coordinates. i am attaching code for what i have tried\r\n\r\n                //loading pdf\r\n            pdfView.fromUri(pdf_location).enableSwipe(true).defaultPage(0).onPageError(new OnPageErrorListener() {\r\n                @Override\r\n                public void onPageError(int page, Throwable t) {\r\n                    t.printStackTrace();\r\n                }\r\n            }).load();\r\n\r\nLoading PDF in PDDOcumnet code\r\n\r\n                                //loading document in PDF box PDDocument object\r\n                            PDDocument document = PDDocument.load(getContentResolver().openInputStream(pdf_location));\r\n                            PDPage currentPage = document.getPage(pdfView.getCurrentPage());\r\n                            PDImageXObject image = PDImageXObject.createFromFile(fName, document);\r\n                            PDPageContentStream contentStream = new PDPageContentStream(document,  currentPage, true, false);\r\n\r\n\r\nCalculating Width and height of image (scaling image)\r\n\r\n                              \r\n                                float width = iv_sticker.getImageDrawable().getIntrinsicWidth() * (( 72.0f / getResources().getDisplayMetrics().densityDpi));\r\n                            float height = iv_sticker.getImageDrawable().getIntrinsicHeight()  * ((72.0f / getResources().getDisplayMetrics().densityDpi));\r\n\r\n\r\nDrawing image on pdf\r\n\r\n                                contentStream.drawImage(image,iv_sticker.getX() * (currentPage.getMediaBox().getWidth() / pdfView.getOptimalPageWidth()), (currentPage.getMediaBox().getWidth() - (iv_sticker.getY() * (currentPage.getMediaBox().getHeight() / pdfView.getOptimalPageHeight()))) - (height), width, height);\r\n\r\n\r\nIn the last code snippet i am finding the ratio of pdf view width and PDPage Width and then multiplying it to the image X coordinate to find corresponding X coordinate on pdf. And Doing same for y coordinate .The only difference with Y coordinate mapping is that i am subtracting the y coordinate from PDF Page Height because PDF coordinate starts from Bottom Left and then subtracting the image height so that image does not go outside of page. But the output is not perfect i am attaching screenshots.\r\n\r\n\r\n[Image Of My App][3]\r\n\r\n[Image Of PDF after running the above code after adding signature][4]\r\n\r\n\r\n  [1]: https://github.com/kencheung4/android-StickerView\r\n  [2]: https://github.com/barteksc/AndroidPdfViewer\r\n  [3]: https://i.stack.imgur.com/ssu18.png\r\n  [4]: https://i.stack.imgur.com/5arLQ.png","title":"how to convert android imageview coordinate to PDFView coordinate for adding electronic signature in PDF box library?","body":"<p>I want to add an electronic signature to a pdf. i am using signature pad library for capturing signature and sticker view for moving, scaling and rotating image <a href=\"https://github.com/kencheung4/android-StickerView\" rel=\"nofollow noreferrer\">StickerView</a>.\nI am rendering the PDF in android using <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">PDFView</a> library to render PDF.</p>\n<p>i am using PDFbox by tomroush to manipulate pdf in android. i want to add image of signature to the pdf. but there is problem in mapping android view coordinates to pdf box coordinates. i am attaching code for what i have tried</p>\n<pre><code>            //loading pdf\n        pdfView.fromUri(pdf_location).enableSwipe(true).defaultPage(0).onPageError(new OnPageErrorListener() {\n            @Override\n            public void onPageError(int page, Throwable t) {\n                t.printStackTrace();\n            }\n        }).load();\n</code></pre>\n<p>Loading PDF in PDDOcumnet code</p>\n<pre><code>                            //loading document in PDF box PDDocument object\n                        PDDocument document = PDDocument.load(getContentResolver().openInputStream(pdf_location));\n                        PDPage currentPage = document.getPage(pdfView.getCurrentPage());\n                        PDImageXObject image = PDImageXObject.createFromFile(fName, document);\n                        PDPageContentStream contentStream = new PDPageContentStream(document,  currentPage, true, false);\n</code></pre>\n<p>Calculating Width and height of image (scaling image)</p>\n<pre><code>                            float width = iv_sticker.getImageDrawable().getIntrinsicWidth() * (( 72.0f / getResources().getDisplayMetrics().densityDpi));\n                        float height = iv_sticker.getImageDrawable().getIntrinsicHeight()  * ((72.0f / getResources().getDisplayMetrics().densityDpi));\n</code></pre>\n<p>Drawing image on pdf</p>\n<pre><code>                            contentStream.drawImage(image,iv_sticker.getX() * (currentPage.getMediaBox().getWidth() / pdfView.getOptimalPageWidth()), (currentPage.getMediaBox().getWidth() - (iv_sticker.getY() * (currentPage.getMediaBox().getHeight() / pdfView.getOptimalPageHeight()))) - (height), width, height);\n</code></pre>\n<p>In the last code snippet i am finding the ratio of pdf view width and PDPage Width and then multiplying it to the image X coordinate to find corresponding X coordinate on pdf. And Doing same for y coordinate .The only difference with Y coordinate mapping is that i am subtracting the y coordinate from PDF Page Height because PDF coordinate starts from Bottom Left and then subtracting the image height so that image does not go outside of page. But the output is not perfect i am attaching screenshots.</p>\n<p><a href=\"https://i.stack.imgur.com/ssu18.png\" rel=\"nofollow noreferrer\">Image Of My App</a></p>\n<p><a href=\"https://i.stack.imgur.com/5arLQ.png\" rel=\"nofollow noreferrer\">Image Of PDF after running the above code after adding signature</a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681457297,"post_id":76012208,"comment_id":134062297,"body_markdown":"Method binding is done at *compile* time, not *runtime*. Basically, you can&#39;t do what you want to do here. Your only choice is to name the private methods differently and use reflection to discover the type of the criteria value and invoke the appropriate method.","body":"Method binding is done at <i>compile</i> time, not <i>runtime</i>. Basically, you can&#39;t do what you want to do here. Your only choice is to name the private methods differently and use reflection to discover the type of the criteria value and invoke the appropriate method."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681457937,"creation_date":1681457937,"answer_id":76012650,"question_id":76012208,"body_markdown":"You are implementing `implements Specification&lt;SomeObject&gt;` and overriding the method `toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder)`. \r\n\r\nAs a result, the `root` parameter will always have the type `Root&lt;SomeObject&gt;`. therefore you&#39;ll always call the first method that has the `Root&lt;SomeObject&gt;` parameter and you&#39;ll never call the one with `Root&lt;OrderSummaryView&gt;`. \r\n\r\nWhen you have multiple methods with the same name, but different arguments - this is called &quot;overloading&quot; and the correct method is chosen based the parameters, not on the return type.","title":"Call method by argument type","body":"<p>You are implementing <code>implements Specification&lt;SomeObject&gt;</code> and overriding the method <code>toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder)</code>.</p>\n<p>As a result, the <code>root</code> parameter will always have the type <code>Root&lt;SomeObject&gt;</code>. therefore you'll always call the first method that has the <code>Root&lt;SomeObject&gt;</code> parameter and you'll never call the one with <code>Root&lt;OrderSummaryView&gt;</code>.</p>\n<p>When you have multiple methods with the same name, but different arguments - this is called &quot;overloading&quot; and the correct method is chosen based the parameters, not on the return type.</p>\n"}],"owner":{"account_id":8302793,"reputation":131,"user_id":6240924,"accept_rate":64,"display_name":"Fangir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681457937,"creation_date":1681454190,"question_id":76012208,"body_markdown":"I&#39;m trying to generify part of JPA Specification.\r\n\r\nThis what I have:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class SomeObjectSpecification implements Specification&lt;SomeObject&gt; {\r\n\r\n    private final SearchCriteria criteria;\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n        switch (criteria.getOperation()) {\r\n            case &quot;:&quot;:\r\n                return getLikePredicate(root, criteriaBuilder, criteria.getValue());\r\n    ...\r\n    }\r\n\r\n    private &lt;T extends Temporal&gt;Predicate getLikePredicate(\r\n            Root&lt;SomeObject&gt; root,\r\n            CriteriaBuilder criteriaBuilder,\r\n            T value) {\r\n    ...\r\n    }\r\n\r\n    private &lt;T extends CharSequence&gt; Predicate getLikePredicate(\r\n            Root&lt;OrderSummaryView&gt; root,\r\n            CriteriaBuilder criteriaBuilder,\r\n            T value) {\r\n    ...\r\n    }   \r\n}\r\n```\r\n\r\nAnd SearchCriteria:\r\n```\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor(force = true)\r\npublic class SearchCriteria {\r\n    private String key;\r\n    private String operation;\r\n    private Comparable value;\r\n}\r\n```\r\n\r\nI would like to enter first ```getLikePredicate``` whenever ```LocalDateTime``` is passed, and enter second one, while I have ```String``` in hand.\r\n\r\nNo matter how I try, I can call only second method, no idea how to enter first one, when I have ```LocalDateTime``` in ```SearchCriteria.value```\r\n\r\n","title":"Call method by argument type","body":"<p>I'm trying to generify part of JPA Specification.</p>\n<p>This what I have:</p>\n<pre><code>@RequiredArgsConstructor\npublic class SomeObjectSpecification implements Specification&lt;SomeObject&gt; {\n\n    private final SearchCriteria criteria;\n\n    @Override\n    public Predicate toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n        switch (criteria.getOperation()) {\n            case &quot;:&quot;:\n                return getLikePredicate(root, criteriaBuilder, criteria.getValue());\n    ...\n    }\n\n    private &lt;T extends Temporal&gt;Predicate getLikePredicate(\n            Root&lt;SomeObject&gt; root,\n            CriteriaBuilder criteriaBuilder,\n            T value) {\n    ...\n    }\n\n    private &lt;T extends CharSequence&gt; Predicate getLikePredicate(\n            Root&lt;OrderSummaryView&gt; root,\n            CriteriaBuilder criteriaBuilder,\n            T value) {\n    ...\n    }   \n}\n</code></pre>\n<p>And SearchCriteria:</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor(force = true)\npublic class SearchCriteria {\n    private String key;\n    private String operation;\n    private Comparable value;\n}\n</code></pre>\n<p>I would like to enter first <code>getLikePredicate</code> whenever <code>LocalDateTime</code> is passed, and enter second one, while I have <code>String</code> in hand.</p>\n<p>No matter how I try, I can call only second method, no idea how to enter first one, when I have <code>LocalDateTime</code> in <code>SearchCriteria.value</code></p>\n"},{"tags":["java","logging","log4j2","flume","flume-ng"],"comments":[{"owner":{"account_id":1027251,"reputation":331,"user_id":1036296,"accept_rate":57,"display_name":"atarno"},"score":0,"creation_date":1418289468,"post_id":27361052,"comment_id":43281341,"body_markdown":"ok, the problem is that log4j2-flume appender doesn&#39;t work while packed in a fatjar (errors are shown above). in a standard multi-jar classpath aware environment all works fine. any thoughts on how to solve this for fatjars?","body":"ok, the problem is that log4j2-flume appender doesn&#39;t work while packed in a fatjar (errors are shown above). in a standard multi-jar classpath aware environment all works fine. any thoughts on how to solve this for fatjars?"},{"owner":{"account_id":1096728,"reputation":499,"user_id":1090173,"accept_rate":78,"display_name":"Quintium"},"score":0,"creation_date":1449855551,"post_id":27361052,"comment_id":56202654,"body_markdown":"Anyone found a solution to this?","body":"Anyone found a solution to this?"},{"owner":{"account_id":1027251,"reputation":331,"user_id":1036296,"accept_rate":57,"display_name":"atarno"},"score":1,"creation_date":1449880087,"post_id":27361052,"comment_id":56213295,"body_markdown":"nope, we moved to work with a main jar and lib of jars instead of a fat jar in that project.","body":"nope, we moved to work with a main jar and lib of jars instead of a fat jar in that project."}],"answers":[{"tags":[],"owner":{"account_id":2502066,"reputation":96,"user_id":2176893,"display_name":"frett27"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1458084429,"creation_date":1458084429,"answer_id":36024178,"question_id":27361052,"body_markdown":"in fatJar, dependencies can provide a log4j-provider.properties in the META-INF that cause this issue, \r\n\r\nremove it in the gradle task :\r\n\r\n\r\n    task fatJar(type: Jar) {\r\n    \tmanifest {\r\n    \t\tattributes &#39;Implementation-Title&#39;: &#39;project&#39;,\r\n    \t\t&#39;Implementation-Version&#39;: project.version,\r\n    \t\t&#39;Main-Class&#39;: &#39;com.sample.CLI&#39;\r\n    \t}\r\n    \tbaseName = project.name + &#39;-all&#39;\r\n    \tfrom {\r\n    \t\tconfigurations.compile.collect {\r\n    \t\t\tit.isDirectory() ? it : zipTree(it).matching {\r\n    \t\t\t\texclude &#39;META-INF/**.RSA&#39;\r\n    \t\t\t\texclude &#39;META-INF/MANIFEST.MF&#39;\r\n    \t\t\t\texclude &#39;META-INF/log4j-provider.properties&#39;\r\n    \t\t\t} } }\r\n    \twith jar\r\n    }","title":"failing to load log4j2 while running fatjar","body":"<p>in fatJar, dependencies can provide a log4j-provider.properties in the META-INF that cause this issue, </p>\n\n<p>remove it in the gradle task :</p>\n\n<pre><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'project',\n        'Implementation-Version': project.version,\n        'Main-Class': 'com.sample.CLI'\n    }\n    baseName = project.name + '-all'\n    from {\n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it).matching {\n                exclude 'META-INF/**.RSA'\n                exclude 'META-INF/MANIFEST.MF'\n                exclude 'META-INF/log4j-provider.properties'\n            } } }\n    with jar\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":0,"creation_date":1681457930,"post_id":36469245,"comment_id":134062443,"body_markdown":"To avoid using 3rd party plugins, I just used `IncludeResourceTransformer` to copy the right version of `Log4jPlugins.dat`. See https://stackoverflow.com/a/76003471/1121497","body":"To avoid using 3rd party plugins, I just used <code>IncludeResourceTransformer</code> to copy the right version of <code>Log4jPlugins.dat</code>. See <a href=\"https://stackoverflow.com/a/76003471/1121497\">stackoverflow.com/a/76003471/1121497</a>"}],"tags":[],"owner":{"account_id":4112953,"reputation":2266,"user_id":3375325,"accept_rate":71,"display_name":"jansohn"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1460013451,"creation_date":1460013451,"answer_id":36469245,"question_id":27361052,"body_markdown":"The problem is described here: https://issues.apache.org/jira/browse/LOG4J2-673\r\n\r\nUnfortunately at the moment there only seems to be a solution for the maven-shade-plugin: https://github.com/edwgiz/maven-shaded-log4j-transformer\r\n\r\n    &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;finalName&gt;${project.artifactId}${appSuffix}&lt;/finalName&gt;\r\n                            &lt;transformers&gt;\r\n    ...\r\n                                &lt;transformer\r\n                                        implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n    ...\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"failing to load log4j2 while running fatjar","body":"<p>The problem is described here: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-673\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-673</a></p>\n\n<p>Unfortunately at the moment there only seems to be a solution for the maven-shade-plugin: <a href=\"https://github.com/edwgiz/maven-shaded-log4j-transformer\" rel=\"noreferrer\">https://github.com/edwgiz/maven-shaded-log4j-transformer</a></p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;finalName&gt;${project.artifactId}${appSuffix}&lt;/finalName&gt;\n                        &lt;transformers&gt;\n...\n                            &lt;transformer\n                                    implementation=\"com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer\"&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n...\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n                    &lt;version&gt;2.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5552308,"reputation":449,"user_id":4404932,"accept_rate":75,"display_name":"phantomastray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490087641,"creation_date":1490087641,"answer_id":42922674,"question_id":27361052,"body_markdown":"The `LoggerContextFactory` binds the Log4j API to its implementation. The Log4j LogManager locates a LoggerContextFactory by locating all instances of `META-INF/log4j-provider.properties`, a standard `java.util.Properties` file, and then inspecting each to verify that it specifies a value for the Log4jAPIVersion property that conforms to the version required by the LogManager.\r\n\r\nIncase of fat jar, you can also explicitly specify log4j2 to use `LoggerContextFactory` in your application by:\r\n\r\n\tSystem.setProperty(&quot;log4j2.loggerContextFactory&quot;, &quot;org.apache.logging.log4j.core.impl.Log4jContextFactory&quot;)\r\n\r\nor as specified in the `log4j-provider.properties` file included in your `log4j-core` jar.","title":"failing to load log4j2 while running fatjar","body":"<p>The <code>LoggerContextFactory</code> binds the Log4j API to its implementation. The Log4j LogManager locates a LoggerContextFactory by locating all instances of <code>META-INF/log4j-provider.properties</code>, a standard <code>java.util.Properties</code> file, and then inspecting each to verify that it specifies a value for the Log4jAPIVersion property that conforms to the version required by the LogManager.</p>\n\n<p>Incase of fat jar, you can also explicitly specify log4j2 to use <code>LoggerContextFactory</code> in your application by:</p>\n\n<pre><code>System.setProperty(\"log4j2.loggerContextFactory\", \"org.apache.logging.log4j.core.impl.Log4jContextFactory\")\n</code></pre>\n\n<p>or as specified in the <code>log4j-provider.properties</code> file included in your <code>log4j-core</code> jar.</p>\n"},{"tags":[],"owner":{"account_id":3806261,"reputation":306,"user_id":3158614,"display_name":"Ergin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514415298,"creation_date":1514415298,"answer_id":47999564,"question_id":27361052,"body_markdown":"When you run your application from an IDE, jar runs itself without embedding the dependencies and you don&#39;t have conflict of log settings. But when you convert the application into a fat jar then all the dependencies will be injected into your project&#39;s jar file and your log4j settings that come from external jar files (dependencies) may be conflicted while fatJar process merge them into a single artifact.\r\n\r\nIn this case i think your &quot;Log4j2Plugins.dat&quot; files may be conflicted. To be sure, you can open your fatJar file with a zip editor (ex: 7Zip), navigate to path in fatJar as below and delete one of the conflicted files (you can choose smallest one by size) from your fatJar. Run the fatJar and check the logging is working properly.\r\n\r\n&gt; \\META-INF\\org\\apache\\logging\\log4j\\core\\config\\plugins\\Log4j2Plugins.dat\r\n\r\nNow we can check the dependencies (artifacts) and find which of them contain the &quot;Log4j2Plugins.dat&quot; files. So you can exclude the modules that have the file from your build tool and then your fatJar creation process will exclude the conflicted files and your new fatJar can start logging as expected.\r\n\r\nIn my case, my fatJar module imports some other modules from Spring Boot and when i exclude the conflicted logging libraries, my fatJar starts logging without any error.\r\n\r\n`configurations {\r\n    all*.exclude module: &#39;spring-boot&#39;\r\n    all*.exclude module: &#39;spring-boot-starter-logging&#39;\r\n    all*.exclude module: &#39;logback-classic&#39;\r\n    all*.exclude module: &#39;commons-logging&#39;\r\n}`","title":"failing to load log4j2 while running fatjar","body":"<p>When you run your application from an IDE, jar runs itself without embedding the dependencies and you don't have conflict of log settings. But when you convert the application into a fat jar then all the dependencies will be injected into your project's jar file and your log4j settings that come from external jar files (dependencies) may be conflicted while fatJar process merge them into a single artifact.</p>\n\n<p>In this case i think your \"Log4j2Plugins.dat\" files may be conflicted. To be sure, you can open your fatJar file with a zip editor (ex: 7Zip), navigate to path in fatJar as below and delete one of the conflicted files (you can choose smallest one by size) from your fatJar. Run the fatJar and check the logging is working properly.</p>\n\n<blockquote>\n  <p>\\META-INF\\org\\apache\\logging\\log4j\\core\\config\\plugins\\Log4j2Plugins.dat</p>\n</blockquote>\n\n<p>Now we can check the dependencies (artifacts) and find which of them contain the \"Log4j2Plugins.dat\" files. So you can exclude the modules that have the file from your build tool and then your fatJar creation process will exclude the conflicted files and your new fatJar can start logging as expected.</p>\n\n<p>In my case, my fatJar module imports some other modules from Spring Boot and when i exclude the conflicted logging libraries, my fatJar starts logging without any error.</p>\n\n<p><code>configurations {\n    all*.exclude module: 'spring-boot'\n    all*.exclude module: 'spring-boot-starter-logging'\n    all*.exclude module: 'logback-classic'\n    all*.exclude module: 'commons-logging'\n}</code></p>\n"},{"tags":[],"owner":{"account_id":7808591,"reputation":138,"user_id":5905613,"display_name":"linus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595632773,"creation_date":1595632773,"answer_id":63082627,"question_id":27361052,"body_markdown":"Kinda late to this party, but I thought I&#39;d add my situation, in case it helps anyone.\r\n\r\nI build my own fat jar out of a subset of classes and jars from the larger project.  The essential class runs, but I was getting all the &quot;Unrecognized format specifier&quot; and all.  Most of the answers involve mvn shade or other such, so that wasn&#39;t helping me.  But poking around, I learned that log4j-web.jar also includes the Log4jPlugins.dat file, causing the problems.  Removing that from the build, and all is good.  \r\n\r\n(And I thought my build script was so tricky, including all the jars by project name, eg all jars for &quot;log4j.&quot;)","title":"failing to load log4j2 while running fatjar","body":"<p>Kinda late to this party, but I thought I'd add my situation, in case it helps anyone.</p>\n<p>I build my own fat jar out of a subset of classes and jars from the larger project.  The essential class runs, but I was getting all the &quot;Unrecognized format specifier&quot; and all.  Most of the answers involve mvn shade or other such, so that wasn't helping me.  But poking around, I learned that log4j-web.jar also includes the Log4jPlugins.dat file, causing the problems.  Removing that from the build, and all is good.</p>\n<p>(And I thought my build script was so tricky, including all the jars by project name, eg all jars for &quot;log4j.&quot;)</p>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681457827,"creation_date":1681389180,"answer_id":76005490,"question_id":27361052,"body_markdown":"You can exclude `Log4j2Plugins.dat` from other libraries, and keep only the one in `log4j2-core`. For example in `maven-shade-plugin`:\r\n\r\n```xml\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;SOME-ARTIFACT-1&lt;/artifact&gt;\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n&lt;/filter&gt;\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;SOME-ARTIFACT-2&lt;/artifact&gt;\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n&lt;/filter&gt;\r\n&lt;!-- etc --&gt;\r\n```\r\n\r\nAnother option is to copy the right file, like suggested in [another answer here](https://stackoverflow.com/a/36469245/1121497). Although I prefer to rely on official plugins like I did [here](https://stackoverflow.com/a/76003471/1121497).\r\n\r\nThe end goal is to end up with the right version of `Log4j2Plugins.dat`.\r\n","title":"failing to load log4j2 while running fatjar","body":"<p>You can exclude <code>Log4j2Plugins.dat</code> from other libraries, and keep only the one in <code>log4j2-core</code>. For example in <code>maven-shade-plugin</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;artifact&gt;SOME-ARTIFACT-1&lt;/artifact&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/filter&gt;\n&lt;filter&gt;\n    &lt;artifact&gt;SOME-ARTIFACT-2&lt;/artifact&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/filter&gt;\n&lt;!-- etc --&gt;\n</code></pre>\n<p>Another option is to copy the right file, like suggested in <a href=\"https://stackoverflow.com/a/36469245/1121497\">another answer here</a>. Although I prefer to rely on official plugins like I did <a href=\"https://stackoverflow.com/a/76003471/1121497\">here</a>.</p>\n<p>The end goal is to end up with the right version of <code>Log4j2Plugins.dat</code>.</p>\n"}],"owner":{"account_id":1027251,"reputation":331,"user_id":1036296,"accept_rate":57,"display_name":"atarno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12253,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":6,"score":13,"last_activity_date":1681457827,"creation_date":1418051826,"question_id":27361052,"body_markdown":"i am working on a project where i utilize log4j2 logging. \r\nwhile developing in intellij, all works fine and the logging is done as expected. the log4j2.xml is linked through java property passed to jvm on startup via intellij settings.\r\nbut once i try to run a standalone gradle built fat-jar, i&#39;m experiencing the following problems:\r\n\r\n    java -Dlog4j.debug=true -Dlog4j.configurationFile=/home/aaa/log4j2.xml -jar /home/aaa/myjar-SNAPSHOT.jar\r\n\r\nexceptions:  \r\n\r\n    ERROR StatusLogger Unrecognized format specifier [d]\r\n    ERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\r\n    ERROR StatusLogger Unrecognized format specifier [thread]\r\n    ERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\r\n    ...\r\n    ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\r\n\r\ni don&#39;t even understand where those [thread]s come from, since i get the same error even while using a basic simplest config in my log4j2:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;86400&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;console-log&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                    pattern=&quot;%-5p %d{yyyy-MM-dd HH:mm:ss.SSS} ${hostName} %c{1} %msg %throwable{7}%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console-log&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\nany thoughts are welcome. thanks.","title":"failing to load log4j2 while running fatjar","body":"<p>i am working on a project where i utilize log4j2 logging. \nwhile developing in intellij, all works fine and the logging is done as expected. the log4j2.xml is linked through java property passed to jvm on startup via intellij settings.\nbut once i try to run a standalone gradle built fat-jar, i'm experiencing the following problems:</p>\n\n<pre><code>java -Dlog4j.debug=true -Dlog4j.configurationFile=/home/aaa/log4j2.xml -jar /home/aaa/myjar-SNAPSHOT.jar\n</code></pre>\n\n<p>exceptions:  </p>\n\n<pre><code>ERROR StatusLogger Unrecognized format specifier [d]\nERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [thread]\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\n...\nERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\n</code></pre>\n\n<p>i don't even understand where those [thread]s come from, since i get the same error even while using a basic simplest config in my log4j2:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;&lt;Configuration status=\"WARN\" monitorInterval=\"86400\"&gt;\n&lt;Appenders&gt;\n    &lt;Console name=\"console-log\" target=\"SYSTEM_OUT\"&gt;\n        &lt;PatternLayout\n                pattern=\"%-5p %d{yyyy-MM-dd HH:mm:ss.SSS} ${hostName} %c{1} %msg %throwable{7}%n\"/&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=\"info\" additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"console-log\"/&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p></p>\n\n<p>any thoughts are welcome. thanks.</p>\n"},{"tags":["java","xml","xslt","saxon","xml-generation"],"answers":[{"comments":[{"owner":{"account_id":23236549,"reputation":3,"user_id":17326490,"display_name":"Thong Nguyen"},"score":0,"creation_date":1681702638,"post_id":76012613,"comment_id":134093638,"body_markdown":"Do you mean change the prefix docgen in xml file to * ?","body":"Do you mean change the prefix docgen in xml file to * ?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1681710126,"post_id":76012613,"comment_id":134094374,"body_markdown":"No, in the XSLT code, not in the XML file.","body":"No, in the XSLT code, not in the XML file."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681457653,"creation_date":1681457653,"answer_id":76012613,"question_id":76011300,"body_markdown":"Using versioned namespaces in generally considered a bad idea, for this very reason. XSLT is designed on the assumption that you know statically what namespace the source elements will be in. If this isn&#39;t the case, you need to using paths `like *:xxxx` in place of `docgen:xxxx`.","title":"How to make saxon transformer backward compitable?","body":"<p>Using versioned namespaces in generally considered a bad idea, for this very reason. XSLT is designed on the assumption that you know statically what namespace the source elements will be in. If this isn't the case, you need to using paths <code>like *:xxxx</code> in place of <code>docgen:xxxx</code>.</p>\n"}],"owner":{"account_id":23236549,"reputation":3,"user_id":17326490,"display_name":"Thong Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012613,"answer_count":1,"score":0,"last_activity_date":1681457653,"creation_date":1681441349,"question_id":76011300,"body_markdown":"I have a file documentA4.xsl below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\r\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\r\n  xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\r\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;&gt;\r\n...\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nAnd docGen.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;domainCommand xmlns=&quot;*/uri/xmlns/*/1/4&quot;&gt;\r\n\t\r\n\t&lt;command&gt;\r\n\t\t&lt;docgen:generateDocument xmlns:docgen=&quot;*/documentGeneration/1/3&quot; version=&quot;1.3.0&quot;&gt;\r\n\t\t\t&lt;docgen:documentId&gt;850e8400-e29b-11d4-a716-446655440479&lt;/docgen:documentId&gt;\r\n\t\t\t&lt;docgen:templateDomain&gt;naturalization&lt;/docgen:templateDomain&gt;\r\n                        &lt;docgen:templateName&gt;declarationOfRegisteredPartnership.xsl&lt;/docgen:templateName&gt;           \t\t\t\r\n\t\t\t&lt;docgen:emitTemplateApplied&gt;true&lt;/docgen:emitTemplateApplied&gt;\r\n\t\t\t&lt;docgen:attachmentDomain&gt;naturalization&lt;/docgen:attachmentDomain&gt;\r\n\t\t\t&lt;docgen:attachmentClass&gt;signatureSheets&lt;/docgen:attachmentClass&gt;\r\n\t&lt;/command&gt;\r\n&lt;/domainCommand&gt;\r\n```\r\n\r\nWhen I use Saxon library(Saxon-HE:10.5) to transform XSLT:\r\n\r\n```\r\nvar processor = new Processor(false);\r\nvar compiler = processor.newXsltCompiler();\r\nvar xsl = compiler.compile(new StreamSource(new File(pathTemplate.toUri())));\r\nvar out = processor.newSerializer();\r\nout.setOutputProperty(Serializer.Property.METHOD, &quot;xml&quot;);\r\nout.setOutputProperty(Serializer.Property.INDENT, &quot;yes&quot;);\r\nout.setOutputFile(new File(fileNameFormattedOutput));\r\nXslt30Transformer transformer = xsl.load30();\r\ntransformer.transform(new StreamSource(new File(fileNameDomainCommandPath)), out);\r\n```\r\n\r\nAnd my formatted.xml has something wrong:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;850e8400-e29b-11d4-a716-446655440479naturalizationdeclarationOfRegisteredPartnership.xsltruenaturalizationsignatureSheets\r\n&lt;fo:root xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\r\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;\r\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\r\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\r\n  xml:lang=&quot;de&quot;&gt;\r\n```\r\n\r\nIf I change &quot;xmlns:docgen=&quot;\\*/documentGeneration/1/2&quot; to &quot;\\*/documentGeneration/1/3&quot; in  documentA4.xsl file the transformation work well\r\n\r\nIs there a configuration for the Saxon library to not care about the version of xmlns:docgen=&quot;*/documentGeneration/X/X&quot;?","title":"How to make saxon transformer backward compitable?","body":"<p>I have a file documentA4.xsl below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot;\n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\n  xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;&gt;\n...\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>And docGen.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;domainCommand xmlns=&quot;*/uri/xmlns/*/1/4&quot;&gt;\n    \n    &lt;command&gt;\n        &lt;docgen:generateDocument xmlns:docgen=&quot;*/documentGeneration/1/3&quot; version=&quot;1.3.0&quot;&gt;\n            &lt;docgen:documentId&gt;850e8400-e29b-11d4-a716-446655440479&lt;/docgen:documentId&gt;\n            &lt;docgen:templateDomain&gt;naturalization&lt;/docgen:templateDomain&gt;\n                        &lt;docgen:templateName&gt;declarationOfRegisteredPartnership.xsl&lt;/docgen:templateName&gt;                       \n            &lt;docgen:emitTemplateApplied&gt;true&lt;/docgen:emitTemplateApplied&gt;\n            &lt;docgen:attachmentDomain&gt;naturalization&lt;/docgen:attachmentDomain&gt;\n            &lt;docgen:attachmentClass&gt;signatureSheets&lt;/docgen:attachmentClass&gt;\n    &lt;/command&gt;\n&lt;/domainCommand&gt;\n</code></pre>\n<p>When I use Saxon library(Saxon-HE:10.5) to transform XSLT:</p>\n<pre><code>var processor = new Processor(false);\nvar compiler = processor.newXsltCompiler();\nvar xsl = compiler.compile(new StreamSource(new File(pathTemplate.toUri())));\nvar out = processor.newSerializer();\nout.setOutputProperty(Serializer.Property.METHOD, &quot;xml&quot;);\nout.setOutputProperty(Serializer.Property.INDENT, &quot;yes&quot;);\nout.setOutputFile(new File(fileNameFormattedOutput));\nXslt30Transformer transformer = xsl.load30();\ntransformer.transform(new StreamSource(new File(fileNameDomainCommandPath)), out);\n</code></pre>\n<p>And my formatted.xml has something wrong:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;850e8400-e29b-11d4-a716-446655440479naturalizationdeclarationOfRegisteredPartnership.xsltruenaturalizationsignatureSheets\n&lt;fo:root xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\n  xml:lang=&quot;de&quot;&gt;\n</code></pre>\n<p>If I change &quot;xmlns:docgen=&quot;*/documentGeneration/1/2&quot; to &quot;*/documentGeneration/1/3&quot; in  documentA4.xsl file the transformation work well</p>\n<p>Is there a configuration for the Saxon library to not care about the version of xmlns:docgen=&quot;*/documentGeneration/X/X&quot;?</p>\n"},{"tags":["java","spring-boot","single-sign-on","cas"],"comments":[{"owner":{"account_id":22678452,"reputation":13,"user_id":16849099,"display_name":"quocanhcute"},"score":0,"creation_date":1681286270,"post_id":75993160,"comment_id":134030277,"body_markdown":"I using cas-server-overlay 6.1","body":"I using cas-server-overlay 6.1"}],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681457558,"creation_date":1681457558,"answer_id":76012600,"question_id":75993160,"body_markdown":"The CAS server internally uses a state machine called the &quot;webflow&quot;.\r\n\r\nGiven the `java.lang.IllegalArgumentException: Null input buffer` on the `org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution`, I guess that the &quot;execution&quot; parameter in the login form is missing and thus is not posted when you submit your credentials. Can you check that?","title":"Authentication attempt has failed when login Cas-server","body":"<p>The CAS server internally uses a state machine called the &quot;webflow&quot;.</p>\n<p>Given the <code>java.lang.IllegalArgumentException: Null input buffer</code> on the <code>org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution</code>, I guess that the &quot;execution&quot; parameter in the login form is missing and thus is not posted when you submit your credentials. Can you check that?</p>\n"}],"owner":{"account_id":22678452,"reputation":13,"user_id":16849099,"display_name":"quocanhcute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681457558,"creation_date":1681286149,"question_id":75993160,"body_markdown":"I am using the documentation from the website https://www.baeldung.com/spring-security-cas-sso#cas-server-setup-user-config to set up Cas-server for my Spring Boot application. However, when I reached step 2.3, CAS Server User Configuration to configure the Cas server account for logging in, I encountered the following error like &quot;Authentication attempt has failed&quot;. And the error message displayed on the command line is as follows:\r\n```\r\n2023-04-12 14:32:56,896 ERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - &lt;Null input buffer&gt;\r\njava.lang.IllegalArgumentException: Null input buffer\r\n        at javax.crypto.Cipher.doFinal(Cipher.java:2198) ~[?:?]\r\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:92) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:33) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.util.crypto.CipherExecutor.decode(CipherExecutor.java:105) ~[cas-server-core-api-util-6.1.7.2.jar!/:6.1.7.2]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at com.sun.proxy.$Proxy173.decode(Unknown Source) ~[?:?]\r\n        at org.apereo.cas.web.flow.executor.WebflowCipherBean.decrypt(WebflowCipherBean.java:35) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.web.flow.executor.EncryptedTranscoder.decode(EncryptedTranscoder.java:103) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution(ClientFlowExecutionRepository.java:75) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:167) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at com.sun.proxy.$Proxy210.resumeExecution(Unknown Source) ~[?:?]\r\n        at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.AuthenticationCredentialsThreadLocalBinderClearingFilter.doFilter(AuthenticationCredentialsThreadLocalBinderClearingFilter.java:28) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.filters.RequestParameterPolicyEnforcementFilter.doFilter(RequestParameterPolicyEnforcementFilter.java:411) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.filters.ResponseHeadersEnforcementFilter.doFilter(ResponseHeadersEnforcementFilter.java:216) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.filters.AddResponseHeadersFilter.doFilter(AddResponseHeadersFilter.java:67) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:157) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.logging.web.ThreadContextMDCServletFilter.doFilter(ThreadContextMDCServletFilter.java:99) ~[cas-server-core-logging-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:66) ~[inspektr-common-1.8.6.GA.jar!/:1.8.6.GA]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\n2023-04-12 14:32:57,089 INFO [org.apereo.inspektr.audit.support.Slf4jLoggingAuditTrailManager] - &lt;Audit trail record BEGIN\r\n```\r\nI configured the cas.properties file in the directory E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config so\r\nI use the following command to run the Cas server: \r\n```\r\ngradlew run -Dorg.gradle.java.home=%JAVA_HOME% -Pargs=&quot;-Dcas.standalone.configuration.directory=E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config&quot;\r\n```\r\nWhat did I do wrong or need to fix? Can anyone help me?\r\n","title":"Authentication attempt has failed when login Cas-server","body":"<p>I am using the documentation from the website <a href=\"https://www.baeldung.com/spring-security-cas-sso#cas-server-setup-user-config\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-cas-sso#cas-server-setup-user-config</a> to set up Cas-server for my Spring Boot application. However, when I reached step 2.3, CAS Server User Configuration to configure the Cas server account for logging in, I encountered the following error like &quot;Authentication attempt has failed&quot;. And the error message displayed on the command line is as follows:</p>\n<pre><code>2023-04-12 14:32:56,896 ERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - &lt;Null input buffer&gt;\njava.lang.IllegalArgumentException: Null input buffer\n        at javax.crypto.Cipher.doFinal(Cipher.java:2198) ~[?:?]\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:92) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:33) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.util.crypto.CipherExecutor.decode(CipherExecutor.java:105) ~[cas-server-core-api-util-6.1.7.2.jar!/:6.1.7.2]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at com.sun.proxy.$Proxy173.decode(Unknown Source) ~[?:?]\n        at org.apereo.cas.web.flow.executor.WebflowCipherBean.decrypt(WebflowCipherBean.java:35) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.web.flow.executor.EncryptedTranscoder.decode(EncryptedTranscoder.java:103) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution(ClientFlowExecutionRepository.java:75) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:167) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at com.sun.proxy.$Proxy210.resumeExecution(Unknown Source) ~[?:?]\n        at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.AuthenticationCredentialsThreadLocalBinderClearingFilter.doFilter(AuthenticationCredentialsThreadLocalBinderClearingFilter.java:28) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.filters.RequestParameterPolicyEnforcementFilter.doFilter(RequestParameterPolicyEnforcementFilter.java:411) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.filters.ResponseHeadersEnforcementFilter.doFilter(ResponseHeadersEnforcementFilter.java:216) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.filters.AddResponseHeadersFilter.doFilter(AddResponseHeadersFilter.java:67) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:157) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.logging.web.ThreadContextMDCServletFilter.doFilter(ThreadContextMDCServletFilter.java:99) ~[cas-server-core-logging-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:66) ~[inspektr-common-1.8.6.GA.jar!/:1.8.6.GA]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n        at java.lang.Thread.run(Thread.java:834) [?:?]\n2023-04-12 14:32:57,089 INFO [org.apereo.inspektr.audit.support.Slf4jLoggingAuditTrailManager] - &lt;Audit trail record BEGIN\n</code></pre>\n<p>I configured the cas.properties file in the directory E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config so\nI use the following command to run the Cas server:</p>\n<pre><code>gradlew run -Dorg.gradle.java.home=%JAVA_HOME% -Pargs=&quot;-Dcas.standalone.configuration.directory=E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config&quot;\n</code></pre>\n<p>What did I do wrong or need to fix? Can anyone help me?</p>\n"},{"tags":["java","android","android-tv","android-menu","leanback"],"answers":[{"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1566284349,"post_id":57564054,"comment_id":101597171,"body_markdown":"Thanks for your reply. I added the image to the left menu. I had one more question.How I can narrow the menu area like Netflix? @burakk","body":"Thanks for your reply. I added the image to the left menu. I had one more question.How I can narrow the menu area like Netflix? @burakk"},{"owner":{"account_id":551625,"reputation":1271,"user_id":916538,"accept_rate":46,"display_name":"burakk"},"score":0,"creation_date":1566294524,"post_id":57564054,"comment_id":101602388,"body_markdown":"You should create a new question with details. What do you want to achieve, what have you tried so far, etc.","body":"You should create a new question with details. What do you want to achieve, what have you tried so far, etc."}],"tags":[],"owner":{"account_id":551625,"reputation":1271,"user_id":916538,"accept_rate":46,"display_name":"burakk"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566253396,"creation_date":1566249369,"answer_id":57564054,"question_id":57552246,"body_markdown":"You have to create your custom TitleView.\r\n\r\n[Here][1] is a great video on customizing the components of the leanback library (Custom TitleView part starts at 05:48)\r\n\r\nand [here][2] is the source code of the CustomTitleView used in Google&#39;s Leanback Support Library Showcase App for Android TV\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=QFHIfQy8_Wc\r\n  [2]: https://github.com/googlesamples/leanback-showcase/blob/master/app/src/main/java/android/support/v17/leanback/supportleanbackshowcase/app/page/CustomTitleView.java","title":"How to add pictures to the left menu of Android TV?","body":"<p>You have to create your custom TitleView.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=QFHIfQy8_Wc\" rel=\"nofollow noreferrer\">Here</a> is a great video on customizing the components of the leanback library (Custom TitleView part starts at 05:48)</p>\n\n<p>and <a href=\"https://github.com/googlesamples/leanback-showcase/blob/master/app/src/main/java/android/support/v17/leanback/supportleanbackshowcase/app/page/CustomTitleView.java\" rel=\"nofollow noreferrer\">here</a> is the source code of the CustomTitleView used in Google's Leanback Support Library Showcase App for Android TV</p>\n"}],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681456742,"creation_date":1566199916,"question_id":57552246,"body_markdown":"Trying to add pictures to the left menu on your Android TV.\r\nI was able to add a picture to the top right.\r\n\r\n![Screenshoot][1]\r\n\r\nBut I don&#39;t understand how it is adding to the left.        \r\n     \r\n    setBadgeDrawable(getActivity().getResources().getDrawable(R.drawable.icon));\r\n\r\n  [1]: https://i.stack.imgur.com/cCzw8.png","title":"How to add pictures to the left menu of Android TV?","body":"<p>Trying to add pictures to the left menu on your Android TV.\nI was able to add a picture to the top right.</p>\n<p><img src=\"https://i.stack.imgur.com/cCzw8.png\" alt=\"Screenshoot\" /></p>\n<p>But I don't understand how it is adding to the left.</p>\n<pre><code>setBadgeDrawable(getActivity().getResources().getDrawable(R.drawable.icon));\n</code></pre>\n"},{"tags":["java","maven","kubernetes","import"],"answers":[{"comments":[{"owner":{"account_id":13420777,"reputation":37,"user_id":9683603,"display_name":"Adham Ahmad"},"score":0,"creation_date":1683305935,"post_id":76011996,"comment_id":134351937,"body_markdown":"Thanks for your time. but I modified the pom.xml and i still have the same problem.","body":"Thanks for your time. but I modified the pom.xml and i still have the same problem."}],"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452129,"creation_date":1681452129,"answer_id":76011996,"question_id":76011810,"body_markdown":"If you have these dependencies only in `dependencyManagement` section, that&#39;s not enough. You have to have it in `dependencies` also.\r\n\r\nThe pom.xml should look like something similar to the following.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n\t\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  \r\n\r\n\t...\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;  \r\n\t\t...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;  \r\n\t\t...\r\n\t&lt;/dependencies&gt;  \r\n&lt;/project&gt; \r\n```\r\n\r\nIn the `dependencies` section, you should only have the `groupId` and `artifactId` since the scope and the version are defined in dependency management.\r\n","title":"The import io.kubernetes.client.extended cannot be resolved","body":"<p>If you have these dependencies only in <code>dependencyManagement</code> section, that's not enough. You have to have it in <code>dependencies</code> also.</p>\n<p>The pom.xml should look like something similar to the following.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n    \n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  \n\n    ...\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n                &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n                &lt;version&gt;18.0.0&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n                &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\n                &lt;version&gt;18.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;  \n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n            &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n            &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\n        &lt;/dependency&gt;  \n        ...\n    &lt;/dependencies&gt;  \n&lt;/project&gt; \n</code></pre>\n<p>In the <code>dependencies</code> section, you should only have the <code>groupId</code> and <code>artifactId</code> since the scope and the version are defined in dependency management.</p>\n"},{"comments":[{"owner":{"account_id":13420777,"reputation":37,"user_id":9683603,"display_name":"Adham Ahmad"},"score":0,"creation_date":1683305874,"post_id":76012463,"comment_id":134351926,"body_markdown":"Thanks for your time. but I changed kubernetes extended client version to 17.0.0 ,I am using kubernetes version 1.25 and Java 17.0.6 and i still have the same problem.","body":"Thanks for your time. but I changed kubernetes extended client version to 17.0.0 ,I am using kubernetes version 1.25 and Java 17.0.6 and i still have the same problem."}],"tags":[],"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681456292,"creation_date":1681456292,"answer_id":76012463,"question_id":76011810,"body_markdown":"You are unable to import kubernetes extended client libraries because of the compatibility issues, Check this [versioning and compatibility](https://github.com/kubernetes-client/java/wiki/2.-Versioning-and-Compatibility) page for information.\r\n\r\nHere you need to consider the version of java, kubernetes extended client for java and kubernetes version. If you are using Java version 17.0.6 then your kubernetes extended client version should be 17.0.0 and kubernetes version should be 1.25.\r\n\r\nYou either need to make modifications based on your kubernetes version or based on your java version. So, upgrade or downgrade your software versions as per your requirement in order to meet the compatibility requirements, it will solve your issue.\r\n","title":"The import io.kubernetes.client.extended cannot be resolved","body":"<p>You are unable to import kubernetes extended client libraries because of the compatibility issues, Check this <a href=\"https://github.com/kubernetes-client/java/wiki/2.-Versioning-and-Compatibility\" rel=\"nofollow noreferrer\">versioning and compatibility</a> page for information.</p>\n<p>Here you need to consider the version of java, kubernetes extended client for java and kubernetes version. If you are using Java version 17.0.6 then your kubernetes extended client version should be 17.0.0 and kubernetes version should be 1.25.</p>\n<p>You either need to make modifications based on your kubernetes version or based on your java version. So, upgrade or downgrade your software versions as per your requirement in order to meet the compatibility requirements, it will solve your issue.</p>\n"}],"owner":{"account_id":13420777,"reputation":37,"user_id":9683603,"display_name":"Adham Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681456292,"creation_date":1681449573,"question_id":76011810,"body_markdown":"The Kubernetes extended client import cannot be resolved (version 18.0.0). I am using java version &quot;17.0.6&quot; and Maven .These are the dependencies. I tried clean and rebuild the project but still same error.\r\n\r\nAny help would be appreciated.\r\n\r\nPom.xml\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n\r\n\r\n","title":"The import io.kubernetes.client.extended cannot be resolved","body":"<p>The Kubernetes extended client import cannot be resolved (version 18.0.0). I am using java version &quot;17.0.6&quot; and Maven .These are the dependencies. I tried clean and rebuild the project but still same error.</p>\n<p>Any help would be appreciated.</p>\n<p>Pom.xml</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n        &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n        &lt;version&gt;18.0.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n        &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\n        &lt;version&gt;18.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","cron","scheduled-tasks","quartz-scheduler"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1681462141,"post_id":76012384,"comment_id":134063491,"body_markdown":"maybe you are missing something. `@SchedulerLock` is part of [schedlock](https://github.com/lukas-krecan/ShedLock) so maybe you should delete something else than quartz db entry.","body":"maybe you are missing something. <code>@SchedulerLock</code> is part of <a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"nofollow noreferrer\">schedlock</a> so maybe you should delete something else than quartz db entry."}],"owner":{"account_id":22415215,"reputation":49,"user_id":16623376,"display_name":"ripunjoym1998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681455999,"creation_date":1681455675,"question_id":76012384,"body_markdown":"I have a function with following annotations:\r\n\r\n    @Scheduled(cron = &quot;${cron.expression}&quot;)\r\n    @SchedulerLock(name = &quot;scheduleJobsWithQuartz&quot;, lockAtLeastFor = &quot;15m&quot;, lockAtMostFor = &quot;30m&quot;)\r\n    public void xyz() {\r\n    ///\r\n    }\r\n\r\nThis function runs once a day but it can be manually triggered from a GET call as well.\r\nWhen i start the pod and execute the GET call for the first time, the function runs, but when i hit the GET call again after sometime, it doesn&#39;t run even after I manually delete the entry from shedLock table.\r\n\r\nIs the schedulerLock information stored somewhere else as well? If it is stored in the memory, can I access it somehow?\r\n\r\nHere are my application properties:\r\n\r\n    QUARTZ_JOBSTORE_DRIVER_DELEGATECLASS : org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n    QUARTZ_JOBSTORE_MISFIRETHRESHOLD : 60000\r\n    QUARTZ_JOBSTORE_TABLE_PREFIX : qrtz_\r\n    QUARTZ_SCHEDULER_INSTANCE_NAME : MyClusteredScheduler\r\n    QUARTZ_SCHEDULER_INSTANCE_ID : AUTO\r\n    QUARTZ_SCHEDULER_CLUSTER_INTERVAL : 20000\r\n\r\n","title":"Function with @SchedulerLock not running when manually triggered for the second time even after removing entry from shedLock table","body":"<p>I have a function with following annotations:</p>\n<pre><code>@Scheduled(cron = &quot;${cron.expression}&quot;)\n@SchedulerLock(name = &quot;scheduleJobsWithQuartz&quot;, lockAtLeastFor = &quot;15m&quot;, lockAtMostFor = &quot;30m&quot;)\npublic void xyz() {\n///\n}\n</code></pre>\n<p>This function runs once a day but it can be manually triggered from a GET call as well.\nWhen i start the pod and execute the GET call for the first time, the function runs, but when i hit the GET call again after sometime, it doesn't run even after I manually delete the entry from shedLock table.</p>\n<p>Is the schedulerLock information stored somewhere else as well? If it is stored in the memory, can I access it somehow?</p>\n<p>Here are my application properties:</p>\n<pre><code>QUARTZ_JOBSTORE_DRIVER_DELEGATECLASS : org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\nQUARTZ_JOBSTORE_MISFIRETHRESHOLD : 60000\nQUARTZ_JOBSTORE_TABLE_PREFIX : qrtz_\nQUARTZ_SCHEDULER_INSTANCE_NAME : MyClusteredScheduler\nQUARTZ_SCHEDULER_INSTANCE_ID : AUTO\nQUARTZ_SCHEDULER_CLUSTER_INTERVAL : 20000\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-jmx"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1517506982,"post_id":48568029,"comment_id":84133713,"body_markdown":"I tried to use *spring.application.admin.jmx-name=unique_name* and I get MalformedObjectNameException: Key properties cannot be empty","body":"I tried to use <i>spring.application.admin.jmx-name=unique_name</i> and I get MalformedObjectNameException: Key properties cannot be empty"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1517507163,"post_id":48568029,"comment_id":84133816,"body_markdown":"Correct. That must be something like: `org.springframework.boot:type=Admin,name=SpringApplication2` on the second app and so on. Please, study more what is object name in JMX","body":"Correct. That must be something like: <code>org.springframework.boot:type=Admin,name=SpringApplication2</code> on the second app and so on. Please, study more what is object name in JMX"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1517507365,"post_id":48568029,"comment_id":84133921,"body_markdown":"Caused by: javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication2","body":"Caused by: javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication2"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1517507556,"post_id":48568029,"comment_id":84133987,"body_markdown":"Looks like you did&#39;n catch.When I start **application_A** - during startup spring invokes **org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration#springApplicationAdminRegistrar** twice with the same name(*org.springframework.boot:type=Admin,name=SpringApplication2*). It doesn&#39;t matter if **application_B** started or not","body":"Looks like you did&#39;n catch.When I start <b>application_A</b> - during startup spring invokes <b>org.springframework.boot.autoconfigure.admin.SpringApplicati&zwnj;&#8203;onAdminJmxAutoConfig&zwnj;&#8203;uration#springApplic&zwnj;&#8203;ationAdminRegistrar</b> twice with the same name(<i>org.springframework.boot:type=Admin,name=SpringApplicat&zwnj;&#8203;ion2</i>). It doesn&#39;t matter if <b>application_B</b> started or not"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1517512522,"post_id":48568029,"comment_id":84136628,"body_markdown":"Do you mean even if you don&#39;t start `application_B`, the `application_A` fails with that exception because it calls `SpringApplicationAdminJmxAutoConfiguration` twice somehow?","body":"Do you mean even if you don&#39;t start <code>application_B</code>, the <code>application_A</code> fails with that exception because it calls <code>SpringApplicationAdminJmxAutoConfiguration</code> twice somehow?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1517512552,"post_id":48568029,"comment_id":84136635,"body_markdown":"BTW, any chances to have such a project somewhere on GitHub to let us to reproduce on our side ?","body":"BTW, any chances to have such a project somewhere on GitHub to let us to reproduce on our side ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":5,"creation_date":1517557964,"post_id":48568029,"comment_id":84152322,"body_markdown":"Actually I&#39;ve found the mistake. I ocasionally invoked  **SpringApplication.run(Application.class, args);** twice.","body":"Actually I&#39;ve found the mistake. I ocasionally invoked  <b>SpringApplication.run(Application.class, args);</b> twice."},{"owner":{"account_id":5798458,"reputation":111,"user_id":4573462,"display_name":"balatamilmani"},"score":0,"creation_date":1619442002,"post_id":48568029,"comment_id":118899231,"body_markdown":"My Test cases were failing with this same error, on commenting out the following property in application.properties the issue got fixed `spring.application.admin.enabled=true`","body":"My Test cases were failing with this same error, on commenting out the following property in application.properties the issue got fixed <code>spring.application.admin.enabled=true</code>"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517504354,"creation_date":1517504354,"answer_id":48568029,"question_id":48567562,"body_markdown":"The `SpringApplicationAdminJmxAutoConfiguration` has the code like:\r\n\r\n    String jmxName = this.environment.getProperty(JMX_NAME_PROPERTY,\r\n\t\t\t\tDEFAULT_JMX_NAME);\r\n\t\tif (this.mbeanExporters != null) { // Make sure to not register that MBean twice\r\n\t\t\tfor (MBeanExporter mbeanExporter : this.mbeanExporters) {\r\n\t\t\t\tmbeanExporter.addExcludedBean(jmxName);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new SpringApplicationAdminMXBeanRegistrar(jmxName);\r\n\r\nWhere we have those constants:\r\n\r\n\t/**\r\n\t * The property to use to customize the {@code ObjectName} of the application admin\r\n\t * mbean.\r\n\t */\r\n\tprivate static final String JMX_NAME_PROPERTY = &quot;spring.application.admin.jmx-name&quot;;\r\n\r\n\t/**\r\n\t * The default {@code ObjectName} of the application admin mbean.\r\n\t */\r\n\tprivate static final String DEFAULT_JMX_NAME = &quot;org.springframework.boot:type=Admin,name=SpringApplication&quot;;\r\n\r\nSo, you should consider to make that `jmx-name` as unique for each application. I mean you need specify `spring.application.admin.jmx-name` configuration property.\r\n\r\n","title":"BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39;. InstanceAlreadyExistsException","body":"<p>The <code>SpringApplicationAdminJmxAutoConfiguration</code> has the code like:</p>\n\n<pre><code>String jmxName = this.environment.getProperty(JMX_NAME_PROPERTY,\n            DEFAULT_JMX_NAME);\n    if (this.mbeanExporters != null) { // Make sure to not register that MBean twice\n        for (MBeanExporter mbeanExporter : this.mbeanExporters) {\n            mbeanExporter.addExcludedBean(jmxName);\n        }\n    }\n    return new SpringApplicationAdminMXBeanRegistrar(jmxName);\n</code></pre>\n\n<p>Where we have those constants:</p>\n\n<pre><code>/**\n * The property to use to customize the {@code ObjectName} of the application admin\n * mbean.\n */\nprivate static final String JMX_NAME_PROPERTY = \"spring.application.admin.jmx-name\";\n\n/**\n * The default {@code ObjectName} of the application admin mbean.\n */\nprivate static final String DEFAULT_JMX_NAME = \"org.springframework.boot:type=Admin,name=SpringApplication\";\n</code></pre>\n\n<p>So, you should consider to make that <code>jmx-name</code> as unique for each application. I mean you need specify <code>spring.application.admin.jmx-name</code> configuration property.</p>\n"},{"tags":[],"owner":{"account_id":27799234,"reputation":11,"user_id":21223979,"display_name":"Jagmit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678615004,"creation_date":1676522146,"answer_id":75467904,"question_id":48567562,"body_markdown":"In case somebody is still facing any issue regarding this you can consider this: \r\nAs somebody has mentioned &quot;I ocasionally invoked `SpringApplication.run(Application.class, args);` twice&quot;\r\n\r\nSolution that worked for me:\r\nWe should start the `application(ApplicationContext)` through different class, i.e., other than `@SpringBootApplication` annotated class.\r\n\r\nWhy: `@SpringBootApplication` is the combination of three annotations: `@ComponentScan`, `@EnableAutoConfiguration`, and `@Configuration`, hence one instance will be created already. So when we create another instance of ApplicationContext interface (xml or annotated based) inside the same class, it will encounter already created instance and will throw exception.","title":"BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39;. InstanceAlreadyExistsException","body":"<p>In case somebody is still facing any issue regarding this you can consider this:\nAs somebody has mentioned &quot;I ocasionally invoked <code>SpringApplication.run(Application.class, args);</code> twice&quot;</p>\n<p>Solution that worked for me:\nWe should start the <code>application(ApplicationContext)</code> through different class, i.e., other than <code>@SpringBootApplication</code> annotated class.</p>\n<p>Why: <code>@SpringBootApplication</code> is the combination of three annotations: <code>@ComponentScan</code>, <code>@EnableAutoConfiguration</code>, and <code>@Configuration</code>, hence one instance will be created already. So when we create another instance of ApplicationContext interface (xml or annotated based) inside the same class, it will encounter already created instance and will throw exception.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21604,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1681455785,"creation_date":1517502890,"question_id":48567562,"body_markdown":"I have 2 spring boot applications.\r\n\r\napplication_A dependsn_on application_B\r\n\r\nActually each of applications has main class marked as `@SpringBootApplication`\r\n\r\n`application_B` starts successfully but `application_A` doesn&#39;t start:\r\n\r\n\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39; defined in class path resource [org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat pack.Application.main(Application.java:36)\r\n    Caused by: javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\r\n    \tat com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n    \tat org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar.afterPropertiesSet(SpringApplicationAdminMXBeanRegistrar.java:92)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n    \t... 15 common frames omitted\r\n\r\nIn debug I see that spring executes `org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration#springApplicationAdminRegistrar` twice during startup and fails.\r\n\r\nI tried to set property:\r\n\r\n     spring.application.admin.enabled=false\r\n\r\nBut it doesn&#39;t help me.\r\n\r\nHow can I avoid this exception?\r\n\r\nP.S.\r\n-\r\n\r\nI&#39;ve found this one https://github.com/spring-projects/spring-boot/issues/6378 but there is no solution","title":"BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39;. InstanceAlreadyExistsException","body":"<p>I have 2 spring boot applications.</p>\n\n<p>application_A dependsn_on application_B</p>\n\n<p>Actually each of applications has main class marked as <code>@SpringBootApplication</code></p>\n\n<p><code>application_B</code> starts successfully but <code>application_A</code> doesn't start:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springApplicationAdminRegistrar' defined in class path resource [org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n    at pack.Application.main(Application.java:36)\nCaused by: javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\n    at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\n    at org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar.afterPropertiesSet(SpringApplicationAdminMXBeanRegistrar.java:92)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    ... 15 common frames omitted\n</code></pre>\n\n<p>In debug I see that spring executes <code>org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration#springApplicationAdminRegistrar</code> twice during startup and fails.</p>\n\n<p>I tried to set property:</p>\n\n<pre><code> spring.application.admin.enabled=false\n</code></pre>\n\n<p>But it doesn't help me.</p>\n\n<p>How can I avoid this exception?</p>\n\n<h2>P.S.</h2>\n\n<p>I've found this one <a href=\"https://github.com/spring-projects/spring-boot/issues/6378\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/6378</a> but there is no solution</p>\n"},{"tags":["java","android-studio","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":3772147,"reputation":606,"user_id":3134015,"display_name":"Tink"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681455091,"creation_date":1681455091,"answer_id":76012302,"question_id":75977036,"body_markdown":"    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t)\r\n\r\nYou can get a Call object here, and the Call object had a request() method, which will return a Request object, and it has attributes like method, url and body.\r\n\r\n    @Override\r\n        public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\r\n            println(call.request().method)\r\n            println(call.request().url)\r\n            println(call.request().body)\r\n    }\r\n\r\n","title":"How to get endpoint name, method name and fields value from onFailure() retrofit","body":"<pre><code>public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t)\n</code></pre>\n<p>You can get a Call object here, and the Call object had a request() method, which will return a Request object, and it has attributes like method, url and body.</p>\n<pre><code>@Override\n    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\n        println(call.request().method)\n        println(call.request().url)\n        println(call.request().body)\n}\n</code></pre>\n"}],"owner":{"account_id":25327451,"reputation":223,"user_id":19147857,"display_name":"Sasmita Novitasari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681455091,"creation_date":1681128936,"question_id":75977036,"body_markdown":"I try to tracking error from all my retrofit, i need to know the name of the problematic endpoint and also the fields submitted by the user\r\n\r\nUserServices.java\r\n\r\n```\r\n    @GET(&quot;visit/current_checkin&quot;)\r\n    Call&lt;ResponCurrentCheckIn&gt; getCurrentCheckin(\r\n            @Query(&quot;sdo_id&quot;) String sdoId\r\n    );\r\n```\r\n\r\nMy Retrofit Call\r\n```\r\nnew ApiClient().getUserService(SplashActivity.this).getCurrentCheckin(sdoId)\r\n                .enqueue(new Callback&lt;ResponCurrentCheckIn&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;ResponCurrentCheckIn&gt; call, Response&lt;ResponCurrentCheckIn&gt; response) {\r\n                        if (response.isSuccessful()) {\r\n                            // TODO\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\r\n                        String message = t.getClass().getSimpleName() + &quot;\\n&quot; + t.getMessage();\r\n                        loading(false, message);\r\n                        new LogTracking(SplashActivity.this).save(user, &quot;SplashActivity.java&quot;, &quot;GET /visit/current_checkin&quot;, t.getMessage(), &quot;Error Backend&quot;, null);\r\n                    }\r\n                });\r\n```\r\n\r\n\r\nApiClient.java\r\n```\r\npublic static Retrofit retrofit;\r\n//    public static final String BASE_URL = &quot;https://online.meval.id/v1/api/&quot;;\r\n//    public static final String BASE_URL = &quot;https://v2.meval.id/v1/api/&quot;;\r\n\r\n\r\n    public static Retrofit getRetrofitInstance(String baseUrl) {\r\n        HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\r\n        httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .addInterceptor(new Interceptor() {\r\n                    @Override\r\n                    public okhttp3.Response intercept(Chain chain) throws IOException {\r\n                        Request originalRequest = chain.request();\r\n                        Request newRequest = originalRequest.newBuilder()\r\n                                .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                                .header(&quot;Authtoken&quot;, &quot;MY-AUTHTOKEN&quot;)\r\n                                .build();\r\n                        return chain.proceed(newRequest);\r\n                    }\r\n                })\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .writeTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .addInterceptor(httpLoggingInterceptor)\r\n                .build();\r\n\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .addConverterFactory(ScalarsConverterFactory.create())\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .baseUrl(baseUrl)\r\n                    .client(okHttpClient)\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n    public static UserServices getUserService(Context context){\r\n        SharedPreferences preferences = context.getSharedPreferences(MyPreference.CONTAINER_PREFERENCE.toString(), Context.MODE_PRIVATE);\r\n\r\n        UserServices userService = getRetrofitInstance(BASE_URL).create(UserServices.class);\r\n        return userService;\r\n    }\r\n```\r\n\r\n\r\n## Question\r\n\r\n1. how to get the method name in onFailure()? Example: GET, POST, PUT, etc\r\n\r\n2. how to get endpoint name via onFailure()? Example: /visit/current_checkin\r\n\r\n3. how to get the value of each field that the user submitted in onFailure()? Example: value from sdoId\r\n\r\n\r\nI try to use suggestions from android studio when access throwable class but found nothing","title":"How to get endpoint name, method name and fields value from onFailure() retrofit","body":"<p>I try to tracking error from all my retrofit, i need to know the name of the problematic endpoint and also the fields submitted by the user</p>\n<p>UserServices.java</p>\n<pre><code>    @GET(&quot;visit/current_checkin&quot;)\n    Call&lt;ResponCurrentCheckIn&gt; getCurrentCheckin(\n            @Query(&quot;sdo_id&quot;) String sdoId\n    );\n</code></pre>\n<p>My Retrofit Call</p>\n<pre><code>new ApiClient().getUserService(SplashActivity.this).getCurrentCheckin(sdoId)\n                .enqueue(new Callback&lt;ResponCurrentCheckIn&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;ResponCurrentCheckIn&gt; call, Response&lt;ResponCurrentCheckIn&gt; response) {\n                        if (response.isSuccessful()) {\n                            // TODO\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\n                        String message = t.getClass().getSimpleName() + &quot;\\n&quot; + t.getMessage();\n                        loading(false, message);\n                        new LogTracking(SplashActivity.this).save(user, &quot;SplashActivity.java&quot;, &quot;GET /visit/current_checkin&quot;, t.getMessage(), &quot;Error Backend&quot;, null);\n                    }\n                });\n</code></pre>\n<p>ApiClient.java</p>\n<pre><code>public static Retrofit retrofit;\n//    public static final String BASE_URL = &quot;https://online.meval.id/v1/api/&quot;;\n//    public static final String BASE_URL = &quot;https://v2.meval.id/v1/api/&quot;;\n\n\n    public static Retrofit getRetrofitInstance(String baseUrl) {\n        HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\n        httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .addInterceptor(new Interceptor() {\n                    @Override\n                    public okhttp3.Response intercept(Chain chain) throws IOException {\n                        Request originalRequest = chain.request();\n                        Request newRequest = originalRequest.newBuilder()\n                                .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                                .header(&quot;Authtoken&quot;, &quot;MY-AUTHTOKEN&quot;)\n                                .build();\n                        return chain.proceed(newRequest);\n                    }\n                })\n                .readTimeout(60, TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .addInterceptor(httpLoggingInterceptor)\n                .build();\n\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .addConverterFactory(ScalarsConverterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(baseUrl)\n                    .client(okHttpClient)\n                    .build();\n        }\n        return retrofit;\n    }\n\n    public static UserServices getUserService(Context context){\n        SharedPreferences preferences = context.getSharedPreferences(MyPreference.CONTAINER_PREFERENCE.toString(), Context.MODE_PRIVATE);\n\n        UserServices userService = getRetrofitInstance(BASE_URL).create(UserServices.class);\n        return userService;\n    }\n</code></pre>\n<h2>Question</h2>\n<ol>\n<li><p>how to get the method name in onFailure()? Example: GET, POST, PUT, etc</p>\n</li>\n<li><p>how to get endpoint name via onFailure()? Example: /visit/current_checkin</p>\n</li>\n<li><p>how to get the value of each field that the user submitted in onFailure()? Example: value from sdoId</p>\n</li>\n</ol>\n<p>I try to use suggestions from android studio when access throwable class but found nothing</p>\n"},{"tags":["java","android","kotlin","android-activity"],"answers":[{"comments":[{"owner":{"account_id":18826290,"reputation":215,"user_id":13731102,"display_name":"ramos jc"},"score":0,"creation_date":1599582482,"post_id":63797977,"comment_id":112815339,"body_markdown":"Alexander, thanks for the reply, I will implement and give you feedback.","body":"Alexander, thanks for the reply, I will implement and give you feedback."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1599583193,"post_id":63797977,"comment_id":112815595,"body_markdown":"for serializable just `class UserModel: Serializable`","body":"for serializable just <code>class UserModel: Serializable</code>"}],"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599582369,"creation_date":1599582369,"answer_id":63797977,"question_id":63797893,"body_markdown":"Your `UserModel` class cannot be recognized by bundle as a Serializable or Parcelable. Try to implement one of them and error will disappear.","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>Your <code>UserModel</code> class cannot be recognized by bundle as a Serializable or Parcelable. Try to implement one of them and error will disappear.</p>\n"},{"comments":[{"owner":{"account_id":17020425,"reputation":4743,"user_id":12313157,"display_name":"Xid"},"score":1,"creation_date":1599585159,"post_id":63798041,"comment_id":112816398,"body_markdown":"`@Parcelize` is no longer experimental","body":"<code>@Parcelize</code> is no longer experimental"}],"tags":[],"owner":{"account_id":3952469,"reputation":3052,"user_id":3677030,"accept_rate":21,"display_name":"Mohammed Rampurawala"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1599638549,"creation_date":1599582649,"answer_id":63798041,"question_id":63797893,"body_markdown":"You will need to make the class `Parcelable` whose object you are passing through the `Bundle`.\r\n\r\nIn your gradle:\r\n\r\n```\r\napply plugin: &#39;org.jetbrains.kotlin.android.extensions&#39;\r\n\r\n```\r\n\r\nYour data class should be like:\r\n```\r\n@Parcelize\r\ndata class UserModel(\r\n\r\n    val name: String? = &quot;&quot;,\r\n    val age: String? =&quot;&quot;,\r\n    val idNumber: String? =&quot;&quot;,\r\n    val occupation: String? =&quot;&quot;,\r\n    val formation: String? =&quot;&quot;,\r\n) : Parcelable","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>You will need to make the class <code>Parcelable</code> whose object you are passing through the <code>Bundle</code>.</p>\n<p>In your gradle:</p>\n<pre><code>apply plugin: 'org.jetbrains.kotlin.android.extensions'\n\n</code></pre>\n<p>Your data class should be like:</p>\n<pre><code>@Parcelize\ndata class UserModel(\n\n    val name: String? = &quot;&quot;,\n    val age: String? =&quot;&quot;,\n    val idNumber: String? =&quot;&quot;,\n    val occupation: String? =&quot;&quot;,\n    val formation: String? =&quot;&quot;,\n) : Parcelable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637769837,"creation_date":1637769837,"answer_id":70099268,"question_id":63797893,"body_markdown":"I spent half day with this issue. My app crashed with same error.   \r\nBut I use kotlinx.serialization annotations and could not even imagine that I need additionally mention about Serialization   \r\nEven AS can see this parameter as Serializable!  \r\nJust added `java.io.Serializable` to the code and fixed[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ae3pA.png","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>I spent half day with this issue. My app crashed with same error.<br />\nBut I use kotlinx.serialization annotations and could not even imagine that I need additionally mention about Serialization<br />\nEven AS can see this parameter as Serializable!<br />\nJust added <code>java.io.Serializable</code> to the code and fixed<a href=\"https://i.stack.imgur.com/ae3pA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ae3pA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18826290,"reputation":215,"user_id":13731102,"display_name":"ramos jc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3862,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63798041,"answer_count":3,"score":2,"last_activity_date":1681455089,"creation_date":1599582072,"question_id":63797893,"body_markdown":"\r\nI&#39;m trying to pass an object from the class &quot;Transfer&quot; (java) to the class &quot;Limit&quot; (Kotlin), if I try to get the values ​​that come through the &quot;Bundle&quot; using data.name, the compiler does not give an error, but when I enter in the activity of this problem, how can I get an object via Bundle () in my intent?\r\n\r\n\r\n``` \r\npublic class Transfer {\r\n    \r\n    private void sendBundle(){\r\n        Usermodel doTransfer = fillUserModel();\r\n        Limit.intentTransfer(doTransfer, &quot;France&quot;);\r\n    }\r\n    \r\n    \r\n    private UserModel fillUserModel() {\r\n        Usermodel newUserModel = new Usermodel();\r\n        usermodel.setName(&quot;Jonas&quot;);\r\n        userModel.setAge(&quot;30&quot;);\r\n        usermodel.setIdNumber(&quot;123458&quot;);\r\n        userModel.setOccupation(&quot;dev&quot;);\r\n        userModel.setFormation(&quot;CC&quot;);\r\n        \r\n        return newUserModel ;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n``` \r\n\r\nclass UserModel(\r\n\r\n    val name: String? = &quot;&quot;,\r\n    val age: String? =&quot;&quot;,\r\n    val idNumber: String? =&quot;&quot;,\r\n    val occupation: String? =&quot;&quot;,\r\n    val formation: String? =&quot;&quot;,\r\n)\r\n\r\n```\r\n\r\n```\r\nclass Limit {\r\n\r\n     private val data: Usermodel by bindBundle(DATA)\r\n\r\n     private val country: String by bindBundle(COUNTRY)\r\n\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n      //here I can get the values ​​using  data.name or data.age \r\n      //  and android studio does not point out error\r\n\r\n}\r\n\r\n\r\ncompanion object {\r\n  \r\n    const val DATA = &quot;data&quot;\r\n    const val COUNTRY= &quot;CountryUser&quot;\r\n}\r\n\r\n\r\nfun intentTransfer (test : UserModel, CountryUser : String)\r\n : Intent {\r\n        return Intent(context, Limit::class.java).apply {\r\n            putExtras(\r\n                BundleOf(\r\n                    DATA to test,\r\n                    COUNTRY to CountryUser \r\n                )\r\n            )\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nOUTPUT \r\nWHEN I ENTER ACTIVITY: \r\n\r\n```\r\n java.lang.IllegalArgumentException: Ilegal value type android.model.UserModel for key &quot;data&quot;\r\n\r\n```\r\n","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>I'm trying to pass an object from the class &quot;Transfer&quot; (java) to the class &quot;Limit&quot; (Kotlin), if I try to get the values ​​that come through the &quot;Bundle&quot; using data.name, the compiler does not give an error, but when I enter in the activity of this problem, how can I get an object via Bundle () in my intent?</p>\n<pre><code>public class Transfer {\n    \n    private void sendBundle(){\n        Usermodel doTransfer = fillUserModel();\n        Limit.intentTransfer(doTransfer, &quot;France&quot;);\n    }\n    \n    \n    private UserModel fillUserModel() {\n        Usermodel newUserModel = new Usermodel();\n        usermodel.setName(&quot;Jonas&quot;);\n        userModel.setAge(&quot;30&quot;);\n        usermodel.setIdNumber(&quot;123458&quot;);\n        userModel.setOccupation(&quot;dev&quot;);\n        userModel.setFormation(&quot;CC&quot;);\n        \n        return newUserModel ;\n    }\n\n}\n\n</code></pre>\n<pre><code>\nclass UserModel(\n\n    val name: String? = &quot;&quot;,\n    val age: String? =&quot;&quot;,\n    val idNumber: String? =&quot;&quot;,\n    val occupation: String? =&quot;&quot;,\n    val formation: String? =&quot;&quot;,\n)\n\n</code></pre>\n<pre><code>class Limit {\n\n     private val data: Usermodel by bindBundle(DATA)\n\n     private val country: String by bindBundle(COUNTRY)\n\n     override fun onCreate(savedInstanceState: Bundle?) {\n\n      //here I can get the values ​​using  data.name or data.age \n      //  and android studio does not point out error\n\n}\n\n\ncompanion object {\n  \n    const val DATA = &quot;data&quot;\n    const val COUNTRY= &quot;CountryUser&quot;\n}\n\n\nfun intentTransfer (test : UserModel, CountryUser : String)\n : Intent {\n        return Intent(context, Limit::class.java).apply {\n            putExtras(\n                BundleOf(\n                    DATA to test,\n                    COUNTRY to CountryUser \n                )\n            )\n        }\n    }\n\n</code></pre>\n<p>OUTPUT\nWHEN I ENTER ACTIVITY:</p>\n<pre><code> java.lang.IllegalArgumentException: Ilegal value type android.model.UserModel for key &quot;data&quot;\n\n</code></pre>\n"},{"tags":["java","generics","functional-programming","type-safety","generic-method"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1681444897,"post_id":76011340,"comment_id":134060591,"body_markdown":"You&#39;re doing it. The inference engine goes: Oh, great, if `T` is `Object` everything works great - `123` (`Integer`) is an `Object`, and `String` indeed extends `Object`. What you &#39;want&#39; doesn&#39;t make sense. Separate from the non-sensical notion (which is that you want to treat, presumably, java as if it is invariant, it isn&#39;t), this method is a bad idea. `Class&lt;O&gt;` to attempt to reify generics is a bad idea (you can&#39;t then have e.g. `List&lt;String&gt;` for O, you can&#39;t stick generics in there. Just an example.","body":"You&#39;re doing it. The inference engine goes: Oh, great, if <code>T</code> is <code>Object</code> everything works great - <code>123</code> (<code>Integer</code>) is an <code>Object</code>, and <code>String</code> indeed extends <code>Object</code>. What you &#39;want&#39; doesn&#39;t make sense. Separate from the non-sensical notion (which is that you want to treat, presumably, java as if it is invariant, it isn&#39;t), this method is a bad idea. <code>Class&lt;O&gt;</code> to attempt to reify generics is a bad idea (you can&#39;t then have e.g. <code>List&lt;String&gt;</code> for O, you can&#39;t stick generics in there. Just an example."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681445894,"post_id":76011340,"comment_id":134060702,"body_markdown":"If `t` must be an instance of a subclass, make the superclass `abstract` and all parameters will be subclasses because there won&#39;t be any instances of the parent classes.","body":"If <code>t</code> must be an instance of a subclass, make the superclass <code>abstract</code> and all parameters will be subclasses because there won&#39;t be any instances of the parent classes."},{"owner":{"account_id":3686279,"reputation":20084,"user_id":3757232,"accept_rate":90,"display_name":"Jared Smith"},"score":0,"creation_date":1681487431,"post_id":76011340,"comment_id":134069600,"body_markdown":"What does this have to do with Functional Programming?","body":"What does this have to do with Functional Programming?"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":1,"creation_date":1681518783,"post_id":76011340,"comment_id":134074619,"body_markdown":"@JaredSmith I needed something like a Prism that&#39;s a functional programming concept","body":"@JaredSmith I needed something like a Prism that&#39;s a functional programming concept"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681454889,"creation_date":1681454083,"answer_id":76012191,"question_id":76011340,"body_markdown":"To simplify the question, I believe you cannot enforce a complication error for a function like this, if the arguments do not match the generic rule:\r\n\r\n    public &lt;A, B extends A&gt; void doNothing(A a, Class&lt;B&gt; b) {\r\n    }\r\n\r\n    @Test\r\n    void test() {   \r\n        doNothing(123, String.class);\r\n    }\r\n\r\nHowever, you can simplify the code a bit and you can throw runtime exceptions if the types do not match. Though, since you are going with Optionals, you can simply stick to Optional.empty, as you had in your example. A simple refactor:\r\n\r\n    public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(\r\n    \t\tT t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls) {\r\n    \r\n    \treturn assign(t, cls)\r\n    \t\t\t.flatMap(x -&gt; some(x))\r\n    \t\t\t.flatMap(f);\r\n    }\r\n    \r\n    private static &lt;T, O&gt; Optional&lt;O&gt; assign(T t, Class&lt;O&gt; cls) {\r\n    \tif (cls.isAssignableFrom(t.getClass())) {\r\n    \t\treturn Optional.ofNullable((O) t);\r\n    \t} \r\n    \treturn Optional.empty();\r\n    }","title":"Only permits children classes as generic parameters","body":"<p>To simplify the question, I believe you cannot enforce a complication error for a function like this, if the arguments do not match the generic rule:</p>\n<pre><code>public &lt;A, B extends A&gt; void doNothing(A a, Class&lt;B&gt; b) {\n}\n\n@Test\nvoid test() {   \n    doNothing(123, String.class);\n}\n</code></pre>\n<p>However, you can simplify the code a bit and you can throw runtime exceptions if the types do not match. Though, since you are going with Optionals, you can simply stick to Optional.empty, as you had in your example. A simple refactor:</p>\n<pre><code>public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(\n        T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls) {\n\n    return assign(t, cls)\n            .flatMap(x -&gt; some(x))\n            .flatMap(f);\n}\n\nprivate static &lt;T, O&gt; Optional&lt;O&gt; assign(T t, Class&lt;O&gt; cls) {\n    if (cls.isAssignableFrom(t.getClass())) {\n        return Optional.ofNullable((O) t);\n    } \n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681454889,"creation_date":1681441985,"question_id":76011340,"body_markdown":"Java 17\r\n\r\nI&#39;m implementing the following method:\r\n\r\n    public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls){\r\n        Optional&lt;O&gt; opt;\r\n        if(cls.isAssignableFrom(t.getClass())){\r\n            opt = some((O) t);\r\n        } else\r\n            opt = empty();\r\n        return opt.flatMap(f);\r\n    }\r\n\r\nwhich is supposed to return non empty Optional if the runtime type of argument of type `T` is subclass of type parameter `O` and flatMap it with the given `Function`. The problem with this implementation is that the following still compiles:\r\n\r\n    toOption(123, v -&gt; Optional.of(v), String.class);\r\n\r\nBut `Integer` and `String` are unrelated. So `O extends T` does not really works. Is there a way to make such cases not compile?","title":"Only permits children classes as generic parameters","body":"<p>Java 17</p>\n<p>I'm implementing the following method:</p>\n<pre><code>public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls){\n    Optional&lt;O&gt; opt;\n    if(cls.isAssignableFrom(t.getClass())){\n        opt = some((O) t);\n    } else\n        opt = empty();\n    return opt.flatMap(f);\n}\n</code></pre>\n<p>which is supposed to return non empty Optional if the runtime type of argument of type <code>T</code> is subclass of type parameter <code>O</code> and flatMap it with the given <code>Function</code>. The problem with this implementation is that the following still compiles:</p>\n<pre><code>toOption(123, v -&gt; Optional.of(v), String.class);\n</code></pre>\n<p>But <code>Integer</code> and <code>String</code> are unrelated. So <code>O extends T</code> does not really works. Is there a way to make such cases not compile?</p>\n"},{"tags":["java","class","object","methods"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1681448416,"post_id":76011722,"comment_id":134060940,"body_markdown":"I notice that you&#39;re using `DEFAULT_SIDE_LENGTH` and `DEFAULT_SIDE_COUNT` instead of `polygon.getLength()` and `polygon.getSides()`. Is it possible you meant for the equals() method to compare to the other polygon argument, instead of to the default values?","body":"I notice that you&#39;re using <code>DEFAULT_SIDE_LENGTH</code> and <code>DEFAULT_SIDE_COUNT</code> instead of <code>polygon.getLength()</code> and <code>polygon.getSides()</code>. Is it possible you meant for the equals() method to compare to the other polygon argument, instead of to the default values?"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681449106,"post_id":76011722,"comment_id":134061004,"body_markdown":"but your equal methods says that they are NOT equal since (15.13 - 15.2 = ) 0.01 is NOT smaller than episilon 0.0000001d","body":"but your equal methods says that they are NOT equal since (15.13 - 15.2 = ) 0.01 is NOT smaller than episilon 0.0000001d"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681450288,"post_id":76011722,"comment_id":134061145,"body_markdown":"What types of polygons are you dealing with for equality here?  There are three properties to check for polygon equality, but there are only checks for two of the three here.  I only see #1 and #3 here.  Or are you always comparing two polygons of the same type--decagon and same angles?  (1) number of sides (2) angles between sides (3) length of the sides.","body":"What types of polygons are you dealing with for equality here?  There are three properties to check for polygon equality, but there are only checks for two of the three here.  I only see #1 and #3 here.  Or are you always comparing two polygons of the same type--decagon and same angles?  (1) number of sides (2) angles between sides (3) length of the sides."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681454356,"post_id":76011722,"comment_id":134061775,"body_markdown":"This last comment was simply based on a link I found.  https://www.skillsyouneed.com/num/polygons.html","body":"This last comment was simply based on a link I found.  <a href=\"https://www.skillsyouneed.com/num/polygons.html\" rel=\"nofollow noreferrer\">skillsyouneed.com/num/polygons.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681454581,"creation_date":1681451186,"answer_id":76011930,"question_id":76011722,"body_markdown":"This is a good tutorial about Java object oriented programming concepts.\r\n\r\nhttps://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/\r\n\r\nWhenever you have a class, any object instantiated with that class which calls a method of that class is the object (`this`) in question.  And any parameter with the same type of the class itself is the object you are comparing to, whenever the equals method is overridden.  This is true for a non static method, which you have.  For a static method, you would need to pass in both Polygon objects (two parameters).\r\n\r\nSo in your example, `poly1` is the instantiated object and `poly2` (Polygon polygon as parameter) is the compared object.  I just changed the object in reference to the properties length and sides.  I&#39;m assuming length is a property in your class and I&#39;m assuming sides is a property of your class.  The object `this` refers to `poly1` (instantiated object), but since we are in a method owned by `poly1`, we can refer to the object as `this`.  And `polygon` is the variable for the `poly2` object that is passed into the method parameter.\r\n\r\nMy answer is purely from an object oriented perspective!  I have no idea what the epsilon value is for, but I&#39;m assuming you know the math behind it.   I&#39;m assuming this is for percentage error checking with the observed value and the actual value, and nothing more.  And I&#39;m also assuming the type of polygon is the same for poly1 and poly2 when this method is called, with the exact same angles between sides.\r\n\r\n    public boolean equals(Polygon polygon){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        // double difference = Math.abs(this.length - polygon.length);\r\n        double difference = Math.abs(this.getLength() - polygon.getLength());\r\n        // if ((difference &lt; episilon) &amp;&amp; (this.sides == polygon.sides))\r\n        if ((difference &lt; episilon) &amp;&amp; (this.getSides() == polygon.getSides()))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\n\r\nThis assumes the Polygon class also has two properties.  Just make sure in your class constructor, you define these as parameters, and set the value of these properties in the class.  And in the comments of the question, there was mention of having a method getSides() and getLength().  I added these to the code above.  That is a cleaner way of getting the value of properties.  In fact, you may need to change the access modifier of the properties if you use the commented out lines of getting the properties directly, and it&#39;s not recommended in Java.\r\n\r\n    int sides = 0;\r\n    double length = 0;\r\n\r\n    public string getSides() {\r\n        return this.sides;\r\n    }\r\n    \r\n    public void getLength() {\r\n        return this.length\r\n    }\r\n\r\nSo if the method were static, then the method would NOT belong to a specific object, in which case you need two Polygon objects as parameters.  And you may need a different method name, since Object always has the method equals.  You were just overriding the equals method in the above version of the method.  This just shows the logic behind the Polygon class properties (length &amp; sides) you are checking in the logic, so it&#39;s easier to understand.  But your code is clearly for a non static method!  I believe your constants (variables in upper case) in your question was just a way to get the logic to work without understanding how objects work with object orientation.  Completely understandable.\r\n\r\n    public static boolean equals2(Polygon polygon1, Polygon polygon2){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        double difference = Math.abs(polygon1.length - polygon2.length);\r\n        if ((difference &lt; episilon) &amp;&amp; (polygon1.sides == polygon2.sides))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\n\r\nIn your question source code, `poly1` and `poly2` are already defined.  If you were to instantiate both objects yourself, they&#39;d look something like this.\r\n\r\n    Polygon poly1 = new Polygon(10, 5.13);\r\n    Polygon poly2 = new Polygon(10, 5.12);\r\n\r\nAssuming the constructor had a parameter sides and length respectively.  Inside the constructor, we are setting both properties for `this` object.\r\n\r\n    Polygon(int _sides, double _length){\r\n        System.out.println(&quot;Constructor with two parameters&quot;);\r\n        this.sides = _sides;\r\n        this.length = _length;\r\n    }","title":"Can&#39;t get boolean method to report correct results when comparing polygons in java","body":"<p>This is a good tutorial about Java object oriented programming concepts.</p>\n<p><a href=\"https://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/\" rel=\"nofollow noreferrer\">https://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/</a></p>\n<p>Whenever you have a class, any object instantiated with that class which calls a method of that class is the object (<code>this</code>) in question.  And any parameter with the same type of the class itself is the object you are comparing to, whenever the equals method is overridden.  This is true for a non static method, which you have.  For a static method, you would need to pass in both Polygon objects (two parameters).</p>\n<p>So in your example, <code>poly1</code> is the instantiated object and <code>poly2</code> (Polygon polygon as parameter) is the compared object.  I just changed the object in reference to the properties length and sides.  I'm assuming length is a property in your class and I'm assuming sides is a property of your class.  The object <code>this</code> refers to <code>poly1</code> (instantiated object), but since we are in a method owned by <code>poly1</code>, we can refer to the object as <code>this</code>.  And <code>polygon</code> is the variable for the <code>poly2</code> object that is passed into the method parameter.</p>\n<p>My answer is purely from an object oriented perspective!  I have no idea what the epsilon value is for, but I'm assuming you know the math behind it.   I'm assuming this is for percentage error checking with the observed value and the actual value, and nothing more.  And I'm also assuming the type of polygon is the same for poly1 and poly2 when this method is called, with the exact same angles between sides.</p>\n<pre><code>public boolean equals(Polygon polygon){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    // double difference = Math.abs(this.length - polygon.length);\n    double difference = Math.abs(this.getLength() - polygon.getLength());\n    // if ((difference &lt; episilon) &amp;&amp; (this.sides == polygon.sides))\n    if ((difference &lt; episilon) &amp;&amp; (this.getSides() == polygon.getSides()))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>This assumes the Polygon class also has two properties.  Just make sure in your class constructor, you define these as parameters, and set the value of these properties in the class.  And in the comments of the question, there was mention of having a method getSides() and getLength().  I added these to the code above.  That is a cleaner way of getting the value of properties.  In fact, you may need to change the access modifier of the properties if you use the commented out lines of getting the properties directly, and it's not recommended in Java.</p>\n<pre><code>int sides = 0;\ndouble length = 0;\n\npublic string getSides() {\n    return this.sides;\n}\n\npublic void getLength() {\n    return this.length\n}\n</code></pre>\n<p>So if the method were static, then the method would NOT belong to a specific object, in which case you need two Polygon objects as parameters.  And you may need a different method name, since Object always has the method equals.  You were just overriding the equals method in the above version of the method.  This just shows the logic behind the Polygon class properties (length &amp; sides) you are checking in the logic, so it's easier to understand.  But your code is clearly for a non static method!  I believe your constants (variables in upper case) in your question was just a way to get the logic to work without understanding how objects work with object orientation.  Completely understandable.</p>\n<pre><code>public static boolean equals2(Polygon polygon1, Polygon polygon2){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    double difference = Math.abs(polygon1.length - polygon2.length);\n    if ((difference &lt; episilon) &amp;&amp; (polygon1.sides == polygon2.sides))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>In your question source code, <code>poly1</code> and <code>poly2</code> are already defined.  If you were to instantiate both objects yourself, they'd look something like this.</p>\n<pre><code>Polygon poly1 = new Polygon(10, 5.13);\nPolygon poly2 = new Polygon(10, 5.12);\n</code></pre>\n<p>Assuming the constructor had a parameter sides and length respectively.  Inside the constructor, we are setting both properties for <code>this</code> object.</p>\n<pre><code>Polygon(int _sides, double _length){\n    System.out.println(&quot;Constructor with two parameters&quot;);\n    this.sides = _sides;\n    this.length = _length;\n}\n</code></pre>\n"}],"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681454581,"creation_date":1681448276,"question_id":76011722,"body_markdown":"I&#39;m trying to compare the inputted polygon object to the default polygon class values. All the other math calculations are correct and properly printed. The only thing I cannot figure out is why this boolean method is reporting back incorrectly. The comparison is the default polygon&#39;s number of sides and side length to the inputted polygon&#39;s # of sides and side length. If both are even, then the polygons are equal. Here&#39;s the code I wrote to represent that:\r\n\r\n    public boolean equals(Polygon polygon){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        double difference = Math.abs((DEFAULT_SIDE_LENGTH) - length);\r\n        if ((difference &lt; episilon) &amp;&amp; (DEFAULT_SIDE_COUNT == sides))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\nHere&#39;s the code to print the results:\r\n\r\n    public static void printIfEqual\r\n    (Polygon poly1, Polygon poly2) {\r\n        System.out.println(&quot;Before checking equals(), print polygons&quot;);\r\n        System.out.println(&quot;poly1: &quot; + poly1);\r\n        System.out.println(&quot;poly2: &quot; + poly2);\r\n        if (poly1.equals(poly2))\r\n            System.out.println(&quot;Polygons are equal.&quot;);\r\n        else\r\n            System.out.println(&quot;Polygons are NOT equal.&quot;);        \r\n    }\r\n\r\nThis is the result of the code:\r\n[![result of code][1]][1]\r\n\r\n\r\nThis is what it&#39;s supposed to be.  Notice how the fourth line from the bottom is different:\r\n\r\n[![What it should be][2]][2]\r\n\r\nThe only difference is the boolean return. I&#39;ve been playing around with the debugger but to no success\r\n\r\n  [1]: https://i.stack.imgur.com/sFqRQ.png\r\n  [2]: https://i.stack.imgur.com/V4LLd.png","title":"Can&#39;t get boolean method to report correct results when comparing polygons in java","body":"<p>I'm trying to compare the inputted polygon object to the default polygon class values. All the other math calculations are correct and properly printed. The only thing I cannot figure out is why this boolean method is reporting back incorrectly. The comparison is the default polygon's number of sides and side length to the inputted polygon's # of sides and side length. If both are even, then the polygons are equal. Here's the code I wrote to represent that:</p>\n<pre><code>public boolean equals(Polygon polygon){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    double difference = Math.abs((DEFAULT_SIDE_LENGTH) - length);\n    if ((difference &lt; episilon) &amp;&amp; (DEFAULT_SIDE_COUNT == sides))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>Here's the code to print the results:</p>\n<pre><code>public static void printIfEqual\n(Polygon poly1, Polygon poly2) {\n    System.out.println(&quot;Before checking equals(), print polygons&quot;);\n    System.out.println(&quot;poly1: &quot; + poly1);\n    System.out.println(&quot;poly2: &quot; + poly2);\n    if (poly1.equals(poly2))\n        System.out.println(&quot;Polygons are equal.&quot;);\n    else\n        System.out.println(&quot;Polygons are NOT equal.&quot;);        \n}\n</code></pre>\n<p>This is the result of the code:\n<a href=\"https://i.stack.imgur.com/sFqRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFqRQ.png\" alt=\"result of code\" /></a></p>\n<p>This is what it's supposed to be.  Notice how the fourth line from the bottom is different:</p>\n<p><a href=\"https://i.stack.imgur.com/V4LLd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4LLd.png\" alt=\"What it should be\" /></a></p>\n<p>The only difference is the boolean return. I've been playing around with the debugger but to no success</p>\n"},{"tags":["java","spring","rabbitmq","amqp","spring-amqp"],"answers":[{"comments":[{"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"score":0,"creation_date":1681398830,"post_id":76005888,"comment_id":134053195,"body_markdown":"added the depedency  . Same its working for other 2 queues","body":"added the depedency  . Same its working for other 2 queues"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1681399895,"post_id":76005888,"comment_id":134053513,"body_markdown":"`&lt;version&gt;4.2.4.RELEASE&lt;/version&gt;` is too old; since you are using Spring Boot, you should omit the version and let Boot bring in the right compatible version. But you didn&#39;t show which version of Boot you are using.","body":"<code>&lt;version&gt;4.2.4.RELEASE&lt;&#47;version&gt;</code> is too old; since you are using Spring Boot, you should omit the version and let Boot bring in the right compatible version. But you didn&#39;t show which version of Boot you are using."},{"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"score":0,"creation_date":1681449299,"post_id":76005888,"comment_id":134061027,"body_markdown":"We use  spring boot version  2.2.4.RELEASE","body":"We use  spring boot version  2.2.4.RELEASE"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1681479590,"post_id":76005888,"comment_id":134067497,"body_markdown":"Boot 2.2.x has not been supported for a long time now. https://spring.io/projects/spring-boot#support","body":"Boot 2.2.x has not been supported for a long time now. <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681391713,"creation_date":1681391713,"answer_id":76005888,"question_id":76003985,"body_markdown":"&gt;java.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\r\n\r\nYou seem to be missing `spring-messaging` from the class path (or a version that is incompatible, or the jar is corrupt somehow).\r\n\r\nShow your versions/dependencies.","title":"Rabbit Mq Not Consuming Messages after first message","body":"<blockquote>\n<p>java.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException</p>\n</blockquote>\n<p>You seem to be missing <code>spring-messaging</code> from the class path (or a version that is incompatible, or the jar is corrupt somehow).</p>\n<p>Show your versions/dependencies.</p>\n"}],"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76005888,"answer_count":1,"score":0,"last_activity_date":1681454428,"creation_date":1681379073,"question_id":76003985,"body_markdown":"After posting message in queue, receiveing same message twice at the lisitener side.\r\nAfter receving the first message listner stops consuming furthe message . After i restart the listener application it picks the pending message in queue with duplicates.Also receving exception as .Same config is working with other queues                                              \r\n                                                                                           \r\n                                   \r\n                                            \r\n```\r\n SimpleMessageListenerContainer.run: 1251 | Consumer thread error, thread abort.\r\njava.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isCauseFatal(ConditionalRejectingErrorHandler.java:182)\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isFatal(ConditionalRejectingErrorHandler.java:169)\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:104)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1383)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1667)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1442)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:958)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:908)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:81)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1279)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1185)\r\n\tat java.lang.Thread.run(Thread.java:750) \r\n\r\n&gt;SimpleMessageListenerContainer.killOrRestart: 1398 | Stopping container from aborted consumer\r\n&gt; Dpendency:\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n ","title":"Rabbit Mq Not Consuming Messages after first message","body":"<p>After posting message in queue, receiveing same message twice at the lisitener side.\nAfter receving the first message listner stops consuming furthe message . After i restart the listener application it picks the pending message in queue with duplicates.Also receving exception as .Same config is working with other queues</p>\n<pre><code> SimpleMessageListenerContainer.run: 1251 | Consumer thread error, thread abort.\njava.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isCauseFatal(ConditionalRejectingErrorHandler.java:182)\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isFatal(ConditionalRejectingErrorHandler.java:169)\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:104)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1383)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1667)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1442)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:958)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:908)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:81)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1279)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1185)\n    at java.lang.Thread.run(Thread.java:750) \n\n&gt;SimpleMessageListenerContainer.killOrRestart: 1398 | Stopping container from aborted consumer\n&gt; Dpendency:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n \n</code></pre>\n"},{"tags":["java","android","kotlin","opencv","canvas"],"owner":{"account_id":6597297,"reputation":761,"user_id":5096638,"display_name":"PalFS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681454099,"creation_date":1681454099,"question_id":76012194,"body_markdown":"I need to distort the image sub area from the selected shape in android application. I have searched online there are some techniques around it, we can use android canvas directly or open cv for that.\r\n\r\nWe can use image warping to do the desired effect using android canvas.\r\nHere is the code for that: https://github.com/jameswhite7/android_trapezoidal_imagewarp\r\n\r\nI have also tried in OpenCV using this code but its not working. \r\n\r\n    val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\r\n    val rect: RectF = RectF(100f, 100f, 300f, 300f) // define the rectangle to be warped\r\n    \r\n    // Convert the bitmap to a Mat object\r\n    val originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\r\n    Utils.bitmapToMat(originalBitmap, originalMat)\r\n    \r\n    // Convert the selected rectangle to a Mat object\r\n    val roiMat: Mat = originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt()))\r\n    \r\n    // Convert the Mat objects to grayscale\r\n    val originalGrayMat: Mat = Mat(originalMat.size(), CvType.CV_8UC1)\r\n    Imgproc.cvtColor(originalMat, originalGrayMat, Imgproc.COLOR_RGBA2GRAY)\r\n    val roiGrayMat: Mat = Mat(roiMat.size(), CvType.CV_8UC1)\r\n    Imgproc.cvtColor(roiMat, roiGrayMat, Imgproc.COLOR_RGBA2GRAY)\r\n    \r\n    // Calculate the optical flow between the two grayscale Mats\r\n    val flow: Mat = Mat()\r\n    Video.calcOpticalFlowFarneback(originalGrayMat, roiGrayMat, flow, 0.5, 3, 15, 3, 5, 1.2, 0)\r\n    \r\n    // Apply the optical flow to the selected rectangle\r\n    val warpedRoiMat: Mat = Mat(roiMat.size(), CvType.CV_8UC4)\r\n    Imgproc.remap(roiMat, warpedRoiMat, flow, Mat(), Imgproc.INTER_LINEAR)\r\n    \r\n    // Copy the warped rectangle back to the original image\r\n    warpedRoiMat.copyTo(originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt())))\r\n    \r\n    // Convert the Mat object back to a bitmap\r\n    val warpedBitmap: Bitmap = Bitmap.createBitmap(originalMat.cols(), originalMat.rows(), Bitmap.Config.ARGB_8888)\r\n    Utils.matToBitmap(originalMat, warpedBitmap)\r\n\r\nHere is another version that I have tried:\r\n\r\n    // Load the original bitmap image\r\n    val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\r\n    \r\n    // Convert the bitmap to a Mat object\r\n    val originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\r\n    Utils.bitmapToMat(originalBitmap, originalMat)\r\n    \r\n    // Define the points for the source (original) and destination (warped) rectangles\r\n    val srcPoints = MatOfPoint2f(\r\n            Point(0.0, 0.0),\r\n            Point(originalMat.cols().toDouble(), 0.0),\r\n            Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\r\n            Point(0.0, originalMat.rows().toDouble())\r\n    )\r\n    val dstPoints = MatOfPoint2f(\r\n            Point(originalMat.cols() * 0.1, 0.0),\r\n            Point(originalMat.cols() * 0.9, 0.0),\r\n            Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\r\n            Point(0.0, originalMat.rows().toDouble())\r\n    )\r\n    \r\n    // Calculate the perspective transformation matrix\r\n    val perspectiveTransform: Mat = Imgproc.getPerspectiveTransform(srcPoints, dstPoints)\r\n    \r\n    // Apply the perspective transformation to the original image\r\n    val warpedMat: Mat = Mat(originalMat.size(), originalMat.type())\r\n    Imgproc.warpPerspective(originalMat, warpedMat, perspectiveTransform, originalMat.size())\r\n    \r\n    // Convert the warped Mat object back to a bitmap\r\n    val warpedBitmap: Bitmap = Bitmap.createBitmap(warpedMat.cols(), warpedMat.rows(), Bitmap.Config.ARGB_8888)\r\n    Utils.matToBitmap(warpedMat, warpedBitmap)\r\n\r\nI want to add full bitmap behind the sub area so that when user apply distortion it can be applied on that. \r\n\r\nNeed help in applying this functionality.\r\n\r\nThanks\r\n","title":"How to distort image sub area only in android","body":"<p>I need to distort the image sub area from the selected shape in android application. I have searched online there are some techniques around it, we can use android canvas directly or open cv for that.</p>\n<p>We can use image warping to do the desired effect using android canvas.\nHere is the code for that: <a href=\"https://github.com/jameswhite7/android_trapezoidal_imagewarp\" rel=\"nofollow noreferrer\">https://github.com/jameswhite7/android_trapezoidal_imagewarp</a></p>\n<p>I have also tried in OpenCV using this code but its not working.</p>\n<pre><code>val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\nval rect: RectF = RectF(100f, 100f, 300f, 300f) // define the rectangle to be warped\n\n// Convert the bitmap to a Mat object\nval originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\nUtils.bitmapToMat(originalBitmap, originalMat)\n\n// Convert the selected rectangle to a Mat object\nval roiMat: Mat = originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt()))\n\n// Convert the Mat objects to grayscale\nval originalGrayMat: Mat = Mat(originalMat.size(), CvType.CV_8UC1)\nImgproc.cvtColor(originalMat, originalGrayMat, Imgproc.COLOR_RGBA2GRAY)\nval roiGrayMat: Mat = Mat(roiMat.size(), CvType.CV_8UC1)\nImgproc.cvtColor(roiMat, roiGrayMat, Imgproc.COLOR_RGBA2GRAY)\n\n// Calculate the optical flow between the two grayscale Mats\nval flow: Mat = Mat()\nVideo.calcOpticalFlowFarneback(originalGrayMat, roiGrayMat, flow, 0.5, 3, 15, 3, 5, 1.2, 0)\n\n// Apply the optical flow to the selected rectangle\nval warpedRoiMat: Mat = Mat(roiMat.size(), CvType.CV_8UC4)\nImgproc.remap(roiMat, warpedRoiMat, flow, Mat(), Imgproc.INTER_LINEAR)\n\n// Copy the warped rectangle back to the original image\nwarpedRoiMat.copyTo(originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt())))\n\n// Convert the Mat object back to a bitmap\nval warpedBitmap: Bitmap = Bitmap.createBitmap(originalMat.cols(), originalMat.rows(), Bitmap.Config.ARGB_8888)\nUtils.matToBitmap(originalMat, warpedBitmap)\n</code></pre>\n<p>Here is another version that I have tried:</p>\n<pre><code>// Load the original bitmap image\nval originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\n\n// Convert the bitmap to a Mat object\nval originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\nUtils.bitmapToMat(originalBitmap, originalMat)\n\n// Define the points for the source (original) and destination (warped) rectangles\nval srcPoints = MatOfPoint2f(\n        Point(0.0, 0.0),\n        Point(originalMat.cols().toDouble(), 0.0),\n        Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\n        Point(0.0, originalMat.rows().toDouble())\n)\nval dstPoints = MatOfPoint2f(\n        Point(originalMat.cols() * 0.1, 0.0),\n        Point(originalMat.cols() * 0.9, 0.0),\n        Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\n        Point(0.0, originalMat.rows().toDouble())\n)\n\n// Calculate the perspective transformation matrix\nval perspectiveTransform: Mat = Imgproc.getPerspectiveTransform(srcPoints, dstPoints)\n\n// Apply the perspective transformation to the original image\nval warpedMat: Mat = Mat(originalMat.size(), originalMat.type())\nImgproc.warpPerspective(originalMat, warpedMat, perspectiveTransform, originalMat.size())\n\n// Convert the warped Mat object back to a bitmap\nval warpedBitmap: Bitmap = Bitmap.createBitmap(warpedMat.cols(), warpedMat.rows(), Bitmap.Config.ARGB_8888)\nUtils.matToBitmap(warpedMat, warpedBitmap)\n</code></pre>\n<p>I want to add full bitmap behind the sub area so that when user apply distortion it can be applied on that.</p>\n<p>Need help in applying this functionality.</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","visual-studio-2022"],"comments":[{"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"score":0,"creation_date":1681262156,"post_id":75990154,"comment_id":134027085,"body_markdown":"@GiovanniContreras no..The question is How can I use javafx in Visual Studio community 2022","body":"@GiovanniContreras no..The question is How can I use javafx in Visual Studio community 2022"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1681265216,"post_id":75990154,"comment_id":134027341,"body_markdown":"https://learn.microsoft.com/en-us/answers/questions/406652/is-it-possible-to-program-with-java-using-microsof","body":"<a href=\"https://learn.microsoft.com/en-us/answers/questions/406652/is-it-possible-to-program-with-java-using-microsof\" rel=\"nofollow noreferrer\" title=\"is it possible to program with java using microsof\">learn.microsoft.com/en-us/answers/questions/406652/&hellip;</a>"},{"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"score":1,"creation_date":1681266326,"post_id":75990154,"comment_id":134027432,"body_markdown":"@SedJ601 Thank you. Short answer is that it is not supported :)","body":"@SedJ601 Thank you. Short answer is that it is not supported :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1681466074,"post_id":75990154,"comment_id":134064420,"body_markdown":"@SedJ601 hmm ..  the answer https://stackoverflow.com/a/76012042/203657 seems to have found a way - which is wrong: the reference or the answer? Just wondering, I&#39;m not using VS in any version :)","body":"@SedJ601 hmm ..  the answer <a href=\"https://stackoverflow.com/a/76012042/203657\">stackoverflow.com/a/76012042/203657</a> seems to have found a way - which is wrong: the reference or the answer? Just wondering, I&#39;m not using VS in any version :)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1681496541,"post_id":75990154,"comment_id":134071579,"body_markdown":"@kleopatra, interesting. I personally would avoid using Visual Studios Community for `Java`. I do use it for `C#` regularly.","body":"@kleopatra, interesting. I personally would avoid using Visual Studios Community for <code>Java</code>. I do use it for <code>C#</code> regularly."}],"answers":[{"comments":[{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1681458019,"post_id":76012042,"comment_id":134062458,"body_markdown":"Better get the JDK from Adoptium or OpenJDK, and the JFX SDK from their site, NOT from Oracle. Not because the Oracle versions are no good, but because of licensing restrictions, ESPECIALLY if you&#39;re working in a corporate environment","body":"Better get the JDK from Adoptium or OpenJDK, and the JFX SDK from their site, NOT from Oracle. Not because the Oracle versions are no good, but because of licensing restrictions, ESPECIALLY if you&#39;re working in a corporate environment"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1681510247,"post_id":76012042,"comment_id":134073784,"body_markdown":"That&#39;s why i said oracle or gluonhq, or even another source is good to use, i just gave an example in the case of oracle jdk nothing more. And secondly if he was working in corporate environment, I don&#39;t think he would be working with community versions?!","body":"That&#39;s why i said oracle or gluonhq, or even another source is good to use, i just gave an example in the case of oracle jdk nothing more. And secondly if he was working in corporate environment, I don&#39;t think he would be working with community versions?!"}],"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452660,"creation_date":1681452660,"answer_id":76012042,"question_id":75990154,"body_markdown":"1. JavaFX is no longer included as part of the JDK, it became separate project OpenJFX https://openjfx.io/ \r\n2. To use JavaFX in Visual Studio Community 2022, firstly make sure that JDK is installed, if not you can install from the following link https://www.oracle.com/kr/java/technologies/downloads/\r\n3. Then install the JavaFX SDK(oracle or gluonhq)  https://www.oracle.com/java/technologies/install-javafx-sdk.html\r\n4. Configure the Visual Studio to use JDK and JavaFX SDK. In Visual Studio: go to\r\n\r\n   `Tools-&gt;Options-&gt;Java-&gt;&quot;JDK_Directory&quot;`\r\n\r\n   `Tools-&gt;Options-&gt;Java-&gt;&quot;JavaFX_SDK_Directory&quot;`\r\n5. Create new java project and set the path to the JavaFX SDK installation directory\r\n6. In new created java project, add the JavaFX libraries to your project. Right click on your project and select `Properties`. In the properties window, select `Java Build Path` tab and click `Add External JARs` button. Go to your JavaFX lib folder then select all the `jar` files. After doing above steps it JavaFX project should run successfully.\r\n\r\n7. Lastly, from my personal experience, if you want to use JavaFX a lot in your projects, I would suggest `IntelliJ IDEA IDE Ultimate` version, because it has JavaFX built in plugins, so it doesn&#39;t require you to install extra configurations. IntelliJ IDEA is very advised to work with JavaFX projects.\r\n","title":"Java/JavaFX in Visual Studio Community 2022","body":"<ol>\n<li><p>JavaFX is no longer included as part of the JDK, it became separate project OpenJFX <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">https://openjfx.io/</a></p>\n</li>\n<li><p>To use JavaFX in Visual Studio Community 2022, firstly make sure that JDK is installed, if not you can install from the following link <a href=\"https://www.oracle.com/kr/java/technologies/downloads/\" rel=\"nofollow noreferrer\">https://www.oracle.com/kr/java/technologies/downloads/</a></p>\n</li>\n<li><p>Then install the JavaFX SDK(oracle or gluonhq)  <a href=\"https://www.oracle.com/java/technologies/install-javafx-sdk.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/install-javafx-sdk.html</a></p>\n</li>\n<li><p>Configure the Visual Studio to use JDK and JavaFX SDK. In Visual Studio: go to</p>\n<p><code>Tools-&gt;Options-&gt;Java-&gt;&quot;JDK_Directory&quot;</code></p>\n<p><code>Tools-&gt;Options-&gt;Java-&gt;&quot;JavaFX_SDK_Directory&quot;</code></p>\n</li>\n<li><p>Create new java project and set the path to the JavaFX SDK installation directory</p>\n</li>\n<li><p>In new created java project, add the JavaFX libraries to your project. Right click on your project and select <code>Properties</code>. In the properties window, select <code>Java Build Path</code> tab and click <code>Add External JARs</code> button. Go to your JavaFX lib folder then select all the <code>jar</code> files. After doing above steps it JavaFX project should run successfully.</p>\n</li>\n<li><p>Lastly, from my personal experience, if you want to use JavaFX a lot in your projects, I would suggest <code>IntelliJ IDEA IDE Ultimate</code> version, because it has JavaFX built in plugins, so it doesn't require you to install extra configurations. IntelliJ IDEA is very advised to work with JavaFX projects.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681452660,"creation_date":1681247360,"question_id":75990154,"body_markdown":"Is there a way to make JavaFX/Java work in visual studio 2022? Every tutorial shows VSCode but I am looking to try and do a project in Visual studio 2022 for collaborative efforts. \r\n","title":"Java/JavaFX in Visual Studio Community 2022","body":"<p>Is there a way to make JavaFX/Java work in visual studio 2022? Every tutorial shows VSCode but I am looking to try and do a project in Visual studio 2022 for collaborative efforts.</p>\n"},{"tags":["python","java","algorithm","optimization","linear-programming"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1679861901,"post_id":75840798,"comment_id":133792585,"body_markdown":"How do each of the columns correspond to the last one?","body":"How do each of the columns correspond to the last one?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680020358,"post_id":75840798,"comment_id":133824006,"body_markdown":"Still not very sure how you are calculating PnL.\nBut this seems to me like a linear regression problem.","body":"Still not very sure how you are calculating PnL. But this seems to me like a linear regression problem."},{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680083780,"post_id":75840798,"comment_id":133835698,"body_markdown":"@ryanwebjackson the PnL values are from actual trades and variable values are captured at the entry time of those trades. so PnL values are not calculated using the variables.","body":"@ryanwebjackson the PnL values are from actual trades and variable values are captured at the entry time of those trades. so PnL values are not calculated using the variables."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":1,"creation_date":1680095435,"post_id":75840798,"comment_id":133838794,"body_markdown":"Are you saying that you&#39;re trying to find mix/max of pnl dynamically and it&#39;s too slow on the machine you are running on? Please share that relevant code if so.","body":"Are you saying that you&#39;re trying to find mix/max of pnl dynamically and it&#39;s too slow on the machine you are running on? Please share that relevant code if so."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680131526,"post_id":75840798,"comment_id":133847796,"body_markdown":"Have you actually run your algorithm on your sample data? What outputs do you expect to get for it?","body":"Have you actually run your algorithm on your sample data? What outputs do you expect to get for it?"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680131921,"post_id":75840798,"comment_id":133847844,"body_markdown":"I&#39;ve written a local LP implementation, and for your sample data the optimal thing to do for subsets of your data above the first ~10 rows is to select nothing. Are the data randomly generated? If so this is expected and your sample data need to be more realistic.","body":"I&#39;ve written a local LP implementation, and for your sample data the optimal thing to do for subsets of your data above the first ~10 rows is to select nothing. Are the data randomly generated? If so this is expected and your sample data need to be more realistic."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680279952,"post_id":75840798,"comment_id":133877060,"body_markdown":"Don&#39;t link a gist; you need to embed your code","body":"Don&#39;t link a gist; you need to embed your code"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680293686,"post_id":75840798,"comment_id":133879991,"body_markdown":"varMinMaxConditions seems arbitrary - why are you looping to create this, and what is the significance of 19?","body":"varMinMaxConditions seems arbitrary - why are you looping to create this, and what is the significance of 19?"},{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680308557,"post_id":75840798,"comment_id":133882052,"body_markdown":"@ryanwebjackson varMinMaxConditions has min/max conditions of all vars to check if row PnL has to be included or not. each var value is: 0 &lt;= var &amp;&amp; var &lt;= 19","body":"@ryanwebjackson varMinMaxConditions has min/max conditions of all vars to check if row PnL has to be included or not. each var value is: 0 &lt;= var &amp;&amp; var &lt;= 19"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680654188,"post_id":75840798,"comment_id":133933987,"body_markdown":"Your brute-force approach does not show its output. When I run the example data it processes, the optimal strategy is to select only one row, so it&#39;s not a very good illustration, and I expect that for larger-scale problems (which it seems your brute-force solution has not attempted at all), the original problem remains: for the construction of your problem, unless the `v` dimensions are highly correlated, the best strategy will be to select nothing.","body":"Your brute-force approach does not show its output. When I run the example data it processes, the optimal strategy is to select only one row, so it&#39;s not a very good illustration, and I expect that for larger-scale problems (which it seems your brute-force solution has not attempted at all), the original problem remains: for the construction of your problem, unless the <code>v</code> dimensions are highly correlated, the best strategy will be to select nothing."}],"answers":[{"comments":[{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":2,"creation_date":1680131834,"post_id":75873079,"comment_id":133847836,"body_markdown":"This seems really generic, and not helpful for the problem at hand.","body":"This seems really generic, and not helpful for the problem at hand."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680132155,"post_id":75873079,"comment_id":133847876,"body_markdown":"Why would you offer an example about a completely different problem?","body":"Why would you offer an example about a completely different problem?"}],"tags":[],"owner":{"account_id":28013032,"reputation":7,"user_id":21395238,"display_name":"Eddy"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1680063240,"creation_date":1680063240,"answer_id":75873079,"question_id":75840798,"body_markdown":"To determine the minimum and maximum change rates that result in maximum PnL (Profit and Loss).\r\n\r\nWe can perform an optimization analysis. it involves defining an objective function that represents profit and loss, then identifying the number of coefficients for each variable that maximizes this function.\r\n\r\n- **Define your objective function:** Start by defining the function that represents your profit and loss. This function. takes input of the values ​​of the variables that we are optimizing for, and outputs the corresponding profit and loss value.\r\n\r\n- **Identify the changes:** Identify the changes what we want to optimize for. These are usually inputs to your value function.\r\n\r\n - **Set constraints:** Define any constraints that limit the values ​​of\r\n   each variable.\r\n    - For example, if a variable represents the number of\r\n      units you can produce, then it may be limited by resources or time. \r\n   \r\n-  **Choose an optimization algorithm:** There are many algorithms you can\r\n   use to optimize your objective function, such as gradient descent,\r\n   genetic algorithms, or simulated annealing\r\n   \r\n -  **Perform the optimization:** Run the optimization algorithm for\r\n   the objective function with all of the constraints and wait for the solution.\r\n   \r\n -  **Check the results:** When the optimization is completed, consider the\r\n   result value for each variable and the corresponding Profit and Loss value.\r\n\r\n\r\n## Example ##\r\n\r\nSuppose you are a farmer who wants to maximize the profit from selling crops. You have two variables to optimize for: the number of acres to plant and the amount of fertilizer to use per acre.\r\n\r\n&gt; **Profit = (Price per unit of crop * Yield per acre * Number of acres) - (Cost per unit of fertilizer * Amount of fertilizer per acre * Number of acres)**\r\n\r\n- where Price per unit of the crop is the price you can sell the crop for, Yield per acre is the expected yield per acre\r\n\r\n- Cost per unit of fertilizer is the cost of buying fertilizer per unit\r\n\r\n- Amount of fertilizer per acre is the amount of fertilizer you use per acre.\r\n\r\n### Constraints: ###\r\n\r\n- You have 100 acres of land available to plant.\r\n- You can use at most 500 units of fertilizer.\r\n\r\n## Approach ##\r\n\r\nTo solve this problem we can use an optimization algorithm like linear programming.\r\n\r\nHere are the steps involved:\r\n\r\n- Formulate the objective function in terms of linear equations/inequalities.\r\n\r\n    \r\n\r\n&gt; **Objective function: Maximize Profit = 10 * Yield * A - 2 * F * A**\r\n\r\nwhere A is the number of acres, F is the amount of fertilizer per acre, and Yield is the yield per acre.\r\n\r\n- Implement the linear programming algorithm to find the optimal values of A, F, and Yield that maximize the profit.\r\n\r\n- Evaluate the results and check if they make sense. For example, if algorithm suggests that use 200 acres and 400 units of fertilizer, you can check if this is feasible and profitable from a business perspective.","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>To determine the minimum and maximum change rates that result in maximum PnL (Profit and Loss).</p>\n<p>We can perform an optimization analysis. it involves defining an objective function that represents profit and loss, then identifying the number of coefficients for each variable that maximizes this function.</p>\n<ul>\n<li><p><strong>Define your objective function:</strong> Start by defining the function that represents your profit and loss. This function. takes input of the values ​​of the variables that we are optimizing for, and outputs the corresponding profit and loss value.</p>\n</li>\n<li><p><strong>Identify the changes:</strong> Identify the changes what we want to optimize for. These are usually inputs to your value function.</p>\n</li>\n<li><p><strong>Set constraints:</strong> Define any constraints that limit the values ​​of\neach variable.</p>\n<ul>\n<li>For example, if a variable represents the number of\nunits you can produce, then it may be limited by resources or time.</li>\n</ul>\n</li>\n<li><p><strong>Choose an optimization algorithm:</strong> There are many algorithms you can\nuse to optimize your objective function, such as gradient descent,\ngenetic algorithms, or simulated annealing</p>\n</li>\n<li><p><strong>Perform the optimization:</strong> Run the optimization algorithm for\nthe objective function with all of the constraints and wait for the solution.</p>\n</li>\n<li><p><strong>Check the results:</strong> When the optimization is completed, consider the\nresult value for each variable and the corresponding Profit and Loss value.</p>\n</li>\n</ul>\n<h2>Example</h2>\n<p>Suppose you are a farmer who wants to maximize the profit from selling crops. You have two variables to optimize for: the number of acres to plant and the amount of fertilizer to use per acre.</p>\n<blockquote>\n<p><strong>Profit = (Price per unit of crop * Yield per acre * Number of acres) - (Cost per unit of fertilizer * Amount of fertilizer per acre * Number of acres)</strong></p>\n</blockquote>\n<ul>\n<li><p>where Price per unit of the crop is the price you can sell the crop for, Yield per acre is the expected yield per acre</p>\n</li>\n<li><p>Cost per unit of fertilizer is the cost of buying fertilizer per unit</p>\n</li>\n<li><p>Amount of fertilizer per acre is the amount of fertilizer you use per acre.</p>\n</li>\n</ul>\n<h3>Constraints:</h3>\n<ul>\n<li>You have 100 acres of land available to plant.</li>\n<li>You can use at most 500 units of fertilizer.</li>\n</ul>\n<h2>Approach</h2>\n<p>To solve this problem we can use an optimization algorithm like linear programming.</p>\n<p>Here are the steps involved:</p>\n<ul>\n<li>Formulate the objective function in terms of linear equations/inequalities.</li>\n</ul>\n<blockquote>\n<p><strong>Objective function: Maximize Profit = 10 * Yield * A - 2 * F * A</strong></p>\n</blockquote>\n<p>where A is the number of acres, F is the amount of fertilizer per acre, and Yield is the yield per acre.</p>\n<ul>\n<li><p>Implement the linear programming algorithm to find the optimal values of A, F, and Yield that maximize the profit.</p>\n</li>\n<li><p>Evaluate the results and check if they make sense. For example, if algorithm suggests that use 200 acres and 400 units of fertilizer, you can check if this is feasible and profitable from a business perspective.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680272244,"post_id":75883015,"comment_id":133875021,"body_markdown":"the sample data is not randomly generated but actual data. unfortunately, you code did not work correctly for the sample data. I&#39;ve added the brute force approach but its too slow for data that has more than 3 to 4 variables.","body":"the sample data is not randomly generated but actual data. unfortunately, you code did not work correctly for the sample data. I&#39;ve added the brute force approach but its too slow for data that has more than 3 to 4 variables."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680292538,"post_id":75883015,"comment_id":133879756,"body_markdown":"Exclusion can be down with a pre-processing step.","body":"Exclusion can be down with a pre-processing step."}],"tags":[],"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680133815,"creation_date":1680133141,"answer_id":75883015,"question_id":75840798,"body_markdown":"Linear programming is a viable approach, made a little tricky by the fact that your range constraints need to fit into two cases:\r\n\r\n- When a row needs to be included, it needs to fit within the range when the assignment boolean is high (or relaxed constraints when it&#39;s low) - easy, but...\r\n- When a row needs to be _excluded_, it needs to be _outside_ of the range. This is easier said than done. Enforcing a range exclusion, as [Cornell University](https://optimization.cbe.cornell.edu/index.php?title=Optimization_with_absolute_values#Form_when_.7F.27.22.60UNIQ--postMath-00000013-QINU.60.22.27.7F) writes, is non-convex and requires a new binary variable for each element.\r\n\r\nThis approach is able to run pretty quickly on your sample of 150 rows. However, those sample data are (I&#39;m guessing) randomly generated, and as such are uniquely terrible for this algorithm: for a perfectly uniform distribution of your input variables, as the number of rows increases, the optimal strategy will always be to select nothing.\r\n\r\nRunning on this toy example instead:\r\n\r\n```csv\r\nv1,v2,v3,v4,v5,PnL\r\n1,3,3,3,3,-500\r\n2,4,4,4,4,100\r\n2,4,5,4,5,100\r\n4,7,7,7,7,100\r\n5,8,8,8,8,-500\r\n6,9,9,9,9,150\r\n```\r\n\r\nis much more illustrative of what a successful algorithm should do, and indeed, it produces a sensible choice:\r\n\r\n```none\r\nPnL total: 300.00\r\nAssigned rows: 3/6\r\nBounds:\r\n    lower  upper\r\nv1    1.5    4.0\r\nv2    3.5    7.0\r\nv3    3.5    7.0\r\nv4    3.5    7.0\r\nv5    3.5    7.0\r\n```\r\n\r\nImplementation\r\n-------------\r\n\r\nShown in Python for brevity.\r\n\r\n```python\r\nimport pandas as pd\r\nimport pulp\r\n\r\n\r\ndef make_col_vars(v_name: str) -&gt; pd.Series:\r\n    lower = pulp.LpVariable(name=&#39;lower_&#39; + v_name, lowBound=0, upBound=19)\r\n    upper = pulp.LpVariable(name=&#39;upper_&#39; + v_name, lowBound=0, upBound=19)\r\n    prob.addConstraint(name=&#39;interval_&#39; + v_name, constraint=lower &lt;= upper)\r\n    return pd.Series(data=(lower, upper), index=(&#39;lower&#39;, &#39;upper&#39;))\r\n\r\n\r\ndef make_row_vars(row: pd.Series) -&gt; pd.Series:\r\n    assign = pulp.LpVariable(name=f&#39;asn_{row.idx:03.0f}&#39;, cat=pulp.LpBinary)\r\n\r\n    for v_name, v in row[:-2].iteritems():\r\n        v_bounds = bounds.loc[v_name]\r\n        suffix = f&#39;_{v_name}_{row.idx:03.0f}&#39;\r\n\r\n        # If assign, then v_bounds.lower &lt;= v &lt;= v_bounds.upper\r\n        prob.addConstraint(name=&#39;lower_in&#39; + suffix, constraint=v &gt;= v_bounds.lower - 25*(1 - assign))\r\n        prob.addConstraint(name=&#39;upper_in&#39; + suffix, constraint=v &lt;= v_bounds.upper + 25*(1 - assign))\r\n\r\n        # otherwise v must be outside of those bounds\r\n        # v &lt;= lower-1 || upper+1 &lt;= v\r\n\r\n        is_upper = pulp.LpVariable(name=&#39;is_upper&#39; + suffix, cat=pulp.LpBinary)\r\n        # enforce if is_upper &amp;&amp; !assigned\r\n        prob.addConstraint(name=&#39;upper_out&#39; + suffix, constraint=v &gt;= v_bounds.upper+0.5 - 25*(assign - is_upper + 1))\r\n        # enforce if !is_upper &amp;&amp; !assigned\r\n        prob.addConstraint(name=&#39;lower_out&#39; + suffix, constraint=v &lt;= v_bounds.lower-0.5 + 25*(assign + is_upper))\r\n\r\n    return pd.Series((assign,))\r\n\r\n\r\ndf = pd.read_csv(&#39;Optimize-MinMax.csv&#39;)\r\nprob = pulp.LpProblem(name=&#39;profit_loss&#39;, sense=pulp.LpMaximize)\r\nbounds = df.columns[:-1].to_series().apply(make_col_vars)\r\ndf[&#39;idx&#39;] = df.index\r\ndf[&#39;assign&#39;] = df.apply(make_row_vars, axis=1)\r\n\r\nprob.objective = pulp.lpDot(df.PnL, df[&#39;assign&#39;])\r\n\r\nprint(prob)\r\nprob.solve()\r\nassert prob.status == pulp.const.LpStatusOptimal\r\n\r\nprint(f&#39;PnL total: {prob.objective.value():.2f}&#39;)\r\nn_assigned = df[&quot;assign&quot;].apply(pulp.LpVariable.value).sum()\r\nprint(f&#39;Assigned rows: {n_assigned:.0f}/{len(df)}&#39;)\r\nprint(&#39;Bounds:&#39;)\r\nprint(bounds.applymap(pulp.LpVariable.value))\r\n```\r\n\r\nOutput\r\n------\r\n\r\n```none\r\nprofit_loss:\r\nMAXIMIZE\r\n-500*asn_000 + 100*asn_001 + 100*asn_002 + 100*asn_003 + -500*asn_004 + 150*asn_005 + 0\r\nSUBJECT TO\r\ninterval_v1: lower_v1 - upper_v1 &lt;= 0\r\n\r\ninterval_v2: lower_v2 - upper_v2 &lt;= 0\r\n\r\ninterval_v3: lower_v3 - upper_v3 &lt;= 0\r\n\r\ninterval_v4: lower_v4 - upper_v4 &lt;= 0\r\n\r\ninterval_v5: lower_v5 - upper_v5 &lt;= 0\r\n\r\nlower_in_v1_000: 25 asn_000 + lower_v1 &lt;= 26\r\n\r\nupper_in_v1_000: - 25 asn_000 + upper_v1 &gt;= -24\r\n\r\nupper_out_v1_000: - 25 asn_000 + 25 is_upper_v1_000 + upper_v1 &lt;= 25.5\r\n\r\nlower_out_v1_000: 25 asn_000 + 25 is_upper_v1_000 + lower_v1 &gt;= 1.5\r\n\r\nlower_in_v2_000: 25 asn_000 + lower_v2 &lt;= 28\r\n\r\nupper_in_v2_000: - 25 asn_000 + upper_v2 &gt;= -22\r\n\r\nupper_out_v2_000: - 25 asn_000 + 25 is_upper_v2_000 + upper_v2 &lt;= 27.5\r\n\r\nlower_out_v2_000: 25 asn_000 + 25 is_upper_v2_000 + lower_v2 &gt;= 3.5\r\n\r\nlower_in_v3_000: 25 asn_000 + lower_v3 &lt;= 28\r\n\r\nupper_in_v3_000: - 25 asn_000 + upper_v3 &gt;= -22\r\n\r\nupper_out_v3_000: - 25 asn_000 + 25 is_upper_v3_000 + upper_v3 &lt;= 27.5\r\n\r\nlower_out_v3_000: 25 asn_000 + 25 is_upper_v3_000 + lower_v3 &gt;= 3.5\r\n\r\nlower_in_v4_000: 25 asn_000 + lower_v4 &lt;= 28\r\n\r\nupper_in_v4_000: - 25 asn_000 + upper_v4 &gt;= -22\r\n\r\nupper_out_v4_000: - 25 asn_000 + 25 is_upper_v4_000 + upper_v4 &lt;= 27.5\r\n\r\nlower_out_v4_000: 25 asn_000 + 25 is_upper_v4_000 + lower_v4 &gt;= 3.5\r\n\r\nlower_in_v5_000: 25 asn_000 + lower_v5 &lt;= 28\r\n\r\nupper_in_v5_000: - 25 asn_000 + upper_v5 &gt;= -22\r\n\r\nupper_out_v5_000: - 25 asn_000 + 25 is_upper_v5_000 + upper_v5 &lt;= 27.5\r\n\r\nlower_out_v5_000: 25 asn_000 + 25 is_upper_v5_000 + lower_v5 &gt;= 3.5\r\n\r\nlower_in_v1_001: 25 asn_001 + lower_v1 &lt;= 27\r\n\r\nupper_in_v1_001: - 25 asn_001 + upper_v1 &gt;= -23\r\n\r\nupper_out_v1_001: - 25 asn_001 + 25 is_upper_v1_001 + upper_v1 &lt;= 26.5\r\n\r\nlower_out_v1_001: 25 asn_001 + 25 is_upper_v1_001 + lower_v1 &gt;= 2.5\r\n\r\nlower_in_v2_001: 25 asn_001 + lower_v2 &lt;= 29\r\n\r\nupper_in_v2_001: - 25 asn_001 + upper_v2 &gt;= -21\r\n\r\nupper_out_v2_001: - 25 asn_001 + 25 is_upper_v2_001 + upper_v2 &lt;= 28.5\r\n\r\nlower_out_v2_001: 25 asn_001 + 25 is_upper_v2_001 + lower_v2 &gt;= 4.5\r\n\r\nlower_in_v3_001: 25 asn_001 + lower_v3 &lt;= 29\r\n\r\nupper_in_v3_001: - 25 asn_001 + upper_v3 &gt;= -21\r\n\r\nupper_out_v3_001: - 25 asn_001 + 25 is_upper_v3_001 + upper_v3 &lt;= 28.5\r\n\r\nlower_out_v3_001: 25 asn_001 + 25 is_upper_v3_001 + lower_v3 &gt;= 4.5\r\n\r\nlower_in_v4_001: 25 asn_001 + lower_v4 &lt;= 29\r\n\r\nupper_in_v4_001: - 25 asn_001 + upper_v4 &gt;= -21\r\n\r\nupper_out_v4_001: - 25 asn_001 + 25 is_upper_v4_001 + upper_v4 &lt;= 28.5\r\n\r\nlower_out_v4_001: 25 asn_001 + 25 is_upper_v4_001 + lower_v4 &gt;= 4.5\r\n\r\nlower_in_v5_001: 25 asn_001 + lower_v5 &lt;= 29\r\n\r\nupper_in_v5_001: - 25 asn_001 + upper_v5 &gt;= -21\r\n\r\nupper_out_v5_001: - 25 asn_001 + 25 is_upper_v5_001 + upper_v5 &lt;= 28.5\r\n\r\nlower_out_v5_001: 25 asn_001 + 25 is_upper_v5_001 + lower_v5 &gt;= 4.5\r\n\r\nlower_in_v1_002: 25 asn_002 + lower_v1 &lt;= 27\r\n\r\nupper_in_v1_002: - 25 asn_002 + upper_v1 &gt;= -23\r\n\r\nupper_out_v1_002: - 25 asn_002 + 25 is_upper_v1_002 + upper_v1 &lt;= 26.5\r\n\r\nlower_out_v1_002: 25 asn_002 + 25 is_upper_v1_002 + lower_v1 &gt;= 2.5\r\n\r\nlower_in_v2_002: 25 asn_002 + lower_v2 &lt;= 29\r\n\r\nupper_in_v2_002: - 25 asn_002 + upper_v2 &gt;= -21\r\n\r\nupper_out_v2_002: - 25 asn_002 + 25 is_upper_v2_002 + upper_v2 &lt;= 28.5\r\n\r\nlower_out_v2_002: 25 asn_002 + 25 is_upper_v2_002 + lower_v2 &gt;= 4.5\r\n\r\nlower_in_v3_002: 25 asn_002 + lower_v3 &lt;= 30\r\n\r\nupper_in_v3_002: - 25 asn_002 + upper_v3 &gt;= -20\r\n\r\nupper_out_v3_002: - 25 asn_002 + 25 is_upper_v3_002 + upper_v3 &lt;= 29.5\r\n\r\nlower_out_v3_002: 25 asn_002 + 25 is_upper_v3_002 + lower_v3 &gt;= 5.5\r\n\r\nlower_in_v4_002: 25 asn_002 + lower_v4 &lt;= 29\r\n\r\nupper_in_v4_002: - 25 asn_002 + upper_v4 &gt;= -21\r\n\r\nupper_out_v4_002: - 25 asn_002 + 25 is_upper_v4_002 + upper_v4 &lt;= 28.5\r\n\r\nlower_out_v4_002: 25 asn_002 + 25 is_upper_v4_002 + lower_v4 &gt;= 4.5\r\n\r\nlower_in_v5_002: 25 asn_002 + lower_v5 &lt;= 30\r\n\r\nupper_in_v5_002: - 25 asn_002 + upper_v5 &gt;= -20\r\n\r\nupper_out_v5_002: - 25 asn_002 + 25 is_upper_v5_002 + upper_v5 &lt;= 29.5\r\n\r\nlower_out_v5_002: 25 asn_002 + 25 is_upper_v5_002 + lower_v5 &gt;= 5.5\r\n\r\nlower_in_v1_003: 25 asn_003 + lower_v1 &lt;= 29\r\n\r\nupper_in_v1_003: - 25 asn_003 + upper_v1 &gt;= -21\r\n\r\nupper_out_v1_003: - 25 asn_003 + 25 is_upper_v1_003 + upper_v1 &lt;= 28.5\r\n\r\nlower_out_v1_003: 25 asn_003 + 25 is_upper_v1_003 + lower_v1 &gt;= 4.5\r\n\r\nlower_in_v2_003: 25 asn_003 + lower_v2 &lt;= 32\r\n\r\nupper_in_v2_003: - 25 asn_003 + upper_v2 &gt;= -18\r\n\r\nupper_out_v2_003: - 25 asn_003 + 25 is_upper_v2_003 + upper_v2 &lt;= 31.5\r\n\r\nlower_out_v2_003: 25 asn_003 + 25 is_upper_v2_003 + lower_v2 &gt;= 7.5\r\n\r\nlower_in_v3_003: 25 asn_003 + lower_v3 &lt;= 32\r\n\r\nupper_in_v3_003: - 25 asn_003 + upper_v3 &gt;= -18\r\n\r\nupper_out_v3_003: - 25 asn_003 + 25 is_upper_v3_003 + upper_v3 &lt;= 31.5\r\n\r\nlower_out_v3_003: 25 asn_003 + 25 is_upper_v3_003 + lower_v3 &gt;= 7.5\r\n\r\nlower_in_v4_003: 25 asn_003 + lower_v4 &lt;= 32\r\n\r\nupper_in_v4_003: - 25 asn_003 + upper_v4 &gt;= -18\r\n\r\nupper_out_v4_003: - 25 asn_003 + 25 is_upper_v4_003 + upper_v4 &lt;= 31.5\r\n\r\nlower_out_v4_003: 25 asn_003 + 25 is_upper_v4_003 + lower_v4 &gt;= 7.5\r\n\r\nlower_in_v5_003: 25 asn_003 + lower_v5 &lt;= 32\r\n\r\nupper_in_v5_003: - 25 asn_003 + upper_v5 &gt;= -18\r\n\r\nupper_out_v5_003: - 25 asn_003 + 25 is_upper_v5_003 + upper_v5 &lt;= 31.5\r\n\r\nlower_out_v5_003: 25 asn_003 + 25 is_upper_v5_003 + lower_v5 &gt;= 7.5\r\n\r\nlower_in_v1_004: 25 asn_004 + lower_v1 &lt;= 30\r\n\r\nupper_in_v1_004: - 25 asn_004 + upper_v1 &gt;= -20\r\n\r\nupper_out_v1_004: - 25 asn_004 + 25 is_upper_v1_004 + upper_v1 &lt;= 29.5\r\n\r\nlower_out_v1_004: 25 asn_004 + 25 is_upper_v1_004 + lower_v1 &gt;= 5.5\r\n\r\nlower_in_v2_004: 25 asn_004 + lower_v2 &lt;= 33\r\n\r\nupper_in_v2_004: - 25 asn_004 + upper_v2 &gt;= -17\r\n\r\nupper_out_v2_004: - 25 asn_004 + 25 is_upper_v2_004 + upper_v2 &lt;= 32.5\r\n\r\nlower_out_v2_004: 25 asn_004 + 25 is_upper_v2_004 + lower_v2 &gt;= 8.5\r\n\r\nlower_in_v3_004: 25 asn_004 + lower_v3 &lt;= 33\r\n\r\nupper_in_v3_004: - 25 asn_004 + upper_v3 &gt;= -17\r\n\r\nupper_out_v3_004: - 25 asn_004 + 25 is_upper_v3_004 + upper_v3 &lt;= 32.5\r\n\r\nlower_out_v3_004: 25 asn_004 + 25 is_upper_v3_004 + lower_v3 &gt;= 8.5\r\n\r\nlower_in_v4_004: 25 asn_004 + lower_v4 &lt;= 33\r\n\r\nupper_in_v4_004: - 25 asn_004 + upper_v4 &gt;= -17\r\n\r\nupper_out_v4_004: - 25 asn_004 + 25 is_upper_v4_004 + upper_v4 &lt;= 32.5\r\n\r\nlower_out_v4_004: 25 asn_004 + 25 is_upper_v4_004 + lower_v4 &gt;= 8.5\r\n\r\nlower_in_v5_004: 25 asn_004 + lower_v5 &lt;= 33\r\n\r\nupper_in_v5_004: - 25 asn_004 + upper_v5 &gt;= -17\r\n\r\nupper_out_v5_004: - 25 asn_004 + 25 is_upper_v5_004 + upper_v5 &lt;= 32.5\r\n\r\nlower_out_v5_004: 25 asn_004 + 25 is_upper_v5_004 + lower_v5 &gt;= 8.5\r\n\r\nlower_in_v1_005: 25 asn_005 + lower_v1 &lt;= 31\r\n\r\nupper_in_v1_005: - 25 asn_005 + upper_v1 &gt;= -19\r\n\r\nupper_out_v1_005: - 25 asn_005 + 25 is_upper_v1_005 + upper_v1 &lt;= 30.5\r\n\r\nlower_out_v1_005: 25 asn_005 + 25 is_upper_v1_005 + lower_v1 &gt;= 6.5\r\n\r\nlower_in_v2_005: 25 asn_005 + lower_v2 &lt;= 34\r\n\r\nupper_in_v2_005: - 25 asn_005 + upper_v2 &gt;= -16\r\n\r\nupper_out_v2_005: - 25 asn_005 + 25 is_upper_v2_005 + upper_v2 &lt;= 33.5\r\n\r\nlower_out_v2_005: 25 asn_005 + 25 is_upper_v2_005 + lower_v2 &gt;= 9.5\r\n\r\nlower_in_v3_005: 25 asn_005 + lower_v3 &lt;= 34\r\n\r\nupper_in_v3_005: - 25 asn_005 + upper_v3 &gt;= -16\r\n\r\nupper_out_v3_005: - 25 asn_005 + 25 is_upper_v3_005 + upper_v3 &lt;= 33.5\r\n\r\nlower_out_v3_005: 25 asn_005 + 25 is_upper_v3_005 + lower_v3 &gt;= 9.5\r\n\r\nlower_in_v4_005: 25 asn_005 + lower_v4 &lt;= 34\r\n\r\nupper_in_v4_005: - 25 asn_005 + upper_v4 &gt;= -16\r\n\r\nupper_out_v4_005: - 25 asn_005 + 25 is_upper_v4_005 + upper_v4 &lt;= 33.5\r\n\r\nlower_out_v4_005: 25 asn_005 + 25 is_upper_v4_005 + lower_v4 &gt;= 9.5\r\n\r\nlower_in_v5_005: 25 asn_005 + lower_v5 &lt;= 34\r\n\r\nupper_in_v5_005: - 25 asn_005 + upper_v5 &gt;= -16\r\n\r\nupper_out_v5_005: - 25 asn_005 + 25 is_upper_v5_005 + upper_v5 &lt;= 33.5\r\n\r\nlower_out_v5_005: 25 asn_005 + 25 is_upper_v5_005 + lower_v5 &gt;= 9.5\r\n\r\nVARIABLES\r\n0 &lt;= asn_000 &lt;= 1 Integer\r\n0 &lt;= asn_001 &lt;= 1 Integer\r\n0 &lt;= asn_002 &lt;= 1 Integer\r\n0 &lt;= asn_003 &lt;= 1 Integer\r\n0 &lt;= asn_004 &lt;= 1 Integer\r\n0 &lt;= asn_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_005 &lt;= 1 Integer\r\nlower_v1 &lt;= 19 Continuous\r\nlower_v2 &lt;= 19 Continuous\r\nlower_v3 &lt;= 19 Continuous\r\nlower_v4 &lt;= 19 Continuous\r\nlower_v5 &lt;= 19 Continuous\r\nupper_v1 &lt;= 19 Continuous\r\nupper_v2 &lt;= 19 Continuous\r\nupper_v3 &lt;= 19 Continuous\r\nupper_v4 &lt;= 19 Continuous\r\nupper_v5 &lt;= 19 Continuous\r\n\r\nWelcome to the CBC MILP Solver \r\nVersion: 2.10.3 \r\nBuild Date: Dec 15 2019 \r\n\r\ncommand line - .venv/lib/python3.10/site-packages/pulp/solverdir/cbc/linux/64/cbc /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.mps max timeMode elapsed branch printingOptions all solution /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.sol (default strategy 1)\r\nAt line 2 NAME          MODEL\r\nAt line 3 ROWS\r\nAt line 130 COLUMNS\r\nAt line 519 RHS\r\nAt line 645 BOUNDS\r\nAt line 692 ENDATA\r\nProblem MODEL has 125 rows, 46 columns and 310 elements\r\nCoin0008I MODEL read with 0 errors\r\nOption for timeMode changed from cpu to elapsed\r\nContinuous objective value is 450 - 0.00 seconds\r\nCgl0003I 0 fixed, 0 tightened bounds, 60 strengthened rows, 0 substitutions\r\nCgl0003I 0 fixed, 0 tightened bounds, 15 strengthened rows, 0 substitutions\r\nCgl0003I 0 fixed, 0 tightened bounds, 10 strengthened rows, 0 substitutions\r\nCgl0004I processed model has 125 rows, 46 columns (36 integer (36 of which binary)) and 385 elements\r\nCutoff increment increased from 1e-05 to 49.9999\r\nCbc0038I Initial state - 10 integers unsatisfied sum - 2.62534\r\nCbc0038I Pass   1: suminf.    0.51766 (6) obj. -262.65 iterations 40\r\nCbc0038I Pass   2: suminf.    0.37920 (2) obj. 810.4 iterations 24\r\nCbc0038I Pass   3: suminf.    0.55711 (3) obj. 119.936 iterations 5\r\nCbc0038I Pass   4: suminf.    0.24000 (2) obj. 269 iterations 10\r\nCbc0038I Pass   5: suminf.    0.51356 (2) obj. 119.936 iterations 7\r\nCbc0038I Pass   6: suminf.    0.89604 (5) obj. 141.923 iterations 14\r\nCbc0038I Pass   7: suminf.    0.59491 (5) obj. 670.688 iterations 15\r\nCbc0038I Pass   8: suminf.    0.92668 (5) obj. 51.2876 iterations 25\r\nCbc0038I Pass   9: suminf.    0.92668 (5) obj. 51.2876 iterations 7\r\nCbc0038I Pass  10: suminf.    0.59689 (6) obj. 667.219 iterations 33\r\nCbc0038I Pass  11: suminf.    0.92668 (5) obj. 51.2876 iterations 29\r\nCbc0038I Pass  12: suminf.    0.48428 (4) obj. 662.897 iterations 20\r\nCbc0038I Pass  13: suminf.    0.95405 (6) obj. 119.888 iterations 20\r\nCbc0038I Pass  14: suminf.    0.27012 (5) obj. 612.921 iterations 30\r\nCbc0038I Pass  15: suminf.    0.92255 (5) obj. 116.433 iterations 26\r\nCbc0038I Pass  16: suminf.    0.65069 (6) obj. 181.373 iterations 17\r\nCbc0038I Pass  17: suminf.    0.85917 (5) obj. 551.764 iterations 24\r\nCbc0038I Pass  18: suminf.    0.23280 (4) obj. 140.28 iterations 22\r\nCbc0038I Pass  19: suminf.    0.81237 (3) obj. 84.7919 iterations 23\r\nCbc0038I Pass  20: suminf.    0.45133 (3) obj. 192.419 iterations 8\r\nCbc0038I Pass  21: suminf.    0.67675 (6) obj. 579.906 iterations 21\r\nCbc0038I Pass  22: suminf.    0.89960 (5) obj. -94.0115 iterations 29\r\nCbc0038I Pass  23: suminf.    0.56051 (3) obj. 180.957 iterations 14\r\nCbc0038I Pass  24: suminf.    0.74317 (3) obj. 37.3469 iterations 14\r\nCbc0038I Pass  25: suminf.    0.84688 (5) obj. 158.839 iterations 20\r\nCbc0038I Pass  26: suminf.    0.12352 (3) obj. 695.44 iterations 22\r\nCbc0038I Pass  27: suminf.    0.54921 (5) obj. 35.9499 iterations 17\r\nCbc0038I Pass  28: suminf.    0.54457 (4) obj. 782.282 iterations 27\r\nCbc0038I Pass  29: suminf.    0.53404 (4) obj. 32.8182 iterations 25\r\nCbc0038I Pass  30: suminf.    0.50976 (4) obj. 311.676 iterations 11\r\nCbc0038I Rounding solution of 700 is better than previous of 1e+50\r\n\r\nCbc0038I Before mini branch and bound, 9 integers at bound fixed and 0 continuous\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 116 rows 37 columns\r\nCbc0038I Mini branch and bound improved solution from 700 to -150 (0.02 seconds)\r\nCbc0038I Round again with cutoff of -225\r\nCbc0038I Reduced cost fixing fixed 2 variables on major pass 2\r\nCbc0038I Pass  30: suminf.    0.98992 (5) obj. -344.44 iterations 23\r\nCbc0038I Pass  31: suminf.    1.64306 (8) obj. -225 iterations 19\r\nCbc0038I Pass  32: suminf.    1.01520 (8) obj. -225 iterations 9\r\nCbc0038I Pass  33: suminf.    0.59837 (5) obj. -225 iterations 29\r\nCbc0038I Pass  34: suminf.    0.12000 (2) obj. -235 iterations 21\r\nCbc0038I Pass  35: suminf.    0.56667 (3) obj. -225 iterations 7\r\nCbc0038I Pass  36: suminf.    0.23800 (3) obj. -225 iterations 4\r\nCbc0038I Pass  37: suminf.    0.18667 (2) obj. -225 iterations 13\r\nCbc0038I Pass  38: suminf.    0.60572 (4) obj. -225 iterations 10\r\nCbc0038I Pass  39: suminf.    0.55246 (4) obj. -225 iterations 3\r\nCbc0038I Pass  40: suminf.    0.90000 (3) obj. -225 iterations 8\r\nCbc0038I Pass  41: suminf.    0.90000 (3) obj. -225 iterations 1\r\nCbc0038I Pass  42: suminf.    0.72410 (4) obj. -225 iterations 10\r\nCbc0038I Pass  43: suminf.    0.56667 (3) obj. -225 iterations 11\r\nCbc0038I Pass  44: suminf.    0.25143 (3) obj. -225 iterations 6\r\nCbc0038I Pass  45: suminf.    0.18667 (2) obj. -225 iterations 16\r\nCbc0038I Pass  46: suminf.    0.12000 (2) obj. -235 iterations 1\r\nCbc0038I Pass  47: suminf.    0.56667 (3) obj. -225 iterations 6\r\nCbc0038I Pass  48: suminf.    0.82724 (7) obj. -225 iterations 31\r\nCbc0038I Pass  49: suminf.    0.82730 (7) obj. -225 iterations 2\r\nCbc0038I Pass  50: suminf.    0.59837 (5) obj. -225 iterations 25\r\nCbc0038I Pass  51: suminf.    0.61314 (6) obj. -273.399 iterations 23\r\nCbc0038I Pass  52: suminf.    0.63333 (3) obj. -225 iterations 25\r\nCbc0038I Pass  53: suminf.    0.89613 (4) obj. -225 iterations 7\r\nCbc0038I Pass  54: suminf.    0.40296 (5) obj. -225 iterations 8\r\nCbc0038I Pass  55: suminf.    0.52545 (3) obj. -225 iterations 17\r\nCbc0038I Pass  56: suminf.    0.35917 (4) obj. -247.806 iterations 4\r\nCbc0038I Pass  57: suminf.    0.23800 (3) obj. -225 iterations 19\r\nCbc0038I Pass  58: suminf.    0.23800 (3) obj. -225 iterations 0\r\nCbc0038I Pass  59: suminf.    0.44904 (3) obj. -225 iterations 12\r\nCbc0038I No solution found this major pass\r\nCbc0038I Before mini branch and bound, 12 integers at bound fixed and 0 continuous\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 95 rows 34 columns\r\nCbc0038I Mini branch and bound did not improve solution (0.03 seconds)\r\nCbc0038I After 0.03 seconds - Feasibility pump exiting with objective of -150 - took 0.02 seconds\r\nCbc0012I Integer solution of -150 found by feasibility pump after 0 iterations and 0 nodes (0.03 seconds)\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 0 rows 0 columns\r\nCbc0012I Integer solution of -300 found by DiveCoefficient after 31 iterations and 0 nodes (0.03 seconds)\r\nCbc0013I At root node, 0 cuts changed objective from -450 to -300 in 3 passes\r\nCbc0014I Cut generator 0 (Probing) - 37 row cuts average 2.0 elements, 12 column cuts (12 active)  in 0.000 seconds - new frequency is 1\r\nCbc0014I Cut generator 1 (Gomory) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 2 (Knapsack) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 3 (Clique) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 4 (MixedIntegerRounding2) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 5 (FlowCover) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0001I Search completed - best objective -300, took 31 iterations and 0 nodes (0.03 seconds)\r\nCbc0035I Maximum depth 0, 2 variables fixed on reduced cost\r\nCuts at root node changed objective from -450 to -300\r\nProbing was tried 3 times and created 49 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nGomory was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nKnapsack was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nClique was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nMixedIntegerRounding2 was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nFlowCover was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nTwoMirCuts was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nZeroHalf was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\n\r\nResult - Optimal solution found\r\n\r\nObjective value:                300.00000000\r\nEnumerated nodes:               0\r\nTotal iterations:               31\r\nTime (CPU seconds):             0.03\r\nTime (Wallclock seconds):       0.03\r\n\r\nOption for printingOptions changed from normal to all\r\nTotal time (CPU seconds):       0.03   (Wallclock seconds):       0.03\r\n\r\nPnL total: 300.00\r\nAssigned rows: 3/6\r\nBounds:\r\n    lower  upper\r\nv1    1.5    4.0\r\nv2    3.5    7.0\r\nv3    3.5    7.0\r\nv4    3.5    7.0\r\nv5    3.5    7.0\r\n```\r\n\r\nThis strategy can be [carried to Java](https://or.stackexchange.com/questions/617/solving-mip-in-java-with-free-software) without too much fuss.","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>Linear programming is a viable approach, made a little tricky by the fact that your range constraints need to fit into two cases:</p>\n<ul>\n<li>When a row needs to be included, it needs to fit within the range when the assignment boolean is high (or relaxed constraints when it's low) - easy, but...</li>\n<li>When a row needs to be <em>excluded</em>, it needs to be <em>outside</em> of the range. This is easier said than done. Enforcing a range exclusion, as <a href=\"https://optimization.cbe.cornell.edu/index.php?title=Optimization_with_absolute_values#Form_when_.7F.27.22.60UNIQ--postMath-00000013-QINU.60.22.27.7F\" rel=\"nofollow noreferrer\">Cornell University</a> writes, is non-convex and requires a new binary variable for each element.</li>\n</ul>\n<p>This approach is able to run pretty quickly on your sample of 150 rows. However, those sample data are (I'm guessing) randomly generated, and as such are uniquely terrible for this algorithm: for a perfectly uniform distribution of your input variables, as the number of rows increases, the optimal strategy will always be to select nothing.</p>\n<p>Running on this toy example instead:</p>\n<pre><code>v1,v2,v3,v4,v5,PnL\n1,3,3,3,3,-500\n2,4,4,4,4,100\n2,4,5,4,5,100\n4,7,7,7,7,100\n5,8,8,8,8,-500\n6,9,9,9,9,150\n</code></pre>\n<p>is much more illustrative of what a successful algorithm should do, and indeed, it produces a sensible choice:</p>\n<pre class=\"lang-none prettyprint-override\"><code>PnL total: 300.00\nAssigned rows: 3/6\nBounds:\n    lower  upper\nv1    1.5    4.0\nv2    3.5    7.0\nv3    3.5    7.0\nv4    3.5    7.0\nv5    3.5    7.0\n</code></pre>\n<h2>Implementation</h2>\n<p>Shown in Python for brevity.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport pulp\n\n\ndef make_col_vars(v_name: str) -&gt; pd.Series:\n    lower = pulp.LpVariable(name='lower_' + v_name, lowBound=0, upBound=19)\n    upper = pulp.LpVariable(name='upper_' + v_name, lowBound=0, upBound=19)\n    prob.addConstraint(name='interval_' + v_name, constraint=lower &lt;= upper)\n    return pd.Series(data=(lower, upper), index=('lower', 'upper'))\n\n\ndef make_row_vars(row: pd.Series) -&gt; pd.Series:\n    assign = pulp.LpVariable(name=f'asn_{row.idx:03.0f}', cat=pulp.LpBinary)\n\n    for v_name, v in row[:-2].iteritems():\n        v_bounds = bounds.loc[v_name]\n        suffix = f'_{v_name}_{row.idx:03.0f}'\n\n        # If assign, then v_bounds.lower &lt;= v &lt;= v_bounds.upper\n        prob.addConstraint(name='lower_in' + suffix, constraint=v &gt;= v_bounds.lower - 25*(1 - assign))\n        prob.addConstraint(name='upper_in' + suffix, constraint=v &lt;= v_bounds.upper + 25*(1 - assign))\n\n        # otherwise v must be outside of those bounds\n        # v &lt;= lower-1 || upper+1 &lt;= v\n\n        is_upper = pulp.LpVariable(name='is_upper' + suffix, cat=pulp.LpBinary)\n        # enforce if is_upper &amp;&amp; !assigned\n        prob.addConstraint(name='upper_out' + suffix, constraint=v &gt;= v_bounds.upper+0.5 - 25*(assign - is_upper + 1))\n        # enforce if !is_upper &amp;&amp; !assigned\n        prob.addConstraint(name='lower_out' + suffix, constraint=v &lt;= v_bounds.lower-0.5 + 25*(assign + is_upper))\n\n    return pd.Series((assign,))\n\n\ndf = pd.read_csv('Optimize-MinMax.csv')\nprob = pulp.LpProblem(name='profit_loss', sense=pulp.LpMaximize)\nbounds = df.columns[:-1].to_series().apply(make_col_vars)\ndf['idx'] = df.index\ndf['assign'] = df.apply(make_row_vars, axis=1)\n\nprob.objective = pulp.lpDot(df.PnL, df['assign'])\n\nprint(prob)\nprob.solve()\nassert prob.status == pulp.const.LpStatusOptimal\n\nprint(f'PnL total: {prob.objective.value():.2f}')\nn_assigned = df[&quot;assign&quot;].apply(pulp.LpVariable.value).sum()\nprint(f'Assigned rows: {n_assigned:.0f}/{len(df)}')\nprint('Bounds:')\nprint(bounds.applymap(pulp.LpVariable.value))\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-none prettyprint-override\"><code>profit_loss:\nMAXIMIZE\n-500*asn_000 + 100*asn_001 + 100*asn_002 + 100*asn_003 + -500*asn_004 + 150*asn_005 + 0\nSUBJECT TO\ninterval_v1: lower_v1 - upper_v1 &lt;= 0\n\ninterval_v2: lower_v2 - upper_v2 &lt;= 0\n\ninterval_v3: lower_v3 - upper_v3 &lt;= 0\n\ninterval_v4: lower_v4 - upper_v4 &lt;= 0\n\ninterval_v5: lower_v5 - upper_v5 &lt;= 0\n\nlower_in_v1_000: 25 asn_000 + lower_v1 &lt;= 26\n\nupper_in_v1_000: - 25 asn_000 + upper_v1 &gt;= -24\n\nupper_out_v1_000: - 25 asn_000 + 25 is_upper_v1_000 + upper_v1 &lt;= 25.5\n\nlower_out_v1_000: 25 asn_000 + 25 is_upper_v1_000 + lower_v1 &gt;= 1.5\n\nlower_in_v2_000: 25 asn_000 + lower_v2 &lt;= 28\n\nupper_in_v2_000: - 25 asn_000 + upper_v2 &gt;= -22\n\nupper_out_v2_000: - 25 asn_000 + 25 is_upper_v2_000 + upper_v2 &lt;= 27.5\n\nlower_out_v2_000: 25 asn_000 + 25 is_upper_v2_000 + lower_v2 &gt;= 3.5\n\nlower_in_v3_000: 25 asn_000 + lower_v3 &lt;= 28\n\nupper_in_v3_000: - 25 asn_000 + upper_v3 &gt;= -22\n\nupper_out_v3_000: - 25 asn_000 + 25 is_upper_v3_000 + upper_v3 &lt;= 27.5\n\nlower_out_v3_000: 25 asn_000 + 25 is_upper_v3_000 + lower_v3 &gt;= 3.5\n\nlower_in_v4_000: 25 asn_000 + lower_v4 &lt;= 28\n\nupper_in_v4_000: - 25 asn_000 + upper_v4 &gt;= -22\n\nupper_out_v4_000: - 25 asn_000 + 25 is_upper_v4_000 + upper_v4 &lt;= 27.5\n\nlower_out_v4_000: 25 asn_000 + 25 is_upper_v4_000 + lower_v4 &gt;= 3.5\n\nlower_in_v5_000: 25 asn_000 + lower_v5 &lt;= 28\n\nupper_in_v5_000: - 25 asn_000 + upper_v5 &gt;= -22\n\nupper_out_v5_000: - 25 asn_000 + 25 is_upper_v5_000 + upper_v5 &lt;= 27.5\n\nlower_out_v5_000: 25 asn_000 + 25 is_upper_v5_000 + lower_v5 &gt;= 3.5\n\nlower_in_v1_001: 25 asn_001 + lower_v1 &lt;= 27\n\nupper_in_v1_001: - 25 asn_001 + upper_v1 &gt;= -23\n\nupper_out_v1_001: - 25 asn_001 + 25 is_upper_v1_001 + upper_v1 &lt;= 26.5\n\nlower_out_v1_001: 25 asn_001 + 25 is_upper_v1_001 + lower_v1 &gt;= 2.5\n\nlower_in_v2_001: 25 asn_001 + lower_v2 &lt;= 29\n\nupper_in_v2_001: - 25 asn_001 + upper_v2 &gt;= -21\n\nupper_out_v2_001: - 25 asn_001 + 25 is_upper_v2_001 + upper_v2 &lt;= 28.5\n\nlower_out_v2_001: 25 asn_001 + 25 is_upper_v2_001 + lower_v2 &gt;= 4.5\n\nlower_in_v3_001: 25 asn_001 + lower_v3 &lt;= 29\n\nupper_in_v3_001: - 25 asn_001 + upper_v3 &gt;= -21\n\nupper_out_v3_001: - 25 asn_001 + 25 is_upper_v3_001 + upper_v3 &lt;= 28.5\n\nlower_out_v3_001: 25 asn_001 + 25 is_upper_v3_001 + lower_v3 &gt;= 4.5\n\nlower_in_v4_001: 25 asn_001 + lower_v4 &lt;= 29\n\nupper_in_v4_001: - 25 asn_001 + upper_v4 &gt;= -21\n\nupper_out_v4_001: - 25 asn_001 + 25 is_upper_v4_001 + upper_v4 &lt;= 28.5\n\nlower_out_v4_001: 25 asn_001 + 25 is_upper_v4_001 + lower_v4 &gt;= 4.5\n\nlower_in_v5_001: 25 asn_001 + lower_v5 &lt;= 29\n\nupper_in_v5_001: - 25 asn_001 + upper_v5 &gt;= -21\n\nupper_out_v5_001: - 25 asn_001 + 25 is_upper_v5_001 + upper_v5 &lt;= 28.5\n\nlower_out_v5_001: 25 asn_001 + 25 is_upper_v5_001 + lower_v5 &gt;= 4.5\n\nlower_in_v1_002: 25 asn_002 + lower_v1 &lt;= 27\n\nupper_in_v1_002: - 25 asn_002 + upper_v1 &gt;= -23\n\nupper_out_v1_002: - 25 asn_002 + 25 is_upper_v1_002 + upper_v1 &lt;= 26.5\n\nlower_out_v1_002: 25 asn_002 + 25 is_upper_v1_002 + lower_v1 &gt;= 2.5\n\nlower_in_v2_002: 25 asn_002 + lower_v2 &lt;= 29\n\nupper_in_v2_002: - 25 asn_002 + upper_v2 &gt;= -21\n\nupper_out_v2_002: - 25 asn_002 + 25 is_upper_v2_002 + upper_v2 &lt;= 28.5\n\nlower_out_v2_002: 25 asn_002 + 25 is_upper_v2_002 + lower_v2 &gt;= 4.5\n\nlower_in_v3_002: 25 asn_002 + lower_v3 &lt;= 30\n\nupper_in_v3_002: - 25 asn_002 + upper_v3 &gt;= -20\n\nupper_out_v3_002: - 25 asn_002 + 25 is_upper_v3_002 + upper_v3 &lt;= 29.5\n\nlower_out_v3_002: 25 asn_002 + 25 is_upper_v3_002 + lower_v3 &gt;= 5.5\n\nlower_in_v4_002: 25 asn_002 + lower_v4 &lt;= 29\n\nupper_in_v4_002: - 25 asn_002 + upper_v4 &gt;= -21\n\nupper_out_v4_002: - 25 asn_002 + 25 is_upper_v4_002 + upper_v4 &lt;= 28.5\n\nlower_out_v4_002: 25 asn_002 + 25 is_upper_v4_002 + lower_v4 &gt;= 4.5\n\nlower_in_v5_002: 25 asn_002 + lower_v5 &lt;= 30\n\nupper_in_v5_002: - 25 asn_002 + upper_v5 &gt;= -20\n\nupper_out_v5_002: - 25 asn_002 + 25 is_upper_v5_002 + upper_v5 &lt;= 29.5\n\nlower_out_v5_002: 25 asn_002 + 25 is_upper_v5_002 + lower_v5 &gt;= 5.5\n\nlower_in_v1_003: 25 asn_003 + lower_v1 &lt;= 29\n\nupper_in_v1_003: - 25 asn_003 + upper_v1 &gt;= -21\n\nupper_out_v1_003: - 25 asn_003 + 25 is_upper_v1_003 + upper_v1 &lt;= 28.5\n\nlower_out_v1_003: 25 asn_003 + 25 is_upper_v1_003 + lower_v1 &gt;= 4.5\n\nlower_in_v2_003: 25 asn_003 + lower_v2 &lt;= 32\n\nupper_in_v2_003: - 25 asn_003 + upper_v2 &gt;= -18\n\nupper_out_v2_003: - 25 asn_003 + 25 is_upper_v2_003 + upper_v2 &lt;= 31.5\n\nlower_out_v2_003: 25 asn_003 + 25 is_upper_v2_003 + lower_v2 &gt;= 7.5\n\nlower_in_v3_003: 25 asn_003 + lower_v3 &lt;= 32\n\nupper_in_v3_003: - 25 asn_003 + upper_v3 &gt;= -18\n\nupper_out_v3_003: - 25 asn_003 + 25 is_upper_v3_003 + upper_v3 &lt;= 31.5\n\nlower_out_v3_003: 25 asn_003 + 25 is_upper_v3_003 + lower_v3 &gt;= 7.5\n\nlower_in_v4_003: 25 asn_003 + lower_v4 &lt;= 32\n\nupper_in_v4_003: - 25 asn_003 + upper_v4 &gt;= -18\n\nupper_out_v4_003: - 25 asn_003 + 25 is_upper_v4_003 + upper_v4 &lt;= 31.5\n\nlower_out_v4_003: 25 asn_003 + 25 is_upper_v4_003 + lower_v4 &gt;= 7.5\n\nlower_in_v5_003: 25 asn_003 + lower_v5 &lt;= 32\n\nupper_in_v5_003: - 25 asn_003 + upper_v5 &gt;= -18\n\nupper_out_v5_003: - 25 asn_003 + 25 is_upper_v5_003 + upper_v5 &lt;= 31.5\n\nlower_out_v5_003: 25 asn_003 + 25 is_upper_v5_003 + lower_v5 &gt;= 7.5\n\nlower_in_v1_004: 25 asn_004 + lower_v1 &lt;= 30\n\nupper_in_v1_004: - 25 asn_004 + upper_v1 &gt;= -20\n\nupper_out_v1_004: - 25 asn_004 + 25 is_upper_v1_004 + upper_v1 &lt;= 29.5\n\nlower_out_v1_004: 25 asn_004 + 25 is_upper_v1_004 + lower_v1 &gt;= 5.5\n\nlower_in_v2_004: 25 asn_004 + lower_v2 &lt;= 33\n\nupper_in_v2_004: - 25 asn_004 + upper_v2 &gt;= -17\n\nupper_out_v2_004: - 25 asn_004 + 25 is_upper_v2_004 + upper_v2 &lt;= 32.5\n\nlower_out_v2_004: 25 asn_004 + 25 is_upper_v2_004 + lower_v2 &gt;= 8.5\n\nlower_in_v3_004: 25 asn_004 + lower_v3 &lt;= 33\n\nupper_in_v3_004: - 25 asn_004 + upper_v3 &gt;= -17\n\nupper_out_v3_004: - 25 asn_004 + 25 is_upper_v3_004 + upper_v3 &lt;= 32.5\n\nlower_out_v3_004: 25 asn_004 + 25 is_upper_v3_004 + lower_v3 &gt;= 8.5\n\nlower_in_v4_004: 25 asn_004 + lower_v4 &lt;= 33\n\nupper_in_v4_004: - 25 asn_004 + upper_v4 &gt;= -17\n\nupper_out_v4_004: - 25 asn_004 + 25 is_upper_v4_004 + upper_v4 &lt;= 32.5\n\nlower_out_v4_004: 25 asn_004 + 25 is_upper_v4_004 + lower_v4 &gt;= 8.5\n\nlower_in_v5_004: 25 asn_004 + lower_v5 &lt;= 33\n\nupper_in_v5_004: - 25 asn_004 + upper_v5 &gt;= -17\n\nupper_out_v5_004: - 25 asn_004 + 25 is_upper_v5_004 + upper_v5 &lt;= 32.5\n\nlower_out_v5_004: 25 asn_004 + 25 is_upper_v5_004 + lower_v5 &gt;= 8.5\n\nlower_in_v1_005: 25 asn_005 + lower_v1 &lt;= 31\n\nupper_in_v1_005: - 25 asn_005 + upper_v1 &gt;= -19\n\nupper_out_v1_005: - 25 asn_005 + 25 is_upper_v1_005 + upper_v1 &lt;= 30.5\n\nlower_out_v1_005: 25 asn_005 + 25 is_upper_v1_005 + lower_v1 &gt;= 6.5\n\nlower_in_v2_005: 25 asn_005 + lower_v2 &lt;= 34\n\nupper_in_v2_005: - 25 asn_005 + upper_v2 &gt;= -16\n\nupper_out_v2_005: - 25 asn_005 + 25 is_upper_v2_005 + upper_v2 &lt;= 33.5\n\nlower_out_v2_005: 25 asn_005 + 25 is_upper_v2_005 + lower_v2 &gt;= 9.5\n\nlower_in_v3_005: 25 asn_005 + lower_v3 &lt;= 34\n\nupper_in_v3_005: - 25 asn_005 + upper_v3 &gt;= -16\n\nupper_out_v3_005: - 25 asn_005 + 25 is_upper_v3_005 + upper_v3 &lt;= 33.5\n\nlower_out_v3_005: 25 asn_005 + 25 is_upper_v3_005 + lower_v3 &gt;= 9.5\n\nlower_in_v4_005: 25 asn_005 + lower_v4 &lt;= 34\n\nupper_in_v4_005: - 25 asn_005 + upper_v4 &gt;= -16\n\nupper_out_v4_005: - 25 asn_005 + 25 is_upper_v4_005 + upper_v4 &lt;= 33.5\n\nlower_out_v4_005: 25 asn_005 + 25 is_upper_v4_005 + lower_v4 &gt;= 9.5\n\nlower_in_v5_005: 25 asn_005 + lower_v5 &lt;= 34\n\nupper_in_v5_005: - 25 asn_005 + upper_v5 &gt;= -16\n\nupper_out_v5_005: - 25 asn_005 + 25 is_upper_v5_005 + upper_v5 &lt;= 33.5\n\nlower_out_v5_005: 25 asn_005 + 25 is_upper_v5_005 + lower_v5 &gt;= 9.5\n\nVARIABLES\n0 &lt;= asn_000 &lt;= 1 Integer\n0 &lt;= asn_001 &lt;= 1 Integer\n0 &lt;= asn_002 &lt;= 1 Integer\n0 &lt;= asn_003 &lt;= 1 Integer\n0 &lt;= asn_004 &lt;= 1 Integer\n0 &lt;= asn_005 &lt;= 1 Integer\n0 &lt;= is_upper_v1_000 &lt;= 1 Integer\n0 &lt;= is_upper_v1_001 &lt;= 1 Integer\n0 &lt;= is_upper_v1_002 &lt;= 1 Integer\n0 &lt;= is_upper_v1_003 &lt;= 1 Integer\n0 &lt;= is_upper_v1_004 &lt;= 1 Integer\n0 &lt;= is_upper_v1_005 &lt;= 1 Integer\n0 &lt;= is_upper_v2_000 &lt;= 1 Integer\n0 &lt;= is_upper_v2_001 &lt;= 1 Integer\n0 &lt;= is_upper_v2_002 &lt;= 1 Integer\n0 &lt;= is_upper_v2_003 &lt;= 1 Integer\n0 &lt;= is_upper_v2_004 &lt;= 1 Integer\n0 &lt;= is_upper_v2_005 &lt;= 1 Integer\n0 &lt;= is_upper_v3_000 &lt;= 1 Integer\n0 &lt;= is_upper_v3_001 &lt;= 1 Integer\n0 &lt;= is_upper_v3_002 &lt;= 1 Integer\n0 &lt;= is_upper_v3_003 &lt;= 1 Integer\n0 &lt;= is_upper_v3_004 &lt;= 1 Integer\n0 &lt;= is_upper_v3_005 &lt;= 1 Integer\n0 &lt;= is_upper_v4_000 &lt;= 1 Integer\n0 &lt;= is_upper_v4_001 &lt;= 1 Integer\n0 &lt;= is_upper_v4_002 &lt;= 1 Integer\n0 &lt;= is_upper_v4_003 &lt;= 1 Integer\n0 &lt;= is_upper_v4_004 &lt;= 1 Integer\n0 &lt;= is_upper_v4_005 &lt;= 1 Integer\n0 &lt;= is_upper_v5_000 &lt;= 1 Integer\n0 &lt;= is_upper_v5_001 &lt;= 1 Integer\n0 &lt;= is_upper_v5_002 &lt;= 1 Integer\n0 &lt;= is_upper_v5_003 &lt;= 1 Integer\n0 &lt;= is_upper_v5_004 &lt;= 1 Integer\n0 &lt;= is_upper_v5_005 &lt;= 1 Integer\nlower_v1 &lt;= 19 Continuous\nlower_v2 &lt;= 19 Continuous\nlower_v3 &lt;= 19 Continuous\nlower_v4 &lt;= 19 Continuous\nlower_v5 &lt;= 19 Continuous\nupper_v1 &lt;= 19 Continuous\nupper_v2 &lt;= 19 Continuous\nupper_v3 &lt;= 19 Continuous\nupper_v4 &lt;= 19 Continuous\nupper_v5 &lt;= 19 Continuous\n\nWelcome to the CBC MILP Solver \nVersion: 2.10.3 \nBuild Date: Dec 15 2019 \n\ncommand line - .venv/lib/python3.10/site-packages/pulp/solverdir/cbc/linux/64/cbc /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.mps max timeMode elapsed branch printingOptions all solution /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.sol (default strategy 1)\nAt line 2 NAME          MODEL\nAt line 3 ROWS\nAt line 130 COLUMNS\nAt line 519 RHS\nAt line 645 BOUNDS\nAt line 692 ENDATA\nProblem MODEL has 125 rows, 46 columns and 310 elements\nCoin0008I MODEL read with 0 errors\nOption for timeMode changed from cpu to elapsed\nContinuous objective value is 450 - 0.00 seconds\nCgl0003I 0 fixed, 0 tightened bounds, 60 strengthened rows, 0 substitutions\nCgl0003I 0 fixed, 0 tightened bounds, 15 strengthened rows, 0 substitutions\nCgl0003I 0 fixed, 0 tightened bounds, 10 strengthened rows, 0 substitutions\nCgl0004I processed model has 125 rows, 46 columns (36 integer (36 of which binary)) and 385 elements\nCutoff increment increased from 1e-05 to 49.9999\nCbc0038I Initial state - 10 integers unsatisfied sum - 2.62534\nCbc0038I Pass   1: suminf.    0.51766 (6) obj. -262.65 iterations 40\nCbc0038I Pass   2: suminf.    0.37920 (2) obj. 810.4 iterations 24\nCbc0038I Pass   3: suminf.    0.55711 (3) obj. 119.936 iterations 5\nCbc0038I Pass   4: suminf.    0.24000 (2) obj. 269 iterations 10\nCbc0038I Pass   5: suminf.    0.51356 (2) obj. 119.936 iterations 7\nCbc0038I Pass   6: suminf.    0.89604 (5) obj. 141.923 iterations 14\nCbc0038I Pass   7: suminf.    0.59491 (5) obj. 670.688 iterations 15\nCbc0038I Pass   8: suminf.    0.92668 (5) obj. 51.2876 iterations 25\nCbc0038I Pass   9: suminf.    0.92668 (5) obj. 51.2876 iterations 7\nCbc0038I Pass  10: suminf.    0.59689 (6) obj. 667.219 iterations 33\nCbc0038I Pass  11: suminf.    0.92668 (5) obj. 51.2876 iterations 29\nCbc0038I Pass  12: suminf.    0.48428 (4) obj. 662.897 iterations 20\nCbc0038I Pass  13: suminf.    0.95405 (6) obj. 119.888 iterations 20\nCbc0038I Pass  14: suminf.    0.27012 (5) obj. 612.921 iterations 30\nCbc0038I Pass  15: suminf.    0.92255 (5) obj. 116.433 iterations 26\nCbc0038I Pass  16: suminf.    0.65069 (6) obj. 181.373 iterations 17\nCbc0038I Pass  17: suminf.    0.85917 (5) obj. 551.764 iterations 24\nCbc0038I Pass  18: suminf.    0.23280 (4) obj. 140.28 iterations 22\nCbc0038I Pass  19: suminf.    0.81237 (3) obj. 84.7919 iterations 23\nCbc0038I Pass  20: suminf.    0.45133 (3) obj. 192.419 iterations 8\nCbc0038I Pass  21: suminf.    0.67675 (6) obj. 579.906 iterations 21\nCbc0038I Pass  22: suminf.    0.89960 (5) obj. -94.0115 iterations 29\nCbc0038I Pass  23: suminf.    0.56051 (3) obj. 180.957 iterations 14\nCbc0038I Pass  24: suminf.    0.74317 (3) obj. 37.3469 iterations 14\nCbc0038I Pass  25: suminf.    0.84688 (5) obj. 158.839 iterations 20\nCbc0038I Pass  26: suminf.    0.12352 (3) obj. 695.44 iterations 22\nCbc0038I Pass  27: suminf.    0.54921 (5) obj. 35.9499 iterations 17\nCbc0038I Pass  28: suminf.    0.54457 (4) obj. 782.282 iterations 27\nCbc0038I Pass  29: suminf.    0.53404 (4) obj. 32.8182 iterations 25\nCbc0038I Pass  30: suminf.    0.50976 (4) obj. 311.676 iterations 11\nCbc0038I Rounding solution of 700 is better than previous of 1e+50\n\nCbc0038I Before mini branch and bound, 9 integers at bound fixed and 0 continuous\nCbc0038I Full problem 125 rows 46 columns, reduced to 116 rows 37 columns\nCbc0038I Mini branch and bound improved solution from 700 to -150 (0.02 seconds)\nCbc0038I Round again with cutoff of -225\nCbc0038I Reduced cost fixing fixed 2 variables on major pass 2\nCbc0038I Pass  30: suminf.    0.98992 (5) obj. -344.44 iterations 23\nCbc0038I Pass  31: suminf.    1.64306 (8) obj. -225 iterations 19\nCbc0038I Pass  32: suminf.    1.01520 (8) obj. -225 iterations 9\nCbc0038I Pass  33: suminf.    0.59837 (5) obj. -225 iterations 29\nCbc0038I Pass  34: suminf.    0.12000 (2) obj. -235 iterations 21\nCbc0038I Pass  35: suminf.    0.56667 (3) obj. -225 iterations 7\nCbc0038I Pass  36: suminf.    0.23800 (3) obj. -225 iterations 4\nCbc0038I Pass  37: suminf.    0.18667 (2) obj. -225 iterations 13\nCbc0038I Pass  38: suminf.    0.60572 (4) obj. -225 iterations 10\nCbc0038I Pass  39: suminf.    0.55246 (4) obj. -225 iterations 3\nCbc0038I Pass  40: suminf.    0.90000 (3) obj. -225 iterations 8\nCbc0038I Pass  41: suminf.    0.90000 (3) obj. -225 iterations 1\nCbc0038I Pass  42: suminf.    0.72410 (4) obj. -225 iterations 10\nCbc0038I Pass  43: suminf.    0.56667 (3) obj. -225 iterations 11\nCbc0038I Pass  44: suminf.    0.25143 (3) obj. -225 iterations 6\nCbc0038I Pass  45: suminf.    0.18667 (2) obj. -225 iterations 16\nCbc0038I Pass  46: suminf.    0.12000 (2) obj. -235 iterations 1\nCbc0038I Pass  47: suminf.    0.56667 (3) obj. -225 iterations 6\nCbc0038I Pass  48: suminf.    0.82724 (7) obj. -225 iterations 31\nCbc0038I Pass  49: suminf.    0.82730 (7) obj. -225 iterations 2\nCbc0038I Pass  50: suminf.    0.59837 (5) obj. -225 iterations 25\nCbc0038I Pass  51: suminf.    0.61314 (6) obj. -273.399 iterations 23\nCbc0038I Pass  52: suminf.    0.63333 (3) obj. -225 iterations 25\nCbc0038I Pass  53: suminf.    0.89613 (4) obj. -225 iterations 7\nCbc0038I Pass  54: suminf.    0.40296 (5) obj. -225 iterations 8\nCbc0038I Pass  55: suminf.    0.52545 (3) obj. -225 iterations 17\nCbc0038I Pass  56: suminf.    0.35917 (4) obj. -247.806 iterations 4\nCbc0038I Pass  57: suminf.    0.23800 (3) obj. -225 iterations 19\nCbc0038I Pass  58: suminf.    0.23800 (3) obj. -225 iterations 0\nCbc0038I Pass  59: suminf.    0.44904 (3) obj. -225 iterations 12\nCbc0038I No solution found this major pass\nCbc0038I Before mini branch and bound, 12 integers at bound fixed and 0 continuous\nCbc0038I Full problem 125 rows 46 columns, reduced to 95 rows 34 columns\nCbc0038I Mini branch and bound did not improve solution (0.03 seconds)\nCbc0038I After 0.03 seconds - Feasibility pump exiting with objective of -150 - took 0.02 seconds\nCbc0012I Integer solution of -150 found by feasibility pump after 0 iterations and 0 nodes (0.03 seconds)\nCbc0038I Full problem 125 rows 46 columns, reduced to 0 rows 0 columns\nCbc0012I Integer solution of -300 found by DiveCoefficient after 31 iterations and 0 nodes (0.03 seconds)\nCbc0013I At root node, 0 cuts changed objective from -450 to -300 in 3 passes\nCbc0014I Cut generator 0 (Probing) - 37 row cuts average 2.0 elements, 12 column cuts (12 active)  in 0.000 seconds - new frequency is 1\nCbc0014I Cut generator 1 (Gomory) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 2 (Knapsack) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 3 (Clique) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 4 (MixedIntegerRounding2) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 5 (FlowCover) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0001I Search completed - best objective -300, took 31 iterations and 0 nodes (0.03 seconds)\nCbc0035I Maximum depth 0, 2 variables fixed on reduced cost\nCuts at root node changed objective from -450 to -300\nProbing was tried 3 times and created 49 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nGomory was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nKnapsack was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nClique was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nMixedIntegerRounding2 was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nFlowCover was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nTwoMirCuts was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nZeroHalf was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\n\nResult - Optimal solution found\n\nObjective value:                300.00000000\nEnumerated nodes:               0\nTotal iterations:               31\nTime (CPU seconds):             0.03\nTime (Wallclock seconds):       0.03\n\nOption for printingOptions changed from normal to all\nTotal time (CPU seconds):       0.03   (Wallclock seconds):       0.03\n\nPnL total: 300.00\nAssigned rows: 3/6\nBounds:\n    lower  upper\nv1    1.5    4.0\nv2    3.5    7.0\nv3    3.5    7.0\nv4    3.5    7.0\nv5    3.5    7.0\n</code></pre>\n<p>This strategy can be <a href=\"https://or.stackexchange.com/questions/617/solving-mip-in-java-with-free-software\">carried to Java</a> without too much fuss.</p>\n"},{"comments":[{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1681706779,"post_id":76012041,"comment_id":134094018,"body_markdown":"last var (v3) min/max is 12/13 because only this combination (v0 Min: 5, Max: 8 v1 Min: 8, Max: 11 v2 Min: 12, Max: 13) produces highest maxPnl sum: 250.75.  look at &quot;calculatePnl&quot; code in my question to know how maxPnL is calculated","body":"last var (v3) min/max is 12/13 because only this combination (v0 Min: 5, Max: 8 v1 Min: 8, Max: 11 v2 Min: 12, Max: 13) produces highest maxPnl sum: 250.75.  look at &quot;calculatePnl&quot; code in my question to know how maxPnL is calculated"}],"tags":[],"owner":{"account_id":24435593,"reputation":1,"user_id":18359920,"display_name":"GodCatHuSky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452658,"creation_date":1681452658,"answer_id":76012041,"question_id":75840798,"body_markdown":"i have two questions , i think you hope one table have many columns，you need get every columns min and max value? \r\n v1 v2  v3  pnl\r\n7, 8, 12, 100.50,\r\n6, 9, 14, -200.10,\r\n5, 10, 13, 150.25,\r\n8, 11, 15, -510.35,\r\ni run you code ,result is \r\n\r\nmaxPnL: 250.75\r\nv0 Min: 5, Max: 8\r\nv1 Min: 8, Max: 11\r\nv2 Min: 12, Max: 13\r\nquestion 1:last result ,max why is 13? ,But isn&#39;t it 15.\r\nquestion 2:maxPnL How is it calculated?","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>i have two questions , i think you hope one table have many columns，you need get every columns min and max value?\nv1 v2  v3  pnl\n7, 8, 12, 100.50,\n6, 9, 14, -200.10,\n5, 10, 13, 150.25,\n8, 11, 15, -510.35,\ni run you code ,result is</p>\n<p>maxPnL: 250.75\nv0 Min: 5, Max: 8\nv1 Min: 8, Max: 11\nv2 Min: 12, Max: 13\nquestion 1:last result ,max why is 13? ,But isn't it 15.\nquestion 2:maxPnL How is it calculated?</p>\n"}],"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1681452658,"creation_date":1679736985,"question_id":75840798,"body_markdown":"Given a table of N columns, all columns except last are variables and the last column is PnL (Profit and Loss). Each variable value is a whole number (no fractions, decimals) greater than or equals 0 and less than 20. PnL values can be greater than or less than zero.\r\n\r\nActual dataset may have upto 40 variables and 30,000 rows.\r\n\r\nI&#39;m trying to write a program to find minimum and maximum value for each variable such that the sum of matching PnL values derived from combination of all those minimum and maximum ranges results in the highest value.\r\n\r\nSample Data:  \r\nLarge: https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing   \r\nMedium: https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing\r\n\r\nAnother example. A solution for below tiny table is:\r\n```none\r\n(1 &lt;= v1 &lt;= 2) &amp;&amp; (4 &lt;= v2 &lt;= 5); PnL Sum = 6 (3.5 + 2.5)\r\n\r\nV1\tV2\tPnL\r\n1\t4\t3.5\r\n2\t5\t2.5\r\n2\t6\t-11.0\r\n```\r\nI came up with [brute force approach][1], i.e. trying all possible combinations to find maximum PnL, but it takes too much time when more than 3 variables are involved.  \r\n\r\nBrute Force Approach (too slow for &gt;3 variables):\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/*\r\n * Brute Force Solution\r\n */\r\npublic class VariableOptimizer {\r\n\r\n    double maxPnL = Double.NEGATIVE_INFINITY;\r\n    int[][] optimalMinMax = null;\r\n    double[][] varMinMax = null;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        /*\r\n            Constraints:\r\n            Vairables are whole Numbers (no fractions, decimals) and range between 0 to 19;\r\n            i.e. variable v &gt;= 0 and &lt;= 19\r\n         */\r\n        double[][] data = {\r\n              //{v1, v2, v3, PnL}\r\n                {7, 8, 12, 100.50},\r\n                {6, 9, 14, -200.10},\r\n                {5, 10, 13, 150.25},\r\n                {8, 11, 15, -510.35},\r\n        };\r\n\r\n        //data = loadCsv(&quot;./Optimize-MinMax.csv&quot;); //or load data from file\r\n\r\n        VariableOptimizer variableOptimizer = new VariableOptimizer();\r\n\r\n        variableOptimizer.findOptimalMinMax(data, 0, null);\r\n\r\n        System.out.println(&quot;maxPnL: &quot; + variableOptimizer.maxPnL);\r\n\r\n        for (int i = 0; i &lt; variableOptimizer.optimalMinMax.length; i++){\r\n            System.out.println(&quot;v&quot; +i + &quot; Min: &quot; + variableOptimizer.optimalMinMax[i][0] + &quot;, Max: &quot; + variableOptimizer.optimalMinMax[i][1]);\r\n        }\r\n    }\r\n\r\n    public void findOptimalMinMax(double[][] data, int varIdx, int[][] varMinMaxConditions){\r\n\r\n        int noOfVars = data[0].length-1;\r\n\r\n        if (varMinMaxConditions == null) {\r\n            varMinMaxConditions = new int[noOfVars][2];\r\n        }\r\n\r\n        if (varIdx == noOfVars) {\r\n\r\n            double pnl = calculatePnl(data, varMinMaxConditions);\r\n\r\n            if (pnl &gt;= maxPnL) {\r\n                maxPnL = pnl;\r\n                optimalMinMax = java.util.Arrays.stream(varMinMaxConditions)\r\n                        .map(a -&gt;  java.util.Arrays.copyOf(a, a.length))\r\n                        .toArray(int[][]::new);\r\n            }\r\n            return;\r\n        }\r\n\r\n        double[][] varMinMax = getVarMinMax(data);\r\n        int varMin = (int)varMinMax[varIdx][0];\r\n        int varMax = (int)varMinMax[varIdx][1];\r\n\r\n        for (int i = varMin; i &lt;= varMax; i++) {\r\n            for (int j = i; j &lt;= varMax; j++ ) {\r\n\r\n                varMinMaxConditions[varIdx][0] = i;\r\n                varMinMaxConditions[varIdx][1] = j;\r\n\r\n                findOptimalMinMax(data, varIdx + 1, varMinMaxConditions);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static double calculatePnl(double[][] data, int[][] varMinMaxConditions){\r\n\r\n        double pnl = 0;\r\n\r\n        for (int i = 0; i &lt; data.length; i++) {\r\n\r\n            double[] row = data[i];\r\n            double rowPnl = row[row.length-1];\r\n\r\n            boolean includeRow = true;\r\n            for (int j = 0; j &lt; varMinMaxConditions.length; j++){\r\n\r\n                double varMin = varMinMaxConditions[j][0];\r\n                double varMax = varMinMaxConditions[j][1];\r\n\r\n                if (varMin &gt; row[j] || row[j] &gt; varMax){\r\n                    includeRow = false;\r\n                }\r\n            }\r\n\r\n            if (includeRow) {\r\n                pnl += rowPnl;\r\n            }\r\n        }\r\n\r\n        return pnl;\r\n    }\r\n\r\n    public double[][] getVarMinMax(double[][] data){\r\n\r\n        if (varMinMax == null) {\r\n            int noOfVars = data[0].length - 1;\r\n\r\n            varMinMax = new double[noOfVars][2];\r\n\r\n            for (int rowIdx = 0; rowIdx &lt; data.length; rowIdx++) {\r\n                for (int varIdx = 0; varIdx &lt; noOfVars; varIdx++) {\r\n                    if (rowIdx &gt; 0) {\r\n                        varMinMax[varIdx][0] = Math.min(data[rowIdx][varIdx], varMinMax[varIdx][0]);\r\n                        varMinMax[varIdx][1] = (int)Math.max(data[rowIdx][varIdx], varMinMax[varIdx][1]);\r\n                    } else {\r\n                        varMinMax[varIdx][0] = data[rowIdx][varIdx];\r\n                        varMinMax[varIdx][1] = data[rowIdx][varIdx];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return varMinMax;\r\n    }\r\n\r\n    public static double[][] loadCsv(String file){\r\n        List&lt;double[]&gt; rows = new ArrayList&lt;&gt;();\r\n        try {\r\n            Files.lines(Paths.get(file)).forEach(s -&gt; {\r\n                if (!java.lang.Character.isDigit(s.charAt(0))) return;\r\n                String[] line = s.split(&quot;,&quot;);\r\n                double[] row = Arrays.stream(line)\r\n                        .mapToDouble(Double::parseDouble)\r\n                        .toArray();\r\n                rows.add(row);\r\n            });\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        double[][] result = new double[rows.size()][];\r\n        for (int i = 0; i &lt; rows.size(); i++) {\r\n            result[i] = rows.get(i);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\nCan someone please help solve this? \r\n\r\n\r\n  [1]: https://gist.github.com/amarsheriff/00427e74bcc578c1c13b0e7eaf171060","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>Given a table of N columns, all columns except last are variables and the last column is PnL (Profit and Loss). Each variable value is a whole number (no fractions, decimals) greater than or equals 0 and less than 20. PnL values can be greater than or less than zero.</p>\n<p>Actual dataset may have upto 40 variables and 30,000 rows.</p>\n<p>I'm trying to write a program to find minimum and maximum value for each variable such that the sum of matching PnL values derived from combination of all those minimum and maximum ranges results in the highest value.</p>\n<p>Sample Data:<br />\nLarge: <a href=\"https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing</a><br />\nMedium: <a href=\"https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing</a></p>\n<p>Another example. A solution for below tiny table is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(1 &lt;= v1 &lt;= 2) &amp;&amp; (4 &lt;= v2 &lt;= 5); PnL Sum = 6 (3.5 + 2.5)\n\nV1  V2  PnL\n1   4   3.5\n2   5   2.5\n2   6   -11.0\n</code></pre>\n<p>I came up with <a href=\"https://gist.github.com/amarsheriff/00427e74bcc578c1c13b0e7eaf171060\" rel=\"nofollow noreferrer\">brute force approach</a>, i.e. trying all possible combinations to find maximum PnL, but it takes too much time when more than 3 variables are involved.</p>\n<p>Brute Force Approach (too slow for &gt;3 variables):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/*\n * Brute Force Solution\n */\npublic class VariableOptimizer {\n\n    double maxPnL = Double.NEGATIVE_INFINITY;\n    int[][] optimalMinMax = null;\n    double[][] varMinMax = null;\n\n    public static void main(String[] args) {\n\n        /*\n            Constraints:\n            Vairables are whole Numbers (no fractions, decimals) and range between 0 to 19;\n            i.e. variable v &gt;= 0 and &lt;= 19\n         */\n        double[][] data = {\n              //{v1, v2, v3, PnL}\n                {7, 8, 12, 100.50},\n                {6, 9, 14, -200.10},\n                {5, 10, 13, 150.25},\n                {8, 11, 15, -510.35},\n        };\n\n        //data = loadCsv(&quot;./Optimize-MinMax.csv&quot;); //or load data from file\n\n        VariableOptimizer variableOptimizer = new VariableOptimizer();\n\n        variableOptimizer.findOptimalMinMax(data, 0, null);\n\n        System.out.println(&quot;maxPnL: &quot; + variableOptimizer.maxPnL);\n\n        for (int i = 0; i &lt; variableOptimizer.optimalMinMax.length; i++){\n            System.out.println(&quot;v&quot; +i + &quot; Min: &quot; + variableOptimizer.optimalMinMax[i][0] + &quot;, Max: &quot; + variableOptimizer.optimalMinMax[i][1]);\n        }\n    }\n\n    public void findOptimalMinMax(double[][] data, int varIdx, int[][] varMinMaxConditions){\n\n        int noOfVars = data[0].length-1;\n\n        if (varMinMaxConditions == null) {\n            varMinMaxConditions = new int[noOfVars][2];\n        }\n\n        if (varIdx == noOfVars) {\n\n            double pnl = calculatePnl(data, varMinMaxConditions);\n\n            if (pnl &gt;= maxPnL) {\n                maxPnL = pnl;\n                optimalMinMax = java.util.Arrays.stream(varMinMaxConditions)\n                        .map(a -&gt;  java.util.Arrays.copyOf(a, a.length))\n                        .toArray(int[][]::new);\n            }\n            return;\n        }\n\n        double[][] varMinMax = getVarMinMax(data);\n        int varMin = (int)varMinMax[varIdx][0];\n        int varMax = (int)varMinMax[varIdx][1];\n\n        for (int i = varMin; i &lt;= varMax; i++) {\n            for (int j = i; j &lt;= varMax; j++ ) {\n\n                varMinMaxConditions[varIdx][0] = i;\n                varMinMaxConditions[varIdx][1] = j;\n\n                findOptimalMinMax(data, varIdx + 1, varMinMaxConditions);\n            }\n        }\n    }\n\n    public static double calculatePnl(double[][] data, int[][] varMinMaxConditions){\n\n        double pnl = 0;\n\n        for (int i = 0; i &lt; data.length; i++) {\n\n            double[] row = data[i];\n            double rowPnl = row[row.length-1];\n\n            boolean includeRow = true;\n            for (int j = 0; j &lt; varMinMaxConditions.length; j++){\n\n                double varMin = varMinMaxConditions[j][0];\n                double varMax = varMinMaxConditions[j][1];\n\n                if (varMin &gt; row[j] || row[j] &gt; varMax){\n                    includeRow = false;\n                }\n            }\n\n            if (includeRow) {\n                pnl += rowPnl;\n            }\n        }\n\n        return pnl;\n    }\n\n    public double[][] getVarMinMax(double[][] data){\n\n        if (varMinMax == null) {\n            int noOfVars = data[0].length - 1;\n\n            varMinMax = new double[noOfVars][2];\n\n            for (int rowIdx = 0; rowIdx &lt; data.length; rowIdx++) {\n                for (int varIdx = 0; varIdx &lt; noOfVars; varIdx++) {\n                    if (rowIdx &gt; 0) {\n                        varMinMax[varIdx][0] = Math.min(data[rowIdx][varIdx], varMinMax[varIdx][0]);\n                        varMinMax[varIdx][1] = (int)Math.max(data[rowIdx][varIdx], varMinMax[varIdx][1]);\n                    } else {\n                        varMinMax[varIdx][0] = data[rowIdx][varIdx];\n                        varMinMax[varIdx][1] = data[rowIdx][varIdx];\n                    }\n                }\n            }\n        }\n\n        return varMinMax;\n    }\n\n    public static double[][] loadCsv(String file){\n        List&lt;double[]&gt; rows = new ArrayList&lt;&gt;();\n        try {\n            Files.lines(Paths.get(file)).forEach(s -&gt; {\n                if (!java.lang.Character.isDigit(s.charAt(0))) return;\n                String[] line = s.split(&quot;,&quot;);\n                double[] row = Arrays.stream(line)\n                        .mapToDouble(Double::parseDouble)\n                        .toArray();\n                rows.add(row);\n            });\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n        double[][] result = new double[rows.size()][];\n        for (int i = 0; i &lt; rows.size(); i++) {\n            result[i] = rows.get(i);\n        }\n        return result;\n    }\n}\n\n</code></pre>\n<p>Can someone please help solve this?</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681452346,"post_id":76009624,"comment_id":134061445,"body_markdown":"Aside from my answer, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"Aside from my answer, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681452166,"creation_date":1681452166,"answer_id":76012003,"question_id":76009624,"body_markdown":"As far as I can see, all exceptions are present inside [com.google.android.gms.common.api][1] package. If you check the [Exceptions][2] section, you&#39;ll see that only 4 exceptions are present:\r\n\r\n 1. [ApiException][3]\r\n 2. [AvailabilityException][4]\r\n 3. [ResolvableApiException][5]\r\n 4. [UnsupportedApiCallException][6]\r\n\r\nNow, when it comes to the [SignInClient#bbeginSignIn(BeginSignInRequest signInRequest)][7] method, we can see that it is not declared to throw an exception at all. However, the documentation says:\r\n\r\n&gt; If the request cannot be honored, an **exception** will be set on the returned Task. In all other cases, a BeginSignInResult will be returned.\r\n\r\nSo if there is a failure, [OnFailureListener#onFailure(Exception e)][8] will be called with an Exception. As you noticed, it can be an [UnsupportedApiCallException][6].\r\n\r\nOn the other hand, methods like [SignInClient#getPhoneNumberFromIntent(Intent data)][9] or [SignInClient#getSignInCredentialFromIntent(Intent data)][10] are explicitly declared that can throw an [ApiException][3].\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary#exceptions\r\n  [3]: https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\r\n  [4]: https://developers.google.com/android/reference/com/google/android/gms/common/api/AvailabilityException\r\n  [5]: https://developers.google.com/android/reference/com/google/android/gms/common/api/ResolvableApiException\r\n  [6]: https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\r\n  [7]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\r\n  [8]: https://developers.google.com/android/reference/com/google/android/gms/tasks/OnFailureListener#onFailure(java.lang.Exception)\r\n  [9]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getPhoneNumberFromIntent(android.content.Intent)\r\n  [10]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getSignInCredentialFromIntent(android.content.Intent)","title":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener","body":"<p>As far as I can see, all exceptions are present inside <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary\" rel=\"nofollow noreferrer\">com.google.android.gms.common.api</a> package. If you check the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary#exceptions\" rel=\"nofollow noreferrer\">Exceptions</a> section, you'll see that only 4 exceptions are present:</p>\n<ol>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\" rel=\"nofollow noreferrer\">ApiException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/AvailabilityException\" rel=\"nofollow noreferrer\">AvailabilityException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ResolvableApiException\" rel=\"nofollow noreferrer\">ResolvableApiException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\" rel=\"nofollow noreferrer\">UnsupportedApiCallException</a></li>\n</ol>\n<p>Now, when it comes to the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\" rel=\"nofollow noreferrer\">SignInClient#bbeginSignIn(BeginSignInRequest signInRequest)</a> method, we can see that it is not declared to throw an exception at all. However, the documentation says:</p>\n<blockquote>\n<p>If the request cannot be honored, an <strong>exception</strong> will be set on the returned Task. In all other cases, a BeginSignInResult will be returned.</p>\n</blockquote>\n<p>So if there is a failure, <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/OnFailureListener#onFailure(java.lang.Exception)\" rel=\"nofollow noreferrer\">OnFailureListener#onFailure(Exception e)</a> will be called with an Exception. As you noticed, it can be an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\" rel=\"nofollow noreferrer\">UnsupportedApiCallException</a>.</p>\n<p>On the other hand, methods like <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getPhoneNumberFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">SignInClient#getPhoneNumberFromIntent(Intent data)</a> or <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getSignInCredentialFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">SignInClient#getSignInCredentialFromIntent(Intent data)</a> are explicitly declared that can throw an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\" rel=\"nofollow noreferrer\">ApiException</a>.</p>\n"}],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76012003,"answer_count":1,"score":1,"last_activity_date":1681452232,"creation_date":1681418002,"question_id":76009624,"body_markdown":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener?\r\n\r\n```java\r\nSignInClient oneTapClient = Identity.getSignInClient(requireActivity());\r\noneTapClient.beginSignIn(oneTapSignInRequest).\r\n    addOnSuccessListener(requireActivity(), result -&gt; {\r\n        //...\r\n    }).\r\n    addOnFailureListener(requireActivity(), exception -&gt; {\r\n        //What kind of exception can be caught here?\r\n    });\r\n```\r\n\r\nI&#39;ve found that one possible exception may be `UnsupportedApiCallException` and I&#39;ve got it handled. There probably are more different types of exceptions and I want to handle them separately. \r\n\r\nIn the [documentation][1], there is nothing written that could help me.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)","title":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener","body":"<p>Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener?</p>\n<pre class=\"lang-java prettyprint-override\"><code>SignInClient oneTapClient = Identity.getSignInClient(requireActivity());\noneTapClient.beginSignIn(oneTapSignInRequest).\n    addOnSuccessListener(requireActivity(), result -&gt; {\n        //...\n    }).\n    addOnFailureListener(requireActivity(), exception -&gt; {\n        //What kind of exception can be caught here?\n    });\n</code></pre>\n<p>I've found that one possible exception may be <code>UnsupportedApiCallException</code> and I've got it handled. There probably are more different types of exceptions and I want to handle them separately.</p>\n<p>In the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\" rel=\"nofollow noreferrer\">documentation</a>, there is nothing written that could help me.</p>\n"},{"tags":["java","spring-boot","logging","slf4j","java.util.logging"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1681451692,"post_id":76011916,"comment_id":134061335,"body_markdown":"generally, for info, its something that NEED TO KNOW, so that when looking over a log you can probably trace the execution of your program from a &quot;larger&quot; perspective. Then debug would be finer grained so that you can look at the values etc as it is being processed. Then trace would be even finer grained where you can even see how it enters/exits a method. Though this is kinda subjective, and up to you","body":"generally, for info, its something that NEED TO KNOW, so that when looking over a log you can probably trace the execution of your program from a &quot;larger&quot; perspective. Then debug would be finer grained so that you can look at the values etc as it is being processed. Then trace would be even finer grained where you can even see how it enters/exits a method. Though this is kinda subjective, and up to you"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681467937,"answer_count":0,"score":0,"last_activity_date":1681451065,"creation_date":1681451065,"question_id":76011916,"body_markdown":"I am working on a project that enhances the operability of my application by going through all the application logic and decide what to log and what level where to use. I am stuck between the usage of TRACE and DEBUG. For example in a method:\r\n\r\n    public void search(String text) {\r\n       log.trace(&quot;Inside search() method&quot;);\r\n       log.info(&quot;search text value:{}&quot;, text);\r\n       ...\r\n    }\r\n\r\nIs this the correct approach for logging?","title":"Slf4j/logging When to use TRACE and DEBUG in your applicaton?","body":"<p>I am working on a project that enhances the operability of my application by going through all the application logic and decide what to log and what level where to use. I am stuck between the usage of TRACE and DEBUG. For example in a method:</p>\n<pre><code>public void search(String text) {\n   log.trace(&quot;Inside search() method&quot;);\n   log.info(&quot;search text value:{}&quot;, text);\n   ...\n}\n</code></pre>\n<p>Is this the correct approach for logging?</p>\n"},{"tags":["java","pcf"],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681450862,"creation_date":1681450862,"question_id":76011898,"body_markdown":"I use PCF with buildpacks for Java app and I want to go to the docker shell and run some tools inside on docker container. \r\n\r\nHow can I do that? In K8S is very easy but in PCF is terrible to get there. ","title":"PCF how go to docker shell","body":"<p>I use PCF with buildpacks for Java app and I want to go to the docker shell and run some tools inside on docker container.</p>\n<p>How can I do that? In K8S is very easy but in PCF is terrible to get there.</p>\n"},{"tags":["javascript","java","encryption","aes"],"comments":[{"owner":{"account_id":4229706,"reputation":10684,"user_id":3462319,"accept_rate":85,"display_name":"depperm"},"score":0,"creation_date":1680529236,"post_id":75920107,"comment_id":133909109,"body_markdown":"in js your `encrypt` is passed a param but doesn&#39;t take one","body":"in js your <code>encrypt</code> is passed a param but doesn&#39;t take one"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1680529309,"post_id":75920107,"comment_id":133909125,"body_markdown":"Why is this encryption needed? If your website properly uses SSL/TLS (as it should) then the data is already encrypted when it&#39;s in transit.","body":"Why is this encryption needed? If your website properly uses SSL/TLS (as it should) then the data is already encrypted when it&#39;s in transit."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1680529761,"post_id":75920107,"comment_id":133909260,"body_markdown":"And if your website doesn&#39;t use SSL/TLS. or its content can be read in transit in any other way, then the encryption would still add no value, because your JS encryption method and keys are then also visible, meaning an attacker could just decrypt the data with this information.","body":"And if your website doesn&#39;t use SSL/TLS. or its content can be read in transit in any other way, then the encryption would still add no value, because your JS encryption method and keys are then also visible, meaning an attacker could just decrypt the data with this information."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1680530531,"post_id":75920107,"comment_id":133909506,"body_markdown":"Obviously in the Java code `md5()` returns the hex encoded IV. This must therefore be hex decoded before being passed to `IvParameterSpec` (e.g. with `HexFormat.of().parseHex()`). Furthermore the ciphertext has to be hex encoded for a comparison with the JavaScript code (e.g. with `HexFormat.of().formatHex()`).","body":"Obviously in the Java code <code>md5()</code> returns the hex encoded IV. This must therefore be hex decoded before being passed to <code>IvParameterSpec</code> (e.g. with <code>HexFormat.of().parseHex()</code>). Furthermore the ciphertext has to be hex encoded for a comparison with the JavaScript code (e.g. with <code>HexFormat.of().formatHex()</code>)."},{"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"score":0,"creation_date":1680532812,"post_id":75920107,"comment_id":133910225,"body_markdown":"Thanks Topaco, that makes full sense. I have updated the question with the MD5 method.\nOnly I cannot use HexFormat as I am obliged to use Java 8.. Any suggestion on how to do this in Java 8, without using HexFormat ?","body":"Thanks Topaco, that makes full sense. I have updated the question with the MD5 method. Only I cannot use HexFormat as I am obliged to use Java 8.. Any suggestion on how to do this in Java 8, without using HexFormat ?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1680534303,"post_id":75920107,"comment_id":133910661,"body_markdown":"See e.g. [hex encoding](https://stackoverflow.com/a/9855338/9014097) and [hex decoding](https://stackoverflow.com/a/140861/9014097) or third party libraries like BouncyCastle or Apache Commons Codec","body":"See e.g. <a href=\"https://stackoverflow.com/a/9855338/9014097\">hex encoding</a> and <a href=\"https://stackoverflow.com/a/140861/9014097\">hex decoding</a> or third party libraries like BouncyCastle or Apache Commons Codec"}],"answers":[{"comments":[{"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"score":0,"creation_date":1680534752,"post_id":75920966,"comment_id":133910805,"body_markdown":"Thanks ! I have to admit I am not 100% confident of what I am doing on the Java side, in fact I am trying to replicate the result that comes out of the Javascript bit.\nI have updated the MD5 method as you suggest, but the result does not change - I still get a 32 bytes result coming from the MD5 method. I had to edit the return to &lt;return iv+&quot;&quot;&gt; as it was expecting to return a string and not an array..","body":"Thanks ! I have to admit I am not 100% confident of what I am doing on the Java side, in fact I am trying to replicate the result that comes out of the Javascript bit. I have updated the MD5 method as you suggest, but the result does not change - I still get a 32 bytes result coming from the MD5 method. I had to edit the return to &lt;return iv+&quot;&quot;&gt; as it was expecting to return a string and not an array.."},{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1680534816,"post_id":75920966,"comment_id":133910822,"body_markdown":"No worries at all. take your time, Just learn everything in the correct way.","body":"No worries at all. take your time, Just learn everything in the correct way."},{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1680535436,"post_id":75920966,"comment_id":133911000,"body_markdown":"Vincil so from my md5 we are creating an array of 16 bytes only via static initializing. how it is returning 32 bytes for you? have a look at the for loop.","body":"Vincil so from my md5 we are creating an array of 16 bytes only via static initializing. how it is returning 32 bytes for you? have a look at the for loop."}],"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680534378,"creation_date":1680534378,"answer_id":75920966,"question_id":75920107,"body_markdown":"Well vicinl, Your Java code has few issues.\r\n\r\nThe first fact I want to point you out is Whenever we convert bytes to Hex String. The length of the Hex String will be doubled. i.e. 16 bytes will produce 32 lengths of worth Hexadecimal string in their equivalent representation.\r\n\r\nNot to mention in your Java code you are converting something which is inherently in bytes to a hex string and giving input using tobytes of the hexadecimal string which doesn&#39;t makes sense as those are not the same. This is the unnecessary overhead of conversion (That too incorrect one).\r\n\r\nInstead, I  can rewrite my md5 method as follow:\r\n\r\n \r\n\r\n     public static String md5(String str) {\r\n            MessageDigest messageDigest = null;\r\n            try {//from   w w  w  . j a  v  a  2  s.  c o m\r\n                messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n                messageDigest.reset();\r\n                messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\r\n            } catch (NoSuchAlgorithmException e) {\r\n                System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\r\n                System.exit(-1);\r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n            byte[] byteArray = messageDigest.digest();\r\n            byte[] iv = new byte[16];\r\n            for (int x=0; x&lt; 16;x++){\r\n            // this for loop need to be written as per your requirement.\r\n            iv[x]=byteArray[x];\r\n            }\r\n            return iv;\r\n        }\r\n\r\nBasic reference:\r\nhttps://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\r\n\r\nReference for AES:\r\nhttps://www.baeldung.com/java-aes-encryption-decryption\r\n\r\nHope this helps, Thanks.","title":"AES encryption between Java (server) and JS (client)","body":"<p>Well vicinl, Your Java code has few issues.</p>\n<p>The first fact I want to point you out is Whenever we convert bytes to Hex String. The length of the Hex String will be doubled. i.e. 16 bytes will produce 32 lengths of worth Hexadecimal string in their equivalent representation.</p>\n<p>Not to mention in your Java code you are converting something which is inherently in bytes to a hex string and giving input using tobytes of the hexadecimal string which doesn't makes sense as those are not the same. This is the unnecessary overhead of conversion (That too incorrect one).</p>\n<p>Instead, I  can rewrite my md5 method as follow:</p>\n<pre><code> public static String md5(String str) {\n        MessageDigest messageDigest = null;\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n            messageDigest.reset();\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\n            System.exit(-1);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        byte[] byteArray = messageDigest.digest();\n        byte[] iv = new byte[16];\n        for (int x=0; x&lt; 16;x++){\n        // this for loop need to be written as per your requirement.\n        iv[x]=byteArray[x];\n        }\n        return iv;\n    }\n</code></pre>\n<p>Basic reference:\n<a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">How to convert a byte array to a hex string in Java?</a></p>\n<p>Reference for AES:\n<a href=\"https://www.baeldung.com/java-aes-encryption-decryption\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-aes-encryption-decryption</a></p>\n<p>Hope this helps, Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681450678,"creation_date":1681450174,"answer_id":76011851,"question_id":75920107,"body_markdown":"&gt; I need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java.\r\n\r\n**Just use proper TLS/SSL.** Do not reinvent the wheel please. The SSL will properly encrypt all traffic between the client and server. You cannot do better yourself. \r\n\r\nThe code provided (both Java and JS) has multiple issues (from hardcoded iv/key, no integrity validation for cbc,.. to potentially different encoding). Yet for the defined use case it is completely not needed.\r\n\r\n&gt; InvalidAlgorithmParameterException\r\n\r\nIV must be 128 bit (16 bytes) long. JS quietly and unfortunately truncaces or zero-pads input with invalid length. \r\n\r\n**The md5 fn returns hex encoded digest, which leads to 32 byte value.** When using crypto, always use byte array (or buffer for JS) and encode/decode to text for final input/output. \r\n\r\nI wrote [some notes](https://gusto77.wordpress.com/2017/10/30/encryption-reference-project/) for crypto basics. Hard part in crypto is that all pieces must be present and fit. Just copy/paste code without understanding will provide false feeling for security. \r\n\r\nWe can just hope the credentials stored in DB are properly encrypted.\r\n\r\np.s.: why the ***** are people writing own hex encode/decode functions?? (except for homework) ","title":"AES encryption between Java (server) and JS (client)","body":"<blockquote>\n<p>I need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java.</p>\n</blockquote>\n<p><strong>Just use proper TLS/SSL.</strong> Do not reinvent the wheel please. The SSL will properly encrypt all traffic between the client and server. You cannot do better yourself.</p>\n<p>The code provided (both Java and JS) has multiple issues (from hardcoded iv/key, no integrity validation for cbc,.. to potentially different encoding). Yet for the defined use case it is completely not needed.</p>\n<blockquote>\n<p>InvalidAlgorithmParameterException</p>\n</blockquote>\n<p>IV must be 128 bit (16 bytes) long. JS quietly and unfortunately truncaces or zero-pads input with invalid length.</p>\n<p><strong>The md5 fn returns hex encoded digest, which leads to 32 byte value.</strong> When using crypto, always use byte array (or buffer for JS) and encode/decode to text for final input/output.</p>\n<p>I wrote <a href=\"https://gusto77.wordpress.com/2017/10/30/encryption-reference-project/\" rel=\"nofollow noreferrer\">some notes</a> for crypto basics. Hard part in crypto is that all pieces must be present and fit. Just copy/paste code without understanding will provide false feeling for security.</p>\n<p>We can just hope the credentials stored in DB are properly encrypted.</p>\n<p>p.s.: why the ***** are people writing own hex encode/decode functions?? (except for homework)</p>\n"}],"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681450678,"creation_date":1680529117,"question_id":75920107,"body_markdown":"I have a server running in JAVA and I am creating a client with HTML and Javascript (about which I am less knowledgeable). The server accesses log-in credentials stored in a database with AES encryption.\r\nI need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java. I have found many threads online but cannot solve my problem: the encryption with JS and Java produce different results.\r\n\r\nThis is my Javascript code.\r\n\r\n```\r\nvar key = &quot;0123456789ABCDEF&quot;;\r\n\r\nfunction encrypt() {\r\n    const ivMd5Hash = CryptoJS.MD5(CryptoJS.enc.Utf8.parse(key));\r\n    console.log(&quot;Hash: &quot;+ivMd5Hash)\r\n    const cipher = this.cipher(CryptoJS.enc.Utf8.parse(value), CryptoJS.enc.Utf8.parse(key), ivMd5Hash);\r\n\r\n    return cipher.ciphertext.toString();\r\n  }\r\n\r\n  function cipher(value, key, iv) {\r\n    const cipher = CryptoJS.AES.encrypt(value, key, {\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      keySize: 128,\r\n      padding: CryptoJS.pad.Pkcs7\r\n    });\r\n\r\n    return cipher;\r\n  }\r\n\r\nconsole.log(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;, key);\r\n```\r\n**The result from the console log is**\r\nHASH: e43df9b5a46b755ea8f1b4dd08265544\r\nEncrypted value: fc88ab1f7821b9f8c5b46ab1d41250a2\r\n\r\n\r\nNow the JAVA part.\r\n\r\n```\r\npublic class MainClass {\r\n\r\n\tprivate static final String key = &quot;0123456789ABCDEF&quot;;\r\n\tprivate static String initVector = &quot;&quot;;\r\n\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tinitVector=md5(key);  // md5 is an external method, which works\r\n\t\tSystem.out.println(&quot;HASH: &quot;+initVector);\r\n\t\tSystem.out.println(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;));\r\n\r\n  }\r\n  \r\n\tpublic static String encrypt(String value) {\r\n\t    try {\r\n\t        IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n\t        SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n\t \r\n\t        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n\t        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n\t \r\n\t        byte[] encrypted = cipher.doFinal(value.getBytes());\r\n\t        return Base64.encodeBase64String(encrypted);\r\n\t    } catch (Exception ex) {\r\n\t        ex.printStackTrace();\r\n\t    }\r\n\t    return null;\r\n\t}\r\n}\r\n\r\n\tpublic static String md5(String str) {\r\n        MessageDigest messageDigest = null;\r\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\r\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            messageDigest.reset();\r\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\r\n        } catch (NoSuchAlgorithmException e) {\r\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\r\n            System.exit(-1);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        byte[] byteArray = messageDigest.digest();\r\n        StringBuffer md5StrBuff = new StringBuffer();\r\n        for (int i = 0; i &lt; byteArray.length; i++) {\r\n            if (Integer.toHexString(0xFF &amp; byteArray[i]).length() == 1)\r\n                md5StrBuff.append(&quot;0&quot;).append(\r\n                        Integer.toHexString(0xFF &amp; byteArray[i]));\r\n            else\r\n                md5StrBuff.append(Integer.toHexString(0xFF &amp; byteArray[i]));\r\n        }\r\n        return md5StrBuff.toString();\r\n    }\r\n```\r\n\r\n**The result from the console is**\r\nHASH: e43df9b5a46b755ea8f1b4dd08265544    **OK**\r\nEncrypted value does not appear - I get instead an InvalidAlgorithmParameterException saying the IV length must be 16 bytes long.\r\n\r\nCan anyone help me understand why the MD5 works on JS and not on JAVA ?\r\nI would need to have in Java the same encrypted value I get from JS..\r\n\r\nThanks!!\r\n","title":"AES encryption between Java (server) and JS (client)","body":"<p>I have a server running in JAVA and I am creating a client with HTML and Javascript (about which I am less knowledgeable). The server accesses log-in credentials stored in a database with AES encryption.\nI need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java. I have found many threads online but cannot solve my problem: the encryption with JS and Java produce different results.</p>\n<p>This is my Javascript code.</p>\n<pre><code>var key = &quot;0123456789ABCDEF&quot;;\n\nfunction encrypt() {\n    const ivMd5Hash = CryptoJS.MD5(CryptoJS.enc.Utf8.parse(key));\n    console.log(&quot;Hash: &quot;+ivMd5Hash)\n    const cipher = this.cipher(CryptoJS.enc.Utf8.parse(value), CryptoJS.enc.Utf8.parse(key), ivMd5Hash);\n\n    return cipher.ciphertext.toString();\n  }\n\n  function cipher(value, key, iv) {\n    const cipher = CryptoJS.AES.encrypt(value, key, {\n      iv: iv,\n      mode: CryptoJS.mode.CBC,\n      keySize: 128,\n      padding: CryptoJS.pad.Pkcs7\n    });\n\n    return cipher;\n  }\n\nconsole.log(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;, key);\n</code></pre>\n<p><strong>The result from the console log is</strong>\nHASH: e43df9b5a46b755ea8f1b4dd08265544\nEncrypted value: fc88ab1f7821b9f8c5b46ab1d41250a2</p>\n<p>Now the JAVA part.</p>\n<pre><code>public class MainClass {\n\n    private static final String key = &quot;0123456789ABCDEF&quot;;\n    private static String initVector = &quot;&quot;;\n\n    \n    public static void main(String[] args) throws Exception {\n        \n        initVector=md5(key);  // md5 is an external method, which works\n        System.out.println(&quot;HASH: &quot;+initVector);\n        System.out.println(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;));\n\n  }\n  \n    public static String encrypt(String value) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n     \n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n     \n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            return Base64.encodeBase64String(encrypted);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n}\n\n    public static String md5(String str) {\n        MessageDigest messageDigest = null;\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n            messageDigest.reset();\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\n            System.exit(-1);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        byte[] byteArray = messageDigest.digest();\n        StringBuffer md5StrBuff = new StringBuffer();\n        for (int i = 0; i &lt; byteArray.length; i++) {\n            if (Integer.toHexString(0xFF &amp; byteArray[i]).length() == 1)\n                md5StrBuff.append(&quot;0&quot;).append(\n                        Integer.toHexString(0xFF &amp; byteArray[i]));\n            else\n                md5StrBuff.append(Integer.toHexString(0xFF &amp; byteArray[i]));\n        }\n        return md5StrBuff.toString();\n    }\n</code></pre>\n<p><strong>The result from the console is</strong>\nHASH: e43df9b5a46b755ea8f1b4dd08265544    <strong>OK</strong>\nEncrypted value does not appear - I get instead an InvalidAlgorithmParameterException saying the IV length must be 16 bytes long.</p>\n<p>Can anyone help me understand why the MD5 works on JS and not on JAVA ?\nI would need to have in Java the same encrypted value I get from JS..</p>\n<p>Thanks!!</p>\n"},{"tags":["java","onnx","onnxruntime","onnx-coreml"],"answers":[{"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1681366320,"post_id":75967859,"comment_id":134045235,"body_markdown":"Edit this properly by Ctrl +K (ing the code)","body":"Edit this properly by Ctrl +K (ing the code)"}],"tags":[],"owner":{"account_id":13357631,"reputation":1,"user_id":9640670,"display_name":"Marslinho"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681450333,"creation_date":1680990828,"answer_id":75967859,"question_id":64802377,"body_markdown":"I think this is an old issue. The example code works with the current version of the onnxruntime API (1.14.0).\r\n\r\n```java\r\n...\r\nvar myTensor = OnnxTensor.createTensor(env, 10.0f);\r\nSystem.out.println(myTensor);\r\n```\r\n\r\n---\r\noutput: \r\n\r\n```java\r\nOnnxTensor(info=TensorInfo(javaType=FLOAT,onnxType=ONNX_TENSOR_ELEMENT_DATA_TYPE_FLOAT,shape=[]))\r\n```","title":"How to create ONNXTensor for a single float value?","body":"<p>I think this is an old issue. The example code works with the current version of the onnxruntime API (1.14.0).</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nvar myTensor = OnnxTensor.createTensor(env, 10.0f);\nSystem.out.println(myTensor);\n</code></pre>\n<hr />\n<p>output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OnnxTensor(info=TensorInfo(javaType=FLOAT,onnxType=ONNX_TENSOR_ELEMENT_DATA_TYPE_FLOAT,shape=[]))\n</code></pre>\n"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681450333,"creation_date":1605177813,"question_id":64802377,"body_markdown":"I have the following java code :\r\n\r\n    try (OrtEnvironment env = OrtEnvironment.getEnvironment();\r\n                 OrtSession.SessionOptions opts = new OrtSession.SessionOptions()) {\r\n                opts.setOptimizationLevel(OrtSession.SessionOptions.OptLevel.BASIC_OPT);\r\n    \r\n                try (OrtSession session = env.createSession(&quot;model.onnx&quot;, opts)) {\r\n                    OnnxTensor.createTensor(env, 10.0f);\r\n                }\r\n            }\r\n\r\nI want to create an OnnxTensor of a float value. I am getting the below Exception:\r\n\r\n    Exception in thread &quot;main&quot; ai.onnxruntime.OrtException: Cannot convert class java.lang.Float to an OnnxTensor.\r\n    \tat ai.onnxruntime.TensorInfo.constructFromJavaArray(TensorInfo.java:208)\r\n    \tat ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:330)\r\n    \tat ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:314)","title":"How to create ONNXTensor for a single float value?","body":"<p>I have the following java code :</p>\n<pre><code>try (OrtEnvironment env = OrtEnvironment.getEnvironment();\n             OrtSession.SessionOptions opts = new OrtSession.SessionOptions()) {\n            opts.setOptimizationLevel(OrtSession.SessionOptions.OptLevel.BASIC_OPT);\n\n            try (OrtSession session = env.createSession(&quot;model.onnx&quot;, opts)) {\n                OnnxTensor.createTensor(env, 10.0f);\n            }\n        }\n</code></pre>\n<p>I want to create an OnnxTensor of a float value. I am getting the below Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; ai.onnxruntime.OrtException: Cannot convert class java.lang.Float to an OnnxTensor.\n    at ai.onnxruntime.TensorInfo.constructFromJavaArray(TensorInfo.java:208)\n    at ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:330)\n    at ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:314)\n</code></pre>\n"},{"tags":["java","audio","resampling"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616686367,"post_id":66802589,"comment_id":118086343,"body_markdown":"Does this help? https://stackoverflow.com/a/26520951/2851311. You may want to read the other answers as well.","body":"Does this help? <a href=\"https://stackoverflow.com/a/26520951/2851311\">stackoverflow.com/a/26520951/2851311</a>. You may want to read the other answers as well."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616688751,"post_id":66802589,"comment_id":118087595,"body_markdown":"I didn&#39;t quite read your entire post. You ended with this question `how do I know how many bytes are added at the beginning and end of the frame?` Well, the simplest answer I can give you is to look up the format specification. For example, a `.WAV` file will be formatted differently than an `MP3`.","body":"I didn&#39;t quite read your entire post. You ended with this question <code>how do I know how many bytes are added at the beginning and end of the frame?</code> Well, the simplest answer I can give you is to look up the format specification. For example, a <code>.WAV</code> file will be formatted differently than an <code>MP3</code>."},{"owner":{"account_id":10220931,"reputation":115,"user_id":7545148,"display_name":"DirkG"},"score":1,"creation_date":1616691504,"post_id":66802589,"comment_id":118089072,"body_markdown":"@hfontanez - The link does not explain the extra samples from resampling. Format is uncompressed pcm audio data. I have edited my question to make this clearer.","body":"@hfontanez - The link does not explain the extra samples from resampling. Format is uncompressed pcm audio data. I have edited my question to make this clearer."}],"answers":[{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616861682,"post_id":66810841,"comment_id":118138335,"body_markdown":"I did the EXACT thing. I ran it with just one byte and came up to similar conclusion.","body":"I did the EXACT thing. I ran it with just one byte and came up to similar conclusion."}],"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616730965,"creation_date":1616730965,"answer_id":66810841,"question_id":66802589,"body_markdown":"I was playing around with this. I don&#39;t really have an answer, just a couple thoughts. I suspect the streams are &quot;padded&quot; with beginning or ending zeroes for algorithmic purposes.\r\n\r\nFirst off, this doesn&#39;t seem to make a difference, but your `AudioInputStream` instantiation should be the number of frames, not the number of bytes.\r\n\r\nI ran your program with just 1 byte per sample as it seems to make things clearer, with a value of 10 in each frame.\r\n\r\n    Original number of samples: 4\r\n    Expected number of samples after resampling 3\r\n    Actual number of samples after resampling 5\r\n    original data: [10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 6]\r\n\r\n    Original number of samples: 5\r\n    Expected number of samples after resampling 3\r\n    Actual number of samples after resampling 6\r\n    original data: [10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 3]\r\n\r\n    Original number of samples: 6\r\n    Expected number of samples after resampling 4\r\n    Actual number of samples after resampling 7\r\n    original data: [10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 0]\r\n\r\n    Original number of samples: 7\r\n    Expected number of samples after resampling 5\r\n    Actual number of samples after resampling 7\r\n    original data: [10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10]\r\n\r\n    Original number of samples: 8\r\n    Expected number of samples after resampling 6\r\n    Actual number of samples after resampling 8\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 6]\r\n\r\n    Original number of samples: 9\r\n    Expected number of samples after resampling 6\r\n    Actual number of samples after resampling 9\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 3]\r\n\r\n    Original number of samples: 10\r\n    Expected number of samples after resampling 7\r\n    Actual number of samples after resampling 10\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 0]\r\n\r\n    Original number of samples: 11\r\n    Expected number of samples after resampling 8\r\n    Actual number of samples after resampling 10\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 10]\r\n\r\nMaybe the algorithm is treating the input line as if there is a preceding 0 value and an ending 0 value. The latter seems more clearly in evidence.\r\n\r\nIf you look at the ends of lines 7, 8, and 9. In the first instance, I&#39;m assuming the two sample rates &quot;line up&quot; in that the last point on the inputline is also a point on the output, not an &quot;intermediate value&quot;. When the last point on the output line falls beyond the input signal, it looks like linear interpolation is used between the last inputline value and 0. \r\n\r\nI&#39;m not clear what is going on at the start, but it seems like the algorithm may also be coming up with a linear interpolation between 0 and the first inputline value, but I don&#39;t understand why it isn&#39;t a 0.6 instead of a 0.3 or why there is a leading zero.\r\n\r\nFor the most part, though, notice that we do have the predicted number of 10&#39;s! The exception is when the leading and ending partial values add up to 10 (less rounding, I&#39;m assuming 3 should be 3.3 and 6 should be 6.7 if extended a decimal point--try putting in 100 instead of 10 and you will see), on lines 4 and 8.\r\n\r\nI am also going to assume the transform algorithm was made with a use case in mind that there would be 1000&#39;s of samples, in which case one or two leading/ending additional values are not going to affect the sound meaningfully, especially given that they are ramping between the source signal and 0.","title":"Resampling Audio in Java","body":"<p>I was playing around with this. I don't really have an answer, just a couple thoughts. I suspect the streams are &quot;padded&quot; with beginning or ending zeroes for algorithmic purposes.</p>\n<p>First off, this doesn't seem to make a difference, but your <code>AudioInputStream</code> instantiation should be the number of frames, not the number of bytes.</p>\n<p>I ran your program with just 1 byte per sample as it seems to make things clearer, with a value of 10 in each frame.</p>\n<pre><code>Original number of samples: 4\nExpected number of samples after resampling 3\nActual number of samples after resampling 5\noriginal data: [10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 6]\n\nOriginal number of samples: 5\nExpected number of samples after resampling 3\nActual number of samples after resampling 6\noriginal data: [10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 3]\n\nOriginal number of samples: 6\nExpected number of samples after resampling 4\nActual number of samples after resampling 7\noriginal data: [10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 0]\n\nOriginal number of samples: 7\nExpected number of samples after resampling 5\nActual number of samples after resampling 7\noriginal data: [10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10]\n\nOriginal number of samples: 8\nExpected number of samples after resampling 6\nActual number of samples after resampling 8\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 6]\n\nOriginal number of samples: 9\nExpected number of samples after resampling 6\nActual number of samples after resampling 9\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 3]\n\nOriginal number of samples: 10\nExpected number of samples after resampling 7\nActual number of samples after resampling 10\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 0]\n\nOriginal number of samples: 11\nExpected number of samples after resampling 8\nActual number of samples after resampling 10\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 10]\n</code></pre>\n<p>Maybe the algorithm is treating the input line as if there is a preceding 0 value and an ending 0 value. The latter seems more clearly in evidence.</p>\n<p>If you look at the ends of lines 7, 8, and 9. In the first instance, I'm assuming the two sample rates &quot;line up&quot; in that the last point on the inputline is also a point on the output, not an &quot;intermediate value&quot;. When the last point on the output line falls beyond the input signal, it looks like linear interpolation is used between the last inputline value and 0.</p>\n<p>I'm not clear what is going on at the start, but it seems like the algorithm may also be coming up with a linear interpolation between 0 and the first inputline value, but I don't understand why it isn't a 0.6 instead of a 0.3 or why there is a leading zero.</p>\n<p>For the most part, though, notice that we do have the predicted number of 10's! The exception is when the leading and ending partial values add up to 10 (less rounding, I'm assuming 3 should be 3.3 and 6 should be 6.7 if extended a decimal point--try putting in 100 instead of 10 and you will see), on lines 4 and 8.</p>\n<p>I am also going to assume the transform algorithm was made with a use case in mind that there would be 1000's of samples, in which case one or two leading/ending additional values are not going to affect the sound meaningfully, especially given that they are ramping between the source signal and 0.</p>\n"},{"tags":[],"owner":{"account_id":97926,"reputation":823,"user_id":265374,"accept_rate":75,"display_name":"reddot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681449073,"creation_date":1681449073,"answer_id":76011777,"question_id":66802589,"body_markdown":"I&#39;ve bumped into the same issue recently and made some research. Here is what I have found. The code responsible for re-sampling is located at:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java\r\n\r\nIn particular it is a class `AudioFloatInputStreamResampler` and it&#39;s methods `read`/`readNextBuffer`. Those extra-bytes added on re-sampling indeed are used for padding for interpolation algorithm. It worth noting that there are several interpolation algorithms supported. It&#39;s possible to choose one using &quot;interpolation&quot; property of target format, i.e.:\r\n\r\n```\r\nAudioFormat targetAudioFormat = new AudioFormat(\r\n   AudioFormat.Encoding.PCM_SIGNED,\r\n   16000, 16, 1, 2, 16000, false,\r\n   Map.of(&quot;interpolation&quot;, &quot;linear&quot;))\r\n```\r\n\r\nThe list of interpolation algorithms supported is hard-coded and consists of: `linear` (same as `linear2`), `linear1`, `linear2` (default), `cubic`, `lanczos`, `sinc` and `point`. Amount of padding bytes depends on the algorithm chosen. And `linear` requires least amount of bytes added among other options. I.e. `linear` algorithm requires padding of 2 bytes, whereas `point` requires 100 bytes.\r\n\r\nI don&#39;t know if leaving those padded bytes in final output is a bug or not. As to me it would be pretty okay to trim those padding bytes. At least zeroed ones.\r\n\r\nIn my case those extra bytes are especially weird due to the need to re-sample streaming audio. And initially I implemented my re-sampling with construction of audio streams per buffer. As a result I had a trade off between real-time processing and frequency of extra-bytes (sounded as clicks) depending on buffer size used. So basically I see two ways to deal with it:\r\n\r\n1) Run conversion with constant buffer data and determine how the padded bytes are added. I.e. I have to re-sample 8kHz to 16kHz and vice versa. I&#39;ve got a buffer filled with uniform values (i.e. 120 for 8-bit samples) and run the conversion. As a result I found that on downsampling there is a single zero byte added at the begging of the buffer and on upsampling there are 3 zero bytes and 1 interpolated to zero byte (60) in the beginning. However the last byte was also interpolated to zero (60). Based on these results I then trim extra bytes in my code.\r\n\r\n2) Wrap the overall incoming/outgoing streaming audio data into InputStream/AudioInputStream subclasses. So the padding bytes are added only once per stream, which is not so crucial for sound quality and let to avoid trade-offs with real-time processing.","title":"Resampling Audio in Java","body":"<p>I've bumped into the same issue recently and made some research. Here is what I have found. The code responsible for re-sampling is located at:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java</a></p>\n<p>In particular it is a class <code>AudioFloatInputStreamResampler</code> and it's methods <code>read</code>/<code>readNextBuffer</code>. Those extra-bytes added on re-sampling indeed are used for padding for interpolation algorithm. It worth noting that there are several interpolation algorithms supported. It's possible to choose one using &quot;interpolation&quot; property of target format, i.e.:</p>\n<pre><code>AudioFormat targetAudioFormat = new AudioFormat(\n   AudioFormat.Encoding.PCM_SIGNED,\n   16000, 16, 1, 2, 16000, false,\n   Map.of(&quot;interpolation&quot;, &quot;linear&quot;))\n</code></pre>\n<p>The list of interpolation algorithms supported is hard-coded and consists of: <code>linear</code> (same as <code>linear2</code>), <code>linear1</code>, <code>linear2</code> (default), <code>cubic</code>, <code>lanczos</code>, <code>sinc</code> and <code>point</code>. Amount of padding bytes depends on the algorithm chosen. And <code>linear</code> requires least amount of bytes added among other options. I.e. <code>linear</code> algorithm requires padding of 2 bytes, whereas <code>point</code> requires 100 bytes.</p>\n<p>I don't know if leaving those padded bytes in final output is a bug or not. As to me it would be pretty okay to trim those padding bytes. At least zeroed ones.</p>\n<p>In my case those extra bytes are especially weird due to the need to re-sample streaming audio. And initially I implemented my re-sampling with construction of audio streams per buffer. As a result I had a trade off between real-time processing and frequency of extra-bytes (sounded as clicks) depending on buffer size used. So basically I see two ways to deal with it:</p>\n<ol>\n<li><p>Run conversion with constant buffer data and determine how the padded bytes are added. I.e. I have to re-sample 8kHz to 16kHz and vice versa. I've got a buffer filled with uniform values (i.e. 120 for 8-bit samples) and run the conversion. As a result I found that on downsampling there is a single zero byte added at the begging of the buffer and on upsampling there are 3 zero bytes and 1 interpolated to zero byte (60) in the beginning. However the last byte was also interpolated to zero (60). Based on these results I then trim extra bytes in my code.</p>\n</li>\n<li><p>Wrap the overall incoming/outgoing streaming audio data into InputStream/AudioInputStream subclasses. So the padding bytes are added only once per stream, which is not so crucial for sound quality and let to avoid trade-offs with real-time processing.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10220931,"reputation":115,"user_id":7545148,"display_name":"DirkG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1681449073,"creation_date":1616685814,"question_id":66802589,"body_markdown":"In one of my projects, I need to resample PCM audio data to a different sample rate. I am using javax.sound.sampled.AudioSystem for this task. The resampling seems to add additional samples at the beginning and end of the frame. Here is a minimal working example:\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport javax.sound.sampled.AudioFormat;\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\n\r\nublic class ResamplingTest {\r\n\r\n  public static void main(final String[] args) throws IOException {\r\n    final int nrOfSamples = 4;\r\n    final int bytesPerSample = 2;\r\n    final byte[] data = new byte[nrOfSamples * bytesPerSample];\r\n    Arrays.fill(data, (byte) 10);\r\n    final AudioFormat inputFormat = new AudioFormat(32000, bytesPerSample * 8, 1, true, false);\r\n    final AudioInputStream inputStream = new AudioInputStream(new ByteArrayInputStream(data), inputFormat, data.length);\r\n    final AudioFormat outputFormat = new AudioFormat(24000, bytesPerSample * 8, 1, true, false);\r\n    final AudioInputStream outputStream = AudioSystem.getAudioInputStream(outputFormat, inputStream);\r\n    final var resampledBytes = outputStream.readAllBytes();\r\n    System.out.println(&quot;Expected number of samples after resampling &quot;\r\n        + (int) (nrOfSamples * outputFormat.getSampleRate() / inputFormat.getSampleRate()));\r\n    System.out.println(&quot;Actual number of samples after resampling &quot; + resampledBytes.length / bytesPerSample);\r\n    System.out.println(Arrays.toString(resampledBytes));\r\n  }\r\n}\r\n```\r\nI would expect exactly 3 samples when resampling 4 samples from 32 kHz to 24 kHz. However, the above code generates 5 samples. The number of extra samples seems to depend on the input and output sample rate. For example, if I resample from 8 kHz to 32 kHz, 8 additional samples are generated. Why does resampling add additional samples, and how do I know how many samples are added at the beginning and end of a frame?","title":"Resampling Audio in Java","body":"<p>In one of my projects, I need to resample PCM audio data to a different sample rate. I am using javax.sound.sampled.AudioSystem for this task. The resampling seems to add additional samples at the beginning and end of the frame. Here is a minimal working example:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\n\nublic class ResamplingTest {\n\n  public static void main(final String[] args) throws IOException {\n    final int nrOfSamples = 4;\n    final int bytesPerSample = 2;\n    final byte[] data = new byte[nrOfSamples * bytesPerSample];\n    Arrays.fill(data, (byte) 10);\n    final AudioFormat inputFormat = new AudioFormat(32000, bytesPerSample * 8, 1, true, false);\n    final AudioInputStream inputStream = new AudioInputStream(new ByteArrayInputStream(data), inputFormat, data.length);\n    final AudioFormat outputFormat = new AudioFormat(24000, bytesPerSample * 8, 1, true, false);\n    final AudioInputStream outputStream = AudioSystem.getAudioInputStream(outputFormat, inputStream);\n    final var resampledBytes = outputStream.readAllBytes();\n    System.out.println(&quot;Expected number of samples after resampling &quot;\n        + (int) (nrOfSamples * outputFormat.getSampleRate() / inputFormat.getSampleRate()));\n    System.out.println(&quot;Actual number of samples after resampling &quot; + resampledBytes.length / bytesPerSample);\n    System.out.println(Arrays.toString(resampledBytes));\n  }\n}\n</code></pre>\n<p>I would expect exactly 3 samples when resampling 4 samples from 32 kHz to 24 kHz. However, the above code generates 5 samples. The number of extra samples seems to depend on the input and output sample rate. For example, if I resample from 8 kHz to 32 kHz, 8 additional samples are generated. Why does resampling add additional samples, and how do I know how many samples are added at the beginning and end of a frame?</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1681456846,"post_id":76011260,"comment_id":134062208,"body_markdown":"Your `Node` class has a `parent` member, but your `add` method never sets the `parent` member of the newly added node.","body":"Your <code>Node</code> class has a <code>parent</code> member, but your <code>add</code> method never sets the <code>parent</code> member of the newly added node."}],"answers":[{"comments":[{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":0,"creation_date":1681592915,"post_id":76011715,"comment_id":134082439,"body_markdown":"Thank you, that is very clear. I just have one follow up question; how do I assign the parent class? Should i do it in the addRecursive or the add function? Should I assign the current node as the parent? Sorry, I&#39;m having a bit of a brain lapse on this one for some reason.","body":"Thank you, that is very clear. I just have one follow up question; how do I assign the parent class? Should i do it in the addRecursive or the add function? Should I assign the current node as the parent? Sorry, I&#39;m having a bit of a brain lapse on this one for some reason."},{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1681612903,"post_id":76011715,"comment_id":134083882,"body_markdown":"@DashHarber You should do it in the `addRecursive` function, and you&#39;re spot on about assigning the current node as the parent. Your function header might look like this: `public Node addR(Node c, int x, Node parent)` and a recursive call might look like this: `c.left = addR(c.left, x, c)`. You&#39;d want to set the `parent` member in the `if (c == null)` block.","body":"@DashHarber You should do it in the <code>addRecursive</code> function, and you&#39;re spot on about assigning the current node as the parent. Your function header might look like this: <code>public Node addR(Node c, int x, Node parent)</code> and a recursive call might look like this: <code>c.left = addR(c.left, x, c)</code>. You&#39;d want to set the <code>parent</code> member in the <code>if (c == null)</code> block."},{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":0,"creation_date":1681613933,"post_id":76011715,"comment_id":134083946,"body_markdown":"So I&#39;ve set that up, but I&#39;m a bit confused still. If I assign something like c.parent = parent, then it gives me a NullPointException. I can&#39;t put it after the return statement, obviously, since it becomes in accesbile, but if I put it before, the node doesn&#39;t exist yet to assign a parent. Am I misunderstanding?\n\nI also wanted to say a personal thank you. I&#39;m really struggling with this course and have not had the best luck on these sites, but you have been patient and clear and I wanted to express my appreciation for that.","body":"So I&#39;ve set that up, but I&#39;m a bit confused still. If I assign something like c.parent = parent, then it gives me a NullPointException. I can&#39;t put it after the return statement, obviously, since it becomes in accesbile, but if I put it before, the node doesn&#39;t exist yet to assign a parent. Am I misunderstanding?  I also wanted to say a personal thank you. I&#39;m really struggling with this course and have not had the best luck on these sites, but you have been patient and clear and I wanted to express my appreciation for that."},{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1681614406,"post_id":76011715,"comment_id":134083974,"body_markdown":"@DashHarber What I meant was that you should write something to the effect of `Node newNode = new Node(x)`, then do `newNode.parent = parent` and `return newNode`. And you&#39;re welcome for the help. As long as you provide enough information about your question, like you&#39;ve done here, people are generally willing to lend a hand.","body":"@DashHarber What I meant was that you should write something to the effect of <code>Node newNode = new Node(x)</code>, then do <code>newNode.parent = parent</code> and <code>return newNode</code>. And you&#39;re welcome for the help. As long as you provide enough information about your question, like you&#39;ve done here, people are generally willing to lend a hand."},{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":1,"creation_date":1681614407,"post_id":76011715,"comment_id":134083975,"body_markdown":"Okay, I think I&#39;ve figure it out. I set the new node first, then assigned the parent, then returned it. It seems to be working except for the fact that it is printing out the postorder number twice. Looks like I just have an extra print out somewhere. Thank you again for all your help!","body":"Okay, I think I&#39;ve figure it out. I set the new node first, then assigned the parent, then returned it. It seems to be working except for the fact that it is printing out the postorder number twice. Looks like I just have an extra print out somewhere. Thank you again for all your help!"},{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1681614537,"post_id":76011715,"comment_id":134083982,"body_markdown":"@DashHarber You&#39;re welcome! You can click the checkmark outline under my answer to let other SO users know that your question has an answer that worked for you.","body":"@DashHarber You&#39;re welcome! You can click the checkmark outline under my answer to let other SO users know that your question has an answer that worked for you."}],"tags":[],"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681448175,"creation_date":1681448175,"answer_id":76011715,"question_id":76011260,"body_markdown":"Your `searchR` function is screwing up the tree due to the `c.right` and `c.left` assignments. You&#39;re very close, though.\r\n\r\nAfter all the `add` calls are complete, your tree looks like this:\r\n```\r\n    7\r\n   /  \\\r\n  5    9\r\n / \\  /\r\n3  6 8\r\n```\r\n\r\nWhen you call `searchR(test.root, 5)`, your tree winds up looking like this**:\r\n```\r\n  7\r\n / \\\r\n9   9\r\n```\r\n\r\nAs you can see, not only is this not a valid binary tree, but many of the nodes are missing, and the node with a value of 9 was duplicated.\r\n\r\nGet rid of the assignments, wrap the `.right` traversal in an `else` block, get rid of the final `return` statement, and you&#39;ll be good to go:\r\n```\r\npublic Node search(Node node, int target) {\r\n    if (node == null) return null;\r\n\r\n    if (node.value == target) {\r\n        return node;\r\n    } else if (target &lt; node.value) {\r\n        return search(node.left, target);\r\n    } else {\r\n        return search(node.right, target);\r\n    }\r\n}\r\n```\r\nYour `preorderNext` looks OK.\r\n\r\nYour `postorderNext` looks almost OK. The issue is that I don&#39;t see you setting up the `.parent` members of the `Node`s, so your `postorderNext` function will always crash with a `NullPointerException` at the `parent.right == null || parent.right == n` conditional check.\r\n\r\nYour `inorderNext` will break for the same reason; no `parent` members are set up. My recommendation would be to add a parameter to your `add` function to hold the `parent` node. Then, when you `return new Node(x)`, you can also set the `parent` member appropriately. Note that you should pass `c` as the parent node in each recursive call.\r\n\r\n\r\n\r\n** If you&#39;re curious how I figured out the exact nature of the tree after your `searchR` function, I threw a handful of print statements into the `searchR` function and ran it myself. This was the result:\r\n```\r\nStarting recursive call for node 1933863327 and x = 5\r\n5 &lt; 7, doing c.left = searchR(c.right, x)\r\nStarting recursive call for node 146589023 and x = 5\r\n5 &lt; 9, doing c.left = searchR(c.right, x)\r\nc == null, returning null\r\nRecursive call for c.left returned, c.left.value = null\r\nDoing c.right = searchR(c.right, 5)\r\nc == null, returning null\r\nRecursive call for c.right returned, c.right.value = null\r\nEnding recursive call for node 146589023 and x = 5\r\nc.value = 9\r\nRecursive call for c.left returned, c.left.value = 9\r\nDoing c.right = searchR(c.right, 5)\r\nStarting recursive call for node 146589023 and x = 5\r\n5 &lt; 9, doing c.left = searchR(c.right, x)\r\nc == null, returning null\r\nRecursive call for c.left returned, c.left.value = null\r\nDoing c.right = searchR(c.right, 5)\r\nc == null, returning null\r\nRecursive call for c.right returned, c.right.value = null\r\nEnding recursive call for node 146589023 and x = 5\r\nc.value = 9\r\nRecursive call for c.right returned, c.right.value = 9\r\nEnding recursive call for node 1933863327 and x = 5\r\nc.value = 7\r\n```","title":"Binary Trees in Java: preorderNext, postorderNext, inorderNext","body":"<p>Your <code>searchR</code> function is screwing up the tree due to the <code>c.right</code> and <code>c.left</code> assignments. You're very close, though.</p>\n<p>After all the <code>add</code> calls are complete, your tree looks like this:</p>\n<pre><code>    7\n   /  \\\n  5    9\n / \\  /\n3  6 8\n</code></pre>\n<p>When you call <code>searchR(test.root, 5)</code>, your tree winds up looking like this**:</p>\n<pre><code>  7\n / \\\n9   9\n</code></pre>\n<p>As you can see, not only is this not a valid binary tree, but many of the nodes are missing, and the node with a value of 9 was duplicated.</p>\n<p>Get rid of the assignments, wrap the <code>.right</code> traversal in an <code>else</code> block, get rid of the final <code>return</code> statement, and you'll be good to go:</p>\n<pre><code>public Node search(Node node, int target) {\n    if (node == null) return null;\n\n    if (node.value == target) {\n        return node;\n    } else if (target &lt; node.value) {\n        return search(node.left, target);\n    } else {\n        return search(node.right, target);\n    }\n}\n</code></pre>\n<p>Your <code>preorderNext</code> looks OK.</p>\n<p>Your <code>postorderNext</code> looks almost OK. The issue is that I don't see you setting up the <code>.parent</code> members of the <code>Node</code>s, so your <code>postorderNext</code> function will always crash with a <code>NullPointerException</code> at the <code>parent.right == null || parent.right == n</code> conditional check.</p>\n<p>Your <code>inorderNext</code> will break for the same reason; no <code>parent</code> members are set up. My recommendation would be to add a parameter to your <code>add</code> function to hold the <code>parent</code> node. Then, when you <code>return new Node(x)</code>, you can also set the <code>parent</code> member appropriately. Note that you should pass <code>c</code> as the parent node in each recursive call.</p>\n<p>** If you're curious how I figured out the exact nature of the tree after your <code>searchR</code> function, I threw a handful of print statements into the <code>searchR</code> function and ran it myself. This was the result:</p>\n<pre><code>Starting recursive call for node 1933863327 and x = 5\n5 &lt; 7, doing c.left = searchR(c.right, x)\nStarting recursive call for node 146589023 and x = 5\n5 &lt; 9, doing c.left = searchR(c.right, x)\nc == null, returning null\nRecursive call for c.left returned, c.left.value = null\nDoing c.right = searchR(c.right, 5)\nc == null, returning null\nRecursive call for c.right returned, c.right.value = null\nEnding recursive call for node 146589023 and x = 5\nc.value = 9\nRecursive call for c.left returned, c.left.value = 9\nDoing c.right = searchR(c.right, 5)\nStarting recursive call for node 146589023 and x = 5\n5 &lt; 9, doing c.left = searchR(c.right, x)\nc == null, returning null\nRecursive call for c.left returned, c.left.value = null\nDoing c.right = searchR(c.right, 5)\nc == null, returning null\nRecursive call for c.right returned, c.right.value = null\nEnding recursive call for node 146589023 and x = 5\nc.value = 9\nRecursive call for c.right returned, c.right.value = 9\nEnding recursive call for node 1933863327 and x = 5\nc.value = 7\n</code></pre>\n"}],"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011715,"answer_count":1,"score":1,"last_activity_date":1681448175,"creation_date":1681440874,"question_id":76011260,"body_markdown":"I&#39;m having some trouble with Binary Trees in java. The assignment wants me to build a binary tree and then create functions to return the next node in preorder, postorder, and inorder. So here is my attempt;\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n\tNode root;\r\n\t\r\n\tprivate Node addR(Node c, int x) {\r\n\t\tif (c == null) {\r\n\t\t\treturn new Node(x);\r\n\t\t}\r\n\t\tif (x &lt; c.value) {\r\n\t\t\tc.left = addR(c.left, x);\r\n\t\t}\r\n\t\telse if (x &gt; c.value) {\r\n\t\t\tc.right = addR(c.right, x);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic void add(int x) {\r\n\t\troot = addR(root, x);\r\n\t}\r\n\t\r\n\tpublic Node preorderNext(Node n) {\r\n\t\tif (n.left != null) {\r\n\t\t\tSystem.out.println(n.left.value);\r\n\t\t\treturn n.left;\r\n\t\t}\r\n\t\telse if (n.right != null) {\r\n\t\t\tSystem.out.println(n.right.value);\r\n\t\t\treturn n.right;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Empty&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Node postorderNext(Node root, Node n) {\r\n\t\tif (n == root) {\r\n\t\t\tSystem.out.println(&quot;Empty&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tNode parent = n.parent;\r\n\t\tif(parent.right == null || parent.right == n) {\r\n\t\t\tSystem.out.println(parent.value);\r\n\t\t\treturn parent;\r\n\t\t}\r\n\t\tNode c = parent.right;\r\n\t\twhile (c.left != null) {\r\n\t\t\tSystem.out.println(c.left);\r\n\t\t\tc = c.left;\r\n\t\t}\r\n\t\tSystem.out.println(c.value);\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic Node inorderNext(Node root, Node n) {\r\n\t\tif (n.right != null) {\r\n\t\t\tSystem.out.println(n.right.value);\r\n\t\t\treturn minValue(n.right);\r\n\t\t}\r\n\t\tNode p = n.parent;\r\n\t\twhile (p != null &amp;&amp; n == p.right) {\r\n\t\t\tn=p;\r\n\t\t\tp=p.parent;\r\n\t\t}\r\n\t\tSystem.out.println(p.value);\r\n\t\treturn p;\r\n\t}\r\n\t\r\n\tNode minValue(Node n) {\r\n\t\tNode c = n;\r\n\t\twhile (c.left != null) {\r\n\t\t\tc = c.left;\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic Node searchR(Node c, int x) {\r\n\t\tif(c==null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (x==c.value) {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tif (x&lt;c.value) {\r\n\t\t\tc.left = searchR(c.right, x);\r\n\t\t}\r\n\t\tc.right = searchR(c.right, x);\r\n\t\treturn c;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd here is my main;\r\n\r\n\r\n```public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBinaryTree test = new BinaryTree();\r\n\t\ttest.add(7);\r\n\t\ttest.add(5);\r\n\t\ttest.add(6);\r\n\t\ttest.add(9);\r\n\t\ttest.add(3);\r\n\t\ttest.add(8);\r\n\t\ttest.preorderNext(test.searchR(test.root, 5));\r\n\t\ttest.postorderNext(test.root, test.searchR(test.root, 5));\r\n\t\ttest.inorderNext(test.root, test.searchR(test.root, 5));\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nSo the code works as far as nothing crashes, but it returns the wrong nodes. I double checked to make sure the searchR method was returning the right value, and it was, but the other functions simply return the wrong numbers. Anyone have any guidance on where I&#39;m going wrong? I&#39;m a little lost since it&#39;s not actually an error and clearly an issue within my code. I also can&#39;t use collections in this problem, but I don&#39;t think that would be relevant here anyway.","title":"Binary Trees in Java: preorderNext, postorderNext, inorderNext","body":"<p>I'm having some trouble with Binary Trees in java. The assignment wants me to build a binary tree and then create functions to return the next node in preorder, postorder, and inorder. So here is my attempt;</p>\n<pre><code>public class BinaryTree {\n    Node root;\n    \n    private Node addR(Node c, int x) {\n        if (c == null) {\n            return new Node(x);\n        }\n        if (x &lt; c.value) {\n            c.left = addR(c.left, x);\n        }\n        else if (x &gt; c.value) {\n            c.right = addR(c.right, x);\n        }\n        else {\n            return c;\n        }\n        return c;\n    }\n    \n    public void add(int x) {\n        root = addR(root, x);\n    }\n    \n    public Node preorderNext(Node n) {\n        if (n.left != null) {\n            System.out.println(n.left.value);\n            return n.left;\n        }\n        else if (n.right != null) {\n            System.out.println(n.right.value);\n            return n.right;\n        }\n        else {\n            System.out.println(&quot;Empty&quot;);\n            return null;\n        }\n    }\n    \n    public Node postorderNext(Node root, Node n) {\n        if (n == root) {\n            System.out.println(&quot;Empty&quot;);\n            return null;\n        }\n        Node parent = n.parent;\n        if(parent.right == null || parent.right == n) {\n            System.out.println(parent.value);\n            return parent;\n        }\n        Node c = parent.right;\n        while (c.left != null) {\n            System.out.println(c.left);\n            c = c.left;\n        }\n        System.out.println(c.value);\n        return c;\n    }\n    \n    public Node inorderNext(Node root, Node n) {\n        if (n.right != null) {\n            System.out.println(n.right.value);\n            return minValue(n.right);\n        }\n        Node p = n.parent;\n        while (p != null &amp;&amp; n == p.right) {\n            n=p;\n            p=p.parent;\n        }\n        System.out.println(p.value);\n        return p;\n    }\n    \n    Node minValue(Node n) {\n        Node c = n;\n        while (c.left != null) {\n            c = c.left;\n        }\n        return c;\n    }\n    \n    public Node searchR(Node c, int x) {\n        if(c==null) {\n            return null;\n        }\n        if (x==c.value) {\n            return c;\n        }\n        if (x&lt;c.value) {\n            c.left = searchR(c.right, x);\n        }\n        c.right = searchR(c.right, x);\n        return c;\n    }\n}\n\n</code></pre>\n<p>And here is my main;</p>\n<pre><code>\n    public static void main(String[] args) {\n        BinaryTree test = new BinaryTree();\n        test.add(7);\n        test.add(5);\n        test.add(6);\n        test.add(9);\n        test.add(3);\n        test.add(8);\n        test.preorderNext(test.searchR(test.root, 5));\n        test.postorderNext(test.root, test.searchR(test.root, 5));\n        test.inorderNext(test.root, test.searchR(test.root, 5));\n        \n    }\n\n}\n</code></pre>\n<p>So the code works as far as nothing crashes, but it returns the wrong nodes. I double checked to make sure the searchR method was returning the right value, and it was, but the other functions simply return the wrong numbers. Anyone have any guidance on where I'm going wrong? I'm a little lost since it's not actually an error and clearly an issue within my code. I also can't use collections in this problem, but I don't think that would be relevant here anyway.</p>\n"},{"tags":["java","itext","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1632993688,"post_id":69387514,"comment_id":122645267,"body_markdown":"Neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...). You can use them to render the different revisions of the PDF as bitmaps and compare those images. Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...). But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment *and only a comment* has been added, is highly non-trivial.","body":"Neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...). You can use them to render the different revisions of the PDF as bitmaps and compare those images. Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...). But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment <i>and only a comment</i> has been added, is highly non-trivial."},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1634503567,"post_id":69387514,"comment_id":123036138,"body_markdown":"Can you explain more, how can I detect changes in low level COS objects.","body":"Can you explain more, how can I detect changes in low level COS objects."},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1634503925,"post_id":69387514,"comment_id":123036209,"body_markdown":"And if we are talking about setting a flag to true if any changes were done before the second signature, how can we achieve this?","body":"And if we are talking about setting a flag to true if any changes were done before the second signature, how can we achieve this?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1634729055,"post_id":69387514,"comment_id":123101875,"body_markdown":"*&quot;Can you explain more, how can I detect changes in low level COS objects.&quot;* - Does my answer give you an idea?","body":"<i>&quot;Can you explain more, how can I detect changes in low level COS objects.&quot;</i> - Does my answer give you an idea?"},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":1,"creation_date":1647249749,"post_id":69387514,"comment_id":126314785,"body_markdown":"I used PdfCompare you provide in your comment and it was satisfying for me, Thanks a lot.","body":"I used PdfCompare you provide in your comment and it was satisfying for me, Thanks a lot."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1647251152,"post_id":69387514,"comment_id":126315309,"body_markdown":"Great! (Whenever an answer to one of your questions on stackoverflow helps you that far, you may consider marking it as the &quot;accepted answer&quot; by [clicking the check mark at its upper left](https://i.stack.imgur.com/LkiIZ.png).)","body":"Great! (Whenever an answer to one of your questions on stackoverflow helps you that far, you may consider marking it as the &quot;accepted answer&quot; by <a href=\"https://i.stack.imgur.com/LkiIZ.png\" rel=\"nofollow noreferrer\">clicking the check mark at its upper left</a>.)"}],"answers":[{"comments":[{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1637608580,"post_id":69617158,"comment_id":123867150,"body_markdown":"Thanks a lot for your descriptive and detailed comment. I used it to solve the issue.","body":"Thanks a lot for your descriptive and detailed comment. I used it to solve the issue."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634564428,"creation_date":1634564428,"answer_id":69617158,"question_id":69387514,"body_markdown":"As already explained in a [comment][1], *neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...).*\r\n\r\n*You can use them to render the different revisions of the PDF as bitmaps and compare those images.*\r\n\r\n*Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...).*\r\n\r\n*But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment and only a comment has been added, is highly non-trivial.*\r\n\r\n[In response][2] you asked\r\n\r\n&gt;Can you explain more, how can I detect changes in low level COS objects.\r\n\r\n### What to Compare And What Changes to Consider\r\n\r\nFirst of all you have to be clear about what document states you can compare to detect changes.\r\n\r\nThe PDF format allows to append changes to a PDF in so called incremental updates. This allows changes to signed documents without cryptographically breaking those signatures as the original signed bytes are left as is:\r\n\r\n[![Structure][3]][3]\r\n\r\nThere can be more incremental updates in-between, though, which are not signed; e.g. the &quot;Changes for version 2&quot; might include multiple incremental updates.\r\n\r\nOne might consider comparing the revisions created by arbitrary incremental updates. The problem here is, though, that you cannot identify the person who applied an incremental update without signature.\r\n\r\nThus, it usually makes more sense to compare the signed revisions only and to hold each signer responsible for *all changes since the previous signed revision*. The only exception here is the whole file which as the current version of the PDF is of special interest even if it there is no signature covering all of it.\r\n\r\nNext you have to decide what you consider a change. In particular:\r\n\r\n* Is every object override in an incremental update a change? Even those that override the original object with an identical copy?\r\n\r\n* What about changes that make a direct object indirect (or vice versa) but keep all contents and references intact?\r\n\r\n* What about addition of new objects that are not referred to from anywhere in the standard structure?\r\n\r\n* What about addition of objects that are not referenced from the cross reference streams or tables?\r\n\r\n* What about addition of data that&#39;s not following PDF syntax at all?\r\n\r\nIf you are indeed interested in such changes, too, existing PDF libraries out-of-the-box usually don&#39;t provide you the means to determine them; you most likely will at least have to change their code for traversing the chain of cross reference tables/streams or even analyze the file bytes in the update directly.\r\n\r\nIf you are not interested in such changes, though, there usually is no need to change or replace library routines.\r\n\r\nAs the enumerated and similar changes make no difference when the PDF is processed by specification conform PDF processors, one can usually ignore such changes.\r\n\r\nIf this is your position, too, the following example tool might give you a starting point.\r\n\r\n### An Example Tool Based on iText 7\r\n\r\nWith the limitations explained above you can compare signed revisions of a PDF using iText 7 without changes to the library by loading the revisions to compare into separate `PdfDocument` instances and recursively comparing the PDF objects starting with the trailer.\r\n\r\nI once implemented this as a small helper tool for personal use (so it is not completely finished yet, more work-in-progress). First there is the base class that allows comparing two arbitrary documents:\r\n\r\n```\r\npublic class PdfCompare {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.printf(&quot;Comparing:\\n* %s\\n* %s\\n&quot;, args[0], args[1]);\r\n        try (   PdfDocument pdfDocument1 = new PdfDocument(new PdfReader(args[0]));\r\n                PdfDocument pdfDocument2 = new PdfDocument(new PdfReader(args[1]))  ) {\r\n            PdfCompare pdfCompare = new PdfCompare(pdfDocument1, pdfDocument2);\r\n            pdfCompare.compare();\r\n\r\n            List&lt;Difference&gt; differences = pdfCompare.getDifferences();\r\n            if (differences == null || differences.isEmpty()) {\r\n                System.out.println(&quot;No differences found.&quot;);\r\n            } else {\r\n                System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\r\n                for (Difference difference : pdfCompare.getDifferences()) {\r\n                    for (String element : difference.getPath()) {\r\n                        System.out.print(element);\r\n                    }\r\n                    System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public interface Difference {\r\n        List&lt;String&gt; getPath();\r\n        String getDescription();\r\n    }\r\n\r\n    public PdfCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\r\n        trailer1 = pdfDocument1.getTrailer();\r\n        trailer2 = pdfDocument2.getTrailer();\r\n    }\r\n\r\n    public void compare() {\r\n        LOGGER.info(&quot;Starting comparison&quot;);\r\n        try {\r\n            compared.clear();\r\n            differences.clear();\r\n            LOGGER.info(&quot;START COMPARE&quot;);\r\n            compare(trailer1, trailer2, Collections.singletonList(&quot;trailer&quot;));\r\n            LOGGER.info(&quot;START SHORTEN PATHS&quot;);\r\n            shortenPaths();\r\n        } finally {\r\n            LOGGER.info(&quot;Finished comparison and shortening&quot;);\r\n        }\r\n    }\r\n\r\n    public List&lt;Difference&gt; getDifferences() {\r\n        return differences;\r\n    }\r\n\r\n    class DifferenceImplSimple implements Difference {\r\n        DifferenceImplSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path, String description) {\r\n            this.pair = Pair.of(object1, object2);\r\n            this.path = path;\r\n            this.description = description;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; getPath() {\r\n            List&lt;String&gt; byPair = getShortestPath(pair);\r\n            return byPair != null ? byPair : shorten(path);\r\n        }\r\n        @Override public String getDescription()    { return description;           }\r\n\r\n        final Pair&lt;PdfObject, PdfObject&gt; pair;\r\n        final List&lt;String&gt; path;\r\n        final String description;\r\n    }\r\n\r\n    void compare(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        LOGGER.debug(&quot;Comparing objects at {}.&quot;, path);\r\n        if (object1 == null &amp;&amp; object2 == null)\r\n        {\r\n            LOGGER.debug(&quot;Both objects are null at {}.&quot;, path);\r\n            return;\r\n        }\r\n        if (object1 == null) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 1&quot;));\r\n            LOGGER.info(&quot;Object in document 1 is missing at {}.&quot;, path);\r\n            return;\r\n        }\r\n        if (object2 == null) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 2&quot;));\r\n            LOGGER.info(&quot;Object in document 2 is missing at {}.&quot;, path);\r\n            return;\r\n        }\r\n\r\n        if (object1.getType() != object2.getType()) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path,\r\n                    String.format(&quot;Type difference, %s in document 1 and %s in document 2&quot;,\r\n                            getTypeName(object1.getType()), getTypeName(object2.getType()))));\r\n            LOGGER.info(&quot;Objects have different types at {}, {} and {}.&quot;, path, getTypeName(object1.getType()), getTypeName(object2.getType()));\r\n            return;\r\n        }\r\n\r\n        switch (object1.getType()) {\r\n        case PdfObject.ARRAY:\r\n            compareContents((PdfArray) object1, (PdfArray) object2, path);\r\n            break;\r\n        case PdfObject.DICTIONARY:\r\n            compareContents((PdfDictionary) object1, (PdfDictionary) object2, path);\r\n            break;\r\n        case PdfObject.STREAM:\r\n            compareContents((PdfStream)object1, (PdfStream)object2, path);\r\n            break;\r\n        case PdfObject.BOOLEAN:\r\n        case PdfObject.INDIRECT_REFERENCE:\r\n        case PdfObject.LITERAL:\r\n        case PdfObject.NAME:\r\n        case PdfObject.NULL:\r\n        case PdfObject.NUMBER:\r\n        case PdfObject.STRING:\r\n            compareContentsSimple(object1, object2, path);\r\n            break;\r\n        default:\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Unknown object type &quot; + object1.getType() + &quot;; cannot compare&quot;));\r\n            LOGGER.warn(&quot;Unknown object type at {}, {}.&quot;, path, object1.getType());\r\n            break;\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfArray array1, PdfArray array2, List&lt;String&gt; path) {\r\n        int count1 = array1.size();\r\n        int count2 = array2.size();\r\n        if (count1 &lt; count2) {\r\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 1 misses &quot; + (count2-count1) + &quot; array entries&quot;));\r\n            LOGGER.info(&quot;Array in document 1 is missing {} entries at {} for {}.&quot;, (count2-count1), path);\r\n        }\r\n        if (count1 &gt; count2) {\r\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 2 misses &quot; + (count1-count2) + &quot; array entries&quot;));\r\n            LOGGER.info(&quot;Array in document 2 is missing {} entries at {} for {}.&quot;, (count1-count2), path);\r\n        }\r\n\r\n        if (alreadyCompared(array1, array2, path)) {\r\n            return;\r\n        }\r\n\r\n        int count = Math.min(count1, count2);\r\n        for (int i = 0; i &lt; count; i++) {\r\n            compare(array1.get(i), array2.get(i), join(path, String.format(&quot;[%d]&quot;, i)));\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfDictionary dictionary1, PdfDictionary dictionary2, List&lt;String&gt; path) {\r\n        List&lt;PdfName&gt; missing1 = new ArrayList&lt;PdfName&gt;(dictionary2.keySet());\r\n        missing1.removeAll(dictionary1.keySet());\r\n        if (!missing1.isEmpty()) {\r\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 1 misses dictionary entries for &quot; + missing1));\r\n            LOGGER.info(&quot;Dictionary in document 1 is missing entries at {} for {}.&quot;, path, missing1);\r\n        }\r\n\r\n        List&lt;PdfName&gt; missing2 = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\r\n        missing2.removeAll(dictionary2.keySet());\r\n        if (!missing2.isEmpty()) {\r\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 2 misses dictionary entries for &quot; + missing2));\r\n            LOGGER.info(&quot;Dictionary in document 2 is missing entries at {} for {}.&quot;, path, missing2);\r\n        }\r\n\r\n        if (alreadyCompared(dictionary1, dictionary2, path)) {\r\n            return;\r\n        }\r\n\r\n        List&lt;PdfName&gt; common = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\r\n        common.retainAll(dictionary2.keySet());\r\n        for (PdfName name : common) {\r\n            compare(dictionary1.get(name), dictionary2.get(name), join(path, name.toString()));\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfStream stream1, PdfStream stream2, List&lt;String&gt; path) {\r\n        compareContents((PdfDictionary)stream1, (PdfDictionary)stream2, path);\r\n\r\n        byte[] bytes1 = stream1.getBytes();\r\n        byte[] bytes2 = stream2.getBytes();\r\n        if (!Arrays.equals(bytes1, bytes2)) {\r\n            differences.add(new DifferenceImplSimple(stream1, stream2, path, &quot;Stream contents differ&quot;));\r\n            LOGGER.info(&quot;Stream contents differ at {}.&quot;, path);\r\n        }\r\n    }\r\n\r\n    void compareContentsSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        // vvv--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\r\n        if (object1 instanceof PdfNumber)\r\n            ((PdfNumber)object1).getValue();\r\n        if (object2 instanceof PdfNumber)\r\n            ((PdfNumber)object2).getValue();\r\n        // ^^^--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\r\n        if (!object1.equals(object2)) {\r\n            if (object1 instanceof PdfString) {\r\n                String string1 = object1.toString();\r\n                if (string1.length() &gt; 40)\r\n                    string1 = string1.substring(0, 40) + &#39;\\u22EF&#39;;\r\n                string1 = sanitize(string1);\r\n                String string2 = object2.toString();\r\n                if (string2.length() &gt; 40)\r\n                    string2 = string2.substring(0, 40) + &#39;\\u22EF&#39;;\r\n                string2 = sanitize(string2);\r\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;String values differ, &#39;%s&#39; and &#39;%s&#39;&quot;, string1, string2)));\r\n                LOGGER.info(&quot;String values differ at {}, &#39;{}&#39; and &#39;{}&#39;.&quot;, path, string1, string2);\r\n            } else {\r\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;Object values differ, &#39;%s&#39; and &#39;%s&#39;&quot;, object1, object2)));\r\n                LOGGER.info(&quot;Object values differ at {}, &#39;{}&#39; and &#39;{}&#39;.&quot;, path, object1, object2);\r\n            }\r\n        }\r\n    }\r\n\r\n    String sanitize(CharSequence string) {\r\n        char[] sanitized = new char[string.length()];\r\n        for (int i = 0; i &lt; sanitized.length; i++) {\r\n            char c = string.charAt(i);\r\n            if (c &gt;= 0 &amp;&amp; c &lt; &#39; &#39;)\r\n                c = &#39;\\uFFFD&#39;;\r\n            sanitized[i] = c;\r\n        }\r\n        return new String(sanitized);\r\n    }\r\n\r\n    String getTypeName(byte type) {\r\n        switch (type) {\r\n        case PdfObject.ARRAY:               return &quot;ARRAY&quot;;\r\n        case PdfObject.BOOLEAN:             return &quot;BOOLEAN&quot;;\r\n        case PdfObject.DICTIONARY:          return &quot;DICTIONARY&quot;;\r\n        case PdfObject.LITERAL:             return &quot;LITERAL&quot;;\r\n        case PdfObject.INDIRECT_REFERENCE:  return &quot;REFERENCE&quot;;\r\n        case PdfObject.NAME:                return &quot;NAME&quot;;\r\n        case PdfObject.NULL:                return &quot;NULL&quot;;\r\n        case PdfObject.NUMBER:              return &quot;NUMBER&quot;;\r\n        case PdfObject.STREAM:              return &quot;STREAM&quot;;\r\n        case PdfObject.STRING:              return &quot;STRING&quot;;\r\n        default:\r\n            return &quot;UNKNOWN&quot;;\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; join(List&lt;String&gt; path, String element) {\r\n        String[] array = path.toArray(new String[path.size() + 1]);\r\n        array[array.length-1] = element;\r\n        return Arrays.asList(array);\r\n    }\r\n\r\n    boolean alreadyCompared(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        Pair&lt;PdfObject, PdfObject&gt; pair = Pair.of(object1, object2);\r\n        if (compared.containsKey(pair)) {\r\n            //LOGGER.debug(&quot;Objects already compared at {}, previously at {}.&quot;, path, compared.get(pair));\r\n            Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\r\n            boolean alreadyPresent = false;\r\n//            List&lt;List&lt;String&gt;&gt; toRemove = new ArrayList&lt;&gt;();\r\n//            for (List&lt;String&gt; formerPath : paths) {\r\n//                for (int i = 0; ; i++) {\r\n//                    if (i == path.size()) {\r\n//                        toRemove.add(formerPath);\r\n//                        System.out.print(&#39;.&#39;);\r\n//                        break;\r\n//                    }\r\n//                    if (i == formerPath.size()) {\r\n//                        alreadyPresent = true;\r\n//                        System.out.print(&#39;:&#39;);\r\n//                        break;\r\n//                    }\r\n//                    if (!path.get(i).equals(formerPath.get(i)))\r\n//                        break;\r\n//                }\r\n//            }\r\n//            paths.removeAll(toRemove);\r\n            if (!alreadyPresent)\r\n                paths.add(path);\r\n            return true;\r\n        }\r\n        compared.put(pair, new HashSet&lt;&gt;(Collections.singleton(path)));\r\n        return false;\r\n    }\r\n\r\n    List&lt;String&gt; getShortestPath(Pair&lt;PdfObject, PdfObject&gt; pair) {\r\n        Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\r\n        //return (paths == null) ? null : Collections.min(paths, pathComparator);\r\n        return (paths == null || paths.isEmpty()) ? null : shortened.get(paths.stream().findFirst().get());\r\n    }\r\n\r\n    void shortenPaths() {\r\n        List&lt;Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt;&gt; data = new ArrayList&lt;&gt;();\r\n        for (Set&lt;List&lt;String&gt;&gt; set : compared.values()) {\r\n            SortedSet&lt;List&lt;String&gt;&gt; sortedSet = new TreeSet&lt;List&lt;String&gt;&gt;(pathComparator);\r\n            sortedSet.addAll(set);\r\n            for (List&lt;String&gt; path : sortedSet) {\r\n                while (path.size() &gt;= data.size()) {\r\n                    data.add(new HashMap&lt;&gt;());\r\n                }\r\n                SortedSet&lt;List&lt;String&gt;&gt; former = data.get(path.size()).put(path, sortedSet);\r\n                if (former != null) {\r\n                    LOGGER.error(&quot;Path not well-defined for {}&quot;, path);\r\n                }\r\n            }\r\n        }\r\n        for (int pathSize = 3; pathSize &lt; data.size(); pathSize++) {\r\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; pathEntry : data.get(pathSize).entrySet()) {\r\n                List&lt;String&gt; path = pathEntry.getKey();\r\n                SortedSet&lt;List&lt;String&gt;&gt; equivalents = pathEntry.getValue();\r\n                for (int subpathSize = 2; subpathSize &lt; pathSize; subpathSize++) {\r\n                    List&lt;String&gt; subpath = path.subList(0, subpathSize);\r\n                    List&lt;String&gt; remainder = path.subList(subpathSize, pathSize); \r\n                    SortedSet&lt;List&lt;String&gt;&gt; subequivalents = data.get(subpathSize).get(subpath);\r\n                    if (subequivalents != null &amp;&amp; subequivalents.size() &gt; 1) {\r\n                        List&lt;String&gt; subequivalent = subequivalents.first();\r\n                        if (subequivalent.size() &lt; subpathSize) {\r\n                            List&lt;String&gt; replacement = join(subequivalent, remainder);\r\n                            if (equivalents.add(replacement)) {\r\n                                data.get(replacement.size()).put(replacement, equivalents);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        shortened.clear();\r\n        for (Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; singleLengthData : data) {\r\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; entry : singleLengthData.entrySet()) {\r\n                List&lt;String&gt; path = entry.getKey();\r\n                List&lt;String&gt; shortenedPath = entry.getValue().first();\r\n                shortened.put(path, shortenedPath);\r\n            }\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; join(List&lt;String&gt; path, List&lt;String&gt; elements) {\r\n        String[] array = path.toArray(new String[path.size() + elements.size()]);\r\n        for (int i = 0; i &lt; elements.size(); i++) {\r\n            array[path.size() + i] = elements.get(i);\r\n        }\r\n        return Arrays.asList(array);\r\n    }\r\n\r\n    List&lt;String&gt; shorten(List&lt;String&gt; path) {\r\n        List&lt;String&gt; shortPath = path;\r\n        for (int subpathSize = path.size(); subpathSize &gt; 2; subpathSize--) {\r\n            List&lt;String&gt; subpath = path.subList(0, subpathSize);\r\n            List&lt;String&gt; shortSubpath = shortened.get(subpath);\r\n            if (shortSubpath != null &amp;&amp; shortSubpath.size() &lt; subpathSize) {\r\n                List&lt;String&gt; remainder = path.subList(subpathSize, path.size());\r\n                List&lt;String&gt; replacement = join(shortSubpath, remainder);\r\n                if (replacement.size() &lt; shortPath.size())\r\n                    shortPath = replacement;\r\n            }\r\n        }\r\n        return shortPath;\r\n    }\r\n\r\n    final static Logger LOGGER = LoggerFactory.getLogger(PdfCompare.class);\r\n    final PdfDictionary trailer1;\r\n    final PdfDictionary trailer2;\r\n    final Map&lt;Pair&lt;PdfObject, PdfObject&gt;, Set&lt;List&lt;String&gt;&gt;&gt; compared = new HashMap&lt;&gt;();\r\n    final List&lt;Difference&gt; differences = new ArrayList&lt;&gt;();\r\n    final Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; shortened = new HashMap&lt;&gt;();\r\n    final static Comparator&lt;List&lt;String&gt;&gt; pathComparator = new Comparator&lt;List&lt;String&gt;&gt;() {\r\n        @Override\r\n        public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\r\n            int compare = Integer.compare(o1.size(), o2.size());\r\n            if (compare != 0)\r\n                return compare;\r\n            for (int i = 0; i &lt; o1.size(); i++) {\r\n                compare = o1.get(i).compareTo(o2.get(i));\r\n                if (compare != 0)\r\n                    return compare;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n}\r\n```\r\n*([PdfCompare.java][4])*\r\n\r\nThe tool to use this code for revision comparison is a subclass thereof:\r\n\r\n```\r\npublic class PdfRevisionCompare extends PdfCompare {\r\n    public static void main(String[] args) throws IOException {\r\n        for (String arg : args) {\r\n            System.out.printf(&quot;\\nComparing revisions of: %s\\n***********************\\n&quot;, args[0]);\r\n            try (PdfDocument pdfDocument = new PdfDocument(new PdfReader(arg))) {\r\n                SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\r\n                List&lt;String&gt; signatureNames = signatureUtil.getSignatureNames();\r\n                if (signatureNames.isEmpty()) {\r\n                    System.out.println(&quot;No signed revisions detected. (no AcroForm)&quot;);\r\n                    continue;\r\n                }\r\n                String previousRevision = signatureNames.get(0);\r\n                PdfDocument previousDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(previousRevision)));\r\n                System.out.printf(&quot;* Initial signed revision: %s\\n&quot;, previousRevision);\r\n                for (int i = 1; i &lt; signatureNames.size(); i++) {\r\n                    String currentRevision = signatureNames.get(i);\r\n                    PdfDocument currentDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(currentRevision)));\r\n                    showDifferences(previousDocument, currentDocument);\r\n                    System.out.printf(&quot;* Next signed revision (%d): %s\\n&quot;, i+1, currentRevision);\r\n                    previousDocument.close();\r\n                    previousDocument = currentDocument;\r\n                    previousRevision = currentRevision;\r\n                }\r\n                if (signatureUtil.signatureCoversWholeDocument(previousRevision)) {\r\n                    System.out.println(&quot;No unsigned updates.&quot;);\r\n                } else {\r\n                    showDifferences(previousDocument, pdfDocument);\r\n                    System.out.println(&quot;* Final unsigned revision&quot;);\r\n                }\r\n                previousDocument.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void showDifferences(PdfDocument previousDocument, PdfDocument currentDocument) {\r\n        PdfRevisionCompare pdfRevisionCompare = new PdfRevisionCompare(previousDocument, currentDocument);\r\n        pdfRevisionCompare.compare();\r\n        List&lt;Difference&gt; differences = pdfRevisionCompare.getDifferences();\r\n        if (differences == null || differences.isEmpty()) {\r\n            System.out.println(&quot;No differences found.&quot;);\r\n        } else {\r\n            System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\r\n            for (Difference difference : differences) {\r\n                for (String element : difference.getPath()) {\r\n                    System.out.print(element);\r\n                }\r\n                System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\r\n            }\r\n        }\r\n    }\r\n\r\n    public PdfRevisionCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\r\n        super(pdfDocument1, pdfDocument2);\r\n    }\r\n}\r\n```\r\n*([PdfRevisionCompare.java][5])*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment122645267_69387514\r\n  [2]: https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment123036138_69387514\r\n  [3]: https://i.stack.imgur.com/GKdYw.jpg\r\n  [4]: https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfCompare.java\r\n  [5]: https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfRevisionCompare.java","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>As already explained in a <a href=\"https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment122645267_69387514\">comment</a>, <em>neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...).</em></p>\n<p><em>You can use them to render the different revisions of the PDF as bitmaps and compare those images.</em></p>\n<p><em>Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...).</em></p>\n<p><em>But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment and only a comment has been added, is highly non-trivial.</em></p>\n<p><a href=\"https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment123036138_69387514\">In response</a> you asked</p>\n<blockquote>\n<p>Can you explain more, how can I detect changes in low level COS objects.</p>\n</blockquote>\n<h3>What to Compare And What Changes to Consider</h3>\n<p>First of all you have to be clear about what document states you can compare to detect changes.</p>\n<p>The PDF format allows to append changes to a PDF in so called incremental updates. This allows changes to signed documents without cryptographically breaking those signatures as the original signed bytes are left as is:</p>\n<p><a href=\"https://i.stack.imgur.com/GKdYw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GKdYw.jpg\" alt=\"Structure\" /></a></p>\n<p>There can be more incremental updates in-between, though, which are not signed; e.g. the &quot;Changes for version 2&quot; might include multiple incremental updates.</p>\n<p>One might consider comparing the revisions created by arbitrary incremental updates. The problem here is, though, that you cannot identify the person who applied an incremental update without signature.</p>\n<p>Thus, it usually makes more sense to compare the signed revisions only and to hold each signer responsible for <em>all changes since the previous signed revision</em>. The only exception here is the whole file which as the current version of the PDF is of special interest even if it there is no signature covering all of it.</p>\n<p>Next you have to decide what you consider a change. In particular:</p>\n<ul>\n<li><p>Is every object override in an incremental update a change? Even those that override the original object with an identical copy?</p>\n</li>\n<li><p>What about changes that make a direct object indirect (or vice versa) but keep all contents and references intact?</p>\n</li>\n<li><p>What about addition of new objects that are not referred to from anywhere in the standard structure?</p>\n</li>\n<li><p>What about addition of objects that are not referenced from the cross reference streams or tables?</p>\n</li>\n<li><p>What about addition of data that's not following PDF syntax at all?</p>\n</li>\n</ul>\n<p>If you are indeed interested in such changes, too, existing PDF libraries out-of-the-box usually don't provide you the means to determine them; you most likely will at least have to change their code for traversing the chain of cross reference tables/streams or even analyze the file bytes in the update directly.</p>\n<p>If you are not interested in such changes, though, there usually is no need to change or replace library routines.</p>\n<p>As the enumerated and similar changes make no difference when the PDF is processed by specification conform PDF processors, one can usually ignore such changes.</p>\n<p>If this is your position, too, the following example tool might give you a starting point.</p>\n<h3>An Example Tool Based on iText 7</h3>\n<p>With the limitations explained above you can compare signed revisions of a PDF using iText 7 without changes to the library by loading the revisions to compare into separate <code>PdfDocument</code> instances and recursively comparing the PDF objects starting with the trailer.</p>\n<p>I once implemented this as a small helper tool for personal use (so it is not completely finished yet, more work-in-progress). First there is the base class that allows comparing two arbitrary documents:</p>\n<pre><code>public class PdfCompare {\n    public static void main(String[] args) throws IOException {\n        System.out.printf(&quot;Comparing:\\n* %s\\n* %s\\n&quot;, args[0], args[1]);\n        try (   PdfDocument pdfDocument1 = new PdfDocument(new PdfReader(args[0]));\n                PdfDocument pdfDocument2 = new PdfDocument(new PdfReader(args[1]))  ) {\n            PdfCompare pdfCompare = new PdfCompare(pdfDocument1, pdfDocument2);\n            pdfCompare.compare();\n\n            List&lt;Difference&gt; differences = pdfCompare.getDifferences();\n            if (differences == null || differences.isEmpty()) {\n                System.out.println(&quot;No differences found.&quot;);\n            } else {\n                System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\n                for (Difference difference : pdfCompare.getDifferences()) {\n                    for (String element : difference.getPath()) {\n                        System.out.print(element);\n                    }\n                    System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\n                }\n            }\n        }\n    }\n\n    public interface Difference {\n        List&lt;String&gt; getPath();\n        String getDescription();\n    }\n\n    public PdfCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\n        trailer1 = pdfDocument1.getTrailer();\n        trailer2 = pdfDocument2.getTrailer();\n    }\n\n    public void compare() {\n        LOGGER.info(&quot;Starting comparison&quot;);\n        try {\n            compared.clear();\n            differences.clear();\n            LOGGER.info(&quot;START COMPARE&quot;);\n            compare(trailer1, trailer2, Collections.singletonList(&quot;trailer&quot;));\n            LOGGER.info(&quot;START SHORTEN PATHS&quot;);\n            shortenPaths();\n        } finally {\n            LOGGER.info(&quot;Finished comparison and shortening&quot;);\n        }\n    }\n\n    public List&lt;Difference&gt; getDifferences() {\n        return differences;\n    }\n\n    class DifferenceImplSimple implements Difference {\n        DifferenceImplSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path, String description) {\n            this.pair = Pair.of(object1, object2);\n            this.path = path;\n            this.description = description;\n        }\n\n        @Override\n        public List&lt;String&gt; getPath() {\n            List&lt;String&gt; byPair = getShortestPath(pair);\n            return byPair != null ? byPair : shorten(path);\n        }\n        @Override public String getDescription()    { return description;           }\n\n        final Pair&lt;PdfObject, PdfObject&gt; pair;\n        final List&lt;String&gt; path;\n        final String description;\n    }\n\n    void compare(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        LOGGER.debug(&quot;Comparing objects at {}.&quot;, path);\n        if (object1 == null &amp;&amp; object2 == null)\n        {\n            LOGGER.debug(&quot;Both objects are null at {}.&quot;, path);\n            return;\n        }\n        if (object1 == null) {\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 1&quot;));\n            LOGGER.info(&quot;Object in document 1 is missing at {}.&quot;, path);\n            return;\n        }\n        if (object2 == null) {\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 2&quot;));\n            LOGGER.info(&quot;Object in document 2 is missing at {}.&quot;, path);\n            return;\n        }\n\n        if (object1.getType() != object2.getType()) {\n            differences.add(new DifferenceImplSimple(object1, object2, path,\n                    String.format(&quot;Type difference, %s in document 1 and %s in document 2&quot;,\n                            getTypeName(object1.getType()), getTypeName(object2.getType()))));\n            LOGGER.info(&quot;Objects have different types at {}, {} and {}.&quot;, path, getTypeName(object1.getType()), getTypeName(object2.getType()));\n            return;\n        }\n\n        switch (object1.getType()) {\n        case PdfObject.ARRAY:\n            compareContents((PdfArray) object1, (PdfArray) object2, path);\n            break;\n        case PdfObject.DICTIONARY:\n            compareContents((PdfDictionary) object1, (PdfDictionary) object2, path);\n            break;\n        case PdfObject.STREAM:\n            compareContents((PdfStream)object1, (PdfStream)object2, path);\n            break;\n        case PdfObject.BOOLEAN:\n        case PdfObject.INDIRECT_REFERENCE:\n        case PdfObject.LITERAL:\n        case PdfObject.NAME:\n        case PdfObject.NULL:\n        case PdfObject.NUMBER:\n        case PdfObject.STRING:\n            compareContentsSimple(object1, object2, path);\n            break;\n        default:\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Unknown object type &quot; + object1.getType() + &quot;; cannot compare&quot;));\n            LOGGER.warn(&quot;Unknown object type at {}, {}.&quot;, path, object1.getType());\n            break;\n        }\n    }\n\n    void compareContents(PdfArray array1, PdfArray array2, List&lt;String&gt; path) {\n        int count1 = array1.size();\n        int count2 = array2.size();\n        if (count1 &lt; count2) {\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 1 misses &quot; + (count2-count1) + &quot; array entries&quot;));\n            LOGGER.info(&quot;Array in document 1 is missing {} entries at {} for {}.&quot;, (count2-count1), path);\n        }\n        if (count1 &gt; count2) {\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 2 misses &quot; + (count1-count2) + &quot; array entries&quot;));\n            LOGGER.info(&quot;Array in document 2 is missing {} entries at {} for {}.&quot;, (count1-count2), path);\n        }\n\n        if (alreadyCompared(array1, array2, path)) {\n            return;\n        }\n\n        int count = Math.min(count1, count2);\n        for (int i = 0; i &lt; count; i++) {\n            compare(array1.get(i), array2.get(i), join(path, String.format(&quot;[%d]&quot;, i)));\n        }\n    }\n\n    void compareContents(PdfDictionary dictionary1, PdfDictionary dictionary2, List&lt;String&gt; path) {\n        List&lt;PdfName&gt; missing1 = new ArrayList&lt;PdfName&gt;(dictionary2.keySet());\n        missing1.removeAll(dictionary1.keySet());\n        if (!missing1.isEmpty()) {\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 1 misses dictionary entries for &quot; + missing1));\n            LOGGER.info(&quot;Dictionary in document 1 is missing entries at {} for {}.&quot;, path, missing1);\n        }\n\n        List&lt;PdfName&gt; missing2 = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\n        missing2.removeAll(dictionary2.keySet());\n        if (!missing2.isEmpty()) {\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 2 misses dictionary entries for &quot; + missing2));\n            LOGGER.info(&quot;Dictionary in document 2 is missing entries at {} for {}.&quot;, path, missing2);\n        }\n\n        if (alreadyCompared(dictionary1, dictionary2, path)) {\n            return;\n        }\n\n        List&lt;PdfName&gt; common = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\n        common.retainAll(dictionary2.keySet());\n        for (PdfName name : common) {\n            compare(dictionary1.get(name), dictionary2.get(name), join(path, name.toString()));\n        }\n    }\n\n    void compareContents(PdfStream stream1, PdfStream stream2, List&lt;String&gt; path) {\n        compareContents((PdfDictionary)stream1, (PdfDictionary)stream2, path);\n\n        byte[] bytes1 = stream1.getBytes();\n        byte[] bytes2 = stream2.getBytes();\n        if (!Arrays.equals(bytes1, bytes2)) {\n            differences.add(new DifferenceImplSimple(stream1, stream2, path, &quot;Stream contents differ&quot;));\n            LOGGER.info(&quot;Stream contents differ at {}.&quot;, path);\n        }\n    }\n\n    void compareContentsSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        // vvv--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\n        if (object1 instanceof PdfNumber)\n            ((PdfNumber)object1).getValue();\n        if (object2 instanceof PdfNumber)\n            ((PdfNumber)object2).getValue();\n        // ^^^--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\n        if (!object1.equals(object2)) {\n            if (object1 instanceof PdfString) {\n                String string1 = object1.toString();\n                if (string1.length() &gt; 40)\n                    string1 = string1.substring(0, 40) + '\\u22EF';\n                string1 = sanitize(string1);\n                String string2 = object2.toString();\n                if (string2.length() &gt; 40)\n                    string2 = string2.substring(0, 40) + '\\u22EF';\n                string2 = sanitize(string2);\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;String values differ, '%s' and '%s'&quot;, string1, string2)));\n                LOGGER.info(&quot;String values differ at {}, '{}' and '{}'.&quot;, path, string1, string2);\n            } else {\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;Object values differ, '%s' and '%s'&quot;, object1, object2)));\n                LOGGER.info(&quot;Object values differ at {}, '{}' and '{}'.&quot;, path, object1, object2);\n            }\n        }\n    }\n\n    String sanitize(CharSequence string) {\n        char[] sanitized = new char[string.length()];\n        for (int i = 0; i &lt; sanitized.length; i++) {\n            char c = string.charAt(i);\n            if (c &gt;= 0 &amp;&amp; c &lt; ' ')\n                c = '\\uFFFD';\n            sanitized[i] = c;\n        }\n        return new String(sanitized);\n    }\n\n    String getTypeName(byte type) {\n        switch (type) {\n        case PdfObject.ARRAY:               return &quot;ARRAY&quot;;\n        case PdfObject.BOOLEAN:             return &quot;BOOLEAN&quot;;\n        case PdfObject.DICTIONARY:          return &quot;DICTIONARY&quot;;\n        case PdfObject.LITERAL:             return &quot;LITERAL&quot;;\n        case PdfObject.INDIRECT_REFERENCE:  return &quot;REFERENCE&quot;;\n        case PdfObject.NAME:                return &quot;NAME&quot;;\n        case PdfObject.NULL:                return &quot;NULL&quot;;\n        case PdfObject.NUMBER:              return &quot;NUMBER&quot;;\n        case PdfObject.STREAM:              return &quot;STREAM&quot;;\n        case PdfObject.STRING:              return &quot;STRING&quot;;\n        default:\n            return &quot;UNKNOWN&quot;;\n        }\n    }\n\n    List&lt;String&gt; join(List&lt;String&gt; path, String element) {\n        String[] array = path.toArray(new String[path.size() + 1]);\n        array[array.length-1] = element;\n        return Arrays.asList(array);\n    }\n\n    boolean alreadyCompared(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        Pair&lt;PdfObject, PdfObject&gt; pair = Pair.of(object1, object2);\n        if (compared.containsKey(pair)) {\n            //LOGGER.debug(&quot;Objects already compared at {}, previously at {}.&quot;, path, compared.get(pair));\n            Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\n            boolean alreadyPresent = false;\n//            List&lt;List&lt;String&gt;&gt; toRemove = new ArrayList&lt;&gt;();\n//            for (List&lt;String&gt; formerPath : paths) {\n//                for (int i = 0; ; i++) {\n//                    if (i == path.size()) {\n//                        toRemove.add(formerPath);\n//                        System.out.print('.');\n//                        break;\n//                    }\n//                    if (i == formerPath.size()) {\n//                        alreadyPresent = true;\n//                        System.out.print(':');\n//                        break;\n//                    }\n//                    if (!path.get(i).equals(formerPath.get(i)))\n//                        break;\n//                }\n//            }\n//            paths.removeAll(toRemove);\n            if (!alreadyPresent)\n                paths.add(path);\n            return true;\n        }\n        compared.put(pair, new HashSet&lt;&gt;(Collections.singleton(path)));\n        return false;\n    }\n\n    List&lt;String&gt; getShortestPath(Pair&lt;PdfObject, PdfObject&gt; pair) {\n        Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\n        //return (paths == null) ? null : Collections.min(paths, pathComparator);\n        return (paths == null || paths.isEmpty()) ? null : shortened.get(paths.stream().findFirst().get());\n    }\n\n    void shortenPaths() {\n        List&lt;Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt;&gt; data = new ArrayList&lt;&gt;();\n        for (Set&lt;List&lt;String&gt;&gt; set : compared.values()) {\n            SortedSet&lt;List&lt;String&gt;&gt; sortedSet = new TreeSet&lt;List&lt;String&gt;&gt;(pathComparator);\n            sortedSet.addAll(set);\n            for (List&lt;String&gt; path : sortedSet) {\n                while (path.size() &gt;= data.size()) {\n                    data.add(new HashMap&lt;&gt;());\n                }\n                SortedSet&lt;List&lt;String&gt;&gt; former = data.get(path.size()).put(path, sortedSet);\n                if (former != null) {\n                    LOGGER.error(&quot;Path not well-defined for {}&quot;, path);\n                }\n            }\n        }\n        for (int pathSize = 3; pathSize &lt; data.size(); pathSize++) {\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; pathEntry : data.get(pathSize).entrySet()) {\n                List&lt;String&gt; path = pathEntry.getKey();\n                SortedSet&lt;List&lt;String&gt;&gt; equivalents = pathEntry.getValue();\n                for (int subpathSize = 2; subpathSize &lt; pathSize; subpathSize++) {\n                    List&lt;String&gt; subpath = path.subList(0, subpathSize);\n                    List&lt;String&gt; remainder = path.subList(subpathSize, pathSize); \n                    SortedSet&lt;List&lt;String&gt;&gt; subequivalents = data.get(subpathSize).get(subpath);\n                    if (subequivalents != null &amp;&amp; subequivalents.size() &gt; 1) {\n                        List&lt;String&gt; subequivalent = subequivalents.first();\n                        if (subequivalent.size() &lt; subpathSize) {\n                            List&lt;String&gt; replacement = join(subequivalent, remainder);\n                            if (equivalents.add(replacement)) {\n                                data.get(replacement.size()).put(replacement, equivalents);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        shortened.clear();\n        for (Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; singleLengthData : data) {\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; entry : singleLengthData.entrySet()) {\n                List&lt;String&gt; path = entry.getKey();\n                List&lt;String&gt; shortenedPath = entry.getValue().first();\n                shortened.put(path, shortenedPath);\n            }\n        }\n    }\n\n    List&lt;String&gt; join(List&lt;String&gt; path, List&lt;String&gt; elements) {\n        String[] array = path.toArray(new String[path.size() + elements.size()]);\n        for (int i = 0; i &lt; elements.size(); i++) {\n            array[path.size() + i] = elements.get(i);\n        }\n        return Arrays.asList(array);\n    }\n\n    List&lt;String&gt; shorten(List&lt;String&gt; path) {\n        List&lt;String&gt; shortPath = path;\n        for (int subpathSize = path.size(); subpathSize &gt; 2; subpathSize--) {\n            List&lt;String&gt; subpath = path.subList(0, subpathSize);\n            List&lt;String&gt; shortSubpath = shortened.get(subpath);\n            if (shortSubpath != null &amp;&amp; shortSubpath.size() &lt; subpathSize) {\n                List&lt;String&gt; remainder = path.subList(subpathSize, path.size());\n                List&lt;String&gt; replacement = join(shortSubpath, remainder);\n                if (replacement.size() &lt; shortPath.size())\n                    shortPath = replacement;\n            }\n        }\n        return shortPath;\n    }\n\n    final static Logger LOGGER = LoggerFactory.getLogger(PdfCompare.class);\n    final PdfDictionary trailer1;\n    final PdfDictionary trailer2;\n    final Map&lt;Pair&lt;PdfObject, PdfObject&gt;, Set&lt;List&lt;String&gt;&gt;&gt; compared = new HashMap&lt;&gt;();\n    final List&lt;Difference&gt; differences = new ArrayList&lt;&gt;();\n    final Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; shortened = new HashMap&lt;&gt;();\n    final static Comparator&lt;List&lt;String&gt;&gt; pathComparator = new Comparator&lt;List&lt;String&gt;&gt;() {\n        @Override\n        public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\n            int compare = Integer.compare(o1.size(), o2.size());\n            if (compare != 0)\n                return compare;\n            for (int i = 0; i &lt; o1.size(); i++) {\n                compare = o1.get(i).compareTo(o2.get(i));\n                if (compare != 0)\n                    return compare;\n            }\n            return 0;\n        }\n    };\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfCompare.java\" rel=\"nofollow noreferrer\">PdfCompare.java</a>)</em></p>\n<p>The tool to use this code for revision comparison is a subclass thereof:</p>\n<pre><code>public class PdfRevisionCompare extends PdfCompare {\n    public static void main(String[] args) throws IOException {\n        for (String arg : args) {\n            System.out.printf(&quot;\\nComparing revisions of: %s\\n***********************\\n&quot;, args[0]);\n            try (PdfDocument pdfDocument = new PdfDocument(new PdfReader(arg))) {\n                SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\n                List&lt;String&gt; signatureNames = signatureUtil.getSignatureNames();\n                if (signatureNames.isEmpty()) {\n                    System.out.println(&quot;No signed revisions detected. (no AcroForm)&quot;);\n                    continue;\n                }\n                String previousRevision = signatureNames.get(0);\n                PdfDocument previousDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(previousRevision)));\n                System.out.printf(&quot;* Initial signed revision: %s\\n&quot;, previousRevision);\n                for (int i = 1; i &lt; signatureNames.size(); i++) {\n                    String currentRevision = signatureNames.get(i);\n                    PdfDocument currentDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(currentRevision)));\n                    showDifferences(previousDocument, currentDocument);\n                    System.out.printf(&quot;* Next signed revision (%d): %s\\n&quot;, i+1, currentRevision);\n                    previousDocument.close();\n                    previousDocument = currentDocument;\n                    previousRevision = currentRevision;\n                }\n                if (signatureUtil.signatureCoversWholeDocument(previousRevision)) {\n                    System.out.println(&quot;No unsigned updates.&quot;);\n                } else {\n                    showDifferences(previousDocument, pdfDocument);\n                    System.out.println(&quot;* Final unsigned revision&quot;);\n                }\n                previousDocument.close();\n            }\n        }\n    }\n\n    static void showDifferences(PdfDocument previousDocument, PdfDocument currentDocument) {\n        PdfRevisionCompare pdfRevisionCompare = new PdfRevisionCompare(previousDocument, currentDocument);\n        pdfRevisionCompare.compare();\n        List&lt;Difference&gt; differences = pdfRevisionCompare.getDifferences();\n        if (differences == null || differences.isEmpty()) {\n            System.out.println(&quot;No differences found.&quot;);\n        } else {\n            System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\n            for (Difference difference : differences) {\n                for (String element : difference.getPath()) {\n                    System.out.print(element);\n                }\n                System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\n            }\n        }\n    }\n\n    public PdfRevisionCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\n        super(pdfDocument1, pdfDocument2);\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfRevisionCompare.java\" rel=\"nofollow noreferrer\">PdfRevisionCompare.java</a>)</em></p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1681662924,"post_id":76011707,"comment_id":134089240,"body_markdown":"There are certain differences. The iText `CompareTool` was initially created for development testing purposes. Thus, it has a number of tweaks to ignore changes that are expected but of no concern to the tests (e.g. creation or modification dates). The tool in my answer does not try to ignore such changes. So your base comparison tool of choice might depend on your exact requirements.","body":"There are certain differences. The iText <code>CompareTool</code> was initially created for development testing purposes. Thus, it has a number of tweaks to ignore changes that are expected but of no concern to the tests (e.g. creation or modification dates). The tool in my answer does not try to ignore such changes. So your base comparison tool of choice might depend on your exact requirements."},{"owner":{"account_id":970661,"reputation":17,"user_id":9204729,"display_name":"Radek Kantor"},"score":0,"creation_date":1681768856,"post_id":76011707,"comment_id":134107487,"body_markdown":"It is true, that CompareTool ignores metadata, you can define set of excluded PDF keys etc., but for the purposes of this question, where detection of the changes between signatures in one PDF file is required it is good starting point. If I take Rev.1 and Rev.2 of the document, there will be always some differences like creation date in metadata information, or I&#39;m wrong?","body":"It is true, that CompareTool ignores metadata, you can define set of excluded PDF keys etc., but for the purposes of this question, where detection of the changes between signatures in one PDF file is required it is good starting point. If I take Rev.1 and Rev.2 of the document, there will be always some differences like creation date in metadata information, or I&#39;m wrong?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681837322,"post_id":76011707,"comment_id":134120003,"body_markdown":"*&quot;there will be always some differences like creation date in metadata information, or I&#39;m wrong?&quot;* - No, not wrong. In the context of the question you merely need to be aware of those differences being ignored and compare your needs. E.g. if you want to be strict, you may want to verify that the original creation date is still there, merely the modification date changes. In such a context the iText `CompareTool` would ignore too much and you&#39;d either have to patch it or add a separate test. But if you don&#39;t want such strict metadata tests, that tool ignoring them might be just what you need.","body":"<i>&quot;there will be always some differences like creation date in metadata information, or I&#39;m wrong?&quot;</i> - No, not wrong. In the context of the question you merely need to be aware of those differences being ignored and compare your needs. E.g. if you want to be strict, you may want to verify that the original creation date is still there, merely the modification date changes. In such a context the iText <code>CompareTool</code> would ignore too much and you&#39;d either have to patch it or add a separate test. But if you don&#39;t want such strict metadata tests, that tool ignoring them might be just what you need."}],"tags":[],"owner":{"account_id":970661,"reputation":17,"user_id":9204729,"display_name":"Radek Kantor"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681448063,"creation_date":1681448063,"answer_id":76011707,"question_id":69387514,"body_markdown":"Use iText class `com.itextpdf.kernel.utils.CompareTool`. \r\n\r\nShould do the same as custom implementation mentioned by mkl. Tool class contains a lot off compare methods including visually compare.","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>Use iText class <code>com.itextpdf.kernel.utils.CompareTool</code>.</p>\n<p>Should do the same as custom implementation mentioned by mkl. Tool class contains a lot off compare methods including visually compare.</p>\n"}],"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69617158,"answer_count":2,"score":1,"last_activity_date":1681448063,"creation_date":1632984928,"question_id":69387514,"body_markdown":"I&#39;m developing an application that should verify signatures of pdf files. The application should detect full history of updates done on the file content before each signature is applied. \r\nFor example: \r\n1. Signer 1 signed the plain pdf file\r\n2. Signer 2 added comment to the signed file, then signed it \r\n\r\nHow can application detect that Signer 2 added a comment before his signature.\r\n\r\nI have tried to use itext and pdfbox ","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>I'm developing an application that should verify signatures of pdf files. The application should detect full history of updates done on the file content before each signature is applied.\nFor example:</p>\n<ol>\n<li>Signer 1 signed the plain pdf file</li>\n<li>Signer 2 added comment to the signed file, then signed it</li>\n</ol>\n<p>How can application detect that Signer 2 added a comment before his signature.</p>\n<p>I have tried to use itext and pdfbox</p>\n"},{"tags":["java","swing","jslider","changelistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1451696719,"post_id":34561596,"comment_id":56866874,"body_markdown":"You will probably need to provide a custom `BoundedRangeModel`","body":"You will probably need to provide a custom <code>BoundedRangeModel</code>"},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1451703170,"post_id":34561596,"comment_id":56867967,"body_markdown":"@MadProgrammer I believe that is what I have created, in effect. The ChangeListener decides if the value is valid or not, and if not, sets the JSlider value to a &quot;legal&quot; value (which does persist). However, the thumb does not reflect that value, but rather the value where the thumb was moved by the user..","body":"@MadProgrammer I believe that is what I have created, in effect. The ChangeListener decides if the value is valid or not, and if not, sets the JSlider value to a &quot;legal&quot; value (which does persist). However, the thumb does not reflect that value, but rather the value where the thumb was moved by the user.."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451704023,"post_id":34561596,"comment_id":56868098,"body_markdown":"How about rather than &quot;in effect&quot; you make it actual, after all, it&#39;s the `BoundedRangeModel`s responsibility to manage these things, and your current approach doesn&#39;t seem to work","body":"How about rather than &quot;in effect&quot; you make it actual, after all, it&#39;s the <code>BoundedRangeModel</code>s responsibility to manage these things, and your current approach doesn&#39;t seem to work"},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1452048715,"post_id":34561596,"comment_id":56995479,"body_markdown":"@MadProgrammer with a custom model based on DefaultBoundedRangeModel I was still unsuccessful. Overriding setValue() and intercepting an illegal attempted value and substituting a legal value did  not work. Even when forcing a fireStateChanged() call just to be sure. I can&#39;t see the source (working on Mac, Aqua LaF) but symptoms lead me to suspect that the mouse release always sets the thumb position despite the value set in the model.","body":"@MadProgrammer with a custom model based on DefaultBoundedRangeModel I was still unsuccessful. Overriding setValue() and intercepting an illegal attempted value and substituting a legal value did  not work. Even when forcing a fireStateChanged() call just to be sure. I can&#39;t see the source (working on Mac, Aqua LaF) but symptoms lead me to suspect that the mouse release always sets the thumb position despite the value set in the model."}],"answers":[{"comments":[{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":1,"creation_date":1452048436,"post_id":34564924,"comment_id":56995400,"body_markdown":"The issue I see with this approach is that I&#39;m now locked into a specific LaF. My application runs on Windows, Mac, Linux. Just trying to test this approach I&#39;ve run into problems with Eclipse complaining about trying to access a non-public API without permission. Overriding the TrackListener seems to be the way, but that isn&#39;t part of a public API that I can find.","body":"The issue I see with this approach is that I&#39;m now locked into a specific LaF. My application runs on Windows, Mac, Linux. Just trying to test this approach I&#39;ve run into problems with Eclipse complaining about trying to access a non-public API without permission. Overriding the TrackListener seems to be the way, but that isn&#39;t part of a public API that I can find."},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1452216889,"post_id":34564924,"comment_id":57082040,"body_markdown":"While overriding the TrackListener seems to be a solution, I haven&#39;t found a way to use this in practice when the SliderUI implementation class is unknown. I suppose I could determine the class at runtime and if it is one known to me (and not final) override the TrackListener as in your example. Is there any other way?","body":"While overriding the TrackListener seems to be a solution, I haven&#39;t found a way to use this in practice when the SliderUI implementation class is unknown. I suppose I could determine the class at runtime and if it is one known to me (and not final) override the TrackListener as in your example. Is there any other way?"}],"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452235756,"creation_date":1451730965,"answer_id":34564924,"question_id":34561596,"body_markdown":"You might be able to override the `createTrackListener(...)` method of `MetalSliderUI` to prevent that dragging.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Edit**\r\n\r\n- Another option is to use a `JLayer`(untested code, may take some customization to work for other `LookAndFeel`):\r\n\r\n&lt;!--  --&gt;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import javax.swing.plaf.*;\r\n    import javax.swing.plaf.basic.BasicSliderUI;\r\n    // import javax.swing.plaf.metal.MetalSliderUI;\r\n    // import javax.swing.plaf.synth.SynthSliderUI;\r\n    // import com.sun.java.swing.plaf.windows.WindowsSliderUI;\r\n    \r\n    public class DragLimitedSliderTest {\r\n      private static int MAXI = 80;\r\n      private JComponent makeUI() {\r\n        JSlider slider1 = makeSlider();\r\n        JSlider slider2 = makeSlider();\r\n        slider2.setUI(new BasicSliderUI(slider2) {\r\n        //slider2.setUI(new WindowsSliderUI(slider2) {\r\n        //slider2.setUI(new MetalSliderUI() {\r\n        //slider2.setUI(new SynthSliderUI(slider2) {\r\n          @Override protected TrackListener createTrackListener(JSlider slider) {\r\n            return new TrackListener() {\r\n              @Override public void mouseDragged(MouseEvent e) {\r\n                //case HORIZONTAL:\r\n                int halfThumbWidth = thumbRect.width / 2;\r\n                int thumbLeft = e.getX() - offset;\r\n                int maxPos = xPositionForValue(MAXI) - halfThumbWidth;\r\n                if (thumbLeft &gt; maxPos) {\r\n                  int x = maxPos + offset;\r\n                  MouseEvent me = new MouseEvent(\r\n                    e.getComponent(), e.getID(), e.getWhen(), e.getModifiers(),\r\n                    x, e.getY(),\r\n                    e.getXOnScreen(), e.getYOnScreen(),\r\n                    e.getClickCount(), e.isPopupTrigger(), e.getButton());\r\n                  e.consume();\r\n                  super.mouseDragged(me);\r\n                } else {\r\n                  super.mouseDragged(e);\r\n                }\r\n              }\r\n            };\r\n          }\r\n        });\r\n        JSlider slider3 = makeSlider();\r\n    \r\n        JPanel p = new JPanel(new GridLayout(3, 1));\r\n        p.add(slider1);\r\n        p.add(slider2);\r\n        p.add(new JLayer&lt;JSlider&gt;(slider3, new DisableInputLayerUI()));\r\n        return p;\r\n      }\r\n      private static JSlider makeSlider() {\r\n        JSlider slider = new JSlider(0, 100, 40) {\r\n          @Override public void setValue(int n) {\r\n            super.setValue(n);\r\n          }\r\n        };\r\n        slider.setMajorTickSpacing(10);\r\n        slider.setPaintTicks(true);\r\n        slider.setPaintLabels(true);\r\n        Dictionary dictionary = slider.getLabelTable();\r\n        if (dictionary != null) {\r\n          Enumeration elements = dictionary.elements();\r\n          while (elements.hasMoreElements()) {\r\n            JLabel label = (JLabel) elements.nextElement();\r\n            int v = Integer.parseInt(label.getText());\r\n            if (v &gt; MAXI) {\r\n              label.setForeground(Color.RED);\r\n            }\r\n          }\r\n        }\r\n        slider.getModel().addChangeListener(new ChangeListener() {\r\n          @Override public void stateChanged(ChangeEvent e) {\r\n            BoundedRangeModel m = (BoundedRangeModel) e.getSource();\r\n            if (m.getValue() &gt; MAXI) {\r\n              m.setValue(MAXI);\r\n            }\r\n          }\r\n        });\r\n        return slider;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    //         for (UIManager.LookAndFeelInfo laf: UIManager.getInstalledLookAndFeels()) {\r\n    //           if (&quot;Nimbus&quot;.equals(laf.getName())) {\r\n    //             UIManager.setLookAndFeel(laf.getClassName());\r\n    //           }\r\n    //         }\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new DragLimitedSliderTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n    \r\n    class DisableInputLayerUI extends LayerUI&lt;JSlider&gt; {\r\n      @Override public void installUI(JComponent c) {\r\n        super.installUI(c);\r\n        if (c instanceof JLayer) {\r\n          JLayer jlayer = (JLayer) c;\r\n          jlayer.setLayerEventMask(\r\n            AWTEvent.MOUSE_EVENT_MASK |\r\n            AWTEvent.MOUSE_MOTION_EVENT_MASK);\r\n        }\r\n      }\r\n      @Override public void uninstallUI(JComponent c) {\r\n        if (c instanceof JLayer) {\r\n          JLayer jlayer = (JLayer) c;\r\n          jlayer.setLayerEventMask(0);\r\n        }\r\n        super.uninstallUI(c);\r\n      }\r\n      private Rectangle thumbRect = new Rectangle(11, 19); //magic number\r\n      private Rectangle focusRect = new Rectangle();\r\n      private Rectangle contentRect = new Rectangle();\r\n      private Rectangle trackRect = new Rectangle();\r\n      private int offset;\r\n    \r\n      protected int xPositionForValue(JSlider slider, int value) {\r\n        int min = slider.getMinimum();\r\n        int max = slider.getMaximum();\r\n        int trackLength = trackRect.width;\r\n        double valueRange = (double) max - (double) min;\r\n        double pixelsPerValue = (double) trackLength / valueRange;\r\n        int trackLeft = trackRect.x;\r\n        int trackRight = trackRect.x + (trackRect.width - 1);\r\n        int xPosition;\r\n    \r\n        xPosition = trackLeft;\r\n        xPosition += Math.round(pixelsPerValue * ((double) value - min));\r\n    \r\n        xPosition = Math.max(trackLeft, xPosition);\r\n        xPosition = Math.min(trackRight, xPosition);\r\n    \r\n        return xPosition;\r\n      }\r\n      protected int getHeightOfTallestLabel(JSlider slider) {\r\n        Dictionary dictionary = slider.getLabelTable();\r\n        int tallest = 0;\r\n        if (dictionary != null) {\r\n          Enumeration keys = dictionary.keys();\r\n          while (keys.hasMoreElements()) {\r\n            JComponent label = (JComponent) dictionary.get(keys.nextElement());\r\n            tallest = Math.max(label.getPreferredSize().height, tallest);\r\n          }\r\n        }\r\n        return tallest;\r\n      }\r\n      @Override protected void processMouseEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\r\n        JSlider slider = l.getView();\r\n        if (e.getID() == MouseEvent.MOUSE_PRESSED) {\r\n          //case HORIZONTAL:\r\n    \r\n          //recalculateIfInsetsChanged()\r\n          Insets insetCache = slider.getInsets();\r\n          Insets focusInsets = UIManager.getInsets(&quot;Slider.focusInsets&quot;);\r\n          if (focusInsets == null) {\r\n            focusInsets = new Insets(2, 2, 2, 2); //magic number\r\n          }\r\n    \r\n          //calculateFocusRect()\r\n          focusRect.x = insetCache.left;\r\n          focusRect.y = insetCache.top;\r\n          focusRect.width = slider.getWidth() - (insetCache.left + insetCache.right);\r\n          focusRect.height = slider.getHeight() - (insetCache.top + insetCache.bottom);\r\n    \r\n          //calculateContentRect()\r\n          contentRect.x = focusRect.x + focusInsets.left;\r\n          contentRect.y = focusRect.y + focusInsets.top;\r\n          contentRect.width = focusRect.width - (focusInsets.left + focusInsets.right);\r\n          contentRect.height = focusRect.height - (focusInsets.top + focusInsets.bottom);\r\n    \r\n          //calculateThumbSize()\r\n          Icon ti = UIManager.getIcon(&quot;Slider.horizontalThumbIcon&quot;);\r\n          if (ti != null) {\r\n            thumbRect.width = ti.getIconWidth();\r\n            thumbRect.height = ti.getIconHeight();\r\n          }\r\n    \r\n          //calculateTrackBuffer()\r\n          int trackBuffer = 9; //magic number, Windows: 9, Metal: 10 ...\r\n    \r\n          //calculateTrackRect()\r\n          int centerSpacing = thumbRect.height;\r\n          if (slider.getPaintTicks())  centerSpacing += 8; //magic number getTickLength();\r\n          if (slider.getPaintLabels()) centerSpacing += getHeightOfTallestLabel(slider);\r\n          trackRect.x = contentRect.x + trackBuffer;\r\n          trackRect.y = contentRect.y + (contentRect.height - centerSpacing - 1) / 2;\r\n          trackRect.width = contentRect.width - (trackBuffer * 2);\r\n          trackRect.height = thumbRect.height;\r\n    \r\n          //calculateThumbLocation()\r\n          int valuePosition = xPositionForValue(slider, slider.getValue());\r\n          thumbRect.x = valuePosition - (thumbRect.width / 2);\r\n          thumbRect.y = trackRect.y;\r\n          offset = e.getX() - thumbRect.x;\r\n        }\r\n      }\r\n      @Override protected void processMouseMotionEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\r\n        if (e.getID() == MouseEvent.MOUSE_DRAGGED) {\r\n          JSlider slider = l.getView();\r\n          //case HORIZONTAL:\r\n          int halfThumbWidth = thumbRect.width / 2;\r\n          int thumbLeft = e.getX() - offset;\r\n          int maxPos = xPositionForValue(slider, 80) - halfThumbWidth;\r\n          if (thumbLeft &gt; maxPos) {\r\n            e.consume();\r\n            SliderUI ui = slider.getUI();\r\n            if (ui instanceof BasicSliderUI) {\r\n              ((BasicSliderUI) ui).setThumbLocation(maxPos, thumbRect.y);\r\n            }\r\n            slider.getModel().setValue(80);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/bUiTN.png\r\n","title":"How can I prevent a JSlider from moving full-range?","body":"<p>You might be able to override the <code>createTrackListener(...)</code> method of <code>MetalSliderUI</code> to prevent that dragging.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bUiTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUiTN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Edit</strong></p>\n\n<ul>\n<li>Another option is to use a <code>JLayer</code>(untested code, may take some customization to work for other <code>LookAndFeel</code>):</li>\n</ul>\n\n\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.beans.PropertyChangeEvent;\nimport java.util.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.plaf.*;\nimport javax.swing.plaf.basic.BasicSliderUI;\n// import javax.swing.plaf.metal.MetalSliderUI;\n// import javax.swing.plaf.synth.SynthSliderUI;\n// import com.sun.java.swing.plaf.windows.WindowsSliderUI;\n\npublic class DragLimitedSliderTest {\n  private static int MAXI = 80;\n  private JComponent makeUI() {\n    JSlider slider1 = makeSlider();\n    JSlider slider2 = makeSlider();\n    slider2.setUI(new BasicSliderUI(slider2) {\n    //slider2.setUI(new WindowsSliderUI(slider2) {\n    //slider2.setUI(new MetalSliderUI() {\n    //slider2.setUI(new SynthSliderUI(slider2) {\n      @Override protected TrackListener createTrackListener(JSlider slider) {\n        return new TrackListener() {\n          @Override public void mouseDragged(MouseEvent e) {\n            //case HORIZONTAL:\n            int halfThumbWidth = thumbRect.width / 2;\n            int thumbLeft = e.getX() - offset;\n            int maxPos = xPositionForValue(MAXI) - halfThumbWidth;\n            if (thumbLeft &gt; maxPos) {\n              int x = maxPos + offset;\n              MouseEvent me = new MouseEvent(\n                e.getComponent(), e.getID(), e.getWhen(), e.getModifiers(),\n                x, e.getY(),\n                e.getXOnScreen(), e.getYOnScreen(),\n                e.getClickCount(), e.isPopupTrigger(), e.getButton());\n              e.consume();\n              super.mouseDragged(me);\n            } else {\n              super.mouseDragged(e);\n            }\n          }\n        };\n      }\n    });\n    JSlider slider3 = makeSlider();\n\n    JPanel p = new JPanel(new GridLayout(3, 1));\n    p.add(slider1);\n    p.add(slider2);\n    p.add(new JLayer&lt;JSlider&gt;(slider3, new DisableInputLayerUI()));\n    return p;\n  }\n  private static JSlider makeSlider() {\n    JSlider slider = new JSlider(0, 100, 40) {\n      @Override public void setValue(int n) {\n        super.setValue(n);\n      }\n    };\n    slider.setMajorTickSpacing(10);\n    slider.setPaintTicks(true);\n    slider.setPaintLabels(true);\n    Dictionary dictionary = slider.getLabelTable();\n    if (dictionary != null) {\n      Enumeration elements = dictionary.elements();\n      while (elements.hasMoreElements()) {\n        JLabel label = (JLabel) elements.nextElement();\n        int v = Integer.parseInt(label.getText());\n        if (v &gt; MAXI) {\n          label.setForeground(Color.RED);\n        }\n      }\n    }\n    slider.getModel().addChangeListener(new ChangeListener() {\n      @Override public void stateChanged(ChangeEvent e) {\n        BoundedRangeModel m = (BoundedRangeModel) e.getSource();\n        if (m.getValue() &gt; MAXI) {\n          m.setValue(MAXI);\n        }\n      }\n    });\n    return slider;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n//         for (UIManager.LookAndFeelInfo laf: UIManager.getInstalledLookAndFeels()) {\n//           if (\"Nimbus\".equals(laf.getName())) {\n//             UIManager.setLookAndFeel(laf.getClassName());\n//           }\n//         }\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new DragLimitedSliderTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n\nclass DisableInputLayerUI extends LayerUI&lt;JSlider&gt; {\n  @Override public void installUI(JComponent c) {\n    super.installUI(c);\n    if (c instanceof JLayer) {\n      JLayer jlayer = (JLayer) c;\n      jlayer.setLayerEventMask(\n        AWTEvent.MOUSE_EVENT_MASK |\n        AWTEvent.MOUSE_MOTION_EVENT_MASK);\n    }\n  }\n  @Override public void uninstallUI(JComponent c) {\n    if (c instanceof JLayer) {\n      JLayer jlayer = (JLayer) c;\n      jlayer.setLayerEventMask(0);\n    }\n    super.uninstallUI(c);\n  }\n  private Rectangle thumbRect = new Rectangle(11, 19); //magic number\n  private Rectangle focusRect = new Rectangle();\n  private Rectangle contentRect = new Rectangle();\n  private Rectangle trackRect = new Rectangle();\n  private int offset;\n\n  protected int xPositionForValue(JSlider slider, int value) {\n    int min = slider.getMinimum();\n    int max = slider.getMaximum();\n    int trackLength = trackRect.width;\n    double valueRange = (double) max - (double) min;\n    double pixelsPerValue = (double) trackLength / valueRange;\n    int trackLeft = trackRect.x;\n    int trackRight = trackRect.x + (trackRect.width - 1);\n    int xPosition;\n\n    xPosition = trackLeft;\n    xPosition += Math.round(pixelsPerValue * ((double) value - min));\n\n    xPosition = Math.max(trackLeft, xPosition);\n    xPosition = Math.min(trackRight, xPosition);\n\n    return xPosition;\n  }\n  protected int getHeightOfTallestLabel(JSlider slider) {\n    Dictionary dictionary = slider.getLabelTable();\n    int tallest = 0;\n    if (dictionary != null) {\n      Enumeration keys = dictionary.keys();\n      while (keys.hasMoreElements()) {\n        JComponent label = (JComponent) dictionary.get(keys.nextElement());\n        tallest = Math.max(label.getPreferredSize().height, tallest);\n      }\n    }\n    return tallest;\n  }\n  @Override protected void processMouseEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\n    JSlider slider = l.getView();\n    if (e.getID() == MouseEvent.MOUSE_PRESSED) {\n      //case HORIZONTAL:\n\n      //recalculateIfInsetsChanged()\n      Insets insetCache = slider.getInsets();\n      Insets focusInsets = UIManager.getInsets(\"Slider.focusInsets\");\n      if (focusInsets == null) {\n        focusInsets = new Insets(2, 2, 2, 2); //magic number\n      }\n\n      //calculateFocusRect()\n      focusRect.x = insetCache.left;\n      focusRect.y = insetCache.top;\n      focusRect.width = slider.getWidth() - (insetCache.left + insetCache.right);\n      focusRect.height = slider.getHeight() - (insetCache.top + insetCache.bottom);\n\n      //calculateContentRect()\n      contentRect.x = focusRect.x + focusInsets.left;\n      contentRect.y = focusRect.y + focusInsets.top;\n      contentRect.width = focusRect.width - (focusInsets.left + focusInsets.right);\n      contentRect.height = focusRect.height - (focusInsets.top + focusInsets.bottom);\n\n      //calculateThumbSize()\n      Icon ti = UIManager.getIcon(\"Slider.horizontalThumbIcon\");\n      if (ti != null) {\n        thumbRect.width = ti.getIconWidth();\n        thumbRect.height = ti.getIconHeight();\n      }\n\n      //calculateTrackBuffer()\n      int trackBuffer = 9; //magic number, Windows: 9, Metal: 10 ...\n\n      //calculateTrackRect()\n      int centerSpacing = thumbRect.height;\n      if (slider.getPaintTicks())  centerSpacing += 8; //magic number getTickLength();\n      if (slider.getPaintLabels()) centerSpacing += getHeightOfTallestLabel(slider);\n      trackRect.x = contentRect.x + trackBuffer;\n      trackRect.y = contentRect.y + (contentRect.height - centerSpacing - 1) / 2;\n      trackRect.width = contentRect.width - (trackBuffer * 2);\n      trackRect.height = thumbRect.height;\n\n      //calculateThumbLocation()\n      int valuePosition = xPositionForValue(slider, slider.getValue());\n      thumbRect.x = valuePosition - (thumbRect.width / 2);\n      thumbRect.y = trackRect.y;\n      offset = e.getX() - thumbRect.x;\n    }\n  }\n  @Override protected void processMouseMotionEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\n    if (e.getID() == MouseEvent.MOUSE_DRAGGED) {\n      JSlider slider = l.getView();\n      //case HORIZONTAL:\n      int halfThumbWidth = thumbRect.width / 2;\n      int thumbLeft = e.getX() - offset;\n      int maxPos = xPositionForValue(slider, 80) - halfThumbWidth;\n      if (thumbLeft &gt; maxPos) {\n        e.consume();\n        SliderUI ui = slider.getUI();\n        if (ui instanceof BasicSliderUI) {\n          ((BasicSliderUI) ui).setThumbLocation(maxPos, thumbRect.y);\n        }\n        slider.getModel().setValue(80);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452383148,"creation_date":1452375826,"answer_id":34699281,"question_id":34561596,"body_markdown":"It seems there&#39;s really no way to do what I wanted in a way that will be consistent across different Look and Feel implementations. Tracing through the notifications and listeners of the JSlider, BasicSliderUI, and BoundedRangeModel it turns out that there is no way to force a recalculation of the thumb position through public methods and the base listener implementation specifically prevents this from happening when dragging or terminating the drag (mouse release). See update to original question for more.","title":"How can I prevent a JSlider from moving full-range?","body":"<p>It seems there's really no way to do what I wanted in a way that will be consistent across different Look and Feel implementations. Tracing through the notifications and listeners of the JSlider, BasicSliderUI, and BoundedRangeModel it turns out that there is no way to force a recalculation of the thumb position through public methods and the base listener implementation specifically prevents this from happening when dragging or terminating the drag (mouse release). See update to original question for more.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1681468437,"post_id":76011689,"comment_id":134064929,"body_markdown":"interestingly, this indeed is working and might even suit the asker - the question isn&#39;t overly clear, IMO :)","body":"interestingly, this indeed is working and might even suit the asker - the question isn&#39;t overly clear, IMO :)"}],"tags":[],"owner":{"account_id":26923114,"reputation":3,"user_id":20496791,"display_name":"DragoStarh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447787,"creation_date":1681447787,"answer_id":76011689,"question_id":34561596,"body_markdown":"Hey I know this is a really old post but there is a method which might not have existed before called &quot;slider.setExtent(int value)&quot; It does exactly what you&#39;re looking for. It takes an int value that represents the value that is taken away from the max value of the JSlider. For example if I have a slider that goes from 0-100 and I use &quot;slider.setExtent(20)&quot; then the user will only be able to slide up to the value 80 in the JSlider and it won&#39;t let them slide past that. Hope this helps, sorry if this is poorly explained it is my first time answering a question on here.\r\n\r\nHere is the link that explains this better, this is where I discovered this:\r\nhttps://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider","title":"How can I prevent a JSlider from moving full-range?","body":"<p>Hey I know this is a really old post but there is a method which might not have existed before called &quot;slider.setExtent(int value)&quot; It does exactly what you're looking for. It takes an int value that represents the value that is taken away from the max value of the JSlider. For example if I have a slider that goes from 0-100 and I use &quot;slider.setExtent(20)&quot; then the user will only be able to slide up to the value 80 in the JSlider and it won't let them slide past that. Hope this helps, sorry if this is poorly explained it is my first time answering a question on here.</p>\n<p>Here is the link that explains this better, this is where I discovered this:\n<a href=\"https://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider</a></p>\n"}],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1681447787,"creation_date":1451696603,"question_id":34561596,"body_markdown":"I have an application where I want to use a `JSlider` for user input, representing a percentage of an absolute value.  \r\n Based on other variables, the minimum/maximum percentage value will be limited. I don&#39;t want to change the scale (min/max) of the `JSlider` itself (I want to preserve the full-range percentage scale). I created a `ChangeListener` that determines if the range needs to be limited, and when so, I call the `JSlider.setValue()` method with the appropriate (limited min/max) value. However, the `JSlider` itself does not reflect the value I&#39;ve set. If I query the value with `JSlider.getValue()` it returns what I would expect (the value I set).\r\n\r\nIs there a way to force the `JSlider` to only allow dragging the actual slider (thumb, knob) to a certain point, then stopping?\r\n\r\nUpdate:\r\n\r\nAfter spending too much time on this, I&#39;ve decided that the root problem is that I&#39;m misusing/abusing the JSlider in an unintended use model. Restricting the range of movement of the thumb to be less than the BoundedRangeModel range requires modification of the BasicSliderUI class. While the original solution proposed by *aterai* below does work, it requires overriding a SliderUI implementation class, impacting the portability and consistency of a plaf. So, either I have to find a different UI element or modify the JSlider BoundedRangeModel limits based on the other interdependent variable values. The downside of the latter is that the same thumb position will represent a different value based on the value of other user-editable parameters.","title":"How can I prevent a JSlider from moving full-range?","body":"<p>I have an application where I want to use a <code>JSlider</code> for user input, representing a percentage of an absolute value.<br>\n Based on other variables, the minimum/maximum percentage value will be limited. I don't want to change the scale (min/max) of the <code>JSlider</code> itself (I want to preserve the full-range percentage scale). I created a <code>ChangeListener</code> that determines if the range needs to be limited, and when so, I call the <code>JSlider.setValue()</code> method with the appropriate (limited min/max) value. However, the <code>JSlider</code> itself does not reflect the value I've set. If I query the value with <code>JSlider.getValue()</code> it returns what I would expect (the value I set).</p>\n\n<p>Is there a way to force the <code>JSlider</code> to only allow dragging the actual slider (thumb, knob) to a certain point, then stopping?</p>\n\n<p>Update:</p>\n\n<p>After spending too much time on this, I've decided that the root problem is that I'm misusing/abusing the JSlider in an unintended use model. Restricting the range of movement of the thumb to be less than the BoundedRangeModel range requires modification of the BasicSliderUI class. While the original solution proposed by <em>aterai</em> below does work, it requires overriding a SliderUI implementation class, impacting the portability and consistency of a plaf. So, either I have to find a different UI element or modify the JSlider BoundedRangeModel limits based on the other interdependent variable values. The downside of the latter is that the same thumb position will represent a different value based on the value of other user-editable parameters.</p>\n"},{"tags":["java","android","rx-java","rx-android"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1483715449,"post_id":41508408,"comment_id":70222774,"body_markdown":"Note: `1 / 0` triggers as `Error` not an `Exception` though that shouldn&#39;t matter here.","body":"Note: <code>1 &#47; 0</code> triggers as <code>Error</code> not an <code>Exception</code> though that shouldn&#39;t matter here."}],"answers":[{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1483716128,"creation_date":1483716128,"answer_id":41508728,"question_id":41508408,"body_markdown":"Keep in mind that `.doOnError()` catches the exception, does something with it *and then re-throws it*. If you want different behavior, use one of the `.onError*` methods.\r\n\r\nNow, the reason why the exception does not propagate to the caller in #1 but does in #2 is that you&#39;ve provided an error handler in #1, but not in #2, in which case the default is to propagate the exception.","title":"doOnError does not catch the exception","body":"<p>Keep in mind that <code>.doOnError()</code> catches the exception, does something with it <em>and then re-throws it</em>. If you want different behavior, use one of the <code>.onError*</code> methods.</p>\n\n<p>Now, the reason why the exception does not propagate to the caller in #1 but does in #2 is that you've provided an error handler in #1, but not in #2, in which case the default is to propagate the exception.</p>\n"},{"tags":[],"owner":{"account_id":1981904,"reputation":571,"user_id":1778299,"accept_rate":71,"display_name":"Tadhg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447778,"creation_date":1681412037,"answer_id":76008909,"question_id":41508408,"body_markdown":"To complete Tassos&#39;s answer:\r\n\r\nRxJava does not allow exception &#39;bubbling&#39;. If an exception escapes the execution chain without getting caught, rather than propagate it up to your calling code, Rx will catch it and log an error message like `onErrorDropped\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: &lt;your exeception and message here&gt;`. See https://github.com/reactor/reactor-core/issues/2677\r\n\r\nAs Tassos said, the exception is rethrown from `doOnError()`. So if you use this functionality for error handling, you should remove the error from the chain, like so\r\n\r\n    Observable.from(items)\r\n        .map(this::invert)\r\n        .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\r\n        .onErrorResume(e -&gt; Mono.empty()) // Replace Mono.empty() with an alternative function if you want some behavior on error\r\n        .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\r\n        .subscribe();\r\n\r\nSee https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor for more details on how that onErrorX works","title":"doOnError does not catch the exception","body":"<p>To complete Tassos's answer:</p>\n<p>RxJava does not allow exception 'bubbling'. If an exception escapes the execution chain without getting caught, rather than propagate it up to your calling code, Rx will catch it and log an error message like <code>onErrorDropped reactor.core.Exceptions$ErrorCallbackNotImplemented: &lt;your exeception and message here&gt;</code>. See <a href=\"https://github.com/reactor/reactor-core/issues/2677\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-core/issues/2677</a></p>\n<p>As Tassos said, the exception is rethrown from <code>doOnError()</code>. So if you use this functionality for error handling, you should remove the error from the chain, like so</p>\n<pre><code>Observable.from(items)\n    .map(this::invert)\n    .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\n    .onErrorResume(e -&gt; Mono.empty()) // Replace Mono.empty() with an alternative function if you want some behavior on error\n    .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\n    .subscribe();\n</code></pre>\n<p>See <a href=\"https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor\" rel=\"nofollow noreferrer\">https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor</a> for more details on how that onErrorX works</p>\n"}],"owner":{"account_id":5865787,"reputation":1694,"user_id":4619812,"accept_rate":64,"display_name":"thyago stall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11553,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":41508728,"answer_count":2,"score":15,"last_activity_date":1681447778,"creation_date":1483715053,"question_id":41508408,"body_markdown":"I am just getting started with RxJava, but maybe something did not click yet.\r\n\r\n**1.**\r\n\r\n    Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\r\n    Observable.from(items)\r\n            .map(this::invert)\r\n            .subscribe(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i), t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()));\r\n\r\n**2.**\r\n\r\n    Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\r\n    Observable.from(items)\r\n            .map(this::invert)\r\n            .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\r\n            .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\r\n            .subscribe();\r\n\r\nThe `invert` function:\r\n\r\n    int invert(int i) {\r\n        return 1 / i;\r\n    }\r\n\r\nThe first executes normally, and when the exception is thrown the `onError` is executed. But on the other hand, the second does not work, so the exception is thrown all the way up to the calling method. \r\n\r\nWhat is the difference between the two blocks of code? ","title":"doOnError does not catch the exception","body":"<p>I am just getting started with RxJava, but maybe something did not click yet.</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code>Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\nObservable.from(items)\n        .map(this::invert)\n        .subscribe(i -&gt; Log.d(LOG_TAG, \"Inverted: \" + i), t -&gt; Log.d(LOG_TAG, \"Error: \" + t.getMessage()));\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code>Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\nObservable.from(items)\n        .map(this::invert)\n        .doOnError(t -&gt; Log.d(LOG_TAG, \"Error: \" + t.getMessage()))\n        .doOnNext(i -&gt; Log.d(LOG_TAG, \"Inverted: \" + i))\n        .subscribe();\n</code></pre>\n\n<p>The <code>invert</code> function:</p>\n\n<pre><code>int invert(int i) {\n    return 1 / i;\n}\n</code></pre>\n\n<p>The first executes normally, and when the exception is thrown the <code>onError</code> is executed. But on the other hand, the second does not work, so the exception is thrown all the way up to the calling method. </p>\n\n<p>What is the difference between the two blocks of code? </p>\n"},{"tags":["java","eclipse","http","proxy","http-get"],"answers":[{"comments":[{"owner":{"account_id":11028106,"reputation":125,"user_id":8100304,"display_name":"Juan Antonio Rodr&#237;guez Gabriel"},"score":0,"creation_date":1574184370,"post_id":58933677,"comment_id":104137864,"body_markdown":"I just tried at home and it worked so it&#39;s probably that. I just wanted to be sure that the code I had was correct.","body":"I just tried at home and it worked so it&#39;s probably that. I just wanted to be sure that the code I had was correct."}],"tags":[],"owner":{"account_id":3242625,"reputation":376,"user_id":4301614,"display_name":"michael - mlc"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574164933,"creation_date":1574164933,"answer_id":58933677,"question_id":58933418,"body_markdown":"As you said :\r\n\r\n&gt; I think I might be related to the proxy configuration at my workplace,  [...]\r\n\r\nYou should ask your **IT** how to use your companies proxy (or check your network settings, which might show you the proxy settings)\r\n\r\nAlso have a look here:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\r\n","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>As you said :</p>\n\n<blockquote>\n  <p>I think I might be related to the proxy configuration at my workplace,  [...]</p>\n</blockquote>\n\n<p>You should ask your <strong>IT</strong> how to use your companies proxy (or check your network settings, which might show you the proxy settings)</p>\n\n<p>Also have a look here:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a></p>\n"},{"tags":[],"owner":{"account_id":8401265,"reputation":29,"user_id":6306383,"display_name":"vishal sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447081,"creation_date":1681447081,"answer_id":76011642,"question_id":58933418,"body_markdown":"I faced similar issue while running Performance Test with 200 concurrent users for my java application and I was connected through evpn to my workplace network. I tried switching to a different network and it worked.\r\n\r\nThe issue occurred once the number of request reaches ~16K( this might be specific to my application), but switching to a different network and restarting my evpn worked for me.","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>I faced similar issue while running Performance Test with 200 concurrent users for my java application and I was connected through evpn to my workplace network. I tried switching to a different network and it worked.</p>\n<p>The issue occurred once the number of request reaches ~16K( this might be specific to my application), but switching to a different network and restarting my evpn worked for me.</p>\n"}],"owner":{"account_id":11028106,"reputation":125,"user_id":8100304,"display_name":"Juan Antonio Rodr&#237;guez Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10392,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1681447081,"creation_date":1574164081,"question_id":58933418,"body_markdown":"I&#39;m trying to make a simple GET request: \r\n\r\n    https://www.google.com/search?q=stuff\r\n\r\n\r\nI&#39;ve used the Apache Http Lybrary:\r\n\r\n    import java.io.IOException;    \r\n    import org.apache.http.Header;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpHeaders;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    public class INRIX {\r\n    \r\n    \tprivate final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tINRIX inrix = new INRIX();\r\n    \r\n    \r\n    \t\ttry {\r\n    \t\t\tinrix.peticionGet();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tinrix.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void close() throws IOException {\r\n    \t\thttpClient.close();\r\n    \t}\r\n    \r\n    \tprivate void peticionGet() throws Exception {\r\n    \r\n    \t\tHttpGet getRequest = new HttpGet(&quot;https://www.google.com/search?q=stuff&quot;);\r\n    \r\n    \t\t// Request Headers\r\n    \t\tgetRequest.addHeader(&quot;custom-key&quot;, &quot;stuff&quot;);\r\n    \t\tgetRequest.addHeader(HttpHeaders.USER_AGENT, &quot;Googlebot&quot;);\r\n    \r\n    \t\ttry (CloseableHttpResponse response = httpClient.execute(getRequest)) {\r\n    \r\n    \t\t\t// Get HttpResponse Status\r\n    \t\t\tSystem.out.println(response.getStatusLine().toString());\r\n    \r\n    \t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\tHeader headers = entity.getContentType();\r\n    \t\t\tSystem.out.println(headers);\r\n    \r\n    \t\t\tif (entity != null) {\r\n    \t\t\t\t// return it as a String\r\n    \t\t\t\tString result = EntityUtils.toString(entity);\r\n    \t\t\t\tSystem.out.println(result);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (ClientProtocolException e) {\r\n    \t\t\tSystem.out.println(&quot;ClientProtocolException&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;IOException&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nAnd HttpURLConnection:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class INRIXURL {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tINRIXURL inrix = new INRIXURL();\r\n    \r\n    \t\tinrix.peticionGet();\r\n    \t}\r\n    \r\n    \tpublic void peticionGet() {\r\n    \r\n    \t\tString url = &quot;https://www.google.com/search?q=stuff&quot;;\r\n    \r\n    \t\tHttpURLConnection httpClient;\r\n    \t\ttry {\r\n    \t\t\thttpClient = (HttpURLConnection) new URL(url).openConnection();\r\n    \r\n    \t\t\t// optional default is GET\r\n    \t\t\thttpClient.setRequestMethod(&quot;GET&quot;);\r\n    \r\n    \t\t\t// add request header\r\n    \t\t\thttpClient.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n    \r\n    \t\t\tint responseCode = httpClient.getResponseCode();\r\n    \t\t\tSystem.out.println(&quot;\\nSending &#39;GET&#39; request to URL : &quot; + url);\r\n    \t\t\tSystem.out.println(&quot;Response Code : &quot; + responseCode);\r\n    \r\n    \t\t\ttry (BufferedReader in = new BufferedReader(new InputStreamReader(httpClient.getInputStream()))) {\r\n    \r\n    \t\t\t\tStringBuilder response = new StringBuilder();\r\n    \t\t\t\tString line;\r\n    \r\n    \t\t\t\twhile ((line = in.readLine()) != null) {\r\n    \t\t\t\t\tresponse.append(line);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t// print result\r\n    \t\t\t\tSystem.out.println(response.toString());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nIn both cases I get timed out.\r\n\r\nError in the first case:\r\n\r\n&gt; org.apache.http.conn.HttpHostConnectException: Connect to\r\n&gt; www.google.com:443 [www.google.com/216.58.201.132] failed: Connection\r\n&gt; timed out: connect \tat\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n&gt; \tat connCarPackage.INRIX.peticionGet(INRIX.java:53) \tat\r\n&gt; connCarPackage.INRIX.main(INRIX.java:26) Caused by:\r\n&gt; java.net.ConnectException: Connection timed out: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.connect0(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.PlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.SocksSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.Socket.connect(Unknown Source) \tat\r\n&gt; org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n&gt; \t... 11 more\r\n\r\nFor the second case:\r\n\r\n&gt; java.net.ConnectException: Connection timed out: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.connect0(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.PlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.SocksSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.Socket.connect(Unknown Source) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.connect(Unknown Source) \tat\r\n&gt; sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source) \tat\r\n&gt; sun.net.NetworkClient.doConnect(Unknown Source) \tat\r\n&gt; sun.net.www.http.HttpClient.openServer(Unknown Source) \tat\r\n&gt; sun.net.www.http.HttpClient.openServer(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.New(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown\r\n&gt; Source) \tat java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown\r\n&gt; Source) \tat urlConnection.INRIXURL.peticionGet(INRIXURL.java:31) \tat\r\n&gt; urlConnection.INRIXURL.main(INRIXURL.java:14)\r\n\r\nI think I might be related to the proxy configuration at my workplace, but I don&#39;t know how to check or fix it if that&#39;s the case or if I&#39;m just not doing the request properly. I noticed that I can&#39;t ping sites or machines outside the company network but I don&#39;t know if it is related.\r\n\r\nAlso using [https://reqbin.com/][1] the request works fine and I can browse without problems.\r\n\r\n\r\n  [1]: https://reqbin.com/","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>I'm trying to make a simple GET request: </p>\n\n<pre><code>https://www.google.com/search?q=stuff\n</code></pre>\n\n<p>I've used the Apache Http Lybrary:</p>\n\n<pre><code>import java.io.IOException;    \nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\npublic class INRIX {\n\n    private final CloseableHttpClient httpClient = HttpClients.createDefault();\n\n    public static void main(String[] args) {\n\n        INRIX inrix = new INRIX();\n\n\n        try {\n            inrix.peticionGet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                inrix.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    private void close() throws IOException {\n        httpClient.close();\n    }\n\n    private void peticionGet() throws Exception {\n\n        HttpGet getRequest = new HttpGet(\"https://www.google.com/search?q=stuff\");\n\n        // Request Headers\n        getRequest.addHeader(\"custom-key\", \"stuff\");\n        getRequest.addHeader(HttpHeaders.USER_AGENT, \"Googlebot\");\n\n        try (CloseableHttpResponse response = httpClient.execute(getRequest)) {\n\n            // Get HttpResponse Status\n            System.out.println(response.getStatusLine().toString());\n\n            HttpEntity entity = response.getEntity();\n            Header headers = entity.getContentType();\n            System.out.println(headers);\n\n            if (entity != null) {\n                // return it as a String\n                String result = EntityUtils.toString(entity);\n                System.out.println(result);\n            }\n\n        } catch (ClientProtocolException e) {\n            System.out.println(\"ClientProtocolException\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(\"IOException\");\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>And HttpURLConnection:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class INRIXURL {\n\n    public static void main(String[] args) {\n        INRIXURL inrix = new INRIXURL();\n\n        inrix.peticionGet();\n    }\n\n    public void peticionGet() {\n\n        String url = \"https://www.google.com/search?q=stuff\";\n\n        HttpURLConnection httpClient;\n        try {\n            httpClient = (HttpURLConnection) new URL(url).openConnection();\n\n            // optional default is GET\n            httpClient.setRequestMethod(\"GET\");\n\n            // add request header\n            httpClient.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n\n            int responseCode = httpClient.getResponseCode();\n            System.out.println(\"\\nSending 'GET' request to URL : \" + url);\n            System.out.println(\"Response Code : \" + responseCode);\n\n            try (BufferedReader in = new BufferedReader(new InputStreamReader(httpClient.getInputStream()))) {\n\n                StringBuilder response = new StringBuilder();\n                String line;\n\n                while ((line = in.readLine()) != null) {\n                    response.append(line);\n                }\n\n                // print result\n                System.out.println(response.toString());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>In both cases I get timed out.</p>\n\n<p>Error in the first case:</p>\n\n<blockquote>\n  <p>org.apache.http.conn.HttpHostConnectException: Connect to\n  www.google.com:443 [www.google.com/216.58.201.132] failed: Connection\n  timed out: connect    at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at\n  org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\n    at\n  org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at\n  org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at\n  org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at\n  org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at\n  org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at\n  org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at connCarPackage.INRIX.peticionGet(INRIX.java:53)  at\n  connCarPackage.INRIX.main(INRIX.java:26) Caused by:\n  java.net.ConnectException: Connection timed out: connect  at\n  java.net.DualStackPlainSocketImpl.connect0(Native Method)     at\n  java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)   at\n  java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)     at\n  java.net.AbstractPlainSocketImpl.connect(Unknown Source)  at\n  java.net.PlainSocketImpl.connect(Unknown Source)  at\n  java.net.SocksSocketImpl.connect(Unknown Source)  at\n  java.net.Socket.connect(Unknown Source)   at\n  org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n    at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    ... 11 more</p>\n</blockquote>\n\n<p>For the second case:</p>\n\n<blockquote>\n  <p>java.net.ConnectException: Connection timed out: connect  at\n  java.net.DualStackPlainSocketImpl.connect0(Native Method)     at\n  java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)   at\n  java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)     at\n  java.net.AbstractPlainSocketImpl.connect(Unknown Source)  at\n  java.net.PlainSocketImpl.connect(Unknown Source)  at\n  java.net.SocksSocketImpl.connect(Unknown Source)  at\n  java.net.Socket.connect(Unknown Source)   at\n  sun.security.ssl.SSLSocketImpl.connect(Unknown Source)    at\n  sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source)    at\n  sun.net.NetworkClient.doConnect(Unknown Source)   at\n  sun.net.www.http.HttpClient.openServer(Unknown Source)    at\n  sun.net.www.http.HttpClient.openServer(Unknown Source)    at\n  sun.net.www.protocol.https.HttpsClient.(Unknown Source)     at\n  sun.net.www.protocol.https.HttpsClient.New(Unknown Source)    at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown\n  Source)   at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown\n  Source)   at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at\n  sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown\n  Source)   at urlConnection.INRIXURL.peticionGet(INRIXURL.java:31)     at\n  urlConnection.INRIXURL.main(INRIXURL.java:14)</p>\n</blockquote>\n\n<p>I think I might be related to the proxy configuration at my workplace, but I don't know how to check or fix it if that's the case or if I'm just not doing the request properly. I noticed that I can't ping sites or machines outside the company network but I don't know if it is related.</p>\n\n<p>Also using <a href=\"https://reqbin.com/\" rel=\"nofollow noreferrer\">https://reqbin.com/</a> the request works fine and I can browse without problems.</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","smtp","office365"],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681446541,"creation_date":1681130702,"question_id":75977242,"body_markdown":"I could able to access mailbox using IMAP protocol and client credentials flow but if I try to send mail then it got failed with exception:\r\n\r\n```\r\n535 5.7.3 Authentication unsuccessful [PN2PR01CA0190.INDPRD01.PROD.OUTLOOK.COM 2023-04-10T11:36:49.717Z 08DB38497E3FD62E]\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\r\n\tat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\r\n\tat jakarta.mail.Service.connect(Service.java:364)\r\n\tat jakarta.mail.Service.connect(Service.java:222)\r\n\tat jakarta.mail.Service.connect(Service.java:171)\r\n```\r\n\r\n\r\nI am sure that on Azure app I have added `SMTP.SendAsApp` permission and admin grant is also given to the permission. Also by using power shell I have also given mailbox permission to application&#39;s service principle with access rights as `FullAccess`.\r\n\r\nAfter little bit googling about the problem, I come across [this](https://stackoverflow.com/questions/73558889/azure-ad-service-principal-client-credentials-grant-authenticate-failed-accessin?rq=3), [this](https://stackoverflow.com/questions/73543343/office365-smtp-with-oauth2-client-credentials-flow-returns-authentication-unsuc) and even some post from Microsoft mentions that [this URL](https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange) states that SMTP + client credentials flow is not supported but now I visit the URL then there is nothing any such thing mentioned by Microsoft, which is creating confusing state, whether I am doing something wrong that&#39;s why getting above exception or still SMTP with client credentials flow is not supported?","title":"Microsoft Exchnage SMTP AUTH using client credentials flow","body":"<p>I could able to access mailbox using IMAP protocol and client credentials flow but if I try to send mail then it got failed with exception:</p>\n<pre><code>535 5.7.3 Authentication unsuccessful [PN2PR01CA0190.INDPRD01.PROD.OUTLOOK.COM 2023-04-10T11:36:49.717Z 08DB38497E3FD62E]\n\n    at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\n    at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\n    at jakarta.mail.Service.connect(Service.java:364)\n    at jakarta.mail.Service.connect(Service.java:222)\n    at jakarta.mail.Service.connect(Service.java:171)\n</code></pre>\n<p>I am sure that on Azure app I have added <code>SMTP.SendAsApp</code> permission and admin grant is also given to the permission. Also by using power shell I have also given mailbox permission to application's service principle with access rights as <code>FullAccess</code>.</p>\n<p>After little bit googling about the problem, I come across <a href=\"https://stackoverflow.com/questions/73558889/azure-ad-service-principal-client-credentials-grant-authenticate-failed-accessin?rq=3\">this</a>, <a href=\"https://stackoverflow.com/questions/73543343/office365-smtp-with-oauth2-client-credentials-flow-returns-authentication-unsuc\">this</a> and even some post from Microsoft mentions that <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange\" rel=\"nofollow noreferrer\">this URL</a> states that SMTP + client credentials flow is not supported but now I visit the URL then there is nothing any such thing mentioned by Microsoft, which is creating confusing state, whether I am doing something wrong that's why getting above exception or still SMTP with client credentials flow is not supported?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26488482,"reputation":104,"user_id":20126668,"display_name":"Best Thinking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681446419,"creation_date":1681015987,"question_id":75968829,"body_markdown":"I am applying data in listview with the help of given code.\r\n\r\n     final ListView listNames = (ListView) findViewById(R.id.listNamesId);\r\n        final TextView namesText = (TextView) findViewById(R.id.namesTexter);\r\n        final ArrayAdapter&lt;String&gt; adapterNames1 = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, new ArrayList&lt;String&gt;());\r\n        listNames.setAdapter(adapterNames);\r\n      button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!namesText.getText().toString().isEmpty()){\r\n                    adapterNames.add(namesText.getText().toString());\r\n                    namesText.setText(&quot;&quot;);\r\n                    adapterNames.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\nWhen the button is clicked, the data has put to the list view and \r\nFor scroll a listview i use this code that work fine.\r\n\r\n       public void timerDelayRunForScroll(long time) {\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    int h1 = listNamesId.getHeight();\r\n                    int h2 = listNamesId.getHeight();\r\n\r\n                    listNamesId.smoothScrollToPositionFromTop(5, h1/2 - h2/2, 500);\r\n\r\n                } catch (Exception e) {}\r\n            }\r\n        }, time);\r\n    }\r\n\r\nBut i want to select every Listview Item one by one through timer count and put Listview Item text to a textview. My question is how can we select items of list view one by one with timer count and show the selected item text in a Textview.?\r\n ","title":"How to auto select Listview Item through Timer and put Listview Item text in Textview","body":"<p>I am applying data in listview with the help of given code.</p>\n<pre><code> final ListView listNames = (ListView) findViewById(R.id.listNamesId);\n    final TextView namesText = (TextView) findViewById(R.id.namesTexter);\n    final ArrayAdapter&lt;String&gt; adapterNames1 = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, new ArrayList&lt;String&gt;());\n    listNames.setAdapter(adapterNames);\n  button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(!namesText.getText().toString().isEmpty()){\n                adapterNames.add(namesText.getText().toString());\n                namesText.setText(&quot;&quot;);\n                adapterNames.notifyDataSetChanged();\n            }\n        }\n    });\n</code></pre>\n<p>When the button is clicked, the data has put to the list view and\nFor scroll a listview i use this code that work fine.</p>\n<pre><code>   public void timerDelayRunForScroll(long time) {\n    Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        public void run() {\n            try {\n                int h1 = listNamesId.getHeight();\n                int h2 = listNamesId.getHeight();\n\n                listNamesId.smoothScrollToPositionFromTop(5, h1/2 - h2/2, 500);\n\n            } catch (Exception e) {}\n        }\n    }, time);\n}\n</code></pre>\n<p>But i want to select every Listview Item one by one through timer count and put Listview Item text to a textview. My question is how can we select items of list view one by one with timer count and show the selected item text in a Textview.?</p>\n"},{"tags":["java","xml","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":20707,"reputation":30842,"user_id":49746,"display_name":"Todd"},"score":0,"creation_date":1504633575,"post_id":46060590,"comment_id":79081645,"body_markdown":"Possible duplicate of [How to use XML configuration for named queries in Spring data JPA?](https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa\">How to use XML configuration for named queries in Spring data JPA?</a>"},{"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"score":0,"creation_date":1504633665,"post_id":46060590,"comment_id":79081689,"body_markdown":"Yes, I have come across this question. But like I mentioned, I do not have a `META-INF` folder, and I am very much confused as to where these `properties/ xml` files have to be stored. @Todd","body":"Yes, I have come across this question. But like I mentioned, I do not have a <code>META-INF</code> folder, and I am very much confused as to where these <code>properties&#47; xml</code> files have to be stored. @Todd"},{"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"score":1,"creation_date":1504635300,"post_id":46060590,"comment_id":79082406,"body_markdown":"Please check github example at https://github.com/eclipse/examples/tree/master/jpa/employee.dynamic/src/main/resources/META-INF and http://webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/docs/content/html/hibernate-migration-orm.html, if META-INF is not present then you have to create it.","body":"Please check github example at <a href=\"https://github.com/eclipse/examples/tree/master/jpa/employee.dynamic/src/main/resources/META-INF\" rel=\"nofollow noreferrer\">github.com/eclipse/examples/tree/master/jpa/employee.dynamic&zwnj;&#8203;/&hellip;</a> and <a href=\"http://webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/docs/content/html/hibernate-migration-orm.html\" rel=\"nofollow noreferrer\">webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/d&zwnj;&#8203;ocs/&hellip;</a>, if META-INF is not present then you have to create it."}],"answers":[{"comments":[{"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"score":0,"creation_date":1504659913,"post_id":46060898,"comment_id":79091318,"body_markdown":"Thanks! creating META-INF manually worked for me! Is there any reason why it won&#39;t be created along with files like application.properties?","body":"Thanks! creating META-INF manually worked for me! Is there any reason why it won&#39;t be created along with files like application.properties?"},{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1504671879,"post_id":46060898,"comment_id":79094050,"body_markdown":"i don&#39;t know the reason for that","body":"i don&#39;t know the reason for that"},{"owner":{"account_id":7940237,"reputation":1204,"user_id":5994580,"display_name":"Sebastiandg7"},"score":0,"creation_date":1508044416,"post_id":46060898,"comment_id":80449644,"body_markdown":"THANK YOU! Exactly what is was looking for. Where did you find these info?","body":"THANK YOU! Exactly what is was looking for. Where did you find these info?"},{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":1,"creation_date":1508048688,"post_id":46060898,"comment_id":80450380,"body_markdown":"@SebastianDuque thanks for you comment . I found these infos from spring-data-example repository , Here is the link :https://github.com/spring-projects/spring-data-examples","body":"@SebastianDuque thanks for you comment . I found these infos from spring-data-example repository , Here is the link :<a href=\"https://github.com/spring-projects/spring-data-examples\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-examples</a>"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1634558897,"post_id":46060898,"comment_id":123049121,"body_markdown":"Note that this jpa-named-queries.properties is not being syntax-highlighted by Intellij IDEA","body":"Note that this jpa-named-queries.properties is not being syntax-highlighted by Intellij IDEA"},{"owner":{"account_id":3380333,"reputation":193,"user_id":2837487,"display_name":"SPS"},"score":0,"creation_date":1639249241,"post_id":46060898,"comment_id":124302450,"body_markdown":"its not loading for me with spring boot version 2.5.1","body":"its not loading for me with spring boot version 2.5.1"},{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1639473163,"post_id":46060898,"comment_id":124351166,"body_markdown":"@SPS Can you check the logs . Are you getting any warning or error ?","body":"@SPS Can you check the logs . Are you getting any warning or error ?"}],"tags":[],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"comment_count":7,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1504634601,"creation_date":1504634601,"answer_id":46060898,"question_id":46060590,"body_markdown":"Create `META-INF` inside `resources` folder . Now create `jpa-named-queries.properties` file inside that `META-INF` folder.\r\n\r\nWrite your query inside this properties file like this:\r\n\r\n`Customer.findAllCustomerByNamedQuery=Select c from Customer c`\r\n\r\nWhere `Customer` denote name of entity class and `findAllCustomerByNamedQuery` is the query name\r\n\r\nIn your customer repository write this to call your query written in properties file:\r\n\r\n`List&lt;Customer&gt; findAllCustomerByNamedQuery();`\r\n\r\n","title":"Externalize query in spring boot application","body":"<p>Create <code>META-INF</code> inside <code>resources</code> folder . Now create <code>jpa-named-queries.properties</code> file inside that <code>META-INF</code> folder.</p>\n\n<p>Write your query inside this properties file like this:</p>\n\n<p><code>Customer.findAllCustomerByNamedQuery=Select c from Customer c</code></p>\n\n<p>Where <code>Customer</code> denote name of entity class and <code>findAllCustomerByNamedQuery</code> is the query name</p>\n\n<p>In your customer repository write this to call your query written in properties file:</p>\n\n<p><code>List&lt;Customer&gt; findAllCustomerByNamedQuery();</code></p>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681445840,"creation_date":1681445840,"answer_id":76011556,"question_id":46060590,"body_markdown":"There is possibility to use named queries from [spring data jpa][1].\r\n\r\n\r\n     &lt;named-query name=&quot;MyData.ultimateFind&quot;&gt;\r\n        &lt;query&gt;select d from MyData d where d.column3 = ?1&lt;/query&gt;\r\n     &lt;/named-query&gt;\r\n\r\nTo bind it with repository method, your repository class can look like this:\r\n\r\n    public interface MyDataRepository extends JpaRepository&lt;MyData, Long&gt; {\r\n      List&lt;User&gt; ultimateFind(String dataForColumn3);   \r\n    }\r\n\r\nOther approach (more sexy, but as of now, [having problem with java 17][2]) is to use [spring-native-query][3], which reads sql filed from resources. It allows you to have custom repository type with nice bindings directly to sql files (also with conditional parts of sql if needed.).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\r\n  [2]: https://github.com/gasparbarancelli/spring-native-query/issues/46\r\n  [3]: https://gasparbarancelli.github.io/spring-native-query/","title":"Externalize query in spring boot application","body":"<p>There is possibility to use named queries from <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"nofollow noreferrer\">spring data jpa</a>.</p>\n<pre><code> &lt;named-query name=&quot;MyData.ultimateFind&quot;&gt;\n    &lt;query&gt;select d from MyData d where d.column3 = ?1&lt;/query&gt;\n &lt;/named-query&gt;\n</code></pre>\n<p>To bind it with repository method, your repository class can look like this:</p>\n<pre><code>public interface MyDataRepository extends JpaRepository&lt;MyData, Long&gt; {\n  List&lt;User&gt; ultimateFind(String dataForColumn3);   \n}\n</code></pre>\n<p>Other approach (more sexy, but as of now, <a href=\"https://github.com/gasparbarancelli/spring-native-query/issues/46\" rel=\"nofollow noreferrer\">having problem with java 17</a>) is to use <a href=\"https://gasparbarancelli.github.io/spring-native-query/\" rel=\"nofollow noreferrer\">spring-native-query</a>, which reads sql filed from resources. It allows you to have custom repository type with nice bindings directly to sql files (also with conditional parts of sql if needed.).</p>\n"}],"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4618,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46060898,"answer_count":2,"score":6,"last_activity_date":1681445840,"creation_date":1504633286,"question_id":46060590,"body_markdown":"I am using `spring-boot 1.5.6 RELEASE`. I want to do a basic thing, move my queries from the `@Query` annotation in the repository to any xml file. \r\n\r\nAfter some reading, I figured out that we can use `orm.xml` or `jpa-named-queries.properties` to write my custom query.\r\n\r\nI don&#39;t understand the file structure as to where these XML files have to be present. And I don&#39;t have a `META-INF` folder in my project.\r\n\r\nExample:\r\n\r\nPOJO Class:\r\n\r\n    @Entity\r\n    public Class Customer {\r\n\r\n    private int id;\r\n    private String name;\r\n    \r\n    // getters and setters\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer,Integer&gt; {\r\n    \r\n    // this query I need from an external xml file as it might be quite complex in terms of joins\r\n    @Query(&quot;Select cust from Customers cust&quot;)\r\n    public List&lt;Customer&gt; findAllCustomers();\r\n    \r\n    }\r\n\r\nEDIT: Referred to [this stackoverflow question][1]. I need to know where these files (`orm.xml` and `persistence.xml`) need to be stored as I don&#39;t have a `META-INF` folder.\r\n\r\nThanks in advance!!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa","title":"Externalize query in spring boot application","body":"<p>I am using <code>spring-boot 1.5.6 RELEASE</code>. I want to do a basic thing, move my queries from the <code>@Query</code> annotation in the repository to any xml file. </p>\n\n<p>After some reading, I figured out that we can use <code>orm.xml</code> or <code>jpa-named-queries.properties</code> to write my custom query.</p>\n\n<p>I don't understand the file structure as to where these XML files have to be present. And I don't have a <code>META-INF</code> folder in my project.</p>\n\n<p>Example:</p>\n\n<p>POJO Class:</p>\n\n<pre><code>@Entity\npublic Class Customer {\n\nprivate int id;\nprivate String name;\n\n// getters and setters\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer,Integer&gt; {\n\n// this query I need from an external xml file as it might be quite complex in terms of joins\n@Query(\"Select cust from Customers cust\")\npublic List&lt;Customer&gt; findAllCustomers();\n\n}\n</code></pre>\n\n<p>EDIT: Referred to <a href=\"https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa\">this stackoverflow question</a>. I need to know where these files (<code>orm.xml</code> and <code>persistence.xml</code>) need to be stored as I don't have a <code>META-INF</code> folder.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1681444774,"post_id":76011439,"comment_id":134060580,"body_markdown":"I also tried that since posting this question, but I&#39;m getting the same error. But I suspect it&#39;s from a different issue right now because in my terminal when I compile my code it was giving me the same error even after deleting the while loop, pointing to the while loop that no longer existed even though I made sure to save my code","body":"I also tried that since posting this question, but I&#39;m getting the same error. But I suspect it&#39;s from a different issue right now because in my terminal when I compile my code it was giving me the same error even after deleting the while loop, pointing to the while loop that no longer existed even though I made sure to save my code"},{"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"score":0,"creation_date":1681445508,"post_id":76011439,"comment_id":134060664,"body_markdown":"How are you compiling your code? Which IDE or editor are you using? Are you sure you are saving the changes? Which error does displays? I did copy your code to run it. The problem may be on that","body":"How are you compiling your code? Which IDE or editor are you using? Are you sure you are saving the changes? Which error does displays? I did copy your code to run it. The problem may be on that"},{"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"score":0,"creation_date":1681445588,"post_id":76011439,"comment_id":134060679,"body_markdown":"In your code there missing brackets, I assumed you just forgot them, but I will add a code I&#39;d tested for you to copy it and run","body":"In your code there missing brackets, I assumed you just forgot them, but I will add a code I&#39;d tested for you to copy it and run"},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1681445771,"post_id":76011439,"comment_id":134060692,"body_markdown":"I&#39;m relatively certain it&#39;s not missing brackets, prior to the addition of the while loop the program ran just fine with no issues and worked as intended, the while loop is the only thing I touched since opening my text editor tonight","body":"I&#39;m relatively certain it&#39;s not missing brackets, prior to the addition of the while loop the program ran just fine with no issues and worked as intended, the while loop is the only thing I touched since opening my text editor tonight"},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1681445846,"post_id":76011439,"comment_id":134060697,"body_markdown":"I&#39;m just compiling it using javac MyStarSign.java","body":"I&#39;m just compiling it using javac MyStarSign.java"},{"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"score":0,"creation_date":1681446380,"post_id":76011439,"comment_id":134060740,"body_markdown":"If the code I gave you dosen&#39;t work, the problem relies somewhere outside it. Please show the error that the compiler gives you","body":"If the code I gave you dosen&#39;t work, the problem relies somewhere outside it. Please show the error that the compiler gives you"},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1681451251,"post_id":76011439,"comment_id":134061267,"body_markdown":"I put in the initialized in birthDay = 0; now it seems like my if statements following the while loop are not running and I have to figure out why","body":"I put in the initialized in birthDay = 0; now it seems like my if statements following the while loop are not running and I have to figure out why"},{"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"score":0,"creation_date":1681451710,"post_id":76011439,"comment_id":134061337,"body_markdown":"Its beacuse you ain&#39;t reading from user any value and birthDay is 0, so when while loop is reached, birthDay is less than 31 returning false, making while loop no to execute, you need to scan it before it enters the loop or use a do while statement","body":"Its beacuse you ain&#39;t reading from user any value and birthDay is 0, so when while loop is reached, birthDay is less than 31 returning false, making while loop no to execute, you need to scan it before it enters the loop or use a do while statement"},{"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"score":0,"creation_date":1681451931,"post_id":76011439,"comment_id":134061380,"body_markdown":"I assume your code is alredy running, the consequent problems are just logical. You can mark this question as solved if you think it is","body":"I assume your code is alredy running, the consequent problems are just logical. You can mark this question as solved if you think it is"},{"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"score":0,"creation_date":1681453331,"post_id":76011439,"comment_id":134061595,"body_markdown":"In order to scan a value to birthDay you can replace `int birthDay = 0` to ` int birthDay = myScanner.nextInt();` or scan it next to declaration","body":"In order to scan a value to birthDay you can replace <code>int birthDay = 0</code> to ` int birthDay = myScanner.nextInt();` or scan it next to declaration"},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1681575242,"post_id":76011439,"comment_id":134080171,"body_markdown":"I appreciate all the help, misread your comment at first. My program is running as intended, now on to attempting to account for user error for birthMonth which I&#39;m a bit intimidated by as I&#39;m not sure where to begin when trying to check for spelling errors considering it&#39;s of type String","body":"I appreciate all the help, misread your comment at first. My program is running as intended, now on to attempting to account for user error for birthMonth which I&#39;m a bit intimidated by as I&#39;m not sure where to begin when trying to check for spelling errors considering it&#39;s of type String"}],"tags":[],"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681445767,"creation_date":1681443713,"answer_id":76011439,"question_id":76011391,"body_markdown":"&lt;!-- lang java --&gt;\r\n\r\nInitialize means it needs to have an initial value, like this:\r\n\r\n    int birthDay = 0;\r\n\r\nSo the only thing you need is to add a value to your variable\r\n\r\n**EDIT:** try out this code\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MyStarSign \r\n    {\r\n    \r\n        public static void main(String[] args) \r\n        {\r\n    \r\n            Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n            System.out.println(&quot;What month were you born?&quot;);\r\n    \r\n            String birthMonth = &quot;&quot;;\r\n    \r\n            birthMonth= myScanner.next();  // Read user input\r\n    \r\n            System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n    \r\n            System.out.println(&quot;What day of the month were you born?&quot;);\r\n    \r\n            int birthDay = 0;\r\n    \r\n            while (birthDay &gt; 31) \r\n            {\r\n    \r\n                System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n    \r\n                birthDay = myScanner.nextInt();\r\n    \r\n            }\r\n        }\r\n    }\r\n    ","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"\n<p>Initialize means it needs to have an initial value, like this:</p>\n<pre><code>int birthDay = 0;\n</code></pre>\n<p>So the only thing you need is to add a value to your variable</p>\n<p><strong>EDIT:</strong> try out this code</p>\n<pre><code>import java.util.Scanner;\n\npublic class MyStarSign \n{\n\n    public static void main(String[] args) \n    {\n\n        Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;What month were you born?&quot;);\n\n        String birthMonth = &quot;&quot;;\n\n        birthMonth= myScanner.next();  // Read user input\n\n        System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n\n        System.out.println(&quot;What day of the month were you born?&quot;);\n\n        int birthDay = 0;\n\n        while (birthDay &gt; 31) \n        {\n\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n            birthDay = myScanner.nextInt();\n\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1681445027,"post_id":76011443,"comment_id":134060606,"body_markdown":"Instead of just posting code, explain what it does and how it answers the question.","body":"Instead of just posting code, explain what it does and how it answers the question."}],"tags":[],"owner":{"account_id":28300548,"reputation":1,"user_id":21639288,"display_name":"Nitin Magadum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681444977,"creation_date":1681443827,"answer_id":76011443,"question_id":76011391,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n\r\n\tScanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n\tSystem.out.println(&quot;What month were you born?&quot;);\r\n\r\n\tString birthMonth = &quot;&quot;;\r\n\r\n\tbirthMonth= myScanner.next();  // Read user input\r\n\r\n\tSystem.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n\tSystem.out.println(&quot;What day of the month were you born?&quot;);\r\n\r\n\tint birthDay;\r\n\tbirthDay = myScanner.nextInt();\r\n\r\n\twhile (birthDay &gt; 31) {\r\n\t\tSystem.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\t\tbirthDay = myScanner.nextInt();\r\n\t}\r\n}\r\n```","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\n    System.out.println(&quot;What month were you born?&quot;);\n\n    String birthMonth = &quot;&quot;;\n\n    birthMonth= myScanner.next();  // Read user input\n\n    System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n    System.out.println(&quot;What day of the month were you born?&quot;);\n\n    int birthDay;\n    birthDay = myScanner.nextInt();\n\n    while (birthDay &gt; 31) {\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n        birthDay = myScanner.nextInt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681445767,"creation_date":1681442792,"question_id":76011391,"body_markdown":"This is one of the first programs I&#39;ve written on my own. I&#39;m writing a program to tell you what your zodiac sign is, and I got the program to run with a scanner method that I imported, but the problem I&#39;m running into is now that I&#39;m trying to check user input using a while loop, it&#39;s not running as I intended and as I compile my code the error I&#39;m running into is that my variable of type int is not initialized. I wrote it when declaring it with no assigned value, and I&#39;m unsure of what I should be assigning it to fix this issue.\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class MyStarSign {\r\n\r\n    public static void main(String[] args) {\r\n\r\n    Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n    System.out.println(&quot;What month were you born?&quot;);\r\n\r\n    String birthMonth = &quot;&quot;;\r\n\r\n        \r\n\r\n    birthMonth= myScanner.next();  // Read user input\r\n\r\n\r\n\r\n    System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n\r\n    System.out.println(&quot;What day of the month were you born?&quot;);\r\n\r\n    int birthDay;\r\n\r\n        while (birthDay &gt; 31) {\r\n\r\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\r\n            birthDay = myScanner.nextInt();\r\n        \r\n        }\r\n\r\nThis is what my code looks like as of right now ^^\r\n\r\nNow for my attempted solution:\r\n\r\nint birthDay = myScanner.nextInt();\r\n\r\n        while (birthDay &gt; 31) {\r\n\r\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\r\n            birthDay = myScanner.nextInt();\r\n        \r\n        }\r\n\r\nThis was what I attempted to fix the issue, though I&#39;m running into the same issue again when compiling my code","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"<p>This is one of the first programs I've written on my own. I'm writing a program to tell you what your zodiac sign is, and I got the program to run with a scanner method that I imported, but the problem I'm running into is now that I'm trying to check user input using a while loop, it's not running as I intended and as I compile my code the error I'm running into is that my variable of type int is not initialized. I wrote it when declaring it with no assigned value, and I'm unsure of what I should be assigning it to fix this issue.</p>\n<p>import java.util.Scanner;</p>\n<p>public class MyStarSign {</p>\n<pre><code>public static void main(String[] args) {\n\nScanner myScanner = new Scanner(System.in);  // Create a Scanner object\nSystem.out.println(&quot;What month were you born?&quot;);\n\nString birthMonth = &quot;&quot;;\n\n    \n\nbirthMonth= myScanner.next();  // Read user input\n\n\n\nSystem.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n\nSystem.out.println(&quot;What day of the month were you born?&quot;);\n\nint birthDay;\n\n    while (birthDay &gt; 31) {\n\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n        birthDay = myScanner.nextInt();\n    \n    }\n</code></pre>\n<p>This is what my code looks like as of right now ^^</p>\n<p>Now for my attempted solution:</p>\n<p>int birthDay = myScanner.nextInt();</p>\n<pre><code>    while (birthDay &gt; 31) {\n\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n        birthDay = myScanner.nextInt();\n    \n    }\n</code></pre>\n<p>This was what I attempted to fix the issue, though I'm running into the same issue again when compiling my code</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":1,"creation_date":1681436809,"post_id":76010976,"comment_id":134059898,"body_markdown":"If I understand correctly, you&#39;re asking how to remove a word and its leading/trailing comma (if there is one)?","body":"If I understand correctly, you&#39;re asking how to remove a word and its leading/trailing comma (if there is one)?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681436863,"post_id":76010976,"comment_id":134059903,"body_markdown":"Apparently, it could be trailing coma if the first word, leading comma if the last word, and either comma if an &quot;in-between&quot; word.","body":"Apparently, it could be trailing coma if the first word, leading comma if the last word, and either comma if an &quot;in-between&quot; word."},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681437092,"post_id":76010976,"comment_id":134059919,"body_markdown":"Sorry ,I didn&#39;t make the question clear.What I want to do is replace &quot;Tom,&quot;  or &quot;,Jerry&quot; in one line of code.But the position of comma is different.Is there an regular expression can use?","body":"Sorry ,I didn&#39;t make the question clear.What I want to do is replace &quot;Tom,&quot;  or &quot;,Jerry&quot; in one line of code.But the position of comma is different.Is there an regular expression can use?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681437182,"post_id":76010976,"comment_id":134059933,"body_markdown":"What have you tried? Please see the [Tour](https://stackoverflow.com/tour) and [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask)","body":"What have you tried? Please see the <a href=\"https://stackoverflow.com/tour\">Tour</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681437326,"post_id":76010976,"comment_id":134059946,"body_markdown":"You may edit the question to include that information. While you are at it, I suggest changing the title.  One possibility is &quot;Looking for Regex to replace or remove, from a String, a word and its delimiter.&quot;","body":"You may edit the question to include that information. While you are at it, I suggest changing the title.  One possibility is &quot;Looking for Regex to replace or remove, from a String, a word and its delimiter.&quot;"},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681438288,"post_id":76010976,"comment_id":134060011,"body_markdown":"OK, thanks for your suggestion.I go to the right way with your help after my first question in StackOverFlow.I value this.Thank you so much.","body":"OK, thanks for your suggestion.I go to the right way with your help after my first question in StackOverFlow.I value this.Thank you so much."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681444306,"post_id":76010976,"comment_id":134060538,"body_markdown":"If the string is `Tom` alone (so no comma, neither before nor after), do you want the empty string as result? Or something else?","body":"If the string is <code>Tom</code> alone (so no comma, neither before nor after), do you want the empty string as result? Or something else?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681445518,"post_id":76010976,"comment_id":134060667,"body_markdown":"You may use `str.replaceFirst(&quot;Tom,|,Tom|Tom&quot;, &quot;&quot;)`. This turns `Tom,Jerry,Brady` into `Jerry,Brady`, `Brady,Tom,Jerry` into `Brady,Jerry`, `Jerry,Brady,Tom`  into `Jerry,Brady` and `Tom` alone into the empty string. Assuming that the name to remove can change, build the string `Tom,|,Tom|Tom` from `name + &quot;,|,&quot; + name + &quot;|&quot; + name`.","body":"You may use <code>str.replaceFirst(&quot;Tom,|,Tom|Tom&quot;, &quot;&quot;)</code>. This turns <code>Tom,Jerry,Brady</code> into <code>Jerry,Brady</code>, <code>Brady,Tom,Jerry</code> into <code>Brady,Jerry</code>, <code>Jerry,Brady,Tom</code>  into <code>Jerry,Brady</code> and <code>Tom</code> alone into the empty string. Assuming that the name to remove can change, build the string <code>Tom,|,Tom|Tom</code> from <code>name + &quot;,|,&quot; + name + &quot;|&quot; + name</code>."}],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681437421,"post_id":76011023,"comment_id":134059957,"body_markdown":"[Try it online!](https://tio.run/##TU5NC8IwDL37K0LxsGHdD1AU9CgIgt7UQ9yqdLZrSetkqL99Zk7E5JCP9/JeSqxxXBbXtvW3k9E55AZDgDXqCh4D4PjuQ8TIpXa6AMtoso2kq8v@CEiXkH7JXfQAHxDMQOyclStF1MglYdHIDTLsYpA7ZT0usRHT3@XZESQ1EtwdFTDpJLLgjY6JkCJNf7yPSxOispm7xcyzXzRVIkhZVysQMOoVRtyO55@5kyLlDeZqYUyn90caPg@H0/9CcrJh/9lr8GrbNw)","body":"<a href=\"https://tio.run/##TU5NC8IwDL37K0LxsGHdD1AU9CgIgt7UQ9yqdLZrSetkqL99Zk7E5JCP9/JeSqxxXBbXtvW3k9E55AZDgDXqCh4D4PjuQ8TIpXa6AMtoso2kq8v@CEiXkH7JXfQAHxDMQOyclStF1MglYdHIDTLsYpA7ZT0usRHT3@XZESQ1EtwdFTDpJLLgjY6JkCJNf7yPSxOispm7xcyzXzRVIkhZVysQMOoVRtyO55@5kyLlDeZqYUyn90caPg@H0/9CcrJh/9lr8GrbNw\" rel=\"nofollow noreferrer\">Try it online!</a>"},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681437950,"post_id":76011023,"comment_id":134059988,"body_markdown":"I will try it by using Java.I will learn how to use regular expression.Thank you!","body":"I will try it by using Java.I will learn how to use regular expression.Thank you!"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437174,"creation_date":1681437174,"answer_id":76011023,"question_id":76010976,"body_markdown":"You can use `replaceAll` with a regular expression to match the word followed by a comma, with a special case for the last word where we would have to remove a leading comma.\r\n\r\n```java\r\nvar word = Pattern.quote(&quot;Tom&quot;); // in case there are special characters\r\nstr = str.replaceAll(&quot;,&quot; + word + &quot;$|\\\\b&quot; + word + &quot;,&quot;, &quot;&quot;);\r\n```","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>You can use <code>replaceAll</code> with a regular expression to match the word followed by a comma, with a special case for the last word where we would have to remove a leading comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var word = Pattern.quote(&quot;Tom&quot;); // in case there are special characters\nstr = str.replaceAll(&quot;,&quot; + word + &quot;$|\\\\b&quot; + word + &quot;,&quot;, &quot;&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681437623,"post_id":76011025,"comment_id":134059965,"body_markdown":"That works.I think your solution is the K.I.S.S way like in Unix.That&#39;s good.Thank you!","body":"That works.I think your solution is the K.I.S.S way like in Unix.That&#39;s good.Thank you!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681445639,"post_id":76011025,"comment_id":134060685,"body_markdown":"It’s a good solution IMHO. The string represents a list, so processing it as a list makes everything clearer.","body":"It’s a good solution IMHO. The string represents a list, so processing it as a list makes everything clearer."}],"tags":[],"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681437198,"creation_date":1681437198,"answer_id":76011025,"question_id":76010976,"body_markdown":"No doubt the other folks here will have a much better and simpler way of accomplishing this, but one way that is fairly basic, easy to modify, and doesn&#39;t require you to know regex/Java Streams is something like this:\r\n\r\n\t\tString  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\r\n        List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(str.split(&quot;,&quot;)));  // split the string into pieces based on the , character\r\n        list.remove(&quot;Tom&quot;);  // remove your target string from the array, if it exists at all\r\n        str = String.join(&quot;,&quot;, list);  // re-join the remaining elements of the array using the , character\r\n\r\nI don&#39;t think this will be the most performant option available to you, so depending on your use case, it may or may not be appropriate, but hopefully it at least makes sense.  ","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>No doubt the other folks here will have a much better and simpler way of accomplishing this, but one way that is fairly basic, easy to modify, and doesn't require you to know regex/Java Streams is something like this:</p>\n<pre><code>    String  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\n    List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(str.split(&quot;,&quot;)));  // split the string into pieces based on the , character\n    list.remove(&quot;Tom&quot;);  // remove your target string from the array, if it exists at all\n    str = String.join(&quot;,&quot;, list);  // re-join the remaining elements of the array using the , character\n</code></pre>\n<p>I don't think this will be the most performant option available to you, so depending on your use case, it may or may not be appropriate, but hopefully it at least makes sense.</p>\n"}],"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76011025,"answer_count":2,"score":0,"last_activity_date":1681444148,"creation_date":1681436335,"question_id":76010976,"body_markdown":"Such as \r\n```\r\nString  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\r\n```\r\nI want to remove one of the word in one function. .What I want to do is replace &quot;Tom,&quot; or &quot;,Jerry&quot; in one line of code.vBut the position of comma is different. Is there an regular expression can use?\r\n\r\nI try to write the codes like this.\r\n\r\n```\r\nstr = str.replace(&quot;Tom&quot;,&quot;&quot;);\r\n//then the result is &quot;,Jerry,Brady,Patriots,TempaBay&quot;\r\n//I have to write another line of code\r\nstr = str.substring(1);\r\n//It&#39;s Jerry turn\r\nstr = str.replace(&quot;Jerry&quot;,&quot;&quot;);\r\nstr.substring(1);\r\n```\r\n","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>Such as</p>\n<pre><code>String  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\n</code></pre>\n<p>I want to remove one of the word in one function. .What I want to do is replace &quot;Tom,&quot; or &quot;,Jerry&quot; in one line of code.vBut the position of comma is different. Is there an regular expression can use?</p>\n<p>I try to write the codes like this.</p>\n<pre><code>str = str.replace(&quot;Tom&quot;,&quot;&quot;);\n//then the result is &quot;,Jerry,Brady,Patriots,TempaBay&quot;\n//I have to write another line of code\nstr = str.substring(1);\n//It's Jerry turn\nstr = str.replace(&quot;Jerry&quot;,&quot;&quot;);\nstr.substring(1);\n</code></pre>\n"},{"tags":["java","android","methods","fragment"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681444707,"post_id":76011424,"comment_id":134060576,"body_markdown":"You can&#39;t stick methods in methods. It&#39;s as simple as that. You can stick types in methods and then stick methods in types, but you can&#39;t invoke a `main` in a method-local type, and from these snippets it does not sound like you&#39;d want to do that here. Just `main` back out, or explain what you wanted to accomplish by moving it within.","body":"You can&#39;t stick methods in methods. It&#39;s as simple as that. You can stick types in methods and then stick methods in types, but you can&#39;t invoke a <code>main</code> in a method-local type, and from these snippets it does not sound like you&#39;d want to do that here. Just <code>main</code> back out, or explain what you wanted to accomplish by moving it within."},{"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"score":0,"creation_date":1681445513,"post_id":76011424,"comment_id":134060665,"body_markdown":"thanks for answer. I&#39;m trying create method inside fragment with spinners and check boxes. Depending on values in spinners and checkboxes it will give back different values. I&#39;m using simple example of method to avoid complications. However I don&#39;t understand how to make correct syntax.","body":"thanks for answer. I&#39;m trying create method inside fragment with spinners and check boxes. Depending on values in spinners and checkboxes it will give back different values. I&#39;m using simple example of method to avoid complications. However I don&#39;t understand how to make correct syntax."}],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681443433,"creation_date":1681443433,"question_id":76011424,"body_markdown":"could you please help with suggestion? \r\nI&#39;m trying to create method inside fragment, but facing with I believe some syntax error.\r\n\r\nMy code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class PageFragment1 extends Fragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    public int addTwoInt(int a, int b)\r\n    {\r\n        sum = a + b;\r\n    }\r\n\r\n    public void main (String[] args)\r\n    {\r\n        int s = addTwoInt(1, 2);\r\n        System.out.println(&quot;Sum of two integer values :&quot;+ s);   \r\n        Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when I copy it inside OnCreate activity, parameter &quot;args&quot; becoming red\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n\r\n            ViewGroup rootView = (ViewGroup) inflater\r\n                    .inflate(R.layout.page_1, container\r\n                    \r\n                    public int addTwoInt(int a, int b)\r\n            {\r\n                sum = a + b;\r\n                return sum;\r\n            }\r\n\r\n            public void main (String[] args)\r\n            {\r\n                int s = addTwoInt(1, 2);\r\n                System.out.println(&quot;Sum of two integer values :&quot;+ s);\r\n                Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\r\n            }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAndroid Studio offers to create the variable &quot;args&quot;, but I expect that there is something simple - something wrong with the syntax or something in code that needs to be slightly adjusted.\r\nActual method that I&#39;m trying to create is more complicated with many variables that I create inside fragment, but to easiness of the code in my question I put that one basic element. But the structure of the method remains the same.\r\nAppreciate your help community.\r\n","title":"Syntax of method inside fragment","body":"<p>could you please help with suggestion?\nI'm trying to create method inside fragment, but facing with I believe some syntax error.</p>\n<p>My code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class PageFragment1 extends Fragment implements AdapterView.OnItemSelectedListener {\n\n\npublic int addTwoInt(int a, int b)\n{\n    sum = a + b;\n}\n\npublic void main (String[] args)\n{\n    int s = addTwoInt(1, 2);\n    System.out.println(\"Sum of two integer values :\"+ s);   \n    Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\n}\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But when I copy it inside OnCreate activity, parameter &quot;args&quot; becoming red</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n\n        ViewGroup rootView = (ViewGroup) inflater\n                .inflate(R.layout.page_1, container\n                \n                public int addTwoInt(int a, int b)\n        {\n            sum = a + b;\n            return sum;\n        }\n\n        public void main (String[] args)\n        {\n            int s = addTwoInt(1, 2);\n            System.out.println(\"Sum of two integer values :\"+ s);\n            Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\n        }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Android Studio offers to create the variable &quot;args&quot;, but I expect that there is something simple - something wrong with the syntax or something in code that needs to be slightly adjusted.\nActual method that I'm trying to create is more complicated with many variables that I create inside fragment, but to easiness of the code in my question I put that one basic element. But the structure of the method remains the same.\nAppreciate your help community.</p>\n"},{"tags":["java","spring-boot","zk"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681442134,"creation_date":1681441758,"answer_id":76011325,"question_id":76002826,"body_markdown":"In a `Spring boot` project, in order to configure `static files` including `images` you need to have a class that implements `WebMvcConfigurer`. Please check below example:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class StaticResourceConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            System.out.println(&quot;WebMvcConfigurer loaded...&quot;);\r\n            registry.addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/static/&quot;,&quot;classpath:/img/&quot;)\r\n            .setCachePeriod(0);\r\n    \r\n         }\r\n    }\r\n\r\n**Sample Project structure**\r\n\r\n    src\r\n    ├───main\r\n    │   ├───java\r\n    │   │   └───com\r\n    │   │       └───mypackage\r\n    │   │           │   Application.java\r\n    │   │           ├───controller\r\n    │   │           │       MyController.java\r\n    │   │           └───model\r\n    │   │                   MyMessage.java\r\n    │   └───resources\r\n    │       │   application.properties\r\n    │       └───static\r\n    │           │   index.html\r\n    │           └───img\r\n    │                   zklogo3.png\r\n    └───test\r\n        └───java\r\n            └───com\r\n                └───zetcode\r\n                    └───controller\r\n                            MyControllerTest.java\r\n\r\n\r\n\r\n\r\n\r\nThen you can simply display images like this in your `HTML` files.\r\n\r\n    &lt;img src=&quot;zklogo3.png&quot;/&gt;\r\n\r\n\r\nReference doc: [Spring WebMvcConfigurer][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\r\n\r\n\r\n","title":"Resolve background image url Zk","body":"<p>In a <code>Spring boot</code> project, in order to configure <code>static files</code> including <code>images</code> you need to have a class that implements <code>WebMvcConfigurer</code>. Please check below example:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class StaticResourceConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        System.out.println(&quot;WebMvcConfigurer loaded...&quot;);\n        registry.addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(&quot;classpath:/static/&quot;,&quot;classpath:/img/&quot;)\n        .setCachePeriod(0);\n\n     }\n}\n</code></pre>\n<p><strong>Sample Project structure</strong></p>\n<pre><code>src\n├───main\n│   ├───java\n│   │   └───com\n│   │       └───mypackage\n│   │           │   Application.java\n│   │           ├───controller\n│   │           │       MyController.java\n│   │           └───model\n│   │                   MyMessage.java\n│   └───resources\n│       │   application.properties\n│       └───static\n│           │   index.html\n│           └───img\n│                   zklogo3.png\n└───test\n    └───java\n        └───com\n            └───zetcode\n                └───controller\n                        MyControllerTest.java\n</code></pre>\n<p>Then you can simply display images like this in your <code>HTML</code> files.</p>\n<pre><code>&lt;img src=&quot;zklogo3.png&quot;/&gt;\n</code></pre>\n<p>Reference doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\" rel=\"nofollow noreferrer\">Spring WebMvcConfigurer</a></p>\n"}],"owner":{"account_id":12486830,"reputation":249,"user_id":9089791,"display_name":"Park Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681442134,"creation_date":1681371550,"question_id":76002826,"body_markdown":"I&#39;m running demo project from [ZK][1] and try to add image tag and find this problem\r\nI have two tag\r\n\r\n    1. &lt;div style=&quot;background-image: url(&#39;img/zklogo3.png&#39;);padding:0px 0px 0px 0px;&quot;&gt;\r\n    2. &lt;image src=&quot;~./img/zklogo3.png&quot; width=&quot;100px&quot;/&gt;\r\nThe image 2 can show on the screen and being resolved with this URL:\r\n\r\n     http://localhost:8080/zkres/web/6cbcf362/img/zklogo3.png\r\nbut the one in style can not resolve and return error not found, URL: http://localhost:8080/img/zklogo3.png, if I copy and append /zkres/web/6cbcf362 to the URL then it can show successfully\r\n\r\nAny one, know how to solve it?\r\n\r\n\r\n  [1]: https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar","title":"Resolve background image url Zk","body":"<p>I'm running demo project from <a href=\"https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar\" rel=\"nofollow noreferrer\">ZK</a> and try to add image tag and find this problem\nI have two tag</p>\n<pre><code>1. &lt;div style=&quot;background-image: url('img/zklogo3.png');padding:0px 0px 0px 0px;&quot;&gt;\n2. &lt;image src=&quot;~./img/zklogo3.png&quot; width=&quot;100px&quot;/&gt;\n</code></pre>\n<p>The image 2 can show on the screen and being resolved with this URL:</p>\n<pre><code> http://localhost:8080/zkres/web/6cbcf362/img/zklogo3.png\n</code></pre>\n<p>but the one in style can not resolve and return error not found, URL: http://localhost:8080/img/zklogo3.png, if I copy and append /zkres/web/6cbcf362 to the URL then it can show successfully</p>\n<p>Any one, know how to solve it?</p>\n"},{"tags":["java","hadoop","memory","mapreduce","jvm"],"answers":[{"tags":[],"owner":{"account_id":2335531,"reputation":180,"user_id":2047975,"accept_rate":100,"display_name":"Frunk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413381799,"creation_date":1413381799,"answer_id":26384541,"question_id":26382989,"body_markdown":"You can try to increase the memory allocation size by passing these Runtime Parameters.\r\n\r\nFor example:\r\n\r\n    java -Xms1024M -Xmx2048M -jar application.jar\r\n\r\n- Xmx is the maximum size\r\n- Xms is the minimum size","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>You can try to increase the memory allocation size by passing these Runtime Parameters.</p>\n\n<p>For example:</p>\n\n<pre><code>java -Xms1024M -Xmx2048M -jar application.jar\n</code></pre>\n\n<ul>\n<li>Xmx is the maximum size</li>\n<li>Xms is the minimum size</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2877558,"reputation":543,"user_id":2587178,"accept_rate":100,"display_name":"Prometheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413384510,"creation_date":1413384510,"answer_id":26385506,"question_id":26382989,"body_markdown":"There can be a container memory overflow with the parameters that you are using for the JVM\r\n\r\nCheck if the attributes:\r\n\r\n    yarn.nodemanager.resource.memory-mb\r\n    yarn.scheduler.minimum-allocation-mb\r\n    yarn.scheduler.maximum-allocation-mb\r\n\r\non yarn.xml matches the desired value.\r\n\r\nFor more memory reference, read the:\r\n\r\n[HortonWorks memory reference][1]\r\n\r\n[Similar problem][2]\r\n\r\nNote: This is for Hadoop 2.0, if you are running hadoop 1.0 check the Task attributes.\r\n\r\n\r\n  [1]: http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.0.6.0/bk_installing_manually_book/content/rpm-chap1-11.html\r\n  [2]: https://stackoverflow.com/questions/19047879/hadoop-cannot-allocate-memory-java-io-ioexception-error-12","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>There can be a container memory overflow with the parameters that you are using for the JVM</p>\n\n<p>Check if the attributes:</p>\n\n<pre><code>yarn.nodemanager.resource.memory-mb\nyarn.scheduler.minimum-allocation-mb\nyarn.scheduler.maximum-allocation-mb\n</code></pre>\n\n<p>on yarn.xml matches the desired value.</p>\n\n<p>For more memory reference, read the:</p>\n\n<p><a href=\"http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.0.6.0/bk_installing_manually_book/content/rpm-chap1-11.html\" rel=\"nofollow noreferrer\">HortonWorks memory reference</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19047879/hadoop-cannot-allocate-memory-java-io-ioexception-error-12\">Similar problem</a></p>\n\n<p>Note: This is for Hadoop 2.0, if you are running hadoop 1.0 check the Task attributes.</p>\n"},{"comments":[{"owner":{"account_id":1866281,"reputation":6799,"user_id":1689770,"accept_rate":67,"display_name":"Jonathan"},"score":0,"creation_date":1474482877,"post_id":38155358,"comment_id":66553533,"body_markdown":"A dynamic swap manager is an option: http://pqxx.org/development/swapspace/","body":"A dynamic swap manager is an option: <a href=\"http://pqxx.org/development/swapspace/\" rel=\"nofollow noreferrer\">pqxx.org/development/swapspace</a>"}],"tags":[],"owner":{"account_id":3796566,"reputation":1160,"user_id":3151462,"accept_rate":70,"display_name":"Shihao Xu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467420195,"creation_date":1467419346,"answer_id":38155358,"question_id":26382989,"body_markdown":"make sure you have `swap` space on your machine\r\n\r\n    ubuntu@VM-ubuntu:~$ free -m\r\n                 total       used       free     shared    buffers     cached\r\n    Mem:           994        928         65          0          1         48\r\n    -/+ buffers/cache:        878        115\r\n    Swap:         4095       1086       3009\r\n\r\nnotice the `Swap` line.\r\n\r\nI just encountered this problem on an Elastic Computing instance. Turned out swap space is not mounted by default.","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>make sure you have <code>swap</code> space on your machine</p>\n\n<pre><code>ubuntu@VM-ubuntu:~$ free -m\n             total       used       free     shared    buffers     cached\nMem:           994        928         65          0          1         48\n-/+ buffers/cache:        878        115\nSwap:         4095       1086       3009\n</code></pre>\n\n<p>notice the <code>Swap</code> line.</p>\n\n<p>I just encountered this problem on an Elastic Computing instance. Turned out swap space is not mounted by default.</p>\n"},{"tags":[],"owner":{"account_id":20335927,"reputation":1,"user_id":14916640,"display_name":"Styz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681441534,"creation_date":1681441534,"answer_id":76011311,"question_id":26382989,"body_markdown":"for me, the available memory is less than the jvm required memory which result in &quot;There is insufficient memory for the Java Runtime Environment to continue&quot;.\r\n\r\ncheck your available memory:\r\n\r\n    free -h\r\nstop some useless process and get more memory.","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>for me, the available memory is less than the jvm required memory which result in &quot;There is insufficient memory for the Java Runtime Environment to continue&quot;.</p>\n<p>check your available memory:</p>\n<pre><code>free -h\n</code></pre>\n<p>stop some useless process and get more memory.</p>\n"}],"owner":{"account_id":4974185,"reputation":453,"user_id":4001057,"accept_rate":12,"display_name":"Sushmita Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14056,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1681441534,"creation_date":1413377119,"question_id":26382989,"body_markdown":"I am running Hadoop map reduce job on a cluster. \nI am getting this error. \n\n\n\n&gt; OpenJDK Client VM warning: INFO: os::commit_memory(0x79f20000, 104861696, 0) failed; error=&#39;Cannot allocate memory&#39; (errno=12) \n&gt;\n&gt; There is insufficient memory for the Java Runtime Environment to continue. \n&gt;\n&gt; Native memory allocation (malloc) failed to allocate 104861696 bytes for committing reserved memory.\n\nwhat to do ?","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>I am running Hadoop map reduce job on a cluster.\nI am getting this error.</p>\n<blockquote>\n<p>OpenJDK Client VM warning: INFO: os::commit_memory(0x79f20000, 104861696, 0) failed; error='Cannot allocate memory' (errno=12)</p>\n<p>There is insufficient memory for the Java Runtime Environment to continue.</p>\n<p>Native memory allocation (malloc) failed to allocate 104861696 bytes for committing reserved memory.</p>\n</blockquote>\n<p>what to do ?</p>\n"},{"tags":["java","regex","string","split"],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681438880,"post_id":76011138,"comment_id":134060056,"body_markdown":"[Try it online!](https://tio.run/##ZYxBS8NAEIXv@RVjTruCC0UiQltL7xsQe7QKY5OGiZtk2ZkEi/a3xw0NKvguA@/75tU44E1dvI8jNb4LAnUsTC/kzPUy@deFsio/JuL7N0cHODhkhhyphc8EYuaeBSWeoaMCmkjVTgK11fMLYKhYz/KUAQNQ63u5GLCGdGHz2yx7tHdPmb1Plz@qJZbVRXuAgo7HKG9DwBMb5AmqP0OGvSNRqdqsrl612qz3@@LL5jrV@ndxd2IpG9P1Ynx8EteqaXc2zsl5HL8B)","body":"<a href=\"https://tio.run/##ZYxBS8NAEIXv@RVjTruCC0UiQltL7xsQe7QKY5OGiZtk2ZkEi/a3xw0NKvguA@/75tU44E1dvI8jNb4LAnUsTC/kzPUy@deFsio/JuL7N0cHODhkhhyphc8EYuaeBSWeoaMCmkjVTgK11fMLYKhYz/KUAQNQ63u5GLCGdGHz2yx7tHdPmb1Plz@qJZbVRXuAgo7HKG9DwBMb5AmqP0OGvSNRqdqsrl612qz3@@LL5jrV@ndxd2IpG9P1Ynx8EteqaXc2zsl5HL8B\" rel=\"nofollow noreferrer\">Try it online!</a>"},{"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"score":0,"creation_date":1681440385,"post_id":76011138,"comment_id":134060206,"body_markdown":"Just one more thing, if i also need to add LM-6 as my special case, how should i do it. adding &#39;|LM-6&#39;  splits it to [&#39;LM-&#39;, 6]","body":"Just one more thing, if i also need to add LM-6 as my special case, how should i do it. adding &#39;|LM-6&#39;  splits it to [&#39;LM-&#39;, 6]"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681440919,"post_id":76011138,"comment_id":134060260,"body_markdown":"@jasmeet You could do something like this: `&quot;(?&lt;!^)(?=((?&lt;!LM-)|(?!6))\\\\d|LM)&quot;`","body":"@jasmeet You could do something like this: <code>&quot;(?&lt;!^)(?=((?&lt;!LM-)|(?!6))\\\\d|LM)&quot;</code>"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681438777,"creation_date":1681438777,"answer_id":76011138,"question_id":76011067,"body_markdown":"The or part with `|` should be put inside the lookahead and there should not be quotes around `LM`.\r\n\r\n```java\r\ninputString.split(&quot;(?&lt;!^)(?=\\\\d|LM)&quot;)\r\n```","title":"Java Regex with OR condition to Split String","body":"<p>The or part with <code>|</code> should be put inside the lookahead and there should not be quotes around <code>LM</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>inputString.split(&quot;(?&lt;!^)(?=\\\\d|LM)&quot;)\n</code></pre>\n"}],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76011138,"answer_count":1,"score":0,"last_activity_date":1681441046,"creation_date":1681437815,"question_id":76011067,"body_markdown":"I need to build a regex to Split my string starting with a number or LM(exact match as it is a special case)\r\n\r\n    For example - \r\n    Input : 1LM355PL6R5L8\r\n    Output : [1,LM,3,5,5PL,6R,5L,8]\r\n    \r\n    Input : 349AB8LM7Y4II\r\n    Output : [3,4,9AB,8,LM,7Y,4II]\r\n\r\nFor numbers, i&#39;ve build this regex `(?&lt;!^)(?=\\\\d)` and it seems to be working fine.\r\nNow i&#39;m confused how to add this exact match of &#39;LM&#39;. It can be at any position\r\n\r\n    List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)&quot;));\r\n\r\nActual Output with above code\r\n    \r\n    Output : [1LM,3,5,5PL,6R,5L,8]\r\n        \r\n    Output : [3,4,9AB,8LM,7Y,4II]\r\n\r\n\r\nI&#39;m trying to put an OR condition in my regex and make strict match for LM but not getting correct results from it.\r\n\r\n    List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)|(&#39;LM&#39;)&quot;));\r\n\r\n","title":"Java Regex with OR condition to Split String","body":"<p>I need to build a regex to Split my string starting with a number or LM(exact match as it is a special case)</p>\n<pre><code>For example - \nInput : 1LM355PL6R5L8\nOutput : [1,LM,3,5,5PL,6R,5L,8]\n\nInput : 349AB8LM7Y4II\nOutput : [3,4,9AB,8,LM,7Y,4II]\n</code></pre>\n<p>For numbers, i've build this regex <code>(?&lt;!^)(?=\\\\d)</code> and it seems to be working fine.\nNow i'm confused how to add this exact match of 'LM'. It can be at any position</p>\n<pre><code>List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)&quot;));\n</code></pre>\n<p>Actual Output with above code</p>\n<pre><code>Output : [1LM,3,5,5PL,6R,5L,8]\n    \nOutput : [3,4,9AB,8LM,7Y,4II]\n</code></pre>\n<p>I'm trying to put an OR condition in my regex and make strict match for LM but not getting correct results from it.</p>\n<pre><code>List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)|('LM')&quot;));\n</code></pre>\n"},{"tags":["java","ios","android-studio","android-ndk","ndk-build"],"owner":{"account_id":18855528,"reputation":83,"user_id":13753575,"display_name":"Joanne Chang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681440935,"creation_date":1681440935,"question_id":76011262,"body_markdown":"Run the following command in Terminal :\r\n\r\n```user@UserMacBook-Pro androidStudio_test % java -jar project/libs/javacpp.jar -cp project/libs/javacpp.jar:project/build/intermediates/javac/debug/classes com.project.mobile.jni.* -Dplatform.name=android-arm -d project/src/main/jni/proj/src/bin/sdkAndroid -cpp```\r\n\r\nGet error message:\r\n\r\n``` zsh: no matches found: com.project.mobile.jni.*  ```\r\n\r\nI have checked the folder path **com.project.mobile.jni.***, it&#39;s correct.\r\n","title":"iOS: NDK build can not found the matched jni files","body":"<p>Run the following command in Terminal :</p>\n<p><code>user@UserMacBook-Pro androidStudio_test % java -jar project/libs/javacpp.jar -cp project/libs/javacpp.jar:project/build/intermediates/javac/debug/classes com.project.mobile.jni.* -Dplatform.name=android-arm -d project/src/main/jni/proj/src/bin/sdkAndroid -cpp</code></p>\n<p>Get error message:</p>\n<p><code>zsh: no matches found: com.project.mobile.jni.* </code></p>\n<p>I have checked the folder path <strong>com.project.mobile.jni.</strong>*, it's correct.</p>\n"},{"tags":["java","spring-boot","logback"],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681439498,"creation_date":1681439498,"question_id":76011182,"body_markdown":"`springboot 2.1.3`\r\n\r\nI set logback-spring.xml, \r\n```xml\r\n&lt;springProperty scope=&quot;context&quot; name=&quot;logPath&quot;, source=&quot;myapp.log.path&quot; defaultValue=&quot;/home/logs/myappLog&quot;&gt;&lt;/springProperty&gt;\r\n&lt;springProperty scope=&quot;context&quot; name=&quot;varname&quot;, source=&quot;spring.application.name&quot; defaultValue=&quot;abc&quot;&gt;&lt;/springProperty&gt;\r\n\r\n&lt;contextName&gt;${varname}&lt;/contextName&gt;\r\n```\r\napplication.properties\r\n```text\r\nspring.application.name=myproject\r\n```\r\n\r\nI got error\r\n\r\n```java\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected:\r\nERROR in ch.qos.logback.classic.joran.action.ContextNameAction - Failed to rename context [abc] as [myproject] java.lang.IllegalStateException: Context has been already given a name\r\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\r\n...\r\n...\r\n\r\n```\r\n\r\nI search some articles, [springboot-with-logback-creating-log-path-is-undefined-folder](https://stackoverflow.com/questions/25251983/springboot-with-logback-creating-log-path-is-undefined-folder), [LOG_FILE_IS_UNDEFINED log file is being created in boot 1.4.5](https://github.com/spring-projects/spring-boot/issues/8675), but I did not fine the solution.","title":"logback failed to rename context [varname_IS_UNDEFINED] as [myproject]","body":"<p><code>springboot 2.1.3</code></p>\n<p>I set logback-spring.xml,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProperty scope=&quot;context&quot; name=&quot;logPath&quot;, source=&quot;myapp.log.path&quot; defaultValue=&quot;/home/logs/myappLog&quot;&gt;&lt;/springProperty&gt;\n&lt;springProperty scope=&quot;context&quot; name=&quot;varname&quot;, source=&quot;spring.application.name&quot; defaultValue=&quot;abc&quot;&gt;&lt;/springProperty&gt;\n\n&lt;contextName&gt;${varname}&lt;/contextName&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.application.name=myproject\n</code></pre>\n<p>I got error</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected:\nERROR in ch.qos.logback.classic.joran.action.ContextNameAction - Failed to rename context [abc] as [myproject] java.lang.IllegalStateException: Context has been already given a name\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\n...\n...\n\n</code></pre>\n<p>I search some articles, <a href=\"https://stackoverflow.com/questions/25251983/springboot-with-logback-creating-log-path-is-undefined-folder\">springboot-with-logback-creating-log-path-is-undefined-folder</a>, <a href=\"https://github.com/spring-projects/spring-boot/issues/8675\" rel=\"nofollow noreferrer\">LOG_FILE_IS_UNDEFINED log file is being created in boot 1.4.5</a>, but I did not fine the solution.</p>\n"},{"tags":["java","interface","equals","comparable"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681456026,"post_id":76011181,"comment_id":134062071,"body_markdown":"Your answer looks perfect to me. Try adding the @Override annotation to the public boolean equals(Object other) method.","body":"Your answer looks perfect to me. Try adding the @Override annotation to the public boolean equals(Object other) method."}],"owner":{"account_id":18067205,"reputation":1,"user_id":21638885,"display_name":"Sumlina Alam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681439490,"creation_date":1681439490,"question_id":76011181,"body_markdown":"I am trying to implement a Comparable interface in a Fraction class that I coded for an exercise problem in CodeHS. The objective of the code is to compare two fractions and determine whether they are the same or not. However, when I check my code, it says that I haven&#39;t implemented &#39;.equals&#39; which I am supposed to implement. I added a equals method in my code but I don&#39;t know where I can put in &#39;.equals&#39; anywhere else.\r\n\r\nHere&#39;s my assignment description:\r\n\r\nIn this exercise we are going to extend the Fraction class to have it implement the Comparable&lt;Fraction&gt; interface. To do this you need to implement the compareTo method:\r\n\r\npublic int compareTo(Fraction other)\r\nIt is not required to implement the equals method to implement the Comparable&lt;Fraction&gt; interface, but we will implement that one here as well:\r\n\r\npublic boolean equals(Object other)\r\nequals should return true only if the Object other is an instanceof the Fraction class, AND the result of calling compareTo on other is 0.\r\n\r\nMy code:\r\n```\r\npublic class Fraction implements Comparable&lt;Fraction&gt;\r\n{\r\n    private int num;\r\n    private int den;\r\n        \r\n    public Fraction(int numerator, int denominator)\r\n    {\r\n        num = numerator;\r\n        den = denominator;\r\n    }\r\n    \r\n    public int compareTo(Fraction other)\r\n    {\r\n        int num2 = other.getNumerator(); //          1\r\n        int den2 = other.getDenominator(); //        4\r\n        int diff;\r\n        System.out.println(den - den2);\r\n        \r\n       \r\n        if ((den % den2 == 0) &amp;&amp; (den - den2 != 0))\r\n        {\r\n            num2 *= (den / den2);\r\n            \r\n            diff = num - num2;\r\n            return diff;\r\n        }\r\n        else if ((den2 % den == 0) &amp;&amp; (den - den2 != 0))\r\n        {\r\n            num *= (den2 / den);\r\n            \r\n            diff = num - num2;\r\n            return diff;\r\n        }\r\n        else if ((den % den2 == 0) &amp;&amp; (den - den2 == 0))\r\n        {\r\n            diff = 0;\r\n            return diff;\r\n        }\r\n        else\r\n        {\r\n            diff = (num * den2) - (num2 * den);\r\n            System.out.println(diff);\r\n            return diff;\r\n        }\r\n        \r\n    }\r\n    \r\n    public boolean equals(Object other)\r\n    {\r\n        return other instanceof Fraction &amp;&amp; compareTo((Fraction)other) == 0;\r\n    }\r\n    \r\n    public int getNumerator() {\r\n        return num;\r\n    }\r\n    \r\n    public int getDenominator() {\r\n        return den;\r\n    }\r\n    \r\n    public void setNumerator(int x) {\r\n        num = x;\r\n    }\r\n    \r\n    public void setDenominator(int x) {\r\n        den = x;\r\n    }\r\n    \r\n    \r\n    public String toString() {\r\n        return num + &quot;/&quot; + den;\r\n    }\r\n\r\n}\r\n```\r\n\r\n[The assignment description](https://i.stack.imgur.com/0FBP5.jpg)\r\n[My test cases](https://i.stack.imgur.com/ZxKO4.jpg)\r\n\r\nI tried to replace the equal operator but my code wouldn&#39;t compile. My code is running fine and the comparing function is working; it&#39;s just that in order to fulfill all the assignment&#39;s requirements, I have to implement &#39;.equals&#39;. I assumed implementing &#39;.equals&#39; was adding the equals method so I don&#39;t really know where to go from here.","title":"4.15.5 Fraction is Comparable Java CodeHS","body":"<p>I am trying to implement a Comparable interface in a Fraction class that I coded for an exercise problem in CodeHS. The objective of the code is to compare two fractions and determine whether they are the same or not. However, when I check my code, it says that I haven't implemented '.equals' which I am supposed to implement. I added a equals method in my code but I don't know where I can put in '.equals' anywhere else.</p>\n<p>Here's my assignment description:</p>\n<p>In this exercise we are going to extend the Fraction class to have it implement the Comparable interface. To do this you need to implement the compareTo method:</p>\n<p>public int compareTo(Fraction other)\nIt is not required to implement the equals method to implement the Comparable interface, but we will implement that one here as well:</p>\n<p>public boolean equals(Object other)\nequals should return true only if the Object other is an instanceof the Fraction class, AND the result of calling compareTo on other is 0.</p>\n<p>My code:</p>\n<pre><code>public class Fraction implements Comparable&lt;Fraction&gt;\n{\n    private int num;\n    private int den;\n        \n    public Fraction(int numerator, int denominator)\n    {\n        num = numerator;\n        den = denominator;\n    }\n    \n    public int compareTo(Fraction other)\n    {\n        int num2 = other.getNumerator(); //          1\n        int den2 = other.getDenominator(); //        4\n        int diff;\n        System.out.println(den - den2);\n        \n       \n        if ((den % den2 == 0) &amp;&amp; (den - den2 != 0))\n        {\n            num2 *= (den / den2);\n            \n            diff = num - num2;\n            return diff;\n        }\n        else if ((den2 % den == 0) &amp;&amp; (den - den2 != 0))\n        {\n            num *= (den2 / den);\n            \n            diff = num - num2;\n            return diff;\n        }\n        else if ((den % den2 == 0) &amp;&amp; (den - den2 == 0))\n        {\n            diff = 0;\n            return diff;\n        }\n        else\n        {\n            diff = (num * den2) - (num2 * den);\n            System.out.println(diff);\n            return diff;\n        }\n        \n    }\n    \n    public boolean equals(Object other)\n    {\n        return other instanceof Fraction &amp;&amp; compareTo((Fraction)other) == 0;\n    }\n    \n    public int getNumerator() {\n        return num;\n    }\n    \n    public int getDenominator() {\n        return den;\n    }\n    \n    public void setNumerator(int x) {\n        num = x;\n    }\n    \n    public void setDenominator(int x) {\n        den = x;\n    }\n    \n    \n    public String toString() {\n        return num + &quot;/&quot; + den;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0FBP5.jpg\" rel=\"nofollow noreferrer\">The assignment description</a>\n<a href=\"https://i.stack.imgur.com/ZxKO4.jpg\" rel=\"nofollow noreferrer\">My test cases</a></p>\n<p>I tried to replace the equal operator but my code wouldn't compile. My code is running fine and the comparing function is working; it's just that in order to fulfill all the assignment's requirements, I have to implement '.equals'. I assumed implementing '.equals' was adding the equals method so I don't really know where to go from here.</p>\n"},{"tags":["java","maven","apache-flink","amazon-kinesis","pyflink"],"comments":[{"owner":{"account_id":1369965,"reputation":7489,"user_id":1305461,"display_name":"felipe"},"score":0,"creation_date":1682085322,"post_id":76000492,"comment_id":134164719,"body_markdown":"Does this answer your question? [Deploy a Python Flink application on AWS Kinesis](https://stackoverflow.com/questions/71271291/deploy-a-python-flink-application-on-aws-kinesis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71271291/deploy-a-python-flink-application-on-aws-kinesis\">Deploy a Python Flink application on AWS Kinesis</a>"}],"answers":[{"tags":[],"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681439461,"creation_date":1681439461,"answer_id":76011177,"question_id":76000492,"body_markdown":"There are many ways to create this fat (combined) jar. I recommend using the [Apache Maven shade plugin][1].\r\n\r\nThis is the basic Maven configuration to construct the fat Jar.\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;!-- Add your dependencies here --&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- The maven-shade plugin creates a fat jar that contains all\r\n                  dependencies. --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;                       &lt;shadedClassifierName&gt;combined&lt;/shadedClassifierName&gt; \r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nSince you are a Python developer, I am assuming you are not familiar with Maven projects. Hence, I have created an open source project with installation instructions that you can use for constructing your fat jar. \r\n\r\nhttps://github.com/shankarps/FatJarMaker\r\n\r\nIf you face issues, please report an issue on the GitHub project.\r\n\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/index.html","title":"How to make fat jar in AWS KDA Flink Application?","body":"<p>There are many ways to create this fat (combined) jar. I recommend using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"nofollow noreferrer\">Apache Maven shade plugin</a>.</p>\n<p>This is the basic Maven configuration to construct the fat Jar.</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;!-- Add your dependencies here --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- The maven-shade plugin creates a fat jar that contains all\n              dependencies. --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;                       &lt;shadedClassifierName&gt;combined&lt;/shadedClassifierName&gt; \n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Since you are a Python developer, I am assuming you are not familiar with Maven projects. Hence, I have created an open source project with installation instructions that you can use for constructing your fat jar.</p>\n<p><a href=\"https://github.com/shankarps/FatJarMaker\" rel=\"nofollow noreferrer\">https://github.com/shankarps/FatJarMaker</a></p>\n<p>If you face issues, please report an issue on the GitHub project.</p>\n"}],"owner":{"account_id":5538812,"reputation":388,"user_id":4396196,"accept_rate":50,"display_name":"piby180"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681439461,"creation_date":1681341116,"question_id":76000492,"body_markdown":"I need the following jar dependencies for my pyflink application. \r\n\r\n 1. flink-s3-fs-hadoop-1.15.2.jar\r\n 2. flink-sql-parquet-1.15.2.jar\r\n 3. flink-s3-fs-presto-1.15.2.jar\r\n\r\nI want to package and deploy it to AWS Kinesis Data Analytics. AWS KDA needs one single fat jar for all the dependencies as described [here][1]\r\n\r\nAs a python developer, I am not much familiar how to package them. Any hints on how to create this fat jar from multiple jar dependencies?\r\n\r\n\r\n  [1]: https://github.com/aws-samples/pyflink-getting-started/tree/main/packaging#jar-dependencies","title":"How to make fat jar in AWS KDA Flink Application?","body":"<p>I need the following jar dependencies for my pyflink application.</p>\n<ol>\n<li>flink-s3-fs-hadoop-1.15.2.jar</li>\n<li>flink-sql-parquet-1.15.2.jar</li>\n<li>flink-s3-fs-presto-1.15.2.jar</li>\n</ol>\n<p>I want to package and deploy it to AWS Kinesis Data Analytics. AWS KDA needs one single fat jar for all the dependencies as described <a href=\"https://github.com/aws-samples/pyflink-getting-started/tree/main/packaging#jar-dependencies\" rel=\"nofollow noreferrer\">here</a></p>\n<p>As a python developer, I am not much familiar how to package them. Any hints on how to create this fat jar from multiple jar dependencies?</p>\n"},{"tags":["java","json","websocket","esp8266"],"answers":[{"tags":[],"owner":{"account_id":27944726,"reputation":16,"user_id":21339953,"display_name":"Sandiorl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681439419,"creation_date":1681439419,"answer_id":76011175,"question_id":76008691,"body_markdown":"You need to update the --box-color property value using the received RGB values from the WebSocket message. Change the line:\r\n\r\n    root.style.setProperty(&#39;--box-color&#39;, &#39;120, 120, 0&#39;);\r\n\r\nto:\r\n```\r\nroot.style.setProperty(&#39;--box-color&#39;, `${obj.Rvalue}, ${obj.Gvalue}, ${obj.Bvalue}`);\r\n```\r\nThis will set the --box-color property to the received RGB values in the format &#39;Rvalue, Gvalue, Bvalue&#39;.\r\n\r\nFor more information on setting CSS variables using JavaScript, refer to this link: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty","title":"Can&#39;t change value of box storing color in real-time","body":"<p>You need to update the --box-color property value using the received RGB values from the WebSocket message. Change the line:</p>\n<pre><code>root.style.setProperty('--box-color', '120, 120, 0');\n</code></pre>\n<p>to:</p>\n<pre><code>root.style.setProperty('--box-color', `${obj.Rvalue}, ${obj.Gvalue}, ${obj.Bvalue}`);\n</code></pre>\n<p>This will set the --box-color property to the received RGB values in the format 'Rvalue, Gvalue, Bvalue'.</p>\n<p>For more information on setting CSS variables using JavaScript, refer to this link: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty</a></p>\n"}],"owner":{"account_id":28297352,"reputation":13,"user_id":21636596,"display_name":"krakosky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011175,"answer_count":1,"score":1,"last_activity_date":1681439419,"creation_date":1681410288,"question_id":76008691,"body_markdown":"I have a problem with the project on ESP8266. I use a color sensor that collects RGB values and sends them via WebSockets to a server created on ESP, the values pass normally and display on the website in real time. I also wanted to add functionality so that the resulting color appears in the color box. Unfortunately, I can&#39;t get this, I have searched all I could.\r\n[This is how it looks, this olive-green color is permanently assigned rgb(120, 120, 0)](https://i.stack.imgur.com/sGMvi.png)\r\n\r\nThis is code I use for this:\r\n\r\n```\r\nwebsock.onmessage=function(event)\r\n        {\r\n          var obj = JSON.parse(event.data);\r\n                    \r\n          document.getElementById(&#39;Rvalue&#39;).innerHTML = obj.Rvalue;\r\n          document.getElementById(&#39;Gvalue&#39;).innerHTML = obj.Gvalue;\r\n          document.getElementById(&#39;Bvalue&#39;).innerHTML = obj.Bvalue;\r\n\r\n          const root = document.documentElement;\r\n          root.style.setProperty(&#39;--box-color&#39;, &#39;120, 120, 0&#39;);\r\n        }\r\n      }\r\n\r\n      window.onload = function(event)\r\n      {\r\n        InitWebSocket();\r\n      }\r\n```\r\n\r\nI want to change this line: root.style.setProperty(&#39;--box-color&#39;, &#39;120, 120, 0&#39;); to look like this and work if it is possible.\r\nroot.style.setProperty(&#39;--box-color&#39;, &#39;Rvalue, Bvalue, Gvalue&#39;);\r\n\r\nI also used this code to send data to server via WebSocket. Now I have random values, but later I want to attach it to the sensor.\r\n\r\n\r\n```\r\nunsigned long now = millis();\r\n  if ((unsigned long)(now - previousMillis) &gt; interval) \r\n  { \r\n    String jsonString = &quot;&quot;;\r\n    StaticJsonDocument&lt;200&gt; doc;\r\n    JsonObject object = doc.to&lt;JsonObject&gt;();\r\n    object[&quot;Rvalue&quot;] = random(100);\r\n    object[&quot;Gvalue&quot;] = random(100);\r\n    object[&quot;Bvalue&quot;] = random(100);\r\n    serializeJson(doc, jsonString);\r\n    Serial.println(jsonString);\r\n    webSocket.broadcastTXT(jsonString);\r\n    \r\n    previousMillis = now;\r\n  }\r\n```\r\n\r\nI thought it was a problem with the fact that RGB values are string not INT.\r\n\r\n\r\n\r\nI tried to convert string into INT values in different ways, e.g.: \r\nint Rvalue_int = Integer.valueOf((String) &quot;Rvalue&quot;); \r\nor \r\nint Rvalue_int = jsonObj.get(&quot;Rvalue&quot;).asInt(); but this blocks sending RGB values","title":"Can&#39;t change value of box storing color in real-time","body":"<p>I have a problem with the project on ESP8266. I use a color sensor that collects RGB values and sends them via WebSockets to a server created on ESP, the values pass normally and display on the website in real time. I also wanted to add functionality so that the resulting color appears in the color box. Unfortunately, I can't get this, I have searched all I could.\n<a href=\"https://i.stack.imgur.com/sGMvi.png\" rel=\"nofollow noreferrer\">This is how it looks, this olive-green color is permanently assigned rgb(120, 120, 0)</a></p>\n<p>This is code I use for this:</p>\n<pre><code>websock.onmessage=function(event)\n        {\n          var obj = JSON.parse(event.data);\n                    \n          document.getElementById('Rvalue').innerHTML = obj.Rvalue;\n          document.getElementById('Gvalue').innerHTML = obj.Gvalue;\n          document.getElementById('Bvalue').innerHTML = obj.Bvalue;\n\n          const root = document.documentElement;\n          root.style.setProperty('--box-color', '120, 120, 0');\n        }\n      }\n\n      window.onload = function(event)\n      {\n        InitWebSocket();\n      }\n</code></pre>\n<p>I want to change this line: root.style.setProperty('--box-color', '120, 120, 0'); to look like this and work if it is possible.\nroot.style.setProperty('--box-color', 'Rvalue, Bvalue, Gvalue');</p>\n<p>I also used this code to send data to server via WebSocket. Now I have random values, but later I want to attach it to the sensor.</p>\n<pre><code>unsigned long now = millis();\n  if ((unsigned long)(now - previousMillis) &gt; interval) \n  { \n    String jsonString = &quot;&quot;;\n    StaticJsonDocument&lt;200&gt; doc;\n    JsonObject object = doc.to&lt;JsonObject&gt;();\n    object[&quot;Rvalue&quot;] = random(100);\n    object[&quot;Gvalue&quot;] = random(100);\n    object[&quot;Bvalue&quot;] = random(100);\n    serializeJson(doc, jsonString);\n    Serial.println(jsonString);\n    webSocket.broadcastTXT(jsonString);\n    \n    previousMillis = now;\n  }\n</code></pre>\n<p>I thought it was a problem with the fact that RGB values are string not INT.</p>\n<p>I tried to convert string into INT values in different ways, e.g.:\nint Rvalue_int = Integer.valueOf((String) &quot;Rvalue&quot;);\nor\nint Rvalue_int = jsonObj.get(&quot;Rvalue&quot;).asInt(); but this blocks sending RGB values</p>\n"},{"tags":["java","while-loop","try-catch","user-input"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1681439072,"post_id":76011136,"comment_id":134060069,"body_markdown":"If `nextInt()` causes an exception, the token is not consumed. Say I enter &quot;20A&quot;. which isn&#39;t a number. Then the `input.next()` in your &#39;would you like to try agian?&#39; prompt immediately returns with `20A`. If you want to ditch it, call `input.next();` without doing anything with it to &#39;consume&#39; the invalid token.","body":"If <code>nextInt()</code> causes an exception, the token is not consumed. Say I enter &quot;20A&quot;. which isn&#39;t a number. Then the <code>input.next()</code> in your &#39;would you like to try agian?&#39; prompt immediately returns with <code>20A</code>. If you want to ditch it, call <code>input.next();</code> without doing anything with it to &#39;consume&#39; the invalid token."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681439192,"post_id":76011136,"comment_id":134060087,"body_markdown":"You could also move your &quot;yes/no&quot; prompt outside the `try-catch` block, so you don&#39;t need to repeat the code","body":"You could also move your &quot;yes/no&quot; prompt outside the <code>try-catch</code> block, so you don&#39;t need to repeat the code"}],"owner":{"account_id":28299919,"reputation":1,"user_id":21638740,"display_name":"JVG_2002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681439104,"answer_count":0,"score":0,"last_activity_date":1681438741,"creation_date":1681438741,"question_id":76011136,"body_markdown":"Simple program prompts user to enter array size, then subsequently enter values.Then display sum, average,sum of odd and even numbers, highest and lowest number then displays Y/N try again prompt to restart or exit program. Try-catch for exceptions and Y/N try again prompt to restart or exit program.\r\n\r\n    import java.util.*;\r\n    public class oneDarray {\r\n    public static void main(String[]args){\r\n        Scanner input = new Scanner(System.in);\r\n        float sum = 0,ave,oddsum=0,evesum=0,highnum=0,lownum=0;\r\n        boolean prog=true;\r\n            while(prog==true){\r\n                try{\r\n                System.out.println(&quot;Enter size of array&quot;);\r\n                int arrSize = input.nextInt();\r\n                if(arrSize&gt;0 &amp;&amp; arrSize&lt;=25){\r\n                     System.out.println(&quot;Enter array elements&quot;);\r\n                     float numbers[] = new float [arrSize];\r\n                    for(int i=0; i&lt;numbers.length;i++){\r\n                    numbers[i] = input.nextFloat();\r\n                    sum = sum + numbers[i];\r\n                if(numbers[i]==0){\r\n                    highnum=numbers[i];\r\n                    lownum=numbers[i];\r\n                }\r\n                if(numbers[i]%2==0){\r\n                    evesum=evesum+numbers[i];\r\n                }\r\n                if(numbers[i]%2!=0){\r\n                   oddsum=oddsum+numbers[i];\r\n                }\r\n                if(i==0){\r\n                    lownum=numbers[i];\r\n                    highnum=numbers[i];\r\n                }\r\n                if(numbers[i]&lt;lownum)\r\n                    lownum=numbers[i];\r\n                else if(numbers[i]&gt;highnum)\r\n                    highnum=numbers[i];      \r\n        }\r\n            ave= sum/numbers.length;\r\n            System.out.println(&quot;The sum: &quot;+sum);\r\n            System.out.println(&quot;The average &quot;+ave);\r\n            System.out.println(&quot;odd sum &quot;+oddsum);\r\n            System.out.println(&quot;even sum &quot;+evesum);\r\n            System.out.println(&quot;highest num &quot;+highnum);\r\n            System.out.println(&quot;lowest num &quot;+lownum);\r\n            highnum=0;\r\n            lownum=0;\r\n            sum=0;\r\n            ave=0;\r\n            oddsum=0;\r\n            evesum=0;\r\n        }\r\n        else{\r\n            System.out.println(&quot;Invalid input&quot;);\r\n        }\r\n            System.out.println(&quot;Would you like to try again? Y/N&quot;);\r\n            char YN = input.next().charAt(0);\r\n            if(YN==&#39;Y&#39;||YN==&#39;y&#39;){\r\n            prog=true;}\r\n            else if(YN==&#39;N&#39;||YN==&#39;n&#39;){\r\n            prog=false;\r\n            System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\r\n            }\r\n    }catch(InputMismatchException ime){\r\n        System.out.println(&quot;Invalid input&quot;);\r\n        System.out.println(&quot;Would you like to try again? Y/N&quot;);\r\n            char YN = input.next().charAt(0);\r\n            if(YN==&#39;Y&#39;||YN==&#39;y&#39;){\r\n            prog=true;}\r\n            else if(YN==&#39;N&#39;||YN==&#39;n&#39;){\r\n            prog=false;\r\n            System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\r\n            }\r\n            }\r\n        }\r\n        }\r\n    }\r\n\r\nCopy pasted contents of try again prompt in catch, expected to answer Y/N prompt. display but skips prompt entirely and loops to start of program.","title":"Java try-catch Y/N input skipped, restart program instead","body":"<p>Simple program prompts user to enter array size, then subsequently enter values.Then display sum, average,sum of odd and even numbers, highest and lowest number then displays Y/N try again prompt to restart or exit program. Try-catch for exceptions and Y/N try again prompt to restart or exit program.</p>\n<pre><code>import java.util.*;\npublic class oneDarray {\npublic static void main(String[]args){\n    Scanner input = new Scanner(System.in);\n    float sum = 0,ave,oddsum=0,evesum=0,highnum=0,lownum=0;\n    boolean prog=true;\n        while(prog==true){\n            try{\n            System.out.println(&quot;Enter size of array&quot;);\n            int arrSize = input.nextInt();\n            if(arrSize&gt;0 &amp;&amp; arrSize&lt;=25){\n                 System.out.println(&quot;Enter array elements&quot;);\n                 float numbers[] = new float [arrSize];\n                for(int i=0; i&lt;numbers.length;i++){\n                numbers[i] = input.nextFloat();\n                sum = sum + numbers[i];\n            if(numbers[i]==0){\n                highnum=numbers[i];\n                lownum=numbers[i];\n            }\n            if(numbers[i]%2==0){\n                evesum=evesum+numbers[i];\n            }\n            if(numbers[i]%2!=0){\n               oddsum=oddsum+numbers[i];\n            }\n            if(i==0){\n                lownum=numbers[i];\n                highnum=numbers[i];\n            }\n            if(numbers[i]&lt;lownum)\n                lownum=numbers[i];\n            else if(numbers[i]&gt;highnum)\n                highnum=numbers[i];      \n    }\n        ave= sum/numbers.length;\n        System.out.println(&quot;The sum: &quot;+sum);\n        System.out.println(&quot;The average &quot;+ave);\n        System.out.println(&quot;odd sum &quot;+oddsum);\n        System.out.println(&quot;even sum &quot;+evesum);\n        System.out.println(&quot;highest num &quot;+highnum);\n        System.out.println(&quot;lowest num &quot;+lownum);\n        highnum=0;\n        lownum=0;\n        sum=0;\n        ave=0;\n        oddsum=0;\n        evesum=0;\n    }\n    else{\n        System.out.println(&quot;Invalid input&quot;);\n    }\n        System.out.println(&quot;Would you like to try again? Y/N&quot;);\n        char YN = input.next().charAt(0);\n        if(YN=='Y'||YN=='y'){\n        prog=true;}\n        else if(YN=='N'||YN=='n'){\n        prog=false;\n        System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\n        }\n}catch(InputMismatchException ime){\n    System.out.println(&quot;Invalid input&quot;);\n    System.out.println(&quot;Would you like to try again? Y/N&quot;);\n        char YN = input.next().charAt(0);\n        if(YN=='Y'||YN=='y'){\n        prog=true;}\n        else if(YN=='N'||YN=='n'){\n        prog=false;\n        System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\n        }\n        }\n    }\n    }\n}\n</code></pre>\n<p>Copy pasted contents of try again prompt in catch, expected to answer Y/N prompt. display but skips prompt entirely and loops to start of program.</p>\n"},{"tags":["java","serialization","avro"],"comments":[{"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"score":0,"creation_date":1468247662,"post_id":38275061,"comment_id":64035957,"body_markdown":"@Alex A. Could you help me on this hint, please?","body":"@Alex A. Could you help me on this hint, please?"}],"answers":[{"comments":[{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":1,"creation_date":1633626073,"post_id":38316041,"comment_id":122816267,"body_markdown":"This isn&#39;t really a map using int as key, right? It&#39;s not possible in avro I think.. did you manually convert to str?","body":"This isn&#39;t really a map using int as key, right? It&#39;s not possible in avro I think.. did you manually convert to str?"}],"tags":[],"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1468270399,"creation_date":1468270399,"answer_id":38316041,"question_id":38275061,"body_markdown":"My own solution:\r\n\r\n    {&quot;namespace&quot;: &quot;Schema&quot;,\r\n      &quot;name&quot;:&quot;PvMap&quot;,\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;fields&quot;:[\r\n      {&quot;name&quot;: &quot;TradeId&quot;, &quot;type&quot;: &quot;int&quot;},\r\n        { &quot;name&quot;: &quot;Tmap&quot;,\r\n          &quot;type&quot;:{\r\n    \t  &quot;type&quot;:&quot;map&quot;,\r\n          &quot;values&quot;:&quot;float&quot;}\r\n          }\r\n      ]\r\n    }","title":"How to create Avro schema for Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;?","body":"<p>My own solution:</p>\n\n<pre><code>{\"namespace\": \"Schema\",\n  \"name\":\"PvMap\",\n  \"type\":\"record\",\n  \"fields\":[\n  {\"name\": \"TradeId\", \"type\": \"int\"},\n    { \"name\": \"Tmap\",\n      \"type\":{\n      \"type\":\"map\",\n      \"values\":\"float\"}\n      }\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1335180,"reputation":2681,"user_id":1278112,"accept_rate":93,"display_name":"Shihe Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437935,"creation_date":1681437935,"answer_id":76011077,"question_id":38275061,"body_markdown":"That field should be something like:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;map&quot;,\r\n        &quot;values&quot;: {\r\n            &quot;type&quot;: &quot;map&quot;,\r\n            &quot;values&quot;: &quot;float&quot;\r\n        }\r\n    }\r\n\r\nExplanation:\r\n1. The outer map&#39;s type is set to &quot;map&quot;, and values specifies the schema of the inner map.\r\n2. The inner map&#39;s type is also set to &quot;map&quot;, and values specifies the value type of the inner map as &quot;float&quot;.\r\n3. According to the Avro map schema rule, the key type is not defined and is specified when using the map in the code.\r\n\r\n\r\n","title":"How to create Avro schema for Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;?","body":"<p>That field should be something like:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;map&quot;,\n    &quot;values&quot;: {\n        &quot;type&quot;: &quot;map&quot;,\n        &quot;values&quot;: &quot;float&quot;\n    }\n}\n</code></pre>\n<p>Explanation:</p>\n<ol>\n<li>The outer map's type is set to &quot;map&quot;, and values specifies the schema of the inner map.</li>\n<li>The inner map's type is also set to &quot;map&quot;, and values specifies the value type of the inner map as &quot;float&quot;.</li>\n<li>According to the Avro map schema rule, the key type is not defined and is specified when using the map in the code.</li>\n</ol>\n"}],"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6526,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38316041,"answer_count":2,"score":3,"last_activity_date":1681437935,"creation_date":1468010399,"question_id":38275061,"body_markdown":"The documentation of map of map is not very clear. I&#39;m trying to serialize such an object(Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;) to Avro, how can I achieve that.\r\n\r\n    {&quot;namespace&quot;: &quot;example&quot;,\r\n     &quot;type&quot;: &quot;map&quot;,\r\n     &quot;name&quot;: &quot;Map&quot;,\r\n     &quot;keys&quot;: &quot;int&quot;,\r\n     &quot;values&quot;: {\r\n      &quot;type&quot;:&quot;map&quot;,\r\n      &quot;keys&quot;:&quot;int&quot;,\r\n      &quot;values&quot;:&quot;float&quot; \r\n     }\r\n    }  ","title":"How to create Avro schema for Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;?","body":"<p>The documentation of map of map is not very clear. I'm trying to serialize such an object(Map>) to Avro, how can I achieve that.</p>\n\n<pre><code>{\"namespace\": \"example\",\n \"type\": \"map\",\n \"name\": \"Map\",\n \"keys\": \"int\",\n \"values\": {\n  \"type\":\"map\",\n  \"keys\":\"int\",\n  \"values\":\"float\" \n }\n}  \n</code></pre>\n"},{"tags":["java","list","arraylist","java-8"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1605782851,"post_id":64910080,"comment_id":114760219,"body_markdown":"Please provide a [mcve] - it&#39;ll be a lot easier to help you that way.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - it&#39;ll be a lot easier to help you that way."},{"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"score":0,"creation_date":1605784815,"post_id":64910080,"comment_id":114761098,"body_markdown":"Thank you very much! I was having another issue too that let to this prblem","body":"Thank you very much! I was having another issue too that let to this prblem"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1605790395,"post_id":64910080,"comment_id":114763608,"body_markdown":"In general query results are not guaranteed to be mutable, so you may not be able to do what you are trying. With a mutable list (an `ArrayList` in my case) nos. 2 and 4 work for me (no. 1 removes only the first `null` and no. 3 throws).","body":"In general query results are not guaranteed to be mutable, so you may not be able to do what you are trying. With a mutable list (an <code>ArrayList</code> in my case) nos. 2 and 4 work for me (no. 1 removes only the first <code>null</code> and no. 3 throws)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1605793526,"post_id":64910080,"comment_id":114765038,"body_markdown":"Please, *nothing seemed to work* is not very helpful. Please quote the exact error messages you get so we may help you how to solve them. Or if you don’t get any error messages, specify precisely how observed result differs from the expected. [I downvoted because &quot;it&#39;s not working&quot; is not helpful](http://idownvotedbecau.se/itsnotworking/).","body":"Please, <i>nothing seemed to work</i> is not very helpful. Please quote the exact error messages you get so we may help you how to solve them. Or if you don’t get any error messages, specify precisely how observed result differs from the expected. <a href=\"http://idownvotedbecau.se/itsnotworking/\" rel=\"nofollow noreferrer\">I downvoted because &quot;it&#39;s not working&quot; is not helpful</a>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1605793708,"post_id":64910109,"comment_id":114765133,"body_markdown":"Very fine answer. And really nitpicking: `Arrays.asList()` doesn’t return a completely immutable list since you may substitute each element in the list (using `set()`). But you are correct, no elements can be removed from the list.","body":"Very fine answer. And really nitpicking: <code>Arrays.asList()</code> doesn’t return a completely immutable list since you may substitute each element in the list (using <code>set()</code>). But you are correct, no elements can be removed from the list."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1605794192,"post_id":64910109,"comment_id":114765344,"body_markdown":"@OleV.V.: Thank&#39;s for the note. The `Arrays.asList()` operates on a fixed-length backing array, so no elements can be added/removed but can be replaced, right?","body":"@OleV.V.: Thank&#39;s for the note. The <code>Arrays.asList()</code> operates on a fixed-length backing array, so no elements can be added/removed but can be replaced, right?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1605794599,"post_id":64910109,"comment_id":114765532,"body_markdown":"Exactly right (and I still think it’s a great answer).","body":"Exactly right (and I still think it’s a great answer)."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1605795094,"post_id":64910109,"comment_id":114765770,"body_markdown":"@OleV.V. I have created a &quot;semi-canonical&quot; answer here: https://stackoverflow.com/questions/8559257/remove-null-elements-from-list as long as I miss there a lot of ways or the element removal. I believe that one deserves more attention than this one. Preferably, I&#39;d like to remove this answer in favor of the newer one and only refer to it at the comments for sake of getting rid of the &quot;duplicates&quot;.","body":"@OleV.V. I have created a &quot;semi-canonical&quot; answer here: <a href=\"https://stackoverflow.com/questions/8559257/remove-null-elements-from-list\" title=\"remove null elements from list\">stackoverflow.com/questions/8559257/&hellip;</a> as long as I miss there a lot of ways or the element removal. I believe that one deserves more attention than this one. Preferably, I&#39;d like to remove this answer in favor of the newer one and only refer to it at the comments for sake of getting rid of the &quot;duplicates&quot;."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1605802765,"post_id":64910109,"comment_id":114769695,"body_markdown":"For other readers: [Link to Nikolas’ new and extensive answer](https://stackoverflow.com/a/64910701/5772882)","body":"For other readers: <a href=\"https://stackoverflow.com/a/64910701/5772882\">Link to Nikolas’ new and extensive answer</a>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1605783312,"creation_date":1605782907,"answer_id":64910109,"question_id":64910080,"body_markdown":"**Mutable list**\r\n\r\nYou can use `List::removeIf` with a predicate detecting `null` items.\r\n\r\n    List&lt;Object[]&gt; mutableList = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Object[] {}, \r\n        null, \r\n        new Object[] {}));\r\n\r\n    mutableList.removeIf(Objects::isNull);\r\n\r\n**Immutable list**\r\n\r\n   In this case you have to use Stream API or a for-loop to find non-null elements and add them to a new list.\r\n\r\n    List&lt;Object[]&gt; immutableList = Arrays.asList(\r\n        new Object[] {}, \r\n        null, \r\n        new Object[] {});\r\n\r\n    List&lt;Object[]&gt; newList = immutableList.stream()\r\n                                          .filter(Objects::nonNull)\r\n                                          .collect(Collectors.toList());","title":"Java - Remove null from list of Objects","body":"<p><strong>Mutable list</strong></p>\n<p>You can use <code>List::removeIf</code> with a predicate detecting <code>null</code> items.</p>\n<pre><code>List&lt;Object[]&gt; mutableList = new ArrayList&lt;&gt;(Arrays.asList(\n    new Object[] {}, \n    null, \n    new Object[] {}));\n\nmutableList.removeIf(Objects::isNull);\n</code></pre>\n<p><strong>Immutable list</strong></p>\n<p>In this case you have to use Stream API or a for-loop to find non-null elements and add them to a new list.</p>\n<pre><code>List&lt;Object[]&gt; immutableList = Arrays.asList(\n    new Object[] {}, \n    null, \n    new Object[] {});\n\nList&lt;Object[]&gt; newList = immutableList.stream()\n                                      .filter(Objects::nonNull)\n                                      .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3222,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":64910109,"answer_count":1,"score":-1,"last_activity_date":1681437858,"creation_date":1605782766,"question_id":64910080,"body_markdown":"I have a huge sized java list object as follows :\r\n\r\n    List&lt;Object[]&gt; res = // repo method that will return query result\r\n\r\nI have to remove nulls from the res object.\r\n\r\nI tried below methods so far but nothing seemed to work:\r\n\r\n    1. res.remove(null);\r\n    2. res.removeAll(Collections.singleton(null));\r\n    3. res.removeAll(null);\r\n    4. while(res.remove(null));\r\n\r\nHow can I remove nulls efficiently as the list size is going to be huge?\r\n","title":"Java - Remove null from list of Objects","body":"<p>I have a huge sized java list object as follows :</p>\n<pre><code>List&lt;Object[]&gt; res = // repo method that will return query result\n</code></pre>\n<p>I have to remove nulls from the res object.</p>\n<p>I tried below methods so far but nothing seemed to work:</p>\n<pre><code>1. res.remove(null);\n2. res.removeAll(Collections.singleton(null));\n3. res.removeAll(null);\n4. while(res.remove(null));\n</code></pre>\n<p>How can I remove nulls efficiently as the list size is going to be huge?</p>\n"},{"tags":["java","android","camera","arrays","photo"],"comments":[{"owner":{"account_id":1406240,"reputation":134,"user_id":1333880,"accept_rate":100,"display_name":"DevinFalgoust"},"score":0,"creation_date":1359391352,"post_id":14556569,"comment_id":20325839,"body_markdown":"See a similar question [here](http://stackoverflow.com/questions/11674816/android-image-orientation-issue-with-custom-camera-activity).","body":"See a similar question <a href=\"http://stackoverflow.com/questions/11674816/android-image-orientation-issue-with-custom-camera-activity\">here</a>."},{"owner":{"account_id":255731,"reputation":32942,"user_id":535967,"accept_rate":90,"display_name":"lisovaccaro"},"score":0,"creation_date":1359396116,"post_id":14556569,"comment_id":20328356,"body_markdown":"I had seen that answer. I just downloaded the source he provided and it&#39;s actually not for a camera app but for using the default camera to take a picture. I simply don&#39;t understand how to implement the code on the answer. There is a bitmap variable I don&#39;t have. If you know how to include the answer inside onPictureTaken I&#39;ll accept the answer.","body":"I had seen that answer. I just downloaded the source he provided and it&#39;s actually not for a camera app but for using the default camera to take a picture. I simply don&#39;t understand how to implement the code on the answer. There is a bitmap variable I don&#39;t have. If you know how to include the answer inside onPictureTaken I&#39;ll accept the answer."}],"answers":[{"tags":[],"owner":{"account_id":1956860,"reputation":2527,"user_id":1759687,"accept_rate":60,"display_name":"GioLaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359546259,"creation_date":1359546259,"answer_id":14603215,"question_id":14556569,"body_markdown":"Try something like this:\r\n\r\n \r\n    int orientation = Exif.getOrientation(data);\r\n    Log.d(&quot;#&quot;, &quot;onPictureTaken().orientation = &quot; + orientation);\r\n    if(orientation != 0) {\r\n         Bitmap bmpSrc = BitmapFactory.decodeByteArray(data, 0, data.length);\r\n         Bitmap bmpRotated = CameraUtil.rotate(bmpSrc, orientation);\r\n         bmpSrc.recycle();\r\n                                        \r\n                                           \r\n           try {\r\n                                                   \r\n                 FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\r\n                 bmpRotated.compress(Bitmap.CompressFormat.JPEG, 90,localFileOutputStream);\r\n                 localFileOutputStream.flush();\r\n                 localFileOutputStream.close();\r\n                 bmpRotated.recycle();\r\n                                                   \r\n               }\r\n            catch (FileNotFoundException e) \r\n               {\r\n                  e.printStackTrace();\r\n               }\r\n            catch (IOException e) \r\n               {\r\n                   e.printStackTrace();\r\n               }\r\n                                   \r\n          } else {\r\n    \r\n              try {\r\n           \r\n                   FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\r\n                   localFileOutputStream.write(data);\r\n                   localFileOutputStream.flush();\r\n                   localFileOutputStream.close();\r\n           \r\n                   } catch (IOException localIOException)\r\n                      {\r\n                                            Log.e(&quot;#&quot;,localIOException.getMessage());\r\n                      }\r\n       }\r\n\r\n","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>Try something like this:</p>\n\n<pre><code>int orientation = Exif.getOrientation(data);\nLog.d(\"#\", \"onPictureTaken().orientation = \" + orientation);\nif(orientation != 0) {\n     Bitmap bmpSrc = BitmapFactory.decodeByteArray(data, 0, data.length);\n     Bitmap bmpRotated = CameraUtil.rotate(bmpSrc, orientation);\n     bmpSrc.recycle();\n\n\n       try {\n\n             FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\n             bmpRotated.compress(Bitmap.CompressFormat.JPEG, 90,localFileOutputStream);\n             localFileOutputStream.flush();\n             localFileOutputStream.close();\n             bmpRotated.recycle();\n\n           }\n        catch (FileNotFoundException e) \n           {\n              e.printStackTrace();\n           }\n        catch (IOException e) \n           {\n               e.printStackTrace();\n           }\n\n      } else {\n\n          try {\n\n               FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\n               localFileOutputStream.write(data);\n               localFileOutputStream.flush();\n               localFileOutputStream.close();\n\n               } catch (IOException localIOException)\n                  {\n                                        Log.e(\"#\",localIOException.getMessage());\n                  }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5052277,"reputation":71,"user_id":4056472,"display_name":"Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411086719,"creation_date":1411086719,"answer_id":25924566,"question_id":14556569,"body_markdown":"There are different ways to get your image, as data, as stream, as file, also it is different for camera and gallery and other apps. For each of them you have another way to access the orientation tag. Once you have the orientation, you can rotate your image. \r\n\r\nYou - or for that matter everyone - should really get a Nexus, they are nice and rotate the image for you and set orientation to 0, while the lazy ones like Samsung just store the image and set the orientation tag. ;)\r\n","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>There are different ways to get your image, as data, as stream, as file, also it is different for camera and gallery and other apps. For each of them you have another way to access the orientation tag. Once you have the orientation, you can rotate your image. </p>\n\n<p>You - or for that matter everyone - should really get a Nexus, they are nice and rotate the image for you and set orientation to 0, while the lazy ones like Samsung just store the image and set the orientation tag. ;)</p>\n"},{"tags":[],"owner":{"account_id":27491284,"reputation":16,"user_id":20976604,"display_name":"24tr6637"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437359,"creation_date":1681437359,"answer_id":76011036,"question_id":14556569,"body_markdown":"Assuming you&#39;re using the [`Android graphics framework`][1], something like the following might work for you:\r\n\r\n```java\r\npublic void onPictureTaken(byte[] data, Camera camera) {\r\n    try {\r\n        Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);\r\n        ExifInterface exif = new ExifInterface(filePath);\r\n        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\r\n        Matrix matrix = new Matrix();\r\n        switch (orientation) {\r\n            case ExifInterface.ORIENTATION_ROTATE_90:\r\n                matrix.postRotate(90);\r\n                break;\r\n            case ExifInterface.ORIENTATION_ROTATE_180:\r\n                matrix.postRotate(180);\r\n                break;\r\n            case ExifInterface.ORIENTATION_ROTATE_270:\r\n                matrix.postRotate(270);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        Bitmap rotatedBitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\r\n        FileOutputStream outStream = new FileOutputStream(filePath);\r\n        rotatedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n        outStream.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n - First, we can use the [`Bitmap`][2] object as an easy way to decode and manipulate image data.\r\n - Then we create a [`Matrix`][3] because rotation is a linear transformation represented by matrix multiplication and because we don&#39;t need to manipulate pixel values ​​directly.\r\n - We then use the [`Exif`][4] metadata to determine how we need to rotate the image to get it oriented correctly.\r\n - After creating the correct [rotation matrix][4] for the image, create a new `Bitmap` using the new transformation `Matrix` and the original `Bitmap`.\r\n - Finally, we use [`FileOutputStream`][5] to write the image to the predefined class member `filePath`.\r\n\r\n\r\n  [1]: https://source.android.com/docs/core/graphics\r\n  [2]: https://developer.android.com/reference/android/graphics/Bitmap\r\n  [3]: https://developer.android.com/reference/android/graphics/Matrix\r\n  [4]: https://developer.android.com/reference/android/media/ExifInterface\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>Assuming you're using the <a href=\"https://source.android.com/docs/core/graphics\" rel=\"nofollow noreferrer\"><code>Android graphics framework</code></a>, something like the following might work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onPictureTaken(byte[] data, Camera camera) {\n    try {\n        Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);\n        ExifInterface exif = new ExifInterface(filePath);\n        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\n        Matrix matrix = new Matrix();\n        switch (orientation) {\n            case ExifInterface.ORIENTATION_ROTATE_90:\n                matrix.postRotate(90);\n                break;\n            case ExifInterface.ORIENTATION_ROTATE_180:\n                matrix.postRotate(180);\n                break;\n            case ExifInterface.ORIENTATION_ROTATE_270:\n                matrix.postRotate(270);\n                break;\n            default:\n                break;\n        }\n        Bitmap rotatedBitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\n        FileOutputStream outStream = new FileOutputStream(filePath);\n        rotatedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n        outStream.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<ul>\n<li>First, we can use the <a href=\"https://developer.android.com/reference/android/graphics/Bitmap\" rel=\"nofollow noreferrer\"><code>Bitmap</code></a> object as an easy way to decode and manipulate image data.</li>\n<li>Then we create a <a href=\"https://developer.android.com/reference/android/graphics/Matrix\" rel=\"nofollow noreferrer\"><code>Matrix</code></a> because rotation is a linear transformation represented by matrix multiplication and because we don't need to manipulate pixel values ​​directly.</li>\n<li>We then use the <a href=\"https://developer.android.com/reference/android/media/ExifInterface\" rel=\"nofollow noreferrer\"><code>Exif</code></a> metadata to determine how we need to rotate the image to get it oriented correctly.</li>\n<li>After creating the correct <a href=\"https://developer.android.com/reference/android/media/ExifInterface\" rel=\"nofollow noreferrer\">rotation matrix</a> for the image, create a new <code>Bitmap</code> using the new transformation <code>Matrix</code> and the original <code>Bitmap</code>.</li>\n<li>Finally, we use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\"><code>FileOutputStream</code></a> to write the image to the predefined class member <code>filePath</code>.</li>\n</ul>\n"}],"owner":{"account_id":255731,"reputation":32942,"user_id":535967,"accept_rate":90,"display_name":"lisovaccaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1681437359,"creation_date":1359354459,"question_id":14556569,"body_markdown":"For some reason, my camera app saves all photos rotated 90 degrees (pictures only look right when taken with camera on landscape mode) I believe onPictureTaken should rotate photos automatically but I read there is a problem with Samsung devices (I haven&#39;t been able to test it on another brand so I don&#39;t know if it&#39;s the case). This is my code:\r\n\r\n       public void onPictureTaken(byte[] data, Camera camera) {\r\n          // Generate file name\r\n          FileOutputStream outStream = null;\r\n          outStream = new FileOutputStream(filePath);\r\n          outStream.write(data);\r\n          outStream.close();\r\n\r\nI was thinking it could be fixed by checking the orientation and rotating the byte array but there must be a more straightforward way to do it since handling byte arrays is a pain.\r\nHow can I make sure photos are saved matching the orientation they were taken?","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>For some reason, my camera app saves all photos rotated 90 degrees (pictures only look right when taken with camera on landscape mode) I believe onPictureTaken should rotate photos automatically but I read there is a problem with Samsung devices (I haven't been able to test it on another brand so I don't know if it's the case). This is my code:</p>\n\n<pre><code>   public void onPictureTaken(byte[] data, Camera camera) {\n      // Generate file name\n      FileOutputStream outStream = null;\n      outStream = new FileOutputStream(filePath);\n      outStream.write(data);\n      outStream.close();\n</code></pre>\n\n<p>I was thinking it could be fixed by checking the orientation and rotating the byte array but there must be a more straightforward way to do it since handling byte arrays is a pain.\nHow can I make sure photos are saved matching the orientation they were taken?</p>\n"},{"tags":["java","spring-boot","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681296748,"creation_date":1681296748,"answer_id":75994610,"question_id":75961137,"body_markdown":"`ContainerResponseContext` has two methods being confused here:\r\n\r\n - [getEntity()][1] - returns the actual Java entity object before it has been written\r\n - [getOutputStream()][2] - returns the `OutputStream` used for writing the entity. The entity is written during the writer interceptor phase.\r\n\r\nThe `OutputStream` can be decorated by a user-provided `OutputStream` which does what is required, for instance, it logs the information and writes the data to the original stream. This new decorator `OutputStream` can be registered by [ContainerResponseContext#setEntityStream()][3].\r\n\r\nJersey comes with [LoggingFeature][4] / [ServerLoggingFilter][5] / [LoggingInterceptor][6]. Together, they do exactly this logging, the filter decorates the original `OutputStream` and they log the entity, headers, and other response-related information.\r\n\r\nIn those Jersey classes, you can see how [ContainerRequestContext#setProperty()][7] and [WriterInterceptorContext#getProperty][8] are used for passing the information from the `Filter` to the `Interceptor`.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntity()\r\n  [2]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntityStream()\r\n  [3]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#setEntityStream(java.io.OutputStream)\r\n  [4]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/logging_chapter.html#logging\r\n  [5]: https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/ServerLoggingFilter.java\r\n  [6]: https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/LoggingInterceptor.java\r\n  [7]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerrequestcontext#setProperty(java.lang.String,java.lang.Object)\r\n  [8]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/ext/interceptorcontext#getProperty(java.lang.String)","title":"Fetch response body using ContainerResponseFilter","body":"<p><code>ContainerResponseContext</code> has two methods being confused here:</p>\n<ul>\n<li><a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntity()\" rel=\"nofollow noreferrer\">getEntity()</a> - returns the actual Java entity object before it has been written</li>\n<li><a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntityStream()\" rel=\"nofollow noreferrer\">getOutputStream()</a> - returns the <code>OutputStream</code> used for writing the entity. The entity is written during the writer interceptor phase.</li>\n</ul>\n<p>The <code>OutputStream</code> can be decorated by a user-provided <code>OutputStream</code> which does what is required, for instance, it logs the information and writes the data to the original stream. This new decorator <code>OutputStream</code> can be registered by <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#setEntityStream(java.io.OutputStream)\" rel=\"nofollow noreferrer\">ContainerResponseContext#setEntityStream()</a>.</p>\n<p>Jersey comes with <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/logging_chapter.html#logging\" rel=\"nofollow noreferrer\">LoggingFeature</a> / <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/ServerLoggingFilter.java\" rel=\"nofollow noreferrer\">ServerLoggingFilter</a> / <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/LoggingInterceptor.java\" rel=\"nofollow noreferrer\">LoggingInterceptor</a>. Together, they do exactly this logging, the filter decorates the original <code>OutputStream</code> and they log the entity, headers, and other response-related information.</p>\n<p>In those Jersey classes, you can see how <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerrequestcontext#setProperty(java.lang.String,java.lang.Object)\" rel=\"nofollow noreferrer\">ContainerRequestContext#setProperty()</a> and <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/ext/interceptorcontext#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\">WriterInterceptorContext#getProperty</a> are used for passing the information from the <code>Filter</code> to the <code>Interceptor</code>.</p>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681408111,"creation_date":1681408111,"answer_id":76008425,"question_id":75961137,"body_markdown":"I think there&#39;s a misunderstanding about the usage of the method `ContainerResponseContext#getEntityStream()`. One isn&#39;t supposed to read from an `OutputStream`.\r\n\r\nAs @jan-supol says in his answer, you can decorate the `OutputStream` with a logger, for example.\r\n\r\nBut, if you still want to log your response the way you&#39;re doing, you could retrieve the entity directly.\r\n\r\nThe code you wrote:\r\n\r\n```java\r\n    OutputStream originalStream = context.getEntityStream();\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(); // it&#39;s empty\r\n    context.setEntityStream(baos); // why? you&#39;re replacing the original os by this one\r\n    String body = baos.toString(); // empty stream, empty string\r\n    baos.writeTo(originalStream); // you&#39;re writing your empty stream to os, which doesn&#39;t affect the os\r\n    baos.close();\r\n    context.setEntityStream(originalStream); // assignment rollback?\r\n    return body; // returning an empty string\r\n```\r\n\r\nThe way I&#39;d do it:\r\n\r\n```java\r\n    @Override\r\n    public void filter(ContainerRequestContext request, ContainerResponseContext response) {\r\n        if (response.hasEntity()) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot; - Response Entity Class: &quot;).append(response.getEntityClass())\r\n                    .append(System.getProperty(&quot;line.separator&quot;));\r\n            // in order to work, you should guarantee that entity has reasonable #toString implementation\r\n            Object entity = response.getEntity();\r\n            sb.append(&quot; - Response Entity Stream: &quot;).append(entity.toString())\r\n                    .append(System.getProperty(&quot;line.separator&quot;));\r\n            System.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sb.toString());\r\n        }\r\n    }\r\n```\r\n","title":"Fetch response body using ContainerResponseFilter","body":"<p>I think there's a misunderstanding about the usage of the method <code>ContainerResponseContext#getEntityStream()</code>. One isn't supposed to read from an <code>OutputStream</code>.</p>\n<p>As @jan-supol says in his answer, you can decorate the <code>OutputStream</code> with a logger, for example.</p>\n<p>But, if you still want to log your response the way you're doing, you could retrieve the entity directly.</p>\n<p>The code you wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    OutputStream originalStream = context.getEntityStream();\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(); // it's empty\n    context.setEntityStream(baos); // why? you're replacing the original os by this one\n    String body = baos.toString(); // empty stream, empty string\n    baos.writeTo(originalStream); // you're writing your empty stream to os, which doesn't affect the os\n    baos.close();\n    context.setEntityStream(originalStream); // assignment rollback?\n    return body; // returning an empty string\n</code></pre>\n<p>The way I'd do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void filter(ContainerRequestContext request, ContainerResponseContext response) {\n        if (response.hasEntity()) {\n            StringBuilder sb = new StringBuilder();\n            sb.append(&quot; - Response Entity Class: &quot;).append(response.getEntityClass())\n                    .append(System.getProperty(&quot;line.separator&quot;));\n            // in order to work, you should guarantee that entity has reasonable #toString implementation\n            Object entity = response.getEntity();\n            sb.append(&quot; - Response Entity Stream: &quot;).append(entity.toString())\n                    .append(System.getProperty(&quot;line.separator&quot;));\n            System.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sb.toString());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681436868,"creation_date":1680892630,"question_id":75961137,"body_markdown":"I am trying to catch the response entity stream using `getEntityStream()` of `ContainerResponseContext`. Below is the code:\r\n\r\n```java\r\npublic String getResponseEntityStream(ContainerResponseContext context) throws IOException {\r\n\r\n\tOutputStream originalStream = context.getEntityStream();\r\n\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\tcontext.setEntityStream(baos);\r\n\r\n\tString body = baos.toString();\r\n\tbaos.writeTo(originalStream);\r\n\tbaos.close();\r\n\tcontext.setEntityStream(originalStream);\r\n\treturn body;\r\n}\r\n```\r\n\r\nI call the above method in below code to fetch the entire response stream:\r\n\r\n```java\r\n@Override\r\npublic void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext)\r\n\t\tthrows IOException {\r\n\r\n\tStringBuilder sbResponse = new StringBuilder();\r\n\t\r\n\tsbResponse.append(&quot; - Response Entity Class: &quot;).append(responseContext.getEntityClass())\r\n\t\t.append(System.getProperty(&quot;line.separator&quot;));\r\n\r\n\tsbResponse.append(&quot; - Response Entity Stream: &quot;).append(getResponseEntityStream(responseContext))\r\n\t\t.append(System.getProperty(&quot;line.separator&quot;));\r\n\r\n\tSystem.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sbResponse.toString());\r\n}\r\n```\r\n\r\n**My question:**\r\n\r\nIn the above code, `Response Entity Stream` is always blank. I am just trying to read the entire response entity stream and print it to show how the original stream looks like, before I do some processing on the stream. Where am I making the mistake? Thanks in advance.\r\n\r\n**UPDATE:**\r\nI am able to fetch the response body using `WriterInterceptor`. However the `WriterInterceptor` is invoked only when there is a response payload. I am using `ContainerResponseFilter` as I want to read response details even when there is no payload. Also, Writer Interceptor does not help `getStatus()` and `getStatusInfo()` like the `ContainerResponseFilter`. Is there a way that I can combine the data of both `ContainerResponseFilter` and `WriterInterceptor` in a string and print the entire response in logs. may be by using Thread Local?","title":"Fetch response body using ContainerResponseFilter","body":"<p>I am trying to catch the response entity stream using <code>getEntityStream()</code> of <code>ContainerResponseContext</code>. Below is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getResponseEntityStream(ContainerResponseContext context) throws IOException {\n\n    OutputStream originalStream = context.getEntityStream();\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    context.setEntityStream(baos);\n\n    String body = baos.toString();\n    baos.writeTo(originalStream);\n    baos.close();\n    context.setEntityStream(originalStream);\n    return body;\n}\n</code></pre>\n<p>I call the above method in below code to fetch the entire response stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext)\n        throws IOException {\n\n    StringBuilder sbResponse = new StringBuilder();\n    \n    sbResponse.append(&quot; - Response Entity Class: &quot;).append(responseContext.getEntityClass())\n        .append(System.getProperty(&quot;line.separator&quot;));\n\n    sbResponse.append(&quot; - Response Entity Stream: &quot;).append(getResponseEntityStream(responseContext))\n        .append(System.getProperty(&quot;line.separator&quot;));\n\n    System.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sbResponse.toString());\n}\n</code></pre>\n<p><strong>My question:</strong></p>\n<p>In the above code, <code>Response Entity Stream</code> is always blank. I am just trying to read the entire response entity stream and print it to show how the original stream looks like, before I do some processing on the stream. Where am I making the mistake? Thanks in advance.</p>\n<p><strong>UPDATE:</strong>\nI am able to fetch the response body using <code>WriterInterceptor</code>. However the <code>WriterInterceptor</code> is invoked only when there is a response payload. I am using <code>ContainerResponseFilter</code> as I want to read response details even when there is no payload. Also, Writer Interceptor does not help <code>getStatus()</code> and <code>getStatusInfo()</code> like the <code>ContainerResponseFilter</code>. Is there a way that I can combine the data of both <code>ContainerResponseFilter</code> and <code>WriterInterceptor</code> in a string and print the entire response in logs. may be by using Thread Local?</p>\n"},{"tags":["java","generics","overriding"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1681435818,"post_id":76010950,"comment_id":134059807,"body_markdown":"The interface isn&#39;t generic. You have defined two totally independent generic methods.","body":"The interface isn&#39;t generic. You have defined two totally independent generic methods."}],"answers":[{"comments":[{"owner":{"account_id":26181927,"reputation":31,"user_id":19865178,"display_name":"Flo Flo"},"score":0,"creation_date":1681478810,"post_id":76010958,"comment_id":134067307,"body_markdown":"Thanks for your answer ! But what if I have A and B as enum elements and I want the generic for A to be different than the one for B such as public String getValue() for A and public Integer getValue() for B, is there a way ?","body":"Thanks for your answer ! But what if I have A and B as enum elements and I want the generic for A to be different than the one for B such as public String getValue() for A and public Integer getValue() for B, is there a way ?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681501196,"post_id":76010958,"comment_id":134072373,"body_markdown":"@FloFlo I don&#39;t think there&#39;s a good way to do that. See https://stackoverflow.com/questions/34074768/can-individual-values-of-an-enum-implement-an-interface","body":"@FloFlo I don&#39;t think there&#39;s a good way to do that. See <a href=\"https://stackoverflow.com/questions/34074768/can-individual-values-of-an-enum-implement-an-interface\" title=\"can individual values of an enum implement an interface\">stackoverflow.com/questions/34074768/&hellip;</a>"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681435897,"creation_date":1681435897,"answer_id":76010958,"question_id":76010950,"body_markdown":"The type parameter `T` should be declared at the `interface` level, not separately for each method.\r\n\r\n```java\r\npublic interface I&lt;T&gt; {\r\n    T getValue();\r\n    void setValue(T diagram);\r\n}\r\nenum E implements I&lt;C&gt; {\r\n    // ...\r\n}\r\n```","title":"enum implementing interface with generic methods","body":"<p>The type parameter <code>T</code> should be declared at the <code>interface</code> level, not separately for each method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface I&lt;T&gt; {\n    T getValue();\n    void setValue(T diagram);\n}\nenum E implements I&lt;C&gt; {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":26181927,"reputation":31,"user_id":19865178,"display_name":"Flo Flo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76010958,"answer_count":1,"score":0,"last_activity_date":1681435897,"creation_date":1681435683,"question_id":76010950,"body_markdown":"I have an interface:\r\n\r\n    public interface I {\r\n        &lt;T&gt; T getValue();\r\n        &lt;T&gt; void setValue(T diagram);\r\n    }\r\n\r\nbut when I set\r\n\r\n    enum E implements I {\r\n            A {\r\n                private C c;\r\n    \r\n                @Override\r\n                public C getValue() {\r\n                    return c;\r\n                }\r\n    \r\n                @Override\r\n                public void setValue(C c) {\r\n                    this.c = c;\r\n                }\r\n            };\r\n        }\r\n\r\nI have an error on the setValue method (&quot;Method does not override method from its superclass&quot;), why is it ok for the first method only to replace the generic ?\r\n\r\nThanks","title":"enum implementing interface with generic methods","body":"<p>I have an interface:</p>\n<pre><code>public interface I {\n    &lt;T&gt; T getValue();\n    &lt;T&gt; void setValue(T diagram);\n}\n</code></pre>\n<p>but when I set</p>\n<pre><code>enum E implements I {\n        A {\n            private C c;\n\n            @Override\n            public C getValue() {\n                return c;\n            }\n\n            @Override\n            public void setValue(C c) {\n                this.c = c;\n            }\n        };\n    }\n</code></pre>\n<p>I have an error on the setValue method (&quot;Method does not override method from its superclass&quot;), why is it ok for the first method only to replace the generic ?</p>\n<p>Thanks</p>\n"},{"tags":["java","oop","static","default","super"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1681430399,"post_id":76010464,"comment_id":134059287,"body_markdown":"The first way with constant looks more clear as for me. Why do you want defining them as methods instead? isn&#39;t it the same just looks longer?","body":"The first way with constant looks more clear as for me. Why do you want defining them as methods instead? isn&#39;t it the same just looks longer?"},{"owner":{"account_id":11083707,"reputation":13,"user_id":8138183,"display_name":"theNovice"},"score":0,"creation_date":1681490433,"post_id":76010464,"comment_id":134070357,"body_markdown":"@IgorArtamonov, the first way is defining global variables. When these are passed on to the superclass, then the superclass could change them, affecting other instances of the subclass. The static methods don&#39;t return static variables, so new instances of the subclass are unaffected if another superclass instance changes the variable.","body":"@IgorArtamonov, the first way is defining global variables. When these are passed on to the superclass, then the superclass could change them, affecting other instances of the subclass. The static methods don&#39;t return static variables, so new instances of the subclass are unaffected if another superclass instance changes the variable."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1681492672,"post_id":76010464,"comment_id":134070833,"body_markdown":"But you cannot &quot;override&quot; static methods anyway, so that would be independent constants just written like it&#39;s a method. That&#39;s why I&#39;m asking, since I don&#39;t see any technical difference except it looks longer.","body":"But you cannot &quot;override&quot; static methods anyway, so that would be independent constants just written like it&#39;s a method. That&#39;s why I&#39;m asking, since I don&#39;t see any technical difference except it looks longer."}],"answers":[{"comments":[{"owner":{"account_id":11083707,"reputation":13,"user_id":8138183,"display_name":"theNovice"},"score":0,"creation_date":1681491002,"post_id":76010870,"comment_id":134070487,"body_markdown":"I&#39;m not trying to override a static method in the parent class. That said, I think you&#39;re right about using the factory. I think this Child class is trying to just define inputs to the Parent class constructor, in which case, it makes no sense to extend the Parent in this case, but to make the Child a factory and pass that output into the constructor of the Parent. Thanks.","body":"I&#39;m not trying to override a static method in the parent class. That said, I think you&#39;re right about using the factory. I think this Child class is trying to just define inputs to the Parent class constructor, in which case, it makes no sense to extend the Parent in this case, but to make the Child a factory and pass that output into the constructor of the Parent. Thanks."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681434228,"creation_date":1681434228,"answer_id":76010870,"question_id":76010464,"body_markdown":"What you want doesn&#39;t work. static methods do not &#39;do&#39; inheritance. You&#39;re better off thinking of static methods as existing fully outside classes entirely.\r\n\r\nIn java, classes (well, types) have 2 roles. They define types, sure, but, they have a second role as namespaces. It&#39;s types that have a fully qualified namespace (they exist in a package, hence, you can have 2 classes both named `Foo` and java allows you to differentiate via packages). Methods then exist _inside_ one, and thus, the fact that you can fully qualify classes means methods, too, are namespaced. This is how java solves the cameragun problem (both cameras and guns have a `shoot(Person p)` method, but, you wouldn&#39;t want to get confused!).\r\n\r\nHence, static methods have to be in a class. But they don&#39;t do inheritance, unlike instance methods – You can&#39;t &quot;override&quot; static methods:\r\n\r\n```\r\nclass Parent {\r\n  Parent() {\r\n    System.out.println(&quot;This is the result of foo: &quot; + foo());\r\n  }\r\n\r\n  static String foo() {\r\n    return &quot;in parent&quot;;\r\n  }\r\n}\r\n\r\nclass Child extends Parent {\r\n  static String foo() {\r\n    return &quot;in child&quot;;\r\n  }\r\n}\r\n\r\nnew Child();\r\n```\r\n\r\nwill print __in parent__, showing how you __cannot__ &#39;override&#39; static methods.\r\n\r\nBecause of this, the solution of immutable fields is simpler and more clear, so, you should probably stick with what you already have. However, note that your static constants aren&#39;t marked `final` which means you now have global mutable state. If you like maintainable code, you don&#39;t want that. Mark them `final`. And, make them `ALL_CAPS` (java convention for &#39;constant&#39; - avoids having to document &#39;these should be immutable types&#39;, as the all-caps implies it).\r\n\r\nIf you want extension-style things as part of the job of construction, __this is what factories are for__. Factories are the mechanism by which you give `static` aspects of classes (and constructors _are_ static, in the sense that you do not need to have an instance of the class to call one, and they don&#39;t &#39;inherit&#39; / cannot be overridden):\r\n\r\n```\r\nclass ParentFactory {\r\n  public double defaultFooVal() {\r\n    return 2.0;\r\n  }\r\n\r\n  public Parent create() {\r\n    return new Parent(defaultFooVal());\r\n}\r\n\r\nclass ChildFactory extends Parent {\r\n  @Override public double defaultFooVal() {\r\n    return 3.0;\r\n  }\r\n}\r\n\r\nParentFactory f = new ChildFactory();\r\nParent p = f.create();\r\nSystem.out.println(p.getFooVal());\r\n```\r\n\r\nwould print `3.0` as you want it to.\r\n\r\n\r\n\r\n  ","title":"How to declare default member values in Java that are passed to super class but cannot be inline","body":"<p>What you want doesn't work. static methods do not 'do' inheritance. You're better off thinking of static methods as existing fully outside classes entirely.</p>\n<p>In java, classes (well, types) have 2 roles. They define types, sure, but, they have a second role as namespaces. It's types that have a fully qualified namespace (they exist in a package, hence, you can have 2 classes both named <code>Foo</code> and java allows you to differentiate via packages). Methods then exist <em>inside</em> one, and thus, the fact that you can fully qualify classes means methods, too, are namespaced. This is how java solves the cameragun problem (both cameras and guns have a <code>shoot(Person p)</code> method, but, you wouldn't want to get confused!).</p>\n<p>Hence, static methods have to be in a class. But they don't do inheritance, unlike instance methods – You can't &quot;override&quot; static methods:</p>\n<pre><code>class Parent {\n  Parent() {\n    System.out.println(&quot;This is the result of foo: &quot; + foo());\n  }\n\n  static String foo() {\n    return &quot;in parent&quot;;\n  }\n}\n\nclass Child extends Parent {\n  static String foo() {\n    return &quot;in child&quot;;\n  }\n}\n\nnew Child();\n</code></pre>\n<p>will print <strong>in parent</strong>, showing how you <strong>cannot</strong> 'override' static methods.</p>\n<p>Because of this, the solution of immutable fields is simpler and more clear, so, you should probably stick with what you already have. However, note that your static constants aren't marked <code>final</code> which means you now have global mutable state. If you like maintainable code, you don't want that. Mark them <code>final</code>. And, make them <code>ALL_CAPS</code> (java convention for 'constant' - avoids having to document 'these should be immutable types', as the all-caps implies it).</p>\n<p>If you want extension-style things as part of the job of construction, <strong>this is what factories are for</strong>. Factories are the mechanism by which you give <code>static</code> aspects of classes (and constructors <em>are</em> static, in the sense that you do not need to have an instance of the class to call one, and they don't 'inherit' / cannot be overridden):</p>\n<pre><code>class ParentFactory {\n  public double defaultFooVal() {\n    return 2.0;\n  }\n\n  public Parent create() {\n    return new Parent(defaultFooVal());\n}\n\nclass ChildFactory extends Parent {\n  @Override public double defaultFooVal() {\n    return 3.0;\n  }\n}\n\nParentFactory f = new ChildFactory();\nParent p = f.create();\nSystem.out.println(p.getFooVal());\n</code></pre>\n<p>would print <code>3.0</code> as you want it to.</p>\n"}],"owner":{"account_id":11083707,"reputation":13,"user_id":8138183,"display_name":"theNovice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76010870,"answer_count":1,"score":0,"last_activity_date":1681434228,"creation_date":1681427160,"question_id":76010464,"body_markdown":"I have code that I think is using static members incorrectly. \r\n\r\nAn example is below. Variable types and names might not make sense.\r\n\r\n\r\n```\r\npublic class subclass extends superclass {\r\n    private static Boolean varBool = new Boolean(true);\r\n    private static Double  varDoub = new Double(4.3);\r\n    private static CustomType varCustom = new CustomType(varBool, varDoub);\r\n\r\n    public subclass() { super(varCustom); }\r\n}\r\n```\r\n\r\nI think this is an incorrect use of static. I see that the author wanted to define default values that can be passed to the super class, and used static to do so. The way this class was used, I believe did not cause issues since the values didn&#39;t change, but now I want them to for different instances.\r\n\r\n\r\nI&#39;m instead considering using static methods to define these defaults.\r\n\r\n```\r\npublic class subclass extends superclass {\r\n\r\n    public subclass() { super(getVarCustom()); }\r\n\r\n    private static getVarBool() { return new Boolean(true); }\r\n\r\n    private static getVarDoub() { return new Double(4.3); }\r\n\r\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\r\n}\r\n```\r\n\r\nWhich will allow me to change the defaults by passing in values to new constructors without affecting other instances.\r\n\r\nFor example:\r\n\r\n```\r\npublic class subclass extends superclass {\r\n\r\n    public subclass() { super(getVarCustom()); }\r\n\r\n    public subclass(double dub) { super(getVarCustom(dub)); }\r\n\r\n    private static getVarBool() { return new Boolean(true); }\r\n\r\n    private static getVarDoub() { return new Double(4.3); }\r\n\r\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\r\n\r\n    private static getVarCustom(double dub) { return new CustomType(getVarBool(), dub); }\r\n}\r\n```\r\n\r\nI guess this isn&#39;t perfect, but I&#39;m trying to minimize the impact in the codebase by not changing how other classes are using this class. \r\n\r\nIs this okay to do, or am I misunderstanding something?\r\n","title":"How to declare default member values in Java that are passed to super class but cannot be inline","body":"<p>I have code that I think is using static members incorrectly.</p>\n<p>An example is below. Variable types and names might not make sense.</p>\n<pre><code>public class subclass extends superclass {\n    private static Boolean varBool = new Boolean(true);\n    private static Double  varDoub = new Double(4.3);\n    private static CustomType varCustom = new CustomType(varBool, varDoub);\n\n    public subclass() { super(varCustom); }\n}\n</code></pre>\n<p>I think this is an incorrect use of static. I see that the author wanted to define default values that can be passed to the super class, and used static to do so. The way this class was used, I believe did not cause issues since the values didn't change, but now I want them to for different instances.</p>\n<p>I'm instead considering using static methods to define these defaults.</p>\n<pre><code>public class subclass extends superclass {\n\n    public subclass() { super(getVarCustom()); }\n\n    private static getVarBool() { return new Boolean(true); }\n\n    private static getVarDoub() { return new Double(4.3); }\n\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\n}\n</code></pre>\n<p>Which will allow me to change the defaults by passing in values to new constructors without affecting other instances.</p>\n<p>For example:</p>\n<pre><code>public class subclass extends superclass {\n\n    public subclass() { super(getVarCustom()); }\n\n    public subclass(double dub) { super(getVarCustom(dub)); }\n\n    private static getVarBool() { return new Boolean(true); }\n\n    private static getVarDoub() { return new Double(4.3); }\n\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\n\n    private static getVarCustom(double dub) { return new CustomType(getVarBool(), dub); }\n}\n</code></pre>\n<p>I guess this isn't perfect, but I'm trying to minimize the impact in the codebase by not changing how other classes are using this class.</p>\n<p>Is this okay to do, or am I misunderstanding something?</p>\n"},{"tags":["java","project-reactor","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681433996,"creation_date":1681433996,"answer_id":76010860,"question_id":75968487,"body_markdown":"     Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));\r\n        flux = flux.replay().autoConnect(2).share();   //hot publisher\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   \r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\r\n    \r\noutput : \r\nsource 0\r\nsource 1\r\n(here only source printed because, we are calling share() after subscribe)\r\n\r\n     Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\r\n        flux.replay().autoConnect(3).share().\r\n            subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));   \r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\r\n\r\noutput : \r\nfirst 0\r\nfirst 1\r\nsecond 0\r\nsecond 1\r\n(here source not printed )\r\n\r\n    Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2).replay().autoConnect(3);\r\n        flux.share().subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));  \r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\r\n\r\noutput : \r\nsource 0\r\nfirst 0\r\nsecond 0\r\nsource 1\r\nfirst 1\r\nsecond 1\r\n\r\nObserve these 3 scenarios and its outputs,its important here where and when you are subscribed and shared  ","title":"Transforming a Connectable Flux into Hot via share operator not working","body":"<pre><code> Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));\n    flux = flux.replay().autoConnect(2).share();   //hot publisher\n    flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   \n    sleep(2000);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\n</code></pre>\n<p>output :\nsource 0\nsource 1\n(here only source printed because, we are calling share() after subscribe)</p>\n<pre><code> Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\n    flux.replay().autoConnect(3).share().\n        subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));   \n    flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\n    sleep(2000);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\n</code></pre>\n<p>output :\nfirst 0\nfirst 1\nsecond 0\nsecond 1\n(here source not printed )</p>\n<pre><code>Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2).replay().autoConnect(3);\n    flux.share().subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));  \n    flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\n    sleep(2000);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\n</code></pre>\n<p>output :\nsource 0\nfirst 0\nsecond 0\nsource 1\nfirst 1\nsecond 1</p>\n<p>Observe these 3 scenarios and its outputs,its important here where and when you are subscribed and shared</p>\n"}],"owner":{"account_id":10877520,"reputation":120,"user_id":7997517,"display_name":"ABHISHEK KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76010860,"answer_count":1,"score":0,"last_activity_date":1681433996,"creation_date":1681006566,"question_id":75968487,"body_markdown":"I have below program which first creates an interval flux, taking 5 elements and subscribe to it. &lt;br&gt;\r\nPost that,I convert it to connectable flux using **replay** operator with **auto connect** 2 and then convert it to hot publisher. However,any subequent subsription doesn&#39;t receive any data irrespective of any number of subscriber I add. (sleep is used here to show effect of hot stream)\r\n```\r\n        Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(5);\r\n        flux.subscribe();\r\n        flux = flux.replay().autoConnect(2).share();   //hot publisher     \r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   //no data\r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));  //no data\r\n```\r\n\r\n\r\nThe catching thing is that, if I set auto connect to 1 (effectively making it a normal flux), then expected behaviour is observed (Output shown below).\r\n\r\nOutput: &lt;br&gt;\r\nfirst 0 &lt;br&gt;\r\nfirst 1 &lt;br&gt;\r\nfirst 2 &lt;br&gt;\r\nsecond 2 &lt;br&gt;\r\nfirst 3 &lt;br&gt;\r\nsecond 3 &lt;br&gt;\r\nfirst 4 &lt;br&gt;\r\nsecond 4 &lt;br&gt;\r\n\r\nPlease clarify or correct me, if I am wrong.","title":"Transforming a Connectable Flux into Hot via share operator not working","body":"<p>I have below program which first creates an interval flux, taking 5 elements and subscribe to it. <br>\nPost that,I convert it to connectable flux using <strong>replay</strong> operator with <strong>auto connect</strong> 2 and then convert it to hot publisher. However,any subequent subsription doesn't receive any data irrespective of any number of subscriber I add. (sleep is used here to show effect of hot stream)</p>\n<pre><code>        Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(5);\n        flux.subscribe();\n        flux = flux.replay().autoConnect(2).share();   //hot publisher     \n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   //no data\n        sleep(2000);\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));  //no data\n</code></pre>\n<p>The catching thing is that, if I set auto connect to 1 (effectively making it a normal flux), then expected behaviour is observed (Output shown below).</p>\n<p>Output: <br>\nfirst 0 <br>\nfirst 1 <br>\nfirst 2 <br>\nsecond 2 <br>\nfirst 3 <br>\nsecond 3 <br>\nfirst 4 <br>\nsecond 4 <br></p>\n<p>Please clarify or correct me, if I am wrong.</p>\n"},{"tags":["java","flutter","android-emulator","build.gradle"],"owner":{"account_id":23744554,"reputation":45,"user_id":17762181,"display_name":"Rachita Dongre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681429524,"creation_date":1681429524,"question_id":76010602,"body_markdown":"I tried running my flutter app without debugging in android emulator on vs code but it failed and I got the following message in the debug console:- (Here&#39;s the link to the codebase &lt;https://github.com/Rachita-Dongre/productivityplus&gt;)\r\n&#39;&#39;&#39;\r\nLaunching lib\\main.dart on Android SDK built for x86 64 in debug mode...\r\n\r\nmain.dart:1\r\nChecking the license for package Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\r\n\r\nLicense for package Android SDK Tools accepted.\r\n\r\nPreparing &quot;Install Android SDK Tools (revision: 26.1.1)&quot;.\r\n\r\n&quot;Install Android SDK Tools (revision: 26.1.1)&quot; ready.\r\n\r\nInstalling Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\tools\r\n\r\n&quot;Install Android SDK Tools (revision: 26.1.1)&quot; complete.\r\n\r\n&quot;Install Android SDK Tools (revision: 26.1.1)&quot; finished.\r\n\r\nChecking the license for package Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\r\nLicense for package Android SDK Build-Tools 30.0.3 accepted.\r\n\r\nPreparing &quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;.\r\n\r\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; ready.\r\n\r\nInstalling Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\build-tools\\30.0.3\r\n\r\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; complete.\r\n\r\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; finished.\r\nChecking the license for package Android SDK Platform 33 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\r\n\r\nLicense for package Android SDK Platform 33 accepted.\r\n\r\nPreparing &quot;Install Android SDK Platform 33 (revision: 2)&quot;.\r\n\r\nWarning: An error occurred while preparing SDK package Android SDK Platform 33: C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png.:\r\n\r\njava.nio.file.FileAlreadyExistsException: C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png\r\nat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:87)\r\n\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:235)\r\n\r\n\tat java.base/java.nio.file.Files.newByteChannel(Files.java:371)\r\n\r\n\tat java.base/java.nio.file.Files.createFile(Files.java:648)\r\nat com.android.repository.util.InstallerUtil.unzip(InstallerUtil.java:138)\r\n\r\n\tat com.android.repository.impl.installer.BasicInstaller.doPrepare(BasicInstaller.java:90)\r\n\r\n\tat com.android.repository.impl.installer.AbstractPackageOperation.prepare(AbstractPackageOperation.java:335)\r\n\r\n\tat com.android.builder.sdk.DefaultSdkLoader.installRemotePackages(DefaultSdkLoader.java:365)\r\n\r\n\tat com.android.builder.sdk.DefaultSdkLoader.installTarget(DefaultSdkLoader.java:244)\r\n\r\n\tat com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:161)\r\nat com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:128)\r\n\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.init(SdkFullLoadingStrategy.kt:49)\r\n\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.getTargetBootClasspath(SdkFullLoadingStrategy.kt:71)\r\n\r\n\tat com.android.build.gradle.internal.SdkLoadingStrategy.getTargetBootClasspath(SdkLoadingStrategy.kt:36)\r\n\r\n\tat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:184)\r\n\r\n\tat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:183)\r\n\r\n\tat org.gradle.api.internal.provider.DefaultProvider.calculateOwnValue(DefaultProvider.java:72)\r\nat org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)\r\n\r\n\tat org.gradle.api.internal.provider.FlatMapProvider.calculateOwnValue(FlatMapProvider.java:50)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)\r\n\r\n\tat org.gradle.api.internal.provider.FlatMapProvider.backingProvider(FlatMapProvider.java:62)\r\n\r\n\tat org.gradle.api.internal.provider.FlatMapProvider.getProducer(FlatMapProvider.java:71)\r\n\r\n\tat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\r\nat org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\r\n\r\n\tat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractCollectionProperty$PlusCollector.getProducer(AbstractCollectionProperty.java:465)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\r\nat org.gradle.api.internal.file.collections.ProviderBackedFileCollection.visitDependencies(ProviderBackedFileCollection.java:50)\r\n\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:103)\r\n\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmptyEdges.getNodeValues(CachingDirectedGraphWalker.java:213)\r\n\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\r\n\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\r\n\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\r\n\r\n\tat org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:49)\r\nat org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:162)\r\n\r\n\tat org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:136)\r\n\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.doAddNodes(DefaultExecutionPlan.java:208)\r\n\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:173)\r\n\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:158)\r\n\r\n\tat org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:47)\r\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:62)\r\n\r\n\tat org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:48)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.lambda$select$0(DefaultBuildConfigurationActionExecuter.java:36)\r\nat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:197)\r\n\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:190)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:35)\r\nat org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:42)\r\n\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$scheduleRequestedTasks$1(VintageBuildModelController.java:81)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\r\n\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\r\n\r\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)\r\n\r\n\tat org.gradle.initialization.VintageBuildModelController.scheduleRequestedTasks(VintageBuildModelController.java:81)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController$DefaultWorkGraphBuilder.addRequestedTasks(DefaultBuildLifecycleController.java:242)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$4(DefaultBuildLifecycleController.java:143)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildWorkPreparer.populateWorkGraph(DefaultBuildWorkPreparer.java:41)\r\n\r\n\tat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.populateTaskGraph(BuildOperationFiringBuildWorkPreparer.java:138)\r\nat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.run(BuildOperationFiringBuildWorkPreparer.java:89)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\r\n\tat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer.populateWorkGraph(BuildOperationFiringBuildWorkPreparer.java:66)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$5(DefaultBuildLifecycleController.java:143)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\r\n\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)\r\nat org.gradle.internal.build.DefaultBuildLifecycleController.populateWorkGraph(DefaultBuildLifecycleController.java:143)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.populateWorkGraph(DefaultBuildWorkGraphController.java:126)\r\n\r\n\tat org.gradle.composite.internal.DefaultBuildController.populateWorkGraph(DefaultBuildController.java:71)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraphBuilder.withWorkGraph(DefaultIncludedBuildTaskGraph.java:142)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.lambda$scheduleRequestedTasks$0(DefaultBuildTreeWorkPreparer.java:34)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph$1.run(DefaultIncludedBuildTaskGraph.java:170)\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph.scheduleWork(DefaultIncludedBuildTaskGraph.java:167)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:34)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:101)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\nat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69)\r\n\r\n\tat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\r\n\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\nat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\nat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\r\n\tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\nat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\r\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\r\n\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\nat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\nat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\nat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n&quot;Install Android SDK Platform 33 (revision: 2)&quot; failed.\r\n\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to install the following SDK components:\r\n      platforms;android-33 Android SDK Platform 33\r\n  Install the missing components using the SDK manager in Android Studio.\r\n\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3m 56s\r\n\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\nExited (sigterm)\r\n&#39;&#39;&#39;\r\n\r\nI wasn&#39;t able to run the app on emulator because of not having java installed so I installed it and the tried to run the app again on android emulator but the task failed and I got the above message in debug console.","title":"Gradle task assembleDebug failed with exit code 1. &quot;Install Android SDK Platform 33 (revision: 2)&quot; failed","body":"<p>I tried running my flutter app without debugging in android emulator on vs code but it failed and I got the following message in the debug console:- (Here's the link to the codebase <a href=\"https://github.com/Rachita-Dongre/productivityplus\" rel=\"nofollow noreferrer\">https://github.com/Rachita-Dongre/productivityplus</a>)\n'''\nLaunching lib\\main.dart on Android SDK built for x86 64 in debug mode...</p>\n<p>main.dart:1\nChecking the license for package Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses</p>\n<p>License for package Android SDK Tools accepted.</p>\n<p>Preparing &quot;Install Android SDK Tools (revision: 26.1.1)&quot;.</p>\n<p>&quot;Install Android SDK Tools (revision: 26.1.1)&quot; ready.</p>\n<p>Installing Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\tools</p>\n<p>&quot;Install Android SDK Tools (revision: 26.1.1)&quot; complete.</p>\n<p>&quot;Install Android SDK Tools (revision: 26.1.1)&quot; finished.</p>\n<p>Checking the license for package Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\nLicense for package Android SDK Build-Tools 30.0.3 accepted.</p>\n<p>Preparing &quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;.</p>\n<p>&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; ready.</p>\n<p>Installing Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\build-tools\\30.0.3</p>\n<p>&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; complete.</p>\n<p>&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; finished.\nChecking the license for package Android SDK Platform 33 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses</p>\n<p>License for package Android SDK Platform 33 accepted.</p>\n<p>Preparing &quot;Install Android SDK Platform 33 (revision: 2)&quot;.</p>\n<p>Warning: An error occurred while preparing SDK package Android SDK Platform 33: C:\\Users\\dell\\AppData\\Local\\Android\\sdk.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png.:</p>\n<p>java.nio.file.FileAlreadyExistsException: C:\\Users\\dell\\AppData\\Local\\Android\\sdk.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png\nat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:87)</p>\n<pre><code>at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n\nat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n\nat java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:235)\n\nat java.base/java.nio.file.Files.newByteChannel(Files.java:371)\n\nat java.base/java.nio.file.Files.createFile(Files.java:648)\n</code></pre>\n<p>at com.android.repository.util.InstallerUtil.unzip(InstallerUtil.java:138)</p>\n<pre><code>at com.android.repository.impl.installer.BasicInstaller.doPrepare(BasicInstaller.java:90)\n\nat com.android.repository.impl.installer.AbstractPackageOperation.prepare(AbstractPackageOperation.java:335)\n\nat com.android.builder.sdk.DefaultSdkLoader.installRemotePackages(DefaultSdkLoader.java:365)\n\nat com.android.builder.sdk.DefaultSdkLoader.installTarget(DefaultSdkLoader.java:244)\n\nat com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:161)\n</code></pre>\n<p>at com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:128)</p>\n<pre><code>at com.android.build.gradle.internal.SdkFullLoadingStrategy.init(SdkFullLoadingStrategy.kt:49)\n\nat com.android.build.gradle.internal.SdkFullLoadingStrategy.getTargetBootClasspath(SdkFullLoadingStrategy.kt:71)\n\nat com.android.build.gradle.internal.SdkLoadingStrategy.getTargetBootClasspath(SdkLoadingStrategy.kt:36)\n\nat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:184)\n\nat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:183)\n\nat org.gradle.api.internal.provider.DefaultProvider.calculateOwnValue(DefaultProvider.java:72)\n</code></pre>\n<p>at org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)</p>\n<pre><code>at org.gradle.api.internal.provider.FlatMapProvider.calculateOwnValue(FlatMapProvider.java:50)\n\nat org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)\n\nat org.gradle.api.internal.provider.FlatMapProvider.backingProvider(FlatMapProvider.java:62)\n\nat org.gradle.api.internal.provider.FlatMapProvider.getProducer(FlatMapProvider.java:71)\n\nat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\n</code></pre>\n<p>at org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)</p>\n<pre><code>at org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\n\nat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\n\nat org.gradle.api.internal.provider.AbstractCollectionProperty$PlusCollector.getProducer(AbstractCollectionProperty.java:465)\n\nat org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)\n\nat org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\n</code></pre>\n<p>at org.gradle.api.internal.file.collections.ProviderBackedFileCollection.visitDependencies(ProviderBackedFileCollection.java:50)</p>\n<pre><code>at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:103)\n\nat org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmptyEdges.getNodeValues(CachingDirectedGraphWalker.java:213)\n\nat org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\n\nat org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\n\nat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\n\nat org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:49)\n</code></pre>\n<p>at org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:162)</p>\n<pre><code>at org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:136)\n\nat org.gradle.execution.plan.DefaultExecutionPlan.doAddNodes(DefaultExecutionPlan.java:208)\n\nat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:173)\n\nat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:158)\n\nat org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:47)\n</code></pre>\n<p>at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)</p>\n<pre><code>at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:62)\n\nat org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:48)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.lambda$select$0(DefaultBuildConfigurationActionExecuter.java:36)\n</code></pre>\n<p>at org.gradle.internal.Factories$1.create(Factories.java:31)</p>\n<pre><code>at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:197)\n\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:190)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:35)\n</code></pre>\n<p>at org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:42)</p>\n<pre><code>at org.gradle.initialization.VintageBuildModelController.lambda$scheduleRequestedTasks$1(VintageBuildModelController.java:81)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\n\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\n</code></pre>\n<p>at org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)</p>\n<pre><code>at org.gradle.initialization.VintageBuildModelController.scheduleRequestedTasks(VintageBuildModelController.java:81)\n\nat org.gradle.internal.build.DefaultBuildLifecycleController$DefaultWorkGraphBuilder.addRequestedTasks(DefaultBuildLifecycleController.java:242)\n\nat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$4(DefaultBuildLifecycleController.java:143)\n\nat org.gradle.internal.build.DefaultBuildWorkPreparer.populateWorkGraph(DefaultBuildWorkPreparer.java:41)\n\nat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.populateTaskGraph(BuildOperationFiringBuildWorkPreparer.java:138)\n</code></pre>\n<p>at org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.run(BuildOperationFiringBuildWorkPreparer.java:89)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n\nat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer.populateWorkGraph(BuildOperationFiringBuildWorkPreparer.java:66)\n\nat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$5(DefaultBuildLifecycleController.java:143)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\n\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\n\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)\n</code></pre>\n<p>at org.gradle.internal.build.DefaultBuildLifecycleController.populateWorkGraph(DefaultBuildLifecycleController.java:143)</p>\n<pre><code>at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.populateWorkGraph(DefaultBuildWorkGraphController.java:126)\n\nat org.gradle.composite.internal.DefaultBuildController.populateWorkGraph(DefaultBuildController.java:71)\n\nat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraphBuilder.withWorkGraph(DefaultIncludedBuildTaskGraph.java:142)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.lambda$scheduleRequestedTasks$0(DefaultBuildTreeWorkPreparer.java:34)\n\nat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph$1.run(DefaultIncludedBuildTaskGraph.java:170)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)</p>\n<pre><code>at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph.scheduleWork(DefaultIncludedBuildTaskGraph.java:167)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:34)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\n\nat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:101)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n\nat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\n\nat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n</code></pre>\n<p>at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)</p>\n<pre><code>at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n\nat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69)\n\nat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n</code></pre>\n<p>at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)</p>\n<pre><code>at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n\nat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n\nat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\n\nat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n\nat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n\nat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n</code></pre>\n<p>at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)</p>\n<pre><code>at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n\nat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n\nat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n\nat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n</code></pre>\n<p>at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n\nat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n</code></pre>\n<p>at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)</p>\n<pre><code>at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n\nat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n\nat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n</code></pre>\n<p>at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)</p>\n<pre><code>at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\n</code></pre>\n<p>at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)</p>\n<pre><code>at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n\nat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)</p>\n<pre><code>at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)</p>\n<pre><code>at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)</p>\n<pre><code>at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)</p>\n<pre><code>at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n</code></pre>\n<p>at java.base/java.lang.Thread.run(Thread.java:834)</p>\n<p>&quot;Install Android SDK Platform 33 (revision: 2)&quot; failed.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Failed to install the following SDK components:\nplatforms;android-33 Android SDK Platform 33\nInstall the missing components using the SDK manager in Android Studio.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 3m 56s</p>\n<p>Exception: Gradle task assembleDebug failed with exit code 1</p>\n<p>Exited (sigterm)\n'''</p>\n<p>I wasn't able to run the app on emulator because of not having java installed so I installed it and the tried to run the app again on android emulator but the task failed and I got the above message in debug console.</p>\n"},{"tags":["java","cucumber","gherkin"],"comments":[{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1681474384,"post_id":76008163,"comment_id":134066238,"body_markdown":"Is it something you have to do multiple times? Outlines are meant to capture different data driven flows.  In your case, is it a data driven case?","body":"Is it something you have to do multiple times? Outlines are meant to capture different data driven flows.  In your case, is it a data driven case?"}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681428279,"creation_date":1681428279,"answer_id":76010535,"question_id":76008163,"body_markdown":"You would say in your feature file that you are using a random email. The details don&#39;t matter, so don&#39;t mention those.\r\n\r\n```feature\r\nFeature: Login User\r\n   Scenario: Login\r\n    Given a user account with a random email and password\r\n    When the credentials from the user account are used to login on the web\r\n    Then a new web login event is emitted\r\n```\r\n\r\nIf you want to know after the test what the credentials where you can use the `Scenario.log` method to add them into the Cucumber report.","title":"Pass variable of a java file to feature file in java","body":"<p>You would say in your feature file that you are using a random email. The details don't matter, so don't mention those.</p>\n<pre><code>Feature: Login User\n   Scenario: Login\n    Given a user account with a random email and password\n    When the credentials from the user account are used to login on the web\n    Then a new web login event is emitted\n</code></pre>\n<p>If you want to know after the test what the credentials where you can use the <code>Scenario.log</code> method to add them into the Cucumber report.</p>\n"}],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681428279,"creation_date":1681405968,"question_id":76008163,"body_markdown":"I am working on mobile automation using appium with Cucumber, I have to generate an email with random value on other java file i.e. ```EmailUtils.java```\r\n\r\n, whose method can be like this \r\n\r\n    public String generateEmail(){\r\n          return emailAddress;\r\n    }\r\n\r\nNow I have feature file:\r\n\r\n    Feature: Login User\r\n       Scenario Outline:\r\n        Given: Add &quot;&lt;Email&gt;&quot; address on field\r\n    Examples:\r\n    |Email|\r\n    | Add that value of generateEmail.java |\r\n\r\nIs that achievable or do I need to create step method dedicatedly for this.","title":"Pass variable of a java file to feature file in java","body":"<p>I am working on mobile automation using appium with Cucumber, I have to generate an email with random value on other java file i.e. <code>EmailUtils.java</code></p>\n<p>, whose method can be like this</p>\n<pre><code>public String generateEmail(){\n      return emailAddress;\n}\n</code></pre>\n<p>Now I have feature file:</p>\n<pre><code>Feature: Login User\n   Scenario Outline:\n    Given: Add &quot;&lt;Email&gt;&quot; address on field\nExamples:\n|Email|\n| Add that value of generateEmail.java |\n</code></pre>\n<p>Is that achievable or do I need to create step method dedicatedly for this.</p>\n"},{"tags":["java","templates"],"comments":[{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1321975237,"post_id":2613404,"comment_id":10120164,"body_markdown":"possible duplicate of [Suggestions for a Java-based templating engine?](http://stackoverflow.com/questions/174204/suggestions-for-a-java-based-templating-engine)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/174204/suggestions-for-a-java-based-templating-engine\">Suggestions for a Java-based templating engine?</a>"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1270904161,"creation_date":1270904161,"answer_id":2613424,"question_id":2613404,"body_markdown":"How about [Velocity][1]?\r\n\r\n- full Java\r\n- does not require servlets\r\n- it has file, jar, classpath &amp; URL resource loaders (and maybe more)\r\n- templates can include other templates (if this is what you mean)\r\n- has good tutorials, so far I could get what I needed from the docs\r\n\r\n\r\n  [1]: http://velocity.apache.org/","title":"Template engine recommendations","body":"<p>How about <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">Velocity</a>?</p>\n\n<ul>\n<li>full Java</li>\n<li>does not require servlets</li>\n<li>it has file, jar, classpath &amp; URL resource loaders (and maybe more)</li>\n<li>templates can include other templates (if this is what you mean)</li>\n<li>has good tutorials, so far I could get what I needed from the docs</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":117733,"reputation":5301,"user_id":308193,"accept_rate":59,"display_name":"Little Bobby Tables"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270912787,"creation_date":1270912787,"answer_id":2613847,"question_id":2613404,"body_markdown":"If my memory serves, [FreeMaker][1] is decent - Suppose to be some sort of &quot;Velocity, the next generation&quot;. \r\n\r\n\r\n  [1]: http://freemarker.sourceforge.net/","title":"Template engine recommendations","body":"<p>If my memory serves, <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow noreferrer\">FreeMaker</a> is decent - Suppose to be some sort of \"Velocity, the next generation\". </p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1270961664,"creation_date":1270961664,"answer_id":2616089,"question_id":2613404,"body_markdown":"maybe check out &quot;JSTP&quot;, http://jstp.sourceforge.net/manual.html\r\n\r\nits syntax is subset of JSP, therefore IDE support is excellent.\r\n\r\na &quot;jstp&quot; template is translated into a plain java class at build time. there is no runtime dependency.\r\n\r\n&quot;parameters&quot; to a template should be passed by member fields. static typing all the way.\r\n\r\nBar.jstp\r\n\r\n    &lt;%!                                        \r\n        public String name;                    \r\n    %&gt;\r\n                                         \r\n    Hello &lt;%= name %&gt; \r\n\r\nbuild converts it into Bar.java\r\n\r\n    public class Bar                                        \r\n    {                                                       \r\n        public String name;                                 \r\n        public void render(java.io.PrintWriter out)         \r\n        {                                                   \r\n            out.print(&quot;Hello &quot;);                            \r\n            out.print(String.valueOf(name));                \r\n            ...                                             \r\n        }                                                   \r\n    }  \r\n\r\nand you invoke the template by\r\n\r\n    Bar bar = new Bar();                              \r\n    bar.name = &quot;John&quot;;                               \r\n    bar.render(..);       \r\n\r\n\r\n\r\nwith typical &quot;hotswap&quot; you shouldn&#39;t have to restart serve when editing the template.","title":"Template engine recommendations","body":"<p>maybe check out \"JSTP\", <a href=\"http://jstp.sourceforge.net/manual.html\" rel=\"nofollow noreferrer\">http://jstp.sourceforge.net/manual.html</a></p>\n\n<p>its syntax is subset of JSP, therefore IDE support is excellent.</p>\n\n<p>a \"jstp\" template is translated into a plain java class at build time. there is no runtime dependency.</p>\n\n<p>\"parameters\" to a template should be passed by member fields. static typing all the way.</p>\n\n<p>Bar.jstp</p>\n\n<pre><code>&lt;%!                                        \n    public String name;                    \n%&gt;\n\nHello &lt;%= name %&gt; \n</code></pre>\n\n<p>build converts it into Bar.java</p>\n\n<pre><code>public class Bar                                        \n{                                                       \n    public String name;                                 \n    public void render(java.io.PrintWriter out)         \n    {                                                   \n        out.print(\"Hello \");                            \n        out.print(String.valueOf(name));                \n        ...                                             \n    }                                                   \n}  \n</code></pre>\n\n<p>and you invoke the template by</p>\n\n<pre><code>Bar bar = new Bar();                              \nbar.name = \"John\";                               \nbar.render(..);       \n</code></pre>\n\n<p>with typical \"hotswap\" you shouldn't have to restart serve when editing the template.</p>\n"},{"tags":[],"owner":{"account_id":1221800,"reputation":1317,"user_id":1188310,"display_name":"Bernd Ebertz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346509702,"creation_date":1346509702,"answer_id":12228578,"question_id":2613404,"body_markdown":"What about [Snippetory][1]? \r\n\r\n - It&#39;s full java, (even your logic is written in java!) \r\n - Templates are loaded by the UriResolver, with implementations for calsspath, file system and URL. \r\n - It can be used outside Servlets, for example as ad hoc template like `String.format`. \r\n - It&#39;s entirely based on parametrized inclusion of templates.\r\n - The docs are ok and it&#39;s much simpler than the script based engines, so you really don&#39;t need that much.\r\n - And a new version with [great new freatures][2] is coming soon, I think\r\n\r\n\r\n  [1]: http://www.jproggy.org/snippetory\r\n  [2]: http://snippetory.wordpress.com/feature-announcement-for-snippetory-0-9-5/","title":"Template engine recommendations","body":"<p>What about <a href=\"http://www.jproggy.org/snippetory\" rel=\"nofollow\">Snippetory</a>? </p>\n\n<ul>\n<li>It's full java, (even your logic is written in java!) </li>\n<li>Templates are loaded by the UriResolver, with implementations for calsspath, file system and URL. </li>\n<li>It can be used outside Servlets, for example as ad hoc template like <code>String.format</code>. </li>\n<li>It's entirely based on parametrized inclusion of templates.</li>\n<li>The docs are ok and it's much simpler than the script based engines, so you really don't need that much.</li>\n<li>And a new version with <a href=\"http://snippetory.wordpress.com/feature-announcement-for-snippetory-0-9-5/\" rel=\"nofollow\">great new freatures</a> is coming soon, I think</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3412024,"reputation":1,"user_id":2861736,"display_name":"nabedge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381304963,"creation_date":1381304963,"answer_id":19266048,"question_id":2613404,"body_markdown":"Try Mixer2. http://mixer2.org/\r\nMixer2 has no dependency for servlet-API.\r\nYou can store the template on String, java.io.File, and java.io.InputStream.\r\n","title":"Template engine recommendations","body":"<p>Try Mixer2. <a href=\"http://mixer2.org/\" rel=\"nofollow\">http://mixer2.org/</a>\nMixer2 has no dependency for servlet-API.\nYou can store the template on String, java.io.File, and java.io.InputStream.</p>\n"},{"tags":[],"owner":{"account_id":666985,"reputation":6699,"user_id":490322,"display_name":"Tom McClure"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382759406,"creation_date":1382759406,"answer_id":19602592,"question_id":2613404,"body_markdown":"Chunk, my no-nonsense template engine for Java, would be a good choice.\r\n\r\n * Lightweight.\r\n * Great docs with examples and recipes: http://www.x5software.com/chunk\r\n * Standalone - no servlets required.\r\n * Templates from filesystem, classpath, strings, a [webserver, or write your own template provider][1].\r\n * Based on simple templates with {$tags}.\r\n * Templates can include other templates or even execute them as macros with a json-formatted dictionary of tag values.\r\n * Looping, conditionals, filters, all the typical goodies.\r\n\r\n  [1]: http://www.x5software.com/chunk/examples/ChunkExample?example=net&amp;loc=en_US#input-more-EG1","title":"Template engine recommendations","body":"<p>Chunk, my no-nonsense template engine for Java, would be a good choice.</p>\n\n<ul>\n<li>Lightweight.</li>\n<li>Great docs with examples and recipes: <a href=\"http://www.x5software.com/chunk\" rel=\"nofollow\">http://www.x5software.com/chunk</a></li>\n<li>Standalone - no servlets required.</li>\n<li>Templates from filesystem, classpath, strings, a <a href=\"http://www.x5software.com/chunk/examples/ChunkExample?example=net&amp;loc=en_US#input-more-EG1\" rel=\"nofollow\">webserver, or write your own template provider</a>.</li>\n<li>Based on simple templates with {$tags}.</li>\n<li>Templates can include other templates or even execute them as macros with a json-formatted dictionary of tag values.</li>\n<li>Looping, conditionals, filters, all the typical goodies.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":188123,"reputation":243956,"user_id":426671,"accept_rate":96,"display_name":"Taryn"},"score":0,"creation_date":1406245080,"post_id":24688812,"comment_id":38768810,"body_markdown":"I suggest elaborating on why this library would work for the user, at this time this is basically a link-only answer which is considered low quality.","body":"I suggest elaborating on why this library would work for the user, at this time this is basically a link-only answer which is considered low quality."}],"tags":[],"owner":{"account_id":1003184,"reputation":852,"user_id":1017571,"accept_rate":75,"display_name":"mbosecke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681427410,"creation_date":1405041702,"answer_id":24688812,"question_id":2613404,"body_markdown":"I&#39;m the author of [Pebble][1] which fits your criteria quite well. \r\n\r\n\r\n  [1]: https://github.com/PebbleTemplates/pebble","title":"Template engine recommendations","body":"<p>I'm the author of <a href=\"https://github.com/PebbleTemplates/pebble\" rel=\"nofollow noreferrer\">Pebble</a> which fits your criteria quite well.</p>\n"}],"owner":{"account_id":13361,"reputation":5213,"user_id":26787,"accept_rate":50,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2430,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"closed_date":1405042001,"answer_count":7,"score":6,"last_activity_date":1681427410,"creation_date":1270903588,"question_id":2613404,"body_markdown":"I&#39;m looking for a template engine. Requirements:\r\n\r\n* Runs on a JVM. Java is good; Jython, JRuby and the like, too...\r\n* Can be used outside of servlets (unlike JSP)\r\n* Is flexible wrt. to where the templates are stored (JSP and a lot of people require the templates to be stored in the FS). It should provide a template loading interface which one can implement or something like that\r\n* Easy inclusion of parameterized templates- I really like JSP&#39;s tag fragments\r\n* Good docs, nice code, etc., the usual suspects\r\n\r\nI&#39;ve looked at JSP- it&#39;s nearly perfect except for the servlet and filesystem coupling, Stringtemplate- I love the template syntax, but it fails on the filesystem coupling, the documentation is lacking and template groups and stuff are confusing, GXP, TAL, etc.\r\n\r\nIdeas, thoughts?","title":"Template engine recommendations","body":"<p>I'm looking for a template engine. Requirements:</p>\n\n<ul>\n<li>Runs on a JVM. Java is good; Jython, JRuby and the like, too...</li>\n<li>Can be used outside of servlets (unlike JSP)</li>\n<li>Is flexible wrt. to where the templates are stored (JSP and a lot of people require the templates to be stored in the FS). It should provide a template loading interface which one can implement or something like that</li>\n<li>Easy inclusion of parameterized templates- I really like JSP's tag fragments</li>\n<li>Good docs, nice code, etc., the usual suspects</li>\n</ul>\n\n<p>I've looked at JSP- it's nearly perfect except for the servlet and filesystem coupling, Stringtemplate- I love the template syntax, but it fails on the filesystem coupling, the documentation is lacking and template groups and stuff are confusing, GXP, TAL, etc.</p>\n\n<p>Ideas, thoughts?</p>\n"},{"tags":["java","android","android-fragments","android-adapter"],"comments":[{"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1681427608,"post_id":76010469,"comment_id":134058981,"body_markdown":"This suggests that the adapter is trying to call the toString() on a null object, which is likely caused by the itemArray containing null values. Have you checked your data?","body":"This suggests that the adapter is trying to call the toString() on a null object, which is likely caused by the itemArray containing null values. Have you checked your data?"},{"owner":{"account_id":16544414,"reputation":5,"user_id":11954318,"display_name":"deeko"},"score":0,"creation_date":1681429046,"post_id":76010469,"comment_id":134059125,"body_markdown":"@MarcinOrlowski I have made a silly mistake. I forgot to include the &quot;j++&quot; line to continue past the first array index. Silly question as I was thinking my adapter was the issue as I have only just started covering these. Simple iteration was the issue ! ;-;","body":"@MarcinOrlowski I have made a silly mistake. I forgot to include the &quot;j++&quot; line to continue past the first array index. Silly question as I was thinking my adapter was the issue as I have only just started covering these. Simple iteration was the issue ! ;-;"}],"owner":{"account_id":16544414,"reputation":5,"user_id":11954318,"display_name":"deeko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681427231,"creation_date":1681427231,"question_id":76010469,"body_markdown":"I am unsure where I am going wrong. I have used an array before to populate a listview and had no issues. Now that I am using a fragment I receive errors that I am unable to fix. I log to find where the error is and the application only crashes when running the last commented out line.\r\n\r\nMy error message is `Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference` but how can this be when I am performing the to string on an array of strings (which I believe I have done before without fragments). If it is an issue with the adapter please enlighten me as to what should be there.\r\n\r\n\r\n**ListView Fragment**\r\n    public class ListviewFragment extends Fragment implements AdapterView.OnItemClickListener, View.OnClickListener {\r\n    private LinkedList&lt;ItemClass&gt; linkedList;\r\n    private ListView listView;\r\n\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    )\r\n    {\r\n\r\n\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.frag_listviewfragment, container, false);\r\n        MainActivity mainActivity = (MainActivity) getActivity();\r\n\r\n        LinkedList&lt;ItemClass&gt; items = mainActivity.alist;\r\n\r\n        int size = items.size();\r\n        int j = 0;\r\n        String itemArray[ ] = new String[size];\r\n\r\n        if(items == null){\r\n            Log.d(&quot;UI thread&quot;, &quot;SHITS EMPTY FAM &quot; );\r\n        }\r\n        else{\r\n            for(ItemClass i : items){\r\n\r\n                Log.d(&quot;UI thread&quot;, &quot;I am the UI thread &quot; + i.getdescription());\r\n                //Log.d(&quot;UI thread&quot;, &quot;The size of items is: &quot; + size);\r\n                itemArray[j] = i.getTitle();\r\n                Log.d(&quot;UI thread&quot;, &quot;following was added to array: &quot; + i.getTitle());\r\n                Log.d(&quot;UI thread&quot;, &quot;The size of the array is: &quot; + itemArray.length);\r\n            }\r\n        }\r\n\r\n        Log.d(&quot;UI thread&quot;, &quot;The size of the array is STILL: &quot; + itemArray.length);\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), R.layout.activity_listview, itemArray);\r\n        if (adapter == null)\r\n        {\r\n            Log.e(&quot;MyTag&quot;,&quot;Adapter error&quot;);\r\n        }\r\n        listView = (ListView) v.findViewById(R.id.list);\r\n        if(listView == null){\r\n            Log.e(&quot;MyTag&quot;,&quot;listview error&quot;);\r\n        }\r\n\r\n        //listView.setAdapter(adapter);\r\n\r\n\r\n\r\n\r\n        return v;\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState)\r\n    {\r\n\r\n\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n\r\n\r\n\r\n//        ListView listView = (ListView) view.findViewById(R.id.list);\r\n//        listView.setOnItemClickListener((AdapterView.OnItemClickListener) this);\r\n\r\n        //ArrayList&lt;ItemClass&gt; newList = null;\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n} // End of listview Fragment","title":"Unable to populate listview fragment from array of string","body":"<p>I am unsure where I am going wrong. I have used an array before to populate a listview and had no issues. Now that I am using a fragment I receive errors that I am unable to fix. I log to find where the error is and the application only crashes when running the last commented out line.</p>\n<p>My error message is <code>Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference</code> but how can this be when I am performing the to string on an array of strings (which I believe I have done before without fragments). If it is an issue with the adapter please enlighten me as to what should be there.</p>\n<p><strong>ListView Fragment</strong>\npublic class ListviewFragment extends Fragment implements AdapterView.OnItemClickListener, View.OnClickListener {\nprivate LinkedList linkedList;\nprivate ListView listView;</p>\n<pre><code>@Override\npublic View onCreateView(\n        LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState\n)\n{\n\n\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.frag_listviewfragment, container, false);\n    MainActivity mainActivity = (MainActivity) getActivity();\n\n    LinkedList&lt;ItemClass&gt; items = mainActivity.alist;\n\n    int size = items.size();\n    int j = 0;\n    String itemArray[ ] = new String[size];\n\n    if(items == null){\n        Log.d(&quot;UI thread&quot;, &quot;SHITS EMPTY FAM &quot; );\n    }\n    else{\n        for(ItemClass i : items){\n\n            Log.d(&quot;UI thread&quot;, &quot;I am the UI thread &quot; + i.getdescription());\n            //Log.d(&quot;UI thread&quot;, &quot;The size of items is: &quot; + size);\n            itemArray[j] = i.getTitle();\n            Log.d(&quot;UI thread&quot;, &quot;following was added to array: &quot; + i.getTitle());\n            Log.d(&quot;UI thread&quot;, &quot;The size of the array is: &quot; + itemArray.length);\n        }\n    }\n\n    Log.d(&quot;UI thread&quot;, &quot;The size of the array is STILL: &quot; + itemArray.length);\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), R.layout.activity_listview, itemArray);\n    if (adapter == null)\n    {\n        Log.e(&quot;MyTag&quot;,&quot;Adapter error&quot;);\n    }\n    listView = (ListView) v.findViewById(R.id.list);\n    if(listView == null){\n        Log.e(&quot;MyTag&quot;,&quot;listview error&quot;);\n    }\n\n    //listView.setAdapter(adapter);\n\n\n\n\n    return v;\n}\n\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState)\n{\n\n\n    super.onViewCreated(view, savedInstanceState);\n</code></pre>\n<p>//        ListView listView = (ListView) view.findViewById(R.id.list);\n//        listView.setOnItemClickListener((AdapterView.OnItemClickListener) this);</p>\n<pre><code>    //ArrayList&lt;ItemClass&gt; newList = null;\n\n\n}\n\n\n@Override\npublic void onClick(View view) {\n\n}\n\n@Override\npublic void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n}\n</code></pre>\n<p>} // End of listview Fragment</p>\n"},{"tags":["java","url","jersey","jetty","guice"],"answers":[{"tags":[],"owner":{"account_id":407754,"reputation":46,"user_id":778003,"display_name":"ydarias"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399994377,"creation_date":1399994377,"answer_id":23635285,"question_id":16568939,"body_markdown":"Maybe your current endpoints should be refactored, but anyway your code looks a bit more complicated than neccesary. In my case it works like this.\r\n\r\n    ...\r\n    String packages = &quot;com.abc.web.stats.services;com.abc.web.stats.otherservices&quot;;\r\n    params.put(PackagesResourceConfig.PROPERTY_PACKAGES, packages);\r\n    \r\n    serve(&quot;/api/v1/*&quot;).with(GuiceContainer.class, params);\r\n    serve(&quot;/api/*&quot;).with(GuiceContainer.class, params);\r\n    ...\r\n\r\nJersey can scan multiple packages with a list separated by ;\r\n\r\nMaybe you should change your &quot;api/*&quot; endpoint but I&#39;m not really sure about how Jersey will work in that situation. I could bet it works fine with this code.\r\n    ","title":"Google Guice &amp; Jersey multiple URL patterns to same servlet while applying package filtering","body":"<p>Maybe your current endpoints should be refactored, but anyway your code looks a bit more complicated than neccesary. In my case it works like this.</p>\n\n<pre><code>...\nString packages = \"com.abc.web.stats.services;com.abc.web.stats.otherservices\";\nparams.put(PackagesResourceConfig.PROPERTY_PACKAGES, packages);\n\nserve(\"/api/v1/*\").with(GuiceContainer.class, params);\nserve(\"/api/*\").with(GuiceContainer.class, params);\n...\n</code></pre>\n\n<p>Jersey can scan multiple packages with a list separated by ;</p>\n\n<p>Maybe you should change your \"api/*\" endpoint but I'm not really sure about how Jersey will work in that situation. I could bet it works fine with this code.</p>\n"},{"tags":[],"owner":{"account_id":28299116,"reputation":1,"user_id":21638083,"display_name":"FaceMcBashy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681427147,"creation_date":1681427147,"answer_id":76010462,"question_id":16568939,"body_markdown":"I ran into the same issue. I think that by default, GuiceContainer specified in the serve function will be created as singleton, thus, even though you have different params for it, it will still be serve under the same path.\r\n\r\nTo get around the issue, I had to create a different GuiceContainer. However, creating GuiceContainer requires an Injector as parameter, which you might not have in configureServlets function. Thus a provider is used to inject the GuiceContainer when it is needed. Guice Key is used so we ensure a different instance of it is created.\r\n\r\n    public final class GuiceContextListener extends GuiceServletContextListener {\r\n        private JerseyServletModule getJerseyServletModule() {\r\n            JerseyServletModule jerseyModule = new JerseyServletModule() {\r\n                @Override\r\n                protected void configureServlets() {\r\n                    filter(&quot;/*&quot;).through(WebServerStateFilter.class);\r\n                    final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    sb.append(&quot;com.abc.web.stats.services&quot;);\r\n                    params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\r\n                    bind(GuiceContainer.class)\r\n                      .annotatedWith(Names.named(&quot;path1&quot;))\r\n                      .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\r\n                    serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path1&quot;)), params1);\r\n\r\n                    final Map&lt;String, String&gt; params2 = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb2 = new StringBuilder();\r\n                    sb2.append(&quot;com.abc.web.stats.otherservices&quot;);\r\n                    params2.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb2.toString());\r\n                    bind(GuiceContainer.class)\r\n                      .annotatedWith(Names.named(&quot;path2&quot;))\r\n                      .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\r\n                    serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path2&quot;)), params2);\r\n                }\r\n            }\r\n        }\r\n        ...\r\n        private GuiceContainerProvider implements Provider&lt;GuiceContainer&gt; {\r\n            @Inject\r\n            private Injector injector;\r\n            @Override\r\n            public GuiceContainer get() {\r\n              return new GuiceContainer(this.injector);\r\n            } \r\n        }\r\n    }\r\n\r\nNot sure if this is best practice but it helped me get around the issue.","title":"Google Guice &amp; Jersey multiple URL patterns to same servlet while applying package filtering","body":"<p>I ran into the same issue. I think that by default, GuiceContainer specified in the serve function will be created as singleton, thus, even though you have different params for it, it will still be serve under the same path.</p>\n<p>To get around the issue, I had to create a different GuiceContainer. However, creating GuiceContainer requires an Injector as parameter, which you might not have in configureServlets function. Thus a provider is used to inject the GuiceContainer when it is needed. Guice Key is used so we ensure a different instance of it is created.</p>\n<pre><code>public final class GuiceContextListener extends GuiceServletContextListener {\n    private JerseyServletModule getJerseyServletModule() {\n        JerseyServletModule jerseyModule = new JerseyServletModule() {\n            @Override\n            protected void configureServlets() {\n                filter(&quot;/*&quot;).through(WebServerStateFilter.class);\n                final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\n                StringBuilder sb = new StringBuilder();\n                sb.append(&quot;com.abc.web.stats.services&quot;);\n                params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\n                bind(GuiceContainer.class)\n                  .annotatedWith(Names.named(&quot;path1&quot;))\n                  .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\n                serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path1&quot;)), params1);\n\n                final Map&lt;String, String&gt; params2 = new HashMap&lt;String, String&gt;();\n                StringBuilder sb2 = new StringBuilder();\n                sb2.append(&quot;com.abc.web.stats.otherservices&quot;);\n                params2.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb2.toString());\n                bind(GuiceContainer.class)\n                  .annotatedWith(Names.named(&quot;path2&quot;))\n                  .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\n                serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path2&quot;)), params2);\n            }\n        }\n    }\n    ...\n    private GuiceContainerProvider implements Provider&lt;GuiceContainer&gt; {\n        @Inject\n        private Injector injector;\n        @Override\n        public GuiceContainer get() {\n          return new GuiceContainer(this.injector);\n        } \n    }\n}\n</code></pre>\n<p>Not sure if this is best practice but it helped me get around the issue.</p>\n"}],"owner":{"account_id":1321531,"reputation":287,"user_id":1267252,"accept_rate":80,"display_name":"Paul Chiritescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1681427147,"creation_date":1368631129,"question_id":16568939,"body_markdown":"I am trying, using Jersey &amp; Google Guice 3.0, to map 2 different URL patterns to the same servlet and each of these URL patterns to be applied to a different package in my project.\r\n\r\nTo be clear I am pasting part of the code below and I will also explain.\r\n\r\n**web.xml**\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.abc.web.listeners.GuiceContextListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;filter&gt;\r\n    \t&lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\r\n    \t&lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n    \t&lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\r\n    \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n**GuiceContextListener**\r\n\r\n    public final class GuiceContextListener extends GuiceServletContextListener {\r\n    ...\r\n        private JerseyServletModule getJerseyServletModule() {\r\n            JerseyServletModule jerseyModule = new JerseyServletModule() {\r\n    \t        @Override\r\n    \t        protected void configureServlets() {\r\n                    filter(&quot;/*&quot;).through(WebServerStateFilter.class);\r\n                    final Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    sb.append(&quot;com.abc.web.stats.services&quot;);\r\n                    params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\r\n                    serve(&quot;/api/v1/*&quot;).with(GuiceContainer.class, params);\r\n\r\n                    final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb1 = new StringBuilder();\r\n                    sb1.append(&quot;com.abc.web.stats.otherservices&quot;);\r\n                    params1.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb1.toString());\r\n                    serve(&quot;/api/*&quot;).with(GuiceContainer.class, params1);\r\n                }\r\n            }\r\n        }\r\n    ...\r\n    }\r\n\r\nSo basically I want:\r\n\r\n - URLs starting with **&quot;/api/v1/*&quot;** to be handled through servlet GuiceContainer by services in package &quot;com.abc.web.stats.**services**&quot;\r\n - URLs starting with **&quot;/api/*&quot;** to be handled through same servlet GuiceContainer by services in package &quot;com.abc.web.stats.**otherservices**&quot;\r\n\r\nI used the code above but it does not seem to work, it seems that only the first &quot;serve&quot; call is taken into consideration so in this case only URLs matching &quot;/api/v1/*&quot; are served. \r\nI do not want to hardcode &quot;v1&quot; in my services since the version might change (to &quot;v2&quot;) in the future.\r\n\r\nCan somebody help me out?\r\n\r\nThanks,\r\nPaul","title":"Google Guice &amp; Jersey multiple URL patterns to same servlet while applying package filtering","body":"<p>I am trying, using Jersey &amp; Google Guice 3.0, to map 2 different URL patterns to the same servlet and each of these URL patterns to be applied to a different package in my project.</p>\n\n<p>To be clear I am pasting part of the code below and I will also explain.</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.abc.web.listeners.GuiceContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p><strong>GuiceContextListener</strong></p>\n\n<pre><code>public final class GuiceContextListener extends GuiceServletContextListener {\n...\n    private JerseyServletModule getJerseyServletModule() {\n        JerseyServletModule jerseyModule = new JerseyServletModule() {\n            @Override\n            protected void configureServlets() {\n                filter(\"/*\").through(WebServerStateFilter.class);\n                final Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                StringBuilder sb = new StringBuilder();\n                sb.append(\"com.abc.web.stats.services\");\n                params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\n                serve(\"/api/v1/*\").with(GuiceContainer.class, params);\n\n                final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\n                StringBuilder sb1 = new StringBuilder();\n                sb1.append(\"com.abc.web.stats.otherservices\");\n                params1.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb1.toString());\n                serve(\"/api/*\").with(GuiceContainer.class, params1);\n            }\n        }\n    }\n...\n}\n</code></pre>\n\n<p>So basically I want:</p>\n\n<ul>\n<li>URLs starting with <strong>\"/api/v1/*\"</strong> to be handled through servlet GuiceContainer by services in package \"com.abc.web.stats.<strong>services</strong>\"</li>\n<li>URLs starting with <strong>\"/api/*\"</strong> to be handled through same servlet GuiceContainer by services in package \"com.abc.web.stats.<strong>otherservices</strong>\"</li>\n</ul>\n\n<p>I used the code above but it does not seem to work, it seems that only the first \"serve\" call is taken into consideration so in this case only URLs matching \"/api/v1/*\" are served. \nI do not want to hardcode \"v1\" in my services since the version might change (to \"v2\") in the future.</p>\n\n<p>Can somebody help me out?</p>\n\n<p>Thanks,\nPaul</p>\n"},{"tags":["java","groovy","mocking","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681426688,"creation_date":1681426688,"answer_id":76010423,"question_id":76010365,"body_markdown":"I can recommend you to use mockito-inline to mock static methods like this:\r\n\r\n    try (MockedStatic&lt;FileUtils&gt; MockedStatic = mockStatic(FileUtils.class)) {\r\n\r\n        MockedStatic\r\n            .verify(() -&gt; FileUtils.deleteDirectory(dummyFile), times(1));\r\n    }\r\n\r\nSome examples here -&gt; [mocking static methods][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-mock-static-methods","title":"Mocking: Verify Static Void Method Is Called","body":"<p>I can recommend you to use mockito-inline to mock static methods like this:</p>\n<pre><code>try (MockedStatic&lt;FileUtils&gt; MockedStatic = mockStatic(FileUtils.class)) {\n\n    MockedStatic\n        .verify(() -&gt; FileUtils.deleteDirectory(dummyFile), times(1));\n}\n</code></pre>\n<p>Some examples here -&gt; <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">mocking static methods</a></p>\n"}],"owner":{"account_id":10356769,"reputation":23,"user_id":7638459,"display_name":"maiah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681426688,"creation_date":1681425852,"question_id":76010365,"body_markdown":"I am having trouble with the test cases for methods: deleteOldBermudaFolder and isExistingDirectory.\r\nBelow is the code:\r\n\r\n```\r\nclass BermudaCacheDumpServiceImpl implements BermudaCacheDumpService {\r\n\r\n    @Autowired\r\n    PreferenceService preferenceService\r\n\r\n    @Autowired\r\n    FileUtils fileUtils\r\n\r\n    static final String WORKING_DIR = &#39;bermudaCacheDumpWorkDir&#39;\r\n    static final String FOLDER_TO_DELETE = &#39;bermudaCacheDumpDeleteFolder&#39;\r\n\r\n    boolean isLandingStripAssembled(){\r\n        boolean isLSAssembled\r\n        File oldBermudaFolder = new File(workingDirectory + folderToDelete)\r\n\r\n        deleteOldBermudaFolder(oldBermudaFolder)\r\n\r\n        isLSAssembled = hasValidFiles()\r\n        isLSAssembled\r\n    }\r\n\r\n    void deleteOldBermudaFolder(File oldBermudaFolder) throws IOException{\r\n        if(isExistingDirectory(oldBermudaFolder)){\r\n            fileUtils.deleteDirectory(oldBermudaFolder)\r\n        }\r\n        else{\r\n            log.error(&quot;Unable to delete directory&quot;)\r\n        }\r\n    }\r\n\r\n    boolean isExistingDirectory(File file){\r\n        file.exists() &amp;&amp; file.isDirectory()\r\n    }\r\n\r\n    boolean isExistingFile(File file){\r\n        file.exists() &amp;&amp; file.isFile()\r\n    }\r\n\r\n    private String getWorkingDirectory(){    preferenceService.getValue(WORKING_DIR)    }\r\n\r\n    private String getFolderToDelete(){    preferenceService.getValue(FOLDER_TO_DELETE)    }\r\n\r\n```\r\n\r\nMy testing cases:\r\n\r\n\r\n```\r\nclass BermudaCacheDumpServiceImplTest extends GroovyTestCase{\r\n\r\n    BermudaCacheDumpServiceImpl bermudaCacheDumpService\r\n    PreferenceService mockPreferenceService\r\n    FileUtils mockFileUtils\r\n\r\n    void setUp(){\r\n        mockPreferenceService = mock(PreferenceService) //Line 18\r\n        mockFileUtils = mock(FileUtils)\r\n        bermudaCacheDumpService = new BermudaCacheDumpServiceImpl(preferenceService: mockPreferenceService, fileUtils: mockFileUtils)\r\n    }\r\n\r\n    void testIsExistingFile()\r\n    {\r\n        File mockedFile = mock(File.class)\r\n        when(mockedFile.exists()).thenReturn(true)\r\n        when(mockedFile.isFile()).thenReturn(true)\r\n\r\n        assert bermudaCacheDumpService.isExistingFile(mockedFile)\r\n    }\r\n\r\n    void testIsExistingDirectory(){\r\n        File mockedFile = mock(File.class)\r\n        when(mockedFile.exists()).thenReturn(true)\r\n        when(mockedFile.isDirectory()).thenReturn(true)\r\n\r\n        assert bermudaCacheDumpService.isExistingDirectory(mockedFile)\r\n    }\r\n\r\n    void testDeleteOldBermudaFolder(){\r\n        def dummyFile = new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;)\r\n        File mockedFile = mock(File.class)\r\n\r\n        when(bermudaCacheDumpService.isExistingDirectory(mockedFile)).thenReturn(true)\r\n        bermudaCacheDumpService.deleteOldBermudaFolder(mockedFile)\r\n        verify(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\r\n    }\r\n}\r\n```\r\n\r\nThe issue:\r\nWhen I comment out the testDeleteOldBermudaFolder() the entire test file runs with no errors. But the moment I uncomment testDeleteOldBermudaFolder() I get an error on testIsExistingDirectory()\r\n\r\nAll of the tests when run individually give no errors and show as passing but when run together as a unit with testDeleteOldBermudaFolder() uncommented, the testIsExistingDirectory() test fails.\r\n\r\n```\r\norg.mockito.exceptions.misusing.UnfinishedVerificationException: \r\nMissing method call for verify(mock) here:\r\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\r\nExample of correct verification:\r\n    verify(mock).doSomething()\r\n\r\nAlso, this error might show up because you verify either of: final/private/equals()/hashCode() methods.\r\nThose methods *cannot* be stubbed/verified.\r\nMocking methods declared on non-public parent classes is not supported.\r\n\r\nat com.thomsonreuters.legal.lpa.bermudacachedump.BermudaCacheDumpServiceImplTest.setUp(BermudaCacheDumpServiceImplTest.groovy:18)\r\n```\r\n\r\nFrom the error above it is saying that the CallSiteArray is not being verified but no where is that being called. Line 18 of the code points to the PreferenceService being made in SetUp(). From debugging, after running testDeleteOldBermudaFolder() and showing that it is correct it goes to run testIsExistingDirectory() and when it tries to mock up the PreferenceService it is unable too and claims it to be null.\r\nWhenever the testIsExistingDirectory() test is uncommented the  testIsExistingDirectory() test always runs after it. I&#39;m not sure why though.\r\n\r\nEven the testIsExistingDirectory() test is failing and showing the error I don&#39;t believe that test is incorrect.\r\nI believe this issue has to do with the testDeleteOldBermudaFolder() since it is the only test that causes problems with testIsExistingDirectory(). And it is the only one with the verify in it.\r\n\r\nIn my main code I am calling FileUtils.deleteDirectory which is a static void method.\r\n\r\nI have started to look into PowerMockito but every example I have seen shows a method that returns a value and uses the when/do syntax. For this if the directory exists then I need to verify the FileUtils.deleteDirectory will be called. I need that verify statement.\r\n\r\n**I&#39;m looking for an explanation on why this specific mocking is not working? And I&#39;m looking for an example on how to correctly mock FileUtils.deleteDirectory to verify that is being called.** Specifically the syntax.\r\nOr looking for a workaround to verify FileUtils.\r\n\r\n\r\n\r\n```\r\nverify(fileUtils, times(1)).deleteDirectory(new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;))\r\n```\r\nSame error as above\r\n\r\n```\r\nverify(FileUtils, times(1)).deleteDirectory(dummyFile)\r\n```\r\nSame error as above\r\n\r\n```\r\nverify(bermudaCacheDumpService.fileUtils).deleteDirectory(dummyFile)\r\n```\r\nSame error as above\r\n\r\n```\r\nFileUtils fileUtils = mock(FileUtils.class)\r\nverify(fileUtils, times(1)).deleteDirectory(dummyFile)\r\n```\r\nSame error as above\r\n\r\n```\r\nPowerMockito.verifyStatic(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\r\n```\r\nincorrect syntax - PowerMockito cannot be applied to FileUtils\r\n\r\n```\r\nPowerMockito.verifyStatic(FileUtils.class, times(1))\r\n```\r\nincorrect syntax - PowerMockito cannot be applied to FileUtils\r\n\r\n\r\n```\r\nPowerMockito.mockStatic(FileUtils.class, { invocationOnMock -&gt;\r\n    assertEquals(dummyFile, invocationOnMock.getArgument(0, File.class))\r\n    return null\r\n})\r\n```\r\nI saw this on StackOverflow and tried it out. But the syntax is incorrect. It also doesn&#39;t help verify that the deletedirectory is called.\r\n","title":"Mocking: Verify Static Void Method Is Called","body":"<p>I am having trouble with the test cases for methods: deleteOldBermudaFolder and isExistingDirectory.\nBelow is the code:</p>\n<pre><code>class BermudaCacheDumpServiceImpl implements BermudaCacheDumpService {\n\n    @Autowired\n    PreferenceService preferenceService\n\n    @Autowired\n    FileUtils fileUtils\n\n    static final String WORKING_DIR = 'bermudaCacheDumpWorkDir'\n    static final String FOLDER_TO_DELETE = 'bermudaCacheDumpDeleteFolder'\n\n    boolean isLandingStripAssembled(){\n        boolean isLSAssembled\n        File oldBermudaFolder = new File(workingDirectory + folderToDelete)\n\n        deleteOldBermudaFolder(oldBermudaFolder)\n\n        isLSAssembled = hasValidFiles()\n        isLSAssembled\n    }\n\n    void deleteOldBermudaFolder(File oldBermudaFolder) throws IOException{\n        if(isExistingDirectory(oldBermudaFolder)){\n            fileUtils.deleteDirectory(oldBermudaFolder)\n        }\n        else{\n            log.error(&quot;Unable to delete directory&quot;)\n        }\n    }\n\n    boolean isExistingDirectory(File file){\n        file.exists() &amp;&amp; file.isDirectory()\n    }\n\n    boolean isExistingFile(File file){\n        file.exists() &amp;&amp; file.isFile()\n    }\n\n    private String getWorkingDirectory(){    preferenceService.getValue(WORKING_DIR)    }\n\n    private String getFolderToDelete(){    preferenceService.getValue(FOLDER_TO_DELETE)    }\n\n</code></pre>\n<p>My testing cases:</p>\n<pre><code>class BermudaCacheDumpServiceImplTest extends GroovyTestCase{\n\n    BermudaCacheDumpServiceImpl bermudaCacheDumpService\n    PreferenceService mockPreferenceService\n    FileUtils mockFileUtils\n\n    void setUp(){\n        mockPreferenceService = mock(PreferenceService) //Line 18\n        mockFileUtils = mock(FileUtils)\n        bermudaCacheDumpService = new BermudaCacheDumpServiceImpl(preferenceService: mockPreferenceService, fileUtils: mockFileUtils)\n    }\n\n    void testIsExistingFile()\n    {\n        File mockedFile = mock(File.class)\n        when(mockedFile.exists()).thenReturn(true)\n        when(mockedFile.isFile()).thenReturn(true)\n\n        assert bermudaCacheDumpService.isExistingFile(mockedFile)\n    }\n\n    void testIsExistingDirectory(){\n        File mockedFile = mock(File.class)\n        when(mockedFile.exists()).thenReturn(true)\n        when(mockedFile.isDirectory()).thenReturn(true)\n\n        assert bermudaCacheDumpService.isExistingDirectory(mockedFile)\n    }\n\n    void testDeleteOldBermudaFolder(){\n        def dummyFile = new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;)\n        File mockedFile = mock(File.class)\n\n        when(bermudaCacheDumpService.isExistingDirectory(mockedFile)).thenReturn(true)\n        bermudaCacheDumpService.deleteOldBermudaFolder(mockedFile)\n        verify(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\n    }\n}\n</code></pre>\n<p>The issue:\nWhen I comment out the testDeleteOldBermudaFolder() the entire test file runs with no errors. But the moment I uncomment testDeleteOldBermudaFolder() I get an error on testIsExistingDirectory()</p>\n<p>All of the tests when run individually give no errors and show as passing but when run together as a unit with testDeleteOldBermudaFolder() uncommented, the testIsExistingDirectory() test fails.</p>\n<pre><code>org.mockito.exceptions.misusing.UnfinishedVerificationException: \nMissing method call for verify(mock) here:\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\nExample of correct verification:\n    verify(mock).doSomething()\n\nAlso, this error might show up because you verify either of: final/private/equals()/hashCode() methods.\nThose methods *cannot* be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.\n\nat com.thomsonreuters.legal.lpa.bermudacachedump.BermudaCacheDumpServiceImplTest.setUp(BermudaCacheDumpServiceImplTest.groovy:18)\n</code></pre>\n<p>From the error above it is saying that the CallSiteArray is not being verified but no where is that being called. Line 18 of the code points to the PreferenceService being made in SetUp(). From debugging, after running testDeleteOldBermudaFolder() and showing that it is correct it goes to run testIsExistingDirectory() and when it tries to mock up the PreferenceService it is unable too and claims it to be null.\nWhenever the testIsExistingDirectory() test is uncommented the  testIsExistingDirectory() test always runs after it. I'm not sure why though.</p>\n<p>Even the testIsExistingDirectory() test is failing and showing the error I don't believe that test is incorrect.\nI believe this issue has to do with the testDeleteOldBermudaFolder() since it is the only test that causes problems with testIsExistingDirectory(). And it is the only one with the verify in it.</p>\n<p>In my main code I am calling FileUtils.deleteDirectory which is a static void method.</p>\n<p>I have started to look into PowerMockito but every example I have seen shows a method that returns a value and uses the when/do syntax. For this if the directory exists then I need to verify the FileUtils.deleteDirectory will be called. I need that verify statement.</p>\n<p><strong>I'm looking for an explanation on why this specific mocking is not working? And I'm looking for an example on how to correctly mock FileUtils.deleteDirectory to verify that is being called.</strong> Specifically the syntax.\nOr looking for a workaround to verify FileUtils.</p>\n<pre><code>verify(fileUtils, times(1)).deleteDirectory(new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;))\n</code></pre>\n<p>Same error as above</p>\n<pre><code>verify(FileUtils, times(1)).deleteDirectory(dummyFile)\n</code></pre>\n<p>Same error as above</p>\n<pre><code>verify(bermudaCacheDumpService.fileUtils).deleteDirectory(dummyFile)\n</code></pre>\n<p>Same error as above</p>\n<pre><code>FileUtils fileUtils = mock(FileUtils.class)\nverify(fileUtils, times(1)).deleteDirectory(dummyFile)\n</code></pre>\n<p>Same error as above</p>\n<pre><code>PowerMockito.verifyStatic(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\n</code></pre>\n<p>incorrect syntax - PowerMockito cannot be applied to FileUtils</p>\n<pre><code>PowerMockito.verifyStatic(FileUtils.class, times(1))\n</code></pre>\n<p>incorrect syntax - PowerMockito cannot be applied to FileUtils</p>\n<pre><code>PowerMockito.mockStatic(FileUtils.class, { invocationOnMock -&gt;\n    assertEquals(dummyFile, invocationOnMock.getArgument(0, File.class))\n    return null\n})\n</code></pre>\n<p>I saw this on StackOverflow and tried it out. But the syntax is incorrect. It also doesn't help verify that the deletedirectory is called.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681424505,"creation_date":1681424069,"answer_id":76010243,"question_id":76009816,"body_markdown":"if you want to add the id as a UUID and auto generated one, you can use the annotation to do that. then you don&#39;t  want to provide the id each time. the id will be generated by the framework.\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(generator = &quot;uuid&quot;)\r\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\nprivate String id;\r\n```\r\n\r\nor, if the Id generating is required by the Database, **you have to manage another column as a primary key in the database besides the main primary key**. because JPA requires that every entity has an ID. ","title":"ids for this class must be manually assigned before calling save() in spring data jpa","body":"<p>if you want to add the id as a UUID and auto generated one, you can use the annotation to do that. then you don't  want to provide the id each time. the id will be generated by the framework.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n</code></pre>\n<p>or, if the Id generating is required by the Database, <strong>you have to manage another column as a primary key in the database besides the main primary key</strong>. because JPA requires that every entity has an ID.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681424505,"creation_date":1681419815,"question_id":76009816,"body_markdown":"I want to generate uuid into database as primary key. I tried this:\r\n\r\n    CREATE TABLE IF NOT EXISTS product_keys\r\n    (\r\n        id uuid DEFAULT gen_random_uuid()\r\n        ....\r\n    }\r\n\r\nI tried to insert new key using this Java code:\r\n\r\n\r\n    @Repository\r\n    public interface ProductKeysRepository extends JpaRepository&lt;ProductKeys, UUID&gt;, JpaSpecificationExecutor&lt;ProductKeys&gt; {\r\n    \r\n        ......\r\n    }\r\n    \r\n    ProductKeys productKeys= ProductKeys.builder().build();\r\n    productKeysRepository.saveAndFlush(productKeys);\r\n\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;product_keys&quot;)\r\n    public class ProductKeys{\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private UUID id;\r\n        ....\r\n    }\r\n\r\nWhen I try to insert a new record I get a error: `org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.ProductKeys`\r\n\r\nI don&#39;t have a sequencer. I want to leave database to generate the unique uuid. Do you know how I can fix this issue?","title":"ids for this class must be manually assigned before calling save() in spring data jpa","body":"<p>I want to generate uuid into database as primary key. I tried this:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS product_keys\n(\n    id uuid DEFAULT gen_random_uuid()\n    ....\n}\n</code></pre>\n<p>I tried to insert new key using this Java code:</p>\n<pre><code>@Repository\npublic interface ProductKeysRepository extends JpaRepository&lt;ProductKeys, UUID&gt;, JpaSpecificationExecutor&lt;ProductKeys&gt; {\n\n    ......\n}\n\nProductKeys productKeys= ProductKeys.builder().build();\nproductKeysRepository.saveAndFlush(productKeys);\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;product_keys&quot;)\npublic class ProductKeys{\n\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private UUID id;\n    ....\n}\n</code></pre>\n<p>When I try to insert a new record I get a error: <code>org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.ProductKeys</code></p>\n<p>I don't have a sequencer. I want to leave database to generate the unique uuid. Do you know how I can fix this issue?</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":1,"creation_date":1305559517,"post_id":6019562,"comment_id":6958007,"body_markdown":"Using a BufferedReader and iterating line by line is a really bad idea because your code might then be sensitive to changes in the formatting of the json received from the Javascript. Much better to use a real json parser.","body":"Using a BufferedReader and iterating line by line is a really bad idea because your code might then be sensitive to changes in the formatting of the json received from the Javascript. Much better to use a real json parser."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1305559532,"post_id":6019562,"comment_id":6958012,"body_markdown":"please post the code that you&#39;ve tried and tell us what doesn&#39;t work about it (i.e. you expect A but instead you get B), it&#39;s far easier to help you out with this info.","body":"please post the code that you&#39;ve tried and tell us what doesn&#39;t work about it (i.e. you expect A but instead you get B), it&#39;s far easier to help you out with this info."}],"answers":[{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":9,"creation_date":1305560346,"post_id":6019757,"comment_id":6958253,"body_markdown":"Please: json-lib is very outdated. Use GSON or Jackson (which the OP explicitly mentioned)","body":"Please: json-lib is very outdated. Use GSON or Jackson (which the OP explicitly mentioned)"},{"owner":{"account_id":46450,"reputation":199,"user_id":137236,"display_name":"denny"},"score":0,"creation_date":1305607327,"post_id":6019757,"comment_id":6967335,"body_markdown":"Jackson lib seems very cool. In my case, json-lib is enough. Sean, thanks anyway.","body":"Jackson lib seems very cool. In my case, json-lib is enough. Sean, thanks anyway."}],"tags":[],"owner":{"account_id":46450,"reputation":199,"user_id":137236,"display_name":"denny"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1444044897,"creation_date":1305560222,"answer_id":6019757,"question_id":6019562,"body_markdown":"I&#39;m using json lib from http://json-lib.sourceforge.net/  \r\njson-lib-2.1-jdk15.jar\r\n\r\n    import net.sf.json.JSONObject;\r\n    ...\r\n\r\n    public void send()\r\n    {\r\n        //put attributes\r\n        Map m = New HashMap();\r\n        m.put(&quot;send_to&quot;,&quot;my@admin.lan&quot;);\r\n        m.put(&quot;email_subject&quot;,&quot;this is a test email&quot;);\r\n        m.put(&quot;email_content&quot;,&quot;test email content&quot;);\r\n\r\n        //generate JSON Object\r\n        JSONObject json = JSONObject.fromObject(content);\r\n        String message = json.toString();\r\n        ...\r\n    }\r\n\r\n    public void receive(String jsonMessage)\r\n    {\r\n        //parse attributes\r\n        JSONObject json = JSONObject.fromObject(jsonMessage);\r\n        String to = (String) json.get(&quot;send_to&quot;);\r\n        String title = (String) json.get(&quot;email_subject&quot;);\r\n        String content = (String) json.get(&quot;email_content&quot;);\r\n        ...\r\n    }\r\n\r\nMore samples here http://json-lib.sourceforge.net/usage.html","title":"Parsing JSON in Spring MVC using Jackson JSON","body":"<p>I'm using json lib from <a href=\"http://json-lib.sourceforge.net/\" rel=\"nofollow\">http://json-lib.sourceforge.net/</a><br>\njson-lib-2.1-jdk15.jar</p>\n\n<pre><code>import net.sf.json.JSONObject;\n...\n\npublic void send()\n{\n    //put attributes\n    Map m = New HashMap();\n    m.put(\"send_to\",\"my@admin.lan\");\n    m.put(\"email_subject\",\"this is a test email\");\n    m.put(\"email_content\",\"test email content\");\n\n    //generate JSON Object\n    JSONObject json = JSONObject.fromObject(content);\n    String message = json.toString();\n    ...\n}\n\npublic void receive(String jsonMessage)\n{\n    //parse attributes\n    JSONObject json = JSONObject.fromObject(jsonMessage);\n    String to = (String) json.get(\"send_to\");\n    String title = (String) json.get(\"email_subject\");\n    String content = (String) json.get(\"email_content\");\n    ...\n}\n</code></pre>\n\n<p>More samples here <a href=\"http://json-lib.sourceforge.net/usage.html\" rel=\"nofollow\">http://json-lib.sourceforge.net/usage.html</a></p>\n"},{"comments":[{"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"score":0,"creation_date":1305631460,"post_id":6019761,"comment_id":6972393,"body_markdown":"This looks exactly like what I&#39;m after, thanks.  So I don&#39;t think I need to create a new class as the JSON will be very simple like: {&quot;pref1&quot;, &quot;pref2&quot;...}, so I was trying to get it added to a List (@RequestBody List&lt;String&gt; body), but this doesn&#39;t seem to be getting the following error message, &quot;Can not deserialize instance of java.util.List out of START_OBJECT token&quot;.  Any ideas?","body":"This looks exactly like what I&#39;m after, thanks.  So I don&#39;t think I need to create a new class as the JSON will be very simple like: {&quot;pref1&quot;, &quot;pref2&quot;...}, so I was trying to get it added to a List (@RequestBody List&lt;String&gt; body), but this doesn&#39;t seem to be getting the following error message, &quot;Can not deserialize instance of java.util.List out of START_OBJECT token&quot;.  Any ideas?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1305631833,"post_id":6019761,"comment_id":6972493,"body_markdown":"@NomNomNom I haven&#39;t tried that before, guess you&#39;ll have to read Jackson docs there.","body":"@NomNomNom I haven&#39;t tried that before, guess you&#39;ll have to read Jackson docs there."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1305647704,"post_id":6019761,"comment_id":6977386,"body_markdown":"You do not have to create a new class; but structure must match: you can not bind JSON Objects to Java arrays or lists (for obvious reasons). Your JSON has main-level Object with properties (foo, bar, baz), and each property has different kind of value (list, string/boolean, string/number)","body":"You do not have to create a new class; but structure must match: you can not bind JSON Objects to Java arrays or lists (for obvious reasons). Your JSON has main-level Object with properties (foo, bar, baz), and each property has different kind of value (list, string/boolean, string/number)"},{"owner":{"account_id":10794963,"reputation":191,"user_id":7941061,"display_name":"zodiac645"},"score":0,"creation_date":1585568242,"post_id":6019761,"comment_id":107796319,"body_markdown":"what does &quot;and you pass in the JSON from above&quot; mean?","body":"what does &quot;and you pass in the JSON from above&quot; mean?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1585591789,"post_id":6019761,"comment_id":107809112,"body_markdown":"@zodiac645 `Fizzle fizzle = new ObjectMapper().readValue(json, Fizzle.class)`","body":"@zodiac645 <code>Fizzle fizzle = new ObjectMapper().readValue(json, Fizzle.class)</code>"},{"owner":{"account_id":10794963,"reputation":191,"user_id":7941061,"display_name":"zodiac645"},"score":0,"creation_date":1585648364,"post_id":6019761,"comment_id":107828186,"body_markdown":"Actually, my problem is I have a link, an url that contains json data in raw format. I want to send get request to it and display the result in my browser. But, i ve just started to use spring framework and have no idea. Is it possible to do so with it?","body":"Actually, my problem is I have a link, an url that contains json data in raw format. I want to send get request to it and display the result in my browser. But, i ve just started to use spring framework and have no idea. Is it possible to do so with it?"},{"owner":{"account_id":10794963,"reputation":191,"user_id":7941061,"display_name":"zodiac645"},"score":0,"creation_date":1585648432,"post_id":6019761,"comment_id":107828217,"body_markdown":"How can i construct `json` in `readValue(json, Fizzle.class)` from that link?","body":"How can i construct <code>json</code> in <code>readValue(json, Fizzle.class)</code> from that link?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1585664791,"post_id":6019761,"comment_id":107837414,"body_markdown":"@zodiac645 there is also the overloaded method [`ObjectMapper.readValue(url, class)`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#readValue(java.net.URL,%20java.lang.Class)) but perhaps you should create your own question for this","body":"@zodiac645 there is also the overloaded method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#readValue(java.net.URL,%20java.lang.Class)\" rel=\"nofollow noreferrer\"><code>ObjectMapper.readValue(url, class)</code></a> but perhaps you should create your own question for this"},{"owner":{"account_id":10794963,"reputation":191,"user_id":7941061,"display_name":"zodiac645"},"score":0,"creation_date":1585668461,"post_id":6019761,"comment_id":107839773,"body_markdown":"I have posted [one](https://stackoverflow.com/questions/60954202/spring-boot-get-request-to-api). Thanks for your help.","body":"I have posted <a href=\"https://stackoverflow.com/questions/60954202/spring-boot-get-request-to-api\">one</a>. Thanks for your help."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1678748697,"post_id":6019761,"comment_id":133590864,"body_markdown":"if we add another property to the class without adding a value for it in the request, would this produce an error ?","body":"if we add another property to the class without adding a value for it in the request, would this produce an error ?"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":10,"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1681422265,"creation_date":1305560243,"answer_id":6019761,"question_id":6019562,"body_markdown":"The whole point of using a mapping technology like Jackson is that you can use Objects (you don&#39;t have to parse the JSON yourself).\r\n\r\nDefine a Java class that resembles the JSON you will be expecting.\r\n\r\ne.g. this JSON:\r\n\r\n    {\r\n    &quot;foo&quot; : [&quot;abc&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;],\r\n    &quot;bar&quot; : &quot;true&quot;,\r\n    &quot;baz&quot; : 1\r\n    }\r\n\r\ncould be mapped to this class:\r\n\r\n    public class Fizzle{\r\n        private List&lt;String&gt; foo;\r\n        private boolean bar;\r\n        private int baz;\r\n        // getters and setters omitted\r\n    }\r\n\r\nNow if you have a Controller method like this:\r\n\r\n    @RequestMapping(&quot;somepath&quot;)\r\n    @ResponseBody\r\n    public Fozzle doSomeThing(@RequestBody Fizzle input){\r\n        return new Fozzle(input);\r\n    }\r\n\r\nand you pass in the JSON from above, Jackson will automatically create a Fizzle object for you, and it will serialize a JSON view of the returned Object out to the response with mime type `application/json`.\r\n\r\nFor a full working example [see this previous answer of mine][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5908466/jquery-spring-mvc-requestbody-and-json-making-it-work-together/5908632#5908632","title":"Parsing JSON in Spring MVC using Jackson JSON","body":"<p>The whole point of using a mapping technology like Jackson is that you can use Objects (you don't have to parse the JSON yourself).</p>\n<p>Define a Java class that resembles the JSON you will be expecting.</p>\n<p>e.g. this JSON:</p>\n<pre><code>{\n&quot;foo&quot; : [&quot;abc&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;],\n&quot;bar&quot; : &quot;true&quot;,\n&quot;baz&quot; : 1\n}\n</code></pre>\n<p>could be mapped to this class:</p>\n<pre><code>public class Fizzle{\n    private List&lt;String&gt; foo;\n    private boolean bar;\n    private int baz;\n    // getters and setters omitted\n}\n</code></pre>\n<p>Now if you have a Controller method like this:</p>\n<pre><code>@RequestMapping(&quot;somepath&quot;)\n@ResponseBody\npublic Fozzle doSomeThing(@RequestBody Fizzle input){\n    return new Fozzle(input);\n}\n</code></pre>\n<p>and you pass in the JSON from above, Jackson will automatically create a Fizzle object for you, and it will serialize a JSON view of the returned Object out to the response with mime type <code>application/json</code>.</p>\n<p>For a full working example <a href=\"https://stackoverflow.com/questions/5908466/jquery-spring-mvc-requestbody-and-json-making-it-work-together/5908632#5908632\">see this previous answer of mine</a>.</p>\n"}],"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125701,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":6019761,"answer_count":2,"score":46,"last_activity_date":1681422265,"creation_date":1305559328,"question_id":6019562,"body_markdown":"Ok, so I&#39;ve been looking at this for a little while now and am no further on.  I&#39;ve got a Spring MVC servlet that I need to accept JSON from a JavaScript front end web app.  To parse the JSON I need to use Jackson.  I need to take the values within the JSON and store them into a List in the order they appear in the JSON.  I&#39;ve tried using the JsonFactory with the JsonParser and JsonNode objects but can quite get it to work.  I&#39;ve also tried to just open a BufferedReader and iterate through the request body line by line but again can&#39;t quite get this either.  I&#39;ve looked at a couple of related questions on here, but none so far have worked for me.\r\n\r\nCould anyone in the know point me in the right direction here please, a web page with an example would be great!","title":"Parsing JSON in Spring MVC using Jackson JSON","body":"<p>Ok, so I've been looking at this for a little while now and am no further on.  I've got a Spring MVC servlet that I need to accept JSON from a JavaScript front end web app.  To parse the JSON I need to use Jackson.  I need to take the values within the JSON and store them into a List in the order they appear in the JSON.  I've tried using the JsonFactory with the JsonParser and JsonNode objects but can quite get it to work.  I've also tried to just open a BufferedReader and iterate through the request body line by line but again can't quite get this either.  I've looked at a couple of related questions on here, but none so far have worked for me.</p>\n\n<p>Could anyone in the know point me in the right direction here please, a web page with an example would be great!</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681410518,"post_id":76008614,"comment_id":134055953,"body_markdown":"Hello, please remove the line @Column(name = &quot;phoneNumber&quot;) from the Expert entity. This is wrong. There is no such column.","body":"Hello, please remove the line @Column(name = &quot;phoneNumber&quot;) from the Expert entity. This is wrong. There is no such column."},{"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"score":0,"creation_date":1681410751,"post_id":76008614,"comment_id":134055998,"body_markdown":"Thanks, I removed @Column(name = &quot;phoneNumber&quot;). However, that didn&#39;t solve the problem.","body":"Thanks, I removed @Column(name = &quot;phoneNumber&quot;). However, that didn&#39;t solve the problem."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681411309,"post_id":76008614,"comment_id":134056104,"body_markdown":"Please add nullable=false to @JoinColumn Also: @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;, nullable=false)","body":"Please add nullable=false to @JoinColumn Also: @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;, nullable=false)"},{"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"score":0,"creation_date":1681412206,"post_id":76008614,"comment_id":134056296,"body_markdown":"This property generate error because expert_id is null.\n\norg.hibernate.PropertyValueException: not-null property references a null or transient value : pl.diet.expert.jpa.PhoneNumber.expert","body":"This property generate error because expert_id is null.  org.hibernate.PropertyValueException: not-null property references a null or transient value : pl.diet.expert.jpa.PhoneNumber.expert"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681412541,"post_id":76008614,"comment_id":134056385,"body_markdown":"OK. It shows that you have an issue while saving the entities to the database. The relationship to the Expert need to be set prior to saving a new PhoneNumber. You can use the setExpert() method for it. In case of doubts please share the code of service classes in use.","body":"OK. It shows that you have an issue while saving the entities to the database. The relationship to the Expert need to be set prior to saving a new PhoneNumber. You can use the setExpert() method for it. In case of doubts please share the code of service classes in use."},{"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"score":0,"creation_date":1681412907,"post_id":76008614,"comment_id":134056465,"body_markdown":"Service class have a method and repository is clear JpaRepository interface.\n\n`public Expert saveOrUpdateExpert(Expert expert) {\n        return expertRepository.save(expert);\n    }`\n\nWhen I was used setExpert() method from PhoneNumber it create database entry twice. \n\nI would like hibernate to do this saving itself using only annotations.","body":"Service class have a method and repository is clear JpaRepository interface.  <code>public Expert saveOrUpdateExpert(Expert expert) {         return expertRepository.save(expert);     }</code>  When I was used setExpert() method from PhoneNumber it create database entry twice.   I would like hibernate to do this saving itself using only annotations."}],"answers":[{"tags":[],"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681422009,"creation_date":1681422009,"answer_id":76010035,"question_id":76008614,"body_markdown":"I managed to solve the problem by editing the method in the ExpertService class\r\n\r\n```\r\npublic Expert saveOrUpdateExpert(Expert expert) {\r\n    Set&lt;PhoneNumber&gt; phoneNumbers = expert.getPhoneNumbers();\r\n    phoneNumbers.forEach(phoneNumber -&gt; {\r\n       phoneNumber.setExpert(expert);\r\n    });\r\n    return expertRepository.save(expert);\r\n}\r\n```\r\n\r\nThe problem was that Hibernate first tried to write to Phone_number and then to Expert, hence the expert_id on the Phone_number table was null.\r\n\r\nThank you @Mar-Z for your help :)","title":"Hibernate doesn&#39;t save the FOREIGN KEY (OneToMany relationship)","body":"<p>I managed to solve the problem by editing the method in the ExpertService class</p>\n<pre><code>public Expert saveOrUpdateExpert(Expert expert) {\n    Set&lt;PhoneNumber&gt; phoneNumbers = expert.getPhoneNumbers();\n    phoneNumbers.forEach(phoneNumber -&gt; {\n       phoneNumber.setExpert(expert);\n    });\n    return expertRepository.save(expert);\n}\n</code></pre>\n<p>The problem was that Hibernate first tried to write to Phone_number and then to Expert, hence the expert_id on the Phone_number table was null.</p>\n<p>Thank you @Mar-Z for your help :)</p>\n"}],"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681422009,"creation_date":1681409721,"question_id":76008614,"body_markdown":"I have 2 tables (Expert and PhoneNumber). Each expert can have several numbers. That&#39;s why I use @OneToMany in Expert.java, @ManyToOne in PhoneNumber.java\r\n\r\nFor some reason the expert_id is not saving to the Phone_number table. What am I doing wrong?\r\n\r\nI am using Spring Data JPA and PostgreSQL.\r\n\r\n**DB Schema**\r\n\r\n```\r\nCREATE TABLE Expert (\r\n    expert_id INT PRIMARY KEY,\r\n    first_name VARCHAR(50),\r\n    last_name VARCHAR(50),\r\n    email VARCHAR(100),\r\n    join_date DATE,\r\n    subscription_expiry_date DATE,\r\n    is_specialist BOOLEAN,\r\n    is_premium BOOLEAN,\r\n    description TEXT,\r\n    photo TEXT\r\n);\r\n\r\nCREATE TABLE Phone_number (\r\n    id INT PRIMARY KEY,\r\n    expert_id INT,\r\n    phone_number VARCHAR(20),\r\n    FOREIGN KEY (expert_id) REFERENCES Expert(expert_id)\r\n);\r\n```\r\n\r\n**Expert.java**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;expert&quot;)\r\npublic class Expert {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;expert_id&quot;)\r\n    private Long expertId;\r\n\r\n    // Simple fields\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;expert&quot;)\r\n    @Column(name = &quot;phoneNumber&quot;)\r\n    private Set&lt;PhoneNumber&gt; phoneNumbers;\r\n\r\n    // Getters, setters\r\n```\r\n\r\n**PhoneNumber.java**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;phone_number&quot;)\r\npublic class PhoneNumber {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;)\r\n    private Expert expert;\r\n\r\n    @Column(name = &quot;phone_number&quot;)\r\n    private String phoneNumber;\r\n\r\n\r\n    // Getters, setters\r\n```\r\n\r\nTo comunicate with app I used JpaRepository interface.\r\n\r\n**Request**\r\n\r\n```\r\n{\r\n    &quot;expertId&quot;: 1,\r\n    &quot;phoneNumbers&quot;: [\r\n        {\r\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\r\n        },\r\n        {\r\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n**Response**\r\n\r\n```\r\n{\r\n    &quot;expertId&quot;: 1,\r\n    &quot;phoneNumbers&quot;: [\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;expert&quot;: null,\r\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;expert&quot;: null,\r\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\n\r\n**ExpertService.java**\r\n\r\n```\r\n@Service\r\npublic class ExpertService {\r\n\r\n    @Autowired\r\n    private ExpertRepository expertRepository;\r\n\r\n    public List&lt;Expert&gt; getExperts() {\r\n        return expertRepository.findAll();\r\n    }\r\n\r\n    public Optional&lt;Expert&gt; getExpert(Long id) {\r\n        return expertRepository.findById(id);\r\n    }\r\n\r\n    public void saveOrUpdateExperts(List&lt;Expert&gt; experts) {\r\n        expertRepository.saveAll(experts);\r\n    }\r\n\r\n    public Expert saveOrUpdateExpert(Expert expert) {\r\n        return expertRepository.save(expert);\r\n    }\r\n}\r\n\r\n```","title":"Hibernate doesn&#39;t save the FOREIGN KEY (OneToMany relationship)","body":"<p>I have 2 tables (Expert and PhoneNumber). Each expert can have several numbers. That's why I use @OneToMany in Expert.java, @ManyToOne in PhoneNumber.java</p>\n<p>For some reason the expert_id is not saving to the Phone_number table. What am I doing wrong?</p>\n<p>I am using Spring Data JPA and PostgreSQL.</p>\n<p><strong>DB Schema</strong></p>\n<pre><code>CREATE TABLE Expert (\n    expert_id INT PRIMARY KEY,\n    first_name VARCHAR(50),\n    last_name VARCHAR(50),\n    email VARCHAR(100),\n    join_date DATE,\n    subscription_expiry_date DATE,\n    is_specialist BOOLEAN,\n    is_premium BOOLEAN,\n    description TEXT,\n    photo TEXT\n);\n\nCREATE TABLE Phone_number (\n    id INT PRIMARY KEY,\n    expert_id INT,\n    phone_number VARCHAR(20),\n    FOREIGN KEY (expert_id) REFERENCES Expert(expert_id)\n);\n</code></pre>\n<p><strong>Expert.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;expert&quot;)\npublic class Expert {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;expert_id&quot;)\n    private Long expertId;\n\n    // Simple fields\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;expert&quot;)\n    @Column(name = &quot;phoneNumber&quot;)\n    private Set&lt;PhoneNumber&gt; phoneNumbers;\n\n    // Getters, setters\n</code></pre>\n<p><strong>PhoneNumber.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;phone_number&quot;)\npublic class PhoneNumber {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;)\n    private Expert expert;\n\n    @Column(name = &quot;phone_number&quot;)\n    private String phoneNumber;\n\n\n    // Getters, setters\n</code></pre>\n<p>To comunicate with app I used JpaRepository interface.</p>\n<p><strong>Request</strong></p>\n<pre><code>{\n    &quot;expertId&quot;: 1,\n    &quot;phoneNumbers&quot;: [\n        {\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\n        },\n        {\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>Response</strong></p>\n<pre><code>{\n    &quot;expertId&quot;: 1,\n    &quot;phoneNumbers&quot;: [\n        {\n            &quot;id&quot;: 2,\n            &quot;expert&quot;: null,\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\n        },\n        {\n            &quot;id&quot;: 1,\n            &quot;expert&quot;: null,\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>ExpertService.java</strong></p>\n<pre><code>@Service\npublic class ExpertService {\n\n    @Autowired\n    private ExpertRepository expertRepository;\n\n    public List&lt;Expert&gt; getExperts() {\n        return expertRepository.findAll();\n    }\n\n    public Optional&lt;Expert&gt; getExpert(Long id) {\n        return expertRepository.findById(id);\n    }\n\n    public void saveOrUpdateExperts(List&lt;Expert&gt; experts) {\n        expertRepository.saveAll(experts);\n    }\n\n    public Expert saveOrUpdateExpert(Expert expert) {\n        return expertRepository.save(expert);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-integration","datasource","hazelcast"],"answers":[{"comments":[{"owner":{"account_id":16108109,"reputation":47,"user_id":11627119,"display_name":"Jacob Goldverg"},"score":0,"creation_date":1681421553,"post_id":76009940,"comment_id":134058097,"body_markdown":"Would this essentially cause Hazelcast to offload its data to the DataSource described?\nWhat I am trying to do is make Hazelcast act as the DataSource itself with no database, just strictly hz. Spring Batch unfortunately only supports SQL, PSQl,,, etc which are all relational DB&#39;s I am trying to get Hazelcast act as the persistence layer to increase performance.","body":"Would this essentially cause Hazelcast to offload its data to the DataSource described? What I am trying to do is make Hazelcast act as the DataSource itself with no database, just strictly hz. Spring Batch unfortunately only supports SQL, PSQl,,, etc which are all relational DB&#39;s I am trying to get Hazelcast act as the persistence layer to increase performance."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":2,"creation_date":1681423098,"post_id":76009940,"comment_id":134058386,"body_markdown":"Then you are on a wrong way. There is no RDBMS in Hazerlcast data structures. What you have found is just a service for external DB to be used in a Jet engine.","body":"Then you are on a wrong way. There is no RDBMS in Hazerlcast data structures. What you have found is just a service for external DB to be used in a Jet engine."},{"owner":{"account_id":16108109,"reputation":47,"user_id":11627119,"display_name":"Jacob Goldverg"},"score":0,"creation_date":1681423299,"post_id":76009940,"comment_id":134058417,"body_markdown":"Ah! Understood, despite hazelcast having support for SQL like reads/writes I am simply unable to use it as a DataSource this is very unfortunate as the performance of Hazelcast is amazing. Thank you very much for clarifying.","body":"Ah! Understood, despite hazelcast having support for SQL like reads/writes I am simply unable to use it as a DataSource this is very unfortunate as the performance of Hazelcast is amazing. Thank you very much for clarifying."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681421089,"creation_date":1681421089,"answer_id":76009940,"question_id":76009712,"body_markdown":"See `com.hazelcast.config.Config`:\r\n\r\n    /**\r\n     * Adds an external data store configuration.\r\n     * &lt;p&gt;\r\n     * &lt;p&gt;\r\n     * Example:\r\n     * &lt;pre&gt;{@code\r\n     *      Config config = new Config();\r\n     *      Properties properties = new Properties();\r\n     *      properties.put(&quot;jdbcUrl&quot;, jdbcUrl);\r\n     *      properties.put(&quot;username&quot;, username);\r\n     *      properties.put(&quot;password&quot;, password);\r\n     *      ExternalDataStoreConfig externalDataStoreConfig = new ExternalDataStoreConfig()\r\n     *              .setName(&quot;my-jdbc-data-store&quot;)\r\n     *              .setClassName(JdbcDataStoreFactory.class.getName())\r\n     *              .setProperties(properties);\r\n     *      config.addExternalDataStoreConfig(externalDataStoreConfig);\r\n     * }&lt;/pre&gt;\r\n     *\r\n     * @since 5.2\r\n     */\r\n    @Beta\r\n    public Config addExternalDataStoreConfig(ExternalDataStoreConfig externalDataStoreConfig) {\r\n\r\nTo register an external data store.\r\n\r\nThen it looks like you need to do something like this:\r\n\r\n    NodeEngineImpl nodeEngine = Util.getNodeEngine(hazelcastInstance);\r\n    ExternalDataStoreFactory&lt;?&gt; dataStoreFactory = nodeEngine.getExternalDataStoreService().getExternalDataStoreFactory(name);\r\n\r\nand call its `getDataStore()`.\r\n\r\nThis is something new since Hazelcast `5.2` and looks lie we really need it for its Jet streaming processor. Not sure why would one deal with Hazelcast facade if it is still an external DB, so you simply can configure regular `DataSource` for that `jdbc:mysql://127.0.0.1:5701`.","title":"How to create a Hazelcast DataSource","body":"<p>See <code>com.hazelcast.config.Config</code>:</p>\n<pre><code>/**\n * Adds an external data store configuration.\n * &lt;p&gt;\n * &lt;p&gt;\n * Example:\n * &lt;pre&gt;{@code\n *      Config config = new Config();\n *      Properties properties = new Properties();\n *      properties.put(&quot;jdbcUrl&quot;, jdbcUrl);\n *      properties.put(&quot;username&quot;, username);\n *      properties.put(&quot;password&quot;, password);\n *      ExternalDataStoreConfig externalDataStoreConfig = new ExternalDataStoreConfig()\n *              .setName(&quot;my-jdbc-data-store&quot;)\n *              .setClassName(JdbcDataStoreFactory.class.getName())\n *              .setProperties(properties);\n *      config.addExternalDataStoreConfig(externalDataStoreConfig);\n * }&lt;/pre&gt;\n *\n * @since 5.2\n */\n@Beta\npublic Config addExternalDataStoreConfig(ExternalDataStoreConfig externalDataStoreConfig) {\n</code></pre>\n<p>To register an external data store.</p>\n<p>Then it looks like you need to do something like this:</p>\n<pre><code>NodeEngineImpl nodeEngine = Util.getNodeEngine(hazelcastInstance);\nExternalDataStoreFactory&lt;?&gt; dataStoreFactory = nodeEngine.getExternalDataStoreService().getExternalDataStoreFactory(name);\n</code></pre>\n<p>and call its <code>getDataStore()</code>.</p>\n<p>This is something new since Hazelcast <code>5.2</code> and looks lie we really need it for its Jet streaming processor. Not sure why would one deal with Hazelcast facade if it is still an external DB, so you simply can configure regular <code>DataSource</code> for that <code>jdbc:mysql://127.0.0.1:5701</code>.</p>\n"}],"owner":{"account_id":16108109,"reputation":47,"user_id":11627119,"display_name":"Jacob Goldverg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76009940,"answer_count":1,"score":1,"last_activity_date":1681421089,"creation_date":1681418847,"question_id":76009712,"body_markdown":"Hello everyone I am currently experimenting with using Hazelcast as a persistence layer with Spring Batch and to do this I need to create a DataSource that has Hazelcast backing it. \r\nThis way projects like Spring Batch &amp; Spring Data can use the Repository and TransactionManager provided by the Hazelcast + Spring Integration.\r\n\r\nDoes anyone know how to create a DataSource that points to Hazelcast?\r\n\r\nI have tried defining a bean like so but to no avail it does not work:\r\n```\r\n@Configuration\r\npublic class DataSourceConfig {\r\n\r\n//    @Value(&quot;${spring.datasource.url}&quot;)\r\n//    String url;\r\n//    @Value(&quot;${spring.datasource.username}&quot;)\r\n//    String userName;\r\n//    @Value(&quot;${spring.datasource.password}&quot;)\r\n//    String pwd;\r\n\r\n    @SneakyThrows\r\n    @Bean\r\n    public JobRepository hazelCastJobRepo(DataSource dataSource, HazelcastTransactionManager hazelcastTransactionManager){\r\n        JobRepositoryFactoryBean jobRepositoryFactoryBean = new JobRepositoryFactoryBean();\r\n        jobRepositoryFactoryBean.setDataSource(dataSource);\r\n        jobRepositoryFactoryBean.setDatabaseType(&quot;POSTGRES&quot;);\r\n        jobRepositoryFactoryBean.setTransactionManager(hazelcastTransactionManager);\r\n        return jobRepositoryFactoryBean.getObject();\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastInstance hazelcastInstance() {\r\n        ClientConfig config = new ClientConfig();\r\n        config.setClusterName(&quot;dev&quot;);\r\n        return HazelcastClient.newHazelcastClient(config);\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastTransactionManager hazelcastTransactionManager(HazelcastInstance hazelcastInstance) {\r\n        return new HazelcastTransactionManager(hazelcastInstance);\r\n    }\r\n\r\n    @Bean\r\n    public JobBuilderFactory jobBuilderFactory(JobRepository hazelCastJobRepo){\r\n        JobBuilderFactory jobBuilderFactory = new JobBuilderFactory(hazelCastJobRepo);\r\n        return jobBuilderFactory;\r\n    }\r\n\r\n    @Bean\r\n    public StepBuilderFactory stepBuilderFactory(JobRepository hazelCastJobRepo, HazelcastTransactionManager hazelcastTransactionManager){\r\n        StepBuilderFactory stepBuilderFactory = new StepBuilderFactory(hazelCastJobRepo, hazelcastTransactionManager);\r\n        return stepBuilderFactory;\r\n    }\r\n\r\n    @Bean\r\n    public JobExplorer jobExplorer(){\r\n        JobInstanceDao jdbcJobInstanceDao = new JdbcJobInstanceDao();\r\n        JobExecutionDao jobExecutionDao = new JdbcJobExecutionDao();\r\n        StepExecutionDao stepExecutionDao = new JdbcStepExecutionDao();\r\n        ExecutionContextDao executionContextDao = new JdbcExecutionContextDao();\r\n        return new SimpleJobExplorer(jdbcJobInstanceDao, jobExecutionDao, stepExecutionDao, executionContextDao);\r\n    }\r\n\r\n    @Bean\r\n    public ListableJobLocator listableJobLocator(){\r\n        return new MapJobRegistry();\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        return new DriverDataSource(&quot;jdbc:mysql://127.0.0.1:5701&quot;, &quot;com.hazelcast.datastore.JdbcDataStoreFactory&quot;, new Properties(), &quot;&quot;, &quot;&quot;);\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to create a Hazelcast DataSource","body":"<p>Hello everyone I am currently experimenting with using Hazelcast as a persistence layer with Spring Batch and to do this I need to create a DataSource that has Hazelcast backing it.\nThis way projects like Spring Batch &amp; Spring Data can use the Repository and TransactionManager provided by the Hazelcast + Spring Integration.</p>\n<p>Does anyone know how to create a DataSource that points to Hazelcast?</p>\n<p>I have tried defining a bean like so but to no avail it does not work:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n//    @Value(&quot;${spring.datasource.url}&quot;)\n//    String url;\n//    @Value(&quot;${spring.datasource.username}&quot;)\n//    String userName;\n//    @Value(&quot;${spring.datasource.password}&quot;)\n//    String pwd;\n\n    @SneakyThrows\n    @Bean\n    public JobRepository hazelCastJobRepo(DataSource dataSource, HazelcastTransactionManager hazelcastTransactionManager){\n        JobRepositoryFactoryBean jobRepositoryFactoryBean = new JobRepositoryFactoryBean();\n        jobRepositoryFactoryBean.setDataSource(dataSource);\n        jobRepositoryFactoryBean.setDatabaseType(&quot;POSTGRES&quot;);\n        jobRepositoryFactoryBean.setTransactionManager(hazelcastTransactionManager);\n        return jobRepositoryFactoryBean.getObject();\n    }\n\n    @Bean\n    public HazelcastInstance hazelcastInstance() {\n        ClientConfig config = new ClientConfig();\n        config.setClusterName(&quot;dev&quot;);\n        return HazelcastClient.newHazelcastClient(config);\n    }\n\n    @Bean\n    public HazelcastTransactionManager hazelcastTransactionManager(HazelcastInstance hazelcastInstance) {\n        return new HazelcastTransactionManager(hazelcastInstance);\n    }\n\n    @Bean\n    public JobBuilderFactory jobBuilderFactory(JobRepository hazelCastJobRepo){\n        JobBuilderFactory jobBuilderFactory = new JobBuilderFactory(hazelCastJobRepo);\n        return jobBuilderFactory;\n    }\n\n    @Bean\n    public StepBuilderFactory stepBuilderFactory(JobRepository hazelCastJobRepo, HazelcastTransactionManager hazelcastTransactionManager){\n        StepBuilderFactory stepBuilderFactory = new StepBuilderFactory(hazelCastJobRepo, hazelcastTransactionManager);\n        return stepBuilderFactory;\n    }\n\n    @Bean\n    public JobExplorer jobExplorer(){\n        JobInstanceDao jdbcJobInstanceDao = new JdbcJobInstanceDao();\n        JobExecutionDao jobExecutionDao = new JdbcJobExecutionDao();\n        StepExecutionDao stepExecutionDao = new JdbcStepExecutionDao();\n        ExecutionContextDao executionContextDao = new JdbcExecutionContextDao();\n        return new SimpleJobExplorer(jdbcJobInstanceDao, jobExecutionDao, stepExecutionDao, executionContextDao);\n    }\n\n    @Bean\n    public ListableJobLocator listableJobLocator(){\n        return new MapJobRegistry();\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new DriverDataSource(&quot;jdbc:mysql://127.0.0.1:5701&quot;, &quot;com.hazelcast.datastore.JdbcDataStoreFactory&quot;, new Properties(), &quot;&quot;, &quot;&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","graphql-java","graphiql"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":1,"creation_date":1531488654,"post_id":51325556,"comment_id":89627665,"body_markdown":"I&#39;m just here to shamelessly plug our own project: [GraphQL SPQR Spring Boot Starter](https://github.com/leangen/graphql-spqr-spring-boot-starter). it works with both Spring Boot 1 and 2, and is (in my honest but obviously biased opinion) infinitely easier to use. It&#39;s in very early stages of development, but is already quite stable and usable. See an example project [here](https://github.com/leangen/graphql-spqr-samples/tree/master/spring-boot-starter-sample).","body":"I&#39;m just here to shamelessly plug our own project: <a href=\"https://github.com/leangen/graphql-spqr-spring-boot-starter\" rel=\"nofollow noreferrer\">GraphQL SPQR Spring Boot Starter</a>. it works with both Spring Boot 1 and 2, and is (in my honest but obviously biased opinion) infinitely easier to use. It&#39;s in very early stages of development, but is already quite stable and usable. See an example project <a href=\"https://github.com/leangen/graphql-spqr-samples/tree/master/spring-boot-starter-sample\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":7590654,"reputation":203,"user_id":5758429,"accept_rate":0,"display_name":"Jonas Wolff"},"score":0,"creation_date":1531727557,"post_id":51325556,"comment_id":89686115,"body_markdown":"@kaqqao I have seen your Framework allready. It seems to be the best way now to Use Spring Boot 2 and GraphQL. I will check it out.","body":"@kaqqao I have seen your Framework allready. It seems to be the best way now to Use Spring Boot 2 and GraphQL. I will check it out."}],"answers":[{"comments":[{"owner":{"account_id":7590654,"reputation":203,"user_id":5758429,"accept_rate":0,"display_name":"Jonas Wolff"},"score":0,"creation_date":1531727657,"post_id":51325982,"comment_id":89686167,"body_markdown":"that&#39;s right. I killed the @Bean-Methods but nevertheless there are some Exceptions like: `graphql.servlet.GraphQLServlet           : Bad POST request: parsing failed\njava.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided`","body":"that&#39;s right. I killed the @Bean-Methods but nevertheless there are some Exceptions like: <code>graphql.servlet.GraphQLServlet           : Bad POST request: parsing failed java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided</code>"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1531727872,"post_id":51325982,"comment_id":89686288,"body_markdown":"Since that question is no longer related to this problem, I suggest creating a new question. That keeps the Q&amp;A over here clean.","body":"Since that question is no longer related to this problem, I suggest creating a new question. That keeps the Q&amp;A over here clean."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1681420140,"post_id":51325982,"comment_id":134057859,"body_markdown":"@JonasWolff did you ever end up creating another Question?","body":"@JonasWolff did you ever end up creating another Question?"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1681420221,"post_id":51325982,"comment_id":134057881,"body_markdown":"since it sounds like this Answer solved the [first] problem, I think this Answer should be `Accepted`","body":"since it sounds like this Answer solved the [first] problem, I think this Answer should be <code>Accepted</code>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1681421622,"post_id":51325982,"comment_id":134058109,"body_markdown":"any idea why OP was able to get double Resolver Beans (without your Solution) to work?  &quot;older GraphQL version (4.3.0 and 5.2.0) with Spring boot 1.5.8&quot;","body":"any idea why OP was able to get double Resolver Beans (without your Solution) to work?  &quot;older GraphQL version (4.3.0 and 5.2.0) with Spring boot 1.5.8&quot;"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531487535,"creation_date":1531487535,"answer_id":51325982,"question_id":51325556,"body_markdown":"You&#39;re creating your resolver beans twice. Both your `MutationResolver` and `QueryResolver` are annotated with `@Component`, which means that Spring will create an instance and register it. However, within the `GraphqlApplication` you also created beans for both resolvers using the `@Bean` annotation.\r\n\r\nThis causes an issue, because the GraphQL library will look for a proper resolver for `greetingsAll`, but it will find two resolvers due to your bean being mapped twice. \r\n\r\nThe solution is to either remove the `@Component` annotation, or to remove the following bean configuration:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public QueryResolver query() {\r\n        return new QueryResolver();\r\n    }\r\n\r\n    @Bean\r\n    public MutationResolver mutation() {\r\n        return new MutationResolver();\r\n    }","title":"GraphQL and Spring Boot 2.0.3","body":"<p>You're creating your resolver beans twice. Both your <code>MutationResolver</code> and <code>QueryResolver</code> are annotated with <code>@Component</code>, which means that Spring will create an instance and register it. However, within the <code>GraphqlApplication</code> you also created beans for both resolvers using the <code>@Bean</code> annotation.</p>\n\n<p>This causes an issue, because the GraphQL library will look for a proper resolver for <code>greetingsAll</code>, but it will find two resolvers due to your bean being mapped twice. </p>\n\n<p>The solution is to either remove the <code>@Component</code> annotation, or to remove the following bean configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic QueryResolver query() {\n    return new QueryResolver();\n}\n\n@Bean\npublic MutationResolver mutation() {\n    return new MutationResolver();\n}\n</code></pre>\n"}],"owner":{"account_id":7590654,"reputation":203,"user_id":5758429,"accept_rate":0,"display_name":"Jonas Wolff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15375,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1681420935,"creation_date":1531486312,"question_id":51325556,"body_markdown":"I want to test `GraphQL` in a project that also uses `Spring Boot`, `Spring Security`; and I hope to use the latest [as of writing] Spring Boot `2.0.3.RELEASE`. As described in more detail below, I found that an older version of GraphQL along with an older Spring Boot solved an initial problem I faced (also described below).  **I am hoping to solve how to use the latest versions of all these dependencies (without any of the below problems).**\r\n\r\n*Here is how I started from the beginning:*\r\nSo I created a new Spring Boot App in IntelliJ using the build in Spring Initializr. The Spring Boot version is, of course, the latest (2.0.3.RELEASE)\r\nNow I add the dependencies for GraphQL and GraphiQL.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo test this, I ran the application but there was no `/graphql` endpoint. In this case, I configured it in `application.properties` without a problem:\r\n\r\n    # GraphQL\r\n    graphql.servlet.mapping=/graphql\r\n    graphql.servlet.enabled=true\r\n    graphql.servlet.corsEnabled=true\r\n    # GraphiQL\r\n    graphiql.mapping=/graphiql\r\n    graphiql.endpoint=/graphql\r\n    graphiql.enabled=true\r\n    graphiql.cdn.enabled=true\r\n    graphiql.cdn.version=0.11.11\r\n\r\nAfter testing again, the endpoint is there, so now I could write a schema, resolvers and so on. This is what I implemented:\r\n\r\nSchema:\r\n\r\n    schema {\r\n        query: Query\r\n        mutation: Mutation\r\n    }\r\n    \r\n    type Greeting {\r\n        id: ID!\r\n        message: String!\r\n    }\r\n    \r\n    type Query {\r\n        greetingsAll: [Greeting]\r\n    }\r\n    \r\n    type Mutation {\r\n        greeting(message: String!): Greeting\r\n    }\r\n\r\nModel:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @Entity\r\n    public class Greeting {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String message;\r\n    }\r\n\r\nRepository\r\n\r\n    @Repository\r\n    public interface GreetingRepository extends JpaRepository&lt;Greeting, Long&gt; {\r\n    }\r\n\r\nQueryResolver\r\n\r\n    @Component\r\n    public class QueryResolver implements GraphQLQueryResolver {\r\n    \r\n        @Autowired\r\n        private GreetingRepository greetingRepository;\r\n    \r\n        public Greeting greeting(Long id) {\r\n            return greetingRepository.getOne(id);\r\n        }\r\n    \r\n        public Iterable&lt;Greeting&gt; getGreetingsAll() {\r\n            return greetingRepository.findAll();\r\n        }\r\n    }\r\n\r\nMutationResolver\r\n\r\n    @Component\r\n    public class MutationResolver implements GraphQLMutationResolver {\r\n    \r\n        @Autowired\r\n        private GreetingRepository greetingRepository;\r\n    \r\n        public Greeting newGreeting(String message) {\r\n            Greeting greeting = new Greeting();\r\n            greeting.setMessage(message);\r\n    \r\n            return greetingRepository.save(greeting);\r\n        }\r\n    }\r\n\r\nBeans for SpringBoot\r\n\r\n    @SpringBootApplication\r\n    public class GraphqlApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GraphqlApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        ApplicationRunner init(GreetingRepository greetingRepository) {\r\n            return args -&gt; {\r\n                Stream.of(&quot;Hallo&quot;, &quot;Guten Tag&quot;, &quot;Moin&quot;).forEach(greeting -&gt; greetingRepository.save(Greeting.builder().message(greeting).build()));\r\n                greetingRepository.findAll().forEach(System.out::println);\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        public QueryResolver query() {\r\n            return new QueryResolver();\r\n        }\r\n    \r\n        @Bean\r\n        public MutationResolver mutation() {\r\n            return new MutationResolver();\r\n        }\r\n    }\r\n\r\nWhile trying to test the application again to see if I could run a query using GraphiQL, the application wouldn&#39;t start:\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat de.eno.prototyp.graphql.GraphqlApplication.main(GraphqlApplication.java:14) [classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:413) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \t... 8 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServletRegistrationBean&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServletRegistrationBean&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServlet&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServlet&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServlet&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServlet&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 38 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) \r\n    \t... 52 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \r\n    \t... 66 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 79 common frames omitted\r\n    Caused by: com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat com.coxautodev.graphql.tools.FieldResolverScanner.findFieldResolver(FieldResolverScanner.kt:39) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:227) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:122) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:80) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:150) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:156) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:65) ~[graphql-spring-boot-autoconfigure-4.3.0.jar:na]\r\n\r\nSo I don&#39;t know what happened but I think GraphQL can not map the `Query` type to the `QueryResolver`. But why?\r\n\r\nWhen checking the internet, I read that Spring Boot Version is the reason. So I tested it with Spring Boot 1.5.8.RELEASE, without result.\r\n\r\nHowever, when using an older GraphQL version (4.3.0 and 5.2.0) with Spring boot 1.5.8, it did seem to work fine. So then I tried to use these older GraphQL versions with the new Spring boot version, but then I get another exception:\r\n\r\n    2018-07-13 14:45:57.666  INFO 12872 --- [io-8080-exec-10] graphql.servlet.GraphQLServlet           : Bad POST request: parsing failed\r\n    \r\n    java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided\r\n    \tat org.apache.catalina.connector.Request.parseParts(Request.java:2826) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.connector.Request.getParts(Request.java:2793) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1084) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat graphql.servlet.GraphQLServlet.lambda$new$2(GraphQLServlet.java:129) ~[graphql-java-servlet-5.1.0.jar:na]\r\n    \tat graphql.servlet.GraphQLServlet.doRequest(GraphQLServlet.java:260) ~[graphql-java-servlet-5.1.0.jar:na]\r\n    \tat graphql.servlet.GraphQLServlet.doPost(GraphQLServlet.java:278) ~[graphql-java-servlet-5.1.0.jar:na]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n\r\nNow I&#39;m really screwed up because of this incompatibility. I want to use the new versions of all libraries. Does anybody have a solution?","title":"GraphQL and Spring Boot 2.0.3","body":"<p>I want to test <code>GraphQL</code> in a project that also uses <code>Spring Boot</code>, <code>Spring Security</code>; and I hope to use the latest [as of writing] Spring Boot <code>2.0.3.RELEASE</code>. As described in more detail below, I found that an older version of GraphQL along with an older Spring Boot solved an initial problem I faced (also described below).  <strong>I am hoping to solve how to use the latest versions of all these dependencies (without any of the below problems).</strong></p>\n<p><em>Here is how I started from the beginning:</em>\nSo I created a new Spring Boot App in IntelliJ using the build in Spring Initializr. The Spring Boot version is, of course, the latest (2.0.3.RELEASE)\nNow I add the dependencies for GraphQL and GraphiQL.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n    &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n    &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n    &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To test this, I ran the application but there was no <code>/graphql</code> endpoint. In this case, I configured it in <code>application.properties</code> without a problem:</p>\n<pre><code># GraphQL\ngraphql.servlet.mapping=/graphql\ngraphql.servlet.enabled=true\ngraphql.servlet.corsEnabled=true\n# GraphiQL\ngraphiql.mapping=/graphiql\ngraphiql.endpoint=/graphql\ngraphiql.enabled=true\ngraphiql.cdn.enabled=true\ngraphiql.cdn.version=0.11.11\n</code></pre>\n<p>After testing again, the endpoint is there, so now I could write a schema, resolvers and so on. This is what I implemented:</p>\n<p>Schema:</p>\n<pre><code>schema {\n    query: Query\n    mutation: Mutation\n}\n\ntype Greeting {\n    id: ID!\n    message: String!\n}\n\ntype Query {\n    greetingsAll: [Greeting]\n}\n\ntype Mutation {\n    greeting(message: String!): Greeting\n}\n</code></pre>\n<p>Model:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@Entity\npublic class Greeting {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String message;\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface GreetingRepository extends JpaRepository&lt;Greeting, Long&gt; {\n}\n</code></pre>\n<p>QueryResolver</p>\n<pre><code>@Component\npublic class QueryResolver implements GraphQLQueryResolver {\n\n    @Autowired\n    private GreetingRepository greetingRepository;\n\n    public Greeting greeting(Long id) {\n        return greetingRepository.getOne(id);\n    }\n\n    public Iterable&lt;Greeting&gt; getGreetingsAll() {\n        return greetingRepository.findAll();\n    }\n}\n</code></pre>\n<p>MutationResolver</p>\n<pre><code>@Component\npublic class MutationResolver implements GraphQLMutationResolver {\n\n    @Autowired\n    private GreetingRepository greetingRepository;\n\n    public Greeting newGreeting(String message) {\n        Greeting greeting = new Greeting();\n        greeting.setMessage(message);\n\n        return greetingRepository.save(greeting);\n    }\n}\n</code></pre>\n<p>Beans for SpringBoot</p>\n<pre><code>@SpringBootApplication\npublic class GraphqlApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GraphqlApplication.class, args);\n    }\n\n    @Bean\n    ApplicationRunner init(GreetingRepository greetingRepository) {\n        return args -&gt; {\n            Stream.of(&quot;Hallo&quot;, &quot;Guten Tag&quot;, &quot;Moin&quot;).forEach(greeting -&gt; greetingRepository.save(Greeting.builder().message(greeting).build()));\n            greetingRepository.findAll().forEach(System.out::println);\n        };\n    }\n\n    @Bean\n    public QueryResolver query() {\n        return new QueryResolver();\n    }\n\n    @Bean\n    public MutationResolver mutation() {\n        return new MutationResolver();\n    }\n}\n</code></pre>\n<p>While trying to test the application again to see if I could run a query using GraphiQL, the application wouldn't start:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at de.eno.prototyp.graphql.GraphqlApplication.main(GraphqlApplication.java:14) [classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:413) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServletRegistrationBean' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServletRegistrationBean' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServlet' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServlet' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServlet' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServlet' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) \n    ... 52 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \n    ... 66 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 79 common frames omitted\nCaused by: com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at com.coxautodev.graphql.tools.FieldResolverScanner.findFieldResolver(FieldResolverScanner.kt:39) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:227) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:122) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:80) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:150) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:156) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:65) ~[graphql-spring-boot-autoconfigure-4.3.0.jar:na]\n</code></pre>\n<p>So I don't know what happened but I think GraphQL can not map the <code>Query</code> type to the <code>QueryResolver</code>. But why?</p>\n<p>When checking the internet, I read that Spring Boot Version is the reason. So I tested it with Spring Boot 1.5.8.RELEASE, without result.</p>\n<p>However, when using an older GraphQL version (4.3.0 and 5.2.0) with Spring boot 1.5.8, it did seem to work fine. So then I tried to use these older GraphQL versions with the new Spring boot version, but then I get another exception:</p>\n<pre><code>2018-07-13 14:45:57.666  INFO 12872 --- [io-8080-exec-10] graphql.servlet.GraphQLServlet           : Bad POST request: parsing failed\n\njava.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2826) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2793) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1084) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at graphql.servlet.GraphQLServlet.lambda$new$2(GraphQLServlet.java:129) ~[graphql-java-servlet-5.1.0.jar:na]\n    at graphql.servlet.GraphQLServlet.doRequest(GraphQLServlet.java:260) ~[graphql-java-servlet-5.1.0.jar:na]\n    at graphql.servlet.GraphQLServlet.doPost(GraphQLServlet.java:278) ~[graphql-java-servlet-5.1.0.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n</code></pre>\n<p>Now I'm really screwed up because of this incompatibility. I want to use the new versions of all libraries. Does anybody have a solution?</p>\n"},{"tags":["java","spring","spring-boot","graalvm-native-image","spring-logback"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681311931,"post_id":75996820,"comment_id":134036706,"body_markdown":"Is it you full `logback-spring.xml`? Did you use any `RollingFileAppender`?","body":"Is it you full <code>logback-spring.xml</code>? Did you use any <code>RollingFileAppender</code>?"},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681313801,"post_id":75996820,"comment_id":134037203,"body_markdown":"@samabcde no, it&#39;s not. I&#39;ve just update my question and put my full `logback-spring.xml`","body":"@samabcde no, it&#39;s not. I&#39;ve just update my question and put my full <code>logback-spring.xml</code>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681316255,"post_id":75996820,"comment_id":134037843,"body_markdown":"I suspect the problem is `application.yml` not included as resources, try add `-H:Log=registerResource:` to see what is actually included.","body":"I suspect the problem is <code>application.yml</code> not included as resources, try add <code>-H:Log=registerResource:</code> to see what is actually included."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1681318629,"post_id":75996820,"comment_id":134038377,"body_markdown":"The failure appears to be happening during the `process-aot` goal of Spring Boot&#39;s Maven plugin which happens before native image compilation, but you&#39;ve said that you&#39;re compiling the native image manually. Can you clarify the steps that are necessary to reproduce the problem?","body":"The failure appears to be happening during the <code>process-aot</code> goal of Spring Boot&#39;s Maven plugin which happens before native image compilation, but you&#39;ve said that you&#39;re compiling the native image manually. Can you clarify the steps that are necessary to reproduce the problem?"},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681419222,"post_id":75996820,"comment_id":134057690,"body_markdown":"@AndyWilkinson I&#39;ve added my `pom.xml`. Can you see what I do bad?","body":"@AndyWilkinson I&#39;ve added my <code>pom.xml</code>. Can you see what I do bad?"},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681419975,"post_id":75996820,"comment_id":134057837,"body_markdown":"I moved `logging.*` to internal (classpath) config and it crash on another error. How can I have `logging.*` in external file?","body":"I moved <code>logging.*</code> to internal (classpath) config and it crash on another error. How can I have <code>logging.*</code> in external file?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1681459991,"post_id":75996820,"comment_id":134062965,"body_markdown":"Why are you using `spring-boot:build-image` which builds a container (Docker) image for your application and then also manually running native image compilation? Have you considered using the [approach that&#39;s described in the documentation](https://docs.spring.io/spring-boot/docs/3.0.x/maven-plugin/reference/htmlsingle/#_using_the_native_profile) instead? In short, you&#39;d add the `org.graalvm.buildtools:native-maven-plugin` plugin and then build the native image using `mvn package -Pnative`. If this approach doesn&#39;t work, you&#39;ll need to describe exactly what you&#39;re trying to achieve.","body":"Why are you using <code>spring-boot:build-image</code> which builds a container (Docker) image for your application and then also manually running native image compilation? Have you considered using the <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/maven-plugin/reference/htmlsingle/#_using_the_native_profile\" rel=\"nofollow noreferrer\">approach that&#39;s described in the documentation</a> instead? In short, you&#39;d add the <code>org.graalvm.buildtools:native-maven-plugin</code> plugin and then build the native image using <code>mvn package -Pnative</code>. If this approach doesn&#39;t work, you&#39;ll need to describe exactly what you&#39;re trying to achieve."},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681492728,"post_id":75996820,"comment_id":134070844,"body_markdown":"@AndyWilkinson I removed `buildpacks` from my `pom.xml`. I don&#39;t need docker image, I need only nativeimage (binary). It works - thank you.\nBut I still don&#39;t know how to fix `logging.*` in yaml file loaded using `--spring.config.import=application.yaml&quot;`. Is it possible?","body":"@AndyWilkinson I removed <code>buildpacks</code> from my <code>pom.xml</code>. I don&#39;t need docker image, I need only nativeimage (binary). It works - thank you. But I still don&#39;t know how to fix <code>logging.*</code> in yaml file loaded using <code>--spring.config.import=application.yaml&quot;</code>. Is it possible?"}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681420705,"creation_date":1681310593,"question_id":75996820,"body_markdown":"I&#39;m using Spring Boot 3.0.5, Java 17, GraalVM 22.3.1.\r\n\r\nIt crash during compilation on error:\r\n```\r\n[INFO] --- spring-boot:3.0.5:process-aot (process-aot) @ app ---\r\nLogging system failed to initialize using configuration from &#39;null&#39;\r\njava.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n\tat net.example.app.appApplication.main(appApplication.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n\tat org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\n2023-04-12 14:31:36.686+0000 ERROR [                                ] 937 [           main] ---  822:g.springframework.boot.SpringApplication : Application run failed\r\njava.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n\tat net.example.app.appApplication.main(appApplication.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n\tat org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\t... 34 common frames omitted\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n\tat net.example.app.appApplication.main(appApplication.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n\tat org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\t... 34 more\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n```\r\n\r\nThis is my `logback-spring.yml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- https://github.com/spring-projects/spring-boot/issues/32968#issuecomment-1303213314 --&gt;\r\n&lt;configuration&gt;\r\n\r\n\t&lt;conversionRule conversionWord=&quot;clr&quot; converterClass=&quot;org.springframework.boot.logging.logback.ColorConverter&quot; /&gt;\r\n\t&lt;conversionRule conversionWord=&quot;wex&quot; converterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; /&gt;\r\n\t&lt;conversionRule conversionWord=&quot;wEx&quot; converterClass=&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; /&gt;\r\n\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_PATH&quot; source=&quot;logging.file.path&quot; /&gt;\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXSIZE&quot; source=&quot;logging.logback.rollingpolicy.max-file-size&quot; /&gt;\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXHISTORY&quot; source=&quot;logging.logback.rollingpolicy.max-history&quot; /&gt;\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_TOTALSIZECAP&quot; source=&quot;logging.logback.rollingpolicy.total-size-cap&quot; /&gt;\r\n\r\n\t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;\r\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\r\n            &lt;/Pattern&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;file&gt;${LOG_PATH}/mwhs.log&lt;/file&gt;\r\n\t\t&lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;\r\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\r\n            &lt;/Pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\r\n\t\t&lt;!-- daily rollover --&gt;\r\n\t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\r\n\t\t\t&lt;fileNamePattern&gt;${LOG_PATH}/archived/mwhs-%d{yyyy-MM-dd}.%i.log\r\n            &lt;/fileNamePattern&gt;\r\n\t\t\t&lt;!-- https://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy --&gt;\r\n\t\t\t&lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n\t\t\t\t&lt;maxFileSize&gt;${LOG_MAXSIZE}&lt;/maxFileSize&gt;\r\n\t\t\t\t&lt;maxHistory&gt;$100&lt;/maxHistory&gt;\r\n\t\t\t\t&lt;totalSizeCap&gt;${LOG_TOTALSIZECAP}&lt;/totalSizeCap&gt;\r\n\t\t\t&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;root level=&quot;info&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n```\r\n`pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mwhs&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;app&lt;/name&gt;\r\n\t&lt;description&gt;app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.pebbletemplates&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pebble&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;buildpacks&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:10.1.0&lt;/buildpack&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\r\n\t\t\t\t\t\t&lt;/buildpacks&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand `application.yml`:\r\n```yaml\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org:\r\n      hibernate:\r\n        SQL: INFO\r\n        stat: DEBUG\r\n        type:\r\n          descriptor:\r\n            sql: TRACE\r\n    net.example.app.app: DEBUG\r\n  file:\r\n    path: /tmp/app\r\n  logback:\r\n    rollingpolicy:\r\n      max-file-size: 10MB\r\n      max-history: 90\r\n      total-size-cap: 2GB\r\n```\r\n\r\nI compile using:\r\n```bash\r\nmvn -Pnative spring-boot:build-image\r\nrm -rf target/native\r\nmkdir -p target/native\r\ncd target/native\r\njar -xvf ../app.jar\r\ntouch META-INF/native-image/argfile\r\n\r\nnative-image -H:Name=app \\\r\n@META-INF/native-image/argfile \\\r\n-H:+ReportExceptionStackTraces \\\r\n-H:TraceClassInitialization=true \\\r\n-H:IncludeResources=&quot;.*&quot; \\\r\n--initialize-at-build-time=\\\r\ncom.fasterxml.jackson.annotation.JsonProperty\\\r\n,org.slf4j.impl.StaticLoggerBinder\\\r\n,org.slf4j.LoggerFactory\\\r\n,org.slf4j.simple.SimpleLogger\\\r\n,ch.qos.logback\\\r\n-cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr &#39;\\n&#39; &#39;:&#39;`\r\n```\r\n\r\nand run application using:\r\n```bash\r\njava -jar -Xmx64m app.jar --spring.config.import=application.yaml&quot;\r\n```\r\nso my configuration of logging is external. Is it problem?\r\n\r\nI&#39;m totally lost. Can someone please help me?","title":"Spring Boot GraalVM Native Image compilation crash on ch.qos.logback","body":"<p>I'm using Spring Boot 3.0.5, Java 17, GraalVM 22.3.1.</p>\n<p>It crash during compilation on error:</p>\n<pre><code>[INFO] --- spring-boot:3.0.5:process-aot (process-aot) @ app ---\nLogging system failed to initialize using configuration from 'null'\njava.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at net.example.app.appApplication.main(appApplication.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\n    at org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n    at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n    at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\n2023-04-12 14:31:36.686+0000 ERROR [                                ] 937 [           main] ---  822:g.springframework.boot.SpringApplication : Application run failed\njava.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at net.example.app.appApplication.main(appApplication.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\n    at org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n    at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n    at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    ... 34 common frames omitted\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at net.example.app.appApplication.main(appApplication.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\n    at org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n    at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n    at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    ... 34 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n</code></pre>\n<p>This is my <code>logback-spring.yml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- https://github.com/spring-projects/spring-boot/issues/32968#issuecomment-1303213314 --&gt;\n&lt;configuration&gt;\n\n    &lt;conversionRule conversionWord=&quot;clr&quot; converterClass=&quot;org.springframework.boot.logging.logback.ColorConverter&quot; /&gt;\n    &lt;conversionRule conversionWord=&quot;wex&quot; converterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; /&gt;\n    &lt;conversionRule conversionWord=&quot;wEx&quot; converterClass=&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; /&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_PATH&quot; source=&quot;logging.file.path&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXSIZE&quot; source=&quot;logging.logback.rollingpolicy.max-file-size&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXHISTORY&quot; source=&quot;logging.logback.rollingpolicy.max-history&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_TOTALSIZECAP&quot; source=&quot;logging.logback.rollingpolicy.total-size-cap&quot; /&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_PATH}/mwhs.log&lt;/file&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;Pattern&gt;\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;!-- daily rollover --&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\n            &lt;fileNamePattern&gt;${LOG_PATH}/archived/mwhs-%d{yyyy-MM-dd}.%i.log\n            &lt;/fileNamePattern&gt;\n            &lt;!-- https://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy --&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;${LOG_MAXSIZE}&lt;/maxFileSize&gt;\n                &lt;maxHistory&gt;$100&lt;/maxHistory&gt;\n                &lt;totalSizeCap&gt;${LOG_TOTALSIZECAP}&lt;/totalSizeCap&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mwhs&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app&lt;/name&gt;\n    &lt;description&gt;app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.pebbletemplates&lt;/groupId&gt;\n            &lt;artifactId&gt;pebble&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;buildpacks&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:10.1.0&lt;/buildpack&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\n                        &lt;/buildpacks&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    root: INFO\n    org:\n      hibernate:\n        SQL: INFO\n        stat: DEBUG\n        type:\n          descriptor:\n            sql: TRACE\n    net.example.app.app: DEBUG\n  file:\n    path: /tmp/app\n  logback:\n    rollingpolicy:\n      max-file-size: 10MB\n      max-history: 90\n      total-size-cap: 2GB\n</code></pre>\n<p>I compile using:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Pnative spring-boot:build-image\nrm -rf target/native\nmkdir -p target/native\ncd target/native\njar -xvf ../app.jar\ntouch META-INF/native-image/argfile\n\nnative-image -H:Name=app \\\n@META-INF/native-image/argfile \\\n-H:+ReportExceptionStackTraces \\\n-H:TraceClassInitialization=true \\\n-H:IncludeResources=&quot;.*&quot; \\\n--initialize-at-build-time=\\\ncom.fasterxml.jackson.annotation.JsonProperty\\\n,org.slf4j.impl.StaticLoggerBinder\\\n,org.slf4j.LoggerFactory\\\n,org.slf4j.simple.SimpleLogger\\\n,ch.qos.logback\\\n-cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr '\\n' ':'`\n</code></pre>\n<p>and run application using:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar -Xmx64m app.jar --spring.config.import=application.yaml&quot;\n</code></pre>\n<p>so my configuration of logging is external. Is it problem?</p>\n<p>I'm totally lost. Can someone please help me?</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":28066508,"reputation":11,"user_id":21439818,"display_name":"Stuart Odom"},"score":0,"creation_date":1679330999,"post_id":75791711,"comment_id":133698793,"body_markdown":"The link sent does NOT answer my question; I&#39;d seen that link a number of times perviously. It shows how to SERIALIZE objects to a file, then DESERIALIZE by reading from that file. I specifically stated that that&#39;s NOT what I need to do. I need to simply take an already-serialized that&#39;s NOT in a file, and deserialize it.","body":"The link sent does NOT answer my question; I&#39;d seen that link a number of times perviously. It shows how to SERIALIZE objects to a file, then DESERIALIZE by reading from that file. I specifically stated that that&#39;s NOT what I need to do. I need to simply take an already-serialized that&#39;s NOT in a file, and deserialize it."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679339466,"post_id":75791711,"comment_id":133701008,"body_markdown":"There is one file. An AVSC file. Using a Schema is a requirement to use Avro. You can also hard-code the schema in a `String` and use `Schema.Parser`.... The rest is coming from Avro `byte[]` data already in Kafka, not any &quot;files&quot;","body":"There is one file. An AVSC file. Using a Schema is a requirement to use Avro. You can also hard-code the schema in a <code>String</code> and use <code>Schema.Parser</code>.... The rest is coming from Avro <code>byte[]</code> data already in Kafka, not any &quot;files&quot;"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679339683,"post_id":75791711,"comment_id":133701065,"body_markdown":"Maybe you can edit your question to clarify what exactly you tried as a [mcve]? Otherwise, we can only speculate what your actual problem is.","body":"Maybe you can edit your question to clarify what exactly you tried as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Otherwise, we can only speculate what your actual problem is."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1681421128,"post_id":75791711,"comment_id":134058012,"body_markdown":"Are your messages coming from an environment with the Confluent Schema Registry? If yes - take a look at this [answer](https://stackoverflow.com/a/31206063/355438). It reveals the structure of such messages that were serialized using Confluent&#39;s `KafkaAvroSerializer`.\nAlso, you may take a look at the alternative implementation of this format: https://github.com/LinkedInAttic/camus/tree/master/camus-kafka-coders/src/main/java/com/linkedin/camus/etl/kafka/coders","body":"Are your messages coming from an environment with the Confluent Schema Registry? If yes - take a look at this <a href=\"https://stackoverflow.com/a/31206063/355438\">answer</a>. It reveals the structure of such messages that were serialized using Confluent&#39;s <code>KafkaAvroSerializer</code>. Also, you may take a look at the alternative implementation of this format: <a href=\"https://github.com/LinkedInAttic/camus/tree/master/camus-kafka-coders/src/main/java/com/linkedin/camus/etl/kafka/coders\" rel=\"nofollow noreferrer\">github.com/LinkedInAttic/camus/tree/master/camus-kafka-coder&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1681421593,"post_id":75791711,"comment_id":134058105,"body_markdown":"If you control serialization by yourself, then you can utilize an approach without Confluent Schema Registry: https://stackoverflow.com/questions/47268010/avro-serializer-and-deserializer-with-kafka-java-api","body":"If you control serialization by yourself, then you can utilize an approach without Confluent Schema Registry: <a href=\"https://stackoverflow.com/questions/47268010/avro-serializer-and-deserializer-with-kafka-java-api\" title=\"avro serializer and deserializer with kafka java api\">stackoverflow.com/questions/47268010/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":28066508,"reputation":11,"user_id":21439818,"display_name":"Stuart Odom"},"score":0,"creation_date":1679331092,"post_id":75792639,"comment_id":133698819,"body_markdown":"I can&#39;t add it. I&#39;m in an environment in which it&#39;s not available for adding. That&#39;s why I&#39;m looking for some help with Java code to deserialize it myself. And creating DatumWriter&#39;s and DatumReader&#39;s is not the answer.","body":"I can&#39;t add it. I&#39;m in an environment in which it&#39;s not available for adding. That&#39;s why I&#39;m looking for some help with Java code to deserialize it myself. And creating DatumWriter&#39;s and DatumReader&#39;s is not the answer."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679339420,"post_id":75792639,"comment_id":133700995,"body_markdown":"Explain why is that not the answer? `SpecificDatumReader` (or `GenericDatumReader`) are what return you a specific (or generic) Java object to consume and process.","body":"Explain why is that not the answer? <code>SpecificDatumReader</code> (or <code>GenericDatumReader</code>) are what return you a specific (or generic) Java object to consume and process."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679339778,"post_id":75792639,"comment_id":133701090,"body_markdown":"And why exactly cant you add external libraries? You are disconnected from the internet, or cannot otherwise copy JARs into that project? How did you add `kafka-clients`, then? You mentioned you have a `pom.xml`, so clearly you are using Maven and should be able to add it... https://docs.confluent.io/kafka-clients/java/current/overview.html","body":"And why exactly cant you add external libraries? You are disconnected from the internet, or cannot otherwise copy JARs into that project? How did you add <code>kafka-clients</code>, then? You mentioned you have a <code>pom.xml</code>, so clearly you are using Maven and should be able to add it... <a href=\"https://docs.confluent.io/kafka-clients/java/current/overview.html\" rel=\"nofollow noreferrer\">docs.confluent.io/kafka-clients/java/current/overview.html</a>"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1681399594,"post_id":75792639,"comment_id":134053418,"body_markdown":"@OneCricketeer, as you correctly pointed out in your answer Avro messages that were serialized using Confluent Schema Registry are not simple Avro messages because they contain additional data (schema ID). You can&#39;t just feed such a message to the `BinaryDecoder` - you&#39;ll get an exception.","body":"@OneCricketeer, as you correctly pointed out in your answer Avro messages that were serialized using Confluent Schema Registry are not simple Avro messages because they contain additional data (schema ID). You can&#39;t just feed such a message to the <code>BinaryDecoder</code> - you&#39;ll get an exception."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681420210,"post_id":75792639,"comment_id":134057879,"body_markdown":"@IlyaSerbis You can, but it requires using `ByteArrayDeserializer`, then `ByteBuffer` to skip over the first 5 bytes before using `BinaryDecoder` on the remainder of the data. This is exactly [what confluent already does](https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroDeserializer.java#L485). But doing that on your own, requires providing the schema somehow other than looking up from the Registry...","body":"@IlyaSerbis You can, but it requires using <code>ByteArrayDeserializer</code>, then <code>ByteBuffer</code> to skip over the first 5 bytes before using <code>BinaryDecoder</code> on the remainder of the data. This is exactly <a href=\"https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroDeserializer.java#L485\" rel=\"nofollow noreferrer\">what confluent already does</a>. But doing that on your own, requires providing the schema somehow other than looking up from the Registry..."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681420349,"creation_date":1679328305,"answer_id":75792639,"question_id":75791711,"body_markdown":"It has been done before. The Avro documentation (and/or JavaDoc) covers exactly what you need, which is the `BinaryDecoder` class. \r\n\r\nThat same documentation assume records **are** serialized. However, Confluent&#39;s Avro serialized records are not the same as directly serialized records, therefore, it&#39;s unclear what exactly you need. \r\n\r\n&gt; The package io.confluent.kafka.serializers.KafkAvroDeserializer is not available on my development platform\r\n\r\nThen use Maven / Gradle to add it? But this will require you have a running Schema Registry, not just an Avro schema file. \r\n\r\n&gt; All I&#39;ve found online has been ...\r\n\r\nConfluent&#39;s deserializer code is [open-source](https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroDeserializer.java#L485), so you could just copy the class on your own. As mentioned, it&#39;s using the `BinaryDecoder` class. ","title":"Deserialize Kafka Avro record","body":"<p>It has been done before. The Avro documentation (and/or JavaDoc) covers exactly what you need, which is the <code>BinaryDecoder</code> class.</p>\n<p>That same documentation assume records <strong>are</strong> serialized. However, Confluent's Avro serialized records are not the same as directly serialized records, therefore, it's unclear what exactly you need.</p>\n<blockquote>\n<p>The package io.confluent.kafka.serializers.KafkAvroDeserializer is not available on my development platform</p>\n</blockquote>\n<p>Then use Maven / Gradle to add it? But this will require you have a running Schema Registry, not just an Avro schema file.</p>\n<blockquote>\n<p>All I've found online has been ...</p>\n</blockquote>\n<p>Confluent's deserializer code is <a href=\"https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroDeserializer.java#L485\" rel=\"nofollow noreferrer\">open-source</a>, so you could just copy the class on your own. As mentioned, it's using the <code>BinaryDecoder</code> class.</p>\n"}],"owner":{"account_id":28066508,"reputation":11,"user_id":21439818,"display_name":"Stuart Odom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679328662,"answer_count":1,"score":1,"last_activity_date":1681420349,"creation_date":1679323337,"question_id":75791711,"body_markdown":"I&#39;m writing a Java program that reads from an Apache Kafka data stream. The messages are Avro serialized. Each message contains a single Avro-serialized record. The package **io.confluent.kafka.serializers.KafkAvroDeserializer** is not available on my development platform; if it were, then it would be a simple matter of setting the property &quot;value.deserializer&quot; to the proper setting (KafkaAvroDeserializer.class) for Avro deserialization. Therefore, I need to write my own deserializer. All I&#39;ve found online has been about how to serialize records, write them to a file using a specified Avro schema, and then how to read and DEserialize the written records. The Java Parsers library, as far as I can tell, doesn&#39;t provide much help as it assumes that the program receives the data in UNserialized form, then gives the necessary object methods to serialize it, then the necessary methods to DEserialize it.\r\n\r\nSo, my question is this:  how do I deserialize an Avro-formatted record in Java? Just a single record. I have the serialized record. I have the Avro schema. I don&#39;t need to append it a serializable file. I simply need to deserialize that record. I can&#39;t believe this hasn&#39;t been done before, but I&#39;ve literally found nothing about it online. Can anybody help me on this?\r\n\r\nThank you in advance.\r\n\r\nI&#39;ve tried using Java Parsers library, various Kafka Avro &quot;value.deserializer&quot; property setting, differnet packages in my Eclipse pom.xml file. All to no avail.\r\n\r\nThere&#39;s GOT to be a simple way of deserializing a single Avro record by providing the necessary schema (which I&#39;ve got).","title":"Deserialize Kafka Avro record","body":"<p>I'm writing a Java program that reads from an Apache Kafka data stream. The messages are Avro serialized. Each message contains a single Avro-serialized record. The package <strong>io.confluent.kafka.serializers.KafkAvroDeserializer</strong> is not available on my development platform; if it were, then it would be a simple matter of setting the property &quot;value.deserializer&quot; to the proper setting (KafkaAvroDeserializer.class) for Avro deserialization. Therefore, I need to write my own deserializer. All I've found online has been about how to serialize records, write them to a file using a specified Avro schema, and then how to read and DEserialize the written records. The Java Parsers library, as far as I can tell, doesn't provide much help as it assumes that the program receives the data in UNserialized form, then gives the necessary object methods to serialize it, then the necessary methods to DEserialize it.</p>\n<p>So, my question is this:  how do I deserialize an Avro-formatted record in Java? Just a single record. I have the serialized record. I have the Avro schema. I don't need to append it a serializable file. I simply need to deserialize that record. I can't believe this hasn't been done before, but I've literally found nothing about it online. Can anybody help me on this?</p>\n<p>Thank you in advance.</p>\n<p>I've tried using Java Parsers library, various Kafka Avro &quot;value.deserializer&quot; property setting, differnet packages in my Eclipse pom.xml file. All to no avail.</p>\n<p>There's GOT to be a simple way of deserializing a single Avro record by providing the necessary schema (which I've got).</p>\n"},{"tags":["java","jpa","hql","criteria-api"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1681421094,"post_id":76009720,"comment_id":134058005,"body_markdown":"what is your goal? to get total row count in resultset using single query?","body":"what is your goal? to get total row count in resultset using single query?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1681447669,"post_id":76009720,"comment_id":134060857,"body_markdown":"It was so. I was able to get the same count with work around, based on suing ServiceEntity as the root, but now I&#39;d like to fugure out, why the HQL is generated with the error, which part makes in inconsistent.","body":"It was so. I was able to get the same count with work around, based on suing ServiceEntity as the root, but now I&#39;d like to fugure out, why the HQL is generated with the error, which part makes in inconsistent."}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681419528,"creation_date":1681418918,"question_id":76009720,"body_markdown":"I have 2 entities like that:\r\n\r\n    @Entity\r\n    @Table(name = &quot;registry_groups&quot;)\r\n    public class RegistryGroupEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\r\n        private Integer id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;registryGroup&quot;)\r\n        private Collection&lt;ServiceEntity&gt; services;\r\n    //setters-getters ommited\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;services&quot;)\r\n    public class ServiceEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;service_gen&quot;)\r\n        private Integer id;\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\r\n        private Integer registryGroupId;\r\n    \r\n    }\r\n\r\nAnd I try to make a counter function based on the second entity joined to the firs one.\r\n\r\nThe first approach was:\r\n\r\n    public long getRegistryGroupSimpleServicesIntCount(String name) {\r\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\r\n            Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\r\n    \r\n            Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\r\n            //\r\n    \r\n            //Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class);\r\n            //Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\r\n            //concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\r\n            //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\r\n    \r\n            c.select(cb.count(serviceJoin.getSelection()));\r\n            c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\r\n    \r\n            List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\r\n            Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\r\n            if (name != null) {\r\n                ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\r\n                criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\r\n                paramValues.put(&quot;name&quot;, name);\r\n            }\r\n            if (criteria.size() == 1) {\r\n                c.where(criteria.get(0));\r\n            } else if (criteria.size() &gt; 0) {\r\n                c.where(cb.and(criteria.toArray(new Predicate[0])));\r\n            }\r\n    \r\n            TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\r\n    \r\n            for (String paramName : paramValues.keySet()) {\r\n                q.setParameter(paramName, paramValues.get(paramName));\r\n            }\r\n    \r\n            return q.getSingleResult();\r\n        }\r\n\r\nGenerate HQL is:\r\n\r\n    select count(services1_.id) as col_0_0_ from registry_groups registrygr0_ inner join services services1_ on registrygr0_.id=services1_.registry_group_id order by services1_.name desc\r\n\r\nand the error message is:\r\n\r\n    ERROR: column &quot;services1_.name&quot; must appear in the GROUP BY clause or be used in an aggregate function\r\n\r\nhowever, as you see, there is no group by clause in the query.\r\n\r\nSo, with enabling the subquery I have tried another approach:\r\n\r\npublic long getRegistryGroupSimpleServicesIntCount(String name) {\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\r\n        Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\r\n\r\n        Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\r\n        //здесь мы хотим получить все возможные услуги для поиска в фильре\r\n\r\n        Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class); //here the new part starts\r\n        Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\r\n        concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\r\n        //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\r\n\r\n        c.select(cb.count(countSubQueryRoot)); //here ends\r\n        c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\r\n\r\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\r\n        Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\r\n        if (name != null) {\r\n            ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\r\n            criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\r\n            paramValues.put(&quot;name&quot;, name);\r\n        }\r\n        if (criteria.size() == 1) {\r\n            c.where(criteria.get(0));\r\n        } else if (criteria.size() &gt; 0) {\r\n            c.where(cb.and(criteria.toArray(new Predicate[0])));\r\n        }\r\n\r\n        TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\r\n\r\n        for (String paramName : paramValues.keySet()) {\r\n            q.setParameter(paramName, paramValues.get(paramName));\r\n        }\r\n\r\n        return q.getSingleResult();\r\n    }\r\n\r\nBut now I&#39;m getting another error with the followng reason in the stacktrace:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;generatedalias0&quot; does not exist\r\n      Position: 14\r\n\r\nand the generated HQL is:\r\n\r\n    select count(generatedAlias0) from RegistryGroupEntity as generatedAlias1 inner join generatedAlias1.services as generatedAlias2 order by generatedAlias2.name desc\r\n\r\nHow to work it around with still trying to get the data from the join?\r\n\r\n","title":"Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;generatedalias0&quot; does not exist or &quot;must appear in the GROUP BY&quot; in query with no group","body":"<p>I have 2 entities like that:</p>\n<pre><code>@Entity\n@Table(name = &quot;registry_groups&quot;)\npublic class RegistryGroupEntity {\n    @Id\n    @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;registryGroup&quot;)\n    private Collection&lt;ServiceEntity&gt; services;\n//setters-getters ommited\n}\n\n@Entity\n@Table(name = &quot;services&quot;)\npublic class ServiceEntity {\n    @Id\n    @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;service_gen&quot;)\n    private Integer id;\n    @Column(nullable = false, length = 100)\n    private String name;\n\n    @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\n    private Integer registryGroupId;\n\n}\n</code></pre>\n<p>And I try to make a counter function based on the second entity joined to the firs one.</p>\n<p>The first approach was:</p>\n<pre><code>public long getRegistryGroupSimpleServicesIntCount(String name) {\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\n        Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\n\n        Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\n        //\n\n        //Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class);\n        //Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\n        //concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\n        //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\n\n        c.select(cb.count(serviceJoin.getSelection()));\n        c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\n\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\n        Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\n        if (name != null) {\n            ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\n            criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\n            paramValues.put(&quot;name&quot;, name);\n        }\n        if (criteria.size() == 1) {\n            c.where(criteria.get(0));\n        } else if (criteria.size() &gt; 0) {\n            c.where(cb.and(criteria.toArray(new Predicate[0])));\n        }\n\n        TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\n\n        for (String paramName : paramValues.keySet()) {\n            q.setParameter(paramName, paramValues.get(paramName));\n        }\n\n        return q.getSingleResult();\n    }\n</code></pre>\n<p>Generate HQL is:</p>\n<pre><code>select count(services1_.id) as col_0_0_ from registry_groups registrygr0_ inner join services services1_ on registrygr0_.id=services1_.registry_group_id order by services1_.name desc\n</code></pre>\n<p>and the error message is:</p>\n<pre><code>ERROR: column &quot;services1_.name&quot; must appear in the GROUP BY clause or be used in an aggregate function\n</code></pre>\n<p>however, as you see, there is no group by clause in the query.</p>\n<p>So, with enabling the subquery I have tried another approach:</p>\n<p>public long getRegistryGroupSimpleServicesIntCount(String name) {\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery c = cb.createQuery(Long.class);\nRoot registryGroup = c.from(RegistryGroupEntity.class);</p>\n<pre><code>    Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\n    //здесь мы хотим получить все возможные услуги для поиска в фильре\n\n    Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class); //here the new part starts\n    Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\n    concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\n    //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\n\n    c.select(cb.count(countSubQueryRoot)); //here ends\n    c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\n\n    List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\n    Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\n    if (name != null) {\n        ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\n        criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\n        paramValues.put(&quot;name&quot;, name);\n    }\n    if (criteria.size() == 1) {\n        c.where(criteria.get(0));\n    } else if (criteria.size() &gt; 0) {\n        c.where(cb.and(criteria.toArray(new Predicate[0])));\n    }\n\n    TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\n\n    for (String paramName : paramValues.keySet()) {\n        q.setParameter(paramName, paramValues.get(paramName));\n    }\n\n    return q.getSingleResult();\n}\n</code></pre>\n<p>But now I'm getting another error with the followng reason in the stacktrace:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;generatedalias0&quot; does not exist\n  Position: 14\n</code></pre>\n<p>and the generated HQL is:</p>\n<pre><code>select count(generatedAlias0) from RegistryGroupEntity as generatedAlias1 inner join generatedAlias1.services as generatedAlias2 order by generatedAlias2.name desc\n</code></pre>\n<p>How to work it around with still trying to get the data from the join?</p>\n"},{"tags":["java","pdf","powerpoint","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1317380226,"creation_date":1317380226,"answer_id":7609389,"question_id":7606182,"body_markdown":"One option is to use POI to convert [each slide into an image](http://poi.apache.org/slideshow/how-to-shapes.html#Render), then use something like [Apache PDFBox](http://pdfbox.apache.org/) to place each image onto it&#39;s own PDF page. This should work well for simpler PPT files, but the code to render slides is still a WIP. So, if you have a very complex slide, you may find some bits missing/incorrect, do send in patches if you fix any of these gaps!\r\n\r\nOtherwise, your other option is to use the Java bindings for OpenOffice, and have that do the conversion for you","title":"Apache poi slide show to pdf conversion","body":"<p>One option is to use POI to convert <a href=\"http://poi.apache.org/slideshow/how-to-shapes.html#Render\" rel=\"nofollow\">each slide into an image</a>, then use something like <a href=\"http://pdfbox.apache.org/\" rel=\"nofollow\">Apache PDFBox</a> to place each image onto it's own PDF page. This should work well for simpler PPT files, but the code to render slides is still a WIP. So, if you have a very complex slide, you may find some bits missing/incorrect, do send in patches if you fix any of these gaps!</p>\n\n<p>Otherwise, your other option is to use the Java bindings for OpenOffice, and have that do the conversion for you</p>\n"},{"comments":[{"owner":{"account_id":5444729,"reputation":1584,"user_id":4331685,"display_name":"SANJAY GUPTA"},"score":0,"creation_date":1543908104,"post_id":13686262,"comment_id":94076731,"body_markdown":"Which version of poi  you are using","body":"Which version of poi  you are using"}],"tags":[],"owner":{"account_id":2106669,"reputation":81,"user_id":1872856,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681419277,"creation_date":1354548145,"answer_id":13686262,"question_id":7606182,"body_markdown":"Gagravarr, thanks you for your comment with following approach: PPT -&gt; images -&gt; PDF. It gave me clues for further solutions.\r\n\r\nRecently, I needed to convert PPT reports into PDF reports using Java facilities. PPT reports are generated via Apache POI lib, and I intended to reuse ready created PPT structure.\r\n\r\nI developed two solutions, each has its own advantages/disadvantages. And both of them using iText library with version 2.1.7.(which is free to use, and which is great)). Both of them do support Japanese symbols after additional enhancement.\r\n\r\n\r\n&gt; **1.** Apache POI Slide -&gt; image -&gt; PDF\r\n\r\nDemonstration code example:\r\n\r\n    package com.test.pdf;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.hslf.model.Slide;\r\n    import org.apache.poi.hslf.usermodel.SlideShow;\r\n    \r\n    import com.lowagie.text.Document;\r\n    import com.lowagie.text.DocumentException;\r\n    import com.lowagie.text.Image;\r\n    import com.lowagie.text.Rectangle;\r\n    import com.lowagie.text.pdf.PdfWriter;\r\n    \r\n    public class PPTtoImageToPDFexample {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) throws IOException, DocumentException {\r\n    \t\t\r\n    \t\t//load any ppt file\r\n    \t\tFileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\r\n    \t\tSlideShow ppt = new SlideShow(inputStream);\r\n    \t\tinputStream.close();\r\n    \t\tDimension pgsize = ppt.getPageSize();\r\n    \r\n    \t\t//take first slide and save it as an image\r\n    \t\tSlide slide = ppt.getSlides()[0];\r\n    \t\tBufferedImage img = new BufferedImage(pgsize.width, pgsize.height,\r\n    \t\t\t\tBufferedImage.TYPE_INT_RGB);\r\n    \t\tGraphics2D graphics = img.createGraphics();\r\n    \t\tgraphics.setPaint(Color.white);\r\n    \t\tgraphics.fill(new Rectangle2D.Float(0, 0, pgsize.width,\r\n    \t\t\t\tpgsize.height));\r\n    \t\tslide.draw(graphics);\r\n    \t\tFileOutputStream out = new FileOutputStream(&quot;d:/temp/slideImage.png&quot;);\r\n    \t\tjavax.imageio.ImageIO.write(img, &quot;png&quot;, out);\r\n    \t\tout.close();\r\n    \t\t\r\n    \t\t\r\n    \t\t//get saved slide-image and save it into pdf\r\n    \t    Image slideImage = Image.getInstance(&quot;d:/temp/slideImage.png&quot;);\r\n    \t    Document document = new Document();\r\n    \t    PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoImageTest.pdf&quot;));\r\n    \t    document.setPageSize(new Rectangle(slideImage.getWidth(), slideImage.getHeight()));\r\n    \t    document.open();\r\n    \t    slideImage.setAbsolutePosition(0, 0);\r\n    \t\tdocument.add(slideImage);\r\n    \t\tdocument.close();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n&gt; **2.** This approach works on-fly: take Apache POI Slide -&gt; get awt.Graphics2 instance from it -&gt; pass this interface to the iText\r\n&gt; draw engine.\r\n\r\nDemonstration code example:\r\n\r\n    package com.test.pdf;\r\n    \r\n    import java.awt.Dimension;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.hslf.model.Slide;\r\n    import org.apache.poi.hslf.usermodel.SlideShow;\r\n    \r\n    import com.lowagie.text.Document;\r\n    import com.lowagie.text.DocumentException;\r\n    import com.lowagie.text.Rectangle;\r\n    import com.lowagie.text.pdf.PdfGraphics2D;\r\n    import com.lowagie.text.pdf.PdfWriter;\r\n    \r\n    public class PPTtoPDFdirectly {\r\n    \r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException, DocumentException {\r\n    \t\t\r\n    \t\t//load any ppt file\r\n    \t\tFileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\r\n    \t\tSlideShow ppt = new SlideShow(inputStream);\r\n    \t\tinputStream.close();\r\n    \t\tDimension pgsize = ppt.getPageSize();\r\n    \r\n    \t\t\r\n    \t\t//take first slide and draw it directly into PDF via awt.Graphics2D interface.\r\n    \t\tSlide slide = ppt.getSlides()[0];\r\n    \t\t\r\n    \t\tDocument document = new Document();\r\n    \t\tPdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoPDF.pdf&quot;));\r\n    \t\tdocument.setPageSize(new Rectangle((float)pgsize.getWidth(), (float) pgsize.getHeight()));\r\n    \t\tdocument.open();\r\n    \t\t\r\n    \t\tPdfGraphics2D graphics = (PdfGraphics2D) pdfWriter.getDirectContent().createGraphics((float)pgsize.getWidth(), (float)pgsize.getHeight());\r\n    \t\tslide.draw(graphics);\r\n    \t\tgraphics.dispose();\r\n    \t\t\r\n    \t\tdocument.close();\r\n    \r\n    \t}\r\n    }\r\n\r\n ","title":"Apache poi slide show to pdf conversion","body":"<p>Gagravarr, thanks you for your comment with following approach: PPT -&gt; images -&gt; PDF. It gave me clues for further solutions.</p>\n<p>Recently, I needed to convert PPT reports into PDF reports using Java facilities. PPT reports are generated via Apache POI lib, and I intended to reuse ready created PPT structure.</p>\n<p>I developed two solutions, each has its own advantages/disadvantages. And both of them using iText library with version 2.1.7.(which is free to use, and which is great)). Both of them do support Japanese symbols after additional enhancement.</p>\n<blockquote>\n<p><strong>1.</strong> Apache POI Slide -&gt; image -&gt; PDF</p>\n</blockquote>\n<p>Demonstration code example:</p>\n<pre><code>package com.test.pdf;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hslf.model.Slide;\nimport org.apache.poi.hslf.usermodel.SlideShow;\n\nimport com.lowagie.text.Document;\nimport com.lowagie.text.DocumentException;\nimport com.lowagie.text.Image;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class PPTtoImageToPDFexample {\n\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        \n        //load any ppt file\n        FileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\n        SlideShow ppt = new SlideShow(inputStream);\n        inputStream.close();\n        Dimension pgsize = ppt.getPageSize();\n\n        //take first slide and save it as an image\n        Slide slide = ppt.getSlides()[0];\n        BufferedImage img = new BufferedImage(pgsize.width, pgsize.height,\n                BufferedImage.TYPE_INT_RGB);\n        Graphics2D graphics = img.createGraphics();\n        graphics.setPaint(Color.white);\n        graphics.fill(new Rectangle2D.Float(0, 0, pgsize.width,\n                pgsize.height));\n        slide.draw(graphics);\n        FileOutputStream out = new FileOutputStream(&quot;d:/temp/slideImage.png&quot;);\n        javax.imageio.ImageIO.write(img, &quot;png&quot;, out);\n        out.close();\n        \n        \n        //get saved slide-image and save it into pdf\n        Image slideImage = Image.getInstance(&quot;d:/temp/slideImage.png&quot;);\n        Document document = new Document();\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoImageTest.pdf&quot;));\n        document.setPageSize(new Rectangle(slideImage.getWidth(), slideImage.getHeight()));\n        document.open();\n        slideImage.setAbsolutePosition(0, 0);\n        document.add(slideImage);\n        document.close();\n\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>2.</strong> This approach works on-fly: take Apache POI Slide -&gt; get awt.Graphics2 instance from it -&gt; pass this interface to the iText\ndraw engine.</p>\n</blockquote>\n<p>Demonstration code example:</p>\n<pre><code>package com.test.pdf;\n\nimport java.awt.Dimension;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hslf.model.Slide;\nimport org.apache.poi.hslf.usermodel.SlideShow;\n\nimport com.lowagie.text.Document;\nimport com.lowagie.text.DocumentException;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.PdfGraphics2D;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class PPTtoPDFdirectly {\n\n    \n    \n    public static void main(String[] args) throws IOException, DocumentException {\n        \n        //load any ppt file\n        FileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\n        SlideShow ppt = new SlideShow(inputStream);\n        inputStream.close();\n        Dimension pgsize = ppt.getPageSize();\n\n        \n        //take first slide and draw it directly into PDF via awt.Graphics2D interface.\n        Slide slide = ppt.getSlides()[0];\n        \n        Document document = new Document();\n        PdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoPDF.pdf&quot;));\n        document.setPageSize(new Rectangle((float)pgsize.getWidth(), (float) pgsize.getHeight()));\n        document.open();\n        \n        PdfGraphics2D graphics = (PdfGraphics2D) pdfWriter.getDirectContent().createGraphics((float)pgsize.getWidth(), (float)pgsize.getHeight());\n        slide.draw(graphics);\n        graphics.dispose();\n        \n        document.close();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":270780,"reputation":16094,"user_id":560932,"accept_rate":76,"display_name":"RPB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11215,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7609389,"answer_count":2,"score":4,"last_activity_date":1681419277,"creation_date":1317359366,"question_id":7606182,"body_markdown":"Is there any way to convert generated .**ppt** file using apache poi to .**pdf** file?\r\n\r\n                 OR\r\n\r\nAny way to convert **PPT** file to **PDF** file using JAVA?","title":"Apache poi slide show to pdf conversion","body":"<p>Is there any way to convert generated .<strong>ppt</strong> file using apache poi to .<strong>pdf</strong> file?</p>\n\n<pre><code>             OR\n</code></pre>\n\n<p>Any way to convert <strong>PPT</strong> file to <strong>PDF</strong> file using JAVA?</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681419120,"creation_date":1681419120,"answer_id":76009734,"question_id":75362683,"body_markdown":"This is not supported by `otel.instrumentation.methods.include` today.\r\n\r\nIt could probably be supported in that feature by checking for `&lt;init&gt;` and using `isConstructor()` instead of `named()` in [MethodInstrumentation.java](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/c74616292ac08fc81db0af1b0045bdf3c9d50392/instrumentation/methods/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/methods/MethodInstrumentation.java#L50).\r\n\r\nAlternatively, you could write an [extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions), which would give you this control.","title":"How to configure spans for constructor in opentelemetry with autoconfigure","body":"<p>This is not supported by <code>otel.instrumentation.methods.include</code> today.</p>\n<p>It could probably be supported in that feature by checking for <code>&lt;init&gt;</code> and using <code>isConstructor()</code> instead of <code>named()</code> in <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/c74616292ac08fc81db0af1b0045bdf3c9d50392/instrumentation/methods/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/methods/MethodInstrumentation.java#L50\" rel=\"nofollow noreferrer\">MethodInstrumentation.java</a>.</p>\n<p>Alternatively, you could write an <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions\" rel=\"nofollow noreferrer\">extension</a>, which would give you this control.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681419120,"creation_date":1675694048,"question_id":75362683,"body_markdown":"I&#39;m using Opentelemetry with javaagent and autoconfiguration. I can add spans with OTEL_INSTRUMENTATION_METHODS_INCLUDE property. I&#39;m using next system property to create spans for `deploy` and `process` methods:\r\n\r\n    Dotel.instrumentation.methods.include=org.management.MyManagerImpl[process,deploy]\r\n\r\nBut I need add span for constructor also to trace class instance creation. How I can configure it?","title":"How to configure spans for constructor in opentelemetry with autoconfigure","body":"<p>I'm using Opentelemetry with javaagent and autoconfiguration. I can add spans with OTEL_INSTRUMENTATION_METHODS_INCLUDE property. I'm using next system property to create spans for <code>deploy</code> and <code>process</code> methods:</p>\n<pre><code>Dotel.instrumentation.methods.include=org.management.MyManagerImpl[process,deploy]\n</code></pre>\n<p>But I need add span for constructor also to trace class instance creation. How I can configure it?</p>\n"},{"tags":["java","firebase","android-studio","charts"],"owner":{"account_id":23922349,"reputation":21,"user_id":17917985,"display_name":"Tilda Mendozae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681419007,"creation_date":1681411997,"question_id":76008904,"body_markdown":"I have been having trouble with plotting my data onto a linear chart. I am using the `&#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;` library. \r\n\r\nHere is my current code:\r\n```\r\n\r\n    private void displayLinearChart() {\r\n        if (selectedStartDate != null &amp;&amp; selectedEndDate != null) {\r\n            ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n            Map&lt;String, ArrayList&lt;Entry&gt;&gt; categoryEntries = new HashMap&lt;&gt;();\r\n            DatabaseReference categoriesRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID);\r\n\r\n            categoriesRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot categorySnapshot : snapshot.getChildren()) {\r\n                        String category = categorySnapshot.getKey();\r\n\r\n                        Map&lt;String, Double&gt; dailyTotals = new HashMap&lt;&gt;();\r\n\r\n                        for (DataSnapshot productSnapshot : categorySnapshot.getChildren()) {\r\n                            Date startDate = Date.from(selectedStartDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                            Date endDate = Date.from(selectedEndDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                            Date productDate = null;\r\n                            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n                            String dateString = productSnapshot.child(&quot;Date&quot;).getValue(String.class);\r\n\r\n                            try {\r\n                                productDate = dateFormat.parse(dateString);\r\n                            } catch (ParseException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n\r\n                            // Check if the product falls within the selected date range\r\n                            if (dateString != null &amp;&amp; (productDate.equals(startDate) || productDate.after(startDate)) &amp;&amp; (productDate.equals(endDate) || productDate.before(endDate))) {\r\n                                Double productAmount = Double.parseDouble(productSnapshot.child(&quot;Price&quot;).getValue(String.class));\r\n                                String dailyKey = dateFormat.format(productDate);\r\n                                Double dailyTotal = dailyTotals.getOrDefault(dailyKey, 0.0);\r\n                                dailyTotal += productAmount;\r\n                                dailyTotals.put(dailyKey, dailyTotal);\r\n\r\n                            }\r\n                            // Add the daily totals to the entry list for this category\r\n                            int i = 0;\r\n                            for (Map.Entry&lt;String, Double&gt; entry : dailyTotals.entrySet()) {\r\n                                entries.add(new Entry(i++, entry.getValue().floatValue()));\r\n                            }\r\n\r\n                            // Add the entry list to the map for this category\r\n                            categoryEntries.put(category, entries);\r\n                        }\r\n                    }\r\n                    LineData lineData = new LineData();\r\n                    for (Map.Entry&lt;String, ArrayList&lt;Entry&gt;&gt; entry : categoryEntries.entrySet()) {\r\n                        String category = entry.getKey();\r\n                        ArrayList&lt;Entry&gt; entries = entry.getValue();\r\n                        LineDataSet dataSet = new LineDataSet(entries, category);\r\n                        lineData.addDataSet(dataSet);\r\n                    }\r\n\r\n                    lineChart.setData(lineData);\r\n                    lineChart.getXAxis().setValueFormatter(new IndexAxisValueFormatter(getDateLabels(selectedStartDate, selectedEndDate)));\r\n                    lineChart.invalidate();\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private String[] getDateLabels(LocalDate startDate, LocalDate endDate) {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        List&lt;String&gt; dateList = new ArrayList&lt;&gt;();\r\n        LocalDate date = startDate;\r\n\r\n        while (!date.isAfter(endDate)) {\r\n            dateList.add(dateFormat.format(Date.from(date.atStartOfDay(ZoneId.systemDefault()).toInstant())));\r\n            date = date.plusDays(1);\r\n        }\r\n\r\n        return dateList.toArray(new String[0]);\r\n    }\r\n```\r\n\r\nThe issue is, the data that is being displayed isn&#39;t matching up correctly with the correct amount and the correct date. The line that has the number 15 should initially starting at 0 then 1.25 on the 12/4 and then 15 on 13/4 \r\n\r\nI also don&#39;t know why there is a huge gap between 10/04 and 11/04 as there are more dates that need to be displayed.\r\n\r\nMy goal is to have each category represent a line in the linear chart and it displays how much the user spends per day. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AxsL0.png","title":"Linear Chart android studio java","body":"<p>I have been having trouble with plotting my data onto a linear chart. I am using the <code>'com.github.PhilJay:MPAndroidChart:v3.1.0'</code> library.</p>\n<p>Here is my current code:</p>\n<pre><code>\n    private void displayLinearChart() {\n        if (selectedStartDate != null &amp;&amp; selectedEndDate != null) {\n            ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n            Map&lt;String, ArrayList&lt;Entry&gt;&gt; categoryEntries = new HashMap&lt;&gt;();\n            DatabaseReference categoriesRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID);\n\n            categoriesRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    for (DataSnapshot categorySnapshot : snapshot.getChildren()) {\n                        String category = categorySnapshot.getKey();\n\n                        Map&lt;String, Double&gt; dailyTotals = new HashMap&lt;&gt;();\n\n                        for (DataSnapshot productSnapshot : categorySnapshot.getChildren()) {\n                            Date startDate = Date.from(selectedStartDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n                            Date endDate = Date.from(selectedEndDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n                            Date productDate = null;\n                            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n                            String dateString = productSnapshot.child(&quot;Date&quot;).getValue(String.class);\n\n                            try {\n                                productDate = dateFormat.parse(dateString);\n                            } catch (ParseException e) {\n                                throw new RuntimeException(e);\n                            }\n\n                            // Check if the product falls within the selected date range\n                            if (dateString != null &amp;&amp; (productDate.equals(startDate) || productDate.after(startDate)) &amp;&amp; (productDate.equals(endDate) || productDate.before(endDate))) {\n                                Double productAmount = Double.parseDouble(productSnapshot.child(&quot;Price&quot;).getValue(String.class));\n                                String dailyKey = dateFormat.format(productDate);\n                                Double dailyTotal = dailyTotals.getOrDefault(dailyKey, 0.0);\n                                dailyTotal += productAmount;\n                                dailyTotals.put(dailyKey, dailyTotal);\n\n                            }\n                            // Add the daily totals to the entry list for this category\n                            int i = 0;\n                            for (Map.Entry&lt;String, Double&gt; entry : dailyTotals.entrySet()) {\n                                entries.add(new Entry(i++, entry.getValue().floatValue()));\n                            }\n\n                            // Add the entry list to the map for this category\n                            categoryEntries.put(category, entries);\n                        }\n                    }\n                    LineData lineData = new LineData();\n                    for (Map.Entry&lt;String, ArrayList&lt;Entry&gt;&gt; entry : categoryEntries.entrySet()) {\n                        String category = entry.getKey();\n                        ArrayList&lt;Entry&gt; entries = entry.getValue();\n                        LineDataSet dataSet = new LineDataSet(entries, category);\n                        lineData.addDataSet(dataSet);\n                    }\n\n                    lineChart.setData(lineData);\n                    lineChart.getXAxis().setValueFormatter(new IndexAxisValueFormatter(getDateLabels(selectedStartDate, selectedEndDate)));\n                    lineChart.invalidate();\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n    }\n\n    private String[] getDateLabels(LocalDate startDate, LocalDate endDate) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        List&lt;String&gt; dateList = new ArrayList&lt;&gt;();\n        LocalDate date = startDate;\n\n        while (!date.isAfter(endDate)) {\n            dateList.add(dateFormat.format(Date.from(date.atStartOfDay(ZoneId.systemDefault()).toInstant())));\n            date = date.plusDays(1);\n        }\n\n        return dateList.toArray(new String[0]);\n    }\n</code></pre>\n<p>The issue is, the data that is being displayed isn't matching up correctly with the correct amount and the correct date. The line that has the number 15 should initially starting at 0 then 1.25 on the 12/4 and then 15 on 13/4</p>\n<p>I also don't know why there is a huge gap between 10/04 and 11/04 as there are more dates that need to be displayed.</p>\n<p>My goal is to have each category represent a line in the linear chart and it displays how much the user spends per day.</p>\n<p><a href=\"https://i.stack.imgur.com/AxsL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AxsL0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mobile","adb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681464634,"post_id":76009686,"comment_id":134064062,"body_markdown":"`adb shell dumpsys activity activities` may be of help to you. Also `adb logcat events`.","body":"<code>adb shell dumpsys activity activities</code> may be of help to you. Also <code>adb logcat events</code>."}],"owner":{"account_id":18532499,"reputation":1,"user_id":13502925,"display_name":"Gunnar Vittrup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681418605,"creation_date":1681418558,"question_id":76009686,"body_markdown":"I am trying to implement a research paper based around state-inference attacks on Android Devices and I am struggling to access the state information of other services running on my device. I am doing so for research in my college to build exercises around mobile security and ethical understanding. My emulator is running a Nexus 5X on API 27 which is directly modeled from the research paper on arm64 architecture. \r\n\r\nSo far, I have built an `isAppForeground(Context)` method that allows me to determine whether or not a process is currently in the foreground or not utilizing the `ActivityManager` and the `getRunningProcesses()` method. I have come to understand that this vulnerability was refactored to only return the current running process. **Is it possible to obtain a reference to an application and retrieve its context in anyway, perhaps with the package name, PID, or UID? If this is not possible, would it be possible using `adb` to poll a process continually utilizing the `isVisible()` parameter or other parameters I may not be aware of?** Ideally any possible solution would provide me the ability to view state information of a process/application in real-time while the emulator was running. Additionally, the paper touches on utilizing the `IActivityManager` service, which I have come to understand it as a hidden proxy layer accessed via the `ActivityManager`. The paper touches on using its `.isAppForeground()` or `.getAppPendingTransition()` methods to adequately infer a state vulnerability. Any explanation of the differences between the two would be a bonus and greatly appreciated.\r\n\r\nMy apologies if I did not provide sufficient and necessary information - please let me know what more would help diagnose and solve my problem!","title":"Accessing State Information of Third-Party/System Application","body":"<p>I am trying to implement a research paper based around state-inference attacks on Android Devices and I am struggling to access the state information of other services running on my device. I am doing so for research in my college to build exercises around mobile security and ethical understanding. My emulator is running a Nexus 5X on API 27 which is directly modeled from the research paper on arm64 architecture.</p>\n<p>So far, I have built an <code>isAppForeground(Context)</code> method that allows me to determine whether or not a process is currently in the foreground or not utilizing the <code>ActivityManager</code> and the <code>getRunningProcesses()</code> method. I have come to understand that this vulnerability was refactored to only return the current running process. <strong>Is it possible to obtain a reference to an application and retrieve its context in anyway, perhaps with the package name, PID, or UID? If this is not possible, would it be possible using <code>adb</code> to poll a process continually utilizing the <code>isVisible()</code> parameter or other parameters I may not be aware of?</strong> Ideally any possible solution would provide me the ability to view state information of a process/application in real-time while the emulator was running. Additionally, the paper touches on utilizing the <code>IActivityManager</code> service, which I have come to understand it as a hidden proxy layer accessed via the <code>ActivityManager</code>. The paper touches on using its <code>.isAppForeground()</code> or <code>.getAppPendingTransition()</code> methods to adequately infer a state vulnerability. Any explanation of the differences between the two would be a bonus and greatly appreciated.</p>\n<p>My apologies if I did not provide sufficient and necessary information - please let me know what more would help diagnose and solve my problem!</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681427773,"post_id":76009535,"comment_id":134059003,"body_markdown":"I think you can load via Spring&#39;s dependency injection.","body":"I think you can load via Spring&#39;s dependency injection."},{"owner":{"account_id":28298246,"reputation":1,"user_id":21637362,"display_name":"fakeittillyoumakeit"},"score":0,"creation_date":1681474593,"post_id":76009535,"comment_id":134066290,"body_markdown":"Could you provide an example please?","body":"Could you provide an example please?"}],"owner":{"account_id":28298246,"reputation":1,"user_id":21637362,"display_name":"fakeittillyoumakeit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681417283,"creation_date":1681417283,"question_id":76009535,"body_markdown":"I have a basic spring boot server built by maven to store all JSON objects which will be used as an executable jar by other services. It does not have a main or Springbootapplication. \r\n\r\nI need to globally set the JsonIgnoreProperties in this project. Is it possible?\r\n\r\nI tried putting the following in application.properties\r\n\r\nspring.jackson.deserialization.fail-on-unknown-properties=false\r\n\r\nand I dont know how to use it.","title":"Globally set Jackson JsonIgnoreProperties in an excecutable jar","body":"<p>I have a basic spring boot server built by maven to store all JSON objects which will be used as an executable jar by other services. It does not have a main or Springbootapplication.</p>\n<p>I need to globally set the JsonIgnoreProperties in this project. Is it possible?</p>\n<p>I tried putting the following in application.properties</p>\n<p>spring.jackson.deserialization.fail-on-unknown-properties=false</p>\n<p>and I dont know how to use it.</p>\n"},{"tags":["java","regex","denial-of-service"],"comments":[{"owner":{"account_id":7894528,"reputation":25981,"user_id":6770384,"display_name":"Socowi"},"score":0,"creation_date":1681414255,"post_id":76009007,"comment_id":134056772,"body_markdown":"You seem to be using `.*` because `match` checks for complete matches. With `Matcher.find()` the `.* ` can be left out. That should fix the sonar warning, but does not fix the security problem you were trying to solve in the first place. To prevent SQL injections, use so called *bind variables* or *prepared statements*.","body":"You seem to be using <code>.*</code> because <code>match</code> checks for complete matches. With <code>Matcher.find()</code> the <code>.* </code> can be left out. That should fix the sonar warning, but does not fix the security problem you were trying to solve in the first place. To prevent SQL injections, use so called <i>bind variables</i> or <i>prepared statements</i>."}],"answers":[{"comments":[{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1681413877,"post_id":76009107,"comment_id":134056683,"body_markdown":"Thank you for the answer. Yes, I agree with the vulnerability. I&#39;ll see what can I do to limit to safe patterns instead, if possible.","body":"Thank you for the answer. Yes, I agree with the vulnerability. I&#39;ll see what can I do to limit to safe patterns instead, if possible."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1681414006,"post_id":76009107,"comment_id":134056718,"body_markdown":"For reference see the OWASP page on SQL Injection. Deny lists are not even an option nor alternative: https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html","body":"For reference see the OWASP page on SQL Injection. Deny lists are not even an option nor alternative: <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">cheatsheetseries.owasp.org/cheatsheets/&hellip;</a>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681414235,"post_id":76009107,"comment_id":134056766,"body_markdown":"I added an example of what allowlisting looks like, reiterating _again_ that (going by very little detail here) it is __very__ unlikely trying to scan the SQL in the first place (whether by allowlisting or denylisting) is a good idea and instead, use PreparedStatement.","body":"I added an example of what allowlisting looks like, reiterating <i>again</i> that (going by very little detail here) it is <b>very</b> unlikely trying to scan the SQL in the first place (whether by allowlisting or denylisting) is a good idea and instead, use PreparedStatement."},{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1681414391,"post_id":76009107,"comment_id":134056795,"body_markdown":"@rzwitserloot &quot;...rewriting code solely because you&#39;re trying to work around an overly aggressive linting tool is an incredibly perniciously dangerous thing to do to a codebase...&quot; -- Quite true. I&#39;m new to SonarQube, and I was just wondering about that. Probably 25% of its findings are correct; the other 75% are more like warnings (some of them useful) but many don&#39;t really apply and I should avoid taking action on them.","body":"@rzwitserloot &quot;...rewriting code solely because you&#39;re trying to work around an overly aggressive linting tool is an incredibly perniciously dangerous thing to do to a codebase...&quot; -- Quite true. I&#39;m new to SonarQube, and I was just wondering about that. Probably 25% of its findings are correct; the other 75% are more like warnings (some of them useful) but many don&#39;t really apply and I should avoid taking action on them."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681414503,"post_id":76009107,"comment_id":134056823,"body_markdown":"Anytime you use any linting tool you have to ensure there is a clear process on how to ignore it, and it can&#39;t be too onerous. Generally they have ways to mark lines off as &#39;person X reviewed the potential vuln marked by scanner Y and determined it did not apply&#39;, it has to be that easy (just a specially formatted comment, or a separate file, but separate files run into the issue of having a hard time tracking along with source file changes - they can&#39;t (easily) use line numbers, for example).","body":"Anytime you use any linting tool you have to ensure there is a clear process on how to ignore it, and it can&#39;t be too onerous. Generally they have ways to mark lines off as &#39;person X reviewed the potential vuln marked by scanner Y and determined it did not apply&#39;, it has to be that easy (just a specially formatted comment, or a separate file, but separate files run into the issue of having a hard time tracking along with source file changes - they can&#39;t (easily) use line numbers, for example)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681414526,"post_id":76009107,"comment_id":134056832,"body_markdown":"Some linting tools make this hard or impossible. In my professional opinion such linting tools are completely unusable.","body":"Some linting tools make this hard or impossible. In my professional opinion such linting tools are completely unusable."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1681415133,"post_id":76009107,"comment_id":134056943,"body_markdown":"I think you can change the first `.*` to a negated character class `[^a-zA-Z0-9_ -]*`  to not over match it like  `^[^a-zA-Z0-9_ -]*[a-zA-Z0-9_ -].*`","body":"I think you can change the first <code>.*</code> to a negated character class <code>[^a-zA-Z0-9_ -]*</code>  to not over match it like  <code>^[^a-zA-Z0-9_ -]*[a-zA-Z0-9_ -].*</code>"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681414050,"creation_date":1681413630,"answer_id":76009107,"question_id":76009007,"body_markdown":"Just ignore the warning. There aren&#39;t many regexes that have potentially exponential performance characteristics. If you __do not__ let your users choose the regex (i.e. imagine you have a search feature where the user enters a regex or something you use as part of a regex in a search-for-this form field and they can submit it, __then__ you&#39;d be vulnerable here) __and__ you don&#39;t try to apply such a regex that you wrote yourself to user input (trivially fixed by.. not having any such regexes in your code base)...\r\n\r\nit doesn&#39;t apply to you.\r\n\r\n## But you do have a security leak here\r\n\r\nYou&#39;re engaging in an act known as denylisting. An older term for this is &#39;blacklisting&#39;. You list things that you know are bad, and scan for these. Any input that contains bad things is disallowed. The rest is allowed.\r\n\r\nEffectively you&#39;re saying: Unless I can show conclusively it is bad, we assume it is good.\r\n\r\n__This is a broken approach to security__.\r\n\r\nAllowlisting is the correct approach: Unless you can prove the input is safe, __do not__ run it.\r\n\r\nSpecifically, for SQL injection pattern, the solution is to let the SQL engine take care of it: Make PreparedStatements, and use `.setX` to set them - or use a library like JDBI or JOOQ that does this for you. Then there is simply no reason to worry about SQL injection whatsoever.\r\n\r\n\r\nNote that the actual security leak you do have is of the &#39;the hacker will p0wn the entire box by gaining admin creds on it&#39; variety. Compared to &#39;users might be able to DOS your box&#39;, it&#39;s.. a few million times worse.\r\n\r\n----\r\n\r\nEDIT: Here is an example of an allowlist approach in the same vein as the code you have (and the same caveat: Your security scanner may complain about a potential DOS attack venue here, you can ignore it, or.. see later paragraph):\r\n\r\n```\r\n\r\nprivate static final String SQL_INJECTION_PATTERN = &quot;.*[a-zA-Z0-9_ -].*&quot;;\r\n\r\n  if (!myValue.matches(SQL_INJECTION_PATTERN)) throw new IllegalArgumentException();\r\n```\r\n\r\nThis code will check if the input consists solely of a very specific limited range of alphanums (just the ascii chars), and dash, and underscore, and space, and disallows everything that doesn&#39;t consist _just_ of those things.\r\n\r\nThis may still be unsafe - it depends on what you do with it. SQL has keywords, for example. If certain keywords are bad who knows - you&#39;d need to elaborate considerably on what you&#39;re doing with user input here.\r\n\r\nThe central point stands: It is __highly likely__ your entire approach is wrong and you need to be using preparedstatements.\r\n\r\nOne way to get rid of the warning is to stop using regexes. You can do this kind of scan just as easily with a for loop (and it is faster too, if anything):\r\n\r\n```\r\nfor (int i = 0; i &lt; sql.length(); i++) {\r\n  if ((i &lt; &#39;a&#39; || i &gt; &#39;z&#39;) &amp;&amp; (i &lt; &#39;A&#39; &amp;&amp; i &gt; &#39;Z&#39;) &amp;&amp; (i &lt; &#39;0&#39; || i &gt; &#39;9&#39;) &amp;&amp; i != &#39; &#39; &amp;&amp; i != &#39;_&#39; &amp;&amp; i != &#39; &#39;) throw new IllegalArgumentException();\r\n```\r\n\r\nBut, as a general rule, rewriting code __solely__ because you&#39;re trying to work around an overly aggressive linting tool is an incredibly perniciously dangerous thing to do to a codebase. Programming is hard enough as is.\r\n","title":"Regex vulnerable to polynomial runtime","body":"<p>Just ignore the warning. There aren't many regexes that have potentially exponential performance characteristics. If you <strong>do not</strong> let your users choose the regex (i.e. imagine you have a search feature where the user enters a regex or something you use as part of a regex in a search-for-this form field and they can submit it, <strong>then</strong> you'd be vulnerable here) <strong>and</strong> you don't try to apply such a regex that you wrote yourself to user input (trivially fixed by.. not having any such regexes in your code base)...</p>\n<p>it doesn't apply to you.</p>\n<h2>But you do have a security leak here</h2>\n<p>You're engaging in an act known as denylisting. An older term for this is 'blacklisting'. You list things that you know are bad, and scan for these. Any input that contains bad things is disallowed. The rest is allowed.</p>\n<p>Effectively you're saying: Unless I can show conclusively it is bad, we assume it is good.</p>\n<p><strong>This is a broken approach to security</strong>.</p>\n<p>Allowlisting is the correct approach: Unless you can prove the input is safe, <strong>do not</strong> run it.</p>\n<p>Specifically, for SQL injection pattern, the solution is to let the SQL engine take care of it: Make PreparedStatements, and use <code>.setX</code> to set them - or use a library like JDBI or JOOQ that does this for you. Then there is simply no reason to worry about SQL injection whatsoever.</p>\n<p>Note that the actual security leak you do have is of the 'the hacker will p0wn the entire box by gaining admin creds on it' variety. Compared to 'users might be able to DOS your box', it's.. a few million times worse.</p>\n<hr />\n<p>EDIT: Here is an example of an allowlist approach in the same vein as the code you have (and the same caveat: Your security scanner may complain about a potential DOS attack venue here, you can ignore it, or.. see later paragraph):</p>\n<pre><code>\nprivate static final String SQL_INJECTION_PATTERN = &quot;.*[a-zA-Z0-9_ -].*&quot;;\n\n  if (!myValue.matches(SQL_INJECTION_PATTERN)) throw new IllegalArgumentException();\n</code></pre>\n<p>This code will check if the input consists solely of a very specific limited range of alphanums (just the ascii chars), and dash, and underscore, and space, and disallows everything that doesn't consist <em>just</em> of those things.</p>\n<p>This may still be unsafe - it depends on what you do with it. SQL has keywords, for example. If certain keywords are bad who knows - you'd need to elaborate considerably on what you're doing with user input here.</p>\n<p>The central point stands: It is <strong>highly likely</strong> your entire approach is wrong and you need to be using preparedstatements.</p>\n<p>One way to get rid of the warning is to stop using regexes. You can do this kind of scan just as easily with a for loop (and it is faster too, if anything):</p>\n<pre><code>for (int i = 0; i &lt; sql.length(); i++) {\n  if ((i &lt; 'a' || i &gt; 'z') &amp;&amp; (i &lt; 'A' &amp;&amp; i &gt; 'Z') &amp;&amp; (i &lt; '0' || i &gt; '9') &amp;&amp; i != ' ' &amp;&amp; i != '_' &amp;&amp; i != ' ') throw new IllegalArgumentException();\n</code></pre>\n<p>But, as a general rule, rewriting code <strong>solely</strong> because you're trying to work around an overly aggressive linting tool is an incredibly perniciously dangerous thing to do to a codebase. Programming is hard enough as is.</p>\n"},{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681414637,"post_id":76009216,"comment_id":134056847,"body_markdown":"This is rather bizarre; there is no difference whatsoever in the behaviour of a regex _match_ operation when using greedy vs. non-greedy operators; the only point to greedyness modifiers is when you are finding subsets (e.g. in java speak using `matcher.find()` instead of `matcher.matches()`), or if matching groups (let&#39;s assume the regex contains no backrefs). Is the regex engine in java this crappy, that greediness ops change the perf. characteristics?","body":"This is rather bizarre; there is no difference whatsoever in the behaviour of a regex <i>match</i> operation when using greedy vs. non-greedy operators; the only point to greedyness modifiers is when you are finding subsets (e.g. in java speak using <code>matcher.find()</code> instead of <code>matcher.matches()</code>), or if matching groups (let&#39;s assume the regex contains no backrefs). Is the regex engine in java this crappy, that greediness ops change the perf. characteristics?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681414788,"post_id":76009216,"comment_id":134056884,"body_markdown":"I&#39;m a bit afraid of the latter; when backrefs/grouping isn&#39;t relevant, [Thompson&#39;s Construction](https://en.wikipedia.org/wiki/Thompson%27s_construction) can be used to guarantee O(n+M) behaviour. But the java regex engine doesn&#39;t consider it worthwhile to apply it in such cases (possibly correctly; tons of regex usage is for the group matching, and backrefs _are_ part of the spec). It may similarly decide to backtrack is such an utterly useless fashion too.","body":"I&#39;m a bit afraid of the latter; when backrefs/grouping isn&#39;t relevant, <a href=\"https://en.wikipedia.org/wiki/Thompson%27s_construction\" rel=\"nofollow noreferrer\">Thompson&#39;s Construction</a> can be used to guarantee O(n+M) behaviour. But the java regex engine doesn&#39;t consider it worthwhile to apply it in such cases (possibly correctly; tons of regex usage is for the group matching, and backrefs <i>are</i> part of the spec). It may similarly decide to backtrack is such an utterly useless fashion too."},{"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"score":0,"creation_date":1681416602,"post_id":76009216,"comment_id":134057213,"body_markdown":"@rzwitserloot It is certainly bizarre, but the effect of using the non-greedy quantifier is there –&#160;although it appears sub-quadratic so I&#39;ll amend the answer. It&#39;s definitely more distinctive in the [JS engine](https://jsben.ch/dQYna) but just greedy vs non-greedy on an isomorphic Java test gives me about a 2x speed difference, if you&#39;re into anecdata. The AngularJS ReDoS from the other day though has a [very stark difference](https://jsben.ch/79ofN) between greedy/non-greedy prefix matching, and that is also borne out by Java.","body":"@rzwitserloot It is certainly bizarre, but the effect of using the non-greedy quantifier is there – although it appears sub-quadratic so I&#39;ll amend the answer. It&#39;s definitely more distinctive in the <a href=\"https://jsben.ch/dQYna\" rel=\"nofollow noreferrer\">JS engine</a> but just greedy vs non-greedy on an isomorphic Java test gives me about a 2x speed difference, if you&#39;re into anecdata. The AngularJS ReDoS from the other day though has a <a href=\"https://jsben.ch/79ofN\" rel=\"nofollow noreferrer\">very stark difference</a> between greedy/non-greedy prefix matching, and that is also borne out by Java."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681421063,"post_id":76009216,"comment_id":134057996,"body_markdown":"Well, that&#39;s... good to know. Thank you very much for the insights, @motto!","body":"Well, that&#39;s... good to know. Thank you very much for the insights, @motto!"}],"tags":[],"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681416732,"creation_date":1681414531,"answer_id":76009216,"question_id":76009007,"body_markdown":"The &quot;vulnerability&quot; (such as it is) is not one of those chars, but the leading `.*`. tldr: you could change it to `.*?`\r\n\r\nConsider an input string with none of the suspect characters, e.g. `xxxxxx`.\r\nIn trying to match this string against `.*[&#39;&quot;\\x01-\\x1f].*`, the regex engine will attempt to match the leading `.*` greedily, so it tries:\r\n\r\n```\r\n\r\nxxxxxx (fails to match because there is no [&#39;&quot;\\x01-\\x1f] past the end of the input)\r\nxxxxx  (fails to match because the next character is x which is not [&#39;&quot;\\x01-\\x1f])\r\nxxxx   (ditto)\r\nxxx    (ditto)\r\nxx     (ditto)\r\nx      (ditto)\r\n       (ditto)\r\n  -&gt; no match found\r\n```\r\n\r\nThe result of the greedy matching up front is that the engine must backtrack repeatedly, so determining the lack of match takes time superlinear(?) in the length of the input. The regex analyser will be being very conservative when it comes to evaluating the &quot;risk&quot;.\r\n\r\nThe easy workaround is to use a [non-greedy](https://stackoverflow.com/questions/11898998/how-can-i-write-a-regex-which-matches-non-greedy) quantifier on the leading `.*`, i.e. `.*?[&#39;&quot;\\x01-\\x1f].*`. The regex engine does not backtrack, so the input is evaluated in linear time.\r\n\r\nOn a side-note, this type of &quot;potential ReDoS&quot; pattern is reminiscent to one that was reported in AngularJS&#39;s [angular.copy](https://stackblitz.com/edit/angularjs-vulnerability-angular-copy-redos?file=index.js) a couple of weeks back (and indeed in lodash&#39;s [clone machinery for RegExps](https://github.com/lodash/lodash/blob/master/.internal/cloneRegExp.js), and probably countless other libraries that use the same quick trick to extract flags from the end of a stringified RegExp).\r\n\r\nUnrelated to the mechanics of this, I agree with rzwitserloot that this stuff tends to be a distraction from other more significant vulnerabilities. Maybe the real &quot;denial of service&quot; of each of these reports of a &quot;regular expression denial of service&quot; is the amount of time wasted every time while folks around the world scramble around trying to ascertain whether there&#39;s even an associated attack vector.","title":"Regex vulnerable to polynomial runtime","body":"<p>The &quot;vulnerability&quot; (such as it is) is not one of those chars, but the leading <code>.*</code>. tldr: you could change it to <code>.*?</code></p>\n<p>Consider an input string with none of the suspect characters, e.g. <code>xxxxxx</code>.\nIn trying to match this string against <code>.*['&quot;\\x01-\\x1f].*</code>, the regex engine will attempt to match the leading <code>.*</code> greedily, so it tries:</p>\n<pre><code>\nxxxxxx (fails to match because there is no ['&quot;\\x01-\\x1f] past the end of the input)\nxxxxx  (fails to match because the next character is x which is not ['&quot;\\x01-\\x1f])\nxxxx   (ditto)\nxxx    (ditto)\nxx     (ditto)\nx      (ditto)\n       (ditto)\n  -&gt; no match found\n</code></pre>\n<p>The result of the greedy matching up front is that the engine must backtrack repeatedly, so determining the lack of match takes time superlinear(?) in the length of the input. The regex analyser will be being very conservative when it comes to evaluating the &quot;risk&quot;.</p>\n<p>The easy workaround is to use a <a href=\"https://stackoverflow.com/questions/11898998/how-can-i-write-a-regex-which-matches-non-greedy\">non-greedy</a> quantifier on the leading <code>.*</code>, i.e. <code>.*?['&quot;\\x01-\\x1f].*</code>. The regex engine does not backtrack, so the input is evaluated in linear time.</p>\n<p>On a side-note, this type of &quot;potential ReDoS&quot; pattern is reminiscent to one that was reported in AngularJS's <a href=\"https://stackblitz.com/edit/angularjs-vulnerability-angular-copy-redos?file=index.js\" rel=\"nofollow noreferrer\">angular.copy</a> a couple of weeks back (and indeed in lodash's <a href=\"https://github.com/lodash/lodash/blob/master/.internal/cloneRegExp.js\" rel=\"nofollow noreferrer\">clone machinery for RegExps</a>, and probably countless other libraries that use the same quick trick to extract flags from the end of a stringified RegExp).</p>\n<p>Unrelated to the mechanics of this, I agree with rzwitserloot that this stuff tends to be a distraction from other more significant vulnerabilities. Maybe the real &quot;denial of service&quot; of each of these reports of a &quot;regular expression denial of service&quot; is the amount of time wasted every time while folks around the world scramble around trying to ascertain whether there's even an associated attack vector.</p>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76009107,"answer_count":2,"score":0,"last_activity_date":1681416732,"creation_date":1681412880,"question_id":76009007,"body_markdown":"How do I improve this code? SonarQube is highlighting that the regex pattern that could become really slow and produce denial of service. Here&#39;s the code:\r\n\r\n```java\r\n  // Single quotes\r\n  // Double quotes\r\n  // Control characters (x01 - x1f)\r\n  private static final String SQL_INJECTION_PATTERN = &quot;.*[&#39;\\&quot;\\\\x01-\\\\x1f].*&quot;;\r\n\r\n  if (myValue.matches(SQL_INJECTION_PATTERN)) { // Here&#39;s the problem!\r\n    ...\r\n  }\r\n```  \r\n\r\nI need to find if any of those chars is present, to take an action.\r\n","title":"Regex vulnerable to polynomial runtime","body":"<p>How do I improve this code? SonarQube is highlighting that the regex pattern that could become really slow and produce denial of service. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // Single quotes\n  // Double quotes\n  // Control characters (x01 - x1f)\n  private static final String SQL_INJECTION_PATTERN = &quot;.*['\\&quot;\\\\x01-\\\\x1f].*&quot;;\n\n  if (myValue.matches(SQL_INJECTION_PATTERN)) { // Here's the problem!\n    ...\n  }\n</code></pre>\n<p>I need to find if any of those chars is present, to take an action.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680977384,"post_id":75966096,"comment_id":133986561,"body_markdown":"And what is your question for us?","body":"And what is your question for us?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680998243,"post_id":75966096,"comment_id":133988839,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":24103799,"reputation":11,"user_id":18075290,"display_name":"ytt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681416726,"creation_date":1681416726,"answer_id":76009468,"question_id":75966096,"body_markdown":"You should create a custom response class and use jpql to retrieve data.\r\n\r\nThere is an example over there;\r\n\r\n    @Query(value = &quot;select new &lt;your_package_path&gt;.CustomOrderResponse(o.order_id,o.amount,o.date,u.user_id,u.user_name,v.v_name) &quot; +\r\n            &quot;from Orders o, User u, Vendor v &quot; +\r\n            &quot;where o.User.user_id = u.user_id &quot;+\r\n            &quot;and o.Vendor.vendor_id = v.vendor_id&quot;+\r\n            &quot;and o.vendor_id=?&quot;)\r\n    public List&lt;CustomOrderResponse&gt; findOrderByVendorId(String vendor_id);\r\n","title":"fetch data from two tables","body":"<p>You should create a custom response class and use jpql to retrieve data.</p>\n<p>There is an example over there;</p>\n<pre><code>@Query(value = &quot;select new &lt;your_package_path&gt;.CustomOrderResponse(o.order_id,o.amount,o.date,u.user_id,u.user_name,v.v_name) &quot; +\n        &quot;from Orders o, User u, Vendor v &quot; +\n        &quot;where o.User.user_id = u.user_id &quot;+\n        &quot;and o.Vendor.vendor_id = v.vendor_id&quot;+\n        &quot;and o.vendor_id=?&quot;)\npublic List&lt;CustomOrderResponse&gt; findOrderByVendorId(String vendor_id);\n</code></pre>\n"}],"owner":{"account_id":28250412,"reputation":1,"user_id":21596757,"display_name":"Chandrakant Patare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681416726,"creation_date":1680967956,"question_id":75966096,"body_markdown":"i want to get details of user and vendor in order list.\r\n\r\n`@Entity\r\npublic class Orders {\r\n\r\n\t@Id \r\n\t @GeneratedValue(strategy = GenerationType.UUID)\r\n\tprivate String order_id;\r\n\tprivate String amount;\r\n\tprivate Date date;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;,referencedColumnName=&quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;vendor_id&quot;,referencedColumnName=&quot;vendor_id&quot;, nullable = false)\r\n    private Vendor vendor;\r\n\r\n\tpublic String getOrder_id() {\r\n\t\treturn order_id;\r\n\t}\r\n\tpublic void setOrder_id(String order_id) {\r\n\t\tthis.order_id = order_id;\r\n\t}\r\n\t\r\n\tpublic String getAmount() {\r\n\t\treturn amount;\r\n\t}\r\n\tpublic void setAmount(String amount) {\r\n\t\tthis.amount = amount;\r\n\t}\r\n\tpublic Date getDate() {\r\n\t\treturn date;\r\n\t}\r\n\tpublic void setDate(Date date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\t@JsonBackReference(value = &quot;user&quot;)\r\n\t@JsonIdentityReference(alwaysAsId = true)\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\t@JsonBackReference(value = &quot;vendor&quot;)\r\n\t@JsonIdentityReference(alwaysAsId = true)\r\n\tpublic Vendor getVendor() {\r\n\t\treturn vendor;\r\n\t}\r\n\tpublic void setVendor(Vendor vendor) {\r\n\t\tthis.vendor = vendor;\r\n\t}\r\n\t\r\n\t\r\n}\r\n`\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\t@Id \r\n\t @GeneratedValue(strategy = GenerationType.UUID)\r\n\tprivate String user_id;\r\n\tprivate String first_name;\r\n\tprivate String last_name;\r\n\tprivate String user_name;\r\n\tprivate String password;\r\n\tprivate Date dob;\r\n\tprivate String email_id;\r\n\tprivate String mobile;\r\n\tprivate String location;\r\n\t\r\n\t@JsonManagedReference(value = &quot;user&quot;)\r\n\t @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t    private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\r\n\r\n\t\r\n\tpublic String getUser_id() {\r\n\t\treturn user_id;\r\n\t}\r\n\tpublic void setUser_id(String user_id) {\r\n\t\tthis.user_id = user_id;\r\n\t}\r\n\tpublic String getFirst_name() {\r\n\t\treturn first_name;\r\n\t}\r\n\tpublic void setFirst_name(String first_name) {\r\n\t\tthis.first_name = first_name;\r\n\t}\r\n\tpublic String getLast_name() {\r\n\t\treturn last_name;\r\n\t}\r\n\tpublic void setLast_name(String last_name) {\r\n\t\tthis.last_name = last_name;\r\n\t}\r\n\tpublic String getUser_name() {\r\n\t\treturn user_name;\r\n\t}\r\n\tpublic void setUser_name(String user_name) {\r\n\t\tthis.user_name = user_name;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\tpublic Date getDob() {\r\n\t\treturn dob;\r\n\t}\r\n\tpublic void setDob(Date dob) {\r\n\t\tthis.dob = dob;\r\n\t}\r\n\tpublic String getEmail_id() {\r\n\t\treturn email_id;\r\n\t}\r\n\tpublic void setEmail_id(String email_id) {\r\n\t\tthis.email_id = email_id;\r\n\t}\r\n\tpublic String getMobile() {\r\n\t\treturn mobile;\r\n\t}\r\n\tpublic void setMobile(String mobile) {\r\n\t\tthis.mobile = mobile;\r\n\t}\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n\t\r\n\t@JsonIdentityReference(alwaysAsId = true)\r\n\tpublic List&lt;Orders&gt; getOrderList() {\r\n\t\treturn OrderList;\r\n\t}\r\n\tpublic void setOrderList(List&lt;Orders&gt; orderList) {\r\n\t\tOrderList = orderList;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name + &quot;, user_name=&quot; + user_name\r\n\t\t\t\t+ &quot;, password=&quot; + password + &quot;, dob=&quot; + dob + &quot;, email_id=&quot; + email_id + &quot;, mobile=&quot; + mobile\r\n\t\t\t\t+ &quot;, location=&quot; + location + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Vendor {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.UUID)\r\n\tprivate String vendor_id;\r\n\tprivate String v_name;\r\n\tprivate String v_address;\r\n\tprivate String v_email;\r\n\tprivate String v_password;\r\n\tprivate String v_mobile;\r\n\tprivate String v_image;\r\n\tprivate String package_detail;\r\n\tprivate String price;\r\n\tprivate String service_name;\r\n\t\r\n\t@JsonManagedReference(value = &quot;vendor&quot;)\r\n\t @OneToMany(mappedBy=&quot;vendor&quot;,cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t    private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\r\n\r\n\t\r\n\t\r\n\t @JsonIdentityReference(alwaysAsId = true)\r\n\tpublic List&lt;Orders&gt; getOrderList() {\r\n\t\treturn OrderList;\r\n\t}\r\n\tpublic void setOrderList(List&lt;Orders&gt; orderList) {\r\n\t\tOrderList = orderList;\r\n\t}\r\n\tpublic String getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\tpublic void setPrice(String price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\tpublic String getService_name() {\r\n\t\treturn service_name;\r\n\t}\r\n\tpublic void setService_name(String service_name) {\r\n\t\tthis.service_name = service_name;\r\n\t}\r\n\tpublic String getVendor_id() {\r\n\t\treturn vendor_id;\r\n\t}\r\n\tpublic void setVendor_id(String vendor_id) {\r\n\t\tthis.vendor_id = vendor_id;\r\n\t}\r\n\tpublic String getV_name() {\r\n\t\treturn v_name;\r\n\t}\r\n\tpublic void setV_name(String v_name) {\r\n\t\tthis.v_name = v_name;\r\n\t}\r\n\tpublic String getV_address() {\r\n\t\treturn v_address;\r\n\t}\r\n\tpublic void setV_address(String v_address) {\r\n\t\tthis.v_address = v_address;\r\n\t}\r\n\tpublic String getV_email() {\r\n\t\treturn v_email;\r\n\t}\r\n\tpublic void setV_email(String v_email) {\r\n\t\tthis.v_email = v_email;\r\n\t}\r\n\tpublic String getV_password() {\r\n\t\treturn v_password;\r\n\t}\r\n\tpublic void setV_password(String v_password) {\r\n\t\tthis.v_password = v_password;\r\n\t}\r\n\tpublic String getV_mobile() {\r\n\t\treturn v_mobile;\r\n\t}\r\n\tpublic void setV_mobile(String v_mobile) {\r\n\t\tthis.v_mobile = v_mobile;\r\n\t}\r\n\tpublic String getV_image() {\r\n\t\treturn v_image;\r\n\t}\r\n\tpublic void setV_image(String v_image) {\r\n\t\tthis.v_image = v_image;\r\n\t}\r\n\tpublic String getPackage_detail() {\r\n\t\treturn package_detail;\r\n\t}\r\n\tpublic void setPackage_detail(String package_detail) {\r\n\t\tthis.package_detail = package_detail;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Vendor [vendor_id=&quot; + vendor_id + &quot;, v_name=&quot; + v_name + &quot;, v_address=&quot; + v_address + &quot;, v_email=&quot;\r\n\t\t\t\t+ v_email + &quot;, v_password=&quot; + v_password + &quot;, v_mobile=&quot; + v_mobile + &quot;, v_image=&quot; + v_image\r\n\t\t\t\t+ &quot;, package_detail=&quot; + package_detail + &quot;, price=&quot; + price + &quot;, service_name=&quot; + service_name + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n```\r\n@Query(value = &quot;select od.* from orders od join vendor ve on(od.vendor_id=ve.vendor_id) where od.vendor_id=?&quot;,nativeQuery = true)\r\n\tpublic List&lt;Orders&gt; findOrderByVendorId(String vendor_id);\r\n\r\n\r\n\r\ntype here\r\n```\r\n\r\ni get this as answer\r\n\r\n     {\r\n            &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\r\n            &quot;amount&quot;: &quot;150000&quot;,\r\n            &quot;date&quot;: &quot;2023-04-01&quot;\r\n     },\r\n\r\nand i want\r\n\r\n     {\r\n            &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\r\n            &quot;amount&quot;: &quot;150000&quot;,\r\n            &quot;date&quot;: &quot;2023-04-01&quot;\r\n            &quot;user_id&quot;:&quot;as3454r344r&quot;,\r\n            &quot;user_name&quot;:&quot;xyz&quot;,\r\n            &quot;v_name&quot;:&quot;abc&quot;\r\n     },\r\n\r\n","title":"fetch data from two tables","body":"<p>i want to get details of user and vendor in order list.</p>\n<p>`@Entity\npublic class Orders {</p>\n<pre><code>@Id \n @GeneratedValue(strategy = GenerationType.UUID)\nprivate String order_id;\nprivate String amount;\nprivate Date date;\n\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;user_id&quot;,referencedColumnName=&quot;user_id&quot;, nullable = false)\nprivate User user;\n\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;vendor_id&quot;,referencedColumnName=&quot;vendor_id&quot;, nullable = false)\nprivate Vendor vendor;\n\npublic String getOrder_id() {\n    return order_id;\n}\npublic void setOrder_id(String order_id) {\n    this.order_id = order_id;\n}\n\npublic String getAmount() {\n    return amount;\n}\npublic void setAmount(String amount) {\n    this.amount = amount;\n}\npublic Date getDate() {\n    return date;\n}\npublic void setDate(Date date) {\n    this.date = date;\n}\n@JsonBackReference(value = &quot;user&quot;)\n@JsonIdentityReference(alwaysAsId = true)\npublic User getUser() {\n    return user;\n}\npublic void setUser(User user) {\n    this.user = user;\n}\n@JsonBackReference(value = &quot;vendor&quot;)\n@JsonIdentityReference(alwaysAsId = true)\npublic Vendor getVendor() {\n    return vendor;\n}\npublic void setVendor(Vendor vendor) {\n    this.vendor = vendor;\n}\n</code></pre>\n<p>}\n`</p>\n<pre><code>@Entity\npublic class User {\n    @Id \n     @GeneratedValue(strategy = GenerationType.UUID)\n    private String user_id;\n    private String first_name;\n    private String last_name;\n    private String user_name;\n    private String password;\n    private Date dob;\n    private String email_id;\n    private String mobile;\n    private String location;\n    \n    @JsonManagedReference(value = &quot;user&quot;)\n     @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\n\n    \n    public String getUser_id() {\n        return user_id;\n    }\n    public void setUser_id(String user_id) {\n        this.user_id = user_id;\n    }\n    public String getFirst_name() {\n        return first_name;\n    }\n    public void setFirst_name(String first_name) {\n        this.first_name = first_name;\n    }\n    public String getLast_name() {\n        return last_name;\n    }\n    public void setLast_name(String last_name) {\n        this.last_name = last_name;\n    }\n    public String getUser_name() {\n        return user_name;\n    }\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public Date getDob() {\n        return dob;\n    }\n    public void setDob(Date dob) {\n        this.dob = dob;\n    }\n    public String getEmail_id() {\n        return email_id;\n    }\n    public void setEmail_id(String email_id) {\n        this.email_id = email_id;\n    }\n    public String getMobile() {\n        return mobile;\n    }\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n    public String getLocation() {\n        return location;\n    }\n    public void setLocation(String location) {\n        this.location = location;\n    }\n    \n    @JsonIdentityReference(alwaysAsId = true)\n    public List&lt;Orders&gt; getOrderList() {\n        return OrderList;\n    }\n    public void setOrderList(List&lt;Orders&gt; orderList) {\n        OrderList = orderList;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name + &quot;, user_name=&quot; + user_name\n                + &quot;, password=&quot; + password + &quot;, dob=&quot; + dob + &quot;, email_id=&quot; + email_id + &quot;, mobile=&quot; + mobile\n                + &quot;, location=&quot; + location + &quot;]&quot;;\n    }\n    \n    \n    \n\n}\n</code></pre>\n<pre><code>@Entity\npublic class Vendor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private String vendor_id;\n    private String v_name;\n    private String v_address;\n    private String v_email;\n    private String v_password;\n    private String v_mobile;\n    private String v_image;\n    private String package_detail;\n    private String price;\n    private String service_name;\n    \n    @JsonManagedReference(value = &quot;vendor&quot;)\n     @OneToMany(mappedBy=&quot;vendor&quot;,cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\n\n    \n    \n     @JsonIdentityReference(alwaysAsId = true)\n    public List&lt;Orders&gt; getOrderList() {\n        return OrderList;\n    }\n    public void setOrderList(List&lt;Orders&gt; orderList) {\n        OrderList = orderList;\n    }\n    public String getPrice() {\n        return price;\n    }\n    public void setPrice(String price) {\n        this.price = price;\n    }\n    public String getService_name() {\n        return service_name;\n    }\n    public void setService_name(String service_name) {\n        this.service_name = service_name;\n    }\n    public String getVendor_id() {\n        return vendor_id;\n    }\n    public void setVendor_id(String vendor_id) {\n        this.vendor_id = vendor_id;\n    }\n    public String getV_name() {\n        return v_name;\n    }\n    public void setV_name(String v_name) {\n        this.v_name = v_name;\n    }\n    public String getV_address() {\n        return v_address;\n    }\n    public void setV_address(String v_address) {\n        this.v_address = v_address;\n    }\n    public String getV_email() {\n        return v_email;\n    }\n    public void setV_email(String v_email) {\n        this.v_email = v_email;\n    }\n    public String getV_password() {\n        return v_password;\n    }\n    public void setV_password(String v_password) {\n        this.v_password = v_password;\n    }\n    public String getV_mobile() {\n        return v_mobile;\n    }\n    public void setV_mobile(String v_mobile) {\n        this.v_mobile = v_mobile;\n    }\n    public String getV_image() {\n        return v_image;\n    }\n    public void setV_image(String v_image) {\n        this.v_image = v_image;\n    }\n    public String getPackage_detail() {\n        return package_detail;\n    }\n    public void setPackage_detail(String package_detail) {\n        this.package_detail = package_detail;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Vendor [vendor_id=&quot; + vendor_id + &quot;, v_name=&quot; + v_name + &quot;, v_address=&quot; + v_address + &quot;, v_email=&quot;\n                + v_email + &quot;, v_password=&quot; + v_password + &quot;, v_mobile=&quot; + v_mobile + &quot;, v_image=&quot; + v_image\n                + &quot;, package_detail=&quot; + package_detail + &quot;, price=&quot; + price + &quot;, service_name=&quot; + service_name + &quot;]&quot;;\n    }\n    \n    \n\n}\n</code></pre>\n<pre><code>@Query(value = &quot;select od.* from orders od join vendor ve on(od.vendor_id=ve.vendor_id) where od.vendor_id=?&quot;,nativeQuery = true)\n    public List&lt;Orders&gt; findOrderByVendorId(String vendor_id);\n\n\n\ntype here\n</code></pre>\n<p>i get this as answer</p>\n<pre><code> {\n        &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\n        &quot;amount&quot;: &quot;150000&quot;,\n        &quot;date&quot;: &quot;2023-04-01&quot;\n },\n</code></pre>\n<p>and i want</p>\n<pre><code> {\n        &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\n        &quot;amount&quot;: &quot;150000&quot;,\n        &quot;date&quot;: &quot;2023-04-01&quot;\n        &quot;user_id&quot;:&quot;as3454r344r&quot;,\n        &quot;user_name&quot;:&quot;xyz&quot;,\n        &quot;v_name&quot;:&quot;abc&quot;\n },\n</code></pre>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"account_id":212122,"reputation":291683,"user_id":464744,"accept_rate":86,"display_name":"Blender"},"score":1,"creation_date":1350509606,"post_id":12943734,"comment_id":17544636,"body_markdown":"Have you tried [`fragment.text()`](http://jsoup.org/cookbook/extracting-data/attributes-text-html)?","body":"Have you tried <a href=\"http://jsoup.org/cookbook/extracting-data/attributes-text-html\" rel=\"nofollow noreferrer\"><code>fragment.text()</code></a>?"},{"owner":{"account_id":976919,"reputation":870,"user_id":997776,"accept_rate":80,"display_name":"sanya"},"score":1,"creation_date":1649252902,"post_id":12943734,"comment_id":126828992,"body_markdown":"The first time I see Hungarian text in a question.  :)","body":"The first time I see Hungarian text in a question.  :)"}],"answers":[{"comments":[{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":2,"creation_date":1642686504,"post_id":12943771,"comment_id":125140811,"body_markdown":"Do not use regex for HTML parsing: \nhttps://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"Do not use regex for HTML parsing:  <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1350510147,"creation_date":1350509703,"answer_id":12943771,"question_id":12943734,"body_markdown":"**Using Regex**: -\r\n\r\n    String str = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\r\n    str = str.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;, &quot;&quot;);\r\n    System.out.println(str);\r\n\r\n*OUTPUT*: -\r\n\r\n      foo   bar  foobar  baz \r\n\r\n\r\n**Using Jsoup**: -\r\n\r\n    Document doc = Jsoup.parse(str); \r\n    String text = doc.text();\r\n\r\n","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p><strong>Using Regex</strong>: -</p>\n\n<pre><code>String str = \"&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\";\nstr = str.replaceAll(\"&lt;[^&gt;]*&gt;\", \"\");\nSystem.out.println(str);\n</code></pre>\n\n<p><em>OUTPUT</em>: -</p>\n\n<pre><code>  foo   bar  foobar  baz \n</code></pre>\n\n<p><strong>Using Jsoup</strong>: -</p>\n\n<pre><code>Document doc = Jsoup.parse(str); \nString text = doc.text();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":388454,"reputation":11987,"user_id":747412,"accept_rate":81,"display_name":"WonderCsabo"},"score":0,"creation_date":1350511549,"post_id":12943807,"comment_id":17545285,"body_markdown":"Thanks! Now i face another problem: line breaks. It can be solved by a new TextNode(elem.html(), &quot;&quot;).getWholeText(), but it makes my special accent characters to html encoded ones. How can i get the decoded human readable characters?","body":"Thanks! Now i face another problem: line breaks. It can be solved by a new TextNode(elem.html(), &quot;&quot;).getWholeText(), but it makes my special accent characters to html encoded ones. How can i get the decoded human readable characters?"},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":0,"creation_date":1350511801,"post_id":12943807,"comment_id":17545377,"body_markdown":"Can you post some example html (what html you have and what you need as result) and/or Code.","body":"Can you post some example html (what html you have and what you need as result) and/or Code."},{"owner":{"account_id":388454,"reputation":11987,"user_id":747412,"accept_rate":81,"display_name":"WonderCsabo"},"score":0,"creation_date":1350513815,"post_id":12943807,"comment_id":17545970,"body_markdown":"Thanks! That&#39;s what i also figured out, but it guess there is a smarter method somewhere. It&#39;ll be good for now.","body":"Thanks! That&#39;s what i also figured out, but it guess there is a smarter method somewhere. It&#39;ll be good for now."}],"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"comment_count":3,"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1350513572,"creation_date":1350509886,"answer_id":12943807,"question_id":12943734,"body_markdown":"**With Jsoup:**\r\n\r\n    final String html = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    \r\n    System.out.println(doc.text());\r\n\r\n**Output:**\r\n\r\n    foo bar foobar baz\r\n\r\n\r\nIf you want only the text of p-tag, use this instead of `doc.text()`:\r\n\r\n    doc.select(&quot;p&quot;).text();\r\n\r\n... or only body:\r\n\r\n    doc.body().text();\r\n\r\n\r\n----------\r\n\r\nLinebreak:\r\n----------\r\n\r\n    final String html = &quot;&lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;&quot;\r\n            + &quot;&lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    \r\n    for( Element element : doc.select(&quot;p&quot;) )\r\n    {\r\n        System.out.println(element.text());\r\n        // eg. you can use a StringBuilder and append lines here ...\r\n    }\r\n\r\n**Output:**\r\n\r\n    Tarthatatlan biztons&#225;gi viszonyok  \r\n    Tarthatatlan biztons&#225;gi viszonyok\r\n\r\n","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p><strong>With Jsoup:</strong></p>\n\n<pre><code>final String html = \"&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\";\nDocument doc = Jsoup.parse(html);\n\nSystem.out.println(doc.text());\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>foo bar foobar baz\n</code></pre>\n\n<p>If you want only the text of p-tag, use this instead of <code>doc.text()</code>:</p>\n\n<pre><code>doc.select(\"p\").text();\n</code></pre>\n\n<p>... or only body:</p>\n\n<pre><code>doc.body().text();\n</code></pre>\n\n<hr>\n\n<h2>Linebreak:</h2>\n\n<pre><code>final String html = \"&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsági viszonyok&lt;/strong&gt;&lt;/p&gt;\"\n        + \"&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsági viszonyok&lt;/strong&gt;&lt;/p&gt;\";\nDocument doc = Jsoup.parse(html);\n\nfor( Element element : doc.select(\"p\") )\n{\n    System.out.println(element.text());\n    // eg. you can use a StringBuilder and append lines here ...\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Tarthatatlan biztonsági viszonyok  \nTarthatatlan biztonsági viszonyok\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2171071,"reputation":542,"user_id":1923046,"accept_rate":89,"display_name":"Adam Law"},"score":1,"creation_date":1517554807,"post_id":44635582,"comment_id":84150928,"body_markdown":"is there a reason not to use the static methods i.e. Jsoup.clean(html, WhiteList.none())?","body":"is there a reason not to use the static methods i.e. Jsoup.clean(html, WhiteList.none())?"},{"owner":{"account_id":9815032,"reputation":534,"user_id":7271796,"display_name":"MrPowerGamerBR"},"score":2,"creation_date":1535473391,"post_id":44635582,"comment_id":91075152,"body_markdown":"Small fix,  you can&#39;t initialize the `Jsoup` class, you need to use `Jsoup.clean(html, wl)` (You need to pass the HTML string, not the document)","body":"Small fix,  you can&#39;t initialize the <code>Jsoup</code> class, you need to use <code>Jsoup.clean(html, wl)</code> (You need to pass the HTML string, not the document)"}],"tags":[],"owner":{"account_id":103812,"reputation":3551,"user_id":277861,"accept_rate":83,"display_name":"Al-Punk"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681416351,"creation_date":1497889537,"answer_id":44635582,"question_id":12943734,"body_markdown":"Actually, the correct way to clean with Jsoup is through a [Safelist][1]\r\n\r\n    ...\r\n    final String html = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    Safelist wl = Safelist.none()\r\n    String cleanText = Jsoup.clean(doc.html(), wl)\r\n\r\nIf you want to still preserve some tags:\r\n\r\n    Safelist wl = new Safelist().relaxed().removeTags(&quot;a&quot;)\r\n\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/safety/Safelist.html","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p>Actually, the correct way to clean with Jsoup is through a <a href=\"https://jsoup.org/apidocs/org/jsoup/safety/Safelist.html\" rel=\"nofollow noreferrer\">Safelist</a></p>\n<pre><code>...\nfinal String html = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\nDocument doc = Jsoup.parse(html);\nSafelist wl = Safelist.none()\nString cleanText = Jsoup.clean(doc.html(), wl)\n</code></pre>\n<p>If you want to still preserve some tags:</p>\n<pre><code>Safelist wl = new Safelist().relaxed().removeTags(&quot;a&quot;)\n</code></pre>\n"}],"owner":{"account_id":388454,"reputation":11987,"user_id":747412,"accept_rate":81,"display_name":"WonderCsabo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48671,"favorite_count":0,"down_vote_count":2,"up_vote_count":53,"accepted_answer_id":12943807,"answer_count":3,"score":51,"last_activity_date":1681416351,"creation_date":1350509512,"question_id":12943734,"body_markdown":"Let&#39;s say i have a html fragment like this:\r\n\r\n    &lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\r\n\r\nWhat i want to extract from that is:\r\n\r\n    foo bar foobar baz\r\n\r\nSo my question is: how can i strip all the wrapping tags from a html and get only the text in the same order as it is in the html?\r\nAs you can see in the title, i want to use jsoup for the parsing.\r\n\r\nExample for accented html (note the &#39;&#225;&#39; character):\r\n\r\n    &lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;\r\n\r\nWhat i want:\r\n\r\n    Tarthatatlan biztons&#225;gi viszonyok\r\n    Tarthatatlan biztons&#225;gi viszonyok\r\n\r\nThis html is not static, generally i just want every text of a generic html fragment in decoded human readable form, width line breaks.\r\n\r\n","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p>Let's say i have a html fragment like this:</p>\n\n<pre><code>&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\n</code></pre>\n\n<p>What i want to extract from that is:</p>\n\n<pre><code>foo bar foobar baz\n</code></pre>\n\n<p>So my question is: how can i strip all the wrapping tags from a html and get only the text in the same order as it is in the html?\nAs you can see in the title, i want to use jsoup for the parsing.</p>\n\n<p>Example for accented html (note the 'á' character):</p>\n\n<pre><code>&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsági viszonyok&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsági viszonyok&lt;/strong&gt;&lt;/p&gt;\n</code></pre>\n\n<p>What i want:</p>\n\n<pre><code>Tarthatatlan biztonsági viszonyok\nTarthatatlan biztonsági viszonyok\n</code></pre>\n\n<p>This html is not static, generally i just want every text of a generic html fragment in decoded human readable form, width line breaks.</p>\n"},{"tags":["java","testing","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677597695,"creation_date":1677597695,"answer_id":75593990,"question_id":73697528,"body_markdown":"You probably already solve your doubts related to your question, but first, the automated instrumentation logic should not affect your app logic, see this link --&gt; (What’s the difference between automated instrumentation and manual instrumentation? section) https://isitobservable.io/open-telemetry/traces/how-to-instrument-your-code-using-opentelemetry.\r\nSecondly, if you already use the automatic instrumentation in OpenTelemetry,  when the java agent is executed with your application, then you can check the span traces info and later assert the info that is interested for you.\r\nAlso, you can check the integration tests that they made related to the original repo: \r\nhttps://github.com/open-telemetry/opentelemetry-java/tree/main/integration-tests.\r\n\r\nI hope that info could help you. \r\n","title":"How can I test the Java automatic instrumentation in OpenTelemetry?","body":"<p>You probably already solve your doubts related to your question, but first, the automated instrumentation logic should not affect your app logic, see this link --&gt; (What’s the difference between automated instrumentation and manual instrumentation? section) <a href=\"https://isitobservable.io/open-telemetry/traces/how-to-instrument-your-code-using-opentelemetry\" rel=\"nofollow noreferrer\">https://isitobservable.io/open-telemetry/traces/how-to-instrument-your-code-using-opentelemetry</a>.\nSecondly, if you already use the automatic instrumentation in OpenTelemetry,  when the java agent is executed with your application, then you can check the span traces info and later assert the info that is interested for you.\nAlso, you can check the integration tests that they made related to the original repo:\n<a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/integration-tests\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java/tree/main/integration-tests</a>.</p>\n<p>I hope that info could help you.</p>\n"}],"owner":{"account_id":15404218,"reputation":87,"user_id":11112760,"display_name":"Alexey Vinogradov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681416316,"creation_date":1663042883,"question_id":73697528,"body_markdown":"I have a Java application with the GRPC API. And there is in the same repo a Java client library for this application.\r\nI am using Maven as a build system.\r\n\r\nHow can I test that spans are correctly created and the app will work as I expect (i.e. instrumentation doesn&#39;t affect the application&#39;s logic)?\r\n\r\nI tried to play with [the agent for testing](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/testing/agent-for-testing), but it seems that it should be configured heavily before being used as I can see in the different tests of Gradle plugins.\r\n\r\nI have an idea that I should test this only on the integration level (i.e. set up the whole infrastructure for the tracing) but it would be cool to see the mistakes as early as possible :)\r\n\r\nAlso, I have plans to add the manual instrumentation to this app, because there is a custom Netty-based transport layer to another application and there is custom scheduling logic based on queues.","title":"How can I test the Java automatic instrumentation in OpenTelemetry?","body":"<p>I have a Java application with the GRPC API. And there is in the same repo a Java client library for this application.\nI am using Maven as a build system.</p>\n<p>How can I test that spans are correctly created and the app will work as I expect (i.e. instrumentation doesn't affect the application's logic)?</p>\n<p>I tried to play with <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/testing/agent-for-testing\" rel=\"nofollow noreferrer\">the agent for testing</a>, but it seems that it should be configured heavily before being used as I can see in the different tests of Gradle plugins.</p>\n<p>I have an idea that I should test this only on the integration level (i.e. set up the whole infrastructure for the tracing) but it would be cool to see the mistakes as early as possible :)</p>\n<p>Also, I have plans to add the manual instrumentation to this app, because there is a custom Netty-based transport layer to another application and there is custom scheduling logic based on queues.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9722,"page":503,"page_size":100}
