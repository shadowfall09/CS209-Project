{"items":[{"tags":["java","arrays","draw","paint"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639032137,"post_id":70285593,"comment_id":124245761,"body_markdown":"What exactly happens when you run your program?","body":"What exactly happens when you run your program?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639032676,"post_id":70285593,"comment_id":124245870,"body_markdown":"I notice that you draw all the platforms and then draw your background over the top.","body":"I notice that you draw all the platforms and then draw your background over the top."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1639033062,"post_id":70285593,"comment_id":124245967,"body_markdown":"`SCREEN_HEIGHT` is set to `600` and you set the platforms initial `y` position to `600` and it never moves...","body":"<code>SCREEN_HEIGHT</code> is set to <code>600</code> and you set the platforms initial <code>y</code> position to <code>600</code> and it never moves..."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639034919,"creation_date":1639034919,"answer_id":70286101,"question_id":70285593,"body_markdown":"So you set the screen height to `600`, `final int SCREEN_HEIGHT = 600;` but then create your platforms `y` position to `600` as well, `platform.add(new Map(i,600,50,50));`.\r\n\r\nSince they never move, this is going to paint them off screen, so, a quick solution is to change the `y` position to something which is within the visible range, maybe `550`, that way you will see them (to start with).\r\n\r\n# Observations\r\n\r\nThere&#39;s a lot of, interesting, ideas going on and I&#39;m not sure you entirely understand how the API works.\r\n\r\nStart by having a look at:\r\n\r\n* [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n* [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)\r\n\r\nThis will give you a better understanding of how the paint system works in Swing and how you should work with it.\r\n\r\nHaving said that, Swing is double buffered by default, so you don&#39;t need your own backing buffer, just override `paintComponent` and paint to the `Graphics` context\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        draw(g2d);\r\n        g2d.dispose();\r\n    }\r\n\r\nthis will help eliminate one possible area of issues.\r\n\r\nSwing is also not thread safe, so you should avoid making up dates to the UI (or state the UI relies on) from outside the context of the Event Dispatching Thread.\r\n\r\nInstead of using `java.util.Timer`, you should be using `javax.swing.Timer`, which will generate it&#39;s callbacks within the context of the EDT.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details\r\n\r\n    gameTimer = new Timer(5, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            player1.move();\r\n            repaint();\r\n        }\r\n    });\r\n    gameTimer.start();\r\n\r\n`KeyListener` is well know for causing issues and there is a better system available which resolves these issues, see [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) for more details.\r\n\r\nI&#39;m also not really sure what&#39;s going on with `Player`\r\n\r\n    public class Player extends Rectangle {\r\n\r\n        double velocityY = 0;\r\n        double velocityX = 0;\r\n        final int PLAYER_WIDTH = 50;\r\n        final int PLAYER_HEIGHT = 50;\r\n        static int speed = 2;\r\n        GamePanel panel;\r\n        boolean keyRight = false;\r\n        boolean keyLeft = false;\r\n        boolean keyUp = false;\r\n        boolean keyDown = false;\r\n        Rectangle hitbox;\r\n\r\n        public Player(int x, int y, int PLAYERWIDTH, int PLAYERHEIGHT, GamePanel panel) {\r\n            super(x, y, PLAYERWIDTH, PLAYERHEIGHT);\r\n            this.panel = panel;\r\n\r\n            hitbox = new Rectangle();\r\n        }\r\n\r\n        public void paint(Graphics g) {\r\n            Graphics2D g2D = (Graphics2D) g;\r\n            g2D.setColor(Color.red);\r\n            g2D.fillRect(x, y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n        }\r\n\r\nYou extend it from `Rectangle`, but then you create another `Rectangle` within it and I have no idea what all the instance fields are doing at all (you basically ignore what ever&#39;s passed in, in favour of your properties)\r\n\r\nYou could just do something like and use `Player` as the `hotbox` itself\r\n\r\n    public class Player extends Rectangle {\r\n\r\n        enum Direction {\r\n            UP, DOWN, LEFT, RIGHT\r\n        }\r\n\r\n        private double velocityY = 0;\r\n        private double velocityX = 0;\r\n        private int speed = 2;\r\n\r\n        public Player(int x, int y, int width, int height) {\r\n            super(x, y, width, height);\r\n        }\r\n\r\n        public void paint(Graphics2D g2D) {\r\n            g2D.setColor(Color.RED);\r\n            g2D.fill(this);\r\n        }\r\n\r\n# Runnable example...\r\n\r\nKey bindings can be fun to get your head around, so I&#39;ve modified your code to support them (and the above mentioned changes) to give you a better idea.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.ArrayList;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePanel());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel implements ActionListener {\r\n\r\n            protected static final int SCREEN_WIDTH = 1000;\r\n            protected static final int SCREEN_HEIGHT = 600;\r\n            protected static final int PLAYER_WIDTH = 50;\r\n            protected static final int PLAYER_HEIGHT = 60;\r\n            protected static final Dimension SCREEN_SIZE = new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n            boolean falling = false;\r\n            boolean playing = true;\r\n\r\n            Player player1;\r\n            Map map1;\r\n\r\n            Image backgroundImage;\r\n            Timer gameTimer;\r\n            ArrayList&lt;Map&gt; platform = new ArrayList&lt;&gt;();\r\n\r\n            public GamePanel() {\r\n                BufferedImage img = new BufferedImage(SCREEN_WIDTH, SCREEN_HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n                Graphics2D g2d = img.createGraphics();\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\r\n                g2d.dispose();\r\n                backgroundImage = new ImageIcon(img).getImage();\r\n\r\n                newPlayer();\r\n                newMap();\r\n\r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, false), &quot;Pressed.left&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, false), &quot;Pressed.right&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, false), &quot;Pressed.up&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false), &quot;Pressed.down&quot;);\r\n\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, true), &quot;Released.left&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, true), &quot;Released.right&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, true), &quot;Released.up&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true), &quot;Released.down&quot;);\r\n\r\n                am.put(&quot;Pressed.left&quot;, new MoveAction(player1, Player.Direction.LEFT, true));\r\n                am.put(&quot;Pressed.right&quot;, new MoveAction(player1, Player.Direction.RIGHT, true));\r\n                am.put(&quot;Pressed.up&quot;, new MoveAction(player1, Player.Direction.UP, true));\r\n                am.put(&quot;Pressed.down&quot;, new MoveAction(player1, Player.Direction.DOWN, true));\r\n\r\n                am.put(&quot;Released.left&quot;, new MoveAction(player1, Player.Direction.LEFT, false));\r\n                am.put(&quot;Released.right&quot;, new MoveAction(player1, Player.Direction.RIGHT, false));\r\n                am.put(&quot;Released.up&quot;, new MoveAction(player1, Player.Direction.UP, false));\r\n                am.put(&quot;Released.down&quot;, new MoveAction(player1, Player.Direction.DOWN, false));\r\n\r\n                gameTimer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        player1.move();\r\n                        repaint();\r\n                    }\r\n                });\r\n                gameTimer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return SCREEN_SIZE;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                draw(g2d);\r\n                g2d.dispose();\r\n            }\r\n\r\n            public void draw(Graphics2D g2D) {\r\n                g2D.drawImage(backgroundImage, 0, 0, null);\r\n                player1.paint(g2D);\r\n                for (Map map1 : platform) {\r\n                    map1.paint(g2D);\r\n                }\r\n            }\r\n\r\n            public void newPlayer() {\r\n                player1 = new Player((SCREEN_WIDTH / 2) - (PLAYER_WIDTH / 2), (SCREEN_HEIGHT / 2) - (PLAYER_WIDTH / 2), PLAYER_WIDTH, PLAYER_HEIGHT);\r\n            }\r\n\r\n            public void newMap() {\r\n                for (int i = 50; i &lt; 650; i += 50) {\r\n                    platform.add(new Map(i, 550, 50, 50));\r\n                }\r\n            }\r\n\r\n            public void gameOver() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n            }\r\n        }\r\n\r\n        public class MoveAction extends AbstractAction {\r\n\r\n            private Player player;\r\n            private Player.Direction direction;\r\n            private boolean pressed;\r\n\r\n            public MoveAction(Player player, Player.Direction direction, boolean pressed) {\r\n                this.player = player;\r\n                this.direction = direction;\r\n                this.pressed = pressed;\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (pressed) {\r\n                    player.putDirection(direction);\r\n                } else {\r\n                    player.removeDirection(direction);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public class Player extends Rectangle {\r\n\r\n            enum Direction {\r\n                UP, DOWN, LEFT, RIGHT\r\n            }\r\n\r\n            private double velocityY = 0;\r\n            private double velocityX = 0;\r\n            private int speed = 2;\r\n\r\n            private Set&lt;Direction&gt; directions = new TreeSet&lt;&gt;();\r\n\r\n            public Player(int x, int y, int width, int height) {\r\n                super(x, y, width, height);\r\n            }\r\n\r\n            public void putDirection(Direction direction) {\r\n                directions.add(direction);\r\n            }\r\n\r\n            public void removeDirection(Direction direction) {\r\n                directions.remove(direction);\r\n            }\r\n\r\n            public void paint(Graphics2D g2D) {\r\n                g2D.setColor(Color.RED);\r\n                g2D.fill(this);\r\n            }\r\n\r\n            protected boolean hasDirection(Direction direction) {\r\n                return directions.contains(direction);\r\n            }\r\n\r\n            public void move() {\r\n                System.out.println(hasDirection(Direction.UP));\r\n                if (hasDirection(Direction.LEFT) &amp;&amp; hasDirection(Direction.RIGHT) || !hasDirection(Direction.LEFT) &amp;&amp; !hasDirection(Direction.RIGHT)) {\r\n                    velocityX *= 0.8;\r\n                }\r\n                if (hasDirection(Direction.LEFT) &amp;&amp; !hasDirection(Direction.RIGHT)) {\r\n                    velocityX--;\r\n                }\r\n                if (hasDirection(Direction.RIGHT) &amp;&amp; !hasDirection(Direction.LEFT)) {\r\n                    velocityX++;\r\n                }\r\n                if (velocityX &gt; 0 &amp;&amp; velocityX &lt; 0.75) {\r\n                    velocityX = 0;\r\n                }\r\n                if (velocityX &lt; 0 &amp;&amp; velocityX &gt; -0.75) {\r\n                    velocityX = 0;\r\n                }\r\n\r\n                if (velocityX &gt; 7) {\r\n                    velocityX = 7;\r\n                }\r\n                if (velocityX &lt; -7) {\r\n                    velocityX = -7;\r\n                }\r\n\r\n                if (hasDirection(Direction.UP)) {\r\n                    velocityY = -6;\r\n                }\r\n                velocityY += 0.3;\r\n\r\n                y += velocityY;\r\n                x += velocityX;\r\n            }\r\n        }\r\n\r\n        public class Map {\r\n\r\n            int width;\r\n            int height;\r\n            int x;\r\n            int y;\r\n            Rectangle hitbox;\r\n\r\n            public Map(int x, int y, int width, int height) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.width = width;\r\n                this.height = height;\r\n\r\n                hitbox = new Rectangle(x, y, width, height);\r\n            }\r\n\r\n            public void paint(Graphics2D g2D) {\r\n                g2D.setColor(Color.GRAY);\r\n                g2D.fill(hitbox);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n","title":"Why doesn&#39;t my Platform draw When using for loops (to access multiple platforms) with array lists","body":"<p>So you set the screen height to <code>600</code>, <code>final int SCREEN_HEIGHT = 600;</code> but then create your platforms <code>y</code> position to <code>600</code> as well, <code>platform.add(new Map(i,600,50,50));</code>.</p>\n<p>Since they never move, this is going to paint them off screen, so, a quick solution is to change the <code>y</code> position to something which is within the visible range, maybe <code>550</code>, that way you will see them (to start with).</p>\n<h1>Observations</h1>\n<p>There's a lot of, interesting, ideas going on and I'm not sure you entirely understand how the API works.</p>\n<p>Start by having a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n</ul>\n<p>This will give you a better understanding of how the paint system works in Swing and how you should work with it.</p>\n<p>Having said that, Swing is double buffered by default, so you don't need your own backing buffer, just override <code>paintComponent</code> and paint to the <code>Graphics</code> context</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    Graphics2D g2d = (Graphics2D) g.create();\n    draw(g2d);\n    g2d.dispose();\n}\n</code></pre>\n<p>this will help eliminate one possible area of issues.</p>\n<p>Swing is also not thread safe, so you should avoid making up dates to the UI (or state the UI relies on) from outside the context of the Event Dispatching Thread.</p>\n<p>Instead of using <code>java.util.Timer</code>, you should be using <code>javax.swing.Timer</code>, which will generate it's callbacks within the context of the EDT.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details</p>\n<pre><code>gameTimer = new Timer(5, new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        player1.move();\n        repaint();\n    }\n});\ngameTimer.start();\n</code></pre>\n<p><code>KeyListener</code> is well know for causing issues and there is a better system available which resolves these issues, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a> for more details.</p>\n<p>I'm also not really sure what's going on with <code>Player</code></p>\n<pre><code>public class Player extends Rectangle {\n\n    double velocityY = 0;\n    double velocityX = 0;\n    final int PLAYER_WIDTH = 50;\n    final int PLAYER_HEIGHT = 50;\n    static int speed = 2;\n    GamePanel panel;\n    boolean keyRight = false;\n    boolean keyLeft = false;\n    boolean keyUp = false;\n    boolean keyDown = false;\n    Rectangle hitbox;\n\n    public Player(int x, int y, int PLAYERWIDTH, int PLAYERHEIGHT, GamePanel panel) {\n        super(x, y, PLAYERWIDTH, PLAYERHEIGHT);\n        this.panel = panel;\n\n        hitbox = new Rectangle();\n    }\n\n    public void paint(Graphics g) {\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.red);\n        g2D.fillRect(x, y, PLAYER_WIDTH, PLAYER_HEIGHT);\n    }\n</code></pre>\n<p>You extend it from <code>Rectangle</code>, but then you create another <code>Rectangle</code> within it and I have no idea what all the instance fields are doing at all (you basically ignore what ever's passed in, in favour of your properties)</p>\n<p>You could just do something like and use <code>Player</code> as the <code>hotbox</code> itself</p>\n<pre><code>public class Player extends Rectangle {\n\n    enum Direction {\n        UP, DOWN, LEFT, RIGHT\n    }\n\n    private double velocityY = 0;\n    private double velocityX = 0;\n    private int speed = 2;\n\n    public Player(int x, int y, int width, int height) {\n        super(x, y, width, height);\n    }\n\n    public void paint(Graphics2D g2D) {\n        g2D.setColor(Color.RED);\n        g2D.fill(this);\n    }\n</code></pre>\n<h1>Runnable example...</h1>\n<p>Key bindings can be fun to get your head around, so I've modified your code to support them (and the above mentioned changes) to give you a better idea.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.image.BufferedImage;\nimport java.util.ArrayList;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.ImageIcon;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new GamePanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel implements ActionListener {\n\n        protected static final int SCREEN_WIDTH = 1000;\n        protected static final int SCREEN_HEIGHT = 600;\n        protected static final int PLAYER_WIDTH = 50;\n        protected static final int PLAYER_HEIGHT = 60;\n        protected static final Dimension SCREEN_SIZE = new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\n        boolean falling = false;\n        boolean playing = true;\n\n        Player player1;\n        Map map1;\n\n        Image backgroundImage;\n        Timer gameTimer;\n        ArrayList&lt;Map&gt; platform = new ArrayList&lt;&gt;();\n\n        public GamePanel() {\n            BufferedImage img = new BufferedImage(SCREEN_WIDTH, SCREEN_HEIGHT, BufferedImage.TYPE_INT_RGB);\n            Graphics2D g2d = img.createGraphics();\n            g2d.setColor(Color.BLUE);\n            g2d.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\n            g2d.dispose();\n            backgroundImage = new ImageIcon(img).getImage();\n\n            newPlayer();\n            newMap();\n\n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, false), &quot;Pressed.left&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, false), &quot;Pressed.right&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, false), &quot;Pressed.up&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false), &quot;Pressed.down&quot;);\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, true), &quot;Released.left&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, true), &quot;Released.right&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, true), &quot;Released.up&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true), &quot;Released.down&quot;);\n\n            am.put(&quot;Pressed.left&quot;, new MoveAction(player1, Player.Direction.LEFT, true));\n            am.put(&quot;Pressed.right&quot;, new MoveAction(player1, Player.Direction.RIGHT, true));\n            am.put(&quot;Pressed.up&quot;, new MoveAction(player1, Player.Direction.UP, true));\n            am.put(&quot;Pressed.down&quot;, new MoveAction(player1, Player.Direction.DOWN, true));\n\n            am.put(&quot;Released.left&quot;, new MoveAction(player1, Player.Direction.LEFT, false));\n            am.put(&quot;Released.right&quot;, new MoveAction(player1, Player.Direction.RIGHT, false));\n            am.put(&quot;Released.up&quot;, new MoveAction(player1, Player.Direction.UP, false));\n            am.put(&quot;Released.down&quot;, new MoveAction(player1, Player.Direction.DOWN, false));\n\n            gameTimer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    player1.move();\n                    repaint();\n                }\n            });\n            gameTimer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return SCREEN_SIZE;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            draw(g2d);\n            g2d.dispose();\n        }\n\n        public void draw(Graphics2D g2D) {\n            g2D.drawImage(backgroundImage, 0, 0, null);\n            player1.paint(g2D);\n            for (Map map1 : platform) {\n                map1.paint(g2D);\n            }\n        }\n\n        public void newPlayer() {\n            player1 = new Player((SCREEN_WIDTH / 2) - (PLAYER_WIDTH / 2), (SCREEN_HEIGHT / 2) - (PLAYER_WIDTH / 2), PLAYER_WIDTH, PLAYER_HEIGHT);\n        }\n\n        public void newMap() {\n            for (int i = 50; i &lt; 650; i += 50) {\n                platform.add(new Map(i, 550, 50, 50));\n            }\n        }\n\n        public void gameOver() {\n\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n        }\n    }\n\n    public class MoveAction extends AbstractAction {\n\n        private Player player;\n        private Player.Direction direction;\n        private boolean pressed;\n\n        public MoveAction(Player player, Player.Direction direction, boolean pressed) {\n            this.player = player;\n            this.direction = direction;\n            this.pressed = pressed;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (pressed) {\n                player.putDirection(direction);\n            } else {\n                player.removeDirection(direction);\n            }\n        }\n\n    }\n\n    public class Player extends Rectangle {\n\n        enum Direction {\n            UP, DOWN, LEFT, RIGHT\n        }\n\n        private double velocityY = 0;\n        private double velocityX = 0;\n        private int speed = 2;\n\n        private Set&lt;Direction&gt; directions = new TreeSet&lt;&gt;();\n\n        public Player(int x, int y, int width, int height) {\n            super(x, y, width, height);\n        }\n\n        public void putDirection(Direction direction) {\n            directions.add(direction);\n        }\n\n        public void removeDirection(Direction direction) {\n            directions.remove(direction);\n        }\n\n        public void paint(Graphics2D g2D) {\n            g2D.setColor(Color.RED);\n            g2D.fill(this);\n        }\n\n        protected boolean hasDirection(Direction direction) {\n            return directions.contains(direction);\n        }\n\n        public void move() {\n            System.out.println(hasDirection(Direction.UP));\n            if (hasDirection(Direction.LEFT) &amp;&amp; hasDirection(Direction.RIGHT) || !hasDirection(Direction.LEFT) &amp;&amp; !hasDirection(Direction.RIGHT)) {\n                velocityX *= 0.8;\n            }\n            if (hasDirection(Direction.LEFT) &amp;&amp; !hasDirection(Direction.RIGHT)) {\n                velocityX--;\n            }\n            if (hasDirection(Direction.RIGHT) &amp;&amp; !hasDirection(Direction.LEFT)) {\n                velocityX++;\n            }\n            if (velocityX &gt; 0 &amp;&amp; velocityX &lt; 0.75) {\n                velocityX = 0;\n            }\n            if (velocityX &lt; 0 &amp;&amp; velocityX &gt; -0.75) {\n                velocityX = 0;\n            }\n\n            if (velocityX &gt; 7) {\n                velocityX = 7;\n            }\n            if (velocityX &lt; -7) {\n                velocityX = -7;\n            }\n\n            if (hasDirection(Direction.UP)) {\n                velocityY = -6;\n            }\n            velocityY += 0.3;\n\n            y += velocityY;\n            x += velocityX;\n        }\n    }\n\n    public class Map {\n\n        int width;\n        int height;\n        int x;\n        int y;\n        Rectangle hitbox;\n\n        public Map(int x, int y, int width, int height) {\n            this.x = x;\n            this.y = y;\n            this.width = width;\n            this.height = height;\n\n            hitbox = new Rectangle(x, y, width, height);\n        }\n\n        public void paint(Graphics2D g2D) {\n            g2D.setColor(Color.GRAY);\n            g2D.fill(hitbox);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23595731,"reputation":13,"user_id":17632853,"display_name":"bananass4life"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70286101,"answer_count":1,"score":-1,"last_activity_date":1639034919,"creation_date":1639031496,"question_id":70285593,"body_markdown":"These are all of my classes, I&#39;m trying to make a platformer game with an array list to hold my platforms, this is so I can add more platforms any time and anywhere. For some reason, it&#39;s not drawing the platforms.\r\n\r\nCan someone please help me with this issue or give me an alternative?\r\n\r\nNOTE: some of the variables and methods I either haven&#39;t used yet or forgot to delete when i was re-creating my code.\r\n   package Game;\r\n    \r\n    import Game.Frame;\r\n    \r\n    public class Main {\r\n            public static void main(String[] args) {\r\n                new Frame();\r\n            }\r\n    }\r\n\r\n        package Game;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Frame extends JFrame {\r\n        GamePanel panel;\r\n        public Frame() {\r\n            panel = new GamePanel();\r\n            this.add(panel);\r\n            this.setTitle(&quot;Platformer Game&quot;);\r\n            this.setResizable(false);\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.pack();\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n        }\r\n    }\r\n    package Game;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n    import java.util.Timer;\r\n    \r\n    public class GamePanel extends JPanel implements ActionListener{\r\n            Player player1;\r\n            Map map1;\r\n            final int SCREEN_WIDTH = 1000;\r\n            final int SCREEN_HEIGHT = 600;\r\n            final int PLAYER_WIDTH = 50;\r\n            final int PLAYER_HEIGHT = 60;\r\n            final Dimension SCREEN_SIZE = new Dimension(SCREEN_WIDTH,SCREEN_HEIGHT);\r\n            boolean falling = false;\r\n            boolean playing = true;\r\n            Image backgroundImage;\r\n            Thread gameThread;\r\n            Image image;\r\n            Graphics graphics;\r\n            Timer gameTimer;\r\n            ArrayList&lt;Map&gt; platform = new ArrayList&lt;&gt;();\r\n    \r\n            public GamePanel() {\r\n                java.net.URL imgIcon = Main.class.getResource(\r\n                        &quot;/Resources/spaceImage.jpg&quot;);\r\n                backgroundImage = new ImageIcon(imgIcon).getImage();\r\n                newPlayer();\r\n                newMap();\r\n    \r\n                this.setFocusable(true);\r\n                this.setPreferredSize(SCREEN_SIZE);\r\n                this.setOpaque(true);\r\n                this.addKeyListener(new KeyListener(\r\n    \r\n                ) {\r\n                    @Override\r\n                    public void keyTyped(KeyEvent e) {}\r\n    \r\n                    @Override\r\n                    public void keyPressed(KeyEvent e) {\r\n                        KeyPressed(e);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void keyReleased(KeyEvent e) {\r\n                        KeyReleased(e);\r\n                    }\r\n                });\r\n                gameTimer = new Timer();\r\n                gameTimer.schedule(new TimerTask(){\r\n    \r\n                    @Override\r\n                    public void run() {\r\n                        player1.move();\r\n                        repaint();\r\n                    }\r\n                }, 0 , 17);\r\n            }\r\n    \r\n            public void paint(Graphics g) {\r\n                image = createImage(getWidth(),getHeight());\r\n                graphics = image.getGraphics();\r\n                draw(graphics);\r\n                g.drawImage(image, 0,0, null);\r\n    \r\n            }\r\n            public void draw(Graphics g) {\r\n                Graphics2D g2D = (Graphics2D) g;\r\n                g2D.drawImage(backgroundImage, 0,0, null);\r\n                player1.paint(g);\r\n                for(Map map1: platform) {\r\n                    map1.paint(g2D);\r\n                }\r\n            }\r\n            public void KeyPressed(KeyEvent e) {\r\n                if(e.getKeyChar()==&#39;a&#39;) {\r\n                    player1.keyLeft = true;\r\n                }\r\n                if(e.getKeyChar()==&#39;d&#39;) player1.keyRight = true;\r\n                if(e.getKeyChar()==&#39;s&#39;) player1.keyDown = true;\r\n                if(e.getKeyChar()==&#39;w&#39;) player1.keyUp = true;\r\n            }\r\n    \r\n    \r\n            public void KeyReleased(KeyEvent e) {\r\n                if(e.getKeyChar()==&#39;a&#39;) player1.keyLeft = false;\r\n                if(e.getKeyChar()==&#39;d&#39;) player1.keyRight = false;\r\n                if(e.getKeyChar()==&#39;s&#39;) player1.keyDown = false;\r\n                if(e.getKeyChar()==&#39;w&#39;) player1.keyUp = false;\r\n            }\r\n    \r\n            public void newPlayer() {\r\n                player1 = new Player((SCREEN_WIDTH/2)-(PLAYER_WIDTH/2), (SCREEN_HEIGHT/2)-(PLAYER_WIDTH/2), PLAYER_WIDTH, PLAYER_HEIGHT, this);\r\n            }\r\n    \r\n            public void newMap() {\r\n                for(int i=50;i&lt;650;i+=50){\r\n                    platform.add(new Map(i,600,50,50));\r\n                }\r\n            }\r\n    \r\n    \r\n            public void gameOver() {\r\n    \r\n            }\r\n    \r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n    \r\n        }\r\n    }\r\n\r\n\r\n    package Game;\r\n    \r\n    import Game.GamePanel;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    public class Player extends Rectangle{\r\n        double velocityY = 0;\r\n        double velocityX = 0;\r\n        final int PLAYER_WIDTH = 50;\r\n        final int PLAYER_HEIGHT = 50;\r\n        static int speed = 2;\r\n        GamePanel panel;\r\n        boolean keyRight = false;\r\n        boolean keyLeft = false;\r\n        boolean keyUp = false;\r\n        boolean keyDown = false;\r\n        Rectangle hitbox;\r\n    \r\n        public Player(int x, int y, int PLAYERWIDTH, int PLAYERHEIGHT, GamePanel panel) {\r\n            super(x,y,PLAYERWIDTH,PLAYERHEIGHT);\r\n            this.panel = panel;\r\n    \r\n            hitbox = new Rectangle();\r\n        }\r\n    \r\n    \r\n    \r\n        public void paint(Graphics g) {\r\n            Graphics2D g2D = (Graphics2D) g;\r\n            g2D.setColor(Color.red);\r\n            g2D.fillRect(x, y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n        }\r\n    \r\n        public void move() {\r\n            if(keyLeft &amp;&amp; keyRight || !keyLeft &amp;&amp; !keyRight) {\r\n                velocityX *= 0.8;\r\n            }\r\n            if(keyLeft &amp;&amp; !keyRight) {\r\n                velocityX--;\r\n            }\r\n            if(keyRight &amp;&amp; !keyLeft) {\r\n                velocityX++;\r\n            }\r\n            if(velocityX &gt; 0 &amp;&amp; velocityX &lt; 0.75) velocityX = 0;\r\n            if(velocityX &lt; 0 &amp;&amp; velocityX &gt; -0.75) velocityX = 0;\r\n    \r\n            if(velocityX &gt; 7) velocityX = 7;\r\n            if(velocityX &lt; -7) velocityX = -7;\r\n    \r\n            if(keyUp) {\r\n                velocityY = -6;\r\n            }\r\n            velocityY += 0.3;\r\n    \r\n    \r\n            y += velocityY;\r\n            x += velocityX;\r\n    \r\n            hitbox.x = x;\r\n            hitbox.y = y;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    package Game;\r\n    \r\n    import java.awt.*;\r\n    \r\n    public class Map {\r\n        int PLATFORM_WIDTH = 600;\r\n        int PLATFORM_HEIGHT = 150;\r\n        int x;\r\n        int y;\r\n        Rectangle hitbox;\r\n        public Map(int x, int y, int PLATFORM_WIDTH, int PLATFORM_HEIGHT) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.PLATFORM_WIDTH = PLATFORM_WIDTH;\r\n            this.PLATFORM_HEIGHT = PLATFORM_HEIGHT;\r\n    \r\n            hitbox = new Rectangle(x,y,PLATFORM_WIDTH, PLATFORM_HEIGHT);\r\n        }\r\n    \r\n        public void paint(Graphics g) {\r\n            Graphics2D g2D = (Graphics2D) g;\r\n            g2D.setColor(Color.gray);\r\n            g2D.fillRect(x,y,PLATFORM_WIDTH,PLATFORM_HEIGHT);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Why doesn&#39;t my Platform draw When using for loops (to access multiple platforms) with array lists","body":"<p>These are all of my classes, I'm trying to make a platformer game with an array list to hold my platforms, this is so I can add more platforms any time and anywhere. For some reason, it's not drawing the platforms.</p>\n<p>Can someone please help me with this issue or give me an alternative?</p>\n<p>NOTE: some of the variables and methods I either haven't used yet or forgot to delete when i was re-creating my code.\npackage Game;</p>\n<pre><code>import Game.Frame;\n\npublic class Main {\n        public static void main(String[] args) {\n            new Frame();\n        }\n}\n\n    package Game;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Frame extends JFrame {\n    GamePanel panel;\n    public Frame() {\n        panel = new GamePanel();\n        this.add(panel);\n        this.setTitle(&quot;Platformer Game&quot;);\n        this.setResizable(false);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n}\npackage Game;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport java.util.Timer;\n\npublic class GamePanel extends JPanel implements ActionListener{\n        Player player1;\n        Map map1;\n        final int SCREEN_WIDTH = 1000;\n        final int SCREEN_HEIGHT = 600;\n        final int PLAYER_WIDTH = 50;\n        final int PLAYER_HEIGHT = 60;\n        final Dimension SCREEN_SIZE = new Dimension(SCREEN_WIDTH,SCREEN_HEIGHT);\n        boolean falling = false;\n        boolean playing = true;\n        Image backgroundImage;\n        Thread gameThread;\n        Image image;\n        Graphics graphics;\n        Timer gameTimer;\n        ArrayList&lt;Map&gt; platform = new ArrayList&lt;&gt;();\n\n        public GamePanel() {\n            java.net.URL imgIcon = Main.class.getResource(\n                    &quot;/Resources/spaceImage.jpg&quot;);\n            backgroundImage = new ImageIcon(imgIcon).getImage();\n            newPlayer();\n            newMap();\n\n            this.setFocusable(true);\n            this.setPreferredSize(SCREEN_SIZE);\n            this.setOpaque(true);\n            this.addKeyListener(new KeyListener(\n\n            ) {\n                @Override\n                public void keyTyped(KeyEvent e) {}\n\n                @Override\n                public void keyPressed(KeyEvent e) {\n                    KeyPressed(e);\n                }\n\n                @Override\n                public void keyReleased(KeyEvent e) {\n                    KeyReleased(e);\n                }\n            });\n            gameTimer = new Timer();\n            gameTimer.schedule(new TimerTask(){\n\n                @Override\n                public void run() {\n                    player1.move();\n                    repaint();\n                }\n            }, 0 , 17);\n        }\n\n        public void paint(Graphics g) {\n            image = createImage(getWidth(),getHeight());\n            graphics = image.getGraphics();\n            draw(graphics);\n            g.drawImage(image, 0,0, null);\n\n        }\n        public void draw(Graphics g) {\n            Graphics2D g2D = (Graphics2D) g;\n            g2D.drawImage(backgroundImage, 0,0, null);\n            player1.paint(g);\n            for(Map map1: platform) {\n                map1.paint(g2D);\n            }\n        }\n        public void KeyPressed(KeyEvent e) {\n            if(e.getKeyChar()=='a') {\n                player1.keyLeft = true;\n            }\n            if(e.getKeyChar()=='d') player1.keyRight = true;\n            if(e.getKeyChar()=='s') player1.keyDown = true;\n            if(e.getKeyChar()=='w') player1.keyUp = true;\n        }\n\n\n        public void KeyReleased(KeyEvent e) {\n            if(e.getKeyChar()=='a') player1.keyLeft = false;\n            if(e.getKeyChar()=='d') player1.keyRight = false;\n            if(e.getKeyChar()=='s') player1.keyDown = false;\n            if(e.getKeyChar()=='w') player1.keyUp = false;\n        }\n\n        public void newPlayer() {\n            player1 = new Player((SCREEN_WIDTH/2)-(PLAYER_WIDTH/2), (SCREEN_HEIGHT/2)-(PLAYER_WIDTH/2), PLAYER_WIDTH, PLAYER_HEIGHT, this);\n        }\n\n        public void newMap() {\n            for(int i=50;i&lt;650;i+=50){\n                platform.add(new Map(i,600,50,50));\n            }\n        }\n\n\n        public void gameOver() {\n\n        }\n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n}\n\n\npackage Game;\n\nimport Game.GamePanel;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\n\npublic class Player extends Rectangle{\n    double velocityY = 0;\n    double velocityX = 0;\n    final int PLAYER_WIDTH = 50;\n    final int PLAYER_HEIGHT = 50;\n    static int speed = 2;\n    GamePanel panel;\n    boolean keyRight = false;\n    boolean keyLeft = false;\n    boolean keyUp = false;\n    boolean keyDown = false;\n    Rectangle hitbox;\n\n    public Player(int x, int y, int PLAYERWIDTH, int PLAYERHEIGHT, GamePanel panel) {\n        super(x,y,PLAYERWIDTH,PLAYERHEIGHT);\n        this.panel = panel;\n\n        hitbox = new Rectangle();\n    }\n\n\n\n    public void paint(Graphics g) {\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.red);\n        g2D.fillRect(x, y, PLAYER_WIDTH, PLAYER_HEIGHT);\n    }\n\n    public void move() {\n        if(keyLeft &amp;&amp; keyRight || !keyLeft &amp;&amp; !keyRight) {\n            velocityX *= 0.8;\n        }\n        if(keyLeft &amp;&amp; !keyRight) {\n            velocityX--;\n        }\n        if(keyRight &amp;&amp; !keyLeft) {\n            velocityX++;\n        }\n        if(velocityX &gt; 0 &amp;&amp; velocityX &lt; 0.75) velocityX = 0;\n        if(velocityX &lt; 0 &amp;&amp; velocityX &gt; -0.75) velocityX = 0;\n\n        if(velocityX &gt; 7) velocityX = 7;\n        if(velocityX &lt; -7) velocityX = -7;\n\n        if(keyUp) {\n            velocityY = -6;\n        }\n        velocityY += 0.3;\n\n\n        y += velocityY;\n        x += velocityX;\n\n        hitbox.x = x;\n        hitbox.y = y;\n    }\n\n}\n\n\npackage Game;\n\nimport java.awt.*;\n\npublic class Map {\n    int PLATFORM_WIDTH = 600;\n    int PLATFORM_HEIGHT = 150;\n    int x;\n    int y;\n    Rectangle hitbox;\n    public Map(int x, int y, int PLATFORM_WIDTH, int PLATFORM_HEIGHT) {\n        this.x = x;\n        this.y = y;\n        this.PLATFORM_WIDTH = PLATFORM_WIDTH;\n        this.PLATFORM_HEIGHT = PLATFORM_HEIGHT;\n\n        hitbox = new Rectangle(x,y,PLATFORM_WIDTH, PLATFORM_HEIGHT);\n    }\n\n    public void paint(Graphics g) {\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.gray);\n        g2D.fillRect(x,y,PLATFORM_WIDTH,PLATFORM_HEIGHT);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":6011145,"reputation":191,"user_id":4790411,"accept_rate":100,"display_name":"mukut bhattacharjee"},"score":0,"creation_date":1639024214,"post_id":70284674,"comment_id":124244293,"body_markdown":"But why? What is the motive? You can very well use `Foo.builder().bar1(0.0).bar2(0.0).build();`","body":"But why? What is the motive? You can very well use <code>Foo.builder().bar1(0.0).bar2(0.0).build();</code>"},{"owner":{"account_id":10907180,"reputation":41,"user_id":8017571,"display_name":"Jason"},"score":0,"creation_date":1639024501,"post_id":70284674,"comment_id":124244349,"body_markdown":"I have an existing class Foo with only bar1. I wanted to add the bar2 field without changing all the uses of Foo and adding the additional bar2, since it&#39;d be the same value.","body":"I have an existing class Foo with only bar1. I wanted to add the bar2 field without changing all the uses of Foo and adding the additional bar2, since it&#39;d be the same value."},{"owner":{"account_id":365723,"reputation":1537,"user_id":710817,"accept_rate":67,"display_name":"whoami"},"score":0,"creation_date":1639034845,"post_id":70284674,"comment_id":124246448,"body_markdown":"@Jason can you inherit the Foo class and do it?","body":"@Jason can you inherit the Foo class and do it?"}],"answers":[{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639024308,"creation_date":1639024308,"answer_id":70284747,"question_id":70284674,"body_markdown":"Nice thought, but lombok `@builder` does not support that. You have to assign values individually. You can see your compiled class which will make you clear what code lombok generates after compilation.\r\n\r\nHowever, if you really want to initialize two fields at once, you would need to implement your own builder pattern.","title":"Initialize two fields at once with Lombok builder","body":"<p>Nice thought, but lombok <code>@builder</code> does not support that. You have to assign values individually. You can see your compiled class which will make you clear what code lombok generates after compilation.</p>\n<p>However, if you really want to initialize two fields at once, you would need to implement your own builder pattern.</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639034753,"creation_date":1639034444,"answer_id":70286024,"question_id":70284674,"body_markdown":"You can manually implement the setter method in the builder class such that it sets both fields:\r\n```\r\n@Builder\r\npublic class Foo {\r\n   @NonNull\r\n   private final double bar1;\r\n\r\n   @NonNull\r\n   private final double bar2;\r\n\r\n   public static class FooBuilder {\r\n       public FooBuilder bar1(double bar1) {\r\n           this.bar1 = this.bar2 = bar1;\r\n           return this;\r\n       }\r\n   }\r\n}\r\n```\r\n\r\nThe rest of the builder code will still be generated by Lombok. You&#39;ll just have to write those methods you want to replace.\r\n\r\nHowever, I&#39;m not sure if this is worth it: `Foo.builder().bar1(1).bar2(2).build()` will have a different result than `Foo.builder().bar2(2).bar1(1).build()`. This could introduce bugs that are very difficult to spot. At least make sure you document it properly.","title":"Initialize two fields at once with Lombok builder","body":"<p>You can manually implement the setter method in the builder class such that it sets both fields:</p>\n<pre><code>@Builder\npublic class Foo {\n   @NonNull\n   private final double bar1;\n\n   @NonNull\n   private final double bar2;\n\n   public static class FooBuilder {\n       public FooBuilder bar1(double bar1) {\n           this.bar1 = this.bar2 = bar1;\n           return this;\n       }\n   }\n}\n</code></pre>\n<p>The rest of the builder code will still be generated by Lombok. You'll just have to write those methods you want to replace.</p>\n<p>However, I'm not sure if this is worth it: <code>Foo.builder().bar1(1).bar2(2).build()</code> will have a different result than <code>Foo.builder().bar2(2).bar1(1).build()</code>. This could introduce bugs that are very difficult to spot. At least make sure you document it properly.</p>\n"}],"owner":{"account_id":10907180,"reputation":41,"user_id":8017571,"display_name":"Jason"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1639034753,"creation_date":1639023619,"question_id":70284674,"body_markdown":"I&#39;m trying to populate two fields in a class by using only one field in a Lombok builder. \r\n\r\ne.g.\r\n```\r\n@Builder\r\npublic class Foo {\r\n   @NonNull\r\n   private final double bar1;\r\n\r\n   @NonNull\r\n   private final double bar2;\r\n\r\n}\r\n\r\n```\r\n\r\nI want\r\n```\r\nFoo.builder().bar1(0.0).build();\r\n```\r\nto also set bar2 to the same value as bar1. \r\n\r\nThanks ","title":"Initialize two fields at once with Lombok builder","body":"<p>I'm trying to populate two fields in a class by using only one field in a Lombok builder.</p>\n<p>e.g.</p>\n<pre><code>@Builder\npublic class Foo {\n   @NonNull\n   private final double bar1;\n\n   @NonNull\n   private final double bar2;\n\n}\n\n</code></pre>\n<p>I want</p>\n<pre><code>Foo.builder().bar1(0.0).build();\n</code></pre>\n<p>to also set bar2 to the same value as bar1.</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1470867301,"creation_date":1470857195,"answer_id":38881941,"question_id":38881434,"body_markdown":"Suppose you have a function named `echo` which takes a string as its input and return the same string as part of the output:\r\n\r\n    CREATE FUNCTION echo(to_be_echoed TEXT) RETURNS TEXT;\r\n\r\nThen if you want to call this function from your repository, you can use a *Native Query* with the following SQL:\r\n\r\n    SELECT function_name(arguments)\r\n\r\nHence, your repository method would be like:\r\n\r\n    @Query(value = &quot;SELECT echo(?1)&quot;, nativeQuery = true)\r\n    String echo(String toBeEchoed);","title":"How to call MySQL function from Spring Data repositories","body":"<p>Suppose you have a function named <code>echo</code> which takes a string as its input and return the same string as part of the output:</p>\n\n<pre><code>CREATE FUNCTION echo(to_be_echoed TEXT) RETURNS TEXT;\n</code></pre>\n\n<p>Then if you want to call this function from your repository, you can use a <em>Native Query</em> with the following SQL:</p>\n\n<pre><code>SELECT function_name(arguments)\n</code></pre>\n\n<p>Hence, your repository method would be like:</p>\n\n<pre><code>@Query(value = \"SELECT echo(?1)\", nativeQuery = true)\nString echo(String toBeEchoed);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639034731,"creation_date":1639034731,"answer_id":70286072,"question_id":38881434,"body_markdown":"If you use Spring Data, you can use one of these functions:\r\n\r\n    @Procedure(&quot;prosedure_name&quot;)\r\n    void prosedureName();\r\nor\r\n\r\n    @Procedure(value = &quot;prosedure_name&quot;)\r\n    void prosedureName();\r\n\r\nor\r\n\r\n    @Procedure(procedureName = &quot;prosedure_name&quot;)\r\n    void prosedureName();\r\n\r\nor\r\n\r\n    @Procedure\r\n    void prosedure_name();\r\n\r\n\r\n","title":"How to call MySQL function from Spring Data repositories","body":"<p>If you use Spring Data, you can use one of these functions:</p>\n<pre><code>@Procedure(&quot;prosedure_name&quot;)\nvoid prosedureName();\n</code></pre>\n<p>or</p>\n<pre><code>@Procedure(value = &quot;prosedure_name&quot;)\nvoid prosedureName();\n</code></pre>\n<p>or</p>\n<pre><code>@Procedure(procedureName = &quot;prosedure_name&quot;)\nvoid prosedureName();\n</code></pre>\n<p>or</p>\n<pre><code>@Procedure\nvoid prosedure_name();\n</code></pre>\n"}],"owner":{"account_id":2332584,"reputation":173,"user_id":2045593,"accept_rate":71,"display_name":"Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38881941,"answer_count":2,"score":2,"last_activity_date":1639034731,"creation_date":1470855345,"question_id":38881434,"body_markdown":"I need to call MySQL `funtion()` from a `org.springframework.data.repository` which will return a `String`.\r\n\r\nI am able to execute query using `@Query` annotation on top of my interface method declaration, but i have no idea to call a function.","title":"How to call MySQL function from Spring Data repositories","body":"<p>I need to call MySQL <code>funtion()</code> from a <code>org.springframework.data.repository</code> which will return a <code>String</code>.</p>\n\n<p>I am able to execute query using <code>@Query</code> annotation on top of my interface method declaration, but i have no idea to call a function.</p>\n"},{"tags":["java","xssf","nosuchfieldexception"],"comments":[{"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"score":0,"creation_date":1464968639,"post_id":37618369,"comment_id":62719681,"body_markdown":"Are you sure that the Excel file is in good shape? Looks like it might be corrupted.","body":"Are you sure that the Excel file is in good shape? Looks like it might be corrupted."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1577635223,"post_id":37618369,"comment_id":105212862,"body_markdown":"This `NoSuchFieldError` stems mostly from a __version mismatch__ between [apache-poi dependencies](http://apache-poi.1045710.n5.nabble.com/java-lang-NoSuchFieldError-RAW-XML-FILE-HEADER-td5723977.html)","body":"This <code>NoSuchFieldError</code> stems mostly from a <b>version mismatch</b> between <a href=\"http://apache-poi.1045710.n5.nabble.com/java-lang-NoSuchFieldError-RAW-XML-FILE-HEADER-td5723977.html\" rel=\"nofollow noreferrer\">apache-poi dependencies</a>"}],"answers":[{"tags":[],"owner":{"account_id":8568478,"reputation":315,"user_id":6420246,"accept_rate":50,"display_name":"William Tolliver"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1577647938,"creation_date":1464970430,"answer_id":37619083,"question_id":37618369,"body_markdown":"After looking around a bit. I browsed the [documentation for APACHE POI][1], and saw that this was one of the constants (not that i know what that really means).\n\r\nBut eventually, I realized all the tutorials I used were pre-2014.\n\nSo I just changed my Maven POM to version 3.11 for both dependencies of `apache-poi`, and `poi-ooxml`.\n\r\nIts working now.\n\n\n  [1]: https://poi.apache.org/apidocs/dev/org/apache/poi/poifs/common/POIFSConstants.html#RAW_XML_FILE_HEADER","title":"NoSuchFieldError when reading Excel sheet in java","body":"<p>After looking around a bit. I browsed the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/poifs/common/POIFSConstants.html#RAW_XML_FILE_HEADER\" rel=\"noreferrer\">documentation for APACHE POI</a>, and saw that this was one of the constants (not that i know what that really means).</p>\n\n<p>But eventually, I realized all the tutorials I used were pre-2014.</p>\n\n<p>So I just changed my Maven POM to version 3.11 for both dependencies of <code>apache-poi</code>, and <code>poi-ooxml</code>.</p>\n\n<p>Its working now.</p>\n"},{"tags":[],"owner":{"account_id":10505937,"reputation":9,"user_id":7743100,"display_name":"Murali"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490064170,"creation_date":1490064170,"answer_id":42917499,"question_id":37618369,"body_markdown":"I got the same error, try changing the XSSFWorkbook diclaration to HSSFWorkbook. It worked for me. ","title":"NoSuchFieldError when reading Excel sheet in java","body":"<p>I got the same error, try changing the XSSFWorkbook diclaration to HSSFWorkbook. It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":10204799,"reputation":153,"user_id":7533855,"display_name":"Kannan Msk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577644341,"creation_date":1510057618,"answer_id":47157995,"question_id":37618369,"body_markdown":"I got same error with different constant:\r\n\r\n&gt; Exception in thread &quot;main&quot; `java.lang.NoSuchFieldError`: **RETURN_NULL_AND_BLANK**\r\n\r\nGoogled lot but no answer. I was using apache `poi-ooxml` version 3.11. Later I changed to version 3.17. Then it was working fine.\r\n\r\nHope this might helpful someone.","title":"NoSuchFieldError when reading Excel sheet in java","body":"<p>I got same error with different constant:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" <code>java.lang.NoSuchFieldError</code>: <strong>RETURN_NULL_AND_BLANK</strong></p>\n</blockquote>\n\n<p>Googled lot but no answer. I was using apache <code>poi-ooxml</code> version 3.11. Later I changed to version 3.17. Then it was working fine.</p>\n\n<p>Hope this might helpful someone.</p>\n"},{"tags":[],"owner":{"account_id":15910011,"reputation":1,"user_id":11480192,"display_name":"Tanay Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559203817,"creation_date":1559203817,"answer_id":56374222,"question_id":37618369,"body_markdown":"For the following error &quot;java.lang.NoSuchFieldError: RETURN_NULL_AND_BLANK&quot;\r\n\r\nPlease perform following task: upgrade the APACHE POI 3.** to the latest version in my case i have done the following thing i was previously using the apache poi 3.09 later i have upgraded the lib to latest version i.e 3.12 and its work !!\r\n\r\nPerform the following steps and your code will but make sure the error should be same.","title":"NoSuchFieldError when reading Excel sheet in java","body":"<p>For the following error \"java.lang.NoSuchFieldError: RETURN_NULL_AND_BLANK\"</p>\n\n<p>Please perform following task: upgrade the APACHE POI 3.** to the latest version in my case i have done the following thing i was previously using the apache poi 3.09 later i have upgraded the lib to latest version i.e 3.12 and its work !!</p>\n\n<p>Perform the following steps and your code will but make sure the error should be same.</p>\n"},{"tags":[],"owner":{"account_id":2411246,"reputation":4423,"user_id":2106260,"accept_rate":25,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639034535,"creation_date":1639034535,"answer_id":70286041,"question_id":37618369,"body_markdown":"In case if anyone working with the latest Apache POI library, make sure you add these dependencies and it works absolutely fine.\r\n\r\n     &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- log4j is optional--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nJava Snippet:\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.util.Iterator;\r\n    \r\n    public class Demo1 {\r\n    \r\n        private static final Logger logger = LogManager.getLogger(Demo1.class);\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                File file = new File(&quot;File location&quot;);\r\n                FileInputStream fis = new FileInputStream(file);\r\n    \r\n                XSSFWorkbook wb = new XSSFWorkbook(fis);\r\n                XSSFSheet sheet = wb.getSheetAt(0);\r\n    \r\n                Iterator&lt;Row&gt; itr = sheet.iterator();\r\n                logger.info(&quot;The given file is&quot;);\r\n                while (itr.hasNext()) {\r\n                    Row row = itr.next();\r\n                    Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n    \r\n                    while (cellIterator.hasNext()) {\r\n                        Cell cell = cellIterator.next();\r\n                        switch (cell.getCellType()) {\r\n                            case STRING:\r\n                                logger.info(cell.getStringCellValue());\r\n                                break;\r\n                            case NUMERIC:\r\n                                logger.info(cell.getNumericCellValue());\r\n                                break;\r\n                            default:\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"NoSuchFieldError when reading Excel sheet in java","body":"<p>In case if anyone working with the latest Apache POI library, make sure you add these dependencies and it works absolutely fine.</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- log4j is optional--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Java Snippet:</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Iterator;\n\npublic class Demo1 {\n\n    private static final Logger logger = LogManager.getLogger(Demo1.class);\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;File location&quot;);\n            FileInputStream fis = new FileInputStream(file);\n\n            XSSFWorkbook wb = new XSSFWorkbook(fis);\n            XSSFSheet sheet = wb.getSheetAt(0);\n\n            Iterator&lt;Row&gt; itr = sheet.iterator();\n            logger.info(&quot;The given file is&quot;);\n            while (itr.hasNext()) {\n                Row row = itr.next();\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n                while (cellIterator.hasNext()) {\n                    Cell cell = cellIterator.next();\n                    switch (cell.getCellType()) {\n                        case STRING:\n                            logger.info(cell.getStringCellValue());\n                            break;\n                        case NUMERIC:\n                            logger.info(cell.getNumericCellValue());\n                            break;\n                        default:\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8568478,"reputation":315,"user_id":6420246,"accept_rate":50,"display_name":"William Tolliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35344,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37619083,"answer_count":5,"score":8,"last_activity_date":1639034535,"creation_date":1464968093,"question_id":37618369,"body_markdown":"I&#39;ve followed a simple guide to constructing a workbook using Apache POI XSSF. Following the same guide I was able to WRITE an Excel sheet, however when attempting to read from one, I&#39;m receiving the error displayed after the code.\r\n\r\nCode:\r\n\r\n    try {\r\n\t    FileInputStream file = new FileInputStream(new File(&quot;howtodoinjava_demo.xlsx&quot;));\r\n\r\n\t\t// Create Workbook instance holding reference to .xlsx file\r\n\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\r\n\t\t// Get first/desired sheet from the workbook\r\n\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n\t\t// Iterate through each rows one by one\r\n\t\tIterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\t\twhile (rowIterator.hasNext()) {\r\n\t\t\tRow row = rowIterator.next();\r\n\t\t\t// For each row, iterate through all the columns\r\n\t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n\r\n\t\t\twhile (cellIterator.hasNext()) {\r\n\t\t\t\tCell cell = cellIterator.next();\r\n\t\t\t\t// Check the cell type and format accordingly\r\n\t\t\t\tswitch (cell.getCellType()) {\r\n\t\t\t\tcase Cell.CELL_TYPE_NUMERIC:\r\n\t\t\t\t\tSystem.out.print(cell.getNumericCellValue() + &quot;t&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Cell.CELL_TYPE_STRING:\r\n\t\t\t\t\tSystem.out.print(cell.getStringCellValue() + &quot;t&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t\tfile.close();\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\nError output:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoSuchFieldError:\r\n&gt; RAW_XML_FILE_HEADER \tat\r\n&gt; org.apache.poi.openxml4j.opc.internal.ZipHelper.verifyZipHeader(ZipHelper.java:179)\r\n&gt; \tat\r\n&gt; org.apache.poi.openxml4j.opc.internal.ZipHelper.openZipStream(ZipHelper.java:228)\r\n&gt; \tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:93)\r\n&gt; \tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:294)\r\n&gt; \tat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37) \tat\r\n&gt; org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:273)\r\n&gt; \tat com.wtolliver.spring.test.ReadExcel.readExcel(ReadExcel.java:18)\r\n&gt; \tat com.wtolliver.spring.test.App.main(App.java:17)","title":"NoSuchFieldError when reading Excel sheet in java","body":"<p>I've followed a simple guide to constructing a workbook using Apache POI XSSF. Following the same guide I was able to WRITE an Excel sheet, however when attempting to read from one, I'm receiving the error displayed after the code.</p>\n\n<p>Code:</p>\n\n<pre><code>try {\n    FileInputStream file = new FileInputStream(new File(\"howtodoinjava_demo.xlsx\"));\n\n    // Create Workbook instance holding reference to .xlsx file\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n\n    // Get first/desired sheet from the workbook\n    XSSFSheet sheet = workbook.getSheetAt(0);\n\n    // Iterate through each rows one by one\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n    while (rowIterator.hasNext()) {\n        Row row = rowIterator.next();\n        // For each row, iterate through all the columns\n        Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n        while (cellIterator.hasNext()) {\n            Cell cell = cellIterator.next();\n            // Check the cell type and format accordingly\n            switch (cell.getCellType()) {\n            case Cell.CELL_TYPE_NUMERIC:\n                System.out.print(cell.getNumericCellValue() + \"t\");\n                break;\n            case Cell.CELL_TYPE_STRING:\n                System.out.print(cell.getStringCellValue() + \"t\");\n                break;\n            }\n        }\n        System.out.println(\"\");\n    }\n    file.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Error output:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NoSuchFieldError:\n  RAW_XML_FILE_HEADER   at\n  org.apache.poi.openxml4j.opc.internal.ZipHelper.verifyZipHeader(ZipHelper.java:179)\n    at\n  org.apache.poi.openxml4j.opc.internal.ZipHelper.openZipStream(ZipHelper.java:228)\n    at org.apache.poi.openxml4j.opc.ZipPackage.(ZipPackage.java:93)\n    at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:294)\n    at org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)    at\n  org.apache.poi.xssf.usermodel.XSSFWorkbook.(XSSFWorkbook.java:273)\n    at com.wtolliver.spring.test.ReadExcel.readExcel(ReadExcel.java:18)\n    at com.wtolliver.spring.test.App.main(App.java:17)</p>\n</blockquote>\n"},{"tags":["java","string","loops"],"comments":[{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":0,"creation_date":1639024022,"post_id":70284523,"comment_id":124244263,"body_markdown":"&quot;won&#39;t step through the new loop&quot;... do you mean when you press enter more than once?","body":"&quot;won&#39;t step through the new loop&quot;... do you mean when you press enter more than once?"},{"owner":{"account_id":13119387,"reputation":27,"user_id":9477371,"display_name":"cookielover1120"},"score":0,"creation_date":1639024330,"post_id":70284523,"comment_id":124244306,"body_markdown":"Meaning it only loops for duplicates once. It does not keeping going until no more duplicates exist.","body":"Meaning it only loops for duplicates once. It does not keeping going until no more duplicates exist."},{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":1,"creation_date":1639024451,"post_id":70284523,"comment_id":124244339,"body_markdown":"What do you consider a duplicate? You want to be left with all distinct letters or you want to collapse sequences of the same letters? E.g. &quot;AABBCCABC&quot; do you want &quot;ABC&quot; or &quot;ABCABC&quot;?","body":"What do you consider a duplicate? You want to be left with all distinct letters or you want to collapse sequences of the same letters? E.g. &quot;AABBCCABC&quot; do you want &quot;ABC&quot; or &quot;ABCABC&quot;?"},{"owner":{"account_id":13119387,"reputation":27,"user_id":9477371,"display_name":"cookielover1120"},"score":0,"creation_date":1639025289,"post_id":70284523,"comment_id":124244471,"body_markdown":"XYYYXAC would then become XXAC which then becomes AC, so the first example you listed.","body":"XYYYXAC would then become XXAC which then becomes AC, so the first example you listed."},{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":0,"creation_date":1639025963,"post_id":70284523,"comment_id":124244586,"body_markdown":"So you actually want to remove all occurrences that appear more than once entirely and not just the duplicate appearances (while preserving one instance).","body":"So you actually want to remove all occurrences that appear more than once entirely and not just the duplicate appearances (while preserving one instance)."},{"owner":{"account_id":13119387,"reputation":27,"user_id":9477371,"display_name":"cookielover1120"},"score":0,"creation_date":1639026136,"post_id":70284523,"comment_id":124244619,"body_markdown":"Yea thats exactly right","body":"Yea thats exactly right"},{"owner":{"account_id":9037419,"reputation":313,"user_id":6732801,"display_name":"Hepson"},"score":0,"creation_date":1639027885,"post_id":70284523,"comment_id":124244888,"body_markdown":"`XYYYXACX` will lead to `ACX` or `AC`?","body":"<code>XYYYXACX</code> will lead to <code>ACX</code> or <code>AC</code>?"}],"answers":[{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639023084,"creation_date":1639023084,"answer_id":70284618,"question_id":70284523,"body_markdown":"Instead of using complex algorithms and loops like this you can just use `HashSet` which will work just like a list but it won&#39;t allow any duplicate elements. \r\n\r\n    private static String removeDuplicateWords(String str) {\r\n    \r\n            HashSet&lt;Character&gt; xChars = new LinkedHashSet&lt;&gt;();\r\n            for(char c: str.toCharArray()) {\r\n                xChars.add(c);\r\n            }\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n            for (char c: xChars) {\r\n                sb.append(c);\r\n            }\r\n    \r\n            return sb.toString();\r\n        }","title":"Fixing a looping issue for removing letters in a String","body":"<p>Instead of using complex algorithms and loops like this you can just use <code>HashSet</code> which will work just like a list but it won't allow any duplicate elements.</p>\n<pre><code>private static String removeDuplicateWords(String str) {\n\n        HashSet&lt;Character&gt; xChars = new LinkedHashSet&lt;&gt;();\n        for(char c: str.toCharArray()) {\n            xChars.add(c);\n        }\n\n        StringBuilder sb = new StringBuilder();\n        for (char c: xChars) {\n            sb.append(c);\n        }\n\n        return sb.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639027875,"creation_date":1639023859,"answer_id":70284698,"question_id":70284523,"body_markdown":"So you actually want to remove all occurrences that appear more than once entirely and not just the duplicate appearances (while preserving one instance)?\r\n\r\n&gt; &quot;Yea thats exactly right &quot;\r\n\r\nIn that case your idea won&#39;t cut it because your duplicate letter detection can only detect continuous sequences of duplicates. A very simple way would be to use 2 sets in order to identify unique letters in one pass.\r\n\r\n\r\n```java\r\n\r\npublic class RemoveLettersSeenMultipleTimes {\r\n\r\n     public static void main(String []args){\r\n        String input = &quot;abcabdgag&quot;;\r\n        \r\n        Set&lt;Character&gt; lettersSeenOnce = lettersSeenOnceIn(input);\r\n        \r\n        StringBuilder output = new StringBuilder(); \r\n        \r\n        for (Character c : lettersSeenOnce) {\r\n          output.append(c);\r\n        }\r\n        \r\n        System.out.println(output);\r\n        \r\n     }\r\n     \r\n     private static Set&lt;Character&gt; lettersSeenOnceIn(String input) {\r\n        Set&lt;Character&gt; seenOnce = new LinkedHashSet&lt;&gt;();\r\n        Set&lt;Character&gt; seenMany = new HashSet&lt;&gt;();\r\n        \r\n        for (Character c : input.toCharArray()) {\r\n            if (seenOnce.contains(c)) {\r\n                seenMany.add(c);\r\n                seenOnce.remove(c);\r\n                continue;\r\n            }\r\n            \r\n            if (!seenMany.contains(c)) {\r\n                seenOnce.add(c);\r\n            }\r\n        }\r\n        \r\n        return seenOnce;\r\n     } \r\n}\r\n\r\n```","title":"Fixing a looping issue for removing letters in a String","body":"<p>So you actually want to remove all occurrences that appear more than once entirely and not just the duplicate appearances (while preserving one instance)?</p>\n<blockquote>\n<p>&quot;Yea thats exactly right &quot;</p>\n</blockquote>\n<p>In that case your idea won't cut it because your duplicate letter detection can only detect continuous sequences of duplicates. A very simple way would be to use 2 sets in order to identify unique letters in one pass.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class RemoveLettersSeenMultipleTimes {\n\n     public static void main(String []args){\n        String input = &quot;abcabdgag&quot;;\n        \n        Set&lt;Character&gt; lettersSeenOnce = lettersSeenOnceIn(input);\n        \n        StringBuilder output = new StringBuilder(); \n        \n        for (Character c : lettersSeenOnce) {\n          output.append(c);\n        }\n        \n        System.out.println(output);\n        \n     }\n     \n     private static Set&lt;Character&gt; lettersSeenOnceIn(String input) {\n        Set&lt;Character&gt; seenOnce = new LinkedHashSet&lt;&gt;();\n        Set&lt;Character&gt; seenMany = new HashSet&lt;&gt;();\n        \n        for (Character c : input.toCharArray()) {\n            if (seenOnce.contains(c)) {\n                seenMany.add(c);\n                seenOnce.remove(c);\n                continue;\n            }\n            \n            if (!seenMany.contains(c)) {\n                seenOnce.add(c);\n            }\n        }\n        \n        return seenOnce;\n     } \n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639028674,"creation_date":1639026320,"answer_id":70284957,"question_id":70284523,"body_markdown":"Say you feed the program with the input &quot;AAABBC&quot;, then the expected output should be &quot;ABC&quot;.\r\n\r\nNow in the for-loop, `i` gets incremented from 0 to 5.\r\n\r\nAfter 1st iteration:\r\n`kb` becomes AABBC and `i` becomes `5 + 0 = 5` and gets incremented to 6.\r\nAnd now the condition for the for-loop is that `i &lt; kb.length()` which equates to `6 &lt; 5` returning false. Hence the for-loop ends after just one iteration.\r\n\r\nSo the problematic line of code is `i = kb.length() + i;` and also the loop condition keeps changing as the size of `kb` changes.\r\n\r\nI would suggest using a while loop like the following example if you don&#39;t worry too much about the efficiency.\r\n\r\n```java\r\npublic static void main(String[] arg) {\r\n        String kb = &quot;XYYYXAC&quot;;\r\n        int i = 0;\r\n\r\n        while (i &lt; kb.length()) {\r\n            char temp = kb.charAt(i);\r\n            for (int j = i + 1; j &lt; kb.length(); j++) {\r\n                char dup = kb.charAt(j);\r\n                if (temp == dup) {\r\n                    kb = removeCharByIndex(kb, j);\r\n                    j--;\r\n                }\r\n            }\r\n            i++;\r\n        }\r\n        System.out.println(kb);\r\n}\r\n\r\nprivate static String removeCharByIndex(String str, int index) {\r\n        return new StringBuilder(str).deleteCharAt(index).toString();\r\n}\r\n```\r\n\r\nOutput: XYAC\r\n\r\n**EDIT**: I misunderstood your requirements. So looking at the above comments, you want all the duplicates and the target character removed. So the above code can be changed like this.\r\n\r\n```java\r\npublic static void main(String[] arg) {\r\n        String kb = &quot;XYYYXAC&quot;;\r\n        int i = 0;\r\n\r\n        while (i &lt; kb.length()) {\r\n            char temp = kb.charAt(i);\r\n            boolean hasDup = false;\r\n            for (int j = i + 1; j &lt; kb.length(); j++) {\r\n                if (temp == kb.charAt(j)) {\r\n                    hasDup = true;\r\n                    kb = removeCharByIndex(kb, j);\r\n                    j--;\r\n                }\r\n            }\r\n            if (hasDup) {\r\n                kb = removeCharByIndex(kb, i);\r\n                i--;\r\n            }\r\n                \r\n            i++;\r\n        }\r\n        System.out.println(kb);\r\n}\r\n\r\nprivate static String removeCharByIndex(String str, int index) {\r\n        return new StringBuilder(str).deleteCharAt(index).toString();\r\n}\r\n```\r\n\r\nOutput: AC\r\n\r\nAlthough, this is not the best and definitely not an efficient solution to this, I think you can get the idea of iterating the input string character by character and removing it if it has duplicates.","title":"Fixing a looping issue for removing letters in a String","body":"<p>Say you feed the program with the input &quot;AAABBC&quot;, then the expected output should be &quot;ABC&quot;.</p>\n<p>Now in the for-loop, <code>i</code> gets incremented from 0 to 5.</p>\n<p>After 1st iteration:\n<code>kb</code> becomes AABBC and <code>i</code> becomes <code>5 + 0 = 5</code> and gets incremented to 6.\nAnd now the condition for the for-loop is that <code>i &lt; kb.length()</code> which equates to <code>6 &lt; 5</code> returning false. Hence the for-loop ends after just one iteration.</p>\n<p>So the problematic line of code is <code>i = kb.length() + i;</code> and also the loop condition keeps changing as the size of <code>kb</code> changes.</p>\n<p>I would suggest using a while loop like the following example if you don't worry too much about the efficiency.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] arg) {\n        String kb = &quot;XYYYXAC&quot;;\n        int i = 0;\n\n        while (i &lt; kb.length()) {\n            char temp = kb.charAt(i);\n            for (int j = i + 1; j &lt; kb.length(); j++) {\n                char dup = kb.charAt(j);\n                if (temp == dup) {\n                    kb = removeCharByIndex(kb, j);\n                    j--;\n                }\n            }\n            i++;\n        }\n        System.out.println(kb);\n}\n\nprivate static String removeCharByIndex(String str, int index) {\n        return new StringBuilder(str).deleteCharAt(index).toString();\n}\n</code></pre>\n<p>Output: XYAC</p>\n<p><strong>EDIT</strong>: I misunderstood your requirements. So looking at the above comments, you want all the duplicates and the target character removed. So the above code can be changed like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] arg) {\n        String kb = &quot;XYYYXAC&quot;;\n        int i = 0;\n\n        while (i &lt; kb.length()) {\n            char temp = kb.charAt(i);\n            boolean hasDup = false;\n            for (int j = i + 1; j &lt; kb.length(); j++) {\n                if (temp == kb.charAt(j)) {\n                    hasDup = true;\n                    kb = removeCharByIndex(kb, j);\n                    j--;\n                }\n            }\n            if (hasDup) {\n                kb = removeCharByIndex(kb, i);\n                i--;\n            }\n                \n            i++;\n        }\n        System.out.println(kb);\n}\n\nprivate static String removeCharByIndex(String str, int index) {\n        return new StringBuilder(str).deleteCharAt(index).toString();\n}\n</code></pre>\n<p>Output: AC</p>\n<p>Although, this is not the best and definitely not an efficient solution to this, I think you can get the idea of iterating the input string character by character and removing it if it has duplicates.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639028073,"creation_date":1639027577,"answer_id":70285099,"question_id":70284523,"body_markdown":"There are a few problems here:\r\n\r\n### Problem 1\r\n\r\n    for (i = 0; i &lt; kb.length(); i++) {\r\n\r\nshould be\r\n\r\n    for (i = 0; i &lt; kb.length() - 1; i++) {\r\n\r\nBecause this\r\n\r\n    if (temp == kb.charAt(i+1))\r\n\r\nwill explode with an `ArrayIndexOutOfBoundsException` otherwise.\r\n\r\n### Problem 2\r\n\r\nDelete this line:\r\n\r\n    i = kb.length() + i;\r\n\r\nI don&#39;t understand what the intention is there, but nevertheless it must be deleted.\r\n\r\n### Problem 3\r\n\r\nRather than lots of code, there&#39;s a one-line solution:\r\n\r\n    String deduped = kb.replaceAll(&quot;[&quot; + input.replaceAll(&quot;(.)(?=.*\\\\1)|.&quot;, &quot;$1&quot;) + &quot;]&quot;, &quot;&quot;);\r\n\r\nThis works by:\r\n\r\n- finding all dupe chars via `input.replaceAll(&quot;(.)(?=.*\\\\1)|.&quot;, &quot;$1&quot;)`, which in turn works by consuming every character, *either* capturing it as group 1 if it has a dupe *or* just consuming it if a non-dupe\r\n- building a regex character class from the dupes, which is used to delete them all (replace with a blank)","title":"Fixing a looping issue for removing letters in a String","body":"<p>There are a few problems here:</p>\n<h3>Problem 1</h3>\n<pre><code>for (i = 0; i &lt; kb.length(); i++) {\n</code></pre>\n<p>should be</p>\n<pre><code>for (i = 0; i &lt; kb.length() - 1; i++) {\n</code></pre>\n<p>Because this</p>\n<pre><code>if (temp == kb.charAt(i+1))\n</code></pre>\n<p>will explode with an <code>ArrayIndexOutOfBoundsException</code> otherwise.</p>\n<h3>Problem 2</h3>\n<p>Delete this line:</p>\n<pre><code>i = kb.length() + i;\n</code></pre>\n<p>I don't understand what the intention is there, but nevertheless it must be deleted.</p>\n<h3>Problem 3</h3>\n<p>Rather than lots of code, there's a one-line solution:</p>\n<pre><code>String deduped = kb.replaceAll(&quot;[&quot; + input.replaceAll(&quot;(.)(?=.*\\\\1)|.&quot;, &quot;$1&quot;) + &quot;]&quot;, &quot;&quot;);\n</code></pre>\n<p>This works by:</p>\n<ul>\n<li>finding all dupe chars via <code>input.replaceAll(&quot;(.)(?=.*\\\\1)|.&quot;, &quot;$1&quot;)</code>, which in turn works by consuming every character, <em>either</em> capturing it as group 1 if it has a dupe <em>or</em> just consuming it if a non-dupe</li>\n<li>building a regex character class from the dupes, which is used to delete them all (replace with a blank)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9037419,"reputation":313,"user_id":6732801,"display_name":"Hepson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639034262,"creation_date":1639034262,"answer_id":70285999,"question_id":70284523,"body_markdown":"***The following answer concerns only the transformation of `XYYYXACX` to `ACX`. If we wanted to have `AC`, it&#39;s a whole different answer. The other answers already speak about it, and I&#39;ll invite you to consult the `contains` method of `String` too.***\r\n\r\nWe should consider avoiding -*most of the time*- modifying the things we iterate. Using a temporary variable could be a kind of solution. To use it, we could change our mindset. Instead of erasing the undesired letters, we can save the ones we want.\r\n\r\nTo identify the desired character, we need to test if all surrounding letters are different from the tested one. It&#39;ll be the opposite of what you did with `if(temp == kb.charAt(i+1)) {` like `if(temp != kb.charAt(i+1)) {`. But considering that the tested string will not change anymore, we will need to test the previous letter too as `if(temp != kb.charAt(i-1) &amp;&amp; temp != kb.charAt(i+1)) {`.\r\n\r\nAs previously said, once we have identified the letter, we will keep the value with a temporary variable. That will lead to replace `kb = kb.replace(&quot;&quot;+temp, &quot;&quot;);` by `buffer = buffer + temp;` if `buffer` is our temporary variable initialized with an empty string (*Aka. `String buffer = &quot;&quot;;`*). In the end, we could override our base value with the temporary one.\r\n\r\nAt this step, we will have:\r\n```java\r\npublic static void main(String[] arg) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String kb = scanner.nextLine();\r\n    String buffer = &quot;&quot;;\r\n    int i;\r\n    for (i = 1; i &lt; kb.length(); i++) {\r\n        char temp = kb.charAt(i);\r\n        if(temp != kb.charAt(i-1) &amp;&amp; temp != kb.charAt(i+1)) {\r\n            buffer = buffer + temp;\r\n        }\r\n    }\r\n    kb = buffer;\r\n    System.out.println(kb);\r\n}\r\n```\r\n\r\nThat&#39;ll sadly not work, trying to access invalid indexes of our string. We should consider two particular behavior for the first and the last letter because they are close to only one letter. For these letters, we will have only one comparison. So, we can make them inside or outside the loop. For clarity, we will do it outside.\r\nFor the first one, it will look like to `if (kb.charAt(0) != kb.charAt(1)) {` and at `if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {` for the last. The body of the condition will remain the same as the one in the loop.\r\nOnce done, we will reduce the scope of our loop to exclude these character with `for (i = 1; i &lt; (kb.length() - 1); i++) {`.\r\n\r\nNow we will have something working, but only for one iteration:\r\n```java\r\npublic static void main(String[] arg) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String kb = scanner.nextLine();\r\n    String buffer = &quot;&quot;;\r\n    int i;\r\n    if (kb.charAt(0) != kb.charAt(1)) {\r\n        buffer = buffer + kb.charAt(0);\r\n    }\r\n    for (i = 1; i &lt; (kb.length() - 1); i++) {\r\n        char temp = kb.charAt(i);\r\n        if(temp != kb.charAt(i-1) &amp;&amp; temp != kb.charAt(i+1)) {\r\n            buffer = buffer + temp;\r\n        }\r\n    }\r\n    if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {\r\n        buffer = buffer + kb.charAt(kb.length() - 1);\r\n    }\r\n    kb = buffer;\r\n    System.out.println(kb);\r\n}\r\n```\r\n`XYYYXACX` will become `XXACX`.\r\n\r\nOnce said, our index problem can occur again if the string has only one letter. However, all of this would have been useless because obviously, we can&#39;t have a duplicate letter in this situation. As a fact, we should wrap the whole thing to ensure that we have at least two letters:\r\n```\r\npublic static void main(String[] arg) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String kb = scanner.nextLine();\r\n    if (kb.length() &gt;= 2) {\r\n        String buffer = &quot;&quot;;\r\n        int i;\r\n        if (kb.charAt(0) != kb.charAt(1)) {\r\n            buffer = buffer + kb.charAt(0);\r\n        }\r\n        for (i = 1; i &lt; (kb.length() - 1); i++) {\r\n            char temp = kb.charAt(i);\r\n            if (temp != kb.charAt(i - 1) &amp;&amp; temp != kb.charAt(i + 1)) {\r\n                buffer = buffer + temp;\r\n            }\r\n        }\r\n        if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {\r\n            buffer = buffer + kb.charAt(kb.length() - 1);\r\n        }\r\n        kb = buffer;\r\n    }\r\n    System.out.println(kb);\r\n}\r\n```\r\n\r\nThe last thing to do is perform this treatment until we have no more undesired letters. For this task, the `do { ... } while ( ... )` seems perfect. We can use for the condition comparison the size of the string. Because when the size of the previous iteration is equal to the temporary variable, we will know that we have finished.\r\nWe will need to perform this comparison before affecting the value of our temporary variable to the base one. Otherwise, it&#39;ll always be the same.\r\n\r\nIn the end, the following thing should be a potential solution:\r\n```java\r\npublic static void main(String[] arg) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String kb = scanner.nextLine();\r\n    Boolean modified;\r\n    do {\r\n        modified = false;\r\n        if (kb.length() &gt;= 2) {\r\n            String buffer = &quot;&quot;;\r\n            int i;\r\n            if (kb.charAt(0) != kb.charAt(1)) {\r\n                buffer = buffer + kb.charAt(0);\r\n            }\r\n            for (i = 1; i &lt; (kb.length() - 1); i++) {\r\n                char temp = kb.charAt(i);\r\n                if (temp != kb.charAt(i - 1) &amp;&amp; temp != kb.charAt(i + 1)) {\r\n                    buffer = buffer + temp;\r\n                }\r\n            }\r\n            if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {\r\n                buffer = buffer + kb.charAt(kb.length() - 1);\r\n            }\r\n            modified = (kb.length() != buffer.length());\r\n            kb = buffer;\r\n        }\r\n    } while (modified);\r\n    System.out.println(kb);\r\n}\r\n```\r\n\r\nTake note that this code is ugly for the sole purpose of the explanation. We should refactor this code. We can improve it a lot for the sake of brevity and, why not, performance.","title":"Fixing a looping issue for removing letters in a String","body":"<p><em><strong>The following answer concerns only the transformation of <code>XYYYXACX</code> to <code>ACX</code>. If we wanted to have <code>AC</code>, it's a whole different answer. The other answers already speak about it, and I'll invite you to consult the <code>contains</code> method of <code>String</code> too.</strong></em></p>\n<p>We should consider avoiding -<em>most of the time</em>- modifying the things we iterate. Using a temporary variable could be a kind of solution. To use it, we could change our mindset. Instead of erasing the undesired letters, we can save the ones we want.</p>\n<p>To identify the desired character, we need to test if all surrounding letters are different from the tested one. It'll be the opposite of what you did with <code>if(temp == kb.charAt(i+1)) {</code> like <code>if(temp != kb.charAt(i+1)) {</code>. But considering that the tested string will not change anymore, we will need to test the previous letter too as <code>if(temp != kb.charAt(i-1) &amp;&amp; temp != kb.charAt(i+1)) {</code>.</p>\n<p>As previously said, once we have identified the letter, we will keep the value with a temporary variable. That will lead to replace <code>kb = kb.replace(&quot;&quot;+temp, &quot;&quot;);</code> by <code>buffer = buffer + temp;</code> if <code>buffer</code> is our temporary variable initialized with an empty string (<em>Aka. <code>String buffer = &quot;&quot;;</code></em>). In the end, we could override our base value with the temporary one.</p>\n<p>At this step, we will have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] arg) {\n    Scanner scanner = new Scanner(System.in);\n    String kb = scanner.nextLine();\n    String buffer = &quot;&quot;;\n    int i;\n    for (i = 1; i &lt; kb.length(); i++) {\n        char temp = kb.charAt(i);\n        if(temp != kb.charAt(i-1) &amp;&amp; temp != kb.charAt(i+1)) {\n            buffer = buffer + temp;\n        }\n    }\n    kb = buffer;\n    System.out.println(kb);\n}\n</code></pre>\n<p>That'll sadly not work, trying to access invalid indexes of our string. We should consider two particular behavior for the first and the last letter because they are close to only one letter. For these letters, we will have only one comparison. So, we can make them inside or outside the loop. For clarity, we will do it outside.\nFor the first one, it will look like to <code>if (kb.charAt(0) != kb.charAt(1)) {</code> and at <code>if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {</code> for the last. The body of the condition will remain the same as the one in the loop.\nOnce done, we will reduce the scope of our loop to exclude these character with <code>for (i = 1; i &lt; (kb.length() - 1); i++) {</code>.</p>\n<p>Now we will have something working, but only for one iteration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] arg) {\n    Scanner scanner = new Scanner(System.in);\n    String kb = scanner.nextLine();\n    String buffer = &quot;&quot;;\n    int i;\n    if (kb.charAt(0) != kb.charAt(1)) {\n        buffer = buffer + kb.charAt(0);\n    }\n    for (i = 1; i &lt; (kb.length() - 1); i++) {\n        char temp = kb.charAt(i);\n        if(temp != kb.charAt(i-1) &amp;&amp; temp != kb.charAt(i+1)) {\n            buffer = buffer + temp;\n        }\n    }\n    if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {\n        buffer = buffer + kb.charAt(kb.length() - 1);\n    }\n    kb = buffer;\n    System.out.println(kb);\n}\n</code></pre>\n<p><code>XYYYXACX</code> will become <code>XXACX</code>.</p>\n<p>Once said, our index problem can occur again if the string has only one letter. However, all of this would have been useless because obviously, we can't have a duplicate letter in this situation. As a fact, we should wrap the whole thing to ensure that we have at least two letters:</p>\n<pre><code>public static void main(String[] arg) {\n    Scanner scanner = new Scanner(System.in);\n    String kb = scanner.nextLine();\n    if (kb.length() &gt;= 2) {\n        String buffer = &quot;&quot;;\n        int i;\n        if (kb.charAt(0) != kb.charAt(1)) {\n            buffer = buffer + kb.charAt(0);\n        }\n        for (i = 1; i &lt; (kb.length() - 1); i++) {\n            char temp = kb.charAt(i);\n            if (temp != kb.charAt(i - 1) &amp;&amp; temp != kb.charAt(i + 1)) {\n                buffer = buffer + temp;\n            }\n        }\n        if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {\n            buffer = buffer + kb.charAt(kb.length() - 1);\n        }\n        kb = buffer;\n    }\n    System.out.println(kb);\n}\n</code></pre>\n<p>The last thing to do is perform this treatment until we have no more undesired letters. For this task, the <code>do { ... } while ( ... )</code> seems perfect. We can use for the condition comparison the size of the string. Because when the size of the previous iteration is equal to the temporary variable, we will know that we have finished.\nWe will need to perform this comparison before affecting the value of our temporary variable to the base one. Otherwise, it'll always be the same.</p>\n<p>In the end, the following thing should be a potential solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] arg) {\n    Scanner scanner = new Scanner(System.in);\n    String kb = scanner.nextLine();\n    Boolean modified;\n    do {\n        modified = false;\n        if (kb.length() &gt;= 2) {\n            String buffer = &quot;&quot;;\n            int i;\n            if (kb.charAt(0) != kb.charAt(1)) {\n                buffer = buffer + kb.charAt(0);\n            }\n            for (i = 1; i &lt; (kb.length() - 1); i++) {\n                char temp = kb.charAt(i);\n                if (temp != kb.charAt(i - 1) &amp;&amp; temp != kb.charAt(i + 1)) {\n                    buffer = buffer + temp;\n                }\n            }\n            if (kb.charAt(kb.length() - 1) != kb.charAt(kb.length() - 2)) {\n                buffer = buffer + kb.charAt(kb.length() - 1);\n            }\n            modified = (kb.length() != buffer.length());\n            kb = buffer;\n        }\n    } while (modified);\n    System.out.println(kb);\n}\n</code></pre>\n<p>Take note that this code is ugly for the sole purpose of the explanation. We should refactor this code. We can improve it a lot for the sake of brevity and, why not, performance.</p>\n"}],"owner":{"account_id":13119387,"reputation":27,"user_id":9477371,"display_name":"cookielover1120"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1639034262,"creation_date":1639022159,"question_id":70284523,"body_markdown":"So i&#39;m making a program that removes duplicate letters in a string. The last step of it is updating the old string to the new string, and looping through the new string. I believe everything works besides the looping through the new string part. Any ideas what might be causing it to not work? It will work as intended for one pass through, and then after that it won&#39;t step through the new loop\r\n```import java.util.*;\r\npublic class homework20_5 {\r\n    public static void main(String[] arg) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String kb = scanner.nextLine();\r\n        int i;\r\n        for (i = 0; i &lt; kb.length(); i++) {\r\n            char temp = kb.charAt(i);\r\n            if(temp == kb.charAt(i+1)) {\r\n                kb = kb.replace(&quot;&quot;+temp, &quot;&quot;);\r\n                i = kb.length() + i;\r\n            }\r\n        }\r\n        System.out.println(kb);\r\n    }\r\n}\r\n```","title":"Fixing a looping issue for removing letters in a String","body":"<p>So i'm making a program that removes duplicate letters in a string. The last step of it is updating the old string to the new string, and looping through the new string. I believe everything works besides the looping through the new string part. Any ideas what might be causing it to not work? It will work as intended for one pass through, and then after that it won't step through the new loop</p>\n<pre><code>public class homework20_5 {\n    public static void main(String[] arg) {\n        Scanner scanner = new Scanner(System.in);\n        String kb = scanner.nextLine();\n        int i;\n        for (i = 0; i &lt; kb.length(); i++) {\n            char temp = kb.charAt(i);\n            if(temp == kb.charAt(i+1)) {\n                kb = kb.replace(&quot;&quot;+temp, &quot;&quot;);\n                i = kb.length() + i;\n            }\n        }\n        System.out.println(kb);\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","orm"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639008100,"post_id":70283157,"comment_id":124241722,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1639008636,"post_id":70283157,"comment_id":124241831,"body_markdown":"Setter and Getters are best practices in OOP, you can explore annotation `@Access(AccessType....)`, I don&#39;t know if is already deprecated. But about your question many libs need setter and getter for refactoting and reflection processing","body":"Setter and Getters are best practices in OOP, you can explore annotation <code>@Access(AccessType....)</code>, I don&#39;t know if is already deprecated. But about your question many libs need setter and getter for refactoting and reflection processing"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639033962,"creation_date":1639033962,"answer_id":70285952,"question_id":70283157,"body_markdown":"Getters/Setters are from the Java Beans convention: https://en.wikipedia.org/wiki/JavaBeans\r\n\r\n**You don&#39;t have to use that!**\r\n\r\nAccording to the JPA specification fields in an Entity shouldn&#39;t be public. \r\n\r\n&gt; The instance variables of a class must be private, protected, or\r\n&gt; package visibility independent of whether field access or property\r\n&gt; access is used. When property access is used, the property accessor\r\n&gt; methods must be public or protected.\r\n\r\nBut this doesn&#39;t mean that you need getters and setters if you can access the data via other methods. Btw. Hibernate allows public fields.\r\n\r\n","title":"Why do we need getters when we create ORM class?","body":"<p>Getters/Setters are from the Java Beans convention: <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/JavaBeans</a></p>\n<p><strong>You don't have to use that!</strong></p>\n<p>According to the JPA specification fields in an Entity shouldn't be public.</p>\n<blockquote>\n<p>The instance variables of a class must be private, protected, or\npackage visibility independent of whether field access or property\naccess is used. When property access is used, the property accessor\nmethods must be public or protected.</p>\n</blockquote>\n<p>But this doesn't mean that you need getters and setters if you can access the data via other methods. Btw. Hibernate allows public fields.</p>\n"}],"owner":{"account_id":23073571,"reputation":41,"user_id":17186853,"display_name":"Sasori123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639033962,"creation_date":1639007753,"question_id":70283157,"body_markdown":"I am implementing JPA and using Hibernate to implement ORM. I have created a class to represent a table in my database and private properties to represent the columns of the table with their getters and setters. I successfully fetched and added data to the table with and without the getters. \r\n\r\nMy question is: \r\nWhy do we need getters in this case if the data can be managed without getters?","title":"Why do we need getters when we create ORM class?","body":"<p>I am implementing JPA and using Hibernate to implement ORM. I have created a class to represent a table in my database and private properties to represent the columns of the table with their getters and setters. I successfully fetched and added data to the table with and without the getters.</p>\n<p>My question is:\nWhy do we need getters in this case if the data can be managed without getters?</p>\n"},{"tags":["java","password-encryption"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1639031756,"post_id":70285493,"comment_id":124245674,"body_markdown":"Your `encrypt` method returns null when an exception occurs so that is most likely what happens: an exception. Helpfully if an exception occurs you write out &quot;ERROR&quot;, so if you see this in the output this would be an indication that you really have an exception. Then the next step would be to find out what the exception is. For this you can write `exception.printStackTrace();` right in the catch block.","body":"Your <code>encrypt</code> method returns null when an exception occurs so that is most likely what happens: an exception. Helpfully if an exception occurs you write out &quot;ERROR&quot;, so if you see this in the output this would be an indication that you really have an exception. Then the next step would be to find out what the exception is. For this you can write <code>exception.printStackTrace();</code> right in the catch block."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1639031982,"post_id":70285493,"comment_id":124245728,"body_markdown":"`java.security.InvalidKeyException: Invalid AES key length: 14 bytes`","body":"<code>java.security.InvalidKeyException: Invalid AES key length: 14 bytes</code>"}],"answers":[{"tags":[],"owner":{"account_id":365723,"reputation":1537,"user_id":710817,"accept_rate":67,"display_name":"whoami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639033120,"creation_date":1639033120,"answer_id":70285804,"question_id":70285493,"body_markdown":"AES only supports key sizes of 16, 24 or 32 bytes. Your key length is 14, add 2 more digits to your key and it will work.\r\n\r\n    private static final Long ENCRYPTION_KEY = 2919021090891712L; //16 bytes","title":"When encoding the password, always return null value","body":"<p>AES only supports key sizes of 16, 24 or 32 bytes. Your key length is 14, add 2 more digits to your key and it will work.</p>\n<pre><code>private static final Long ENCRYPTION_KEY = 2919021090891712L; //16 bytes\n</code></pre>\n"}],"owner":{"account_id":17496824,"reputation":1070,"user_id":12687879,"display_name":"Dulani Maheshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70285804,"answer_count":1,"score":0,"last_activity_date":1639033900,"creation_date":1639030736,"question_id":70285493,"body_markdown":"I want to encode my password using an encryption key. but I got a null value, when printing the encoded password. I have attached my code below: \r\n\r\n     public class FirstJava {\r\n        \r\n            private static final Long ENCRYPTION_KEY = 29190210908917L;     \r\n                    \r\n            public static String encrypt(String strToEncrypt, byte[] key) {\r\n                if (strToEncrypt == null)\r\n                    return strToEncrypt;\r\n                try {\r\n                    Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n                    final SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n                    cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n                    return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes()));\r\n                } catch (Exception exception) {\r\n                    System.out.println(&quot;ERROR&quot;);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        \r\n            public static void main(String[] args) {\r\n                String password = &quot;12345678&quot;;\r\n                byte[] arr = String.valueOf(ENCRYPTION_KEY).getBytes();\r\n                String passwordEnc = encrypt(password,arr);\r\n                System.out.println(&quot;passwordEnc============= &quot;+passwordEnc);\r\n            }\r\n        }\r\n\r\n","title":"When encoding the password, always return null value","body":"<p>I want to encode my password using an encryption key. but I got a null value, when printing the encoded password. I have attached my code below:</p>\n<pre><code> public class FirstJava {\n    \n        private static final Long ENCRYPTION_KEY = 29190210908917L;     \n                \n        public static String encrypt(String strToEncrypt, byte[] key) {\n            if (strToEncrypt == null)\n                return strToEncrypt;\n            try {\n                Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n                final SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n                cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n                return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes()));\n            } catch (Exception exception) {\n                System.out.println(&quot;ERROR&quot;);\n            }\n            return null;\n        }\n\n    \n        public static void main(String[] args) {\n            String password = &quot;12345678&quot;;\n            byte[] arr = String.valueOf(ENCRYPTION_KEY).getBytes();\n            String passwordEnc = encrypt(password,arr);\n            System.out.println(&quot;passwordEnc============= &quot;+passwordEnc);\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1639032805,"post_id":70285705,"comment_id":124245904,"body_markdown":"please add your pom.xml to the question","body":"please add your pom.xml to the question"},{"owner":{"account_id":340756,"reputation":7693,"user_id":2917268,"display_name":"Jitender"},"score":0,"creation_date":1639033159,"post_id":70285705,"comment_id":124245996,"body_markdown":"@saw303: I have added the pom.xml","body":"@saw303: I have added the pom.xml"},{"owner":{"account_id":16875349,"reputation":393,"user_id":12202904,"display_name":"doct0re"},"score":1,"creation_date":1639034611,"post_id":70285705,"comment_id":124246382,"body_markdown":"I think you have added the mysql jar file manually since it&#180;s not part of your pom.xml. imo the easiest way to make it work is to add the dependency to your pom.xml (i.e. this: https://mvnrepository.com/artifact/mysql/mysql-connector-java/8.0.27) and clean install again","body":"I think you have added the mysql jar file manually since it&#180;s not part of your pom.xml. imo the easiest way to make it work is to add the dependency to your pom.xml (i.e. this: <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java/8.0.27\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/mysql/mysql-connector-java/8.0.27</a>&zwnj;&#8203;) and clean install again"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1639052574,"post_id":70285705,"comment_id":124252751,"body_markdown":"Go to https://start.spring.io/ and generate a new project. Add mysql Driver as dependency. Download the project and open the genarated pom.xml file. Take a close look at what deps are there. Copy the mysql related to your pom.xml. Rebuild and re-run your project.","body":"Go to <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> and generate a new project. Add mysql Driver as dependency. Download the project and open the genarated pom.xml file. Take a close look at what deps are there. Copy the mysql related to your pom.xml. Rebuild and re-run your project."}],"owner":{"account_id":340756,"reputation":7693,"user_id":2917268,"display_name":"Jitender"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639033140,"creation_date":1639032275,"question_id":70285705,"body_markdown":"I have added the connector jar file as mentioned in other posts, but even after that, the error didn&#39;t go away. there are many questions being asked and answered for the same problem, most of them talk about adding the jar file which I already did, still didn&#39;t get it through. I am using intellij IDE\r\n\r\n\r\n    &lt;%--\r\n      Created by IntelliJ IDEA.\r\n      User: jitenderchand\r\n      Date: 08/12/21\r\n      Time: 11:36 AM\r\n      To change this template use File | Settings | File Templates.\r\n    --%&gt;\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; import=&quot;java.sql.*&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div&gt;\r\n    &lt;%\r\n        String url = &quot;jdbc:mysql://localhost:3306/users&quot;;\r\n        String user = &quot;root&quot;;\r\n        String password = &quot;password@123&quot;;\r\n        String sql = &quot;select * from users.student where  id =1&quot;;\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection con = DriverManager.getConnection(url, user, password);\r\n        Statement statement = con.createStatement();\r\n        ResultSet rs = statement.executeQuery(sql);\r\n        rs.next();\r\n    %&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n```\r\nRoot Cause\r\n\r\njavax.servlet.ServletException: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\torg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:657)\r\n\torg.apache.jsp.index_jsp._jspService(index_jsp.java:152)\r\n\torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7XoU7.png\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;demo&lt;/name&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n      &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n      &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;      &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n        &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n      &lt;/plugin&gt;                &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver even after adding jar file","body":"<p>I have added the connector jar file as mentioned in other posts, but even after that, the error didn't go away. there are many questions being asked and answered for the same problem, most of them talk about adding the jar file which I already did, still didn't get it through. I am using intellij IDE</p>\n<pre><code>&lt;%--\n  Created by IntelliJ IDEA.\n  User: jitenderchand\n  Date: 08/12/21\n  Time: 11:36 AM\n  To change this template use File | Settings | File Templates.\n--%&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; import=&quot;java.sql.*&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;%\n    String url = &quot;jdbc:mysql://localhost:3306/users&quot;;\n    String user = &quot;root&quot;;\n    String password = &quot;password@123&quot;;\n    String sql = &quot;select * from users.student where  id =1&quot;;\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    Connection con = DriverManager.getConnection(url, user, password);\n    Statement statement = con.createStatement();\n    ResultSet rs = statement.executeQuery(sql);\n    rs.next();\n%&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<pre><code>Root Cause\n\njavax.servlet.ServletException: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:657)\n    org.apache.jsp.index_jsp._jspService(index_jsp.java:152)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7XoU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7XoU7.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;demo&lt;/name&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n      &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n      &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n                &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;8.0.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;      &lt;/dependencies&gt;\n\n  &lt;build&gt;\n        &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n      &lt;/plugin&gt;                &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1628719750,"post_id":68736239,"comment_id":121499956,"body_markdown":"Maybe a dumb question, but: how many instances of your app/service do you have running?","body":"Maybe a dumb question, but: how many instances of your app/service do you have running?"},{"owner":{"account_id":22431985,"reputation":1,"user_id":16637709,"display_name":"Aaron Samuel"},"score":0,"creation_date":1628875317,"post_id":68736239,"comment_id":121546470,"body_markdown":"Just one. The blocker here is why the duplicate run is not leaving any trace in the logs.","body":"Just one. The blocker here is why the duplicate run is not leaving any trace in the logs."}],"answers":[{"tags":[],"owner":{"account_id":22431985,"reputation":1,"user_id":16637709,"display_name":"Aaron Samuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639032914,"creation_date":1639032914,"answer_id":70285777,"question_id":68736239,"body_markdown":"A blunder by devops team, they had run the scheduler service in DR environment connected to prod db. Hence both Prod and DR service were running the batch which lead to duplication.","title":"SpringFramework @Scheduled is executing the method twice but console log prints record of only one execution","body":"<p>A blunder by devops team, they had run the scheduler service in DR environment connected to prod db. Hence both Prod and DR service were running the batch which lead to duplication.</p>\n"}],"owner":{"account_id":22431985,"reputation":1,"user_id":16637709,"display_name":"Aaron Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639032914,"creation_date":1628658190,"question_id":68736239,"body_markdown":"The scheduled task[payment transfer] is executing twice but console logs has track of only one execution.\r\n\r\nThe only proof for the duplicate run is that the transfer history in database has two entry with the same schedule id with difference of 1second in executed time.\r\n\r\n\r\nMain class\r\n\r\n```\r\n@EnableScheduling\r\n@SpringBootApplication(scanBasePackages = {\r\n        &quot;com.`*`&quot;,\r\n        &quot;com.`*`&quot;\r\n},\r\n        exclude = {SecurityAutoConfiguration.class})&lt;br&gt;\r\npublic class PaymentsSchedulerApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(PaymentsSchedulerApplication.class, args);\r\n    }\r\n}\r\n```\r\nHere is my component class where the method is annotated with `@Scheduled`. It is intended to run at 00:30 Hrs Local time every day.\r\n\r\n```\r\n@Component\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class ScheduledTask {\r\n\r\n    private final ISchedulerService iSchedulerService;\r\n```\r\n\r\nthis is the method that is running as a ghost as we couldn&#39;t find any information in logs on the duplicated execution.\r\n \r\n```\r\n@Scheduled(cron = &quot;${scheduler.jobs.repeating-transfer.cron}&quot;)\r\npublic void scheduleTask() {          \r\n  // cron: &#39;0 30 0 * * *\r\n  log.info(&quot;Execute&quot;)&lt;br&gt;\r\n}\r\n```","title":"SpringFramework @Scheduled is executing the method twice but console log prints record of only one execution","body":"<p>The scheduled task[payment transfer] is executing twice but console logs has track of only one execution.</p>\n<p>The only proof for the duplicate run is that the transfer history in database has two entry with the same schedule id with difference of 1second in executed time.</p>\n<p>Main class</p>\n<pre><code>@EnableScheduling\n@SpringBootApplication(scanBasePackages = {\n        &quot;com.`*`&quot;,\n        &quot;com.`*`&quot;\n},\n        exclude = {SecurityAutoConfiguration.class})&lt;br&gt;\npublic class PaymentsSchedulerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PaymentsSchedulerApplication.class, args);\n    }\n}\n</code></pre>\n<p>Here is my component class where the method is annotated with <code>@Scheduled</code>. It is intended to run at 00:30 Hrs Local time every day.</p>\n<pre><code>@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class ScheduledTask {\n\n    private final ISchedulerService iSchedulerService;\n</code></pre>\n<p>this is the method that is running as a ghost as we couldn't find any information in logs on the duplicated execution.</p>\n<pre><code>@Scheduled(cron = &quot;${scheduler.jobs.repeating-transfer.cron}&quot;)\npublic void scheduleTask() {          \n  // cron: '0 30 0 * * *\n  log.info(&quot;Execute&quot;)&lt;br&gt;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","java-11"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":1,"creation_date":1638953324,"post_id":70272130,"comment_id":124221990,"body_markdown":"please add relevant code in question","body":"please add relevant code in question"},{"owner":{"account_id":2923112,"reputation":13,"user_id":2504988,"display_name":"Aks"},"score":0,"creation_date":1638955999,"post_id":70272130,"comment_id":124222889,"body_markdown":"updated the description with the code","body":"updated the description with the code"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1638956574,"post_id":70272130,"comment_id":124223091,"body_markdown":"So where is this `http://localhost:9080/api/authenticate` file coming from, and is it really there? why isn&#39;t it `eplasapi/authenticate` as well?","body":"So where is this <code>http:&#47;&#47;localhost:9080&#47;api&#47;authenticate</code> file coming from, and is it really there? why isn&#39;t it <code>eplasapi&#47;authenticate</code> as well?"},{"owner":{"account_id":2923112,"reputation":13,"user_id":2504988,"display_name":"Aks"},"score":0,"creation_date":1638957622,"post_id":70272130,"comment_id":124223463,"body_markdown":"infact both are same, api or epalsapi","body":"infact both are same, api or epalsapi"}],"answers":[{"tags":[],"owner":{"account_id":2923112,"reputation":13,"user_id":2504988,"display_name":"Aks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638964129,"creation_date":1638964129,"answer_id":70274505,"question_id":70272130,"body_markdown":"I was able to resolve the issue, there was an issue with the contextroot, cleaned and redoplyed \r\n","title":"from Postman i&#39;m able to get valid response body from an API, but from Application it throwing error for the same url","body":"<p>I was able to resolve the issue, there was an issue with the contextroot, cleaned and redoplyed</p>\n"},{"tags":[],"owner":{"account_id":2923112,"reputation":13,"user_id":2504988,"display_name":"Aks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639032841,"creation_date":1639032841,"answer_id":70285767,"question_id":70272130,"body_markdown":"My Application started to work but i know that&#39;s an workaround.\r\n\r\nwhen my API is deployed without an context root(http://localhost:9080/authenticate) its working. but with a context root(http://localhost:9080/**epals**api/authenticate), my UI application is throwing the above asked question.\r\n\r\n\r\njava.io.FileNotFoundException: http://localhost:9080/api/authenticate\r\nat\r\njava.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0","title":"from Postman i&#39;m able to get valid response body from an API, but from Application it throwing error for the same url","body":"<p>My Application started to work but i know that's an workaround.</p>\n<p>when my API is deployed without an context root(http://localhost:9080/authenticate) its working. but with a context root(http://localhost:9080/<strong>epals</strong>api/authenticate), my UI application is throwing the above asked question.</p>\n<p>java.io.FileNotFoundException: http://localhost:9080/api/authenticate\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0</p>\n"}],"owner":{"account_id":2923112,"reputation":13,"user_id":2504988,"display_name":"Aks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639032841,"creation_date":1638953084,"question_id":70272130,"body_markdown":"0.2\r\n    tomcat 9.0.53\r\n    the error is throw when i deploy the application to an external tomcat server.    \r\n    if i run as an Springboot application (with same configuration) then there is no error.\r\n    also i can access the same api via postman.\r\n    `http://localhost:9080/api/authenticate` \r\n    `POST` method\r\n    \r\n        {&quot;username&quot;:&quot;User&quot;,&quot;password&quot;:&quot;user&quot;}\r\n    \r\n    code:\r\n    URL obj = new URL(url);\r\n    \t\t\tHttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    \t\t\t// Setting basic post request\r\n    \t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tcon.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n    \t\t\t\r\n    \t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\t// Send post request\r\n    \t\t\tcon.setDoOutput(true);\r\n    \t\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n    \t\t\twr.writeBytes(jsonData);\r\n    \t\t\twr.flush();\r\n    \t\t\twr.close();\r\n    \t\t\tLogger.info(&quot;nSending &#39;POST&#39; request to URL : &quot; + url);\r\n    \t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    \t\t\tString output;\r\n    \t\t\twhile ((output = in.readLine()) != null) {\r\n    \t\t\t\tresponse.append(output);\r\n    \t\t\t}\r\n    \t\t\tLogger.info(response.toString());\r\n    \t\t\tin.close();\r\n\r\n\r\n    Error:\r\n    \r\n    &gt; 12-08-2021 @ 2:04:36PM : ERROR ----------&gt;\r\n    &gt; http://localhost:9080/api/authenticate\r\n    &gt; [com.edge.service.common.ApiHandler.post:63 &lt;\r\n    &gt; com.edge.service.common.ApiHandler.parseAsObject:86] \r\n    &gt; java.io.FileNotFoundException: http://localhost:9080/api/authenticate\r\n    &gt; \tat\r\n    &gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1909)\r\n    &gt; \tat\r\n    &gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1509)\r\n    &gt; \tat com.edge.service.common.ApiHandler.post(ApiHandler.java:55) \tat\r\n    &gt; com.edge.service.common.ApiHandler.parseAsObject(ApiHandler.java:86)\r\n    &gt; \tat\r\n    &gt; com.edge.service.login.LoginService.authenticateuser(LoginService.java:44)\r\n    &gt; \tat\r\n    &gt; com.edge.controller.login.LoginController.authenticate(LoginController.java:66)\r\n    &gt; \tat\r\n    &gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n    &gt; Method) \tat\r\n    &gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    &gt; \tat\r\n    &gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    &gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) \tat\r\n    &gt; org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    &gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) \tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    &gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\r\n","title":"from Postman i&#39;m able to get valid response body from an API, but from Application it throwing error for the same url","body":"<p>0.2\ntomcat 9.0.53\nthe error is throw when i deploy the application to an external tomcat server.<br />\nif i run as an Springboot application (with same configuration) then there is no error.\nalso i can access the same api via postman.\n<code>http://localhost:9080/api/authenticate</code>\n<code>POST</code> method</p>\n<pre><code>    {&quot;username&quot;:&quot;User&quot;,&quot;password&quot;:&quot;user&quot;}\n\ncode:\nURL obj = new URL(url);\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n            // Setting basic post request\n            con.setRequestMethod(&quot;POST&quot;);\n            con.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\n            \n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            // Send post request\n            con.setDoOutput(true);\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n            wr.writeBytes(jsonData);\n            wr.flush();\n            wr.close();\n            Logger.info(&quot;nSending 'POST' request to URL : &quot; + url);\n            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            String output;\n            while ((output = in.readLine()) != null) {\n                response.append(output);\n            }\n            Logger.info(response.toString());\n            in.close();\n\n\nError:\n\n&gt; 12-08-2021 @ 2:04:36PM : ERROR ----------&gt;\n&gt; http://localhost:9080/api/authenticate\n&gt; [com.edge.service.common.ApiHandler.post:63 &lt;\n&gt; com.edge.service.common.ApiHandler.parseAsObject:86] \n&gt; java.io.FileNotFoundException: http://localhost:9080/api/authenticate\n&gt;   at\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1909)\n&gt;   at\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1509)\n&gt;   at com.edge.service.common.ApiHandler.post(ApiHandler.java:55)  at\n&gt; com.edge.service.common.ApiHandler.parseAsObject(ApiHandler.java:86)\n&gt;   at\n&gt; com.edge.service.login.LoginService.authenticateuser(LoginService.java:44)\n&gt;   at\n&gt; com.edge.controller.login.LoginController.authenticate(LoginController.java:66)\n&gt;   at\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n&gt; Method)   at\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n&gt;   at\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n&gt;   at java.base/java.lang.reflect.Method.invoke(Method.java:566)   at\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n&gt;   at\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n&gt;   at\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n&gt;   at\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n&gt;   at\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n&gt;   at\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n&gt;   at\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n&gt;   at\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n&gt;   at\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n&gt;   at\n&gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n&gt;   at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)     at\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n&gt;   at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n</code></pre>\n"},{"tags":["java","eclipse","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1639014495,"post_id":70272479,"comment_id":124242819,"body_markdown":"1. Hover over the code with red underline, is there any quick fixes? 2. Open command palette and choose Java: Clean Java Language Server Workspace, does this help?","body":"1. Hover over the code with red underline, is there any quick fixes? 2. Open command palette and choose Java: Clean Java Language Server Workspace, does this help?"},{"owner":{"account_id":17595127,"reputation":53,"user_id":12766160,"display_name":"HelloPeople"},"score":0,"creation_date":1639022785,"post_id":70272479,"comment_id":124244105,"body_markdown":"thanks for the suggestion, I&#39;ve tried the &quot;Java: Clean Java Language Server Workspace &quot;already but it still doesnt work. but I think I found the solution. I deleted &quot;.setting&quot; &quot;.classpath&quot; and  &quot;.project&quot; from the project folder and everything works fine in vs code now.","body":"thanks for the suggestion, I&#39;ve tried the &quot;Java: Clean Java Language Server Workspace &quot;already but it still doesnt work. but I think I found the solution. I deleted &quot;.setting&quot; &quot;.classpath&quot; and  &quot;.project&quot; from the project folder and everything works fine in vs code now."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1639029544,"post_id":70272479,"comment_id":124245196,"body_markdown":"That&#39;s great. Can you write down the solution as an answer and accept it to mark this question as resolved?","body":"That&#39;s great. Can you write down the solution as an answer and accept it to mark this question as resolved?"},{"owner":{"account_id":17595127,"reputation":53,"user_id":12766160,"display_name":"HelloPeople"},"score":2,"creation_date":1639032820,"post_id":70272479,"comment_id":124245910,"body_markdown":"posted an answer, but I&#39;ll have to wait until the next day to mark it. thank you again for the comments.","body":"posted an answer, but I&#39;ll have to wait until the next day to mark it. thank you again for the comments."}],"answers":[{"tags":[],"owner":{"account_id":17595127,"reputation":53,"user_id":12766160,"display_name":"HelloPeople"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639032756,"creation_date":1639032756,"answer_id":70285756,"question_id":70272479,"body_markdown":" I deleted &quot;.setting&quot;, &quot;.classpath&quot; and &quot;.project&quot; \r\nfrom the project folder and everything works fine in vs code now. ","title":"Opening an eclipse project folder in vs code","body":"<p>I deleted &quot;.setting&quot;, &quot;.classpath&quot; and &quot;.project&quot;\nfrom the project folder and everything works fine in vs code now.</p>\n"}],"owner":{"account_id":17595127,"reputation":53,"user_id":12766160,"display_name":"HelloPeople"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70285756,"answer_count":1,"score":1,"last_activity_date":1639032756,"creation_date":1638954837,"question_id":70272479,"body_markdown":"I am trying to run a simple console output project created from eclipse in vs code but there seems to be a lot of errors. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNot sure what to do here.\r\nAs soon as I edit and save a file in vs code and try to run it in Eclipse, Eclipse also get the same error.\r\n\r\nI need to &quot;import&quot; more of these projects and packages already created from Eclipse.\r\n\r\nI&#39;ve already installed the &quot;Extension Pack for Java&quot; from Microsoft and setup the JDK.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qMV6q.png","title":"Opening an eclipse project folder in vs code","body":"<p>I am trying to run a simple console output project created from eclipse in vs code but there seems to be a lot of errors.</p>\n<p><a href=\"https://i.stack.imgur.com/qMV6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMV6q.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what to do here.\nAs soon as I edit and save a file in vs code and try to run it in Eclipse, Eclipse also get the same error.</p>\n<p>I need to &quot;import&quot; more of these projects and packages already created from Eclipse.</p>\n<p>I've already installed the &quot;Extension Pack for Java&quot; from Microsoft and setup the JDK.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1639030608,"post_id":70285431,"comment_id":124245418,"body_markdown":"You can use nested maps or directly build the hierarchy using Jackson&#39;s `TreeNode` and implementations.","body":"You can use nested maps or directly build the hierarchy using Jackson&#39;s <code>TreeNode</code> and implementations."},{"owner":{"account_id":20487658,"reputation":82,"user_id":15034418,"display_name":"Aakash Thakur"},"score":0,"creation_date":1639031118,"post_id":70285431,"comment_id":124245530,"body_markdown":"Could you get me a rough example exactly how this can be achieved?","body":"Could you get me a rough example exactly how this can be achieved?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1639031132,"post_id":70285431,"comment_id":124245536,"body_markdown":"Sure, I&#39;ll add it as an answer","body":"Sure, I&#39;ll add it as an answer"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639032500,"creation_date":1639031663,"answer_id":70285617,"question_id":70285431,"body_markdown":"As already stated in my comment, there are a couple of ways.\r\n\r\n__Nested Maps__\r\n\r\n    ObjectMapper om = new ObjectMapper();\r\n\t\t\r\n    Map&lt;String, Map&lt;String, Map&lt;String, Map&lt;String, Object&gt;&gt;&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\t\r\n\tmap.computeIfAbsent(&quot;A&quot;, k -&gt; new HashMap&lt;&gt;())\r\n\t   .computeIfAbsent(&quot;B&quot;, k -&gt; new HashMap&lt;&gt;())\r\n\t   .computeIfAbsent(&quot;C&quot;, k -&gt; new HashMap&lt;&gt;())\r\n\t   .put(&quot;D&quot;, &quot;123&quot;);\r\n\t\t\t\r\n\t((Map&lt;String, String&gt;)map.computeIfAbsent(&quot;A&quot;, k -&gt; new HashMap&lt;&gt;())\r\n\t     .computeIfAbsent(&quot;B&quot;, k -&gt; new HashMap&lt;&gt;())\r\n\t     .computeIfAbsent(&quot;E&quot;, k -&gt; new HashMap&lt;&gt;())\r\n\t     .computeIfAbsent(&quot;F&quot;, k -&gt; new HashMap&lt;String, String&gt;()))\r\n\t     .put(&quot;G&quot;, &quot;aaabbb&quot;);\t\t\r\n\t\t\r\n\tString json = om.writeValueAsString(map);\r\n\r\n\r\nMethods like `computeIfAbsent()` help a lot in in having to check for the presence of intermediate maps all the time but as you can see, if the structure is not uniform this can get awkward to handle.\r\n\r\nOf course you can build the maps in other ways, this is just a simple demonstration.\r\n\r\n__Using ObjecNode (and ArrayNode if required)__\r\n\r\n    ObjectMapper om = new ObjectMapper();\r\n  \r\n    ObjectNode root = om.createObjectNode();\r\n\tObjectNode nodeA = om.createObjectNode();\r\n\troot.set(&quot;A&quot;, nodeA);\r\n\t\t\r\n\tObjectNode nodeB = om.createObjectNode();\r\n\tnodeA.set(&quot;B&quot;, nodeB);\r\n\t\t\r\n\tObjectNode nodeC = om.createObjectNode();\r\n\tnodeB.set(&quot;C&quot;, nodeC);\r\n\tnodeC.put(&quot;D&quot;, &quot;123&quot;);\r\n\t\t\r\n\tObjectNode nodeE = om.createObjectNode();\r\n\tnodeB.set(&quot;E&quot;, nodeE);\r\n\t\t\r\n\tObjectNode nodeF = om.createObjectNode();\r\n\tnodeE.set(&quot;F&quot;, nodeF);\r\n\tnodeF.put(&quot;G&quot;, &quot;aaabbb&quot;);\r\n\r\n    String json = om.writeValueAsString(root);\r\n\r\nAgain there are multiple ways to construct this node hierarchy.\r\n\r\nBoth examples produce the following (unformatted) json which reflects the first portion of your structure:\r\n\r\n    {&quot;A&quot;:{&quot;B&quot;:{&quot;C&quot;:{&quot;D&quot;:&quot;123&quot;},&quot;E&quot;:{&quot;F&quot;:{&quot;G&quot;:&quot;aaabbb&quot;}}}}}\r\n","title":"How to create a JsonObject of complex structure like given below in Java?","body":"<p>As already stated in my comment, there are a couple of ways.</p>\n<p><strong>Nested Maps</strong></p>\n<pre><code>ObjectMapper om = new ObjectMapper();\n    \nMap&lt;String, Map&lt;String, Map&lt;String, Map&lt;String, Object&gt;&gt;&gt;&gt; map = new HashMap&lt;&gt;();\n    \nmap.computeIfAbsent(&quot;A&quot;, k -&gt; new HashMap&lt;&gt;())\n   .computeIfAbsent(&quot;B&quot;, k -&gt; new HashMap&lt;&gt;())\n   .computeIfAbsent(&quot;C&quot;, k -&gt; new HashMap&lt;&gt;())\n   .put(&quot;D&quot;, &quot;123&quot;);\n        \n((Map&lt;String, String&gt;)map.computeIfAbsent(&quot;A&quot;, k -&gt; new HashMap&lt;&gt;())\n     .computeIfAbsent(&quot;B&quot;, k -&gt; new HashMap&lt;&gt;())\n     .computeIfAbsent(&quot;E&quot;, k -&gt; new HashMap&lt;&gt;())\n     .computeIfAbsent(&quot;F&quot;, k -&gt; new HashMap&lt;String, String&gt;()))\n     .put(&quot;G&quot;, &quot;aaabbb&quot;);       \n    \nString json = om.writeValueAsString(map);\n</code></pre>\n<p>Methods like <code>computeIfAbsent()</code> help a lot in in having to check for the presence of intermediate maps all the time but as you can see, if the structure is not uniform this can get awkward to handle.</p>\n<p>Of course you can build the maps in other ways, this is just a simple demonstration.</p>\n<p><strong>Using ObjecNode (and ArrayNode if required)</strong></p>\n<pre><code>ObjectMapper om = new ObjectMapper();\n\nObjectNode root = om.createObjectNode();\nObjectNode nodeA = om.createObjectNode();\nroot.set(&quot;A&quot;, nodeA);\n    \nObjectNode nodeB = om.createObjectNode();\nnodeA.set(&quot;B&quot;, nodeB);\n    \nObjectNode nodeC = om.createObjectNode();\nnodeB.set(&quot;C&quot;, nodeC);\nnodeC.put(&quot;D&quot;, &quot;123&quot;);\n    \nObjectNode nodeE = om.createObjectNode();\nnodeB.set(&quot;E&quot;, nodeE);\n    \nObjectNode nodeF = om.createObjectNode();\nnodeE.set(&quot;F&quot;, nodeF);\nnodeF.put(&quot;G&quot;, &quot;aaabbb&quot;);\n\nString json = om.writeValueAsString(root);\n</code></pre>\n<p>Again there are multiple ways to construct this node hierarchy.</p>\n<p>Both examples produce the following (unformatted) json which reflects the first portion of your structure:</p>\n<pre><code>{&quot;A&quot;:{&quot;B&quot;:{&quot;C&quot;:{&quot;D&quot;:&quot;123&quot;},&quot;E&quot;:{&quot;F&quot;:{&quot;G&quot;:&quot;aaabbb&quot;}}}}}\n</code></pre>\n"}],"owner":{"account_id":20487658,"reputation":82,"user_id":15034418,"display_name":"Aakash Thakur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70285617,"answer_count":1,"score":2,"last_activity_date":1639032500,"creation_date":1639030324,"question_id":70285431,"body_markdown":"    {\r\n    \t&quot;A&quot;: {\r\n    \t\t&quot;B&quot;: {\r\n    \t\t\t&quot;C&quot;: {\r\n    \t\t\t\t&quot;D&quot;: &quot;123&quot;\r\n    \t\t\t},\r\n    \t\t\t&quot;E&quot;: {\r\n    \t\t\t\t&quot;F&quot;: {\r\n    \t\t\t\t\t&quot;G&quot;: &quot;aaabbb&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;H&quot;: &quot;QWE&quot;,\r\n    \t\t\t\t&quot;I&quot;: {\r\n    \t\t\t\t\t&quot;J&quot;: &quot;003&quot;,\r\n    \t\t\t\t\t&quot;K&quot;: &quot;01&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;L&quot;: {\r\n    \t\t\t\t&quot;M&quot;: {\r\n    \t\t\t\t\t&quot;N&quot;: &quot;1603&quot;,\r\n    \t\t\t\t\t&quot;O&quot;: &quot;QWE&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;P&quot;: &quot;N&quot;,\r\n    \t\t\t\t&quot;Q&quot;: &quot;N&quot;\r\n    \t\t\t},\r\n    \t\t\t&quot;R&quot;: {\r\n    \t\t\t\t&quot;S&quot;: &quot;10000&quot;,\r\n    \t\t\t\t&quot;T&quot;: &quot;QWE&quot;\r\n    \t\t\t},\r\n    \t\t\t&quot;U&quot;: {\r\n    \t\t\t\t&quot;V&quot;: &quot;0&quot;,\r\n    \t\t\t\t&quot;W&quot;: &quot;13&quot;\r\n    \t\t\t},\r\n    \t\t\t&quot;X&quot;: {\r\n    \t\t\t\t&quot;Y&quot;: &quot;123456&quot;\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\t&quot;ABC&quot;: {\r\n    \t\t\t&quot;QQ&quot;: &quot;5&quot;,\r\n    \t\t\t&quot;WW&quot;: &quot;O&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI want to create a similar Json String without having to create all these classes A, B, C, etc. I could create it by creating classes for each of these tags A, B, C, etc using ObjectMapper of Jackson Library. Is there a simpler way to achieve this?","title":"How to create a JsonObject of complex structure like given below in Java?","body":"<pre><code>{\n    &quot;A&quot;: {\n        &quot;B&quot;: {\n            &quot;C&quot;: {\n                &quot;D&quot;: &quot;123&quot;\n            },\n            &quot;E&quot;: {\n                &quot;F&quot;: {\n                    &quot;G&quot;: &quot;aaabbb&quot;\n                },\n                &quot;H&quot;: &quot;QWE&quot;,\n                &quot;I&quot;: {\n                    &quot;J&quot;: &quot;003&quot;,\n                    &quot;K&quot;: &quot;01&quot;\n                }\n            },\n            &quot;L&quot;: {\n                &quot;M&quot;: {\n                    &quot;N&quot;: &quot;1603&quot;,\n                    &quot;O&quot;: &quot;QWE&quot;\n                },\n                &quot;P&quot;: &quot;N&quot;,\n                &quot;Q&quot;: &quot;N&quot;\n            },\n            &quot;R&quot;: {\n                &quot;S&quot;: &quot;10000&quot;,\n                &quot;T&quot;: &quot;QWE&quot;\n            },\n            &quot;U&quot;: {\n                &quot;V&quot;: &quot;0&quot;,\n                &quot;W&quot;: &quot;13&quot;\n            },\n            &quot;X&quot;: {\n                &quot;Y&quot;: &quot;123456&quot;\n            }\n        },\n        &quot;ABC&quot;: {\n            &quot;QQ&quot;: &quot;5&quot;,\n            &quot;WW&quot;: &quot;O&quot;\n        }\n    }\n}\n</code></pre>\n<p>I want to create a similar Json String without having to create all these classes A, B, C, etc. I could create it by creating classes for each of these tags A, B, C, etc using ObjectMapper of Jackson Library. Is there a simpler way to achieve this?</p>\n"},{"tags":["java","spring-boot","api","google-cloud-firestore"],"comments":[{"owner":{"account_id":21414748,"reputation":1110,"user_id":15774177,"display_name":"Zeenath S N"},"score":1,"creation_date":1637046397,"post_id":69978217,"comment_id":123713570,"body_markdown":"Hi, Can you be more clear with your question? Do you want to retrieve Firestore&#39;s timestamp data in readable form or do you wanna add the timestamp data into Firestore?","body":"Hi, Can you be more clear with your question? Do you want to retrieve Firestore&#39;s timestamp data in readable form or do you wanna add the timestamp data into Firestore?"},{"owner":{"account_id":17412116,"reputation":23,"user_id":12619141,"display_name":"vaibhav singh baghel"},"score":0,"creation_date":1637048700,"post_id":69978217,"comment_id":123714346,"body_markdown":"Hi,   Both i want to do i want to retrieve as well as want to send. above screenshot i have added that data into databse manually . I want to do that same with my api . i have written get API Also i want that all in readable form as well as to send in json to the db.","body":"Hi,   Both i want to do i want to retrieve as well as want to send. above screenshot i have added that data into databse manually . I want to do that same with my api . i have written get API Also i want that all in readable form as well as to send in json to the db."},{"owner":{"account_id":21414748,"reputation":1110,"user_id":15774177,"display_name":"Zeenath S N"},"score":1,"creation_date":1637051780,"post_id":69978217,"comment_id":123715439,"body_markdown":"Hi, can you check if [adding server timestamp field to the Object](https://stackoverflow.com/questions/47355540/adding-server-timestamp-field-to-the-object-which-being-added) and [Convert Cloud Firestore timestamp to readable date](https://stackoverflow.com/questions/56259128/convert-cloud-firestore-timestamp-to-readable-date)  helps you?","body":"Hi, can you check if <a href=\"https://stackoverflow.com/questions/47355540/adding-server-timestamp-field-to-the-object-which-being-added\">adding server timestamp field to the Object</a> and <a href=\"https://stackoverflow.com/questions/56259128/convert-cloud-firestore-timestamp-to-readable-date\">Convert Cloud Firestore timestamp to readable date</a>  helps you?"},{"owner":{"account_id":17412116,"reputation":23,"user_id":12619141,"display_name":"vaibhav singh baghel"},"score":0,"creation_date":1637067830,"post_id":69978217,"comment_id":123721881,"body_markdown":"HI, not exactly getting the desired output  in comment i am not able to share images or code ..  Please if possible you can share me your contact email . so you can help me in better way .      Thanks .","body":"HI, not exactly getting the desired output  in comment i am not able to share images or code ..  Please if possible you can share me your contact email . so you can help me in better way .      Thanks ."},{"owner":{"account_id":17412116,"reputation":23,"user_id":12619141,"display_name":"vaibhav singh baghel"},"score":0,"creation_date":1637072907,"post_id":69978217,"comment_id":123724245,"body_markdown":"i am sharing a document in which i have added some screen shot with which you can check once.. --------------- \n \n https://docs.google.com/document/d/1aZs3YIiTyGhJgMy7tsZgkE9fD4eNDkqgg7KZWZ6YHKI/edit?usp=sharing","body":"i am sharing a document in which i have added some screen shot with which you can check once.. ---------------     <a href=\"https://docs.google.com/document/d/1aZs3YIiTyGhJgMy7tsZgkE9fD4eNDkqgg7KZWZ6YHKI/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":17412116,"reputation":23,"user_id":12619141,"display_name":"vaibhav singh baghel"},"score":0,"creation_date":1637073065,"post_id":69978217,"comment_id":123724325,"body_markdown":"after using Map i was able to add the data but that was not as the desired output i have shared screenshot in doc.","body":"after using Map i was able to add the data but that was not as the desired output i have shared screenshot in doc."},{"owner":{"account_id":21414748,"reputation":1110,"user_id":15774177,"display_name":"Zeenath S N"},"score":0,"creation_date":1637216700,"post_id":69978217,"comment_id":123768026,"body_markdown":"Hey, so I found this [answer](https://stackoverflow.com/a/62704887/15774177) on stackoverflow, can you take a look at it and see if it helps?","body":"Hey, so I found this <a href=\"https://stackoverflow.com/a/62704887/15774177\">answer</a> on stackoverflow, can you take a look at it and see if it helps?"}],"answers":[{"tags":[],"owner":{"account_id":22049459,"reputation":894,"user_id":16313960,"display_name":"Gourav B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639032483,"creation_date":1639032483,"answer_id":70285726,"question_id":69978217,"body_markdown":"As mentioned by @Zeenath S N above, [this post][1] has your answer.\r\n\r\nYou can use **ServerTimestamp** annotation. Try changing\r\n\r\n```\r\nprivate Timestamp dob;\r\n```\r\nto\r\n\r\n```\r\nprivate Date dob;\r\n```\r\nin your code.\r\n\r\nAlternatively, as below:\r\n\r\n&gt;If you want to write a timestamp field, and you can&#39;t use a server timestamp, you will need to either provide a regular Java Date object, or a Firebase Timestamp object. Either of these types of values will convert to a timestamp field in the document.\r\n&gt;\r\n&gt;When you query for the document, the field will always show up in the document snapshot as a Timestamp type object.\r\n\r\n[1]: https://stackoverflow.com/q/62704816/16313960\r\n","title":"How can I implement Firestore timestamp in Spring Boot Application","body":"<p>As mentioned by @Zeenath S N above, <a href=\"https://stackoverflow.com/q/62704816/16313960\">this post</a> has your answer.</p>\n<p>You can use <strong>ServerTimestamp</strong> annotation. Try changing</p>\n<pre><code>private Timestamp dob;\n</code></pre>\n<p>to</p>\n<pre><code>private Date dob;\n</code></pre>\n<p>in your code.</p>\n<p>Alternatively, as below:</p>\n<blockquote>\n<p>If you want to write a timestamp field, and you can't use a server timestamp, you will need to either provide a regular Java Date object, or a Firebase Timestamp object. Either of these types of values will convert to a timestamp field in the document.</p>\n<p>When you query for the document, the field will always show up in the document snapshot as a Timestamp type object.</p>\n</blockquote>\n"}],"owner":{"account_id":17412116,"reputation":23,"user_id":12619141,"display_name":"vaibhav singh baghel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639032483,"creation_date":1636996068,"question_id":69978217,"body_markdown":"I am creating a Spring Boot application and I have a timestamp variable in Firestore DB I want to send date in that field. How can I do that? \r\n\r\n\r\n[![This is from my Firebase DB I am using dob as time stamp][1]][1]\r\n\r\n\r\n[![This is my data type am using to call that timestamp from DB but that is wrong I am not able to send the correct date  ][2]][2]\r\n\r\n\r\n\r\nThis is my service I am sending data to Firebase \r\n\r\n\r\n    \tpublic Patient addPatient(Patient patients) throws InterruptedException, ExecutionException  {\r\n\t\t\r\n\t\tFirestore dbFirestore = FirestoreClient.getFirestore();\r\n\t\tApiFuture&lt;WriteResult&gt; collectionApiResult = dbFirestore.collection(this.fireStoreCollection).document(patients.getUserId()).set(patients);\r\n\t\treturn patients;\r\n\t}\r\n\r\n\r\n[![my Firestore DB screenshot I want to send dob in this ][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rBzIV.png\r\n  [2]: https://i.stack.imgur.com/6LrMy.png\r\n  [3]: https://i.stack.imgur.com/b6GO5.png","title":"How can I implement Firestore timestamp in Spring Boot Application","body":"<p>I am creating a Spring Boot application and I have a timestamp variable in Firestore DB I want to send date in that field. How can I do that?</p>\n<p><a href=\"https://i.stack.imgur.com/rBzIV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBzIV.png\" alt=\"This is from my Firebase DB I am using dob as time stamp\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6LrMy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6LrMy.png\" alt=\"This is my data type am using to call that timestamp from DB but that is wrong I am not able to send the correct date  \" /></a></p>\n<p>This is my service I am sending data to Firebase</p>\n<pre><code>    public Patient addPatient(Patient patients) throws InterruptedException, ExecutionException  {\n    \n    Firestore dbFirestore = FirestoreClient.getFirestore();\n    ApiFuture&lt;WriteResult&gt; collectionApiResult = dbFirestore.collection(this.fireStoreCollection).document(patients.getUserId()).set(patients);\n    return patients;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b6GO5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b6GO5.png\" alt=\"my Firestore DB screenshot I want to send dob in this \" /></a></p>\n"},{"tags":["java","if-statement","variables","substitution"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":4,"creation_date":1638800961,"post_id":70247017,"comment_id":124177354,"body_markdown":"Not possible (like this) in Java, as java is a statically compiled language, and there is no way to have interfaces that do &quot;dynamics&quot; like this. You could look into defining an enum that implements an interface that returns your where clause instead.","body":"Not possible (like this) in Java, as java is a statically compiled language, and there is no way to have interfaces that do &quot;dynamics&quot; like this. You could look into defining an enum that implements an interface that returns your where clause instead."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1638800971,"post_id":70247017,"comment_id":124177362,"body_markdown":"If you&#39;re building SQL queries, you should probably be using JPA libraries, not hard coded sql filter strings","body":"If you&#39;re building SQL queries, you should probably be using JPA libraries, not hard coded sql filter strings"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1638801148,"post_id":70247017,"comment_id":124177436,"body_markdown":"You can use polymorphism to avoid large conditional constructs. Simply have one abstract class or interface that defines a method, and classes that extend the abstract class or implement the interface, and each class implements the behavior specific to their condition in their override of the abstract class or interface method.","body":"You can use polymorphism to avoid large conditional constructs. Simply have one abstract class or interface that defines a method, and classes that extend the abstract class or implement the interface, and each class implements the behavior specific to their condition in their override of the abstract class or interface method."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1638801167,"post_id":70247017,"comment_id":124177446,"body_markdown":"`System.out.printf(&quot;where Gender = &#39;%s&#39; &quot;, &quot;MALE&quot;);` (String.format; constants you have to do yourself.","body":"<code>System.out.printf(&quot;where Gender = &#39;%s&#39; &quot;, &quot;MALE&quot;);</code> (String.format; constants you have to do yourself."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":3,"creation_date":1638801372,"post_id":70247017,"comment_id":124177546,"body_markdown":"Not only it is not possible in Java, but I don&#39;t even see the advantage of doing this in real life. Your variable name should not vary based on its value, nor you should delay naming a variable until a value is set. This is not even practical for constants in my opinion. Using  your example, what is wrong with naming the variable just `GENDER`?","body":"Not only it is not possible in Java, but I don&#39;t even see the advantage of doing this in real life. Your variable name should not vary based on its value, nor you should delay naming a variable until a value is set. This is not even practical for constants in my opinion. Using  your example, what is wrong with naming the variable just <code>GENDER</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638809236,"post_id":70247017,"comment_id":124180882,"body_markdown":"Since this seems to be about building an SQL statement, you should learn about `PreparedStatement` and [How does a PreparedStatement avoid or prevent SQL injection?](https://stackoverflow.com/q/1582161/2711488)","body":"Since this seems to be about building an SQL statement, you should learn about <code>PreparedStatement</code> and <a href=\"https://stackoverflow.com/q/1582161/2711488\">How does a PreparedStatement avoid or prevent SQL injection?</a>"},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":""},"score":0,"creation_date":1638810435,"post_id":70247017,"comment_id":124181382,"body_markdown":"@GhostCat It&#39;s possible with reflection. See my answer.","body":"@GhostCat It&#39;s possible with reflection. See my answer."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1638867027,"post_id":70247017,"comment_id":124195404,"body_markdown":"@ Providing a method that takes an argument isn&#39;t the same as dynamically compiling interface content.","body":"@ Providing a method that takes an argument isn&#39;t the same as dynamically compiling interface content."},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":""},"score":0,"creation_date":1638872902,"post_id":70247017,"comment_id":124197488,"body_markdown":"@GhostCat I know but, It can simulate like that. He just wants to avoid if-else logic so there is no problem in passing an argument.","body":"@GhostCat I know but, It can simulate like that. He just wants to avoid if-else logic so there is no problem in passing an argument."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1638878160,"post_id":70247017,"comment_id":124199477,"body_markdown":"@ The point is more like: reflection should ALWAYS be your last resort. You only use that when there is no other meaningful way to achieve what you need. Be very careful suggesting java newbies to even think about reflection.","body":"@ The point is more like: reflection should ALWAYS be your last resort. You only use that when there is no other meaningful way to achieve what you need. Be very careful suggesting java newbies to even think about reflection."},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":""},"score":0,"creation_date":1638886834,"post_id":70247017,"comment_id":124203166,"body_markdown":"@GhostCat You are right. I too don&#39;t want newbies to learn to abuse JAVA. But It&#39;s better to know about reflection than to *regret by saying* &#39;**Impossible**&#39;. - I agree. That&#39;s why I have also provided another approach to it.","body":"@GhostCat You are right. I too don&#39;t want newbies to learn to abuse JAVA. But It&#39;s better to know about reflection than to <i>regret by saying</i> &#39;<b>Impossible</b>&#39;. - I agree. That&#39;s why I have also provided another approach to it."}],"answers":[{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638813139,"creation_date":1638801368,"answer_id":70247192,"question_id":70247017,"body_markdown":"The word **Impossible** isn&#39;t defined for me.\r\n#### Approach 1 ####\r\nMake a class like this,\r\n```\r\nclass Constants {\r\n    public String MALE = &quot;where Gender = &#39;MALE&#39; &quot;;\r\n    public String FEMALE = &quot;where Gender = &#39;FEMALE&#39; &quot;;\r\n\r\n    public static String GENDER_(String $argument){\r\n        Constants constants = new Constants();\r\n        try {\r\n            Field field = constants.getClass().getField($argument);\r\n            return (String) field.get($GENDER);\r\n        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\nThen use it like this,\r\n```\r\nString $GENDER;  // This is your argument, either take it from the user.\r\nSystem.out.println(Constants.GENDER_($GENDER));\r\n```\r\nThis will do exactly what you want. And yes, we haven&#39;t used any logic here (if-else). \r\n\r\n**NOTE** : *`Constants.GENDER_($GENDER)` will return null if the argument is not a field in `Constants`*\r\n\r\n#### Approach 2 ####\r\nUse a `Map` instead of creating feild. Like this,\r\n```\r\nMap&lt;String,String&gt; fields = new HashMap&lt;&gt;();\r\nfields.put(&quot;MALE&quot;,&quot;where Gender = &#39;MALE&#39;&quot;);\r\nfields.put(&quot;FEMALE&quot;,&quot;where Gender = &#39;FEMALE&#39;&quot;);\r\n```\r\nThen use that map like this,\r\n```\r\nString $GENDER; // Your argument.\r\nSystem.out.println(fields.get($GENDER));\r\n```","title":"Substitutions in variable name in java","body":"<p>The word <strong>Impossible</strong> isn't defined for me.</p>\n<h4>Approach 1</h4>\n<p>Make a class like this,</p>\n<pre><code>class Constants {\n    public String MALE = &quot;where Gender = 'MALE' &quot;;\n    public String FEMALE = &quot;where Gender = 'FEMALE' &quot;;\n\n    public static String GENDER_(String $argument){\n        Constants constants = new Constants();\n        try {\n            Field field = constants.getClass().getField($argument);\n            return (String) field.get($GENDER);\n        } catch (NoSuchFieldException | IllegalAccessException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Then use it like this,</p>\n<pre><code>String $GENDER;  // This is your argument, either take it from the user.\nSystem.out.println(Constants.GENDER_($GENDER));\n</code></pre>\n<p>This will do exactly what you want. And yes, we haven't used any logic here (if-else).</p>\n<p><strong>NOTE</strong> : <em><code>Constants.GENDER_($GENDER)</code> will return null if the argument is not a field in <code>Constants</code></em></p>\n<h4>Approach 2</h4>\n<p>Use a <code>Map</code> instead of creating feild. Like this,</p>\n<pre><code>Map&lt;String,String&gt; fields = new HashMap&lt;&gt;();\nfields.put(&quot;MALE&quot;,&quot;where Gender = 'MALE'&quot;);\nfields.put(&quot;FEMALE&quot;,&quot;where Gender = 'FEMALE'&quot;);\n</code></pre>\n<p>Then use that map like this,</p>\n<pre><code>String $GENDER; // Your argument.\nSystem.out.println(fields.get($GENDER));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638801909,"creation_date":1638801495,"answer_id":70247215,"question_id":70247017,"body_markdown":"    public enum Gender {\r\n        FEMALE, MALE;\r\n        public String where() {\r\n            return &quot;where Gender = &#39;&quot; + this + &quot;&#39; &quot;;\r\n        }\r\n    }\r\n\r\n    String s = Gender.MALE.where();\r\n\r\n---------------\r\nAs this is probably an attempt to large scale modelling:\r\n\r\n    public static &lt;T extends Enum&lt;T&gt;&gt; String where(T value) {\r\n         return &quot;where Gender = &#39;&quot; + value + &quot;&#39; &quot;;\r\n    }\r\n\r\nDo not expect too much result from this all.","title":"Substitutions in variable name in java","body":"<pre><code>public enum Gender {\n    FEMALE, MALE;\n    public String where() {\n        return &quot;where Gender = '&quot; + this + &quot;' &quot;;\n    }\n}\n\nString s = Gender.MALE.where();\n</code></pre>\n<hr />\n<p>As this is probably an attempt to large scale modelling:</p>\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; String where(T value) {\n     return &quot;where Gender = '&quot; + value + &quot;' &quot;;\n}\n</code></pre>\n<p>Do not expect too much result from this all.</p>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639032427,"creation_date":1638803034,"answer_id":70247553,"question_id":70247017,"body_markdown":"You can put where expressions in Map where key is your variable possible value, for example:\r\n\r\n````\r\nHashMap&lt;String, String&gt; whereMap = new HashMap&lt;&gt;();\r\n\r\nwhereMap.put(&quot;MALE&quot;,   &quot;where Gender = &#39;MALE&#39; &quot;);\r\nwhereMap.put(&quot;FEMALE&quot;, &quot;where Gender = &#39;FEMALE&#39; &quot;);\r\n````\r\n\r\nAnd instead of using condition do substitution by retrieved by key value:\r\n\r\n````\r\nString varr = &quot;MALE&quot;;\r\nSystem.out.println(MessageFormat.format(&quot;SELECT * FROM EMP {0}&quot;, whereMap.get(varr)));\r\n````","title":"Substitutions in variable name in java","body":"<p>You can put where expressions in Map where key is your variable possible value, for example:</p>\n<pre><code>HashMap&lt;String, String&gt; whereMap = new HashMap&lt;&gt;();\n\nwhereMap.put(&quot;MALE&quot;,   &quot;where Gender = 'MALE' &quot;);\nwhereMap.put(&quot;FEMALE&quot;, &quot;where Gender = 'FEMALE' &quot;);\n</code></pre>\n<p>And instead of using condition do substitution by retrieved by key value:</p>\n<pre><code>String varr = &quot;MALE&quot;;\nSystem.out.println(MessageFormat.format(&quot;SELECT * FROM EMP {0}&quot;, whereMap.get(varr)));\n</code></pre>\n"}],"owner":{"account_id":6299475,"reputation":694,"user_id":4894543,"accept_rate":59,"display_name":"Kalpesh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70247553,"answer_count":3,"score":0,"last_activity_date":1639032427,"creation_date":1638800734,"question_id":70247017,"body_markdown":"Not sure if this is possible in JAVA, and also don&#39;t know what it&#39;s called so I&#39;m not sure what to look for, but if it is possible I really wanted to implement the same in my logic. I know we can substitute value but how to substitute variable that I am not sure.\r\n\r\n    public interface Constants {\r\n     GENDER_${MALE} = &quot;where Gender = &#39;MALE&#39; &quot;;\r\n     GENDER_${FEMALE} = &quot;where Gender = &#39;FEMALE&#39; &quot;;\r\n    }\r\n\r\n    public class Impl {\r\n      System.out.println(Constants.GENDER_MALE);\r\n    }\r\n\r\n    Expected O/P : where Gender = &#39;MALE&#39;;\r\n\r\nI just don&#39;t want to use if else condition, if Male then return male specific where clause else female.. because in actual code there are almost 30-35 if else conditions, just want to reduce that, if possible. ","title":"Substitutions in variable name in java","body":"<p>Not sure if this is possible in JAVA, and also don't know what it's called so I'm not sure what to look for, but if it is possible I really wanted to implement the same in my logic. I know we can substitute value but how to substitute variable that I am not sure.</p>\n<pre><code>public interface Constants {\n GENDER_${MALE} = &quot;where Gender = 'MALE' &quot;;\n GENDER_${FEMALE} = &quot;where Gender = 'FEMALE' &quot;;\n}\n\npublic class Impl {\n  System.out.println(Constants.GENDER_MALE);\n}\n\nExpected O/P : where Gender = 'MALE';\n</code></pre>\n<p>I just don't want to use if else condition, if Male then return male specific where clause else female.. because in actual code there are almost 30-35 if else conditions, just want to reduce that, if possible.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1639025679,"post_id":70283984,"comment_id":124244535,"body_markdown":"You can pass it as Serializable Extra I guess because Hashtable implements Serializable.","body":"You can pass it as Serializable Extra I guess because Hashtable implements Serializable."}],"answers":[{"tags":[],"owner":{"account_id":11770076,"reputation":131,"user_id":8613355,"display_name":"Mert &#199;alkany&#252;rek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639029757,"creation_date":1639029757,"answer_id":70285361,"question_id":70283984,"body_markdown":"I suggest to you create a new class for your account detail information and then implement [serializable][1] or [parcelable][2] interface. Then you can pass complex data to another activity via Intent.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/io/Serializable\r\n  [2]: https://developer.android.com/reference/android/os/Parcelable","title":"How can you pass Dictionary to a new Activity in Android Studio?","body":"<p>I suggest to you create a new class for your account detail information and then implement <a href=\"https://developer.android.com/reference/java/io/Serializable\" rel=\"nofollow noreferrer\">serializable</a> or <a href=\"https://developer.android.com/reference/android/os/Parcelable\" rel=\"nofollow noreferrer\">parcelable</a> interface. Then you can pass complex data to another activity via Intent.</p>\n"},{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639032272,"creation_date":1639032272,"answer_id":70285704,"question_id":70283984,"body_markdown":"Use a [Bundle][1] instead:\r\n\r\n    Bundle AccountDetail = new Bundle();\r\n    AccountDetail.put(&quot;PersonName&quot;, personName);\r\n    AccountDetail.put(&quot;Email&quot;, personEmail);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Bundle","title":"How can you pass Dictionary to a new Activity in Android Studio?","body":"<p>Use a <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">Bundle</a> instead:</p>\n<pre><code>Bundle AccountDetail = new Bundle();\nAccountDetail.put(&quot;PersonName&quot;, personName);\nAccountDetail.put(&quot;Email&quot;, personEmail);\n</code></pre>\n"}],"owner":{"account_id":14905662,"reputation":35,"user_id":10762991,"display_name":"kushal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1639032272,"creation_date":1639016353,"question_id":70283984,"body_markdown":"my both key and value needs to be string type\r\n    \r\n    Dictionary AccountDetail= new Hashtable();\r\n                AccountDetail.put(&quot;PersonName&quot;,personName);\r\n                AccountDetail.put(&quot;Email&quot;,personEmail);\r\nBut in putString only single value variable is passing and this gives me error\r\n    \r\n    startActivity(new Intent(getApplicationContext(),Maps.class)\r\n    .putExtra(&quot;AccountDetails&quot; ,AccountDetail));\r\n    finish();\r\n\r\nerror says cant resolve method putExtra(java.lang.string.java.util.dictionary) \r\ni can use for loop and and send all elements but if here is method to pass all value at once let me know\r\n","title":"How can you pass Dictionary to a new Activity in Android Studio?","body":"<p>my both key and value needs to be string type</p>\n<pre><code>Dictionary AccountDetail= new Hashtable();\n            AccountDetail.put(&quot;PersonName&quot;,personName);\n            AccountDetail.put(&quot;Email&quot;,personEmail);\n</code></pre>\n<p>But in putString only single value variable is passing and this gives me error</p>\n<pre><code>startActivity(new Intent(getApplicationContext(),Maps.class)\n.putExtra(&quot;AccountDetails&quot; ,AccountDetail));\nfinish();\n</code></pre>\n<p>error says cant resolve method putExtra(java.lang.string.java.util.dictionary)\ni can use for loop and and send all elements but if here is method to pass all value at once let me know</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639031998,"creation_date":1639031998,"answer_id":70285668,"question_id":70285557,"body_markdown":"You have to change `Long` to `String` because `[I@66a29884)` is String. using java stream you can reverse string easily.\r\n\r\n```\r\nimport java.util.stream.Stream;\r\nimport java.util.stream.Collectors;\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n\tpublic static String digitize(String n) {\r\n        return Stream.of(n)\r\n            .map(str-&gt;new StringBuilder(str).reverse())\r\n            .collect(Collectors.joining(&quot; &quot;));\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String n = scanner.next();\r\n        System.out.print(digitize(n));\r\n    }\r\n}\r\n```","title":"Convert number to reversed array of digits (Scanner + Print-Method)","body":"<p>You have to change <code>Long</code> to <code>String</code> because <code>[I@66a29884)</code> is String. using java stream you can reverse string easily.</p>\n<pre><code>import java.util.stream.Stream;\nimport java.util.stream.Collectors;\nimport java.util.*;\npublic class Main\n{\n    public static String digitize(String n) {\n        return Stream.of(n)\n            .map(str-&gt;new StringBuilder(str).reverse())\n            .collect(Collectors.joining(&quot; &quot;));\n    }\n    \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String n = scanner.next();\n        System.out.print(digitize(n));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22960206,"reputation":11,"user_id":17090200,"display_name":"hashprophet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70285668,"answer_count":1,"score":1,"last_activity_date":1639031998,"creation_date":1639031181,"question_id":70285557,"body_markdown":"I want to get an Array with the reversed number when I invoke the method (Given a random non-negative number, you have to return the digits of this number within an array in reverse order.)\r\nI initalised a scanner, but whenever I execute, I only get the address in the heap I suppose (for example: [I@66a29884).\r\nI know this problem also occurs when we have String, which why we have the toString-Method.\r\nIs there a way I can print the array or the reversed numbers out in the console?\r\n\r\n\r\n\r\n\r\n    public class ConvertNumber {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            Long n = Long.parseLong(scanner.nextLine());\r\n            digitize(n);\r\n        }\r\n        public static int[] digitize(long n) {\r\n            int[] digitized =  new StringBuilder().append(n).reverse().chars().map(Character::getNumericValue).toArray() ;\r\n            System.out.println(digitized);\r\n            return  digitized;\r\n    }\r\n    }","title":"Convert number to reversed array of digits (Scanner + Print-Method)","body":"<p>I want to get an Array with the reversed number when I invoke the method (Given a random non-negative number, you have to return the digits of this number within an array in reverse order.)\nI initalised a scanner, but whenever I execute, I only get the address in the heap I suppose (for example: [I@66a29884).\nI know this problem also occurs when we have String, which why we have the toString-Method.\nIs there a way I can print the array or the reversed numbers out in the console?</p>\n<pre><code>public class ConvertNumber {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Long n = Long.parseLong(scanner.nextLine());\n        digitize(n);\n    }\n    public static int[] digitize(long n) {\n        int[] digitized =  new StringBuilder().append(n).reverse().chars().map(Character::getNumericValue).toArray() ;\n        System.out.println(digitized);\n        return  digitized;\n}\n}\n</code></pre>\n"},{"tags":["java","gradle","jar","libgdx"],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639031981,"creation_date":1639031981,"answer_id":70285664,"question_id":70261503,"body_markdown":"The error says that there are at least two files named LICENSE.txt, that are copied into the same destination, which is not possible, because there must not be two files with the same name in a directory.\r\n\r\nTo fix it you could delete one of the LICENSE.txt files in your project (maybe merge them manually before deleting one).\r\n\r\nOr you can add a duplicateStrategy like the link in the error message suggests:\r\n\r\n```\r\ntask dist(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: project.mainClassName\r\n    }\r\n    dependsOn configurations.runtimeClasspath\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n\r\n    // exclude duplicate files\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    with jar\r\n}\r\n\r\n```\r\n\r\nThe `EXCLUDE` strategy will just ignore the duplicate.  \r\nFrom the documentation:\r\n\r\n&gt;  Do not allow duplicates by ignoring subsequent items to be created at the same path.\r\n&gt;\r\n&gt; If an attempt is made to create a duplicate file/entry during an operation, ignore the item. This will leave the file/entry that was first copied/created in place.\r\n\r\nYou can also use any other duplicate strategy from [this enum](https://docs.gradle.org/7.0.2/javadoc/org/gradle/api/file/DuplicatesStrategy.html).","title":"when creating .jar in my libgdx game an error comes out via gradle dist","body":"<p>The error says that there are at least two files named LICENSE.txt, that are copied into the same destination, which is not possible, because there must not be two files with the same name in a directory.</p>\n<p>To fix it you could delete one of the LICENSE.txt files in your project (maybe merge them manually before deleting one).</p>\n<p>Or you can add a duplicateStrategy like the link in the error message suggests:</p>\n<pre><code>task dist(type: Jar) {\n    manifest {\n        attributes 'Main-Class': project.mainClassName\n    }\n    dependsOn configurations.runtimeClasspath\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n\n    // exclude duplicate files\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    with jar\n}\n\n</code></pre>\n<p>The <code>EXCLUDE</code> strategy will just ignore the duplicate.<br />\nFrom the documentation:</p>\n<blockquote>\n<p>Do not allow duplicates by ignoring subsequent items to be created at the same path.</p>\n<p>If an attempt is made to create a duplicate file/entry during an operation, ignore the item. This will leave the file/entry that was first copied/created in place.</p>\n</blockquote>\n<p>You can also use any other duplicate strategy from <a href=\"https://docs.gradle.org/7.0.2/javadoc/org/gradle/api/file/DuplicatesStrategy.html\" rel=\"nofollow noreferrer\">this enum</a>.</p>\n"}],"owner":{"account_id":19264332,"reputation":3,"user_id":17615224,"display_name":"Zaigard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70285664,"answer_count":1,"score":0,"last_activity_date":1639031981,"creation_date":1638885648,"question_id":70261503,"body_markdown":"Entry LICENSE.txt is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.0.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n```\r\ntask dist(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: project.mainClassName\r\n    }\r\n    dependsOn configurations.runtimeClasspath\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n    with jar\r\n}\r\n```","title":"when creating .jar in my libgdx game an error comes out via gradle dist","body":"<p>Entry LICENSE.txt is a duplicate but no duplicate handling strategy has been set. Please refer to <a href=\"https://docs.gradle.org/7.0.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.0.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy</a> for details.</p>\n<pre><code>task dist(type: Jar) {\n    manifest {\n        attributes 'Main-Class': project.mainClassName\n    }\n    dependsOn configurations.runtimeClasspath\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    with jar\n}\n</code></pre>\n"},{"tags":["java","spring","ibm-cloud","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1515652036,"post_id":48198849,"comment_id":83382888,"body_markdown":"I&#39;m not an expert with Bluemix but most likely in Bluemix there&#39;s some component that (go router or sth) that takes part in the communication and is not traced. THat means that it ignores the tracing headers and doesn&#39;t propagate them. But that&#39;s just my hunch.","body":"I&#39;m not an expert with Bluemix but most likely in Bluemix there&#39;s some component that (go router or sth) that takes part in the communication and is not traced. THat means that it ignores the tracing headers and doesn&#39;t propagate them. But that&#39;s just my hunch."},{"owner":{"account_id":10054700,"reputation":117,"user_id":7433306,"accept_rate":75,"display_name":"Ram"},"score":0,"creation_date":1515700496,"post_id":48198849,"comment_id":83411477,"body_markdown":"@MarcinGrzejszczak  Thaks Marcin. In order to check if your above comment make sense, I added a down line call from the /hello API that makes another call to one more resource in same service. As you mentioned even for the down line call as well even though which is happening through the RestTemplate that is intercepting Sluth Span, in blue mix deplored app, it is generating the new Span for each such component. I am surprised if anyone has used Sleuth for distributed traceability in Bluemix Apps. I have approached some of Bluemix SMEs to assist here further.","body":"@MarcinGrzejszczak  Thaks Marcin. In order to check if your above comment make sense, I added a down line call from the /hello API that makes another call to one more resource in same service. As you mentioned even for the down line call as well even though which is happening through the RestTemplate that is intercepting Sluth Span, in blue mix deplored app, it is generating the new Span for each such component. I am surprised if anyone has used Sleuth for distributed traceability in Bluemix Apps. I have approached some of Bluemix SMEs to assist here further."},{"owner":{"account_id":10054700,"reputation":117,"user_id":7433306,"accept_rate":75,"display_name":"Ram"},"score":0,"creation_date":1516032173,"post_id":48198849,"comment_id":83516149,"body_markdown":"Here is the solution I got. In order to make it work in Bluemix, I need to pass TraceId as well as SpanId both headers together in Request.","body":"Here is the solution I got. In order to make it work in Bluemix, I need to pass TraceId as well as SpanId both headers together in Request."},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":1,"creation_date":1516032979,"post_id":48198849,"comment_id":83516652,"body_markdown":"You always need to pass both values. All the `X-B3` headers must be propagated to make distributed tracing work properly.","body":"You always need to pass both values. All the <code>X-B3</code> headers must be propagated to make distributed tracing work properly."},{"owner":{"account_id":10054700,"reputation":117,"user_id":7433306,"accept_rate":75,"display_name":"Ram"},"score":0,"creation_date":1516207988,"post_id":48198849,"comment_id":83597416,"body_markdown":"Result as expected after passing both values:\nURL: https://sleuth-header-demo.mybluemix.net/hello?name=Ram\nHeaders:\nX-B3-TraceId:d61436368bae3c12ce5f844337f3bb22\nX-B3-SpanId:ce5f844337f3ee88\nResponse:\nHeader:\nX-B3-Spanid ce5f844337f3ee88\nX-B3-Traceid d61436368bae3c12ce5f844337f3bb22\nBody: Welcome There!!\n\nApp Logs:\n[-,d61436368bae3c12ce5f844337f3bb22,ce5f844337f3ee88,true] [nio-8080-exec-3] c.e.s.SleuthHeaderController : Ram Forwarding to Home&#160;\n[-,d61436368bae3c12ce5f844337f3bb22,ee27e23e5f565eb0,true][nio-8080-exec-2] c.e.s.SleuthHeaderController : Call is at Home","body":"Result as expected after passing both values: URL: <a href=\"https://sleuth-header-demo.mybluemix.net/hello?name=Ram\" rel=\"nofollow noreferrer\">sleuth-header-demo.mybluemix.net/hello?name=Ram</a> Headers: X-B3-TraceId:d61436368bae3c12ce5f844337f3bb22 X-B3-SpanId:ce5f844337f3ee88 Response: Header: X-B3-Spanid ce5f844337f3ee88 X-B3-Traceid d61436368bae3c12ce5f844337f3bb22 Body: Welcome There!!  App Logs: [-,d61436368bae3c12ce5f844337f3bb22,ce5f844337f3ee88,true] [nio-8080-exec-3] c.e.s.SleuthHeaderController : Ram Forwarding to Home  [-,d61436368bae3c12ce5f844337f3bb22,ee27e23e5f565eb0,true][n&zwnj;&#8203;io-8080-exec-2] c.e.s.SleuthHeaderController : Call is at Home"}],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516213931,"creation_date":1516213931,"answer_id":48307778,"question_id":48198849,"body_markdown":"You always need to pass tracing headers. All the X-B3 headers must be propagated to make distributed tracing work properly.","title":"Sleuth Header X-B3-TraceId value get Regenerated even if passed to the Service Request as Header In Bluemix","body":"<p>You always need to pass tracing headers. All the X-B3 headers must be propagated to make distributed tracing work properly.</p>\n"},{"tags":[],"owner":{"account_id":14498364,"reputation":31,"user_id":10472281,"display_name":"Marius Wang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639031503,"creation_date":1639031503,"answer_id":70285596,"question_id":48198849,"body_markdown":"below 2 conditions are required:\r\n1. both X-B3-TraceId and X-B3-SpanId are required in header\r\n2. the value of X-B3 variables should be valid.\r\n\r\n```\r\n    @GetMapping(&quot;/async&quot;)\r\n    public String helloSleuthAsync() throws InterruptedException {       \r\n        return &quot;success, traceId:&quot; + MDC.get(&quot;X-B3-TraceId&quot;);\r\n    }\r\n```\r\ne.g.\r\n\r\ncondition 2 is matched:\r\n```\r\ncurl --location --request GET &#39;http://localhost:8080/async&#39; \\\r\n--header &#39;X-B3-TraceId: d61436368bae3c12&#39; \\\r\n--header &#39;X-B3-SpanId: ce5f844337f3ee88&#39;\r\n\r\nresponse: success, traceId:d61436368bae3c12\r\n```\r\n\r\n\r\ncondition 2 is not matched:\r\n\r\n```\r\ncurl --location --request GET &#39;http://localhost:8080/async&#39; \\\r\n--header &#39;X-B3-TraceId: marius&#39; \\\r\n--header &#39;X-B3-SpanId: marius&#39;\r\n\r\nresponse:success, traceId:4faae9c09822cf72\r\n```\r\n\r\n\r\n","title":"Sleuth Header X-B3-TraceId value get Regenerated even if passed to the Service Request as Header In Bluemix","body":"<p>below 2 conditions are required:</p>\n<ol>\n<li>both X-B3-TraceId and X-B3-SpanId are required in header</li>\n<li>the value of X-B3 variables should be valid.</li>\n</ol>\n<pre><code>    @GetMapping(&quot;/async&quot;)\n    public String helloSleuthAsync() throws InterruptedException {       \n        return &quot;success, traceId:&quot; + MDC.get(&quot;X-B3-TraceId&quot;);\n    }\n</code></pre>\n<p>e.g.</p>\n<p>condition 2 is matched:</p>\n<pre><code>curl --location --request GET 'http://localhost:8080/async' \\\n--header 'X-B3-TraceId: d61436368bae3c12' \\\n--header 'X-B3-SpanId: ce5f844337f3ee88'\n\nresponse: success, traceId:d61436368bae3c12\n</code></pre>\n<p>condition 2 is not matched:</p>\n<pre><code>curl --location --request GET 'http://localhost:8080/async' \\\n--header 'X-B3-TraceId: marius' \\\n--header 'X-B3-SpanId: marius'\n\nresponse:success, traceId:4faae9c09822cf72\n</code></pre>\n"}],"owner":{"account_id":10054700,"reputation":117,"user_id":7433306,"accept_rate":75,"display_name":"Ram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48307778,"answer_count":2,"score":2,"last_activity_date":1639031503,"creation_date":1515636606,"question_id":48198849,"body_markdown":"I would like my service consumers pass the TraceId as Header Param with name X-B3-TraceId and valid 128 bits Hex String that shall get propagated in further path down the line and indeed service will return same Sleuth Trace Id back to caller. I have used Spring Cloud Sleuth added Custom Filter and Span Extractor in order to put in in Service Response.\r\n\r\nThe Entire set up works well in my local when App is deployed in Embedded tomcat, however when same App is deployed in Bluemix then The Response does not have same Sleuth Trace Id which was passed in Request.\r\n\r\nIs there any known such defect and workaround for this problem when Sleuth is used in IBM Bluemix Cloud Foundry ? \r\n\r\nIf it is, could you please advise how to proceed.\r\n\r\nI have created Demo Project in following location: https://github.com/imram/sleuthHeaderIssue\r\n\r\n    Please Run the Micro Service locally.    \r\n    URL: localhost:9090/hello?name=Ram\r\n    Header:\r\n        X-B3-TraceId:d61436368bae3c12ce5f844337f3ee52\r\n\r\n    Service will return:\r\n        HELLORam\r\n        Header:\r\n        Content-Length 8\r\n        Content-Type text/plain;charset=UTF-8\r\n        Date Thu, 11 Jan 2018 01:38:48 GMT\r\n        X-Application-Context application:9090\r\n        X-B3-TraceId d61436368bae3c12ce5f844337f3ee52\r\n\r\n        Note Trace Id is same in RQ and RS.\r\n\r\n    Deploy Same Service in IBM Bluemix:\r\n        URL: https://sleuth-header-demo.mybluemix.net/hello?name=Ram .\r\n        Header\r\n        X-B3-TraceId:d61436368bae3c12ce5f844337f3ee52\r\n\r\n        Response:\r\n           HELLORam\r\n           Header:\r\n           Connection Keep-Alive\r\n           Content-Type text/plain;charset=UTF-8\r\n           Date Thu, 11 Jan 2018 01:38:30 GMT\r\n           Transfer-Encoding chunked\r\n           X-Application-Context sleuth-header-demo:bluemix:0\r\n           X-B3-Traceid b896d05d9f0ae105\r\n           X-Backside-Transport OK OK\r\n           X-Global-Transaction-ID 2714561407\r\n\r\n     See the Trace Id(X-B3-Traceid) got ignore what was present in \r\n     Request and got Regenerated as b896d05d9f0ae105","title":"Sleuth Header X-B3-TraceId value get Regenerated even if passed to the Service Request as Header In Bluemix","body":"<p>I would like my service consumers pass the TraceId as Header Param with name X-B3-TraceId and valid 128 bits Hex String that shall get propagated in further path down the line and indeed service will return same Sleuth Trace Id back to caller. I have used Spring Cloud Sleuth added Custom Filter and Span Extractor in order to put in in Service Response.</p>\n\n<p>The Entire set up works well in my local when App is deployed in Embedded tomcat, however when same App is deployed in Bluemix then The Response does not have same Sleuth Trace Id which was passed in Request.</p>\n\n<p>Is there any known such defect and workaround for this problem when Sleuth is used in IBM Bluemix Cloud Foundry ? </p>\n\n<p>If it is, could you please advise how to proceed.</p>\n\n<p>I have created Demo Project in following location: <a href=\"https://github.com/imram/sleuthHeaderIssue\" rel=\"nofollow noreferrer\">https://github.com/imram/sleuthHeaderIssue</a></p>\n\n<pre><code>Please Run the Micro Service locally.    \nURL: localhost:9090/hello?name=Ram\nHeader:\n    X-B3-TraceId:d61436368bae3c12ce5f844337f3ee52\n\nService will return:\n    HELLORam\n    Header:\n    Content-Length 8\n    Content-Type text/plain;charset=UTF-8\n    Date Thu, 11 Jan 2018 01:38:48 GMT\n    X-Application-Context application:9090\n    X-B3-TraceId d61436368bae3c12ce5f844337f3ee52\n\n    Note Trace Id is same in RQ and RS.\n\nDeploy Same Service in IBM Bluemix:\n    URL: https://sleuth-header-demo.mybluemix.net/hello?name=Ram .\n    Header\n    X-B3-TraceId:d61436368bae3c12ce5f844337f3ee52\n\n    Response:\n       HELLORam\n       Header:\n       Connection Keep-Alive\n       Content-Type text/plain;charset=UTF-8\n       Date Thu, 11 Jan 2018 01:38:30 GMT\n       Transfer-Encoding chunked\n       X-Application-Context sleuth-header-demo:bluemix:0\n       X-B3-Traceid b896d05d9f0ae105\n       X-Backside-Transport OK OK\n       X-Global-Transaction-ID 2714561407\n\n See the Trace Id(X-B3-Traceid) got ignore what was present in \n Request and got Regenerated as b896d05d9f0ae105\n</code></pre>\n"},{"tags":["java","inputstream","objectinputstream"],"answers":[{"tags":[],"owner":{"account_id":22810399,"reputation":55,"user_id":16961801,"display_name":"Mr. Goose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639031313,"creation_date":1639031313,"answer_id":70285576,"question_id":70282235,"body_markdown":"Alright for some reason the .available() method isn&#39;t showing any bytes regardless of if there actually are any or not. To counter this I just threw in another try/catch statement where it continuously reads objects until it hits an EOFException and catches itself. \r\n\r\nMy code ended up looking like this once working.\r\n```\r\npublic void loadFromFile() {\r\n\t\t//** Loads set of shape objects from file\r\n\t\tShape shape = null;\r\n\t\tint count = 0;\r\n\t\ttry {\r\n\t\t\tFileInputStream fileIn = new FileInputStream(&quot;save.ser&quot;);\r\n\t\t\tObjectInputStream in = new ObjectInputStream(fileIn);\r\n\t\t\tSystem.out.println(in.available() + &quot; Bytes&quot;);\r\n\t\t\ttry {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tshape = (Shape) in.readObject();\r\n\t\t\t\t\tif (shape != null) {\r\n\t\t\t\t\t\tshapes.add(shape);\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Shape is null&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (EOFException e) {\r\n\t\t\t\tSystem.out.println(&quot;End of file exception&quot;);\r\n\t\t\t}\r\n\t\t\tin.close();\r\n\t\t\tfileIn.close();\r\n\t\t\tSystem.out.println(&quot;Deserialized &quot; + count + &quot; Objects&quot;);\r\n\t\t\trepaint();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```","title":"ObjectInputStream isn&#39;t finding any data to pull?","body":"<p>Alright for some reason the .available() method isn't showing any bytes regardless of if there actually are any or not. To counter this I just threw in another try/catch statement where it continuously reads objects until it hits an EOFException and catches itself.</p>\n<p>My code ended up looking like this once working.</p>\n<pre><code>public void loadFromFile() {\n        //** Loads set of shape objects from file\n        Shape shape = null;\n        int count = 0;\n        try {\n            FileInputStream fileIn = new FileInputStream(&quot;save.ser&quot;);\n            ObjectInputStream in = new ObjectInputStream(fileIn);\n            System.out.println(in.available() + &quot; Bytes&quot;);\n            try {\n                while (true) {\n                    shape = (Shape) in.readObject();\n                    if (shape != null) {\n                        shapes.add(shape);\n                        count++;\n                    } else {\n                        System.out.println(&quot;Shape is null&quot;);\n                    }\n                }\n            } catch (EOFException e) {\n                System.out.println(&quot;End of file exception&quot;);\n            }\n            in.close();\n            fileIn.close();\n            System.out.println(&quot;Deserialized &quot; + count + &quot; Objects&quot;);\n            repaint();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22810399,"reputation":55,"user_id":16961801,"display_name":"Mr. Goose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639031313,"creation_date":1639000820,"question_id":70282235,"body_markdown":"I am trying to read and write shape objects to a file for a drawing program, but when I try to read from the file it shows that the file is empty. The file is definitely being written to and updated, but when trying to read from the file it is showing that there are zero bytes available. The shape class is serializable so I am not sure why this isn&#39;t working at all. \r\n```\r\npublic void writeToFile() {\r\n\t\ttry {\r\n\t\t\tFileOutputStream fileOut = new FileOutputStream(&quot;C:\\\\Users\\\\johnm\\\\eclipse-workspace\\\\CSE205_Assignment05\\\\save.ser&quot;);\r\n\t\t\tObjectOutputStream out = new ObjectOutputStream(fileOut);\r\n\t\t\tfor (Shape item : shapes) {\r\n\t\t\t\tout.writeObject(item);\r\n\t\t\t}\r\n\t\t\tout.close();\r\n\t\t\tfileOut.close();\r\n\t\t\tSystem.out.println(&quot;Serialized data is saved in output.ser&quot;);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void loadFromFile() {\r\n\t\tboolean cont = true;\r\n\t\tShape shape = null;\r\n\t\tint count = 0;\r\n\t\twhile (cont) {\r\n\t\t\ttry {\r\n\t\t\t\tFileInputStream fileIn = new FileInputStream(&quot;C:\\\\Users\\\\johnm\\\\eclipse-workspace\\\\CSE205_Assignment05\\\\save.ser&quot;);\r\n\t\t\t\tObjectInputStream in = new ObjectInputStream(fileIn);\r\n\t\t\t\tSystem.out.println(in.available() + &quot; Bytes&quot;);\r\n\t\t\t\tif (in.available() != 0) {\r\n\t\t\t\t\tshape = (Shape) in.readObject();\r\n\t\t\t\t\tif (shape != null) {\r\n\t\t\t\t\t\tshapes.add(shape);\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Shape is null&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcont = false;\r\n\t\t\t\t}\r\n\t\t\t\tin.close();\r\n\t\t\t\tfileIn.close();\r\n\t\t\t\tSystem.out.println(&quot;Deserialized &quot; + count + &quot; Objects&quot;);\r\n\t\t\t} catch (ClassNotFoundException c) {\r\n\t\t\t\tSystem.out.println(&quot;Class not found&quot;);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"ObjectInputStream isn&#39;t finding any data to pull?","body":"<p>I am trying to read and write shape objects to a file for a drawing program, but when I try to read from the file it shows that the file is empty. The file is definitely being written to and updated, but when trying to read from the file it is showing that there are zero bytes available. The shape class is serializable so I am not sure why this isn't working at all.</p>\n<pre><code>public void writeToFile() {\n        try {\n            FileOutputStream fileOut = new FileOutputStream(&quot;C:\\\\Users\\\\johnm\\\\eclipse-workspace\\\\CSE205_Assignment05\\\\save.ser&quot;);\n            ObjectOutputStream out = new ObjectOutputStream(fileOut);\n            for (Shape item : shapes) {\n                out.writeObject(item);\n            }\n            out.close();\n            fileOut.close();\n            System.out.println(&quot;Serialized data is saved in output.ser&quot;);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void loadFromFile() {\n        boolean cont = true;\n        Shape shape = null;\n        int count = 0;\n        while (cont) {\n            try {\n                FileInputStream fileIn = new FileInputStream(&quot;C:\\\\Users\\\\johnm\\\\eclipse-workspace\\\\CSE205_Assignment05\\\\save.ser&quot;);\n                ObjectInputStream in = new ObjectInputStream(fileIn);\n                System.out.println(in.available() + &quot; Bytes&quot;);\n                if (in.available() != 0) {\n                    shape = (Shape) in.readObject();\n                    if (shape != null) {\n                        shapes.add(shape);\n                        count++;\n                    } else {\n                        System.out.println(&quot;Shape is null&quot;);\n                    }\n                } else {\n                    cont = false;\n                }\n                in.close();\n                fileIn.close();\n                System.out.println(&quot;Deserialized &quot; + count + &quot; Objects&quot;);\n            } catch (ClassNotFoundException c) {\n                System.out.println(&quot;Class not found&quot;);\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1558445135,"post_id":56228180,"comment_id":99097380,"body_markdown":"You are using JList wrong. Please read the [documentation](https://docs.oracle.com/javase/7/docs/api/javax/swing/JList.html) and the [tutorial](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html).","body":"You are using JList wrong. Please read the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JList.html\" rel=\"nofollow noreferrer\">documentation</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"score":0,"creation_date":1558454430,"post_id":56228180,"comment_id":99103222,"body_markdown":"Code updated, as I cant see nothing wrong with usage of the JList, neither my teacher. Sorry me, newbie here, now understanding the importance of well documented posts.","body":"Code updated, as I cant see nothing wrong with usage of the JList, neither my teacher. Sorry me, newbie here, now understanding the importance of well documented posts."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1558455006,"post_id":56228180,"comment_id":99103520,"body_markdown":"A list contains data, not components. To move data from one list to another, you remove it from the model of the first one and add it to the model of the second one.","body":"A list contains data, not components. To move data from one list to another, you remove it from the model of the first one and add it to the model of the second one."}],"answers":[{"tags":[],"owner":{"account_id":15987766,"reputation":46,"user_id":11537673,"display_name":"Shrey Trivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558527424,"creation_date":1558527424,"answer_id":56256619,"question_id":56228180,"body_markdown":"The reason you are not seeing anything is because you have not added the ControlToRight(ActionListener) to the list of listeners on any list.\r\n\r\nChange:\r\n\r\n    public ControlToRight(PanelLeft panL,PanelRight panR) {\r\n        pl = panL;\r\n        pr = panR;\r\n        pl.getList().addActionListener(this);\r\n        pr.getList().addActionListener(this);\r\n    }","title":"Troubles getting JList components","body":"<p>The reason you are not seeing anything is because you have not added the ControlToRight(ActionListener) to the list of listeners on any list.</p>\n\n<p>Change:</p>\n\n<pre><code>public ControlToRight(PanelLeft panL,PanelRight panR) {\n    pl = panL;\n    pr = panR;\n    pl.getList().addActionListener(this);\n    pr.getList().addActionListener(this);\n}\n</code></pre>\n"}],"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639030586,"creation_date":1558386385,"question_id":56228180,"body_markdown":"Troubles getting `JList getSelectedIndices` and `getComponents`. Code shown is wrapped into an `actionPerformed` -&gt; `ActionListener` of a button.\r\n\r\nThis is my piece of code:\r\n\r\n    public class PanelLeft extends JPanel {\r\n    \r\n    \tprivate DefaultListModel&lt;String&gt; dlm;\r\n    \tprivate JList&lt;String&gt; list;\r\n    \t\r\n    \tpublic PanelLeft() {\r\n    \t\t\r\n    \t\tdlm = new DefaultListModel&lt;String&gt;();\r\n    \t\tdlm.addElement(&quot;FOL&quot;);\r\n    \t\tdlm.addElement(&quot;SSII&quot;);\r\n    \t\tdlm.addElement(&quot;EEDD&quot;);\r\n    \t\tdlm.addElement(&quot;Marcas&quot;);\r\n    \t\tdlm.addElement(&quot;BBDD&quot;);\r\n    \t\tdlm.addElement(&quot;Programaci&#243;n&quot;);\r\n    \t\t\r\n    \t\tlist = new JList&lt;String&gt;(dlm);\r\n    \t\tlist.setFixedCellWidth(200);\r\n    \t\t\r\n    \t\t\r\n    \t\tJScrollPane jsp = new JScrollPane(list);\r\n    \t\tjsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n    \t\tjsp.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \t\t\r\n    \t\tadd(jsp);\r\n    \t}\r\n    \r\n    \tpublic JList&lt;String&gt; getList() {\r\n    \t\treturn list;\r\n    \t}\r\n    }\r\n\r\nFor the `ActionListener`\r\n\r\n    class ControlToRight implements ActionListener {\r\n    \r\n    \tprivate PanelLeft pl;\r\n    \tprivate PanelRight pr;\r\n    \t\r\n    \tpublic ControlToRight(PanelLeft panL,PanelRight panR) {\r\n    \t\tpl = panL;\r\n    \t\tpr = panR;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif(pl.getList().getSelectedValuesList() != null) {\r\n    \t\t\tfor(int i : pl.getList().getSelectedIndices()) {\r\n    \t\t\t\tpr.getList().add(pl.getList().getComponent(i));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIt should add components from the left panel list (`pl`) to the right panel list(`pr`).\r\n\r\nThe actual result is nothing at all. It does nothing, no `ArrayIndexOutOfBounds`, nothing. It doesn&#39;t even jump into the `for` loop.\r\n\r\n\r\n","title":"Troubles getting JList components","body":"<p>Troubles getting <code>JList getSelectedIndices</code> and <code>getComponents</code>. Code shown is wrapped into an <code>actionPerformed</code> -&gt; <code>ActionListener</code> of a button.</p>\n<p>This is my piece of code:</p>\n<pre><code>public class PanelLeft extends JPanel {\n\n    private DefaultListModel&lt;String&gt; dlm;\n    private JList&lt;String&gt; list;\n    \n    public PanelLeft() {\n        \n        dlm = new DefaultListModel&lt;String&gt;();\n        dlm.addElement(&quot;FOL&quot;);\n        dlm.addElement(&quot;SSII&quot;);\n        dlm.addElement(&quot;EEDD&quot;);\n        dlm.addElement(&quot;Marcas&quot;);\n        dlm.addElement(&quot;BBDD&quot;);\n        dlm.addElement(&quot;Programacin&quot;);\n        \n        list = new JList&lt;String&gt;(dlm);\n        list.setFixedCellWidth(200);\n        \n        \n        JScrollPane jsp = new JScrollPane(list);\n        jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        jsp.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        \n        add(jsp);\n    }\n\n    public JList&lt;String&gt; getList() {\n        return list;\n    }\n}\n</code></pre>\n<p>For the <code>ActionListener</code></p>\n<pre><code>class ControlToRight implements ActionListener {\n\n    private PanelLeft pl;\n    private PanelRight pr;\n    \n    public ControlToRight(PanelLeft panL,PanelRight panR) {\n        pl = panL;\n        pr = panR;\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(pl.getList().getSelectedValuesList() != null) {\n            for(int i : pl.getList().getSelectedIndices()) {\n                pr.getList().add(pl.getList().getComponent(i));\n            }\n        }\n    }\n}\n</code></pre>\n<p>It should add components from the left panel list (<code>pl</code>) to the right panel list(<code>pr</code>).</p>\n<p>The actual result is nothing at all. It does nothing, no <code>ArrayIndexOutOfBounds</code>, nothing. It doesn't even jump into the <code>for</code> loop.</p>\n"},{"tags":["java","swing","arraylist","jlist"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1558858802,"post_id":56311615,"comment_id":99233331,"body_markdown":"You need to store the result of the `toArray` call, `list.add(bikes.toArray())`.","body":"You need to store the result of the <code>toArray</code> call, <code>list.add(bikes.toArray())</code>."},{"owner":{"account_id":14622946,"reputation":27,"user_id":10561043,"display_name":"Lachlan Williamson"},"score":0,"creation_date":1558859124,"post_id":56311615,"comment_id":99233399,"body_markdown":"Where do I put this code? Where do I get list from?","body":"Where do I put this code? Where do I get list from?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1558859524,"post_id":56311615,"comment_id":99233481,"body_markdown":"`list` is your `JList`. `lstBikes = new JList(bikes.toArray ()) `.","body":"<code>list</code> is your <code>JList</code>. <code>lstBikes = new JList(bikes.toArray ()) </code>."}],"answers":[{"tags":[],"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1558859922,"creation_date":1558859922,"answer_id":56311967,"question_id":56311615,"body_markdown":"@daniu is right. You can use this\r\n\r\n `lstBikes = new JList(bikes.toArray());`\r\n\r\nAnother thing is that bikes will always return size 0 in `BikeNowGUI` because you are calling `BikeNowGUI` first before `Initial` method. I would suggest you move all the code to Initial method.","title":"How can I display an arraylist in a JList?","body":"<p>@daniu is right. You can use this</p>\n\n<p><code>lstBikes = new JList(bikes.toArray());</code></p>\n\n<p>Another thing is that bikes will always return size 0 in <code>BikeNowGUI</code> because you are calling <code>BikeNowGUI</code> first before <code>Initial</code> method. I would suggest you move all the code to Initial method.</p>\n"}],"owner":{"account_id":14622946,"reputation":27,"user_id":10561043,"display_name":"Lachlan Williamson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56311967,"answer_count":1,"score":2,"last_activity_date":1639030555,"creation_date":1558856499,"question_id":56311615,"body_markdown":"I want to display the all the details of elements in arraylist bikes in a Jlist. I&#39;ve been trying to figure out how to do this for a while but I just can&#39;t crack it. The Jlist is part of a panel called pnlBikesTab. \r\n\r\n**ArrayList and JList**\r\n\r\n     ArrayList&lt;Bike&gt; bikes = new ArrayList&lt;Bike&gt;();\r\n     JList&lt;String&gt; lstBikes ;\r\n\r\n**Populating Arraylist**\r\n\r\n     public void Intial(){\r\n    //Add 12 bikes  \r\n     Bike b1 = new Bike(1, &quot;Mountain&quot;, 12, &quot;Not available&quot;) ;       \r\n        Bike b2 = new Bike(2, &quot;Road&quot;, 10, &quot;Available&quot;) ;         \r\n        Bike b3 = new Bike(3, &quot;City&quot;, 8, &quot;Available&quot;) ; \r\n        Bike b4 = new Bike(4, &quot;Mountain&quot;, 12, &quot;Available&quot;) ;   \r\n        Bike b5 = new Bike(5, &quot;Road&quot;, 10, &quot;Available&quot;) ;    \r\n        Bike b6 = new Bike(6, &quot;City&quot;, 8, &quot;Available&quot;) ;        \r\n        Bike b7 = new Bike(7, &quot;Mountain&quot;, 12, &quot;Available&quot;) ;\r\n        Bike b8 = new Bike(8,&quot;Road&quot;, 10, &quot;Available&quot;) ;\r\n        EBike b9 = new EBike(9, &quot;eBike&quot;, 18, &quot;Not available&quot;, &quot;Full Power&quot;) ;\r\n        EBike b10 = new EBike(10, &quot;eBike&quot;, 18, &quot;Available&quot;, &quot;Full Power&quot;);\r\n        EBike b11 = new EBike(11, &quot;eBike&quot;, 14, &quot;Available&quot;, &quot;Power Assist&quot;) ;\r\n        EBike b12 = new EBike(12, &quot;eBike&quot;, 14, &quot;Available&quot;, &quot;Power Assist&quot;) ;\r\n        bikes.add(b1) ;\r\n        bikes.add(b2) ;\r\n        bikes.add(b3) ;\r\n        bikes.add(b4) ;\r\n        bikes.add(b5) ;\r\n        bikes.add(b6) ;\r\n        bikes.add(b7) ;\r\n        bikes.add(b8) ;\r\n        bikes.add(b9) ;\r\n        bikes.add(b10) ;\r\n        bikes.add(b11) ;\r\n        bikes.add(b12) ;\r\n    }\r\n\r\n**Main**\r\n\r\n     public static void main(String[] args){\r\n            BikeNowGUI fr = new BikeNowGUI();\r\n            fr.Intial();\r\n            fr.setTitle(&quot;Bikes&quot;) ; \r\n            fr.setLocationRelativeTo(null); //Center frame\r\n            fr.setSize(300, 500);\r\n            fr.setVisible(true);\r\n        }\r\n\r\n**GUI**\r\n \r\n\r\n    public BikeNowGUI(){\r\n            tabs = new JTabbedPane() ; \r\n            //BikesTab Panel  \r\n            pnlBikesTab = new JPanel() ;\r\n            lblBikes = new JLabel(&quot;Bikes&quot;) ; \r\n            pnlBikesTab.add(lblBikes) ;\r\n            lblImages = new JLabel(icons[0]) ;\r\n            pnlBikesTab.add(lblImages) ;\r\n            //Jlist\r\n            ArrayList&lt;Bike&gt; bikes = new ArrayList&lt;Bike&gt;();\r\n            Bike[] items = new Bike[bikes.size()];\r\n            bikes.toArray(items);\r\n            lstBikes = new JList(items);\r\n            pnlBikesTab.add(lstBikes) ;\r\n            tabs.add(&quot;Bikes&quot;, pnlBikesTab) ;\r\n            \r\n            //CustomersTab Panel\r\n            pnlCustomersTab = new JPanel();\r\n            tabs.add(&quot;Customers&quot;, pnlCustomersTab) ;\r\n            \r\n            //RentsTab Panel\r\n            pnlRentsTab = new JPanel(); \r\n            tabs.add(&quot;Rents&quot;, pnlRentsTab) ;\r\n            \r\n            add(tabs);\r\n        }\r\n","title":"How can I display an arraylist in a JList?","body":"<p>I want to display the all the details of elements in arraylist bikes in a Jlist. I've been trying to figure out how to do this for a while but I just can't crack it. The Jlist is part of a panel called pnlBikesTab. </p>\n\n<p><strong>ArrayList and JList</strong></p>\n\n<pre><code> ArrayList&lt;Bike&gt; bikes = new ArrayList&lt;Bike&gt;();\n JList&lt;String&gt; lstBikes ;\n</code></pre>\n\n<p><strong>Populating Arraylist</strong></p>\n\n<pre><code> public void Intial(){\n//Add 12 bikes  \n Bike b1 = new Bike(1, \"Mountain\", 12, \"Not available\") ;       \n    Bike b2 = new Bike(2, \"Road\", 10, \"Available\") ;         \n    Bike b3 = new Bike(3, \"City\", 8, \"Available\") ; \n    Bike b4 = new Bike(4, \"Mountain\", 12, \"Available\") ;   \n    Bike b5 = new Bike(5, \"Road\", 10, \"Available\") ;    \n    Bike b6 = new Bike(6, \"City\", 8, \"Available\") ;        \n    Bike b7 = new Bike(7, \"Mountain\", 12, \"Available\") ;\n    Bike b8 = new Bike(8,\"Road\", 10, \"Available\") ;\n    EBike b9 = new EBike(9, \"eBike\", 18, \"Not available\", \"Full Power\") ;\n    EBike b10 = new EBike(10, \"eBike\", 18, \"Available\", \"Full Power\");\n    EBike b11 = new EBike(11, \"eBike\", 14, \"Available\", \"Power Assist\") ;\n    EBike b12 = new EBike(12, \"eBike\", 14, \"Available\", \"Power Assist\") ;\n    bikes.add(b1) ;\n    bikes.add(b2) ;\n    bikes.add(b3) ;\n    bikes.add(b4) ;\n    bikes.add(b5) ;\n    bikes.add(b6) ;\n    bikes.add(b7) ;\n    bikes.add(b8) ;\n    bikes.add(b9) ;\n    bikes.add(b10) ;\n    bikes.add(b11) ;\n    bikes.add(b12) ;\n}\n</code></pre>\n\n<p><strong>Main</strong></p>\n\n<pre><code> public static void main(String[] args){\n        BikeNowGUI fr = new BikeNowGUI();\n        fr.Intial();\n        fr.setTitle(\"Bikes\") ; \n        fr.setLocationRelativeTo(null); //Center frame\n        fr.setSize(300, 500);\n        fr.setVisible(true);\n    }\n</code></pre>\n\n<p><strong>GUI</strong></p>\n\n<pre><code>public BikeNowGUI(){\n        tabs = new JTabbedPane() ; \n        //BikesTab Panel  \n        pnlBikesTab = new JPanel() ;\n        lblBikes = new JLabel(\"Bikes\") ; \n        pnlBikesTab.add(lblBikes) ;\n        lblImages = new JLabel(icons[0]) ;\n        pnlBikesTab.add(lblImages) ;\n        //Jlist\n        ArrayList&lt;Bike&gt; bikes = new ArrayList&lt;Bike&gt;();\n        Bike[] items = new Bike[bikes.size()];\n        bikes.toArray(items);\n        lstBikes = new JList(items);\n        pnlBikesTab.add(lstBikes) ;\n        tabs.add(\"Bikes\", pnlBikesTab) ;\n\n        //CustomersTab Panel\n        pnlCustomersTab = new JPanel();\n        tabs.add(\"Customers\", pnlCustomersTab) ;\n\n        //RentsTab Panel\n        pnlRentsTab = new JPanel(); \n        tabs.add(\"Rents\", pnlRentsTab) ;\n\n        add(tabs);\n    }\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":4407551,"reputation":1343,"user_id":3591480,"display_name":"Teng-pao Yu"},"score":0,"creation_date":1613612371,"post_id":28678788,"comment_id":117131541,"body_markdown":"Duplicate of https://stackoverflow.com/questions/20740447/why-is-onpredraw-called-twice","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/20740447/why-is-onpredraw-called-twice\" title=\"why is onpredraw called twice\">stackoverflow.com/questions/20740447/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1424713440,"creation_date":1424710037,"answer_id":28678833,"question_id":28678788,"body_markdown":"You need to remove the `OnPreDrawListener` in the first line of your `onPreDraw()` method if you only want it to get called once:\r\n\r\n    myView.getViewTreeObserver().removeOnPreDrawListener(this);","title":"OnPreDraw() is getting called over and over. what could explain it?","body":"<p>You need to remove the <code>OnPreDrawListener</code> in the first line of your <code>onPreDraw()</code> method if you only want it to get called once:</p>\n\n<pre><code>myView.getViewTreeObserver().removeOnPreDrawListener(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639030542,"creation_date":1639030542,"answer_id":70285463,"question_id":28678788,"body_markdown":"I found something interesting: ```OneShotPreDrawListener```.\r\n\r\nhttps://developer.android.com/reference/androidx/core/view/OneShotPreDrawListener\r\n\r\nchange this:\r\n```\r\nval viewTreeObserver = view.viewTreeObserver\r\n    val onPreDrawListener = object : ViewTreeObserver.OnPreDrawListener {\r\n        override fun onPreDraw(): Boolean {\r\n            view.viewTreeObserver.removeOnPreDrawListener(this)\r\n            // do some thing\r\n            return false\r\n        }\r\n    }\r\nviewTreeObserver.addOnPreDrawListener(onPreDrawListener)\r\n```\r\nto:\r\n```\r\nOneShotPreDrawListener.add(view) {\r\n    // do some thing\r\n}\r\n```","title":"OnPreDraw() is getting called over and over. what could explain it?","body":"<p>I found something interesting: <code>OneShotPreDrawListener</code>.</p>\n<p><a href=\"https://developer.android.com/reference/androidx/core/view/OneShotPreDrawListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/core/view/OneShotPreDrawListener</a></p>\n<p>change this:</p>\n<pre><code>val viewTreeObserver = view.viewTreeObserver\n    val onPreDrawListener = object : ViewTreeObserver.OnPreDrawListener {\n        override fun onPreDraw(): Boolean {\n            view.viewTreeObserver.removeOnPreDrawListener(this)\n            // do some thing\n            return false\n        }\n    }\nviewTreeObserver.addOnPreDrawListener(onPreDrawListener)\n</code></pre>\n<p>to:</p>\n<pre><code>OneShotPreDrawListener.add(view) {\n    // do some thing\n}\n</code></pre>\n"}],"owner":{"account_id":4217590,"reputation":579,"user_id":3453281,"accept_rate":60,"display_name":"user3453281"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5023,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1639030542,"creation_date":1424709933,"question_id":28678788,"body_markdown":"at least it is doing what I want it to do (centering my view at runtime) but why is it doing it over and over? my understanding is that it should be called when the view tree has something to draw, which should not be multiple times every second.  here I am logging its calls\r\n\r\n![OnPreDraw() calls][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/D1BOH.png\r\n\r\nwhy does OnPreDraw() keeps getting called over and over even when nothing is happening on screen? is that terrible for performance? I only want it to be called when there is actually something to be drawn. \r\n\r\nthe view location_manager is part of the action bar, if it matters.","title":"OnPreDraw() is getting called over and over. what could explain it?","body":"<p>at least it is doing what I want it to do (centering my view at runtime) but why is it doing it over and over? my understanding is that it should be called when the view tree has something to draw, which should not be multiple times every second.  here I am logging its calls</p>\n\n<p><img src=\"https://i.stack.imgur.com/D1BOH.png\" alt=\"OnPreDraw() calls\"></p>\n\n<p>why does OnPreDraw() keeps getting called over and over even when nothing is happening on screen? is that terrible for performance? I only want it to be called when there is actually something to be drawn. </p>\n\n<p>the view location_manager is part of the action bar, if it matters.</p>\n"},{"tags":["java","swing","jlist"],"answers":[{"tags":[],"owner":{"account_id":8585588,"reputation":370,"user_id":6431843,"accept_rate":80,"display_name":"joshua0823"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560520962,"creation_date":1560520962,"answer_id":56599773,"question_id":56586361,"body_markdown":"Well I fixed the problem by adding an int that keeps track of what the selected index is when I press a key and added\r\n\r\n    if(Math.abs(selectedIndex- keyPressedIndex) != 1) {\r\n\t\t    serials.setSelectedIndex(keyPressedIndex);\r\n\t\t    selectedIndex = serials.getSelectedIndex();\r\n\t}\r\n\r\nto the `ListSelectionListener`. Still don&#39;t know why it happens though","title":"JList selection randomly jumps to previous index","body":"<p>Well I fixed the problem by adding an int that keeps track of what the selected index is when I press a key and added</p>\n\n<pre><code>if(Math.abs(selectedIndex- keyPressedIndex) != 1) {\n        serials.setSelectedIndex(keyPressedIndex);\n        selectedIndex = serials.getSelectedIndex();\n}\n</code></pre>\n\n<p>to the <code>ListSelectionListener</code>. Still don't know why it happens though</p>\n"},{"tags":[],"owner":{"account_id":16044618,"reputation":1278,"user_id":11580129,"display_name":"Tad Harrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1560535676,"creation_date":1560534790,"answer_id":56603063,"question_id":56586361,"body_markdown":"You have encountered a feature of `JList`. What is happening is as you type each character, the `JList` is attempting to scroll to the entry that begins with the letter you typed.\r\nSo, if you entered &quot;Joe&quot; and &quot;Dave&quot; and then tried to type &quot;Jerry&quot; the `JList` will select the &quot;Joe&quot; row.\r\n\r\nSee: https://stackoverflow.com/questions/34251765/deactivate-selection-by-letter-in-jlist\r\n\r\nFollowing the technique from that question:\r\n````\r\n// Add these lines just before your first &quot;addKeyListener&quot;\r\nfor (KeyListener lsnr : serials.getKeyListeners()) {\r\n  if(lsnr.getClass().getSimpleName().equals(&quot;Handler&quot;)){\r\n    serials.removeKeyListener(lsnr);\r\n  }\r\n}\r\n````\r\nThese lines go before line 47 in your code example.\r\nIt&#39;s a bit of a rough way to kill the autoselect nature of `JList`.\r\n\r\nThe listener we are removing is added to the `JList` by `BasicListUI` in the `installListeners()` method, as `list.addKeyListener(getHandler())`. Consult the source for `BasicListUI`.\r\nThe class returned by `getHandler()` is a catch-all listener that implements several different listener interfaces, including `KeyListener`, and this is where the autoselect behavior is implemented.\r\n\r\nThe odd usage of `getSimpleName()` to determine class name is necessary because `Handler` is a private class in `BasicListUI`, so we can&#39;t use `instanceof`.\r\nNeedless to say, these kinds of shenanigans make for somewhat brittle code. If you wish to use this approach, make sure you document it well and prepare to fix it when migrating to future Java versions. \r\n\r\nIf you find yourself fighting the design of a component like this, you might be using the wrong component. Perhaps you would be better off using a single-column `JTable`.\r\n","title":"JList selection randomly jumps to previous index","body":"<p>You have encountered a feature of <code>JList</code>. What is happening is as you type each character, the <code>JList</code> is attempting to scroll to the entry that begins with the letter you typed.\nSo, if you entered \"Joe\" and \"Dave\" and then tried to type \"Jerry\" the <code>JList</code> will select the \"Joe\" row.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/34251765/deactivate-selection-by-letter-in-jlist\">Deactivate selection by letter in JList</a></p>\n\n<p>Following the technique from that question:</p>\n\n<pre><code>// Add these lines just before your first \"addKeyListener\"\nfor (KeyListener lsnr : serials.getKeyListeners()) {\n  if(lsnr.getClass().getSimpleName().equals(\"Handler\")){\n    serials.removeKeyListener(lsnr);\n  }\n}\n</code></pre>\n\n<p>These lines go before line 47 in your code example.\nIt's a bit of a rough way to kill the autoselect nature of <code>JList</code>.</p>\n\n<p>The listener we are removing is added to the <code>JList</code> by <code>BasicListUI</code> in the <code>installListeners()</code> method, as <code>list.addKeyListener(getHandler())</code>. Consult the source for <code>BasicListUI</code>.\nThe class returned by <code>getHandler()</code> is a catch-all listener that implements several different listener interfaces, including <code>KeyListener</code>, and this is where the autoselect behavior is implemented.</p>\n\n<p>The odd usage of <code>getSimpleName()</code> to determine class name is necessary because <code>Handler</code> is a private class in <code>BasicListUI</code>, so we can't use <code>instanceof</code>.\nNeedless to say, these kinds of shenanigans make for somewhat brittle code. If you wish to use this approach, make sure you document it well and prepare to fix it when migrating to future Java versions. </p>\n\n<p>If you find yourself fighting the design of a component like this, you might be using the wrong component. Perhaps you would be better off using a single-column <code>JTable</code>.</p>\n"}],"owner":{"account_id":8585588,"reputation":370,"user_id":6431843,"accept_rate":80,"display_name":"joshua0823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56603063,"answer_count":2,"score":0,"last_activity_date":1639030533,"creation_date":1560449598,"question_id":56586361,"body_markdown":"I have a JList where I want to be able to navigate to different cells, type text, then press &quot;enter&quot; to commit the change. The problem is when I change a few cells and then navigate via the up and down keys and try typing in the currently selected cell, the selection somehow jumps to a previously filled in cell. I&#39;ve pared down my code to what I think is the minimum to replicate the problem:\r\n\r\n    package listtest;\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n\r\n    public class JListSelection{\r\n    \r\n        static int selectedIndex;\r\n        static JList&lt;String&gt; serials;\r\n        static DefaultListModel&lt;String&gt; model;\r\n        static private JPopupMenu editPopup;\r\n        static private JTextField editTextField;\r\n    \r\n        public static void main(String[] args) {\r\n\t        JPanel pan = new JPanel(null);\r\n\t        selectedIndex = 0;\r\n\t        serials = new JList&lt;String&gt;();\r\n\t\r\n\t        model = new DefaultListModel&lt;String&gt;();\r\n\t        serials = new JList&lt;String&gt;(model);\r\n\t        for(int i = 0; i &lt; 19; i++) {\r\n\t            model.addElement(&quot; &quot;);\r\n\t        }\r\n\t        serials.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n\t        serials.addListSelectionListener(new ListSelectionListener() {\r\n\t            @Override\r\n\t            public void valueChanged(ListSelectionEvent e) {\r\n\t\t            selectedIndex = serials.getSelectedIndex();\r\n\t\t            System.out.println(&quot;in listener: &quot; + serials.getSelectedIndex());\r\n\t            }\r\n\t        });\r\n\t        serials.addKeyListener(new KeyAdapter() {\r\n\t            public void keyPressed(KeyEvent e) {\r\n\t\t            System.out.println(&quot;In keypressed: &quot; + e.getKeyCode() + &quot; &quot; + serials.getSelectedIndex());\r\n\t            }\r\n\t            public void keyReleased(KeyEvent e) {\r\n\t\t            int code = e.getKeyCode();\r\n\t\t            switch( code ){ \r\n\t\t                case KeyEvent.VK_UP:\r\n\t\t                    System.out.println(&quot;UP &quot; + serials.getSelectedIndex());\r\n\t\t                    break;\r\n\t\t                case KeyEvent.VK_DOWN:\r\n\t\t                    System.out.println(&quot;DOWN &quot; + serials.getSelectedIndex());\r\n\t\t                    break;\r\n\t\t            }\r\n\t\t            if(e.getKeyCode() &gt;= KeyEvent.VK_A &amp;&amp; e.getKeyCode() &lt;= KeyEvent.VK_Z\r\n\t\t\t|| e.getKeyCode() &gt;= KeyEvent.VK_0 &amp;&amp; e.getKeyCode() &lt;= KeyEvent.VK_9) {\r\n\r\n\t\t                System.out.println(selectedIndex + &quot; &quot; + serials.getSelectedIndex());\r\n\t\t                Rectangle r = serials.getCellBounds(selectedIndex, selectedIndex);\r\n\r\n\t\t                if (editPopup == null) {\r\n\t\t\t                createEditPopup();\r\n\t\t                }\r\n\r\n\t\t                editPopup.setPreferredSize(new Dimension(r.width, r.height));\r\n\t\t                editPopup.show(serials, r.x, r.y);\r\n\r\n                        editTextField.setText(\r\n                            serials.getSelectedValue().toString().equals(&quot; &quot;) ? \r\n\t\t\t                e.getKeyChar()+&quot;&quot; : serials.getSelectedValue().toString());\r\n\t\t                    editTextField.requestFocusInWindow(); \r\n\t\t            }\r\n\t            }\r\n\t        });\r\n\r\n\t        serials.setBounds(0, 0, 200, 800);\r\n\t        pan.add(serials);\r\n\t        JDialog di = new JDialog();\r\n\t        di.setContentPane(pan);\r\n\t        di.pack();\r\n\t        di.setLocationRelativeTo(null);\r\n\t        di.setSize(300, 400);\r\n\t        di.setVisible(true);\r\n        }\r\n    \r\n        private static void createEditPopup(){\r\n\t        editTextField = new JTextField();\r\n\t \r\n            editTextField.setBorder(\r\n                UIManager.getBorder(&quot;List.focusCellHighlightBorder&quot;));\r\n\t        editTextField.addActionListener(new ActionListener(){\r\n\t            public void actionPerformed(ActionEvent e){\r\n\t\t            DefaultListModel&lt;String&gt; model = (DefaultListModel&lt;String&gt;) \r\n                        serials.getModel();\r\n\t\t            model.set(selectedIndex, editTextField.getText());\r\n\t\t            editPopup.setVisible(false);\r\n\t            }\r\n\t        });\r\n\r\n\t        editPopup = new JPopupMenu();\r\n\t        editPopup.setBorder(new EmptyBorder(0, 0, 0, 0));\r\n\t        editPopup.add(editTextField);\r\n        }\r\n    }\r\n\r\n\r\nIf you run the code and start by selecting a cell and typing something then pressing enter it works how it should. If you then use the down arrow keys to type a few other cells at some point the selection will jump to a previously selected cell and I can&#39;t figure out any way to see what is causing this jump, let alone prevent it.","title":"JList selection randomly jumps to previous index","body":"<p>I have a JList where I want to be able to navigate to different cells, type text, then press \"enter\" to commit the change. The problem is when I change a few cells and then navigate via the up and down keys and try typing in the currently selected cell, the selection somehow jumps to a previously filled in cell. I've pared down my code to what I think is the minimum to replicate the problem:</p>\n\n<pre><code>package listtest;\n\nimport java.awt.Dimension;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JDialog;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JTextField;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.UIManager;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\n\npublic class JListSelection{\n\n    static int selectedIndex;\n    static JList&lt;String&gt; serials;\n    static DefaultListModel&lt;String&gt; model;\n    static private JPopupMenu editPopup;\n    static private JTextField editTextField;\n\n    public static void main(String[] args) {\n        JPanel pan = new JPanel(null);\n        selectedIndex = 0;\n        serials = new JList&lt;String&gt;();\n\n        model = new DefaultListModel&lt;String&gt;();\n        serials = new JList&lt;String&gt;(model);\n        for(int i = 0; i &lt; 19; i++) {\n            model.addElement(\" \");\n        }\n        serials.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        serials.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                selectedIndex = serials.getSelectedIndex();\n                System.out.println(\"in listener: \" + serials.getSelectedIndex());\n            }\n        });\n        serials.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e) {\n                System.out.println(\"In keypressed: \" + e.getKeyCode() + \" \" + serials.getSelectedIndex());\n            }\n            public void keyReleased(KeyEvent e) {\n                int code = e.getKeyCode();\n                switch( code ){ \n                    case KeyEvent.VK_UP:\n                        System.out.println(\"UP \" + serials.getSelectedIndex());\n                        break;\n                    case KeyEvent.VK_DOWN:\n                        System.out.println(\"DOWN \" + serials.getSelectedIndex());\n                        break;\n                }\n                if(e.getKeyCode() &gt;= KeyEvent.VK_A &amp;&amp; e.getKeyCode() &lt;= KeyEvent.VK_Z\n        || e.getKeyCode() &gt;= KeyEvent.VK_0 &amp;&amp; e.getKeyCode() &lt;= KeyEvent.VK_9) {\n\n                    System.out.println(selectedIndex + \" \" + serials.getSelectedIndex());\n                    Rectangle r = serials.getCellBounds(selectedIndex, selectedIndex);\n\n                    if (editPopup == null) {\n                        createEditPopup();\n                    }\n\n                    editPopup.setPreferredSize(new Dimension(r.width, r.height));\n                    editPopup.show(serials, r.x, r.y);\n\n                    editTextField.setText(\n                        serials.getSelectedValue().toString().equals(\" \") ? \n                        e.getKeyChar()+\"\" : serials.getSelectedValue().toString());\n                        editTextField.requestFocusInWindow(); \n                }\n            }\n        });\n\n        serials.setBounds(0, 0, 200, 800);\n        pan.add(serials);\n        JDialog di = new JDialog();\n        di.setContentPane(pan);\n        di.pack();\n        di.setLocationRelativeTo(null);\n        di.setSize(300, 400);\n        di.setVisible(true);\n    }\n\n    private static void createEditPopup(){\n        editTextField = new JTextField();\n\n        editTextField.setBorder(\n            UIManager.getBorder(\"List.focusCellHighlightBorder\"));\n        editTextField.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent e){\n                DefaultListModel&lt;String&gt; model = (DefaultListModel&lt;String&gt;) \n                    serials.getModel();\n                model.set(selectedIndex, editTextField.getText());\n                editPopup.setVisible(false);\n            }\n        });\n\n        editPopup = new JPopupMenu();\n        editPopup.setBorder(new EmptyBorder(0, 0, 0, 0));\n        editPopup.add(editTextField);\n    }\n}\n</code></pre>\n\n<p>If you run the code and start by selecting a cell and typing something then pressing enter it works how it should. If you then use the down arrow keys to type a few other cells at some point the selection will jump to a previously selected cell and I can't figure out any way to see what is causing this jump, let alone prevent it.</p>\n"},{"tags":["java","swing","jbutton","jlist"],"comments":[{"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"score":0,"creation_date":1550163730,"post_id":54694908,"comment_id":96178627,"body_markdown":"What do you want to do with the selected values of `JList`?","body":"What do you want to do with the selected values of <code>JList</code>?"},{"owner":{"account_id":13834837,"reputation":432,"user_id":9986654,"display_name":"Andrew"},"score":0,"creation_date":1550169090,"post_id":54694908,"comment_id":96181072,"body_markdown":"Hi @PrasadKarunagoda! I just want to be able to put them into an Array/ArrayList after I select them and I guess press a button. That way I can loop through them and use the ArrayList of selected items for another method.","body":"Hi @PrasadKarunagoda! I just want to be able to put them into an Array/ArrayList after I select them and I guess press a button. That way I can loop through them and use the ArrayList of selected items for another method."}],"answers":[{"tags":[],"owner":{"account_id":12677422,"reputation":1037,"user_id":9212562,"display_name":"Madplay"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1550165000,"creation_date":1550164474,"answer_id":54695750,"question_id":54694908,"body_markdown":"See my code below. It contains your requirements.\r\n\r\nThe code for your second question works just as you said.\r\n&gt; &quot;Should I make it exit after the button is pressed?&quot;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JList;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.ListSelectionModel;\r\n    import java.awt.Container;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ClassSelection extends JFrame {\r\n        private JList classList;\r\n        private String[] classNames = {&quot;Programming Foundations I&quot;,\r\n                &quot;Programming Foundations II&quot;,\r\n                &quot;Digital Design&quot;, &quot;Computer Organization&quot;, &quot;Programming Paradigms&quot;,\r\n                &quot;Honors Programming Paradigms&quot;, &quot;Cluster Computing&quot;,\r\n                &quot;Software Engineering&quot;};\r\n    \r\n        public ClassSelection() {\r\n            super(&quot;Classes Taken:&quot;);\r\n    \r\n            Container container = getContentPane();\r\n            container.setLayout(new FlowLayout());\r\n    \r\n            classList = new JList(classNames);\r\n            classList.setVisibleRowCount(5);\r\n            classList.setFixedCellHeight(45);\r\n            classList.setFixedCellWidth(450);\r\n            classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);\r\n            JScrollPane jScrollPane = new JScrollPane(classList);\r\n    \r\n            // First question\r\n            List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n    \r\n            classList.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    super.mouseClicked(e);\r\n                    JList jList = (JList) e.getSource();\r\n                    String className = (String) jList.getSelectedValue();\r\n                    myList.add(className);\r\n                    System.out.println(&quot;clicked : &quot; + className);\r\n    \r\n                    // you can see the items being appended\r\n                    System.out.println(&quot;list : &quot; + myList.toString());\r\n                }\r\n            });\r\n    \r\n            // Second question\r\n            JButton btn = new JButton(&quot;Submit&quot;);\r\n            btn.addActionListener(event -&gt; {\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                dispose();\r\n            });\r\n    \r\n            container.add(jScrollPane);\r\n            container.add(btn);\r\n            setSize(600, 600);\r\n            setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ClassSelection application = new ClassSelection();\r\n            application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }","title":"How Can I Use Selected Values from List?","body":"<p>See my code below. It contains your requirements.</p>\n\n<p>The code for your second question works just as you said.</p>\n\n<blockquote>\n  <p>\"Should I make it exit after the button is pressed?\"</p>\n</blockquote>\n\n<pre><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JScrollPane;\nimport javax.swing.ListSelectionModel;\nimport java.awt.Container;\nimport java.awt.FlowLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ClassSelection extends JFrame {\n    private JList classList;\n    private String[] classNames = {\"Programming Foundations I\",\n            \"Programming Foundations II\",\n            \"Digital Design\", \"Computer Organization\", \"Programming Paradigms\",\n            \"Honors Programming Paradigms\", \"Cluster Computing\",\n            \"Software Engineering\"};\n\n    public ClassSelection() {\n        super(\"Classes Taken:\");\n\n        Container container = getContentPane();\n        container.setLayout(new FlowLayout());\n\n        classList = new JList(classNames);\n        classList.setVisibleRowCount(5);\n        classList.setFixedCellHeight(45);\n        classList.setFixedCellWidth(450);\n        classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);\n        JScrollPane jScrollPane = new JScrollPane(classList);\n\n        // First question\n        List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n\n        classList.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                JList jList = (JList) e.getSource();\n                String className = (String) jList.getSelectedValue();\n                myList.add(className);\n                System.out.println(\"clicked : \" + className);\n\n                // you can see the items being appended\n                System.out.println(\"list : \" + myList.toString());\n            }\n        });\n\n        // Second question\n        JButton btn = new JButton(\"Submit\");\n        btn.addActionListener(event -&gt; {\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            dispose();\n        });\n\n        container.add(jScrollPane);\n        container.add(btn);\n        setSize(600, 600);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        ClassSelection application = new ClassSelection();\n        application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550202454,"creation_date":1550202454,"answer_id":54702418,"question_id":54694908,"body_markdown":"Here are 2 ways you can do this. I personally think &quot;Approach 1&quot; is enough. But if you really want to collect the selected items before user presses the button, then use &quot;Approach 2&quot;.\r\n\r\n**Approach 1 - Call getSelectedValuesList() in button&#39;s action listener**\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.util.List;\r\n    \r\n    public class ClassSelection extends JFrame {\r\n      private JList classList;\r\n      private String[] classNames = {&quot;Programming Foundations I&quot;,\r\n          &quot;Programming Foundations II&quot;,\r\n          &quot;Digital Design&quot;, &quot;Computer Organization&quot;,\r\n          &quot;Programming Paradigms&quot;,\r\n          &quot;Honors Programming Paradigms&quot;, &quot;Cluster Computing&quot;,\r\n          &quot;Software Engineering&quot;};\r\n    \r\n      public ClassSelection() {\r\n        super(&quot;Classes Taken:&quot;);\r\n    \r\n        Container container = getContentPane();\r\n        container.setLayout(new FlowLayout());\r\n    \r\n        classList = new JList(classNames);\r\n        classList.setVisibleRowCount(5);\r\n        classList.setFixedCellHeight(45);\r\n        classList.setFixedCellWidth(450);\r\n    \r\n        classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);\r\n    \r\n        container.add(new JScrollPane(classList));\r\n    \r\n        JButton button = new JButton(&quot;Print selected items&quot;);\r\n        button.addActionListener(new ActionListener() {\r\n          @Override\r\n          public void actionPerformed(ActionEvent e) {\r\n            List selectedItems = classList.getSelectedValuesList();\r\n            System.out.println(selectedItems);\r\n          }\r\n        });\r\n        container.add(button, BorderLayout.SOUTH);\r\n    \r\n        setSize(600, 600);\r\n        setVisible(true);\r\n    \r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        ClassSelection application = new ClassSelection();\r\n      }\r\n    }\r\n\r\n**Approach 2 - Use a ListSelectionListener**\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import java.util.*;\r\n    import java.util.List;\r\n    \r\n    public class ClassSelection2 extends JFrame {\r\n      private JList classList;\r\n      private List&lt;String&gt; selectedItemsList = new ArrayList&lt;&gt;();\r\n    \r\n      private String[] classNames = {&quot;Programming Foundations I&quot;,\r\n          &quot;Programming Foundations II&quot;,\r\n          &quot;Digital Design&quot;, &quot;Computer Organization&quot;,\r\n          &quot;Programming Paradigms&quot;,\r\n          &quot;Honors Programming Paradigms&quot;, &quot;Cluster Computing&quot;,\r\n          &quot;Software Engineering&quot;};\r\n    \r\n      public ClassSelection2() {\r\n        super(&quot;Classes Taken:&quot;);\r\n    \r\n        Container container = getContentPane();\r\n        container.setLayout(new FlowLayout());\r\n    \r\n        classList = new JList(classNames);\r\n        classList.setVisibleRowCount(5);\r\n        classList.setFixedCellHeight(45);\r\n        classList.setFixedCellWidth(450);\r\n    \r\n        classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);\r\n        classList.addListSelectionListener(new ListSelectionListener() {\r\n          @Override\r\n          public void valueChanged(ListSelectionEvent e) {\r\n            if (!e.getValueIsAdjusting()) {\r\n              selectedItemsList.clear();\r\n              selectedItemsList.addAll(classList.getSelectedValuesList());\r\n            }\r\n          }\r\n        });\r\n    \r\n        container.add(new JScrollPane(classList));\r\n    \r\n        JButton button = new JButton(&quot;Print selected items&quot;);\r\n        button.addActionListener(new ActionListener() {\r\n          @Override\r\n          public void actionPerformed(ActionEvent e) {\r\n            System.out.println(selectedItemsList);\r\n          }\r\n        });\r\n        container.add(button, BorderLayout.SOUTH);\r\n    \r\n        setSize(600, 600);\r\n        setVisible(true);\r\n    \r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        ClassSelection2 application = new ClassSelection2();\r\n      }\r\n    }\r\n","title":"How Can I Use Selected Values from List?","body":"<p>Here are 2 ways you can do this. I personally think \"Approach 1\" is enough. But if you really want to collect the selected items before user presses the button, then use \"Approach 2\".</p>\n\n<p><strong>Approach 1 - Call getSelectedValuesList() in button's action listener</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.List;\n\npublic class ClassSelection extends JFrame {\n  private JList classList;\n  private String[] classNames = {\"Programming Foundations I\",\n      \"Programming Foundations II\",\n      \"Digital Design\", \"Computer Organization\",\n      \"Programming Paradigms\",\n      \"Honors Programming Paradigms\", \"Cluster Computing\",\n      \"Software Engineering\"};\n\n  public ClassSelection() {\n    super(\"Classes Taken:\");\n\n    Container container = getContentPane();\n    container.setLayout(new FlowLayout());\n\n    classList = new JList(classNames);\n    classList.setVisibleRowCount(5);\n    classList.setFixedCellHeight(45);\n    classList.setFixedCellWidth(450);\n\n    classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);\n\n    container.add(new JScrollPane(classList));\n\n    JButton button = new JButton(\"Print selected items\");\n    button.addActionListener(new ActionListener() {\n      @Override\n      public void actionPerformed(ActionEvent e) {\n        List selectedItems = classList.getSelectedValuesList();\n        System.out.println(selectedItems);\n      }\n    });\n    container.add(button, BorderLayout.SOUTH);\n\n    setSize(600, 600);\n    setVisible(true);\n\n  }\n\n  public static void main(String[] args) {\n    ClassSelection application = new ClassSelection();\n  }\n}\n</code></pre>\n\n<p><strong>Approach 2 - Use a ListSelectionListener</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport java.util.*;\nimport java.util.List;\n\npublic class ClassSelection2 extends JFrame {\n  private JList classList;\n  private List&lt;String&gt; selectedItemsList = new ArrayList&lt;&gt;();\n\n  private String[] classNames = {\"Programming Foundations I\",\n      \"Programming Foundations II\",\n      \"Digital Design\", \"Computer Organization\",\n      \"Programming Paradigms\",\n      \"Honors Programming Paradigms\", \"Cluster Computing\",\n      \"Software Engineering\"};\n\n  public ClassSelection2() {\n    super(\"Classes Taken:\");\n\n    Container container = getContentPane();\n    container.setLayout(new FlowLayout());\n\n    classList = new JList(classNames);\n    classList.setVisibleRowCount(5);\n    classList.setFixedCellHeight(45);\n    classList.setFixedCellWidth(450);\n\n    classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);\n    classList.addListSelectionListener(new ListSelectionListener() {\n      @Override\n      public void valueChanged(ListSelectionEvent e) {\n        if (!e.getValueIsAdjusting()) {\n          selectedItemsList.clear();\n          selectedItemsList.addAll(classList.getSelectedValuesList());\n        }\n      }\n    });\n\n    container.add(new JScrollPane(classList));\n\n    JButton button = new JButton(\"Print selected items\");\n    button.addActionListener(new ActionListener() {\n      @Override\n      public void actionPerformed(ActionEvent e) {\n        System.out.println(selectedItemsList);\n      }\n    });\n    container.add(button, BorderLayout.SOUTH);\n\n    setSize(600, 600);\n    setVisible(true);\n\n  }\n\n  public static void main(String[] args) {\n    ClassSelection2 application = new ClassSelection2();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":13834837,"reputation":432,"user_id":9986654,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54702418,"answer_count":2,"score":2,"last_activity_date":1639030424,"creation_date":1550161630,"question_id":54694908,"body_markdown":"I&#39;ve currently created a multiple interval selection JList, and I want to be able to DO something with the selections. Currently, my code only is able to create a JList where I can &quot;highlight&quot; selected objects; however, what I want to do is put the selected objects into an Array or ArrayList so I can perform some work with those objects. I&#39;ve searched online and found out about getSelectedValueList(), but I don&#39;t really know how to use and access it for later. \r\n\r\nAnother question I have is that I&#39;m thinking about creating a JButton called &quot;Submit&quot; but I&#39;m wondering what I should do with the window with the JList, also. Should I make it exit after the button is pressed?\r\n\r\n        import java.awt.*;\r\n        import java.awt.event.*;\r\n        import javax.swing.*;\r\n        import java.util.*;\r\n        import java.util.List;\r\n        \r\n        public class ClassSelection extends JFrame {\r\n             private JList classList;\r\n             private String[] classNames = {&quot;Programming Foundations I&quot;, \r\n             &quot;Programming Foundations II&quot;,\r\n             &quot;Digital Design&quot;, &quot;Computer Organization&quot;, &quot;Programming \r\n             Paradigms&quot;, \r\n             &quot;Honors Programming Paradigms&quot;, &quot;Cluster Computing&quot;, \r\n             &quot;Software Engineering&quot;};\r\n    \r\n         public ClassSelection() {\r\n             super(&quot;Classes Taken:&quot;);\r\n    \r\n             Container container = getContentPane();\r\n             container.setLayout(new FlowLayout());\r\n    \r\n             classList = new JList(classNames);\r\n             classList.setVisibleRowCount(5);\r\n             classList.setFixedCellHeight(45);\r\n             classList.setFixedCellWidth(450);\r\n    \r\n    classList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTIO N);\r\n    \r\n             container.add(new JScrollPane(classList));\r\n             setSize(600, 600);\r\n             setVisible(true);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n             ClassSelection application = new ClassSelection();\r\n        }\r\n    }","title":"How Can I Use Selected Values from List?","body":"<p>I've currently created a multiple interval selection JList, and I want to be able to DO something with the selections. Currently, my code only is able to create a JList where I can \"highlight\" selected objects; however, what I want to do is put the selected objects into an Array or ArrayList so I can perform some work with those objects. I've searched online and found out about getSelectedValueList(), but I don't really know how to use and access it for later. </p>\n\n<p>Another question I have is that I'm thinking about creating a JButton called \"Submit\" but I'm wondering what I should do with the window with the JList, also. Should I make it exit after the button is pressed?</p>\n\n<pre><code>    import java.awt.*;\n    import java.awt.event.*;\n    import javax.swing.*;\n    import java.util.*;\n    import java.util.List;\n\n    public class ClassSelection extends JFrame {\n         private JList classList;\n         private String[] classNames = {\"Programming Foundations I\", \n         \"Programming Foundations II\",\n         \"Digital Design\", \"Computer Organization\", \"Programming \n         Paradigms\", \n         \"Honors Programming Paradigms\", \"Cluster Computing\", \n         \"Software Engineering\"};\n\n     public ClassSelection() {\n         super(\"Classes Taken:\");\n\n         Container container = getContentPane();\n         container.setLayout(new FlowLayout());\n\n         classList = new JList(classNames);\n         classList.setVisibleRowCount(5);\n         classList.setFixedCellHeight(45);\n         classList.setFixedCellWidth(450);\n\nclassList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTIO N);\n\n         container.add(new JScrollPane(classList));\n         setSize(600, 600);\n         setVisible(true);\n\n    }\n\n    public static void main(String[] args) {\n         ClassSelection application = new ClassSelection();\n    }\n}\n</code></pre>\n"},{"tags":["java","image","swing","jbutton","actionlistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638663605,"post_id":70230281,"comment_id":124148437,"body_markdown":"Don&#39;t add a JLabel to a button. Instead, set the Icon of the button when it is clicked.","body":"Don&#39;t add a JLabel to a button. Instead, set the Icon of the button when it is clicked."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1639030366,"post_id":70230281,"comment_id":124245367,"body_markdown":"1) 1st, make sure you can load an image and display it (without any button click. 2) [Edit] to add a [mre]. 3) Hotlink to the image, or create it at run-time. 4) Use `getResource` to obtain an URL pointing to the image. 5) Use `ImageIO` to load the image (it provides helpful feedback).","body":"1) 1st, make sure you can load an image and display it (without any button click. 2) <a href=\"https://stackoverflow.com/posts/70230281/edit\">Edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 3) Hotlink to the image, or create it at run-time. 4) Use <code>getResource</code> to obtain an URL pointing to the image. 5) Use <code>ImageIO</code> to load the image (it provides helpful feedback)."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638663253,"creation_date":1638660433,"answer_id":70230313,"question_id":70230281,"body_markdown":" 1. use `JLabel#setVisible(true)` to make image visible on click. Initially call `setVisible(false)` to hide it\r\n 2. use `JButton#setEnabled(false)` to disable button after click","title":"Show picture when button is clicked","body":"<ol>\n<li>use <code>JLabel#setVisible(true)</code> to make image visible on click. Initially call <code>setVisible(false)</code> to hide it</li>\n<li>use <code>JButton#setEnabled(false)</code> to disable button after click</li>\n</ol>\n"}],"owner":{"account_id":22934916,"reputation":27,"user_id":17068529,"display_name":"rebekah.ann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639030141,"creation_date":1638660019,"question_id":70230281,"body_markdown":"I am trying to get my action listener to show a picture when the button is clicked, but hide it until then. I also need it to only allow me to click it once. I have the button in a separate class that extends JButton so I&#39;m unsure if that is affecting it. When I add the image using the action listener, it doesn&#39;t show the image whether I click it or not. When I add it to the button, it shows it before it is clicked(as expected). What is the best way to hide the image until the button is clicked? FYI, there are many instances of this button created, if that makes a difference.\r\n\r\nThis is the button class\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class EmptyButton extends JButton\r\n{\r\n    public EmptyButton()\r\n    {\r\n        //add image to button\r\n        ImageIcon emptyImage = new ImageIcon(&quot;Empty.jpg&quot;);\r\n        JLabel empty = new JLabel(emptyImage);\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is the action listener\r\n```\r\n    private class emptyButtonListener implements ActionListener\r\n    {\r\n        public void actionPerformed(ActionEvent e)\r\n        {\r\n            game.noTreasureFound();\r\n            treasuresFoundTextField.setText(String.valueOf(game.getTreasuresFound()));\r\n            treasuresLeftTextField.setText(String.valueOf(20-game.getTreasuresFound()));\r\n            triesLeftTextField.setText(String.valueOf(game.getTriesLeft()));\r\n        }\r\n    }","title":"Show picture when button is clicked","body":"<p>I am trying to get my action listener to show a picture when the button is clicked, but hide it until then. I also need it to only allow me to click it once. I have the button in a separate class that extends JButton so I'm unsure if that is affecting it. When I add the image using the action listener, it doesn't show the image whether I click it or not. When I add it to the button, it shows it before it is clicked(as expected). What is the best way to hide the image until the button is clicked? FYI, there are many instances of this button created, if that makes a difference.</p>\n<p>This is the button class</p>\n<pre><code>import javax.swing.*;\n\npublic class EmptyButton extends JButton\n{\n    public EmptyButton()\n    {\n        //add image to button\n        ImageIcon emptyImage = new ImageIcon(&quot;Empty.jpg&quot;);\n        JLabel empty = new JLabel(emptyImage);\n        \n    }\n}\n\n</code></pre>\n<p>This is the action listener</p>\n<pre><code>    private class emptyButtonListener implements ActionListener\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            game.noTreasureFound();\n            treasuresFoundTextField.setText(String.valueOf(game.getTreasuresFound()));\n            treasuresLeftTextField.setText(String.valueOf(20-game.getTreasuresFound()));\n            triesLeftTextField.setText(String.valueOf(game.getTriesLeft()));\n        }\n    }\n</code></pre>\n"},{"tags":["java","flutter","flutter-dependencies"],"comments":[{"owner":{"account_id":20937705,"reputation":630,"user_id":15382543,"display_name":"Moo"},"score":0,"creation_date":1615751141,"post_id":66613684,"comment_id":117782444,"body_markdown":"Did you solve the problem with flutter.gradle&#39; line: 991?","body":"Did you solve the problem with flutter.gradle&#39; line: 991?"},{"owner":{"account_id":15226550,"reputation":61,"user_id":10986977,"display_name":"Petros Pollakis"},"score":0,"creation_date":1615754119,"post_id":66613684,"comment_id":117783201,"body_markdown":"No, I just create a new project and moved all code to the new project","body":"No, I just create a new project and moved all code to the new project"},{"owner":{"account_id":20937705,"reputation":630,"user_id":15382543,"display_name":"Moo"},"score":0,"creation_date":1615829964,"post_id":66613684,"comment_id":117807797,"body_markdown":"I fixed it like this: https://stackoverflow.com/questions/66625467/flutter-run-for-android-failed-flutter-gradle-line-991-finished-with-non-z","body":"I fixed it like this: <a href=\"https://stackoverflow.com/questions/66625467/flutter-run-for-android-failed-flutter-gradle-line-991-finished-with-non-z\" title=\"flutter run for android failed flutter gradle line 991 finished with non z\">stackoverflow.com/questions/66625467/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15270160,"reputation":1,"user_id":11017594,"display_name":"Sherif Metwally"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633348201,"creation_date":1633348201,"answer_id":69435510,"question_id":66613684,"body_markdown":"I Solved the problem using\r\n\r\n```\r\n    flutter clean\r\n\r\n```\r\nThen I used pub get \r\nand everything worked smoothly ","title":"Error when moving my project to MacBook Execution failed for task &#39;:app:compileFlutterBuildDebug&#39;","body":"<p>I Solved the problem using</p>\n<pre><code>    flutter clean\n\n</code></pre>\n<p>Then I used pub get\nand everything worked smoothly</p>\n"},{"tags":[],"owner":{"account_id":9628531,"reputation":13,"user_id":7147339,"display_name":"MARK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639029454,"creation_date":1638973326,"answer_id":70276573,"question_id":66613684,"body_markdown":"Errors such this, will be solved by updating gradle version in most cases. In my case, the problem was that I cloned the project from repo and project was developed by my colleague months ago. So I solved the issue by updating gradle version in **gradle-wrapper.properties** file and also updating `tools.build:gradle` in **android/build.gradle** file.","title":"Error when moving my project to MacBook Execution failed for task &#39;:app:compileFlutterBuildDebug&#39;","body":"<p>Errors such this, will be solved by updating gradle version in most cases. In my case, the problem was that I cloned the project from repo and project was developed by my colleague months ago. So I solved the issue by updating gradle version in <strong>gradle-wrapper.properties</strong> file and also updating <code>tools.build:gradle</code> in <strong>android/build.gradle</strong> file.</p>\n"}],"owner":{"account_id":15226550,"reputation":61,"user_id":10986977,"display_name":"Petros Pollakis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1639029454,"creation_date":1615639672,"question_id":66613684,"body_markdown":"any idea how to solve this ? \r\n\r\nThank you! \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sBxJK.png\r\n\r\n\r\nFAILURE: Build failed with an exception.                                \r\n                                                                        \r\n* What went wrong:                                                      \r\nExecution failed for task &#39;:app:compileFlutterBuildDebug&#39;.              \r\n&gt; java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\\\\Users\\\\JoinUser10\\\\Desktop\\\\Travelling flutter Androd\\\\source\\\\build\\\\app\\\\intermediates\\\\flutter\\\\debug\\\\flutter_assets\\\\AssetManifest.json\r\n                                                                        \r\n* Try:                                                                  \r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n                                                                        \r\n* Get more help at https://help.gradle.org                              \r\n                                                                        \r\nBUILD FAILED in 6s                                                      \r\nRunning Gradle task &#39;assembleDebug&#39;...                                  \r\nRunning Gradle task &#39;assembleDebug&#39;... Done                         7,7s\r\nException: Gradle task assembleDebug failed with exit code 1","title":"Error when moving my project to MacBook Execution failed for task &#39;:app:compileFlutterBuildDebug&#39;","body":"<p>any idea how to solve this ?</p>\n<p>Thank you!</p>\n<p><a href=\"https://i.stack.imgur.com/sBxJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sBxJK.png\" alt=\"enter image description here\" /></a></p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:<br />\nExecution failed for task ':app:compileFlutterBuildDebug'.</li>\n</ul>\n<blockquote>\n<p>java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\\Users\\JoinUser10\\Desktop\\Travelling flutter Androd\\source\\build\\app\\intermediates\\flutter\\debug\\flutter_assets\\AssetManifest.json</p>\n</blockquote>\n<ul>\n<li><p>Try:<br />\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 6s<br />\nRunning Gradle task 'assembleDebug'...<br />\nRunning Gradle task 'assembleDebug'... Done                         7,7s\nException: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java","data-structures","linked-list","switch-statement","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":23574982,"reputation":1,"user_id":17614752,"display_name":"Julian C&#246;ln"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638967783,"creation_date":1638967783,"answer_id":70275287,"question_id":70272477,"body_markdown":"Your method calls in the switch statement require a parameter.\r\n```\r\n// You call \r\naddNode();     \r\n// required is\r\naddNode(int val)\r\n// which means you need to pass the value to be added in the switch \r\n//statement ;)\r\n// Therefore the method calls without any parameter doesnt throw any error.\r\nremoveNode()\r\n```","title":"Making a menu in linked list","body":"<p>Your method calls in the switch statement require a parameter.</p>\n<pre><code>// You call \naddNode();     \n// required is\naddNode(int val)\n// which means you need to pass the value to be added in the switch \n//statement ;)\n// Therefore the method calls without any parameter doesnt throw any error.\nremoveNode()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23594137,"reputation":11,"user_id":17631479,"display_name":"eney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639016917,"creation_date":1639016917,"answer_id":70284038,"question_id":70272477,"body_markdown":"I fixed the errors by re-arranging stuff but the program doesn&#39;t run but I hope this helps to give you an idea.\r\n\r\n    \r\n    class Node{\r\n\tint val;\r\n\tNode next;\r\n\tNode head; \r\n\tNode tail;\r\n\r\n\tpublic Node(int val){\r\n\t\tthis.val = val;\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic void addNode(){\r\n\t\tint val = 0;\r\n\t\tif(head==null){\r\n\t\tNode temp = new Node(val);\r\n\t\thead = temp;\r\n\t\ttail = temp;\r\n\t\t}else{\r\n\t\ttail.next = new Node(val);\r\n\t\ttail = tail.next;\r\n\t\t}\r\n\t\t}\r\n\tpublic void addNodeAtStart(){\r\n\t\tint val = 0;\r\n\t\tif(head==null){\r\n\t\tNode temp = new Node(val);\r\n\t\thead = temp;\r\n\t\ttail = temp;\r\n\t\t}else{\r\n\t\tNode temp = new Node(val);\r\n\t\ttemp.next = head;\r\n\t\thead = temp;\r\n\t\t}\r\n\t\t}\r\n\tpublic void addNodeAtCertainIndex(){\r\n\t\tint val = 0; \r\n\t\tint index = 0;\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null &amp;&amp; ++count!=index)\r\n\t\ttemp = temp.next;\r\n\t\tNode node = new Node(val);\r\n\t\tnode.next = temp.next;\r\n\t\ttemp.next = node;\r\n\t\t}\r\n\tpublic void removeNode(){\r\n\t\tNode temp = head;\r\n\t\twhile(temp.next!=null &amp;&amp; temp.next.next!=null){\r\n\t\ttemp = temp.next;\r\n\t\t}\r\n\t\ttemp.next = null;\r\n\t\ttail = temp;\r\n\t\t}\r\n\tpublic void removeNodeAtStart(){\r\n\t\thead = head.next;\r\n\t\t}\r\n\tpublic void removeNodeAtCertainIndex(){\r\n\t\tint index = 0;\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null &amp;&amp; ++count!=index)\r\n\t\ttemp = temp.next;\r\n\t\ttemp.val = temp.next.val;\r\n\t\ttemp.next = temp.next.next;\r\n\t\t}\r\n\tpublic boolean search(){\r\n\t\tint target = 0;\r\n\t\tNode temp = head;\r\n\t\twhile(temp!=null){\r\n\t\tif(temp.val == target)\r\n\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t\t}\r\n\tpublic int searchAndReturnIndex(){\r\n\t\tint target = 0;\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null){\r\n\t\tcount++;\r\n\t\tif(temp.val==target) return count;\r\n\t\t}\r\n\t\treturn -1;\r\n\t\t}\r\n\tpublic void printLinkedList(){\r\n\t\tSystem.out.println();\r\n\t\tNode temp = head;\r\n\t\twhile(temp!=null){\r\n\t\tSystem.out.print(&quot; &quot;+temp.val);\r\n\t\ttemp = temp.next;\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t{  \r\n\t    int choice =0;  \r\n\t    while(choice != 9)   \r\n\t    {  \r\n\t    \t System.out.println(&quot;\\n\\n*********Main Menu*********\\n&quot;);  \r\n\t    \t System.out.println(&quot;\\nChoose one option from the following list ...\\n&quot;);  \r\n\t    \t System.out.println(&quot;\\n1.Insert node\\n2.Insert at start\\n3.Insert certain index\\n4.Remove node&quot;);\r\n\t    \t System.out.println(&quot;\\n5.Remove from the start\\n6.Delete node after certain index\\n7.Search for an element\\n8.Search And Return Index\\n9.Display nodes\\n&quot;);\t\t\r\n\t    \t System.out.println(&quot;\\nEnter your choice?\\n&quot;);    \r\n \r\n\t        switch(choice)  \r\n\t        {  \r\n\t            case 1:  \r\n\t            addNode();      \r\n\t            break;  \r\n\t            case 2:  \r\n\t            addNodeAtStart();         \r\n\t            break;  \r\n\t            case 3:  \r\n\t            addNodeAtCertainIndex();       \r\n\t            break;  \r\n\t            case 4:  \r\n\t            removeNode();       \r\n\t            break;  \r\n\t            case 5:  \r\n\t            removeNodeAtStart();        \r\n\t            break;  \r\n\t            case 6:  \r\n\t            removeNodeAtCertainIndex();          \r\n\t            break;  \r\n\t            case 7:  \r\n\t            search();         \r\n\t            break;  \r\n\t            case 8:  \r\n\t            searchAndReturnIndex();        \r\n\t            break;  \r\n\t            case 9:  \r\n\t            printLinkedList();  \r\n\t            break;  \r\n\t            default:  \r\n\t            \tSystem.out.println(&quot;Please enter valid choice..&quot;);  \r\n\t        }  \r\n\t    }  \r\n\t}  \r\n\t\r\n}","title":"Making a menu in linked list","body":"<p>I fixed the errors by re-arranging stuff but the program doesn't run but I hope this helps to give you an idea.</p>\n<pre><code>class Node{\nint val;\nNode next;\nNode head; \nNode tail;\n\npublic Node(int val){\n    this.val = val;\n                    }\n\n\n\npublic void addNode(){\n    int val = 0;\n    if(head==null){\n    Node temp = new Node(val);\n    head = temp;\n    tail = temp;\n    }else{\n    tail.next = new Node(val);\n    tail = tail.next;\n    }\n    }\npublic void addNodeAtStart(){\n    int val = 0;\n    if(head==null){\n    Node temp = new Node(val);\n    head = temp;\n    tail = temp;\n    }else{\n    Node temp = new Node(val);\n    temp.next = head;\n    head = temp;\n    }\n    }\npublic void addNodeAtCertainIndex(){\n    int val = 0; \n    int index = 0;\n    Node temp = head;\n    int count = 0;\n    while(temp!=null &amp;&amp; ++count!=index)\n    temp = temp.next;\n    Node node = new Node(val);\n    node.next = temp.next;\n    temp.next = node;\n    }\npublic void removeNode(){\n    Node temp = head;\n    while(temp.next!=null &amp;&amp; temp.next.next!=null){\n    temp = temp.next;\n    }\n    temp.next = null;\n    tail = temp;\n    }\npublic void removeNodeAtStart(){\n    head = head.next;\n    }\npublic void removeNodeAtCertainIndex(){\n    int index = 0;\n    Node temp = head;\n    int count = 0;\n    while(temp!=null &amp;&amp; ++count!=index)\n    temp = temp.next;\n    temp.val = temp.next.val;\n    temp.next = temp.next.next;\n    }\npublic boolean search(){\n    int target = 0;\n    Node temp = head;\n    while(temp!=null){\n    if(temp.val == target)\n    return true;\n    }\n    return false;\n    }\npublic int searchAndReturnIndex(){\n    int target = 0;\n    Node temp = head;\n    int count = 0;\n    while(temp!=null){\n    count++;\n    if(temp.val==target) return count;\n    }\n    return -1;\n    }\npublic void printLinkedList(){\n    System.out.println();\n    Node temp = head;\n    while(temp!=null){\n    System.out.print(&quot; &quot;+temp.val);\n    temp = temp.next;\n    }\n}\n\n\n{  \n    int choice =0;  \n    while(choice != 9)   \n    {  \n         System.out.println(&quot;\\n\\n*********Main Menu*********\\n&quot;);  \n         System.out.println(&quot;\\nChoose one option from the following list ...\\n&quot;);  \n         System.out.println(&quot;\\n1.Insert node\\n2.Insert at start\\n3.Insert certain index\\n4.Remove node&quot;);\n         System.out.println(&quot;\\n5.Remove from the start\\n6.Delete node after certain index\\n7.Search for an element\\n8.Search And Return Index\\n9.Display nodes\\n&quot;);     \n         System.out.println(&quot;\\nEnter your choice?\\n&quot;);    \n\n        switch(choice)  \n        {  \n            case 1:  \n            addNode();      \n            break;  \n            case 2:  \n            addNodeAtStart();         \n            break;  \n            case 3:  \n            addNodeAtCertainIndex();       \n            break;  \n            case 4:  \n            removeNode();       \n            break;  \n            case 5:  \n            removeNodeAtStart();        \n            break;  \n            case 6:  \n            removeNodeAtCertainIndex();          \n            break;  \n            case 7:  \n            search();         \n            break;  \n            case 8:  \n            searchAndReturnIndex();        \n            break;  \n            case 9:  \n            printLinkedList();  \n            break;  \n            default:  \n                System.out.println(&quot;Please enter valid choice..&quot;);  \n        }  \n    }  \n}  \n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23594137,"reputation":11,"user_id":17631479,"display_name":"eney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639029033,"creation_date":1639029033,"answer_id":70285275,"question_id":70272477,"body_markdown":"I made a better version.\r\n\r\n\r\n\r\n      import java.util.Scanner;\r\n\r\n    class Node{\r\n\tint val;\r\n\tint target;\r\n\tint index;\r\n\tNode next;\r\n\tNode head; \r\n\tNode tail;\r\n\r\n\tpublic Node(int val){\r\n\t\tthis.val = val;\r\n\t\t\t\t\t\t}\r\n\r\n\tpublic void addNode(int val ){\r\n\t\t\r\n\t\tif(head==null){\r\n\t\tNode temp = new Node(val);\r\n\t\thead = temp;\r\n\t\ttail = temp;\r\n\t\t}else{\r\n\t\ttail.next = new Node(val);\r\n\t\ttail = tail.next;\r\n\t\t}\r\n\t\t}\r\n\tpublic void addNodeAtStart(int val ){\r\n\t\t\r\n\t\tif(head==null){\r\n\t\tNode temp = new Node(val);\r\n\t\thead = temp;\r\n\t\ttail = temp;\r\n\t\t}else{\r\n\t\tNode temp = new Node(val);\r\n\t\ttemp.next = head;\r\n\t\thead = temp;\r\n\t\t}\r\n\t\t}\r\n\tpublic void addNodeAtCertainIndex(int val,int index){\r\n\t\t  \r\n\t\t \r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null &amp;&amp; ++count!=index)\r\n\t\ttemp = temp.next;\r\n\t\tNode node = new Node(val);\r\n\t\tnode.next = temp.next;\r\n\t\ttemp.next = node;\r\n\t\t}\r\n\tpublic void removeNode(){\r\n\t\tNode temp = head;\r\n\t\twhile(temp.next!=null &amp;&amp; temp.next.next!=null){\r\n\t\ttemp = temp.next;\r\n\t\t}\r\n\t\ttemp.next = null;\r\n\t\ttail = temp;\r\n\t\t}\r\n\tpublic void removeNodeAtStart(){\r\n\t\thead = head.next;\r\n\t\t}\r\n\tpublic void removeNodeAtCertainIndex(int index){\r\n\t\t\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null &amp;&amp; ++count!=index)\r\n\t\ttemp = temp.next;\r\n\t\ttemp.val = temp.next.val;\r\n\t\ttemp.next = temp.next.next;\r\n\t\t}\r\n\tpublic boolean search(int target){\r\n\t\t \r\n\t\tNode temp = head;\r\n\t\twhile(temp!=null){\r\n\t\tif(temp.val == target)\r\n\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t\t}\r\n\tpublic int searchAndReturnIndex(int target ){\r\n\t\t\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null){\r\n\t\tcount++;\r\n\t\tif(temp.val==target) return count;\r\n\t\t}\r\n\t\treturn -1;\r\n\t\t}\r\n\tpublic void printLinkedList(){\r\n\t\tSystem.out.println();\r\n\t\tNode temp = head;\r\n\t\twhile(temp!=null){\r\n\t\tSystem.out.print(&quot; &quot;+temp.val);\r\n\t\ttemp = temp.next;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class SinglyLinkedList\r\n\t{    \r\n\t    public void main(String[] args)\r\n\t    {             \r\n\t        Scanner scan = new Scanner(System.in);\r\n\r\n\r\n\t        System.out.println(&quot;Singly Linked List\\n&quot;);   \r\n\t        \r\n\t        char ch;\r\n\t       \r\n\t        do\r\n\t        {\r\n\t        \tSystem.out.println(&quot;\\nChoose one option from the following list ...\\n&quot;);  \r\n\t            System.out.println(&quot;\\n1.Insert node\\n2.Insert at start\\n3.Insert certain index\\n4.Remove node&quot;);\r\n\t            System.out.println(&quot;\\n5.Remove from the start\\n6.Delete node after certain index\\n7.Search for an element\\n8.Search And Return Index\\n9.Display nodes\\n&quot;);     \r\n\t            System.out.println(&quot;\\nEnter your choice?\\n&quot;);  \r\n\t            int choice;  \r\n\t            choice = scan.nextInt();\r\n\t                      \r\n\t            switch (choice)\r\n\t            {\r\n\t            case 1 : \r\n\t                System.out.println(&quot;Enter integer element to insert&quot;);\r\n\t                addNode( scan.nextInt() );  \r\n\t\r\n\t                break;                          \r\n\t            case 2 : \r\n\t                System.out.println(&quot;Enter integer element to insert&quot;);\r\n\t                addNodeAtStart( scan.nextInt() );  \r\n\r\n\t                break;                         \r\n\t            case 3 : \r\n\t                System.out.println(&quot;Enter integer element to insert&quot;); \r\n\t                addNodeAtCertainIndex(val,index);  \r\n\t                break;                                          \r\n\t            case 4 : \r\n\t                System.out.println(&quot;Enter integer element to remove&quot;); \r\n\t                removeNode();\r\n\t                break;\r\n\t            case 5 : \r\n\t                System.out.println(&quot;Enter integer element to remove&quot;);\r\n\t                removeNodeAtStart(); \r\n\t                break;                   \r\n\t            case 6 : \r\n\t                System.out.println(&quot;Enter integer element to remove&quot;);\r\n\t                removeNodeAtCertainIndex( scan.nextInt() );  \r\n\r\n\t                break;  \r\n\t            case 7 : \r\n\t                System.out.println(&quot;Enter integer element to search&quot;);\r\n\t                search( scan.nextInt() );  \r\n\r\n\t                break;   \r\n\t            case 8 : \r\n\t                System.out.println(&quot;Enter integer element to search&quot;);\r\n\t                searchAndReturnIndex( scan.nextInt() );  \r\n\r\n\t                break;   \r\n\t            case 9 :  \r\n\t                printLinkedList();  \r\n\t                break;      \r\n\t                \r\n\t             default : \r\n\t                System.out.println(&quot;Wrong Entry \\n &quot;);\r\n\t                break;   \r\n\t            }\r\n\t           \r\n\t            System.out.println(&quot;\\nDo you want to continue (Type y or n) \\n&quot;);\r\n\t            ch = scan.next().charAt(0);                        \r\n\t        } while (ch == &#39;Y&#39;|| ch == &#39;y&#39;);               \r\n\t    }\r\n\t\r\n\t}\r\n}","title":"Making a menu in linked list","body":"<p>I made a better version.</p>\n<pre><code>  import java.util.Scanner;\n\nclass Node{\nint val;\nint target;\nint index;\nNode next;\nNode head; \nNode tail;\n\npublic Node(int val){\n    this.val = val;\n                    }\n\npublic void addNode(int val ){\n    \n    if(head==null){\n    Node temp = new Node(val);\n    head = temp;\n    tail = temp;\n    }else{\n    tail.next = new Node(val);\n    tail = tail.next;\n    }\n    }\npublic void addNodeAtStart(int val ){\n    \n    if(head==null){\n    Node temp = new Node(val);\n    head = temp;\n    tail = temp;\n    }else{\n    Node temp = new Node(val);\n    temp.next = head;\n    head = temp;\n    }\n    }\npublic void addNodeAtCertainIndex(int val,int index){\n      \n     \n    Node temp = head;\n    int count = 0;\n    while(temp!=null &amp;&amp; ++count!=index)\n    temp = temp.next;\n    Node node = new Node(val);\n    node.next = temp.next;\n    temp.next = node;\n    }\npublic void removeNode(){\n    Node temp = head;\n    while(temp.next!=null &amp;&amp; temp.next.next!=null){\n    temp = temp.next;\n    }\n    temp.next = null;\n    tail = temp;\n    }\npublic void removeNodeAtStart(){\n    head = head.next;\n    }\npublic void removeNodeAtCertainIndex(int index){\n    \n    Node temp = head;\n    int count = 0;\n    while(temp!=null &amp;&amp; ++count!=index)\n    temp = temp.next;\n    temp.val = temp.next.val;\n    temp.next = temp.next.next;\n    }\npublic boolean search(int target){\n     \n    Node temp = head;\n    while(temp!=null){\n    if(temp.val == target)\n    return true;\n    }\n    return false;\n    }\npublic int searchAndReturnIndex(int target ){\n    \n    Node temp = head;\n    int count = 0;\n    while(temp!=null){\n    count++;\n    if(temp.val==target) return count;\n    }\n    return -1;\n    }\npublic void printLinkedList(){\n    System.out.println();\n    Node temp = head;\n    while(temp!=null){\n    System.out.print(&quot; &quot;+temp.val);\n    temp = temp.next;\n    }\n}\n\npublic class SinglyLinkedList\n{    \n    public void main(String[] args)\n    {             \n        Scanner scan = new Scanner(System.in);\n\n\n        System.out.println(&quot;Singly Linked List\\n&quot;);   \n        \n        char ch;\n       \n        do\n        {\n            System.out.println(&quot;\\nChoose one option from the following list ...\\n&quot;);  \n            System.out.println(&quot;\\n1.Insert node\\n2.Insert at start\\n3.Insert certain index\\n4.Remove node&quot;);\n            System.out.println(&quot;\\n5.Remove from the start\\n6.Delete node after certain index\\n7.Search for an element\\n8.Search And Return Index\\n9.Display nodes\\n&quot;);     \n            System.out.println(&quot;\\nEnter your choice?\\n&quot;);  \n            int choice;  \n            choice = scan.nextInt();\n                      \n            switch (choice)\n            {\n            case 1 : \n                System.out.println(&quot;Enter integer element to insert&quot;);\n                addNode( scan.nextInt() );  \n\n                break;                          \n            case 2 : \n                System.out.println(&quot;Enter integer element to insert&quot;);\n                addNodeAtStart( scan.nextInt() );  \n\n                break;                         \n            case 3 : \n                System.out.println(&quot;Enter integer element to insert&quot;); \n                addNodeAtCertainIndex(val,index);  \n                break;                                          \n            case 4 : \n                System.out.println(&quot;Enter integer element to remove&quot;); \n                removeNode();\n                break;\n            case 5 : \n                System.out.println(&quot;Enter integer element to remove&quot;);\n                removeNodeAtStart(); \n                break;                   \n            case 6 : \n                System.out.println(&quot;Enter integer element to remove&quot;);\n                removeNodeAtCertainIndex( scan.nextInt() );  \n\n                break;  \n            case 7 : \n                System.out.println(&quot;Enter integer element to search&quot;);\n                search( scan.nextInt() );  \n\n                break;   \n            case 8 : \n                System.out.println(&quot;Enter integer element to search&quot;);\n                searchAndReturnIndex( scan.nextInt() );  \n\n                break;   \n            case 9 :  \n                printLinkedList();  \n                break;      \n                \n             default : \n                System.out.println(&quot;Wrong Entry \\n &quot;);\n                break;   \n            }\n           \n            System.out.println(&quot;\\nDo you want to continue (Type y or n) \\n&quot;);\n            ch = scan.next().charAt(0);                        \n        } while (ch == 'Y'|| ch == 'y');               \n    }\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23585384,"reputation":13,"user_id":17623900,"display_name":"Random boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1639029033,"creation_date":1638954828,"question_id":70272477,"body_markdown":"I want to add a user menu for this linked list but the program doesn&#39;t run. \r\n\r\nThe program lets the user add a node at the end of the current list.  \r\nAdds node at the start of the current list.\r\nAdds node at the certain index.\r\nRemoves the last node in the given list and updates the tail node.\r\nRemoves the first node in the given list and updates the head node.\r\nRemoves the node at the given index in the given list and updates the head node.\r\nChecks if a node with the given value exists in the list, returns true or false.\r\nChecks if a node with the given value exists in the list, returns the index of the given value in \r\nthe list.\r\n\r\nThere&#39;s nothing that appears when I run it.\r\nThere&#39;s no error message too.\r\n\r\nHow do you fix this? \r\n\r\nThank you in advance.\r\n\r\n\r\n    class Node{\r\n\tint val;\r\n\tint target;\r\n\tint index;\r\n\tNode next;\r\n\tNode head; \r\n\tNode tail;\r\n\r\n\tpublic Node(int val){\r\n\t\tthis.val = val;\r\n\t\t\t\t\t\t}\r\n\t{  \r\n\t    int choice =0;  \r\n\t    while(choice != 9)   \r\n\t    {  \r\n\t    \t System.out.println(&quot;\\n\\n*********Main Menu*********\\n&quot;);  \r\n\t    \t System.out.println(&quot;\\nChoose one option from the following list ...\\n&quot;);  \r\n\t    \t System.out.println(&quot;\\n1.Insert node\\n2.Insert at start\\n3.Insert certain index\\n4.Remove node&quot;);\r\n\t    \t System.out.println(&quot;\\n5.Remove from the start\\n6.Delete node after certain index\\n7.Search for an element\\n8.Search And Return Index\\n9.Display nodes\\n&quot;);\t\t\r\n\t    \t System.out.println(&quot;\\nEnter your choice?\\n&quot;);    \r\n \r\n\t        switch(choice)  \r\n\t        {  \r\n\t            case 1:  \r\n\t            addNode(val);      \r\n\t            break;  \r\n\t            case 2:  \r\n\t            addNodeAtStart(val);         \r\n\t            break;  \r\n\t            case 3:  \r\n\t            addNodeAtCertainIndex(val,index);       \r\n\t            break;  \r\n\t            case 4:  \r\n\t            removeNode();       \r\n\t            break;  \r\n\t            case 5:  \r\n\t            removeNodeAtStart();        \r\n\t            break;  \r\n\t            case 6:  \r\n\t            removeNodeAtCertainIndex(index);          \r\n\t            break;  \r\n\t            case 7:  \r\n\t            search(target);         \r\n\t            break;  \r\n\t            case 8:  \r\n\t            searchAndReturnIndex(target);        \r\n\t            break;  \r\n\t            case 9:  \r\n\t            printLinkedList();  \r\n\t            break;  \r\n\t            default:  \r\n\t            \tSystem.out.println(&quot;Please enter valid choice..&quot;);  \r\n\t        }  \r\n\t    }  \r\n\t}  \r\n\t\r\n\t\r\n\tpublic void addNode(int val ){\r\n\t\t\r\n\t\tif(head==null){\r\n\t\tNode temp = new Node(val);\r\n\t\thead = temp;\r\n\t\ttail = temp;\r\n\t\t}else{\r\n\t\ttail.next = new Node(val);\r\n\t\ttail = tail.next;\r\n\t\t}\r\n\t\t}\r\n\tpublic void addNodeAtStart(int val ){\r\n\t\t\r\n\t\tif(head==null){\r\n\t\tNode temp = new Node(val);\r\n\t\thead = temp;\r\n\t\ttail = temp;\r\n\t\t}else{\r\n\t\tNode temp = new Node(val);\r\n\t\ttemp.next = head;\r\n\t\thead = temp;\r\n\t\t}\r\n\t\t}\r\n\tpublic void addNodeAtCertainIndex(int val,int index){\r\n\t\t  \r\n\t\t \r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null &amp;&amp; ++count!=index)\r\n\t\ttemp = temp.next;\r\n\t\tNode node = new Node(val);\r\n\t\tnode.next = temp.next;\r\n\t\ttemp.next = node;\r\n\t\t}\r\n\tpublic void removeNode(){\r\n\t\tNode temp = head;\r\n\t\twhile(temp.next!=null &amp;&amp; temp.next.next!=null){\r\n\t\ttemp = temp.next;\r\n\t\t}\r\n\t\ttemp.next = null;\r\n\t\ttail = temp;\r\n\t\t}\r\n\tpublic void removeNodeAtStart(){\r\n\t\thead = head.next;\r\n\t\t}\r\n\tpublic void removeNodeAtCertainIndex(int index){\r\n\t\t\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null &amp;&amp; ++count!=index)\r\n\t\ttemp = temp.next;\r\n\t\ttemp.val = temp.next.val;\r\n\t\ttemp.next = temp.next.next;\r\n\t\t}\r\n\tpublic boolean search(int target){\r\n\t\t \r\n\t\tNode temp = head;\r\n\t\twhile(temp!=null){\r\n\t\tif(temp.val == target)\r\n\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t\t}\r\n\tpublic int searchAndReturnIndex(int target ){\r\n\t\t\r\n\t\tNode temp = head;\r\n\t\tint count = 0;\r\n\t\twhile(temp!=null){\r\n\t\tcount++;\r\n\t\tif(temp.val==target) return count;\r\n\t\t}\r\n\t\treturn -1;\r\n\t\t}\r\n\tpublic void printLinkedList(){\r\n\t\tSystem.out.println();\r\n\t\tNode temp = head;\r\n\t\twhile(temp!=null){\r\n\t\tSystem.out.print(&quot; &quot;+temp.val);\r\n\t\ttemp = temp.next;\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n}\r\n","title":"Making a menu in linked list","body":"<p>I want to add a user menu for this linked list but the program doesn't run.</p>\n<p>The program lets the user add a node at the end of the current list.<br />\nAdds node at the start of the current list.\nAdds node at the certain index.\nRemoves the last node in the given list and updates the tail node.\nRemoves the first node in the given list and updates the head node.\nRemoves the node at the given index in the given list and updates the head node.\nChecks if a node with the given value exists in the list, returns true or false.\nChecks if a node with the given value exists in the list, returns the index of the given value in\nthe list.</p>\n<p>There's nothing that appears when I run it.\nThere's no error message too.</p>\n<p>How do you fix this?</p>\n<p>Thank you in advance.</p>\n<pre><code>class Node{\nint val;\nint target;\nint index;\nNode next;\nNode head; \nNode tail;\n\npublic Node(int val){\n    this.val = val;\n                    }\n{  \n    int choice =0;  \n    while(choice != 9)   \n    {  \n         System.out.println(&quot;\\n\\n*********Main Menu*********\\n&quot;);  \n         System.out.println(&quot;\\nChoose one option from the following list ...\\n&quot;);  \n         System.out.println(&quot;\\n1.Insert node\\n2.Insert at start\\n3.Insert certain index\\n4.Remove node&quot;);\n         System.out.println(&quot;\\n5.Remove from the start\\n6.Delete node after certain index\\n7.Search for an element\\n8.Search And Return Index\\n9.Display nodes\\n&quot;);     \n         System.out.println(&quot;\\nEnter your choice?\\n&quot;);    \n\n        switch(choice)  \n        {  \n            case 1:  \n            addNode(val);      \n            break;  \n            case 2:  \n            addNodeAtStart(val);         \n            break;  \n            case 3:  \n            addNodeAtCertainIndex(val,index);       \n            break;  \n            case 4:  \n            removeNode();       \n            break;  \n            case 5:  \n            removeNodeAtStart();        \n            break;  \n            case 6:  \n            removeNodeAtCertainIndex(index);          \n            break;  \n            case 7:  \n            search(target);         \n            break;  \n            case 8:  \n            searchAndReturnIndex(target);        \n            break;  \n            case 9:  \n            printLinkedList();  \n            break;  \n            default:  \n                System.out.println(&quot;Please enter valid choice..&quot;);  \n        }  \n    }  \n}  \n\n\npublic void addNode(int val ){\n    \n    if(head==null){\n    Node temp = new Node(val);\n    head = temp;\n    tail = temp;\n    }else{\n    tail.next = new Node(val);\n    tail = tail.next;\n    }\n    }\npublic void addNodeAtStart(int val ){\n    \n    if(head==null){\n    Node temp = new Node(val);\n    head = temp;\n    tail = temp;\n    }else{\n    Node temp = new Node(val);\n    temp.next = head;\n    head = temp;\n    }\n    }\npublic void addNodeAtCertainIndex(int val,int index){\n      \n     \n    Node temp = head;\n    int count = 0;\n    while(temp!=null &amp;&amp; ++count!=index)\n    temp = temp.next;\n    Node node = new Node(val);\n    node.next = temp.next;\n    temp.next = node;\n    }\npublic void removeNode(){\n    Node temp = head;\n    while(temp.next!=null &amp;&amp; temp.next.next!=null){\n    temp = temp.next;\n    }\n    temp.next = null;\n    tail = temp;\n    }\npublic void removeNodeAtStart(){\n    head = head.next;\n    }\npublic void removeNodeAtCertainIndex(int index){\n    \n    Node temp = head;\n    int count = 0;\n    while(temp!=null &amp;&amp; ++count!=index)\n    temp = temp.next;\n    temp.val = temp.next.val;\n    temp.next = temp.next.next;\n    }\npublic boolean search(int target){\n     \n    Node temp = head;\n    while(temp!=null){\n    if(temp.val == target)\n    return true;\n    }\n    return false;\n    }\npublic int searchAndReturnIndex(int target ){\n    \n    Node temp = head;\n    int count = 0;\n    while(temp!=null){\n    count++;\n    if(temp.val==target) return count;\n    }\n    return -1;\n    }\npublic void printLinkedList(){\n    System.out.println();\n    Node temp = head;\n    while(temp!=null){\n    System.out.print(&quot; &quot;+temp.val);\n    temp = temp.next;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","android-studio"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1639021510,"post_id":70284385,"comment_id":124243910,"body_markdown":"Help us, help you. What have you tried so far? Please be noted that stackoverflow is not a free coding service, questions like this can get downvoted out of existence very quickly if you haven&#39;t shown any effort. &#128578;","body":"Help us, help you. What have you tried so far? Please be noted that stackoverflow is not a free coding service, questions like this can get downvoted out of existence very quickly if you haven&#39;t shown any effort. "},{"owner":{"account_id":23594511,"reputation":11,"user_id":17631812,"display_name":"MissJ"},"score":1,"creation_date":1639022419,"post_id":70284385,"comment_id":124244048,"body_markdown":"Sorry if my question seemed immature. I actually have made something already but I am stuck at the Array part or String. I am just confused how to position it in my mainactivity and want some guidance on how to use it properly.","body":"Sorry if my question seemed immature. I actually have made something already but I am stuck at the Array part or String. I am just confused how to position it in my mainactivity and want some guidance on how to use it properly."},{"owner":{"display_name":"user12392751"},"score":1,"creation_date":1639023239,"post_id":70284385,"comment_id":124244159,"body_markdown":"If you could provide us with some code, I&#39;m sure that will get a lot more attention for feedback.","body":"If you could provide us with some code, I&#39;m sure that will get a lot more attention for feedback."},{"owner":{"account_id":23594511,"reputation":11,"user_id":17631812,"display_name":"MissJ"},"score":0,"creation_date":1639023477,"post_id":70284385,"comment_id":124244189,"body_markdown":"Okay, I was actually using my phone when I made this post. I&#39;ll edit my post.","body":"Okay, I was actually using my phone when I made this post. I&#39;ll edit my post."}],"answers":[{"tags":[],"owner":{"account_id":6912524,"reputation":458,"user_id":5307859,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639028185,"creation_date":1639028185,"answer_id":70285175,"question_id":70284385,"body_markdown":"Use recycler view instead of ArrayAdapter, pass the List&lt;String&gt; to recycler view adapter, add the String to the list which is taken from EditText, call the `notifyDataSetChanged()`","title":"Input names display list view using array","body":"<p>Use recycler view instead of ArrayAdapter, pass the List to recycler view adapter, add the String to the list which is taken from EditText, call the <code>notifyDataSetChanged()</code></p>\n"}],"owner":{"account_id":23594511,"reputation":11,"user_id":17631812,"display_name":"MissJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639028185,"creation_date":1639020579,"question_id":70284385,"body_markdown":"I am currently working on my project in android studio where I want to input names on an EditView from the bottomSheet and then displays it on the screen. I&#39;m already at the MainActivity but dont know how to put it in an Array. I hope someone can help me.\r\n...\r\nThis is from my ListAdapter.java file\r\n...\r\n\r\n\r\n\r\n\r\n\r\n    public class ListAdapter extends ArrayAdapter&lt;User&gt;{\r\n\r\n    public ListAdapter(Context context, ArrayList&lt;User&gt;){\r\n        super(context,R.layout.list_item,userArrayList);\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n\r\n        User user = getItem(position);\r\n\r\n        if (convertView == null){\r\n\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.list_item,parent,false);\r\n\r\n        }\r\n\r\n        TextView tlTitle = convertView.findViewById(R.id.tl_title);\r\n        TextView prProf = convertView.findViewById(R.id.pr_prof);\r\n        TextView dpDate = convertView.findViewById(R.id.dp_date);\r\n\r\n        tlTitle.setText(user.tl_title);\r\n        prProf.setText(user.pr_prof);\r\n        dpDate.setText(user.dp_date);\r\n\r\n\r\n\r\n\r\n...\r\nAnd this is from my MainActivity.java\r\n...\r\n\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    //Initialize Variable\r\n    ImageButton btShow;\r\n    ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(R.layout.activity_main);\r\n\r\n        String tl_title = new String();\r\n        //or\r\n        String[] tl_title = username.getText(R.id.tl_title);\r\n\r\n\r\n\r\n\r\n...\r\nI still have a lot of files for my xml, If I encounter something that I get confused of, I hope someone can patiently accept as I ask too many questions. Thank you.","title":"Input names display list view using array","body":"<p>I am currently working on my project in android studio where I want to input names on an EditView from the bottomSheet and then displays it on the screen. I'm already at the MainActivity but dont know how to put it in an Array. I hope someone can help me.\n...\nThis is from my ListAdapter.java file\n...</p>\n<pre><code>public class ListAdapter extends ArrayAdapter&lt;User&gt;{\n\npublic ListAdapter(Context context, ArrayList&lt;User&gt;){\n    super(context,R.layout.list_item,userArrayList);\n\n}\n\n@NonNull\n@Override\npublic View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n\n    User user = getItem(position);\n\n    if (convertView == null){\n\n        convertView = LayoutInflater.from(getContext()).inflate(R.layout.list_item,parent,false);\n\n    }\n\n    TextView tlTitle = convertView.findViewById(R.id.tl_title);\n    TextView prProf = convertView.findViewById(R.id.pr_prof);\n    TextView dpDate = convertView.findViewById(R.id.dp_date);\n\n    tlTitle.setText(user.tl_title);\n    prProf.setText(user.pr_prof);\n    dpDate.setText(user.dp_date);\n</code></pre>\n<p>...\nAnd this is from my MainActivity.java\n...</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n//Initialize Variable\nImageButton btShow;\nActivityMainBinding binding;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(R.layout.activity_main);\n\n    String tl_title = new String();\n    //or\n    String[] tl_title = username.getText(R.id.tl_title);\n</code></pre>\n<p>...\nI still have a lot of files for my xml, If I encounter something that I get confused of, I hope someone can patiently accept as I ask too many questions. Thank you.</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"score":0,"creation_date":1354287464,"post_id":13637375,"comment_id":18724696,"body_markdown":"Why is writing a custom type adapter problematic? You can compose type adapters which takes most of the maintenance pain away.","body":"Why is writing a custom type adapter problematic? You can compose type adapters which takes most of the maintenance pain away."}],"answers":[{"tags":[],"owner":{"account_id":479414,"reputation":903,"user_id":892062,"display_name":"Jonas Adler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1354238704,"creation_date":1354237821,"answer_id":13637572,"question_id":13637375,"body_markdown":"You cannot generically exclude the TopLevel Class, what you could do is use an `ExclusionStrategy`:\r\n\r\n      private static final Gson GSON = new GsonBuilder().addSerializationExclusionStrategy(new ExclusionStrategy() {\r\n        @Override\r\n        public boolean shouldSkipField(FieldAttributes f) {\r\n            return f.getDeclaringClass().equals(FirstClass.class);\r\n        }\r\n\r\n        @Override\r\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n            return false;\r\n        }\r\n      }).create();\r\n\r\nYou can also add a ExclusionStrategy to Deserialization.","title":"GSON don&#39;t serialize/deserialize extended class","body":"<p>You cannot generically exclude the TopLevel Class, what you could do is use an <code>ExclusionStrategy</code>:</p>\n\n<pre><code>  private static final Gson GSON = new GsonBuilder().addSerializationExclusionStrategy(new ExclusionStrategy() {\n    @Override\n    public boolean shouldSkipField(FieldAttributes f) {\n        return f.getDeclaringClass().equals(FirstClass.class);\n    }\n\n    @Override\n    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n        return false;\n    }\n  }).create();\n</code></pre>\n\n<p>You can also add a ExclusionStrategy to Deserialization.</p>\n"},{"tags":[],"owner":{"account_id":23595342,"reputation":1,"user_id":17632524,"display_name":"user17632524"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639027550,"creation_date":1639027550,"answer_id":70285098,"question_id":13637375,"body_markdown":"The below example can help in skipping the certain variable with in the class during serialization\r\n``` \r\nif (fieldAttributes.getDeclaringClass() == Example.class )\r\n                &amp;&amp; fieldAttributes.getName().equals(&quot;example&quot;)) {\r\n            return true;\r\n        }\r\n```","title":"GSON don&#39;t serialize/deserialize extended class","body":"<p>The below example can help in skipping the certain variable with in the class during serialization</p>\n<pre><code>if (fieldAttributes.getDeclaringClass() == Example.class )\n                &amp;&amp; fieldAttributes.getName().equals(&quot;example&quot;)) {\n            return true;\n        }\n</code></pre>\n"}],"owner":{"account_id":206154,"reputation":5148,"user_id":455268,"accept_rate":87,"display_name":"svenkapudija"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3147,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13637572,"answer_count":2,"score":3,"last_activity_date":1639027550,"creation_date":1354236351,"question_id":13637375,"body_markdown":"Is there an option (except writing custom serializer/deserializer) in `GSON library` to **NOT** serialize/deserialize beyond some level of extended classes.\r\n\r\nFor example see the following usecase\r\n\r\n    class FirstClass {\r\n        int firstVariable;\r\n    }\r\n    \r\n    class SecondClass extends FirstClass {\r\n        int secondVariable;\r\n    }\r\n    \r\n    class ThirdClass extends SecondClass {\r\n        int thirdVariable;\r\n    }\r\n\r\nAnd now when using `fromJson` and `toJson` I would like to only serialize/deserialize first two classes in hierarchy - `ThirdClass` and `SecondClass`. Which means it would ignore whole `FirstClass` (and `firstVariable` in it) because that&#39;s already at `level 3`.","title":"GSON don&#39;t serialize/deserialize extended class","body":"<p>Is there an option (except writing custom serializer/deserializer) in <code>GSON library</code> to <strong>NOT</strong> serialize/deserialize beyond some level of extended classes.</p>\n\n<p>For example see the following usecase</p>\n\n<pre><code>class FirstClass {\n    int firstVariable;\n}\n\nclass SecondClass extends FirstClass {\n    int secondVariable;\n}\n\nclass ThirdClass extends SecondClass {\n    int thirdVariable;\n}\n</code></pre>\n\n<p>And now when using <code>fromJson</code> and <code>toJson</code> I would like to only serialize/deserialize first two classes in hierarchy - <code>ThirdClass</code> and <code>SecondClass</code>. Which means it would ignore whole <code>FirstClass</code> (and <code>firstVariable</code> in it) because that's already at <code>level 3</code>.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1600594529,"post_id":63974638,"comment_id":113131836,"body_markdown":"This might be caused by using a very old Eclipse with a newer version of m2e. Can you reproduce this in the current version of Eclipse? If yes, show a [minimal reproduceable example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"This might be caused by using a very old Eclipse with a newer version of m2e. Can you reproduce this in the current version of Eclipse? If yes, show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproduceable example</a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1600594818,"post_id":63974638,"comment_id":113131908,"body_markdown":"@arundeepchohan **Never ever delete the `.metadata` folder** since it does not only contain caches but also stuff you don&#39;t want to lose! Deleting the `.metadata` is a hoax spread on Stack Overflow and has already caused problems for many. If `-clean` does not help, use a fresh workspace (_File &gt; Switch Workspace_) having its own `.metadata` folder instead. But in this case, I don&#39;t think it helps.","body":"@arundeepchohan <b>Never ever delete the <code>.metadata</code> folder</b> since it does not only contain caches but also stuff you don&#39;t want to lose! Deleting the <code>.metadata</code> is a hoax spread on Stack Overflow and has already caused problems for many. If <code>-clean</code> does not help, use a fresh workspace (<i>File &gt; Switch Workspace</i>) having its own <code>.metadata</code> folder instead. But in this case, I don&#39;t think it helps."},{"owner":{"account_id":19552461,"reputation":21,"user_id":14307707,"display_name":"N_Rae"},"score":0,"creation_date":1600649343,"post_id":63974638,"comment_id":113144946,"body_markdown":"Thank you both for your responses.  I ended up downloading the newest version of Eclipse along with using a fresh new Workspace and it seemed to do the trick.  SO RELIEVED.","body":"Thank you both for your responses.  I ended up downloading the newest version of Eclipse along with using a fresh new Workspace and it seemed to do the trick.  SO RELIEVED."},{"owner":{"account_id":1613278,"reputation":351,"user_id":1491662,"display_name":"uudaddy"},"score":0,"creation_date":1701197796,"post_id":63974638,"comment_id":136744799,"body_markdown":"For me update the plugins didn&#39;t work out. In fact the update stopped for some reason. But I restart the IDE (STS, a variant of Eclipse) couple times, and it eventually seems working fine :-)","body":"For me update the plugins didn&#39;t work out. In fact the update stopped for some reason. But I restart the IDE (STS, a variant of Eclipse) couple times, and it eventually seems working fine :-)"}],"answers":[{"tags":[],"owner":{"account_id":14823368,"reputation":1,"user_id":10704965,"display_name":"hardeep sra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639026572,"creation_date":1639026572,"answer_id":70284985,"question_id":63974638,"body_markdown":"Reinstall the &#39;Oracle WebLogic server tools&#39; plugin then it will work fine.\r\nGo to help&gt;eclipse market place&gt;installed","title":"Eclipse: Source locator does not exist: org.eclipse.jdt.launching.sourceLocator.JavaAdvancedSourceLookupDirector","body":"<p>Reinstall the 'Oracle WebLogic server tools' plugin then it will work fine.\nGo to help&gt;eclipse market place&gt;installed</p>\n"}],"owner":{"account_id":19552461,"reputation":21,"user_id":14307707,"display_name":"N_Rae"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639026572,"creation_date":1600563141,"question_id":63974638,"body_markdown":"For some reason when I imported a new Maven project into Eclipse and went to Run the application, Eclipse gives me the following error:\r\n\r\n\r\nSource locator does not exist: org.eclipse.jdt.launching.sourceLocator.JavaAdvancedSourceLookupDirector\r\n\r\nThings I have tried:\r\n-Deleting the target folder\r\n-Ensuring I don&#39;t have two instances of Eclipse running\r\n-Clearing the cache in Eclipse\r\n\r\nHas anyone else encountered this particular problem and have advice for how to fix it? Frustrated.","title":"Eclipse: Source locator does not exist: org.eclipse.jdt.launching.sourceLocator.JavaAdvancedSourceLookupDirector","body":"<p>For some reason when I imported a new Maven project into Eclipse and went to Run the application, Eclipse gives me the following error:</p>\n<p>Source locator does not exist: org.eclipse.jdt.launching.sourceLocator.JavaAdvancedSourceLookupDirector</p>\n<p>Things I have tried:\n-Deleting the target folder\n-Ensuring I don't have two instances of Eclipse running\n-Clearing the cache in Eclipse</p>\n<p>Has anyone else encountered this particular problem and have advice for how to fix it? Frustrated.</p>\n"},{"tags":["java","android-studio","spotify-app"],"answers":[{"tags":[],"owner":{"account_id":10981646,"reputation":1181,"user_id":8068542,"display_name":"Saiful Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623079626,"creation_date":1623079626,"answer_id":67874466,"question_id":67872437,"body_markdown":"Follow bellow steps\r\n\r\n```\r\n\r\n1. delete the module, .idea folder, and then run an Invalidate Caches/Restart;\r\n2. before re-installing the module keep the implementation project(&#39;:spotify-app-remote&#39;) on your Gradle files;\r\n3. right-click on the app folder and choose New-&gt; Module;\r\n4. choose import .jar/aar package (if you import the module via the file menu it will never work don&#39;t ask me why hahaha)\r\n5. rename the module name to :spotify-app-remote and hit finish;\r\n\r\n```","title":"Setting up Spotify API in Android Studio","body":"<p>Follow bellow steps</p>\n<pre><code>\n1. delete the module, .idea folder, and then run an Invalidate Caches/Restart;\n2. before re-installing the module keep the implementation project(':spotify-app-remote') on your Gradle files;\n3. right-click on the app folder and choose New-&gt; Module;\n4. choose import .jar/aar package (if you import the module via the file menu it will never work don't ask me why hahaha)\n5. rename the module name to :spotify-app-remote and hit finish;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20736818,"reputation":11,"user_id":15227485,"display_name":"shubhanshu sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639026283,"creation_date":1639026283,"answer_id":70284954,"question_id":67872437,"body_markdown":"click on file&gt;new&gt;import project&gt;then open ```spotify-app-remote-release-0.7.2.aar``` file from ```app-remote-lib``` folder of sdk  that you downloaded[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rCSrl.png","title":"Setting up Spotify API in Android Studio","body":"<p>click on file&gt;new&gt;import project&gt;then open <code>spotify-app-remote-release-0.7.2.aar</code> file from <code>app-remote-lib</code> folder of sdk  that you downloaded<a href=\"https://i.stack.imgur.com/rCSrl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rCSrl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21863826,"reputation":11,"user_id":16154287,"display_name":"Ross Frazer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639026283,"creation_date":1623072057,"question_id":67872437,"body_markdown":"I&#39;ve been following the [Spotify quick start guide][1] but am having issues around the &quot;Add the App Remote SDK&quot; section.\r\n\r\n[When I try to import the module I get these options.\r\n][2] But I don&#39;t see the &quot;Import .JAR/AAR Package&quot; button like they show. Instead I have been clicking on &#39;import&#39; and then selecting the &#39;app-remote-lib&#39; folder. \r\n\r\nI&#39;ve then placed this code in my app-level build.gradle dependencies section:\r\n\r\n    implementation project(&#39;:app-remote-lib&#39;)\r\n    implementation &quot;com.google.code.gson:gson:2.8.5&quot;\r\n\r\nHowever now when I add in my dependencies into the MainActivity I just get redtext to tell me it [&quot;cannot resolve symbol &#39;spotify&#39;&quot;][3]\r\n\r\nCan anyone give me a hand here? I&#39;m not sure how to get the spotify API working from this point.\r\n\r\n\r\n  [1]: https://developer.spotify.com/documentation/android/quick-start/\r\n  [2]: https://i.stack.imgur.com/sDksw.png\r\n  [3]: https://i.stack.imgur.com/iv8X1.png","title":"Setting up Spotify API in Android Studio","body":"<p>I've been following the <a href=\"https://developer.spotify.com/documentation/android/quick-start/\" rel=\"nofollow noreferrer\">Spotify quick start guide</a> but am having issues around the &quot;Add the App Remote SDK&quot; section.</p>\n<p><a href=\"https://i.stack.imgur.com/sDksw.png\" rel=\"nofollow noreferrer\">When I try to import the module I get these options.\n</a> But I don't see the &quot;Import .JAR/AAR Package&quot; button like they show. Instead I have been clicking on 'import' and then selecting the 'app-remote-lib' folder.</p>\n<p>I've then placed this code in my app-level build.gradle dependencies section:</p>\n<pre><code>implementation project(':app-remote-lib')\nimplementation &quot;com.google.code.gson:gson:2.8.5&quot;\n</code></pre>\n<p>However now when I add in my dependencies into the MainActivity I just get redtext to tell me it <a href=\"https://i.stack.imgur.com/iv8X1.png\" rel=\"nofollow noreferrer\">&quot;cannot resolve symbol 'spotify'&quot;</a></p>\n<p>Can anyone give me a hand here? I'm not sure how to get the spotify API working from this point.</p>\n"},{"tags":["java","json","request","multipart","mixed"],"owner":{"account_id":16479268,"reputation":11,"user_id":11906417,"display_name":"aatish bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639025617,"creation_date":1565341550,"question_id":57426811,"body_markdown":"I have hit a REST API which consumes `multipart/mixed` data with a payload but the REST API takes it as a string. If I try other Object as `Multipart`, RequestPart then it throws a `415 UnsupportedMediaType Exception`.\r\n\r\nThis is the `multipart/mixed` payload which I have passed:\r\n\r\n```\r\nPOST /users/jsonform HTTP/1.1\r\nContent-Type: multipart/mixed; boundary=----------boundary\r\nContent-Length: 963\r\n\r\n----------boundary\r\nContent-Length: 337\r\nContent-Type: application/json\r\ncontent-id: 1\r\n\r\nGET http://localhost:9090/users/user/1\r\n\r\n----------boundary\r\nContent-Length: 353\r\nContent-Type: application/json\r\ncontent-id: 2\r\ncontent-transfer-encoding: binary\r\n\r\nPOST http://localhost:9090/users/addUser\r\n\r\n{\r\n    &quot;firstName&quot;: &quot;Test&quot;,\r\n    &quot;lastName&quot;: &quot;Test&quot;\r\n}\r\n\r\n----------boundary--\r\n@POST \r\n@Path(&quot;/jsonform&quot;) \r\n@Consumes(&quot;multipart/mixed&quot;) \r\npublic void simpler(String inputs) throws MessagingException, IOException {\r\n\tSystem.out.println(inputs);\r\n}\r\n```\r\nIf I pass a string argument it reads the payload as a string but If I pass anything other than string, then its throws an error.\r\n\r\nI am getting the error:\r\n\r\n    HTTP Status [415]  [Unsupported Media Type]\r\n\r\n","title":"How to consume multipart/mixed payload as multipart?","body":"<p>I have hit a REST API which consumes <code>multipart/mixed</code> data with a payload but the REST API takes it as a string. If I try other Object as <code>Multipart</code>, RequestPart then it throws a <code>415 UnsupportedMediaType Exception</code>.</p>\n\n<p>This is the <code>multipart/mixed</code> payload which I have passed:</p>\n\n<pre><code>POST /users/jsonform HTTP/1.1\nContent-Type: multipart/mixed; boundary=----------boundary\nContent-Length: 963\n\n----------boundary\nContent-Length: 337\nContent-Type: application/json\ncontent-id: 1\n\nGET http://localhost:9090/users/user/1\n\n----------boundary\nContent-Length: 353\nContent-Type: application/json\ncontent-id: 2\ncontent-transfer-encoding: binary\n\nPOST http://localhost:9090/users/addUser\n\n{\n    \"firstName\": \"Test\",\n    \"lastName\": \"Test\"\n}\n\n----------boundary--\n@POST \n@Path(\"/jsonform\") \n@Consumes(\"multipart/mixed\") \npublic void simpler(String inputs) throws MessagingException, IOException {\n    System.out.println(inputs);\n}\n</code></pre>\n\n<p>If I pass a string argument it reads the payload as a string but If I pass anything other than string, then its throws an error.</p>\n\n<p>I am getting the error:</p>\n\n<pre><code>HTTP Status [415]  [Unsupported Media Type]\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":10752975,"reputation":761,"user_id":7911712,"display_name":"Luay Abdulraheem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525993799,"creation_date":1525916464,"answer_id":50264290,"question_id":50263583,"body_markdown":"That means your database supports sequences for primary key values. So in your case, you will have to create a Database sequence and then use `@GeneratedValue(strategy=GenerationType.AUTO)` or `@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)`\r\n`@SequenceGenerator(name=&quot;seq&quot;, sequenceName = &quot;db_seq_name&quot;)` to generate values for primary key fields.\r\n\r\nAlso make sure that you add SERIAL to your SQL, so that it looks like: `id SERIAL PRIMARY KEY`\r\n\r\nSee the PostgreSQL documentation for [the serial data types][1].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/static/datatype-numeric.html#DATATYPE-SERIAL","title":"Spring Boot org.hibernate.exception.ConstraintViolationException","body":"<p>That means your database supports sequences for primary key values. So in your case, you will have to create a Database sequence and then use <code>@GeneratedValue(strategy=GenerationType.AUTO)</code> or <code>@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=\"seq\")</code>\n<code>@SequenceGenerator(name=\"seq\", sequenceName = \"db_seq_name\")</code> to generate values for primary key fields.</p>\n\n<p>Also make sure that you add SERIAL to your SQL, so that it looks like: <code>id SERIAL PRIMARY KEY</code></p>\n\n<p>See the PostgreSQL documentation for <a href=\"https://www.postgresql.org/docs/current/static/datatype-numeric.html#DATATYPE-SERIAL\" rel=\"nofollow noreferrer\">the serial data types</a>.</p>\n"},{"tags":[],"owner":{"account_id":23590979,"reputation":1,"user_id":17628773,"display_name":"Imad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639025185,"creation_date":1638988020,"answer_id":70279987,"question_id":50263583,"body_markdown":"Change your script to: \r\n```\r\nCREATE TABLE questionnaries( \r\n id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,\r\n personName VARCHAR(255) NOT NULL,\r\n question VARCHAR(255) NOT NULL,\r\n response VARCHAR(255) NOT NULL\r\n);\r\n```","title":"Spring Boot org.hibernate.exception.ConstraintViolationException","body":"<p>Change your script to:</p>\n<pre><code>CREATE TABLE questionnaries( \n id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,\n personName VARCHAR(255) NOT NULL,\n question VARCHAR(255) NOT NULL,\n response VARCHAR(255) NOT NULL\n);\n</code></pre>\n"}],"owner":{"account_id":5646681,"reputation":233,"user_id":4468505,"display_name":"samdset"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1639025185,"creation_date":1525909894,"question_id":50263583,"body_markdown":"I am getting .ConstraintViolationException when I try to persist data using the POST REST API.\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; violates not-null constraint\r\n  Detail: Failing row contains (null, John Doe, How are you?, I am fine).\r\n\r\nI am using @GeneratedValue(strategy = GenerationType.IDENTITY) to auto generate &quot;id&quot; from Hibernate and I am not sure If I am missing any configuration in application.properties. I am using Postgres db. \r\n\r\nI tried using GenerationType.AUTO and I was getting hibernate_sequence missing error from postgres.\r\n\r\nThanks!\r\n\r\n# POST REST API input using Postman #\r\n\t\t\t\t{   \r\n\t\t\t\t\t&quot;personName&quot;: &quot;John Doe&quot;,\r\n\t\t\t\t\t&quot;question&quot;: &quot;How are you?&quot;,\r\n\t\t\t\t\t&quot;response&quot;: &quot;I am fine&quot;\r\n\t\t\t\t}\r\n\r\n\r\n# questionnaries.sql #\r\n\t\t\t\tCREATE TABLE questionnaries( \r\n\t\t\t\tid BIGINT PRIMARY KEY,\r\n\t\t\t\tpersonName VARCHAR(255) NOT NULL,\r\n\t\t\t\tquestion VARCHAR(255) NOT NULL,\r\n\t\t\t\tresponse VARCHAR(255) NOT NULL\r\n\t\t\t\t);\r\n\r\n# Questionnarie.java # \r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;questionnaries&quot;)\r\n    public class Questionnarie {\r\n    \r\n    \r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n    \t\r\n    \t@Column(name = &quot;personname&quot;)\r\n    \t@NotNull\r\n    \tprivate String personname;\r\n    \t\r\n    \t\r\n    \t@Column(name = &quot;question&quot;)\r\n    \t@NotNull\r\n    \tprivate String question;\r\n    \t\r\n    \t@Column(name = &quot;response&quot;)\r\n    \t@NotNull\r\n    \tprivate String response;\r\n    \t\r\n    \tpublic Questionnarie() {}\r\n    \t\r\n    \tpublic Questionnarie(@NotNull String personname, @NotNull String question, @NotNull String response) {\r\n    \t\tsuper();\r\n    \t\tthis.personname = personname;\r\n    \t\tthis.question = question;\r\n    \t\tthis.response = response;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getPersonname() {\r\n    \t\treturn personname;\r\n    \t}\r\n    \r\n    \tpublic void setPersonname(String personname) {\r\n    \t\tthis.personname = personname;\r\n    \t}\r\n    \r\n    \tpublic String getQuestion() {\r\n    \t\treturn question;\r\n    \t}\r\n    \r\n    \tpublic void setQuestion(String question) {\r\n    \t\tthis.question = question;\r\n    \t}\r\n    \r\n    \tpublic String getResponse() {\r\n    \t\treturn response;\r\n    \t}\r\n    \r\n    \tpublic void setResponse(String response) {\r\n    \t\tthis.response = response;\r\n    \t}}\r\n\r\n# application.properties #\r\n\r\n    # ===============================\r\n    # = DATA SOURCE\r\n    # ===============================\r\n    # Set here configurations for the database connection\r\n    \r\n    spring.datasource.jndi-name=java:jboss/datasources/test_data_source\r\n    \r\n    # ===============================\r\n    # = JPA / HIBERNATE\r\n    # ===============================\r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql=true\r\n    \r\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect","title":"Spring Boot org.hibernate.exception.ConstraintViolationException","body":"<p>I am getting .ConstraintViolationException when I try to persist data using the POST REST API.</p>\n\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: null value in column \"id\" violates not-null constraint\n  Detail: Failing row contains (null, John Doe, How are you?, I am fine).</p>\n\n<p>I am using @GeneratedValue(strategy = GenerationType.IDENTITY) to auto generate \"id\" from Hibernate and I am not sure If I am missing any configuration in application.properties. I am using Postgres db. </p>\n\n<p>I tried using GenerationType.AUTO and I was getting hibernate_sequence missing error from postgres.</p>\n\n<p>Thanks!</p>\n\n<h1>POST REST API input using Postman</h1>\n\n<pre><code>            {   \n                \"personName\": \"John Doe\",\n                \"question\": \"How are you?\",\n                \"response\": \"I am fine\"\n            }\n</code></pre>\n\n<h1>questionnaries.sql</h1>\n\n<pre><code>            CREATE TABLE questionnaries( \n            id BIGINT PRIMARY KEY,\n            personName VARCHAR(255) NOT NULL,\n            question VARCHAR(255) NOT NULL,\n            response VARCHAR(255) NOT NULL\n            );\n</code></pre>\n\n<h1>Questionnarie.java #</h1>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotNull;\n\n@Entity\n@Table(name = \"questionnaries\")\npublic class Questionnarie {\n\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    private Long id;\n\n\n    @Column(name = \"personname\")\n    @NotNull\n    private String personname;\n\n\n    @Column(name = \"question\")\n    @NotNull\n    private String question;\n\n    @Column(name = \"response\")\n    @NotNull\n    private String response;\n\n    public Questionnarie() {}\n\n    public Questionnarie(@NotNull String personname, @NotNull String question, @NotNull String response) {\n        super();\n        this.personname = personname;\n        this.question = question;\n        this.response = response;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPersonname() {\n        return personname;\n    }\n\n    public void setPersonname(String personname) {\n        this.personname = personname;\n    }\n\n    public String getQuestion() {\n        return question;\n    }\n\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n    public String getResponse() {\n        return response;\n    }\n\n    public void setResponse(String response) {\n        this.response = response;\n    }}\n</code></pre>\n\n<h1>application.properties</h1>\n\n<pre><code># ===============================\n# = DATA SOURCE\n# ===============================\n# Set here configurations for the database connection\n\nspring.datasource.jndi-name=java:jboss/datasources/test_data_source\n\n# ===============================\n# = JPA / HIBERNATE\n# ===============================\n# Show or not log for each sql query\nspring.jpa.show-sql=true\n\n# Allows Hibernate to generate SQL optimized for a particular DBMS\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"},{"tags":["java","blogger","new-operator","sidebar"],"owner":{"account_id":23436074,"reputation":25,"user_id":17494150,"display_name":"Thiz is Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639024816,"creation_date":1639024816,"question_id":70284793,"body_markdown":"[![  ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0rmuI.png\r\n\r\ncan someone please share the code here pls i appreciate the work i need a new sidebar for my lefthand side  Way to Add newSideBar for blogger (html) im having a sidebar on right side but i need to add one more on leftside  , i just want to insert some information to it and add some display adds around the corner on the left side","title":"Way to Add newSideBar for blogger (html) im having a sidebar on right side but i need to add one more on leftside","body":"<p><a href=\"https://i.stack.imgur.com/0rmuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0rmuI.png\" alt=\"  \" /></a></p>\n<p>can someone please share the code here pls i appreciate the work i need a new sidebar for my lefthand side  Way to Add newSideBar for blogger (html) im having a sidebar on right side but i need to add one more on leftside  , i just want to insert some information to it and add some display adds around the corner on the left side</p>\n"},{"tags":["java","java-module","jpackage","java-17"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1638990143,"post_id":70255123,"comment_id":124236600,"body_markdown":"what does the complete command line read when you say it works?","body":"what does the complete command line read when you say it works?"},{"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"score":0,"creation_date":1639005237,"post_id":70255123,"comment_id":124241181,"body_markdown":"@Naman Added repro steps","body":"@Naman Added repro steps"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1639579898,"post_id":70255123,"comment_id":124385409,"body_markdown":"You have to run `jpackage` with `--jlink-options --bind-services`.","body":"You have to run <code>jpackage</code> with <code>--jlink-options --bind-services</code>."},{"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"score":0,"creation_date":1639587485,"post_id":70255123,"comment_id":124388577,"body_markdown":"@Holger That works nicely, but it doubles my application size (77-&gt;154MB) compared to using `--add-modules jdk.random`, not sure what other services would be binding.","body":"@Holger That works nicely, but it doubles my application size (77-&gt;154MB) compared to using <code>--add-modules jdk.random</code>, not sure what other services would be binding."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1639588252,"post_id":70255123,"comment_id":124388874,"body_markdown":"This could be connected to the fact that once you specify `--jlink-options`, it overrides the default options which are `--strip-native-commands --strip-debug --no-man-pages --no-header-files`. When you are at this tuning, you can also specify the compress option, i.e. `--jlink-options &quot;--bind-services --strip-native-commands --strip-debug --no-man-pages --no-header-files --compress 2&quot;`","body":"This could be connected to the fact that once you specify <code>--jlink-options</code>, it overrides the default options which are <code>--strip-native-commands --strip-debug --no-man-pages --no-header-files</code>. When you are at this tuning, you can also specify the compress option, i.e. <code>--jlink-options &quot;--bind-services --strip-native-commands --strip-debug --no-man-pages --no-header-files --compress 2&quot;</code>"},{"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"score":0,"creation_date":1639588759,"post_id":70255123,"comment_id":124389089,"body_markdown":"@Holger Works great! Thank you!","body":"@Holger Works great! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639024472,"creation_date":1639023936,"answer_id":70284709,"question_id":70255123,"body_markdown":"I had tried adding `requires jdk.random;` to my module-info.java\r\n\r\nIt failed to compile with error &quot;module not found: jdk.random&quot;\r\n\r\n(I figured its access was limited with only exporting to java.base)\r\n\r\nBut that was with maven-compiler-plugin:3.8.1\r\n\r\nTurns out it does compile with javac and that works.\r\n\r\nSo maybe a bug with maven-compiler-plugin.\r\n\r\nBut I still think the `uses` directive should have worked. And I need to use the maven-compiler-plugin.","title":"Java Module-Info &#39;Uses&#39; Directive (Service Consumption)","body":"<p>I had tried adding <code>requires jdk.random;</code> to my module-info.java</p>\n<p>It failed to compile with error &quot;module not found: jdk.random&quot;</p>\n<p>(I figured its access was limited with only exporting to java.base)</p>\n<p>But that was with maven-compiler-plugin:3.8.1</p>\n<p>Turns out it does compile with javac and that works.</p>\n<p>So maybe a bug with maven-compiler-plugin.</p>\n<p>But I still think the <code>uses</code> directive should have worked. And I need to use the maven-compiler-plugin.</p>\n"}],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1639024472,"creation_date":1638853015,"question_id":70255123,"body_markdown":"I&#39;m using one of the new random generator algorithms (https://openjdk.java.net/jeps/356):\r\n\r\n`RandomGeneratorFactory.of(&quot;L128X1024MixRandom&quot;).create().nextDouble();`\r\n\r\nAnd it works.\r\nExcept after using jpackage tool (https://openjdk.java.net/jeps/392)\r\n\r\n##### I get exception #####\r\n\r\n&gt; No implementation of the random generator algorithm &quot;L128X1024MixRandom&quot; is available\r\n\r\nI tried adding the `uses` directive to specify consuming the service in my module-info.java (https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.3)\r\n\r\n`uses java.util.random.RandomGenerator;`\r\n\r\nBut that doesn&#39;t fix it or seem to matter being there (am I using it wrong? I would think this should be the solution).\r\n\r\nInstead, I have to add jpackage option:\r\n`--add-modules jdk.random`\r\n\r\n# Repro Steps #\r\n\r\n### 1. Create directories with files: ###\r\n#### rngTest/com/example/Test.java ####\r\n```\r\npackage com.example;\r\n\r\nimport javax.swing.JOptionPane;\r\nimport java.util.random.RandomGeneratorFactory;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws Exception {\r\n        try {\r\n            JOptionPane.showMessageDialog(null, &quot;nextDouble: &quot; + RandomGeneratorFactory.of(&quot;L128X1024MixRandom&quot;).create().nextDouble());\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Exception: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n#### rngTest/module-info.java ####\r\n\r\n```\r\nmodule com.example {\r\n    requires java.desktop;\r\n    uses java.util.random.RandomGenerator;\r\n}\r\n```\r\n#### rngTest/manifest.txt ####\r\n```\r\nManifest-Version: 1.0\r\nCreated-By: 17.0.1\r\nBuild-Jdk-Spec: 17\r\nMain-Class: com.example.Test\r\n\r\n```\r\n\r\n### 2. Run commands from the rngTest directory ###\r\n(for macOS. Will need to change `--type dmg` for other platforms, see https://openjdk.java.net/jeps/392)\r\n\r\n```\r\nfind . -name &quot;*.java&quot; &gt; sources.txt\r\njavac @sources.txt -d target\r\nmkdir -p lib; cd target; jar cfm ../lib/test.jar ../manifest.txt *; cd ..\r\n${JAVA_HOME}/bin/jpackage --module-path lib --module com.example/com.example.Test --type dmg --name Test\r\n```\r\n\r\n### 3. Run the created installer, then run the installed application ###\r\n\r\nNotice exception message.\r\n\r\nNow rerun jpackage command with `--add-modules jdk.random` and then repeat step 3, notice success.\r\n\r\n    ${JAVA_HOME}/bin/jpackage --module-path lib --module com.example/com.example.Test --type dmg --name Test --add-modules jdk.random\r\n","title":"Java Module-Info &#39;Uses&#39; Directive (Service Consumption)","body":"<p>I'm using one of the new random generator algorithms (<a href=\"https://openjdk.java.net/jeps/356\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/356</a>):</p>\n<p><code>RandomGeneratorFactory.of(&quot;L128X1024MixRandom&quot;).create().nextDouble();</code></p>\n<p>And it works.\nExcept after using jpackage tool (<a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/392</a>)</p>\n<h5>I get exception</h5>\n<blockquote>\n<p>No implementation of the random generator algorithm &quot;L128X1024MixRandom&quot; is available</p>\n</blockquote>\n<p>I tried adding the <code>uses</code> directive to specify consuming the service in my module-info.java (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.3</a>)</p>\n<p><code>uses java.util.random.RandomGenerator;</code></p>\n<p>But that doesn't fix it or seem to matter being there (am I using it wrong? I would think this should be the solution).</p>\n<p>Instead, I have to add jpackage option:\n<code>--add-modules jdk.random</code></p>\n<h1>Repro Steps</h1>\n<h3>1. Create directories with files:</h3>\n<h4>rngTest/com/example/Test.java</h4>\n<pre><code>package com.example;\n\nimport javax.swing.JOptionPane;\nimport java.util.random.RandomGeneratorFactory;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        try {\n            JOptionPane.showMessageDialog(null, &quot;nextDouble: &quot; + RandomGeneratorFactory.of(&quot;L128X1024MixRandom&quot;).create().nextDouble());\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, &quot;Exception: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<h4>rngTest/module-info.java</h4>\n<pre><code>module com.example {\n    requires java.desktop;\n    uses java.util.random.RandomGenerator;\n}\n</code></pre>\n<h4>rngTest/manifest.txt</h4>\n<pre><code>Manifest-Version: 1.0\nCreated-By: 17.0.1\nBuild-Jdk-Spec: 17\nMain-Class: com.example.Test\n\n</code></pre>\n<h3>2. Run commands from the rngTest directory</h3>\n<p>(for macOS. Will need to change <code>--type dmg</code> for other platforms, see <a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/392</a>)</p>\n<pre><code>find . -name &quot;*.java&quot; &gt; sources.txt\njavac @sources.txt -d target\nmkdir -p lib; cd target; jar cfm ../lib/test.jar ../manifest.txt *; cd ..\n${JAVA_HOME}/bin/jpackage --module-path lib --module com.example/com.example.Test --type dmg --name Test\n</code></pre>\n<h3>3. Run the created installer, then run the installed application</h3>\n<p>Notice exception message.</p>\n<p>Now rerun jpackage command with <code>--add-modules jdk.random</code> and then repeat step 3, notice success.</p>\n<pre><code>${JAVA_HOME}/bin/jpackage --module-path lib --module com.example/com.example.Test --type dmg --name Test --add-modules jdk.random\n</code></pre>\n"},{"tags":["java","spring-boot","junit","java-8","mockito"],"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1553757147,"post_id":55391186,"comment_id":97504657,"body_markdown":"Are you trying to use a [partial mock](https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others)? You might be better off extending the class in your test and overriding the synchronous method.","body":"Are you trying to use a <a href=\"https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others\">partial mock</a>? You might be better off extending the class in your test and overriding the synchronous method."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1553757278,"post_id":55391186,"comment_id":97504712,"body_markdown":"Where are you calling `getCouponAndNotifyAsync()` in your test? I also don&#39;t think the mock works like you think it does.","body":"Where are you calling <code>getCouponAndNotifyAsync()</code> in your test? I also don&#39;t think the mock works like you think it does."},{"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"score":0,"creation_date":1553841152,"post_id":55391186,"comment_id":97542887,"body_markdown":"Can you please explain more on this? getCouponAndNotifyAsync() is getting called in controller class. That test is passed.","body":"Can you please explain more on this? getCouponAndNotifyAsync() is getting called in controller class. That test is passed."}],"answers":[{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1553756917,"creation_date":1553756782,"answer_id":55391900,"question_id":55391186,"body_markdown":"I assume you&#39;re testing `getCouponAndNotify()` elsewhere so you don&#39;t have to worry about it throwing an exception.\r\n\r\nWhat you&#39;ll run into is a race condition between `getCouponAndNotifyAsync()` and `getCouponAndNotify()` returning. There are a few solutions for this:\r\n\r\nSince you&#39;re using the common `ForkJoinPool`, do\r\n\r\n```\r\nassertTrue(ForkJoinPool.commonPool().awaitQuiescence(5, TimeUnit.Seconds));\r\n```\r\n\r\n[It waits for the task to finish](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#awaitQuiescence-long-java.util.concurrent.TimeUnit-).\r\n\r\nAlternatively, you could inject an `ExecutorService` and use it as the second parameter to `supplyAsync()`. You have a few choices: you could use a mock, you could use an `ExecutorService` that [runs with the current thread](https://stackoverflow.com/questions/6581188/is-there-an-executorservice-that-uses-the-current-thread), or you could inject a standard `Executors.newSingleThreadExecutor()`, then call `shutdown()` and `awaitTermination()` in your test.\r\n\r\nYou could also return a `CompletionStage&lt;Void&gt;` from `getCouponAndNotifyAsync()` that you can wait on in the test.","title":"Mockito Test case for CompletableFuture.runAsync() which calls void method","body":"<p>I assume you're testing <code>getCouponAndNotify()</code> elsewhere so you don't have to worry about it throwing an exception.</p>\n\n<p>What you'll run into is a race condition between <code>getCouponAndNotifyAsync()</code> and <code>getCouponAndNotify()</code> returning. There are a few solutions for this:</p>\n\n<p>Since you're using the common <code>ForkJoinPool</code>, do</p>\n\n<pre><code>assertTrue(ForkJoinPool.commonPool().awaitQuiescence(5, TimeUnit.Seconds));\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#awaitQuiescence-long-java.util.concurrent.TimeUnit-\" rel=\"noreferrer\">It waits for the task to finish</a>.</p>\n\n<p>Alternatively, you could inject an <code>ExecutorService</code> and use it as the second parameter to <code>supplyAsync()</code>. You have a few choices: you could use a mock, you could use an <code>ExecutorService</code> that <a href=\"https://stackoverflow.com/questions/6581188/is-there-an-executorservice-that-uses-the-current-thread\">runs with the current thread</a>, or you could inject a standard <code>Executors.newSingleThreadExecutor()</code>, then call <code>shutdown()</code> and <code>awaitTermination()</code> in your test.</p>\n\n<p>You could also return a <code>CompletionStage&lt;Void&gt;</code> from <code>getCouponAndNotifyAsync()</code> that you can wait on in the test.</p>\n"},{"tags":[],"owner":{"account_id":4250230,"reputation":1766,"user_id":3477539,"accept_rate":83,"display_name":"Rostislav V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599154404,"creation_date":1599154404,"answer_id":63728892,"question_id":55391186,"body_markdown":"Let&#39;s say you have this code:\r\n\r\n    public void method() {\r\n            CompletableFuture.runAsync(() -&gt; {\r\n                //logic\r\n                //logic\r\n                //logic\r\n                //logic\r\n            });\r\n        }\r\n\r\nTry to refactor it to something like this:\r\n\r\n    public void refactoredMethod() {\r\n        CompletableFuture.runAsync(this::subMethod);\r\n    }\r\n    \r\n    private void subMethod() {\r\n        //logic\r\n        //logic\r\n        //logic\r\n        //logic\r\n    }\r\n\r\nAfter that, test the subMethod this way:\r\n\r\n    org.powermock.reflect.Whitebox.invokeMethod(classInstance, &quot;subMethod&quot;); \r\n    Mockito.verify(...)\r\n\r\nThis isn&#39;t a perfect solution, but it tests all the logic inside your async execution.","title":"Mockito Test case for CompletableFuture.runAsync() which calls void method","body":"<p>Let's say you have this code:</p>\n<pre><code>public void method() {\n        CompletableFuture.runAsync(() -&gt; {\n            //logic\n            //logic\n            //logic\n            //logic\n        });\n    }\n</code></pre>\n<p>Try to refactor it to something like this:</p>\n<pre><code>public void refactoredMethod() {\n    CompletableFuture.runAsync(this::subMethod);\n}\n\nprivate void subMethod() {\n    //logic\n    //logic\n    //logic\n    //logic\n}\n</code></pre>\n<p>After that, test the subMethod this way:</p>\n<pre><code>org.powermock.reflect.Whitebox.invokeMethod(classInstance, &quot;subMethod&quot;); \nMockito.verify(...)\n</code></pre>\n<p>This isn't a perfect solution, but it tests all the logic inside your async execution.</p>\n"},{"tags":[],"owner":{"account_id":3445367,"reputation":429,"user_id":2886317,"display_name":"achini"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1639023991,"creation_date":1639023586,"answer_id":70284668,"question_id":55391186,"body_markdown":"To verify your asynchronous method is called, you can use\r\n\r\n     verify(&lt;&lt;your service&gt;&gt;, **timeout(100)**.times(1))\r\n          .&lt;&lt;your method&gt;&gt;(&lt;&lt; arguments&gt;&gt;);\r\n\r\nex:-  \r\n\r\n    verify(service, **timeout(100)**.times(1))\r\n          .getCouponAndNotify(anyString(), anyString(), anyString(), anyString(), any(NotificationRequest.class));\r\n\r\nRefer https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.9/org/mockito/verification/VerificationWithTimeout.html","title":"Mockito Test case for CompletableFuture.runAsync() which calls void method","body":"<p>To verify your asynchronous method is called, you can use</p>\n<pre><code> verify(&lt;&lt;your service&gt;&gt;, **timeout(100)**.times(1))\n      .&lt;&lt;your method&gt;&gt;(&lt;&lt; arguments&gt;&gt;);\n</code></pre>\n<p>ex:-</p>\n<pre><code>verify(service, **timeout(100)**.times(1))\n      .getCouponAndNotify(anyString(), anyString(), anyString(), anyString(), any(NotificationRequest.class));\n</code></pre>\n<p>Refer <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.9/org/mockito/verification/VerificationWithTimeout.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.9/org/mockito/verification/VerificationWithTimeout.html</a></p>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13270,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1639023991,"creation_date":1553753637,"question_id":55391186,"body_markdown":"I need help to write mockito test case for below method.\r\n\r\n    public void getCouponAndNotifyAsync(String countryId, String channelId,\r\n\t\t\tString storeNumber, String clientId, NotificationRequest notificationRequest)\r\n\t\t\tthrows FirestoreException, TurneroServiceException {\r\n\t\tCompletableFuture.runAsync(() -&gt; getCouponAndNotify(countryId, channelId,\r\n\t\t\t\tstoreNumber, clientId, notificationRequest));\r\n\t}\r\n\r\nWhere getCouponAndNotify() is a void method.\r\n\r\nTried below but its not working\r\n\r\n    @Test\r\n    \tpublic void getCouponAndNotifyAsync() throws Exception {\r\n    \t\t//doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(&quot;ext_rborse@falabella.cl&quot;, &quot;all&quot;));\r\n    \r\n    \t\tCompletableFuture&lt;Void&gt; runAsync = CompletableFuture\r\n    \t\t\t\t.runAsync(() -&gt; doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(&quot;ext_rborse@falabella.cl&quot;, &quot;all&quot;)));\r\n    \t\t\r\n    \t\tassertTrue(runAsync.isDone());\r\n    \r\n    \t}\r\n\r\n\r\nUpdated test cases but still not working.\r\n\r\n    @Test\r\n    \tpublic void getCouponAndNotifyAsync() throws Exception {\r\n    \t\t//doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(&quot;ext_rborse@falabella.cl&quot;, &quot;all&quot;));\r\n    \r\n    \t\tCompletableFuture&lt;Void&gt; runAsync = CompletableFuture\r\n    \t\t\t\t.runAsync(() -&gt; doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(&quot;ext_rborse@falabella.cl&quot;, &quot;all&quot;)));\r\n    \t\t\r\n    \t\tassertTrue(ForkJoinPool.commonPool().awaitQuiescence(5, TimeUnit.SECONDS));\r\n    \t\tassertTrue(runAsync.isDone());\r\n    \r\n    \t}","title":"Mockito Test case for CompletableFuture.runAsync() which calls void method","body":"<p>I need help to write mockito test case for below method.</p>\n\n<pre><code>public void getCouponAndNotifyAsync(String countryId, String channelId,\n        String storeNumber, String clientId, NotificationRequest notificationRequest)\n        throws FirestoreException, TurneroServiceException {\n    CompletableFuture.runAsync(() -&gt; getCouponAndNotify(countryId, channelId,\n            storeNumber, clientId, notificationRequest));\n}\n</code></pre>\n\n<p>Where getCouponAndNotify() is a void method.</p>\n\n<p>Tried below but its not working</p>\n\n<pre><code>@Test\n    public void getCouponAndNotifyAsync() throws Exception {\n        //doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(\"ext_rborse@falabella.cl\", \"all\"));\n\n        CompletableFuture&lt;Void&gt; runAsync = CompletableFuture\n                .runAsync(() -&gt; doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(\"ext_rborse@falabella.cl\", \"all\")));\n\n        assertTrue(runAsync.isDone());\n\n    }\n</code></pre>\n\n<p>Updated test cases but still not working.</p>\n\n<pre><code>@Test\n    public void getCouponAndNotifyAsync() throws Exception {\n        //doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(\"ext_rborse@falabella.cl\", \"all\"));\n\n        CompletableFuture&lt;Void&gt; runAsync = CompletableFuture\n                .runAsync(() -&gt; doNothing().when(turneroService).getCouponAndNotify(COUNTRYID, CHANNELID, STORENUMBER, CLIENTID, new NotificationRequest(\"ext_rborse@falabella.cl\", \"all\")));\n\n        assertTrue(ForkJoinPool.commonPool().awaitQuiescence(5, TimeUnit.SECONDS));\n        assertTrue(runAsync.isDone());\n\n    }\n</code></pre>\n"},{"tags":["java","regex","jira"],"comments":[{"owner":{"account_id":16447605,"reputation":17,"user_id":11881908,"display_name":"Robert Munoz"},"score":0,"creation_date":1638323013,"post_id":70165250,"comment_id":124056564,"body_markdown":"I checked and it is meant to be Java based regex. The curly brackets/mustache is Jira format. I believe this is more of a Jira syntax question that uses a limited number of Java regex. I&#39;m asking for help in grabbing just the first instance of &quot;Traceback:&quot; and the line immediately below it. Any suggestions?","body":"I checked and it is meant to be Java based regex. The curly brackets/mustache is Jira format. I believe this is more of a Jira syntax question that uses a limited number of Java regex. I&#39;m asking for help in grabbing just the first instance of &quot;Traceback:&quot; and the line immediately below it. Any suggestions?"},{"owner":{"account_id":16447605,"reputation":17,"user_id":11881908,"display_name":"Robert Munoz"},"score":0,"creation_date":1638391982,"post_id":70165250,"comment_id":124079154,"body_markdown":"Thank you for your advice. Unfortunately, it doesnt seem to be working and so I believe this is more of a Jira automation question. Note that I&#39;ve changed to title to reflect a Jira question.","body":"Thank you for your advice. Unfortunately, it doesnt seem to be working and so I believe this is more of a Jira automation question. Note that I&#39;ve changed to title to reflect a Jira question."},{"owner":{"account_id":15702039,"reputation":18231,"user_id":11329890,"display_name":"Ryszard Czech"},"score":1,"creation_date":1638568073,"post_id":70165250,"comment_id":124132408,"body_markdown":"`[\\\\s\\n\\r]*`....","body":"<code>[\\\\s\\n\\r]*</code>...."}],"answers":[{"tags":[],"owner":{"account_id":16447605,"reputation":17,"user_id":11881908,"display_name":"Robert Munoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639023842,"creation_date":1639016942,"answer_id":70284044,"question_id":70165250,"body_markdown":"This seems to work:\r\n\r\n    {{issue.description.match(&quot;Traceback:([\\s\\n\\r]*[^\\r\\n].*)&quot;)}}\r\n\r\nI moved the capture group parentheses, so the text &#39;Traceback&#39; was found once.","title":"How to grab the first instance of a keyword and the line below it for Jira Service Management automation","body":"<p>This seems to work:</p>\n<pre><code>{{issue.description.match(&quot;Traceback:([\\s\\n\\r]*[^\\r\\n].*)&quot;)}}\n</code></pre>\n<p>I moved the capture group parentheses, so the text 'Traceback' was found once.</p>\n"}],"owner":{"account_id":16447605,"reputation":17,"user_id":11881908,"display_name":"Robert Munoz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1639023842,"creation_date":1638254057,"question_id":70165250,"body_markdown":"I am using Jira Service Desk automation and need to use regex for *just the first instance* of a keyword called &quot;Traceback:&quot; including the next line in braces `{}`, for instance:\r\n\r\n```none\r\n{Traceback:\r\nTypeError : stat() argument 1 must be encoded string without null }\r\nbytes, not str\r\nTraceback:\r\n File &quot;/Applications/modules/lon_project/libern/runtime_utils.py&quot;, line 181, in run return_value = self.target()\r\n```\r\n\r\n\r\nI&#39;ve been trying to use the following regex:\r\n\r\n```none\r\n{{issue.description.match(&quot;(Traceback:[\\s\\n\\r]\\*[^\\r\\n].*)&quot;)}} \r\n```\r\n\r\nwhich doesn&#39;t match.\r\n\r\nRelated, could you explain how to escape forward and backslashes in Jira regex?\r\n\r\n","title":"How to grab the first instance of a keyword and the line below it for Jira Service Management automation","body":"<p>I am using Jira Service Desk automation and need to use regex for <em>just the first instance</em> of a keyword called &quot;Traceback:&quot; including the next line in braces <code>{}</code>, for instance:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{Traceback:\nTypeError : stat() argument 1 must be encoded string without null }\nbytes, not str\nTraceback:\n File &quot;/Applications/modules/lon_project/libern/runtime_utils.py&quot;, line 181, in run return_value = self.target()\n</code></pre>\n<p>I've been trying to use the following regex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{issue.description.match(&quot;(Traceback:[\\s\\n\\r]\\*[^\\r\\n].*)&quot;)}} \n</code></pre>\n<p>which doesn't match.</p>\n<p>Related, could you explain how to escape forward and backslashes in Jira regex?</p>\n"},{"tags":["java","exception","indexing","error-handling","string-length"],"comments":[{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":1,"creation_date":1639018693,"post_id":70284144,"comment_id":124243504,"body_markdown":"What line of code is the exception happening at?","body":"What line of code is the exception happening at?"},{"owner":{"account_id":14349740,"reputation":35,"user_id":10365634,"display_name":"cmark"},"score":0,"creation_date":1639018798,"post_id":70284144,"comment_id":124243526,"body_markdown":"if (!uniqueVertices.contains(vertex[i].charAt(0))) {// if vertex not present in unique vertices map, add it","body":"if (!uniqueVertices.contains(vertex[i].charAt(0))) {// if vertex not present in unique vertices map, add it"},{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":1,"creation_date":1639021474,"post_id":70284144,"comment_id":124243905,"body_markdown":"On replacing i with i-1 in the last if block, I&#39;m getting the final output as [A, B, 2, 1, 7, C, E, 8, D, 5, 4, 9, 3, F, G, H, I, J, K, L, M, 6, N]","body":"On replacing i with i-1 in the last if block, I&#39;m getting the final output as [A, B, 2, 1, 7, C, E, 8, D, 5, 4, 9, 3, F, G, H, I, J, K, L, M, 6, N]"}],"answers":[{"tags":[],"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639022975,"creation_date":1639022975,"answer_id":70284602,"question_id":70284144,"body_markdown":"The index variable `i` is incremented by **2** thus the last `if` block tries to access ahead of the last index. You need to add some guard code to `break` the loop before the last `if` block.","title":"Index out of bounds error for java program","body":"<p>The index variable <code>i</code> is incremented by <strong>2</strong> thus the last <code>if</code> block tries to access ahead of the last index. You need to add some guard code to <code>break</code> the loop before the last <code>if</code> block.</p>\n"}],"owner":{"account_id":14349740,"reputation":35,"user_id":10365634,"display_name":"cmark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70284602,"answer_count":1,"score":0,"last_activity_date":1639022975,"creation_date":1639017996,"question_id":70284144,"body_markdown":"I&#39;m getting this error and I need help. Code reads in a .txt file and gives an output. I believe it should be a simple fix but am unable to find a solution. The first token represents the name \r\nof a room in the dungeon.  After that, each pair of tokens represents a connected room and the steps it will \r\ntake to travel to that room.  (A room can be connected to up to 32 other rooms).  If a room doesnt have an \r\nentry in the input file, this means that it does not have any way out. Every dungeon entrance is named A.  When there are multiple connected rooms, they should be explored in alphabetic order.  The room labeled X contains a heart container.  Not all rooms are connected. \r\nInput:\r\n\r\n    A B 25 G 11 I 7\r\n    B C 10 E 12\r\n    C E 1 H 25 L 88\r\n    D A 51 J 2 N 48\r\n    E A 99 B 23 K 3\r\n    F C 23 D 3 E 75\r\n    G A 12 D 29 X 9 \r\n    H G 1 C 2 M 10\r\n    I E 7 B 2 A 9\r\n    J I 12 H 11 G 13 F 27 D 85\r\n    K A 12 B 13\r\n    L E 70 G 50 J 20 K 1 B 4\r\n    M L 10 A 11 F 91 H 67 N 92\r\n    N M 1\r\n\r\nOutput:\r\n Number of Potions Needed:\r\n    0\r\n    Distance to Chest:\r\n    20\r\n    Path to Chest:\r\n    AGX\r\n\r\nCode:\r\n   \r\n\r\n     class GraphEdge {\r\n        \tprivate char from;\r\n        \tprivate char to;\r\n        \tprivate int weight;\r\n    \tpublic GraphEdge(char from, char to, int weight) {\r\n    \t\tthis.from = from;\r\n    \t\tthis.to = to;\r\n    \t\tthis.weight = weight;\r\n    \t}\r\n    \r\n        public class Graph {\r\n        \tpublic static void main(String[] args) throws FileNotFoundException {\r\n        \t\tDFS();}\r\n    \tprivate static void DFS() \r\n    \t\tchar source = &#39;A&#39;;// source vertex\r\n    \t\tchar destination = &#39;X&#39;;// destination vertex\r\n    \t\tArrayList&lt;GraphEdge&gt; edges = new ArrayList&lt;GraphEdge&gt;();// list to hold all edges\r\n    \t\tHashSet&lt;Character&gt; uniqueVertices = new HashSet&lt;Character&gt;();// all unique vertices in map\r\n    \t\tArrayList&lt;Character&gt; allVertices = new ArrayList&lt;Character&gt;();// list to hold all vertices\r\n    \t\t// System.out.println(&quot;Input File:&quot;);\r\n    \t\twhile (obj.hasNextLine()) {// while input file has lines left\r\n    \t\t\tString line = obj.nextLine();\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t\tString vertex[] = line.split(&quot; &quot;);// split the line into source vertex, destination vertex and the weight\r\n    \t\t\tint i = 1;\r\n    \t\twhile (i &lt; vertex.length) {\r\n    \t\t\tGraphEdge edge = new GraphEdge(vertex[0].charAt(0), vertex[i].charAt(0),Integer.parseInt(vertex[i + 1]));\r\n    \t\t\tedges.add(edge);\r\n    \t\t\ti = i + 2;\r\n    \t\t\tSystem.out.println(edge);\r\n    \t\t\tSystem.out.println(vertex[0].charAt(0));\r\n    \t\t\tSystem.out.println(vertex[1].charAt(0));\r\n    \t\t\t//System.out.println(vertex[i].charAt(0));\r\n    \t\t\tif (!uniqueVertices.contains(vertex[0].charAt(0))) {// if vertex not present in unique vertices map, add it\r\n    \t\t\t\t// in map and arraylist\r\n    \t\t\t\tuniqueVertices.add(vertex[0].charAt(0));\r\n    \t\t\t\tallVertices.add(vertex[0].charAt(0));\r\n    \t\t\t\tSystem.out.println(allVertices);\r\n    \t\t\t}\r\n    \t\t\tif (!uniqueVertices.contains(vertex[1].charAt(0))) {// if vertex not present in unique vertices map, add it\r\n    \t\t\t\t// in map and arraylist\r\n    \t\t\t\tuniqueVertices.add(vertex[1].charAt(0));\r\n    \t\t\t\tallVertices.add(vertex[1].charAt(0));\r\n    \t\t\t\tSystem.out.println(allVertices);\r\n    \t\t\t}\r\n    \t\t\tif (!uniqueVertices.contains(vertex[i].charAt(0))) {// if vertex not present in unique vertices map, add it\r\n    \t\t\t\t// in map and arraylist\r\n    \t\t\t\tuniqueVertices.add(vertex[i].charAt(0));\r\n    \t\t\t\tallVertices.add(vertex[i].charAt(0));\r\n    \t\t\t\tSystem.out.println(allVertices);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Index out of bounds error for java program","body":"<p>I'm getting this error and I need help. Code reads in a .txt file and gives an output. I believe it should be a simple fix but am unable to find a solution. The first token represents the name\nof a room in the dungeon.  After that, each pair of tokens represents a connected room and the steps it will\ntake to travel to that room.  (A room can be connected to up to 32 other rooms).  If a room doesnt have an\nentry in the input file, this means that it does not have any way out. Every dungeon entrance is named A.  When there are multiple connected rooms, they should be explored in alphabetic order.  The room labeled X contains a heart container.  Not all rooms are connected.\nInput:</p>\n<pre><code>A B 25 G 11 I 7\nB C 10 E 12\nC E 1 H 25 L 88\nD A 51 J 2 N 48\nE A 99 B 23 K 3\nF C 23 D 3 E 75\nG A 12 D 29 X 9 \nH G 1 C 2 M 10\nI E 7 B 2 A 9\nJ I 12 H 11 G 13 F 27 D 85\nK A 12 B 13\nL E 70 G 50 J 20 K 1 B 4\nM L 10 A 11 F 91 H 67 N 92\nN M 1\n</code></pre>\n<p>Output:\nNumber of Potions Needed:\n0\nDistance to Chest:\n20\nPath to Chest:\nAGX</p>\n<p>Code:</p>\n<pre><code> class GraphEdge {\n        private char from;\n        private char to;\n        private int weight;\n    public GraphEdge(char from, char to, int weight) {\n        this.from = from;\n        this.to = to;\n        this.weight = weight;\n    }\n\n    public class Graph {\n        public static void main(String[] args) throws FileNotFoundException {\n            DFS();}\n    private static void DFS() \n        char source = 'A';// source vertex\n        char destination = 'X';// destination vertex\n        ArrayList&lt;GraphEdge&gt; edges = new ArrayList&lt;GraphEdge&gt;();// list to hold all edges\n        HashSet&lt;Character&gt; uniqueVertices = new HashSet&lt;Character&gt;();// all unique vertices in map\n        ArrayList&lt;Character&gt; allVertices = new ArrayList&lt;Character&gt;();// list to hold all vertices\n        // System.out.println(&quot;Input File:&quot;);\n        while (obj.hasNextLine()) {// while input file has lines left\n            String line = obj.nextLine();\n            System.out.println(line);\n            String vertex[] = line.split(&quot; &quot;);// split the line into source vertex, destination vertex and the weight\n            int i = 1;\n        while (i &lt; vertex.length) {\n            GraphEdge edge = new GraphEdge(vertex[0].charAt(0), vertex[i].charAt(0),Integer.parseInt(vertex[i + 1]));\n            edges.add(edge);\n            i = i + 2;\n            System.out.println(edge);\n            System.out.println(vertex[0].charAt(0));\n            System.out.println(vertex[1].charAt(0));\n            //System.out.println(vertex[i].charAt(0));\n            if (!uniqueVertices.contains(vertex[0].charAt(0))) {// if vertex not present in unique vertices map, add it\n                // in map and arraylist\n                uniqueVertices.add(vertex[0].charAt(0));\n                allVertices.add(vertex[0].charAt(0));\n                System.out.println(allVertices);\n            }\n            if (!uniqueVertices.contains(vertex[1].charAt(0))) {// if vertex not present in unique vertices map, add it\n                // in map and arraylist\n                uniqueVertices.add(vertex[1].charAt(0));\n                allVertices.add(vertex[1].charAt(0));\n                System.out.println(allVertices);\n            }\n            if (!uniqueVertices.contains(vertex[i].charAt(0))) {// if vertex not present in unique vertices map, add it\n                // in map and arraylist\n                uniqueVertices.add(vertex[i].charAt(0));\n                allVertices.add(vertex[i].charAt(0));\n                System.out.println(allVertices);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","big-o"],"comments":[{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":2,"creation_date":1638994840,"post_id":70281196,"comment_id":124238103,"body_markdown":"Perhaps you would understand the notation better if instead of ` j=i+1 n (ji)` it was written ` j=i+1 n ( k=i j 1)`? As in, there is an inner loop from `i` to `j`. They have written it as `(j-i)`, because ` k=i j 1` is just `1` added together `(j-i)` times.","body":"Perhaps you would understand the notation better if instead of <code> j=i+1 n (ji)</code> it was written <code> j=i+1 n ( k=i j 1)</code>? As in, there is an inner loop from <code>i</code> to <code>j</code>. They have written it as <code>(j-i)</code>, because <code> k=i j 1</code> is just <code>1</code> added together <code>(j-i)</code> times."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":1,"creation_date":1638995198,"post_id":70281196,"comment_id":124238221,"body_markdown":"`checkRepetition(s, i, j)` is O(1) time, not j-i, so the entire calculation is wrong (at least practically speaking -- technically it&#39;s correct because big-O is an upper bound).","body":"<code>checkRepetition(s, i, j)</code> is O(1) time, not j-i, so the entire calculation is wrong (at least practically speaking -- technically it&#39;s correct because big-O is an upper bound)."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1638995271,"post_id":70281196,"comment_id":124238243,"body_markdown":"I&#39;ve never seen big O notations like that, and frankly hope to never see them again - nobody outside academia would care about such detail. Just stick to the basic flavours O(1), O(log n), O(n), O(n log n), O(n&#178;) etc","body":"I&#39;ve never seen big O notations like that, and frankly hope to never see them again - nobody outside academia would care about such detail. Just stick to the basic flavours O(1), O(log n), O(n), O(n log n), O(n&#178;) etc"},{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":2,"creation_date":1638999321,"post_id":70281196,"comment_id":124239526,"body_markdown":"@PaulHankin In what world is a loop from `start` to `end` constant?","body":"@PaulHankin In what world is a loop from <code>start</code> to <code>end</code> constant?"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1639022591,"post_id":70281196,"comment_id":124244076,"body_markdown":"How is this a java question, instead of a [cs.se] question? Stack Overflow is focused on practice, not theory (and while big-O can be useful in practice, Bohemian is spot-on about _how_ it&#39;s used in real-world practice; the example here is like adding a bunch of digits after the decimal point of something that&#39;s a wild approximation -- it doesn&#39;t actually make anything more precise in a practically useful way).","body":"How is this a java question, instead of a <a href=\"https://cs.stackexchange.com\">Computer Science</a> question? Stack Overflow is focused on practice, not theory (and while big-O can be useful in practice, Bohemian is spot-on about <i>how</i> it&#39;s used in real-world practice; the example here is like adding a bunch of digits after the decimal point of something that&#39;s a wild approximation -- it doesn&#39;t actually make anything more precise in a practically useful way)."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":1,"creation_date":1639037771,"post_id":70281196,"comment_id":124247337,"body_markdown":"@Welbog the loop in checkRepetition is terminated when a duplicate character is found (or an ArrayIndexOutOfBoundsException is raised). That happens at the latest after 129 iterations.","body":"@Welbog the loop in checkRepetition is terminated when a duplicate character is found (or an ArrayIndexOutOfBoundsException is raised). That happens at the latest after 129 iterations."}],"answers":[{"tags":[],"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639015379,"creation_date":1639012224,"answer_id":70283594,"question_id":70281196,"body_markdown":"The first sum from i=0 to n-1 corresponds to the outer for loop of `lengthOfLongestSubstring`, which you can see iterates from i=0 to n-1.\r\n\r\nThe second sum from j = i+1 to n corresponds to the second for loop (you could be starting j at i+1 rather than i as there&#39;s no need to check length 0 sub-strings).\r\n\r\nGenerally, we would expect this particular double for loop structure to produce O(n^2) algorithms and a third for loop (from k=j+1 to n) to lead to O(n^3) ones. However, this general rule (k for loops iterating through all k-tuples of indices producing O(n^k) algorithms) is only the case when the work done inside the innermost for loop is constant. This is because having k for loops structured in this way produces O(n^k) total iterations, but you need to multiply the total number of iterations by the work done in each iteration to get the overall complexity.\r\n\r\nFrom this idea, we can see that the reason `lengthOfLongestSubstring`  is O(n^3) is because the work done inside of the body of the second for loop is not constant, but rather is O(n). `checkRepitition(s, i, j)` iterates from i to j, taking `j-i` time (hence the expression inside the second term of the sum). `O(j-i)` time is O(n) time in the worst case because `i` could be as low as `0`, `j` as high as `n`, and of course O(n-0) = O(n) (it&#39;s not too hard to show that `checkRepitions` is O(n) in the average case as well). \r\n\r\nAs mentioned by a commenter, having a linear operation inside the body of your second for loop has the same practical effect in terms of complexity as having a third for loop, which would probably be easier to see as being O(n^3) (you could even imagine the function definition for `checkRepitition`, including its for loop, being pasted into `lengthOfLongestSubstring` in place to see the same result). But the basic idea is that doing O(n) work for each of the O(n^2) iterations of the 2 for loops means the total complexity is O(n)*O(n^2) = O(n^3).","title":"Not understanding big O notation O( i=0 n1 ( j=i+1 n (ji)))=O( i=0 n1 2 (1+ni)(ni))=O(n^3)","body":"<p>The first sum from i=0 to n-1 corresponds to the outer for loop of <code>lengthOfLongestSubstring</code>, which you can see iterates from i=0 to n-1.</p>\n<p>The second sum from j = i+1 to n corresponds to the second for loop (you could be starting j at i+1 rather than i as there's no need to check length 0 sub-strings).</p>\n<p>Generally, we would expect this particular double for loop structure to produce O(n^2) algorithms and a third for loop (from k=j+1 to n) to lead to O(n^3) ones. However, this general rule (k for loops iterating through all k-tuples of indices producing O(n^k) algorithms) is only the case when the work done inside the innermost for loop is constant. This is because having k for loops structured in this way produces O(n^k) total iterations, but you need to multiply the total number of iterations by the work done in each iteration to get the overall complexity.</p>\n<p>From this idea, we can see that the reason <code>lengthOfLongestSubstring</code>  is O(n^3) is because the work done inside of the body of the second for loop is not constant, but rather is O(n). <code>checkRepitition(s, i, j)</code> iterates from i to j, taking <code>j-i</code> time (hence the expression inside the second term of the sum). <code>O(j-i)</code> time is O(n) time in the worst case because <code>i</code> could be as low as <code>0</code>, <code>j</code> as high as <code>n</code>, and of course O(n-0) = O(n) (it's not too hard to show that <code>checkRepitions</code> is O(n) in the average case as well).</p>\n<p>As mentioned by a commenter, having a linear operation inside the body of your second for loop has the same practical effect in terms of complexity as having a third for loop, which would probably be easier to see as being O(n^3) (you could even imagine the function definition for <code>checkRepitition</code>, including its for loop, being pasted into <code>lengthOfLongestSubstring</code> in place to see the same result). But the basic idea is that doing O(n) work for each of the O(n^2) iterations of the 2 for loops means the total complexity is O(n)*O(n^2) = O(n^3).</p>\n"}],"owner":{"account_id":18384609,"reputation":21,"user_id":13391954,"display_name":"codelord"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639022503,"creation_date":1638994542,"question_id":70281196,"body_markdown":"Working on the following problem:\r\n\r\n&gt; Given a string s, find the length of the longest substring without repeating characters.\r\n\r\nI&#39;m using this brute force solution:\r\n\r\n    public class Solution {\r\n        public int lengthOfLongestSubstring(String s) {\r\n            int n = s.length();\r\n    \r\n            int res = 0;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                for (int j = i; j &lt; n; j++) {\r\n                    if (checkRepetition(s, i, j)) {\r\n                        res = Math.max(res, j - i + 1);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return res;\r\n        }\r\n    \r\n        private boolean checkRepetition(String s, int start, int end) {\r\n            int[] chars = new int[128];\r\n    \r\n            for (int i = start; i &lt;= end; i++) {\r\n                char c = s.charAt(i);\r\n                chars[c]++;\r\n                if (chars[c] &gt; 1) {\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nTbe big O notation is as follows:\r\n![O( i=0 n1 ( j=i+1 n (ji)))=O( i=0 n1 2 (1+ni)(ni))=O(n^3)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O1usn.png\r\n\r\nI understand that three nested iterations would result in a time complexity O(n^3).\r\n\r\nI only see two sigma operators being used on the start of the formula, could someone enlighten me on where the third iteration comes to play in the beginning of the formula?","title":"Not understanding big O notation O( i=0 n1 ( j=i+1 n (ji)))=O( i=0 n1 2 (1+ni)(ni))=O(n^3)","body":"<p>Working on the following problem:</p>\n<blockquote>\n<p>Given a string s, find the length of the longest substring without repeating characters.</p>\n</blockquote>\n<p>I'm using this brute force solution:</p>\n<pre><code>public class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        int n = s.length();\n\n        int res = 0;\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = i; j &lt; n; j++) {\n                if (checkRepetition(s, i, j)) {\n                    res = Math.max(res, j - i + 1);\n                }\n            }\n        }\n\n        return res;\n    }\n\n    private boolean checkRepetition(String s, int start, int end) {\n        int[] chars = new int[128];\n\n        for (int i = start; i &lt;= end; i++) {\n            char c = s.charAt(i);\n            chars[c]++;\n            if (chars[c] &gt; 1) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>Tbe big O notation is as follows:\n<img src=\"https://i.stack.imgur.com/O1usn.png\" alt=\"O( i=0 n1 ( j=i+1 n (ji)))=O( i=0 n1 2 (1+ni)(ni))=O(n^3)\" /></p>\n<p>I understand that three nested iterations would result in a time complexity O(n^3).</p>\n<p>I only see two sigma operators being used on the start of the formula, could someone enlighten me on where the third iteration comes to play in the beginning of the formula?</p>\n"},{"tags":["java","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8195749,"reputation":31,"user_id":6168650,"display_name":"Z. Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639019055,"creation_date":1639019055,"answer_id":70284246,"question_id":70283771,"body_markdown":"I can&#39;t find JPA/Hibernate dependency in your Maven pom.xml. Try to add the following dependency there:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot didn&#39;t connect to my database","body":"<p>I can't find JPA/Hibernate dependency in your Maven pom.xml. Try to add the following dependency there:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639021956,"creation_date":1639021956,"answer_id":70284512,"question_id":70283771,"body_markdown":"I think you have not used any object or config relate to database.\r\nSimple, you can try create entity then add following 2 configuration in file application.properties\r\n\r\n    logging.level.com.zaxxer.hikari.HikariConfig=DEBUG\r\n    logging.level.com.zaxxer.hikari=TRACE\r\n\r\nAnd in your Maven pom.xml add dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nThen start project again you can see result as image below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bMdyG.png","title":"Spring Boot didn&#39;t connect to my database","body":"<p>I think you have not used any object or config relate to database.\nSimple, you can try create entity then add following 2 configuration in file application.properties</p>\n<pre><code>logging.level.com.zaxxer.hikari.HikariConfig=DEBUG\nlogging.level.com.zaxxer.hikari=TRACE\n</code></pre>\n<p>And in your Maven pom.xml add dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then start project again you can see result as image below\n<a href=\"https://i.stack.imgur.com/bMdyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bMdyG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22611674,"reputation":65,"user_id":16791732,"display_name":"Tobi "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639021956,"creation_date":1639014059,"question_id":70283771,"body_markdown":"I connected my Postgres database with Spring Boot but something when wrong. I didn&#39;t show any error but it didn&#39;t go into the database.\r\n*I have replace my Postgres URL with $URl and $password for security issue.\r\n\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.hikari.connectionTimeout=20000\r\n    spring.datasource.hikari.maximumPoolSize=5\r\n    spring.datasource.url=jdbc:postgresql://$URL:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=$password\r\n    spring.jpa.hibernate.ddl-auto=create\r\nand  the result was only these\r\n\r\n    2021-12-08 17:31:03.430  INFO 4216 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.1 on DESKTOP with PID 4006 (C:\\Users\\Thanh Lu\\Desktop\\demo\\target\\classes started by Thanh Lu in C:\\Users\\Any\\Desktop\\demo)\r\n    2021-12-08 17:31:03.431  INFO 4216 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\r\n    2021-12-08 17:31:03.655  INFO 4216 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.378 seconds (JVM running for 0.634)\r\n    \r\nand my Pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nAny advice would be appreciate.\r\n\r\nThanks in advance","title":"Spring Boot didn&#39;t connect to my database","body":"<p>I connected my Postgres database with Spring Boot but something when wrong. I didn't show any error but it didn't go into the database.\n*I have replace my Postgres URL with $URl and $password for security issue.</p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.hikari.connectionTimeout=20000\nspring.datasource.hikari.maximumPoolSize=5\nspring.datasource.url=jdbc:postgresql://$URL:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=$password\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>and  the result was only these</p>\n<pre><code>2021-12-08 17:31:03.430  INFO 4216 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.1 on DESKTOP with PID 4006 (C:\\Users\\Thanh Lu\\Desktop\\demo\\target\\classes started by Thanh Lu in C:\\Users\\Any\\Desktop\\demo)\n2021-12-08 17:31:03.431  INFO 4216 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\n2021-12-08 17:31:03.655  INFO 4216 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.378 seconds (JVM running for 0.634)\n</code></pre>\n<p>and my Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Any advice would be appreciate.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","oracle-adf"],"comments":[{"owner":{"account_id":8317496,"reputation":23,"user_id":6250277,"display_name":"Muhammad Aamir Majeed"},"score":1,"creation_date":1636363771,"post_id":69879420,"comment_id":123527107,"body_markdown":"Thanks Issue resolved by adding the Binding again on adf page.","body":"Thanks Issue resolved by adding the Binding again on adf page."}],"answers":[{"tags":[],"owner":{"account_id":8610106,"reputation":86,"user_id":6448814,"display_name":"Ravinder Namsani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639021951,"creation_date":1639021951,"answer_id":70284511,"question_id":69879420,"body_markdown":"can you please also share corresponding bindings in page def file.\r\n\r\nSome times , the improper bindings may cause the issue.\r\nPlease try to re-add the Lov .","title":"af:inputListOfValues does not open for selection in Oracle ADF","body":"<p>can you please also share corresponding bindings in page def file.</p>\n<p>Some times , the improper bindings may cause the issue.\nPlease try to re-add the Lov .</p>\n"}],"owner":{"account_id":8317496,"reputation":23,"user_id":6250277,"display_name":"Muhammad Aamir Majeed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639021951,"creation_date":1636353246,"question_id":69879420,"body_markdown":"Hi I am trying to Implement LOV on ADF jspx page based on View Object to show different currencies but it won&#39;t work. I have tried the below code for currency field.\r\n\r\n```\r\n&lt;af:inputListOfValues value=&quot;#{bindings.Currency.inputValue}&quot;\r\n                              label=&quot;Currency&quot;\r\n                              popupTitle=&quot;Search and Select: #{bindings.Currency.hints.label}&quot;\r\n                              autoSubmit=&quot;true&quot;\r\n                              required=&quot;true&quot;\r\n                              columns=&quot;#{bindings.Currency.hints.displayWidth}&quot;\r\n                              shortDesc=&quot;#{bindings.Currency.hints.tooltip}&quot;\r\n                              id=&quot;it115&quot; readOnly=&quot;false&quot; \r\n                              model=&quot;#{bindings.Currency.listOfValuesModel}&quot;&gt;\r\n                  &lt;f:validator binding=&quot;#{bindings.Currency.validator}&quot;/&gt;\r\n                  &lt;af:autoSuggestBehavior/&gt;\r\n&lt;/af:inputListOfValues&gt;\r\n```\r\n\r\n","title":"af:inputListOfValues does not open for selection in Oracle ADF","body":"<p>Hi I am trying to Implement LOV on ADF jspx page based on View Object to show different currencies but it won't work. I have tried the below code for currency field.</p>\n<pre><code>&lt;af:inputListOfValues value=&quot;#{bindings.Currency.inputValue}&quot;\n                              label=&quot;Currency&quot;\n                              popupTitle=&quot;Search and Select: #{bindings.Currency.hints.label}&quot;\n                              autoSubmit=&quot;true&quot;\n                              required=&quot;true&quot;\n                              columns=&quot;#{bindings.Currency.hints.displayWidth}&quot;\n                              shortDesc=&quot;#{bindings.Currency.hints.tooltip}&quot;\n                              id=&quot;it115&quot; readOnly=&quot;false&quot; \n                              model=&quot;#{bindings.Currency.listOfValuesModel}&quot;&gt;\n                  &lt;f:validator binding=&quot;#{bindings.Currency.validator}&quot;/&gt;\n                  &lt;af:autoSuggestBehavior/&gt;\n&lt;/af:inputListOfValues&gt;\n</code></pre>\n"},{"tags":["java","eclipse","autocomplete","content-assist","eclipse-2021-09"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1632827531,"post_id":69357171,"comment_id":122593268,"body_markdown":"Never ever delete the `.metadata` folder, that&#39;s a hoax spread on Stack Overflow. When you cannot restore it, use a fresh workspace. The Java 17 plugin is a preview/BETA, not the official release. Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and make sure it has been reported to Eclipse. In the last to versions bigger changes has been made in the content assist to handle incomplete code, and there are known issues in Eclipse 2021-09 (4.21): see [here](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Never ever delete the <code>.metadata</code> folder, that&#39;s a hoax spread on Stack Overflow. When you cannot restore it, use a fresh workspace. The Java 17 plugin is a preview/BETA, not the official release. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and make sure it has been reported to Eclipse. In the last to versions bigger changes has been made in the content assist to handle incomplete code, and there are known issues in Eclipse 2021-09 (4.21): see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">here</a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1632900459,"post_id":69357171,"comment_id":122614474,"body_markdown":"I cannot reproduce it. Please show a minimal reproducible example that works without the Java 17 plugin.","body":"I cannot reproduce it. Please show a minimal reproducible example that works without the Java 17 plugin."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1632923368,"post_id":69357171,"comment_id":122624364,"body_markdown":"@howlger install eclipse 2021-09 and try you can reproduce it. Also I subscribed your youtube channel  so that I can see videos about eclipse.","body":"@howlger install eclipse 2021-09 and try you can reproduce it. Also I subscribed your youtube channel  so that I can see videos about eclipse."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1635335188,"creation_date":1632937631,"answer_id":69381206,"question_id":69357171,"body_markdown":"In Eclipse 2021-09 (4.21) everything of `java.awt.*` is filtered out in the content assist by default.\r\n\r\nTo disable this default filter, go to the **preferences** (*Window &gt; Preferences*; in macOS in the application menu) ***Java &gt; Appearance &gt; Type Filters*** and **uncheck** the checkbox **`java.awt.*`**.\r\n\r\nI reported it to Eclipse and it has been **fixed** within two weeks, so it will be in the next release **Eclipse 2021-12 (4.22)** that will be released on December 8, 2021 (and also sooner in the milestone builds starting with M2):\r\n* [**Eclipse bug 576549** - \\[content assist\\] Missing proposals in Swing, etc. because of java.awt.* type filter enabled by default][1].\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=576549","title":"Eclipse 2021-09 code completion not showing all methods and classes","body":"<p>In Eclipse 2021-09 (4.21) everything of <code>java.awt.*</code> is filtered out in the content assist by default.</p>\n<p>To disable this default filter, go to the <strong>preferences</strong> (<em>Window &gt; Preferences</em>; in macOS in the application menu) <em><strong>Java &gt; Appearance &gt; Type Filters</strong></em> and <strong>uncheck</strong> the checkbox <strong><code>java.awt.*</code></strong>.</p>\n<p>I reported it to Eclipse and it has been <strong>fixed</strong> within two weeks, so it will be in the next release <strong>Eclipse 2021-12 (4.22)</strong> that will be released on December 8, 2021 (and also sooner in the milestone builds starting with M2):</p>\n<ul>\n<li><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=576549\" rel=\"noreferrer\"><strong>Eclipse bug 576549</strong> - [content assist] Missing proposals in Swing, etc. because of java.awt.* type filter enabled by default</a>.</li>\n</ul>\n"}],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4270,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":69381206,"answer_count":1,"score":15,"last_activity_date":1639021950,"creation_date":1632812692,"question_id":69357171,"body_markdown":"Hi some days before I updated my eclipse 2021-06 to 2021-09 and after that its code completion will not show all the methods and classes. For example if I type `frame.setS`, then it is showing no default proposals. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut At the same time when I type `frame.setC` and press ctrl+space, it is working This is the \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAlso in my settings everything is checked. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n#### What I have tried\r\n\r\n1. I searched the web and found many stack overflow questions and I tried the answers. But it didn&#39;t work \r\n\r\n2. I deleted the `.metedata` folder and uninstalled and reinstalled eclipse for 5 times. \r\n\r\n3. I tried installing eclipse from installer and zip.\r\n\r\nIs this a bug or something.\r\n\r\nI have also installed the java 17 plugin from eclipse marketplace.\r\n\r\n## Edit ##\r\nIn eclipse `2021-12 (4.22)` which released yesterday (08-12-21), \r\n`java.awt.*` is not filtered out. So no problem. Also it has Java-17 support.. \r\n\r\n  [1]: https://i.stack.imgur.com/4HNdZ.png\r\n  [2]: https://i.stack.imgur.com/21HWQ.png\r\n  [3]: https://i.stack.imgur.com/OsPEB.png","title":"Eclipse 2021-09 code completion not showing all methods and classes","body":"<p>Hi some days before I updated my eclipse 2021-06 to 2021-09 and after that its code completion will not show all the methods and classes. For example if I type <code>frame.setS</code>, then it is showing no default proposals.</p>\n<p><a href=\"https://i.stack.imgur.com/4HNdZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4HNdZ.png\" alt=\"enter image description here\" /></a></p>\n<p>But At the same time when I type <code>frame.setC</code> and press ctrl+space, it is working This is the</p>\n<p><a href=\"https://i.stack.imgur.com/21HWQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/21HWQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also in my settings everything is checked.</p>\n<p><a href=\"https://i.stack.imgur.com/OsPEB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OsPEB.png\" alt=\"enter image description here\" /></a></p>\n<h4>What I have tried</h4>\n<ol>\n<li><p>I searched the web and found many stack overflow questions and I tried the answers. But it didn't work</p>\n</li>\n<li><p>I deleted the <code>.metedata</code> folder and uninstalled and reinstalled eclipse for 5 times.</p>\n</li>\n<li><p>I tried installing eclipse from installer and zip.</p>\n</li>\n</ol>\n<p>Is this a bug or something.</p>\n<p>I have also installed the java 17 plugin from eclipse marketplace.</p>\n<h2>Edit</h2>\n<p>In eclipse <code>2021-12 (4.22)</code> which released yesterday (08-12-21),\n<code>java.awt.*</code> is not filtered out. So no problem. Also it has Java-17 support..</p>\n"},{"tags":["java","android","base64","encode"],"comments":[{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":0,"creation_date":1639021525,"post_id":70284453,"comment_id":124243914,"body_markdown":"Please take a look at https://developer.android.com/topic/performance/graphics/load-bitmap\nProcessing large images are likely to introduce this issue every now and then.","body":"Please take a look at <a href=\"https://developer.android.com/topic/performance/graphics/load-bitmap\" rel=\"nofollow noreferrer\">developer.android.com/topic/performance/graphics/load-bitmap</a> Processing large images are likely to introduce this issue every now and then."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1639033150,"post_id":70284453,"comment_id":124245991,"body_markdown":"@Rahul Shukla, So you say the memory problem in not base64 encoding related but with handling bitmaps?","body":"@Rahul Shukla, So you say the memory problem in not base64 encoding related but with handling bitmaps?"},{"owner":{"account_id":23055431,"reputation":1,"user_id":17485692,"display_name":"Nguyen Q Nam"},"score":0,"creation_date":1639051981,"post_id":70284453,"comment_id":124252514,"body_markdown":"@RahulShukla I don&#39;t aim at displaying bitmaps. My goal is to get the base64 string of the image.","body":"@RahulShukla I don&#39;t aim at displaying bitmaps. My goal is to get the base64 string of the image."},{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":0,"creation_date":1639061693,"post_id":70284453,"comment_id":124256633,"body_markdown":"The memory constraints are not in displaying but decoding the image.","body":"The memory constraints are not in displaying but decoding the image."}],"owner":{"account_id":23055431,"reputation":1,"user_id":17485692,"display_name":"Nguyen Q Nam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639021216,"creation_date":1639021216,"question_id":70284453,"body_markdown":"I got a memory leak issues at Base64.encodeToString when trying to convert an image to base64 string. Typically the image size is 200x200 pixels. This task takes place in every 2-3 seconds.\r\nSometimes, the image size may reach 1920x1080 in 200 seconds. \r\nThe app crashes after 10 minutes or so...\r\n\r\n```\r\npublic String getBase64(ByteBuffer fullFrameImage, int width, int height, android.graphics.Rect roi) {\r\n        fullFrameImage.rewind();\r\n        fullFrameImage.get(imageInBuffer, 0, imageInBuffer.length);\r\n        try {\r\n            yuvImage = new YuvImage(imageInBuffer, ImageFormat.NV21, width, height, null);\r\n            outStream = new ByteArrayOutputStream();\r\n            yuvImage.compressToJpeg(roi, 100, outStream);\r\n            tempImageByteArray = outStream.toByteArray();\r\n            base64_string = Base64.encodeToString(tempImageByteArray, Base64.DEFAULT);\r\n            outStream.reset();\r\n            outStream = null;\r\n            yuvImage = null;\r\n            tempImageByteArray=null;\r\n        } catch (Exception e) {\r\n            base64_string=&quot;&quot;;\r\n            logDebug(&quot;getBase64 Error: &quot; + e.getMessage(),true);\r\n        }\r\n        return null;\r\n    }\r\n\r\n``` \r\n\r\nThe app crashes with the following exception:\r\n```\r\njava.lang.StringFactory.newStringFromChars(Native Method)\r\njava.lang.StringFactory.newStringFromChars(StringFactory.java:121)\r\njava.lang.StringFactory.newStringFromBytes(StringFactory.java:106)\r\njava.lang.StringFactory.newStringFromBytes(StringFactory.java:65)\r\nandroid.util.Base64.encodeToString(Base64.java:456)\r\ncom.ttn.usbcamera.view.CameraActivity.getBase64(CameraActivity.java:1668)\r\ncom.ttn.usbcamera.view.CameraActivity$1$2.onSuccess(CameraActivity.java:325)\r\ncom.ttn.usbcamera.view.CameraActivity$1$2.onSuccess(CameraActivity.java:294)\r\ncom.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@17.2.1:1)\r\nandroid.os.Handler.handleCallback(Handler.java:815)\r\nandroid.os.Handler.dispatchMessage(Handler.java:104)\r\nandroid.os.Looper.loop(Looper.java:207)\r\nandroid.app.ActivityThread.main(ActivityThread.java:5737)\r\njava.lang.reflect.Method.invoke(Native Method)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:834)\r\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:724)\r\nexceptionFailed to allocate a 1729988 byte allocation with 1695360 free bytes and 1655KB until OOM\r\n```\r\n\r\n","title":"Android Java Base64.encodeToString out of memory issue when encode byte array to base64 string","body":"<p>I got a memory leak issues at Base64.encodeToString when trying to convert an image to base64 string. Typically the image size is 200x200 pixels. This task takes place in every 2-3 seconds.\nSometimes, the image size may reach 1920x1080 in 200 seconds.\nThe app crashes after 10 minutes or so...</p>\n<pre><code>public String getBase64(ByteBuffer fullFrameImage, int width, int height, android.graphics.Rect roi) {\n        fullFrameImage.rewind();\n        fullFrameImage.get(imageInBuffer, 0, imageInBuffer.length);\n        try {\n            yuvImage = new YuvImage(imageInBuffer, ImageFormat.NV21, width, height, null);\n            outStream = new ByteArrayOutputStream();\n            yuvImage.compressToJpeg(roi, 100, outStream);\n            tempImageByteArray = outStream.toByteArray();\n            base64_string = Base64.encodeToString(tempImageByteArray, Base64.DEFAULT);\n            outStream.reset();\n            outStream = null;\n            yuvImage = null;\n            tempImageByteArray=null;\n        } catch (Exception e) {\n            base64_string=&quot;&quot;;\n            logDebug(&quot;getBase64 Error: &quot; + e.getMessage(),true);\n        }\n        return null;\n    }\n\n</code></pre>\n<p>The app crashes with the following exception:</p>\n<pre><code>java.lang.StringFactory.newStringFromChars(Native Method)\njava.lang.StringFactory.newStringFromChars(StringFactory.java:121)\njava.lang.StringFactory.newStringFromBytes(StringFactory.java:106)\njava.lang.StringFactory.newStringFromBytes(StringFactory.java:65)\nandroid.util.Base64.encodeToString(Base64.java:456)\ncom.ttn.usbcamera.view.CameraActivity.getBase64(CameraActivity.java:1668)\ncom.ttn.usbcamera.view.CameraActivity$1$2.onSuccess(CameraActivity.java:325)\ncom.ttn.usbcamera.view.CameraActivity$1$2.onSuccess(CameraActivity.java:294)\ncom.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@17.2.1:1)\nandroid.os.Handler.handleCallback(Handler.java:815)\nandroid.os.Handler.dispatchMessage(Handler.java:104)\nandroid.os.Looper.loop(Looper.java:207)\nandroid.app.ActivityThread.main(ActivityThread.java:5737)\njava.lang.reflect.Method.invoke(Native Method)\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:834)\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:724)\nexceptionFailed to allocate a 1729988 byte allocation with 1695360 free bytes and 1655KB until OOM\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1797509,"reputation":2459,"user_id":1636610,"accept_rate":20,"display_name":"AbhinayMe"},"score":0,"creation_date":1639021573,"post_id":70284440,"comment_id":124243920,"body_markdown":".R import is grayed?","body":".R import is grayed?"},{"owner":{"account_id":21027361,"reputation":1,"user_id":15452442,"display_name":"Kris"},"score":0,"creation_date":1639057607,"post_id":70284440,"comment_id":124254786,"body_markdown":"yesso I feel uncertain","body":"yesso I feel uncertain"}],"owner":{"account_id":21027361,"reputation":1,"user_id":15452442,"display_name":"Kris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639021110,"creation_date":1639021110,"question_id":70284440,"body_markdown":"I want to build a project about menstrual records,so I used a third party open source libraries from github.This line I used in my own project but it is grey,so I think I lack of some package.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DA6lm.png","title":"How to find the package referenced in the Android project","body":"<p>I want to build a project about menstrual records,so I used a third party open source libraries from github.This line I used in my own project but it is grey,so I think I lack of some package.\n<a href=\"https://i.stack.imgur.com/DA6lm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","ignite"],"comments":[{"owner":{"account_id":4274889,"reputation":617,"user_id":3495816,"display_name":"user3495816"},"score":0,"creation_date":1546507188,"post_id":54007526,"comment_id":94874760,"body_markdown":"If I use java.sql.Date instead if Timestamp, I still get the same error.","body":"If I use java.sql.Date instead if Timestamp, I still get the same error."},{"owner":{"account_id":12953056,"reputation":191,"user_id":9364749,"display_name":"Roman Guseinov"},"score":0,"creation_date":1546842409,"post_id":54007526,"comment_id":94971809,"body_markdown":"Did you try to replace `Instant` type by `java.sql.Timestamp`?","body":"Did you try to replace <code>Instant</code> type by <code>java.sql.Timestamp</code>?"},{"owner":{"account_id":4274889,"reputation":617,"user_id":3495816,"display_name":"user3495816"},"score":1,"creation_date":1546941329,"post_id":54007526,"comment_id":95010739,"body_markdown":"Yes I did and I get same error. But I have found that `LocalDateTime` works.","body":"Yes I did and I get same error. But I have found that <code>LocalDateTime</code> works."}],"answers":[{"tags":[],"owner":{"account_id":23594449,"reputation":1,"user_id":17631755,"display_name":"Mikhail Rusakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639020322,"creation_date":1639020322,"answer_id":70284359,"question_id":54007526,"body_markdown":"you can describe your Instant field in the schema as ```schemaFields.put(&quot;instantField&quot;, Object.class.getName())``` instead of ```schemaFields.put(&quot;instantField&quot;, Instant.class.getName())``` and use binary cache via ```cache.withKeepBinary()```. It works for me.","title":"Apache Ignite mapping Instant in 2.7.0","body":"<p>you can describe your Instant field in the schema as <code>schemaFields.put(&quot;instantField&quot;, Object.class.getName())</code> instead of <code>schemaFields.put(&quot;instantField&quot;, Instant.class.getName())</code> and use binary cache via <code>cache.withKeepBinary()</code>. It works for me.</p>\n"}],"owner":{"account_id":4274889,"reputation":617,"user_id":3495816,"display_name":"user3495816"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639020322,"creation_date":1546436997,"question_id":54007526,"body_markdown":"When upgrading from Ignite 2.6.0 to 2.7.0 I get exception when loading data to cache via cache loading API. There is only one version of h2 on classpath and that is 1.4.197 (I have also upgraded h2 from 1.4.196 to 1.4.197). Btw this is Springboot project.\r\n\r\nHow do I fix this so I can upgrade Ignite from 2.6.0 to 2.7.0?\r\n\r\nIt seems Java Instant is resolved to SQL type 24 but Ignite does not support that.\r\n\r\nI have a Ignite entity with field of type Instant like this:\r\n\r\n    @QuerySqlField(index = true, notNull = true, orderedGroups = {\r\n    \t\t\t@QuerySqlField.Group(name = &quot;FIXTURE_START&quot;, order = 1),\r\n    \t\t\t@QuerySqlField.Group(name = &quot;FIXTURE_STATE_START&quot;, order = 2)})\r\n    \tprivate Instant start;\r\nAnd when I try to load entitities via cache loading API:\r\n\r\n    public abstract class AbstractIgniteCacheJdbcAdapter&lt;ID, ENTITY&gt; extends CacheStoreAdapter&lt;ID, ENTITY&gt; implements Serializable\r\n        @Override\r\n        public void loadCache(IgniteBiInClosure&lt;ID, ENTITY&gt; clo, Object... args) {\r\n        \ttry {\r\n        \t\tList&lt;ENTITY&gt; entities = getEntities();\r\n        \t\tentities.forEach(e -&gt; clo.apply(e.getKey(), e));\r\n        \t} catch (Exception e) {\r\n        \t\tthrow new CacheLoaderException(&quot;Failed to load values from cache store.&quot;, e);\r\n        \t}\r\n        }\r\n\r\nI get and exception:\r\n\r\n    org.h2.message.DbException: Obecn&#225; chyba: &quot;class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]&quot;\r\n    General error: &quot;class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]&quot; [50000-197]\r\n    \tat org.h2.message.DbException.get(DbException.java:168)\r\n    \tat org.h2.message.DbException.convert(DbException.java:307)\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.getValue0(GridH2KeyValueRowOnheap.java:138)\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.getValue(GridH2KeyValueRowOnheap.java:113)\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.toString(GridH2KeyValueRowOnheap.java:201)\r\n    \tat java.lang.String.valueOf(String.java:2994)\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:131)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.doPut(BPlusTree.java:2285)\r\n    \tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.putx(BPlusTree.java:2232)\r\n    \tat org.apache.ignite.internal.processors.query.h2.database.H2TreeIndex.putx(H2TreeIndex.java:299)\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2Table.addToIndex(GridH2Table.java:546)\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2Table.update(GridH2Table.java:479)\r\n    \tat org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.store(IgniteH2Indexing.java:768)\r\n    \tat org.apache.ignite.internal.processors.query.GridQueryProcessor.store(GridQueryProcessor.java:1905)\r\n    \tat org.apache.ignite.internal.processors.cache.query.GridCacheQueryManager.store(GridCacheQueryManager.java:404)\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.finishUpdate(IgniteCacheOffheapManagerImpl.java:2633)\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke0(IgniteCacheOffheapManagerImpl.java:1646)\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke(IgniteCacheOffheapManagerImpl.java:1621)\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl.invoke(IgniteCacheOffheapManagerImpl.java:428)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry.storeValue(GridCacheMapEntry.java:4248)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry.initialValue(GridCacheMapEntry.java:3391)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheEntryEx.initialValue(GridCacheEntryEx.java:766)\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter.loadEntry(GridDhtCacheAdapter.java:684)\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter.access$600(GridDhtCacheAdapter.java:104)\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter$5.apply(GridDhtCacheAdapter.java:634)\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter$5.apply(GridDhtCacheAdapter.java:630)\r\n    \tat org.apache.ignite.internal.processors.cache.store.GridCacheStoreManagerAdapter$3.apply(GridCacheStoreManagerAdapter.java:536)\r\n    \tat cz.ifortuna.betofferservice.data.legacy.ignite_adapter.AbstractIgniteCacheJdbcAdapter.lambda$loadCache$67(AbstractIgniteCacheJdbcAdapter.java:51)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1249)\r\n    \tat cz.ifortuna.betofferservice.data.legacy.ignite_adapter.AbstractIgniteCacheJdbcAdapter.loadCache(AbstractIgniteCacheJdbcAdapter.java:51)\r\n    \tat org.apache.ignite.internal.processors.cache.store.GridCacheStoreManagerAdapter.loadCache(GridCacheStoreManagerAdapter.java:520)\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter.localLoadCache(GridDhtCacheAdapter.java:630)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheProxyImpl.localLoadCache(GridCacheProxyImpl.java:222)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheAdapter$LoadCacheJob.localExecute(GridCacheAdapter.java:5676)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheAdapter$LoadCacheJobV2.localExecute(GridCacheAdapter.java:5725)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheAdapter$TopologyVersionAwareJob.execute(GridCacheAdapter.java:6361)\r\n    \tat org.apache.ignite.compute.ComputeJobAdapter.call(ComputeJobAdapter.java:132)\r\n    \tat org.apache.ignite.internal.processors.closure.GridClosureProcessor$C2.execute(GridClosureProcessor.java:1855)\r\n    \tat org.apache.ignite.internal.processors.job.GridJobWorker$2.call(GridJobWorker.java:568)\r\n    \tat org.apache.ignite.internal.util.IgniteUtils.wrapThreadLoader(IgniteUtils.java:6816)\r\n    \tat org.apache.ignite.internal.processors.job.GridJobWorker.execute0(GridJobWorker.java:562)\r\n    \tat org.apache.ignite.internal.processors.job.GridJobWorker.body(GridJobWorker.java:491)\r\n    \tat org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\r\n    \tat org.apache.ignite.internal.processors.job.GridJobProcessor.processJobExecuteRequest(GridJobProcessor.java:1125)\r\n    \tat org.apache.ignite.internal.processors.task.GridTaskWorker.sendRequest(GridTaskWorker.java:1420)\r\n    \tat org.apache.ignite.internal.processors.task.GridTaskWorker.processMappedJobs(GridTaskWorker.java:666)\r\n    \tat org.apache.ignite.internal.processors.task.GridTaskWorker.body(GridTaskWorker.java:538)\r\n    \tat org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\r\n    \tat org.apache.ignite.internal.processors.task.GridTaskProcessor.startTask(GridTaskProcessor.java:764)\r\n    \tat org.apache.ignite.internal.processors.task.GridTaskProcessor.execute(GridTaskProcessor.java:452)\r\n    \tat org.apache.ignite.internal.processors.closure.GridClosureProcessor.callAsync(GridClosureProcessor.java:449)\r\n    \tat org.apache.ignite.internal.processors.closure.GridClosureProcessor.callAsync(GridClosureProcessor.java:420)\r\n    \tat org.apache.ignite.internal.processors.closure.GridClosureProcessor.callAsync(GridClosureProcessor.java:404)\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheAdapter.globalLoadCacheAsync(GridCacheAdapter.java:3869)\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheProxyImpl.loadCacheAsync(IgniteCacheProxyImpl.java:313)\r\n    \tat org.apache.ignite.internal.processors.cache.GatewayProtectedCacheProxy.loadCacheAsync(GatewayProtectedCacheProxy.java:287)\r\n    \tat cz.ifortuna.betofferservice.data.repository.ignite.IgniteRepositoryBase.initCache(IgniteRepositoryBase.java:127)\r\n    \tat cz.ifortuna.betofferservice.service.RepositoryManager.lambda$null$45(RepositoryManager.java:74)\r\n    \tat java.util.Arrays$ArrayList.forEach(Arrays.java:3880)\r\n    \tat cz.ifortuna.betofferservice.service.RepositoryManager.lambda$null$46(RepositoryManager.java:74)\r\n    \tat java.util.HashMap.forEach(HashMap.java:1280)\r\n    \tat cz.ifortuna.betofferservice.service.RepositoryManager.lambda$init$47(RepositoryManager.java:70)\r\n    \tat java.util.HashMap.forEach(HashMap.java:1280)\r\n    \tat cz.ifortuna.betofferservice.service.RepositoryManager.init(RepositoryManager.java:69)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:309)\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1135)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1135)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \tat org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:129)\r\n    \tat org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:61)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$3(ClassTestDescriptor.java:215)\r\n    \tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:141)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$4(ClassTestDescriptor.java:215)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n    \tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)\r\n    \tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:214)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:196)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$0(ClassTestDescriptor.java:185)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$1(ClassTestDescriptor.java:189)\r\n    \tat java.util.Optional.orElseGet(Optional.java:267)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:188)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.before(ClassTestDescriptor.java:156)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.before(ClassTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:110)\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120)\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Obecn&#225; chyba: &quot;class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]&quot;\r\n    General error: &quot;class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]&quot; [50000-197]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:357)\r\n    \t... 168 common frames omitted\r\n    Caused by: org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2RowDescriptor.wrap(GridH2RowDescriptor.java:271)\r\n    \tat org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.getValue0(GridH2KeyValueRowOnheap.java:135)\r\n    \t... 165 common frames omitted","title":"Apache Ignite mapping Instant in 2.7.0","body":"<p>When upgrading from Ignite 2.6.0 to 2.7.0 I get exception when loading data to cache via cache loading API. There is only one version of h2 on classpath and that is 1.4.197 (I have also upgraded h2 from 1.4.196 to 1.4.197). Btw this is Springboot project.</p>\n\n<p>How do I fix this so I can upgrade Ignite from 2.6.0 to 2.7.0?</p>\n\n<p>It seems Java Instant is resolved to SQL type 24 but Ignite does not support that.</p>\n\n<p>I have a Ignite entity with field of type Instant like this:</p>\n\n<pre><code>@QuerySqlField(index = true, notNull = true, orderedGroups = {\n            @QuerySqlField.Group(name = \"FIXTURE_START\", order = 1),\n            @QuerySqlField.Group(name = \"FIXTURE_STATE_START\", order = 2)})\n    private Instant start;\n</code></pre>\n\n<p>And when I try to load entitities via cache loading API:</p>\n\n<pre><code>public abstract class AbstractIgniteCacheJdbcAdapter&lt;ID, ENTITY&gt; extends CacheStoreAdapter&lt;ID, ENTITY&gt; implements Serializable\n    @Override\n    public void loadCache(IgniteBiInClosure&lt;ID, ENTITY&gt; clo, Object... args) {\n        try {\n            List&lt;ENTITY&gt; entities = getEntities();\n            entities.forEach(e -&gt; clo.apply(e.getKey(), e));\n        } catch (Exception e) {\n            throw new CacheLoaderException(\"Failed to load values from cache store.\", e);\n        }\n    }\n</code></pre>\n\n<p>I get and exception:</p>\n\n<pre><code>org.h2.message.DbException: Obecn chyba: \"class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]\"\nGeneral error: \"class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]\" [50000-197]\n    at org.h2.message.DbException.get(DbException.java:168)\n    at org.h2.message.DbException.convert(DbException.java:307)\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.getValue0(GridH2KeyValueRowOnheap.java:138)\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.getValue(GridH2KeyValueRowOnheap.java:113)\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.toString(GridH2KeyValueRowOnheap.java:201)\n    at java.lang.String.valueOf(String.java:2994)\n    at java.lang.StringBuilder.append(StringBuilder.java:131)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.doPut(BPlusTree.java:2285)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.putx(BPlusTree.java:2232)\n    at org.apache.ignite.internal.processors.query.h2.database.H2TreeIndex.putx(H2TreeIndex.java:299)\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2Table.addToIndex(GridH2Table.java:546)\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2Table.update(GridH2Table.java:479)\n    at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.store(IgniteH2Indexing.java:768)\n    at org.apache.ignite.internal.processors.query.GridQueryProcessor.store(GridQueryProcessor.java:1905)\n    at org.apache.ignite.internal.processors.cache.query.GridCacheQueryManager.store(GridCacheQueryManager.java:404)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.finishUpdate(IgniteCacheOffheapManagerImpl.java:2633)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke0(IgniteCacheOffheapManagerImpl.java:1646)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke(IgniteCacheOffheapManagerImpl.java:1621)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl.invoke(IgniteCacheOffheapManagerImpl.java:428)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry.storeValue(GridCacheMapEntry.java:4248)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry.initialValue(GridCacheMapEntry.java:3391)\n    at org.apache.ignite.internal.processors.cache.GridCacheEntryEx.initialValue(GridCacheEntryEx.java:766)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter.loadEntry(GridDhtCacheAdapter.java:684)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter.access$600(GridDhtCacheAdapter.java:104)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter$5.apply(GridDhtCacheAdapter.java:634)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter$5.apply(GridDhtCacheAdapter.java:630)\n    at org.apache.ignite.internal.processors.cache.store.GridCacheStoreManagerAdapter$3.apply(GridCacheStoreManagerAdapter.java:536)\n    at cz.ifortuna.betofferservice.data.legacy.ignite_adapter.AbstractIgniteCacheJdbcAdapter.lambda$loadCache$67(AbstractIgniteCacheJdbcAdapter.java:51)\n    at java.util.ArrayList.forEach(ArrayList.java:1249)\n    at cz.ifortuna.betofferservice.data.legacy.ignite_adapter.AbstractIgniteCacheJdbcAdapter.loadCache(AbstractIgniteCacheJdbcAdapter.java:51)\n    at org.apache.ignite.internal.processors.cache.store.GridCacheStoreManagerAdapter.loadCache(GridCacheStoreManagerAdapter.java:520)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.GridDhtCacheAdapter.localLoadCache(GridDhtCacheAdapter.java:630)\n    at org.apache.ignite.internal.processors.cache.GridCacheProxyImpl.localLoadCache(GridCacheProxyImpl.java:222)\n    at org.apache.ignite.internal.processors.cache.GridCacheAdapter$LoadCacheJob.localExecute(GridCacheAdapter.java:5676)\n    at org.apache.ignite.internal.processors.cache.GridCacheAdapter$LoadCacheJobV2.localExecute(GridCacheAdapter.java:5725)\n    at org.apache.ignite.internal.processors.cache.GridCacheAdapter$TopologyVersionAwareJob.execute(GridCacheAdapter.java:6361)\n    at org.apache.ignite.compute.ComputeJobAdapter.call(ComputeJobAdapter.java:132)\n    at org.apache.ignite.internal.processors.closure.GridClosureProcessor$C2.execute(GridClosureProcessor.java:1855)\n    at org.apache.ignite.internal.processors.job.GridJobWorker$2.call(GridJobWorker.java:568)\n    at org.apache.ignite.internal.util.IgniteUtils.wrapThreadLoader(IgniteUtils.java:6816)\n    at org.apache.ignite.internal.processors.job.GridJobWorker.execute0(GridJobWorker.java:562)\n    at org.apache.ignite.internal.processors.job.GridJobWorker.body(GridJobWorker.java:491)\n    at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\n    at org.apache.ignite.internal.processors.job.GridJobProcessor.processJobExecuteRequest(GridJobProcessor.java:1125)\n    at org.apache.ignite.internal.processors.task.GridTaskWorker.sendRequest(GridTaskWorker.java:1420)\n    at org.apache.ignite.internal.processors.task.GridTaskWorker.processMappedJobs(GridTaskWorker.java:666)\n    at org.apache.ignite.internal.processors.task.GridTaskWorker.body(GridTaskWorker.java:538)\n    at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\n    at org.apache.ignite.internal.processors.task.GridTaskProcessor.startTask(GridTaskProcessor.java:764)\n    at org.apache.ignite.internal.processors.task.GridTaskProcessor.execute(GridTaskProcessor.java:452)\n    at org.apache.ignite.internal.processors.closure.GridClosureProcessor.callAsync(GridClosureProcessor.java:449)\n    at org.apache.ignite.internal.processors.closure.GridClosureProcessor.callAsync(GridClosureProcessor.java:420)\n    at org.apache.ignite.internal.processors.closure.GridClosureProcessor.callAsync(GridClosureProcessor.java:404)\n    at org.apache.ignite.internal.processors.cache.GridCacheAdapter.globalLoadCacheAsync(GridCacheAdapter.java:3869)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheProxyImpl.loadCacheAsync(IgniteCacheProxyImpl.java:313)\n    at org.apache.ignite.internal.processors.cache.GatewayProtectedCacheProxy.loadCacheAsync(GatewayProtectedCacheProxy.java:287)\n    at cz.ifortuna.betofferservice.data.repository.ignite.IgniteRepositoryBase.initCache(IgniteRepositoryBase.java:127)\n    at cz.ifortuna.betofferservice.service.RepositoryManager.lambda$null$45(RepositoryManager.java:74)\n    at java.util.Arrays$ArrayList.forEach(Arrays.java:3880)\n    at cz.ifortuna.betofferservice.service.RepositoryManager.lambda$null$46(RepositoryManager.java:74)\n    at java.util.HashMap.forEach(HashMap.java:1280)\n    at cz.ifortuna.betofferservice.service.RepositoryManager.lambda$init$47(RepositoryManager.java:70)\n    at java.util.HashMap.forEach(HashMap.java:1280)\n    at cz.ifortuna.betofferservice.service.RepositoryManager.init(RepositoryManager.java:69)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:309)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1135)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1135)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:129)\n    at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:61)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$3(ClassTestDescriptor.java:215)\n    at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:141)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$4(ClassTestDescriptor.java:215)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:214)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:196)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$0(ClassTestDescriptor.java:185)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$1(ClassTestDescriptor.java:189)\n    at java.util.Optional.orElseGet(Optional.java:267)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:188)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.before(ClassTestDescriptor.java:156)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.before(ClassTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:110)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.h2.jdbc.JdbcSQLException: Obecn chyba: \"class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]\"\nGeneral error: \"class org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]\" [50000-197]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)\n    ... 168 common frames omitted\nCaused by: org.apache.ignite.IgniteCheckedException: Failed to wrap value[type=24, value=2018-01-01T10:00:00Z]\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2RowDescriptor.wrap(GridH2RowDescriptor.java:271)\n    at org.apache.ignite.internal.processors.query.h2.opt.GridH2KeyValueRowOnheap.getValue0(GridH2KeyValueRowOnheap.java:135)\n    ... 165 common frames omitted\n</code></pre>\n"},{"tags":["java","datetime"],"answers":[{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638265907,"creation_date":1638265907,"answer_id":70167316,"question_id":70167255,"body_markdown":"Create a new Java model object, using ObjectMapper convert json string to java object.","title":"Convert datetime object in json into java DateTime object","body":"<p>Create a new Java model object, using ObjectMapper convert json string to java object.</p>\n"},{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639020125,"creation_date":1639020125,"answer_id":70284340,"question_id":70167255,"body_markdown":"public class App {\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DateC1 {\r\n        private Integer year;\r\n        private Integer month;\r\n        private Integer day;\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Root {\r\n        private DateC1 date;\r\n        private Time time;\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Time {\r\n        private Integer hour;\r\n        private Integer minute;\r\n        private Integer second;\r\n        private Integer nano;\r\n\r\n    }\r\n\r\n    private static final String DATE_JSON_STRING =\r\n            &quot;{\\&quot;date\\&quot;:{\\&quot;year\\&quot;:2021,\\&quot;month\\&quot;:11,\\&quot;day\\&quot;:11},\\&quot;time\\&quot;:{\\&quot;hour\\&quot;:10,\\&quot;minute\\&quot;:30,\\&quot;second\\&quot;:45,\\&quot;nano\\&quot;:222000000}}&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        DateC1 dateC1 = gson.fromJson(DATE_JSON_STRING, DateC1.class);\r\n        System.out.println(dateC1.toString());\r\n\r\n    }\r\n}","title":"Convert datetime object in json into java DateTime object","body":"<p>public class App {</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DateC1 {\n    private Integer year;\n    private Integer month;\n    private Integer day;\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Root {\n    private DateC1 date;\n    private Time time;\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Time {\n    private Integer hour;\n    private Integer minute;\n    private Integer second;\n    private Integer nano;\n\n}\n\nprivate static final String DATE_JSON_STRING =\n        &quot;{\\&quot;date\\&quot;:{\\&quot;year\\&quot;:2021,\\&quot;month\\&quot;:11,\\&quot;day\\&quot;:11},\\&quot;time\\&quot;:{\\&quot;hour\\&quot;:10,\\&quot;minute\\&quot;:30,\\&quot;second\\&quot;:45,\\&quot;nano\\&quot;:222000000}}&quot;;\n\npublic static void main(String[] args) {\n\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    DateC1 dateC1 = gson.fromJson(DATE_JSON_STRING, DateC1.class);\n    System.out.println(dateC1.toString());\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11482381,"reputation":75,"user_id":8416028,"display_name":"tboon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70284340,"answer_count":2,"score":1,"last_activity_date":1639020125,"creation_date":1638265646,"question_id":70167255,"body_markdown":"I have string value ```{&quot;date&quot;:{&quot;year&quot;:2021,&quot;month&quot;:11,&quot;day&quot;:11},&quot;time&quot;:{&quot;hour&quot;:10,&quot;minute&quot;:30,&quot;second&quot;:45,&quot;nano&quot;:222000000}}```\r\n\r\nIs there any available function or efficient way to convert this JSON String into Java DateTime object rather than read fields one by one and build my object? \r\n\r\nThanks","title":"Convert datetime object in json into java DateTime object","body":"<p>I have string value <code>{&quot;date&quot;:{&quot;year&quot;:2021,&quot;month&quot;:11,&quot;day&quot;:11},&quot;time&quot;:{&quot;hour&quot;:10,&quot;minute&quot;:30,&quot;second&quot;:45,&quot;nano&quot;:222000000}}</code></p>\n<p>Is there any available function or efficient way to convert this JSON String into Java DateTime object rather than read fields one by one and build my object?</p>\n<p>Thanks</p>\n"},{"tags":["java","string","constructor","csvreader"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1639055643,"post_id":70284337,"comment_id":124253960,"body_markdown":"Can you please add the code to your question instead of describing it? Thanks!","body":"Can you please add the code to your question instead of describing it? Thanks!"},{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1639548411,"post_id":70284337,"comment_id":124373860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23594468,"reputation":1,"user_id":17631772,"display_name":"RelaxWithMyHorns"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639020105,"creation_date":1639020105,"question_id":70284337,"body_markdown":"I&#39;m trying to write a constructor for a class I have called &quot;CSVGameData&quot;, which is meant to feed certain list arrays in my abstract class called &quot;GameData&quot;. The parameters I have for my constructor are two strings which are meant to basically take the contents of two different CSV files, however I don&#39;t think I&#39;ve done this before so I&#39;m quite unfamiliar with how I&#39;m supposed to set these two string parameters equal to their respective CSV files. (I have a CSV Reader file already written if that helps)","title":"How to set a String parameter in a constructor equal to the contents of a CSV file?","body":"<p>I'm trying to write a constructor for a class I have called &quot;CSVGameData&quot;, which is meant to feed certain list arrays in my abstract class called &quot;GameData&quot;. The parameters I have for my constructor are two strings which are meant to basically take the contents of two different CSV files, however I don't think I've done this before so I'm quite unfamiliar with how I'm supposed to set these two string parameters equal to their respective CSV files. (I have a CSV Reader file already written if that helps)</p>\n"},{"tags":["java","intellij-idea","import","mockito","pom.xml"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638925664,"post_id":70268723,"comment_id":124216264,"body_markdown":"What directory is the source file of the class doing the import in?","body":"What directory is the source file of the class doing the import in?"},{"owner":{"account_id":2609901,"reputation":907,"user_id":2260199,"accept_rate":43,"display_name":"user2260199"},"score":0,"creation_date":1638928854,"post_id":70268723,"comment_id":124216767,"body_markdown":"/src/test/java/.../","body":"/src/test/java/.../"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1638930765,"post_id":70268723,"comment_id":124217066,"body_markdown":"Do you get an error from the maven command, or just in Intellij IDEA? Perhaps you need to reload your project in the Maven tab?","body":"Do you get an error from the maven command, or just in Intellij IDEA? Perhaps you need to reload your project in the Maven tab?"},{"owner":{"account_id":2609901,"reputation":907,"user_id":2260199,"accept_rate":43,"display_name":"user2260199"},"score":0,"creation_date":1638931712,"post_id":70268723,"comment_id":124217216,"body_markdown":"Just Intellij IDEA. I don&#39;t see any maven tab... is this a plugin? I have maven helper installed.","body":"Just Intellij IDEA. I don&#39;t see any maven tab... is this a plugin? I have maven helper installed."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1638940334,"post_id":70268723,"comment_id":124218675,"body_markdown":"Error from Maven command - means &quot;mvn&quot; binary in the command line.","body":"Error from Maven command - means &quot;mvn&quot; binary in the command line."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1638940467,"post_id":70268723,"comment_id":124218699,"body_markdown":"Does it help to remove the scope?","body":"Does it help to remove the scope?"}],"answers":[{"tags":[],"owner":{"account_id":2609901,"reputation":907,"user_id":2260199,"accept_rate":43,"display_name":"user2260199"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639019718,"creation_date":1639019718,"answer_id":70284303,"question_id":70268723,"body_markdown":"Turns out reloading project was all that was needed, as tgdavies suggested.\r\n\r\nWith Maven Helper plugin: right click on project folder &gt; Run Maven &gt; Reimport","title":"Cannot resolve symbol MockedStatic","body":"<p>Turns out reloading project was all that was needed, as tgdavies suggested.</p>\n<p>With Maven Helper plugin: right click on project folder &gt; Run Maven &gt; Reimport</p>\n"}],"owner":{"account_id":2609901,"reputation":907,"user_id":2260199,"accept_rate":43,"display_name":"user2260199"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639019718,"creation_date":1638925094,"question_id":70268723,"body_markdown":"I&#39;m trying to import [MockedStatic][1] into a test but am not having any luck. My pom.xml file contains:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI use the following line to build the project:\r\n\r\n    mvn clean -U install appengine:run -Dapp.devserver.port=8888 -DskipTests=true\r\n\r\nI am using IntelliJ and I get a &quot;cannot find symbol&quot; error for the import:\r\n\r\n    import org.mockito.MockedStatic;\r\n\r\nAny idea what I&#39;m doing wrong?\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.10.0/org/mockito/MockedStatic.html","title":"Cannot resolve symbol MockedStatic","body":"<p>I'm trying to import <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.10.0/org/mockito/MockedStatic.html\" rel=\"nofollow noreferrer\">MockedStatic</a> into a test but am not having any luck. My pom.xml file contains:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;3.10.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I use the following line to build the project:</p>\n<pre><code>mvn clean -U install appengine:run -Dapp.devserver.port=8888 -DskipTests=true\n</code></pre>\n<p>I am using IntelliJ and I get a &quot;cannot find symbol&quot; error for the import:</p>\n<pre><code>import org.mockito.MockedStatic;\n</code></pre>\n<p>Any idea what I'm doing wrong?</p>\n"},{"tags":["java","maven","netbeans"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639019512,"creation_date":1639019512,"answer_id":70284291,"question_id":70199864,"body_markdown":"Your version of Java is incompatible with your version of NetBeans because NetBeans 12.2 does not support the use of JDK 17. From the NetBeans 12.2 Release notes [Downloading Apache NetBeans 12.2][1]: \r\n\r\n&gt; Apache NetBeans 12.2 runs on JDK LTS releases 8 and 11, as well as on\r\n&gt; JDK 15, i.e., the current JDK release at the time of this NetBeans\r\n&gt; release.\r\n\r\nIn general, when changing your version of NetBeans and/or Java, make sure that the versions are compatible. This is always documented in the NetBeans release notes.\r\n\r\nYou have two options to resolve this:\r\n- Upgrade to NetBeans 12.6 which supports Java 17.\r\n- Stay on NetBeans 12.2, but downgrade to Java 15 or lower. That is, make JDK 15 (or lower) your default platform for NetBeans 12.2.\r\n\r\nOf course you may also have other issues with your project, but there is no point in worrying about those until you have fixed this problem.\r\n\r\n\r\n  [1]: https://netbeans.apache.org/download/nb122/nb122.html","title":"Java Web Application Failed to run as maven project","body":"<p>Your version of Java is incompatible with your version of NetBeans because NetBeans 12.2 does not support the use of JDK 17. From the NetBeans 12.2 Release notes <a href=\"https://netbeans.apache.org/download/nb122/nb122.html\" rel=\"nofollow noreferrer\">Downloading Apache NetBeans 12.2</a>:</p>\n<blockquote>\n<p>Apache NetBeans 12.2 runs on JDK LTS releases 8 and 11, as well as on\nJDK 15, i.e., the current JDK release at the time of this NetBeans\nrelease.</p>\n</blockquote>\n<p>In general, when changing your version of NetBeans and/or Java, make sure that the versions are compatible. This is always documented in the NetBeans release notes.</p>\n<p>You have two options to resolve this:</p>\n<ul>\n<li>Upgrade to NetBeans 12.6 which supports Java 17.</li>\n<li>Stay on NetBeans 12.2, but downgrade to Java 15 or lower. That is, make JDK 15 (or lower) your default platform for NetBeans 12.2.</li>\n</ul>\n<p>Of course you may also have other issues with your project, but there is no point in worrying about those until you have fixed this problem.</p>\n"}],"owner":{"display_name":"user10051291"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70284291,"answer_count":1,"score":1,"last_activity_date":1639019512,"creation_date":1638449631,"question_id":70199864,"body_markdown":"I am new to java . I am using apache netbeans 12.2 version to create new project and the java version is 17 . I followed the step to create java web application with maven but when I build it and try to run it I am getting following errors in the console window.\r\n\r\n**Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project JavaProject: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null**\r\n\r\nI checked in pom.xml file the required dependency already there , But why it not able to run?.\r\n\r\nHere is the Pom.xml code .\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;JavaProject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;JavaProject-1.0-SNAPSHOT&lt;/name&gt;\r\n        \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;jakartaee&gt;8.0&lt;/jakartaee&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        \r\n         &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;compilerArguments&gt;\r\n                            &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                        &lt;/compilerArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n               \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                                &lt;silent&gt;true&lt;/silent&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                                        &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nHere is the entire console with error message.\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project JavaProject: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\n    -----------------------------------------------------\r\n    realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\r\n    strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    urls[0] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\r\n    urls[1] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\n    urls[2] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\n    urls[3] = file:/Users/mohammadhossan/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\n    urls[4] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\n    urls[5] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\r\n    urls[6] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\r\n    urls[7] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\r\n    urls[8] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\r\n    urls[9] = file:/Users/mohammadhossan/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n    urls[10] = file:/Users/mohammadhossan/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\r\n    urls[11] = file:/Users/mohammadhossan/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\r\n    urls[12] = file:/Users/mohammadhossan/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\n    urls[13] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\r\n    urls[14] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\r\n    Number of foreign imports: 1\r\n    import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    \r\n    -----------------------------------------------------\r\n    : ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @73bb1337\r\n    -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException","title":"Java Web Application Failed to run as maven project","body":"<p>I am new to java . I am using apache netbeans 12.2 version to create new project and the java version is 17 . I followed the step to create java web application with maven but when I build it and try to run it I am getting following errors in the console window.</p>\n<p><strong>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project JavaProject: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null</strong></p>\n<p>I checked in pom.xml file the required dependency already there , But why it not able to run?.</p>\n<p>Here is the Pom.xml code .</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;JavaProject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;JavaProject-1.0-SNAPSHOT&lt;/name&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;jakartaee&gt;8.0&lt;/jakartaee&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n     &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the entire console with error message.</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project JavaProject: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\n-----------------------------------------------------\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\nurls[0] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\nurls[1] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\nurls[2] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\nurls[3] = file:/Users/mohammadhossan/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\nurls[4] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\nurls[5] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\nurls[6] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\nurls[7] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\nurls[8] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\nurls[9] = file:/Users/mohammadhossan/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\nurls[10] = file:/Users/mohammadhossan/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\nurls[11] = file:/Users/mohammadhossan/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\nurls[12] = file:/Users/mohammadhossan/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\nurls[13] = file:/Users/mohammadhossan/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\nurls[14] = file:/Users/mohammadhossan/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\nNumber of foreign imports: 1\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n\n-----------------------------------------------------\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @73bb1337\n-&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n"},{"tags":["java","discord.py","lavaplayer"],"owner":{"account_id":13174334,"reputation":51,"user_id":9515685,"display_name":"Shubhendra Kushwaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639019424,"creation_date":1639019424,"question_id":70284280,"body_markdown":"I have a discord music bot built with discord.py and wavelink. I am using Soundcloud as music provider, but the song lags sometimes and I am not sure about the issue.\r\n\r\nConfiguration file of my Lavalink contains following two lines. Will changing these values help me?\r\n```\r\nbufferDurationMs: 500 # The duration of the NAS buffer. Higher values fare better against longer GC pauses\r\nframeBufferDurationMs: 2000 # How many milliseconds of audio to keep buffered\r\n```\r\n\r\nThe Lavalink server is hosted on a digital Ocean Ubantu droplet of 4GB RAM.\r\n\r\nJava version: **13.0.7**\r\n\r\nAny type of help or suggestion for further debugging will be very helpful.","title":"How to fix lagging issues in Lavalink?","body":"<p>I have a discord music bot built with discord.py and wavelink. I am using Soundcloud as music provider, but the song lags sometimes and I am not sure about the issue.</p>\n<p>Configuration file of my Lavalink contains following two lines. Will changing these values help me?</p>\n<pre><code>bufferDurationMs: 500 # The duration of the NAS buffer. Higher values fare better against longer GC pauses\nframeBufferDurationMs: 2000 # How many milliseconds of audio to keep buffered\n</code></pre>\n<p>The Lavalink server is hosted on a digital Ocean Ubantu droplet of 4GB RAM.</p>\n<p>Java version: <strong>13.0.7</strong></p>\n<p>Any type of help or suggestion for further debugging will be very helpful.</p>\n"},{"tags":["java","android","bitmap","opengl-es-2.0","video-processing"],"answers":[{"tags":[],"owner":{"account_id":8762665,"reputation":702,"user_id":6552184,"display_name":"J.Jacobs"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1639017076,"creation_date":1474555157,"answer_id":39642098,"question_id":39589247,"body_markdown":"I see two things that seems wrong to me.\r\n\r\n 1. You are trying to bind everything at the same time, and hope that one call to `GLES20.glDrawArrays()` will draw everything.\r\n\r\n 2. You have only one shader, where you should have two : one for doing video texture rendering, and another for your bitmap layer rendering.\r\n\r\nWhat you must know is that a frame can be draw by multiple call to `glDrawArrays`, each call will just paint a little part over previously drawn stuff (basically).\r\n\r\n_____________________________________________________________________\r\nThe first part of rendering a frame in your case should look to this :\r\n```\r\n# init\r\n\r\nloadShaderForVideo()\r\n\r\nloadShaderForBitmapLayer()\r\n\r\nprepareYourArraysEtc()\r\n```\r\n...\r\n\r\n    #loop\r\n\r\n    GLClear()\r\n\r\n    updateVideoTexture()\r\n\r\n    drawFrame(){\r\n       drawVideo()\r\n       drawBitmap()\r\n    }\r\n    drawVideo(){\r\n\r\n        bindYourActiveTextureToVideo()\r\n\r\n        setYourVertexAttribAndUniform()\r\n\r\n        GLES20.glDrawArrays()\r\n\r\n    }\r\n\r\n    drawBitmap() {\r\n\r\n        bindYourActiveTextureToBitmap()\r\n\r\n        setYourVertexAttribAndUniform() // This should be the same as above for video\r\n        // Considering you want to draw above your video, consider activating the blending for transparency :\r\n\r\n        GLES20.glEnable(GLES20.GL_BLEND);\r\n        GLES20.glBlendFunc(GLES20.GL_SRC_ALPHA, GLES20.GL_ONE_MINUS_SRC_ALPHA);\r\n\r\n        GLES20.glDrawArrays()\r\n\r\n    }\r\n\r\n__________________________________________________________________\r\nConcerning the shader, just take a look at these :\r\n\r\nA common `Vertex Shader` for both :\r\n\r\n    public static final String vertexDefaultShaderCode =\r\n            &quot;uniform mat4 uVPMatrix;&quot; +\r\n                    &quot;uniform mat4 uModelMatrix;&quot; + // uniform = input const\r\n                    &quot;attribute vec3 aPosition;&quot; +  // attribute = input property different for each vertex\r\n                    &quot;attribute vec2 aTexCoordinate;&quot; +\r\n                    &quot;varying vec2 vTexCoordinate;&quot; +// varying = output property different for each pixel\r\n\r\n                    &quot;void main() {&quot; +\r\n                    &quot;vTexCoordinate = aTexCoordinate;&quot; +\r\n                    &quot;gl_Position = uVPMatrix * uModelMatrix * vec4(aPosition,1.0);&quot; +\r\n                    &quot;}&quot;;\r\n\r\nThen a basic `fragment shader` ( for your bitmap 2D texture ) :\r\n\r\n        public static final String fragmentDefaultShaderCode =\r\n            &quot;precision mediump float;&quot; +\r\n                    &quot;uniform sampler2D uTexture;&quot; +\r\n                    &quot;varying vec2 vTexCoordinate;&quot; +\r\n\r\n                    &quot;void main() {&quot; +\r\n                    &quot;  gl_FragColor = texture2D(uTexture, vTexCoordinate);&quot; +\r\n                    &quot;}&quot;;\r\n\r\nThen a different version for video rendering :\r\n\r\n        public static final String fragmentExternalShaderCode =\r\n            &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\r\n                    &quot;precision mediump float;&quot; +\r\n                    &quot;uniform samplerExternalOES sTexture;&quot; +\r\n                    &quot;varying vec2 vTexCoordinate;&quot; +\r\n\r\n                    &quot;void main() {&quot; +\r\n                    &quot;  gl_FragColor = texture2D(sTexture, vTexCoordinate);&quot; +\r\n                    &quot;}&quot;;\r\n\r\nThus you will need two Programs, one with the defaultVertexShader + defaultFragmentShader and another with defaultVertexShader + fragmentExternalShaderCode.\r\n","title":"Opengl es 2.0 draw bitmap overlay on video","body":"<p>I see two things that seems wrong to me.</p>\n<ol>\n<li><p>You are trying to bind everything at the same time, and hope that one call to <code>GLES20.glDrawArrays()</code> will draw everything.</p>\n</li>\n<li><p>You have only one shader, where you should have two : one for doing video texture rendering, and another for your bitmap layer rendering.</p>\n</li>\n</ol>\n<p>What you must know is that a frame can be draw by multiple call to <code>glDrawArrays</code>, each call will just paint a little part over previously drawn stuff (basically).</p>\n<hr />\n<p>The first part of rendering a frame in your case should look to this :</p>\n<pre><code># init\n\nloadShaderForVideo()\n\nloadShaderForBitmapLayer()\n\nprepareYourArraysEtc()\n</code></pre>\n<p>...</p>\n<pre><code>#loop\n\nGLClear()\n\nupdateVideoTexture()\n\ndrawFrame(){\n   drawVideo()\n   drawBitmap()\n}\ndrawVideo(){\n\n    bindYourActiveTextureToVideo()\n\n    setYourVertexAttribAndUniform()\n\n    GLES20.glDrawArrays()\n\n}\n\ndrawBitmap() {\n\n    bindYourActiveTextureToBitmap()\n\n    setYourVertexAttribAndUniform() // This should be the same as above for video\n    // Considering you want to draw above your video, consider activating the blending for transparency :\n\n    GLES20.glEnable(GLES20.GL_BLEND);\n    GLES20.glBlendFunc(GLES20.GL_SRC_ALPHA, GLES20.GL_ONE_MINUS_SRC_ALPHA);\n\n    GLES20.glDrawArrays()\n\n}\n</code></pre>\n<hr />\n<p>Concerning the shader, just take a look at these :</p>\n<p>A common <code>Vertex Shader</code> for both :</p>\n<pre><code>public static final String vertexDefaultShaderCode =\n        &quot;uniform mat4 uVPMatrix;&quot; +\n                &quot;uniform mat4 uModelMatrix;&quot; + // uniform = input const\n                &quot;attribute vec3 aPosition;&quot; +  // attribute = input property different for each vertex\n                &quot;attribute vec2 aTexCoordinate;&quot; +\n                &quot;varying vec2 vTexCoordinate;&quot; +// varying = output property different for each pixel\n\n                &quot;void main() {&quot; +\n                &quot;vTexCoordinate = aTexCoordinate;&quot; +\n                &quot;gl_Position = uVPMatrix * uModelMatrix * vec4(aPosition,1.0);&quot; +\n                &quot;}&quot;;\n</code></pre>\n<p>Then a basic <code>fragment shader</code> ( for your bitmap 2D texture ) :</p>\n<pre><code>    public static final String fragmentDefaultShaderCode =\n        &quot;precision mediump float;&quot; +\n                &quot;uniform sampler2D uTexture;&quot; +\n                &quot;varying vec2 vTexCoordinate;&quot; +\n\n                &quot;void main() {&quot; +\n                &quot;  gl_FragColor = texture2D(uTexture, vTexCoordinate);&quot; +\n                &quot;}&quot;;\n</code></pre>\n<p>Then a different version for video rendering :</p>\n<pre><code>    public static final String fragmentExternalShaderCode =\n        &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\n                &quot;precision mediump float;&quot; +\n                &quot;uniform samplerExternalOES sTexture;&quot; +\n                &quot;varying vec2 vTexCoordinate;&quot; +\n\n                &quot;void main() {&quot; +\n                &quot;  gl_FragColor = texture2D(sTexture, vTexCoordinate);&quot; +\n                &quot;}&quot;;\n</code></pre>\n<p>Thus you will need two Programs, one with the defaultVertexShader + defaultFragmentShader and another with defaultVertexShader + fragmentExternalShaderCode.</p>\n"},{"tags":[],"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639017580,"creation_date":1639016480,"answer_id":70283997,"question_id":39589247,"body_markdown":"Buggy but works. Per J.Jacobs-VP, you need to use two programs and two shaders, one for video frame and the other for the bitmap.\r\n\r\n\r\n    /*\r\n     * Copyright (C) 2013 The Android Open Source Project\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    var gles = 2\r\n    \r\n    /**\r\n     * Code for rendering a texture onto a surface using OpenGL ES 2.0.\r\n     */\r\n    \r\n    internal class TextureRender {\r\n    \r\n        /** Video Frame **/\r\n    \r\n        private val mTriangleVerticesData = floatArrayOf( // X, Y, Z, U, V\r\n            -1.0f, -1.0f, 0f, 0f, 0f,\r\n            1.0f, -1.0f, 0f, 1f, 0f,\r\n            -1.0f, 1.0f, 0f, 0f, 1f,\r\n            1.0f, 1.0f, 0f, 1f, 1f\r\n        )\r\n    \r\n        private val mTriangleVertices: FloatBuffer\r\n        private val mMVPMatrix = FloatArray(16)\r\n        private val mSTMatrix = FloatArray(16)\r\n        private var mProgram = 0\r\n        var textureId = -12345\r\n            private set\r\n        private var muMVPMatrixHandle = 0\r\n        private var muSTMatrixHandle = 0\r\n        private var maPositionHandle = 0\r\n        private var maTextureHandle = 0\r\n    \r\n        /** Bitmap Overlay **/\r\n    \r\n        private val mBitmapTriangleVerticesData = floatArrayOf( // X, Y, Z, U, V\r\n            -1.0f, -1.0f, 0f, 0f, 0f,\r\n            1.0f, -1.0f, 0f, 1f, 0f,\r\n            -1.0f, 1.0f, 0f, 0f, 1f,\r\n            1.0f, 1.0f, 0f, 1f, 1f\r\n        )\r\n    \r\n        private val mBitmapTriangleVertices: FloatBuffer\r\n    \r\n        private var mBitmapProgram = 1\r\n        private val mBitmapMVPMatrix = FloatArray(16)\r\n        private val mBitmapSTMatrix = FloatArray(16)\r\n        private var mBitmapuMVPMatrixHandle = 0\r\n        private var mBitmapuSTMatrixHandle = 0\r\n        private var mBitmapaPositionHandle = 0\r\n        private var mBitmapaTextureHandle = 0\r\n        var bitmapTextureId = -12345\r\n            private set\r\n    \r\n        fun drawFrame(st: SurfaceTexture, sourceWidth: Int, sourceHeight: Int, targetWidth: Int, targetHeight: Int, flipHorizontally: Boolean, flipVertically: Boolean) {\r\n    \r\n            if (gles == 2) {\r\n    \r\n                /** Draw Frame **/\r\n                println(&quot;drawFrame&quot;)\r\n    \r\n                checkGlError(&quot;onDrawFrame start&quot;)\r\n                st.getTransformMatrix(mSTMatrix)\r\n                //GLES20.glClearColor(0.0f, 1.0f, 0.0f, 1.0f)\r\n                GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f)\r\n                GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT or GLES20.GL_COLOR_BUFFER_BIT)\r\n                GLES20.glUseProgram(mProgram)\r\n    \r\n                checkGlError(&quot;glUseProgram&quot;)\r\n    \r\n                // original\r\n    \r\n                GLES20.glActiveTexture(GLES20.GL_TEXTURE0)\r\n                GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, textureId)\r\n    \r\n                // vertices\r\n    \r\n                mTriangleVertices.position(TRIANGLE_VERTICES_DATA_POS_OFFSET)\r\n                GLES20.glVertexAttribPointer(\r\n                    maPositionHandle, 3, GLES20.GL_FLOAT, false,\r\n                    TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices\r\n                )\r\n    \r\n                checkGlError(&quot;glVertexAttribPointer maPosition&quot;)\r\n                GLES20.glEnableVertexAttribArray(maPositionHandle)\r\n    \r\n                checkGlError(&quot;glEnableVertexAttribArray maPositionHandle&quot;)\r\n                mTriangleVertices.position(TRIANGLE_VERTICES_DATA_UV_OFFSET)\r\n                GLES20.glVertexAttribPointer(\r\n                    maTextureHandle, 2, GLES20.GL_FLOAT, false,\r\n                    TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices\r\n                )\r\n                checkGlError(&quot;glVertexAttribPointer maTextureHandle&quot;)\r\n                GLES20.glEnableVertexAttribArray(maTextureHandle)\r\n    \r\n                checkGlError(&quot;glEnableVertexAttribArray maTextureHandle&quot;)\r\n                Matrix.setIdentityM(mMVPMatrix, 0)\r\n                GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0)\r\n                GLES20.glUniformMatrix4fv(muSTMatrixHandle, 1, false, mSTMatrix, 0)\r\n    \r\n                GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4)\r\n                checkGlError(&quot;glDrawArrays&quot;)\r\n    \r\n                /** Draw Bitmap **/\r\n    \r\n                // bitmap\r\n    \r\n                // save to bitmap\r\n    \r\n                val bmp = savePixels(0, 0, sourceWidth, sourceHeight)\r\n    \r\n                // load texture from bitmap\r\n    \r\n                println(&quot;bmp: ${bmp?.width} ${bmp?.height}&quot;)\r\n    \r\n                if (bmp != null) {\r\n    \r\n                    //val monochromeBmp = convertToBlackWhite(bmp)?.rotate(90f)\r\n                    var monochromeBmp = convertToBlackWhite(bmp)\r\n    \r\n                    if (sourceHeight &gt; sourceWidth) {\r\n                        if (monochromeBmp != null) {\r\n                            //monochromeBmp.rotate(90f)\r\n                        }\r\n                    }\r\n    \r\n                    println(&quot;monochromeBmp: ${monochromeBmp?.width} ${monochromeBmp?.height}&quot;)\r\n    \r\n                    println(&quot;drawFrame&quot;)\r\n    \r\n                    checkGlError(&quot;onDrawFrame start&quot;)\r\n                    st.getTransformMatrix(mBitmapSTMatrix)\r\n                    GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f)\r\n                    GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT or GLES20.GL_COLOR_BUFFER_BIT)\r\n                    GLES20.glUseProgram(mBitmapProgram)\r\n    \r\n                    checkGlError(&quot;glUseProgram&quot;)\r\n    \r\n                    // original\r\n    \r\n                    GLES20.glActiveTexture(GLES20.GL_TEXTURE1)\r\n                    GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, bitmapTextureId)\r\n    \r\n                    // vertices\r\n    \r\n                    mBitmapTriangleVertices.position(TRIANGLE_VERTICES_DATA_POS_OFFSET)\r\n                    GLES20.glVertexAttribPointer(\r\n                        mBitmapaPositionHandle, 3, GLES20.GL_FLOAT, false,\r\n                        TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mBitmapTriangleVertices\r\n                    )\r\n    \r\n                    checkGlError(&quot;glVertexAttribPointer mBitmapaPosition&quot;)\r\n                    GLES20.glEnableVertexAttribArray(mBitmapaPositionHandle)\r\n    \r\n                    checkGlError(&quot;glEnableVertexAttribArray mBitmapaPositionHandle&quot;)\r\n                    mBitmapTriangleVertices.position(TRIANGLE_VERTICES_DATA_UV_OFFSET)\r\n                    GLES20.glVertexAttribPointer(\r\n                        mBitmapaTextureHandle, 2, GLES20.GL_FLOAT, false,\r\n                        TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mBitmapTriangleVertices\r\n                    )\r\n                    checkGlError(&quot;glVertexAttribPointer mBitmapaTextureHandle&quot;)\r\n                    GLES20.glEnableVertexAttribArray(mBitmapaTextureHandle)\r\n    \r\n                    checkGlError(&quot;glEnableVertexAttribArray maTextureHandle&quot;)\r\n                    Matrix.setIdentityM(mBitmapMVPMatrix, 0)\r\n                    GLES20.glUniformMatrix4fv(mBitmapuMVPMatrixHandle, 1, false, mBitmapMVPMatrix, 0)\r\n                    GLES20.glUniformMatrix4fv(mBitmapuSTMatrixHandle, 1, false, mBitmapSTMatrix, 0)\r\n    \r\n                    if (monochromeBmp != null) {\r\n    \r\n                        loadTexture(monochromeBmp)\r\n    \r\n                        GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4)\r\n                        checkGlError(&quot;glDrawArrays&quot;)\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                // finish\r\n    \r\n                GLES20.glFinish()\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Save Bitmap as Grayscale\r\n         **/\r\n    \r\n        private fun convertToBlackWhite(bmp: Bitmap): Bitmap? {\r\n            val width = bmp.width\r\n            val height = bmp.height\r\n            val pixels = IntArray(width * height)\r\n            bmp.getPixels(pixels, 0, width, 0, 0, width, height)\r\n            val alpha = 0xFF shl 24 // ?bitmap?24?\r\n            for (i in 0 until height) {\r\n                for (j in 0 until width) {\r\n                    var grey = pixels[width * i + j]\r\n                    val red = grey and 0x00FF0000 shr 16\r\n                    val green = grey and 0x0000FF00 shr 8\r\n                    val blue = grey and 0x000000FF\r\n                    grey = (red * 0.3 + green * 0.59 + blue * 0.11).toInt()\r\n                    grey = alpha or (grey shl 16) or (grey shl 8) or grey\r\n                    pixels[width * i + j] = grey\r\n                }\r\n            }\r\n            val newBmp = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565)\r\n            newBmp.setPixels(pixels, 0, width, 0, 0, width, height)\r\n            return newBmp\r\n        }\r\n    \r\n        /**\r\n         Rotate Bitmap\r\n         */\r\n        fun Bitmap.rotate(degrees: Float): Bitmap {\r\n            val matrix = android.graphics.Matrix().apply { postRotate(degrees) }\r\n            return Bitmap.createBitmap(this, 0, 0, width, height, matrix, true)\r\n        }\r\n    \r\n        /**\r\n         * Save Texture as Bitmap\r\n         **/\r\n    \r\n        private fun savePixels(x: Int, y: Int, w: Int, h: Int): Bitmap? {\r\n    \r\n            val b = IntArray(w * (y + h))\r\n            val bt = IntArray(w * h)\r\n            val ib: IntBuffer = IntBuffer.wrap(b)\r\n            ib.position(0)\r\n            GLES20.glReadPixels(0, 0, w, h, GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, ib)\r\n            var i = 0\r\n            var k = 0\r\n            while (i &lt; h) {\r\n                //remember, that OpenGL bitmap is incompatible with Android bitmap\r\n                //and so, some correction need.\r\n                for (j in 0 until w) {\r\n                    val pix = b[i * w + j]\r\n                    val pb = pix shr 16 and 0xff\r\n                    val pr = pix shl 16 and 0x00ff0000\r\n                    val pix1 = pix and -0xff0100 or pr or pb\r\n                    bt[(h - k - 1) * w + j] = pix1\r\n                }\r\n                i++\r\n                k++\r\n            }\r\n            return Bitmap.createBitmap(bt, w, h, Bitmap.Config.ARGB_8888)\r\n        }\r\n    \r\n        fun saveImage(finalBitmap: Bitmap) {\r\n    \r\n            val generator = Random()\r\n            var n = 10000\r\n            n = generator.nextInt(n)\r\n            val fname = &quot;Image-$n.jpg&quot;\r\n            val file = File(output(fname)!!.path!!)\r\n            if (file.exists()) file.delete()\r\n            try {\r\n                val out = FileOutputStream(file)\r\n                finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out)\r\n                out.flush()\r\n                out.close()\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n        }\r\n    \r\n        private fun output(fileName: String) : Uri? {\r\n    \r\n            val root = mainctx!!.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)\r\n    \r\n            val myDir = File(&quot;$root/Files/&quot;)\r\n    \r\n            if (!myDir.exists()) {\r\n    \r\n                Log.d(&quot;TAG&quot;, &quot;$myDir doesn&#39;t exist&quot;)\r\n    \r\n                myDir.mkdirs()\r\n    \r\n            }\r\n    \r\n            try {\r\n    \r\n                val f = File(myDir, fileName)\r\n    \r\n                if (f.exists()) {\r\n    \r\n                    //println(&quot;File Exists! Deleting&quot;)\r\n    \r\n                    f.delete()\r\n    \r\n                }\r\n    \r\n                f.createNewFile()\r\n    \r\n                // file Uri\r\n    \r\n                //println(&quot;fileUri: $fileUri&quot;)\r\n    \r\n                return Uri.fromFile(f)\r\n    \r\n                // File Saved\r\n    \r\n            } catch (e: FileNotFoundException) {\r\n    \r\n                //println(&quot;FileNotFoundException&quot;)\r\n    \r\n                e.printStackTrace()\r\n    \r\n                return null\r\n    \r\n            } catch (e: IOException) {\r\n    \r\n                //println(&quot;IOException&quot;)\r\n    \r\n                e.printStackTrace()\r\n    \r\n                return null\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * Load Texture from Bitmap\r\n         **/\r\n    \r\n        private fun loadTexture(bitmap: Bitmap) {\r\n    \r\n            println(&quot;loadTexture&quot;)\r\n    \r\n            // Bind to the texture in OpenGL\r\n    \r\n            GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, bitmapTextureId)\r\n    \r\n            // Set filtering\r\n    \r\n            GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST)\r\n            GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST)\r\n    \r\n            // Load the bitmap into the bound texture.\r\n    \r\n            println(&quot;bitmap: ${bitmap.width} ${bitmap.height}&quot;)\r\n    \r\n            GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0)\r\n    \r\n            // check errors\r\n    \r\n            checkGlError(&quot;texImage2d&quot;);\r\n    \r\n            // Recycle the bitmap, since its data has been loaded into OpenGL.\r\n    \r\n            bitmap.recycle()\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Initializes GL state.  Call this after the EGL surface has been created and made current.\r\n         */\r\n    \r\n        fun surfaceCreated() {\r\n    \r\n            println(&quot;surfaceCreated&quot;)\r\n    \r\n            if (gles == 2) {\r\n    \r\n                // video shader\r\n    \r\n                mProgram = createProgram(VERTEX_SHADER, FRAGMENT_SHADER)\r\n                if (mProgram == 0) {\r\n                    throw RuntimeException(&quot;failed creating program&quot;)\r\n                }\r\n                maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;aPosition&quot;)\r\n                checkGlError(&quot;glGetAttribLocation aPosition&quot;)\r\n                if (maPositionHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for aPosition&quot;)\r\n                }\r\n                maTextureHandle = GLES20.glGetAttribLocation(mProgram, &quot;aTextureCoord&quot;)\r\n                checkGlError(&quot;glGetAttribLocation aTextureCoord&quot;)\r\n                if (maTextureHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for aTextureCoord&quot;)\r\n                }\r\n                muMVPMatrixHandle = GLES20.glGetUniformLocation(mProgram, &quot;uMVPMatrix&quot;)\r\n                checkGlError(&quot;glGetUniformLocation uMVPMatrix&quot;)\r\n                if (muMVPMatrixHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for uMVPMatrix&quot;)\r\n                }\r\n                muSTMatrixHandle = GLES20.glGetUniformLocation(mProgram, &quot;uSTMatrix&quot;)\r\n                checkGlError(&quot;glGetUniformLocation uSTMatrix&quot;)\r\n                if (muSTMatrixHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for uSTMatrix&quot;)\r\n                }\r\n                val textures = IntArray(1)\r\n                GLES20.glGenTextures(1, textures, 0)\r\n                textureId = textures[0]\r\n                GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, textureId)\r\n                checkGlError(&quot;glBindTexture mTextureID&quot;)\r\n                GLES20.glTexParameterf(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\r\n                    GLES20.GL_NEAREST.toFloat()\r\n                )\r\n                GLES20.glTexParameterf(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\r\n                    GLES20.GL_LINEAR.toFloat()\r\n                )\r\n                GLES20.glTexParameteri(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\r\n                    GLES20.GL_CLAMP_TO_EDGE\r\n                )\r\n                GLES20.glTexParameteri(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\r\n                    GLES20.GL_CLAMP_TO_EDGE\r\n                )\r\n                checkGlError(&quot;glTexParameter&quot;)\r\n    \r\n                // bitmap shader\r\n    \r\n                mBitmapProgram = createProgram(VERTEX_SHADER, FRAGMENT_BITMAP_SHADER)\r\n                if (mBitmapProgram == 0) {\r\n                    throw RuntimeException(&quot;failed creating program&quot;)\r\n                }\r\n                mBitmapaPositionHandle = GLES20.glGetAttribLocation(mBitmapProgram, &quot;aPosition&quot;)\r\n                checkGlError(&quot;glGetAttribLocation aPosition&quot;)\r\n                if (mBitmapaPositionHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for aPosition&quot;)\r\n                }\r\n                mBitmapaTextureHandle = GLES20.glGetAttribLocation(mBitmapProgram, &quot;aTextureCoord&quot;)\r\n                checkGlError(&quot;glGetAttribLocation aTextureCoord&quot;)\r\n                if (mBitmapaTextureHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for aTextureCoord&quot;)\r\n                }\r\n                mBitmapuMVPMatrixHandle = GLES20.glGetUniformLocation(mBitmapProgram, &quot;uMVPMatrix&quot;)\r\n                checkGlError(&quot;glGetUniformLocation uMVPMatrix&quot;)\r\n                if (mBitmapuMVPMatrixHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for uMVPMatrix&quot;)\r\n                }\r\n                mBitmapuSTMatrixHandle = GLES20.glGetUniformLocation(mBitmapProgram, &quot;uSTMatrix&quot;)\r\n                checkGlError(&quot;glGetUniformLocation uSTMatrix&quot;)\r\n                if (mBitmapuSTMatrixHandle == -1) {\r\n                    throw RuntimeException(&quot;Could not get attrib location for uSTMatrix&quot;)\r\n                }\r\n                val bmpTextures = IntArray(1)\r\n                GLES20.glGenTextures(1, bmpTextures, 0)\r\n                bitmapTextureId = textures[0]\r\n                GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, bitmapTextureId)\r\n                checkGlError(&quot;glBindTexture bitmapTextureId&quot;)\r\n                GLES20.glTexParameterf(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\r\n                    GLES20.GL_NEAREST.toFloat()\r\n                )\r\n                GLES20.glTexParameterf(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\r\n                    GLES20.GL_LINEAR.toFloat()\r\n                )\r\n                GLES20.glTexParameteri(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\r\n                    GLES20.GL_CLAMP_TO_EDGE\r\n                )\r\n                GLES20.glTexParameteri(\r\n                    GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\r\n                    GLES20.GL_CLAMP_TO_EDGE\r\n                )\r\n                checkGlError(&quot;glTexParameter&quot;)\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Replaces the fragment shader.\r\n         */\r\n    \r\n        fun changeFragmentShader(fragmentShader: String) {\r\n    \r\n            if (gles == 2) {\r\n    \r\n                GLES20.glDeleteProgram(mProgram)\r\n                mProgram = createProgram(VERTEX_SHADER, fragmentShader)\r\n                if (mProgram == 0) {\r\n                    throw RuntimeException(&quot;failed creating program&quot;)\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private fun loadShader(shaderType: Int, source: String): Int {\r\n    \r\n            if (gles == 2) {\r\n    \r\n                var shader = GLES20.glCreateShader(shaderType)\r\n                checkGlError(&quot;glCreateShader type=$shaderType&quot;)\r\n                GLES20.glShaderSource(shader, source)\r\n                GLES20.glCompileShader(shader)\r\n                val compiled = IntArray(1)\r\n                GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0)\r\n                if (compiled[0] == 0) {\r\n                    Log.e(TAG, &quot;Could not compile shader $shaderType:&quot;)\r\n                    Log.e(TAG, &quot; &quot; + GLES20.glGetShaderInfoLog(shader))\r\n                    GLES20.glDeleteShader(shader)\r\n                    shader = 0\r\n                }\r\n                return shader\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private fun createProgram(vertexSource: String, fragmentSource: String): Int {\r\n    \r\n            if (gles == 2) {\r\n    \r\n                val vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource)\r\n                if (vertexShader == 0) {\r\n                    return 0\r\n                }\r\n                val pixelShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource)\r\n                if (pixelShader == 0) {\r\n                    return 0\r\n                }\r\n                var program = GLES20.glCreateProgram()\r\n                checkGlError(&quot;glCreateProgram&quot;)\r\n                if (program == 0) {\r\n                    Log.e(TAG, &quot;Could not create program&quot;)\r\n                }\r\n                GLES20.glAttachShader(program, vertexShader)\r\n                checkGlError(&quot;glAttachShader&quot;)\r\n                GLES20.glAttachShader(program, pixelShader)\r\n                checkGlError(&quot;glAttachShader&quot;)\r\n                GLES20.glLinkProgram(program)\r\n                val linkStatus = IntArray(1)\r\n                GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linkStatus, 0)\r\n                if (linkStatus[0] != GLES20.GL_TRUE) {\r\n                    Log.e(TAG, &quot;Could not link program: &quot;)\r\n                    Log.e(TAG, GLES20.glGetProgramInfoLog(program))\r\n                    GLES20.glDeleteProgram(program)\r\n                    program = 0\r\n                }\r\n                return program\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        fun checkGlError(op: String) {\r\n    \r\n            if (gles == 2) {\r\n    \r\n                var error: Int\r\n                while (GLES20.glGetError().also { error = it } != GLES20.GL_NO_ERROR) {\r\n                    Log.e(TAG, &quot;$op: glError $error&quot;)\r\n                    throw RuntimeException(&quot;$op: glError $error&quot;)\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        companion object {\r\n            private const val TAG = &quot;TextureRender&quot;\r\n            private const val FLOAT_SIZE_BYTES = 4\r\n            private const val TRIANGLE_VERTICES_DATA_STRIDE_BYTES = 5 * FLOAT_SIZE_BYTES\r\n            private const val TRIANGLE_VERTICES_DATA_POS_OFFSET = 0\r\n            private const val TRIANGLE_VERTICES_DATA_UV_OFFSET = 3\r\n            private const val VERTEX_SHADER = &quot;uniform mat4 uMVPMatrix;\\n&quot; +\r\n                    &quot;uniform mat4 uSTMatrix;\\n&quot; +\r\n                    &quot;attribute vec4 aPosition;\\n&quot; +\r\n                    &quot;attribute vec4 aTextureCoord;\\n&quot; +\r\n                    &quot;varying vec2 vTextureCoord;\\n&quot; +\r\n                    &quot;void main() {\\n&quot; +\r\n                    &quot;  gl_Position = uMVPMatrix * aPosition;\\n&quot; +\r\n                    &quot;  vTextureCoord = (uSTMatrix * aTextureCoord).xy;\\n&quot; +\r\n                    &quot;}\\n&quot;\r\n            private const val FRAGMENT_SHADER = &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\r\n                    &quot;precision mediump float;\\n&quot; +  // highp here doesn&#39;t seem to matter\r\n                    &quot;varying vec2 vTextureCoord;\\n&quot; +\r\n                    &quot;uniform samplerExternalOES sTexture;\\n&quot; +\r\n                    &quot;void main() {\\n&quot; +\r\n                    &quot;  gl_FragColor = texture2D(sTexture, vTextureCoord);\\n&quot; +\r\n                    &quot;}\\n&quot;\r\n            private const val FRAGMENT_BITMAP_SHADER = &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\r\n                    &quot;precision mediump float;\\n&quot; +  // highp here doesn&#39;t seem to matter\r\n                    &quot;varying vec2 vTextureCoord;\\n&quot; +\r\n                    &quot;uniform sampler2D uTexture;\\n&quot; +\r\n                    &quot;void main() {\\n&quot; +\r\n                    &quot;  gl_FragColor = texture2D(uTexture, vTextureCoord);\\n&quot; +\r\n                    &quot;}\\n&quot;\r\n        }\r\n    \r\n        init {\r\n            mTriangleVertices = ByteBuffer.allocateDirect(\r\n                mTriangleVerticesData.size * FLOAT_SIZE_BYTES\r\n            )\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer()\r\n            mTriangleVertices.put(mTriangleVerticesData).position(0)\r\n            Matrix.setIdentityM(mSTMatrix, 0)\r\n    \r\n    \r\n            mBitmapTriangleVertices = ByteBuffer.allocateDirect(\r\n                mBitmapTriangleVerticesData.size * FLOAT_SIZE_BYTES\r\n            )\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer()\r\n            mBitmapTriangleVertices.put(mBitmapTriangleVerticesData).position(0)\r\n            Matrix.setIdentityM(mBitmapSTMatrix, 0)\r\n        }\r\n    \r\n    }","title":"Opengl es 2.0 draw bitmap overlay on video","body":"<p>Buggy but works. Per J.Jacobs-VP, you need to use two programs and two shaders, one for video frame and the other for the bitmap.</p>\n<pre><code>/*\n * Copyright (C) 2013 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar gles = 2\n\n/**\n * Code for rendering a texture onto a surface using OpenGL ES 2.0.\n */\n\ninternal class TextureRender {\n\n    /** Video Frame **/\n\n    private val mTriangleVerticesData = floatArrayOf( // X, Y, Z, U, V\n        -1.0f, -1.0f, 0f, 0f, 0f,\n        1.0f, -1.0f, 0f, 1f, 0f,\n        -1.0f, 1.0f, 0f, 0f, 1f,\n        1.0f, 1.0f, 0f, 1f, 1f\n    )\n\n    private val mTriangleVertices: FloatBuffer\n    private val mMVPMatrix = FloatArray(16)\n    private val mSTMatrix = FloatArray(16)\n    private var mProgram = 0\n    var textureId = -12345\n        private set\n    private var muMVPMatrixHandle = 0\n    private var muSTMatrixHandle = 0\n    private var maPositionHandle = 0\n    private var maTextureHandle = 0\n\n    /** Bitmap Overlay **/\n\n    private val mBitmapTriangleVerticesData = floatArrayOf( // X, Y, Z, U, V\n        -1.0f, -1.0f, 0f, 0f, 0f,\n        1.0f, -1.0f, 0f, 1f, 0f,\n        -1.0f, 1.0f, 0f, 0f, 1f,\n        1.0f, 1.0f, 0f, 1f, 1f\n    )\n\n    private val mBitmapTriangleVertices: FloatBuffer\n\n    private var mBitmapProgram = 1\n    private val mBitmapMVPMatrix = FloatArray(16)\n    private val mBitmapSTMatrix = FloatArray(16)\n    private var mBitmapuMVPMatrixHandle = 0\n    private var mBitmapuSTMatrixHandle = 0\n    private var mBitmapaPositionHandle = 0\n    private var mBitmapaTextureHandle = 0\n    var bitmapTextureId = -12345\n        private set\n\n    fun drawFrame(st: SurfaceTexture, sourceWidth: Int, sourceHeight: Int, targetWidth: Int, targetHeight: Int, flipHorizontally: Boolean, flipVertically: Boolean) {\n\n        if (gles == 2) {\n\n            /** Draw Frame **/\n            println(&quot;drawFrame&quot;)\n\n            checkGlError(&quot;onDrawFrame start&quot;)\n            st.getTransformMatrix(mSTMatrix)\n            //GLES20.glClearColor(0.0f, 1.0f, 0.0f, 1.0f)\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f)\n            GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT or GLES20.GL_COLOR_BUFFER_BIT)\n            GLES20.glUseProgram(mProgram)\n\n            checkGlError(&quot;glUseProgram&quot;)\n\n            // original\n\n            GLES20.glActiveTexture(GLES20.GL_TEXTURE0)\n            GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, textureId)\n\n            // vertices\n\n            mTriangleVertices.position(TRIANGLE_VERTICES_DATA_POS_OFFSET)\n            GLES20.glVertexAttribPointer(\n                maPositionHandle, 3, GLES20.GL_FLOAT, false,\n                TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices\n            )\n\n            checkGlError(&quot;glVertexAttribPointer maPosition&quot;)\n            GLES20.glEnableVertexAttribArray(maPositionHandle)\n\n            checkGlError(&quot;glEnableVertexAttribArray maPositionHandle&quot;)\n            mTriangleVertices.position(TRIANGLE_VERTICES_DATA_UV_OFFSET)\n            GLES20.glVertexAttribPointer(\n                maTextureHandle, 2, GLES20.GL_FLOAT, false,\n                TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices\n            )\n            checkGlError(&quot;glVertexAttribPointer maTextureHandle&quot;)\n            GLES20.glEnableVertexAttribArray(maTextureHandle)\n\n            checkGlError(&quot;glEnableVertexAttribArray maTextureHandle&quot;)\n            Matrix.setIdentityM(mMVPMatrix, 0)\n            GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0)\n            GLES20.glUniformMatrix4fv(muSTMatrixHandle, 1, false, mSTMatrix, 0)\n\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4)\n            checkGlError(&quot;glDrawArrays&quot;)\n\n            /** Draw Bitmap **/\n\n            // bitmap\n\n            // save to bitmap\n\n            val bmp = savePixels(0, 0, sourceWidth, sourceHeight)\n\n            // load texture from bitmap\n\n            println(&quot;bmp: ${bmp?.width} ${bmp?.height}&quot;)\n\n            if (bmp != null) {\n\n                //val monochromeBmp = convertToBlackWhite(bmp)?.rotate(90f)\n                var monochromeBmp = convertToBlackWhite(bmp)\n\n                if (sourceHeight &gt; sourceWidth) {\n                    if (monochromeBmp != null) {\n                        //monochromeBmp.rotate(90f)\n                    }\n                }\n\n                println(&quot;monochromeBmp: ${monochromeBmp?.width} ${monochromeBmp?.height}&quot;)\n\n                println(&quot;drawFrame&quot;)\n\n                checkGlError(&quot;onDrawFrame start&quot;)\n                st.getTransformMatrix(mBitmapSTMatrix)\n                GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f)\n                GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT or GLES20.GL_COLOR_BUFFER_BIT)\n                GLES20.glUseProgram(mBitmapProgram)\n\n                checkGlError(&quot;glUseProgram&quot;)\n\n                // original\n\n                GLES20.glActiveTexture(GLES20.GL_TEXTURE1)\n                GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, bitmapTextureId)\n\n                // vertices\n\n                mBitmapTriangleVertices.position(TRIANGLE_VERTICES_DATA_POS_OFFSET)\n                GLES20.glVertexAttribPointer(\n                    mBitmapaPositionHandle, 3, GLES20.GL_FLOAT, false,\n                    TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mBitmapTriangleVertices\n                )\n\n                checkGlError(&quot;glVertexAttribPointer mBitmapaPosition&quot;)\n                GLES20.glEnableVertexAttribArray(mBitmapaPositionHandle)\n\n                checkGlError(&quot;glEnableVertexAttribArray mBitmapaPositionHandle&quot;)\n                mBitmapTriangleVertices.position(TRIANGLE_VERTICES_DATA_UV_OFFSET)\n                GLES20.glVertexAttribPointer(\n                    mBitmapaTextureHandle, 2, GLES20.GL_FLOAT, false,\n                    TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mBitmapTriangleVertices\n                )\n                checkGlError(&quot;glVertexAttribPointer mBitmapaTextureHandle&quot;)\n                GLES20.glEnableVertexAttribArray(mBitmapaTextureHandle)\n\n                checkGlError(&quot;glEnableVertexAttribArray maTextureHandle&quot;)\n                Matrix.setIdentityM(mBitmapMVPMatrix, 0)\n                GLES20.glUniformMatrix4fv(mBitmapuMVPMatrixHandle, 1, false, mBitmapMVPMatrix, 0)\n                GLES20.glUniformMatrix4fv(mBitmapuSTMatrixHandle, 1, false, mBitmapSTMatrix, 0)\n\n                if (monochromeBmp != null) {\n\n                    loadTexture(monochromeBmp)\n\n                    GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4)\n                    checkGlError(&quot;glDrawArrays&quot;)\n\n                }\n\n            }\n\n            // finish\n\n            GLES20.glFinish()\n\n        }\n\n    }\n\n    /**\n     * Save Bitmap as Grayscale\n     **/\n\n    private fun convertToBlackWhite(bmp: Bitmap): Bitmap? {\n        val width = bmp.width\n        val height = bmp.height\n        val pixels = IntArray(width * height)\n        bmp.getPixels(pixels, 0, width, 0, 0, width, height)\n        val alpha = 0xFF shl 24 // ?bitmap?24?\n        for (i in 0 until height) {\n            for (j in 0 until width) {\n                var grey = pixels[width * i + j]\n                val red = grey and 0x00FF0000 shr 16\n                val green = grey and 0x0000FF00 shr 8\n                val blue = grey and 0x000000FF\n                grey = (red * 0.3 + green * 0.59 + blue * 0.11).toInt()\n                grey = alpha or (grey shl 16) or (grey shl 8) or grey\n                pixels[width * i + j] = grey\n            }\n        }\n        val newBmp = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565)\n        newBmp.setPixels(pixels, 0, width, 0, 0, width, height)\n        return newBmp\n    }\n\n    /**\n     Rotate Bitmap\n     */\n    fun Bitmap.rotate(degrees: Float): Bitmap {\n        val matrix = android.graphics.Matrix().apply { postRotate(degrees) }\n        return Bitmap.createBitmap(this, 0, 0, width, height, matrix, true)\n    }\n\n    /**\n     * Save Texture as Bitmap\n     **/\n\n    private fun savePixels(x: Int, y: Int, w: Int, h: Int): Bitmap? {\n\n        val b = IntArray(w * (y + h))\n        val bt = IntArray(w * h)\n        val ib: IntBuffer = IntBuffer.wrap(b)\n        ib.position(0)\n        GLES20.glReadPixels(0, 0, w, h, GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, ib)\n        var i = 0\n        var k = 0\n        while (i &lt; h) {\n            //remember, that OpenGL bitmap is incompatible with Android bitmap\n            //and so, some correction need.\n            for (j in 0 until w) {\n                val pix = b[i * w + j]\n                val pb = pix shr 16 and 0xff\n                val pr = pix shl 16 and 0x00ff0000\n                val pix1 = pix and -0xff0100 or pr or pb\n                bt[(h - k - 1) * w + j] = pix1\n            }\n            i++\n            k++\n        }\n        return Bitmap.createBitmap(bt, w, h, Bitmap.Config.ARGB_8888)\n    }\n\n    fun saveImage(finalBitmap: Bitmap) {\n\n        val generator = Random()\n        var n = 10000\n        n = generator.nextInt(n)\n        val fname = &quot;Image-$n.jpg&quot;\n        val file = File(output(fname)!!.path!!)\n        if (file.exists()) file.delete()\n        try {\n            val out = FileOutputStream(file)\n            finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out)\n            out.flush()\n            out.close()\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n    }\n\n    private fun output(fileName: String) : Uri? {\n\n        val root = mainctx!!.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)\n\n        val myDir = File(&quot;$root/Files/&quot;)\n\n        if (!myDir.exists()) {\n\n            Log.d(&quot;TAG&quot;, &quot;$myDir doesn't exist&quot;)\n\n            myDir.mkdirs()\n\n        }\n\n        try {\n\n            val f = File(myDir, fileName)\n\n            if (f.exists()) {\n\n                //println(&quot;File Exists! Deleting&quot;)\n\n                f.delete()\n\n            }\n\n            f.createNewFile()\n\n            // file Uri\n\n            //println(&quot;fileUri: $fileUri&quot;)\n\n            return Uri.fromFile(f)\n\n            // File Saved\n\n        } catch (e: FileNotFoundException) {\n\n            //println(&quot;FileNotFoundException&quot;)\n\n            e.printStackTrace()\n\n            return null\n\n        } catch (e: IOException) {\n\n            //println(&quot;IOException&quot;)\n\n            e.printStackTrace()\n\n            return null\n\n        }\n\n    }\n\n\n    /**\n     * Load Texture from Bitmap\n     **/\n\n    private fun loadTexture(bitmap: Bitmap) {\n\n        println(&quot;loadTexture&quot;)\n\n        // Bind to the texture in OpenGL\n\n        GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, bitmapTextureId)\n\n        // Set filtering\n\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST)\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST)\n\n        // Load the bitmap into the bound texture.\n\n        println(&quot;bitmap: ${bitmap.width} ${bitmap.height}&quot;)\n\n        GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0)\n\n        // check errors\n\n        checkGlError(&quot;texImage2d&quot;);\n\n        // Recycle the bitmap, since its data has been loaded into OpenGL.\n\n        bitmap.recycle()\n\n    }\n\n    /**\n     * Initializes GL state.  Call this after the EGL surface has been created and made current.\n     */\n\n    fun surfaceCreated() {\n\n        println(&quot;surfaceCreated&quot;)\n\n        if (gles == 2) {\n\n            // video shader\n\n            mProgram = createProgram(VERTEX_SHADER, FRAGMENT_SHADER)\n            if (mProgram == 0) {\n                throw RuntimeException(&quot;failed creating program&quot;)\n            }\n            maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;aPosition&quot;)\n            checkGlError(&quot;glGetAttribLocation aPosition&quot;)\n            if (maPositionHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for aPosition&quot;)\n            }\n            maTextureHandle = GLES20.glGetAttribLocation(mProgram, &quot;aTextureCoord&quot;)\n            checkGlError(&quot;glGetAttribLocation aTextureCoord&quot;)\n            if (maTextureHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for aTextureCoord&quot;)\n            }\n            muMVPMatrixHandle = GLES20.glGetUniformLocation(mProgram, &quot;uMVPMatrix&quot;)\n            checkGlError(&quot;glGetUniformLocation uMVPMatrix&quot;)\n            if (muMVPMatrixHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for uMVPMatrix&quot;)\n            }\n            muSTMatrixHandle = GLES20.glGetUniformLocation(mProgram, &quot;uSTMatrix&quot;)\n            checkGlError(&quot;glGetUniformLocation uSTMatrix&quot;)\n            if (muSTMatrixHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for uSTMatrix&quot;)\n            }\n            val textures = IntArray(1)\n            GLES20.glGenTextures(1, textures, 0)\n            textureId = textures[0]\n            GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, textureId)\n            checkGlError(&quot;glBindTexture mTextureID&quot;)\n            GLES20.glTexParameterf(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\n                GLES20.GL_NEAREST.toFloat()\n            )\n            GLES20.glTexParameterf(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\n                GLES20.GL_LINEAR.toFloat()\n            )\n            GLES20.glTexParameteri(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\n                GLES20.GL_CLAMP_TO_EDGE\n            )\n            GLES20.glTexParameteri(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\n                GLES20.GL_CLAMP_TO_EDGE\n            )\n            checkGlError(&quot;glTexParameter&quot;)\n\n            // bitmap shader\n\n            mBitmapProgram = createProgram(VERTEX_SHADER, FRAGMENT_BITMAP_SHADER)\n            if (mBitmapProgram == 0) {\n                throw RuntimeException(&quot;failed creating program&quot;)\n            }\n            mBitmapaPositionHandle = GLES20.glGetAttribLocation(mBitmapProgram, &quot;aPosition&quot;)\n            checkGlError(&quot;glGetAttribLocation aPosition&quot;)\n            if (mBitmapaPositionHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for aPosition&quot;)\n            }\n            mBitmapaTextureHandle = GLES20.glGetAttribLocation(mBitmapProgram, &quot;aTextureCoord&quot;)\n            checkGlError(&quot;glGetAttribLocation aTextureCoord&quot;)\n            if (mBitmapaTextureHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for aTextureCoord&quot;)\n            }\n            mBitmapuMVPMatrixHandle = GLES20.glGetUniformLocation(mBitmapProgram, &quot;uMVPMatrix&quot;)\n            checkGlError(&quot;glGetUniformLocation uMVPMatrix&quot;)\n            if (mBitmapuMVPMatrixHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for uMVPMatrix&quot;)\n            }\n            mBitmapuSTMatrixHandle = GLES20.glGetUniformLocation(mBitmapProgram, &quot;uSTMatrix&quot;)\n            checkGlError(&quot;glGetUniformLocation uSTMatrix&quot;)\n            if (mBitmapuSTMatrixHandle == -1) {\n                throw RuntimeException(&quot;Could not get attrib location for uSTMatrix&quot;)\n            }\n            val bmpTextures = IntArray(1)\n            GLES20.glGenTextures(1, bmpTextures, 0)\n            bitmapTextureId = textures[0]\n            GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, bitmapTextureId)\n            checkGlError(&quot;glBindTexture bitmapTextureId&quot;)\n            GLES20.glTexParameterf(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\n                GLES20.GL_NEAREST.toFloat()\n            )\n            GLES20.glTexParameterf(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\n                GLES20.GL_LINEAR.toFloat()\n            )\n            GLES20.glTexParameteri(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\n                GLES20.GL_CLAMP_TO_EDGE\n            )\n            GLES20.glTexParameteri(\n                GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\n                GLES20.GL_CLAMP_TO_EDGE\n            )\n            checkGlError(&quot;glTexParameter&quot;)\n\n        }\n\n    }\n\n    /**\n     * Replaces the fragment shader.\n     */\n\n    fun changeFragmentShader(fragmentShader: String) {\n\n        if (gles == 2) {\n\n            GLES20.glDeleteProgram(mProgram)\n            mProgram = createProgram(VERTEX_SHADER, fragmentShader)\n            if (mProgram == 0) {\n                throw RuntimeException(&quot;failed creating program&quot;)\n            }\n\n        }\n\n    }\n\n    private fun loadShader(shaderType: Int, source: String): Int {\n\n        if (gles == 2) {\n\n            var shader = GLES20.glCreateShader(shaderType)\n            checkGlError(&quot;glCreateShader type=$shaderType&quot;)\n            GLES20.glShaderSource(shader, source)\n            GLES20.glCompileShader(shader)\n            val compiled = IntArray(1)\n            GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0)\n            if (compiled[0] == 0) {\n                Log.e(TAG, &quot;Could not compile shader $shaderType:&quot;)\n                Log.e(TAG, &quot; &quot; + GLES20.glGetShaderInfoLog(shader))\n                GLES20.glDeleteShader(shader)\n                shader = 0\n            }\n            return shader\n\n        }\n\n    }\n\n    private fun createProgram(vertexSource: String, fragmentSource: String): Int {\n\n        if (gles == 2) {\n\n            val vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource)\n            if (vertexShader == 0) {\n                return 0\n            }\n            val pixelShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource)\n            if (pixelShader == 0) {\n                return 0\n            }\n            var program = GLES20.glCreateProgram()\n            checkGlError(&quot;glCreateProgram&quot;)\n            if (program == 0) {\n                Log.e(TAG, &quot;Could not create program&quot;)\n            }\n            GLES20.glAttachShader(program, vertexShader)\n            checkGlError(&quot;glAttachShader&quot;)\n            GLES20.glAttachShader(program, pixelShader)\n            checkGlError(&quot;glAttachShader&quot;)\n            GLES20.glLinkProgram(program)\n            val linkStatus = IntArray(1)\n            GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linkStatus, 0)\n            if (linkStatus[0] != GLES20.GL_TRUE) {\n                Log.e(TAG, &quot;Could not link program: &quot;)\n                Log.e(TAG, GLES20.glGetProgramInfoLog(program))\n                GLES20.glDeleteProgram(program)\n                program = 0\n            }\n            return program\n\n        }\n\n    }\n\n    fun checkGlError(op: String) {\n\n        if (gles == 2) {\n\n            var error: Int\n            while (GLES20.glGetError().also { error = it } != GLES20.GL_NO_ERROR) {\n                Log.e(TAG, &quot;$op: glError $error&quot;)\n                throw RuntimeException(&quot;$op: glError $error&quot;)\n            }\n\n        }\n\n    }\n\n    companion object {\n        private const val TAG = &quot;TextureRender&quot;\n        private const val FLOAT_SIZE_BYTES = 4\n        private const val TRIANGLE_VERTICES_DATA_STRIDE_BYTES = 5 * FLOAT_SIZE_BYTES\n        private const val TRIANGLE_VERTICES_DATA_POS_OFFSET = 0\n        private const val TRIANGLE_VERTICES_DATA_UV_OFFSET = 3\n        private const val VERTEX_SHADER = &quot;uniform mat4 uMVPMatrix;\\n&quot; +\n                &quot;uniform mat4 uSTMatrix;\\n&quot; +\n                &quot;attribute vec4 aPosition;\\n&quot; +\n                &quot;attribute vec4 aTextureCoord;\\n&quot; +\n                &quot;varying vec2 vTextureCoord;\\n&quot; +\n                &quot;void main() {\\n&quot; +\n                &quot;  gl_Position = uMVPMatrix * aPosition;\\n&quot; +\n                &quot;  vTextureCoord = (uSTMatrix * aTextureCoord).xy;\\n&quot; +\n                &quot;}\\n&quot;\n        private const val FRAGMENT_SHADER = &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\n                &quot;precision mediump float;\\n&quot; +  // highp here doesn't seem to matter\n                &quot;varying vec2 vTextureCoord;\\n&quot; +\n                &quot;uniform samplerExternalOES sTexture;\\n&quot; +\n                &quot;void main() {\\n&quot; +\n                &quot;  gl_FragColor = texture2D(sTexture, vTextureCoord);\\n&quot; +\n                &quot;}\\n&quot;\n        private const val FRAGMENT_BITMAP_SHADER = &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\n                &quot;precision mediump float;\\n&quot; +  // highp here doesn't seem to matter\n                &quot;varying vec2 vTextureCoord;\\n&quot; +\n                &quot;uniform sampler2D uTexture;\\n&quot; +\n                &quot;void main() {\\n&quot; +\n                &quot;  gl_FragColor = texture2D(uTexture, vTextureCoord);\\n&quot; +\n                &quot;}\\n&quot;\n    }\n\n    init {\n        mTriangleVertices = ByteBuffer.allocateDirect(\n            mTriangleVerticesData.size * FLOAT_SIZE_BYTES\n        )\n            .order(ByteOrder.nativeOrder()).asFloatBuffer()\n        mTriangleVertices.put(mTriangleVerticesData).position(0)\n        Matrix.setIdentityM(mSTMatrix, 0)\n\n\n        mBitmapTriangleVertices = ByteBuffer.allocateDirect(\n            mBitmapTriangleVerticesData.size * FLOAT_SIZE_BYTES\n        )\n            .order(ByteOrder.nativeOrder()).asFloatBuffer()\n        mBitmapTriangleVertices.put(mBitmapTriangleVerticesData).position(0)\n        Matrix.setIdentityM(mBitmapSTMatrix, 0)\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6058,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":39642098,"answer_count":2,"score":8,"last_activity_date":1639017580,"creation_date":1474360349,"question_id":39589247,"body_markdown":"I am trying to draw a bitmap as an overlay on every frame of the video. I found an example on how to decode and encode a video and it is working. This example has a TextureRenderer class with a `drawFrame` function that I need to modify in order to add the bitmap. I am newbie to opengl but I learnt that I need to create a texture with the bitmap and bind it. I tried that in the following code but it is throwing an exception.\r\n\r\n    /*\r\n     * Copyright (C) 2013 The Android Open Source Project\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    // from: https://android.googlesource.com/platform/cts/+/lollipop-release/tests/tests/media/src/android/media/cts/TextureRender.java\r\n    // blob: 4125dcfcfed6ed7fddba5b71d657dec0d433da6a\r\n    // modified: removed unused method bodies\r\n    // modified: use GL_LINEAR for GL_TEXTURE_MIN_FILTER to improve quality.\r\n    \r\n    package com.example.name.videoeditortest;\r\n    /**\r\n     * Code for rendering a texture onto a surface using OpenGL ES 2.0.\r\n     */\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.graphics.SurfaceTexture;\r\n    import android.opengl.GLES11Ext;\r\n    import android.opengl.GLES20;\r\n    import android.opengl.GLUtils;\r\n    import android.opengl.Matrix;\r\n    import android.util.Log;\r\n    \r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    import java.nio.FloatBuffer;\r\n    \r\n    /**\r\n     * Code for rendering a texture onto a surface using OpenGL ES 2.0.\r\n     */\r\n    class TextureRender {\r\n        private Bitmap bitmap;\r\n        private static final String TAG = &quot;TextureRender&quot;;\r\n        private static final int FLOAT_SIZE_BYTES = 4;\r\n        private static final int TRIANGLE_VERTICES_DATA_STRIDE_BYTES = 5 * FLOAT_SIZE_BYTES;\r\n        private static final int TRIANGLE_VERTICES_DATA_POS_OFFSET = 0;\r\n        private static final int TRIANGLE_VERTICES_DATA_UV_OFFSET = 3;\r\n        private final float[] mTriangleVerticesData = {\r\n                // X, Y, Z, U, V\r\n                -1.0f, -1.0f, 0, 0.f, 0.f,\r\n                1.0f, -1.0f, 0, 1.f, 0.f,\r\n                -1.0f,  1.0f, 0, 0.f, 1.f,\r\n                1.0f,  1.0f, 0, 1.f, 1.f,\r\n        };\r\n        private FloatBuffer mTriangleVertices;\r\n        private static final String VERTEX_SHADER =\r\n                &quot;uniform mat4 uMVPMatrix;\\n&quot; +\r\n                        &quot;uniform mat4 uSTMatrix;\\n&quot; +\r\n                        &quot;attribute vec4 aPosition;\\n&quot; +\r\n                        &quot;attribute vec4 aTextureCoord;\\n&quot; +\r\n                        &quot;varying vec2 vTextureCoord;\\n&quot; +\r\n                        &quot;void main() {\\n&quot; +\r\n                        &quot;  gl_Position = uMVPMatrix * aPosition;\\n&quot; +\r\n                        &quot;  vTextureCoord = (uSTMatrix * aTextureCoord).xy;\\n&quot; +\r\n                        &quot;}\\n&quot;;\r\n        private static final String FRAGMENT_SHADER =\r\n                &quot;#extension GL_OES_EGL_image_external : require\\n&quot; +\r\n                        &quot;precision mediump float;\\n&quot; +      // highp here doesn&#39;t seem to matter\r\n                        &quot;varying vec2 vTextureCoord;\\n&quot; +\r\n                        &quot;uniform samplerExternalOES sTexture;\\n&quot; +\r\n                        &quot;void main() {\\n&quot; +\r\n                        &quot;  gl_FragColor = texture2D(sTexture, vTextureCoord);\\n&quot; +\r\n                        &quot;}\\n&quot;;\r\n        private float[] mMVPMatrix = new float[16];\r\n        private float[] mSTMatrix = new float[16];\r\n        private int mProgram;\r\n        private int mTextureID = -12345;\r\n        private int mTextureBitmapID = -12345;\r\n        private int muMVPMatrixHandle;\r\n        private int muSTMatrixHandle;\r\n        private int maPositionHandle;\r\n        private int maTextureHandle;\r\n        public TextureRender() {\r\n            mTriangleVertices = ByteBuffer.allocateDirect(\r\n                    mTriangleVerticesData.length * FLOAT_SIZE_BYTES)\r\n                    .order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n            mTriangleVertices.put(mTriangleVerticesData).position(0);\r\n            Matrix.setIdentityM(mSTMatrix, 0);\r\n        }\r\n        public int getTextureId() {\r\n            return mTextureID;\r\n        }\r\n        public void drawFrame(SurfaceTexture st) {\r\n            checkGlError(&quot;onDrawFrame start&quot;);\r\n            st.getTransformMatrix(mSTMatrix);\r\n            GLES20.glClearColor(0.0f, 1.0f, 0.0f, 1.0f);\r\n            GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT | GLES20.GL_COLOR_BUFFER_BIT);\r\n            GLES20.glUseProgram(mProgram);\r\n            checkGlError(&quot;glUseProgram&quot;);\r\n            //Bing textrues\r\n            GLES20.glActiveTexture(GLES20.GL_TEXTURE0);\r\n            GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mTextureID);\r\n            GLES20.glActiveTexture(GLES20.GL_TEXTURE_2D);\r\n            GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mTextureBitmapID);\r\n    \r\n            mTriangleVertices.position(TRIANGLE_VERTICES_DATA_POS_OFFSET);\r\n            GLES20.glVertexAttribPointer(maPositionHandle, 3, GLES20.GL_FLOAT, false,\r\n                    TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices);\r\n            checkGlError(&quot;glVertexAttribPointer maPosition&quot;);\r\n            GLES20.glEnableVertexAttribArray(maPositionHandle);\r\n            checkGlError(&quot;glEnableVertexAttribArray maPositionHandle&quot;);\r\n            mTriangleVertices.position(TRIANGLE_VERTICES_DATA_UV_OFFSET);\r\n            GLES20.glVertexAttribPointer(maTextureHandle, 2, GLES20.GL_FLOAT, false,\r\n                    TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices);\r\n            checkGlError(&quot;glVertexAttribPointer maTextureHandle&quot;);\r\n            GLES20.glEnableVertexAttribArray(maTextureHandle);\r\n            checkGlError(&quot;glEnableVertexAttribArray maTextureHandle&quot;);\r\n            Matrix.setIdentityM(mMVPMatrix, 0);\r\n            GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0);\r\n            GLES20.glUniformMatrix4fv(muSTMatrixHandle, 1, false, mSTMatrix, 0);\r\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4);\r\n            checkGlError(&quot;glDrawArrays&quot;);\r\n            GLES20.glFinish();\r\n        }\r\n        /**\r\n         * Initializes GL state.  Call this after the EGL surface has been created and made current.\r\n         */\r\n        public void surfaceCreated() {\r\n            mProgram = createProgram(VERTEX_SHADER, FRAGMENT_SHADER);\r\n            if (mProgram == 0) {\r\n                throw new RuntimeException(&quot;failed creating program&quot;);\r\n            }\r\n            maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;aPosition&quot;);\r\n            checkGlError(&quot;glGetAttribLocation aPosition&quot;);\r\n            if (maPositionHandle == -1) {\r\n                throw new RuntimeException(&quot;Could not get attrib location for aPosition&quot;);\r\n            }\r\n            maTextureHandle = GLES20.glGetAttribLocation(mProgram, &quot;aTextureCoord&quot;);\r\n            checkGlError(&quot;glGetAttribLocation aTextureCoord&quot;);\r\n            if (maTextureHandle == -1) {\r\n                throw new RuntimeException(&quot;Could not get attrib location for aTextureCoord&quot;);\r\n            }\r\n            muMVPMatrixHandle = GLES20.glGetUniformLocation(mProgram, &quot;uMVPMatrix&quot;);\r\n            checkGlError(&quot;glGetUniformLocation uMVPMatrix&quot;);\r\n            if (muMVPMatrixHandle == -1) {\r\n                throw new RuntimeException(&quot;Could not get attrib location for uMVPMatrix&quot;);\r\n            }\r\n            muSTMatrixHandle = GLES20.glGetUniformLocation(mProgram, &quot;uSTMatrix&quot;);\r\n            checkGlError(&quot;glGetUniformLocation uSTMatrix&quot;);\r\n            if (muSTMatrixHandle == -1) {\r\n                throw new RuntimeException(&quot;Could not get attrib location for uSTMatrix&quot;);\r\n            }\r\n            int[] textures = new int[1];\r\n            GLES20.glGenTextures(1, textures, 0);\r\n            mTextureID = textures[0];\r\n            GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mTextureID);\r\n            checkGlError(&quot;glBindTexture mTextureID&quot;);\r\n            GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\r\n                    GLES20.GL_NEAREST);\r\n            GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\r\n                    GLES20.GL_LINEAR);\r\n            GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\r\n                    GLES20.GL_CLAMP_TO_EDGE);\r\n            GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\r\n                    GLES20.GL_CLAMP_TO_EDGE);\r\n            checkGlError(&quot;glTexParameter&quot;);\r\n    \r\n            mTextureBitmapID = loadBitmapTexture();\r\n        }\r\n    \r\n    \r\n        private int loadBitmapTexture()\r\n        {\r\n            final int[] textureHandle = new int[1];\r\n    \r\n            GLES20.glGenTextures(1, textureHandle, 0);\r\n    \r\n            if (textureHandle[0] != 0)\r\n            {\r\n                // Bind to the texture in OpenGL\r\n                GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0]);\r\n    \r\n                // Set filtering\r\n                GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);\r\n                GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);\r\n    \r\n                // Load the bitmap into the bound texture.\r\n                GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);\r\n            }\r\n    \r\n            if (textureHandle[0] == 0)\r\n            {\r\n                throw new RuntimeException(&quot;Error loading texture.&quot;);\r\n            }\r\n    \r\n            return textureHandle[0];\r\n        }\r\n    \r\n        /**\r\n         * Replaces the fragment shader.\r\n         */\r\n        public void changeFragmentShader(String fragmentShader) {\r\n            GLES20.glDeleteProgram(mProgram);\r\n            mProgram = createProgram(VERTEX_SHADER, fragmentShader);\r\n            if (mProgram == 0) {\r\n                throw new RuntimeException(&quot;failed creating program&quot;);\r\n            }\r\n        }\r\n        private int loadShader(int shaderType, String source) {\r\n            int shader = GLES20.glCreateShader(shaderType);\r\n            checkGlError(&quot;glCreateShader type=&quot; + shaderType);\r\n            GLES20.glShaderSource(shader, source);\r\n            GLES20.glCompileShader(shader);\r\n            int[] compiled = new int[1];\r\n            GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0);\r\n            if (compiled[0] == 0) {\r\n                Log.e(TAG, &quot;Could not compile shader &quot; + shaderType + &quot;:&quot;);\r\n                Log.e(TAG, &quot; &quot; + GLES20.glGetShaderInfoLog(shader));\r\n                GLES20.glDeleteShader(shader);\r\n                shader = 0;\r\n            }\r\n            return shader;\r\n        }\r\n        private int createProgram(String vertexSource, String fragmentSource) {\r\n            int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource);\r\n            if (vertexShader == 0) {\r\n                return 0;\r\n            }\r\n            int pixelShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource);\r\n            if (pixelShader == 0) {\r\n                return 0;\r\n            }\r\n            int program = GLES20.glCreateProgram();\r\n            checkGlError(&quot;glCreateProgram&quot;);\r\n            if (program == 0) {\r\n                Log.e(TAG, &quot;Could not create program&quot;);\r\n            }\r\n            GLES20.glAttachShader(program, vertexShader);\r\n            checkGlError(&quot;glAttachShader&quot;);\r\n            GLES20.glAttachShader(program, pixelShader);\r\n            checkGlError(&quot;glAttachShader&quot;);\r\n            GLES20.glLinkProgram(program);\r\n            int[] linkStatus = new int[1];\r\n            GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linkStatus, 0);\r\n            if (linkStatus[0] != GLES20.GL_TRUE) {\r\n                Log.e(TAG, &quot;Could not link program: &quot;);\r\n                Log.e(TAG, GLES20.glGetProgramInfoLog(program));\r\n                GLES20.glDeleteProgram(program);\r\n                program = 0;\r\n            }\r\n            return program;\r\n        }\r\n        public void checkGlError(String op) {\r\n            int error;\r\n            while ((error = GLES20.glGetError()) != GLES20.GL_NO_ERROR) {\r\n                Log.e(TAG, op + &quot;: glError &quot; + error);\r\n                throw new RuntimeException(op + &quot;: glError &quot; + error);\r\n            }\r\n        }\r\n    \r\n        public void setBitmap(Bitmap bitmap){\r\n            this.bitmap = bitmap;\r\n    \r\n        }\r\n        /**\r\n         * Saves the current frame to disk as a PNG image.  Frame starts from (0,0).\r\n         * &lt;p&gt;\r\n         * Useful for debugging.\r\n         */\r\n        public static void saveFrame(String filename, int width, int height) {\r\n            // glReadPixels gives us a ByteBuffer filled with what is essentially big-endian RGBA\r\n            // data (i.e. a byte of red, followed by a byte of green...).  We need an int[] filled\r\n            // with native-order ARGB data to feed to Bitmap.\r\n            //\r\n            // If we implement this as a series of buf.get() calls, we can spend 2.5 seconds just\r\n            // copying data around for a 720p frame.  It&#39;s better to do a bulk get() and then\r\n            // rearrange the data in memory.  (For comparison, the PNG compress takes about 500ms\r\n            // for a trivial frame.)\r\n            //\r\n            // So... we set the ByteBuffer to little-endian, which should turn the bulk IntBuffer\r\n            // get() into a straight memcpy on most Android devices.  Our ints will hold ABGR data.\r\n            // Swapping B and R gives us ARGB.  We need about 30ms for the bulk get(), and another\r\n            // 270ms for the color swap.\r\n            //\r\n            // Making this even more interesting is the upside-down nature of GL, which means we\r\n            // may want to flip the image vertically here.\r\n            ByteBuffer buf = ByteBuffer.allocateDirect(width * height * 4);\r\n            buf.order(ByteOrder.LITTLE_ENDIAN);\r\n            GLES20.glReadPixels(0, 0, width, height, GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, buf);\r\n            buf.rewind();\r\n            int pixelCount = width * height;\r\n            int[] colors = new int[pixelCount];\r\n            buf.asIntBuffer().get(colors);\r\n            for (int i = 0; i &lt; pixelCount; i++) {\r\n                int c = colors[i];\r\n                colors[i] = (c &amp; 0xff00ff00) | ((c &amp; 0x00ff0000) &gt;&gt; 16) | ((c &amp; 0x000000ff) &lt;&lt; 16);\r\n            }\r\n            FileOutputStream fos = null;\r\n            try {\r\n                fos = new FileOutputStream(filename);\r\n                Bitmap bmp = Bitmap.createBitmap(colors, width, height, Bitmap.Config.ARGB_8888);\r\n                bmp.compress(Bitmap.CompressFormat.PNG, 90, fos);\r\n                bmp.recycle();\r\n            } catch (IOException ioe) {\r\n                throw new RuntimeException(&quot;Failed to write file &quot; + filename, ioe);\r\n            } finally {\r\n                try {\r\n                    if (fos != null) fos.close();\r\n                } catch (IOException ioe2) {\r\n                    throw new RuntimeException(&quot;Failed to close file &quot; + filename, ioe2);\r\n                }\r\n            }\r\n            Log.d(TAG, &quot;Saved &quot; + width + &quot;x&quot; + height + &quot; frame as &#39;&quot; + filename + &quot;&#39;&quot;);\r\n        }\r\n    }  \r\n\r\n\r\nException thrown:\r\n\r\n    E/ExtractDecodeEditEncodeMuxTest: error while releasing muxer\r\n                                       java.lang.IllegalStateException: Can&#39;t stop due to wrong state.\r\n                                       at android.media.MediaMuxer.stop(MediaMuxer.java:231)\r\n                                       at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.extractDecodeEditEncodeMux(ExtractDecodeEditEncodeMuxTest.java 434)\r\n                                       at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.access$000(ExtractDecodeEditEncodeMuxTest.java:58)\r\n                                       at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest$TestWrapper.run(ExtractDecodeEditEncodeMuxTest.java:171)\r\n                                       at java.lang.Thread.run(Thread.java:841)\r\n\r\n\r\nIf I comment `GLES20.glActiveTexture(GLES20.GL_TEXTURE_2D);` in the drawFrame the video is rendered correctly but with not bitmap. If I comment `GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mTextureBitmapID);` in the drawFrame I get the following exception:\r\n\r\n    java.lang.RuntimeException: glVertexAttribPointer maPosition: glError 1280\r\n    at com.example.name.videoeditortest.TextureRender.checkGlError(TextureRender.java:259)\r\n    at com.example.name.videoeditortest.TextureRender.drawFrame(TextureRender.java:111)\r\n    at com.example.name.videoeditortest.OutputSurface.drawImage(OutputSurface.java:252)\r\n    at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.doExtractDecodeEditEncodeMux(ExtractDecodeEditEncodeMuxTest.java:793)\r\n    at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.extractDecodeEditEncodeMux(ExtractDecodeEditEncodeMuxTest.java:341)\r\n    at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.access$000(ExtractDecodeEditEncodeMuxTest.java:58)\r\n    at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest$TestWrapper.run(ExtractDecodeEditEncodeMuxTest.java:171)\r\n    at java.lang.Thread.run(Thread.java:841)","title":"Opengl es 2.0 draw bitmap overlay on video","body":"<p>I am trying to draw a bitmap as an overlay on every frame of the video. I found an example on how to decode and encode a video and it is working. This example has a TextureRenderer class with a <code>drawFrame</code> function that I need to modify in order to add the bitmap. I am newbie to opengl but I learnt that I need to create a texture with the bitmap and bind it. I tried that in the following code but it is throwing an exception.</p>\n\n<pre><code>/*\n * Copyright (C) 2013 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// from: https://android.googlesource.com/platform/cts/+/lollipop-release/tests/tests/media/src/android/media/cts/TextureRender.java\n// blob: 4125dcfcfed6ed7fddba5b71d657dec0d433da6a\n// modified: removed unused method bodies\n// modified: use GL_LINEAR for GL_TEXTURE_MIN_FILTER to improve quality.\n\npackage com.example.name.videoeditortest;\n/**\n * Code for rendering a texture onto a surface using OpenGL ES 2.0.\n */\n\nimport android.graphics.Bitmap;\nimport android.graphics.SurfaceTexture;\nimport android.opengl.GLES11Ext;\nimport android.opengl.GLES20;\nimport android.opengl.GLUtils;\nimport android.opengl.Matrix;\nimport android.util.Log;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\n\n/**\n * Code for rendering a texture onto a surface using OpenGL ES 2.0.\n */\nclass TextureRender {\n    private Bitmap bitmap;\n    private static final String TAG = \"TextureRender\";\n    private static final int FLOAT_SIZE_BYTES = 4;\n    private static final int TRIANGLE_VERTICES_DATA_STRIDE_BYTES = 5 * FLOAT_SIZE_BYTES;\n    private static final int TRIANGLE_VERTICES_DATA_POS_OFFSET = 0;\n    private static final int TRIANGLE_VERTICES_DATA_UV_OFFSET = 3;\n    private final float[] mTriangleVerticesData = {\n            // X, Y, Z, U, V\n            -1.0f, -1.0f, 0, 0.f, 0.f,\n            1.0f, -1.0f, 0, 1.f, 0.f,\n            -1.0f,  1.0f, 0, 0.f, 1.f,\n            1.0f,  1.0f, 0, 1.f, 1.f,\n    };\n    private FloatBuffer mTriangleVertices;\n    private static final String VERTEX_SHADER =\n            \"uniform mat4 uMVPMatrix;\\n\" +\n                    \"uniform mat4 uSTMatrix;\\n\" +\n                    \"attribute vec4 aPosition;\\n\" +\n                    \"attribute vec4 aTextureCoord;\\n\" +\n                    \"varying vec2 vTextureCoord;\\n\" +\n                    \"void main() {\\n\" +\n                    \"  gl_Position = uMVPMatrix * aPosition;\\n\" +\n                    \"  vTextureCoord = (uSTMatrix * aTextureCoord).xy;\\n\" +\n                    \"}\\n\";\n    private static final String FRAGMENT_SHADER =\n            \"#extension GL_OES_EGL_image_external : require\\n\" +\n                    \"precision mediump float;\\n\" +      // highp here doesn't seem to matter\n                    \"varying vec2 vTextureCoord;\\n\" +\n                    \"uniform samplerExternalOES sTexture;\\n\" +\n                    \"void main() {\\n\" +\n                    \"  gl_FragColor = texture2D(sTexture, vTextureCoord);\\n\" +\n                    \"}\\n\";\n    private float[] mMVPMatrix = new float[16];\n    private float[] mSTMatrix = new float[16];\n    private int mProgram;\n    private int mTextureID = -12345;\n    private int mTextureBitmapID = -12345;\n    private int muMVPMatrixHandle;\n    private int muSTMatrixHandle;\n    private int maPositionHandle;\n    private int maTextureHandle;\n    public TextureRender() {\n        mTriangleVertices = ByteBuffer.allocateDirect(\n                mTriangleVerticesData.length * FLOAT_SIZE_BYTES)\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\n        mTriangleVertices.put(mTriangleVerticesData).position(0);\n        Matrix.setIdentityM(mSTMatrix, 0);\n    }\n    public int getTextureId() {\n        return mTextureID;\n    }\n    public void drawFrame(SurfaceTexture st) {\n        checkGlError(\"onDrawFrame start\");\n        st.getTransformMatrix(mSTMatrix);\n        GLES20.glClearColor(0.0f, 1.0f, 0.0f, 1.0f);\n        GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT | GLES20.GL_COLOR_BUFFER_BIT);\n        GLES20.glUseProgram(mProgram);\n        checkGlError(\"glUseProgram\");\n        //Bing textrues\n        GLES20.glActiveTexture(GLES20.GL_TEXTURE0);\n        GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mTextureID);\n        GLES20.glActiveTexture(GLES20.GL_TEXTURE_2D);\n        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mTextureBitmapID);\n\n        mTriangleVertices.position(TRIANGLE_VERTICES_DATA_POS_OFFSET);\n        GLES20.glVertexAttribPointer(maPositionHandle, 3, GLES20.GL_FLOAT, false,\n                TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices);\n        checkGlError(\"glVertexAttribPointer maPosition\");\n        GLES20.glEnableVertexAttribArray(maPositionHandle);\n        checkGlError(\"glEnableVertexAttribArray maPositionHandle\");\n        mTriangleVertices.position(TRIANGLE_VERTICES_DATA_UV_OFFSET);\n        GLES20.glVertexAttribPointer(maTextureHandle, 2, GLES20.GL_FLOAT, false,\n                TRIANGLE_VERTICES_DATA_STRIDE_BYTES, mTriangleVertices);\n        checkGlError(\"glVertexAttribPointer maTextureHandle\");\n        GLES20.glEnableVertexAttribArray(maTextureHandle);\n        checkGlError(\"glEnableVertexAttribArray maTextureHandle\");\n        Matrix.setIdentityM(mMVPMatrix, 0);\n        GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0);\n        GLES20.glUniformMatrix4fv(muSTMatrixHandle, 1, false, mSTMatrix, 0);\n        GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 4);\n        checkGlError(\"glDrawArrays\");\n        GLES20.glFinish();\n    }\n    /**\n     * Initializes GL state.  Call this after the EGL surface has been created and made current.\n     */\n    public void surfaceCreated() {\n        mProgram = createProgram(VERTEX_SHADER, FRAGMENT_SHADER);\n        if (mProgram == 0) {\n            throw new RuntimeException(\"failed creating program\");\n        }\n        maPositionHandle = GLES20.glGetAttribLocation(mProgram, \"aPosition\");\n        checkGlError(\"glGetAttribLocation aPosition\");\n        if (maPositionHandle == -1) {\n            throw new RuntimeException(\"Could not get attrib location for aPosition\");\n        }\n        maTextureHandle = GLES20.glGetAttribLocation(mProgram, \"aTextureCoord\");\n        checkGlError(\"glGetAttribLocation aTextureCoord\");\n        if (maTextureHandle == -1) {\n            throw new RuntimeException(\"Could not get attrib location for aTextureCoord\");\n        }\n        muMVPMatrixHandle = GLES20.glGetUniformLocation(mProgram, \"uMVPMatrix\");\n        checkGlError(\"glGetUniformLocation uMVPMatrix\");\n        if (muMVPMatrixHandle == -1) {\n            throw new RuntimeException(\"Could not get attrib location for uMVPMatrix\");\n        }\n        muSTMatrixHandle = GLES20.glGetUniformLocation(mProgram, \"uSTMatrix\");\n        checkGlError(\"glGetUniformLocation uSTMatrix\");\n        if (muSTMatrixHandle == -1) {\n            throw new RuntimeException(\"Could not get attrib location for uSTMatrix\");\n        }\n        int[] textures = new int[1];\n        GLES20.glGenTextures(1, textures, 0);\n        mTextureID = textures[0];\n        GLES20.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mTextureID);\n        checkGlError(\"glBindTexture mTextureID\");\n        GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MIN_FILTER,\n                GLES20.GL_NEAREST);\n        GLES20.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_MAG_FILTER,\n                GLES20.GL_LINEAR);\n        GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_S,\n                GLES20.GL_CLAMP_TO_EDGE);\n        GLES20.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES20.GL_TEXTURE_WRAP_T,\n                GLES20.GL_CLAMP_TO_EDGE);\n        checkGlError(\"glTexParameter\");\n\n        mTextureBitmapID = loadBitmapTexture();\n    }\n\n\n    private int loadBitmapTexture()\n    {\n        final int[] textureHandle = new int[1];\n\n        GLES20.glGenTextures(1, textureHandle, 0);\n\n        if (textureHandle[0] != 0)\n        {\n            // Bind to the texture in OpenGL\n            GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0]);\n\n            // Set filtering\n            GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);\n            GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);\n\n            // Load the bitmap into the bound texture.\n            GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);\n        }\n\n        if (textureHandle[0] == 0)\n        {\n            throw new RuntimeException(\"Error loading texture.\");\n        }\n\n        return textureHandle[0];\n    }\n\n    /**\n     * Replaces the fragment shader.\n     */\n    public void changeFragmentShader(String fragmentShader) {\n        GLES20.glDeleteProgram(mProgram);\n        mProgram = createProgram(VERTEX_SHADER, fragmentShader);\n        if (mProgram == 0) {\n            throw new RuntimeException(\"failed creating program\");\n        }\n    }\n    private int loadShader(int shaderType, String source) {\n        int shader = GLES20.glCreateShader(shaderType);\n        checkGlError(\"glCreateShader type=\" + shaderType);\n        GLES20.glShaderSource(shader, source);\n        GLES20.glCompileShader(shader);\n        int[] compiled = new int[1];\n        GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0);\n        if (compiled[0] == 0) {\n            Log.e(TAG, \"Could not compile shader \" + shaderType + \":\");\n            Log.e(TAG, \" \" + GLES20.glGetShaderInfoLog(shader));\n            GLES20.glDeleteShader(shader);\n            shader = 0;\n        }\n        return shader;\n    }\n    private int createProgram(String vertexSource, String fragmentSource) {\n        int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource);\n        if (vertexShader == 0) {\n            return 0;\n        }\n        int pixelShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource);\n        if (pixelShader == 0) {\n            return 0;\n        }\n        int program = GLES20.glCreateProgram();\n        checkGlError(\"glCreateProgram\");\n        if (program == 0) {\n            Log.e(TAG, \"Could not create program\");\n        }\n        GLES20.glAttachShader(program, vertexShader);\n        checkGlError(\"glAttachShader\");\n        GLES20.glAttachShader(program, pixelShader);\n        checkGlError(\"glAttachShader\");\n        GLES20.glLinkProgram(program);\n        int[] linkStatus = new int[1];\n        GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linkStatus, 0);\n        if (linkStatus[0] != GLES20.GL_TRUE) {\n            Log.e(TAG, \"Could not link program: \");\n            Log.e(TAG, GLES20.glGetProgramInfoLog(program));\n            GLES20.glDeleteProgram(program);\n            program = 0;\n        }\n        return program;\n    }\n    public void checkGlError(String op) {\n        int error;\n        while ((error = GLES20.glGetError()) != GLES20.GL_NO_ERROR) {\n            Log.e(TAG, op + \": glError \" + error);\n            throw new RuntimeException(op + \": glError \" + error);\n        }\n    }\n\n    public void setBitmap(Bitmap bitmap){\n        this.bitmap = bitmap;\n\n    }\n    /**\n     * Saves the current frame to disk as a PNG image.  Frame starts from (0,0).\n     * &lt;p&gt;\n     * Useful for debugging.\n     */\n    public static void saveFrame(String filename, int width, int height) {\n        // glReadPixels gives us a ByteBuffer filled with what is essentially big-endian RGBA\n        // data (i.e. a byte of red, followed by a byte of green...).  We need an int[] filled\n        // with native-order ARGB data to feed to Bitmap.\n        //\n        // If we implement this as a series of buf.get() calls, we can spend 2.5 seconds just\n        // copying data around for a 720p frame.  It's better to do a bulk get() and then\n        // rearrange the data in memory.  (For comparison, the PNG compress takes about 500ms\n        // for a trivial frame.)\n        //\n        // So... we set the ByteBuffer to little-endian, which should turn the bulk IntBuffer\n        // get() into a straight memcpy on most Android devices.  Our ints will hold ABGR data.\n        // Swapping B and R gives us ARGB.  We need about 30ms for the bulk get(), and another\n        // 270ms for the color swap.\n        //\n        // Making this even more interesting is the upside-down nature of GL, which means we\n        // may want to flip the image vertically here.\n        ByteBuffer buf = ByteBuffer.allocateDirect(width * height * 4);\n        buf.order(ByteOrder.LITTLE_ENDIAN);\n        GLES20.glReadPixels(0, 0, width, height, GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, buf);\n        buf.rewind();\n        int pixelCount = width * height;\n        int[] colors = new int[pixelCount];\n        buf.asIntBuffer().get(colors);\n        for (int i = 0; i &lt; pixelCount; i++) {\n            int c = colors[i];\n            colors[i] = (c &amp; 0xff00ff00) | ((c &amp; 0x00ff0000) &gt;&gt; 16) | ((c &amp; 0x000000ff) &lt;&lt; 16);\n        }\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(filename);\n            Bitmap bmp = Bitmap.createBitmap(colors, width, height, Bitmap.Config.ARGB_8888);\n            bmp.compress(Bitmap.CompressFormat.PNG, 90, fos);\n            bmp.recycle();\n        } catch (IOException ioe) {\n            throw new RuntimeException(\"Failed to write file \" + filename, ioe);\n        } finally {\n            try {\n                if (fos != null) fos.close();\n            } catch (IOException ioe2) {\n                throw new RuntimeException(\"Failed to close file \" + filename, ioe2);\n            }\n        }\n        Log.d(TAG, \"Saved \" + width + \"x\" + height + \" frame as '\" + filename + \"'\");\n    }\n}  \n</code></pre>\n\n<p>Exception thrown:</p>\n\n<pre><code>E/ExtractDecodeEditEncodeMuxTest: error while releasing muxer\n                                   java.lang.IllegalStateException: Can't stop due to wrong state.\n                                   at android.media.MediaMuxer.stop(MediaMuxer.java:231)\n                                   at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.extractDecodeEditEncodeMux(ExtractDecodeEditEncodeMuxTest.java 434)\n                                   at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.access$000(ExtractDecodeEditEncodeMuxTest.java:58)\n                                   at com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest$TestWrapper.run(ExtractDecodeEditEncodeMuxTest.java:171)\n                                   at java.lang.Thread.run(Thread.java:841)\n</code></pre>\n\n<p>If I comment <code>GLES20.glActiveTexture(GLES20.GL_TEXTURE_2D);</code> in the drawFrame the video is rendered correctly but with not bitmap. If I comment <code>GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mTextureBitmapID);</code> in the drawFrame I get the following exception:</p>\n\n<pre><code>java.lang.RuntimeException: glVertexAttribPointer maPosition: glError 1280\nat com.example.name.videoeditortest.TextureRender.checkGlError(TextureRender.java:259)\nat com.example.name.videoeditortest.TextureRender.drawFrame(TextureRender.java:111)\nat com.example.name.videoeditortest.OutputSurface.drawImage(OutputSurface.java:252)\nat com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.doExtractDecodeEditEncodeMux(ExtractDecodeEditEncodeMuxTest.java:793)\nat com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.extractDecodeEditEncodeMux(ExtractDecodeEditEncodeMuxTest.java:341)\nat com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest.access$000(ExtractDecodeEditEncodeMuxTest.java:58)\nat com.example.name.videoeditortest.ExtractDecodeEditEncodeMuxTest$TestWrapper.run(ExtractDecodeEditEncodeMuxTest.java:171)\nat java.lang.Thread.run(Thread.java:841)\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-fragment-manager"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1639012535,"post_id":70281025,"comment_id":124242533,"body_markdown":"it&#39;s because you are referencing different spinner which is not in your fragment_book. change this line  spinner = (Spinner) view.findViewById(R.id.spinner2);","body":"it&#39;s because you are referencing different spinner which is not in your fragment_book. change this line  spinner = (Spinner) view.findViewById(R.id.spinner2);"}],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639016490,"creation_date":1639016490,"answer_id":70284000,"question_id":70281025,"body_markdown":"     @Override\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                            Bundle savedInstanceState) {\r\n       // Inflate the layout for this fragment\r\n       View view = inflater.inflate(R.layout.fragment_book, container, false);\r\n       fillData();\r\n       spinner = (Spinner) view.findViewById(R.id.spinner2);\r\n        ArrayList&lt;String&gt; hotelsNames = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; hotelsList.size(); i++) {\r\n            hotelsNames.add(hotelsList.get(i).getName());\r\n        }\r\n\r\n\r\n       hotelsArrayAdapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_spinner_item, hotelsNames);\r\n\r\n       hotelsArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n       spinner.setAdapter(hotelsArrayAdapter);\r\n       spinner.setOnItemSelectedListener(this);\r\n\r\n       //return inflater.inflate(R.layout.fragment_book, container, false);\r\n       return view;\r\n    }\r\n\r\nAnd, change your ArrayAdapter Types to String from Hotels as it will return hotels names rather than hotel objects.i.e.\r\n\r\n    ArrayAdapter&lt;Hotels&gt; hotelsArrayAdapter /*change this line to*/ -&gt;  ArrayAdapter&lt;String&gt; hotelsArrayAdapter /*this one*/","title":"I&#39;m trying to create a spinner in a Fragment and fill it using ArrayList but the app keeps crashing","body":"<pre><code> @Override\n public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                        Bundle savedInstanceState) {\n   // Inflate the layout for this fragment\n   View view = inflater.inflate(R.layout.fragment_book, container, false);\n   fillData();\n   spinner = (Spinner) view.findViewById(R.id.spinner2);\n    ArrayList&lt;String&gt; hotelsNames = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; hotelsList.size(); i++) {\n        hotelsNames.add(hotelsList.get(i).getName());\n    }\n\n\n   hotelsArrayAdapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_spinner_item, hotelsNames);\n\n   hotelsArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n   spinner.setAdapter(hotelsArrayAdapter);\n   spinner.setOnItemSelectedListener(this);\n\n   //return inflater.inflate(R.layout.fragment_book, container, false);\n   return view;\n}\n</code></pre>\n<p>And, change your ArrayAdapter Types to String from Hotels as it will return hotels names rather than hotel objects.i.e.</p>\n<pre><code>ArrayAdapter&lt;Hotels&gt; hotelsArrayAdapter /*change this line to*/ -&gt;  ArrayAdapter&lt;String&gt; hotelsArrayAdapter /*this one*/\n</code></pre>\n"}],"owner":{"account_id":22972979,"reputation":1,"user_id":17101027,"display_name":"Simranjit Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639016490,"creation_date":1638993681,"question_id":70281025,"body_markdown":"This is my first time using Fragments in Android and I&#39;m trying to create a spinner and fill it using an ArrayList. My app has 3 buttons on the main screen, the first button replaces the FrameLayout in the activity with this fragment but as soon as I press it the app crashes.\r\nI have to make two other fragments but I can&#39;t even make this one work first!\r\nThis is for a project.\r\nPlease help. I&#39;m including the XML and JAVA for the fragment down below.\r\n\r\nThanks in advance.\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Book&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;BOOK HOTELS&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Display1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.037&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spinner2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;47dp&quot;\r\n        android:layout_marginTop=&quot;135dp&quot;\r\n        android:layout_marginEnd=&quot;316dp&quot;\r\n        android:layout_marginBottom=&quot;572dp&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nJAVA:\r\n\r\n ```\r\npackage com.example.hotelfragmentexercise;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Spinner;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Book extends Fragment implements AdapterView.OnItemSelectedListener {\r\n    Spinner spinner;\r\n    ArrayList&lt;Hotels&gt; hotelsList = new ArrayList&lt;&gt;();\r\n    ArrayAdapter&lt;Hotels&gt; hotelsArrayAdapter;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_book, container, false);\r\n        fillData();\r\n        spinner = (Spinner) view.findViewById(R.id.spinner);\r\n\r\n        hotelsArrayAdapter = new ArrayAdapter&lt;Hotels&gt;(getActivity(), android.R.layout.simple_spinner_item, hotelsList);\r\n\r\n        hotelsArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(hotelsArrayAdapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n\r\n        //return inflater.inflate(R.layout.fragment_book, container, false);\r\n        return view;\r\n    }\r\n\r\n    public void fillData(){\r\n        hotelsList.add(new Hotels(&quot;Town Inn Suites&quot;, &quot;The Town Inn Suites is centrally located in downtown Toronto. Close to the shops of Bloor and only steps away from transportation at Bloor and Yonge.&quot;, 233.99));\r\n        hotelsList.add(new Hotels(&quot;Times Square Suites Hotel&quot;, &quot;Times Square Suites apartment-style hotel has been pleasing business travelers, couples and families for many years. Each of the 42 suites has a full kitchen,washer/dryer, fireplace, HD TV and blu ray player.&quot;, 294.78));\r\n        hotelsList.add(new Hotels(&quot;Best Western The Westerly Hotel&quot;, &quot;Courtenay&#39;s Only Full-Service Hotel Centrally Located in the Heart of the Comox Valley our location offers convenient access to all that Comox Valley has to offer. Our property features 66 guestrooms, inclusive of our 36 room Mountainside wing. &quot;, 213.71));\r\n        hotelsList.add(new Hotels(&quot;YMCA Hotel Vancouver&quot;, &quot;YWCA Hotel Vancouver offers a warm welcome to all travellers and is a comfortable, safe and affordable place to stay at the heart of downtown&#39;s arts and entertainment scene. All rooms are private and theres a choice to suit your needs and budget - from single rooms to quints.&quot;, 133.84));\r\n        hotelsList.add(new Hotels(&quot;Grand Inn &amp; Residence&quot;, &quot;Settle in for a relaxing, just-like-home experience at one of Grande Prairies premier all-suite, extended stay hotels - Podollan Rez-idence. Designed and built to meet the needs of todays discerning traveller, our all-suite property features beautifully appointed studio, one- and two-bedroom suites with fully equipped kitchens, and luxury living rooms with leather furnishings and wood floors.&quot;, 201.53));\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"I&#39;m trying to create a spinner in a Fragment and fill it using ArrayList but the app keeps crashing","body":"<p>This is my first time using Fragments in Android and I'm trying to create a spinner and fill it using an ArrayList. My app has 3 buttons on the main screen, the first button replaces the FrameLayout in the activity with this fragment but as soon as I press it the app crashes.\nI have to make two other fragments but I can't even make this one work first!\nThis is for a project.\nPlease help. I'm including the XML and JAVA for the fragment down below.</p>\n<p>Thanks in advance.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Book&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;BOOK HOTELS&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Display1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.037&quot; /&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spinner2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;47dp&quot;\n        android:layout_marginTop=&quot;135dp&quot;\n        android:layout_marginEnd=&quot;316dp&quot;\n        android:layout_marginBottom=&quot;572dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>package com.example.hotelfragmentexercise;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Spinner;\n\nimport java.util.ArrayList;\n\npublic class Book extends Fragment implements AdapterView.OnItemSelectedListener {\n   Spinner spinner;\n   ArrayList&lt;Hotels&gt; hotelsList = new ArrayList&lt;&gt;();\n   ArrayAdapter&lt;Hotels&gt; hotelsArrayAdapter;\n\n   @Override\n   public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                            Bundle savedInstanceState) {\n       // Inflate the layout for this fragment\n       View view = inflater.inflate(R.layout.fragment_book, container, false);\n       fillData();\n       spinner = (Spinner) view.findViewById(R.id.spinner);\n\n       hotelsArrayAdapter = new ArrayAdapter&lt;Hotels&gt;(getActivity(), android.R.layout.simple_spinner_item, hotelsList);\n\n       hotelsArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n       spinner.setAdapter(hotelsArrayAdapter);\n       spinner.setOnItemSelectedListener(this);\n\n       //return inflater.inflate(R.layout.fragment_book, container, false);\n       return view;\n   }\n\n   public void fillData(){\n       hotelsList.add(new Hotels(&quot;Town Inn Suites&quot;, &quot;The Town Inn Suites is centrally located in downtown Toronto. Close to the shops of Bloor and only steps away from transportation at Bloor and Yonge.&quot;, 233.99));\n       hotelsList.add(new Hotels(&quot;Times Square Suites Hotel&quot;, &quot;Times Square Suites apartment-style hotel has been pleasing business travelers, couples and families for many years. Each of the 42 suites has a full kitchen,washer/dryer, fireplace, HD TV and blu ray player.&quot;, 294.78));\n       hotelsList.add(new Hotels(&quot;Best Western The Westerly Hotel&quot;, &quot;Courtenay's Only Full-Service Hotel Centrally Located in the Heart of the Comox Valley our location offers convenient access to all that Comox Valley has to offer. Our property features 66 guestrooms, inclusive of our 36 room Mountainside wing. &quot;, 213.71));\n       hotelsList.add(new Hotels(&quot;YMCA Hotel Vancouver&quot;, &quot;YWCA Hotel Vancouver offers a warm welcome to all travellers and is a comfortable, safe and affordable place to stay at the heart of downtown's arts and entertainment scene. All rooms are private and theres a choice to suit your needs and budget - from single rooms to quints.&quot;, 133.84));\n       hotelsList.add(new Hotels(&quot;Grand Inn &amp; Residence&quot;, &quot;Settle in for a relaxing, just-like-home experience at one of Grande Prairies premier all-suite, extended stay hotels - Podollan Rez-idence. Designed and built to meet the needs of todays discerning traveller, our all-suite property features beautifully appointed studio, one- and two-bedroom suites with fully equipped kitchens, and luxury living rooms with leather furnishings and wood floors.&quot;, 201.53));\n   }\n\n   @Override\n   public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n   }\n\n   @Override\n   public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n   }\n}\n</code></pre>\n"},{"tags":["java","data-structures","tree"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":3,"creation_date":1639019109,"post_id":70283987,"comment_id":124243573,"body_markdown":"A tree *is* a data structure where each node is a tree itself.","body":"A tree <i>is</i> a data structure where each node is a tree itself."},{"owner":{"account_id":23593711,"reputation":1,"user_id":17631102,"display_name":"Wes Cox"},"score":0,"creation_date":1639022373,"post_id":70283987,"comment_id":124244041,"body_markdown":"Sorry, what I mean is can each node in a tree store a separate tree?","body":"Sorry, what I mean is can each node in a tree store a separate tree?"},{"owner":{"display_name":"user12392751"},"score":0,"creation_date":1639022916,"post_id":70283987,"comment_id":124244120,"body_markdown":"Each node would be the root for the subtree that branches from that node.","body":"Each node would be the root for the subtree that branches from that node."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1639035916,"post_id":70283987,"comment_id":124246755,"body_markdown":"A node can store any object. There is no limitation. So, yes, why not?","body":"A node can store any object. There is no limitation. So, yes, why not?"}],"owner":{"account_id":23593711,"reputation":1,"user_id":17631102,"display_name":"Wes Cox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639016382,"creation_date":1639016382,"question_id":70283987,"body_markdown":"In Java can you have a Tree data structure where each node is a tree itself? Would the tree of tree&#39;s then be organized by the head node of the different tree&#39;s?","title":"Data Structure Tree of Tree&#39;s","body":"<p>In Java can you have a Tree data structure where each node is a tree itself? Would the tree of tree's then be organized by the head node of the different tree's?</p>\n"},{"tags":["java","retrofit2","okhttp","junit5","mockwebserver"],"answers":[{"tags":[],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639016151,"creation_date":1639016151,"answer_id":70283962,"question_id":70104045,"body_markdown":"I ended up using the Dispatcher to check the path of the request.\r\nIf the path ends in &quot;get-orders&quot;, I send mocked response for Orders otherwise for cancel orders.\r\n\r\n    Dispatcher dispatcher = (request) -&gt; {\r\n      if( request.getPath().endsWith(&quot;get-orders&quot;){\r\n         return mock response for orders\r\n    \r\n      }else if( request.getPath().endsWith(&quot;cxl-orders&quot;){\r\n         return mock response for cancel orders\r\n      }\r\n    }\r\n    \r\n    mockServer.setDispatcher(dispatcher);\r\n\r\n","title":"Mocking nested retrofit api calls using MockWebServer","body":"<p>I ended up using the Dispatcher to check the path of the request.\nIf the path ends in &quot;get-orders&quot;, I send mocked response for Orders otherwise for cancel orders.</p>\n<pre><code>Dispatcher dispatcher = (request) -&gt; {\n  if( request.getPath().endsWith(&quot;get-orders&quot;){\n     return mock response for orders\n\n  }else if( request.getPath().endsWith(&quot;cxl-orders&quot;){\n     return mock response for cancel orders\n  }\n}\n\nmockServer.setDispatcher(dispatcher);\n</code></pre>\n"}],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70283962,"answer_count":1,"score":0,"last_activity_date":1639016151,"creation_date":1637795696,"question_id":70104045,"body_markdown":"I am writing a junit test using okhttp3.mockwebserver for a retrofit2 rest api.\r\n\r\nThe trimmed down api looks like this:\r\n\r\n    public interface MyApi{\r\n        @POST(&quot;/api/get-orders&quot;)\r\n        retrofit2.Response&lt;Set&lt;String&gt;&gt; getOrders();\r\n    \r\n        @POST(&quot;/api/cxl-order&quot;)\r\n        retrofit2.Response&lt;String&gt; cancelOrder(String ordeId);\r\n    }\r\n\r\nThe api is then injected to another class which delegates the calls thusly:\r\n\r\n        public class MyExchange{\r\n        \r\n         private final MyApi api;\r\n         \r\n         public MyExchange(MyApi api){\r\n              this.api = api;\r\n         }\r\n        \r\n         public final Set&lt;String&gt; getOrders(){\r\n             Response&lt;Set&lt;String&gt;&gt; resp = api.getOrders();\r\n             //parse the response \r\n             Set&lt;String&gt; result = parse( resp );\r\n             return result;\r\n         }\r\n        \r\n        \r\n         public final boolean cancelOrder( String orderId ){\r\n           api.cancelOrder( orderId );\r\n        \r\n           //Nested Call\r\n           Set&lt;String&gt; orders = getOrders();\r\n           return !orders.contains(orderId);\r\n        }\r\n    }\r\n\r\n   \r\n I do the following in my test:\r\n\r\n     @Test\r\n      public void cancel_order(){\r\n          MockWebServer server = new MockWebServer();\r\n          server.start();\r\n    \r\n          String orderId =&quot;OrderId_123&quot;;\r\n          MyApi mockApi = new Retrofit.Builder().baseUrl(&quot;/&quot;).build().create(MyApi.class);\r\n          MyExchange exchange = new MyExchange(mockApi);\r\n    \r\n          server.enqueue( new MockResponse().setResponseCode(HttpURLConnection.HTTP_OK, orderId));\r\n          server.enqueue( new MockResponse().setResponseCode(HttpURLConnection.HTTP_OK, Set.of()));\r\n    \r\n          exchange.cancelOrder(orderId);\r\n    }    \r\n\r\nBecause the implementation of cancelOrder() calls **api.cancelOrder()** and then **api.getOrders()**, I added two mocked responses corresponding to each. However, looks like only the first mocked responses gets returned. For the second (getOrders), the mock server actually tries to connect over REST and then fails by timing out.\r\n\r\nAny ideas as to how to mock responses for nested calls? \r\n\r\nCheers!\r\n","title":"Mocking nested retrofit api calls using MockWebServer","body":"<p>I am writing a junit test using okhttp3.mockwebserver for a retrofit2 rest api.</p>\n<p>The trimmed down api looks like this:</p>\n<pre><code>public interface MyApi{\n    @POST(&quot;/api/get-orders&quot;)\n    retrofit2.Response&lt;Set&lt;String&gt;&gt; getOrders();\n\n    @POST(&quot;/api/cxl-order&quot;)\n    retrofit2.Response&lt;String&gt; cancelOrder(String ordeId);\n}\n</code></pre>\n<p>The api is then injected to another class which delegates the calls thusly:</p>\n<pre><code>    public class MyExchange{\n    \n     private final MyApi api;\n     \n     public MyExchange(MyApi api){\n          this.api = api;\n     }\n    \n     public final Set&lt;String&gt; getOrders(){\n         Response&lt;Set&lt;String&gt;&gt; resp = api.getOrders();\n         //parse the response \n         Set&lt;String&gt; result = parse( resp );\n         return result;\n     }\n    \n    \n     public final boolean cancelOrder( String orderId ){\n       api.cancelOrder( orderId );\n    \n       //Nested Call\n       Set&lt;String&gt; orders = getOrders();\n       return !orders.contains(orderId);\n    }\n}\n</code></pre>\n<p>I do the following in my test:</p>\n<pre><code> @Test\n  public void cancel_order(){\n      MockWebServer server = new MockWebServer();\n      server.start();\n\n      String orderId =&quot;OrderId_123&quot;;\n      MyApi mockApi = new Retrofit.Builder().baseUrl(&quot;/&quot;).build().create(MyApi.class);\n      MyExchange exchange = new MyExchange(mockApi);\n\n      server.enqueue( new MockResponse().setResponseCode(HttpURLConnection.HTTP_OK, orderId));\n      server.enqueue( new MockResponse().setResponseCode(HttpURLConnection.HTTP_OK, Set.of()));\n\n      exchange.cancelOrder(orderId);\n}    \n</code></pre>\n<p>Because the implementation of cancelOrder() calls <strong>api.cancelOrder()</strong> and then <strong>api.getOrders()</strong>, I added two mocked responses corresponding to each. However, looks like only the first mocked responses gets returned. For the second (getOrders), the mock server actually tries to connect over REST and then fails by timing out.</p>\n<p>Any ideas as to how to mock responses for nested calls?</p>\n<p>Cheers!</p>\n"},{"tags":["java","types","numbers","integer","default"],"comments":[{"owner":{"account_id":3980197,"reputation":3724,"user_id":3282276,"accept_rate":96,"display_name":"user3282276"},"score":0,"creation_date":1417576989,"post_id":27263070,"comment_id":42998553,"body_markdown":"Pretty sure it is an int","body":"Pretty sure it is an int"},{"owner":{"account_id":4490621,"reputation":3759,"user_id":3651800,"display_name":"Matt Coubrough"},"score":0,"creation_date":1417577124,"post_id":27263070,"comment_id":42998580,"body_markdown":"Primitive conversion is carefully spelled out in the Java specs. An integral type will default to `int` but there are specific rules for narrowing and widening conversions. https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html","body":"Primitive conversion is carefully spelled out in the Java specs. An integral type will default to <code>int</code> but there are specific rules for narrowing and widening conversions. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-5.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1575464845,"creation_date":1417577182,"answer_id":27263109,"question_id":27263070,"body_markdown":"This\r\n\r\n    18\r\n\r\nis known as an [integer literal][1]. There are all sorts of [literals][2], floating point, `String`, character, etc.\r\n\r\nIn the following,\r\n\r\n    byte b = 3;\r\n\r\nthe literal `3` is an integer literal. It&#39;s also a constant expression. And since Java can tell that `3` fits in a `byte`, it can safely apply a [narrowing primitive conversion][3] and store the result in a `byte` variable. \r\n\r\n\r\nIn this\r\n\r\n    int i = 3;\r\n    byte bb = i; //error!\r\n\r\nthe literal `3` is a constant expression, but the variable `i` is not. The compiler simply decides that `i` is not a constant expression and therefore doesn&#39;t go out of its way to figure out its value, a conversion to `byte` may lose information (how to convert `12345` to a `byte`?) and should therefore not be allowed. You can override this behavior by making `i` a constant variable\r\n\r\n    final int i = 3;\r\n    byte bb = i; // no error!\r\n\r\nor by specifying an explicit cast\r\n\r\n    int i = 3;\r\n    byte bb = (byte) i; // no error!\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.1\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.3\r\n","title":"Is there a default type for numbers in Java","body":"<p>This</p>\n\n<pre><code>18\n</code></pre>\n\n<p>is known as an <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.1\" rel=\"nofollow noreferrer\">integer literal</a>. There are all sorts of <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10\" rel=\"nofollow noreferrer\">literals</a>, floating point, <code>String</code>, character, etc.</p>\n\n<p>In the following,</p>\n\n<pre><code>byte b = 3;\n</code></pre>\n\n<p>the literal <code>3</code> is an integer literal. It's also a constant expression. And since Java can tell that <code>3</code> fits in a <code>byte</code>, it can safely apply a <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.3\" rel=\"nofollow noreferrer\">narrowing primitive conversion</a> and store the result in a <code>byte</code> variable. </p>\n\n<p>In this</p>\n\n<pre><code>int i = 3;\nbyte bb = i; //error!\n</code></pre>\n\n<p>the literal <code>3</code> is a constant expression, but the variable <code>i</code> is not. The compiler simply decides that <code>i</code> is not a constant expression and therefore doesn't go out of its way to figure out its value, a conversion to <code>byte</code> may lose information (how to convert <code>12345</code> to a <code>byte</code>?) and should therefore not be allowed. You can override this behavior by making <code>i</code> a constant variable</p>\n\n<pre><code>final int i = 3;\nbyte bb = i; // no error!\n</code></pre>\n\n<p>or by specifying an explicit cast</p>\n\n<pre><code>int i = 3;\nbyte bb = (byte) i; // no error!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417577296,"creation_date":1417577296,"answer_id":27263131,"question_id":27263070,"body_markdown":"The [JLS-4.2.1 - Integral Types and Values](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.1)\r\n\r\n&gt; The values of the integral types are integers in the following ranges:\r\n&gt;\r\n&gt;*    For `byte`, from -128 to 127, inclusive\r\n&gt;*    For `short`, from -32768 to 32767, inclusive\r\n&gt;*    For `int`, from -2147483648 to 2147483647, inclusive\r\n&gt;*    For `long`, from -9223372036854775808 to 9223372036854775807, inclusive\r\n&gt;*    For `char`, from &#39;\\u0000&#39; to &#39;\\uffff&#39; inclusive, that is, from 0 to 65535\r\n\r\nAnd [JLS-3.10.1 - Integer Literals](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.1)\r\n\r\n&gt; An integer literal is of type long if it is suffixed with an ASCII letter L or l (ell); otherwise it is of type int (&#167;4.2.1). \r\n\r\nFinally, [JLS-3.10.2 - Floating-Point Literals](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.2) includes\r\n\r\n&gt; A floating-point literal is of type float if it is suffixed with an ASCII letter F or f; otherwise its type is double and it can optionally be suffixed with an ASCII letter D or d (&#167;4.2.3). \r\n\r\nAs for `byte b = 3;` it is a [Narrowing Conversion](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.3) from `int` to `byte`.","title":"Is there a default type for numbers in Java","body":"<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.1\" rel=\"nofollow\">JLS-4.2.1 - Integral Types and Values</a></p>\n\n<blockquote>\n  <p>The values of the integral types are integers in the following ranges:</p>\n  \n  <ul>\n  <li>For <code>byte</code>, from -128 to 127, inclusive</li>\n  <li>For <code>short</code>, from -32768 to 32767, inclusive</li>\n  <li>For <code>int</code>, from -2147483648 to 2147483647, inclusive</li>\n  <li>For <code>long</code>, from -9223372036854775808 to 9223372036854775807, inclusive</li>\n  <li>For <code>char</code>, from '\\u0000' to '\\uffff' inclusive, that is, from 0 to 65535</li>\n  </ul>\n</blockquote>\n\n<p>And <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.1\" rel=\"nofollow\">JLS-3.10.1 - Integer Literals</a></p>\n\n<blockquote>\n  <p>An integer literal is of type long if it is suffixed with an ASCII letter L or l (ell); otherwise it is of type int (4.2.1). </p>\n</blockquote>\n\n<p>Finally, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.2\" rel=\"nofollow\">JLS-3.10.2 - Floating-Point Literals</a> includes</p>\n\n<blockquote>\n  <p>A floating-point literal is of type float if it is suffixed with an ASCII letter F or f; otherwise its type is double and it can optionally be suffixed with an ASCII letter D or d (4.2.3). </p>\n</blockquote>\n\n<p>As for <code>byte b = 3;</code> it is a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.3\" rel=\"nofollow\">Narrowing Conversion</a> from <code>int</code> to <code>byte</code>.</p>\n"},{"tags":[],"owner":{"account_id":5082237,"reputation":1,"user_id":16694048,"display_name":"Jay Ayerson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639015741,"creation_date":1639015741,"answer_id":70283919,"question_id":27263070,"body_markdown":"As stated by others, it&#39;s an integer literal.\r\n\r\nUnder the hood, it appears Java was written for 32 bit processors.\r\nAn integer is between +/- ~2.147 million, which is 2^31 with a signage bit.\r\n\r\nSo whether you&#39;re writing a bit or a full int, it&#39;s a single processor function, therefore a single memory allocation.","title":"Is there a default type for numbers in Java","body":"<p>As stated by others, it's an integer literal.</p>\n<p>Under the hood, it appears Java was written for 32 bit processors.\nAn integer is between +/- ~2.147 million, which is 2^31 with a signage bit.</p>\n<p>So whether you're writing a bit or a full int, it's a single processor function, therefore a single memory allocation.</p>\n"}],"owner":{"account_id":3894433,"reputation":158,"user_id":3223856,"display_name":"colorblind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5749,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":27263109,"answer_count":3,"score":6,"last_activity_date":1639015741,"creation_date":1417576867,"question_id":27263070,"body_markdown":"If I write something like this\r\n\r\n    System.out.println(18);\r\n\r\nWhich type has the &#39;18&#39;?\r\nIs it *int* or *byte*?\r\nOr doesn&#39;t it have a type yet?\r\n\r\nIt can&#39;t be int, because something like this is correct:\r\n    \r\n    byte b = 3;\r\n\r\nAnd this is incorrect:\r\n    \r\n    int i = 3;\r\n    byte bb = i; //error!\r\n\r\n\r\nEDIT:\r\nI think I found the right part in the spec at [Assignment Conversion](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2) :\r\n\r\n\r\n&gt;The compile-time narrowing of constants means that code such as:\r\n&gt;\r\n&gt;    byte theAnswer = 42;\r\n&gt;\r\n&gt;is allowed. Without the narrowing, the fact that the integer literal 42 has type int would mean that a cast to byte would be required:\r\n&gt;\r\n&gt;    byte theAnswer = (byte) 42;  // cast is permitted but not required\r\n&gt;","title":"Is there a default type for numbers in Java","body":"<p>If I write something like this</p>\n\n<pre><code>System.out.println(18);\n</code></pre>\n\n<p>Which type has the '18'?\nIs it <em>int</em> or <em>byte</em>?\nOr doesn't it have a type yet?</p>\n\n<p>It can't be int, because something like this is correct:</p>\n\n<pre><code>byte b = 3;\n</code></pre>\n\n<p>And this is incorrect:</p>\n\n<pre><code>int i = 3;\nbyte bb = i; //error!\n</code></pre>\n\n<p>EDIT:\nI think I found the right part in the spec at <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2\" rel=\"nofollow\">Assignment Conversion</a> :</p>\n\n<blockquote>\n  <p>The compile-time narrowing of constants means that code such as:</p>\n  \n  <p>byte theAnswer = 42;</p>\n  \n  <p>is allowed. Without the narrowing, the fact that the integer literal 42 has type int would mean that a cast to byte would be required:</p>\n  \n  <p>byte theAnswer = (byte) 42;  // cast is permitted but not required</p>\n</blockquote>\n"},{"tags":["java","google-cloud-vision"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638844006,"post_id":70254221,"comment_id":124190379,"body_markdown":"You haven&#39;t shown the entire stack trace. Please copy and paste it into your question instead of using an image.","body":"You haven&#39;t shown the entire stack trace. Please copy and paste it into your question instead of using an image."},{"owner":{"display_name":"user17609176"},"score":0,"creation_date":1638844665,"post_id":70254221,"comment_id":124190478,"body_markdown":"thank you for commenting, I just copied and pasted the stack trace now.","body":"thank you for commenting, I just copied and pasted the stack trace now."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638845593,"post_id":70254221,"comment_id":124190620,"body_markdown":"What&#39;s the value of the `GOOGLE_APPLICATION_CREDENTIALS` environment variable?","body":"What&#39;s the value of the <code>GOOGLE_APPLICATION_CREDENTIALS</code> environment variable?"},{"owner":{"account_id":21489672,"reputation":1464,"user_id":15835642,"display_name":"Sandeep Mohanty"},"score":0,"creation_date":1639053392,"post_id":70254221,"comment_id":124253077,"body_markdown":"From the error it seems the file path you have provided does not match the pattern for image path. Could you try with an image path like C:\\Users\\DELL Laptop\\Downloads\\images\\file1.jpg ?","body":"From the error it seems the file path you have provided does not match the pattern for image path. Could you try with an image path like C:\\Users\\DELL Laptop\\Downloads\\images\\file1.jpg ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639085106,"post_id":70254221,"comment_id":124265751,"body_markdown":"@SandeepMohanty If you look at the stack trace it isn&#39;t the image file.","body":"@SandeepMohanty If you look at the stack trace it isn&#39;t the image file."}],"owner":{"display_name":"user17609176"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639015422,"creation_date":1638843942,"question_id":70254221,"body_markdown":"I&#39;m trying to call GoogleCloudVision to get the image labels into an array. I don&#39;t know what to do for the ObjectLabel method which seems to be the problem. The program is meant to take an image file and run it through googles cloud vision and get an array of labels for the image, then based on the array determine what is the image.  \r\n\r\nthis is the error I&#39;m getting.\r\n```\r\njava.nio.file.NoSuchFileException: C:\\Users\\DELL Laptop\\Downloads\\Exam3Starter\\src\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n\tat java.base/sun.nio.fs.WindowsDirectoryStream.&lt;init&gt;(WindowsDirectoryStream.java:86)\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.newDirectoryStream(WindowsFileSystemProvider.java:533)\r\n\tat java.base/java.nio.file.Files.newDirectoryStream(Files.java:544)\r\n\tat GoogleCloudVision.findJsonCredentialsFile(GoogleCloudVision.java:51)\r\n\tat GoogleCloudVision.detectImageLabels(GoogleCloudVision.java:80)\r\n\tat SeeFood.labelImage(SeeFood.java:57)\r\n\tat SeeFood.main(SeeFood.java:83)\r\n```\r\n\r\nCode:\r\n```\r\npublic static void labelImage(String filename) throws IOException, InterruptedException {\r\n        // TODO: replace with your implementation\r\n        String userFile = filename;\r\n        JFrame img = new JFrame();\r\n        ImageIcon icon = new ImageIcon(userFile);\r\n        JLabel label = new JLabel(icon);\r\n        img.add(label);\r\n        img.pack();\r\n        img.setVisible(true);\r\n        ArrayList&lt;ObjectLabel&gt; labels = GoogleCloudVision.detectImageLabels(userFile);\r\n        JOptionPane.showMessageDialog(null, labels);\r\n    } // end labelImage\r\n\r\npublic class ObjectLabel {\r\n\r\n    String Label = &quot;&quot;;\r\n    float confidence = 2.0F;\r\n\r\n    public ObjectLabel(String description, float score) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"ArrayList&lt;ObjectLabel&gt; labels = GoogleCloudVision.detectImageLabels(); Not working","body":"<p>I'm trying to call GoogleCloudVision to get the image labels into an array. I don't know what to do for the ObjectLabel method which seems to be the problem. The program is meant to take an image file and run it through googles cloud vision and get an array of labels for the image, then based on the array determine what is the image.</p>\n<p>this is the error I'm getting.</p>\n<pre><code>java.nio.file.NoSuchFileException: C:\\Users\\DELL Laptop\\Downloads\\Exam3Starter\\src\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at java.base/sun.nio.fs.WindowsDirectoryStream.&lt;init&gt;(WindowsDirectoryStream.java:86)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.newDirectoryStream(WindowsFileSystemProvider.java:533)\n    at java.base/java.nio.file.Files.newDirectoryStream(Files.java:544)\n    at GoogleCloudVision.findJsonCredentialsFile(GoogleCloudVision.java:51)\n    at GoogleCloudVision.detectImageLabels(GoogleCloudVision.java:80)\n    at SeeFood.labelImage(SeeFood.java:57)\n    at SeeFood.main(SeeFood.java:83)\n</code></pre>\n<p>Code:</p>\n<pre><code>public static void labelImage(String filename) throws IOException, InterruptedException {\n        // TODO: replace with your implementation\n        String userFile = filename;\n        JFrame img = new JFrame();\n        ImageIcon icon = new ImageIcon(userFile);\n        JLabel label = new JLabel(icon);\n        img.add(label);\n        img.pack();\n        img.setVisible(true);\n        ArrayList&lt;ObjectLabel&gt; labels = GoogleCloudVision.detectImageLabels(userFile);\n        JOptionPane.showMessageDialog(null, labels);\n    } // end labelImage\n\npublic class ObjectLabel {\n\n    String Label = &quot;&quot;;\n    float confidence = 2.0F;\n\n    public ObjectLabel(String description, float score) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637182998,"creation_date":1637182998,"answer_id":70011508,"question_id":70010527,"body_markdown":"In the case of streaming mimetype such as `application/x-ndjson`, WebFlux will serialize to JSON and flush in the network each item of the `Flux`.\r\n\r\n\r\n```java\r\n@GetMapping(path = &quot;/customObjects&quot;, produces = MediaType.APPLICATION_NDJSON_VALUE)\r\npublic Flux&lt;Response&gt; streamCustomObjects() {\r\nreturn Flux.interval(Duration.ofSeconds(1))\r\n\t\t\t\t.map(e -&gt; new Response(List.of(new CustomObject(&quot;George&quot;, 20), new CustomObject(&quot;Lefteris&quot;, 28))));\r\n}\r\n```\r\n\r\nThe following WebClient call produces a `Flux` of `Responses`:\r\n```java\r\nFlux&lt;Response&gt; responses = webClient.get()\r\n      .uri(&quot;/customObjects&quot;)\r\n      .retrieve()\r\n      .bodyToFlux(Response.class);\r\n\r\nresponses.subscribe(System.out::println);\r\n```\r\nSample output:\r\n\r\n    (after 1 sec)\r\n        Response(customObjects=[CustomObject(name=George, age=20), CustomObject(name=Lefteris, age=28)])\r\n    (after 2 sec)\r\n        Response(customObjects=[CustomObject(name=George, age=20), CustomObject(name=Lefteris, age=28)])\r\n    (after 3 sec)\r\n        Response(customObjects=[CustomObject(name=George, age=20), CustomObject(name=Lefteris, age=28)])","title":"Jackson deserialize Flux of arrays","body":"<p>In the case of streaming mimetype such as <code>application/x-ndjson</code>, WebFlux will serialize to JSON and flush in the network each item of the <code>Flux</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/customObjects&quot;, produces = MediaType.APPLICATION_NDJSON_VALUE)\npublic Flux&lt;Response&gt; streamCustomObjects() {\nreturn Flux.interval(Duration.ofSeconds(1))\n                .map(e -&gt; new Response(List.of(new CustomObject(&quot;George&quot;, 20), new CustomObject(&quot;Lefteris&quot;, 28))));\n}\n</code></pre>\n<p>The following WebClient call produces a <code>Flux</code> of <code>Responses</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Response&gt; responses = webClient.get()\n      .uri(&quot;/customObjects&quot;)\n      .retrieve()\n      .bodyToFlux(Response.class);\n\nresponses.subscribe(System.out::println);\n</code></pre>\n<p>Sample output:</p>\n<pre><code>(after 1 sec)\n    Response(customObjects=[CustomObject(name=George, age=20), CustomObject(name=Lefteris, age=28)])\n(after 2 sec)\n    Response(customObjects=[CustomObject(name=George, age=20), CustomObject(name=Lefteris, age=28)])\n(after 3 sec)\n    Response(customObjects=[CustomObject(name=George, age=20), CustomObject(name=Lefteris, age=28)])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467450,"reputation":419,"user_id":872848,"display_name":"TinaC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639014407,"creation_date":1639014407,"answer_id":70283805,"question_id":70010527,"body_markdown":"Did try the posted proposed solution of x-ndjson, but ended up with another issue downstream: Flux + Jackson would then not keep the bounds of the list.  E.g., I really needed to know [e1, e2, e3] belong together.  I was instead getting onNext  lists with single elements in them.  \r\n \r\nMy ultimate resolution ended up being simple: we created an object type with a single field which then contained the list of custom objects.  E.g., { sequence: [ e1, e2, e3] }.  That then let me receive my ListWrapperObject via Flux, while maintaining the bounds of the sequence for each.  Since we didn&#39;t own the API, we needed to negotiate with the team we were calling, but thankfully they were able to adjust.  I offer that solution to the next reader seeking such a path.  I&#39;ll also grant that there may have yet been a way to solve it with Jackson should you not be able to amend the API.  ","title":"Jackson deserialize Flux of arrays","body":"<p>Did try the posted proposed solution of x-ndjson, but ended up with another issue downstream: Flux + Jackson would then not keep the bounds of the list.  E.g., I really needed to know [e1, e2, e3] belong together.  I was instead getting onNext  lists with single elements in them.</p>\n<p>My ultimate resolution ended up being simple: we created an object type with a single field which then contained the list of custom objects.  E.g., { sequence: [ e1, e2, e3] }.  That then let me receive my ListWrapperObject via Flux, while maintaining the bounds of the sequence for each.  Since we didn't own the API, we needed to negotiate with the team we were calling, but thankfully they were able to adjust.  I offer that solution to the next reader seeking such a path.  I'll also grant that there may have yet been a way to solve it with Jackson should you not be able to amend the API.</p>\n"}],"owner":{"account_id":467450,"reputation":419,"user_id":872848,"display_name":"TinaC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639014407,"creation_date":1637177876,"question_id":70010527,"body_markdown":"I&#39;m trying to deserialize a Flux of List\\&lt;CustomObject\\&gt;.  In this case, the grouping of CustomObjects is necessary: each List is a sequence and my later processing needs to take into account the separate sequences.\r\n\r\nI&#39;ve looked at [this question][1] which dealt with an array of objects.  In fact, I&#39;ve been able to use their Mono solution approach to retrieve a Mono&lt;List&lt;List&lt;CustomObject&gt;&gt;&gt;.  This works, but seems quite inefficient.  I&#39;d like to start processing each List&lt;CustomObject&gt;, rather than requiring the Mono to complete retrieval of the full bulk set.  Our full set could be in the realm of 20K or more lists, some of which we&#39;re going to discard, so earlier processing would be desirable.  \r\n\r\nWhat happens when I try using Flux instead of Mono: I&#39;ve tried this using both WebClient and Feign - same effects in each.  Stepping through the Jackson code, it never pulls back TokenBuffers when dealing with the Flux world.  That seems in line with what&#39;s in the Spring documentation for [Codecs and Jackson JSON](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs-jackson) - &quot;when decoding to a multi-value publisher (e.g. Flux), each TokenBuffer is passed to the ObjectMapper as soon as enough bytes are received for a fully formed object&quot;\r\n\r\nThoughts?  Even better, working examples?  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48598233/deserialize-a-json-array-to-objects-using-jackson-and-webclient","title":"Jackson deserialize Flux of arrays","body":"<p>I'm trying to deserialize a Flux of List&lt;CustomObject&gt;.  In this case, the grouping of CustomObjects is necessary: each List is a sequence and my later processing needs to take into account the separate sequences.</p>\n<p>I've looked at <a href=\"https://stackoverflow.com/questions/48598233/deserialize-a-json-array-to-objects-using-jackson-and-webclient\">this question</a> which dealt with an array of objects.  In fact, I've been able to use their Mono solution approach to retrieve a Mono&lt;List&lt;List&gt;&gt;.  This works, but seems quite inefficient.  I'd like to start processing each List, rather than requiring the Mono to complete retrieval of the full bulk set.  Our full set could be in the realm of 20K or more lists, some of which we're going to discard, so earlier processing would be desirable.</p>\n<p>What happens when I try using Flux instead of Mono: I've tried this using both WebClient and Feign - same effects in each.  Stepping through the Jackson code, it never pulls back TokenBuffers when dealing with the Flux world.  That seems in line with what's in the Spring documentation for <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs-jackson\" rel=\"nofollow noreferrer\">Codecs and Jackson JSON</a> - &quot;when decoding to a multi-value publisher (e.g. Flux), each TokenBuffer is passed to the ObjectMapper as soon as enough bytes are received for a fully formed object&quot;</p>\n<p>Thoughts?  Even better, working examples?</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638998811,"creation_date":1638998811,"answer_id":70281919,"question_id":70280790,"body_markdown":"I guess you forgot to create a constructor for `MainAdapter` class \r\n\r\n    public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.viewholder&gt; {\r\n        ArrayList&lt;MainModel&gt; list;\r\n        Context context;\r\n\r\n        MainAdapter(ArrayList&lt;MainModel&gt; data, Context ctx) {\r\n            list = data;\r\n            context = ctx;\r\n        }\r\n\r\n        // ...\r\n    }","title":"Main Adapter Cannot be Applied to Java List","body":"<p>I guess you forgot to create a constructor for <code>MainAdapter</code> class</p>\n<pre><code>public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.viewholder&gt; {\n    ArrayList&lt;MainModel&gt; list;\n    Context context;\n\n    MainAdapter(ArrayList&lt;MainModel&gt; data, Context ctx) {\n        list = data;\n        context = ctx;\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639014268,"creation_date":1639014268,"answer_id":70283787,"question_id":70280790,"body_markdown":"Here, In your code, you are missing a constructor as mentioned by @Sergey as well as you are passing the wrong context in onCreateViewHolder().You should pass parent.getContext();\r\n\r\n    public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.viewholder&gt; {\r\n    ArrayList&lt;MainModel&gt; list;\r\n    Context context;\r\n\r\n    MainAdapter(ArrayList&lt;MainModel&gt; data, Context ctx) {\r\n        list = data;\r\n        context = ctx;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.sample_mainfood,parent,false);\r\n        return new viewholder(view);\r\n    }\r\n    //...\r\n    }\r\n\r\n\r\n","title":"Main Adapter Cannot be Applied to Java List","body":"<p>Here, In your code, you are missing a constructor as mentioned by @Sergey as well as you are passing the wrong context in onCreateViewHolder().You should pass parent.getContext();</p>\n<pre><code>public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.viewholder&gt; {\nArrayList&lt;MainModel&gt; list;\nContext context;\n\nMainAdapter(ArrayList&lt;MainModel&gt; data, Context ctx) {\n    list = data;\n    context = ctx;\n}\n\n@NonNull\n@Override\npublic viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.sample_mainfood,parent,false);\n    return new viewholder(view);\n}\n//...\n}\n</code></pre>\n"}],"owner":{"account_id":21309612,"reputation":1,"user_id":15684232,"display_name":"Sheikh "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70283787,"answer_count":2,"score":-1,"last_activity_date":1639014268,"creation_date":1638992290,"question_id":70280790,"body_markdown":"`(list , this)`&lt;= this Line Creates Problem.\r\n\r\nThis is my Main Acitivty Code \r\n```package com.example.foodorder;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\nimport com.example.foodorder.Adapters.MainAdapter;\r\nimport com.example.foodorder.Models.MainModel;\r\nimport com.example.foodorder.databinding.ActivityMainBinding;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        ArrayList&lt;MainModel&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new MainModel(R.drawable.tabba, &quot;TableA&quot;, &quot;2500&quot;, &quot;Unique Table for Interior Lovers&quot;));\r\n        list.add(new MainModel(R.drawable.tabbb, &quot;TableB&quot;, &quot;3500&quot;, &quot;Unique Table for Interior Lovers&quot;));\r\n        list.add(new MainModel(R.drawable.tabbd, &quot;TableC&quot;, &quot;4500&quot;, &quot;Unique Table for Interior Lovers&quot;));\r\n        list.add(new MainModel(R.drawable.tabbe, &quot;TableD&quot;, &quot;55500&quot;, &quot;Unique Table for Interior Lovers&quot;));\r\n        MainAdapter adapter = new MainAdapter(list , this);\r\n        binding.recyclerview.setAdapter(adapter);\r\n\r\n    }\r\n}\r\n```\r\nMain Adapter Code \r\n```\r\npublic class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.viewholder&gt; {\r\n    ArrayList&lt;MainModel&gt; list;\r\n    Context context;\r\n    @NonNull\r\n    @Override\r\n    public viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.sample_mainfood,parent,false);\r\n        return new viewholder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewholder holder, int position) {\r\n        final MainModel model =list.get(position);\r\n        holder.mainName.setText(model.getName());\r\n        holder.imageView.setImageResource(model.getImage());\r\n        holder.price.setText(model.getPrice());\r\n        holder.description.setText(model.getDescription());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return list.size();\r\n    }\r\n\r\n    public class viewholder extends RecyclerView.ViewHolder{\r\n\r\n        ImageView imageView;\r\n        TextView mainName, price, description;\r\n\r\n        public viewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n            imageView = itemView.findViewById(R.id.imageView);\r\n            imageView = itemView.findViewById(R.id.name);\r\n            imageView = itemView.findViewById(R.id.orderPrice);\r\n            imageView = itemView.findViewById(R.id.description);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nThis one is Main Model\r\n```\r\npackage com.example.foodorder.Models;\r\n\r\npublic class MainModel {\r\n    int image;\r\n    String name, price, description;\r\n\r\n    public MainModel(int image, String name, String price, String description) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.description = description;\r\n    }\r\n\r\n    public int getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(int image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n}\r\n```","title":"Main Adapter Cannot be Applied to Java List","body":"<p><code>(list , this)</code>&lt;= this Line Creates Problem.</p>\n<p>This is my Main Acitivty Code</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\nimport com.example.foodorder.Adapters.MainAdapter;\nimport com.example.foodorder.Models.MainModel;\nimport com.example.foodorder.databinding.ActivityMainBinding;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        ArrayList&lt;MainModel&gt; list = new ArrayList&lt;&gt;();\n        list.add(new MainModel(R.drawable.tabba, &quot;TableA&quot;, &quot;2500&quot;, &quot;Unique Table for Interior Lovers&quot;));\n        list.add(new MainModel(R.drawable.tabbb, &quot;TableB&quot;, &quot;3500&quot;, &quot;Unique Table for Interior Lovers&quot;));\n        list.add(new MainModel(R.drawable.tabbd, &quot;TableC&quot;, &quot;4500&quot;, &quot;Unique Table for Interior Lovers&quot;));\n        list.add(new MainModel(R.drawable.tabbe, &quot;TableD&quot;, &quot;55500&quot;, &quot;Unique Table for Interior Lovers&quot;));\n        MainAdapter adapter = new MainAdapter(list , this);\n        binding.recyclerview.setAdapter(adapter);\n\n    }\n}\n</code></pre>\n<p>Main Adapter Code</p>\n<pre><code>public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.viewholder&gt; {\n    ArrayList&lt;MainModel&gt; list;\n    Context context;\n    @NonNull\n    @Override\n    public viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.sample_mainfood,parent,false);\n        return new viewholder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull viewholder holder, int position) {\n        final MainModel model =list.get(position);\n        holder.mainName.setText(model.getName());\n        holder.imageView.setImageResource(model.getImage());\n        holder.price.setText(model.getPrice());\n        holder.description.setText(model.getDescription());\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return list.size();\n    }\n\n    public class viewholder extends RecyclerView.ViewHolder{\n\n        ImageView imageView;\n        TextView mainName, price, description;\n\n        public viewholder(@NonNull View itemView) {\n            super(itemView);\n            imageView = itemView.findViewById(R.id.imageView);\n            imageView = itemView.findViewById(R.id.name);\n            imageView = itemView.findViewById(R.id.orderPrice);\n            imageView = itemView.findViewById(R.id.description);\n\n        }\n    }\n}\n</code></pre>\n<p>This one is Main Model</p>\n<pre><code>package com.example.foodorder.Models;\n\npublic class MainModel {\n    int image;\n    String name, price, description;\n\n    public MainModel(int image, String name, String price, String description) {\n        this.image = image;\n        this.name = name;\n        this.price = price;\n        this.description = description;\n    }\n\n    public int getImage() {\n        return image;\n    }\n\n    public void setImage(int image) {\n        this.image = image;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public void setPrice(String price) {\n        this.price = price;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1639014014,"post_id":70283755,"comment_id":124242745,"body_markdown":"Perhaps I&#39;m missing the point here, but have you tried casting the value?","body":"Perhaps I&#39;m missing the point here, but have you tried casting the value?"},{"owner":{"account_id":2117719,"reputation":564,"user_id":1881609,"accept_rate":0,"display_name":"Alex Barysevich"},"score":0,"creation_date":1639014361,"post_id":70283755,"comment_id":124242796,"body_markdown":"Yes, I did, and I got this: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class util.AnotherType","body":"Yes, I did, and I got this: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class util.AnotherType"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1639014501,"post_id":70283755,"comment_id":124242822,"body_markdown":"Then it is not `AnotherType`. It&#39;s a `LinkedHashMap`. No matter how sure you are, the JVM knows what type the thing is better than you do.","body":"Then it is not <code>AnotherType</code>. It&#39;s a <code>LinkedHashMap</code>. No matter how sure you are, the JVM knows what type the thing is better than you do."},{"owner":{"account_id":2117719,"reputation":564,"user_id":1881609,"accept_rate":0,"display_name":"Alex Barysevich"},"score":0,"creation_date":1639014761,"post_id":70283755,"comment_id":124242871,"body_markdown":"Makes a lot of sense. Then the question transforms into: https://stackoverflow.com/questions/22870584/convert-from-linkedhashmap-to-json-string Thanks, @SilvioMayolo","body":"Makes a lot of sense. Then the question transforms into: <a href=\"https://stackoverflow.com/questions/22870584/convert-from-linkedhashmap-to-json-string\" title=\"convert from linkedhashmap to json string\">stackoverflow.com/questions/22870584/&hellip;</a> Thanks, @SilvioMayolo"}],"owner":{"account_id":2117719,"reputation":564,"user_id":1881609,"accept_rate":0,"display_name":"Alex Barysevich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639013884,"creation_date":1639013884,"question_id":70283755,"body_markdown":"I have a java type:\r\n\r\n```\r\n class Type {\r\n    String jsonField;\r\n    Object anotherJsonField;\r\n }\r\n```\r\n\r\nI can successfully decerialize this String value using jackson library via executing\r\n\r\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(content, Type.class)()\r\n\r\n\r\n```\r\n{\r\n  &quot;jsonField&quot;: &quot;field&quot;,\r\n  &quot;anotherField&quot;: {\r\n    &quot;something&quot;: &quot;value&quot;\r\n  }\r\n}\r\n```\r\n\r\nI know that anotherField Object (its actual type after decerialization is LinkedHashMap) in the Type object is pointing to another JSON structure in it (AnotherType type). Is there any way to transform this Object value into an object of type AnotherType (java.lang.Object[java.util.LinkedHashMap] -&gt; AnotherType)?\r\n\r\n\r\n","title":"Convert java.lang.Object reference within a deserialized JSON object into a specific typed object","body":"<p>I have a java type:</p>\n<pre><code> class Type {\n    String jsonField;\n    Object anotherJsonField;\n }\n</code></pre>\n<p>I can successfully decerialize this String value using jackson library via executing</p>\n<p>com.fasterxml.jackson.databind.ObjectMapper.readValue(content, Type.class)()</p>\n<pre><code>{\n  &quot;jsonField&quot;: &quot;field&quot;,\n  &quot;anotherField&quot;: {\n    &quot;something&quot;: &quot;value&quot;\n  }\n}\n</code></pre>\n<p>I know that anotherField Object (its actual type after decerialization is LinkedHashMap) in the Type object is pointing to another JSON structure in it (AnotherType type). Is there any way to transform this Object value into an object of type AnotherType (java.lang.Object[java.util.LinkedHashMap] -&gt; AnotherType)?</p>\n"},{"tags":["java","gradle","jacoco"],"comments":[{"owner":{"account_id":1969566,"reputation":187,"user_id":2315015,"display_name":"Mitesh Joshi"},"score":0,"creation_date":1640896254,"post_id":70283721,"comment_id":124687270,"body_markdown":"Hey, Have you got root-cause of the issue? I&#39;m facing the similar issue with ASM.","body":"Hey, Have you got root-cause of the issue? I&#39;m facing the similar issue with ASM."}],"owner":{"account_id":1565628,"reputation":4246,"user_id":1454510,"accept_rate":89,"display_name":"return 0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639013510,"creation_date":1639013510,"question_id":70283721,"body_markdown":"I am trying to build my project using Gradle. While running Jacoco coverage report, it gives me this error:\r\n```\r\nCaused by: java.io.IOException: Error while analyzing XXX.class.\r\n        at org.jacoco.core.analysis.Analyzer.analyzerError(Analyzer.java:162)\r\n        at org.jacoco.core.analysis.Analyzer.analyzeClass(Analyzer.java:134)\r\n        at org.jacoco.core.analysis.Analyzer.analyzeClass(Analyzer.java:157)\r\n        at org.jacoco.core.analysis.Analyzer.analyzeAll(Analyzer.java:193)\r\n        at org.jacoco.ant.ReportTask.createBundle(ReportTask.java:573)\r\n        at org.jacoco.ant.ReportTask.createReport(ReportTask.java:545)\r\n        at org.jacoco.ant.ReportTask.execute(ReportTask.java:496)\r\n        ... 174 more\r\nCaused by: java.lang.IllegalArgumentException\r\n        at org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:70)\r\n        at org.jacoco.core.internal.flow.ClassProbesVisitor.&lt;init&gt;(ClassProbesVisitor.java:38)\r\n        at org.jacoco.core.internal.flow.ClassProbesVisitor.&lt;init&gt;(ClassProbesVisitor.java:28)\r\n        at org.jacoco.core.internal.analysis.ClassAnalyzer.&lt;init&gt;(ClassAnalyzer.java:59)\r\n        at org.jacoco.core.analysis.Analyzer$1.&lt;init&gt;(Analyzer.java:97)\r\n```\r\n\r\nI compared with some other projects that also integrated Jacoco but don&#39;t have this issue, it turns out that my project has a transitive dependency on `asm`. After I run `./gradlew dependency` on my current project, I noticed that there is an imported ASM dependency forcing down its version from 8.0.1 -&gt; 7.0.\r\n```\r\njacocoAnt - The Jacoco ant tasks to use to get execute Gradle tasks.\r\n\\--- org.jacoco:org.jacoco.ant:0.8.6\r\n     +--- org.jacoco:org.jacoco.core:0.8.6\r\n     |    +--- org.ow2.asm:asm:8.0.1 -&gt; 7.0\r\n     |    +--- org.ow2.asm:asm-commons:8.0.1 -&gt; 7.0\r\n     |    |    +--- org.ow2.asm:asm:7.0\r\n     |    |    +--- org.ow2.asm:asm-tree:7.0\r\n     |    |    |    \\--- org.ow2.asm:asm:7.0\r\n     |    |    \\--- org.ow2.asm:asm-analysis:7.0\r\n     |    |         \\--- org.ow2.asm:asm-tree:7.0 (*)\r\n     |    \\--- org.ow2.asm:asm-tree:8.0.1 -&gt; 7.0 (*)\r\n     +--- org.jacoco:org.jacoco.report:0.8.6\r\n     |    \\--- org.jacoco:org.jacoco.core:0.8.6 (*)\r\n     \\--- org.jacoco:org.jacoco.agent:0.8.6\r\n```\r\n\r\nThere is no other packages that transitively dependent on ASM, this is the only place. This is quite strange as I have no gradle `resolutionStrategy` that force the ASM version anywhere. Can someone tell me how I can remove the forced ASM version downgrade?\r\n\r\nNote that I have already tried to add all of the following to my resolutionStrategy and it still resolved to version 7.0.\r\n```\r\n            force &#39;org.ow2.asm:asm-analysis:8.0.1&#39;\r\n            force &#39;org.ow2.asm:asm-tree:8.0.1&#39;\r\n            force &#39;org.ow2.asm:asm-commons:8.0.1&#39;\r\n            force &#39;org.ow2.asm:asm:8.0.1\r\n```","title":"What is overriding the ASM dependency for my Jacoco gradle dependency","body":"<p>I am trying to build my project using Gradle. While running Jacoco coverage report, it gives me this error:</p>\n<pre><code>Caused by: java.io.IOException: Error while analyzing XXX.class.\n        at org.jacoco.core.analysis.Analyzer.analyzerError(Analyzer.java:162)\n        at org.jacoco.core.analysis.Analyzer.analyzeClass(Analyzer.java:134)\n        at org.jacoco.core.analysis.Analyzer.analyzeClass(Analyzer.java:157)\n        at org.jacoco.core.analysis.Analyzer.analyzeAll(Analyzer.java:193)\n        at org.jacoco.ant.ReportTask.createBundle(ReportTask.java:573)\n        at org.jacoco.ant.ReportTask.createReport(ReportTask.java:545)\n        at org.jacoco.ant.ReportTask.execute(ReportTask.java:496)\n        ... 174 more\nCaused by: java.lang.IllegalArgumentException\n        at org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:70)\n        at org.jacoco.core.internal.flow.ClassProbesVisitor.&lt;init&gt;(ClassProbesVisitor.java:38)\n        at org.jacoco.core.internal.flow.ClassProbesVisitor.&lt;init&gt;(ClassProbesVisitor.java:28)\n        at org.jacoco.core.internal.analysis.ClassAnalyzer.&lt;init&gt;(ClassAnalyzer.java:59)\n        at org.jacoco.core.analysis.Analyzer$1.&lt;init&gt;(Analyzer.java:97)\n</code></pre>\n<p>I compared with some other projects that also integrated Jacoco but don't have this issue, it turns out that my project has a transitive dependency on <code>asm</code>. After I run <code>./gradlew dependency</code> on my current project, I noticed that there is an imported ASM dependency forcing down its version from 8.0.1 -&gt; 7.0.</p>\n<pre><code>jacocoAnt - The Jacoco ant tasks to use to get execute Gradle tasks.\n\\--- org.jacoco:org.jacoco.ant:0.8.6\n     +--- org.jacoco:org.jacoco.core:0.8.6\n     |    +--- org.ow2.asm:asm:8.0.1 -&gt; 7.0\n     |    +--- org.ow2.asm:asm-commons:8.0.1 -&gt; 7.0\n     |    |    +--- org.ow2.asm:asm:7.0\n     |    |    +--- org.ow2.asm:asm-tree:7.0\n     |    |    |    \\--- org.ow2.asm:asm:7.0\n     |    |    \\--- org.ow2.asm:asm-analysis:7.0\n     |    |         \\--- org.ow2.asm:asm-tree:7.0 (*)\n     |    \\--- org.ow2.asm:asm-tree:8.0.1 -&gt; 7.0 (*)\n     +--- org.jacoco:org.jacoco.report:0.8.6\n     |    \\--- org.jacoco:org.jacoco.core:0.8.6 (*)\n     \\--- org.jacoco:org.jacoco.agent:0.8.6\n</code></pre>\n<p>There is no other packages that transitively dependent on ASM, this is the only place. This is quite strange as I have no gradle <code>resolutionStrategy</code> that force the ASM version anywhere. Can someone tell me how I can remove the forced ASM version downgrade?</p>\n<p>Note that I have already tried to add all of the following to my resolutionStrategy and it still resolved to version 7.0.</p>\n<pre><code>            force 'org.ow2.asm:asm-analysis:8.0.1'\n            force 'org.ow2.asm:asm-tree:8.0.1'\n            force 'org.ow2.asm:asm-commons:8.0.1'\n            force 'org.ow2.asm:asm:8.0.1\n</code></pre>\n"},{"tags":["java","date","kotlin","datetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1638899779,"post_id":70264573,"comment_id":124208669,"body_markdown":"I would *start* by abandoning `Date` and `Calendar` - use the java.time classes and this will be much easier. But you&#39;re not trying to &quot;change time zone without changing offset&quot; - you&#39;re trying to change *offset* without changing *local time*... which is exactly what `OffsetDateTime.withOffsetSameLocal` does. (And `OffsetDateTime` is the right type to use - you have a local date/time and an offset; you don&#39;t have a time zone.)","body":"I would <i>start</i> by abandoning <code>Date</code> and <code>Calendar</code> - use the java.time classes and this will be much easier. But you&#39;re not trying to &quot;change time zone without changing offset&quot; - you&#39;re trying to change <i>offset</i> without changing <i>local time</i>... which is exactly what <code>OffsetDateTime.withOffsetSameLocal</code> does. (And <code>OffsetDateTime</code> is the right type to use - you have a local date/time and an offset; you don&#39;t have a time zone.)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638904182,"post_id":70264573,"comment_id":124210351,"body_markdown":"When its 2021-12-07T00:00:00.595+0530 in India, it is still only 2021-12-06 Pacific Time (2021-12-06T10:30:00-08:00, more precisely). Do you still want `2021-12-07T00:00:00-08:00`? You can have that, of course.","body":"When its 2021-12-07T00:00:00.595+0530 in India, it is still only 2021-12-06 Pacific Time (2021-12-06T10:30:00-08:00, more precisely). Do you still want <code>2021-12-07T00:00:00-08:00</code>? You can have that, of course."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638905208,"creation_date":1638904827,"answer_id":70265828,"question_id":70264573,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date and time work. Please excuse my Java syntax.\r\n\r\n\t\tString forBackend = LocalDate.now(ZoneId.systemDefault())\r\n\t\t\t\t.atStartOfDay(ZoneId.of(&quot;America/Los_Angeles&quot;))\r\n\t\t\t\t.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n\t\tSystem.out.println(forBackend);\r\n\r\nI ran this code in Asia/Kolkata time zone just now (within the first hour after midnight on 2021-12-08). The output was:\r\n\r\n&gt; 2021-12-08T00:00:00-08:00\r\n\r\nA `LocalDate` is a date without time of day or time zone, so `LocalDate.now()` just gives us the current day in India (when Asia/Kolkata is our default time zone) without time of day. Then the call to `atStartOfDay()` gives us the start if the same date in America/Los_Angeles time zone. Finally the format you asked for is built in, so we are using the predefined formatter and not writing our own format pattern string.\r\n\r\nWhen summer time (DST) begins in North America, the offset will be `-07:00` instead.","title":"change offset without changing local time","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date and time work. Please excuse my Java syntax.</p>\n<pre><code>    String forBackend = LocalDate.now(ZoneId.systemDefault())\n            .atStartOfDay(ZoneId.of(&quot;America/Los_Angeles&quot;))\n            .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n    System.out.println(forBackend);\n</code></pre>\n<p>I ran this code in Asia/Kolkata time zone just now (within the first hour after midnight on 2021-12-08). The output was:</p>\n<blockquote>\n<p>2021-12-08T00:00:00-08:00</p>\n</blockquote>\n<p>A <code>LocalDate</code> is a date without time of day or time zone, so <code>LocalDate.now()</code> just gives us the current day in India (when Asia/Kolkata is our default time zone) without time of day. Then the call to <code>atStartOfDay()</code> gives us the start if the same date in America/Los_Angeles time zone. Finally the format you asked for is built in, so we are using the predefined formatter and not writing our own format pattern string.</p>\n<p>When summer time (DST) begins in North America, the offset will be <code>-07:00</code> instead.</p>\n"}],"owner":{"account_id":9893053,"reputation":875,"user_id":7399212,"display_name":"Ashutosh Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70265828,"answer_count":1,"score":0,"last_activity_date":1639013178,"creation_date":1638898554,"question_id":70264573,"body_markdown":"I have a date that is in IST format. Which is something like the \r\n\r\n    2021-12-07T00:00:00.595+0530\r\n\r\nI have the following code for the above output\r\n\r\n        val fromtTime = Date()\r\n        val startOfDay = fromtTime.startOfDay()\r\n    \r\n\r\n        val dateFormat = SimpleDateFormat(\r\n            &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZZZZ&quot;\r\n        )\r\n\r\n        val startOfDate = dateFormat.format(startOfDay)\r\n\r\nstartOfDay is just and extenstion function which is something like this\r\n\r\n    fun Date.startOfDay(): Date {\r\n        val now = Calendar.getInstance()\r\n        now.time = this\r\n        now.set(Calendar.HOUR_OF_DAY, 0)\r\n        now.set(Calendar.MINUTE, 0)\r\n        now.set(Calendar.SECOND, 0)\r\n        return now.time\r\n    }\r\n\r\nBut, what the backend really wants is in the below format with -8:00. \r\n\r\n    2021-12-07T00:00:00-08:00\r\n\r\nIs there any way I can format it to have **-08:00** in the end of the string whenever I select the timezone as &quot;America/Los_Angeles&quot;, because &quot;America/Los_Angeles&quot; is supposed to have the timezone which is -8 hours from the GMT. ","title":"change offset without changing local time","body":"<p>I have a date that is in IST format. Which is something like the</p>\n<pre><code>2021-12-07T00:00:00.595+0530\n</code></pre>\n<p>I have the following code for the above output</p>\n<pre><code>    val fromtTime = Date()\n    val startOfDay = fromtTime.startOfDay()\n\n\n    val dateFormat = SimpleDateFormat(\n        &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZZZZZ&quot;\n    )\n\n    val startOfDate = dateFormat.format(startOfDay)\n</code></pre>\n<p>startOfDay is just and extenstion function which is something like this</p>\n<pre><code>fun Date.startOfDay(): Date {\n    val now = Calendar.getInstance()\n    now.time = this\n    now.set(Calendar.HOUR_OF_DAY, 0)\n    now.set(Calendar.MINUTE, 0)\n    now.set(Calendar.SECOND, 0)\n    return now.time\n}\n</code></pre>\n<p>But, what the backend really wants is in the below format with -8:00.</p>\n<pre><code>2021-12-07T00:00:00-08:00\n</code></pre>\n<p>Is there any way I can format it to have <strong>-08:00</strong> in the end of the string whenever I select the timezone as &quot;America/Los_Angeles&quot;, because &quot;America/Los_Angeles&quot; is supposed to have the timezone which is -8 hours from the GMT.</p>\n"},{"tags":["java","tomcat","jersey"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1639022380,"post_id":70283678,"comment_id":124244043,"body_markdown":"Unless you are using Jersey 3.x, you need to use Tomcat 9.0 (cf. [this question](https://stackoverflow.com/q/66806582/11748454)). Moreover your `web.xml` will neither be packaged nor read by Tomcat. You need a `web.xml`-less Jersey project.","body":"Unless you are using Jersey 3.x, you need to use Tomcat 9.0 (cf. <a href=\"https://stackoverflow.com/q/66806582/11748454\">this question</a>). Moreover your <code>web.xml</code> will neither be packaged nor read by Tomcat. You need a <code>web.xml</code>-less Jersey project."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1639023022,"post_id":70283678,"comment_id":124244132,"body_markdown":"Do you have many resources in `src/main/webapp`?","body":"Do you have many resources in <code>src&#47;main&#47;webapp</code>?"}],"owner":{"account_id":3764517,"reputation":1588,"user_id":3128369,"accept_rate":55,"display_name":"buzoherbert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639013099,"creation_date":1639013099,"question_id":70283678,"body_markdown":"I am trying to migrate a Jersey Tomcat project into Embedded Tomcat with the Shadow Plugin to simplify deployment.\r\n\r\nI based my changes on [this tutorial][1] . It is for Spring, so I skipped the Spring specific parts.\r\n\r\nThe main changes are the addition to the Embedded Tomcat and Shadow Plugin dependencies to build.gradle.kts ...\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        id(&quot;maven-publish&quot;)\r\n        id(&quot;application&quot;)\r\n        id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.0&quot;\r\n    }\r\n\r\n    dependencies {\r\n        .\r\n        .\r\n        .\r\n        implementation(&quot;org.apache.tomcat.embed:tomcat-embed-jasper:10.0.12&quot;)\r\n    }\r\n\r\n\r\n... and the creation of the Main class as follows:\r\n\r\n    import org.apache.catalina.startup.Tomcat;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        private static final int PORT = 8080;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String appBase = &quot;.&quot;;\r\n            Tomcat tomcat = new Tomcat();\r\n            tomcat.setBaseDir(createTempDir());\r\n            tomcat.setPort(PORT);\r\n            tomcat.getHost().setAppBase(appBase);\r\n            tomcat.addWebapp(&quot;&quot;, appBase);\r\n            tomcat.start();\r\n            tomcat.getServer().await();\r\n        }\r\n    \r\n        // based on AbstractEmbeddedServletContainerFactory\r\n        private static String createTempDir() {\r\n            try {\r\n                File tempDir = File.createTempFile(&quot;tomcat.&quot;, &quot;.&quot; + PORT);\r\n                tempDir.delete();\r\n                tempDir.mkdir();\r\n                tempDir.deleteOnExit();\r\n                return tempDir.getAbsolutePath();\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(\r\n                        &quot;Unable to create tempDir. java.io.tmpdir is set to &quot; + System.getProperty(&quot;java.io.tmpdir&quot;),\r\n                        ex\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I try to run or debug this either from the cli or from IntelliJ I get no build errors and IntelliJ reports that the app is running. However, I can&#39;t reach any of the endpoints of the server.\r\n\r\nI do get this warning:\r\n\r\n    Dec 08, 2021 6:57:15 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\r\n    INFO: No global web.xml found\r\n\r\nThe project does have a global web.xml located in `src/main/webapp/WEB-INF/web.xml`, but it doesn&#39;t seem to be recognized.\r\n\r\nIt seems like Shadow is not loading my code into the Tomcat server. Is there something missing to link Shadow Plugin &gt; Embedded Tomcat &gt; My Jersey project?\r\n\r\n\r\n  [1]: https://auth0.com/blog/spring-5-embedded-tomcat-8-gradle-tutorial/","title":"Migrating Jersey project to embeded Tomcat and Shadow plugin","body":"<p>I am trying to migrate a Jersey Tomcat project into Embedded Tomcat with the Shadow Plugin to simplify deployment.</p>\n<p>I based my changes on <a href=\"https://auth0.com/blog/spring-5-embedded-tomcat-8-gradle-tutorial/\" rel=\"nofollow noreferrer\">this tutorial</a> . It is for Spring, so I skipped the Spring specific parts.</p>\n<p>The main changes are the addition to the Embedded Tomcat and Shadow Plugin dependencies to build.gradle.kts ...</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;maven-publish&quot;)\n    id(&quot;application&quot;)\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.0&quot;\n}\n\ndependencies {\n    .\n    .\n    .\n    implementation(&quot;org.apache.tomcat.embed:tomcat-embed-jasper:10.0.12&quot;)\n}\n</code></pre>\n<p>... and the creation of the Main class as follows:</p>\n<pre><code>import org.apache.catalina.startup.Tomcat;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    private static final int PORT = 8080;\n\n    public static void main(String[] args) throws Exception {\n        String appBase = &quot;.&quot;;\n        Tomcat tomcat = new Tomcat();\n        tomcat.setBaseDir(createTempDir());\n        tomcat.setPort(PORT);\n        tomcat.getHost().setAppBase(appBase);\n        tomcat.addWebapp(&quot;&quot;, appBase);\n        tomcat.start();\n        tomcat.getServer().await();\n    }\n\n    // based on AbstractEmbeddedServletContainerFactory\n    private static String createTempDir() {\n        try {\n            File tempDir = File.createTempFile(&quot;tomcat.&quot;, &quot;.&quot; + PORT);\n            tempDir.delete();\n            tempDir.mkdir();\n            tempDir.deleteOnExit();\n            return tempDir.getAbsolutePath();\n        } catch (IOException ex) {\n            throw new RuntimeException(\n                    &quot;Unable to create tempDir. java.io.tmpdir is set to &quot; + System.getProperty(&quot;java.io.tmpdir&quot;),\n                    ex\n            );\n        }\n    }\n}\n</code></pre>\n<p>When I try to run or debug this either from the cli or from IntelliJ I get no build errors and IntelliJ reports that the app is running. However, I can't reach any of the endpoints of the server.</p>\n<p>I do get this warning:</p>\n<pre><code>Dec 08, 2021 6:57:15 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\nINFO: No global web.xml found\n</code></pre>\n<p>The project does have a global web.xml located in <code>src/main/webapp/WEB-INF/web.xml</code>, but it doesn't seem to be recognized.</p>\n<p>It seems like Shadow is not loading my code into the Tomcat server. Is there something missing to link Shadow Plugin &gt; Embedded Tomcat &gt; My Jersey project?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1639002827,"post_id":70282475,"comment_id":124240561,"body_markdown":"That means one of the lists are empty.","body":"That means one of the lists are empty."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639002805,"creation_date":1639002805,"answer_id":70282535,"question_id":70282475,"body_markdown":"Don&#39;t shove a lambda on one gigantic line; it is now extremely hard to figure out where the exception is trying to point your attention to. Add some newlines to that thing! You&#39;re not iterating the list, you&#39;re calling forEach.\r\n\r\nThe `.get()` call at the very end is the likely culprit: Your stream operation ended up with 0 things; asking the &#39;maximum&#39; out of 0 things results in no value.\r\nOne of the `One` instances has a zero-length `familyAge`.","title":"java.util.NoSuchElementException when iterating the List","body":"<p>Don't shove a lambda on one gigantic line; it is now extremely hard to figure out where the exception is trying to point your attention to. Add some newlines to that thing! You're not iterating the list, you're calling forEach.</p>\n<p>The <code>.get()</code> call at the very end is the likely culprit: Your stream operation ended up with 0 things; asking the 'maximum' out of 0 things results in no value.\nOne of the <code>One</code> instances has a zero-length <code>familyAge</code>.</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639006697,"creation_date":1639006697,"answer_id":70283037,"question_id":70282475,"body_markdown":"`max` is returning an `Optional`. Calling `get` on an optional is usually a bad idea. `Optional` is used to wrap values that could potentially be `null` and if `get` would return null it throws a `NoSuchElementException` instead. A better solution could look something like this\r\n\r\n    myList1.stream()\r\n        .forEach(list1 -&gt; list1.getFamilyAge().stream()                    \r\n            .max(Comparator.comparing(FamilyAge::getAId))\r\n                .ifPresent(familyAge -&gt; /* do something with family age*/));\r\n\r\nAs the name suggests ifPresent is only executed if the object is present.","title":"java.util.NoSuchElementException when iterating the List","body":"<p><code>max</code> is returning an <code>Optional</code>. Calling <code>get</code> on an optional is usually a bad idea. <code>Optional</code> is used to wrap values that could potentially be <code>null</code> and if <code>get</code> would return null it throws a <code>NoSuchElementException</code> instead. A better solution could look something like this</p>\n<pre><code>myList1.stream()\n    .forEach(list1 -&gt; list1.getFamilyAge().stream()                    \n        .max(Comparator.comparing(FamilyAge::getAId))\n            .ifPresent(familyAge -&gt; /* do something with family age*/));\n</code></pre>\n<p>As the name suggests ifPresent is only executed if the object is present.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639012913,"creation_date":1639012913,"answer_id":70283657,"question_id":70282475,"body_markdown":"Never use `get()` unless youre *sure* there will be something in the stream.\r\n\r\neither code:\r\n\r\n    .max().orElse(null)\r\n\r\nOr code:\r\n\r\n    .max().ifPresent(x -&gt; /* do something */)\r\n\r\nTo handle the case where there isnt a max because the stream is empty.","title":"java.util.NoSuchElementException when iterating the List","body":"<p>Never use <code>get()</code> unless youre <em>sure</em> there will be something in the stream.</p>\n<p>either code:</p>\n<pre><code>.max().orElse(null)\n</code></pre>\n<p>Or code:</p>\n<pre><code>.max().ifPresent(x -&gt; /* do something */)\n</code></pre>\n<p>To handle the case where there isnt a max because the stream is empty.</p>\n"}],"owner":{"account_id":11884292,"reputation":43,"user_id":8697117,"display_name":"user8697117"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1639012913,"creation_date":1639002400,"question_id":70282475,"body_markdown":"I am trying to iterate the list and check the max value to get that object. \r\n\r\n    Class One{\r\n    //properties\r\n    private int id;\r\n    private boolean isInsurance;\r\n    private List&lt;FamilyAge&gt; familyAge;\r\n    }\r\n    class FamilyAge{\r\n    private Long aId;\r\n    private String holder1;\r\n    private String holder2;\r\n    ..\r\n    }\r\nAbove are the sample class objects iterating below.\r\n\r\n        List&lt;One&gt; myList1 = getAllRequiredData();\r\n            myList1.stream().forEach(list1 -&gt; list1.getFamilyAge().stream()\r\n                                         .max(Comparator.comparing(FamilyAge::getAId)).get()); \r\n             //java.util.NoSuchElementException: No value present\r\n\r\nI want to filter or get only one object of FamilyAge which has max of aId. With the above iteration logic it is throwing java.util.NoSuchElementException.","title":"java.util.NoSuchElementException when iterating the List","body":"<p>I am trying to iterate the list and check the max value to get that object.</p>\n<pre><code>Class One{\n//properties\nprivate int id;\nprivate boolean isInsurance;\nprivate List&lt;FamilyAge&gt; familyAge;\n}\nclass FamilyAge{\nprivate Long aId;\nprivate String holder1;\nprivate String holder2;\n..\n}\n</code></pre>\n<p>Above are the sample class objects iterating below.</p>\n<pre><code>    List&lt;One&gt; myList1 = getAllRequiredData();\n        myList1.stream().forEach(list1 -&gt; list1.getFamilyAge().stream()\n                                     .max(Comparator.comparing(FamilyAge::getAId)).get()); \n         //java.util.NoSuchElementException: No value present\n</code></pre>\n<p>I want to filter or get only one object of FamilyAge which has max of aId. With the above iteration logic it is throwing java.util.NoSuchElementException.</p>\n"},{"tags":["java","spring","spring-boot","docker","elasticsearch"],"comments":[{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1638976980,"post_id":70275781,"comment_id":124231180,"body_markdown":"It is not an issue in docker compose since your spring app container just gets restarted till it manages to connect to elasticsearch. For production cluster environments you can also depend on `restart-on-failure` or you would be adding readiness probe (i.e in kubernetes deployment file) that will be attempting to connect to elasticsearch.","body":"It is not an issue in docker compose since your spring app container just gets restarted till it manages to connect to elasticsearch. For production cluster environments you can also depend on <code>restart-on-failure</code> or you would be adding readiness probe (i.e in kubernetes deployment file) that will be attempting to connect to elasticsearch."},{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1638989088,"post_id":70275781,"comment_id":124236242,"body_markdown":"I am aware of this. It just pollutes logs a lot and is a common problem if you have multiple services.","body":"I am aware of this. It just pollutes logs a lot and is a common problem if you have multiple services."}],"answers":[{"tags":[],"owner":{"account_id":20057415,"reputation":13897,"user_id":14704799,"display_name":"gohm&#39;c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639011394,"creation_date":1638975688,"answer_id":70277139,"question_id":70275781,"body_markdown":"Use [wait-for-it](https://github.com/vishnubob/wait-for-it) to track the readiness of your elasticsearch service **before** starting your application. Example create a bash file:\r\n\r\n    #!/bin/bash\r\n    set -e\r\n    ./wait-for-it.sh -t 10 &lt;your elasticsearch service&gt;:9200\r\n    exec &lt;your application&gt;\r\n\r\nYour Dockerfile may look like:\r\n\r\n    COPY . ./\r\n    RUN chmod +x ./wait-for-it.sh ./&lt;your bash file&gt;.sh\r\n    ENTRYPOINT [&quot;./&lt;your bash file&gt;&quot;]","title":"Spring Boot wait for Elasticsearch to start","body":"<p>Use <a href=\"https://github.com/vishnubob/wait-for-it\" rel=\"nofollow noreferrer\">wait-for-it</a> to track the readiness of your elasticsearch service <strong>before</strong> starting your application. Example create a bash file:</p>\n<pre><code>#!/bin/bash\nset -e\n./wait-for-it.sh -t 10 &lt;your elasticsearch service&gt;:9200\nexec &lt;your application&gt;\n</code></pre>\n<p>Your Dockerfile may look like:</p>\n<pre><code>COPY . ./\nRUN chmod +x ./wait-for-it.sh ./&lt;your bash file&gt;.sh\nENTRYPOINT [&quot;./&lt;your bash file&gt;&quot;]\n</code></pre>\n"}],"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639011394,"creation_date":1638969943,"question_id":70275781,"body_markdown":"I&#39;m using Spring Boot (2.3) &amp; Elasticsearch (7.14.1) in a Docker setup. I always used `depends_on` in my docker-compose.yml to wait for Elasticsearch before starting the Spring Boot application. (Now as this is removed in docker 3.*!?! this won&#39;t work.)\r\n\r\n-&gt; **How can I check the availability of Elasticsearch before initializing my Spring Boot application?**\r\n\r\n - Can I do this using the Spring-jdbc [DatabaseStartupValidator][1]?\r\n - Can I do this using Docker health-checks?\r\n\r\nFYI: Application works regularly when starting through docker-compose. Spring just fails several times &amp; is restarted until all ES repositories can be initialized.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/DatabaseStartupValidator.html","title":"Spring Boot wait for Elasticsearch to start","body":"<p>I'm using Spring Boot (2.3) &amp; Elasticsearch (7.14.1) in a Docker setup. I always used <code>depends_on</code> in my docker-compose.yml to wait for Elasticsearch before starting the Spring Boot application. (Now as this is removed in docker 3.*!?! this won't work.)</p>\n<p>-&gt; <strong>How can I check the availability of Elasticsearch before initializing my Spring Boot application?</strong></p>\n<ul>\n<li>Can I do this using the Spring-jdbc <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/DatabaseStartupValidator.html\" rel=\"nofollow noreferrer\">DatabaseStartupValidator</a>?</li>\n<li>Can I do this using Docker health-checks?</li>\n</ul>\n<p>FYI: Application works regularly when starting through docker-compose. Spring just fails several times &amp; is restarted until all ES repositories can be initialized.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1639009226,"post_id":70283281,"comment_id":124241956,"body_markdown":"You might consider looking at the JDK&#39;s Map interface and HashMap class to see an example of how to do this sort of thing.","body":"You might consider looking at the JDK&#39;s Map interface and HashMap class to see an example of how to do this sort of thing."},{"owner":{"account_id":9028118,"reputation":731,"user_id":8696281,"display_name":"noobie2023"},"score":0,"creation_date":1639009605,"post_id":70283281,"comment_id":124242039,"body_markdown":"@Charlie Thanks, I just took a look. We specify the key-value types in `Map&lt;K, V&gt;` when we create an instance, but on the other hand, how may I enforce the type when defining the concrete class? Is this not possible as interface uses `&lt;K, V&gt;` instead of concrete classes in `&lt;&gt;`?","body":"@Charlie Thanks, I just took a look. We specify the key-value types in <code>Map&lt;K, V&gt;</code> when we create an instance, but on the other hand, how may I enforce the type when defining the concrete class? Is this not possible as interface uses <code>&lt;K, V&gt;</code> instead of concrete classes in <code>&lt;&gt;</code>?"},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1639010002,"post_id":70283281,"comment_id":124242110,"body_markdown":"Why limit the concrete implementation&#39;s types?","body":"Why limit the concrete implementation&#39;s types?"},{"owner":{"account_id":9028118,"reputation":731,"user_id":8696281,"display_name":"noobie2023"},"score":0,"creation_date":1639010158,"post_id":70283281,"comment_id":124242135,"body_markdown":"@Charlie I wanted to create a concrete cache class for a specific API, we have a couple of different APIs and each API has different caching implementation.","body":"@Charlie I wanted to create a concrete cache class for a specific API, we have a couple of different APIs and each API has different caching implementation."}],"answers":[{"tags":[],"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639009975,"creation_date":1639009975,"answer_id":70283382,"question_id":70283281,"body_markdown":"By putting `&lt;&gt;` after the name of the class that you&#39;re defining, you&#39;re declaring tokens to be used as generics. But you don&#39;t want that, you just want to fill existing generic type arguments.\r\n\r\nSo just omit the first pair of `&lt;&gt;`:\r\n\r\n    public class LocalCache implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt;","title":"Specify Map in Java generics","body":"<p>By putting <code>&lt;&gt;</code> after the name of the class that you're defining, you're declaring tokens to be used as generics. But you don't want that, you just want to fill existing generic type arguments.</p>\n<p>So just omit the first pair of <code>&lt;&gt;</code>:</p>\n<pre><code>public class LocalCache implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":9028118,"reputation":731,"user_id":8696281,"display_name":"noobie2023"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70283382,"answer_count":1,"score":1,"last_activity_date":1639009975,"creation_date":1639009073,"question_id":70283281,"body_markdown":"I have the following interface:\r\n```\r\npublic interface IGenericCache&lt;K, V&gt; {\r\n\r\n    void put(K key, V value);\r\n\r\n    V get(K key);\r\n\r\n}\r\n\r\n```\r\n\r\nThen I want to create a concrete class that takes `CacheKey` object as input and `Map&lt;String, List&lt;String&gt;&gt;` object as output. A **conceptual** example is as follows:\r\n\r\n```\r\npublic class LocalCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; {\r\n\r\n    @Override\r\n    public void put(CacheKey key, Map&lt;String, List&lt;String&gt;&gt; value) {\r\n        // TODO\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, List&lt;String&gt;&gt; get(CacheKey key) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nWhere `CacheKey` is like:\r\n```\r\n@Data // lombok annotation\r\npublic class CacheKey {\r\n    private final String attr1;\r\n    private final String attr2;\r\n}\r\n```\r\n\r\nI have seen red wavy lines from IDE by using the implementation in the example above. But I couldn&#39;t fin the correct format to match the generics `&lt;K, V&gt;` in the interface.\r\n\r\nCould anyone good at Java please correct me? Thank you in advance!","title":"Specify Map in Java generics","body":"<p>I have the following interface:</p>\n<pre><code>public interface IGenericCache&lt;K, V&gt; {\n\n    void put(K key, V value);\n\n    V get(K key);\n\n}\n\n</code></pre>\n<p>Then I want to create a concrete class that takes <code>CacheKey</code> object as input and <code>Map&lt;String, List&lt;String&gt;&gt;</code> object as output. A <strong>conceptual</strong> example is as follows:</p>\n<pre><code>public class LocalCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; {\n\n    @Override\n    public void put(CacheKey key, Map&lt;String, List&lt;String&gt;&gt; value) {\n        // TODO\n    }\n\n    @Override\n    public Map&lt;String, List&lt;String&gt;&gt; get(CacheKey key) {\n        return null;\n    }\n}\n</code></pre>\n<p>Where <code>CacheKey</code> is like:</p>\n<pre><code>@Data // lombok annotation\npublic class CacheKey {\n    private final String attr1;\n    private final String attr2;\n}\n</code></pre>\n<p>I have seen red wavy lines from IDE by using the implementation in the example above. But I couldn't fin the correct format to match the generics <code>&lt;K, V&gt;</code> in the interface.</p>\n<p>Could anyone good at Java please correct me? Thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637749957,"post_id":70094292,"comment_id":123907688,"body_markdown":"Add `@Component` to your aspect and well that is it. Nothing more nothing less.","body":"Add <code>@Component</code> to your aspect and well that is it. Nothing more nothing less."},{"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"score":0,"creation_date":1637751538,"post_id":70094292,"comment_id":123908320,"body_markdown":"I know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup","body":"I know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637751663,"post_id":70094292,"comment_id":123908379,"body_markdown":"That won&#39;t work in this case, as proxies are generated at startup. So you cannot add an aspect while the application is running and expect than suddently proxies be created for those beans. So normally it would be doable with an aspect you can add the bean but the AOP won&#39;t be applied.","body":"That won&#39;t work in this case, as proxies are generated at startup. So you cannot add an aspect while the application is running and expect than suddently proxies be created for those beans. So normally it would be doable with an aspect you can add the bean but the AOP won&#39;t be applied."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1637765376,"post_id":70094292,"comment_id":123914060,"body_markdown":"_&quot;I need to configure it during runtime instead of scanning the configuration at startup&quot;_ - please explain why. This looks like an [XY problem](https://meta.stackexchange.com/a/66378/309898) situation, because you are explaining your technical idea of **how** you think the problem should be solved rather than **what** you need and **why** you need it.","body":"<i>&quot;I need to configure it during runtime instead of scanning the configuration at startup&quot;</i> - please explain why. This looks like an <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a> situation, because you are explaining your technical idea of <b>how</b> you think the problem should be solved rather than <b>what</b> you need and <b>why</b> you need it."},{"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"score":0,"creation_date":1637810533,"post_id":70094292,"comment_id":123927309,"body_markdown":"I am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP.","body":"I am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP."},{"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"score":0,"creation_date":1637811097,"post_id":70094292,"comment_id":123927388,"body_markdown":"If there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code","body":"If there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1640741866,"post_id":70094292,"comment_id":124648070,"body_markdown":"This question is still listed as unanswered, even though I wrote an answer and linked to two related topics with example code. Please inspect my answer, then either accept and upvote it or comment on it if you do not understand it. Thank you.","body":"This question is still listed as unanswered, even though I wrote an answer and linked to two related topics with example code. Please inspect my answer, then either accept and upvote it or comment on it if you do not understand it. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639009707,"creation_date":1639009707,"answer_id":70283347,"question_id":70094292,"body_markdown":"Your `private Advisor config()` should be `@Bean public Advisor config()`, then it would work, but only while wiring the application.\r\n\r\nSee [this piece of code](https://github.com/kriegaex/SO_AJ_SpringDynamicAdviceRegistration/blob/fef5d461128bd4013c7c30bee256db05ca0d6094/src/main/java/de/scrum_master/performancemonitor/AopConfiguration.java#L25-L31) on GitHub for an example, which I used in update 3 of [this answer](https://stackoverflow.com/a/49080647/1082681). You can clone the project and experiment with it.\r\n\r\nAnother example can be found in [this question](https://stackoverflow.com/q/69207046/1082681). You just need to apply the correction from my answer in order to make it work.\r\n\r\nI do not think it gets any more dynamic than that, but I am by no means a Spring expert.","title":"How to Dynamically Configure Spring AOP","body":"<p>Your <code>private Advisor config()</code> should be <code>@Bean public Advisor config()</code>, then it would work, but only while wiring the application.</p>\n<p>See <a href=\"https://github.com/kriegaex/SO_AJ_SpringDynamicAdviceRegistration/blob/fef5d461128bd4013c7c30bee256db05ca0d6094/src/main/java/de/scrum_master/performancemonitor/AopConfiguration.java#L25-L31\" rel=\"nofollow noreferrer\">this piece of code</a> on GitHub for an example, which I used in update 3 of <a href=\"https://stackoverflow.com/a/49080647/1082681\">this answer</a>. You can clone the project and experiment with it.</p>\n<p>Another example can be found in <a href=\"https://stackoverflow.com/q/69207046/1082681\">this question</a>. You just need to apply the correction from my answer in order to make it work.</p>\n<p>I do not think it gets any more dynamic than that, but I am by no means a Spring expert.</p>\n"}],"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639009707,"creation_date":1637749042,"question_id":70094292,"body_markdown":"Now there is a need to add a bean to the spring container during program operation. This bean is the configuration class of spring AOP. How to make the configuration take effect.\r\n\r\nI know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup\r\n\r\nAt first, I wrote this\r\n```java\r\n    @Aspect\r\n    public class ParamAspect {\r\n    \r\n        private static String result;\r\n    \r\n        @Pointcut(&quot;execution(public * com.example.aop.*.*(String))&quot;)\r\n        public void doOperation() {...}\r\n    \r\n    \r\n        @Before(&quot;doOperation()&quot;)\r\n        public void before(JoinPoint joinPoint) throws Exception {...}\r\n\r\n    \r\n        @AfterReturning(returning = &quot;object&quot;, pointcut = &quot;doOperation()&quot;)\r\n        public void doAfterReturning(Object object) {...}\r\n    }\r\n```\r\n\r\nregistry the bean\r\n```java\r\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) beanFactoryField.get(ctx);\r\n\r\n        BeanDefinitionRegistry beanDefReg = beanFactory;\r\n        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(ParamAspect.class);\r\n        BeanDefinition beanDef = beanDefBuilder.getBeanDefinition();\r\n        if (!beanDefReg.containsBeanDefinition(&quot;theBean&quot;)) {\r\n            beanDefReg.registerBeanDefinition(&quot;theBean&quot;, beanDef);\r\n        }\r\n```\r\nBut I find it doesn&#39;t work\r\nThen I try the method provided online\r\n```java\r\npublic class Config {\r\n    private Advisor config(){\r\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\r\n        pointcut.setExpression(&quot;execution(public * com.example.aop.*.*(String))&quot;);\r\n        return   new DefaultPointcutAdvisor(pointcut, new MyMethodInterceptor());\r\n    }\r\n}\r\n\r\npublic class MyMethodInterceptor implements MethodInterceptor {\r\n    @Override\r\n    public Object invoke(MethodInvocation invocation) throws Throwable {\r\n    ...\r\n    }\r\n}\r\n```\r\nand change class\r\n```java\r\n        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(Config.class);\r\n```\r\nIt still doesn&#39;t work\r\n\r\nI am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP.\r\n\r\nIf there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code.\r\n","title":"How to Dynamically Configure Spring AOP","body":"<p>Now there is a need to add a bean to the spring container during program operation. This bean is the configuration class of spring AOP. How to make the configuration take effect.</p>\n<p>I know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup</p>\n<p>At first, I wrote this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Aspect\n    public class ParamAspect {\n    \n        private static String result;\n    \n        @Pointcut(&quot;execution(public * com.example.aop.*.*(String))&quot;)\n        public void doOperation() {...}\n    \n    \n        @Before(&quot;doOperation()&quot;)\n        public void before(JoinPoint joinPoint) throws Exception {...}\n\n    \n        @AfterReturning(returning = &quot;object&quot;, pointcut = &quot;doOperation()&quot;)\n        public void doAfterReturning(Object object) {...}\n    }\n</code></pre>\n<p>registry the bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) beanFactoryField.get(ctx);\n\n        BeanDefinitionRegistry beanDefReg = beanFactory;\n        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(ParamAspect.class);\n        BeanDefinition beanDef = beanDefBuilder.getBeanDefinition();\n        if (!beanDefReg.containsBeanDefinition(&quot;theBean&quot;)) {\n            beanDefReg.registerBeanDefinition(&quot;theBean&quot;, beanDef);\n        }\n</code></pre>\n<p>But I find it doesn't work\nThen I try the method provided online</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Config {\n    private Advisor config(){\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\n        pointcut.setExpression(&quot;execution(public * com.example.aop.*.*(String))&quot;);\n        return   new DefaultPointcutAdvisor(pointcut, new MyMethodInterceptor());\n    }\n}\n\npublic class MyMethodInterceptor implements MethodInterceptor {\n    @Override\n    public Object invoke(MethodInvocation invocation) throws Throwable {\n    ...\n    }\n}\n</code></pre>\n<p>and change class</p>\n<pre class=\"lang-java prettyprint-override\"><code>        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(Config.class);\n</code></pre>\n<p>It still doesn't work</p>\n<p>I am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP.</p>\n<p>If there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":1,"creation_date":1639018287,"post_id":70283330,"comment_id":124243449,"body_markdown":"Try switching to  private static final WebDriver driver ; and then driver = new ChromeDriver(options) to access the private variable inside the functions.","body":"Try switching to  private static final WebDriver driver ; and then driver = new ChromeDriver(options) to access the private variable inside the functions."},{"owner":{"account_id":23419335,"reputation":108,"user_id":17479815,"display_name":"Yan"},"score":0,"creation_date":1639034146,"post_id":70283330,"comment_id":124246242,"body_markdown":"driver.manage().window().fullscreen(); did you try this function ?","body":"driver.manage().window().fullscreen(); did you try this function ?"}],"owner":{"account_id":16837449,"reputation":125,"user_id":12173707,"display_name":"stiggy008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639009547,"creation_date":1639009547,"question_id":70283330,"body_markdown":"I&#39;ve searched around for awhile now and it seems like i just need to add chrome options to get selenium to go into headless mode. I am quite new and i maybe missing something but i&#39;ve tried the adding the code below into my scripts in to various areas and it doesn&#39;t seem to work. \r\n\r\n```  \r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;window-size=1400,800&quot;);\r\noptions.addArguments(&quot;headless&quot;);\r\n```\r\n\r\nI&#39;ve tried the following\r\n```import org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Test;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class TestPlan {\r\n\r\n    private static final WebDriver driver = new ChromeDriver();\r\n\r\n    @BeforeSuite\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;window-size=1400,800&quot;);\r\n        options.addArguments(&quot;headless&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    }\r\n    \r\n    @Test(testName = &quot;Login Page&quot;)\r\n    public static void wikiLogin() {\r\n        driver.get(Utils.WIKI_LOGIN_URL);\r\n        WikiLogin wikilogin = new WikiLogin(driver);\r\n        wikilogin.loginButton();\r\n    }   \r\n\r\n```\r\n\r\nand \r\n\r\n```\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Test;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class TestPlan {\r\n\r\n    private static final WebDriver driver = new ChromeDriver();\r\n\r\n    @BeforeSuite\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    }\r\n\r\n    @Test(testName = &quot;Login Page&quot;)\r\n    public static void wikiLogin() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;window-size=1400,800&quot;);\r\n        options.addArguments(&quot;headless&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(Utils.WIKI_LOGIN_URL);\r\n        WikiLogin wikilogin = new WikiLogin(driver);\r\n        wikilogin.loginButton();\r\n    }\r\n\r\nWith no success. Would appreciate some help. Thanks!","title":"Cannot get Java Selenium in headless mode","body":"<p>I've searched around for awhile now and it seems like i just need to add chrome options to get selenium to go into headless mode. I am quite new and i maybe missing something but i've tried the adding the code below into my scripts in to various areas and it doesn't seem to work.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;window-size=1400,800&quot;);\noptions.addArguments(&quot;headless&quot;);\n</code></pre>\n<p>I've tried the following</p>\n<pre><code>import org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestPlan {\n\n    private static final WebDriver driver = new ChromeDriver();\n\n    @BeforeSuite\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;window-size=1400,800&quot;);\n        options.addArguments(&quot;headless&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n    }\n    \n    @Test(testName = &quot;Login Page&quot;)\n    public static void wikiLogin() {\n        driver.get(Utils.WIKI_LOGIN_URL);\n        WikiLogin wikilogin = new WikiLogin(driver);\n        wikilogin.loginButton();\n    }   \n\n</code></pre>\n<p>and</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestPlan {\n\n    private static final WebDriver driver = new ChromeDriver();\n\n    @BeforeSuite\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n    }\n\n    @Test(testName = &quot;Login Page&quot;)\n    public static void wikiLogin() {\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;window-size=1400,800&quot;);\n        options.addArguments(&quot;headless&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(Utils.WIKI_LOGIN_URL);\n        WikiLogin wikilogin = new WikiLogin(driver);\n        wikilogin.loginButton();\n    }\n\nWith no success. Would appreciate some help. Thanks!\n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1665499616,"post_id":70282984,"comment_id":130712279,"body_markdown":"@azurefrog - That doesn&#39;t explain it.  In fact `ch[]` is parsed as an array *type*; i.e. an array of some (unresolvable) **type** `ch`.  And the only valid syntax for a `&lt;type&gt; . &lt;something&gt;` is `&lt;type&gt; . class`.  Hence the weird message about expecting `.class` !!","body":"@azurefrog - That doesn&#39;t explain it.  In fact <code>ch[]</code> is parsed as an array <i>type</i>; i.e. an array of some (unresolvable) <b>type</b> <code>ch</code>.  And the only valid syntax for a <code>&lt;type&gt; . &lt;something&gt;</code> is <code>&lt;type&gt; . class</code>.  Hence the weird message about expecting <code>.class</code> !!"}],"answers":[{"tags":[],"owner":{"display_name":"user16397759"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639007170,"creation_date":1639007170,"answer_id":70283096,"question_id":70282984,"body_markdown":"Your bug-fixed class:\r\n\r\n    public class Uppercase{\r\n    public static void main(String[] args){\r\n        Scanner userWord = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a word&quot;);\r\n\r\n        String word = userWord.nextLine();\r\n\r\n        System.out.println(&quot;There are &quot; + numUppercase(word) + &quot;uppercase letters&quot;);\r\n    }\r\n\r\n    public static int numUppercase(String s){\r\n        char[] ch = new char[s.length()];\r\n\r\n        for (int i = 0; i &lt; s.length(); i++){\r\n            ch[i] = s.charAt(i);\r\n\r\n            int uppercase = 0;\r\n            for (int j = 0; j &lt; ch.length; j++){\r\n                if(ch[j] &gt; 64 &amp;&amp; ch[j] &lt; 91){\r\n                    uppercase++;\r\n                }\r\n            }\r\n            return uppercase;\r\n        }\r\n        return 0;\r\n    }}","title":"Java &#39;error: class expected&#39; when usig array length method","body":"<p>Your bug-fixed class:</p>\n<pre><code>public class Uppercase{\npublic static void main(String[] args){\n    Scanner userWord = new Scanner(System.in);\n    System.out.println(&quot;Enter a word&quot;);\n\n    String word = userWord.nextLine();\n\n    System.out.println(&quot;There are &quot; + numUppercase(word) + &quot;uppercase letters&quot;);\n}\n\npublic static int numUppercase(String s){\n    char[] ch = new char[s.length()];\n\n    for (int i = 0; i &lt; s.length(); i++){\n        ch[i] = s.charAt(i);\n\n        int uppercase = 0;\n        for (int j = 0; j &lt; ch.length; j++){\n            if(ch[j] &gt; 64 &amp;&amp; ch[j] &lt; 91){\n                uppercase++;\n            }\n        }\n        return uppercase;\n    }\n    return 0;\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639009342,"creation_date":1639009342,"answer_id":70283308,"question_id":70282984,"body_markdown":"Aside from the typo, the calculation of the uppercase letters is incorrect.\r\n\r\nFirst, there&#39;s no need to create `ch` array, copy the characters from the input string, and then check the chars in `ch` array.\r\n\r\nSecond, an assumption that the uppercase letters reside in the range `[65, 90]` is applicable only to English letters.  There are several `Character::isUpperCase` methods to check if a [character](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-) or a [Unicode codepoint](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-int-) is upper case.  `Character::isUpperCase(char c)` has been existing for a while since Java 1.0.\r\n\r\nSo, that being said, an example counting uppercase letters could be as follows:\r\n```java\r\npublic static int numUpperCase(String s) {\r\n    int num = 0;\r\n    if (s != null) {\r\n        for (char c : s.toCharArray()) {\r\n            if (Character.isUpperCase(c)) num++;\r\n        }\r\n    }\r\n    return num;\r\n}\r\n```\r\nA oneliner using Stream API:\r\n```java\r\nstatic int numUpperCase(String str) {\r\n    return Optional.ofNullable(str)\r\n           .map(s -&gt; (int) s.chars().filter(Character::isUpperCase).count())\r\n           .orElse(0); // if input string is null\r\n}\r\n```","title":"Java &#39;error: class expected&#39; when usig array length method","body":"<p>Aside from the typo, the calculation of the uppercase letters is incorrect.</p>\n<p>First, there's no need to create <code>ch</code> array, copy the characters from the input string, and then check the chars in <code>ch</code> array.</p>\n<p>Second, an assumption that the uppercase letters reside in the range <code>[65, 90]</code> is applicable only to English letters.  There are several <code>Character::isUpperCase</code> methods to check if a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-\" rel=\"nofollow noreferrer\">character</a> or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-int-\" rel=\"nofollow noreferrer\">Unicode codepoint</a> is upper case.  <code>Character::isUpperCase(char c)</code> has been existing for a while since Java 1.0.</p>\n<p>So, that being said, an example counting uppercase letters could be as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int numUpperCase(String s) {\n    int num = 0;\n    if (s != null) {\n        for (char c : s.toCharArray()) {\n            if (Character.isUpperCase(c)) num++;\n        }\n    }\n    return num;\n}\n</code></pre>\n<p>A oneliner using Stream API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int numUpperCase(String str) {\n    return Optional.ofNullable(str)\n           .map(s -&gt; (int) s.chars().filter(Character::isUpperCase).count())\n           .orElse(0); // if input string is null\n}\n</code></pre>\n"}],"owner":{"account_id":19212693,"reputation":1,"user_id":14038163,"display_name":"Kari Jr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665499277,"answer_count":2,"score":0,"last_activity_date":1639009342,"creation_date":1639006298,"question_id":70282984,"body_markdown":"I am doing an assignment for my Java class that requires me to write a program that displays the number of uppercase letters in a string. I am getting the error on my line 26 (for (int i = 0; i &lt; ch[].length; i++){) any help would be appreciated.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Uppercase{\r\n\tpublic static void main(String[] args){\r\n\t\tchar[] newWord;\r\n\t\tScanner userWord = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter a word&quot;);\r\n\t\t\r\n\t\tString word = userWord.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;There are &quot; + newWord.numUppercase(word) + &quot;uppercase letters&quot;);\r\n\t}\r\n\t\r\n\tpublic int numUppercase(String s){\r\n\t\tchar[] ch = new char[s.length()];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; s.length(); i++){\r\n\t\t\tch[i] = s.charAt(i);\r\n\t\t\t\r\n\t\tint uppercase = 0;\r\n\t\tfor (int i = 0; i &lt; ch[].length; i++){\r\n\t\t\tif(ch[i].valueOf() &gt; 64 &amp;&amp; ch[i].valueOf() &lt; 91){\r\n\t\t\t\tuppercase++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn uppercase;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Java &#39;error: class expected&#39; when usig array length method","body":"<p>I am doing an assignment for my Java class that requires me to write a program that displays the number of uppercase letters in a string. I am getting the error on my line 26 (for (int i = 0; i &lt; ch[].length; i++){) any help would be appreciated.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Uppercase{\n    public static void main(String[] args){\n        char[] newWord;\n        Scanner userWord = new Scanner(System.in);\n        System.out.println(&quot;Enter a word&quot;);\n        \n        String word = userWord.nextLine();\n        \n        System.out.println(&quot;There are &quot; + newWord.numUppercase(word) + &quot;uppercase letters&quot;);\n    }\n    \n    public int numUppercase(String s){\n        char[] ch = new char[s.length()];\n        \n        for (int i = 0; i &lt; s.length(); i++){\n            ch[i] = s.charAt(i);\n            \n        int uppercase = 0;\n        for (int i = 0; i &lt; ch[].length; i++){\n            if(ch[i].valueOf() &gt; 64 &amp;&amp; ch[i].valueOf() &lt; 91){\n                uppercase++;\n            }\n        }\n        return uppercase;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","yaml"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1400522508,"post_id":23744216,"comment_id":36502678,"body_markdown":"Using a POJO would allow you to use existing libraries, and probably do it automatically. Otherwise get yourself a YAML parser, go over it manually, and create the transformed JSON manually too.","body":"Using a POJO would allow you to use existing libraries, and probably do it automatically. Otherwise get yourself a YAML parser, go over it manually, and create the transformed JSON manually too."},{"owner":{"account_id":56360,"reputation":2249,"user_id":168802,"accept_rate":88,"display_name":"Freddy"},"score":0,"creation_date":1400523095,"post_id":23744216,"comment_id":36502985,"body_markdown":"What are you looking for? Reading your post I can only see what you don&#39;t want to do. What are you pre-pared to do? Sorry, -1 for lack of showing any attempt to resolve this problem. All I see is here is my problem, please solve it for me.","body":"What are you looking for? Reading your post I can only see what you don&#39;t want to do. What are you pre-pared to do? Sorry, -1 for lack of showing any attempt to resolve this problem. All I see is here is my problem, please solve it for me."},{"owner":{"account_id":1204476,"reputation":5633,"user_id":1174467,"display_name":"superEb"},"score":1,"creation_date":1400523283,"post_id":23744216,"comment_id":36503079,"body_markdown":"I know [Jackson can read and write YAML](http://www.cowtowncoder.com/blog/archives/2012/05/entry_474.html). Maybe use `new ObjectMapper(new YAMLFactory())` for reading YAML into map structures and then `new ObjectMapper()` for writing JSON?","body":"I know <a href=\"http://www.cowtowncoder.com/blog/archives/2012/05/entry_474.html\" rel=\"nofollow noreferrer\">Jackson can read and write YAML</a>. Maybe use <code>new ObjectMapper(new YAMLFactory())</code> for reading YAML into map structures and then <code>new ObjectMapper()</code> for writing JSON?"},{"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"score":0,"creation_date":1400524315,"post_id":23744216,"comment_id":36503592,"body_markdown":"Thanks for your suggestion superEb, I didn&#39;t know that Jackson can read YAMLs","body":"Thanks for your suggestion superEb, I didn&#39;t know that Jackson can read YAMLs"},{"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"score":0,"creation_date":1400525780,"post_id":23744216,"comment_id":36504355,"body_markdown":"@Freddy I added more info about the specific problem I&#39;m trying to solve.","body":"@Freddy I added more info about the specific problem I&#39;m trying to solve."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1400628765,"post_id":23744216,"comment_id":36555699,"body_markdown":"Surely there&#39;s some tool that will convert YAML to Maps and Lists.  Once so converted it&#39;s trivial to generate the corresponding JSON.","body":"Surely there&#39;s some tool that will convert YAML to Maps and Lists.  Once so converted it&#39;s trivial to generate the corresponding JSON."},{"owner":{"account_id":59096,"reputation":16386,"user_id":176841,"accept_rate":75,"display_name":"jberryman"},"score":0,"creation_date":1500336382,"post_id":23744216,"comment_id":77279837,"body_markdown":"Keep in mind that YAML is a superset of JSON, so you can&#39;t _in general_ do what you&#39;re asking for","body":"Keep in mind that YAML is a superset of JSON, so you can&#39;t <i>in general</i> do what you&#39;re asking for"}],"answers":[{"tags":[],"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1400649940,"creation_date":1400649940,"answer_id":23774617,"question_id":23744216,"body_markdown":"Thanks to HotLicks tip (in the question comments) I finally achieve the conversion using the libraries [org.json][1] and [SnakeYAML][2] in this way:\r\n\r\n    private static String convertToJson(String yamlString) {\r\n        Yaml yaml= new Yaml();\r\n        Map&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\r\n\r\n        JSONObject jsonObject=new JSONObject(map);\r\n        return jsonObject.toString();\r\n    }\r\n\r\nI don&#39;t know if it&#39;s the best way to do it, but it works for me.\r\n\r\n  [1]: http://www.json.org/java/\r\n  [2]: https://code.google.com/p/snakeyaml/","title":"How do I convert from YAML to JSON in Java?","body":"<p>Thanks to HotLicks tip (in the question comments) I finally achieve the conversion using the libraries <a href=\"http://www.json.org/java/\">org.json</a> and <a href=\"https://code.google.com/p/snakeyaml/\">SnakeYAML</a> in this way:</p>\n\n<pre><code>private static String convertToJson(String yamlString) {\n    Yaml yaml= new Yaml();\n    Map&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\n\n    JSONObject jsonObject=new JSONObject(map);\n    return jsonObject.toString();\n}\n</code></pre>\n\n<p>I don't know if it's the best way to do it, but it works for me.</p>\n"},{"tags":[],"owner":{"account_id":5961990,"reputation":51,"user_id":4686884,"display_name":"Todor Kisov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1442402858,"creation_date":1442402858,"answer_id":32607306,"question_id":23744216,"body_markdown":"Big thanks to Miguel A. Carrasco he infact has solved the issue. But his version is restrictive. His code fails if root is list or primitive value. Most general solution is:\r\n\r\n    private static String convertToJson(String yamlString) {\r\n        Yaml yaml= new Yaml();\r\n        Object obj = yaml.load(yamlString);\r\n    \r\n        return JSONValue.toJSONString(obj);\r\n    }\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>Big thanks to Miguel A. Carrasco he infact has solved the issue. But his version is restrictive. His code fails if root is list or primitive value. Most general solution is:</p>\n\n<pre><code>private static String convertToJson(String yamlString) {\n    Yaml yaml= new Yaml();\n    Object obj = yaml.load(yamlString);\n\n    return JSONValue.toJSONString(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1524841479,"creation_date":1468008669,"answer_id":38274671,"question_id":23744216,"body_markdown":"Here is an implementation that uses Jackson:\r\n\r\n    String convertYamlToJson(String yaml) {\r\n        ObjectMapper yamlReader = new ObjectMapper(new YAMLFactory());\r\n        Object obj = yamlReader.readValue(yaml, Object.class);\r\n\r\n        ObjectMapper jsonWriter = new ObjectMapper();\r\n        return jsonWriter.writeValueAsString(obj);\r\n    }\r\n\r\nRequires:\r\n\r\n    compile(&#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.7.4&#39;)","title":"How do I convert from YAML to JSON in Java?","body":"<p>Here is an implementation that uses Jackson:</p>\n\n<pre><code>String convertYamlToJson(String yaml) {\n    ObjectMapper yamlReader = new ObjectMapper(new YAMLFactory());\n    Object obj = yamlReader.readValue(yaml, Object.class);\n\n    ObjectMapper jsonWriter = new ObjectMapper();\n    return jsonWriter.writeValueAsString(obj);\n}\n</code></pre>\n\n<p>Requires:</p>\n\n<pre><code>compile('com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.7.4')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5994477,"reputation":366,"user_id":4925944,"display_name":"JonathanT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472544583,"creation_date":1472544583,"answer_id":39222102,"question_id":23744216,"body_markdown":"I found the example did not produce correct values when converting Swagger (OpenAPI) YAML to JSON.  I wrote the following routine:\r\n\r\n      private static Object _convertToJson(Object o) throws JSONException {\r\n        if (o instanceof Map) {\r\n          Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) o;\r\n    \r\n          JSONObject result = new JSONObject();\r\n    \r\n          for (Map.Entry&lt;Object, Object&gt; stringObjectEntry : map.entrySet()) {\r\n            String key = stringObjectEntry.getKey().toString();\r\n    \r\n            result.put(key, _convertToJson(stringObjectEntry.getValue()));\r\n          }\r\n    \r\n          return result;\r\n        } else if (o instanceof ArrayList) {\r\n          ArrayList arrayList = (ArrayList) o;\r\n          JSONArray result = new JSONArray();\r\n    \r\n          for (Object arrayObject : arrayList) {\r\n            result.put(_convertToJson(arrayObject));\r\n          }\r\n    \r\n          return result;\r\n        } else if (o instanceof String) {\r\n          return o;\r\n        } else if (o instanceof Boolean) {\r\n          return o;\r\n        } else {\r\n          log.error(&quot;Unsupported class [{0}]&quot;, o.getClass().getName());\r\n          return o;\r\n        }\r\n      }\r\n\r\nThen I could use SnakeYAML to load and output the JSON with the following:\r\n\r\n    Yaml yaml= new Yaml();\r\n    Map&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\r\n    \r\n    JSONObject jsonObject = (JSONObject) _convertToJson(map);\r\n    System.out.println(jsonObject.toString(2));\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>I found the example did not produce correct values when converting Swagger (OpenAPI) YAML to JSON.  I wrote the following routine:</p>\n\n<pre><code>  private static Object _convertToJson(Object o) throws JSONException {\n    if (o instanceof Map) {\n      Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) o;\n\n      JSONObject result = new JSONObject();\n\n      for (Map.Entry&lt;Object, Object&gt; stringObjectEntry : map.entrySet()) {\n        String key = stringObjectEntry.getKey().toString();\n\n        result.put(key, _convertToJson(stringObjectEntry.getValue()));\n      }\n\n      return result;\n    } else if (o instanceof ArrayList) {\n      ArrayList arrayList = (ArrayList) o;\n      JSONArray result = new JSONArray();\n\n      for (Object arrayObject : arrayList) {\n        result.put(_convertToJson(arrayObject));\n      }\n\n      return result;\n    } else if (o instanceof String) {\n      return o;\n    } else if (o instanceof Boolean) {\n      return o;\n    } else {\n      log.error(\"Unsupported class [{0}]\", o.getClass().getName());\n      return o;\n    }\n  }\n</code></pre>\n\n<p>Then I could use SnakeYAML to load and output the JSON with the following:</p>\n\n<pre><code>Yaml yaml= new Yaml();\nMap&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\n\nJSONObject jsonObject = (JSONObject) _convertToJson(map);\nSystem.out.println(jsonObject.toString(2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489529113,"creation_date":1489529113,"answer_id":42797444,"question_id":23744216,"body_markdown":"I was directed to this question when searching for a solution to the same issue.\r\n\r\nI also stumbled upon the following article [https://dzone.com/articles/read-yaml-in-java-with-jackson][1]\r\n\r\nIt seems Jackson JSON library has a YAML extension based upon SnakeYAML.\r\nAs Jackson is one of the de facto libraries for JSON I thought that I should link this here.\r\n\r\n\r\n  [1]: https://dzone.com/articles/read-yaml-in-java-with-jackson","title":"How do I convert from YAML to JSON in Java?","body":"<p>I was directed to this question when searching for a solution to the same issue.</p>\n\n<p>I also stumbled upon the following article <a href=\"https://dzone.com/articles/read-yaml-in-java-with-jackson\" rel=\"nofollow noreferrer\">https://dzone.com/articles/read-yaml-in-java-with-jackson</a></p>\n\n<p>It seems Jackson JSON library has a YAML extension based upon SnakeYAML.\nAs Jackson is one of the de facto libraries for JSON I thought that I should link this here.</p>\n"},{"tags":[],"owner":{"account_id":12828488,"reputation":11,"user_id":9280559,"display_name":"Dan R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517165349,"creation_date":1517165349,"answer_id":48490088,"question_id":23744216,"body_markdown":"Thanks, Miguel! Your example helped a lot. I didn&#39;t want to use the &#39;JSON-java&#39; library. I prefer GSON. But it wasn&#39;t hard to translate the logic from JSON-java over to GSON&#39;s domain model. A single function can do the trick:\r\n\r\n    /**\r\n\t * Wraps the object returned by the Snake YAML parser into a GSON JsonElement \r\n\t * representation.  This is similar to the logic in the wrap() function of:\r\n\t * \r\n\t * https://github.com/stleary/JSON-java/blob/master/JSONObject.java\r\n\t */\r\n\tpublic static JsonElement wrapSnakeObject(Object o) {\r\n\t\t\r\n\t\t//NULL =&gt; JsonNull\r\n\t\tif (o == null)\r\n\t\t\treturn JsonNull.INSTANCE;\r\n\t\t\r\n\t\t// Collection =&gt; JsonArray\r\n\t\tif (o instanceof Collection) {\r\n\t\t\tJsonArray array = new JsonArray();\r\n\t\t\tfor (Object childObj : (Collection&lt;?&gt;)o)\r\n\t\t\t\tarray.add(wrapSnakeObject(childObj));\r\n\t\t\treturn array;\r\n        }\r\n\t\t\r\n\t\t// Array =&gt; JsonArray\r\n        if (o.getClass().isArray()) {\r\n            JsonArray array = new JsonArray();\r\n            \r\n            int length = Array.getLength(array);\r\n            for (int i=0; i&lt;length; i++)\r\n                array.add(wrapSnakeObject(Array.get(array, i)));\r\n            \r\n            return array;\r\n        }\r\n        \r\n        // Map =&gt; JsonObject\r\n        if (o instanceof Map) {\r\n            Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;)o;\r\n            \r\n            JsonObject jsonObject = new JsonObject();\r\n            for (final Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n                final String name = String.valueOf(entry.getKey());\r\n            \tfinal Object value = entry.getValue();\r\n                jsonObject.add(name, wrapSnakeObject(value));\r\n            }\r\n            \r\n            return jsonObject;\r\n        }\r\n\t\t\r\n        // everything else =&gt; JsonPrimitive\r\n        if (o instanceof String)\r\n        \treturn new JsonPrimitive((String)o);\r\n        if (o instanceof Number)\r\n        \treturn new JsonPrimitive((Number)o);\r\n        if (o instanceof Character)\r\n        \treturn new JsonPrimitive((Character)o);\r\n        if (o instanceof Boolean)\r\n        \treturn new JsonPrimitive((Boolean)o);\r\n        \r\n        // otherwise.. string is a good guess\r\n        return new JsonPrimitive(String.valueOf(o));\r\n\t}\r\n\r\nThen you can parse a JsonElement from a YAML String with:\r\n\r\n    Yaml yaml = new Yaml();\r\n\tMap&lt;String, Object&gt; yamlMap = yaml.load(yamlString);\r\n\tJsonElement jsonElem = wrapSnakeObject(yamlMap);\r\n\r\nand print it out with:\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\tSystem.out.println(gson.toJson(jsonElem));\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>Thanks, Miguel! Your example helped a lot. I didn't want to use the 'JSON-java' library. I prefer GSON. But it wasn't hard to translate the logic from JSON-java over to GSON's domain model. A single function can do the trick:</p>\n\n<pre><code>/**\n * Wraps the object returned by the Snake YAML parser into a GSON JsonElement \n * representation.  This is similar to the logic in the wrap() function of:\n * \n * https://github.com/stleary/JSON-java/blob/master/JSONObject.java\n */\npublic static JsonElement wrapSnakeObject(Object o) {\n\n    //NULL =&gt; JsonNull\n    if (o == null)\n        return JsonNull.INSTANCE;\n\n    // Collection =&gt; JsonArray\n    if (o instanceof Collection) {\n        JsonArray array = new JsonArray();\n        for (Object childObj : (Collection&lt;?&gt;)o)\n            array.add(wrapSnakeObject(childObj));\n        return array;\n    }\n\n    // Array =&gt; JsonArray\n    if (o.getClass().isArray()) {\n        JsonArray array = new JsonArray();\n\n        int length = Array.getLength(array);\n        for (int i=0; i&lt;length; i++)\n            array.add(wrapSnakeObject(Array.get(array, i)));\n\n        return array;\n    }\n\n    // Map =&gt; JsonObject\n    if (o instanceof Map) {\n        Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;)o;\n\n        JsonObject jsonObject = new JsonObject();\n        for (final Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n            final String name = String.valueOf(entry.getKey());\n            final Object value = entry.getValue();\n            jsonObject.add(name, wrapSnakeObject(value));\n        }\n\n        return jsonObject;\n    }\n\n    // everything else =&gt; JsonPrimitive\n    if (o instanceof String)\n        return new JsonPrimitive((String)o);\n    if (o instanceof Number)\n        return new JsonPrimitive((Number)o);\n    if (o instanceof Character)\n        return new JsonPrimitive((Character)o);\n    if (o instanceof Boolean)\n        return new JsonPrimitive((Boolean)o);\n\n    // otherwise.. string is a good guess\n    return new JsonPrimitive(String.valueOf(o));\n}\n</code></pre>\n\n<p>Then you can parse a JsonElement from a YAML String with:</p>\n\n<pre><code>Yaml yaml = new Yaml();\nMap&lt;String, Object&gt; yamlMap = yaml.load(yamlString);\nJsonElement jsonElem = wrapSnakeObject(yamlMap);\n</code></pre>\n\n<p>and print it out with:</p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\nSystem.out.println(gson.toJson(jsonElem));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636015438,"creation_date":1636015438,"answer_id":69836464,"question_id":23744216,"body_markdown":"Using Gson: \r\n\r\n    var yaml = new YAML();\r\n    var gson = new Gson();        \r\n    var reader = new FileReader(path.toFile());\r\n    var obj = yaml.load(reader);\r\n    var writer = new StringWriter();\r\n    gson.toJson(obj, writer);\r\n    String result = writer.toString();\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>Using Gson:</p>\n<pre><code>var yaml = new YAML();\nvar gson = new Gson();        \nvar reader = new FileReader(path.toFile());\nvar obj = yaml.load(reader);\nvar writer = new StringWriter();\ngson.toJson(obj, writer);\nString result = writer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7557673,"reputation":928,"user_id":5736627,"display_name":"Elias Meireles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639009178,"creation_date":1639009178,"answer_id":70283292,"question_id":23744216,"body_markdown":"Spring boot with kotlin to return a yaml file content as json data\r\n\r\n    package br.com.sportplace.controller\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper\r\n    import com.fasterxml.jackson.dataformat.yaml.YAMLFactory\r\n    import org.springframework.http.HttpStatus\r\n    import org.springframework.http.ResponseEntity\r\n    import org.springframework.web.bind.annotation.GetMapping\r\n    import org.springframework.web.bind.annotation.RequestMapping\r\n    import org.springframework.web.bind.annotation.RestController\r\n    import java.io.InputStream\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = [&quot;resources/docs&quot;])\r\n    class DocsController {\r\n\r\n\r\n        @GetMapping(produces = [&quot;application/json&quot;])\r\n        fun load(): ResponseEntity&lt;Any&gt; {\r\n            return getResourceFileAsString()\r\n        }\r\n\r\n        fun getResourceFileAsString(): ResponseEntity&lt;Any&gt; {\r\n            val inputStream = getResourceFileAsInputStream(&quot;openapi/api.yaml&quot;)\r\n            return if (inputStream != null) {\r\n                val objectMapper = ObjectMapper(YAMLFactory())\r\n                ResponseEntity.ok(objectMapper.readValue(inputStream, Any::class.java))\r\n            } else {\r\n                ResponseEntity(ErrorResponse(), HttpStatus.INTERNAL_SERVER_ERROR)\r\n            }\r\n        }\r\n\r\n        fun getResourceFileAsInputStream(fileName: String?): InputStream? {\r\n            val classLoader = DocsController::class.java.classLoader\r\n            return classLoader.getResourceAsStream(fileName)\r\n        }\r\n\r\n        private data class ErrorResponse(\r\n            val message: String = &quot;Failed to load resource file&quot;,\r\n            val success: Boolean = false,\r\n            val timestamp: Long = System.currentTimeMillis()\r\n        )\r\n    }\r\n\r\n\r\n        ","title":"How do I convert from YAML to JSON in Java?","body":"<p>Spring boot with kotlin to return a yaml file content as json data</p>\n<pre><code>package br.com.sportplace.controller\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.dataformat.yaml.YAMLFactory\nimport org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\nimport java.io.InputStream\n\n\n@RestController\n@RequestMapping(value = [&quot;resources/docs&quot;])\nclass DocsController {\n\n\n    @GetMapping(produces = [&quot;application/json&quot;])\n    fun load(): ResponseEntity&lt;Any&gt; {\n        return getResourceFileAsString()\n    }\n\n    fun getResourceFileAsString(): ResponseEntity&lt;Any&gt; {\n        val inputStream = getResourceFileAsInputStream(&quot;openapi/api.yaml&quot;)\n        return if (inputStream != null) {\n            val objectMapper = ObjectMapper(YAMLFactory())\n            ResponseEntity.ok(objectMapper.readValue(inputStream, Any::class.java))\n        } else {\n            ResponseEntity(ErrorResponse(), HttpStatus.INTERNAL_SERVER_ERROR)\n        }\n    }\n\n    fun getResourceFileAsInputStream(fileName: String?): InputStream? {\n        val classLoader = DocsController::class.java.classLoader\n        return classLoader.getResourceAsStream(fileName)\n    }\n\n    private data class ErrorResponse(\n        val message: String = &quot;Failed to load resource file&quot;,\n        val success: Boolean = false,\n        val timestamp: Long = System.currentTimeMillis()\n    )\n}\n\n\n    \n</code></pre>\n"}],"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70442,"favorite_count":0,"down_vote_count":2,"up_vote_count":46,"accepted_answer_id":38274671,"answer_count":8,"score":44,"last_activity_date":1639009178,"creation_date":1400522236,"question_id":23744216,"body_markdown":"I just want to convert a string that contains a yaml into another string that contains the corrseponding converted json using Java.\r\n\r\nFor example supose that I have the content of this yaml\r\n\r\n    ---\r\n    paper:\r\n       uuid: 8a8cbf60-e067-11e3-8b68-0800200c9a66\r\n       name: On formally undecidable propositions of Principia Mathematica and related systems I.\r\n       author: Kurt G&#246;del.\r\n    tags:\r\n       - tag:\r\n           uuid: 98fb0d90-e067-11e3-8b68-0800200c9a66\r\n           name: Mathematics\r\n       - tag:\r\n           uuid: 3f25f680-e068-11e3-8b68-0800200c9a66\r\n           name: Logic\r\n\r\n\r\nin a String called yamlDoc:\r\n\r\n    String yamlDoc = &quot;---\\npaper:\\n   uuid: 8a... etc...&quot;;\r\n\r\nI want some method that can convert the yaml String into another String with the corresponding json, i.e. the following code\r\n\r\n    String yamlDoc = &quot;---\\npaper:\\n   uuid: 8a... etc...&quot;;\r\n    String json = convertToJson(yamlDoc); // I want this method\r\n    System.out.println(json);\r\n\r\nshould print:\r\n\r\n    {\r\n        &quot;paper&quot;: {\r\n            &quot;uuid&quot;: &quot;8a8cbf60-e067-11e3-8b68-0800200c9a66&quot;,\r\n            &quot;name&quot;: &quot;On formally undecidable propositions of Principia Mathematica and related systems I.&quot;,\r\n            &quot;author&quot;: &quot;Kurt G&#246;del.&quot;\r\n        },\r\n        &quot;tags&quot;: [\r\n            {\r\n                &quot;tag&quot;: {\r\n                    &quot;uuid&quot;: &quot;98fb0d90-e067-11e3-8b68-0800200c9a66&quot;,\r\n                    &quot;name&quot;: &quot;Mathematics&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;tag&quot;: {\r\n                    &quot;uuid&quot;: &quot;3f25f680-e068-11e3-8b68-0800200c9a66&quot;,\r\n                    &quot;name&quot;: &quot;Logic&quot;\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\nI want to know if exists something similar to the **convertToJson()** method in this example.\r\n\r\nI tried to achieve this using [SnakeYAML][1], so this code \r\n\r\n     Yaml yaml = new Yaml();\r\n     Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(yamlDoc);\r\n     \r\n\r\nconstructs a map that contain the parsed YAML structure (using nested Maps). Then if there is a parser that can convert a map into a json String it will solve my problem, but I didn&#39;t find something like that neither.\r\n\r\n\r\nAny response will be greatly appreciated.\r\n\r\n\r\n  [1]: https://code.google.com/p/snakeyaml/ &quot;SnakeYAML&quot;\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>I just want to convert a string that contains a yaml into another string that contains the corrseponding converted json using Java.</p>\n\n<p>For example supose that I have the content of this yaml</p>\n\n<pre><code>---\npaper:\n   uuid: 8a8cbf60-e067-11e3-8b68-0800200c9a66\n   name: On formally undecidable propositions of Principia Mathematica and related systems I.\n   author: Kurt Gdel.\ntags:\n   - tag:\n       uuid: 98fb0d90-e067-11e3-8b68-0800200c9a66\n       name: Mathematics\n   - tag:\n       uuid: 3f25f680-e068-11e3-8b68-0800200c9a66\n       name: Logic\n</code></pre>\n\n<p>in a String called yamlDoc:</p>\n\n<pre><code>String yamlDoc = \"---\\npaper:\\n   uuid: 8a... etc...\";\n</code></pre>\n\n<p>I want some method that can convert the yaml String into another String with the corresponding json, i.e. the following code</p>\n\n<pre><code>String yamlDoc = \"---\\npaper:\\n   uuid: 8a... etc...\";\nString json = convertToJson(yamlDoc); // I want this method\nSystem.out.println(json);\n</code></pre>\n\n<p>should print:</p>\n\n<pre><code>{\n    \"paper\": {\n        \"uuid\": \"8a8cbf60-e067-11e3-8b68-0800200c9a66\",\n        \"name\": \"On formally undecidable propositions of Principia Mathematica and related systems I.\",\n        \"author\": \"Kurt Gdel.\"\n    },\n    \"tags\": [\n        {\n            \"tag\": {\n                \"uuid\": \"98fb0d90-e067-11e3-8b68-0800200c9a66\",\n                \"name\": \"Mathematics\"\n            }\n        },\n        {\n            \"tag\": {\n                \"uuid\": \"3f25f680-e068-11e3-8b68-0800200c9a66\",\n                \"name\": \"Logic\"\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>I want to know if exists something similar to the <strong>convertToJson()</strong> method in this example.</p>\n\n<p>I tried to achieve this using <a href=\"https://code.google.com/p/snakeyaml/\" rel=\"noreferrer\" title=\"SnakeYAML\">SnakeYAML</a>, so this code </p>\n\n<pre><code> Yaml yaml = new Yaml();\n Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(yamlDoc);\n</code></pre>\n\n<p>constructs a map that contain the parsed YAML structure (using nested Maps). Then if there is a parser that can convert a map into a json String it will solve my problem, but I didn't find something like that neither.</p>\n\n<p>Any response will be greatly appreciated.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1639009085,"post_id":70283147,"comment_id":124241932,"body_markdown":"Why does `Mazda` get moved to the first index? What&#39;s the point of storing `Volvo` at the end before truncating? Why don&#39;t you make the copy inside the `if`?","body":"Why does <code>Mazda</code> get moved to the first index? What&#39;s the point of storing <code>Volvo</code> at the end before truncating? Why don&#39;t you make the copy inside the <code>if</code>?"},{"owner":{"account_id":21800719,"reputation":15,"user_id":16099626,"display_name":"Rori2000"},"score":0,"creation_date":1639009717,"post_id":70283147,"comment_id":124242059,"body_markdown":"Unfortunately, this is the layout that I am meant to use. The execution program wants it that way. But to answer your first question, Mazda gets moved to the first index because it swaps places with Volvo. So Volvo gets moved to the last index and Mazda the first.","body":"Unfortunately, this is the layout that I am meant to use. The execution program wants it that way. But to answer your first question, Mazda gets moved to the first index because it swaps places with Volvo. So Volvo gets moved to the last index and Mazda the first."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639008584,"creation_date":1639008584,"answer_id":70283237,"question_id":70283147,"body_markdown":"Why not create a variable to store whether you have found the candidate or not? Then, if the variable says that you have not found it, the second loop can be avoided. For example,\r\n\r\n       ...\r\n       boolean foundCandidate = false; // initialized to &quot;did not find it&quot; \r\n       for( int i = 0; i &lt; carRegister.length; i++ ) {\r\n           String s = carRegister[i];\r\n           if( s.equals( candidate ) ) {\r\n              // changed if found\r\n              foundCandidate = true;\r\n              ...\r\n\r\n       // now, you can avoid this loop (and modifying carRegister) if it is not necessary\r\n       if( foundCanidate) {\r\n          ...\r\n       }","title":"Removing elements from an array in Java","body":"<p>Why not create a variable to store whether you have found the candidate or not? Then, if the variable says that you have not found it, the second loop can be avoided. For example,</p>\n<pre><code>   ...\n   boolean foundCandidate = false; // initialized to &quot;did not find it&quot; \n   for( int i = 0; i &lt; carRegister.length; i++ ) {\n       String s = carRegister[i];\n       if( s.equals( candidate ) ) {\n          // changed if found\n          foundCandidate = true;\n          ...\n\n   // now, you can avoid this loop (and modifying carRegister) if it is not necessary\n   if( foundCanidate) {\n      ...\n   }\n</code></pre>\n"}],"owner":{"account_id":21800719,"reputation":15,"user_id":16099626,"display_name":"Rori2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70283237,"answer_count":1,"score":0,"last_activity_date":1639008584,"creation_date":1639007666,"question_id":70283147,"body_markdown":"    public void removeElement( String candidate ) {\r\n        \r\n    \t// hitta elementet som ska tas bort och placera det sist i arrayen\r\n    \tfor( int i = 0; i &lt; carRegister.length; i++ ) {\r\n    \t\tString s = carRegister[i];\r\n    \t\tif( s.equals( candidate ) ) {\r\n    \t\t\t// byt plats med sista elementet\r\n    \t\t\tString temp = carRegister[carRegister.length-1];\r\n    \t\t\tcarRegister[carRegister.length-1] = s;\r\n    \t\t\tcarRegister[i] = temp;\r\n    \t\t}\t\t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t// Ta bort elementet genom att kopiera &#246;ver alla utom sista elementet till en ny array\r\n    \tString[] tempArray = new String[carRegister.length-1];\r\n    \tfor( int i = 0 ; i &lt; carRegister.length-1; i++ ) {\r\n    \t\ttempArray[i] = carRegister[i];\r\n    \t}\r\n    \t\r\n    \t// den nya arrayen tilldelas arrayen carRegister\r\n    \tcarRegister = tempArray;\r\n    }\r\n\r\nMy problem with the code is that I do not find a way to prevent the copying from the second for loop if the user input (candidate) does not match any of the elements in the array. As you can see it removes Mazda even though the input is &quot;Tesla&quot;. I don&#39;t know how to stop it from removing the last element in the array in this case.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3vtvY.png","title":"Removing elements from an array in Java","body":"<pre><code>public void removeElement( String candidate ) {\n    \n    // hitta elementet som ska tas bort och placera det sist i arrayen\n    for( int i = 0; i &lt; carRegister.length; i++ ) {\n        String s = carRegister[i];\n        if( s.equals( candidate ) ) {\n            // byt plats med sista elementet\n            String temp = carRegister[carRegister.length-1];\n            carRegister[carRegister.length-1] = s;\n            carRegister[i] = temp;\n        }           \n    }\n    \n    \n    // Ta bort elementet genom att kopiera ver alla utom sista elementet till en ny array\n    String[] tempArray = new String[carRegister.length-1];\n    for( int i = 0 ; i &lt; carRegister.length-1; i++ ) {\n        tempArray[i] = carRegister[i];\n    }\n    \n    // den nya arrayen tilldelas arrayen carRegister\n    carRegister = tempArray;\n}\n</code></pre>\n<p>My problem with the code is that I do not find a way to prevent the copying from the second for loop if the user input (candidate) does not match any of the elements in the array. As you can see it removes Mazda even though the input is &quot;Tesla&quot;. I don't know how to stop it from removing the last element in the array in this case.<a href=\"https://i.stack.imgur.com/3vtvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3vtvY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596773524,"creation_date":1596773524,"answer_id":63295078,"question_id":63295053,"body_markdown":"Use add with index as first parameter: public void add(int index, E element)","title":"How to append into first element of Arraylist?","body":"<p>Use add with index as first parameter: public void add(int index, E element)</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596774172,"creation_date":1596774172,"answer_id":63295161,"question_id":63295053,"body_markdown":"Use the `get` method to read the first element from the list, and the `set` method to write the modified value. Read the API documentation to see what methods are available for lists: https://docs.oracle.com/javase/10/docs/api/java/util/List.html\r\n\r\n```\r\nString firstItem = list.get(0);\r\nlist.set(0, firstItem + &quot; 99&quot;);","title":"How to append into first element of Arraylist?","body":"<p>Use the <code>get</code> method to read the first element from the list, and the <code>set</code> method to write the modified value. Read the API documentation to see what methods are available for lists: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/List.html</a></p>\n<pre><code>String firstItem = list.get(0);\nlist.set(0, firstItem + &quot; 99&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19226838,"reputation":253,"user_id":14049546,"display_name":"Jonathan Locke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596775442,"creation_date":1596775442,"answer_id":63295347,"question_id":63295053,"body_markdown":"You might want to consider a LinkedList where insertion is cheaper if this list is very big.","title":"How to append into first element of Arraylist?","body":"<p>You might want to consider a LinkedList where insertion is cheaper if this list is very big.</p>\n"},{"tags":[],"owner":{"account_id":11050835,"reputation":201,"user_id":8115355,"display_name":"TravelerVihaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639008182,"creation_date":1596782370,"answer_id":63296519,"question_id":63295053,"body_markdown":"You can use ```LinkedList.addFirst()``` which has the best performance. But you have to remember, that you are obligated to declare instance your list as ```LinkedList```, instead of a more universal interface ```List```.\r\n\r\nThe second way is to use two arguments ```List.add(int index, E Element)``` method. Then you can have your list declared as ```List```.","title":"How to append into first element of Arraylist?","body":"<p>You can use <code>LinkedList.addFirst()</code> which has the best performance. But you have to remember, that you are obligated to declare instance your list as <code>LinkedList</code>, instead of a more universal interface <code>List</code>.</p>\n<p>The second way is to use two arguments <code>List.add(int index, E Element)</code> method. Then you can have your list declared as <code>List</code>.</p>\n"}],"owner":{"account_id":19244601,"reputation":9,"user_id":14063884,"display_name":"chinmay karangutkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1596812412,"answer_count":4,"score":-2,"last_activity_date":1639008182,"creation_date":1596773364,"question_id":63295053,"body_markdown":"For eg:- my Arraylist is :-\r\n**[S1 10 20 12, S2 11 21 13, S3 13 10 12]**\r\nThus i want to add extra element **(99)** in first place keeping previous ones as they were **[S1 10 20 12]**\r\nMy output should be [S1 10 20 12 **99**, S2 11 21 13, S3 13 10 12]\r\n","title":"How to append into first element of Arraylist?","body":"<p>For eg:- my Arraylist is :-\n<strong>[S1 10 20 12, S2 11 21 13, S3 13 10 12]</strong>\nThus i want to add extra element <strong>(99)</strong> in first place keeping previous ones as they were <strong>[S1 10 20 12]</strong>\nMy output should be [S1 10 20 12 <strong>99</strong>, S2 11 21 13, S3 13 10 12]</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1638718464,"post_id":70235690,"comment_id":124156983,"body_markdown":"Read the docs.  https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#list()   &quot;If this abstract pathname does not denote a directory, then this method returns null. &quot;","body":"Read the docs.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#list()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>   &quot;If this abstract pathname does not denote a directory, then this method returns null. &quot;"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639008133,"creation_date":1638718119,"answer_id":70235773,"question_id":70235690,"body_markdown":"The problem is getting the count when the directory list is null will fail on the first line. Add a test that sets `fileCount` to zero in that case. Like,\r\n\r\n    File[] logFiles = directory.listFiles();\r\n    int fileCount = (logFiles == null) ? 0 : logFiles.length;\r\n    for (int i = 0; i &lt; fileCount; i++) { // &lt;-- this is safe\r\n        File f = logFiles[i];\r\n        System.out.println(f);\r\n    }","title":"Skip folder if it does not exists using java","body":"<p>The problem is getting the count when the directory list is null will fail on the first line. Add a test that sets <code>fileCount</code> to zero in that case. Like,</p>\n<pre><code>File[] logFiles = directory.listFiles();\nint fileCount = (logFiles == null) ? 0 : logFiles.length;\nfor (int i = 0; i &lt; fileCount; i++) { // &lt;-- this is safe\n    File f = logFiles[i];\n    System.out.println(f);\n}\n</code></pre>\n"}],"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70235773,"answer_count":1,"score":-1,"last_activity_date":1639008133,"creation_date":1638717415,"question_id":70235690,"body_markdown":"I have created a property file in java named prop.properties inside eclipse.\r\n\r\nIn prop.properties file, I have added below lines:-\r\nusers = user1,user2,user3\r\n\r\nwhere user1 , user2 and user3 are folders.\r\n\r\nI have created directory named TestDir which contains,\r\nuser1,user3 folders\r\n\r\nSuppose if user2 folder is not present in TestDir, I have to skip that and consider the other folder.\r\n\r\nI have used the below code,\r\n\r\n    int fileCount = directory.list().length;\r\n    File[] logFiles = directory.listFiles();\r\n    \t\t\tif (logFiles != null) {\r\n    \t\t\t\tfor (File f : logFiles) {\r\n    \t\t\t\tSystem.out.println(f);\r\n    \t\t\t\t}\r\n    }\r\n\r\nBut I am getting error. The error is,\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because the return value of &quot;java.io.File.list()&quot; is null\r\n\r\nCan someone help with resolution","title":"Skip folder if it does not exists using java","body":"<p>I have created a property file in java named prop.properties inside eclipse.</p>\n<p>In prop.properties file, I have added below lines:-\nusers = user1,user2,user3</p>\n<p>where user1 , user2 and user3 are folders.</p>\n<p>I have created directory named TestDir which contains,\nuser1,user3 folders</p>\n<p>Suppose if user2 folder is not present in TestDir, I have to skip that and consider the other folder.</p>\n<p>I have used the below code,</p>\n<pre><code>int fileCount = directory.list().length;\nFile[] logFiles = directory.listFiles();\n            if (logFiles != null) {\n                for (File f : logFiles) {\n                System.out.println(f);\n                }\n}\n</code></pre>\n<p>But I am getting error. The error is,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because the return value of &quot;java.io.File.list()&quot; is null\n</code></pre>\n<p>Can someone help with resolution</p>\n"},{"tags":["java","exception","noclassdeffounderror","ini4j"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435783035,"creation_date":1435783035,"answer_id":31171190,"question_id":31171113,"body_markdown":"You also need to specify the -classpath option when you run the program. Java will not automatically pick up the jar files that you passed when you compiled your code.","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>You also need to specify the -classpath option when you run the program. Java will not automatically pick up the jar files that you passed when you compiled your code.</p>\n"},{"tags":[],"owner":{"account_id":175699,"reputation":585,"user_id":405887,"accept_rate":50,"display_name":"Ego"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1435785828,"creation_date":1435785828,"answer_id":31171949,"question_id":31171113,"body_markdown":"The correct answer  for my situation appears to be:\r\n    java -cp .:ini4j-0.5.4.jar Driver\r\nThanks for pointing me in the correct direction guys!!!!  Using an IDE causes one to forget stuff like this.   I really appreciate it!!!!  Thanks!!!!!","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>The correct answer  for my situation appears to be:\n    java -cp .:ini4j-0.5.4.jar Driver\nThanks for pointing me in the correct direction guys!!!!  Using an IDE causes one to forget stuff like this.   I really appreciate it!!!!  Thanks!!!!!</p>\n"},{"tags":[],"owner":{"account_id":23587170,"reputation":1,"user_id":17625484,"display_name":"Adrian Zetak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639007791,"creation_date":1638964974,"answer_id":70274701,"question_id":31171113,"body_markdown":"Look at *Elipse-&gt;Properties-&gt;JavaBuildPath-&gt;Libraries*\r\nlist of extended JARs have to be in CLASSPATH\r\n\r\n[please check for more info][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CaOkx.png","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>Look at <em>Elipse-&gt;Properties-&gt;JavaBuildPath-&gt;Libraries</em>\nlist of extended JARs have to be in CLASSPATH</p>\n<p><a href=\"https://i.stack.imgur.com/CaOkx.png\" rel=\"nofollow noreferrer\">please check for more info</a></p>\n"}],"owner":{"account_id":175699,"reputation":585,"user_id":405887,"accept_rate":50,"display_name":"Ego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":31171949,"answer_count":3,"score":-1,"last_activity_date":1639007791,"creation_date":1435782746,"question_id":31171113,"body_markdown":"Background:\r\nI am trying to use ini4j for the purpose of parsing config files in the ini format.\r\n\r\nI run the command:\r\njavac -classpath ini4j-0.5.4.jar   Driver.java\r\nand the compilation goes smoothly...however when I attempt to run the program running:\r\njava Driver\r\nI get this error: \r\n\r\n`    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini\r\n\tat Clock.main(Clock.java:13)\r\n    Caused by: java.lang.ClassNotFoundException: org.ini4j.Ini\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\t... 1 more`\r\n\r\nFrom what I understand this error is a product of the jvm being able to find the class file being referenced in the error and failing.  I checked the ini4j jar file and confirmed that the Ini.class file does in fact exist.   Can anyone please tell me what am I missing here ?\r\n\r\nThe following is my source code:\r\n\r\n    import java.util.Map;   \r\n    import java.io.IOException;\r\n    import java.io.File;\r\n    import org.ini4j.* ;\r\n    public class Driver{\r\n        public static void main(String[] args){\r\n    \t    System.out.println(&quot;running in Clock-J main()&quot;);\r\n    \t    String fileName = &quot;./test.ini&quot; ;\r\n    \t    File fileObject = new File(fileName);\r\n    \t    try{\r\n    \t\t    Ini ini = new Ini(fileObject);\r\n    \t    }catch(IOException e){\r\n    \t\t    String exception = e.toString() ;\r\n    \t\t    e.printStackTrace();\r\n    \t    }\r\n         }\r\n    }","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>Background:\nI am trying to use ini4j for the purpose of parsing config files in the ini format.</p>\n\n<p>I run the command:\njavac -classpath ini4j-0.5.4.jar   Driver.java\nand the compilation goes smoothly...however when I attempt to run the program running:\njava Driver\nI get this error: </p>\n\n<p><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/ini4j/Ini\n    at Clock.main(Clock.java:13)\n    Caused by: java.lang.ClassNotFoundException: org.ini4j.Ini\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 1 more</code></p>\n\n<p>From what I understand this error is a product of the jvm being able to find the class file being referenced in the error and failing.  I checked the ini4j jar file and confirmed that the Ini.class file does in fact exist.   Can anyone please tell me what am I missing here ?</p>\n\n<p>The following is my source code:</p>\n\n<pre><code>import java.util.Map;   \nimport java.io.IOException;\nimport java.io.File;\nimport org.ini4j.* ;\npublic class Driver{\n    public static void main(String[] args){\n        System.out.println(\"running in Clock-J main()\");\n        String fileName = \"./test.ini\" ;\n        File fileObject = new File(fileName);\n        try{\n            Ini ini = new Ini(fileObject);\n        }catch(IOException e){\n            String exception = e.toString() ;\n            e.printStackTrace();\n        }\n     }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1639009304,"post_id":70283143,"comment_id":124241970,"body_markdown":"Welcome to StackOverflow!  I would start by adding some debug logging in your RecogitionListener#onError and RecognitionListener#onResults methods to see what&#39;s getting called.  Alternatively, you can run the debugger and put breakpoints on these methods and see what&#39;s going on that way.","body":"Welcome to StackOverflow!  I would start by adding some debug logging in your RecogitionListener#onError and RecognitionListener#onResults methods to see what&#39;s getting called.  Alternatively, you can run the debugger and put breakpoints on these methods and see what&#39;s going on that way."},{"owner":{"account_id":21556100,"reputation":1,"user_id":15891316,"display_name":"Zaka"},"score":0,"creation_date":1639013853,"post_id":70283143,"comment_id":124242726,"body_markdown":"I am sorry i didn&#39;t get you told me can you explain more","body":"I am sorry i didn&#39;t get you told me can you explain more"},{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1639026534,"post_id":70283143,"comment_id":124244677,"body_markdown":"You should add logging to your code to help you debug it.  Please read about how to [write and view logs with logcat](https://developer.android.com/studio/debug/am-logcat) and the [logcat command tool](https://developer.android.com/studio/command-line/logcat) for more information.","body":"You should add logging to your code to help you debug it.  Please read about how to <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">write and view logs with logcat</a> and the <a href=\"https://developer.android.com/studio/command-line/logcat\" rel=\"nofollow noreferrer\">logcat command tool</a> for more information."}],"owner":{"account_id":21556100,"reputation":1,"user_id":15891316,"display_name":"Zaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639007635,"creation_date":1639007635,"question_id":70283143,"body_markdown":"Today i am posting my first question here in stackoverflow. \r\nMy app&#39;s subject is speech to text application all the app is working but the text doen&#39;t appear in its zone after saying the speech. So i am here asking you all for help.\r\n Belong my xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edittext&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:hint=&quot;Tap Mic to Speak&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/edittext&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:padding=&quot;40dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:src=&quot;@drawable/ic_baseline_mic_24&quot; /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\nAnd my main code:\r\n\r\n\r\n       package com.example.translationapp;\r\n\r\n\r\n       \r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        checkPermission();\r\n\r\n        final EditText edittext = findViewById(R.id.edittext);\r\n\r\n        final SpeechRecognizer mSpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n\r\n\r\n        final Intent mSpeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,\r\n                Locale.getDefault());\r\n\r\n\r\n        mSpeechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n            @Override\r\n            public void onReadyForSpeech(Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBeginningOfSpeech() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onRmsChanged(float v) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBufferReceived(byte[] bytes) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEndOfSpeech() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(int i) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onResults(Bundle bundle) {\r\n                //getting all the matches\r\n                ArrayList&lt;String&gt; matches = bundle\r\n                        .getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n                //displaying the first match\r\n                if (matches != null) {\r\n                    edittext.setText(matches.get(0));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPartialResults(Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEvent(int i, Bundle bundle) {\r\n\r\n            }\r\n        });\r\n\r\n        findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                switch (motionEvent.getAction()) {\r\n                    case MotionEvent.ACTION_UP:\r\n                        mSpeechRecognizer.stopListening();\r\n                        edittext.setHint(&quot;You will see input here&quot;);\r\n                        break;\r\n\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        mSpeechRecognizer.startListening(mSpeechRecognizerIntent);\r\n                        edittext.setText(&quot;&quot;);\r\n                        edittext.setHint(&quot;Listening...&quot;);\r\n                        break;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void checkPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (!(ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED)) {\r\n                Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\r\n                        Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n     \r\nSo please again and thank you all for your time.\r\n\r\n\r\n","title":"Text doen&#39;t appear after speech in adroid studio","body":"<p>Today i am posting my first question here in stackoverflow.\nMy app's subject is speech to text application all the app is working but the text doen't appear in its zone after saying the speech. So i am here asking you all for help.\nBelong my xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/edittext&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:hint=&quot;Tap Mic to Speak&quot;\n    android:padding=&quot;20dp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:textSize=&quot;20sp&quot; /&gt;\n\n&lt;ImageButton\n    android:id=&quot;@+id/button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/edittext&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:padding=&quot;40dp&quot;\n    android:background=&quot;@color/white&quot;\n    android:src=&quot;@drawable/ic_baseline_mic_24&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>And my main code:</p>\n<pre><code>   package com.example.translationapp;\n\n\n   \n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    checkPermission();\n\n    final EditText edittext = findViewById(R.id.edittext);\n\n    final SpeechRecognizer mSpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n\n\n    final Intent mSpeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n            RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,\n            Locale.getDefault());\n\n\n    mSpeechRecognizer.setRecognitionListener(new RecognitionListener() {\n        @Override\n        public void onReadyForSpeech(Bundle bundle) {\n\n        }\n\n        @Override\n        public void onBeginningOfSpeech() {\n\n        }\n\n        @Override\n        public void onRmsChanged(float v) {\n\n        }\n\n        @Override\n        public void onBufferReceived(byte[] bytes) {\n\n        }\n\n        @Override\n        public void onEndOfSpeech() {\n\n        }\n\n        @Override\n        public void onError(int i) {\n\n        }\n\n        @Override\n        public void onResults(Bundle bundle) {\n            //getting all the matches\n            ArrayList&lt;String&gt; matches = bundle\n                    .getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n            //displaying the first match\n            if (matches != null) {\n                edittext.setText(matches.get(0));\n            }\n        }\n\n        @Override\n        public void onPartialResults(Bundle bundle) {\n\n        }\n\n        @Override\n        public void onEvent(int i, Bundle bundle) {\n\n        }\n    });\n\n    findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View view, MotionEvent motionEvent) {\n            switch (motionEvent.getAction()) {\n                case MotionEvent.ACTION_UP:\n                    mSpeechRecognizer.stopListening();\n                    edittext.setHint(&quot;You will see input here&quot;);\n                    break;\n\n                case MotionEvent.ACTION_DOWN:\n                    mSpeechRecognizer.startListening(mSpeechRecognizerIntent);\n                    edittext.setText(&quot;&quot;);\n                    edittext.setHint(&quot;Listening...&quot;);\n                    break;\n            }\n            return false;\n        }\n    });\n}\n\n\nprivate void checkPermission() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (!(ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED)) {\n            Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\n                    Uri.parse(&quot;package:&quot; + getPackageName()));\n            startActivity(intent);\n            finish();\n        }\n    }\n}\n}\n\n \n</code></pre>\n<p>So please again and thank you all for your time.</p>\n"},{"tags":["java","json","retrofit"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1639006341,"post_id":70282956,"comment_id":124241394,"body_markdown":"Doin&#39;t include links to crap; we assume it is an attempt to give us a virus.  Simplify the JSON and include it in the question.","body":"Doin&#39;t include links to crap; we assume it is an attempt to give us a virus.  Simplify the JSON and include it in the question."},{"owner":{"account_id":23593043,"reputation":1,"user_id":17630533,"display_name":"Gabriel"},"score":0,"creation_date":1639006539,"post_id":70282956,"comment_id":124241425,"body_markdown":"sorry about that, fixed.","body":"sorry about that, fixed."}],"owner":{"account_id":23593043,"reputation":1,"user_id":17630533,"display_name":"Gabriel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639007228,"creation_date":1639006018,"question_id":70282956,"body_markdown":"I&#39;m currently working on an end of the semester project. It is an android app that would function as both a music database and shop, and I am using the MusicBrainz API to fetch the information on releases and artists.\r\n\r\nUnfortunately, I&#39;m stuck on a very vital part of my project: the API itself. I keep getting this error\r\n\r\n    java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n\r\nLooking around online, I discovered that this was because the JSON itself was badly written, however, looking again and using a JSON validator made me realise that this was not the case. Here is the json I&#39;m trying to fetch\r\n\r\n    {\r\n    \t&quot;ipis&quot;: [],\r\n    \t&quot;type&quot;: &quot;Group&quot;,\r\n    \t&quot;life-span&quot;: {\r\n    \t\t&quot;end&quot;: &quot;2017-02-04&quot;,\r\n    \t\t&quot;begin&quot;: &quot;1969&quot;,\r\n    \t\t&quot;ended&quot;: true\r\n    \t},\r\n    \t&quot;area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;United Kingdom&quot;,\r\n    \t\t&quot;id&quot;: &quot;8a754a16-0027-3a29-b6d7-2b40ea0481ed&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;iso-3166-1-codes&quot;: [&quot;GB&quot;],\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;sort-name&quot;: &quot;United Kingdom&quot;\r\n    \t},\r\n    \t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t&quot;type-id&quot;: &quot;e431f5f6-b5d2-343d-8b36-72607fffb74b&quot;,\r\n    \t&quot;isnis&quot;: [&quot;0000000123694269&quot;],\r\n    \t&quot;name&quot;: &quot;Black Sabbath&quot;,\r\n    \t&quot;begin_area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\r\n    \t},\r\n    \t&quot;id&quot;: &quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;,\r\n    \t&quot;gender-id&quot;: null,\r\n    \t&quot;end-area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;\r\n    \t},\r\n    \t&quot;begin-area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\r\n    \t},\r\n    \t&quot;country&quot;: &quot;GB&quot;,\r\n    \t&quot;sort-name&quot;: &quot;Black Sabbath&quot;,\r\n    \t&quot;gender&quot;: null,\r\n    \t&quot;end_area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;\r\n    \t}\r\n    }\r\n\r\nand here is part of my code:\r\n\r\nMy main method:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private  static  final String TAG = &quot;Mainactivity&quot;;\r\n    \r\n        JSONPlaceHolderArtist artistJSON;\r\n        Button b;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            artistJSON = MusicBrainzAPI.getClient().create(JSONPlaceHolderArtist.class);\r\n            b = findViewById(R.id.button);\r\n            b.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    getArtist();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void getArtist() {\r\n            Call&lt;ArtistAPI&gt; call = artistJSON.getArtist(&quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;);\r\n            call.enqueue(new Callback&lt;ArtistAPI&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ArtistAPI&gt; call, Response&lt;ArtistAPI&gt; response) {\r\n                    Log.e(TAG,&quot;on response: &quot; + response.body());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ArtistAPI&gt; call, Throwable t) {\r\n                    Log.i(TAG, &quot;on failure: &quot; + t.getLocalizedMessage());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe ArtistAPI class:\r\n\r\n\r\n    public class ArtistAPI {\r\n    \r\n        String id, name, country, begin, end;\r\n        Boolean ended;\r\n    \r\n        public String getArtistID() {\r\n            return id;\r\n        }\r\n    \r\n        public String getArtistName() {\r\n        [...]\r\n\r\nThe Retrofit interface:\r\n\r\n    public interface JSONPlaceHolderArtist {\r\n    \r\n        @GET(&quot;/artist/{id}/name?fmt=json&quot;)\r\n        Call&lt;ArtistAPI&gt; getArtist(@Path(&quot;id&quot;) String id);\r\n    }\r\nand the API:\r\n\r\n    public class MusicBrainzAPI {\r\n    \r\n        private static final String BASE_URL = &quot;https://musicbrainz.org/ws/2/&quot;;\r\n        private static Retrofit retrofit = null;\r\n    \r\n        public static Retrofit getClient() {\r\n            if (retrofit == null) {\r\n                Gson gson = new GsonBuilder().setLenient().create();\r\n                retrofit = new Retrofit.Builder().baseUrl(BASE_URL).\r\n                        addConverterFactory(GsonConverterFactory.create(gson)).build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n\r\nAny help? Thanks in advance!\r\n\r\n\r\n  [1]: https://musicbrainz.org/ws/2/artist/5182c1d9-c7d2-4dad-afa0-ccfeada921a8/name?fmt=json\r\n","title":"&quot;Expected BEGIN_OBJECT but was STRING&quot; error despite JSON being valid","body":"<p>I'm currently working on an end of the semester project. It is an android app that would function as both a music database and shop, and I am using the MusicBrainz API to fetch the information on releases and artists.</p>\n<p>Unfortunately, I'm stuck on a very vital part of my project: the API itself. I keep getting this error</p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n</code></pre>\n<p>Looking around online, I discovered that this was because the JSON itself was badly written, however, looking again and using a JSON validator made me realise that this was not the case. Here is the json I'm trying to fetch</p>\n<pre><code>{\n    &quot;ipis&quot;: [],\n    &quot;type&quot;: &quot;Group&quot;,\n    &quot;life-span&quot;: {\n        &quot;end&quot;: &quot;2017-02-04&quot;,\n        &quot;begin&quot;: &quot;1969&quot;,\n        &quot;ended&quot;: true\n    },\n    &quot;area&quot;: {\n        &quot;name&quot;: &quot;United Kingdom&quot;,\n        &quot;id&quot;: &quot;8a754a16-0027-3a29-b6d7-2b40ea0481ed&quot;,\n        &quot;type&quot;: null,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;iso-3166-1-codes&quot;: [&quot;GB&quot;],\n        &quot;type-id&quot;: null,\n        &quot;sort-name&quot;: &quot;United Kingdom&quot;\n    },\n    &quot;disambiguation&quot;: &quot;&quot;,\n    &quot;type-id&quot;: &quot;e431f5f6-b5d2-343d-8b36-72607fffb74b&quot;,\n    &quot;isnis&quot;: [&quot;0000000123694269&quot;],\n    &quot;name&quot;: &quot;Black Sabbath&quot;,\n    &quot;begin_area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;type&quot;: null,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;sort-name&quot;: &quot;Birmingham&quot;,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\n    },\n    &quot;id&quot;: &quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;,\n    &quot;gender-id&quot;: null,\n    &quot;end-area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;type&quot;: null,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\n        &quot;sort-name&quot;: &quot;Birmingham&quot;\n    },\n    &quot;begin-area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;type&quot;: null,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;sort-name&quot;: &quot;Birmingham&quot;,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\n    },\n    &quot;country&quot;: &quot;GB&quot;,\n    &quot;sort-name&quot;: &quot;Black Sabbath&quot;,\n    &quot;gender&quot;: null,\n    &quot;end_area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;type&quot;: null,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\n        &quot;sort-name&quot;: &quot;Birmingham&quot;\n    }\n}\n</code></pre>\n<p>and here is part of my code:</p>\n<p>My main method:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private  static  final String TAG = &quot;Mainactivity&quot;;\n\n    JSONPlaceHolderArtist artistJSON;\n    Button b;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        artistJSON = MusicBrainzAPI.getClient().create(JSONPlaceHolderArtist.class);\n        b = findViewById(R.id.button);\n        b.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                getArtist();\n            }\n        });\n    }\n\n    private void getArtist() {\n        Call&lt;ArtistAPI&gt; call = artistJSON.getArtist(&quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;);\n        call.enqueue(new Callback&lt;ArtistAPI&gt;() {\n            @Override\n            public void onResponse(Call&lt;ArtistAPI&gt; call, Response&lt;ArtistAPI&gt; response) {\n                Log.e(TAG,&quot;on response: &quot; + response.body());\n            }\n\n            @Override\n            public void onFailure(Call&lt;ArtistAPI&gt; call, Throwable t) {\n                Log.i(TAG, &quot;on failure: &quot; + t.getLocalizedMessage());\n            }\n        });\n    }\n}\n</code></pre>\n<p>The ArtistAPI class:</p>\n<pre><code>public class ArtistAPI {\n\n    String id, name, country, begin, end;\n    Boolean ended;\n\n    public String getArtistID() {\n        return id;\n    }\n\n    public String getArtistName() {\n    [...]\n</code></pre>\n<p>The Retrofit interface:</p>\n<pre><code>public interface JSONPlaceHolderArtist {\n\n    @GET(&quot;/artist/{id}/name?fmt=json&quot;)\n    Call&lt;ArtistAPI&gt; getArtist(@Path(&quot;id&quot;) String id);\n}\n</code></pre>\n<p>and the API:</p>\n<pre><code>public class MusicBrainzAPI {\n\n    private static final String BASE_URL = &quot;https://musicbrainz.org/ws/2/&quot;;\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit == null) {\n            Gson gson = new GsonBuilder().setLenient().create();\n            retrofit = new Retrofit.Builder().baseUrl(BASE_URL).\n                    addConverterFactory(GsonConverterFactory.create(gson)).build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n<p>Any help? Thanks in advance!</p>\n"},{"tags":["java","csv","export-to-csv","filewriter"],"comments":[{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":""},"score":0,"creation_date":1638800614,"post_id":70246758,"comment_id":124177194,"body_markdown":"Please add the text of your CSV file showing the rows and columns as you wish to add.","body":"Please add the text of your CSV file showing the rows and columns as you wish to add."},{"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"score":0,"creation_date":1638801206,"post_id":70246758,"comment_id":124177472,"body_markdown":"https://imgur.com/oxm4LQJ\n\nSomething like that. And the 3rd iteration will be in 4th row.","body":"<a href=\"https://imgur.com/oxm4LQJ\" rel=\"nofollow noreferrer\">imgur.com/oxm4LQJ</a>  Something like that. And the 3rd iteration will be in 4th row."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638854433,"creation_date":1638836147,"answer_id":70253504,"question_id":70246758,"body_markdown":"For something like this, it is a good idea to use an existing Java CSV library.  One possibility is [Apache Commons CSV](https://commons.apache.org/proper/commons-csv/).  &quot;Google is your friend&quot; if you want to find tutorials or other alternatives.\r\n\r\nBut if you wanted to &quot;roll your own&quot; code, there are various ways to do it.  The simplest way to change your code so that it records multiple rows in the CSV would be to change\r\n\r\n      new FileWriter(&quot;statistic.csv&quot;);\r\n\r\nto\r\n\r\n      new FileWriter(&quot;statistic.csv&quot;, true);\r\n\r\nThat opens the file in &quot;append&quot; mode, and the new row will be added at the end of the file instead of replacing the existing row.\r\n\r\nYou should also use Java 7+ *try with resources* to manage the `FileWriter`.  That will make sure that the `FileWriter` is always properly closed.\r\n\r\nIf you want to get fancy with CSV headers, more efficient file handling, etc, you will need to write your own `CSVWriter` class.  But if you are doing that, you would be better off using a library someone has already designed, written and tested.  (See above!)","title":"Write in specific row via FileWriter Java","body":"<p>For something like this, it is a good idea to use an existing Java CSV library.  One possibility is <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a>.  &quot;Google is your friend&quot; if you want to find tutorials or other alternatives.</p>\n<p>But if you wanted to &quot;roll your own&quot; code, there are various ways to do it.  The simplest way to change your code so that it records multiple rows in the CSV would be to change</p>\n<pre><code>  new FileWriter(&quot;statistic.csv&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>  new FileWriter(&quot;statistic.csv&quot;, true);\n</code></pre>\n<p>That opens the file in &quot;append&quot; mode, and the new row will be added at the end of the file instead of replacing the existing row.</p>\n<p>You should also use Java 7+ <em>try with resources</em> to manage the <code>FileWriter</code>.  That will make sure that the <code>FileWriter</code> is always properly closed.</p>\n<p>If you want to get fancy with CSV headers, more efficient file handling, etc, you will need to write your own <code>CSVWriter</code> class.  But if you are doing that, you would be better off using a library someone has already designed, written and tested.  (See above!)</p>\n"}],"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70253504,"answer_count":1,"score":0,"last_activity_date":1639007189,"creation_date":1638799587,"question_id":70246758,"body_markdown":"I have some data that I want to write. \r\nCode:\r\n\r\n    private void saveStats(int early, int infected, int recovered, int deads, int notInfected, int vaccinated, int iteration){\r\n        try\r\n        {\r\n            FileWriter txt = new FileWriter(&quot;statistic.csv&quot;);\r\n\r\n            txt.write((String.valueOf(early)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write(String.valueOf(infected));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(recovered)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(deads)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(notInfected)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(vaccinated)));\r\n            txt.write(&quot;\\n&quot;);\r\n            txt.close();\r\n\r\n        } catch (IOException ex)\r\n        {\r\n            ex.printStackTrace();\r\n            System.out.println(&quot;Error!&quot;);\r\n        }\r\n    }\r\n\r\nI will use this function to save the iteration number and some additional data; for example:\r\n\r\nIteration Infected Recovered Dead NotInfected Vaccinated\r\n---------------------------------------------------------\r\n\r\n1 200 300 400 500\r\n\r\n2 300 400 600 900\r\n\r\netc\r\n\r\nA perfect solution would have the first row of the file hold names for each column, similar to what&#39;s written above.","title":"Write in specific row via FileWriter Java","body":"<p>I have some data that I want to write.\nCode:</p>\n<pre><code>private void saveStats(int early, int infected, int recovered, int deads, int notInfected, int vaccinated, int iteration){\n    try\n    {\n        FileWriter txt = new FileWriter(&quot;statistic.csv&quot;);\n\n        txt.write((String.valueOf(early)));\n        txt.write(&quot;;&quot;);\n        txt.write(String.valueOf(infected));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(recovered)));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(deads)));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(notInfected)));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(vaccinated)));\n        txt.write(&quot;\\n&quot;);\n        txt.close();\n\n    } catch (IOException ex)\n    {\n        ex.printStackTrace();\n        System.out.println(&quot;Error!&quot;);\n    }\n}\n</code></pre>\n<p>I will use this function to save the iteration number and some additional data; for example:</p>\n<h2>Iteration Infected Recovered Dead NotInfected Vaccinated</h2>\n<p>1 200 300 400 500</p>\n<p>2 300 400 600 900</p>\n<p>etc</p>\n<p>A perfect solution would have the first row of the file hold names for each column, similar to what's written above.</p>\n"},{"tags":["java","hashtable"],"comments":[{"owner":{"account_id":4768650,"reputation":1454,"user_id":3854096,"accept_rate":100,"display_name":"Nick Clark"},"score":0,"creation_date":1639005916,"post_id":70282920,"comment_id":124241311,"body_markdown":"Please add more information to this post, such as the language you&#39;re writing in and what you&#39;ve tried.","body":"Please add more information to this post, such as the language you&#39;re writing in and what you&#39;ve tried."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639006953,"creation_date":1639006953,"answer_id":70283071,"question_id":70282920,"body_markdown":"You can do it like this.\r\n- `map.get(key)` returns the value.\r\n- the `getName()` and `getNumber()` are getters in the class to return their respective values.\r\n```\r\nYourClass instance = map.get(key);\r\nString name = instance.getName();\r\nString number = instance.getNumber();\r\n```\r\nor you can access the instance directly without an intermediate assignment.\r\n```\r\nmap.get(key).getName() or map.get(key).getNumber();\r\n```\r\nThe `Value@2c6a3f77` is the default return of `toString()` when you don&#39;t override it.  You can change that by doing something like this in your class.\r\n```\r\n@Override\r\npublic String toString() {\r\n   return name + &quot;, &quot; + number;\r\n}","title":"Given Key in HashTable how do I return the value if my value have multiple data types","body":"<p>You can do it like this.</p>\n<ul>\n<li><code>map.get(key)</code> returns the value.</li>\n<li>the <code>getName()</code> and <code>getNumber()</code> are getters in the class to return their respective values.</li>\n</ul>\n<pre><code>YourClass instance = map.get(key);\nString name = instance.getName();\nString number = instance.getNumber();\n</code></pre>\n<p>or you can access the instance directly without an intermediate assignment.</p>\n<pre><code>map.get(key).getName() or map.get(key).getNumber();\n</code></pre>\n<p>The <code>Value@2c6a3f77</code> is the default return of <code>toString()</code> when you don't override it.  You can change that by doing something like this in your class.</p>\n<pre><code>@Override\npublic String toString() {\n   return name + &quot;, &quot; + number;\n}\n</code></pre>\n"}],"owner":{"account_id":19846741,"reputation":1,"user_id":14579485,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639006953,"creation_date":1639005722,"question_id":70282920,"body_markdown":"If for example, I have a hashtable with &lt;Key, Value&gt; where Value is a class with both:\r\n\r\nString Name;\r\nint Number;\r\n\r\nGiven a specific Key, how do I return a Value&#39;s Name or Number only? \r\n\r\nCurrently, I can find the Key in the hashtable and return its Value but what it returns is &quot;Value@2c6a3f77&quot; \r\nI&#39;m guessing that the @... is an index associated with how the program stores the data. \r\n","title":"Given Key in HashTable how do I return the value if my value have multiple data types","body":"<p>If for example, I have a hashtable with &lt;Key, Value&gt; where Value is a class with both:</p>\n<p>String Name;\nint Number;</p>\n<p>Given a specific Key, how do I return a Value's Name or Number only?</p>\n<p>Currently, I can find the Key in the hashtable and return its Value but what it returns is &quot;Value@2c6a3f77&quot;\nI'm guessing that the @... is an index associated with how the program stores the data.</p>\n"},{"tags":["java","spring","spring-boot","file","bigdata"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1639005334,"post_id":70282836,"comment_id":124241196,"body_markdown":"Profile your code to find out which part is slow. For instance, is it still slow if you don&#39;t call `doSomethinsWithTheList`? If it isn&#39;t , optimise that.","body":"Profile your code to find out which part is slow. For instance, is it still slow if you don&#39;t call <code>doSomethinsWithTheList</code>? If it isn&#39;t , optimise that."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1639005641,"post_id":70282836,"comment_id":124241268,"body_markdown":"fundamentally, this is a good scenario for using multiple threads and/or multiple processes. If that doesn&#39;t get you there, you can think about using multiple machines (i.e. Hadoop) https://hadoop.apache.org/","body":"fundamentally, this is a good scenario for using multiple threads and/or multiple processes. If that doesn&#39;t get you there, you can think about using multiple machines (i.e. Hadoop) <a href=\"https://hadoop.apache.org/\" rel=\"nofollow noreferrer\">hadoop.apache.org</a>"},{"owner":{"account_id":23592701,"reputation":11,"user_id":17630227,"display_name":"yoyo8"},"score":0,"creation_date":1639006080,"post_id":70282836,"comment_id":124241338,"body_markdown":"@tgdavies doSomethinsWithTheList is just a function that i call, it&#39;s the generating list part that&#39;s slow, as it checks over 100K lines per object","body":"@tgdavies doSomethinsWithTheList is just a function that i call, it&#39;s the generating list part that&#39;s slow, as it checks over 100K lines per object"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639006390,"post_id":70282836,"comment_id":124241401,"body_markdown":"If you simply read through the file, and don&#39;t do anything at all with the lines, is performance ok?","body":"If you simply read through the file, and don&#39;t do anything at all with the lines, is performance ok?"},{"owner":{"account_id":23592701,"reputation":11,"user_id":17630227,"display_name":"yoyo8"},"score":0,"creation_date":1639006862,"post_id":70282836,"comment_id":124241485,"body_markdown":"yes i think it&#39;s the constant lines comparing that&#39;s causing slowness","body":"yes i think it&#39;s the constant lines comparing that&#39;s causing slowness"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639007640,"post_id":70282836,"comment_id":124241623,"body_markdown":"So if you do the comparisons, but don&#39;t add the lines to the list, then performance is bad. If you remove the comparisons, and do nothing with the lines, it&#39;s OK?","body":"So if you do the comparisons, but don&#39;t add the lines to the list, then performance is bad. If you remove the comparisons, and do nothing with the lines, it&#39;s OK?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1639007859,"post_id":70282836,"comment_id":124241672,"body_markdown":"`substring` creates a new object, so if you use `startsWith` and only use `substring` when the prefix changes that may help.","body":"<code>substring</code> creates a new object, so if you use <code>startsWith</code> and only use <code>substring</code> when the prefix changes that may help."}],"owner":{"account_id":23592701,"reputation":11,"user_id":17630227,"display_name":"yoyo8"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639006431,"creation_date":1639005112,"question_id":70282836,"body_markdown":"I have this app where i process a very large file, Extract the lines that have the same first 5 characters (i call this currentlineId ), use them to create an object and do something with it, example sample of the file contents:\r\n\r\n```\r\nAZDFS12345678998765432345678\r\nAZDFS09876545432345678987654\r\nAZDFS34568987654567890987654\r\nAZDFS12345670987654345678998\r\nAZDFS12345098734567765123456\r\n// the lines above have the same first 5 characters, they create Object1.\r\n\r\n\r\nFGHJUY121324\r\nFGHJUY089909\r\nFGHJUYTTUTUU\r\n//same for the lines above, they create Object2.\r\n```\r\n\r\nNB: the lines will always be in an order where lines with the same first 5 will always be together (abover/below each other) so i wonn&#39;t have lines all over the place\r\n\r\nMy current function code: \r\n```\r\n private void processScpFile(File file) {\r\n        LOGGER.info(&quot;Processing File: {} &quot;, file.getName());\r\n\r\n        try (var br = new BufferedReader(new FileReader(file))) {\r\n\r\n            String currentLine;\r\n            String lastLineId = null;\r\n            List&lt;String&gt; similarLineIdsList = new ArrayList&lt;&gt;();\r\n\r\n            while ((currentLine = br.readLine()) != null) {\r\n\r\n                if (StringUtils.isEmpty(lastLineId)) {\r\n                    lastLineId = currentLine.substring(0,5);\r\n                }\r\n\r\n                if (lastLineId.equals(currentLine.substring(0,5))) {\r\n                    similarLineIdsList.add(currentLine);\r\n                }\r\n\r\n                else if (!lastLineId.equals(currentLine.substring(0,5))) {\r\n\r\n\r\n                    doSomethinsWithTheList(similarLineIdsList);\r\n\r\n                    similarLineIdsList.clear();\r\n\r\n                    similarLineIdsList.add(currentLine);\r\n                    lastLineId= currentLine.substring(0,5);\r\n                }\r\n            }\r\n\r\n            doSomethinsWithTheList(similarLineIdsList);\r\n\r\n        }\r\n        catch (IOException e) {\r\n            LOGGER.error(&quot;Couldn&#39;t read file, {}&quot;, e.getMessage(), e);\r\n        }\r\n    }\r\n```\r\nNow this has worked well up until now, but going forward i have to process files where i would have for instance over 100k lines with same first 5, which makes this process very slow.\r\nPlease do you have any suggestion on haow to make this process faster, thank you\r\n\r\nEdit: just to be precise it&#39;s the generating the list with the same first 5 chars that&#39;s slower as the number of similar lines gets larger.","title":"Spring Boot java: Process/Compare lines of very large file","body":"<p>I have this app where i process a very large file, Extract the lines that have the same first 5 characters (i call this currentlineId ), use them to create an object and do something with it, example sample of the file contents:</p>\n<pre><code>AZDFS12345678998765432345678\nAZDFS09876545432345678987654\nAZDFS34568987654567890987654\nAZDFS12345670987654345678998\nAZDFS12345098734567765123456\n// the lines above have the same first 5 characters, they create Object1.\n\n\nFGHJUY121324\nFGHJUY089909\nFGHJUYTTUTUU\n//same for the lines above, they create Object2.\n</code></pre>\n<p>NB: the lines will always be in an order where lines with the same first 5 will always be together (abover/below each other) so i wonn't have lines all over the place</p>\n<p>My current function code:</p>\n<pre><code> private void processScpFile(File file) {\n        LOGGER.info(&quot;Processing File: {} &quot;, file.getName());\n\n        try (var br = new BufferedReader(new FileReader(file))) {\n\n            String currentLine;\n            String lastLineId = null;\n            List&lt;String&gt; similarLineIdsList = new ArrayList&lt;&gt;();\n\n            while ((currentLine = br.readLine()) != null) {\n\n                if (StringUtils.isEmpty(lastLineId)) {\n                    lastLineId = currentLine.substring(0,5);\n                }\n\n                if (lastLineId.equals(currentLine.substring(0,5))) {\n                    similarLineIdsList.add(currentLine);\n                }\n\n                else if (!lastLineId.equals(currentLine.substring(0,5))) {\n\n\n                    doSomethinsWithTheList(similarLineIdsList);\n\n                    similarLineIdsList.clear();\n\n                    similarLineIdsList.add(currentLine);\n                    lastLineId= currentLine.substring(0,5);\n                }\n            }\n\n            doSomethinsWithTheList(similarLineIdsList);\n\n        }\n        catch (IOException e) {\n            LOGGER.error(&quot;Couldn't read file, {}&quot;, e.getMessage(), e);\n        }\n    }\n</code></pre>\n<p>Now this has worked well up until now, but going forward i have to process files where i would have for instance over 100k lines with same first 5, which makes this process very slow.\nPlease do you have any suggestion on haow to make this process faster, thank you</p>\n<p>Edit: just to be precise it's the generating the list with the same first 5 chars that's slower as the number of similar lines gets larger.</p>\n"},{"tags":["java","android","canvas","drawtext"],"comments":[{"owner":{"account_id":183046,"reputation":39445,"user_id":418183,"accept_rate":100,"display_name":"Octavian Helm"},"score":21,"creation_date":1296937257,"post_id":4909367,"comment_id":5466788,"body_markdown":"Every time you put *Android* in the question title a kitten will die so please stop doing that. Thanks.","body":"Every time you put <i>Android</i> in the question title a kitten will die so please stop doing that. Thanks."},{"owner":{"account_id":3549117,"reputation":5794,"user_id":2964379,"accept_rate":86,"display_name":"0101100101"},"score":1,"creation_date":1596159536,"post_id":4909367,"comment_id":111730180,"body_markdown":"9 years later, this question and the accepted answer are still relevant","body":"9 years later, this question and the accepted answer are still relevant"}],"answers":[{"tags":[],"owner":{"account_id":92247,"reputation":6925,"user_id":252871,"accept_rate":60,"display_name":"SteelBytes"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1342276024,"creation_date":1296961170,"answer_id":4911234,"question_id":4909367,"body_markdown":"using mPaint.getTextBounds() you can ask how big the text will be when drawn, then using that info you can calc where you want to draw it.","title":"How to align text vertically?","body":"<p>using mPaint.getTextBounds() you can ask how big the text will be when drawn, then using that info you can calc where you want to draw it.</p>\n"},{"tags":[],"owner":{"account_id":1115247,"reputation":257,"user_id":1104751,"display_name":"gauravjain0102"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1324232676,"creation_date":1324231128,"answer_id":8553604,"question_id":4909367,"body_markdown":"Based on steelbytes&#39; response, the updated code would look something like:\r\n\r\n    void drawHelloRectangle(Canvas c, int topLeftX, int topLeftY, int width, int height) {\r\n        Paint mPaint = new Paint();\r\n        // height of &#39;Hello World&#39;; height*0.7 looks good\r\n        int fontHeight = (int)(height*0.7);\r\n    \r\n        mPaint.setColor(COLOR_RED);\r\n        mPaint.setStyle(Style.FILL);\r\n        c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\r\n    \r\n        mPaint.setTextSize(fontHeight);\r\n        mPaint.setColor(COLOR_BLACK);\r\n        mPaint.setTextAlign(Align.CENTER);\r\n        String textToDraw = new String(&quot;Hello World&quot;);\r\n        Rect bounds = new Rect();\r\n        mPaint.getTextBounds(textToDraw, 0, textToDraw.length(), bounds);\r\n        c.drawText(textToDraw, topLeftX+width/2, topLeftY+height/2+(bounds.bottom-bounds.top)/2, mPaint);\r\n    }","title":"How to align text vertically?","body":"<p>Based on steelbytes' response, the updated code would look something like:</p>\n\n<pre><code>void drawHelloRectangle(Canvas c, int topLeftX, int topLeftY, int width, int height) {\n    Paint mPaint = new Paint();\n    // height of 'Hello World'; height*0.7 looks good\n    int fontHeight = (int)(height*0.7);\n\n    mPaint.setColor(COLOR_RED);\n    mPaint.setStyle(Style.FILL);\n    c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\n\n    mPaint.setTextSize(fontHeight);\n    mPaint.setColor(COLOR_BLACK);\n    mPaint.setTextAlign(Align.CENTER);\n    String textToDraw = new String(\"Hello World\");\n    Rect bounds = new Rect();\n    mPaint.getTextBounds(textToDraw, 0, textToDraw.length(), bounds);\n    c.drawText(textToDraw, topLeftX+width/2, topLeftY+height/2+(bounds.bottom-bounds.top)/2, mPaint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476340,"reputation":319,"user_id":887199,"display_name":"QQchurch"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1427875235,"creation_date":1334972888,"answer_id":10255500,"question_id":4909367,"body_markdown":"    textY = topLeftY + height/2 - (mPaint.descent() + mPaint.ascent()) / 2\r\n\r\nThe distance from &quot;baseline&quot; to &quot;center&quot;  should be  `-(mPaint.descent() + mPaint.ascent()) / 2`\r\n","title":"How to align text vertically?","body":"<pre><code>textY = topLeftY + height/2 - (mPaint.descent() + mPaint.ascent()) / 2\n</code></pre>\n\n<p>The distance from \"baseline\" to \"center\"  should be  <code>-(mPaint.descent() + mPaint.ascent()) / 2</code></p>\n"},{"tags":[],"owner":{"account_id":344194,"reputation":2152,"user_id":676369,"accept_rate":36,"display_name":"Exterminator13"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1342653077,"creation_date":1342653077,"answer_id":11551705,"question_id":4909367,"body_markdown":"    public static PointF getTextCenterToDraw(String text, RectF region, Paint paint) {\r\n\t\tRect textBounds = new Rect();\r\n\t\tpaint.getTextBounds(text, 0, text.length(), textBounds);\r\n\t\tfloat x = region.centerX() - textBounds.width() * 0.4f;\r\n\t\tfloat y = region.centerY() + textBounds.height() * 0.4f;\r\n\t\treturn new PointF(x, y);\r\n\t}\r\n\r\nUsage:\r\n\r\n    PointF p = getTextCenterToDraw(text, rect, paint);\r\n    canvas.drawText(text, p.x, p.y, paint);","title":"How to align text vertically?","body":"<pre><code>public static PointF getTextCenterToDraw(String text, RectF region, Paint paint) {\n    Rect textBounds = new Rect();\n    paint.getTextBounds(text, 0, text.length(), textBounds);\n    float x = region.centerX() - textBounds.width() * 0.4f;\n    float y = region.centerY() + textBounds.height() * 0.4f;\n    return new PointF(x, y);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>PointF p = getTextCenterToDraw(text, rect, paint);\ncanvas.drawText(text, p.x, p.y, paint);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116235,"reputation":1735,"user_id":304876,"display_name":"Pierre-Luc Paour"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1366116802,"creation_date":1366116802,"answer_id":16037608,"question_id":4909367,"body_markdown":"Since drawing text at Y means that the **baseline** of the text will end up Y pixels down from the origin, what you need to do when you want to center text within a rectangle of `(width, height)` dimensions is:\r\n\r\n    paint.setTextAlign(Paint.Align.CENTER);  // centers horizontally\r\n    canvas.drawText(text, width / 2, (height - paint.ascent()) / 2, paint);\r\n\r\nKeep in mind that the ascent is negative (which explains the minus sign).\r\n\r\nThis does not take the descent into account, which is usually what you want (the ascent is generally the height of caps above the baseline).","title":"How to align text vertically?","body":"<p>Since drawing text at Y means that the <strong>baseline</strong> of the text will end up Y pixels down from the origin, what you need to do when you want to center text within a rectangle of <code>(width, height)</code> dimensions is:</p>\n\n<pre><code>paint.setTextAlign(Paint.Align.CENTER);  // centers horizontally\ncanvas.drawText(text, width / 2, (height - paint.ascent()) / 2, paint);\n</code></pre>\n\n<p>Keep in mind that the ascent is negative (which explains the minus sign).</p>\n\n<p>This does not take the descent into account, which is usually what you want (the ascent is generally the height of caps above the baseline).</p>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":1,"up_vote_count":125,"is_accepted":true,"score":124,"last_activity_date":1446284653,"creation_date":1406368026,"answer_id":24969713,"question_id":4909367,"body_markdown":"Example to centre on `cx` and `cy`:\r\n==\r\n\r\n    private final Rect textBounds = new Rect(); //don&#39;t new this up in a draw method\r\n\r\n    public void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy){\r\n      paint.getTextBounds(text, 0, text.length(), textBounds);\r\n      canvas.drawText(text, cx - textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\r\n    }\r\n\r\nWhy doesn&#39;t `height()/2f` work the same?\r\n==\r\n\r\n`exactCentre()` = `(top + bottom) / 2f`.\r\n\r\n`height()/2f` = `(bottom - top) / 2f`\r\n\r\nThese would only yield the same result when `top` is `0`. This may be the case for some fonts at all sizes, or other fonts at some sizes, but not for all fonts at all sizes.","title":"How to align text vertically?","body":"<h1>Example to centre on <code>cx</code> and <code>cy</code>:</h1>\n\n<pre><code>private final Rect textBounds = new Rect(); //don't new this up in a draw method\n\npublic void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy){\n  paint.getTextBounds(text, 0, text.length(), textBounds);\n  canvas.drawText(text, cx - textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\n}\n</code></pre>\n\n<h1>Why doesn't <code>height()/2f</code> work the same?</h1>\n\n<p><code>exactCentre()</code> = <code>(top + bottom) / 2f</code>.</p>\n\n<p><code>height()/2f</code> = <code>(bottom - top) / 2f</code></p>\n\n<p>These would only yield the same result when <code>top</code> is <code>0</code>. This may be the case for some fonts at all sizes, or other fonts at some sizes, but not for all fonts at all sizes.</p>\n"},{"tags":[],"owner":{"account_id":7127861,"reputation":494,"user_id":5450198,"display_name":"N. Osil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525279314,"creation_date":1525279314,"answer_id":50139610,"question_id":4909367,"body_markdown":"I stumbled on this question when trying to solve my issue, and @Weston&#39;s answer works fine with me.\r\n\r\nIn case of Kotlin:\r\n&lt;!-- lang-swift --&gt;\r\n  \r\n    private fun drawText(canvas: Canvas) {\r\n        paint.textSize = 80f\r\n        val text = &quot;Hello!&quot;\r\n        val textBounds = Rect()\r\n        paint.getTextBounds(text, 0, text.length, textBounds);\r\n        canvas.drawText(text, cx- textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\r\n        //in case of another Rect as a container:\r\n        //canvas.drawText(text, containerRect.exactCenterX()- textBounds.exactCenterX(), containerRect.exactCenterY() - textBounds.exactCenterY(), paint);\r\n    }\r\n\r\n","title":"How to align text vertically?","body":"<p>I stumbled on this question when trying to solve my issue, and @Weston's answer works fine with me.</p>\n\n<p>In case of Kotlin:\n</p>\n\n<pre><code>private fun drawText(canvas: Canvas) {\n    paint.textSize = 80f\n    val text = \"Hello!\"\n    val textBounds = Rect()\n    paint.getTextBounds(text, 0, text.length, textBounds);\n    canvas.drawText(text, cx- textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\n    //in case of another Rect as a container:\n    //canvas.drawText(text, containerRect.exactCenterX()- textBounds.exactCenterX(), containerRect.exactCenterY() - textBounds.exactCenterY(), paint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38832,"reputation":1112,"user_id":111711,"display_name":"Benoit Jadinon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1534348732,"creation_date":1534348427,"answer_id":51862157,"question_id":4909367,"body_markdown":"Here is a SkiaSharp C# extension method for anyone looking for it\r\n&lt;!-- language: c# --&gt;\r\n\r\n    public static void DrawTextCenteredVertically(this SKCanvas canvas, string text, SKPaint paint, SKPoint point)\r\n    {\r\n        var textY = point.Y + (((-paint.FontMetrics.Ascent + paint.FontMetrics.Descent) / 2) - paint.FontMetrics.Descent);\r\n        canvas.DrawText(text, point.X, textY, paint);\r\n    }\r\n","title":"How to align text vertically?","body":"<p>Here is a SkiaSharp C# extension method for anyone looking for it\n</p>\n\n<pre><code>public static void DrawTextCenteredVertically(this SKCanvas canvas, string text, SKPaint paint, SKPoint point)\n{\n    var textY = point.Y + (((-paint.FontMetrics.Ascent + paint.FontMetrics.Descent) / 2) - paint.FontMetrics.Descent);\n    canvas.DrawText(text, point.X, textY, paint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9519176,"reputation":111,"user_id":7074602,"display_name":"Emre Hamurcu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615365342,"creation_date":1615365342,"answer_id":66561070,"question_id":4909367,"body_markdown":"    private final Rect textBounds = new Rect();//No need o create again\r\n\r\n    public void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy, float desiredWidth) {\r\n        final float testTextSize = 48f;\r\n        paint.setTextSize(testTextSize);\r\n        Rect bounds = new Rect();\r\n        paint.getTextBounds(text, 0, text.length(), bounds);\r\n        float desiredTextSize = testTextSize * desiredWidth / bounds.width();\r\n        paint.setTextSize(desiredTextSize);\r\n        paint.getTextBounds(text, 0, text.length(), textBounds);\r\n        paint.setTextAlign(Paint.Align.CENTER);\r\n        canvas.drawText(text, cx, cy - textBounds.exactCenterY(), paint);\r\n    }","title":"How to align text vertically?","body":"<pre><code>private final Rect textBounds = new Rect();//No need o create again\n\npublic void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy, float desiredWidth) {\n    final float testTextSize = 48f;\n    paint.setTextSize(testTextSize);\n    Rect bounds = new Rect();\n    paint.getTextBounds(text, 0, text.length(), bounds);\n    float desiredTextSize = testTextSize * desiredWidth / bounds.width();\n    paint.setTextSize(desiredTextSize);\n    paint.getTextBounds(text, 0, text.length(), textBounds);\n    paint.setTextAlign(Paint.Align.CENTER);\n    canvas.drawText(text, cx, cy - textBounds.exactCenterY(), paint);\n}\n</code></pre>\n"}],"owner":{"account_id":284765,"reputation":1191,"user_id":583075,"accept_rate":50,"display_name":"Leszek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45992,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":24969713,"answer_count":9,"score":51,"last_activity_date":1639005355,"creation_date":1296936609,"question_id":4909367,"body_markdown":"Target: Android &gt;= 1.6 on a pure Canvas.\r\n\r\nSuppose I want to write a function that will draw a (width, height) large red rectangle and then draw a black *Hello World* text inside. I want the text to be visually in the center of the rectangle. So let&#39;s try:\r\n\r\n    void drawHelloRectangle(Canvas c, int topLeftX, \r\n            int topLeftY, int width, int height) {\r\n        Paint mPaint = new Paint();\r\n        // height of &#39;Hello World&#39;; height*0.7 looks good\r\n        int fontHeight = (int)(height*0.7);\r\n    \r\n        mPaint.setColor(COLOR_RED);\r\n        mPaint.setStyle(Style.FILL);\r\n        c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\r\n    \r\n        mPaint.setTextSize(fontHeight);\r\n        mPaint.setColor(COLOR_BLACK);\r\n        mPaint.setTextAlign(Align.CENTER);\r\n        c.drawText( &quot;Hello World&quot;, topLeftX+width/2, ????, mPaint);\r\n    }\r\n   \r\nNow I don&#39;t know what to put in drawText&#39;s argument marked by `????`, i.e. I don&#39;t know how to vertically align the text. \r\n\r\nSomething like\r\n\r\n&gt; ???? = topLeftY + height/2 +\r\n&gt; fontHeight/2 - fontHeight/8;\r\n\r\nappears to work more or less ok, but there must be a better way.","title":"How to align text vertically?","body":"<p>Target: Android >= 1.6 on a pure Canvas.</p>\n\n<p>Suppose I want to write a function that will draw a (width, height) large red rectangle and then draw a black <em>Hello World</em> text inside. I want the text to be visually in the center of the rectangle. So let's try:</p>\n\n<pre><code>void drawHelloRectangle(Canvas c, int topLeftX, \n        int topLeftY, int width, int height) {\n    Paint mPaint = new Paint();\n    // height of 'Hello World'; height*0.7 looks good\n    int fontHeight = (int)(height*0.7);\n\n    mPaint.setColor(COLOR_RED);\n    mPaint.setStyle(Style.FILL);\n    c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\n\n    mPaint.setTextSize(fontHeight);\n    mPaint.setColor(COLOR_BLACK);\n    mPaint.setTextAlign(Align.CENTER);\n    c.drawText( \"Hello World\", topLeftX+width/2, ????, mPaint);\n}\n</code></pre>\n\n<p>Now I don't know what to put in drawText's argument marked by <code>????</code>, i.e. I don't know how to vertically align the text. </p>\n\n<p>Something like</p>\n\n<blockquote>\n  <p>???? = topLeftY + height/2 +\n  fontHeight/2 - fontHeight/8;</p>\n</blockquote>\n\n<p>appears to work more or less ok, but there must be a better way.</p>\n"},{"tags":["java","android","date","datetime-format","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638962378,"post_id":70273322,"comment_id":124225244,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. See if you either can use [desugaring](https://developer.android.com/studio/write/java8-support-table) or add [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) to your Android project, in order to use java.time, the modern Java date and time API. It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. See if you either can use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> or add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project, in order to use java.time, the modern Java date and time API. It is so much nicer to work with."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638959148,"creation_date":1638959148,"answer_id":70273426,"question_id":70273322,"body_markdown":"I don&#39;t know a pre-existing date format that does what you want. So you have to do the conditional cases yourself.\r\n\r\nIf the date is in the &quot;today&quot; range (however you want to define that, regarding time zones etc.), generate the text using the &quot;Today&quot; format. If outside, use the generic format.","title":"Java Changing date format for a specific day","body":"<p>I don't know a pre-existing date format that does what you want. So you have to do the conditional cases yourself.</p>\n<p>If the date is in the &quot;today&quot; range (however you want to define that, regarding time zones etc.), generate the text using the &quot;Today&quot; format. If outside, use the generic format.</p>\n"},{"tags":[],"owner":{"account_id":10872350,"reputation":63,"user_id":7993836,"display_name":"Hocine Kheddadji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638960325,"creation_date":1638959661,"answer_id":70273534,"question_id":70273322,"body_markdown":"if you are using java +8, you can use Date/Time API (LocalDate) to calculate the difference between two date and check if its the same date or not, based of the comparison choose your format [Java Date Format][1]\r\n\r\n  [1]: https://howtodoinjava.com/java/date-time/resolverstyle-strict-date-parsing/","title":"Java Changing date format for a specific day","body":"<p>if you are using java +8, you can use Date/Time API (LocalDate) to calculate the difference between two date and check if its the same date or not, based of the comparison choose your format <a href=\"https://howtodoinjava.com/java/date-time/resolverstyle-strict-date-parsing/\" rel=\"nofollow noreferrer\">Java Date Format</a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638965907,"creation_date":1638965907,"answer_id":70274892,"question_id":70273322,"body_markdown":"## java.time\r\n\r\nThis requires two formatters and an `if` statement.\r\n\r\nConsider using java.time, the modern Java date and time API, for your date and time work. Lets first declare the two formatters.\r\n\r\n    private static final DateTimeFormatter TODAY_FORMATTER\r\n            = DateTimeFormatter.ofPattern(&quot;&#39;Today,&#39; HH:mm&quot;, Locale.ENGLISH);\r\n    private static final DateTimeFormatter ANOTHER_DAY_FORMATTER\r\n            = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy, HH:mm&quot;, Locale.ENGLISH);\r\n\r\nTo try them out with different dates and times:\r\n\r\n        LocalDateTime[] dateTimes = {\r\n                LocalDateTime.of(2021, Month.DECEMBER, 7, 23, 45),\r\n                LocalDateTime.of(2021, Month.DECEMBER, 8, 12, 34),\r\n                LocalDateTime.of(2021, Month.DECEMBER, 9, 04, 23)\r\n        };\r\n\r\n        LocalDate today = LocalDate.now(ZoneId.systemDefault());\r\n        for (LocalDateTime ldt : dateTimes) {\r\n            String formattedDateTime;\r\n            if (ldt.toLocalDate().isEqual(today)) {\r\n                formattedDateTime = ldt.format(TODAY_FORMATTER);\r\n            }\r\n            else {\r\n                formattedDateTime = ldt.format(ANOTHER_DAY_FORMATTER);\r\n            }\r\n            System.out.println(formattedDateTime);\r\n        }\r\n\r\nWhen I ran today (December 8 in my time zone), I got:\r\n\r\n&gt;     07.12.2021, 23:45\r\n&gt;     Today, 12:34\r\n&gt;     09.12.2021, 04:23\r\n\r\nIf you insist on being old-fashioned, I am sure the same trick will work with `SimpleDateFormat`. You will of course have a non-trivial task of determining whether the date is today or not.","title":"Java Changing date format for a specific day","body":"<h2>java.time</h2>\n<p>This requires two formatters and an <code>if</code> statement.</p>\n<p>Consider using java.time, the modern Java date and time API, for your date and time work. Lets first declare the two formatters.</p>\n<pre><code>private static final DateTimeFormatter TODAY_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;'Today,' HH:mm&quot;, Locale.ENGLISH);\nprivate static final DateTimeFormatter ANOTHER_DAY_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy, HH:mm&quot;, Locale.ENGLISH);\n</code></pre>\n<p>To try them out with different dates and times:</p>\n<pre><code>    LocalDateTime[] dateTimes = {\n            LocalDateTime.of(2021, Month.DECEMBER, 7, 23, 45),\n            LocalDateTime.of(2021, Month.DECEMBER, 8, 12, 34),\n            LocalDateTime.of(2021, Month.DECEMBER, 9, 04, 23)\n    };\n\n    LocalDate today = LocalDate.now(ZoneId.systemDefault());\n    for (LocalDateTime ldt : dateTimes) {\n        String formattedDateTime;\n        if (ldt.toLocalDate().isEqual(today)) {\n            formattedDateTime = ldt.format(TODAY_FORMATTER);\n        }\n        else {\n            formattedDateTime = ldt.format(ANOTHER_DAY_FORMATTER);\n        }\n        System.out.println(formattedDateTime);\n    }\n</code></pre>\n<p>When I ran today (December 8 in my time zone), I got:</p>\n<blockquote>\n<pre><code>07.12.2021, 23:45\nToday, 12:34\n09.12.2021, 04:23\n</code></pre>\n</blockquote>\n<p>If you insist on being old-fashioned, I am sure the same trick will work with <code>SimpleDateFormat</code>. You will of course have a non-trivial task of determining whether the date is today or not.</p>\n"}],"owner":{"account_id":17996054,"reputation":175,"user_id":13079051,"display_name":"r3cc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70274892,"answer_count":3,"score":-1,"last_activity_date":1639005058,"creation_date":1638958739,"question_id":70273322,"body_markdown":"I want to write today&#39;s date in the following format using SimpleDateFormat:\r\n\r\nToday, 13:14\r\n\r\nOn other days, I want to print it as date and time:\r\n\r\n06.12.2021, 12:59\r\n\r\nI can write in date and time format for previous days, but not in &quot;Today [HOUR]&quot; format during the day.\r\n\r\n`textViewDate.setText(new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm&quot;)`\r\n\r\nPlease guide. Thank you.\r\n","title":"Java Changing date format for a specific day","body":"<p>I want to write today's date in the following format using SimpleDateFormat:</p>\n<p>Today, 13:14</p>\n<p>On other days, I want to print it as date and time:</p>\n<p>06.12.2021, 12:59</p>\n<p>I can write in date and time format for previous days, but not in &quot;Today [HOUR]&quot; format during the day.</p>\n<p><code>textViewDate.setText(new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm&quot;)</code></p>\n<p>Please guide. Thank you.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1638991681,"post_id":70275764,"comment_id":124237111,"body_markdown":"Your question is unclear, you talk about `service1.get` And `service2.store` but later in your last example you are calling `service1.get` and `service.get(flux)` instead. Please update your question to have a correct code example including all return types from the functions. Do they return `error` or do they return `empty` and if different parts go wrong how do you wish the errors to be handled.","body":"Your question is unclear, you talk about <code>service1.get</code> And <code>service2.store</code> but later in your last example you are calling <code>service1.get</code> and <code>service.get(flux)</code> instead. Please update your question to have a correct code example including all return types from the functions. Do they return <code>error</code> or do they return <code>empty</code> and if different parts go wrong how do you wish the errors to be handled."},{"owner":{"account_id":165659,"reputation":1912,"user_id":389294,"accept_rate":58,"display_name":"misco"},"score":0,"creation_date":1638992282,"post_id":70275764,"comment_id":124237341,"body_markdown":"sorry, I fixed the example, and added details about error handling. It should be clear now.","body":"sorry, I fixed the example, and added details about error handling. It should be clear now."}],"answers":[{"tags":[],"owner":{"account_id":10597743,"reputation":949,"user_id":7805773,"accept_rate":67,"display_name":"BrianM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639005009,"creation_date":1639005009,"answer_id":70282823,"question_id":70275764,"body_markdown":"Isnt it also strange to have Flux as a parameter in service2.store? I&#39;m guessing that you just want to do `service1.get().collectList()` so you have a Mono&lt;List&gt; of the result of service1.\r\nAfterwards you could just do a flatmap? e.g. \r\n```\r\nservice1.get()\r\n    .collectList()\r\n    .flatmap(service2::store) // .flatmap(list -&gt; service2.store(list)\r\n    .doOnError(e -&gt; log.error(e.getMessage))\r\n```","title":"Proper reactive operator for two methods","body":"<p>Isnt it also strange to have Flux as a parameter in service2.store? I'm guessing that you just want to do <code>service1.get().collectList()</code> so you have a Mono of the result of service1.\nAfterwards you could just do a flatmap? e.g.</p>\n<pre><code>service1.get()\n    .collectList()\n    .flatmap(service2::store) // .flatmap(list -&gt; service2.store(list)\n    .doOnError(e -&gt; log.error(e.getMessage))\n</code></pre>\n"}],"owner":{"account_id":165659,"reputation":1912,"user_id":389294,"accept_rate":58,"display_name":"misco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639005009,"creation_date":1638969871,"question_id":70275764,"body_markdown":"I have two methods dependent on each other.\r\n\r\n    Flux&lt;DataBuffer&gt; flux = service1.get();\r\n    Mono&lt;String&gt; s = service2.store(flux);\r\n\r\n`service1.get()` returns `Flux&lt;DataBuffer&gt;` or `Flux.error` in case unsuccessful get operation.\r\n\r\n`service2.store(Flux&lt;DataBuffer&gt; flux)` return `Mono&lt;String&gt;` or `Mono.error` in case unsuccessful store operation.\r\n\r\nService2 is reactive feign client, it stores data to file and returns reference.\r\n\r\nI need to make service2 calling dependent on service1, but I want to preserve the param Flux&lt;DataBuffer&gt; and call each method just once.\r\nThe aim is to call `service2.store` just in case successful response from `service1.get`.\r\n\r\nE.g.\r\n\r\n    public Mono&lt;String&gt; mainMethod() {\r\n        return service1.get()\r\n          .unknownOperator(flux -&gt; service2.store(flux))\r\n          .doOnError(e -&gt; log.error(e.getMessage));\r\n    }\r\n\r\nCan you advise me the right operator instead of `unknownOperator`.\r\n\r\nError should be handled such way:\r\n1. error in `service1.get` should be logged and returned from mainMethod. `service2.store` cannot be called.\r\n2. error in `service2.store` should be logged and returned from mainMethod.","title":"Proper reactive operator for two methods","body":"<p>I have two methods dependent on each other.</p>\n<pre><code>Flux&lt;DataBuffer&gt; flux = service1.get();\nMono&lt;String&gt; s = service2.store(flux);\n</code></pre>\n<p><code>service1.get()</code> returns <code>Flux&lt;DataBuffer&gt;</code> or <code>Flux.error</code> in case unsuccessful get operation.</p>\n<p><code>service2.store(Flux&lt;DataBuffer&gt; flux)</code> return <code>Mono&lt;String&gt;</code> or <code>Mono.error</code> in case unsuccessful store operation.</p>\n<p>Service2 is reactive feign client, it stores data to file and returns reference.</p>\n<p>I need to make service2 calling dependent on service1, but I want to preserve the param Flux and call each method just once.\nThe aim is to call <code>service2.store</code> just in case successful response from <code>service1.get</code>.</p>\n<p>E.g.</p>\n<pre><code>public Mono&lt;String&gt; mainMethod() {\n    return service1.get()\n      .unknownOperator(flux -&gt; service2.store(flux))\n      .doOnError(e -&gt; log.error(e.getMessage));\n}\n</code></pre>\n<p>Can you advise me the right operator instead of <code>unknownOperator</code>.</p>\n<p>Error should be handled such way:</p>\n<ol>\n<li>error in <code>service1.get</code> should be logged and returned from mainMethod. <code>service2.store</code> cannot be called.</li>\n<li>error in <code>service2.store</code> should be logged and returned from mainMethod.</li>\n</ol>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1638985181,"post_id":70279380,"comment_id":124234801,"body_markdown":"You want `map()` instead of `forEach()`.","body":"You want <code>map()</code> instead of <code>forEach()</code>."},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1638985643,"post_id":70279380,"comment_id":124234966,"body_markdown":"Well then I get a compiler error: &quot;_no instance(s) of type variable(s) R exist so that void conforms to R_&quot;. I think because changing it to `.map(addition -&gt; addition.setProcessedAt(now))` doesn&#39;t have a return value?","body":"Well then I get a compiler error: &quot;<i>no instance(s) of type variable(s) R exist so that void conforms to R</i>&quot;. I think because changing it to <code>.map(addition -&gt; addition.setProcessedAt(now))</code> doesn&#39;t have a return value?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1638986067,"post_id":70279380,"comment_id":124235153,"body_markdown":"Yeah, you need to return a value from the `map()`. You can do it with `peek()`, but it&#39;s a bit iffy, since it&#39;s not really supposed to be modifying things.","body":"Yeah, you need to return a value from the <code>map()</code>. You can do it with <code>peek()</code>, but it&#39;s a bit iffy, since it&#39;s not really supposed to be modifying things."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638985261,"creation_date":1638985261,"answer_id":70279420,"question_id":70279380,"body_markdown":"You may use [`Stream.peek`][1], it allows to apply an operation on each element and doesn&#39;t keep the result (if there is any) and resume the stream\r\n\r\n    List&lt;Fizzbuzz&gt; additions = latestList.stream()\r\n        .filter(latest -&gt; !currentList.contains(latest))\r\n        .peek(addition -&gt; addition.setProcessedAt(now))\r\n        .collect(Collectors.toList());\r\n\r\n\r\nTo a apply a modifying operation, that would transform the data into something else, you need [`Stream.map`][2]\r\n\r\n [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\r\n\r\n [2]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)","title":"Conditionally modifying collections inline using Java Streams","body":"<p>You may use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Stream.peek</code></a>, it allows to apply an operation on each element and doesn't keep the result (if there is any) and resume the stream</p>\n<pre><code>List&lt;Fizzbuzz&gt; additions = latestList.stream()\n    .filter(latest -&gt; !currentList.contains(latest))\n    .peek(addition -&gt; addition.setProcessedAt(now))\n    .collect(Collectors.toList());\n</code></pre>\n<p>To a apply a modifying operation, that would transform the data into something else, you need <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream.map</code></a></p>\n"},{"tags":[],"owner":{"account_id":7102562,"reputation":173,"user_id":5433503,"display_name":"vaibhav shanker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638985923,"creation_date":1638985923,"answer_id":70279566,"question_id":70279380,"body_markdown":"You need to create Instant as a final variable to use it in lamda expression\r\n","title":"Conditionally modifying collections inline using Java Streams","body":"<p>You need to create Instant as a final variable to use it in lamda expression</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639003930,"creation_date":1639003525,"answer_id":70282644,"question_id":70279380,"body_markdown":"## A *set operation* and List.forEach()\r\n\r\nStreams should not have side effects. Therefore you should not modify any stream element from within a stream operation. So I recommend that you dont use streams at all for your two requirements.\r\n\r\n        List&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;(latestList);\r\n        additions.removeAll(currentList);\r\n        Instant now = Instant.now();\r\n        additions.forEach(addition -&gt; addition.setProcessedAt(now));\r\n\r\nThe first two lines find the fizzbuzzes from `latestList` that are not in `currentList`.  The `removeAll` method is referred to as a *set operation*, not because it works on sets, but because it is used for finding the something like the *set difference* between two collections (in this case two lists). (Other set operations are `addAll()` for a union and `retainAll()` for an intersection.)\r\n\r\nThen the last two lines set `processedAt` as required.","title":"Conditionally modifying collections inline using Java Streams","body":"<h2>A <em>set operation</em> and List.forEach()</h2>\n<p>Streams should not have side effects. Therefore you should not modify any stream element from within a stream operation. So I recommend that you dont use streams at all for your two requirements.</p>\n<pre><code>    List&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;(latestList);\n    additions.removeAll(currentList);\n    Instant now = Instant.now();\n    additions.forEach(addition -&gt; addition.setProcessedAt(now));\n</code></pre>\n<p>The first two lines find the fizzbuzzes from <code>latestList</code> that are not in <code>currentList</code>.  The <code>removeAll</code> method is referred to as a <em>set operation</em>, not because it works on sets, but because it is used for finding the something like the <em>set difference</em> between two collections (in this case two lists). (Other set operations are <code>addAll()</code> for a union and <code>retainAll()</code> for an intersection.)</p>\n<p>Then the last two lines set <code>processedAt</code> as required.</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70279420,"answer_count":3,"score":1,"last_activity_date":1639003930,"creation_date":1638985091,"question_id":70279380,"body_markdown":"Java 11 here. I have a 2 `List&lt;Fizzbuzz&gt;` instances, `latest` and `current`. The &quot;latest&quot; list is the list of _latest_ Fizzbuzzes, hot off the press. The &quot;current&quot; list is the list of Fizbuzzes that I have in my database. I am comparing these lists.\r\n\r\nI need to compare these lists and create a 3rd list, `additions`, which contains any Fizzbuzzes from the `latest` list that are not found inside the `current` list. Its a list of &quot;new&quot; Fizzbuzzes that the database does not have on record.\r\n\r\nFurthermore, I need to set each addition&#39;s `processedAt` field (`Instant`) to the same current date/time. I&#39;d like to try and accomplish this all inline using the Java Stream API. I can accomplish this the &quot;old fashioned&quot; way:\r\n```\r\nList&lt;Fizzbuzz&gt; latestList = getFromFile();\r\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\r\nList&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;();\r\nInstant now = Instant.now();\r\nfor (Fizzbuzz latest : latestList) {\r\n    if (!currentList.contains(latest)) {\r\n        latest.setProcessedAt(now);\r\n        additions.add(latest);\r\n    }\r\n}\r\n```\r\n\r\nMy best attempt using the Java Stream API is:\r\n```\r\nList&lt;Fizzbuzz&gt; latestList = getFromFile();\r\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\r\nInstant now = Instant.now();\r\nList&lt;Fizzbuzz&gt; additions = latestList.stream()\r\n    .filter(latest -&gt; !currentList.contains(latest))\r\n    .forEach(addition -&gt; {\r\n        addition.setProcessedAt(now);\r\n    })\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nThis generates a compiler error because `forEach` doesn&#39;t return anything. Can anyone spot where I&#39;m going awry?","title":"Conditionally modifying collections inline using Java Streams","body":"<p>Java 11 here. I have a 2 <code>List&lt;Fizzbuzz&gt;</code> instances, <code>latest</code> and <code>current</code>. The &quot;latest&quot; list is the list of <em>latest</em> Fizzbuzzes, hot off the press. The &quot;current&quot; list is the list of Fizbuzzes that I have in my database. I am comparing these lists.</p>\n<p>I need to compare these lists and create a 3rd list, <code>additions</code>, which contains any Fizzbuzzes from the <code>latest</code> list that are not found inside the <code>current</code> list. Its a list of &quot;new&quot; Fizzbuzzes that the database does not have on record.</p>\n<p>Furthermore, I need to set each addition's <code>processedAt</code> field (<code>Instant</code>) to the same current date/time. I'd like to try and accomplish this all inline using the Java Stream API. I can accomplish this the &quot;old fashioned&quot; way:</p>\n<pre><code>List&lt;Fizzbuzz&gt; latestList = getFromFile();\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\nList&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;();\nInstant now = Instant.now();\nfor (Fizzbuzz latest : latestList) {\n    if (!currentList.contains(latest)) {\n        latest.setProcessedAt(now);\n        additions.add(latest);\n    }\n}\n</code></pre>\n<p>My best attempt using the Java Stream API is:</p>\n<pre><code>List&lt;Fizzbuzz&gt; latestList = getFromFile();\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\nInstant now = Instant.now();\nList&lt;Fizzbuzz&gt; additions = latestList.stream()\n    .filter(latest -&gt; !currentList.contains(latest))\n    .forEach(addition -&gt; {\n        addition.setProcessedAt(now);\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>This generates a compiler error because <code>forEach</code> doesn't return anything. Can anyone spot where I'm going awry?</p>\n"},{"tags":["java","gson","bukkit"],"comments":[{"owner":{"account_id":8927372,"reputation":804,"user_id":6661222,"accept_rate":60,"display_name":"retrovius"},"score":0,"creation_date":1693919711,"post_id":70278950,"comment_id":135820718,"body_markdown":"Did you ever figure out a way to do this? I&#39;m trying to do the exact same thing.","body":"Did you ever figure out a way to do this? I&#39;m trying to do the exact same thing."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639003803,"creation_date":1639003803,"answer_id":70282681,"question_id":70278950,"body_markdown":"The issue is most likely that `ItemStack.deserialize` expects `&quot;meta&quot;` [to be an instance of `ItemMeta`](https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/inventory/ItemStack.java?at=ffd8b28939b4ec84855f8a10c93463ec113def13#526). However because you are telling Gson to deserialize the data as `Map&lt;String, Object&gt;`, it does not know about this requirement and deserializes the `&quot;meta&quot;` property value as `Map` instead.\r\n\r\nYou could possibly work around this by writing a custom Gson `TypeAdapter` which handles this, but it might be still rather brittle.\r\n\r\nMaybe you can in some way use `ConfigurationSection` for serialization as shown [here](https://www.spigotmc.org/threads/how-do-i-get-save-an-itemstack-from-to-my-config.362120/#post-3328511), but I don&#39;t know how well that works or if it is the proper (and safe) solution to this.","title":"How to correctly deserialize ItemStack?","body":"<p>The issue is most likely that <code>ItemStack.deserialize</code> expects <code>&quot;meta&quot;</code> <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/inventory/ItemStack.java?at=ffd8b28939b4ec84855f8a10c93463ec113def13#526\" rel=\"nofollow noreferrer\">to be an instance of <code>ItemMeta</code></a>. However because you are telling Gson to deserialize the data as <code>Map&lt;String, Object&gt;</code>, it does not know about this requirement and deserializes the <code>&quot;meta&quot;</code> property value as <code>Map</code> instead.</p>\n<p>You could possibly work around this by writing a custom Gson <code>TypeAdapter</code> which handles this, but it might be still rather brittle.</p>\n<p>Maybe you can in some way use <code>ConfigurationSection</code> for serialization as shown <a href=\"https://www.spigotmc.org/threads/how-do-i-get-save-an-itemstack-from-to-my-config.362120/#post-3328511\" rel=\"nofollow noreferrer\">here</a>, but I don't know how well that works or if it is the proper (and safe) solution to this.</p>\n"}],"owner":{"account_id":22554667,"reputation":111,"user_id":16743260,"display_name":"Bennnii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639003803,"creation_date":1638982991,"question_id":70278950,"body_markdown":"I&#39;m working on a way to save ItemStacks in a MySQL-Database. The serializing and saving works fine but if I deserialize it, I just get the Item without the ItemMeta (e.g. Item isn&#39;t enchanted after deserializing).\r\n\r\nHas anyone an idea how to deserialize it correctly? I found much about this on the internet but everything was outdatet and hasn&#39;t worked with 1.16.4.\r\n\r\n**My functions:**\r\n\r\n    private static String itemStackToString(ItemStack item) {\r\n        Gson gson = new Gson();\r\n        return gson.toJson(item.serialize());\r\n    }\r\n\r\n    private static ItemStack stringToItemStack(String str) {\r\n        Gson gson = new Gson();\r\n        Map&lt;String, Object&gt; map = gson.fromJson(str, new TypeToken&lt;Map&lt;String, Object&gt;(){}.getType());\r\n        return ItemStack.deserialize(map);\r\n    }","title":"How to correctly deserialize ItemStack?","body":"<p>I'm working on a way to save ItemStacks in a MySQL-Database. The serializing and saving works fine but if I deserialize it, I just get the Item without the ItemMeta (e.g. Item isn't enchanted after deserializing).</p>\n<p>Has anyone an idea how to deserialize it correctly? I found much about this on the internet but everything was outdatet and hasn't worked with 1.16.4.</p>\n<p><strong>My functions:</strong></p>\n<pre><code>private static String itemStackToString(ItemStack item) {\n    Gson gson = new Gson();\n    return gson.toJson(item.serialize());\n}\n\nprivate static ItemStack stringToItemStack(String str) {\n    Gson gson = new Gson();\n    Map&lt;String, Object&gt; map = gson.fromJson(str, new TypeToken&lt;Map&lt;String, Object&gt;(){}.getType());\n    return ItemStack.deserialize(map);\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","dsl","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":9403276,"reputation":1111,"user_id":8422138,"display_name":"Eddie Lopez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639003713,"creation_date":1639003713,"answer_id":70282670,"question_id":70281389,"body_markdown":"Check Kotlin Symbol Processing (KSP), which is the newest tool/API to write compiler plugins or processors. With it, you can write a plugin that parses the CDM library and generates the DSL, making it available right away to the client app. This would happen during the client project build phase, producing a local and unique DSL based on the CDM version.\r\n\r\nhttps://www.youtube.com/watch?v=bv-VyGM3HCY\r\n\r\nhttps://kotlinlang.org/docs/ksp-overview.html ","title":"Code generator as a gradle plugin or dependency","body":"<p>Check Kotlin Symbol Processing (KSP), which is the newest tool/API to write compiler plugins or processors. With it, you can write a plugin that parses the CDM library and generates the DSL, making it available right away to the client app. This would happen during the client project build phase, producing a local and unique DSL based on the CDM version.</p>\n<p><a href=\"https://www.youtube.com/watch?v=bv-VyGM3HCY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bv-VyGM3HCY</a></p>\n<p><a href=\"https://kotlinlang.org/docs/ksp-overview.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/ksp-overview.html</a></p>\n"}],"owner":{"account_id":12341582,"reputation":31,"user_id":9004533,"display_name":"Vincent Jug&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639003713,"creation_date":1638995583,"question_id":70281389,"body_markdown":"I&#39;ve written a code generator https://github.com/vjuge/cdmdsl which uses gradle&#39;s buildSrc  to generate some kotlin DSL code, from a financial model library named &#39;CDM&#39; https://regnosys.jfrog.io/artifactory/libs-snapshot\r\n\r\nIt&#39;s using java&#39;s reflection capacity to generate the DSL dynamically (the model change quite often, new types are introduced, properties are changed/removed, etc.)\r\n\r\nIt is working fine, and thus we can include this DSL to manipulate the model easily, from inside any java-based applications.\r\n\r\nThe drawback today is that I need to regularly build and deploy versions of my DSL in order to follow CDM releases. This is a bit annoying and not sustainable.\r\n\r\nI wonder if there is any way to make my project able to build &#39;on-the-fly&#39;, as a dependency:\r\n1. An application would implement two dependencies : this DSL + CDM lib\r\n2. The application would set the wanted CDM dependency version\r\n3. The DSL would be used like a gradle plugin to generate the code based on the corresponding cdm version at application&#39;s build time\r\n\r\nHopefully my description is clear enough!","title":"Code generator as a gradle plugin or dependency","body":"<p>I've written a code generator <a href=\"https://github.com/vjuge/cdmdsl\" rel=\"nofollow noreferrer\">https://github.com/vjuge/cdmdsl</a> which uses gradle's buildSrc  to generate some kotlin DSL code, from a financial model library named 'CDM' <a href=\"https://regnosys.jfrog.io/artifactory/libs-snapshot\" rel=\"nofollow noreferrer\">https://regnosys.jfrog.io/artifactory/libs-snapshot</a></p>\n<p>It's using java's reflection capacity to generate the DSL dynamically (the model change quite often, new types are introduced, properties are changed/removed, etc.)</p>\n<p>It is working fine, and thus we can include this DSL to manipulate the model easily, from inside any java-based applications.</p>\n<p>The drawback today is that I need to regularly build and deploy versions of my DSL in order to follow CDM releases. This is a bit annoying and not sustainable.</p>\n<p>I wonder if there is any way to make my project able to build 'on-the-fly', as a dependency:</p>\n<ol>\n<li>An application would implement two dependencies : this DSL + CDM lib</li>\n<li>The application would set the wanted CDM dependency version</li>\n<li>The DSL would be used like a gradle plugin to generate the code based on the corresponding cdm version at application's build time</li>\n</ol>\n<p>Hopefully my description is clear enough!</p>\n"},{"tags":["java","multithreading","intellij-idea"],"comments":[{"owner":{"account_id":18284469,"reputation":140,"user_id":13312696,"display_name":"Gius"},"score":0,"creation_date":1639001733,"post_id":70282321,"comment_id":124240269,"body_markdown":"Post your code so we can see what could be the problem. If the program involves multithreading, remember that the output can change executing multiple times if you don&#39;t differently cover this behavior.","body":"Post your code so we can see what could be the problem. If the program involves multithreading, remember that the output can change executing multiple times if you don&#39;t differently cover this behavior."},{"owner":{"account_id":182885,"reputation":121,"user_id":417905,"display_name":"Matt Vickery"},"score":1,"creation_date":1639001769,"post_id":70282321,"comment_id":124240286,"body_markdown":"Hi, welcome to stackoverflow. Im afraid youre going to have to be far more specific with detail before anyone is going to be in a position to be able to help you.","body":"Hi, welcome to stackoverflow. Im afraid youre going to have to be far more specific with detail before anyone is going to be in a position to be able to help you."},{"owner":{"account_id":20091934,"reputation":1,"user_id":14732227,"display_name":"syed zaid bin haris"},"score":0,"creation_date":1639003040,"post_id":70282321,"comment_id":124240619,"body_markdown":"I have added parts of the files which I think are relevant. sry for the late reply.\nAnd @Gius you are right, the program did change it outputs once.","body":"I have added parts of the files which I think are relevant. sry for the late reply. And @Gius you are right, the program did change it outputs once."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1639004084,"post_id":70282321,"comment_id":124240883,"body_markdown":"Possibly unrelated but instead of `Paths.get(currentPath.toString(),filename);` it&#39;s better to do `currentPath.resolve(filename)`","body":"Possibly unrelated but instead of <code>Paths.get(currentPath.toString(),filename);</code> it&#39;s better to do <code>currentPath.resolve(filename)</code>"},{"owner":{"account_id":20091934,"reputation":1,"user_id":14732227,"display_name":"syed zaid bin haris"},"score":0,"creation_date":1639005203,"post_id":70282321,"comment_id":124241170,"body_markdown":"@BenAnderson ,tried that, it doesnt work.","body":"@BenAnderson ,tried that, it doesnt work."}],"owner":{"account_id":20091934,"reputation":1,"user_id":14732227,"display_name":"syed zaid bin haris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639002970,"creation_date":1639001352,"question_id":70282321,"body_markdown":"A friend of mine was having some issues with her project,she sent the files for me to debug. I am not sure but from the looks of it she doesn&#39;t use any ide, so when I got the files I made an Intellij project and copy pasted the files there.\r\n\r\nWhen I ran the files on intellij it gave me a filenotfound exception, that was not been given in cmd.So I added the correct file path.\r\n\r\nthe file involves multithreading.\r\n\r\nAfter that, I ran the file on intellij and it gave the desired output.\r\n\r\nHowever, the file is giving a completely different output if I run it from cmd. \r\n\r\n    //This is the part from main where a thread is being made \r\n    Event e = new Restart(gc, 0, filename);\r\n        gc.addEvent(e);\r\n        new Thread(e).start();\r\n\r\nIn the restart class there is where the issue was:\r\n\r\n    public void getEvents(String filename) {\r\n\r\n    // open the file and read it using Scanner\r\n    try {\r\n      /** The file containing event details */\r\n      File myFile = new File(filename);\r\n      /** The Scanner object to read file */\r\n      Scanner myReader = new Scanner(myFile);\r\n      /** Current event being analyzed by Scanner */\r\n      String myEvent;\r\n      /** The delay with which the event will occur in ms  */\r\n      long delayTime;\r\n\r\n\r\n\r\n      while ((myReader.hasNextLine()) \r\n        &amp;&amp; ((myEvent = myReader.nextLine()) != null)) {\r\n        int equal = myEvent.indexOf(&#39;=&#39;);\r\n        int comma = myEvent.indexOf(&#39;,&#39;);\r\n        String className = myEvent.substring(equal+1, comma);\r\n        myEvent = myEvent.substring(comma+1);\r\n        Event e;\r\n        \r\n        if (myEvent.contains(&quot;rings&quot;)) {\r\n          equal = myEvent.indexOf(&quot;=&quot;);\r\n          comma = myEvent.indexOf(&quot;,&quot;);\r\n          delayTime = Long.parseLong(myEvent.substring(equal+1, comma));\r\n          myEvent = myEvent.substring(comma+1);\r\n          equal = myEvent.indexOf(&quot;=&quot;);\r\n          int rings = Integer.parseInt(myEvent.substring(equal+1));\r\n          e = new Bell(delayTime);\r\n          gc.addEvent(e);\r\n          new Thread(e).start();\r\n          while(rings-- &gt; 1) {\r\n            e = new Bell(delayTime += 2000);\r\n            gc.addEvent(e);\r\n            new Thread(e).start();\r\n          }\r\n        } \r\n        else {\r\n          equal = myEvent.indexOf(&quot;=&quot;);\r\n          delayTime = Long.parseLong(myEvent.substring(equal+1));\r\n          Class&lt;Event&gt; myClass = (Class&lt;Event&gt;)Class.forName(&quot;tme4.&quot; + className);\r\n          Constructor&lt;Event&gt; ctor = myClass.getConstructor(long.class);\r\n          e = ctor.newInstance(delayTime);\r\n          gc.addEvent(e);\r\n          new Thread(e).start();\r\n        }\r\n      }\r\n\r\n      myReader.close();\r\n    } catch (Exception e) {\r\n      e.printStackTrace();;\r\n    }\r\n  }\r\n\r\n\r\nI only changed the first few lines:\r\nFrom This:\r\n\r\n     File myFile = new File(filename);\r\n      /** The Scanner object to read file */\r\n      Scanner myReader = new Scanner(myFile);\r\n\r\n     Path currentPath = Paths.get(System.getProperty(&quot;user.dir&quot;));\r\n      Path filePath = Paths.get(currentPath.toString(),filename);\r\nTo This:\r\n  \r\n\r\n    filePath=Paths.get(&quot;C:\\\\Users\\\\Admin\\\\IdeaProjects\\\\summayah\\\\src\\\\examples1.txt&quot;);\r\n      System.out.println(filePath);\r\n      File myFile = new File(filename);\r\n      /** The Scanner object to read file */\r\n      Scanner myReader = new Scanner(myFile);\r\n\r\n\r\n\r\nCan someone kindly help me? Thanks in advance","title":"Same File giving different output on intellij and cmd","body":"<p>A friend of mine was having some issues with her project,she sent the files for me to debug. I am not sure but from the looks of it she doesn't use any ide, so when I got the files I made an Intellij project and copy pasted the files there.</p>\n<p>When I ran the files on intellij it gave me a filenotfound exception, that was not been given in cmd.So I added the correct file path.</p>\n<p>the file involves multithreading.</p>\n<p>After that, I ran the file on intellij and it gave the desired output.</p>\n<p>However, the file is giving a completely different output if I run it from cmd.</p>\n<pre><code>//This is the part from main where a thread is being made \nEvent e = new Restart(gc, 0, filename);\n    gc.addEvent(e);\n    new Thread(e).start();\n</code></pre>\n<p>In the restart class there is where the issue was:</p>\n<pre><code>public void getEvents(String filename) {\n\n// open the file and read it using Scanner\ntry {\n  /** The file containing event details */\n  File myFile = new File(filename);\n  /** The Scanner object to read file */\n  Scanner myReader = new Scanner(myFile);\n  /** Current event being analyzed by Scanner */\n  String myEvent;\n  /** The delay with which the event will occur in ms  */\n  long delayTime;\n\n\n\n  while ((myReader.hasNextLine()) \n    &amp;&amp; ((myEvent = myReader.nextLine()) != null)) {\n    int equal = myEvent.indexOf('=');\n    int comma = myEvent.indexOf(',');\n    String className = myEvent.substring(equal+1, comma);\n    myEvent = myEvent.substring(comma+1);\n    Event e;\n    \n    if (myEvent.contains(&quot;rings&quot;)) {\n      equal = myEvent.indexOf(&quot;=&quot;);\n      comma = myEvent.indexOf(&quot;,&quot;);\n      delayTime = Long.parseLong(myEvent.substring(equal+1, comma));\n      myEvent = myEvent.substring(comma+1);\n      equal = myEvent.indexOf(&quot;=&quot;);\n      int rings = Integer.parseInt(myEvent.substring(equal+1));\n      e = new Bell(delayTime);\n      gc.addEvent(e);\n      new Thread(e).start();\n      while(rings-- &gt; 1) {\n        e = new Bell(delayTime += 2000);\n        gc.addEvent(e);\n        new Thread(e).start();\n      }\n    } \n    else {\n      equal = myEvent.indexOf(&quot;=&quot;);\n      delayTime = Long.parseLong(myEvent.substring(equal+1));\n      Class&lt;Event&gt; myClass = (Class&lt;Event&gt;)Class.forName(&quot;tme4.&quot; + className);\n      Constructor&lt;Event&gt; ctor = myClass.getConstructor(long.class);\n      e = ctor.newInstance(delayTime);\n      gc.addEvent(e);\n      new Thread(e).start();\n    }\n  }\n\n  myReader.close();\n} catch (Exception e) {\n  e.printStackTrace();;\n}\n</code></pre>\n<p>}</p>\n<p>I only changed the first few lines:\nFrom This:</p>\n<pre><code> File myFile = new File(filename);\n  /** The Scanner object to read file */\n  Scanner myReader = new Scanner(myFile);\n\n Path currentPath = Paths.get(System.getProperty(&quot;user.dir&quot;));\n  Path filePath = Paths.get(currentPath.toString(),filename);\n</code></pre>\n<p>To This:</p>\n<pre><code>filePath=Paths.get(&quot;C:\\\\Users\\\\Admin\\\\IdeaProjects\\\\summayah\\\\src\\\\examples1.txt&quot;);\n  System.out.println(filePath);\n  File myFile = new File(filename);\n  /** The Scanner object to read file */\n  Scanner myReader = new Scanner(myFile);\n</code></pre>\n<p>Can someone kindly help me? Thanks in advance</p>\n"},{"tags":["java","android","database","sqlite"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1639003811,"post_id":70282456,"comment_id":124240821,"body_markdown":"SQLite in Android is not designed for large BLOB columns like that. I strongly recommend hat you store your images as ordinary files, and perhaps store the filenames in the database.","body":"SQLite in Android is not designed for large BLOB columns like that. I strongly recommend hat you store your images as ordinary files, and perhaps store the filenames in the database."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1639003833,"post_id":70282456,"comment_id":124240827,"body_markdown":"Consider storing the URI in DB (rather than the actual content), and fetch the actual image only when it needs to be displayed.","body":"Consider storing the URI in DB (rather than the actual content), and fetch the actual image only when it needs to be displayed."},{"owner":{"account_id":15207348,"reputation":66,"user_id":10973298,"display_name":"Mohsen Mashkour"},"score":0,"creation_date":1639006831,"post_id":70282456,"comment_id":124241475,"body_markdown":"I know this way but in case of deleting the images from the memory the data will be damaged. And the user will loose a part of his data.","body":"I know this way but in case of deleting the images from the memory the data will be damaged. And the user will loose a part of his data."}],"owner":{"account_id":15207348,"reputation":66,"user_id":10973298,"display_name":"Mohsen Mashkour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639002307,"creation_date":1639002307,"question_id":70282456,"body_markdown":"I&#39;m trying to build a notebook app using the SQLite database. everything works ok but whenever the images larger than 1MB Is added to the row of the database there won&#39;t be any new row shown on the recyclerView. while i delete all the items of the database it will work again correctly.\r\n\r\nthe question is how can i save images larger than 1MB in my database?\r\n \r\n\r\n**this is the main database:**\r\n\r\n    public class MainDatabase extends SQLiteOpenHelper {\r\n    private Context context;\r\n    private SQLiteDatabase sqLiteDatabase;\r\n    private static final String DATABASE_NAME = &quot;MainDatabase.db&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n\r\n    /// memo library\r\n    private static final String TABLE_NAME_MEMO = &quot;memo_library&quot;;\r\n    private static final String MEMO_ID = &quot;memo_id&quot;;\r\n    private static final String MEMO_TITLE = &quot;memo_title&quot;;\r\n    private static final String MEMO_MEMO = &quot;memo_memo&quot;;\r\n    private static final String MEMO_DATE = &quot;memo_date&quot;;\r\n    private static final String MEMO_IMAGE = &quot;memo_image&quot;;\r\n    private static final String MEMO_LOCATION = &quot;memo_location&quot;;\r\n\r\n    /// tasks library\r\n\r\n    public MainDatabase(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        try {\r\n            String memo_query = &quot;CREATE TABLE &quot; + TABLE_NAME_MEMO +\r\n                    &quot; (&quot; + MEMO_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    MEMO_TITLE + &quot; VARCHAR, &quot; +\r\n                    MEMO_MEMO + &quot; TEXT, &quot; +\r\n                    MEMO_DATE + &quot; VARCHAR, &quot; +\r\n                    MEMO_IMAGE + &quot; BLOB NOT NULL, &quot; +\r\n                    MEMO_LOCATION + &quot; VARCHAR);&quot;;\r\n            sqLiteDatabase.execSQL(memo_query);\r\n\r\n        } catch (Exception e) {\r\n            Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**this is the method to insert the data:**\r\n\r\n// add data method:\r\n\r\n    void addMemo(MemoData memoData) {\r\n        try {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n            ContentValues contentValues = new ContentValues();\r\n\r\n            contentValues.put(MEMO_TITLE, memoData.getTitle());\r\n            contentValues.put(MEMO_MEMO, memoData.getMemo());\r\n            contentValues.put(MEMO_DATE, memoData.getDate());\r\n            contentValues.put(MEMO_IMAGE, convertImage(memoData));\r\n            contentValues.put(MEMO_LOCATION, memoData.getLocation());\r\n\r\n            long result = db.insert(TABLE_NAME_MEMO, null, contentValues);\r\n            if (result == -1) {\r\n                Toast.makeText(context, &quot;Failed to save&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(context, &quot;Successfully Saved&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } catch (Exception e) {\r\n            Toast.makeText(context, &quot;Memo Exception:  &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n**this is the part of the code that i wrote to add the image through its path:**\r\n\r\n     private byte[] convertImage(MemoData memoData) {\r\n        Bitmap bitmap = null;\r\n        ByteArrayOutputStream stream = null;\r\n\r\n        if (memoData.getImage() != null){ // memoData is a class which i put the path of the image as String object in it\r\n        Uri uri = Uri.parse(memoData.getImage());\r\n\r\n            try {\r\n                InputStream inputStream = context.getContentResolver().openInputStream(uri);\r\n                bitmap = BitmapFactory.decodeStream(inputStream);\r\n\r\n\r\n\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }else {\r\n            bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.header1);\r\n        }\r\n\r\n\r\n        stream = new ByteArrayOutputStream();\r\n        assert bitmap != null;\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n\r\n        //assert stream != null;\r\n        return stream.toByteArray();\r\n       //return new byte[0];\r\n    }\r\n","title":"how can save images larger than 1MB on sqlite database android?","body":"<p>I'm trying to build a notebook app using the SQLite database. everything works ok but whenever the images larger than 1MB Is added to the row of the database there won't be any new row shown on the recyclerView. while i delete all the items of the database it will work again correctly.</p>\n<p>the question is how can i save images larger than 1MB in my database?</p>\n<p><strong>this is the main database:</strong></p>\n<pre><code>public class MainDatabase extends SQLiteOpenHelper {\nprivate Context context;\nprivate SQLiteDatabase sqLiteDatabase;\nprivate static final String DATABASE_NAME = &quot;MainDatabase.db&quot;;\nprivate static final int DATABASE_VERSION = 1;\n\n/// memo library\nprivate static final String TABLE_NAME_MEMO = &quot;memo_library&quot;;\nprivate static final String MEMO_ID = &quot;memo_id&quot;;\nprivate static final String MEMO_TITLE = &quot;memo_title&quot;;\nprivate static final String MEMO_MEMO = &quot;memo_memo&quot;;\nprivate static final String MEMO_DATE = &quot;memo_date&quot;;\nprivate static final String MEMO_IMAGE = &quot;memo_image&quot;;\nprivate static final String MEMO_LOCATION = &quot;memo_location&quot;;\n\n/// tasks library\n\npublic MainDatabase(@Nullable Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    this.context = context;\n}\n\n@Override\npublic void onCreate(SQLiteDatabase sqLiteDatabase) {\n    try {\n        String memo_query = &quot;CREATE TABLE &quot; + TABLE_NAME_MEMO +\n                &quot; (&quot; + MEMO_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                MEMO_TITLE + &quot; VARCHAR, &quot; +\n                MEMO_MEMO + &quot; TEXT, &quot; +\n                MEMO_DATE + &quot; VARCHAR, &quot; +\n                MEMO_IMAGE + &quot; BLOB NOT NULL, &quot; +\n                MEMO_LOCATION + &quot; VARCHAR);&quot;;\n        sqLiteDatabase.execSQL(memo_query);\n\n    } catch (Exception e) {\n        Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><strong>this is the method to insert the data:</strong></p>\n<p>// add data method:</p>\n<pre><code>void addMemo(MemoData memoData) {\n    try {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues contentValues = new ContentValues();\n\n        contentValues.put(MEMO_TITLE, memoData.getTitle());\n        contentValues.put(MEMO_MEMO, memoData.getMemo());\n        contentValues.put(MEMO_DATE, memoData.getDate());\n        contentValues.put(MEMO_IMAGE, convertImage(memoData));\n        contentValues.put(MEMO_LOCATION, memoData.getLocation());\n\n        long result = db.insert(TABLE_NAME_MEMO, null, contentValues);\n        if (result == -1) {\n            Toast.makeText(context, &quot;Failed to save&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(context, &quot;Successfully Saved&quot;, Toast.LENGTH_SHORT).show();\n        }\n    } catch (Exception e) {\n        Toast.makeText(context, &quot;Memo Exception:  &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><strong>this is the part of the code that i wrote to add the image through its path:</strong></p>\n<pre><code> private byte[] convertImage(MemoData memoData) {\n    Bitmap bitmap = null;\n    ByteArrayOutputStream stream = null;\n\n    if (memoData.getImage() != null){ // memoData is a class which i put the path of the image as String object in it\n    Uri uri = Uri.parse(memoData.getImage());\n\n        try {\n            InputStream inputStream = context.getContentResolver().openInputStream(uri);\n            bitmap = BitmapFactory.decodeStream(inputStream);\n\n\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }else {\n        bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.header1);\n    }\n\n\n    stream = new ByteArrayOutputStream();\n    assert bitmap != null;\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n\n    //assert stream != null;\n    return stream.toByteArray();\n   //return new byte[0];\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638998559,"post_id":70281824,"comment_id":124239289,"body_markdown":"I don&#39;t think you can use `reduce()`. Subtraction is not associative.","body":"I don&#39;t think you can use <code>reduce()</code>. Subtraction is not associative."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638998848,"post_id":70281824,"comment_id":124239377,"body_markdown":"But you can do something like `Stream.of(book2, bookN).reduce(CountData::increase).map(book1::decrease).orElse(book1)`","body":"But you can do something like <code>Stream.of(book2, bookN).reduce(CountData::increase).map(book1::decrease).orEl&zwnj;&#8203;se(book1)</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639126349,"post_id":70281824,"comment_id":124273918,"body_markdown":"There is no point in processing two objects with a `Stream` in this way. Whatever you write into the body of the reduction function would do its job better and simpler without the surrounding `Stream` operation, when just applied to the two objects directly.","body":"There is no point in processing two objects with a <code>Stream</code> in this way. Whatever you write into the body of the reduction function would do its job better and simpler without the surrounding <code>Stream</code> operation, when just applied to the two objects directly."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639002269,"creation_date":1639002269,"answer_id":70282445,"question_id":70281824,"body_markdown":"The following ad hoc solution uses a single-element stream of `book2` to be subtracted from a seed initialized with `book1` values:\r\n```java\r\nCount reduced = Stream.of(book2)\r\n    .reduce(new Count(book1.getWords(), book1.getCharacters()), Count::decrease);\r\n```\r\nHere value of `book1` is not affected.\r\n\r\nHowever, for this specific case this can be done without Stream API:\r\n```java\r\nCount reduced = new Count(book1.getWords(), book1.getCharacters())\r\n        .decrease(book2);\r\n```","title":"Decrease two custom objects values using reduce operation","body":"<p>The following ad hoc solution uses a single-element stream of <code>book2</code> to be subtracted from a seed initialized with <code>book1</code> values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Count reduced = Stream.of(book2)\n    .reduce(new Count(book1.getWords(), book1.getCharacters()), Count::decrease);\n</code></pre>\n<p>Here value of <code>book1</code> is not affected.</p>\n<p>However, for this specific case this can be done without Stream API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Count reduced = new Count(book1.getWords(), book1.getCharacters())\n        .decrease(book2);\n</code></pre>\n"}],"owner":{"account_id":9582475,"reputation":179,"user_id":7116503,"accept_rate":75,"display_name":"pcCC28"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639002269,"creation_date":1638998218,"question_id":70281824,"body_markdown":"I have a custom object like the following one.\r\n```\r\npublic class Count {\r\n    private int words;\r\n    private int characters;\r\n    //getters &amp; setters &amp;&amp; all args constructor\r\n\r\n    void Count decrease(Count other) {\r\n       this.words -= other.words;\r\n       this.characters -= other.characters; \r\n       return this;\r\n    }\r\n}\r\n```\r\nI want to achieve the next result, e.g:\r\n\r\nCount book1 = new Count(10, 35);\r\n\r\nCount book2 = new Count(6, 10);\r\n\r\nthe result would be:\r\nCount result = Count(4, 25) -&gt; ([10-6], [35-10])\r\n\r\nI tried this solution but it didn&#39;t work.\r\n\r\n`Stream.of(book1, book2).reduce(new CountData(), CountData::decrease)`\r\n\r\nIt&#39;s possible to achieve this result using reduce operation or another stream operation from java &gt;=8 ?","title":"Decrease two custom objects values using reduce operation","body":"<p>I have a custom object like the following one.</p>\n<pre><code>public class Count {\n    private int words;\n    private int characters;\n    //getters &amp; setters &amp;&amp; all args constructor\n\n    void Count decrease(Count other) {\n       this.words -= other.words;\n       this.characters -= other.characters; \n       return this;\n    }\n}\n</code></pre>\n<p>I want to achieve the next result, e.g:</p>\n<p>Count book1 = new Count(10, 35);</p>\n<p>Count book2 = new Count(6, 10);</p>\n<p>the result would be:\nCount result = Count(4, 25) -&gt; ([10-6], [35-10])</p>\n<p>I tried this solution but it didn't work.</p>\n<p><code>Stream.of(book1, book2).reduce(new CountData(), CountData::decrease)</code></p>\n<p>It's possible to achieve this result using reduce operation or another stream operation from java &gt;=8 ?</p>\n"},{"tags":["java","eclipse","findbugs"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638981037,"post_id":70277771,"comment_id":124233046,"body_markdown":"Are you sure that you have the plugin installed in your Eclipse library and that it is on the build path?","body":"Are you sure that you have the plugin installed in your Eclipse library and that it is on the build path?"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1638985564,"post_id":70277771,"comment_id":124234937,"body_markdown":"Imports would have to be something in the .classpath rather than .projects","body":"Imports would have to be something in the .classpath rather than .projects"},{"owner":{"account_id":202924,"reputation":7699,"user_id":450274,"accept_rate":63,"display_name":"Asken"},"score":0,"creation_date":1638995979,"post_id":70277771,"comment_id":124238467,"body_markdown":"@HovercraftFullOfEels I&#39;m for sure not sure :) How do I make sure of that?","body":"@HovercraftFullOfEels I&#39;m for sure not sure :) How do I make sure of that?"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639002002,"creation_date":1639002002,"answer_id":70282404,"question_id":70277771,"body_markdown":"The first part of a jar name, using the usual naming convention for imported jars, is a reverse of the url where the jar originates. So in this case, given &quot;edu.umd&quot; I did a search for &quot;umd.edu&quot; and came to the site for the University of Maryland.\r\n\r\nFrom their, using their search field, I entered keywords derived from the rest of the name: &quot;findbugs plugin&quot;. The keyword &quot;eclipse&quot; would have also be a good try. The results of the search showed that UMD has [an Eclipse plugin called findbugs][1].\r\n\r\nTo load a plugin, in Eclipse, on the tab &quot;Help&quot; select &quot;Eclipse Marketplace&quot;. From there, enter &quot;findbugs&quot;. The plugin that you are missing will likely be one of the first shown. I believe in this case it is called &quot;FindBugs Eclipse Plugin 3.0.1&quot;. If you install this, the error will likely disappear.\r\n\r\nIt might be worth checking first to see if the plugin is already installed. To do this, click on the &quot;Help&quot; tab the &quot;About&quot; at the bottom. (It probably says &quot;About Eclipse&quot;--I&#39;m using a variant of Eclipse so mine says &quot;About Spring Tool Suite 4&quot; so I can&#39;t give you the exact phrase you will see.) From the popup that appears, there should be a button &quot;Installation Details&quot;. Click this for yet another popup and on this one, there should be a tab for &quot;Plug-ins&quot;. Clicking this should give you a list of all your current plug-ins.\r\n\r\nGiven the elapsed time, sometimes things go stale, so you may actually have an older version of the plugin. If so, it will require updating or reinstalling. Also, depending on the age of the code you are trying to run, your code may need some modification if it&#39;s attempting to use deprecated/deleted elements of the plug-in. So you might not be totally out of the woods yet. However, Eclipse should give you the error messages needed for determining the next steps if that is the case.\r\n\r\nBut there IS a good chance adding the plug-in to your Eclipse IDE will be sufficient to get the code running again.\r\n\r\n  [1]: https://findbugs.cs.umd.edu/eclipse/","title":"Trying to compile an old Java project but missing resources and I don&#39;t know how to include them","body":"<p>The first part of a jar name, using the usual naming convention for imported jars, is a reverse of the url where the jar originates. So in this case, given &quot;edu.umd&quot; I did a search for &quot;umd.edu&quot; and came to the site for the University of Maryland.</p>\n<p>From their, using their search field, I entered keywords derived from the rest of the name: &quot;findbugs plugin&quot;. The keyword &quot;eclipse&quot; would have also be a good try. The results of the search showed that UMD has <a href=\"https://findbugs.cs.umd.edu/eclipse/\" rel=\"nofollow noreferrer\">an Eclipse plugin called findbugs</a>.</p>\n<p>To load a plugin, in Eclipse, on the tab &quot;Help&quot; select &quot;Eclipse Marketplace&quot;. From there, enter &quot;findbugs&quot;. The plugin that you are missing will likely be one of the first shown. I believe in this case it is called &quot;FindBugs Eclipse Plugin 3.0.1&quot;. If you install this, the error will likely disappear.</p>\n<p>It might be worth checking first to see if the plugin is already installed. To do this, click on the &quot;Help&quot; tab the &quot;About&quot; at the bottom. (It probably says &quot;About Eclipse&quot;--I'm using a variant of Eclipse so mine says &quot;About Spring Tool Suite 4&quot; so I can't give you the exact phrase you will see.) From the popup that appears, there should be a button &quot;Installation Details&quot;. Click this for yet another popup and on this one, there should be a tab for &quot;Plug-ins&quot;. Clicking this should give you a list of all your current plug-ins.</p>\n<p>Given the elapsed time, sometimes things go stale, so you may actually have an older version of the plugin. If so, it will require updating or reinstalling. Also, depending on the age of the code you are trying to run, your code may need some modification if it's attempting to use deprecated/deleted elements of the plug-in. So you might not be totally out of the woods yet. However, Eclipse should give you the error messages needed for determining the next steps if that is the case.</p>\n<p>But there IS a good chance adding the plug-in to your Eclipse IDE will be sufficient to get the code running again.</p>\n"}],"owner":{"account_id":202924,"reputation":7699,"user_id":450274,"accept_rate":63,"display_name":"Asken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639002002,"creation_date":1638978266,"question_id":70277771,"body_markdown":"Very new to Java. I have some old code I&#39;m looking at and I have a problem with `findbugs`. I&#39;m using Eclipse and a regular Java project. I&#39;ve installed it using the `Install new software` from the `Help` menu but now I don&#39;t know how to continue. I can see that it&#39;s added to the `.project` file too.\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;projectDescription&gt;\r\n\t\t&lt;name&gt;My Project&lt;/name&gt;\r\n\t\t&lt;comment&gt;&lt;/comment&gt;\r\n\t\t&lt;projects&gt;\r\n\t\t&lt;/projects&gt;\r\n\t\t&lt;buildSpec&gt;\r\n\t\t\t&lt;buildCommand&gt;\r\n\t\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t&lt;/buildCommand&gt;\r\n\t\t\t&lt;buildCommand&gt;\r\n\t\t\t\t&lt;name&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsBuilder&lt;/name&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;/buildSpec&gt;\r\n\t\t&lt;natures&gt;\r\n\t\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t\t\t&lt;nature&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsNature&lt;/nature&gt;\r\n\t\t&lt;/natures&gt;\r\n\t&lt;/projectDescription&gt;\r\n\r\n`.classpath`\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;classpath&gt;\r\n\t\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-16&quot;&gt;\r\n\t\t\t&lt;attributes&gt;\r\n\t\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/attributes&gt;\r\n\t\t&lt;/classpathentry&gt;\r\n\t\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n\t&lt;/classpath&gt;\r\n\r\nI get the below unresolved error.\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2McJE.png","title":"Trying to compile an old Java project but missing resources and I don&#39;t know how to include them","body":"<p>Very new to Java. I have some old code I'm looking at and I have a problem with <code>findbugs</code>. I'm using Eclipse and a regular Java project. I've installed it using the <code>Install new software</code> from the <code>Help</code> menu but now I don't know how to continue. I can see that it's added to the <code>.project</code> file too.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;My Project&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsBuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n        &lt;nature&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsNature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n<p><code>.classpath</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-16&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>I get the below unresolved error.</p>\n<p><a href=\"https://i.stack.imgur.com/2McJE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2McJE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","endpoint","okta","http-status-code-400","okta-api"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1638984951,"post_id":70279298,"comment_id":124234690,"body_markdown":"Does it work fine, if you start your flow from your application rather? Configuring Okta to support &quot;IdP&quot; initiated flow for OIDC might be bit tricky. But I&#39;d definitely recommend you to log all the calls you make to Okta, so that you can restore the flow. So far it&#39;s not clear from your explanation what it is","body":"Does it work fine, if you start your flow from your application rather? Configuring Okta to support &quot;IdP&quot; initiated flow for OIDC might be bit tricky. But I&#39;d definitely recommend you to log all the calls you make to Okta, so that you can restore the flow. So far it&#39;s not clear from your explanation what it is"},{"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"score":0,"creation_date":1638986016,"post_id":70279298,"comment_id":124235130,"body_markdown":"When I hit my application URL, each time it always takes me to OKTA login page and my application opens correctly on entering credential and authenticated by okta.\n\nCan you tell me what do you mean by restore the flow?","body":"When I hit my application URL, each time it always takes me to OKTA login page and my application opens correctly on entering credential and authenticated by okta.  Can you tell me what do you mean by restore the flow?"},{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1638994712,"post_id":70279298,"comment_id":124238056,"body_markdown":"I&#39;d suggest then to stick to the flow which is working. Or are you expecting your users to log into Okta first to click the chicklet to log into your app? By default, OIDC application do not support the latter flow in Okta. I&#39;m sorry, I haven&#39;t understood your question `Can you tell me what do you mean by restore the flow?`","body":"I&#39;d suggest then to stick to the flow which is working. Or are you expecting your users to log into Okta first to click the chicklet to log into your app? By default, OIDC application do not support the latter flow in Okta. I&#39;m sorry, I haven&#39;t understood your question <code>Can you tell me what do you mean by restore the flow?</code>"}],"answers":[{"tags":[],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639001629,"creation_date":1639001629,"answer_id":70282352,"question_id":70279298,"body_markdown":"Thanks for the response Philipp.\r\n\r\nFound the issue. Looks like okta code is becoming invalid when tab is closed and when i try to use the old okta code it threw me 400 error. Changed my code flow to get new okta code whenever the application is triggered from okta dashboard. That solved the problem.","title":"OKTA issue while application is logging in","body":"<p>Thanks for the response Philipp.</p>\n<p>Found the issue. Looks like okta code is becoming invalid when tab is closed and when i try to use the old okta code it threw me 400 error. Changed my code flow to get new okta code whenever the application is triggered from okta dashboard. That solved the problem.</p>\n"}],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639001629,"creation_date":1638984603,"question_id":70279298,"body_markdown":"I am using [Authorization grant type-authorization code][1] in my java application (not sping boot).\r\n\r\nI have the below issue.\r\n\r\n 1. In browser enter okta server url\r\n 2. okta authenticates\r\n 3. now it enters into okta console and shows all the applications that user have proper access to\r\n 4. I clicked on my application  it takes me to my application properly.\r\n 5. I just clicked X to close the tab.\r\n 6. Then again I clicked on application, its not returning access token and id token. It throws 400 error when i call /token endpoint.\r\n 7. Then I clicked on X to close the tab.\r\n 8. I did the same step 6 &amp; 7, it worked good\r\n 9. Again step 6 &amp; 7, it throws me 400 error.\r\n\r\nI am seeing the below message.\r\n\r\n    java.io.IOException: Server returned HTTP response code: 400 for URL: https://XXX.oktapreview.com/oauth2/&lt;auth_id&gt;/v1/token\r\n\r\nSummary, it works good alternatively. I am not sure what is happening.\r\n\r\nWhen I check log in okta server, there is no scope defined when it throws 400 error. It passes scopes correctly alternatively. Is this something to do with this issue?\r\nimage\r\n\r\n\r\n  [1]: https://developer.okta.com/docs/guides/implement-grant-type/authcode/main/\r\n","title":"OKTA issue while application is logging in","body":"<p>I am using <a href=\"https://developer.okta.com/docs/guides/implement-grant-type/authcode/main/\" rel=\"nofollow noreferrer\">Authorization grant type-authorization code</a> in my java application (not sping boot).</p>\n<p>I have the below issue.</p>\n<ol>\n<li>In browser enter okta server url</li>\n<li>okta authenticates</li>\n<li>now it enters into okta console and shows all the applications that user have proper access to</li>\n<li>I clicked on my application  it takes me to my application properly.</li>\n<li>I just clicked X to close the tab.</li>\n<li>Then again I clicked on application, its not returning access token and id token. It throws 400 error when i call /token endpoint.</li>\n<li>Then I clicked on X to close the tab.</li>\n<li>I did the same step 6 &amp; 7, it worked good</li>\n<li>Again step 6 &amp; 7, it throws me 400 error.</li>\n</ol>\n<p>I am seeing the below message.</p>\n<pre><code>java.io.IOException: Server returned HTTP response code: 400 for URL: https://XXX.oktapreview.com/oauth2/&lt;auth_id&gt;/v1/token\n</code></pre>\n<p>Summary, it works good alternatively. I am not sure what is happening.</p>\n<p>When I check log in okta server, there is no scope defined when it throws 400 error. It passes scopes correctly alternatively. Is this something to do with this issue?\nimage</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638913998,"post_id":70267320,"comment_id":124213750,"body_markdown":"Please read: [Why is Can someone help me? not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- Please [edit] the question and remove the nonsense-text. --- Why would you expect that the `AuthenticationManager` is anything but `null`?","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is Can someone help me? not an actual question?</a> --- Please <a href=\"https://stackoverflow.com/posts/70267320/edit\">edit</a> the question and remove the nonsense-text. --- Why would you expect that the <code>AuthenticationManager</code> is anything but <code>null</code>?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1638944418,"post_id":70267320,"comment_id":124219511,"body_markdown":"There is no `@Autowired` on that field so how should Spring know it should autowire that field?","body":"There is no <code>@Autowired</code> on that field so how should Spring know it should autowire that field?"}],"answers":[{"tags":[],"owner":{"account_id":16121117,"reputation":147,"user_id":11637083,"display_name":"Serhat Yldrm"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1638914910,"creation_date":1638914206,"answer_id":70267408,"question_id":70267320,"body_markdown":"can you try this annotation in WebSecurityConfig class \r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n```","title":"this.authenticationManager&quot; is null","body":"<p>can you try this annotation in WebSecurityConfig class</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639000888,"creation_date":1639000888,"answer_id":70282250,"question_id":70267320,"body_markdown":"this is resolved .\r\n\r\nMy mistake is a wrong package path .","title":"this.authenticationManager&quot; is null","body":"<p>this is resolved .</p>\n<p>My mistake is a wrong package path .</p>\n"}],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639000888,"creation_date":1638913542,"question_id":70267320,"body_markdown":"    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/auth/&quot;)\r\n    public class LoginController {\r\n    \tprivate AuthenticationManager authenticationManager;\r\n    \r\n    \tJwtTokenProvider jwtTokenProvider;\r\n    \r\n    \tpublic JwtTokenProvider jwtTokenProvider() {\r\n    \t\treturn jwtTokenProvider;\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tUserRepository users;\r\n    \r\n    \t@Autowired\r\n    \tprivate CustomUserDetailsService userService;\r\n    \r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \t@PostMapping(&quot;/login&quot;)\r\n    \tpublic ResponseEntity login(@RequestBody AuthBody data) {\r\n    \t\ttry {\r\n    \t\t\tString username = data.getEmail();\r\n    \t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, data.getPassword()));\r\n    \t\t\tString token = jwtTokenProvider.createToken(username, this.users.findByEmail(username).getRoles());\r\n    \t\t\tMap&lt;Object, Object&gt; model = new HashMap&lt;&gt;();\r\n    \t\t\tmodel.put(&quot;username&quot;, username);\r\n    \t\t\tmodel.put(&quot;token&quot;, token);\r\n    \t\t\t// return ResponseEntity.ok(model);\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(model.toString(), HttpStatus.OK);\r\n    \r\n    \t\t} catch (AuthenticationException e) {\r\n    \t\t\tthrow new BadCredentialsException(&quot;Invalid email/password supplied&quot;);\r\n    \t\t}\r\n    \t}\r\n        }\r\n\r\nMy webSecurityConfig : \r\n\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t@Bean( name = BeanIds.AUTHENTICATION_MANAGER)\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean() ;\r\n    \t}\r\n    \t@Autowired\r\n    \tJwtTokenProvider jwtTokenProvider;\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tUserDetailsService userDetailsService = mongoUserDetails();\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.httpBasic().disable().csrf().disable().sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/api/auth/login&quot;).permitAll().antMatchers(&quot;/api/auth/register&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/api/products/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest().authenticated().and().csrf()\r\n    \t\t\t\t.disable().exceptionHandling().authenticationEntryPoint(unauthorizedEntryPoint()).and()\r\n    \t\t\t\t.apply(new JwtConfigurer(jwtTokenProvider));\r\n    \t\thttp.cors();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t\tweb.ignoring().antMatchers(&quot;/**&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder bCryptPasswordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic AuthenticationEntryPoint unauthorizedEntryPoint() {\r\n    \t\treturn (request, response, authException) -&gt; response.sendError(HttpServletResponse.SC_UNAUTHORIZED,\r\n    \t\t\t\t&quot;Unauthorized&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic UserDetailsService mongoUserDetails() {\r\n    \t\treturn new CustomUserDetailsService();\r\n    \t}\r\n    }\r\n\r\nI&#39;m alaway getting null pointer exception on `authentiticationMnager.authenticate`!\r\n\r\nI&#39;m using spring security v 1.1.1 release and jjwt version 0.9.1 .\r\n\r\nThe authenticationManager is always null.\r\n\r\n\r\n","title":"this.authenticationManager&quot; is null","body":"<pre><code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RestController\n@RequestMapping(&quot;/api/auth/&quot;)\npublic class LoginController {\n    private AuthenticationManager authenticationManager;\n\n    JwtTokenProvider jwtTokenProvider;\n\n    public JwtTokenProvider jwtTokenProvider() {\n        return jwtTokenProvider;\n    }\n\n    @Autowired\n    UserRepository users;\n\n    @Autowired\n    private CustomUserDetailsService userService;\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity login(@RequestBody AuthBody data) {\n        try {\n            String username = data.getEmail();\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, data.getPassword()));\n            String token = jwtTokenProvider.createToken(username, this.users.findByEmail(username).getRoles());\n            Map&lt;Object, Object&gt; model = new HashMap&lt;&gt;();\n            model.put(&quot;username&quot;, username);\n            model.put(&quot;token&quot;, token);\n            // return ResponseEntity.ok(model);\n            return new ResponseEntity&lt;&gt;(model.toString(), HttpStatus.OK);\n\n        } catch (AuthenticationException e) {\n            throw new BadCredentialsException(&quot;Invalid email/password supplied&quot;);\n        }\n    }\n    }\n</code></pre>\n<p>My webSecurityConfig :</p>\n<pre><code>public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Bean( name = BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean() ;\n    }\n    @Autowired\n    JwtTokenProvider jwtTokenProvider;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        UserDetailsService userDetailsService = mongoUserDetails();\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.httpBasic().disable().csrf().disable().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\n                .antMatchers(&quot;/api/auth/login&quot;).permitAll().antMatchers(&quot;/api/auth/register&quot;).permitAll()\n                .antMatchers(&quot;/api/products/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest().authenticated().and().csrf()\n                .disable().exceptionHandling().authenticationEntryPoint(unauthorizedEntryPoint()).and()\n                .apply(new JwtConfigurer(jwtTokenProvider));\n        http.cors();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/**&quot;);\n    }\n\n    @Bean\n    public PasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n\n    @Bean\n    public AuthenticationEntryPoint unauthorizedEntryPoint() {\n        return (request, response, authException) -&gt; response.sendError(HttpServletResponse.SC_UNAUTHORIZED,\n                &quot;Unauthorized&quot;);\n    }\n\n    @Bean\n    public UserDetailsService mongoUserDetails() {\n        return new CustomUserDetailsService();\n    }\n}\n</code></pre>\n<p>I'm alaway getting null pointer exception on <code>authentiticationMnager.authenticate</code>!</p>\n<p>I'm using spring security v 1.1.1 release and jjwt version 0.9.1 .</p>\n<p>The authenticationManager is always null.</p>\n"},{"tags":["java","swing","user-interface","textfield"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638999374,"post_id":70281980,"comment_id":124239550,"body_markdown":"Since you&#39;ve not provided a [mcve] which demonstrates your issue (or even a code snippet which would actually compile), I&#39;m forced to guess that `ID` is declared locally to the context of the constructor, making it inaccessible to the `actionPerformed` method.  If that&#39;s the case then, `ID` should be made an instance field instead","body":"Since you&#39;ve not provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue (or even a code snippet which would actually compile), I&#39;m forced to guess that <code>ID</code> is declared locally to the context of the constructor, making it inaccessible to the <code>actionPerformed</code> method.  If that&#39;s the case then, <code>ID</code> should be made an instance field instead"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638999396,"post_id":70281980,"comment_id":124239555,"body_markdown":"Yes, `.getText()` is how you extract text from a JTextField. That it doesn&#39;t work suggests that you&#39;ve got a bug in your code somewhere, likely within this code: *&quot;i omitted all the less relevant parts of the code, but I will add them if necessary.&quot;*.  I suggest that you show more code, specifically a [mre] -- please read the link to see *exactly* what this is and why it can help you and us.","body":"Yes, <code>.getText()</code> is how you extract text from a JTextField. That it doesn&#39;t work suggests that you&#39;ve got a bug in your code somewhere, likely within this code: <i>&quot;i omitted all the less relevant parts of the code, but I will add them if necessary.&quot;</i>.  I suggest that you show more code, specifically a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> -- please read the link to see <i>exactly</i> what this is and why it can help you and us."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638999424,"post_id":70281980,"comment_id":124239569,"body_markdown":"As an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.","body":"As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1639011779,"post_id":70281980,"comment_id":124242419,"body_markdown":"(1-) 1)  In your last question it was also suggested that variable names should NOT start with an upper case character. These conventions are used in every text book or tutorial I have ever seen.  We should NOT have to repeat suggestions. Our time can be better spent helping others. 2) In this example you are using &quot;setSize()`. The tutorial link you were also given yesterday contains plenty of examples. None of them use that method. It is the job of the layout managers. Learn by example or you will continue to have basic problems.","body":"(1-) 1)  In your last question it was also suggested that variable names should NOT start with an upper case character. These conventions are used in every text book or tutorial I have ever seen.  We should NOT have to repeat suggestions. Our time can be better spent helping others. 2) In this example you are using &quot;setSize()`. The tutorial link you were also given yesterday contains plenty of examples. None of them use that method. It is the job of the layout managers. Learn by example or you will continue to have basic problems."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638999493,"creation_date":1638999493,"answer_id":70282025,"question_id":70281980,"body_markdown":"        if(e.getSource().equals(&quot;Iscrizione&quot;)) {\r\n            //setId(ID.getText());\r\n        }\r\n\r\nThis is always going to be false. e.getSource() returns a Component and Component.equals(String) will always be false;","title":"how do I retrive a text, from a JTextField?","body":"<pre><code>    if(e.getSource().equals(&quot;Iscrizione&quot;)) {\n        //setId(ID.getText());\n    }\n</code></pre>\n<p>This is always going to be false. e.getSource() returns a Component and Component.equals(String) will always be false;</p>\n"}],"owner":{"account_id":13094811,"reputation":1,"user_id":9461031,"display_name":"to ma tpo pa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1639000375,"creation_date":1638999193,"question_id":70281980,"body_markdown":"this is the code. which create a GUI.\r\n\r\nI need to make a function that works if I press the button\r\n```\r\npackage View;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.event.WindowListener;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JFrame;\r\nimport modulo.Test;\r\n\r\npublic class InterfacciaGrafica extends JFrame  implements ActionListener {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic InterfacciaGrafica(String ArrayClienti[]){\r\n\t\tthis.setTitle(&quot;BiKar Prenotazioni&quot;);\r\n\t\tthis.setSize( 300,200);\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setForeground(Color.black);\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\t\r\n\t\t  \r\n\t\tPannelloIscrizione PannelloIscrizione = new PannelloIscrizione(ArrayClienti);\r\n\t\tthis.add(PannelloIscrizione,BorderLayout.CENTER);\r\n\t\tPannelloIscrizione.setVisible(true);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\npackage View;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.*;\r\n\r\nimport modulo.PatenteTypes;\r\npublic class PannelloIscrizione extends JPanel  implements ActionListener{\r\n\t\r\n\tprivate static final AbstractButton ID = null;\r\n\tColor Arancione = new Color(255, 175, 0);\r\n\tint eta;\r\n\tString nome;\r\n\tString cognome;\r\n\tString id;\r\n\tString tipoPatente;\r\n\tString tipoCliente;\r\n\t\r\n\tpublic PannelloIscrizione(String ArrayClienti[]) {\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setForeground(Color.orange);\r\n\t\t\r\n\t\tContainer ContainerCentro = new Container();\r\n\t\tContainerCentro.setSize(200, 100);\r\n\t\t\r\n\t\tJComboBox TipoCliente = new JComboBox(ArrayClienti);\r\n\t\tJTextField Nome = new JTextField(20);\r\n\t\tJTextField Cognome = new JTextField(20);\r\n\t\tJTextArea ID = new JTextArea(id);\r\n\t\tJTextField Eta = new JTextField(2);\r\n\t\tJComboBox&lt;PatenteTypes&gt; TipoPatente= new JComboBox&lt;PatenteTypes&gt;(PatenteTypes.values());\r\n\t\tJButton Iscrizione = new JButton(&quot;Iscriviti&quot;);\r\n\t\t\r\n\t\tContainerCentro.setLayout(new BorderLayout());\t\r\n\t\tthis.add(ContainerCentro, BorderLayout.CENTER);\r\n\t\t\r\n\t\tContainerCentro.setBackground(Color.black);\r\n\t\tContainerCentro.setForeground(Color.black);\r\n\t\t\r\n\t\tContainerCentro.add(ID,BorderLayout.WEST);\r\n\t\tContainerCentro.add(Eta, BorderLayout.EAST);\r\n\t\tContainerCentro.add(TipoPatente,BorderLayout.CENTER);\r\n\r\n\t\tID.setBackground(Arancione);\r\n\t\tID.setForeground(Color.black);\r\n\t\tEta.setBackground(Arancione);\r\n\t\tEta.setForeground(Color.black);\r\n\t\tTipoPatente.setBackground(Arancione);\r\n\t\tTipoPatente.setForeground(Color.black);\r\n\t\t\r\n\t\tContainer ContainerNord = new Container();\r\n\t\tContainerNord.setLayout(new BorderLayout());\r\n\t\tthis.add(ContainerNord, BorderLayout.NORTH);\r\n\t\tContainerNord.setSize(200, 100);\r\n\t\tContainerNord.add(TipoCliente,BorderLayout.WEST);\r\n\t\tContainerNord.add(Nome, BorderLayout.CENTER);\r\n\t\tContainerNord.add(Cognome, BorderLayout.EAST);\r\n\t\t\r\n\t\tContainerNord.setBackground(Color.black);\r\n\t\tContainerNord.setForeground(Color.black);\r\n\t\tTipoCliente.setBackground(Arancione);\r\n\t\tTipoCliente.setForeground(Color.black);\r\n\t\tNome.setBackground(Arancione);\r\n\t\tNome.setForeground(Color.black);\r\n\t\tCognome.setBackground(Arancione);\r\n\t\tCognome.setForeground(Color.black);\r\n\r\n\t\tContainer ContainerSud = new Container();\r\n\t\tContainerSud.setLayout(new BorderLayout());\r\n\t\tthis.add(ContainerSud, BorderLayout.SOUTH);\r\n\t\tContainerSud.setBackground(Color.black);\r\n\t\tContainerSud.setForeground(Color.black);\r\n\t\tContainerSud.add(Iscrizione, BorderLayout.CENTER);\r\n\t\tIscrizione.setBackground(Arancione);\r\n\t\tIscrizione.setForeground(Color.black);\r\n\t\t\r\n\t\t\r\n\t\r\n\t\t\r\n\t\r\n\t\tContainerCentro.setVisible(true);\r\n\t\tContainerNord.setVisible(true);\r\n\t\tContainerSud.setVisible(true);\r\n\t\tTipoCliente.setVisible(true);\r\n\t\tID.setVisible(true);\r\n\t\tEta.setVisible(true);\r\n\t\tTipoPatente.setVisible(true);\r\n\t\tNome.setVisible(false);\r\n\t\tCognome.setVisible(false);\r\n\t\tIscrizione.setVisible(true);\r\n\t\t\r\n\t\r\n\t    Iscrizione.addActionListener(this);\r\n\t   \r\n\r\n\t\r\n}\r\n\tpublic int getEta() {\r\n\t\treturn eta;\r\n\t}\r\n\tpublic void setEta(int eta) {\r\n\t\tthis.eta = eta;\r\n\t}\r\n\tpublic String getNome() {\r\n\t\treturn nome;\r\n\t}\r\n\tpublic void setNome(String nome) {\r\n\t\tthis.nome = nome;\r\n\t}\r\n\tpublic String getCognome() {\r\n\t\treturn cognome;\r\n\t}\r\n\tpublic void setCognome(String cognome) {\r\n\t\tthis.cognome = cognome;\r\n\t}\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getTipoPatente() {\r\n\t\treturn tipoPatente;\r\n\t}\r\n\tpublic void setTipoPatente(String tipoPatente) {\r\n\t\tthis.tipoPatente = tipoPatente;\r\n\t}\r\n\tpublic String getTipoCliente() {\r\n\t\treturn tipoCliente;\r\n\t}\r\n\tpublic void setTipoCliente(String tipoCliente) {\r\n\t\tthis.tipoCliente = tipoCliente;\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource().equals(Iscrizione)) {\r\n\t\t\t\r\n\t\t\tsetId(ID.getText());\r\n\t\t\tSystem.out.println(ID.getText());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\ni want to write some text in the JTextField from my GUI, then once the button in clicked, I want the text to become the value of the attribute id of my class. but getText doesn&#39;t work\r\n\r\nThe first class declare my Frame, inside of it there is a Panel that contains a few text field.\r\n\r\n","title":"how do I retrive a text, from a JTextField?","body":"<p>this is the code. which create a GUI.</p>\n<p>I need to make a function that works if I press the button</p>\n<pre><code>package View;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.event.WindowListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JFrame;\nimport modulo.Test;\n\npublic class InterfacciaGrafica extends JFrame  implements ActionListener {\n\n    private static final long serialVersionUID = 1L;\n\n    public InterfacciaGrafica(String ArrayClienti[]){\n        this.setTitle(&quot;BiKar Prenotazioni&quot;);\n        this.setSize( 300,200);\n        this.setBackground(Color.black);\n        this.setForeground(Color.black);\n        this.setLayout(new BorderLayout());\n        \n          \n        PannelloIscrizione PannelloIscrizione = new PannelloIscrizione(ArrayClienti);\n        this.add(PannelloIscrizione,BorderLayout.CENTER);\n        PannelloIscrizione.setVisible(true);\n        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n    \n}\n</code></pre>\n<pre><code>package View;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\n\nimport modulo.PatenteTypes;\npublic class PannelloIscrizione extends JPanel  implements ActionListener{\n    \n    private static final AbstractButton ID = null;\n    Color Arancione = new Color(255, 175, 0);\n    int eta;\n    String nome;\n    String cognome;\n    String id;\n    String tipoPatente;\n    String tipoCliente;\n    \n    public PannelloIscrizione(String ArrayClienti[]) {\n        this.setLayout(new BorderLayout());\n        this.setBackground(Color.black);\n        this.setForeground(Color.orange);\n        \n        Container ContainerCentro = new Container();\n        ContainerCentro.setSize(200, 100);\n        \n        JComboBox TipoCliente = new JComboBox(ArrayClienti);\n        JTextField Nome = new JTextField(20);\n        JTextField Cognome = new JTextField(20);\n        JTextArea ID = new JTextArea(id);\n        JTextField Eta = new JTextField(2);\n        JComboBox&lt;PatenteTypes&gt; TipoPatente= new JComboBox&lt;PatenteTypes&gt;(PatenteTypes.values());\n        JButton Iscrizione = new JButton(&quot;Iscriviti&quot;);\n        \n        ContainerCentro.setLayout(new BorderLayout());  \n        this.add(ContainerCentro, BorderLayout.CENTER);\n        \n        ContainerCentro.setBackground(Color.black);\n        ContainerCentro.setForeground(Color.black);\n        \n        ContainerCentro.add(ID,BorderLayout.WEST);\n        ContainerCentro.add(Eta, BorderLayout.EAST);\n        ContainerCentro.add(TipoPatente,BorderLayout.CENTER);\n\n        ID.setBackground(Arancione);\n        ID.setForeground(Color.black);\n        Eta.setBackground(Arancione);\n        Eta.setForeground(Color.black);\n        TipoPatente.setBackground(Arancione);\n        TipoPatente.setForeground(Color.black);\n        \n        Container ContainerNord = new Container();\n        ContainerNord.setLayout(new BorderLayout());\n        this.add(ContainerNord, BorderLayout.NORTH);\n        ContainerNord.setSize(200, 100);\n        ContainerNord.add(TipoCliente,BorderLayout.WEST);\n        ContainerNord.add(Nome, BorderLayout.CENTER);\n        ContainerNord.add(Cognome, BorderLayout.EAST);\n        \n        ContainerNord.setBackground(Color.black);\n        ContainerNord.setForeground(Color.black);\n        TipoCliente.setBackground(Arancione);\n        TipoCliente.setForeground(Color.black);\n        Nome.setBackground(Arancione);\n        Nome.setForeground(Color.black);\n        Cognome.setBackground(Arancione);\n        Cognome.setForeground(Color.black);\n\n        Container ContainerSud = new Container();\n        ContainerSud.setLayout(new BorderLayout());\n        this.add(ContainerSud, BorderLayout.SOUTH);\n        ContainerSud.setBackground(Color.black);\n        ContainerSud.setForeground(Color.black);\n        ContainerSud.add(Iscrizione, BorderLayout.CENTER);\n        Iscrizione.setBackground(Arancione);\n        Iscrizione.setForeground(Color.black);\n        \n        \n    \n        \n    \n        ContainerCentro.setVisible(true);\n        ContainerNord.setVisible(true);\n        ContainerSud.setVisible(true);\n        TipoCliente.setVisible(true);\n        ID.setVisible(true);\n        Eta.setVisible(true);\n        TipoPatente.setVisible(true);\n        Nome.setVisible(false);\n        Cognome.setVisible(false);\n        Iscrizione.setVisible(true);\n        \n    \n        Iscrizione.addActionListener(this);\n       \n\n    \n}\n    public int getEta() {\n        return eta;\n    }\n    public void setEta(int eta) {\n        this.eta = eta;\n    }\n    public String getNome() {\n        return nome;\n    }\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n    public String getCognome() {\n        return cognome;\n    }\n    public void setCognome(String cognome) {\n        this.cognome = cognome;\n    }\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getTipoPatente() {\n        return tipoPatente;\n    }\n    public void setTipoPatente(String tipoPatente) {\n        this.tipoPatente = tipoPatente;\n    }\n    public String getTipoCliente() {\n        return tipoCliente;\n    }\n    public void setTipoCliente(String tipoCliente) {\n        this.tipoCliente = tipoCliente;\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource().equals(Iscrizione)) {\n            \n            setId(ID.getText());\n            System.out.println(ID.getText());\n        }\n    }\n\n}\n</code></pre>\n<p>i want to write some text in the JTextField from my GUI, then once the button in clicked, I want the text to become the value of the attribute id of my class. but getText doesn't work</p>\n<p>The first class declare my Frame, inside of it there is a Panel that contains a few text field.</p>\n"},{"tags":["java","active-directory","ldap","jndi"],"answers":[{"tags":[],"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639000350,"creation_date":1639000350,"answer_id":70282163,"question_id":70274518,"body_markdown":"&gt; so i have the rights to read and write a user, but when i want to create a user it says i have no permission\r\n\r\nRead, write and create are 3 separate permissions. A user can have write permissions to existing objects, but not have permission to create a new object. Those permissions can be set differently on each OU.","title":"Adding User on LDAP via JNDI (Java) -&gt; NoPermissionError","body":"<blockquote>\n<p>so i have the rights to read and write a user, but when i want to create a user it says i have no permission</p>\n</blockquote>\n<p>Read, write and create are 3 separate permissions. A user can have write permissions to existing objects, but not have permission to create a new object. Those permissions can be set differently on each OU.</p>\n"}],"owner":{"account_id":19265986,"reputation":3,"user_id":14080920,"display_name":"lordfabii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639000350,"creation_date":1638964192,"question_id":70274518,"body_markdown":"First i want to explain what i want to do and how the code is looking:\r\n\r\nI want to add a User via JNDI on my LDAP with JAVA, i added following code:\r\n\r\n```\r\npublic void addUser(String firstName, String lastName, String number) throws NamingException {\r\n\t\tProperties initialProperties = new Properties();\r\n\t\tinitialProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\tinitialProperties.put(Context.PROVIDER_URL, &quot;***&quot;);\r\n\t\tinitialProperties.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\t\tinitialProperties.put(Context.SECURITY_PRINCIPAL, &quot;***&quot;);\r\n\t\tinitialProperties.put(Context.SECURITY_CREDENTIALS, &quot;***&quot;);\r\n\t\tDirContext context = new InitialDirContext(initialProperties);\r\n\t\t\r\n\t\tBasicAttributes attributes = new BasicAttributes();\r\n\t\tAttribute attribute = new BasicAttribute(&quot;objectClass&quot;);\r\n\t\tattribute.add(&quot;top&quot;);\r\n\t\tattribute.add(&quot;person&quot;);\r\n\t\tattribute.add(&quot;organizationalPerson&quot;);\r\n\t\tattribute.add(&quot;inetOrgPerson&quot;);\r\n\t\tAttribute sn = new BasicAttribute(&quot;sn&quot;);\r\n\t\tAttribute cn = new BasicAttribute(&quot;cn&quot;);\r\n\t\tsn.add(lastName);\r\n\t\tcn.add(firstName);\r\n\t\tattributes.put(sn);\r\n\t\tattributes.put(cn);\r\n\t\tattributes.put(attribute);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tcontext.createSubcontext(&quot;***&quot;, attributes);\r\n\t\t} catch(NamingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhen i call the method i get following error:\r\n\r\n    javax.naming.NoPermissionException: [LDAP: error code 50 - 00000005: SecErr: DSID-031528D2, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0\r\n\r\nWhich makes no sense in my point of view because i created two other methods, one for getting all the users which works and one for editing a user which works too, so i have the rights to read and write a user, but when i want to create a user it says i have no permission ?\r\n\r\nDo anyone else had this problem?\r\nIs there any configuration on the Administrator user necessary on the LDAP? But the Administrator should be have all rights?\r\n\r\nI hope anyone can help me! :)\r\n\r\nGreetings,\r\n\r\nFabian.","title":"Adding User on LDAP via JNDI (Java) -&gt; NoPermissionError","body":"<p>First i want to explain what i want to do and how the code is looking:</p>\n<p>I want to add a User via JNDI on my LDAP with JAVA, i added following code:</p>\n<pre><code>public void addUser(String firstName, String lastName, String number) throws NamingException {\n        Properties initialProperties = new Properties();\n        initialProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n        initialProperties.put(Context.PROVIDER_URL, &quot;***&quot;);\n        initialProperties.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n        initialProperties.put(Context.SECURITY_PRINCIPAL, &quot;***&quot;);\n        initialProperties.put(Context.SECURITY_CREDENTIALS, &quot;***&quot;);\n        DirContext context = new InitialDirContext(initialProperties);\n        \n        BasicAttributes attributes = new BasicAttributes();\n        Attribute attribute = new BasicAttribute(&quot;objectClass&quot;);\n        attribute.add(&quot;top&quot;);\n        attribute.add(&quot;person&quot;);\n        attribute.add(&quot;organizationalPerson&quot;);\n        attribute.add(&quot;inetOrgPerson&quot;);\n        Attribute sn = new BasicAttribute(&quot;sn&quot;);\n        Attribute cn = new BasicAttribute(&quot;cn&quot;);\n        sn.add(lastName);\n        cn.add(firstName);\n        attributes.put(sn);\n        attributes.put(cn);\n        attributes.put(attribute);\n        \n        try {\n            context.createSubcontext(&quot;***&quot;, attributes);\n        } catch(NamingException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>When i call the method i get following error:</p>\n<pre><code>javax.naming.NoPermissionException: [LDAP: error code 50 - 00000005: SecErr: DSID-031528D2, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0\n</code></pre>\n<p>Which makes no sense in my point of view because i created two other methods, one for getting all the users which works and one for editing a user which works too, so i have the rights to read and write a user, but when i want to create a user it says i have no permission ?</p>\n<p>Do anyone else had this problem?\nIs there any configuration on the Administrator user necessary on the LDAP? But the Administrator should be have all rights?</p>\n<p>I hope anyone can help me! :)</p>\n<p>Greetings,</p>\n<p>Fabian.</p>\n"},{"tags":["java","owl","jena","ontology"],"answers":[{"tags":[],"owner":{"account_id":17506630,"reputation":84,"user_id":12695709,"display_name":"Petr Kemen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639000200,"creation_date":1639000200,"answer_id":70282144,"question_id":70281813,"body_markdown":"Try this (replace the property URI accordingly):\r\n\r\n    final Property p = model.createObjectProperty(&quot;http://example.org/Treated_by&quot;);\r\n    final RDFNode object = i.getPropertyValue(p);\r\n\r\n","title":"Accessing Object Property for Individual using Apache Jena","body":"<p>Try this (replace the property URI accordingly):</p>\n<pre><code>final Property p = model.createObjectProperty(&quot;http://example.org/Treated_by&quot;);\nfinal RDFNode object = i.getPropertyValue(p);\n</code></pre>\n"}],"owner":{"account_id":22020577,"reputation":3,"user_id":16289458,"display_name":"Ahmed Medhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70282144,"answer_count":1,"score":0,"last_activity_date":1639000200,"creation_date":1638998155,"question_id":70281813,"body_markdown":"I have created an OWL ontology using Prot&#233;g&#233;, describing a patient database system. I am now attempting to develop a Java code using Apache Jena to read the OWL file I created, then perform a number of operations on it. My primary goal is to get my code to be able to find a specific Individual by name (Patient name for example) and then access a specific Object Property for that individual, and output its value. For example, A patient &quot;John&quot; has an object property &quot;Treated_By&quot; which corresponds to another individual &quot;Amy&quot; (Amy is an individual of type doctor). However, I have been unable to figure out which Jena method is used to retrieve Object property values from a certain individual.\r\n\r\nHere is my code (Please ignore comments, they are fragments of previous attempts for this task):\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    OntModel model = ModelFactory.createOntologyModel(OntModelSpec.OWL_MEM);\r\n\t    String fileName = &quot;C:/Users/Ahmed Medhat/Documents/assignment1ontv3.0.owl&quot;;\r\n\r\n\t    try {\r\n\t        InputStream inputStream = new FileInputStream(fileName);\r\n\t        model.read(inputStream, &quot;RDF/XML&quot;);\r\n\t        //model.read(inputStream, &quot;OWL/XML&quot;);\r\n\t        inputStream.close();\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(e.getMessage());\r\n\t    }\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter Patient Name: &quot;);\r\n\t    String patientName = sc.next();\r\n\r\n\t    ExtendedIterator&lt;Individual&gt; itI = model.listIndividuals();\r\n\r\n\t    while (itI.hasNext()) {\r\n\t        Individual i = itI.next();\r\n\t        String localName = i.getLocalName();\r\n\t        //System.out.println(patientName);\r\n\t        //System.out.println(localName);\r\n\t        if(localName.equals(patientName))\r\n\t        {\r\n\t        \t//System.out.println(&quot;Conditional Code Accessed.&quot;);\r\n\t        \tOntClass Class = i.getOntClass();\r\n\t        \tSystem.out.println(&quot;Patient Disease is: &quot; + Class.listDeclaredProperties());\r\n\t        }\r\n\t        System.out.println(&quot;Failed.&quot;);\r\n\t    }\r\n\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n","title":"Accessing Object Property for Individual using Apache Jena","body":"<p>I have created an OWL ontology using Protg, describing a patient database system. I am now attempting to develop a Java code using Apache Jena to read the OWL file I created, then perform a number of operations on it. My primary goal is to get my code to be able to find a specific Individual by name (Patient name for example) and then access a specific Object Property for that individual, and output its value. For example, A patient &quot;John&quot; has an object property &quot;Treated_By&quot; which corresponds to another individual &quot;Amy&quot; (Amy is an individual of type doctor). However, I have been unable to figure out which Jena method is used to retrieve Object property values from a certain individual.</p>\n<p>Here is my code (Please ignore comments, they are fragments of previous attempts for this task):</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    OntModel model = ModelFactory.createOntologyModel(OntModelSpec.OWL_MEM);\n    String fileName = &quot;C:/Users/Ahmed Medhat/Documents/assignment1ontv3.0.owl&quot;;\n\n    try {\n        InputStream inputStream = new FileInputStream(fileName);\n        model.read(inputStream, &quot;RDF/XML&quot;);\n        //model.read(inputStream, &quot;OWL/XML&quot;);\n        inputStream.close();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter Patient Name: &quot;);\n    String patientName = sc.next();\n\n    ExtendedIterator&lt;Individual&gt; itI = model.listIndividuals();\n\n    while (itI.hasNext()) {\n        Individual i = itI.next();\n        String localName = i.getLocalName();\n        //System.out.println(patientName);\n        //System.out.println(localName);\n        if(localName.equals(patientName))\n        {\n            //System.out.println(&quot;Conditional Code Accessed.&quot;);\n            OntClass Class = i.getOntClass();\n            System.out.println(&quot;Patient Disease is: &quot; + Class.listDeclaredProperties());\n        }\n        System.out.println(&quot;Failed.&quot;);\n    }\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["java","jboss","ejb"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1639077580,"post_id":70281479,"comment_id":124263155,"body_markdown":"What container are you running in? Are you using something like Arquillian?","body":"What container are you running in? Are you using something like Arquillian?"}],"answers":[{"tags":[],"owner":{"account_id":2483288,"reputation":699,"user_id":11097900,"display_name":"Don Ha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638999883,"creation_date":1638999883,"answer_id":70282086,"question_id":70281479,"body_markdown":"most common reason for this this error to occur is the EJB is not initialized  or not deployed at all to the server that hosts it. Look at the logs on both client and server side to make sure all necessary components are initialized and running.","title":"Invoking EJB method from JUnit - &quot;No such EJB method&quot;","body":"<p>most common reason for this this error to occur is the EJB is not initialized  or not deployed at all to the server that hosts it. Look at the logs on both client and server side to make sure all necessary components are initialized and running.</p>\n"}],"owner":{"account_id":7087694,"reputation":11,"user_id":5423991,"display_name":"MushroomHunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638999883,"creation_date":1638996155,"question_id":70281479,"body_markdown":"I&#39;m trying to call a method on a remote EJB in a JUnit test that will run SQL against a DB and return results.  Here&#39;s the message from the exception:\r\n\r\njava.lang.IllegalArgumentException: No such EJB method org.jboss.ejb.client.EJBMethodLocator@3c2f505 found on SiViewDBFacadeEAR-0.0.1-SNAPSHOT/SiViewDBFacadeEJB-0.0.1-SNAPSHOT/SiViewMMDBAccessBean\r\n\r\nFirst of all, this error seems to be intermittent.  I have a couple different methods in the EJB that run different SQL and return results as a HashMap.  In my JUnit test I was calling these methods back to back and I was noticing that the call to the second method was always failing even if I switched the order of the calls.  Just recently I tried calling the exact same method twice and it comes back the first time but fails the second time.\r\n\r\nDoes this problem signature ring a bell with anyone.  I&#39;m somewhat new to working with EJBs but this problem seems strange in its inconsistent nature.\r\n\r\nThanks all.","title":"Invoking EJB method from JUnit - &quot;No such EJB method&quot;","body":"<p>I'm trying to call a method on a remote EJB in a JUnit test that will run SQL against a DB and return results.  Here's the message from the exception:</p>\n<p>java.lang.IllegalArgumentException: No such EJB method org.jboss.ejb.client.EJBMethodLocator@3c2f505 found on SiViewDBFacadeEAR-0.0.1-SNAPSHOT/SiViewDBFacadeEJB-0.0.1-SNAPSHOT/SiViewMMDBAccessBean</p>\n<p>First of all, this error seems to be intermittent.  I have a couple different methods in the EJB that run different SQL and return results as a HashMap.  In my JUnit test I was calling these methods back to back and I was noticing that the call to the second method was always failing even if I switched the order of the calls.  Just recently I tried calling the exact same method twice and it comes back the first time but fails the second time.</p>\n<p>Does this problem signature ring a bell with anyone.  I'm somewhat new to working with EJBs but this problem seems strange in its inconsistent nature.</p>\n<p>Thanks all.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"score":0,"creation_date":1350336504,"post_id":12904284,"comment_id":17479955,"body_markdown":"Have you checked this with a debugger step by step?","body":"Have you checked this with a debugger step by step?"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":5,"creation_date":1350336559,"post_id":12904284,"comment_id":17479980,"body_markdown":"Use doubles in your division calculations, i.e. `(1.0 / n)`.","body":"Use doubles in your division calculations, i.e. <code>(1.0 &#47; n)</code>."},{"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"score":0,"creation_date":1350336577,"post_id":12904284,"comment_id":17479995,"body_markdown":"Yes, I did. It&#39;s difficult for me to follow recursion problems through a debugger, however, as there are so many levels that it&#39;s tough to follow what&#39;s going on.","body":"Yes, I did. It&#39;s difficult for me to follow recursion problems through a debugger, however, as there are so many levels that it&#39;s tough to follow what&#39;s going on."},{"owner":{"account_id":38095,"reputation":55749,"user_id":109122,"accept_rate":75,"display_name":"RBarryYoung"},"score":0,"creation_date":1350336939,"post_id":12904284,"comment_id":17480116,"body_markdown":"You may also want to protect against the infinite recursion you&#39;ll get if a zero or negative number is mistakenly passed for `n`.","body":"You may also want to protect against the infinite recursion you&#39;ll get if a zero or negative number is mistakenly passed for <code>n</code>."},{"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"score":0,"creation_date":1350337069,"post_id":12904284,"comment_id":17480160,"body_markdown":"Yeah, I would normally make the base case `if(n &lt;= 1) {`, but this is for an online submission system and for some reason it&#39;s only accepting what I currently have.","body":"Yeah, I would normally make the base case <code>if(n &lt;= 1) {</code>, but this is for an online submission system and for some reason it&#39;s only accepting what I currently have."}],"answers":[{"tags":[],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1350336506,"creation_date":1350336506,"answer_id":12904297,"question_id":12904284,"body_markdown":"You want to use floating point division:\r\n\r\n    public static double harmonic(int n) {\r\n        if(n == 1.0) {\r\n            return 1.0;\r\n        } else {\r\n            return (1.0 / n) + (1.0 / harmonic(n - 1.0));\r\n        }\r\n    }\r\n\r\nThat is: `1/2` is `0`; `1/2.0` is `0.5`.","title":"Harmonic sequence recursion","body":"<p>You want to use floating point division:</p>\n\n<pre><code>public static double harmonic(int n) {\n    if(n == 1.0) {\n        return 1.0;\n    } else {\n        return (1.0 / n) + (1.0 / harmonic(n - 1.0));\n    }\n}\n</code></pre>\n\n<p>That is: <code>1/2</code> is <code>0</code>; <code>1/2.0</code> is <code>0.5</code>.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350337095,"creation_date":1350336540,"answer_id":12904309,"question_id":12904284,"body_markdown":"Thats because integer division gives integer result. \r\n\r\nSo, `1/2 == 0`\r\n\r\nYou can use rather use `floating-point` division like this: -\r\n\r\n    if(n == 1.0) {\r\n        return 1.0;\r\n    } else {\r\n        return (1.0 / n) + harmonic(n - 1); // Should be `harmonic(n - 1)`\r\n    }\r\n","title":"Harmonic sequence recursion","body":"<p>Thats because integer division gives integer result. </p>\n\n<p>So, <code>1/2 == 0</code></p>\n\n<p>You can use rather use <code>floating-point</code> division like this: -</p>\n\n<pre><code>if(n == 1.0) {\n    return 1.0;\n} else {\n    return (1.0 / n) + harmonic(n - 1); // Should be `harmonic(n - 1)`\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350336549,"creation_date":1350336549,"answer_id":12904312,"question_id":12904284,"body_markdown":"You need to use doubles.  Right now, you&#39;re doing `1 / n`, both of which are integers.  Change it to:\r\n\r\n    return (1.0 / n) + (1.0 / harmonic(n - 1));\r\n\r\n","title":"Harmonic sequence recursion","body":"<p>You need to use doubles.  Right now, you're doing <code>1 / n</code>, both of which are integers.  Change it to:</p>\n\n<pre><code>return (1.0 / n) + (1.0 / harmonic(n - 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350336640,"creation_date":1350336640,"answer_id":12904335,"question_id":12904284,"body_markdown":"Use doubles in your division calculations.  Currently, everything is cast to ints, losing any floating-point precision you would normally expect.\r\n\r\n    public static double harmonic(int n) {\r\n        if (n == 1) {\r\n            return 1;\r\n        } else {\r\n            return (1.0 / n) + (1.0 / harmonic(n - 1));\r\n        }\r\n    }\r\n","title":"Harmonic sequence recursion","body":"<p>Use doubles in your division calculations.  Currently, everything is cast to ints, losing any floating-point precision you would normally expect.</p>\n\n<pre><code>public static double harmonic(int n) {\n    if (n == 1) {\n        return 1;\n    } else {\n        return (1.0 / n) + (1.0 / harmonic(n - 1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1350338214,"creation_date":1350336647,"answer_id":12904340,"question_id":12904284,"body_markdown":"Well, for one, you don&#39;t want to return `(1 / n) + (1 / harmonic(n - 1))`, but also you need to use `double` arithmetic:\r\n\r\n    public static double harmonic(int n) {\r\n        if(n == 1) {\r\n            return 1.0;\r\n        } else {\r\n            return (1.0 / n) + harmonic(n - 1);\r\n        }\r\n    }\r\n\r\nIf you left it as `1 / harmonic` you&#39;d return another function entirely:\r\n\r\n&gt; (1 / n) + 1 / ( 1 / (n - 1) + 1 / ( 1 / (n - 2) + 1 / (...) ) )\r\n\r\nThat is a very confusing function to figure out, btw, but I think (with my 3rd time editing it) I got it right this time.","title":"Harmonic sequence recursion","body":"<p>Well, for one, you don't want to return <code>(1 / n) + (1 / harmonic(n - 1))</code>, but also you need to use <code>double</code> arithmetic:</p>\n\n<pre><code>public static double harmonic(int n) {\n    if(n == 1) {\n        return 1.0;\n    } else {\n        return (1.0 / n) + harmonic(n - 1);\n    }\n}\n</code></pre>\n\n<p>If you left it as <code>1 / harmonic</code> you'd return another function entirely:</p>\n\n<blockquote>\n  <p>(1 / n) + 1 / ( 1 / (n - 1) + 1 / ( 1 / (n - 2) + 1 / (...) ) )</p>\n</blockquote>\n\n<p>That is a very confusing function to figure out, btw, but I think (with my 3rd time editing it) I got it right this time.</p>\n"},{"tags":[],"owner":{"account_id":555620,"reputation":185,"user_id":1161711,"accept_rate":80,"display_name":"Seid.M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390866979,"creation_date":1390866979,"answer_id":21394290,"question_id":12904284,"body_markdown":"the recursion part should not include *1/harmonic(n-1)*\r\nit should be \r\n\r\n       public static double harmonic(int n)\r\n      {\r\n        double harm = 0.0;\r\n        if (n == 1) {\r\n            return 1.0;\r\n        }\r\n        else {\r\n            harm = harm + (1.0 / n) +  harmonic(n - 1);\r\n        }\r\n        return harm;\r\n\r\n    }","title":"Harmonic sequence recursion","body":"<p>the recursion part should not include <em>1/harmonic(n-1)</em>\nit should be </p>\n\n<pre><code>   public static double harmonic(int n)\n  {\n    double harm = 0.0;\n    if (n == 1) {\n        return 1.0;\n    }\n    else {\n        harm = harm + (1.0 / n) +  harmonic(n - 1);\n    }\n    return harm;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199620,"reputation":3325,"user_id":445058,"accept_rate":20,"display_name":"Hrishikesh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451891791,"creation_date":1451891791,"answer_id":34586327,"question_id":12904284,"body_markdown":"    /**\r\n     * Created by hrishikesh.mishra on 04/01/16.\r\n     *\r\n     * Describe a recursive algorithm\r\n     * for computing the nth Harmonic number,\r\n     * defined as Hn =  n k=1 1/k.\r\n     *\r\n     */\r\n    public class HarmonicNumber {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Sum up to 1: &quot;  + sum(1));\r\n            System.out.println(&quot;Sum up to 2: &quot;  + sum(2));\r\n            System.out.println(&quot;Sum up to 3: &quot;  + sum(3));\r\n            System.out.println(&quot;Sum up to 4: &quot;  + sum(4));\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Summation with recursive method.\r\n         * @param n\r\n         * @return\r\n         */\r\n        public static double sum(int n){\r\n            if(n &lt;= 1)\r\n                return 1;\r\n            else\r\n                return ((double) 1/n) + sum(n - 1);\r\n        }\r\n    }","title":"Harmonic sequence recursion","body":"<pre><code>/**\n * Created by hrishikesh.mishra on 04/01/16.\n *\n * Describe a recursive algorithm\n * for computing the nth Harmonic number,\n * defined as Hn =  n k=1 1/k.\n *\n */\npublic class HarmonicNumber {\n\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Sum up to 1: \"  + sum(1));\n        System.out.println(\"Sum up to 2: \"  + sum(2));\n        System.out.println(\"Sum up to 3: \"  + sum(3));\n        System.out.println(\"Sum up to 4: \"  + sum(4));\n    }\n\n\n    /**\n     * Summation with recursive method.\n     * @param n\n     * @return\n     */\n    public static double sum(int n){\n        if(n &lt;= 1)\n            return 1;\n        else\n            return ((double) 1/n) + sum(n - 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14673596,"reputation":1,"user_id":10597419,"display_name":"Mahmoud"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541177372,"creation_date":1541177372,"answer_id":53122771,"question_id":12904284,"body_markdown":"     public static double harmonic(int n)\r\n       {\r\n          if (n==1)\r\n          return 1/n;\r\n          else return 1/n + harmonic(n-1);\r\n       }","title":"Harmonic sequence recursion","body":"<pre><code> public static double harmonic(int n)\n   {\n      if (n==1)\n      return 1/n;\n      else return 1/n + harmonic(n-1);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22152031,"reputation":23,"user_id":16400413,"display_name":"voxelfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638999001,"creation_date":1638999001,"answer_id":70281956,"question_id":12904284,"body_markdown":"This is my implementation of the harmonic number recursion.\r\n\r\n    double harmonic(int n){\r\n\t\r\n\t    if(n == 1)return 1;\r\n\t    else return 1.0 / n + harmonic(n - 1);\r\n\t\r\n    }","title":"Harmonic sequence recursion","body":"<p>This is my implementation of the harmonic number recursion.</p>\n<pre><code>double harmonic(int n){\n\n    if(n == 1)return 1;\n    else return 1.0 / n + harmonic(n - 1);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20519,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":12904340,"answer_count":9,"score":11,"last_activity_date":1638999001,"creation_date":1350336453,"question_id":12904284,"body_markdown":"I&#39;m really getting the hang of recursion (or so I think), but this problem is tripping me up.  I&#39;m trying to return 1 + 1/2 + 1/3 + ... + 1/n, but no matter what I try the method returns 1.0. I cannot for the life of me figure out what&#39;s wrong.\r\n\r\n    public static double harmonic(int n) {\r\n        if(n == 1) {\r\n            return 1;\r\n        } else {\r\n            return (1 / n) + (1 / harmonic(n - 1));\r\n        }\r\n    }","title":"Harmonic sequence recursion","body":"<p>I'm really getting the hang of recursion (or so I think), but this problem is tripping me up.  I'm trying to return 1 + 1/2 + 1/3 + ... + 1/n, but no matter what I try the method returns 1.0. I cannot for the life of me figure out what's wrong.</p>\n\n<pre><code>public static double harmonic(int n) {\n    if(n == 1) {\n        return 1;\n    } else {\n        return (1 / n) + (1 / harmonic(n - 1));\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","focus"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1638966630,"post_id":70274875,"comment_id":124226798,"body_markdown":"From the [`Component#requestFocus()`](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#requestFocus--) Javadoc: &quot;_This component must be displayable, focusable, visible and all of its ancestors (with the exception of the top-level Window) must be visible for the request to be granted._&quot; - So, are your components already visible? We can&#39;t tell since you didn&#39;t provide a [mre]. Also, the Javadoc also notes that: &quot;_Because the focus behavior of this method is platform-dependent, developers are strongly encouraged to use requestFocusInWindow when possible._&quot;","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#requestFocus--\" rel=\"nofollow noreferrer\"><code>Component#requestFocus()</code></a> Javadoc: &quot;<i>This component must be displayable, focusable, visible and all of its ancestors (with the exception of the top-level Window) must be visible for the request to be granted.</i>&quot; - So, are your components already visible? We can&#39;t tell since you didn&#39;t provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, the Javadoc also notes that: &quot;<i>Because the focus behavior of this method is platform-dependent, developers are strongly encouraged to use requestFocusInWindow when possible.</i>&quot;"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1638969185,"post_id":70274875,"comment_id":124227793,"body_markdown":"I addition to the sage advice of @maloomeister, note that the panel will not be displayed until some time after the constructor is called and that a request to gain focus will *always* fail if a component is not currently displayed.","body":"I addition to the sage advice of @maloomeister, note that the panel will not be displayed until some time after the constructor is called and that a request to gain focus will <i>always</i> fail if a component is not currently displayed."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1638977071,"post_id":70274875,"comment_id":124231223,"body_markdown":"Why would you set focus on a JLabel? By default it is set unfocusable for a reason. Users expect a component to have focus only if you can somehow interact with the component. If you really need to set focus on some other component before it is added to the frame then check out the `RequestFocusListener` found in [Dialog Focus](https://tips4java.wordpress.com/2010/03/14/dialog-focus/)","body":"Why would you set focus on a JLabel? By default it is set unfocusable for a reason. Users expect a component to have focus only if you can somehow interact with the component. If you really need to set focus on some other component before it is added to the frame then check out the <code>RequestFocusListener</code> found in <a href=\"https://tips4java.wordpress.com/2010/03/14/dialog-focus/\" rel=\"nofollow noreferrer\">Dialog Focus</a>"}],"owner":{"account_id":23554736,"reputation":23,"user_id":17596905,"display_name":"Alcor717"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638998771,"creation_date":1638965817,"question_id":70274875,"body_markdown":"I am trying to stablish the focus in the label &quot;test&quot;, but it remains on the item &quot;play&quot;.\r\n\r\n    public class GamePanel extends JPanel {\r\n      public GamePanel() {\r\n        super();\r\n        addItem(&quot;play&quot;,new ActionPlay());\r\n        addItem(&quot;setings&quot;,new ActionSetings());\r\n        addItem(&quot;exit&quot;,new ActionExit());\r\n        JLabel label=new JLabel(&quot;test&quot;);\r\n        label.setFocusable(true);\r\n        add(label);\r\n        label.requestFocus();\r\n      }\r\n    \r\n      public void addItem(String name, AbstractAction action) {\r\n        add(new Item(name, action));\r\n      }\r\n    }\r\nAny ideas on why is this happening?\r\nThanks in advance.","title":"Why is the focus request not working in this code?","body":"<p>I am trying to stablish the focus in the label &quot;test&quot;, but it remains on the item &quot;play&quot;.</p>\n<pre><code>public class GamePanel extends JPanel {\n  public GamePanel() {\n    super();\n    addItem(&quot;play&quot;,new ActionPlay());\n    addItem(&quot;setings&quot;,new ActionSetings());\n    addItem(&quot;exit&quot;,new ActionExit());\n    JLabel label=new JLabel(&quot;test&quot;);\n    label.setFocusable(true);\n    add(label);\n    label.requestFocus();\n  }\n\n  public void addItem(String name, AbstractAction action) {\n    add(new Item(name, action));\n  }\n}\n</code></pre>\n<p>Any ideas on why is this happening?\nThanks in advance.</p>\n"},{"tags":["java","graph","out-of-memory","directed-graph"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638927561,"post_id":70268708,"comment_id":124216548,"body_markdown":"Where does the profiler say the memory goes?","body":"Where does the profiler say the memory goes?"},{"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"score":0,"creation_date":1638928426,"post_id":70268708,"comment_id":124216694,"body_markdown":"I&#39;ve added what the full error says to the original post.","body":"I&#39;ve added what the full error says to the original post."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638947278,"post_id":70268708,"comment_id":124220211,"body_markdown":"If something is taking up your memory and you dont know what, you use a profiler to find out what it is. Visualvm and netbeans are two free options.","body":"If something is taking up your memory and you dont know what, you use a profiler to find out what it is. Visualvm and netbeans are two free options."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638947287,"post_id":70268708,"comment_id":124220215,"body_markdown":"With [mre] you are likely to get quick and helpful [answers](https://stackoverflow.com/q/70250999/3992939).  Please add hard-coded test data to the mre, and mark the line that throws the exception.","body":"With <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> you are likely to get quick and helpful <a href=\"https://stackoverflow.com/q/70250999/3992939\">answers</a>.  Please add hard-coded test data to the mre, and mark the line that throws the exception."},{"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"score":0,"creation_date":1638986357,"post_id":70268708,"comment_id":124235256,"body_markdown":"I believe the error was fixed with the help of Turtle&#39;s answer, but it is still slow. I&#39;ve added a minimal reproducible example.","body":"I believe the error was fixed with the help of Turtle&#39;s answer, but it is still slow. I&#39;ve added a minimal reproducible example."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1639032429,"post_id":70268708,"comment_id":124245812,"body_markdown":"`srcAdj.size()`  there is no `size()` method in `Bag`","body":"<code>srcAdj.size()</code>  there is no <code>size()</code> method in <code>Bag</code>"}],"answers":[{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638981547,"creation_date":1638981547,"answer_id":70278594,"question_id":70268708,"body_markdown":"Even for a small dense graph there can be many unique paths from a `src` node. I tested for this input `[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]` there are `16777216` unique paths from all nodes. So you can expect *OOM* for bigger inputs. one way is to update the `longestPath` as soon as a path is found instead of adding it to the list. \r\n\r\nChange this to later.\r\n\r\n    addtoCount(current.size());\r\n\r\nto\r\n\r\n    longestPath = Math.max(longestPath, current.size());\r\n\r\nMake sure `longestPath` is `global` and initialized to `0` before every test case.","title":"How to speed up Depth First Search method?","body":"<p>Even for a small dense graph there can be many unique paths from a <code>src</code> node. I tested for this input <code>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]</code> there are <code>16777216</code> unique paths from all nodes. So you can expect <em>OOM</em> for bigger inputs. one way is to update the <code>longestPath</code> as soon as a path is found instead of adding it to the list.</p>\n<p>Change this to later.</p>\n<pre><code>addtoCount(current.size());\n</code></pre>\n<p>to</p>\n<pre><code>longestPath = Math.max(longestPath, current.size());\n</code></pre>\n<p>Make sure <code>longestPath</code> is <code>global</code> and initialized to <code>0</code> before every test case.</p>\n"},{"tags":[],"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638998606,"creation_date":1638998606,"answer_id":70281891,"question_id":70268708,"body_markdown":"Well, I do not know JAVA but that is an incredible lot of code for doing a simple thing such as depth first search.\r\n\r\nIn C++ it is done like this:\r\n\r\n        void cPathFinder::depthFirst(\r\n            int v)\r\n        {\r\n            // initialize visited flag for each node in graph\r\n            myPath.clear();\r\n            myPath.resize(nodeCount(), 0);\r\n\r\n            // start recursive search from starting node\r\n            depthRecurse(v, visitor);\r\n        }\r\n\r\n        void cPathFinder::depthRecurse(\r\n            int v )\r\n        {\r\n\r\n            // remember this node has been visited\r\n            myPath[v] = 1;\r\n\r\n            // look for new adjacent nodes\r\n            for (int w : adjacent(v))\r\n                if (!myPath[w])\r\n                {\r\n                    // search from new node\r\n                    depthRecurse(w);\r\n                }\r\n        }\r\n","title":"How to speed up Depth First Search method?","body":"<p>Well, I do not know JAVA but that is an incredible lot of code for doing a simple thing such as depth first search.</p>\n<p>In C++ it is done like this:</p>\n<pre><code>    void cPathFinder::depthFirst(\n        int v)\n    {\n        // initialize visited flag for each node in graph\n        myPath.clear();\n        myPath.resize(nodeCount(), 0);\n\n        // start recursive search from starting node\n        depthRecurse(v, visitor);\n    }\n\n    void cPathFinder::depthRecurse(\n        int v )\n    {\n\n        // remember this node has been visited\n        myPath[v] = 1;\n\n        // look for new adjacent nodes\n        for (int w : adjacent(v))\n            if (!myPath[w])\n            {\n                // search from new node\n                depthRecurse(w);\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70278594,"answer_count":2,"score":0,"last_activity_date":1638998606,"creation_date":1638924867,"question_id":70268708,"body_markdown":"I&#39;m trying to do a Depth First Search of my graph, and something is slowing it down quite a lot and I&#39;m not sure what.\r\n\r\nHere is my Bag code:\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class Bag&lt;Item&gt; implements Iterable&lt;Item&gt; {\r\n    private Node&lt;Item&gt; first;    // beginning of bag\r\n    private Node&lt;Item&gt; end;\r\n    private int n;               // number of elements in bag\r\n    public int label;\r\n    public int edges;\r\n\r\n    public static class Node&lt;Item&gt; {\r\n        private Item item;\t\t\t\t\t\r\n        private Node&lt;Item&gt; next;\r\n        public int label;\r\n        public int edges;\r\n    }\r\n\r\n    public Bag() {\r\n        first = null;\t\t\t\t\t\t\t// empty bag initialized\r\n        end = null;\r\n        n = 0;\r\n    }\r\n    \r\n    public void add(Item item) {\r\n    \tif (n==0) {\r\n    \t\tNode&lt;Item&gt; head = new Node&lt;Item&gt;();\t\t// if bag is empty\r\n    \t\tfirst = head;\r\n    \t\tend = head;\r\n    \t\thead.item = item;\t\t\t// new node both first and end of bag\r\n    \t\tedges++;\r\n    \t\tn++;\r\n    \t}\r\n    \telse {\r\n            Node&lt;Item&gt; oldlast = end;\t\t\t// old last assigned to end of node\r\n            Node&lt;Item&gt; last = new Node&lt;Item&gt;();\r\n            last.item = item;\r\n            oldlast.next = last;\t\t\t\t// new node added after old last\r\n            end = last;\r\n            n++;\t\t\t\t\t\t\t\t\t// size increased\r\n            edges++;\r\n    \t}\r\n    }\r\n\r\n    public Iterator&lt;Item&gt; iterator()  {\r\n        return new LinkedIterator(first);  \t\t\t// returns an iterator that iterates over the items in this bag in arbitrary order\r\n    }\r\n\r\n\r\n    public class LinkedIterator implements Iterator&lt;Item&gt; {\r\n        private Node&lt;Item&gt; current;\r\n\r\n        public LinkedIterator(Node&lt;Item&gt; first) {\r\n            current = first;\t\t\t\t\t\t\t\t\t\t\t// iterator starts at head of bag\r\n        }\r\n\r\n        public boolean hasNext()  { return current != null;                     }\r\n        public void remove()      { throw new UnsupportedOperationException();  }\r\n\r\n        public Item next() {\r\n            if (!hasNext()) throw new NoSuchElementException();\t\t\t\t// if there is next item, current is moved to next\r\n            Item item = current.item;\r\n            current = current.next; \r\n            return item;\t\t\t\t\t\t\t\t\t\t// item is returned\r\n        }\r\n    }\r\n}\r\n```\r\nHere is my driver:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class Driver {\r\n\t\r\n\tpublic static ArrayList&lt;Integer&gt; randomNum(int howMany) {\r\n\t\tArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;(howMany);   \r\n\t\tRandom randomGenerator = new Random();\r\n\t\twhile (numbers.size() &lt; howMany) {\r\n\t\t\tint rand_int = randomGenerator.nextInt(10000);\r\n\t\t\tif (!numbers.contains(rand_int)) {\r\n\t\t\t\tnumbers.add(rand_int);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn numbers;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList&lt;Integer&gt; num = randomNum(100);\r\n\t\tGraph G = new Graph(num);\r\n\t\tSystem.out.println(&quot;The length of longest path for this sequence with graph is: &quot; +  G.dfsStart(num));\r\n\t}\r\n}\r\n```\r\n\r\nI send an ArrayList of random integers to my dfsStart method from the driver, which looks at all the different paths for each starting node in my graph. my DepthFirstSearch method calls the getAdjList for each starting node to find its neighbors using my Bag adj, and then works its way down each path before backtracking.\r\n\r\nHere is my Graph code, containing my longest path method:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class Graph {\r\n\r\n    public final int V;\t\t\t\t\t\t// initializing variables and data structures\r\n    public Bag&lt;Integer&gt;[] adj;\r\n    public int longestPath;\r\n\t\r\n\tpublic Graph(ArrayList&lt;Integer&gt; numbers) {\r\n        \r\n        try {\r\n        \tlongestPath = 0;\r\n            this.V = numbers.size();\r\n            adj = (Bag&lt;Integer&gt;[]) new Bag[V];\t\t\t\t\t\t// bag initialized\r\n            for (int v = 0; v &lt; V; v++) {\r\n                adj[v] = new Bag&lt;Integer&gt;();\t\t\t\t\t\t\t\r\n            }\r\n            for (int i = 0; i &lt; V; i++) {\r\n                adj[i].label = numbers.get(i);\r\n                int j = (i + 1);\r\n                while (j &lt; numbers.size()) {\r\n                \tif (numbers.get(i) &lt; numbers.get(j)) {\r\n                \t\taddEdge(i, numbers.get(j));\r\n                \t}\r\n                \tj++;\r\n                }\r\n            }\r\n        }\r\n        catch (NoSuchElementException e) {\r\n            throw new IllegalArgumentException(&quot;invalid input format in Graph constructor&quot;, e);\r\n        }\r\n\t}\r\n\r\n\t\r\n\tpublic void addEdge(int index, int num) {\t\t\t\t\t\t\t\t\t\t\t\r\n        adj[index].add(num);\t\t\t\r\n\t}\r\n\r\n\tpublic int getIndex(int num) {\r\n\t\tfor (int i = 0; i &lt; adj.length; i++) {\r\n\t\t\tif (adj[i].label == num) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Bag&lt;Integer&gt; getAdjList(int source) {\r\n\t    Bag&lt;Integer&gt; adjList = null;\r\n\t    for (Bag&lt;Integer&gt; list : adj) {\r\n\t        if (list.label == source) {\r\n\t            adjList = list;\r\n\t            break;\r\n\t        }\r\n\t    }\r\n\t    return adjList;\r\n\t}\r\n\t\r\n\tpublic int dfsStart(ArrayList&lt;Integer&gt; numbers) {\r\n\t\tfor (int i=0;i&lt;numbers.size();i++) {\r\n\t\t    // Print all paths from current node\r\n\t\t    depthFirstSearch(numbers.get(i),new ArrayList&lt;&gt;(300));\r\n\t\t}\r\n\t\treturn longestPath;\r\n\t}\r\n\t\r\n\tpublic void depthFirstSearch(int src, ArrayList&lt;Integer&gt; current) {\r\n\t\tcurrent.add(src);\r\n\t    Bag&lt;Integer&gt; srcAdj = getAdjList(src);\r\n\t    if (srcAdj.size() == 0) {\r\n\t        // Leaf node\r\n\t        // Print this path\r\n\t    \tlongestPath = Math.max(longestPath, current.size());\r\n\t    }\r\n\t    for (int links : srcAdj) {\r\n\t        depthFirstSearch(links, current);\r\n\t    }\r\n\t    current.remove(current.size()-1);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI believe the suggestion below helped get rid of the error, but it is still unbelievably slow when trying to find the longest path in a graph of more than 150 vertices.","title":"How to speed up Depth First Search method?","body":"<p>I'm trying to do a Depth First Search of my graph, and something is slowing it down quite a lot and I'm not sure what.</p>\n<p>Here is my Bag code:</p>\n<pre><code>import java.util.Iterator;\nimport java.util.NoSuchElementException;\n\npublic class Bag&lt;Item&gt; implements Iterable&lt;Item&gt; {\n    private Node&lt;Item&gt; first;    // beginning of bag\n    private Node&lt;Item&gt; end;\n    private int n;               // number of elements in bag\n    public int label;\n    public int edges;\n\n    public static class Node&lt;Item&gt; {\n        private Item item;                  \n        private Node&lt;Item&gt; next;\n        public int label;\n        public int edges;\n    }\n\n    public Bag() {\n        first = null;                           // empty bag initialized\n        end = null;\n        n = 0;\n    }\n    \n    public void add(Item item) {\n        if (n==0) {\n            Node&lt;Item&gt; head = new Node&lt;Item&gt;();     // if bag is empty\n            first = head;\n            end = head;\n            head.item = item;           // new node both first and end of bag\n            edges++;\n            n++;\n        }\n        else {\n            Node&lt;Item&gt; oldlast = end;           // old last assigned to end of node\n            Node&lt;Item&gt; last = new Node&lt;Item&gt;();\n            last.item = item;\n            oldlast.next = last;                // new node added after old last\n            end = last;\n            n++;                                    // size increased\n            edges++;\n        }\n    }\n\n    public Iterator&lt;Item&gt; iterator()  {\n        return new LinkedIterator(first);           // returns an iterator that iterates over the items in this bag in arbitrary order\n    }\n\n\n    public class LinkedIterator implements Iterator&lt;Item&gt; {\n        private Node&lt;Item&gt; current;\n\n        public LinkedIterator(Node&lt;Item&gt; first) {\n            current = first;                                            // iterator starts at head of bag\n        }\n\n        public boolean hasNext()  { return current != null;                     }\n        public void remove()      { throw new UnsupportedOperationException();  }\n\n        public Item next() {\n            if (!hasNext()) throw new NoSuchElementException();             // if there is next item, current is moved to next\n            Item item = current.item;\n            current = current.next; \n            return item;                                        // item is returned\n        }\n    }\n}\n</code></pre>\n<p>Here is my driver:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\npublic class Driver {\n    \n    public static ArrayList&lt;Integer&gt; randomNum(int howMany) {\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;(howMany);   \n        Random randomGenerator = new Random();\n        while (numbers.size() &lt; howMany) {\n            int rand_int = randomGenerator.nextInt(10000);\n            if (!numbers.contains(rand_int)) {\n                numbers.add(rand_int);\n            }\n        }\n        return numbers;\n    }\n    \n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; num = randomNum(100);\n        Graph G = new Graph(num);\n        System.out.println(&quot;The length of longest path for this sequence with graph is: &quot; +  G.dfsStart(num));\n    }\n}\n</code></pre>\n<p>I send an ArrayList of random integers to my dfsStart method from the driver, which looks at all the different paths for each starting node in my graph. my DepthFirstSearch method calls the getAdjList for each starting node to find its neighbors using my Bag adj, and then works its way down each path before backtracking.</p>\n<p>Here is my Graph code, containing my longest path method:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.NoSuchElementException;\n\npublic class Graph {\n\n    public final int V;                     // initializing variables and data structures\n    public Bag&lt;Integer&gt;[] adj;\n    public int longestPath;\n    \n    public Graph(ArrayList&lt;Integer&gt; numbers) {\n        \n        try {\n            longestPath = 0;\n            this.V = numbers.size();\n            adj = (Bag&lt;Integer&gt;[]) new Bag[V];                      // bag initialized\n            for (int v = 0; v &lt; V; v++) {\n                adj[v] = new Bag&lt;Integer&gt;();                            \n            }\n            for (int i = 0; i &lt; V; i++) {\n                adj[i].label = numbers.get(i);\n                int j = (i + 1);\n                while (j &lt; numbers.size()) {\n                    if (numbers.get(i) &lt; numbers.get(j)) {\n                        addEdge(i, numbers.get(j));\n                    }\n                    j++;\n                }\n            }\n        }\n        catch (NoSuchElementException e) {\n            throw new IllegalArgumentException(&quot;invalid input format in Graph constructor&quot;, e);\n        }\n    }\n\n    \n    public void addEdge(int index, int num) {                                           \n        adj[index].add(num);            \n    }\n\n    public int getIndex(int num) {\n        for (int i = 0; i &lt; adj.length; i++) {\n            if (adj[i].label == num) {\n                return i;\n            }\n        }\n        return -1;\n        \n    }\n    \n    public Bag&lt;Integer&gt; getAdjList(int source) {\n        Bag&lt;Integer&gt; adjList = null;\n        for (Bag&lt;Integer&gt; list : adj) {\n            if (list.label == source) {\n                adjList = list;\n                break;\n            }\n        }\n        return adjList;\n    }\n    \n    public int dfsStart(ArrayList&lt;Integer&gt; numbers) {\n        for (int i=0;i&lt;numbers.size();i++) {\n            // Print all paths from current node\n            depthFirstSearch(numbers.get(i),new ArrayList&lt;&gt;(300));\n        }\n        return longestPath;\n    }\n    \n    public void depthFirstSearch(int src, ArrayList&lt;Integer&gt; current) {\n        current.add(src);\n        Bag&lt;Integer&gt; srcAdj = getAdjList(src);\n        if (srcAdj.size() == 0) {\n            // Leaf node\n            // Print this path\n            longestPath = Math.max(longestPath, current.size());\n        }\n        for (int links : srcAdj) {\n            depthFirstSearch(links, current);\n        }\n        current.remove(current.size()-1);\n    }\n\n}\n\n</code></pre>\n<p>I believe the suggestion below helped get rid of the error, but it is still unbelievably slow when trying to find the longest path in a graph of more than 150 vertices.</p>\n"},{"tags":["java","android","http","websocket","okhttp"],"comments":[{"owner":{"account_id":3817793,"reputation":3642,"user_id":3166697,"display_name":"Dima Kozhevin"},"score":0,"creation_date":1506535717,"post_id":46454222,"comment_id":79864557,"body_markdown":"Possible duplicate of [How to create simple okhttp3 websocket connection?](https://stackoverflow.com/questions/39416209/how-to-create-simple-okhttp3-websocket-connection)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39416209/how-to-create-simple-okhttp3-websocket-connection\">How to create simple okhttp3 websocket connection?</a>"},{"owner":{"account_id":9971919,"reputation":337,"user_id":7377682,"display_name":"Ali Yusuf"},"score":0,"creation_date":1507449889,"post_id":46454222,"comment_id":80207541,"body_markdown":"Alternative way without RxJava https://stackoverflow.com/a/46628736/7377682","body":"Alternative way without RxJava <a href=\"https://stackoverflow.com/a/46628736/7377682\">stackoverflow.com/a/46628736/7377682</a>"}],"answers":[{"tags":[],"owner":{"account_id":7848785,"reputation":475,"user_id":5932895,"display_name":"KongJing"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506657477,"creation_date":1506657477,"answer_id":46481585,"question_id":46454222,"body_markdown":"recommend you this way [RxWebSocket][1]\r\n\r\n\r\n  [1]: https://github.com/dhhAndroid/RxWebSocket","title":"Sending messages from Android Websocket client","body":"<p>recommend you this way <a href=\"https://github.com/dhhAndroid/RxWebSocket\" rel=\"nofollow noreferrer\">RxWebSocket</a></p>\n"}],"owner":{"account_id":11867740,"reputation":11,"user_id":8684808,"display_name":"J.Terry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4945,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638998296,"creation_date":1506534645,"question_id":46454222,"body_markdown":"I want to send a message from Android okhttp3 websocket client, not just echoing the messages coming from the server. here is my websocket class:\r\n\r\n     // Websocket\r\n     public final class EchoWebSocketListener extends WebSocketListener {\r\n         private static final int NORMAL_CLOSURE_STATUS = 1000;\r\n         @Override\r\n         public void onOpen(WebSocket webSocket, Response response) {\r\n             webSocket.send(message);\r\n         }\r\n         @Override\r\n         public void onMessage(WebSocket webSocket, String text) {\r\n             printer(&quot;text&quot;);\r\n         }\r\n         @Override\r\n         public void onClosing(WebSocket webSocket, int code, String reason) {\r\n             webSocket.close(NORMAL_CLOSURE_STATUS, null);\r\n         }\r\n         @Override\r\n         public void onFailure(WebSocket webSocket, Throwable t, Response response) {\r\n\r\n         }\r\n         public void send(WebSocket webSocket) {\r\n           webSocket.send(finalMessage);\r\n         }\r\n     }\r\nAnd here is how I call it from the onCreate method: \r\n\r\n    client= new OkHttpClient();\r\n    Request request = new Request.Builder().url(Url).build();\r\n    EchoWebSocketListener listener = new EchoWebSocketListener();\r\n    webso = myClient.newWebSocket(request, listener);\r\n    client.dispatcher().executorService().shutdown();\r\n\r\nI tried to make an object to the class and call a function I named it &#39;send&#39;:\r\n\r\n    EchoWebSocketListener object = new EchoWebSocketListener ()\r\n    object.send(webso)\r\nBut that&#39;s not working?","title":"Sending messages from Android Websocket client","body":"<p>I want to send a message from Android okhttp3 websocket client, not just echoing the messages coming from the server. here is my websocket class:</p>\n<pre><code> // Websocket\n public final class EchoWebSocketListener extends WebSocketListener {\n     private static final int NORMAL_CLOSURE_STATUS = 1000;\n     @Override\n     public void onOpen(WebSocket webSocket, Response response) {\n         webSocket.send(message);\n     }\n     @Override\n     public void onMessage(WebSocket webSocket, String text) {\n         printer(&quot;text&quot;);\n     }\n     @Override\n     public void onClosing(WebSocket webSocket, int code, String reason) {\n         webSocket.close(NORMAL_CLOSURE_STATUS, null);\n     }\n     @Override\n     public void onFailure(WebSocket webSocket, Throwable t, Response response) {\n\n     }\n     public void send(WebSocket webSocket) {\n       webSocket.send(finalMessage);\n     }\n }\n</code></pre>\n<p>And here is how I call it from the onCreate method:</p>\n<pre><code>client= new OkHttpClient();\nRequest request = new Request.Builder().url(Url).build();\nEchoWebSocketListener listener = new EchoWebSocketListener();\nwebso = myClient.newWebSocket(request, listener);\nclient.dispatcher().executorService().shutdown();\n</code></pre>\n<p>I tried to make an object to the class and call a function I named it 'send':</p>\n<pre><code>EchoWebSocketListener object = new EchoWebSocketListener ()\nobject.send(webso)\n</code></pre>\n<p>But that's not working?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639528918,"post_id":70281076,"comment_id":124370532,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638997292,"creation_date":1638994433,"answer_id":70281176,"question_id":70281076,"body_markdown":"Edit: I noticed your test inherits your class under test `Calculator`. Don&#39;t do that! Instead, create a `private Calculator` field in your Test class and instantiate it in the `setUp()` method of the test.\r\n\r\nAlso, don&#39;t pass a file name to your Calculator. Instead, pass an InputStream, so that you can load it from a file, from the network, from a string or even from the terminal.\r\n\r\nDo not use a constructor in your class, use a `@Before setUp()` method instead.\r\n\r\nFirst, this is how I would load test data from a file (if I have to):\r\n - if possible, paste it directly in a string inside the test.\r\n - if not feasible, create a test resource file under `src/test/resources`, for example name it `src/test.txt`. **But remember, this is slow!**\r\nThen load the resource like this in your test:\r\n```\r\npublic class CalculatorTest {\r\n    private Calculator calculator;\r\n\r\n    @Before\r\n    void setUp() throws IOException {\r\n        try {\r\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\r\n            calculator = new Calculator(in);\r\n            ...\r\n```\r\n\r\nTests should be self contained, you should not be passing parameters from the outside.\r\n\r\nIf you need some kind of configuration, you can use system properties like so:\r\n```java\r\nProperties props = System.getProperties();\r\nprops.setProperty(&quot;my.path&quot;, &quot;/tmp/mytest&quot;);\r\n```\r\nOr you can define them in your pom.xml as explained [here](https://stackoverflow.com/questions/39750348/how-to-add-vm-args-using-pom-xml-plugin):\r\n```xml\r\n&lt;property&gt;\r\n      &lt;jvm.options&gt;-Dmy.path=/tmp/mytest&lt;/jvm.options&gt;\r\n&lt;/property&gt;\r\n\r\n[...]\r\n&lt;build&gt;\r\n  [...]\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n         &lt;compilerArgs&gt;\r\n              &lt;arg&gt;${jvm.options}&lt;/arg&gt;\r\n         &lt;/compilerArgs&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n            &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\r\n       &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n   [...]\r\n&lt;/build&gt;\r\n[...]\r\n```\r\n\r\nAlso, the tests are not run via your main() method, that&#39;s why you cannot pass parameters from there. JUnit has its own main class and method.","title":"Maven Java Test method&#39;s with getters","body":"<p>Edit: I noticed your test inherits your class under test <code>Calculator</code>. Don't do that! Instead, create a <code>private Calculator</code> field in your Test class and instantiate it in the <code>setUp()</code> method of the test.</p>\n<p>Also, don't pass a file name to your Calculator. Instead, pass an InputStream, so that you can load it from a file, from the network, from a string or even from the terminal.</p>\n<p>Do not use a constructor in your class, use a <code>@Before setUp()</code> method instead.</p>\n<p>First, this is how I would load test data from a file (if I have to):</p>\n<ul>\n<li>if possible, paste it directly in a string inside the test.</li>\n<li>if not feasible, create a test resource file under <code>src/test/resources</code>, for example name it <code>src/test.txt</code>. <strong>But remember, this is slow!</strong>\nThen load the resource like this in your test:</li>\n</ul>\n<pre><code>public class CalculatorTest {\n    private Calculator calculator;\n\n    @Before\n    void setUp() throws IOException {\n        try {\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\n            calculator = new Calculator(in);\n            ...\n</code></pre>\n<p>Tests should be self contained, you should not be passing parameters from the outside.</p>\n<p>If you need some kind of configuration, you can use system properties like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties props = System.getProperties();\nprops.setProperty(&quot;my.path&quot;, &quot;/tmp/mytest&quot;);\n</code></pre>\n<p>Or you can define them in your pom.xml as explained <a href=\"https://stackoverflow.com/questions/39750348/how-to-add-vm-args-using-pom-xml-plugin\">here</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property&gt;\n      &lt;jvm.options&gt;-Dmy.path=/tmp/mytest&lt;/jvm.options&gt;\n&lt;/property&gt;\n\n[...]\n&lt;build&gt;\n  [...]\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n         &lt;compilerArgs&gt;\n              &lt;arg&gt;${jvm.options}&lt;/arg&gt;\n         &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n            &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\n       &lt;/configuration&gt;\n     &lt;/plugin&gt;\n   &lt;/plugins&gt;\n   [...]\n&lt;/build&gt;\n[...]\n</code></pre>\n<p>Also, the tests are not run via your main() method, that's why you cannot pass parameters from there. JUnit has its own main class and method.</p>\n"}],"owner":{"display_name":"user15661417"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638997292,"creation_date":1638993888,"question_id":70281076,"body_markdown":" - Its my first projet in Maven, i have code like in below and, How can\r\n   i edit my code to run tests, with parameters that I sorted in main. I\r\n   wonna to write test with parameters **a** and **b**, I tried getters\r\n   but didnt work. How can I extract this varaibles ?\r\n\r\n**MAIN**\r\n```\r\nimport org.junit.Before;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.ToIntBiFunction;\r\n\r\nimport static jdk.xml.internal.SecuritySupport.getContextClassLoader;\r\n\r\npublic class Calculator {\r\n    private Calculator calculator;\r\n\r\n    @Before\r\n    void setUp() throws IOException{\r\n        try {\r\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\r\n            calculator = new Calculator(in);\r\n            List&lt;String&gt; list = Files.readAllLines(Paths.get(&quot;src/file.txt&quot;));\r\n            int apply = Integer.valueOf(list.get(list.size() - 1).split(&quot; &quot;)[1]);\r\n            Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = prepMap();\r\n            for (int i = 0; i &lt; list.size() - 1; i++) {\r\n                apply = map.get(list.get(i).split(&quot; &quot;)[0]).applyAsInt(apply, Integer.valueOf(list.get(i).split(&quot; &quot;)[1]));\r\n            }\r\n            System.out.println(apply);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public int add(int a, int b) {\r\n        return a+b; }\r\n\r\n    public int subtract(int a, int b) {\r\n        return a-b;\r\n    }\r\n\r\n    public int multiply(int a, int b) {\r\n        return a*b;\r\n    }\r\n\r\n    public int divide(int a, int b) {\r\n        return a/b;\r\n    }\r\n\r\n    public Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; prepMap() {\r\n        Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;multiply&quot;, (a, b) -&gt; a * b);\r\n        map.put(&quot;add&quot;, (a, b) -&gt; a + b);\r\n        map.put(&quot;devide&quot;, (a, b) -&gt; {\r\n            if (b == 0) {\r\n                System.out.println(&quot;deviding by 0\\nskiping this opperation&quot;);\r\n                return a;\r\n            }\r\n            return a / b;\r\n        });\r\n        map.put(&quot;subtract&quot;, (a, b) -&gt; a - b);\r\n        return map;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n**Example for testing file**\r\nadd 2\r\nmultiply 3\r\napply 10\r\n\r\n**My Tests**\r\n```\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.function.ToIntBiFunction;\r\nimport java.util.logging.Logger;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class CalculatorTests extends Calculator{\r\n    private static Logger LOGGER = Logger.getLogger(&quot;InfoLogging&quot;);\r\n    private String path= &quot;src/file.txt&quot;;\r\n\r\n    public CalculatorTests(String path) {\r\n        super(path);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testAdd() {\r\n        LOGGER.info(&quot;Running When Case1: testAdd&quot;);\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n        //when\r\n        Scanner sc1 = new Scanner(path);\r\n        Scanner sc2 = new Scanner(path);\r\n        int result = calculator.add(10, 2);\r\n        //then\r\n        assertThat(result).isEqualTo(12);\r\n    }\r\n    @Test\r\n    public void testSubtract() {\r\n        LOGGER.info(&quot;Running When Case2: testSubtract&quot;);\r\n\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n\r\n        //when\r\n        int result = calculator.subtract(3, 1);\r\n\r\n        //then\r\n        assertThat(result).isEqualTo(2);\r\n    }\r\n    @Test\r\n    public void testMultiply() {\r\n        LOGGER.info(&quot;Running When Case3: testMultiply&quot;);\r\n\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n\r\n        //when\r\n        int result = calculator.multiply(12, 3);\r\n\r\n        //then\r\n        assertThat(result).isEqualTo(36);\r\n    }\r\n    @Test\r\n    public void testDivide() {\r\n        LOGGER.info(&quot;Running When Case4: testDivide&quot;);\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n\r\n        //when\r\n        int result = calculator.divide(4,2);\r\n\r\n        //then\r\n        assertThat(result).isEqualTo(2);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI was trying with scanners too but didnt worked, and now I have no idea what to change in code to make it work. I search for ansers but couldnt find any, thats why im writing here, dont hate me pls :(","title":"Maven Java Test method&#39;s with getters","body":"<ul>\n<li>Its my first projet in Maven, i have code like in below and, How can\ni edit my code to run tests, with parameters that I sorted in main. I\nwonna to write test with parameters <strong>a</strong> and <strong>b</strong>, I tried getters\nbut didnt work. How can I extract this varaibles ?</li>\n</ul>\n<p><strong>MAIN</strong></p>\n<pre><code>import org.junit.Before;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.ToIntBiFunction;\n\nimport static jdk.xml.internal.SecuritySupport.getContextClassLoader;\n\npublic class Calculator {\n    private Calculator calculator;\n\n    @Before\n    void setUp() throws IOException{\n        try {\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\n            calculator = new Calculator(in);\n            List&lt;String&gt; list = Files.readAllLines(Paths.get(&quot;src/file.txt&quot;));\n            int apply = Integer.valueOf(list.get(list.size() - 1).split(&quot; &quot;)[1]);\n            Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = prepMap();\n            for (int i = 0; i &lt; list.size() - 1; i++) {\n                apply = map.get(list.get(i).split(&quot; &quot;)[0]).applyAsInt(apply, Integer.valueOf(list.get(i).split(&quot; &quot;)[1]));\n            }\n            System.out.println(apply);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public int add(int a, int b) {\n        return a+b; }\n\n    public int subtract(int a, int b) {\n        return a-b;\n    }\n\n    public int multiply(int a, int b) {\n        return a*b;\n    }\n\n    public int divide(int a, int b) {\n        return a/b;\n    }\n\n    public Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; prepMap() {\n        Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;multiply&quot;, (a, b) -&gt; a * b);\n        map.put(&quot;add&quot;, (a, b) -&gt; a + b);\n        map.put(&quot;devide&quot;, (a, b) -&gt; {\n            if (b == 0) {\n                System.out.println(&quot;deviding by 0\\nskiping this opperation&quot;);\n                return a;\n            }\n            return a / b;\n        });\n        map.put(&quot;subtract&quot;, (a, b) -&gt; a - b);\n        return map;\n    }\n\n}\n\n\n\n</code></pre>\n<p><strong>Example for testing file</strong>\nadd 2\nmultiply 3\napply 10</p>\n<p><strong>My Tests</strong></p>\n<pre><code>\nimport org.junit.Assert;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.function.ToIntBiFunction;\nimport java.util.logging.Logger;\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class CalculatorTests extends Calculator{\n    private static Logger LOGGER = Logger.getLogger(&quot;InfoLogging&quot;);\n    private String path= &quot;src/file.txt&quot;;\n\n    public CalculatorTests(String path) {\n        super(path);\n    }\n\n\n    @Test\n    public void testAdd() {\n        LOGGER.info(&quot;Running When Case1: testAdd&quot;);\n        //given\n        Calculator calculator = new Calculator(path);\n        //when\n        Scanner sc1 = new Scanner(path);\n        Scanner sc2 = new Scanner(path);\n        int result = calculator.add(10, 2);\n        //then\n        assertThat(result).isEqualTo(12);\n    }\n    @Test\n    public void testSubtract() {\n        LOGGER.info(&quot;Running When Case2: testSubtract&quot;);\n\n        //given\n        Calculator calculator = new Calculator(path);\n\n        //when\n        int result = calculator.subtract(3, 1);\n\n        //then\n        assertThat(result).isEqualTo(2);\n    }\n    @Test\n    public void testMultiply() {\n        LOGGER.info(&quot;Running When Case3: testMultiply&quot;);\n\n        //given\n        Calculator calculator = new Calculator(path);\n\n        //when\n        int result = calculator.multiply(12, 3);\n\n        //then\n        assertThat(result).isEqualTo(36);\n    }\n    @Test\n    public void testDivide() {\n        LOGGER.info(&quot;Running When Case4: testDivide&quot;);\n        //given\n        Calculator calculator = new Calculator(path);\n\n        //when\n        int result = calculator.divide(4,2);\n\n        //then\n        assertThat(result).isEqualTo(2);\n    }\n}\n\n</code></pre>\n<p>I was trying with scanners too but didnt worked, and now I have no idea what to change in code to make it work. I search for ansers but couldnt find any, thats why im writing here, dont hate me pls :(</p>\n"},{"tags":["java","spring","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638997272,"creation_date":1638997272,"answer_id":70281666,"question_id":70270815,"body_markdown":"You can do it by using ContextConfiguration and injecting ApplicationContext or injecting directly your beans @Autowired AWSCredentialsProvider awsCredentials as properties.\r\nExample below uses ApplicationContext directly.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = { ABCConfig.class })\r\n    class ABCConfigUnitTest {\r\n    \r\n        @Autowired\r\n        ApplicationContext context;\r\n    \r\n        @Test\r\n        void givenImportedBeans_whenGettingEach_shallFindIt() {\r\n            assertThatBeanExists(&quot;aWSCredentials&quot;, AWSCredentialsProvider.class);\r\n        }\r\n    \r\n        private void assertThatBeanExists(String beanName, Class&lt;?&gt; beanClass) {\r\n            Assertions.assertTrue(context.containsBean(beanName));\r\n            Assertions.assertNotNull(context.getBean(beanClass));\r\n        }\r\n    }","title":"How to test @Configuration and @Bean in a Spring Boot Application?","body":"<p>You can do it by using ContextConfiguration and injecting ApplicationContext or injecting directly your beans @Autowired AWSCredentialsProvider awsCredentials as properties.\nExample below uses ApplicationContext directly.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = { ABCConfig.class })\nclass ABCConfigUnitTest {\n\n    @Autowired\n    ApplicationContext context;\n\n    @Test\n    void givenImportedBeans_whenGettingEach_shallFindIt() {\n        assertThatBeanExists(&quot;aWSCredentials&quot;, AWSCredentialsProvider.class);\n    }\n\n    private void assertThatBeanExists(String beanName, Class&lt;?&gt; beanClass) {\n        Assertions.assertTrue(context.containsBean(beanName));\n        Assertions.assertNotNull(context.getBean(beanClass));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638997272,"creation_date":1638944821,"question_id":70270815,"body_markdown":"I&#39;m new to Spring Boot. I need to write JUnit test cases for the below class.\r\nWhat is the efficient way to write a unit test case for @Configuration and @Bean annotation?\r\n\r\n```\r\n@Configuration\r\npublic class ABCConfig {\r\n\t\r\n\t@Autowired\r\n\tprivate AwsApplicationProperties AwsApplicationProperties;\r\n\tList&lt;AmazonSNS&gt; amazonSNSClientArray = new ArrayList&lt;&gt;();\r\n\t\r\n\t@Bean\r\n\tpublic List&lt;AmazonSNS&gt; amazonSnsClient() {\r\n\t  //some code here\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AWSCredentialsProvider aWSCredentials(String awsAccessKeyId, String awsSecretKeyId) {\t\t\r\n\t\treturn new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKeyId, awsSecretKeyId));\r\n\t}\r\n}\r\n```\r\n\r\nCan some one help? Thank you for your time.","title":"How to test @Configuration and @Bean in a Spring Boot Application?","body":"<p>I'm new to Spring Boot. I need to write JUnit test cases for the below class.\nWhat is the efficient way to write a unit test case for @Configuration and @Bean annotation?</p>\n<pre><code>@Configuration\npublic class ABCConfig {\n    \n    @Autowired\n    private AwsApplicationProperties AwsApplicationProperties;\n    List&lt;AmazonSNS&gt; amazonSNSClientArray = new ArrayList&lt;&gt;();\n    \n    @Bean\n    public List&lt;AmazonSNS&gt; amazonSnsClient() {\n      //some code here\n    }\n    \n    @Bean\n    public AWSCredentialsProvider aWSCredentials(String awsAccessKeyId, String awsSecretKeyId) {        \n        return new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKeyId, awsSecretKeyId));\n    }\n}\n</code></pre>\n<p>Can some one help? Thank you for your time.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8212,"page":1780,"page_size":100}
